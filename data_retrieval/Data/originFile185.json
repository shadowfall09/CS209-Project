{"items":[{"tags":["java","spring-boot","spring-cloud-config"],"comments":[{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1694717039,"post_id":77106773,"comment_id":135931668,"body_markdown":"can you provide the configuration files please.","body":"can you provide the configuration files please."}],"owner":{"account_id":7751532,"reputation":41,"user_id":5867303,"display_name":"Harshal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694712375,"creation_date":1694708470,"question_id":77106773,"body_markdown":"I have application name with profile name property file, same is there on cloud config, my application is able to fetch property from cloud but somehow local property values are getting used in application i.e. local property file is over riding cloud config. \r\n\r\nIs this correct? \r\n\r\nI want to have my application to use cloud config property values than local one","title":"Spring cloud config along with local property file, which will be preferred by an application","body":"<p>I have application name with profile name property file, same is there on cloud config, my application is able to fetch property from cloud but somehow local property values are getting used in application i.e. local property file is over riding cloud config.</p>\n<p>Is this correct?</p>\n<p>I want to have my application to use cloud config property values than local one</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694707594,"creation_date":1694707594,"answer_id":77106675,"question_id":77105660,"body_markdown":"**The AWS SDK for Java v1/v2 *itself* doesn&#39;t support setting the S3 endpoint via system properties.**\r\n\r\nIf you only want to use `application.properties` for reading &amp; setting the LocalStack S3 endpoint, you would typically already need to be using a library like [Spring Cloud AWS][1] that supports setting it via [`cloud.aws.s3.endpoint`][2].\r\n\r\nWithout such a library, there’s no out-of-the-box way to do this.\r\n\r\nYou would need to set it programmatically using `.withEndpointConfiguration()`.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-aws/\r\n  [2]: https://docs.awspring.io/spring-cloud-aws/docs/current/reference/html/appendix.html","title":"Can I use application.properties to define the S3 endpoint for the AWS SDK for Java?","body":"<p><strong>The AWS SDK for Java v1/v2 <em>itself</em> doesn't support setting the S3 endpoint via system properties.</strong></p>\n<p>If you only want to use <code>application.properties</code> for reading &amp; setting the LocalStack S3 endpoint, you would typically already need to be using a library like <a href=\"https://spring.io/projects/spring-cloud-aws/\" rel=\"nofollow noreferrer\">Spring Cloud AWS</a> that supports setting it via <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/current/reference/html/appendix.html\" rel=\"nofollow noreferrer\"><code>cloud.aws.s3.endpoint</code></a>.</p>\n<p>Without such a library, there’s no out-of-the-box way to do this.</p>\n<p>You would need to set it programmatically using <code>.withEndpointConfiguration()</code>.</p>\n"},{"tags":[],"owner":{"account_id":28993030,"reputation":184,"user_id":22208318,"display_name":"Anca G"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694711404,"creation_date":1694711404,"answer_id":77107103,"question_id":77105660,"body_markdown":"Here&#39;s an alternative and example that might help you: https://github.com/localstack-samples/sample-shipment-list-demo-lambda-dynamodb-s3. The whole point of it is to let you configure your beans based on Spring profiles, and runs on both AWS and LocalStack. The extended description is in the README.md file.\r\n\r\nThe short version: You can use different profiles to configure your beans based on their environments (dev, test, prod, etc). So with `.withEndpointConfiguration()` you can use the `@Value` annotation when you declare your variable, in association with `@Configuration` on the class level (see `AmazonS3Config` class) and an `application-&lt;profile&gt;.yml` file. You then run your app using `mvn spring-boot:run -Dspring-boot.run.profiles=&lt;profile&gt;`.\r\n\r\nIt looks like you&#39;re using the Java AWS SDK v1 and the sample is using v2, but no worries, this is only a matter of library syntax when you configure your beans. ","title":"Can I use application.properties to define the S3 endpoint for the AWS SDK for Java?","body":"<p>Here's an alternative and example that might help you: <a href=\"https://github.com/localstack-samples/sample-shipment-list-demo-lambda-dynamodb-s3\" rel=\"nofollow noreferrer\">https://github.com/localstack-samples/sample-shipment-list-demo-lambda-dynamodb-s3</a>. The whole point of it is to let you configure your beans based on Spring profiles, and runs on both AWS and LocalStack. The extended description is in the README.md file.</p>\n<p>The short version: You can use different profiles to configure your beans based on their environments (dev, test, prod, etc). So with <code>.withEndpointConfiguration()</code> you can use the <code>@Value</code> annotation when you declare your variable, in association with <code>@Configuration</code> on the class level (see <code>AmazonS3Config</code> class) and an <code>application-&lt;profile&gt;.yml</code> file. You then run your app using <code>mvn spring-boot:run -Dspring-boot.run.profiles=&lt;profile&gt;</code>.</p>\n<p>It looks like you're using the Java AWS SDK v1 and the sample is using v2, but no worries, this is only a matter of library syntax when you configure your beans.</p>\n"}],"owner":{"account_id":1817194,"reputation":53,"user_id":1652055,"accept_rate":23,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694711404,"creation_date":1694700057,"question_id":77105660,"body_markdown":"I&#39;m working on a Spring Boot application that interfaces with AWS S3, and I need to use LocalStack.\r\n\r\nI want to configure the endpoint in `application.properties` rather than in the Java code with `.withEndpointConfiguration()`. This is because I can&#39;t modify my Java code.\r\n\r\nHere&#39;s my Java code:\r\n\r\n```java\r\nAmazonS3 client = AmazonS3ClientBuilder.standard()\r\n                    .withPathStyleAccessEnabled(true)\r\n                    .withRegion(&quot;us-east-1&quot;)\r\n                    .withCredentials(awsCredentialsProvider())\r\n                    .build();\r\n```\r\n\r\nIn `application.properties`, I&#39;ve got:\r\n\r\n```\r\naws.endpoint=http://localhost:4566\r\n```\r\n\r\nIn my `pom.xml`, I have included the following dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.68&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n    &lt;version&gt;1.12.151&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever, I&#39;m encountering an error that seems to indicate it&#39;s connecting to AWS instead of LocalStack. \r\n\r\nThe error message is:\r\n\r\n&gt; com.amazonaws.services.s3.model.AmazonS3Exception: The AWS Access Key Id you provided does not exist in our records. (Service: Amazon S3; Status Code: 403; Error Code: InvalidAccessKeyId; Request ID: xxx; S3 Extended Request ID: xxx; Proxy: null)\r\n\r\nCan I use `application.properties` to define the S3 endpoint for the AWS SDK for Java?","title":"Can I use application.properties to define the S3 endpoint for the AWS SDK for Java?","body":"<p>I'm working on a Spring Boot application that interfaces with AWS S3, and I need to use LocalStack.</p>\n<p>I want to configure the endpoint in <code>application.properties</code> rather than in the Java code with <code>.withEndpointConfiguration()</code>. This is because I can't modify my Java code.</p>\n<p>Here's my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AmazonS3 client = AmazonS3ClientBuilder.standard()\n                    .withPathStyleAccessEnabled(true)\n                    .withRegion(&quot;us-east-1&quot;)\n                    .withCredentials(awsCredentialsProvider())\n                    .build();\n</code></pre>\n<p>In <code>application.properties</code>, I've got:</p>\n<pre><code>aws.endpoint=http://localhost:4566\n</code></pre>\n<p>In my <code>pom.xml</code>, I have included the following dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n    &lt;version&gt;1.12.68&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n    &lt;version&gt;1.12.151&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, I'm encountering an error that seems to indicate it's connecting to AWS instead of LocalStack.</p>\n<p>The error message is:</p>\n<blockquote>\n<p>com.amazonaws.services.s3.model.AmazonS3Exception: The AWS Access Key Id you provided does not exist in our records. (Service: Amazon S3; Status Code: 403; Error Code: InvalidAccessKeyId; Request ID: xxx; S3 Extended Request ID: xxx; Proxy: null)</p>\n</blockquote>\n<p>Can I use <code>application.properties</code> to define the S3 endpoint for the AWS SDK for Java?</p>\n"},{"tags":["java","collections","set","linkedhashset"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":1,"creation_date":1403937535,"post_id":24464279,"comment_id":37861299,"body_markdown":"Why did you use a `Set` in the first place if insertion order is important? And what is the meaning of &quot;last element inserted&quot; if the element was already present in the set?","body":"Why did you use a <code>Set</code> in the first place if insertion order is important? And what is the meaning of &quot;last element inserted&quot; if the element was already present in the set?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403937643,"post_id":24464279,"comment_id":37861321,"body_markdown":"Obviously using a `Set` to ensure no duplicates. If I insert 3 elements into a `Set`, all unique, then the 3rd element is the &quot;last element inserted&quot;. Think of it as the &quot;freshest&quot; `Set` member: I want to use the &quot;freshest&quot; value.","body":"Obviously using a <code>Set</code> to ensure no duplicates. If I insert 3 elements into a <code>Set</code>, all unique, then the 3rd element is the &quot;last element inserted&quot;. Think of it as the &quot;freshest&quot; <code>Set</code> member: I want to use the &quot;freshest&quot; value."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1403937745,"post_id":24464279,"comment_id":37861338,"body_markdown":"@markvgti there is no such thing as the &quot;freshest&quot; set... A set has no order!","body":"@markvgti there is no such thing as the &quot;freshest&quot; set... A set has no order!"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403937931,"post_id":24464279,"comment_id":37861371,"body_markdown":"@alfasin It doesn&#39;t matter what Math says, what matters is which element I want to access. LinkedHasSet (API docs linked to in the question) preserves insertion order -- I want to access the last-inserted element. The why doesn&#39;t matter.","body":"@alfasin It doesn&#39;t matter what Math says, what matters is which element I want to access. LinkedHasSet (API docs linked to in the question) preserves insertion order -- I want to access the last-inserted element. The why doesn&#39;t matter."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403938213,"post_id":24464279,"comment_id":37861424,"body_markdown":"@alfasin This particular implementation of `Set` does in fact guarantee iteration order. From the javadoc: &quot;Hash table and linked list implementation of the Set interface, with predictable iteration order. This implementation differs from HashSet in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order).&quot;","body":"@alfasin This particular implementation of <code>Set</code> does in fact guarantee iteration order. From the javadoc: &quot;Hash table and linked list implementation of the Set interface, with predictable iteration order. This implementation differs from HashSet in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order).&quot;"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403938409,"post_id":24464279,"comment_id":37861457,"body_markdown":"@alfasin So I guess you&#39;re saying the implementers of LinkedHashSet who wrote the Javadoc are wrong?","body":"@alfasin So I guess you&#39;re saying the implementers of LinkedHashSet who wrote the Javadoc are wrong?"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403938695,"post_id":24464279,"comment_id":37861518,"body_markdown":"@user3580294 like you wrote: it guarantees *iteration* order, not *INSERTION* order. See HelpVampire666&#39;s answer why it&#39;s not the same thing.","body":"@user3580294 like you wrote: it guarantees <i>iteration</i> order, not <i>INSERTION</i> order. See HelpVampire666&#39;s answer why it&#39;s not the same thing."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403938720,"post_id":24464279,"comment_id":37861524,"body_markdown":"@alfasin &quot;This linked list defines the iteration ordering, **which is the order in which elements were inserted into the set (insertion-order).**&quot; The iteration order **is** insertion order.","body":"@alfasin &quot;This linked list defines the iteration ordering, <b>which is the order in which elements were inserted into the set (insertion-order).</b>&quot; The iteration order <b>is</b> insertion order."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403938845,"post_id":24464279,"comment_id":37861553,"body_markdown":"@alfasin It&#39;s a *Set*. You *can&#39;t* &quot;re-insert&quot; an element into it because it doesn&#39;t contain duplicates. Once an element is there, it&#39;s there. &quot;Re-inserting&quot; an element wouldn&#39;t make sense, and because it wouldn&#39;t change a `Set`, shouldn&#39;t change anything else either. The side effects would be too difficult to deal with.","body":"@alfasin It&#39;s a <i>Set</i>. You <i>can&#39;t</i> &quot;re-insert&quot; an element into it because it doesn&#39;t contain duplicates. Once an element is there, it&#39;s there. &quot;Re-inserting&quot; an element wouldn&#39;t make sense, and because it wouldn&#39;t change a <code>Set</code>, shouldn&#39;t change anything else either. The side effects would be too difficult to deal with."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403938916,"post_id":24464279,"comment_id":37861567,"body_markdown":"@user3580294 now why is that ? because: SET has no order!","body":"@user3580294 now why is that ? because: SET has no order!"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":3,"creation_date":1403938957,"post_id":24464279,"comment_id":37861575,"body_markdown":"@alfasin And yet there&#39;s a set implementation *with* an order -- and that implementation is `LinkedHashSet`. `Set` makes no guarantees to order, and *doesn&#39;t prohibit order either*. So it&#39;s perfectly OK for an implementation of a `Set` to have an order.","body":"@alfasin And yet there&#39;s a set implementation <i>with</i> an order -- and that implementation is <code>LinkedHashSet</code>. <code>Set</code> makes no guarantees to order, and <i>doesn&#39;t prohibit order either</i>. So it&#39;s perfectly OK for an implementation of a <code>Set</code> to have an order."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403939293,"post_id":24464279,"comment_id":37861635,"body_markdown":"@alfasin So there&#39;s no way we can resolve this if we see differently. I chose the first approach because I see the insertions as a sequence of insertions *to a set*, and if the insertion to the set failed there&#39;s no reason you should track it. To me, keeping track of the insertions separately from the set itself is illogical because by definition you&#39;re tracking insertions to the set. Can&#39;t say that the equivalent behavior for `LinkedHashMap` makes sense, but it is logical to me for `LinkedHashSet`.","body":"@alfasin So there&#39;s no way we can resolve this if we see differently. I chose the first approach because I see the insertions as a sequence of insertions <i>to a set</i>, and if the insertion to the set failed there&#39;s no reason you should track it. To me, keeping track of the insertions separately from the set itself is illogical because by definition you&#39;re tracking insertions to the set. Can&#39;t say that the equivalent behavior for <code>LinkedHashMap</code> makes sense, but it is logical to me for <code>LinkedHashSet</code>."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403939522,"post_id":24464279,"comment_id":37861679,"body_markdown":"@user3580294 when you try to insert the same element to a set, you don&#39;t get any exception thrown at you, guess why ? (hint: it&#39;s a valid action and there is no &quot;failure&quot; here).","body":"@user3580294 when you try to insert the same element to a set, you don&#39;t get any exception thrown at you, guess why ? (hint: it&#39;s a valid action and there is no &quot;failure&quot; here)."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403939635,"post_id":24464279,"comment_id":37861706,"body_markdown":"@alfasin No, you don&#39;t get an exception -- although if the implementers had decided to do so you certainly could get one (that would be a horrible misuse of exceptions, though). But you get a return value of `false` -- as in the addition failed. Yes, it&#39;s a valid action. No, it shouldn&#39;t change anything about the collection if the action wouldn&#39;t change anything for any other `Set` implementation.","body":"@alfasin No, you don&#39;t get an exception -- although if the implementers had decided to do so you certainly could get one (that would be a horrible misuse of exceptions, though). But you get a return value of <code>false</code> -- as in the addition failed. Yes, it&#39;s a valid action. No, it shouldn&#39;t change anything about the collection if the action wouldn&#39;t change anything for any other <code>Set</code> implementation."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403939946,"post_id":24464279,"comment_id":37861786,"body_markdown":"@user3580294 the return value is a fair claim! (Not that I agree with you because of it :) I guess it&#39;s open to interpretation if the &quot;insert-sequence&quot; should include repeating elements.","body":"@user3580294 the return value is a fair claim! (Not that I agree with you because of it :) I guess it&#39;s open to interpretation if the &quot;insert-sequence&quot; should include repeating elements."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403940084,"post_id":24464279,"comment_id":37861808,"body_markdown":"@alfasin Yeah, don&#39;t think we can really get further unless we can get Josh Bloch here to describe the design decisions. I guess we can at least be happy that `LinkedHashSet` and `LinkedHashMap` are consistent in their behavior.","body":"@alfasin Yeah, don&#39;t think we can really get further unless we can get Josh Bloch here to describe the design decisions. I guess we can at least be happy that <code>LinkedHashSet</code> and <code>LinkedHashMap</code> are consistent in their behavior."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1403940168,"post_id":24464279,"comment_id":37861823,"body_markdown":"@user3580294 it was an interesting discussion though :)","body":"@user3580294 it was an interesting discussion though :)"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403940193,"post_id":24464279,"comment_id":37861827,"body_markdown":"@alfasin Your argumentation is pointless as the example test I have posted clearly shows that a) LinkedHashSet&#39;s idea of insertion ordering matches with my own and b) it does what I want it to do. Your idea of insertion order may be different (which doesn&#39;t make it any less valid) but it&#39;s pointless to argue what *should be* vs. *what is*.","body":"@alfasin Your argumentation is pointless as the example test I have posted clearly shows that a) LinkedHashSet&#39;s idea of insertion ordering matches with my own and b) it does what I want it to do. Your idea of insertion order may be different (which doesn&#39;t make it any less valid) but it&#39;s pointless to argue what <i>should be</i> vs. <i>what is</i>."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403940316,"post_id":24464279,"comment_id":37861846,"body_markdown":"@alfasin Agreed. I&#39;d be nice to ask a question clarifying this, although I&#39;m not sure it&#39;d be closed due to no one being able to provide an authoritative answer outside of the Collections authors. But I&#39;m pretty sure I&#39;ve seen some Java language architects around, maybe Bloch is among them... Or maybe someone is enlightened enough to answer. Who knows...","body":"@alfasin Agreed. I&#39;d be nice to ask a question clarifying this, although I&#39;m not sure it&#39;d be closed due to no one being able to provide an authoritative answer outside of the Collections authors. But I&#39;m pretty sure I&#39;ve seen some Java language architects around, maybe Bloch is among them... Or maybe someone is enlightened enough to answer. Who knows..."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403940400,"post_id":24464279,"comment_id":37861867,"body_markdown":"@markvgti you obviously didn&#39;t follow the conversation here. The example you provided doesn&#39;t handle cases of multiple insertion of the same item. From the link that you posted to LinkedHashSet docs: &quot;Note that insertion order is not affected if an element is re-inserted into the set.&quot; That said, if you&#39;re happy with it (and aware of the limitation) - go for it.","body":"@markvgti you obviously didn&#39;t follow the conversation here. The example you provided doesn&#39;t handle cases of multiple insertion of the same item. From the link that you posted to LinkedHashSet docs: &quot;Note that insertion order is not affected if an element is re-inserted into the set.&quot; That said, if you&#39;re happy with it (and aware of the limitation) - go for it."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403940629,"post_id":24464279,"comment_id":37861929,"body_markdown":"@alfasin Are you in the habit of writing before reading fully? http://pastebin.com/KZJ3ETx9 clearly inserts the number 3 multiple times!!! Yet the ordering of elements is utterly predictable.","body":"@alfasin Are you in the habit of writing before reading fully? <a href=\"http://pastebin.com/KZJ3ETx9\" rel=\"nofollow noreferrer\">pastebin.com/KZJ3ETx9</a> clearly inserts the number 3 multiple times!!! Yet the ordering of elements is utterly predictable."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403941009,"post_id":24464279,"comment_id":37862010,"body_markdown":"@markvgti add `System.out.println(list.get(2).intValue());` it&#39;ll print `3` when it&#39;s obviously the LAST item to be inserted (your example doesn&#39;t test *that*).","body":"@markvgti add <code>System.out.println(list.get(2).intValue());</code> it&#39;ll print <code>3</code> when it&#39;s obviously the LAST item to be inserted (your example doesn&#39;t test <i>that</i>)."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403941541,"post_id":24464279,"comment_id":37862123,"body_markdown":"@alfasin It isn&#39;t the last item to be inserted, it&#39;s the 3rd (remember, duplicate insertions don&#39;t count --- that&#39;s the whole point of a Set). 8 is the last item to actually be inserted into the Set. So `list.get(2).intValue()` **should return** 3, which is what it does. I understand we have a difference of opinion as to what constitutes an &quot;insertion&quot; (luckily for me, my understanding is the same as that of the writers of `LinkedHashSet`), but this discussion (and down-voting of the question) is fruitless (and counter-productive) as it doesn&#39;t get us any closer to an answer to my question.","body":"@alfasin It isn&#39;t the last item to be inserted, it&#39;s the 3rd (remember, duplicate insertions don&#39;t count --- that&#39;s the whole point of a Set). 8 is the last item to actually be inserted into the Set. So <code>list.get(2).intValue()</code> <b>should return</b> 3, which is what it does. I understand we have a difference of opinion as to what constitutes an &quot;insertion&quot; (luckily for me, my understanding is the same as that of the writers of <code>LinkedHashSet</code>), but this discussion (and down-voting of the question) is fruitless (and counter-productive) as it doesn&#39;t get us any closer to an answer to my question."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403941937,"post_id":24464279,"comment_id":37862200,"body_markdown":"@user3580294 had to write one more thing... the [*docs*](http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#add(E)) state that the return value only shows &quot;if this set did not already contain the specified element&quot; - it doesn&#39;t mean that the insertion failed. Just sayin :)","body":"@user3580294 had to write one more thing... the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#add(E)\" rel=\"nofollow noreferrer\"><i>docs</i></a> state that the return value only shows &quot;if this set did not already contain the specified element&quot; - it doesn&#39;t mean that the insertion failed. Just sayin :)"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403942419,"post_id":24464279,"comment_id":37862299,"body_markdown":"@alfasin And it also says &quot;If this set already contains the element, the call leaves the set unchanged and returns false&quot;. So I suppose it depends on what you mean by &quot;failed&quot;... On a side note, it also says &quot;sets may refuse to add any particular element, including null, and throw an exception&quot;. So it seems exceptions are actually allowed...","body":"@alfasin And it also says &quot;If this set already contains the element, the call leaves the set unchanged and returns false&quot;. So I suppose it depends on what you mean by &quot;failed&quot;... On a side note, it also says &quot;sets may refuse to add any particular element, including null, and throw an exception&quot;. So it seems exceptions are actually allowed..."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403942572,"post_id":24464279,"comment_id":37862325,"body_markdown":"@user3580294 yeps, 4 types of exceptions are thrown, none of which for duplicates, which just stresses the point that order is meaningless :D","body":"@user3580294 yeps, 4 types of exceptions are thrown, none of which for duplicates, which just stresses the point that order is meaningless :D"},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1403948795,"post_id":24464279,"comment_id":37863612,"body_markdown":"Am I the only one who is confused by the mixed use of &quot;nth element&quot; (which, for me at least, suggests an *indexed access* with index `n`), and the use of &quot;last element&quot; (which is trivial to accomplish using the approach of HelpVampire666 or omu_negru)? So if you need indexed access, Set is the wrong data structure, and you should consider a different approach (maybe storing the data in a Set **and** in a list, cleverly connected to avoid duplicates). If you need the last element, use one of the answers of the aforementioned users.","body":"Am I the only one who is confused by the mixed use of &quot;nth element&quot; (which, for me at least, suggests an <i>indexed access</i> with index <code>n</code>), and the use of &quot;last element&quot; (which is trivial to accomplish using the approach of HelpVampire666 or omu_negru)? So if you need indexed access, Set is the wrong data structure, and you should consider a different approach (maybe storing the data in a Set <b>and</b> in a list, cleverly connected to avoid duplicates). If you need the last element, use one of the answers of the aforementioned users."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403956041,"post_id":24464279,"comment_id":37865286,"body_markdown":"@Marco13 That&#39;s why I have modified the question to remove all mention of &quot;last element&quot;. nth element is the general case and that&#39;s what I am more interested in. Obviously the `Set` is an easy way to ensure there are no duplicates. I want to avoid the overhead of ensuring that a `Set` and a `List` stay in sync.","body":"@Marco13 That&#39;s why I have modified the question to remove all mention of &quot;last element&quot;. nth element is the general case and that&#39;s what I am more interested in. Obviously the <code>Set</code> is an easy way to ensure there are no duplicates. I want to avoid the overhead of ensuring that a <code>Set</code> and a <code>List</code> stay in sync."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1403963434,"post_id":24464279,"comment_id":37867263,"body_markdown":"For the general case, there is a tradeoff. You can have O(1), O(logn) or O(n) for the most common operations (insert, access, ...). Depending on *which* operations you have to perform (and which are time-critical), you should use the appropriate data structure. Another tradeoff is the one between memory consumption and certain operations. You could easily accomplish O(1) insertion *and* indexed access when you use a Set+List, storing the data twice. In any case, in order to give an appropriate answer, the requirements must be clearly defined on this technical level.","body":"For the general case, there is a tradeoff. You can have O(1), O(logn) or O(n) for the most common operations (insert, access, ...). Depending on <i>which</i> operations you have to perform (and which are time-critical), you should use the appropriate data structure. Another tradeoff is the one between memory consumption and certain operations. You could easily accomplish O(1) insertion <i>and</i> indexed access when you use a Set+List, storing the data twice. In any case, in order to give an appropriate answer, the requirements must be clearly defined on this technical level."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403980276,"post_id":24464279,"comment_id":37871575,"body_markdown":"@alfasin What do you mean, &quot;order is meaningless&quot;? If order is meaningless, then why bother make a `Set` implementation with order? (Oh shoot.... Is this going back to the beginning of our conversation again?)","body":"@alfasin What do you mean, &quot;order is meaningless&quot;? If order is meaningless, then why bother make a <code>Set</code> implementation with order? (Oh shoot.... Is this going back to the beginning of our conversation again?)"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1403981280,"post_id":24464279,"comment_id":37871802,"body_markdown":"@user3580294 :D I like you dude! :)))","body":"@user3580294 :D I like you dude! :)))"}],"answers":[{"comments":[{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":4,"creation_date":1403937808,"post_id":24464308,"comment_id":37861351,"body_markdown":"You&#39;re not answering the question! he didn&#39;t ask &quot;how to do it&quot; he asked which way is more efficient","body":"You&#39;re not answering the question! he didn&#39;t ask &quot;how to do it&quot; he asked which way is more efficient"},{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":3,"creation_date":1403937950,"post_id":24464308,"comment_id":37861377,"body_markdown":"@alfasin by answering with my own solution, i&#39;m implicitly claiming this way is more efficient.","body":"@alfasin by answering with my own solution, i&#39;m implicitly claiming this way is more efficient."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403938162,"post_id":24464308,"comment_id":37861420,"body_markdown":"It&#39;s more efficient than what ? it&#39;s actually *not* more efficient than either of the options he provided both are O(n), and so is your solution.","body":"It&#39;s more efficient than what ? it&#39;s actually <i>not</i> more efficient than either of the options he provided both are O(n), and so is your solution."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":2,"creation_date":1403938429,"post_id":24464308,"comment_id":37861461,"body_markdown":"@alfasin it has the same asymptotic behaviour but it has a smaller constant factor than the other solutions, so clearly it is more efficient.","body":"@alfasin it has the same asymptotic behaviour but it has a smaller constant factor than the other solutions, so clearly it is more efficient."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403938576,"post_id":24464308,"comment_id":37861499,"body_markdown":"on the contrary, the constant factor of this solution is O(n) as well while in the other solutions it&#39;s O(1)...","body":"on the contrary, the constant factor of this solution is O(n) as well while in the other solutions it&#39;s O(1)..."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1403940418,"post_id":24464308,"comment_id":37861876,"body_markdown":"Both alternatives that the OP provides *also* iterate over all the elements of the set. The `ArrayList` constructor internally invokes `toArray()` and both `toArray()` and `toArray(Object[])` (implemented in `AbstractCollection` and not overridden) internally iterate over all the elements of the set. So this answer describes a way to do the same without the overhead of creating temporary arrays and `ArrayList` objects. So it&#39;s a least as fast (if HotSpot can eliminate the temporaries) or faster than both of the OP&#39;s suggestions.","body":"Both alternatives that the OP provides <i>also</i> iterate over all the elements of the set. The <code>ArrayList</code> constructor internally invokes <code>toArray()</code> and both <code>toArray()</code> and <code>toArray(Object[])</code> (implemented in <code>AbstractCollection</code> and not overridden) internally iterate over all the elements of the set. So this answer describes a way to do the same without the overhead of creating temporary arrays and <code>ArrayList</code> objects. So it&#39;s a least as fast (if HotSpot can eliminate the temporaries) or faster than both of the OP&#39;s suggestions."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1403941256,"post_id":24464308,"comment_id":37862058,"body_markdown":"@ErwinBolwidt as I wrote on my second comment - all the solutions provided on this page are O(n). If you claim that one of them is faster you should prove your claim by benchmarking the three...","body":"@ErwinBolwidt as I wrote on my second comment - all the solutions provided on this page are O(n). If you claim that one of them is faster you should prove your claim by benchmarking the three..."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1403942724,"post_id":24464308,"comment_id":37862354,"body_markdown":"No you don&#39;t. Please *read* my comment. Since the two methods suggested by the OP do **exactly** what @Juvanis does, plus more (allocate object and array) then you can prove that Juvanis solution does less work, which is a good definition of &quot;more efficient&quot;.Btw you brought in the big-O notation, the OP never mentioned it.","body":"No you don&#39;t. Please <i>read</i> my comment. Since the two methods suggested by the OP do <b>exactly</b> what @Juvanis does, plus more (allocate object and array) then you can prove that Juvanis solution does less work, which is a good definition of &quot;more efficient&quot;.Btw you brought in the big-O notation, the OP never mentioned it."}],"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"comment_count":8,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1403937423,"creation_date":1403937423,"answer_id":24464308,"question_id":24464279,"body_markdown":"I&#39;d use the iterator of the LinkedHashSet if you want to retrieve the last element:\r\n\r\n\tIterator&lt;T&gt; it = linkedHashSet.iterator();\r\n    T value = null;\r\n\r\n\twhile (it.hasNext()) {\r\n\t\tvalue = it.next();\r\n\t}\r\n\r\nAfter the loop execution value will be referring to the last element.","title":"How to get nth element of a LinkedHashSet","body":"<p>I'd use the iterator of the LinkedHashSet if you want to retrieve the last element:</p>\n\n<pre><code>Iterator&lt;T&gt; it = linkedHashSet.iterator();\nT value = null;\n\nwhile (it.hasNext()) {\n    value = it.next();\n}\n</code></pre>\n\n<p>After the loop execution value will be referring to the last element.</p>\n"},{"comments":[{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":1,"creation_date":1403938091,"post_id":24464361,"comment_id":37861404,"body_markdown":"From the javadoc for [LinkedHashSet](http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html): &quot;defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.&quot; There&#39;s a reason I am specifically using a `LinkedHashSet`.","body":"From the javadoc for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\">LinkedHashSet</a>: &quot;defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.&quot; There&#39;s a reason I am specifically using a <code>LinkedHashSet</code>."},{"owner":{"account_id":1254231,"reputation":2707,"user_id":1214055,"accept_rate":25,"display_name":"bsd"},"score":0,"creation_date":1403938143,"post_id":24464361,"comment_id":37861415,"body_markdown":"Where did the `T` come from ? And naming conventions ? Where is the `compareTo`, `equals`, `hashCode` methods ? Is extending a `Set` a right thing to do ?","body":"Where did the <code>T</code> come from ? And naming conventions ? Where is the <code>compareTo</code>, <code>equals</code>, <code>hashCode</code> methods ? Is extending a <code>Set</code> a right thing to do ?"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":1,"creation_date":1403938329,"post_id":24464361,"comment_id":37861443,"body_markdown":"This technically won&#39;t even compile because `Set` is an interface. The idea is right though.","body":"This technically won&#39;t even compile because <code>Set</code> is an interface. The idea is right though."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1403938422,"post_id":24464361,"comment_id":37861460,"body_markdown":"And considering this is a `Set`, you only &quot;insert&quot; `x` *once*. If you try to add a duplicate element it will fail to add, period. That is the definition of a `Set`. Doesn&#39;t matter what &quot;the user&#39;s point of view&quot; is. Attempting to put something into a regular `HashSet` multiple times will only end up inserting it once too. There&#39;s a reason there&#39;s a return value on the `add()` method.","body":"And considering this is a <code>Set</code>, you only &quot;insert&quot; <code>x</code> <i>once</i>. If you try to add a duplicate element it will fail to add, period. That is the definition of a <code>Set</code>. Doesn&#39;t matter what &quot;the user&#39;s point of view&quot; is. Attempting to put something into a regular <code>HashSet</code> multiple times will only end up inserting it once too. There&#39;s a reason there&#39;s a return value on the <code>add()</code> method."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1403938650,"post_id":24464361,"comment_id":37861510,"body_markdown":"@HelpVampire666 This idea doesn&#39;t work if I want the 5th element or the 11th. The two methods I asked about work in all cases. I am simply asking which one is better (and why).","body":"@HelpVampire666 This idea doesn&#39;t work if I want the 5th element or the 11th. The two methods I asked about work in all cases. I am simply asking which one is better (and why)."}],"tags":[],"owner":{"account_id":2902366,"reputation":124,"user_id":2488705,"accept_rate":20,"display_name":"HelpVampire666"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1403937929,"creation_date":1403937929,"answer_id":24464361,"question_id":24464279,"body_markdown":"Set is unordered so the information on the last element inserted is lost. You cannot as such get the last element inserted. So don&#39;t use Set in the first place, or, if you really want to keep track of the last element, create a class containing that  like this\r\n\r\n    class mySetAndLast extends Set{\r\n       T last;\r\n       Set&lt;T&gt; mySet;       \r\n    }\r\n\r\nnow the question is what is the &#39;last element inserted&#39;. Imagine your set was empty \r\n\r\n    -&gt; insert x -&gt; ok, x is the last inserted \r\n    -&gt; insert y (y!=x) -&gt; ok: y is the last inserted \r\n    -&gt; insert x -&gt; ? \r\n\r\nis now x or y the last inserted?\r\nx does not get inserted because y was the last element inserted and x already is an element of the set, on the other hand x from the user&#39;s point of view was the last inserted..","title":"How to get nth element of a LinkedHashSet","body":"<p>Set is unordered so the information on the last element inserted is lost. You cannot as such get the last element inserted. So don't use Set in the first place, or, if you really want to keep track of the last element, create a class containing that  like this</p>\n\n<pre><code>class mySetAndLast extends Set{\n   T last;\n   Set&lt;T&gt; mySet;       \n}\n</code></pre>\n\n<p>now the question is what is the 'last element inserted'. Imagine your set was empty </p>\n\n<pre><code>-&gt; insert x -&gt; ok, x is the last inserted \n-&gt; insert y (y!=x) -&gt; ok: y is the last inserted \n-&gt; insert x -&gt; ? \n</code></pre>\n\n<p>is now x or y the last inserted?\nx does not get inserted because y was the last element inserted and x already is an element of the set, on the other hand x from the user's point of view was the last inserted..</p>\n"},{"tags":[],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1504069388,"creation_date":1403956530,"answer_id":24466555,"question_id":24464279,"body_markdown":"So I decided to go with a slight variation of the answer by @Juvanis.\r\n\r\nTo get at the nth element in a LinkedHashSet:\r\n\r\n    Iterator&lt;T&gt; itr = mySet.iterator();\r\n    int nth = y;\r\n    T value = null;\r\n\r\n    for(int i = 0; itr.hasNext(); i++) {\r\n        value = itr.next();\r\n        if (i == nth) {\r\n            break;\r\n        }\r\n    }\r\n\r\nVersion 2 of the code:\r\n\r\n    public class SetUtil {\r\n    \r\n        @Nullable\r\n        public static &lt;T&gt; T nthElement(Set&lt;T&gt; set, int n) {\r\n            if (null != set &amp;&amp; n &gt;= 0 &amp;&amp; n &lt; set.size()) {\r\n                int count = 0;\r\n                for (T element : set) {\r\n                    if (n == count)\r\n                        return element;\r\n                    count++;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n**NB:** with some slight modifications the method above can be used for all `Iterables&lt;T&gt;`.\r\n\r\nThis avoids the overhead of ensuring that a `Set` and a `List` stay in sync, and also avoids having to create a new `List` every time (which will be more time-consuming than any amount of algorithmic complexity).\r\n\r\nObviously I am using a `Set` to ensure uniqueness and I&#39;d rather avoid a lengthy explanation as to why I need indexed access.\r\n","title":"How to get nth element of a LinkedHashSet","body":"<p>So I decided to go with a slight variation of the answer by @Juvanis.</p>\n\n<p>To get at the nth element in a LinkedHashSet:</p>\n\n<pre><code>Iterator&lt;T&gt; itr = mySet.iterator();\nint nth = y;\nT value = null;\n\nfor(int i = 0; itr.hasNext(); i++) {\n    value = itr.next();\n    if (i == nth) {\n        break;\n    }\n}\n</code></pre>\n\n<p>Version 2 of the code:</p>\n\n<pre><code>public class SetUtil {\n\n    @Nullable\n    public static &lt;T&gt; T nthElement(Set&lt;T&gt; set, int n) {\n        if (null != set &amp;&amp; n &gt;= 0 &amp;&amp; n &lt; set.size()) {\n            int count = 0;\n            for (T element : set) {\n                if (n == count)\n                    return element;\n                count++;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>NB:</strong> with some slight modifications the method above can be used for all <code>Iterables&lt;T&gt;</code>.</p>\n\n<p>This avoids the overhead of ensuring that a <code>Set</code> and a <code>List</code> stay in sync, and also avoids having to create a new <code>List</code> every time (which will be more time-consuming than any amount of algorithmic complexity).</p>\n\n<p>Obviously I am using a <code>Set</code> to ensure uniqueness and I'd rather avoid a lengthy explanation as to why I need indexed access.</p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1403965228,"creation_date":1403965228,"answer_id":24467730,"question_id":24464279,"body_markdown":"This method is based on the updated requirement to return the nth element, rather than just the last element. If the source is e.g. a Set with identifier `mySet`, the last element can be selected by `nthElement(mySet, mySet.size()-1)`.\r\n\r\nIf `n` is small compared to the size of the `Set`, this method may be faster than e.g. converting to an `ArrayList`.\r\n\r\n      /**\r\n       * Return an element selected by position in iteration order.\r\n       * @param data The source from which an element is to be selected\r\n       * @param n The index of the required element. If it is not in the \r\n       * range of elements of the iterable, the method returns null.\r\n       * @return The selected element.\r\n       */\r\n      public static final &lt;T&gt; T nthElement(Iterable&lt;T&gt; data, int n){\r\n        int index = 0;\r\n        for(T element : data){\r\n          if(index == n){\r\n            return element;\r\n          }\r\n          index++;\r\n        }\r\n        return null;\r\n      }","title":"How to get nth element of a LinkedHashSet","body":"<p>This method is based on the updated requirement to return the nth element, rather than just the last element. If the source is e.g. a Set with identifier <code>mySet</code>, the last element can be selected by <code>nthElement(mySet, mySet.size()-1)</code>.</p>\n\n<p>If <code>n</code> is small compared to the size of the <code>Set</code>, this method may be faster than e.g. converting to an <code>ArrayList</code>.</p>\n\n<pre><code>  /**\n   * Return an element selected by position in iteration order.\n   * @param data The source from which an element is to be selected\n   * @param n The index of the required element. If it is not in the \n   * range of elements of the iterable, the method returns null.\n   * @return The selected element.\n   */\n  public static final &lt;T&gt; T nthElement(Iterable&lt;T&gt; data, int n){\n    int index = 0;\n    for(T element : data){\n      if(index == n){\n        return element;\n      }\n      index++;\n    }\n    return null;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424447468,"creation_date":1424447468,"answer_id":28632989,"question_id":24464279,"body_markdown":"For your own, internal purpose, you could &quot;hack&quot; your own `Set` from any `List` implementation:\r\n\r\n    public class ListSet&lt;E&gt; extends ArrayList&lt;E&gt; implements Set&lt;E&gt; {\r\n        @Override\r\n        public boolean add(E item) {\r\n            return contains(item) ? false : super.add(item);\r\n        }\r\n        \r\n        // ... and same for add(int, E), addAll(...), etc.\r\n    }\r\n\r\nThat example is slow (O(n) for an add) but, as you are the one implementing it, you can go back to it with smarter code for `contains()` based on your specifications.","title":"How to get nth element of a LinkedHashSet","body":"<p>For your own, internal purpose, you could \"hack\" your own <code>Set</code> from any <code>List</code> implementation:</p>\n\n<pre><code>public class ListSet&lt;E&gt; extends ArrayList&lt;E&gt; implements Set&lt;E&gt; {\n    @Override\n    public boolean add(E item) {\n        return contains(item) ? false : super.add(item);\n    }\n\n    // ... and same for add(int, E), addAll(...), etc.\n}\n</code></pre>\n\n<p>That example is slow (O(n) for an add) but, as you are the one implementing it, you can go back to it with smarter code for <code>contains()</code> based on your specifications.</p>\n"},{"tags":[],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503242980,"creation_date":1503242980,"answer_id":45783816,"question_id":24464279,"body_markdown":"You can go with below solution, \r\nhere i have added object of ModelClass in HashSet.\r\n\r\n    ModelClass m1 = null;\r\n    int nth=scanner.nextInt();\r\n    for(int index=0;index&lt;hashset1.size();index++){\r\n        m1 = (ModelClass) itr.next();\r\n        if(nth == index) {\r\n            System.out.println(m1);\r\n            break;\r\n        }\r\n    }","title":"How to get nth element of a LinkedHashSet","body":"<p>You can go with below solution, \nhere i have added object of ModelClass in HashSet.</p>\n\n<pre><code>ModelClass m1 = null;\nint nth=scanner.nextInt();\nfor(int index=0;index&lt;hashset1.size();index++){\n    m1 = (ModelClass) itr.next();\n    if(nth == index) {\n        System.out.println(m1);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686645885,"creation_date":1686631447,"answer_id":76461751,"question_id":24464279,"body_markdown":"A straightforward approach using streams:\r\n\r\n```lang-java\r\nmySet.stream().skip(x).findFirst()\r\n        .orElseThrow(IndexOutOfBoundsException::new);\r\n```","title":"How to get nth element of a LinkedHashSet","body":"<p>A straightforward approach using streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mySet.stream().skip(x).findFirst()\n        .orElseThrow(IndexOutOfBoundsException::new);\n</code></pre>\n"}],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"comment_count":31,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45768,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":24466555,"answer_count":7,"score":15,"last_activity_date":1694710797,"creation_date":1403937106,"question_id":24464279,"body_markdown":"More specifically: how to get the nth element of a [LinkedHashSet](http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html) (which has a predictable iteration order)? I want to retrieve the nth element inserted into this `Set` (*which wasn&#39;t already present*).\r\n\r\nIs it better to use a `List`:\r\n\r\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;(mySet);\r\n    T value = list.get(x); // x &lt; mySet.size()\r\n\r\nor the `toArray(T [] a)` method:\r\n\r\n    T [] array = mySet.toArray(new T[mySet.size()]);\r\n    T value = array[y]; // y &lt; mySet.size()\r\n\r\nOther than the (likely slight) performance differences, anything to watch out for? Any clear winner?\r\n\r\n\r\n### Edit 1\r\n\r\n**NB:** It doesn&#39;t matter *why* I want the last-inserted element, all that matters is that I want it. LinkedHashSet was specifically chosen because it *&quot;defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.&quot;*\r\n\r\n### Edit 2\r\n\r\nThis question seems to have devolved into a discussion of whether *any* `Set` implementation can *ever* preserve original insertion order. So I put up some simple test code at http://pastebin.com/KZJ3ETx9 to show that yes, LinkedHashSet does indeed preserve insertion order (the same as its iteration order) as its Javadoc claims.\r\n\r\n### Edit 3\r\n\r\nModified the description of the problem so that everybody isn&#39;t too focused on retrieving the last element of the `Set` (I originally thought that the title of the question would be enough of a hint &amp;mdash; obviously I was wrong).","title":"How to get nth element of a LinkedHashSet","body":"<p>More specifically: how to get the nth element of a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"noreferrer\">LinkedHashSet</a> (which has a predictable iteration order)? I want to retrieve the nth element inserted into this <code>Set</code> (<em>which wasn't already present</em>).</p>\n\n<p>Is it better to use a <code>List</code>:</p>\n\n<pre><code>List&lt;T&gt; list = new ArrayList&lt;T&gt;(mySet);\nT value = list.get(x); // x &lt; mySet.size()\n</code></pre>\n\n<p>or the <code>toArray(T [] a)</code> method:</p>\n\n<pre><code>T [] array = mySet.toArray(new T[mySet.size()]);\nT value = array[y]; // y &lt; mySet.size()\n</code></pre>\n\n<p>Other than the (likely slight) performance differences, anything to watch out for? Any clear winner?</p>\n\n<h3>Edit 1</h3>\n\n<p><strong>NB:</strong> It doesn't matter <em>why</em> I want the last-inserted element, all that matters is that I want it. LinkedHashSet was specifically chosen because it <em>\"defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.\"</em></p>\n\n<h3>Edit 2</h3>\n\n<p>This question seems to have devolved into a discussion of whether <em>any</em> <code>Set</code> implementation can <em>ever</em> preserve original insertion order. So I put up some simple test code at <a href=\"http://pastebin.com/KZJ3ETx9\" rel=\"noreferrer\">http://pastebin.com/KZJ3ETx9</a> to show that yes, LinkedHashSet does indeed preserve insertion order (the same as its iteration order) as its Javadoc claims.</p>\n\n<h3>Edit 3</h3>\n\n<p>Modified the description of the problem so that everybody isn't too focused on retrieving the last element of the <code>Set</code> (I originally thought that the title of the question would be enough of a hint &mdash; obviously I was wrong).</p>\n"},{"tags":["java","html","css","pdf","itext"],"comments":[{"owner":{"account_id":3672835,"reputation":1758,"user_id":3059575,"accept_rate":98,"display_name":"Ya Wang"},"score":0,"creation_date":1444152231,"post_id":32975880,"comment_id":53776972,"body_markdown":"Generating a PDF? why not pdfbox  https://pdfbox.apache.org/","body":"Generating a PDF? why not pdfbox  <a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">pdfbox.apache.org</a>"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444152430,"post_id":32975880,"comment_id":53777100,"body_markdown":"my HTML content has CSS. PDFBox may not be the best solution in that case","body":"my HTML content has CSS. PDFBox may not be the best solution in that case"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444153254,"post_id":32975880,"comment_id":53777585,"body_markdown":"that must be a joke :D. I am generating PDF through iText pdf library which is java API","body":"that must be a joke :D. I am generating PDF through iText pdf library which is java API"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1444467376,"post_id":32975880,"comment_id":53924763,"body_markdown":"*I tried looking up at the examples one of which is ...* - and what was the problem when trying to use that example for your case?","body":"<i>I tried looking up at the examples one of which is ...</i> - and what was the problem when trying to use that example for your case?"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444666899,"post_id":32975880,"comment_id":53987939,"body_markdown":"actually none I should say I became sloppy. I got my solution here on another thread. http://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext. What I was missing was correct I/O handling","body":"actually none I should say I became sloppy. I got my solution here on another thread. <a href=\"http://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext\" title=\"generate pdf from multiple html pages using itext\">stackoverflow.com/questions/33045246/&hellip;</a>. What I was missing was correct I/O handling"}],"answers":[{"comments":[{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444154228,"post_id":32976307,"comment_id":53778103,"body_markdown":"interesting and thanks for the response @Franklin Neves .Trying to understand the solution. It maybe you simply had a sample code and you posted. Still I would like to confirm that is BaseFont. which you are adding on the document I suppose it is not a necessity.","body":"interesting and thanks for the response @Franklin Neves .Trying to understand the solution. It maybe you simply had a sample code and you posted. Still I would like to confirm that is BaseFont. which you are adding on the document I suppose it is not a necessity."},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444154367,"post_id":32976307,"comment_id":53778188,"body_markdown":"looked at the solution again @Franklin you are simply concatenating already generated PDF pages. Which exist on the file system. PDF I am generating from HTML I do not want to write it to file system, only the concatenated PDF","body":"looked at the solution again @Franklin you are simply concatenating already generated PDF pages. Which exist on the file system. PDF I am generating from HTML I do not want to write it to file system, only the concatenated PDF"}],"tags":[],"owner":{"account_id":3198697,"reputation":1,"user_id":2701259,"display_name":"Franklin Neves"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474969224,"creation_date":1444153600,"answer_id":32976307,"question_id":32975880,"body_markdown":"Try this example:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n\r\n    import com.itextpdf.text.Document;\r\n    import com.itextpdf.text.pdf.BaseFont;\r\n    import com.itextpdf.text.pdf.PdfContentByte;\r\n    import com.itextpdf.text.pdf.PdfImportedPage;\r\n    import com.itextpdf.text.pdf.PdfReader;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n\r\n    public class UtilPDF {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tList&lt;InputStream&gt; pdfs = new ArrayList&lt;InputStream&gt;();\r\n\r\n\t\t\tFile pdfDir = new File(&quot;C:\\\\PDF&quot;);\r\n\r\n\t\t\tboolean pdfDirectoryExists = true;\r\n\t\t\tif (!pdfDir.exists()) {\r\n\t\t\t\tpdfDirectoryExists = pdfDir.mkdir();\r\n\t\t\t}\r\n\r\n\t\t\tif (pdfDirectoryExists) {\r\n\t\t\t\tpdfs.add(new FileInputStream(&quot;C:\\\\PDF\\\\Document1.pdf&quot;));\r\n\t\t\t\tpdfs.add(new FileInputStream(&quot;C:\\\\PDF\\\\Document2.pdf&quot;));\r\n\t\t\t\tOutputStream output = new FileOutputStream(&quot;C:\\\\Projects\\\\FinalDocument_1_2.pdf&quot;);\r\n\t\t\t\tUtilPDF.concatPDFs(pdfs, output, true);\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void concatPDFs(List&lt;InputStream&gt; streamOfPDFFiles, OutputStream outputStream, boolean paginate) {\r\n\t\tDocument document = new Document();\r\n\r\n\t\ttry {\r\n\t\t\tList&lt;InputStream&gt; pdfs = streamOfPDFFiles;\r\n\t\t\tList&lt;PdfReader&gt; readers = new ArrayList&lt;PdfReader&gt;();\r\n\t\t\tint totalPages = 0;\r\n\t\t\tIterator&lt;InputStream&gt; iteratorPDFs = pdfs.iterator();\r\n\r\n\t\t\t// Create Readers for the pdfs.\r\n\t\t\twhile (iteratorPDFs.hasNext()) {\r\n\t\t\t\tInputStream pdf = iteratorPDFs.next();\r\n\t\t\t\tPdfReader pdfReader = new PdfReader(pdf);\r\n\t\t\t\treaders.add(pdfReader);\r\n\t\t\t\ttotalPages += pdfReader.getNumberOfPages();\r\n\t\t\t}\r\n\r\n\t\t\t// Create a writer for the outputstream\r\n\t\t\tPdfWriter writer = PdfWriter.getInstance(document, outputStream);\r\n\t\t\tdocument.open();\r\n\t\t\tBaseFont bf = BaseFont.createFont(BaseFont.HELVETICA, BaseFont.CP1252, BaseFont.NOT_EMBEDDED);\r\n\t\t\tPdfContentByte cb = writer.getDirectContent(); // Holds the PDF\r\n\r\n\t\t\t// data\r\n\t\t\tPdfImportedPage page;\r\n\t\t\tint currentPageNumber = 0;\r\n\t\t\tint pageOfCurrentReaderPDF = 0;\r\n\t\t\tIterator&lt;PdfReader&gt; iteratorPDFReader = readers.iterator();\r\n\r\n\t\t\t// Loop through the PDF files and add to the output.\r\n\t\t\twhile (iteratorPDFReader.hasNext()) {\r\n\t\t\t\tPdfReader pdfReader = iteratorPDFReader.next();\r\n\r\n\t\t\t\t// Create a new page in the target for each source page.\r\n\t\t\t\twhile (pageOfCurrentReaderPDF &lt; pdfReader.getNumberOfPages()) {\r\n\t\t\t\t\tdocument.newPage();\r\n\t\t\t\t\tpageOfCurrentReaderPDF++;\r\n\t\t\t\t\tcurrentPageNumber++;\r\n\t\t\t\t\tpage = writer.getImportedPage(pdfReader, pageOfCurrentReaderPDF);\r\n\t\t\t\t\tcb.addTemplate(page, 0, 0);\r\n\r\n\t\t\t\t\t// Code for pagination.\r\n\t\t\t\t\tif (paginate) {\r\n\t\t\t\t\t\tcb.beginText();\r\n\t\t\t\t\t\tcb.setFontAndSize(bf, 9);\r\n\t\t\t\t\t\tcb.showTextAligned(PdfContentByte.ALIGN_CENTER, &quot;&quot; + currentPageNumber + &quot; of &quot; + totalPages,\r\n\t\t\t\t\t\t\t\t520, 5, 0);\r\n\t\t\t\t\t\tcb.endText();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tpageOfCurrentReaderPDF = 0;\r\n\t\t\t}\r\n\r\n\t\t\toutputStream.flush();\r\n\t\t\tdocument.close();\r\n\t\t\toutputStream.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\r\n\t\t\tif (document.isOpen())\r\n\t\t\t\tdocument.close();\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tif (outputStream != null)\r\n\t\t\t\t\toutputStream.close();\r\n\r\n\t\t\t} catch (IOException ioe) {\r\n\t\t\t\tioe.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>Try this example:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.pdf.BaseFont;\nimport com.itextpdf.text.pdf.PdfContentByte;\nimport com.itextpdf.text.pdf.PdfImportedPage;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfWriter;\n\npublic class UtilPDF {\n\n    public static void main(String[] args) {\n    try {\n        List&lt;InputStream&gt; pdfs = new ArrayList&lt;InputStream&gt;();\n\n        File pdfDir = new File(\"C:\\\\PDF\");\n\n        boolean pdfDirectoryExists = true;\n        if (!pdfDir.exists()) {\n            pdfDirectoryExists = pdfDir.mkdir();\n        }\n\n        if (pdfDirectoryExists) {\n            pdfs.add(new FileInputStream(\"C:\\\\PDF\\\\Document1.pdf\"));\n            pdfs.add(new FileInputStream(\"C:\\\\PDF\\\\Document2.pdf\"));\n            OutputStream output = new FileOutputStream(\"C:\\\\Projects\\\\FinalDocument_1_2.pdf\");\n            UtilPDF.concatPDFs(pdfs, output, true);\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic static void concatPDFs(List&lt;InputStream&gt; streamOfPDFFiles, OutputStream outputStream, boolean paginate) {\n    Document document = new Document();\n\n    try {\n        List&lt;InputStream&gt; pdfs = streamOfPDFFiles;\n        List&lt;PdfReader&gt; readers = new ArrayList&lt;PdfReader&gt;();\n        int totalPages = 0;\n        Iterator&lt;InputStream&gt; iteratorPDFs = pdfs.iterator();\n\n        // Create Readers for the pdfs.\n        while (iteratorPDFs.hasNext()) {\n            InputStream pdf = iteratorPDFs.next();\n            PdfReader pdfReader = new PdfReader(pdf);\n            readers.add(pdfReader);\n            totalPages += pdfReader.getNumberOfPages();\n        }\n\n        // Create a writer for the outputstream\n        PdfWriter writer = PdfWriter.getInstance(document, outputStream);\n        document.open();\n        BaseFont bf = BaseFont.createFont(BaseFont.HELVETICA, BaseFont.CP1252, BaseFont.NOT_EMBEDDED);\n        PdfContentByte cb = writer.getDirectContent(); // Holds the PDF\n\n        // data\n        PdfImportedPage page;\n        int currentPageNumber = 0;\n        int pageOfCurrentReaderPDF = 0;\n        Iterator&lt;PdfReader&gt; iteratorPDFReader = readers.iterator();\n\n        // Loop through the PDF files and add to the output.\n        while (iteratorPDFReader.hasNext()) {\n            PdfReader pdfReader = iteratorPDFReader.next();\n\n            // Create a new page in the target for each source page.\n            while (pageOfCurrentReaderPDF &lt; pdfReader.getNumberOfPages()) {\n                document.newPage();\n                pageOfCurrentReaderPDF++;\n                currentPageNumber++;\n                page = writer.getImportedPage(pdfReader, pageOfCurrentReaderPDF);\n                cb.addTemplate(page, 0, 0);\n\n                // Code for pagination.\n                if (paginate) {\n                    cb.beginText();\n                    cb.setFontAndSize(bf, 9);\n                    cb.showTextAligned(PdfContentByte.ALIGN_CENTER, \"\" + currentPageNumber + \" of \" + totalPages,\n                            520, 5, 0);\n                    cb.endText();\n                }\n            }\n            pageOfCurrentReaderPDF = 0;\n        }\n\n        outputStream.flush();\n        document.close();\n        outputStream.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n\n        if (document.isOpen())\n            document.close();\n\n        try {\n\n            if (outputStream != null)\n                outputStream.close();\n\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1444413120,"post_id":33043663,"comment_id":53909508,"body_markdown":"thanks for the info Kevin. We are not generating pdf in UI/javascript but in Java.","body":"thanks for the info Kevin. We are not generating pdf in UI/javascript but in Java."}],"tags":[],"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444410198,"creation_date":1444410198,"answer_id":33043663,"question_id":32975880,"body_markdown":"This page shows exactly what you request with prepend and append static PDF with composed HTML and CSS content. \r\n\r\nhttp://cloudformatter.com/CSS2Pdf.CustomTipsTricks.InjectPDF\r\n\r\nUse instructions are here\r\n\r\nhttp://cloudformatter.com/CSS2Pdf.APIDoc.Usage","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>This page shows exactly what you request with prepend and append static PDF with composed HTML and CSS content. </p>\n\n<p><a href=\"http://cloudformatter.com/CSS2Pdf.CustomTipsTricks.InjectPDF\" rel=\"nofollow\">http://cloudformatter.com/CSS2Pdf.CustomTipsTricks.InjectPDF</a></p>\n\n<p>Use instructions are here</p>\n\n<p><a href=\"http://cloudformatter.com/CSS2Pdf.APIDoc.Usage\" rel=\"nofollow\">http://cloudformatter.com/CSS2Pdf.APIDoc.Usage</a></p>\n"},{"tags":[],"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694710524,"creation_date":1694710524,"answer_id":77107015,"question_id":32975880,"body_markdown":"Considering I was using iText API to generate PDF I got the correct response on an another thread by the developer of iText. \r\nHis response can be checked here https://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>Considering I was using iText API to generate PDF I got the correct response on an another thread by the developer of iText.\nHis response can be checked here <a href=\"https://stackoverflow.com/questions/33045246/generate-pdf-from-multiple-html-pages-using-itext\">Generate PDF from multiple HTML pages using iText</a></p>\n"}],"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77107015,"answer_count":3,"score":0,"last_activity_date":1694710524,"creation_date":1444152158,"question_id":32975880,"body_markdown":"My use case is that I am generating pdf on the fly. Also I have a pdf with single page. I want to concatenate the newly generated PDF after/before the existing pdf page.\r\n\r\nI was already able to generate PDF from HTML (this may result in 2-3 pages) [Pdf from HTML with CSS][1]\r\n\r\nI tried looking up at the examples one of which is to concatenate existing PDFs pagewise [Working with existing PDFs - Concatenate][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32790711/pdf-not-getting-generated-when-using-itext-api-with-css\r\n  [2]: http://itextpdf.com/examples/iia.php?id=123","title":"Create a new Pdf from an existing Pdf and (HTML + CSS)","body":"<p>My use case is that I am generating pdf on the fly. Also I have a pdf with single page. I want to concatenate the newly generated PDF after/before the existing pdf page.</p>\n\n<p>I was already able to generate PDF from HTML (this may result in 2-3 pages) <a href=\"https://stackoverflow.com/questions/32790711/pdf-not-getting-generated-when-using-itext-api-with-css\">Pdf from HTML with CSS</a></p>\n\n<p>I tried looking up at the examples one of which is to concatenate existing PDFs pagewise <a href=\"http://itextpdf.com/examples/iia.php?id=123\" rel=\"nofollow noreferrer\">Working with existing PDFs - Concatenate</a></p>\n"},{"tags":["java","selenium-webdriver","firefox","screenshot","webpage-screenshot"],"comments":[{"owner":{"account_id":2902407,"reputation":78,"user_id":9539543,"display_name":"Shn"},"score":0,"creation_date":1522669183,"post_id":49606051,"comment_id":86227547,"body_markdown":"The function I posted was working correctly, the issue was another function was taking the background screenshot and adding it to the final report.","body":"The function I posted was working correctly, the issue was another function was taking the background screenshot and adding it to the final report."}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1522649678,"creation_date":1522649678,"answer_id":49606226,"question_id":49606051,"body_markdown":"Taking a screenshot with headless Firefox should work like for usual driver.\r\n\r\nIn the past I used the following approach:\r\n\r\n    public static String makeScreenshot() {\r\n        String fileName = System.currentTimeMillis() + &quot;Test&quot;;\r\n        File screenshot = Driver.driver.get().getScreenshotAs(OutputType.FILE);\r\n        File outputFile = new File(&quot;LoggerScreenshots/&quot; + fileName + &quot;.png&quot;);\r\n        System.out.println(outputFile.getAbsolutePath());\r\n        try {\r\n            FileUtils.copyFile(screenshot, outputFile);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return outputFile.getName();\r\n    }\r\n\r\nAnd called it when test execution fails:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D7w14.png","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>Taking a screenshot with headless Firefox should work like for usual driver.</p>\n\n<p>In the past I used the following approach:</p>\n\n<pre><code>public static String makeScreenshot() {\n    String fileName = System.currentTimeMillis() + \"Test\";\n    File screenshot = Driver.driver.get().getScreenshotAs(OutputType.FILE);\n    File outputFile = new File(\"LoggerScreenshots/\" + fileName + \".png\");\n    System.out.println(outputFile.getAbsolutePath());\n    try {\n        FileUtils.copyFile(screenshot, outputFile);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return outputFile.getName();\n}\n</code></pre>\n\n<p>And called it when test execution fails:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D7w14.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7w14.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":12838717,"reputation":887,"user_id":9287404,"accept_rate":40,"display_name":"Bits Please"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522654760,"creation_date":1522654760,"answer_id":49607215,"question_id":49606051,"body_markdown":"Here is the way you can still use\r\n\r\n    from selenium import webdriver\r\n    from selenium.webdriver.firefox.options import Options\r\n    \r\n    options = Options()\r\n    options.add_argument( &quot;--headless&quot; )\r\n    # options.add_argument( &quot;--screenshot test.jpg http://google.com/&quot; )\r\n    driver = webdriver.Firefox( firefox_options=options )\r\n    driver.get(&#39;http://google.com/&#39;)\r\n    driver.save_screenshot(&#39;test.png&#39;)\r\n    print driver.title\r\n    print driver.current_url\r\n    driver.quit()\r\n    sys.exit()","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>Here is the way you can still use</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.firefox.options import Options\n\noptions = Options()\noptions.add_argument( \"--headless\" )\n# options.add_argument( \"--screenshot test.jpg http://google.com/\" )\ndriver = webdriver.Firefox( firefox_options=options )\ndriver.get('http://google.com/')\ndriver.save_screenshot('test.png')\nprint driver.title\nprint driver.current_url\ndriver.quit()\nsys.exit()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694709895,"creation_date":1694709895,"answer_id":77106930,"question_id":49606051,"body_markdown":"In Django(Python), you can take the screenshots of Django Admin on headless Firefox as shown below. *I use [pytest-django][1] and [selenium][2] and [my answer][3] explains it more:\r\n\r\n```python\r\nimport pytest\r\nfrom selenium import webdriver\r\n\r\ndef take_screenshot(driver, name):\r\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\r\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\r\n\r\ndef test_1(live_server):\r\n    options = webdriver.FirefoxOptions()\r\n    options.add_argument(&quot;-headless&quot;)\r\n    driver = webdriver.Firefox(options=options)\r\n    driver.set_window_size(1024, 768)\r\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\r\n    take_screenshot(driver, &quot;admin/firefox.png&quot;)\r\n    assert &quot;Log in | Django site admin&quot; in driver.title\r\n```\r\n\r\n\r\n  [1]: https://github.com/pytest-dev/pytest-django\r\n  [2]: https://github.com/SeleniumHQ/selenium\r\n  [3]: https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>In Django(Python), you can take the screenshots of Django Admin on headless Firefox as shown below. *I use <a href=\"https://github.com/pytest-dev/pytest-django\" rel=\"nofollow noreferrer\">pytest-django</a> and <a href=\"https://github.com/SeleniumHQ/selenium\" rel=\"nofollow noreferrer\">selenium</a> and <a href=\"https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289\">my answer</a> explains it more:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pytest\nfrom selenium import webdriver\n\ndef take_screenshot(driver, name):\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\n\ndef test_1(live_server):\n    options = webdriver.FirefoxOptions()\n    options.add_argument(&quot;-headless&quot;)\n    driver = webdriver.Firefox(options=options)\n    driver.set_window_size(1024, 768)\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\n    take_screenshot(driver, &quot;admin/firefox.png&quot;)\n    assert &quot;Log in | Django site admin&quot; in driver.title\n</code></pre>\n"}],"owner":{"account_id":2902407,"reputation":78,"user_id":9539543,"display_name":"Shn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2711,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49606226,"answer_count":3,"score":3,"last_activity_date":1694710088,"creation_date":1522648722,"question_id":49606051,"body_markdown":"I have been able to run a selenium test case with headless Firefox, However when taking a screenshot, the screenshot is not that of the web-page(web-page tested in the testcase) rather, the screenshot is taken of the background (as in. the current window shown (e.g. eclipse IDE running the testcase))\r\n\r\nScreenshot function\r\n \r\n\r\n    File screenShotFolder = new File(&quot;Screenshots&quot;);\r\n            WebDriver driver = getDriver();\r\n            try {\r\n                if (!screenShotFolder.exists() &amp;&amp; !screenShotFolder.mkdir()) {\r\n                    getLog().error(\r\n                            &quot;Cannot create a new file in the intended location. &quot;\r\n                                    + &quot;&quot; + screenShotFolder.getAbsolutePath());\r\n                }\r\n                File scrFile =\r\n                        ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                String filePath =\r\n                        screenShotFolder.getAbsolutePath() + File.separator\r\n                                + imageName + &quot;.png&quot;;\r\n                FileUtils.copyFile(scrFile, new File(filePath));\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nis there any other &quot;options&quot; or &quot;arguments&quot; that need to be set?","title":"How to take a screenshot in firefox headless (selenium in java)?","body":"<p>I have been able to run a selenium test case with headless Firefox, However when taking a screenshot, the screenshot is not that of the web-page(web-page tested in the testcase) rather, the screenshot is taken of the background (as in. the current window shown (e.g. eclipse IDE running the testcase))</p>\n<p>Screenshot function</p>\n<pre><code>File screenShotFolder = new File(&quot;Screenshots&quot;);\n        WebDriver driver = getDriver();\n        try {\n            if (!screenShotFolder.exists() &amp;&amp; !screenShotFolder.mkdir()) {\n                getLog().error(\n                        &quot;Cannot create a new file in the intended location. &quot;\n                                + &quot;&quot; + screenShotFolder.getAbsolutePath());\n            }\n            File scrFile =\n                    ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n            String filePath =\n                    screenShotFolder.getAbsolutePath() + File.separator\n                            + imageName + &quot;.png&quot;;\n            FileUtils.copyFile(scrFile, new File(filePath));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>is there any other &quot;options&quot; or &quot;arguments&quot; that need to be set?</p>\n"},{"tags":["java","jlink"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687993670,"post_id":76576816,"comment_id":135015943,"body_markdown":"This is a PowerShell thing. Surround the entire thing in quotes: `--module-path &quot;&lt;path&gt;;&lt;path&gt;&quot;`.","body":"This is a PowerShell thing. Surround the entire thing in quotes: <code>--module-path &quot;&lt;path&gt;;&lt;path&gt;&quot;</code>."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1694872331,"post_id":77106949,"comment_id":135950021,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77106949/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11475721,"reputation":1,"user_id":8411303,"display_name":"mortimer101"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694710011,"creation_date":1694709977,"answer_id":77106949,"question_id":76576816,"body_markdown":"it&#39;s ok\r\n\r\n----\r\n\r\n\r\njlink --module-path &quot;%JAVA_HOME%/jmods;./out&quot; --add-modules jlinkModule --output customjre\r\n\r\n\r\n","title":"Adding multiple --module-path with JLink","body":"<p>it's ok</p>\n<hr />\n<p>jlink --module-path &quot;%JAVA_HOME%/jmods;./out&quot; --add-modules jlinkModule --output customjre</p>\n"}],"owner":{"account_id":28915035,"reputation":1,"user_id":22147205,"display_name":"Abolfazl Asoudeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694710011,"creation_date":1687987665,"question_id":76576816,"body_markdown":"I was following [this](https://www.baeldung.com/jlink) tutorial to create a runtime image using JLink. When I reached this part\r\n```bash\r\njlink --module-path &quot;%JAVA_HOME%\\jmods&quot;;out\r\n  --add-modules jlinkModule\r\n  --output customjre\r\n```\r\n\r\nThe semicolon seperated commands in Windows terminal (PowerShell). So it says:\r\n```bash\r\nError: --output must be specified\r\nUsage: jlink &lt;options&gt; --module-path &lt;modulepath&gt; --add-modules &lt;module&gt;[,&lt;module&gt;...]\r\nUse --help for a list of possible options\r\nout: The term &#39;out&#39; is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nCheck the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n```\r\n\r\nSo I tried using comma, but not working. I tried this:\r\n`jlink --module-path &#39;C:\\Program Files\\Java\\jdk-20\\jmods\\&#39; --module-path out --add-modules jlinkModule --output customjre`\r\n\r\nAnd the file created but I think I did it wrong. What should I two to add multiple --module-path. Also I want to include `com.fasterxml.Jackson` but I don&#39;t know how to add this in JLink.\r\n\r\n\r\nI searched a lot and found some solutions for other external libraries but I couldn&#39;t do this with Jackson. I appreciate any answers.","title":"Adding multiple --module-path with JLink","body":"<p>I was following <a href=\"https://www.baeldung.com/jlink\" rel=\"nofollow noreferrer\">this</a> tutorial to create a runtime image using JLink. When I reached this part</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jlink --module-path &quot;%JAVA_HOME%\\jmods&quot;;out\n  --add-modules jlinkModule\n  --output customjre\n</code></pre>\n<p>The semicolon seperated commands in Windows terminal (PowerShell). So it says:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Error: --output must be specified\nUsage: jlink &lt;options&gt; --module-path &lt;modulepath&gt; --add-modules &lt;module&gt;[,&lt;module&gt;...]\nUse --help for a list of possible options\nout: The term 'out' is not recognized as a name of a cmdlet, function, script file, or executable program.\nCheck the spelling of the name, or if a path was included, verify that the path is correct and try again.\n</code></pre>\n<p>So I tried using comma, but not working. I tried this:\n<code>jlink --module-path 'C:\\Program Files\\Java\\jdk-20\\jmods\\' --module-path out --add-modules jlinkModule --output customjre</code></p>\n<p>And the file created but I think I did it wrong. What should I two to add multiple --module-path. Also I want to include <code>com.fasterxml.Jackson</code> but I don't know how to add this in JLink.</p>\n<p>I searched a lot and found some solutions for other external libraries but I couldn't do this with Jackson. I appreciate any answers.</p>\n"},{"tags":["java","google-chrome","selenium-chromedriver","screenshot","webpage-screenshot"],"comments":[{"owner":{"account_id":4086805,"reputation":431,"user_id":3355907,"display_name":"Thomas"},"score":1,"creation_date":1492070232,"post_id":43386398,"comment_id":73834541,"body_markdown":"What is the exception you are getting?","body":"What is the exception you are getting?"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1492073600,"post_id":43386398,"comment_id":73836585,"body_markdown":"Print your stack trace and make sure yoiur chromedriver is present at the location.","body":"Print your stack trace and make sure yoiur chromedriver is present at the location."}],"answers":[{"tags":[],"owner":{"account_id":10670785,"reputation":320,"user_id":7855921,"accept_rate":100,"display_name":"Jordan Benyon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492079238,"creation_date":1492077115,"answer_id":43388989,"question_id":43386398,"body_markdown":"    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n     \r\n\tpublic static String captureScreenshot (WebDriver driver, String screenshotName){\r\n\t\t\r\n\t\ttry {\r\n\t\t\tTakesScreenshot ts = (TakesScreenshot)driver;\r\n\t\t\tFile source = ts.getScreenshotAs(OutputType.FILE);\r\n\t\t\tString dest = &quot;/Users/CD6255ABQA/Desktop/Debug Images/&quot; + screenshotName + &quot;.png&quot;;\r\n\t\t\tFile destination = new File(dest);\r\n\t\t\tFileUtils.copyFile(source, destination);\r\n\t\t\treturn dest;\r\n\t\t\t} \r\n\t\t\r\n\t\tcatch (IOException e) {return e.getMessage();}\r\n\t\t}\r\n\r\nCall it using\r\n\r\n    String screenpath = captureScreenshot(driver, &quot;ScreenshotName&quot;)\r\n\r\n\r\nRemember to change the file destination in the method. ","title":"How to take screenshot in selenium webdriver in Chrome browser","body":"<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\n\npublic static String captureScreenshot (WebDriver driver, String screenshotName){\n\n    try {\n        TakesScreenshot ts = (TakesScreenshot)driver;\n        File source = ts.getScreenshotAs(OutputType.FILE);\n        String dest = \"/Users/CD6255ABQA/Desktop/Debug Images/\" + screenshotName + \".png\";\n        File destination = new File(dest);\n        FileUtils.copyFile(source, destination);\n        return dest;\n        } \n\n    catch (IOException e) {return e.getMessage();}\n    }\n</code></pre>\n\n<p>Call it using</p>\n\n<pre><code>String screenpath = captureScreenshot(driver, \"ScreenshotName\")\n</code></pre>\n\n<p>Remember to change the file destination in the method. </p>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694709671,"creation_date":1694709671,"answer_id":77106902,"question_id":43386398,"body_markdown":"In Django(Python), you can take the screenshots of Django Admin on headless Google Chrome as shown below. *I use [pytest-django][1] and [selenium][2] and [my answer][3] explains it more:\r\n\r\n```python\r\nimport pytest\r\nfrom selenium import webdriver\r\n\r\ndef take_screenshot(driver, name):\r\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\r\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\r\n\r\ndef test_1(live_server):\r\n    options = webdriver.ChromeOptions()\r\n    options.add_argument(&quot;--headless=new&quot;)\r\n    driver = webdriver.Chrome(options=options)\r\n    driver.set_window_size(1024, 768)\r\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\r\n    take_screenshot(driver, &quot;admin/chrome.png&quot;)\r\n    assert &quot;Log in | Django site admin&quot; in driver.title\r\n```\r\n\r\n\r\n  [1]: https://github.com/pytest-dev/pytest-django\r\n  [2]: https://github.com/SeleniumHQ/selenium\r\n  [3]: https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289","title":"How to take screenshot in selenium webdriver in Chrome browser","body":"<p>In Django(Python), you can take the screenshots of Django Admin on headless Google Chrome as shown below. *I use <a href=\"https://github.com/pytest-dev/pytest-django\" rel=\"nofollow noreferrer\">pytest-django</a> and <a href=\"https://github.com/SeleniumHQ/selenium\" rel=\"nofollow noreferrer\">selenium</a> and <a href=\"https://stackoverflow.com/questions/8900073/webdriver-screenshot-in-python/77106289#77106289\">my answer</a> explains it more:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pytest\nfrom selenium import webdriver\n\ndef take_screenshot(driver, name):\n    os.makedirs(os.path.join(&quot;screenshot&quot;, os.path.dirname(name)), exist_ok=True)\n    driver.save_screenshot(os.path.join(&quot;screenshot&quot;, name))\n\ndef test_1(live_server):\n    options = webdriver.ChromeOptions()\n    options.add_argument(&quot;--headless=new&quot;)\n    driver = webdriver.Chrome(options=options)\n    driver.set_window_size(1024, 768)\n    driver.get((&quot;%s%s&quot; % (live_server.url, &quot;/admin/&quot;)))\n    take_screenshot(driver, &quot;admin/chrome.png&quot;)\n    assert &quot;Log in | Django site admin&quot; in driver.title\n</code></pre>\n"}],"owner":{"account_id":10375506,"reputation":29,"user_id":7651780,"display_name":"ashish singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14158,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1694709752,"creation_date":1492069498,"question_id":43386398,"body_markdown":"I am learning selenium Webdriver. I was trying to take screenshot on chrome browser but I got exception for below code (Note: Same piece of code works on firefox). Kindly help me out to take a screenshot on Chrome and please somebody explain me why below code is not working on Chrome.\r\n\r\n\tpublic class ScreenShot \r\n    {\r\n\t\tpublic static void main(String[] args) throws IOException \r\n        {\r\n\t\t\tString key  = &quot;webdriver.chrome.driver&quot;;\r\n\t\t\tString value = &quot;./driver/chromedriver.exe&quot;;\r\n\t\t\tSystem.setProperty(key, value);\r\n\t\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\tdriver.get(&quot;https://www.google.co.in&quot;);\r\n\t\t\tTakesScreenshot screen = (TakesScreenshot) driver;\r\n\t\t\tFile srcFile = screen.getScreenshotAs(OutputType.FILE);\r\n\t\t\tFile destFile = new File(&quot;d:/google.png&quot;);\r\n\t\t\tFileUtils.copyFile(srcFile, destFile);\r\n\t\t}\r\n\t}       ","title":"How to take screenshot in selenium webdriver in Chrome browser","body":"<p>I am learning selenium Webdriver. I was trying to take screenshot on chrome browser but I got exception for below code (Note: Same piece of code works on firefox). Kindly help me out to take a screenshot on Chrome and please somebody explain me why below code is not working on Chrome.</p>\n\n<pre><code>public class ScreenShot \n{\n    public static void main(String[] args) throws IOException \n    {\n        String key  = \"webdriver.chrome.driver\";\n        String value = \"./driver/chromedriver.exe\";\n        System.setProperty(key, value);\n        WebDriver driver = new ChromeDriver();\n        driver.get(\"https://www.google.co.in\");\n        TakesScreenshot screen = (TakesScreenshot) driver;\n        File srcFile = screen.getScreenshotAs(OutputType.FILE);\n        File destFile = new File(\"d:/google.png\");\n        FileUtils.copyFile(srcFile, destFile);\n    }\n}       \n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1694701113,"post_id":77105687,"comment_id":135928463,"body_markdown":"that seems to be the known issue: https://stackoverflow.com/q/76509211/3426309","body":"that seems to be the known issue: <a href=\"https://stackoverflow.com/q/76509211/3426309\">stackoverflow.com/q/76509211/3426309</a>"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694709651,"creation_date":1694709651,"answer_id":77106899,"question_id":77105687,"body_markdown":"If a column must be changed is a decision of hibernate himself. \r\n\r\nHibernate read the type from the JDBC-Driver and compare this type with the type in the Entity. If Hibernate recognize a difference, hibernate try to solve the difference using this alter-table DDL update-commands. Hibernate might not update the type successfully (because the type already set).\r\n\r\nThere are 3 reasons why hibernate think a change might help:\r\n\r\n1. The value-range of the reported database-type from the jdbc-driver differs from the value-range of the java-field-type. \r\n2. The jdbc-driver report wrong values (might be a bug in the jdbc-driver).\r\n3. The dialect of the sql-database does not match the jdbc-driver.\r\n\r\nA flip-flop problem might be a bug in hibernate, this happens if the type is changed from one type to a differenct type.\r\n\r\nYou could try to:\r\n\r\n1. Try to use the latest jdbc-driver.\r\n2. Try to correct the hibernate-dialect.\r\n3. Try to use a more matching entity-field-type.\r\n4. Try to use the latest hibernate version (transient dependencies accordingly).\r\n\r\nFrom a architect point-of-view:\r\n\r\nWell, there is a principle called single-version-of-truth (SVOT). It points out that either the DB hold the 100% truth of the datastructure OR the entities. This might give the hint that the DB always right in terms of field-type-savety. This guides you to modify the entities until it matches the DB perfectly.","title":"Hibernate alters tables even though entities are unchanged","body":"<p>If a column must be changed is a decision of hibernate himself.</p>\n<p>Hibernate read the type from the JDBC-Driver and compare this type with the type in the Entity. If Hibernate recognize a difference, hibernate try to solve the difference using this alter-table DDL update-commands. Hibernate might not update the type successfully (because the type already set).</p>\n<p>There are 3 reasons why hibernate think a change might help:</p>\n<ol>\n<li>The value-range of the reported database-type from the jdbc-driver differs from the value-range of the java-field-type.</li>\n<li>The jdbc-driver report wrong values (might be a bug in the jdbc-driver).</li>\n<li>The dialect of the sql-database does not match the jdbc-driver.</li>\n</ol>\n<p>A flip-flop problem might be a bug in hibernate, this happens if the type is changed from one type to a differenct type.</p>\n<p>You could try to:</p>\n<ol>\n<li>Try to use the latest jdbc-driver.</li>\n<li>Try to correct the hibernate-dialect.</li>\n<li>Try to use a more matching entity-field-type.</li>\n<li>Try to use the latest hibernate version (transient dependencies accordingly).</li>\n</ol>\n<p>From a architect point-of-view:</p>\n<p>Well, there is a principle called single-version-of-truth (SVOT). It points out that either the DB hold the 100% truth of the datastructure OR the entities. This might give the hint that the DB always right in terms of field-type-savety. This guides you to modify the entities until it matches the DB perfectly.</p>\n"}],"owner":{"account_id":21721587,"reputation":91,"user_id":16031709,"display_name":"Doğukan &#214;zdemir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694709651,"creation_date":1694700307,"question_id":77105687,"body_markdown":"I&#39;m working on a Spring Boot project that uses Hibernate for ORM, and in my `application.properties` I have `spring.jpa.hibernate.ddl-auto` set to `update`. \r\n\r\nThis setting is convenient for updating the database schema when my entity classes change.\r\n\r\nHowever, I&#39;ve noticed that Hibernate generates ALTER statements for all columns, including those that haven&#39;t changed in my entity classes. This causes the app launch slower since it&#39;s altering every table unnecessarily.\r\n\r\nHere is an example output I am receiving:\r\n\r\n```\r\nHibernate: \r\n    alter table document_comments \r\n       modify column created_at  datetime(6)\r\nHibernate: \r\n    alter table documents \r\n       modify column content  json\r\nHibernate: \r\n    alter table documents \r\n       modify column created_at  datetime(6)\r\nHibernate: \r\n    alter table documents \r\n       modify column status  enum (&#39;ACTIVE&#39;,&#39;ARCHIVED&#39;,&#39;DELETED&#39;)\r\nHibernate: \r\n    alter table documents \r\n       modify column updated_at  datetime(6)\r\n```\r\n\r\n\r\nand the list goes on.\r\n\r\nI am using Java 17, Spring 3.1.2 and Hibernate 2.6","title":"Hibernate alters tables even though entities are unchanged","body":"<p>I'm working on a Spring Boot project that uses Hibernate for ORM, and in my <code>application.properties</code> I have <code>spring.jpa.hibernate.ddl-auto</code> set to <code>update</code>.</p>\n<p>This setting is convenient for updating the database schema when my entity classes change.</p>\n<p>However, I've noticed that Hibernate generates ALTER statements for all columns, including those that haven't changed in my entity classes. This causes the app launch slower since it's altering every table unnecessarily.</p>\n<p>Here is an example output I am receiving:</p>\n<pre><code>Hibernate: \n    alter table document_comments \n       modify column created_at  datetime(6)\nHibernate: \n    alter table documents \n       modify column content  json\nHibernate: \n    alter table documents \n       modify column created_at  datetime(6)\nHibernate: \n    alter table documents \n       modify column status  enum ('ACTIVE','ARCHIVED','DELETED')\nHibernate: \n    alter table documents \n       modify column updated_at  datetime(6)\n</code></pre>\n<p>and the list goes on.</p>\n<p>I am using Java 17, Spring 3.1.2 and Hibernate 2.6</p>\n"},{"tags":["java","apache-spark","amazon-s3","spark-cassandra-connector"],"comments":[{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1694509740,"post_id":77062547,"comment_id":135896672,"body_markdown":"have you looked at the &quot;troubleshooting s3a&quot; page in the hadoop documentation before posting on  SO? https://hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/troubleshooting_s3a.html","body":"have you looked at the &quot;troubleshooting s3a&quot; page in the hadoop documentation before posting on  SO? <a href=\"https://hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/troubleshooting_s3a.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/current/hadoop-aws/tools/hadoop-aws/&hellip;</a>"},{"owner":{"account_id":5022575,"reputation":415,"user_id":4597683,"accept_rate":57,"display_name":"Jun Q"},"score":0,"creation_date":1694709275,"post_id":77062547,"comment_id":135930283,"body_markdown":"@stevel It is aws profile conflicts. Setup multiple aws profiles resolve this issue.","body":"@stevel It is aws profile conflicts. Setup multiple aws profiles resolve this issue."}],"answers":[{"comments":[{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1694866921,"post_id":77106859,"comment_id":135949399,"body_markdown":"aah. the aws sdk looks into your ~/.aws/config settings even though you should be setting everything through fs.s3a options -otherwise settings (credentials, region, ...) don&#39;t get passed into the cluster with your job. instead you need to copy out the file to every node by hand.","body":"aah. the aws sdk looks into your ~/.aws/config settings even though you should be setting everything through fs.s3a options -otherwise settings (credentials, region, ...) don&#39;t get passed into the cluster with your job. instead you need to copy out the file to every node by hand."}],"tags":[],"owner":{"account_id":5022575,"reputation":415,"user_id":4597683,"accept_rate":57,"display_name":"Jun Q"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694709244,"creation_date":1694709244,"answer_id":77106859,"question_id":77062547,"body_markdown":"It is aws profile conflicts. Setup multiple aws profiles resolve this issue.","title":"badRequest when trying to write cassansdra dataset to S3 bucket using hadoop-aws with Spark Java","body":"<p>It is aws profile conflicts. Setup multiple aws profiles resolve this issue.</p>\n"}],"owner":{"account_id":5022575,"reputation":415,"user_id":4597683,"accept_rate":57,"display_name":"Jun Q"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106859,"answer_count":1,"score":0,"last_activity_date":1694709244,"creation_date":1694117079,"question_id":77062547,"body_markdown":"I am trying to write spark dataset to S3 using hadoop-aws, but keep getting the `AWSBadRequestException`. Wondering if anyone has idea on what is going wrong.\r\n\r\nversions:\r\n\r\nhadoop-aws: 3.3.1\r\nspark: 3.2.1\r\n\r\nHere are my code:\r\n\r\n```\r\n        SparkConf sparkConf = new SparkConf();\r\n\r\n        sparkConf.setMaster(&quot;local[*]&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.access.key&quot;, &quot;my access key&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, &quot;my secret key&quot;)\r\n                .set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.us-west-2.amazonaws.com&quot;)\r\n                .set(CassandraOptions.SPARK_CONF_HOST, getHost(env))\r\n                .set(CassandraOptions.SPARK_CONF_PORT, getPort(env))\r\n                .set(CassandraOptions.SPARK_CONF_LOCALDC, getDatacenter(env))\r\n                .set(CassandraOptions.TABLE, table)\r\n                .set(CassandraOptions.KEYSPACE, keyspace);\r\n        this.sparkSession = SparkSession.builder().config(sparkConf).getOrCreate();\r\n\r\n       // getting Dataset&lt;Row&gt; dataset using sparkSession\r\n      // Dataset&lt;Row&gt; ds = dfr.load().where(filterCondition);\r\n       // ds.show();\r\n       \r\n       String s3Path = &quot;s3a://&quot; + bucket_name + &quot;/&quot; + path;\r\n       ds.write().parquet(s3Path);\r\n\r\n```\r\n\r\nFollowing are the error stack track:\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.hadoop.fs.s3a.AWSBadRequestException: getFileStatus on s3a://my-test-bucket/data/configuration-migration/cassandra/Oregon/shared_services/orgid_appurl/00Dx0000000JBysEAG: com.amazonaws.services.s3.model.AmazonS3Exception: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null), S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=:400 Bad Request: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:243)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:170)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3286)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3185)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3053)\r\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1760)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.exists(S3AFileSystem.java:4263)\r\n\tat org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:117)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:113)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:111)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:125)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:106)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:481)\r\n\tat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:82)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:481)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:457)\r\n\tat org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:106)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:93)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:91)\r\n\tat org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:128)\r\n```","title":"badRequest when trying to write cassansdra dataset to S3 bucket using hadoop-aws with Spark Java","body":"<p>I am trying to write spark dataset to S3 using hadoop-aws, but keep getting the <code>AWSBadRequestException</code>. Wondering if anyone has idea on what is going wrong.</p>\n<p>versions:</p>\n<p>hadoop-aws: 3.3.1\nspark: 3.2.1</p>\n<p>Here are my code:</p>\n<pre><code>        SparkConf sparkConf = new SparkConf();\n\n        sparkConf.setMaster(&quot;local[*]&quot;)\n                .set(&quot;spark.hadoop.fs.s3a.access.key&quot;, &quot;my access key&quot;)\n                .set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, &quot;my secret key&quot;)\n                .set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.us-west-2.amazonaws.com&quot;)\n                .set(CassandraOptions.SPARK_CONF_HOST, getHost(env))\n                .set(CassandraOptions.SPARK_CONF_PORT, getPort(env))\n                .set(CassandraOptions.SPARK_CONF_LOCALDC, getDatacenter(env))\n                .set(CassandraOptions.TABLE, table)\n                .set(CassandraOptions.KEYSPACE, keyspace);\n        this.sparkSession = SparkSession.builder().config(sparkConf).getOrCreate();\n\n       // getting Dataset&lt;Row&gt; dataset using sparkSession\n      // Dataset&lt;Row&gt; ds = dfr.load().where(filterCondition);\n       // ds.show();\n       \n       String s3Path = &quot;s3a://&quot; + bucket_name + &quot;/&quot; + path;\n       ds.write().parquet(s3Path);\n\n</code></pre>\n<p>Following are the error stack track:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.hadoop.fs.s3a.AWSBadRequestException: getFileStatus on s3a://my-test-bucket/data/configuration-migration/cassandra/Oregon/shared_services/orgid_appurl/00Dx0000000JBysEAG: com.amazonaws.services.s3.model.AmazonS3Exception: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null), S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=:400 Bad Request: Bad Request (Service: Amazon S3; Status Code: 400; Error Code: 400 Bad Request; Request ID: SAJPPB0RXB43CJ8Y; S3 Extended Request ID: vMUJ5utvguWgzUmBVGw80FAOPP0OBU9a5QFjRDEbJtaHMSl7qZm4+LZzloflAyzSh3Z6maEX6n8=; Proxy: null)\n    at org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:243)\n    at org.apache.hadoop.fs.s3a.S3AUtils.translateException(S3AUtils.java:170)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.s3GetFileStatus(S3AFileSystem.java:3286)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.innerGetFileStatus(S3AFileSystem.java:3185)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.getFileStatus(S3AFileSystem.java:3053)\n    at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:1760)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.exists(S3AFileSystem.java:4263)\n    at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:117)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:113)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:111)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:125)\n    at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:110)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:110)\n    at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:106)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:481)\n    at org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:82)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:481)\n    at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\n    at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\n    at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\n    at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\n    at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:457)\n    at org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:106)\n    at org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:93)\n    at org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:91)\n    at org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:128)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":29441031,"reputation":1,"user_id":22559139,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694708825,"creation_date":1694708825,"answer_id":77106815,"question_id":77104324,"body_markdown":"Fixed. I was able to solve this error with the process below:\r\n1. run java --version in terminal to know your jdk version\r\n2. cd /Library/Java/JavaVirtualMachines\r\n3. /usr/libexec/java_home -V\r\n4.\r\n- For Bash:\r\n+ + echo &#39;export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version&#39; &gt;&gt; ~/.bash_profile\r\n+ + source ~/.bash_profile\r\n\r\n\r\n- For Zsh:\r\n- - echo &#39;export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version&#39; &gt;&gt; ~/.zshrc\r\n- - source ~/.zshrc\r\n\r\n5. echo $JAVA_HOME\r\n\r\n6. Go to your project directory and run: mvn clean install\r\n7. In VSCode, go to Command Palette &gt; Clean Java Language Server Workspace\r\n","title":"VS Code ERROR: The project was not built since its build path is incomplete. Cannot find the class file for java.lang.Object","body":"<p>Fixed. I was able to solve this error with the process below:</p>\n<ol>\n<li>run java --version in terminal to know your jdk version</li>\n<li>cd /Library/Java/JavaVirtualMachines</li>\n<li>/usr/libexec/java_home -V</li>\n<li></li>\n</ol>\n<ul>\n<li>For Bash:</li>\n</ul>\n<ul>\n<li>\n<ul>\n<li>echo 'export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version' &gt;&gt; ~/.bash_profile</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>source ~/.bash_profile</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>For Zsh:</li>\n<li>\n<ul>\n<li>echo 'export JAVA_HOME=/Library/Java/JavaVirtualMachines/your-java-17-version' &gt;&gt; ~/.zshrc</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>source ~/.zshrc</li>\n</ul>\n</li>\n</ul>\n<ol start=\"5\">\n<li><p>echo $JAVA_HOME</p>\n</li>\n<li><p>Go to your project directory and run: mvn clean install</p>\n</li>\n<li><p>In VSCode, go to Command Palette &gt; Clean Java Language Server Workspace</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29441031,"reputation":1,"user_id":22559139,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106815,"answer_count":1,"score":0,"last_activity_date":1694708825,"creation_date":1694689743,"question_id":77104324,"body_markdown":"I tried running my Spring boot project when I opened VS code then I saw this error. I have been using Java for some months now and this is the first time I am seeing this error. My previous java projects have stopped running due to this error also. Is there a possible fix to this?[screenshot of error message](https://i.stack.imgur.com/wnNyy.jpg)","title":"VS Code ERROR: The project was not built since its build path is incomplete. Cannot find the class file for java.lang.Object","body":"<p>I tried running my Spring boot project when I opened VS code then I saw this error. I have been using Java for some months now and this is the first time I am seeing this error. My previous java projects have stopped running due to this error also. Is there a possible fix to this?<a href=\"https://i.stack.imgur.com/wnNyy.jpg\" rel=\"nofollow noreferrer\">screenshot of error message</a></p>\n"},{"tags":["java","https","proxy","header","httpurlconnection"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694774336,"post_id":77106795,"comment_id":135938647,"body_markdown":"What proxy do you use? Note that some cloud services are protected using TLS fingerprinting which can detect the used ssl library and programming language. Which often means Python based proxies are blocked. So a HTTP 403 could be cause by other reasons and not by a missing header.","body":"What proxy do you use? Note that some cloud services are protected using TLS fingerprinting which can detect the used ssl library and programming language. Which often means Python based proxies are blocked. So a HTTP 403 could be cause by other reasons and not by a missing header."},{"owner":{"account_id":16819363,"reputation":1,"user_id":12183133,"display_name":"El Turbo"},"score":0,"creation_date":1695127467,"post_id":77106795,"comment_id":135980076,"body_markdown":"@Robert I dont know what proxy is being used but I can see that the request is going out without the headers.  I can make other external requests over SSL, the issue is when headers are added","body":"@Robert I dont know what proxy is being used but I can see that the request is going out without the headers.  I can make other external requests over SSL, the issue is when headers are added"}],"owner":{"account_id":16819363,"reputation":1,"user_id":12183133,"display_name":"El Turbo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694708673,"creation_date":1694708673,"question_id":77106795,"body_markdown":"Trying to acccess an API outside the firewall so we are going through a proxy server but the issue is that this causes HttpURLConnection to drop any set request headers for the URL.\r\n\r\nSetup is simple \r\n\r\n```\r\n    static {\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;); //use proxy on windows machine\r\n\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;trust file&quot;); // for SSL\r\n\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword=&quot;, &quot;password&quot;);// for SSL\r\n    }\r\n\r\n```\r\n\r\nCode is as follows\r\n\r\n```    \r\n    URL obj = new URL(URL);\r\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();//proxy);\r\n    con.setRequestMethod(&quot;GET&quot;);\r\n    con.setRequestProperty(&quot;token&quot;,&quot;MYTOKEN&quot;);\r\n    int responseCode = con.getResponseCode(); \r\n\r\n```\r\nThe response returns a 403 forbidden error becasue it is n0t getting the set token.  This is not the same as the auth bug which is similar but is due to a specific header i believe.\r\n\r\n\r\nThe issue occurs in HttpURLConnection where the getReponseCode() initiates a connection. It tries to retrieve the inputstream but needs to connect() to do this.\r\n\r\nIn connect() in DelegateHttpsURLConnection it does a plainConnect() to return the proxy selector, however in that method we get to doTunneling() which is necesary for the proxy.\r\n\r\nin that method there are two lines\r\n```\r\n    MessageHeader savedRequests = requests;\r\n    requests = new MessageHeader();\r\n```\r\nthis moves the headers you set into a temporary object since they are not meant for the proxy server. it calls proxiedConnect(url, proxyHost, proxyPort, false); and connects to the proxy.\r\n\r\nit then goes to sendCONNECTRequest() but now the headers are not present and the call fails.\r\n\r\nI have to think that many people are using SSL over proxy for similar services, how is this not a bigger issue?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTried various permutations of the the calls and also tried -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; but I think this has to do with Basic authentication but is a similar issue.\r\n\r\nEverything ends up in the same state with the server returning a Forbidden error","title":"java Https request via proxy dropping headers in doTunneling causing 403","body":"<p>Trying to acccess an API outside the firewall so we are going through a proxy server but the issue is that this causes HttpURLConnection to drop any set request headers for the URL.</p>\n<p>Setup is simple</p>\n<pre><code>    static {\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;); //use proxy on windows machine\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;trust file&quot;); // for SSL\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword=&quot;, &quot;password&quot;);// for SSL\n    }\n\n</code></pre>\n<p>Code is as follows</p>\n<pre><code>    URL obj = new URL(URL);\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();//proxy);\n    con.setRequestMethod(&quot;GET&quot;);\n    con.setRequestProperty(&quot;token&quot;,&quot;MYTOKEN&quot;);\n    int responseCode = con.getResponseCode(); \n\n</code></pre>\n<p>The response returns a 403 forbidden error becasue it is n0t getting the set token.  This is not the same as the auth bug which is similar but is due to a specific header i believe.</p>\n<p>The issue occurs in HttpURLConnection where the getReponseCode() initiates a connection. It tries to retrieve the inputstream but needs to connect() to do this.</p>\n<p>In connect() in DelegateHttpsURLConnection it does a plainConnect() to return the proxy selector, however in that method we get to doTunneling() which is necesary for the proxy.</p>\n<p>in that method there are two lines</p>\n<pre><code>    MessageHeader savedRequests = requests;\n    requests = new MessageHeader();\n</code></pre>\n<p>this moves the headers you set into a temporary object since they are not meant for the proxy server. it calls proxiedConnect(url, proxyHost, proxyPort, false); and connects to the proxy.</p>\n<p>it then goes to sendCONNECTRequest() but now the headers are not present and the call fails.</p>\n<p>I have to think that many people are using SSL over proxy for similar services, how is this not a bigger issue?</p>\n<p>Tried various permutations of the the calls and also tried -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot; but I think this has to do with Basic authentication but is a similar issue.</p>\n<p>Everything ends up in the same state with the server returning a Forbidden error</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":29443826,"reputation":1,"user_id":22561550,"display_name":"Geuvch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694708103,"creation_date":1694708103,"question_id":77106734,"body_markdown":"I&#39;m trying to do pagination on keySet and use framework.\r\n\r\nThat framework is called Blaze Persistence, and it supports Keyset Pagination for JPA entity queries. \r\n\r\nPagination should take place without using offset , but I see offset in the request\r\n\r\n\r\n\r\n```\r\nkeysetPage = new DefaultKeysetPage(cursorKey.getFirstResult(), pageSize, keySetLowest, keySetHighest);\r\n```\r\n\r\n```\r\nCriteriaBuilder criteriaBuilder = criteriaBuilder\r\n            .orderBy(\r\n                    &quot;titile&quot;,\r\n                     ASC\r\n            )\r\n            .orderBy(\r\n                    &quot;id&quot;,\r\n                    ASC\r\n            )\r\n            ..page(keysetPage, pageNumber * pageSize, pageSize)\r\n                .getResultList();`\r\n```\r\n\r\nbut in hibernate log I see that the query uses offset\r\n\r\n`Hibernate: select h1_0.id,h1_0.description,h1_0.group_id,h1_0.icon,h1_0.participants_count,h1_0.title from hobby_type_entity h1_0 where (h1_0.title, ?) &lt; (?, h1_0.id) and 0=0 order by h1_0.title desc,h1_0.id offset ? rows fetch first ? rows only`\r\n\r\nhow can I make a pagination without using offset ?","title":"KeySet pagination with Blazebit use offset","body":"<p>I'm trying to do pagination on keySet and use framework.</p>\n<p>That framework is called Blaze Persistence, and it supports Keyset Pagination for JPA entity queries.</p>\n<p>Pagination should take place without using offset , but I see offset in the request</p>\n<pre><code>keysetPage = new DefaultKeysetPage(cursorKey.getFirstResult(), pageSize, keySetLowest, keySetHighest);\n</code></pre>\n<pre><code>CriteriaBuilder criteriaBuilder = criteriaBuilder\n            .orderBy(\n                    &quot;titile&quot;,\n                     ASC\n            )\n            .orderBy(\n                    &quot;id&quot;,\n                    ASC\n            )\n            ..page(keysetPage, pageNumber * pageSize, pageSize)\n                .getResultList();`\n</code></pre>\n<p>but in hibernate log I see that the query uses offset</p>\n<p><code>Hibernate: select h1_0.id,h1_0.description,h1_0.group_id,h1_0.icon,h1_0.participants_count,h1_0.title from hobby_type_entity h1_0 where (h1_0.title, ?) &lt; (?, h1_0.id) and 0=0 order by h1_0.title desc,h1_0.id offset ? rows fetch first ? rows only</code></p>\n<p>how can I make a pagination without using offset ?</p>\n"},{"tags":["java","spring-boot","lombok","builder","mapstruct"],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694707687,"creation_date":1694707687,"question_id":77106685,"body_markdown":"I have these entities\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;author&quot;)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@AllArgsConstructor(access = PROTECTED)\r\n@Setter\r\n@Getter\r\n@SuperBuilder\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@SuppressWarnings(&quot;java:S2160&quot;) // &quot;Subclasses that add fields should override equals&quot; - we only compare on id here.\r\npublic class AutorEntity extends BaseEntity {\r\n\r\n    @Fetch(FetchMode.SELECT)\r\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;game&quot;)\r\n    private List&lt;BookEntity&gt; books = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;books&quot;)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@AllArgsConstructor(access = PROTECTED)\r\n@Setter\r\n@Getter\r\n@SuperBuilder\r\npublic class BookEntity extends BookBaseEntity {\r\n\r\n    @Fetch(FetchMode.SELECT)\r\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;team&quot;)\r\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;author_id&quot;,\r\n                nullable = false, insertable = false, updatable = false)\r\n    private AuthorEntity autor;\r\n\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;pages&quot;)\r\n@NoArgsConstructor(access = PROTECTED)\r\n@AllArgsConstructor(access = PROTECTED)\r\n@Setter\r\n@Getter\r\n@SuperBuilder\r\npublic class PagesEntity extends PagesBaseEntity {\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;book_id&quot;, updatable = false, insertable = false)\r\n    @JoinColumn(name = &quot;page_id&quot;, referencedColumnName = &quot;page_id&quot;, updatable = false, insertable = false)\r\n    private BookEntity book;\r\n\r\n}\r\n```\r\nSimilarly my domain objects:\r\n```\r\n@Builder\r\npublic record Author(List&lt;Book&gt; books) implements BaseAuthor {}\r\n```\r\n\r\n```\r\n@Builder\r\npublic record Book(List&lt;Page&gt; pages, Author author) implements BaseBook {}\r\n```\r\n\r\n```\r\n@Builder\r\npublic record Page(Book book) implements BasePage {}\r\n```\r\n\r\nand my mapstruct mappers:\r\n```\r\n@Mapper(uses = {\r\n        BookEntityMapper.class\r\n})\r\npublic interface AuthorEntityMapper {\r\n\r\n    AuthorEntity toEntity(Author author);\r\n\r\n    Author toDomain(AuthorEntity authorEntity, @Context SomeContext ctx);\r\n}\r\n```\r\n```\r\n@Mapper(uses = {\r\n        PageEntityMapper.class\r\n})\r\npublic interface BookeEntityMapper{\r\n\r\n    BookEntity toEntity(Book book);\r\n\r\n    @Mapping(target = &quot;author&quot;, ignore = true)\r\n    Book toDomain(BookEntity bookEntity, @Context SomeContext ctx);\r\n}\r\n```\r\nthe `PageEntityMapper` looks similar. \r\nIf I leave it this way and build the project the generated `Impl` classes would now exclude the author back reference in the book. If I remove the `ignore = true` then I get an error: ` Unmapped target properties: &quot;books&quot;. Mapping from property &quot;AuthorEntity author&quot; to &quot;Author author&quot;.`. How can I solve this within my mappers. I tried doing @AfterMapping but I can&#39;t inject the Author bean inside the Book. Any suggestions would be appreciated. Thanks in advance","title":"Back referencing object with mapstruct","body":"<p>I have these entities</p>\n<pre><code>@Entity\n@Table(name = &quot;author&quot;)\n@NoArgsConstructor(access = PROTECTED)\n@AllArgsConstructor(access = PROTECTED)\n@Setter\n@Getter\n@SuperBuilder\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@SuppressWarnings(&quot;java:S2160&quot;) // &quot;Subclasses that add fields should override equals&quot; - we only compare on id here.\npublic class AutorEntity extends BaseEntity {\n\n    @Fetch(FetchMode.SELECT)\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;game&quot;)\n    private List&lt;BookEntity&gt; books = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;books&quot;)\n@NoArgsConstructor(access = PROTECTED)\n@AllArgsConstructor(access = PROTECTED)\n@Setter\n@Getter\n@SuperBuilder\npublic class BookEntity extends BookBaseEntity {\n\n    @Fetch(FetchMode.SELECT)\n    @OneToMany(cascade = ALL, orphanRemoval = true, mappedBy = &quot;team&quot;)\n    private List&lt;Page&gt; pages = new ArrayList&lt;&gt;();\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;author_id&quot;,\n                nullable = false, insertable = false, updatable = false)\n    private AuthorEntity autor;\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;pages&quot;)\n@NoArgsConstructor(access = PROTECTED)\n@AllArgsConstructor(access = PROTECTED)\n@Setter\n@Getter\n@SuperBuilder\npublic class PagesEntity extends PagesBaseEntity {\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;book_id&quot;, updatable = false, insertable = false)\n    @JoinColumn(name = &quot;page_id&quot;, referencedColumnName = &quot;page_id&quot;, updatable = false, insertable = false)\n    private BookEntity book;\n\n}\n</code></pre>\n<p>Similarly my domain objects:</p>\n<pre><code>@Builder\npublic record Author(List&lt;Book&gt; books) implements BaseAuthor {}\n</code></pre>\n<pre><code>@Builder\npublic record Book(List&lt;Page&gt; pages, Author author) implements BaseBook {}\n</code></pre>\n<pre><code>@Builder\npublic record Page(Book book) implements BasePage {}\n</code></pre>\n<p>and my mapstruct mappers:</p>\n<pre><code>@Mapper(uses = {\n        BookEntityMapper.class\n})\npublic interface AuthorEntityMapper {\n\n    AuthorEntity toEntity(Author author);\n\n    Author toDomain(AuthorEntity authorEntity, @Context SomeContext ctx);\n}\n</code></pre>\n<pre><code>@Mapper(uses = {\n        PageEntityMapper.class\n})\npublic interface BookeEntityMapper{\n\n    BookEntity toEntity(Book book);\n\n    @Mapping(target = &quot;author&quot;, ignore = true)\n    Book toDomain(BookEntity bookEntity, @Context SomeContext ctx);\n}\n</code></pre>\n<p>the <code>PageEntityMapper</code> looks similar.\nIf I leave it this way and build the project the generated <code>Impl</code> classes would now exclude the author back reference in the book. If I remove the <code>ignore = true</code> then I get an error: <code> Unmapped target properties: &quot;books&quot;. Mapping from property &quot;AuthorEntity author&quot; to &quot;Author author&quot;.</code>. How can I solve this within my mappers. I tried doing @AfterMapping but I can't inject the Author bean inside the Book. Any suggestions would be appreciated. Thanks in advance</p>\n"},{"tags":["java","spring-boot","rest","mocking"],"owner":{"account_id":29355395,"reputation":11,"user_id":22491472,"display_name":"Mr.Han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694707286,"creation_date":1694284462,"question_id":77073565,"body_markdown":"Currently, I&#39;m trying to develop a **Mock API platform** in **Spring Boot** that can create a mock RESTful endpoints for developer testing purposes. Specifically, I need to create a system where user can define their custom API endpoints, request and expected responses similar to swagger, mockapi.io, ...\r\n\r\n\r\n\r\nFor starter, I try a naive solution which **compile a controller Java class at runtime** and try to access that API endpoint but **not working**. Seem like, the Spring Bean Container cannot understand a new Controller Bean at runtime. \r\n\r\nApp.java\r\n```\r\n    public static void main(String[] args) throws ClassNotFoundException, IOException {\r\n        var context = SpringApplication.run(ApiSimulationApplication.class, args);\r\n        CreationService service = new CreationService();\r\n        Path mockControllerPath = service.createMockControllerFile();\r\n        service.compileFile(mockControllerPath);\r\n    }\r\n```\r\nMockController.java (created at runtime)\r\n\r\n```\r\n@RestController\r\npublic class MockController {\r\n    public MockController() {}\r\n\r\n    @GetMapping({&quot;/mock&quot;})\r\n    public String sayHello() {return &quot;Hello&quot;;}\r\n}\r\n\r\n```\r\nEven if I try to refresh the `ApplicationContex,` it will throw:\r\n\r\n&gt; GenericApplicationContext does not support multiple refresh attempts\r\n\r\nI could not think of any other solution or may be I have been following the wrong direction, so I am here to seek for advice and recommendations. \r\n**I am looking forward and really appreciate your help.**","title":"Creating a Mock API Platform Using Spring Boot: How to create an API at runtime?","body":"<p>Currently, I'm trying to develop a <strong>Mock API platform</strong> in <strong>Spring Boot</strong> that can create a mock RESTful endpoints for developer testing purposes. Specifically, I need to create a system where user can define their custom API endpoints, request and expected responses similar to swagger, mockapi.io, ...</p>\n<p>For starter, I try a naive solution which <strong>compile a controller Java class at runtime</strong> and try to access that API endpoint but <strong>not working</strong>. Seem like, the Spring Bean Container cannot understand a new Controller Bean at runtime.</p>\n<p>App.java</p>\n<pre><code>    public static void main(String[] args) throws ClassNotFoundException, IOException {\n        var context = SpringApplication.run(ApiSimulationApplication.class, args);\n        CreationService service = new CreationService();\n        Path mockControllerPath = service.createMockControllerFile();\n        service.compileFile(mockControllerPath);\n    }\n</code></pre>\n<p>MockController.java (created at runtime)</p>\n<pre><code>@RestController\npublic class MockController {\n    public MockController() {}\n\n    @GetMapping({&quot;/mock&quot;})\n    public String sayHello() {return &quot;Hello&quot;;}\n}\n\n</code></pre>\n<p>Even if I try to refresh the <code>ApplicationContex,</code> it will throw:</p>\n<blockquote>\n<p>GenericApplicationContext does not support multiple refresh attempts</p>\n</blockquote>\n<p>I could not think of any other solution or may be I have been following the wrong direction, so I am here to seek for advice and recommendations.\n<strong>I am looking forward and really appreciate your help.</strong></p>\n"},{"tags":["java","html","selenium-webdriver","accessibility","selenide"],"comments":[{"owner":{"account_id":708924,"reputation":5021,"user_id":608042,"accept_rate":62,"display_name":"Andy"},"score":1,"creation_date":1694693920,"post_id":77104442,"comment_id":135926665,"body_markdown":"Nice approach to test from an AT perspective! While there is a `getAriaRole` method on WebElement, the [`By`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html) does not seem to have an ARIA locating mechanism.\nXPath wont help you at all, because the role and the accessible name need to be computed. You’d need to create a selector that takes into account all possible ways to assign role, and accessible name. There might be a library for that, though.","body":"Nice approach to test from an AT perspective! While there is a <code>getAriaRole</code> method on WebElement, the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html\" rel=\"nofollow noreferrer\"><code>By</code></a> does not seem to have an ARIA locating mechanism. XPath wont help you at all, because the role and the accessible name need to be computed. You’d need to create a selector that takes into account all possible ways to assign role, and accessible name. There might be a library for that, though."}],"answers":[{"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1696589130,"post_id":77106617,"comment_id":136175661,"body_markdown":"It kind of works, but not really. Will  `@role=&#39;region&#39;` find elements with tag `&lt;section&gt;` without specifying the role attribute directly? Also, will aria-label work with `contains(.,&#39;Title&#39;)`?","body":"It kind of works, but not really. Will  <code>@role=&#39;region&#39;</code> find elements with tag <code>&lt;section&gt;</code> without specifying the role attribute directly? Also, will aria-label work with <code>contains(.,&#39;Title&#39;)</code>?"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1696590319,"post_id":77106617,"comment_id":136175888,"body_markdown":"Xpath logic is: find any element, which attribute role equals &#39;region&#39; and that contains any child with text `Title`. If you doesn&#39;t care about role tag, you can specify `//*[@role and .//*[contains(.,&#39;Title&#39;)]]` .\nTry it there https://inputnum.w3spaces.com/saved-from-Tryit-2023-10-06.html","body":"Xpath logic is: find any element, which attribute role equals &#39;region&#39; and that contains any child with text <code>Title</code>. If you doesn&#39;t care about role tag, you can specify <code>&#47;&#47;*[@role and .&#47;&#47;*[contains(.,&#39;Title&#39;)]]</code> . Try it there <a href=\"https://inputnum.w3spaces.com/saved-from-Tryit-2023-10-06.html\" rel=\"nofollow noreferrer\">inputnum.w3spaces.com/saved-from-Tryit-2023-10-06.html</a>"}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694707102,"creation_date":1694707102,"answer_id":77106617,"question_id":77104442,"body_markdown":"Selenide doesn&#39;t have built-in function for getting element by role and title, however, it can be easily done with xPath\r\n\r\nFor example, this locator would point for your section element with `role` where child exists with text that contains Title.\r\n```java\r\n$x(&quot;//*[@role=&#39;region&#39; and .//*[contains(.,&#39;Title&#39;)]]&quot;)\r\n```\r\n\r\nor you can do it by using `filter` from `Stream API`\r\n```java\r\n$$(&quot;[role=region]&quot;).stream().filter(el -&gt; el.innerText().contains(&quot;Title&quot;))\r\n.findFirst().get();\r\n```\r\n","title":"Is it possible to find an element with accessible role and name?","body":"<p>Selenide doesn't have built-in function for getting element by role and title, however, it can be easily done with xPath</p>\n<p>For example, this locator would point for your section element with <code>role</code> where child exists with text that contains Title.</p>\n<pre class=\"lang-java prettyprint-override\"><code>$x(&quot;//*[@role='region' and .//*[contains(.,'Title')]]&quot;)\n</code></pre>\n<p>or you can do it by using <code>filter</code> from <code>Stream API</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>$$(&quot;[role=region]&quot;).stream().filter(el -&gt; el.innerText().contains(&quot;Title&quot;))\n.findFirst().get();\n</code></pre>\n"}],"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694707102,"creation_date":1694690906,"question_id":77104442,"body_markdown":"I have an html structure like:\r\n```html\r\n&lt;section aria-labelledby=&quot;123&quot;&gt;\r\n  &lt;h2 id=&quot;123&quot;&gt;Title&lt;/h2&gt;\r\n&lt;/section&gt;\r\n```\r\nThe html [`section`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/section) element has an implicit [`region`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/region_role) accessibility role\r\n\r\nIs there something like `byRole` selenide selector that would find the element by role and name?\r\n\r\ne.g.:\r\n```java\r\nbyRole(&#39;region&#39;, &#39;Title&#39;)\r\n```\r\nOr can it be grabbed using xpath?","title":"Is it possible to find an element with accessible role and name?","body":"<p>I have an html structure like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;section aria-labelledby=&quot;123&quot;&gt;\n  &lt;h2 id=&quot;123&quot;&gt;Title&lt;/h2&gt;\n&lt;/section&gt;\n</code></pre>\n<p>The html <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/section\" rel=\"nofollow noreferrer\"><code>section</code></a> element has an implicit <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/region_role\" rel=\"nofollow noreferrer\"><code>region</code></a> accessibility role</p>\n<p>Is there something like <code>byRole</code> selenide selector that would find the element by role and name?</p>\n<p>e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byRole('region', 'Title')\n</code></pre>\n<p>Or can it be grabbed using xpath?</p>\n"},{"tags":["java","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":0,"creation_date":1474573468,"post_id":39616160,"comment_id":66598584,"body_markdown":"I am still looking into it.","body":"I am still looking into it."},{"owner":{"account_id":3057974,"reputation":3672,"user_id":2591231,"accept_rate":67,"display_name":"Doron Gold"},"score":1,"creation_date":1489279171,"post_id":39616160,"comment_id":72602450,"body_markdown":"https://github.com/gigaSproule/swagger-gradle-plugin \n\nDid you try this plugin?\nIt claims to do exactly what you are asking for.","body":"<a href=\"https://github.com/gigaSproule/swagger-gradle-plugin\" rel=\"nofollow noreferrer\">github.com/gigaSproule/swagger-gradle-plugin</a>   Did you try this plugin? It claims to do exactly what you are asking for."},{"owner":{"account_id":3370718,"reputation":1741,"user_id":2829987,"accept_rate":68,"display_name":"lex"},"score":0,"creation_date":1513817380,"post_id":39616160,"comment_id":82800803,"body_markdown":"On using swagger-gradle-plugin, I am running into the following error: com.fasterxml.jackson.databind.JsonMappingException: No content to map due to end-of-input\n   at [Source: UNKNOWN; line: 1, column: 0]","body":"On using swagger-gradle-plugin, I am running into the following error: com.fasterxml.jackson.databind.JsonMappingException: No content to map due to end-of-input    at [Source: UNKNOWN; line: 1, column: 0]"}],"answers":[{"comments":[{"owner":{"account_id":6468461,"reputation":996,"user_id":5009459,"accept_rate":25,"display_name":"JBarros35"},"score":0,"creation_date":1601221489,"post_id":39869137,"comment_id":113332552,"body_markdown":"its broken in the current spring boot versions. be advised","body":"its broken in the current spring boot versions. be advised"}],"tags":[],"owner":{"account_id":9325367,"reputation":29,"user_id":6922865,"display_name":"Uladzimir Zhuraulevich"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1532438616,"creation_date":1475656679,"answer_id":39869137,"question_id":39616160,"body_markdown":"The main idea is to  add swagger-maven-plugin and your java classes into classpath for buildScript to be able to use them in the gradle, something like this:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath files(project(&#39;:swagger-maven-example&#39;).configurations[&#39;runtime&#39;].files)\r\n            classpath files(project(&#39;:swagger-maven-example&#39;).sourceSets[&#39;main&#39;].output.classesDir)\r\n        }\r\n    }\r\nwhere the first line in the dependencies gets swagger libs from sub project and the second line gets your classes which should contain swagger annotations.\r\n\r\nAfter this you can invoke maven plugin in the gradle as a simple java class:\r\n\r\n    \r\n\r\n    // a trick to have all needed classes in the classpath\r\n    def customClass = new GroovyClassLoader()\r\n\r\n    buildscript.configurations.classpath.each {\r\n        // println it.toURI().toURL()\r\n        customClass.addURL(it.toURI().toURL())\r\n    }\r\n\r\n    final ApiDocumentMojo mavenTask = Class.forName(&#39;com.github.kongchen.swagger.docgen.mavenplugin.ApiDocumentMojo&#39;,true, customClass).newInstance(\r\n            apiSources: [\r\n                    new ApiSource(\r\n                            springmvc: false,\r\n                            locations: [&#39;com/github/kongchen/swagger/sample/wordnik/resource&#39;],\r\n                            schemes: [&#39;http&#39;, &#39;https&#39;],\r\n                            host: &#39;petstore.swagger.wordnik.com&#39;,\r\n                            basePath: &#39;/api&#39;,\r\n                            info: new Info(\r\n                                    title: &#39;Swagger Maven Plugin Sample&#39;,\r\n                                    version: &#39;v1&#39;,\r\n                                    description: &#39;This is a sample for swagger-maven-plugin&#39;,\r\n                                    termsOfService: &#39;http://www.github.com/kongchen/swagger-maven-plugin&#39;,\r\n                                    contact: new Contact(\r\n                                            email: &#39;kongchen@gmail.com&#39;,\r\n                                            name: &#39;Kong Chen&#39;,\r\n                                            url: &#39;http://kongch.com&#39;\r\n                                    ),\r\n                                    license: new License(\r\n                                            url: &#39;http://www.apache.org/licenses/LICENSE-2.0.html&#39;,\r\n                                            name: &#39;Apache 2.0&#39;\r\n                                    )\r\n                            ),\r\n                            outputPath: file(&quot;${buildDir}/swagger/document.html&quot;).path,\r\n                            swaggerDirectory: file(&quot;${buildDir}/swagger/swagger-ui&quot;).path,\r\n                            templatePath: file(&quot;${project(&#39;:swagger-maven-example&#39;).projectDir}/templates/strapdown.html.hbs&quot;)\r\n                    )\r\n            ]\r\n    )\r\n    \r\n    // maven plugin\r\n    mavenTask.execute()\r\n\r\n[Here][1] you can find this example.\r\n\r\n\r\n  [1]: https://github.com/zhurlik/swagger-gradle-example","title":"How to generate swagger.json using gradle?","body":"<p>The main idea is to  add swagger-maven-plugin and your java classes into classpath for buildScript to be able to use them in the gradle, something like this:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath files(project(':swagger-maven-example').configurations['runtime'].files)\n        classpath files(project(':swagger-maven-example').sourceSets['main'].output.classesDir)\n    }\n}\n</code></pre>\n\n<p>where the first line in the dependencies gets swagger libs from sub project and the second line gets your classes which should contain swagger annotations.</p>\n\n<p>After this you can invoke maven plugin in the gradle as a simple java class:</p>\n\n<pre><code>// a trick to have all needed classes in the classpath\ndef customClass = new GroovyClassLoader()\n\nbuildscript.configurations.classpath.each {\n    // println it.toURI().toURL()\n    customClass.addURL(it.toURI().toURL())\n}\n\nfinal ApiDocumentMojo mavenTask = Class.forName('com.github.kongchen.swagger.docgen.mavenplugin.ApiDocumentMojo',true, customClass).newInstance(\n        apiSources: [\n                new ApiSource(\n                        springmvc: false,\n                        locations: ['com/github/kongchen/swagger/sample/wordnik/resource'],\n                        schemes: ['http', 'https'],\n                        host: 'petstore.swagger.wordnik.com',\n                        basePath: '/api',\n                        info: new Info(\n                                title: 'Swagger Maven Plugin Sample',\n                                version: 'v1',\n                                description: 'This is a sample for swagger-maven-plugin',\n                                termsOfService: 'http://www.github.com/kongchen/swagger-maven-plugin',\n                                contact: new Contact(\n                                        email: 'kongchen@gmail.com',\n                                        name: 'Kong Chen',\n                                        url: 'http://kongch.com'\n                                ),\n                                license: new License(\n                                        url: 'http://www.apache.org/licenses/LICENSE-2.0.html',\n                                        name: 'Apache 2.0'\n                                )\n                        ),\n                        outputPath: file(\"${buildDir}/swagger/document.html\").path,\n                        swaggerDirectory: file(\"${buildDir}/swagger/swagger-ui\").path,\n                        templatePath: file(\"${project(':swagger-maven-example').projectDir}/templates/strapdown.html.hbs\")\n                )\n        ]\n)\n\n// maven plugin\nmavenTask.execute()\n</code></pre>\n\n<p><a href=\"https://github.com/zhurlik/swagger-gradle-example\" rel=\"nofollow noreferrer\">Here</a> you can find this example.</p>\n"},{"tags":[],"owner":{"account_id":246295,"reputation":11636,"user_id":520359,"accept_rate":87,"display_name":"Lachezar Balev"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495521703,"creation_date":1495521221,"answer_id":44127397,"question_id":39616160,"body_markdown":"This is a bit old but I was wondering exactly the same... In short I&#39;ve started the research with:\r\n\r\n* A sample Spring Boot app exposing minimalistic REST API;\r\n* Swagger annotations on the API methods;\r\n* Springfox;\r\n* Gradle as a build tool;\r\n\r\nI managed to generate the JSON spec as a build artifact using two different approaches:\r\n\r\n1. By using a [gradle port][1] of the [swagger-maven-plugin of kongchen][2]. \r\n2. (Not sure if this counts, because it starts a server anyways) By executing an integration test (Spring&#39;s mock MVC) which generates the specification. I borrowed the idea from [here][3].\r\n\r\nI&#39;ve summarized my research in a simple project located [here][4]. See the `Automation` section. Code and examples are included.\r\n\r\n  [1]: https://github.com/gigaSproule/swagger-gradle-plugin\r\n  [2]: https://github.com/kongchen/swagger-maven-plugin\r\n  [3]: https://jhipster.github.io/tips/008_tips_static_swagger_docs.html\r\n  [4]: https://github.com/luchob/swagger-example","title":"How to generate swagger.json using gradle?","body":"<p>This is a bit old but I was wondering exactly the same... In short I've started the research with:</p>\n\n<ul>\n<li>A sample Spring Boot app exposing minimalistic REST API;</li>\n<li>Swagger annotations on the API methods;</li>\n<li>Springfox;</li>\n<li>Gradle as a build tool;</li>\n</ul>\n\n<p>I managed to generate the JSON spec as a build artifact using two different approaches:</p>\n\n<ol>\n<li>By using a <a href=\"https://github.com/gigaSproule/swagger-gradle-plugin\" rel=\"noreferrer\">gradle port</a> of the <a href=\"https://github.com/kongchen/swagger-maven-plugin\" rel=\"noreferrer\">swagger-maven-plugin of kongchen</a>. </li>\n<li>(Not sure if this counts, because it starts a server anyways) By executing an integration test (Spring's mock MVC) which generates the specification. I borrowed the idea from <a href=\"https://jhipster.github.io/tips/008_tips_static_swagger_docs.html\" rel=\"noreferrer\">here</a>.</li>\n</ol>\n\n<p>I've summarized my research in a simple project located <a href=\"https://github.com/luchob/swagger-example\" rel=\"noreferrer\">here</a>. See the <code>Automation</code> section. Code and examples are included.</p>\n"}],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26443,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":2,"score":27,"last_activity_date":1694706996,"creation_date":1474459636,"question_id":39616160,"body_markdown":"I want to use swagger-codegen to generate REST clients and possibly static HTML documentation.\r\n\r\nHowever, swagger-codegen needs swagger.json for input.\r\n\r\nI am aware, that I can get this from a running REST server equipped with Swagger.\r\n\r\nBut is there a way to obtain swagger.json directly from my Java code - i.e. to generate it with gradle from the source code - without the need to run the application in a web container, and pointing `curl`  or a browser to it?","title":"How to generate swagger.json using gradle?","body":"<p>I want to use swagger-codegen to generate REST clients and possibly static HTML documentation.</p>\n\n<p>However, swagger-codegen needs swagger.json for input.</p>\n\n<p>I am aware, that I can get this from a running REST server equipped with Swagger.</p>\n\n<p>But is there a way to obtain swagger.json directly from my Java code - i.e. to generate it with gradle from the source code - without the need to run the application in a web container, and pointing <code>curl</code>  or a browser to it?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":2246036,"reputation":9142,"user_id":1979347,"accept_rate":87,"display_name":"Rohan Kandwal"},"score":0,"creation_date":1696930850,"post_id":77106551,"comment_id":136212479,"body_markdown":"Doesn&#39;t work for me, I didn&#39;t install via Brew. It&#39;s happening after Giraffe and very frequently. The only solution is to kill adb manually from activity monitor (Task Manager) and re-run the app.","body":"Doesn&#39;t work for me, I didn&#39;t install via Brew. It&#39;s happening after Giraffe and very frequently. The only solution is to kill adb manually from activity monitor (Task Manager) and re-run the app."}],"tags":[],"owner":{"account_id":2085210,"reputation":2735,"user_id":1856361,"display_name":"Matthew Shearer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694706601,"creation_date":1694706601,"answer_id":77106551,"question_id":77084915,"body_markdown":"I had something similar.  I think I had `adb` installed via brew.\r\n\r\nFor me\r\n```\r\nbrew  uninstall android-platform-tools\r\n```\r\n\r\nfixed the issue","title":"Android Studio launching app gets stuck infinitely","body":"<p>I had something similar.  I think I had <code>adb</code> installed via brew.</p>\n<p>For me</p>\n<pre><code>brew  uninstall android-platform-tools\n</code></pre>\n<p>fixed the issue</p>\n"}],"owner":{"account_id":29417864,"reputation":21,"user_id":22540279,"display_name":"Censor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694706601,"creation_date":1694468364,"question_id":77084915,"body_markdown":"I just recently installed Android Studio and any time I click &#39;Run app&#39; button it will load infinitely before timing out. The emulator is launched and runs fine, but the Background Tasks always shows either &quot;Terminating App&quot; or &quot;Waiting for all target devices to come online&quot;.\r\n\r\nThe Gradle does build successfully, but after that I just get the infinite launching until timeout.\r\nI also get a &quot;App failed to install&quot; message after this timeout.\r\n\r\n[Waiting for target devices: Image](https://i.stack.imgur.com/5s85N.png)\r\n\r\n[Terminating App: Image](https://i.stack.imgur.com/e2JoX.png)\r\n\r\nI&#39;d be happy to give any more necessary information, I really need to get this fixed for my Mobile App Development class.\r\n\r\nAndroid Studio Version: Android Studio Giraffe | 2022.3.1 Patch 1\r\n\r\nI&#39;ve tried everything I can think of, invalidating the cache, restarting my device and Android Studio, reinstalling. I can&#39;t even seem to find any error logs so I haven&#39;t been able to diagnose this issue myself.","title":"Android Studio launching app gets stuck infinitely","body":"<p>I just recently installed Android Studio and any time I click 'Run app' button it will load infinitely before timing out. The emulator is launched and runs fine, but the Background Tasks always shows either &quot;Terminating App&quot; or &quot;Waiting for all target devices to come online&quot;.</p>\n<p>The Gradle does build successfully, but after that I just get the infinite launching until timeout.\nI also get a &quot;App failed to install&quot; message after this timeout.</p>\n<p><a href=\"https://i.stack.imgur.com/5s85N.png\" rel=\"nofollow noreferrer\">Waiting for target devices: Image</a></p>\n<p><a href=\"https://i.stack.imgur.com/e2JoX.png\" rel=\"nofollow noreferrer\">Terminating App: Image</a></p>\n<p>I'd be happy to give any more necessary information, I really need to get this fixed for my Mobile App Development class.</p>\n<p>Android Studio Version: Android Studio Giraffe | 2022.3.1 Patch 1</p>\n<p>I've tried everything I can think of, invalidating the cache, restarting my device and Android Studio, reinstalling. I can't even seem to find any error logs so I haven't been able to diagnose this issue myself.</p>\n"},{"tags":["java","dex"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694767839,"post_id":77105880,"comment_id":135937421,"body_markdown":"Please be ware that with Android 14 there are changes regarding dynamic code loading: https://developer.android.com/about/versions/14/behavior-changes-14#safer-dynamic-code-loading","body":"Please be ware that with Android 14 there are changes regarding dynamic code loading: <a href=\"https://developer.android.com/about/versions/14/behavior-changes-14#safer-dynamic-code-loading\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/14/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9716165,"reputation":21,"user_id":10273624,"display_name":"Михаил Куликовец"},"score":1,"creation_date":1694703164,"post_id":77105975,"comment_id":135928955,"body_markdown":"if change classLoader.load(&quot;ScriptClass&quot;) to classLoader.load(&quot;WrongClass&quot;) for example, error appears &quot;DexClassLoader didn&#39;t find class WrongClass&quot;, but if you write the class name correctly, you get the error that I wrote above, which means the loader finds the required class, but then maybe something else starts looking for .dm file","body":"if change classLoader.load(&quot;ScriptClass&quot;) to classLoader.load(&quot;WrongClass&quot;) for example, error appears &quot;DexClassLoader didn&#39;t find class WrongClass&quot;, but if you write the class name correctly, you get the error that I wrote above, which means the loader finds the required class, but then maybe something else starts looking for .dm file"}],"tags":[],"owner":{"account_id":20806610,"reputation":1,"user_id":15281387,"display_name":"Yagiz_ebil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694702241,"creation_date":1694702241,"answer_id":77105975,"question_id":77105880,"body_markdown":"I have never heard of &quot;.dm&quot; in the Android development environment. There might be a typo in your code that causing this unusual file extension error. Or I don&#39;t know if it is specific for you project setup.","title":"DexClassLoader unable to open .dm file","body":"<p>I have never heard of &quot;.dm&quot; in the Android development environment. There might be a typo in your code that causing this unusual file extension error. Or I don't know if it is specific for you project setup.</p>\n"}],"owner":{"account_id":9716165,"reputation":21,"user_id":10273624,"display_name":"Михаил Куликовец"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694706521,"creation_date":1694701719,"question_id":77105880,"body_markdown":"I&#39;m trying to implement a string launch in an Android application as java code.\r\nI&#39;m using libgdx, janino compiler and dx.\r\n\r\n    String script = &quot;public class Script{\\n}&quot;; //just for example\r\n    SimpleCompiler compiler = new SimpleCompiler();\r\n\r\n    try {\r\n    \r\n    compiler.cook(script);\r\n    FileHandle newFile = Gdx.files.external(&quot;ScriptClass.class&quot;);\r\n    if (!newFile.exists())\r\n        newFile.write(false);\r\n\r\n\r\n    newFile.writeBytes(compiler.getBytecodes().get(&quot;ScriptClass&quot;), false);\r\n\r\n\t\tString scriptPath = Gdx.files.getExternalStoragePath();\r\n        Main.main(new String[]{\r\n\t\t\t\t\t&quot;--output=&quot; +scriptPath +&quot;/ScriptClass.dex&quot;, scriptPath +&quot;/./ScriptClass.class&quot;\r\n\t    });\r\n\r\n\t\tPathClassLoader classLoader = new PathClassLoader(scriptPath +&quot;/ScriptClass.dex&quot;, ScriptInterface.class.getClassLoader());\r\n    classLoader.loadClass(&quot;ScriptClass&quot;);\r\n            \r\n    } catch (CompileException e) {\r\n        e.printStackTrace();\r\n    } catch (ClassNotFoundException e) {\r\n        e.printStackTrace();\r\n    } catch (IllegalAccessException e) {\r\n        e.printStackTrace();\r\n    } catch (InstantiationException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nI create a .java class from a string, compile it into a .class file, then compile it into a .dex, the .dex file is created, but the class does not start and an error occurs\r\n&quot;ziparchive unable to open &#39;ScriptClass.dm&#39; no such file or directory&quot; (System.err)\r\nWhat is this .dm file, why is it needed and how to create it?","title":"DexClassLoader unable to open .dm file","body":"<p>I'm trying to implement a string launch in an Android application as java code.\nI'm using libgdx, janino compiler and dx.</p>\n<pre><code>String script = &quot;public class Script{\\n}&quot;; //just for example\nSimpleCompiler compiler = new SimpleCompiler();\n\ntry {\n\ncompiler.cook(script);\nFileHandle newFile = Gdx.files.external(&quot;ScriptClass.class&quot;);\nif (!newFile.exists())\n    newFile.write(false);\n\n\nnewFile.writeBytes(compiler.getBytecodes().get(&quot;ScriptClass&quot;), false);\n\n    String scriptPath = Gdx.files.getExternalStoragePath();\n    Main.main(new String[]{\n                &quot;--output=&quot; +scriptPath +&quot;/ScriptClass.dex&quot;, scriptPath +&quot;/./ScriptClass.class&quot;\n    });\n\n    PathClassLoader classLoader = new PathClassLoader(scriptPath +&quot;/ScriptClass.dex&quot;, ScriptInterface.class.getClassLoader());\nclassLoader.loadClass(&quot;ScriptClass&quot;);\n        \n} catch (CompileException e) {\n    e.printStackTrace();\n} catch (ClassNotFoundException e) {\n    e.printStackTrace();\n} catch (IllegalAccessException e) {\n    e.printStackTrace();\n} catch (InstantiationException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I create a .java class from a string, compile it into a .class file, then compile it into a .dex, the .dex file is created, but the class does not start and an error occurs\n&quot;ziparchive unable to open 'ScriptClass.dm' no such file or directory&quot; (System.err)\nWhat is this .dm file, why is it needed and how to create it?</p>\n"},{"tags":["java","methods","overloading","conditional-operator"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1694703396,"post_id":77106091,"comment_id":135929013,"body_markdown":"Does this answer your question? [Unexpected type resulting from the ternary operator](https://stackoverflow.com/questions/25230171/unexpected-type-resulting-from-the-ternary-operator)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25230171/unexpected-type-resulting-from-the-ternary-operator\">Unexpected type resulting from the ternary operator</a>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1694703586,"post_id":77106091,"comment_id":135929062,"body_markdown":"You could if you had a method with `method(Object arg1, byte[] arg2)`. `String` and `byte[]` are completely different types, so what type should the expression `a != null ? a : b` have? Only `Object` is possible here.","body":"You could if you had a method with <code>method(Object arg1, byte[] arg2)</code>. <code>String</code> and <code>byte[]</code> are completely different types, so what type should the expression <code>a != null ? a : b</code> have? Only <code>Object</code> is possible here."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1694706149,"post_id":77106091,"comment_id":135929649,"body_markdown":"The short answer is this: a ternary/conditional operator is not a 1-for-1 substitute for an if-else.","body":"The short answer is this: a ternary/conditional operator is not a 1-for-1 substitute for an if-else."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694706051,"creation_date":1694706051,"answer_id":77106486,"question_id":77106091,"body_markdown":"The compiler needs to decide what the type of each expression is. java is a two-step process: First the compiler turns your java source code into bytecode, then the JVM runs that bytecode.\r\n\r\nThe key point is: Figuring out which method __overload__ to call is done __by the compiler__. 2 methods with the same name but different param types? Those are &#39;overloads&#39;. Those 2 methods you have, even though they have the same name, are __utterly unrelated__ - in JVM terms a method&#39;s identity is the combination of its name, _and_ its param types (but not its param names), _and_ its return type.\r\n\r\n`method(byte[], String)` and `method(String, String)` are thus as unrelated as `foo()` and `bar()` are: They are just.. completely different.\r\n\r\nThe __compilation phase__ (`javac`) needs to figure out which of the two methods you intend. A method call as written in java source code translates to 1 `INVOKEVIRTUAL` bytecode instruction.\r\n\r\nHence, `method(x ? a : b, c)` does not work if `a` would lead you to one overload and `b` would lead to another - javac just doesn&#39;t work that way (why not? Well, at some point it&#39;s &quot;Because the spec says so&quot;).\r\n\r\nIn bytecode terms:\r\n\r\n```\r\nmethod(x ? a : b, c)\r\n```\r\n\r\nis a string that `javac` parses and converts into bytecode. That bytecode looks roughly like this:\r\n```\r\nPUSH x        // x is now on the stack\r\nCHECKBOOL +2  // pop the stack. Is it &#39;true&#39;? Advance 10 instructions. Otherwise just continue\r\nPUSH b\r\nADVANCE +1    // skip over next instruction\r\nPUSH a\r\nPUSH c\r\nINVOKEVIRTUAL com.foo.YourClass method([BLjava/lang/String;)V\r\n```\r\n\r\nThe crucial insight is that last one: That weird string is JVM-ese for &#39;a method located in `com.foo.YourClass`, named `method`, with 2 parameters, the first is a byte array (`[B`), the second is a string (`Ljava/lang/String:)`, which returns void `)V`. That WHOLE THING is the identity of the method. And the point is, `javac` must figure out what to put there, and in your ternary operator, there&#39;s nothing that fits - because depending on which way the operator goes, you want a completely different method.\r\n\r\nHence why it doesn&#39;t work. Now, javac _could_ be updated so that it simply turns the java source code `method(x ? a : b, c)` into this bytecode:\r\n\r\n```\r\nPUSH x\r\nCHECKBOOL +4\r\nPUSH b\r\nPUSH c\r\nINVOKEVIRTUAL  com.foo.YourClass method([BLjava/lang/String;)V\r\nADVANCE +3\r\nPUSH a\r\nPUSH c\r\nINVOKEVIRTUAL com.foo.YourClass method(Ljava/lang/String;Ljava/lang/String;)V\r\n```\r\n\r\ni.e. generate both INVOKEVIRTUALS, but the spec says that java-the-language doesn&#39;t work that way.\r\n\r\nThis has some advantages. For example, in IDEs, you can CMD/CTRL+click on `method` in your line `method(x ? a : b, c)` and the IDE will then jump to the place where `method` is defined. If it worked like you thought, then.. which of the two `method` implementations should your editor hop to? It would have to show you a menu of all possible methods it could lead to and ask you to pick which one you wanted. That&#39;d be fine too, but IDEs don&#39;t have to worry about this: Any single method name is necessarily linked to a single method definition.\r\n\r\n## So what the heck is dynamic dispatch about, then?\r\n\r\nThat only applies when you have 2 methods whose identity is _the same_, but the methods are in different classes:\r\n\r\n```\r\nclass Parent {\r\n  byte foo(int[] x, boolean a) {}\r\n}\r\n\r\nclass Child extends Parent {\r\n  byte foo(int[] y, boolean b) {}\r\n}\r\n```\r\n\r\nHere, both `foo` have an identical identity: It&#39;s both `foo([IZ])B` in JVM-speak. The compiler will encode that, but the runtime will figure out which of the various overrides to call. Thus, given:\r\n\r\n```\r\nParent p = new Child();\r\np.foo(arg, arg)\r\n```\r\n\r\nThe actual method invoked at runtime would be the `foo` that Child defines.\r\n\r\n## The take-home\r\n\r\n* Compiler decides which overload\r\n* Runtime decides which override\r\n\r\noverload = same method name, different parameter types/counts\r\noverride = same method name _and_ parameter types/counts, but that method also exists in one of your supertypes.\r\n\r\n## So break down in detail why the compiler fails here\r\n\r\n`x ? a : b` is an expression that needs a type. If `a` is of type `byte[]` and `b` is of type `String`, as in your example, the compiler is forced to figure out __one single type__ that fits in either scenario. In other words, some type that _both_ `byte[]` as well as `String` are compatible with.\r\n\r\nAnd byte[] and String share very little. So, it&#39;s `Object &amp; Serializable`. Basically, just `Object` (let&#39;s not open the can of worms of `Serializable` here) - because that&#39;s the most specific shared parentage of String and byte[]. Thus, javac looks for a method whose signature is `method(Object, byte[])`, doesn&#39;t find one, and errors out.\r\n\r\nIn contrast, with your `if` based code construct, the first arg in each block is of type `byte[]` or `String` - so the compiler looks for `method(byte[], byte[])` and finds that, and in the `else` block, looks for `method(String, byte)`, also an existing thing, and compiles that. No errors.\r\n","title":"JAVA: Compiler error using ternary operator in method overload","body":"<p>The compiler needs to decide what the type of each expression is. java is a two-step process: First the compiler turns your java source code into bytecode, then the JVM runs that bytecode.</p>\n<p>The key point is: Figuring out which method <strong>overload</strong> to call is done <strong>by the compiler</strong>. 2 methods with the same name but different param types? Those are 'overloads'. Those 2 methods you have, even though they have the same name, are <strong>utterly unrelated</strong> - in JVM terms a method's identity is the combination of its name, <em>and</em> its param types (but not its param names), <em>and</em> its return type.</p>\n<p><code>method(byte[], String)</code> and <code>method(String, String)</code> are thus as unrelated as <code>foo()</code> and <code>bar()</code> are: They are just.. completely different.</p>\n<p>The <strong>compilation phase</strong> (<code>javac</code>) needs to figure out which of the two methods you intend. A method call as written in java source code translates to 1 <code>INVOKEVIRTUAL</code> bytecode instruction.</p>\n<p>Hence, <code>method(x ? a : b, c)</code> does not work if <code>a</code> would lead you to one overload and <code>b</code> would lead to another - javac just doesn't work that way (why not? Well, at some point it's &quot;Because the spec says so&quot;).</p>\n<p>In bytecode terms:</p>\n<pre><code>method(x ? a : b, c)\n</code></pre>\n<p>is a string that <code>javac</code> parses and converts into bytecode. That bytecode looks roughly like this:</p>\n<pre><code>PUSH x        // x is now on the stack\nCHECKBOOL +2  // pop the stack. Is it 'true'? Advance 10 instructions. Otherwise just continue\nPUSH b\nADVANCE +1    // skip over next instruction\nPUSH a\nPUSH c\nINVOKEVIRTUAL com.foo.YourClass method([BLjava/lang/String;)V\n</code></pre>\n<p>The crucial insight is that last one: That weird string is JVM-ese for 'a method located in <code>com.foo.YourClass</code>, named <code>method</code>, with 2 parameters, the first is a byte array (<code>[B</code>), the second is a string (<code>Ljava/lang/String:)</code>, which returns void <code>)V</code>. That WHOLE THING is the identity of the method. And the point is, <code>javac</code> must figure out what to put there, and in your ternary operator, there's nothing that fits - because depending on which way the operator goes, you want a completely different method.</p>\n<p>Hence why it doesn't work. Now, javac <em>could</em> be updated so that it simply turns the java source code <code>method(x ? a : b, c)</code> into this bytecode:</p>\n<pre><code>PUSH x\nCHECKBOOL +4\nPUSH b\nPUSH c\nINVOKEVIRTUAL  com.foo.YourClass method([BLjava/lang/String;)V\nADVANCE +3\nPUSH a\nPUSH c\nINVOKEVIRTUAL com.foo.YourClass method(Ljava/lang/String;Ljava/lang/String;)V\n</code></pre>\n<p>i.e. generate both INVOKEVIRTUALS, but the spec says that java-the-language doesn't work that way.</p>\n<p>This has some advantages. For example, in IDEs, you can CMD/CTRL+click on <code>method</code> in your line <code>method(x ? a : b, c)</code> and the IDE will then jump to the place where <code>method</code> is defined. If it worked like you thought, then.. which of the two <code>method</code> implementations should your editor hop to? It would have to show you a menu of all possible methods it could lead to and ask you to pick which one you wanted. That'd be fine too, but IDEs don't have to worry about this: Any single method name is necessarily linked to a single method definition.</p>\n<h2>So what the heck is dynamic dispatch about, then?</h2>\n<p>That only applies when you have 2 methods whose identity is <em>the same</em>, but the methods are in different classes:</p>\n<pre><code>class Parent {\n  byte foo(int[] x, boolean a) {}\n}\n\nclass Child extends Parent {\n  byte foo(int[] y, boolean b) {}\n}\n</code></pre>\n<p>Here, both <code>foo</code> have an identical identity: It's both <code>foo([IZ])B</code> in JVM-speak. The compiler will encode that, but the runtime will figure out which of the various overrides to call. Thus, given:</p>\n<pre><code>Parent p = new Child();\np.foo(arg, arg)\n</code></pre>\n<p>The actual method invoked at runtime would be the <code>foo</code> that Child defines.</p>\n<h2>The take-home</h2>\n<ul>\n<li>Compiler decides which overload</li>\n<li>Runtime decides which override</li>\n</ul>\n<p>overload = same method name, different parameter types/counts\noverride = same method name <em>and</em> parameter types/counts, but that method also exists in one of your supertypes.</p>\n<h2>So break down in detail why the compiler fails here</h2>\n<p><code>x ? a : b</code> is an expression that needs a type. If <code>a</code> is of type <code>byte[]</code> and <code>b</code> is of type <code>String</code>, as in your example, the compiler is forced to figure out <strong>one single type</strong> that fits in either scenario. In other words, some type that <em>both</em> <code>byte[]</code> as well as <code>String</code> are compatible with.</p>\n<p>And byte[] and String share very little. So, it's <code>Object &amp; Serializable</code>. Basically, just <code>Object</code> (let's not open the can of worms of <code>Serializable</code> here) - because that's the most specific shared parentage of String and byte[]. Thus, javac looks for a method whose signature is <code>method(Object, byte[])</code>, doesn't find one, and errors out.</p>\n<p>In contrast, with your <code>if</code> based code construct, the first arg in each block is of type <code>byte[]</code> or <code>String</code> - so the compiler looks for <code>method(byte[], byte[])</code> and finds that, and in the <code>else</code> block, looks for <code>method(String, byte)</code>, also an existing thing, and compiles that. No errors.</p>\n"}],"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694706051,"creation_date":1694703177,"question_id":77106091,"body_markdown":"```\r\nString a = &quot;bla&quot;;\r\nbyte[] b = new byte [10];\r\n\r\nmethod (a != null ? a : b, b);\r\n```\r\nWhy can&#39;t I use the above method call using ternary operator? Using if else statement works fine:\r\n```\r\nif (a != null) {\r\n    method (a, b);\r\n} else {\r\n    method (b, b);\r\n}\r\n```\r\n```\r\n\r\nvoid method(String arg1, byte[] arg2) {\r\n   // do something\r\n\r\nvoid method (byte[] arg1, byte[] arg2) {\r\n  // do something\r\n}\r\n```\r\nI expected I could use the ternary operator in method overload. But a compiler error occours.","title":"JAVA: Compiler error using ternary operator in method overload","body":"<pre><code>String a = &quot;bla&quot;;\nbyte[] b = new byte [10];\n\nmethod (a != null ? a : b, b);\n</code></pre>\n<p>Why can't I use the above method call using ternary operator? Using if else statement works fine:</p>\n<pre><code>if (a != null) {\n    method (a, b);\n} else {\n    method (b, b);\n}\n</code></pre>\n<pre><code>\nvoid method(String arg1, byte[] arg2) {\n   // do something\n\nvoid method (byte[] arg1, byte[] arg2) {\n  // do something\n}\n</code></pre>\n<p>I expected I could use the ternary operator in method overload. But a compiler error occours.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":168443,"reputation":24958,"user_id":393908,"accept_rate":94,"display_name":"Ash Burlaczenko"},"score":2,"creation_date":1291818623,"post_id":4388546,"comment_id":4781684,"body_markdown":"Your question isn&#39;t clear. Do you want to check whether it contains an integer or with it is an integer? abc123 or 123456?","body":"Your question isn&#39;t clear. Do you want to check whether it contains an integer or with it is an integer? abc123 or 123456?"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1291820338,"post_id":4388546,"comment_id":4782065,"body_markdown":"@Ash **to find out whether or not it is an integer** - to me, the question is clear (the title is ambigious).","body":"@Ash <b>to find out whether or not it is an integer</b> - to me, the question is clear (the title is ambigious)."},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1291822143,"post_id":4388546,"comment_id":4782499,"body_markdown":"You may also want to look at this http://stackoverflow.com/questions/3517686/cannot-convert-string-to-integer-in-java","body":"You may also want to look at this <a href=\"http://stackoverflow.com/questions/3517686/cannot-convert-string-to-integer-in-java\" title=\"cannot convert string to integer in java\">stackoverflow.com/questions/3517686/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":2,"creation_date":1291819062,"post_id":4388568,"comment_id":4781777,"body_markdown":"When linking to a version of the API, I would suggesting using a more up to date version.","body":"When linking to a version of the API, I would suggesting using a more up to date version."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1677625778,"post_id":4388568,"comment_id":133374628,"body_markdown":"`Integer.parseInt(&quot;8.0&quot;)` throws an exception, despite 8.0 can fit into an int without loss","body":"<code>Integer.parseInt(&quot;8.0&quot;)</code> throws an exception, despite 8.0 can fit into an int without loss"}],"tags":[],"owner":{"account_id":183444,"reputation":1717,"user_id":418810,"accept_rate":100,"display_name":"Freddie"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533926503,"creation_date":1291818463,"answer_id":4388568,"question_id":4388546,"body_markdown":"Use the method Integer.parseInt() at http://docs.oracle.com/javase/10/docs/api/java/lang/Integer.html","title":"How to determine whether a string contains an integer?","body":"<p>Use the method Integer.parseInt() at <a href=\"http://docs.oracle.com/javase/10/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/10/docs/api/java/lang/Integer.html</a></p>\n"},{"comments":[{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":0,"creation_date":1291820578,"post_id":4388580,"comment_id":4782120,"body_markdown":"Will the regex recognize `١` as a digit?","body":"Will the regex recognize <code>١</code> as a digit?"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1291820768,"post_id":4388580,"comment_id":4782179,"body_markdown":"I am sorry, I do not know this character. What is this?","body":"I am sorry, I do not know this character. What is this?"},{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":0,"creation_date":1291830329,"post_id":4388580,"comment_id":4784396,"body_markdown":"It is ARABIC-INDIC DIGIT ONE. Try for yourself: `System.out.println(Integer.valueOf(&quot;١&quot;));`","body":"It is ARABIC-INDIC DIGIT ONE. Try for yourself: <code>System.out.println(Integer.valueOf(&quot;١&quot;));</code>"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1291819849,"creation_date":1291818565,"answer_id":4388580,"question_id":4388546,"body_markdown":"1. User regular expression: \r\n\r\n    `Pattern.compile(&quot;^\\\\s*\\\\d+\\\\s*$&quot;).matcher(myString).find();`\r\n\r\n2. Just wrap Integer.parse() by try/catch(NumberFormatException)","title":"How to determine whether a string contains an integer?","body":"<ol>\n<li><p>User regular expression: </p>\n\n<p><code>Pattern.compile(\"^\\\\s*\\\\d+\\\\s*$\").matcher(myString).find();</code></p></li>\n<li><p>Just wrap Integer.parse() by try/catch(NumberFormatException)</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4754302,"reputation":187,"user_id":3843432,"accept_rate":71,"display_name":"Seabass77"},"score":0,"creation_date":1548970059,"post_id":4388597,"comment_id":95746806,"body_markdown":"As a clarification, this checks if your string matches the regular expression &quot;\\\\d+&quot; which is one or more digits [0-9].","body":"As a clarification, this checks if your string matches the regular expression &quot;\\\\d+&quot; which is one or more digits [0-9]."}],"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1291819083,"creation_date":1291818649,"answer_id":4388597,"question_id":4388546,"body_markdown":"You can check whether the following is true:    `&quot;yourStringHere&quot;.matches(&quot;\\\\d+&quot;)`","title":"How to determine whether a string contains an integer?","body":"<p>You can check whether the following is true:    <code>\"yourStringHere\".matches(\"\\\\d+\")</code></p>\n"},{"tags":[],"owner":{"account_id":96239,"reputation":15851,"user_id":261677,"display_name":"Jonathon Bolster"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1291818771,"creation_date":1291818771,"answer_id":4388610,"question_id":4388546,"body_markdown":"If you want to make sure that it is *only* an integer and convert it to one, I would use [parseInt][1] in a `try/catch`. However, if you want to check if the string contains a number then you would be better to use the [String.matches][2] with [Regular Expressions][3]: `stringVariable.matches(&quot;\\\\d&quot;)`\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String)\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches(java.lang.String)\r\n  [3]: http://www.vogella.de/articles/JavaRegularExpressions/article.html","title":"How to determine whether a string contains an integer?","body":"<p>If you want to make sure that it is <em>only</em> an integer and convert it to one, I would use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"noreferrer\">parseInt</a> in a <code>try/catch</code>. However, if you want to check if the string contains a number then you would be better to use the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#matches(java.lang.String)\" rel=\"noreferrer\">String.matches</a> with <a href=\"http://www.vogella.de/articles/JavaRegularExpressions/article.html\" rel=\"noreferrer\">Regular Expressions</a>: <code>stringVariable.matches(\"\\\\d\")</code></p>\n"},{"comments":[{"owner":{"account_id":461687,"reputation":5477,"user_id":863553,"accept_rate":91,"display_name":"cytinus"},"score":3,"creation_date":1355326213,"post_id":4388781,"comment_id":19054355,"body_markdown":"try &quot;for(char c : s.toCharArray())&quot; instead.","body":"try &quot;for(char c : s.toCharArray())&quot; instead."}],"tags":[],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1499840755,"creation_date":1291819733,"answer_id":4388781,"question_id":4388546,"body_markdown":"\r\n    String s = &quot;abc123&quot;;\r\n    for(char c : s.toCharArray()) {\r\n        if(Character.isDigit(c)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;","title":"How to determine whether a string contains an integer?","body":"<pre><code>String s = \"abc123\";\nfor(char c : s.toCharArray()) {\n    if(Character.isDigit(c)) {\n        return true;\n    }\n}\nreturn false;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":0,"creation_date":1291877748,"post_id":4388874,"comment_id":4791178,"body_markdown":"`NumberFormatException`is a `RuntimeExcption`. Will catching a RuntimeException not be dangerous or &quot;evil&quot;, for example when used in transactions, which maybe marked as rollback because a RuntimeException was thrown?","body":"<code>NumberFormatException</code>is a <code>RuntimeExcption</code>. Will catching a RuntimeException not be dangerous or &quot;evil&quot;, for example when used in transactions, which maybe marked as rollback because a RuntimeException was thrown?"}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1291820273,"creation_date":1291820273,"answer_id":4388874,"question_id":4388546,"body_markdown":"If you just want to test, if a String contains an integer value only, write a method like this:\r\n\r\n    public boolean isInteger(String s) {\r\n      boolean result = false;\r\n      try {\r\n        Integer.parseInt(&quot;-1234&quot;);\r\n        result = true;\r\n      } catch (NumberFormatException nfe) {\r\n        // no need to handle the exception\r\n      }\r\n      return result;\r\n    }\r\n\r\n`parseInt` will return the `int` value (-1234 in this example) or throw an exception.","title":"How to determine whether a string contains an integer?","body":"<p>If you just want to test, if a String contains an integer value only, write a method like this:</p>\n\n<pre><code>public boolean isInteger(String s) {\n  boolean result = false;\n  try {\n    Integer.parseInt(\"-1234\");\n    result = true;\n  } catch (NumberFormatException nfe) {\n    // no need to handle the exception\n  }\n  return result;\n}\n</code></pre>\n\n<p><code>parseInt</code> will return the <code>int</code> value (-1234 in this example) or throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1428517263,"creation_date":1291822022,"answer_id":4389163,"question_id":4388546,"body_markdown":"You can use apache [StringUtils.isNumeric][1] .\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric(java.lang.CharSequence)","title":"How to determine whether a string contains an integer?","body":"<p>You can use apache <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric(java.lang.CharSequence)\" rel=\"nofollow\">StringUtils.isNumeric</a> .</p>\n"},{"tags":[],"owner":{"account_id":156097,"reputation":803,"user_id":373177,"display_name":"Pau"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1291823656,"creation_date":1291823656,"answer_id":4389443,"question_id":4388546,"body_markdown":"You might also want to have a look at [java.util.Scanner][1]\r\n\r\nExample:\r\n\r\n    new Scanner(&quot;456&quot;).nextInt\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html","title":"How to determine whether a string contains an integer?","body":"<p>You might also want to have a look at <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\" rel=\"nofollow\">java.util.Scanner</a></p>\n\n<p>Example:</p>\n\n<pre><code>new Scanner(\"456\").nextInt\n</code></pre>\n"},{"comments":[{"owner":{"account_id":324071,"reputation":18486,"user_id":644450,"accept_rate":100,"display_name":"oers"},"score":0,"creation_date":1351254246,"post_id":10356996,"comment_id":17781388,"body_markdown":"Welcome to stackoverflow. This question is old and was already answered. Typically, it is best not to resurrect stale threads unless your response contributes something significantly new or different over previous answers.","body":"Welcome to stackoverflow. This question is old and was already answered. Typically, it is best not to resurrect stale threads unless your response contributes something significantly new or different over previous answers."}],"tags":[],"owner":{"account_id":1442090,"reputation":1,"user_id":1361915,"display_name":"Jon"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1335556370,"creation_date":1335556370,"answer_id":10356996,"question_id":4388546,"body_markdown":"    int number = 0;\r\n    try { \r\n       number = Integer.parseInt(string); \r\n    }\r\n    catch(NumberFormatException e) {}","title":"How to determine whether a string contains an integer?","body":"<pre><code>int number = 0;\ntry { \n   number = Integer.parseInt(string); \n}\ncatch(NumberFormatException e) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374719,"reputation":206,"user_id":1308953,"accept_rate":75,"display_name":"kirchhoff"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1352848779,"creation_date":1352848779,"answer_id":13370587,"question_id":4388546,"body_markdown":"I use the method matches() from the String class:\r\n  \r\n\r\n        Scanner input = new Scanner(System.in)\r\n        String lectura;\r\n        int number;\r\n        lectura = input.next();\r\n        if(lectura.matches(&quot;[0-3]&quot;)){\r\n             number = lectura;\r\n        }\r\n\r\nThis way you can also validate that the range of the numbers is correct.","title":"How to determine whether a string contains an integer?","body":"<p>I use the method matches() from the String class:</p>\n\n<pre><code>    Scanner input = new Scanner(System.in)\n    String lectura;\n    int number;\n    lectura = input.next();\n    if(lectura.matches(\"[0-3]\")){\n         number = lectura;\n    }\n</code></pre>\n\n<p>This way you can also validate that the range of the numbers is correct.</p>\n"},{"tags":[],"owner":{"account_id":1577402,"reputation":13270,"user_id":1463518,"accept_rate":60,"display_name":"Ryan Heitner"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384351330,"creation_date":1384351330,"answer_id":19955758,"question_id":4388546,"body_markdown":"You could always use Googles Guava\r\n\r\n    String text = &quot;13567&quot;;\r\n    CharMatcher charMatcher = CharMatcher.DIGIT;\r\n    int output = charMatcher.countIn(text);","title":"How to determine whether a string contains an integer?","body":"<p>You could always use Googles Guava</p>\n\n<pre><code>String text = \"13567\";\nCharMatcher charMatcher = CharMatcher.DIGIT;\nint output = charMatcher.countIn(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9815261,"reputation":568,"user_id":7271964,"display_name":"fty4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489148506,"creation_date":1489147992,"answer_id":42718171,"question_id":4388546,"body_markdown":"That should work:\r\n\r\n    public static boolean isInteger(String p_str)\r\n\t{\r\n\t\tif (p_str == null)\r\n\t\t\treturn false;\r\n\t\telse\r\n\t\t\treturn p_str.matches(&quot;^\\\\d*$&quot;);\r\n\t}","title":"How to determine whether a string contains an integer?","body":"<p>That should work:</p>\n\n<pre><code>public static boolean isInteger(String p_str)\n{\n    if (p_str == null)\n        return false;\n    else\n        return p_str.matches(\"^\\\\d*$\");\n}\n</code></pre>\n"}],"owner":{"account_id":682623,"reputation":61,"user_id":535095,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63307,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":4388610,"answer_count":12,"score":5,"last_activity_date":1694705855,"creation_date":1291818335,"question_id":4388546,"body_markdown":"Say you have a string that you want to test to make sure that it contains an integer before you proceed with other the rest of the code. What would you use, in java, to find out whether or not it is an integer?","title":"How to determine whether a string contains an integer?","body":"<p>Say you have a string that you want to test to make sure that it contains an integer before you proceed with other the rest of the code. What would you use, in java, to find out whether or not it is an integer?</p>\n"},{"tags":["python","java","gremlin"],"answers":[{"tags":[],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694705669,"creation_date":1694705669,"answer_id":77106443,"question_id":77106442,"body_markdown":"What you need to do is to use `gremlin_python.statics.long` to let Gremlin properly convert and store your Python based number value. Using your example, the code should be modified as following:\r\n\r\n    from gremlin_python.statics import long\r\n    from gremlin_python.process.traversal import Cardinality\r\n\r\n    g.addV(&quot;xyzzy&quot;).\r\n    property(Cardinality.single, &quot;when&quot;, long(datetime.now().timestamp() * 1000)\r\n    ).\r\n    next()\r\n\r\nAlso, for those using Neo4J or other Gremlin implementations, you usually not need to specify the `Cardinality.single.` That is AWS Neptune specific requirement.","title":"How to Store Java Epoch Long Value with Gremlin Python","body":"<p>What you need to do is to use <code>gremlin_python.statics.long</code> to let Gremlin properly convert and store your Python based number value. Using your example, the code should be modified as following:</p>\n<pre><code>from gremlin_python.statics import long\nfrom gremlin_python.process.traversal import Cardinality\n\ng.addV(&quot;xyzzy&quot;).\nproperty(Cardinality.single, &quot;when&quot;, long(datetime.now().timestamp() * 1000)\n).\nnext()\n</code></pre>\n<p>Also, for those using Neo4J or other Gremlin implementations, you usually not need to specify the <code>Cardinality.single.</code> That is AWS Neptune specific requirement.</p>\n"}],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694705669,"creation_date":1694705669,"question_id":77106442,"body_markdown":"In my Apache Tinkerpop Gremlin based code I am using with AWS Neptune, need to share a timestamp field with Python based and Java based code bases in my project.\r\nWhen I run the equivalent of the following code:\r\n\r\n    from gremlin_python.process.traversal import Cardinality\r\n\r\n    g.addV(&quot;xyzzy&quot;).\r\n    property(Cardinality.single, &quot;when&quot;, datetime.now().timestamp() * 1000)\r\n    ).\r\n    next()\r\n\r\nBut this causes number overflow exception and there seems to be no direct way to case a Phyton number to the Long value Java uses. How can I fix this so that I can store the same `Long` integer value that Java can use?\r\n\r\n","title":"How to Store Java Epoch Long Value with Gremlin Python","body":"<p>In my Apache Tinkerpop Gremlin based code I am using with AWS Neptune, need to share a timestamp field with Python based and Java based code bases in my project.\nWhen I run the equivalent of the following code:</p>\n<pre><code>from gremlin_python.process.traversal import Cardinality\n\ng.addV(&quot;xyzzy&quot;).\nproperty(Cardinality.single, &quot;when&quot;, datetime.now().timestamp() * 1000)\n).\nnext()\n</code></pre>\n<p>But this causes number overflow exception and there seems to be no direct way to case a Phyton number to the Long value Java uses. How can I fix this so that I can store the same <code>Long</code> integer value that Java can use?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1556886147,"post_id":55969661,"comment_id":98590055,"body_markdown":"Are you sure that you want to use a `do-while` loop, instead of a `while` loop?","body":"Are you sure that you want to use a <code>do-while</code> loop, instead of a <code>while</code> loop?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1556887485,"post_id":55969661,"comment_id":98590787,"body_markdown":"@P.Soutzikevich if you just substituted a `while` for the `do...while` they would not see the first &quot;Entere a number&quot; instead.","body":"@P.Soutzikevich if you just substituted a <code>while</code> for the <code>do...while</code> they would not see the first &quot;Entere a number&quot; instead."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1556897008,"post_id":55969661,"comment_id":98596367,"body_markdown":"@FedericoklezCulloca oh I thought the OP had that outside of the loop block too. my bad","body":"@FedericoklezCulloca oh I thought the OP had that outside of the loop block too. my bad"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556886026,"creation_date":1556886026,"answer_id":55969711,"question_id":55969661,"body_markdown":"Because `hasNextInt` blocks until there is an `int` on the console, therefore not entering the next iteration of the loop.","title":"Do-While loop and hasNextInt()","body":"<p>Because <code>hasNextInt</code> blocks until there is an <code>int</code> on the console, therefore not entering the next iteration of the loop.</p>\n"},{"tags":[],"owner":{"account_id":11644241,"reputation":129,"user_id":8527663,"display_name":"Prabhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556886298,"creation_date":1556886298,"answer_id":55969785,"question_id":55969661,"body_markdown":"Think of exiting the loop when you reached the enough size of the array. something like \r\n\r\n       do {\r\n                System.out.print(&quot;Enter a number:\\t&quot;);\r\n                v[index] = console.nextInt();\r\n                index++;\r\n            } while(index&lt;10); // if you want the user to enter 10 numbers. ","title":"Do-While loop and hasNextInt()","body":"<p>Think of exiting the loop when you reached the enough size of the array. something like </p>\n\n<pre><code>   do {\n            System.out.print(\"Enter a number:\\t\");\n            v[index] = console.nextInt();\n            index++;\n        } while(index&lt;10); // if you want the user to enter 10 numbers. \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1556890676,"post_id":55969791,"comment_id":98592710,"body_markdown":"This is exactly the same as OP&#39;s code, except that you&#39;ve added comments (unless I&#39;m skipping over a change you&#39;ve did by accident).. How does it help understanding the incorrect output?","body":"This is exactly the same as OP&#39;s code, except that you&#39;ve added comments (unless I&#39;m skipping over a change you&#39;ve did by accident).. How does it help understanding the incorrect output?"},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1556893168,"post_id":55969791,"comment_id":98594118,"body_markdown":"That&#39;s indeed a lot better, +1 from me :)","body":"That&#39;s indeed a lot better, +1 from me :)"},{"owner":{"account_id":364866,"reputation":731,"user_id":3004747,"display_name":"Karthick Meenakshi Sundaram"},"score":0,"creation_date":1556893499,"post_id":55969791,"comment_id":98594304,"body_markdown":"@KevinCruijssen Thanks for your comment. Happy to improve :-)","body":"@KevinCruijssen Thanks for your comment. Happy to improve :-)"}],"tags":[],"owner":{"account_id":364866,"reputation":731,"user_id":3004747,"display_name":"Karthick Meenakshi Sundaram"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556892644,"creation_date":1556886319,"answer_id":55969791,"question_id":55969661,"body_markdown":"Welcome. See answer in comments. Hope it is clear :-)\r\n\r\n    do {\r\n            System.out.print(&quot;Enter a number:\\t&quot;);  // Prints &quot;Enter a number: &quot;\r\n            v[index] = console.nextInt(); // accepts input &quot;1&quot;\r\n            index++; // increments\r\n        } while(console.hasNextInt()); // waits for input at which point you enter &quot;2&quot;\r\n\r\nOk Let&#39;s make it clearer.\r\n\r\nThe do while loop, executes the do block before it evaluates the while condition. And then if the while condition evaluates to true, it executes the do block again and repeats until the while condition evaluates to false. . \r\n\r\n Both console.nextInt and console.hasNextInt read input from the console. So as part of the do block, the &quot;Enter a number:\\t&quot; has been printed out,  The first nextInt() call has accepted the input &quot;1&quot;, which is then followed by the increment, followed by evaluation of the while condition - the console.hasNextInt(), which again waits for input and accepts &quot;2&quot;. This explains why the &quot;Enter a number:\\t&quot; was not printed before the User Input of &quot;2&quot;\r\n\r\nOf course because the value 2 has been entered, the while condition evaluates to true and again the do block is executed and goes on. \r\n\r\nPerhaps you need the while loop. This, by contrast, executes the code block only if and as long as the while condition evaluates to true\r\n\r\n    System.out.print(&quot;Enter a number:\\t&quot;);\r\n    while(console.hasNextInt()){\r\n            v[index] = console.nextInt(); \r\n            index++; // increments\r\n            System.out.print(&quot;Enter a number:\\t&quot;);  \r\n        } ","title":"Do-While loop and hasNextInt()","body":"<p>Welcome. See answer in comments. Hope it is clear :-)</p>\n\n<pre><code>do {\n        System.out.print(\"Enter a number:\\t\");  // Prints \"Enter a number: \"\n        v[index] = console.nextInt(); // accepts input \"1\"\n        index++; // increments\n    } while(console.hasNextInt()); // waits for input at which point you enter \"2\"\n</code></pre>\n\n<p>Ok Let's make it clearer.</p>\n\n<p>The do while loop, executes the do block before it evaluates the while condition. And then if the while condition evaluates to true, it executes the do block again and repeats until the while condition evaluates to false. . </p>\n\n<p>Both console.nextInt and console.hasNextInt read input from the console. So as part of the do block, the \"Enter a number:\\t\" has been printed out,  The first nextInt() call has accepted the input \"1\", which is then followed by the increment, followed by evaluation of the while condition - the console.hasNextInt(), which again waits for input and accepts \"2\". This explains why the \"Enter a number:\\t\" was not printed before the User Input of \"2\"</p>\n\n<p>Of course because the value 2 has been entered, the while condition evaluates to true and again the do block is executed and goes on. </p>\n\n<p>Perhaps you need the while loop. This, by contrast, executes the code block only if and as long as the while condition evaluates to true</p>\n\n<pre><code>System.out.print(\"Enter a number:\\t\");\nwhile(console.hasNextInt()){\n        v[index] = console.nextInt(); \n        index++; // increments\n        System.out.print(\"Enter a number:\\t\");  \n    } \n</code></pre>\n"}],"owner":{"account_id":13055152,"reputation":31,"user_id":9434252,"display_name":"Aman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694705515,"creation_date":1556885873,"question_id":55969661,"body_markdown":"I know this might sound like a really stupid question but I cannot understand where is my mistake.\r\n\r\nWhy on the second iteration of the loop, it does not print &#39;Enter a number:&#39;?\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main{\r\n        public static void main(String[] args){\r\n            Scanner console = new Scanner(System.in);\r\n            int[] v = new int[10];\r\n            int index = 0;\r\n            do {\r\n                System.out.print(&quot;Enter a number:\\t&quot;);\r\n                v[index] = console.nextInt();\r\n                index++;\r\n            } while(console.hasNextInt());\r\n    \r\n            for (int i = 0; i &lt; index; i++){\r\n                System.out.print(v[i] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println(&quot;\\n&quot; + index);\r\n        }\r\n    }\r\n\r\nAnd this is the output:\r\n\r\n&lt;!-- language: lang-none --&gt;             \r\n                       \r\n    Enter a number:\t1\r\n    2\r\n    Enter a number:\t3\r\n    Enter a number:\t4\r\n    Enter a number:\t5\r\n    Enter a number:\t^D\r\n    1\t    2\t    3\t    4\t    5\r\n    5","title":"Do-While loop and hasNextInt()","body":"<p>I know this might sound like a really stupid question but I cannot understand where is my mistake.</p>\n\n<p>Why on the second iteration of the loop, it does not print 'Enter a number:'?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n    public static void main(String[] args){\n        Scanner console = new Scanner(System.in);\n        int[] v = new int[10];\n        int index = 0;\n        do {\n            System.out.print(\"Enter a number:\\t\");\n            v[index] = console.nextInt();\n            index++;\n        } while(console.hasNextInt());\n\n        for (int i = 0; i &lt; index; i++){\n            System.out.print(v[i] + \"\\t\");\n        }\n        System.out.println(\"\\n\" + index);\n    }\n}\n</code></pre>\n\n<p>And this is the output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Enter a number: 1\n2\nEnter a number: 3\nEnter a number: 4\nEnter a number: 5\nEnter a number: ^D\n1       2       3       4       5\n5\n</code></pre>\n"},{"tags":["java","jaxb","authzforce"],"answers":[{"tags":[],"owner":{"account_id":16055655,"reputation":17,"user_id":11588133,"display_name":"Andrey Vladimirovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694705225,"creation_date":1694705225,"answer_id":77106379,"question_id":77086930,"body_markdown":"I tried to explicitly list all the necessary classes when creating a JAXBContext, index, put jaxb-stabs in the same library where they are needed, etc. After that I wrote my own classloader in which I redefined only what the library needs and launch the engine library with that, so jaxb still finds a duplicate that is not XMLType because it loads earlier than my service. \r\n\r\nThe working solutions turned out to be using single stabs for both or renaming one of the packages so that there would be no conflict","title":"Is it possible to explicitly point jaxb to its stubs","body":"<p>I tried to explicitly list all the necessary classes when creating a JAXBContext, index, put jaxb-stabs in the same library where they are needed, etc. After that I wrote my own classloader in which I redefined only what the library needs and launch the engine library with that, so jaxb still finds a duplicate that is not XMLType because it loads earlier than my service.</p>\n<p>The working solutions turned out to be using single stabs for both or renaming one of the packages so that there would be no conflict</p>\n"}],"owner":{"account_id":16055655,"reputation":17,"user_id":11588133,"display_name":"Andrey Vladimirovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106379,"answer_count":1,"score":0,"last_activity_date":1694705225,"creation_date":1694504063,"question_id":77086930,"body_markdown":"I have generated classes for a web service implementing the xacml specification model and having the following package:\r\noasis.names.tc.xacml._3_0.core.schema.wd_17 (not a jaxb). \r\n\r\nI also have an external library inside which jaxb-stabs are located along the same path - oasis.names.tc.xacml._3_0.core.schema.wd_17. The jaxb stubs  are used to work with pdp-engine policies.\r\n\r\nAnd when I call the pdp library i get an error:\r\n\r\n&gt; javax.xml.bind.JAXBException: Provider com.sun.xml.bind.v2.ContextFactory could not be instantiated: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 4 counts of IllegalAnnotationExceptions\r\nTwo classes have the same XML type name &quot;{urn:oasis:names:tc:xacml:3.0:core:schema:wd-17}anonimous&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\r\n\tthis problem is related to the following location:\r\n\t\tat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous\r\n\t\tat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType.getAnonimous()\r\n\t\tat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType\r\n\t\tat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType oasis.names.tc.xacml._3_0.core.schema.wd_17.ObjectFactory.createDefaultsType()\r\n...\r\n\r\nIs there any way to avoid such a problem without renaming of packages path?","title":"Is it possible to explicitly point jaxb to its stubs","body":"<p>I have generated classes for a web service implementing the xacml specification model and having the following package:\noasis.names.tc.xacml._3_0.core.schema.wd_17 (not a jaxb).</p>\n<p>I also have an external library inside which jaxb-stabs are located along the same path - oasis.names.tc.xacml._3_0.core.schema.wd_17. The jaxb stubs  are used to work with pdp-engine policies.</p>\n<p>And when I call the pdp library i get an error:</p>\n<blockquote>\n<p>javax.xml.bind.JAXBException: Provider com.sun.xml.bind.v2.ContextFactory could not be instantiated: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 4 counts of IllegalAnnotationExceptions\nTwo classes have the same XML type name &quot;{urn:oasis:names:tc:xacml:3.0:core:schema:wd-17}anonimous&quot;. Use @XmlType.name and @XmlType.namespace to assign different names to them.\nthis problem is related to the following location:\nat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous\nat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType$Anonimous oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType.getAnonimous()\nat oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType\nat public oasis.names.tc.xacml._3_0.core.schema.wd_17.DefaultsType oasis.names.tc.xacml._3_0.core.schema.wd_17.ObjectFactory.createDefaultsType()\n...</p>\n</blockquote>\n<p>Is there any way to avoid such a problem without renaming of packages path?</p>\n"},{"tags":["java","amazon-web-services","kotlin","cryptography","x509certificate"],"owner":{"account_id":13561883,"reputation":11,"user_id":9783298,"display_name":"arveduil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694705170,"creation_date":1694704356,"question_id":77106277,"body_markdown":"I want to import root certificate - RootCertificatePublicKey in Kotlin using SDK for AWS Payment Cryptography. Despite having certificate in proper format, I receive:\r\n` ValidationException: Provided public key is not a valid X509 certificate `\r\n\r\nI have a certificate in string in format:\r\n\r\n```\r\nval rootCert = &quot;&quot;&quot;-----BEGIN CERTIFICATE-----\r\nMIIFXjCCA0agAwIB ...&lt;base64cert&gt; ... wK0fe4Teg==\r\n-----END CERTIFICATE-----&quot;&quot;&quot;\r\n```\r\ncode in Kotlin:\r\n\r\n```\r\nval importedCert = paymentCryptographyClient.importKey(\r\n        ImportKeyRequest.builder()\r\n                .keyMaterial(\r\n                        ImportKeyMaterial.fromRootCertificatePublicKey(\r\n                                RootCertificatePublicKey.builder()\r\n                                        .keyAttributes(\r\n                                                KeyAttributes.builder()\r\n                                                        .keyAlgorithm(KeyAlgorithm.RSA_4096)\r\n                                                        .keyClass(KeyClass.PUBLIC_KEY)\r\n                                                        .keyModesOfUse(\r\n                                                                KeyModesOfUse.builder()\r\n                                                                        .verify(true)\r\n                                                                        .sign(true)\r\n                                                                        .build()\r\n                                                        )\r\n                                                        .keyUsage(KeyUsage.TR31_S0_ASYMMETRIC_KEY_FOR_DIGITAL_SIGNATURE)\r\n                                                        .build()\r\n                                        )\r\n                                        .publicKeyCertificate(rootCert)\r\n                                        .build()\r\n                        )\r\n                ).build()\r\n)\r\n```\r\n\r\n\r\nI am receiving error:\r\n\r\n```\r\nsoftware.amazon.awssdk.services.paymentcryptography.model.ValidationException: Provided public key is not a valid X509 certificate. (Service: PaymentCryptography, Status Code: 400, Request ID: ef5ca7f5-e980-4fe1-bc5d-867e68f4d63e)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n```\r\nIt is strange, because cert looks to be in proper format. Online parsers reads it properly.\r\n","title":"AWS Payment Cryptography - import RootCertificatePublicKey throws ValidationException: Provided public key is not a valid X509 certificate","body":"<p>I want to import root certificate - RootCertificatePublicKey in Kotlin using SDK for AWS Payment Cryptography. Despite having certificate in proper format, I receive:\n<code>ValidationException: Provided public key is not a valid X509 certificate</code></p>\n<p>I have a certificate in string in format:</p>\n<pre><code>val rootCert = &quot;&quot;&quot;-----BEGIN CERTIFICATE-----\nMIIFXjCCA0agAwIB ...&lt;base64cert&gt; ... wK0fe4Teg==\n-----END CERTIFICATE-----&quot;&quot;&quot;\n</code></pre>\n<p>code in Kotlin:</p>\n<pre><code>val importedCert = paymentCryptographyClient.importKey(\n        ImportKeyRequest.builder()\n                .keyMaterial(\n                        ImportKeyMaterial.fromRootCertificatePublicKey(\n                                RootCertificatePublicKey.builder()\n                                        .keyAttributes(\n                                                KeyAttributes.builder()\n                                                        .keyAlgorithm(KeyAlgorithm.RSA_4096)\n                                                        .keyClass(KeyClass.PUBLIC_KEY)\n                                                        .keyModesOfUse(\n                                                                KeyModesOfUse.builder()\n                                                                        .verify(true)\n                                                                        .sign(true)\n                                                                        .build()\n                                                        )\n                                                        .keyUsage(KeyUsage.TR31_S0_ASYMMETRIC_KEY_FOR_DIGITAL_SIGNATURE)\n                                                        .build()\n                                        )\n                                        .publicKeyCertificate(rootCert)\n                                        .build()\n                        )\n                ).build()\n)\n</code></pre>\n<p>I am receiving error:</p>\n<pre><code>software.amazon.awssdk.services.paymentcryptography.model.ValidationException: Provided public key is not a valid X509 certificate. (Service: PaymentCryptography, Status Code: 400, Request ID: ef5ca7f5-e980-4fe1-bc5d-867e68f4d63e)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\n</code></pre>\n<p>It is strange, because cert looks to be in proper format. Online parsers reads it properly.</p>\n"},{"tags":["java","spring","jackson","jackson-databind"],"comments":[{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":1,"creation_date":1554444096,"post_id":55529028,"comment_id":97761679,"body_markdown":"Check for constructors, does it have private constructors? if yes, and you want to keep it that way, then you have to override how the conversion of that object happens.","body":"Check for constructors, does it have private constructors? if yes, and you want to keep it that way, then you have to override how the conversion of that object happens."},{"owner":{"account_id":9012540,"reputation":1206,"user_id":6716564,"display_name":"ASK"},"score":1,"creation_date":1554444548,"post_id":55529028,"comment_id":97761855,"body_markdown":"Always make default constructor whenever you make any parameterised constructor.","body":"Always make default constructor whenever you make any parameterised constructor."}],"answers":[{"comments":[{"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"score":0,"creation_date":1554444992,"post_id":55529060,"comment_id":97762002,"body_markdown":"It will not help in case of immutable beans.","body":"It will not help in case of immutable beans."}],"tags":[],"owner":{"account_id":1663241,"reputation":7957,"user_id":1531130,"accept_rate":45,"display_name":"hamed"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554443937,"creation_date":1554443937,"answer_id":55529060,"question_id":55529028,"body_markdown":"You should add a normal constructor without any params like this:\r\n\r\n    public Cart() { }","title":"Jackson deserialization error: MismatchedInputException","body":"<p>You should add a normal constructor without any params like this:</p>\n\n<pre><code>public Cart() { }\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user10262090"},"score":2,"creation_date":1559640789,"post_id":55529190,"comment_id":99475660,"body_markdown":"This helped me in a situation where I had a Kotlin data class with only a single parameter in its primary constructor.","body":"This helped me in a situation where I had a Kotlin data class with only a single parameter in its primary constructor."}],"tags":[],"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1554444888,"creation_date":1554444539,"answer_id":55529190,"question_id":55529028,"body_markdown":"You need to define your bean as:\r\n\r\n\tpublic class Cart {\r\n\t\tprivate final String id;\r\n\r\n\t\t@JsonCreator\r\n\t\tpublic Cart(@JsonProperty(&quot;id&quot;) String id) { this.id = id;}\r\n\r\n\t\tpublic String getId() { return id; }\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tString jsonString = &quot;{\\&quot;id\\&quot;:\\&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\&quot;}&quot;;\r\n\t\tCart cart = mapper.readValue(jsonString, Cart.class);\r\n        System.out.println(mapper.writeValueAsString(cart));\r\n\t}\r\n\r\n**Output**\r\n\r\n    {&quot;id&quot;:&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5&quot;}\r\n\r\nBy default `Jackson` creates instance of any class using default constructor and setter / getter method.  \r\nSince your bean is immutable i.e. no default constructor and setter, you need to explicitly tell `Jackson` how to  create instance of `Cart` class using `@JsonCreator` and how to set properties values using `@JsonProperty`.","title":"Jackson deserialization error: MismatchedInputException","body":"<p>You need to define your bean as:</p>\n\n<pre><code>public class Cart {\n    private final String id;\n\n    @JsonCreator\n    public Cart(@JsonProperty(\"id\") String id) { this.id = id;}\n\n    public String getId() { return id; }\n}\n\npublic static void main(String[] args) throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    String jsonString = \"{\\\"id\\\":\\\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\\"}\";\n    Cart cart = mapper.readValue(jsonString, Cart.class);\n    System.out.println(mapper.writeValueAsString(cart));\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{\"id\":\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\"}\n</code></pre>\n\n<p>By default <code>Jackson</code> creates instance of any class using default constructor and setter / getter method.<br>\nSince your bean is immutable i.e. no default constructor and setter, you need to explicitly tell <code>Jackson</code> how to  create instance of <code>Cart</code> class using <code>@JsonCreator</code> and how to set properties values using <code>@JsonProperty</code>.</p>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694704915,"creation_date":1694704915,"answer_id":77106337,"question_id":55529028,"body_markdown":"To resolve a similar deserialization error, when using Kotlin data classes, I needed to add a `KotlinModule` instance to the `ObjectMapper` instance, when initializing it.\r\n\r\n```kotlin\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\r\n\r\nfun createObjectMapper(): ObjectMapper {\r\n    val objectMapper = ObjectMapper()\r\n    objectMapper.registerModules(KotlinModule.Builder().build())\r\n\r\n    return objectMapper\r\n}\r\n```","title":"Jackson deserialization error: MismatchedInputException","body":"<p>To resolve a similar deserialization error, when using Kotlin data classes, I needed to add a <code>KotlinModule</code> instance to the <code>ObjectMapper</code> instance, when initializing it.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\n\nfun createObjectMapper(): ObjectMapper {\n    val objectMapper = ObjectMapper()\n    objectMapper.registerModules(KotlinModule.Builder().build())\n\n    return objectMapper\n}\n</code></pre>\n"}],"owner":{"account_id":3928232,"reputation":1060,"user_id":3247800,"accept_rate":62,"display_name":"beni0888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55529190,"answer_count":3,"score":2,"last_activity_date":1694704915,"creation_date":1554443798,"question_id":55529028,"body_markdown":"I have the following class\r\n\r\n    public class Cart {\r\n        private final String id;\r\n    \r\n        public Cart(String id) { this.id = id;}\r\n    \r\n        public String getId() { return id; }\r\n    }\r\n\r\nAnd the following test:\r\n\r\n        String jsonString = &quot;{\\&quot;id\\&quot;:\\&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\&quot;}&quot;;\r\n        Cart cart = mapper.readValue(jsonString, Cart.class);\r\n        assertThat(cart.getId()).isEqualTo(&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5&quot;);\r\n\r\nAnd I&#39;m getting the following error:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; construct instance of\r\n&gt; `com.store.domain.model.Cart` (although at least\r\n&gt; one Creator exists): cannot deserialize from Object value (no\r\n&gt; delegate- or property-based Creator)  at [Source:\r\n&gt; (String)&quot;{&quot;id&quot;:&quot;56c7b5f7-115b-4cb9-9658-acb7b849d5d5&quot;}&quot;; line: 1,\r\n&gt; column: 2]\r\n\r\nI can&#39;t figure out what&#39;s wrong here. Any help please?","title":"Jackson deserialization error: MismatchedInputException","body":"<p>I have the following class</p>\n\n<pre><code>public class Cart {\n    private final String id;\n\n    public Cart(String id) { this.id = id;}\n\n    public String getId() { return id; }\n}\n</code></pre>\n\n<p>And the following test:</p>\n\n<pre><code>    String jsonString = \"{\\\"id\\\":\\\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\\\"}\";\n    Cart cart = mapper.readValue(jsonString, Cart.class);\n    assertThat(cart.getId()).isEqualTo(\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\");\n</code></pre>\n\n<p>And I'm getting the following error:</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\n  construct instance of\n  <code>com.store.domain.model.Cart</code> (although at least\n  one Creator exists): cannot deserialize from Object value (no\n  delegate- or property-based Creator)  at [Source:\n  (String)\"{\"id\":\"56c7b5f7-115b-4cb9-9658-acb7b849d5d5\"}\"; line: 1,\n  column: 2]</p>\n</blockquote>\n\n<p>I can't figure out what's wrong here. Any help please?</p>\n"},{"tags":["java","gradle","build","dependencies","multi-project"],"comments":[{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":2,"creation_date":1457457930,"post_id":5644011,"comment_id":59411731,"body_markdown":"possible duplicate: http://stackoverflow.com/questions/5144325/gradle-test-dependency","body":"possible duplicate: <a href=\"http://stackoverflow.com/questions/5144325/gradle-test-dependency\" title=\"gradle test dependency\">stackoverflow.com/questions/5144325/gradle-test-dependency</a>"}],"answers":[{"comments":[{"owner":{"account_id":5088,"reputation":42142,"user_id":8002,"accept_rate":78,"display_name":"pjz"},"score":4,"creation_date":1309531957,"post_id":5648565,"comment_id":7716405,"body_markdown":"I tried this (the simple way) and while that makes sure it builds the testClasses, it doesn&#39;t add the test path to the CLASSPATH so my ProjectB tests that depend on ProjectA test classes still fail to build.","body":"I tried this (the simple way) and while that makes sure it builds the testClasses, it doesn&#39;t add the test path to the CLASSPATH so my ProjectB tests that depend on ProjectA test classes still fail to build."},{"owner":{"account_id":1749434,"reputation":944,"user_id":1601438,"display_name":"dmoebius"},"score":0,"creation_date":1381997980,"post_id":5648565,"comment_id":28791422,"body_markdown":"The difficult way doesn&#39;t work for me, using Gradle 1.8: No signature of method: org.gradle.api.internal.artifacts.dsl.DefaultArtifactHandler.testArtifacts() is applicable for argument types: (org.gradle.api.tasks.bundling.Jar_Decorated) values: [task &#39;:projectA:myTestsJar&#39;]. The error is reported for the line &quot;testArtifacts myTestsJar&quot;.","body":"The difficult way doesn&#39;t work for me, using Gradle 1.8: No signature of method: org.gradle.api.internal.artifacts.dsl.DefaultArtifactHandler&zwnj;&#8203;.testArtifacts() is applicable for argument types: (org.gradle.api.tasks.bundling.Jar_Decorated) values: [task &#39;:projectA:myTestsJar&#39;]. The error is reported for the line &quot;testArtifacts myTestsJar&quot;."},{"owner":{"account_id":111990,"reputation":4803,"user_id":295582,"accept_rate":100,"display_name":"Nikita Skvortsov"},"score":1,"creation_date":1382041795,"post_id":5648565,"comment_id":28817406,"body_markdown":"@dmoebius you have to add `testArtifacts` configuration like this:\n`configurations { testArtifacts }`\n\nfor more details see this section of Gradle help: http://www.gradle.org/docs/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:configurations%28groovy.lang.Closure%29","body":"@dmoebius you have to add <code>testArtifacts</code> configuration like this: <code>configurations { testArtifacts }</code>  for more details see this section of Gradle help: <a href=\"http://www.gradle.org/docs/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:configurations%28groovy.lang.Closure%29\" rel=\"nofollow noreferrer\">gradle.org/docs/current/dsl/&hellip;</a>"},{"owner":{"account_id":1749434,"reputation":944,"user_id":1601438,"display_name":"dmoebius"},"score":0,"creation_date":1382195803,"post_id":5648565,"comment_id":28869371,"body_markdown":"@NikitaSkvortsov thanks that works. I took the freedom to edit your original answer (and upvote it).","body":"@NikitaSkvortsov thanks that works. I took the freedom to edit your original answer (and upvote it)."},{"owner":{"account_id":1170783,"reputation":8281,"user_id":1148030,"accept_rate":90,"display_name":"Peter Lamberg"},"score":7,"creation_date":1401121837,"post_id":5648565,"comment_id":36749316,"body_markdown":"In Gradle 1.8 you may want `from sourceSets.test.output` and possibly `classifier = &#39;tests&#39;` in place of `// pack whatever you need...` in the answer","body":"In Gradle 1.8 you may want <code>from sourceSets.test.output</code> and possibly <code>classifier = &#39;tests&#39;</code> in place of <code>&#47;&#47; pack whatever you need...</code> in the answer"},{"owner":{"account_id":35652,"reputation":948,"user_id":101052,"display_name":"sfitts"},"score":1,"creation_date":1402611771,"post_id":5648565,"comment_id":37352203,"body_markdown":"Confirmed that with Gradle 1.12 using the full solution, with @PeterLamberg suggested additions works as expected.  Does not impact import of project into Eclipse.","body":"Confirmed that with Gradle 1.12 using the full solution, with @PeterLamberg suggested additions works as expected.  Does not impact import of project into Eclipse."},{"owner":{"account_id":1385398,"reputation":4788,"user_id":1317564,"accept_rate":100,"display_name":"Learn OpenGL ES"},"score":1,"creation_date":1423596457,"post_id":5648565,"comment_id":45209821,"body_markdown":"The JAR one is the only one that worked for me for an Android test setup, with task jarTest (type: Jar) {\n    from sourceSets.test.output\n    classifier = &#39;test&#39;\n}\n\nFor Android we just have to use &quot;androidTestCompile&quot; instead of &quot;testCompile&quot;.","body":"The JAR one is the only one that worked for me for an Android test setup, with task jarTest (type: Jar) {     from sourceSets.test.output     classifier = &#39;test&#39; }  For Android we just have to use &quot;androidTestCompile&quot; instead of &quot;testCompile&quot;."},{"owner":{"account_id":5181244,"reputation":1460,"user_id":4146894,"display_name":"Rodrigo Quesada"},"score":0,"creation_date":1437284098,"post_id":5648565,"comment_id":50960167,"body_markdown":"In order for the simple way to work under Gradle 2.4 I also had to use Fesler&#39;s solution: testCompile project(&#39;:A&#39;).sourceSets.test.output","body":"In order for the simple way to work under Gradle 2.4 I also had to use Fesler&#39;s solution: testCompile project(&#39;:A&#39;).sourceSets.test.output"},{"owner":{"account_id":301798,"reputation":960,"user_id":1723949,"display_name":"Nathan Williams"},"score":3,"creation_date":1525389597,"post_id":5648565,"comment_id":87348004,"body_markdown":"This works for me in Gradle 4.7.  They now have some docs about the approach at https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.dsl.ArtifactHandler.html","body":"This works for me in Gradle 4.7.  They now have some docs about the approach at <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.dsl.ArtifactHandler.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"}],"tags":[],"owner":{"account_id":111990,"reputation":4803,"user_id":295582,"accept_rate":100,"display_name":"Nikita Skvortsov"},"comment_count":9,"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1382196684,"creation_date":1302694849,"answer_id":5648565,"question_id":5644011,"body_markdown":"Simple way is to add explicit task dependency in ProjectB:\r\n\r\n    compileTestJava.dependsOn tasks.getByPath(&#39;:ProjectA:testClasses&#39;)\r\n\r\nDifficult (but more clear) way is to create additional artifact configuration for ProjectA:\r\n\r\n    task myTestsJar(type: Jar) { \r\n      // pack whatever you need...\r\n    }\r\n\r\n    configurations {\r\n      testArtifacts\r\n    }\r\n\r\n    artifacts {\r\n       testArtifacts myTestsJar\r\n    }\r\n\r\nand add the `testCompile` dependency for ProjectB\r\n\r\n    apply plugin: &#39;java&#39;\r\n    dependencies {\r\n      compile project(&#39;:ProjectA&#39;)\r\n      testCompile project(path: &#39;:ProjectA&#39;, configuration: &#39;testArtifacts&#39;)\r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>Simple way is to add explicit task dependency in ProjectB:</p>\n\n<pre><code>compileTestJava.dependsOn tasks.getByPath(':ProjectA:testClasses')\n</code></pre>\n\n<p>Difficult (but more clear) way is to create additional artifact configuration for ProjectA:</p>\n\n<pre><code>task myTestsJar(type: Jar) { \n  // pack whatever you need...\n}\n\nconfigurations {\n  testArtifacts\n}\n\nartifacts {\n   testArtifacts myTestsJar\n}\n</code></pre>\n\n<p>and add the <code>testCompile</code> dependency for ProjectB</p>\n\n<pre><code>apply plugin: 'java'\ndependencies {\n  compile project(':ProjectA')\n  testCompile project(path: ':ProjectA', configuration: 'testArtifacts')\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":412865,"reputation":1812,"user_id":786182,"display_name":"Fesler"},"score":8,"creation_date":1320166174,"post_id":7969292,"comment_id":9744945,"body_markdown":"Turns out the classes property is deprecated -- use output instead.","body":"Turns out the classes property is deprecated -- use output instead."},{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":12,"creation_date":1358159990,"post_id":7969292,"comment_id":19891554,"body_markdown":"This does not work in Gradle 1.3 since sourceSets is no longer a public property of a project.","body":"This does not work in Gradle 1.3 since sourceSets is no longer a public property of a project."},{"owner":{"account_id":122583,"reputation":623,"user_id":316489,"accept_rate":57,"display_name":"Patrick Bergner"},"score":3,"creation_date":1389097190,"post_id":7969292,"comment_id":31505493,"body_markdown":"Keep in mind the above solution requires at least a `gradle testClasses` before the build structure is actually valid. E.g. the Eclipse plugin won&#39;t let you import the project before that. It really is a shame `testCompile project(&#39;:A&#39;)` does not work. @DavidP&#228;rsson: &quot;Gradle 1.3&quot; contradicts &quot;no longer&quot; since Fesler tested with Gradle 1.7.","body":"Keep in mind the above solution requires at least a <code>gradle testClasses</code> before the build structure is actually valid. E.g. the Eclipse plugin won&#39;t let you import the project before that. It really is a shame <code>testCompile project(&#39;:A&#39;)</code> does not work. @DavidP&#228;rsson: &quot;Gradle 1.3&quot; contradicts &quot;no longer&quot; since Fesler tested with Gradle 1.7."},{"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"score":0,"creation_date":1443077480,"post_id":7969292,"comment_id":53349877,"body_markdown":"How can I prevent that every time the jar builds the tests of it are also executed? That makes it not really useful...","body":"How can I prevent that every time the jar builds the tests of it are also executed? That makes it not really useful..."},{"owner":{"account_id":305756,"reputation":1295,"user_id":616107,"accept_rate":38,"display_name":"rahulmohan"},"score":3,"creation_date":1454087080,"post_id":7969292,"comment_id":57902080,"body_markdown":"didn&#39;t work for me. Failed with circular dependency: compileTestJava\n\\--- :testClasses\n     \\--- :compileTestJava (*)","body":"didn&#39;t work for me. Failed with circular dependency: compileTestJava \\--- :testClasses      \\--- :compileTestJava (*)"},{"owner":{"account_id":3585651,"reputation":3049,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"score":0,"creation_date":1464120225,"post_id":7969292,"comment_id":62350897,"body_markdown":"Causes errors after including Eclipse project generated with `eclipse` task.","body":"Causes errors after including Eclipse project generated with <code>eclipse</code> task."},{"owner":{"account_id":1423499,"reputation":1046,"user_id":1347608,"display_name":"F. P. Freely"},"score":0,"creation_date":1481304830,"post_id":7969292,"comment_id":69338738,"body_markdown":"It seems the dependencies are not transitive.  With the graph A -&gt; B -&gt; C, C has to add the test output from both A and B.","body":"It seems the dependencies are not transitive.  With the graph A -&gt; B -&gt; C, C has to add the test output from both A and B."},{"owner":{"account_id":1067730,"reputation":447,"user_id":1067793,"display_name":"Stefan Oehme"},"score":9,"creation_date":1487612314,"post_id":7969292,"comment_id":71852828,"body_markdown":"Don&#39;t do this, projects are not supposed to reach into other projects. Instead use Nikita&#39;s answer, correctly modelling this as a project dependency.","body":"Don&#39;t do this, projects are not supposed to reach into other projects. Instead use Nikita&#39;s answer, correctly modelling this as a project dependency."},{"owner":{"account_id":5370110,"reputation":554,"user_id":4278899,"display_name":"Olivier Meurice"},"score":0,"creation_date":1654248991,"post_id":7969292,"comment_id":128050970,"body_markdown":"Tested successfully with Gradle 7.4.2","body":"Tested successfully with Gradle 7.4.2"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1685741268,"post_id":7969292,"comment_id":134709033,"body_markdown":"This was what I needed for my legacy code even though now we use a higher version of Gradle.","body":"This was what I needed for my legacy code even though now we use a higher version of Gradle."}],"tags":[],"owner":{"account_id":412865,"reputation":1812,"user_id":786182,"display_name":"Fesler"},"comment_count":10,"down_vote_count":12,"up_vote_count":167,"is_accepted":true,"score":155,"last_activity_date":1587802097,"creation_date":1320163633,"answer_id":7969292,"question_id":5644011,"body_markdown":"# Deprecated - For Gradle 5.6 and above use [this answer][1].\n\n\n\nIn **Project B**, you just need to add a `testCompile` dependency:\n\n    dependencies {\n      ...\n      testCompile project(&#39;:A&#39;).sourceSets.test.output\n    }\n\nTested with Gradle 1.7.\n\n\n  [1]: https://stackoverflow.com/a/60138176/654070","title":"Multi-project test dependencies with gradle","body":"<h1>Deprecated - For Gradle 5.6 and above use <a href=\"https://stackoverflow.com/a/60138176/654070\">this answer</a>.</h1>\n<p>In <strong>Project B</strong>, you just need to add a <code>testCompile</code> dependency:</p>\n<pre><code>dependencies {\n  ...\n  testCompile project(':A').sourceSets.test.output\n}\n</code></pre>\n<p>Tested with Gradle 1.7.</p>\n"},{"comments":[{"owner":{"account_id":35652,"reputation":948,"user_id":101052,"display_name":"sfitts"},"score":2,"creation_date":1402612109,"post_id":18091055,"comment_id":37352307,"body_markdown":"It also creates unnecessary complications in the handling of the project by Eclipse.  The solution suggested by @NikitaSkvortsov is preferable.","body":"It also creates unnecessary complications in the handling of the project by Eclipse.  The solution suggested by @NikitaSkvortsov is preferable."}],"tags":[],"owner":{"account_id":2414807,"reputation":47,"user_id":2109094,"display_name":"John Caron"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1375825415,"creation_date":1375825415,"answer_id":18091055,"question_id":5644011,"body_markdown":"in project B:\r\n\r\n    dependencies {\r\n      testCompile project(&#39;:projectA&#39;).sourceSets.test.output\r\n    }\r\n\r\n\r\nSeems to work in 1.7-rc-2\r\n","title":"Multi-project test dependencies with gradle","body":"<p>in project B:</p>\n\n<pre><code>dependencies {\n  testCompile project(':projectA').sourceSets.test.output\n}\n</code></pre>\n\n<p>Seems to work in 1.7-rc-2</p>\n"},{"comments":[{"owner":{"account_id":434278,"reputation":6516,"user_id":820142,"accept_rate":94,"display_name":"koma"},"score":0,"creation_date":1431419552,"post_id":21484721,"comment_id":48476438,"body_markdown":"Yes, opted for this approach at the end of the day.","body":"Yes, opted for this approach at the end of the day."},{"owner":{"account_id":1175271,"reputation":337,"user_id":1151424,"display_name":"Erik Sill&#233;n"},"score":0,"creation_date":1574928175,"post_id":21484721,"comment_id":104404231,"body_markdown":"This is the best approach! Except I would keep the test code in project A and move only dependencies for both A src/test/java and B src/test/java to A_Test.\nThen make Project A_Test a testImplementation dependency of both A and B.","body":"This is the best approach! Except I would keep the test code in project A and move only dependencies for both A src/test/java and B src/test/java to A_Test. Then make Project A_Test a testImplementation dependency of both A and B."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1662295245,"post_id":21484721,"comment_id":129968686,"body_markdown":"Yes, simplest solution. Work with `testImplementation` dependency in B project.","body":"Yes, simplest solution. Work with <code>testImplementation</code> dependency in B project."}],"tags":[],"owner":{"account_id":353611,"reputation":518,"user_id":691420,"accept_rate":75,"display_name":"Martin Snyder"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1580372792,"creation_date":1391184780,"answer_id":21484721,"question_id":5644011,"body_markdown":"I&#39;ve come across this problem myself recently, and man is this a tough issues to find answers for.\r\n\r\nThe mistake you are making is thinking that a project should export its test elements in the same way that it exports its primary artifacts and dependencies.\r\n\r\nWhat I had a lot more success with personally was making a new project in Gradle.  In your example, I would name it\r\n\r\nProject A_Test\r\n-&gt; src/main/java\r\n\r\nI would put into the src/main/java the files that you currently have in Project A/src/test/java.  Make any testCompile dependencies of your Project A compile dependencies of Project A_Test.\r\n\r\nThen make Project A_Test a testCompile dependency of Project B.\r\n\r\nIt&#39;s not logical when you come at it from the perspective of the author of both projects, but I think it makes a lot of sense when you think about projects like junit and scalatest (and others.  Even though those frameworks are testing-related, they are not considered part of the &quot;test&quot; targets within their own frameworks - they produce primary artifacts that other projects just happen to use within their test configuration.  You just want to follow that same pattern.\r\n\r\nTrying to do the other answers listed here did not work for me personally (using Gradle 1.9), but I&#39;ve found that the pattern I describe here is a cleaner solution anyway.","title":"Multi-project test dependencies with gradle","body":"<p>I've come across this problem myself recently, and man is this a tough issues to find answers for.</p>\n\n<p>The mistake you are making is thinking that a project should export its test elements in the same way that it exports its primary artifacts and dependencies.</p>\n\n<p>What I had a lot more success with personally was making a new project in Gradle.  In your example, I would name it</p>\n\n<p>Project A_Test\n-> src/main/java</p>\n\n<p>I would put into the src/main/java the files that you currently have in Project A/src/test/java.  Make any testCompile dependencies of your Project A compile dependencies of Project A_Test.</p>\n\n<p>Then make Project A_Test a testCompile dependency of Project B.</p>\n\n<p>It's not logical when you come at it from the perspective of the author of both projects, but I think it makes a lot of sense when you think about projects like junit and scalatest (and others.  Even though those frameworks are testing-related, they are not considered part of the \"test\" targets within their own frameworks - they produce primary artifacts that other projects just happen to use within their test configuration.  You just want to follow that same pattern.</p>\n\n<p>Trying to do the other answers listed here did not work for me personally (using Gradle 1.9), but I've found that the pattern I describe here is a cleaner solution anyway.</p>\n"},{"comments":[{"owner":{"display_name":"user600838"},"score":2,"creation_date":1459718462,"post_id":21580455,"comment_id":60399560,"body_markdown":"This also worked for me except I had to omit the `.classesDir`.","body":"This also worked for me except I had to omit the <code>.classesDir</code>."}],"tags":[],"owner":{"account_id":411633,"reputation":1360,"user_id":784218,"display_name":"Dominik Pawlak"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1391611652,"creation_date":1391611652,"answer_id":21580455,"question_id":5644011,"body_markdown":"I know it&#39;s an old question but I just had the same problem and spent some time figuring out what is going on. I&#39;m using Gradle 1.9. All changes should be in ProjectB&#39;s `build.gradle`\r\n\r\nTo use test classes from ProjectA in tests of ProjectB:\r\n\r\n    testCompile files(project(&#39;:ProjectA&#39;).sourceSets.test.output.classesDir)\r\n\r\nTo make sure that `sourceSets` property is available for ProjectA:\r\n\r\n    evaluationDependsOn(&#39;:ProjectA&#39;)\r\n\r\nTo make sure test classes from ProjectA are actually there, when you compile ProjectB:\r\n\r\n    compileTestJava.dependsOn tasks.getByPath(&#39;:ProjectA:testClasses&#39;)","title":"Multi-project test dependencies with gradle","body":"<p>I know it's an old question but I just had the same problem and spent some time figuring out what is going on. I'm using Gradle 1.9. All changes should be in ProjectB's <code>build.gradle</code></p>\n\n<p>To use test classes from ProjectA in tests of ProjectB:</p>\n\n<pre><code>testCompile files(project(':ProjectA').sourceSets.test.output.classesDir)\n</code></pre>\n\n<p>To make sure that <code>sourceSets</code> property is available for ProjectA:</p>\n\n<pre><code>evaluationDependsOn(':ProjectA')\n</code></pre>\n\n<p>To make sure test classes from ProjectA are actually there, when you compile ProjectB:</p>\n\n<pre><code>compileTestJava.dependsOn tasks.getByPath(':ProjectA:testClasses')\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7452831,"reputation":30382,"user_id":5666987,"accept_rate":84,"display_name":"Ian"},"score":1,"creation_date":1451487414,"post_id":34529143,"comment_id":56805021,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/10727461)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/10727461\">From Review</a>"},{"owner":{"account_id":506650,"reputation":544,"user_id":2260568,"accept_rate":73,"display_name":"demon101"},"score":0,"creation_date":1451501694,"post_id":34529143,"comment_id":56812527,"body_markdown":"few lines of text has been added","body":"few lines of text has been added"},{"owner":{"account_id":506650,"reputation":544,"user_id":2260568,"accept_rate":73,"display_name":"demon101"},"score":0,"creation_date":1451502425,"post_id":34529143,"comment_id":56812902,"body_markdown":"Anyway, information about new gradle plugin has been provided.","body":"Anyway, information about new gradle plugin has been provided."},{"owner":{"account_id":6652723,"reputation":1847,"user_id":5134215,"accept_rate":50,"display_name":"Vignesh Sundaramoorthy"},"score":5,"creation_date":1539690483,"post_id":34529143,"comment_id":92585473,"body_markdown":"@demon101 Not working in Gradle 4.6, getting error `Could not get unknown property &#39;testClasses&#39; for project &#39;:core&#39; of type org.gradle.api.Project.`","body":"@demon101 Not working in Gradle 4.6, getting error <code>Could not get unknown property &#39;testClasses&#39; for project &#39;:core&#39; of type org.gradle.api.Project.</code>"}],"tags":[],"owner":{"account_id":506650,"reputation":544,"user_id":2260568,"accept_rate":73,"display_name":"demon101"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1451501649,"creation_date":1451476688,"answer_id":34529143,"question_id":5644011,"body_markdown":"New testJar based (trnsitive dependancies supported) solution available as gradle plugin:\r\n\r\nhttps://github.com/hauner/gradle-plugins/tree/master/jartest\r\n\r\nhttps://plugins.gradle.org/plugin/com.github.hauner.jarTest/1.0\r\n\r\nFrom documentation\r\n\r\n&gt; In case you have a multi-project gradle build you may have test\r\n&gt; dependencies between sub-projects (which probably is a hint that your\r\n&gt; projects are not well structured).\r\n&gt; \r\n&gt; For example assume a project where the sub-project Project B depends\r\n&gt; on Project A and B does not only have a compile dependency on A but\r\n&gt; also a test dependency. To compile and run the tests of B we need some\r\n&gt; test helper classes from A.\r\n&gt; \r\n&gt; By default gradle does not create a jar artifact from the test build\r\n&gt; output of a project.\r\n&gt; \r\n&gt; This plugin adds a testArchives configuration (based on testCompile)\r\n&gt; and a jarTest task to create a jar from the test source set (with the\r\n&gt; classifier test added to name of the jar). We can then depend in B on\r\n&gt; the testArchives configuration of A (which will also include the\r\n&gt; transitive dependencies of A).\r\n&gt; \r\n&gt; In A we would add the plugin to build.gradle:\r\n&gt; \r\n&gt; `apply plugin: &#39;com.github.hauner.jarTest&#39;` \r\n&gt; \r\n&gt; In B we reference the\r\n&gt; testArchives configuration like this:\r\n&gt; \r\n&gt; \r\n\r\n    dependencies {\r\n        ...\r\n        testCompile project (path: &#39;:ProjectA&#39;, configuration: &#39;testArchives&#39;) \r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>New testJar based (trnsitive dependancies supported) solution available as gradle plugin:</p>\n\n<p><a href=\"https://github.com/hauner/gradle-plugins/tree/master/jartest\" rel=\"noreferrer\">https://github.com/hauner/gradle-plugins/tree/master/jartest</a></p>\n\n<p><a href=\"https://plugins.gradle.org/plugin/com.github.hauner.jarTest/1.0\" rel=\"noreferrer\">https://plugins.gradle.org/plugin/com.github.hauner.jarTest/1.0</a></p>\n\n<p>From documentation</p>\n\n<blockquote>\n  <p>In case you have a multi-project gradle build you may have test\n  dependencies between sub-projects (which probably is a hint that your\n  projects are not well structured).</p>\n  \n  <p>For example assume a project where the sub-project Project B depends\n  on Project A and B does not only have a compile dependency on A but\n  also a test dependency. To compile and run the tests of B we need some\n  test helper classes from A.</p>\n  \n  <p>By default gradle does not create a jar artifact from the test build\n  output of a project.</p>\n  \n  <p>This plugin adds a testArchives configuration (based on testCompile)\n  and a jarTest task to create a jar from the test source set (with the\n  classifier test added to name of the jar). We can then depend in B on\n  the testArchives configuration of A (which will also include the\n  transitive dependencies of A).</p>\n  \n  <p>In A we would add the plugin to build.gradle:</p>\n  \n  <p><code>apply plugin: 'com.github.hauner.jarTest'</code> </p>\n  \n  <p>In B we reference the\n  testArchives configuration like this:</p>\n</blockquote>\n\n<pre><code>dependencies {\n    ...\n    testCompile project (path: ':ProjectA', configuration: 'testArchives') \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3585651,"reputation":3049,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464270175,"creation_date":1464120876,"answer_id":37423030,"question_id":5644011,"body_markdown":"Some of the other answers caused errors one way or another - Gradle did not detect test classes from other projects or Eclipse project had invalid dependencies when imported. If anyone has the same problem, I suggest going with:\r\n\r\n    testCompile project(&#39;:core&#39;)\r\n    testCompile files(project(&#39;:core&#39;).sourceSets.test.output.classesDir)\r\n\r\nThe first line forces the Eclipse to link the other project as dependency, so all sources are included and up to date. The second allows Gradle to actually see the sources, while not causing any invalid dependency errors like `testCompile project(&#39;:core&#39;).sourceSets.test.output` does.","title":"Multi-project test dependencies with gradle","body":"<p>Some of the other answers caused errors one way or another - Gradle did not detect test classes from other projects or Eclipse project had invalid dependencies when imported. If anyone has the same problem, I suggest going with:</p>\n\n<pre><code>testCompile project(':core')\ntestCompile files(project(':core').sourceSets.test.output.classesDir)\n</code></pre>\n\n<p>The first line forces the Eclipse to link the other project as dependency, so all sources are included and up to date. The second allows Gradle to actually see the sources, while not causing any invalid dependency errors like <code>testCompile project(':core').sourceSets.test.output</code> does.</p>\n"},{"comments":[{"owner":{"account_id":7524109,"reputation":1090,"user_id":5715001,"display_name":"V&#225;clav Kužel"},"score":1,"creation_date":1545217572,"post_id":37423632,"comment_id":94547276,"body_markdown":"@jannis fixed. Btw. Gradle moved its Groovy based test fixtures plugin to new Kotlin based: https://github.com/gradle/gradle/blob/v5.0.0/buildSrc/subprojects/integration-testing/src/main/kotlin/org/gradle/gradlebuild/test/fixtures/TestFixturesPlugin.kt","body":"@jannis fixed. Btw. Gradle moved its Groovy based test fixtures plugin to new Kotlin based: <a href=\"https://github.com/gradle/gradle/blob/v5.0.0/buildSrc/subprojects/integration-testing/src/main/kotlin/org/gradle/gradlebuild/test/fixtures/TestFixturesPlugin.kt\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/blob/v5.0.0/buildSrc/subprojects/&hellip;</a>"},{"owner":{"account_id":2270702,"reputation":1284,"user_id":1998186,"display_name":"NealeU"},"score":0,"creation_date":1690456522,"post_id":37423632,"comment_id":135357945,"body_markdown":"Gradle have now moved this again to https://github.com/gradle/gradle/blob/v8.2.1/build-logic/integration-testing/src/main/kotlin/gradlebuild.test-fixtures.gradle.kts","body":"Gradle have now moved this again to <a href=\"https://github.com/gradle/gradle/blob/v8.2.1/build-logic/integration-testing/src/main/kotlin/gradlebuild.test-fixtures.gradle.kts\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/blob/v8.2.1/build-logic/&hellip;</a>"},{"owner":{"account_id":2270702,"reputation":1284,"user_id":1998186,"display_name":"NealeU"},"score":0,"creation_date":1690457059,"post_id":37423632,"comment_id":135358059,"body_markdown":"For Android developers, there appears to be a blocker to having java-test-fixtures work with the Android Gradle Plugin. See https://youtrack.jetbrains.com/issue/KT-50667/Support-compiling-android-testFixtures-sources-in-the-kotlin-android-gradle-plugin#focus=Comments-27-7633097.0-0","body":"For Android developers, there appears to be a blocker to having java-test-fixtures work with the Android Gradle Plugin. See <a href=\"https://youtrack.jetbrains.com/issue/KT-50667/Support-compiling-android-testFixtures-sources-in-the-kotlin-android-gradle-plugin#focus=Comments-27-7633097.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-50667/&hellip;</a>"}],"tags":[],"owner":{"account_id":7524109,"reputation":1090,"user_id":5715001,"display_name":"V&#225;clav Kužel"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1690531558,"creation_date":1464123029,"answer_id":37423632,"question_id":5644011,"body_markdown":"Please read the update bellow.\r\n\r\nSimilar problems described by JustACluelessNewbie occurs in IntelliJ IDEA. Problem is that dependency `testCompile project(&#39;:core&#39;).sourceSets.test.output` actually means: &quot;depend on classes generated by gradle build task&quot;. So if you open clean project where classes are not generated yet IDEA won&#39;t recognise them and reports error.\r\n\r\nTo fix this problem you have to add a dependency on test source files next to dependency on compiled classes.\r\n\r\n    // First dependency is for IDEA\r\n\ttestCompileOnly files { project(&#39;:core&#39;).sourceSets.test.java.srcDirs }\r\n    // Second is for Gradle\r\n\ttestCompile project(&#39;:core&#39;).sourceSets.test.output\r\n\r\nYou can observe dependencies recognised by IDEA in *Module Settings -&gt; Dependencies (test scope)*.\r\n\r\nBtw. this is not nice solution so refactoring is worth considering. Gradle itself does have special subproject containing test-support classes only. See https://docs.gradle.org/current/userguide/test_kit.html\r\n\r\n**Update 2016-06-05**\r\nMore I am thinking about proposed solution less I like it. There are few problems with it:\r\n\r\n 1. It creates two dependencies in IDEA. One points to test sources another to compiled classes. And it is crucial in which order these dependencies are recognised by IDEA. You can play with it by changing dependency order in Module settings -&gt; Dependencies tab.\r\n 2. By declaring these dependencies you are unnecessarily polluting dependency structure.\r\n\r\nSo what&#39;s the better solution? In my opinion it&#39;s creating new custom source set and putting shared classes into it. Actually authors of Gradle project did it by creating testFixtures source set.\r\n\r\nTo do it you just have to:\r\n\r\n 1. Create source set and add necessary configurations. Check this script plugin used in Gradle project: https://github.com/gradle/gradle/blob/v4.0.0/gradle/testFixtures.gradle (or [more recent 8.2.1 version][1])\r\n 2. Declare proper dependency in dependent project:\r\n\r\n        dependencies {\r\n            testCompile project(path: &#39;:module-with-shared-classes&#39;, configuration: &#39;testFixturesUsageCompile&#39;)\r\n        }\r\n 3. Import Gradle project to IDEA and use the &quot;create separate module per source set&quot; option while importing.\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/blob/v8.2.1/build-logic/integration-testing/src/main/kotlin/gradlebuild.test-fixtures.gradle.kts","title":"Multi-project test dependencies with gradle","body":"<p>Please read the update bellow.</p>\n<p>Similar problems described by JustACluelessNewbie occurs in IntelliJ IDEA. Problem is that dependency <code>testCompile project(':core').sourceSets.test.output</code> actually means: &quot;depend on classes generated by gradle build task&quot;. So if you open clean project where classes are not generated yet IDEA won't recognise them and reports error.</p>\n<p>To fix this problem you have to add a dependency on test source files next to dependency on compiled classes.</p>\n<pre><code>// First dependency is for IDEA\ntestCompileOnly files { project(':core').sourceSets.test.java.srcDirs }\n// Second is for Gradle\ntestCompile project(':core').sourceSets.test.output\n</code></pre>\n<p>You can observe dependencies recognised by IDEA in <em>Module Settings -&gt; Dependencies (test scope)</em>.</p>\n<p>Btw. this is not nice solution so refactoring is worth considering. Gradle itself does have special subproject containing test-support classes only. See <a href=\"https://docs.gradle.org/current/userguide/test_kit.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/test_kit.html</a></p>\n<p><strong>Update 2016-06-05</strong>\nMore I am thinking about proposed solution less I like it. There are few problems with it:</p>\n<ol>\n<li>It creates two dependencies in IDEA. One points to test sources another to compiled classes. And it is crucial in which order these dependencies are recognised by IDEA. You can play with it by changing dependency order in Module settings -&gt; Dependencies tab.</li>\n<li>By declaring these dependencies you are unnecessarily polluting dependency structure.</li>\n</ol>\n<p>So what's the better solution? In my opinion it's creating new custom source set and putting shared classes into it. Actually authors of Gradle project did it by creating testFixtures source set.</p>\n<p>To do it you just have to:</p>\n<ol>\n<li><p>Create source set and add necessary configurations. Check this script plugin used in Gradle project: <a href=\"https://github.com/gradle/gradle/blob/v4.0.0/gradle/testFixtures.gradle\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/blob/v4.0.0/gradle/testFixtures.gradle</a> (or <a href=\"https://github.com/gradle/gradle/blob/v8.2.1/build-logic/integration-testing/src/main/kotlin/gradlebuild.test-fixtures.gradle.kts\" rel=\"nofollow noreferrer\">more recent 8.2.1 version</a>)</p>\n</li>\n<li><p>Declare proper dependency in dependent project:</p>\n<pre><code>dependencies {\n    testCompile project(path: ':module-with-shared-classes', configuration: 'testFixturesUsageCompile')\n}\n</code></pre>\n</li>\n<li><p>Import Gradle project to IDEA and use the &quot;create separate module per source set&quot; option while importing.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5714453,"reputation":696,"user_id":4515224,"accept_rate":67,"display_name":"Ryan Newsom"},"score":1,"creation_date":1513889506,"post_id":39868674,"comment_id":82834135,"body_markdown":"slight typo, missing the end quote after the project(&#39;:A&#39;). This worked for me though, thanks m8","body":"slight typo, missing the end quote after the project(&#39;:A&#39;). This worked for me though, thanks m8"},{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":1,"creation_date":1583760644,"post_id":39868674,"comment_id":107213886,"body_markdown":"For Android this idea worked beautifully for me, without the hacky feeling https://stackoverflow.com/a/50869037/197141","body":"For Android this idea worked beautifully for me, without the hacky feeling <a href=\"https://stackoverflow.com/a/50869037/197141\">stackoverflow.com/a/50869037/197141</a>"},{"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"score":0,"creation_date":1583942059,"post_id":39868674,"comment_id":107283775,"body_markdown":"@arberg Yes, seems as a good approach. The only limitation i see is with the `@VisibleForTesting` lint rules. You won&#39;t be able to call such methods from the regular module under not test folder.","body":"@arberg Yes, seems as a good approach. The only limitation i see is with the <code>@VisibleForTesting</code> lint rules. You won&#39;t be able to call such methods from the regular module under not test folder."}],"tags":[],"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1513891102,"creation_date":1475655188,"answer_id":39868674,"question_id":5644011,"body_markdown":"The Fesler&#39;s solution haven&#39;t worked for me, when i tried it to build an android project (gradle 2.2.0).\r\nSo i had to reference required classes manually :\r\n    \r\n    android {\r\n        sourceSets {\r\n            androidTest {\r\n                java.srcDir project(&#39;:A&#39;).file(&quot;src/androidTest/java&quot;)\r\n            }\r\n            test {\r\n                java.srcDir project(&#39;:A&#39;).file(&quot;src/test/java&quot;)\r\n            }\r\n        }\r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>The Fesler's solution haven't worked for me, when i tried it to build an android project (gradle 2.2.0).\nSo i had to reference required classes manually :</p>\n\n<pre><code>android {\n    sourceSets {\n        androidTest {\n            java.srcDir project(':A').file(\"src/androidTest/java\")\n        }\n        test {\n            java.srcDir project(':A').file(\"src/test/java\")\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175271,"reputation":337,"user_id":1151424,"display_name":"Erik Sill&#233;n"},"score":0,"creation_date":1574928438,"post_id":50328448,"comment_id":104404353,"body_markdown":"Great solution for the shared mock case!","body":"Great solution for the shared mock case!"}],"tags":[],"owner":{"account_id":4974019,"reputation":467,"user_id":4000934,"display_name":"sylwano"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526294794,"creation_date":1526294794,"answer_id":50328448,"question_id":5644011,"body_markdown":"If you have mock dependencies which you need to share between tests, you can create new project `projectA-mock` and then add it as test dependency to `ProjectA` and `ProjectB`:\r\n\r\n    dependencies {\r\n      testCompile project(&#39;:projectA-mock&#39;)\r\n    }\r\n\r\nThis is clear solution to share mock dependencies, but if you need to run tests from `ProjectA` in `ProjectB` use other solution.","title":"Multi-project test dependencies with gradle","body":"<p>If you have mock dependencies which you need to share between tests, you can create new project <code>projectA-mock</code> and then add it as test dependency to <code>ProjectA</code> and <code>ProjectB</code>:</p>\n\n<pre><code>dependencies {\n  testCompile project(':projectA-mock')\n}\n</code></pre>\n\n<p>This is clear solution to share mock dependencies, but if you need to run tests from <code>ProjectA</code> in <code>ProjectB</code> use other solution.</p>\n"},{"comments":[{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":4,"creation_date":1534526188,"post_id":50987676,"comment_id":90751376,"body_markdown":"The question doesn&#39;t mention Android. Can you make your answer agnostic to whether the developer is developing for Android or not, or is it only for Android developers?","body":"The question doesn&#39;t mention Android. Can you make your answer agnostic to whether the developer is developing for Android or not, or is it only for Android developers?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":2,"creation_date":1604022749,"post_id":50987676,"comment_id":114227729,"body_markdown":"I worked on a project with cycles, so this answer is the only one that worked more or less cleanly. For reference, I put, in the project needing tests from `projectExposingTests` the snippet (kotlin version): `sourceSets {  test {  java.srcDir(project(&quot;:projectExposingTests&quot;).file(&quot;src/test/java&quot;)) } }`","body":"I worked on a project with cycles, so this answer is the only one that worked more or less cleanly. For reference, I put, in the project needing tests from <code>projectExposingTests</code> the snippet (kotlin version): <code>sourceSets {  test {  java.srcDir(project(&quot;:projectExposingTests&quot;).file(&quot;src&#47;test&#47;&zwnj;&#8203;java&quot;)) } }</code>"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1685733687,"post_id":50987676,"comment_id":134707926,"body_markdown":"Isn&#39;t this going to try to run the tests in the shared folder instead of just use them as dependencies in ProjectB&#39;s tests?","body":"Isn&#39;t this going to try to run the tests in the shared folder instead of just use them as dependencies in ProjectB&#39;s tests?"}],"tags":[],"owner":{"account_id":424733,"reputation":1110,"user_id":804894,"accept_rate":71,"display_name":"tricknology"},"comment_count":3,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1604022756,"creation_date":1529669484,"answer_id":50987676,"question_id":5644011,"body_markdown":"I&#39;m so late to the party (it is now Gradle v4.4) but for anyone else who finds this:\r\n\r\nAssuming:\r\n\r\n    ~/allProjects\r\n    |\r\n    |-/ProjectA/module-a/src/test/java\r\n    |\r\n    |-/ProjectB/module-b/src/test/java\r\n\r\n Go to the `build.gradle` of project B (the one that needs some test classes from A) and add the following:\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    sourceSets {\r\n        String sharedTestDir = &quot;${projectDir}&quot;+&#39;/module-b/src/test/java&#39;\r\n        test {\r\n            java.srcDir sharedTestDir\r\n        }\r\n    }\r\n\r\nor (assuming your project is named `ProjectB`)\r\n\r\n&lt;!-- language: lang-groovy --&gt;\r\n\r\n    sourceSets {\r\n        String sharedTestDir = project(&#39;:ProjectB&#39;).file(&quot;module-b/src/test/java&quot;)\r\n        test {\r\n            java.srcDir sharedTestDir\r\n        }\r\n    }\r\n\r\nVoila!","title":"Multi-project test dependencies with gradle","body":"<p>I'm so late to the party (it is now Gradle v4.4) but for anyone else who finds this:</p>\n<p>Assuming:</p>\n<pre><code>~/allProjects\n|\n|-/ProjectA/module-a/src/test/java\n|\n|-/ProjectB/module-b/src/test/java\n</code></pre>\n<p>Go to the <code>build.gradle</code> of project B (the one that needs some test classes from A) and add the following:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>sourceSets {\n    String sharedTestDir = &quot;${projectDir}&quot;+'/module-b/src/test/java'\n    test {\n        java.srcDir sharedTestDir\n    }\n}\n</code></pre>\n<p>or (assuming your project is named <code>ProjectB</code>)</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>sourceSets {\n    String sharedTestDir = project(':ProjectB').file(&quot;module-b/src/test/java&quot;)\n    test {\n        java.srcDir sharedTestDir\n    }\n}\n</code></pre>\n<p>Voila!</p>\n"},{"comments":[{"owner":{"account_id":9022797,"reputation":2681,"user_id":6723250,"accept_rate":62,"display_name":"xeruf"},"score":2,"creation_date":1578654783,"post_id":54640880,"comment_id":105518321,"body_markdown":"Unfortunately (in Gradle 6) the flat include, which was exactly what I wanted, does not work anymore because there is no configuration &#39;tests&#39; anymore. \n\nUsing `println(configurations.joinToString(&quot;\\n&quot;) { it.name + &quot; - &quot; + it.allDependencies.joinToString() })` (in a kotlin buildscript), I determined which configurations still exist and have dependencies, but for all of these Gradle complained: `Selected configuration &#39;testCompileClasspath&#39; on &#39;project :sdk&#39; but it can&#39;t be used as a project dependency because it isn&#39;t intended for consumption by other components.`","body":"Unfortunately (in Gradle 6) the flat include, which was exactly what I wanted, does not work anymore because there is no configuration &#39;tests&#39; anymore.   Using <code>println(configurations.joinToString(&quot;\\n&quot;) { it.name + &quot; - &quot; + it.allDependencies.joinToString() })</code> (in a kotlin buildscript), I determined which configurations still exist and have dependencies, but for all of these Gradle complained: <code>Selected configuration &#39;testCompileClasspath&#39; on &#39;project :sdk&#39; but it can&#39;t be used as a project dependency because it isn&#39;t intended for consumption by other components.</code>"},{"owner":{"account_id":10695301,"reputation":331,"user_id":7872692,"display_name":"mehdi mohammadi"},"score":0,"creation_date":1624296322,"post_id":54640880,"comment_id":120314704,"body_markdown":"This solution worked for me with Gradle 7.0","body":"This solution worked for me with Gradle 7.0"},{"owner":{"account_id":3066131,"reputation":1764,"user_id":2597775,"accept_rate":58,"display_name":"sebasira"},"score":0,"creation_date":1651535786,"post_id":54640880,"comment_id":127383013,"body_markdown":"@Joman could you explain what&#39;s the difference with this other answer: https://stackoverflow.com/a/63815784/2597775? I mean, the `extendFrom`, the `archive` inside artifacts and the last part `jar.finalize`. Thank you (by the way I&#39;ve test this and it works, but I want to understand the differences with the other answer which I&#39;ve not tested yet)","body":"@Joman could you explain what&#39;s the difference with this other answer: <a href=\"https://stackoverflow.com/a/63815784/2597775\">stackoverflow.com/a/63815784/2597775</a>? I mean, the <code>extendFrom</code>, the <code>archive</code> inside artifacts and the last part <code>jar.finalize</code>. Thank you (by the way I&#39;ve test this and it works, but I want to understand the differences with the other answer which I&#39;ve not tested yet)"}],"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550460926,"creation_date":1549929299,"answer_id":54640880,"question_id":5644011,"body_markdown":"If you want to use _artifact_ dependencies to have:\r\n\r\n - ProjectB&#39;s source classes depend on Project A&#39;s source classes\r\n - ProjectB&#39;s test classes depend on Project A&#39;s test classes\r\n\r\nthen ProjectB&#39;s dependencies section in _build.gradle_ should look something like this:\r\n\r\n    dependencies {\r\n\r\n      compile(&quot;com.example:projecta:1.0.0&quot;)\r\n    \r\n      testCompile(&quot;com.example:projecta:1.0.0:tests&quot;)\r\n\r\n    }\r\n\r\nFor this to work ProjectA needs to build a _-tests_ jar and include it in the artifacts it produces. \r\n\r\nProjectA&#39;s _build.gradle_ should contain configuration like this:\r\n\r\n    task testsJar(type: Jar, dependsOn: testClasses) {\r\n        classifier = &#39;tests&#39;\r\n        from sourceSets.test.output\r\n    }\r\n\r\n    configurations {\r\n        tests\r\n    }\r\n\r\n    artifacts {\r\n        tests testsJar\r\n        archives testsJar\r\n    }\r\n\r\n    jar.finalizedBy(testsJar)\r\n\r\nWhen ProjectA&#39;s artifacts are published to your artifactory they will include a _-tests_ jar.\r\n\r\nThe _testCompile_ in ProjectB&#39;s dependencies section will bring in the classes in the _-tests_ jar.\r\n\r\n---\r\n\r\nIf you want to _includeFlat_ ProjectA&#39;s source and test classes in ProjectB for development purposes then the dependencies section in ProjectB&#39;s _build.gradle_ would look like this:\r\n\r\n    dependencies {\r\n\r\n      compile project(&#39;:projecta&#39;)\r\n \r\n      testCompile project(path: &#39;:projecta&#39;, configuration: &#39;tests&#39;)\r\n\r\n    }","title":"Multi-project test dependencies with gradle","body":"<p>If you want to use <em>artifact</em> dependencies to have:</p>\n\n<ul>\n<li>ProjectB's source classes depend on Project A's source classes</li>\n<li>ProjectB's test classes depend on Project A's test classes</li>\n</ul>\n\n<p>then ProjectB's dependencies section in <em>build.gradle</em> should look something like this:</p>\n\n<pre><code>dependencies {\n\n  compile(\"com.example:projecta:1.0.0\")\n\n  testCompile(\"com.example:projecta:1.0.0:tests\")\n\n}\n</code></pre>\n\n<p>For this to work ProjectA needs to build a <em>-tests</em> jar and include it in the artifacts it produces. </p>\n\n<p>ProjectA's <em>build.gradle</em> should contain configuration like this:</p>\n\n<pre><code>task testsJar(type: Jar, dependsOn: testClasses) {\n    classifier = 'tests'\n    from sourceSets.test.output\n}\n\nconfigurations {\n    tests\n}\n\nartifacts {\n    tests testsJar\n    archives testsJar\n}\n\njar.finalizedBy(testsJar)\n</code></pre>\n\n<p>When ProjectA's artifacts are published to your artifactory they will include a <em>-tests</em> jar.</p>\n\n<p>The <em>testCompile</em> in ProjectB's dependencies section will bring in the classes in the <em>-tests</em> jar.</p>\n\n<hr>\n\n<p>If you want to <em>includeFlat</em> ProjectA's source and test classes in ProjectB for development purposes then the dependencies section in ProjectB's <em>build.gradle</em> would look like this:</p>\n\n<pre><code>dependencies {\n\n  compile project(':projecta')\n\n  testCompile project(path: ':projecta', configuration: 'tests')\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4394677,"reputation":15428,"user_id":4034572,"display_name":"Albert Vila Calvo"},"score":8,"creation_date":1593602217,"post_id":60138176,"comment_id":110836929,"body_markdown":"They are working on supporting this on Android, see https://issuetracker.google.com/issues/139762443 and https://issuetracker.google.com/issues/139438142","body":"They are working on supporting this on Android, see <a href=\"https://issuetracker.google.com/issues/139762443\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/139762443</a> and <a href=\"https://issuetracker.google.com/issues/139438142\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/139438142</a>"},{"owner":{"account_id":6348531,"reputation":731,"user_id":4928318,"display_name":"ArpitA"},"score":0,"creation_date":1616767506,"post_id":60138176,"comment_id":118113588,"body_markdown":"As of now doesn&#39;t work for android gradle plugin and kotlin","body":"As of now doesn&#39;t work for android gradle plugin and kotlin"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1616779875,"post_id":60138176,"comment_id":118119276,"body_markdown":"Yes, @ArpitA, see the comment before yours. This Q&amp;A is for standard Java Gradle projects.","body":"Yes, @ArpitA, see the comment before yours. This Q&amp;A is for standard Java Gradle projects."},{"owner":{"account_id":23012,"reputation":2259,"user_id":57357,"accept_rate":74,"display_name":"Dan Tanner"},"score":1,"creation_date":1652994051,"post_id":60138176,"comment_id":127749295,"body_markdown":"As of now this *does* work for Kotlin (tested with an internal module on Kotlin 1.6.10)","body":"As of now this <i>does</i> work for Kotlin (tested with an internal module on Kotlin 1.6.10)"},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":1,"creation_date":1662293231,"post_id":60138176,"comment_id":129968266,"body_markdown":"`testFixtures` dependency could be written as `testFixturesImplementation` in case of sharing &quot;java-test-fixtures&quot; plugin.\nSee https://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures","body":"<code>testFixtures</code> dependency could be written as <code>testFixturesImplementation</code> in case of sharing &quot;java-test-fixtures&quot; plugin. See <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":1,"creation_date":1662402816,"post_id":60138176,"comment_id":129993329,"body_markdown":"@GrigoryKislin that would mean something else, you would depend on test fixtures of another module from test fixtures. Which, incidentally, might be visible to the test code of the module too. It depends on what you want to expose for users of your text fixtures.","body":"@GrigoryKislin that would mean something else, you would depend on test fixtures of another module from test fixtures. Which, incidentally, might be visible to the test code of the module too. It depends on what you want to expose for users of your text fixtures."}],"tags":[],"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"comment_count":6,"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1694704579,"creation_date":1581262029,"answer_id":60138176,"question_id":5644011,"body_markdown":"**This is now supported as a first class feature in Gradle.** Modules with `java` or `java-library` plugins can also include a `java-test-fixtures` plugin which exposes helper classes and resources to be consumed with `testFixtures` helper. Benefit of this approach against artifacts and classifiers are:\r\n\r\n * proper dependency management (implementation/api)\r\n * nice separation from test code (separate source set)\r\n * no need to filter out test classes to expose only utilities\r\n * maintained by Gradle\r\n\r\n# Example\r\n## `:modul:one`\r\n### modul/one/build.gradle\r\n```\r\nplugins {\r\n  id &quot;java-library&quot; // or &quot;java&quot;\r\n  id &quot;java-test-fixtures&quot;\r\n}\r\n```\r\n### modul/one/src/testFixtures/java/com/example/Helper.java\r\n```\r\npackage com.example;\r\npublic class Helper {}\r\n```\r\n\r\n## `:modul:other`\r\n### modul/other/build.gradle\r\n```\r\nplugins {\r\n  id &quot;java&quot; // or &quot;java-library&quot;\r\n}\r\ndependencies {\r\n  testImplementation(testFixtures(project(&quot;:modul:one&quot;)))\r\n}\r\n```\r\n### modul/other/src/test/java/com/example/other/SomeTest.java\r\n```\r\npackage com.example.other;\r\nimport com.example.Helper;\r\npublic class SomeTest {\r\n  @Test void f() {\r\n    new Helper(); // used from :modul:one&#39;s testFixtures\r\n  }\r\n}\r\n```\r\n\r\n# Further reading\r\n * For more info, see the **documentation**:  \r\nhttps://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures\r\n\r\n * It was added in Gradle 5.6:  \r\nhttps://docs.gradle.org/5.6/release-notes.html#test-fixtures-for-java-projects\r\n\r\n * On **Android** Java test-fixtures support was [added in AGP 7.1](https://developer.android.com/build/publish-library/prep-lib-release#enable-test-fixtures)\r\n\r\n * Using **Kotlin** language in test-fixtures source set in JVM projects is possible, not sure when it was added exactly, let&#39;s say 2022: Kotlin 1.7.\r\n\r\n * Using **Kotlin** language in test-fixtures on **Android**:\r\nJetBrains is refusing to implement it [here](https://youtrack.jetbrains.com/issue/KT-50667/Support-compiling-android-testFixtures-sources-in-the-kotlin-android-gradle-plugin#focus=Comments-27-6688363.0-0) and Google just keeps [punting it from one release to the next](https://issuetracker.google.com/issues/259523353#comment6) and the community is just yearning (look at the number of votes).","title":"Multi-project test dependencies with gradle","body":"<p><strong>This is now supported as a first class feature in Gradle.</strong> Modules with <code>java</code> or <code>java-library</code> plugins can also include a <code>java-test-fixtures</code> plugin which exposes helper classes and resources to be consumed with <code>testFixtures</code> helper. Benefit of this approach against artifacts and classifiers are:</p>\n<ul>\n<li>proper dependency management (implementation/api)</li>\n<li>nice separation from test code (separate source set)</li>\n<li>no need to filter out test classes to expose only utilities</li>\n<li>maintained by Gradle</li>\n</ul>\n<h1>Example</h1>\n<h2><code>:modul:one</code></h2>\n<h3>modul/one/build.gradle</h3>\n<pre><code>plugins {\n  id &quot;java-library&quot; // or &quot;java&quot;\n  id &quot;java-test-fixtures&quot;\n}\n</code></pre>\n<h3>modul/one/src/testFixtures/java/com/example/Helper.java</h3>\n<pre><code>package com.example;\npublic class Helper {}\n</code></pre>\n<h2><code>:modul:other</code></h2>\n<h3>modul/other/build.gradle</h3>\n<pre><code>plugins {\n  id &quot;java&quot; // or &quot;java-library&quot;\n}\ndependencies {\n  testImplementation(testFixtures(project(&quot;:modul:one&quot;)))\n}\n</code></pre>\n<h3>modul/other/src/test/java/com/example/other/SomeTest.java</h3>\n<pre><code>package com.example.other;\nimport com.example.Helper;\npublic class SomeTest {\n  @Test void f() {\n    new Helper(); // used from :modul:one's testFixtures\n  }\n}\n</code></pre>\n<h1>Further reading</h1>\n<ul>\n<li><p>For more info, see the <strong>documentation</strong>:<br />\n<a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures</a></p>\n</li>\n<li><p>It was added in Gradle 5.6:<br />\n<a href=\"https://docs.gradle.org/5.6/release-notes.html#test-fixtures-for-java-projects\" rel=\"nofollow noreferrer\">https://docs.gradle.org/5.6/release-notes.html#test-fixtures-for-java-projects</a></p>\n</li>\n<li><p>On <strong>Android</strong> Java test-fixtures support was <a href=\"https://developer.android.com/build/publish-library/prep-lib-release#enable-test-fixtures\" rel=\"nofollow noreferrer\">added in AGP 7.1</a></p>\n</li>\n<li><p>Using <strong>Kotlin</strong> language in test-fixtures source set in JVM projects is possible, not sure when it was added exactly, let's say 2022: Kotlin 1.7.</p>\n</li>\n<li><p>Using <strong>Kotlin</strong> language in test-fixtures on <strong>Android</strong>:\nJetBrains is refusing to implement it <a href=\"https://youtrack.jetbrains.com/issue/KT-50667/Support-compiling-android-testFixtures-sources-in-the-kotlin-android-gradle-plugin#focus=Comments-27-6688363.0-0\" rel=\"nofollow noreferrer\">here</a> and Google just keeps <a href=\"https://issuetracker.google.com/issues/259523353#comment6\" rel=\"nofollow noreferrer\">punting it from one release to the next</a> and the community is just yearning (look at the number of votes).</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1615373368,"post_id":61682321,"comment_id":117668771,"body_markdown":"As written above below another answer: just figured that yes, the configuration should really be named **test**, and nothing else (otherwise IDEs might have difficulties to pick up the dependency to the test sources).","body":"As written above below another answer: just figured that yes, the configuration should really be named <b>test</b>, and nothing else (otherwise IDEs might have difficulties to pick up the dependency to the test sources)."},{"owner":{"account_id":9283832,"reputation":2572,"user_id":6894338,"display_name":"Ash"},"score":1,"creation_date":1657224198,"post_id":61682321,"comment_id":128766774,"body_markdown":"I hate it took me so long to find the kotlin dsl example when googling, thank you","body":"I hate it took me so long to find the kotlin dsl example when googling, thank you"}],"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1588950968,"creation_date":1588950968,"answer_id":61682321,"question_id":5644011,"body_markdown":"Here if you are using **Kotlin DSL**, you should create your task like that according to [Gradle][1] documentation.\r\n\r\nLike some previous answer, you need to create a special configuration inside the project that will share its tests class, so that you don&#39;t mix test and main classes.\r\n\r\n### Simple steps\r\n\r\n1. In **project A** you would need to add in your `build.gradle.kts` :\r\n\r\n```kotlin\r\nconfigurations {\r\n    create(&quot;test&quot;)\r\n}\r\n\r\ntasks.register&lt;Jar&gt;(&quot;testArchive&quot;) {\r\n    archiveBaseName.set(&quot;ProjectA-test&quot;)\r\n    from(project.the&lt;SourceSetContainer&gt;()[&quot;test&quot;].output)\r\n}\r\n\r\nartifacts {\r\n    add(&quot;test&quot;, tasks[&quot;testArchive&quot;])\r\n}\r\n```\r\n\r\n\r\n2. Then in your **project B** in the dependencies, you will need to add in your `build.gradle.kts`:\r\n\r\n```kotlin\r\ndependencies {\r\n    implementation(project(&quot;:ProjectA&quot;))\r\n    testImplementation(project(&quot;:ProjectA&quot;, &quot;test&quot;))\r\n}\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/multi_project_builds.html","title":"Multi-project test dependencies with gradle","body":"<p>Here if you are using <strong>Kotlin DSL</strong>, you should create your task like that according to <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"noreferrer\">Gradle</a> documentation.</p>\n\n<p>Like some previous answer, you need to create a special configuration inside the project that will share its tests class, so that you don't mix test and main classes.</p>\n\n<h3>Simple steps</h3>\n\n<ol>\n<li>In <strong>project A</strong> you would need to add in your <code>build.gradle.kts</code> :</li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations {\n    create(\"test\")\n}\n\ntasks.register&lt;Jar&gt;(\"testArchive\") {\n    archiveBaseName.set(\"ProjectA-test\")\n    from(project.the&lt;SourceSetContainer&gt;()[\"test\"].output)\n}\n\nartifacts {\n    add(\"test\", tasks[\"testArchive\"])\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Then in your <strong>project B</strong> in the dependencies, you will need to add in your <code>build.gradle.kts</code>:</li>\n</ol>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    implementation(project(\":ProjectA\"))\n    testImplementation(project(\":ProjectA\", \"test\"))\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":111193,"reputation":11854,"user_id":293878,"accept_rate":64,"display_name":"Roberto Leinardi"},"score":0,"creation_date":1669810892,"post_id":63298374,"comment_id":131726862,"body_markdown":"This solution works fine with Gradle, but Android Studio Electric Eel still marks the shared code as Unresolved reference.","body":"This solution works fine with Gradle, but Android Studio Electric Eel still marks the shared code as Unresolved reference."}],"tags":[],"owner":{"account_id":7746443,"reputation":797,"user_id":5864033,"display_name":"Nimdokai"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596789958,"creation_date":1596789958,"answer_id":63298374,"question_id":5644011,"body_markdown":"The solution mentioned by [Nikita][1] for **Android + Kotlin** looks like this:\r\n\r\n    task jarTests(type: Jar, dependsOn: &quot;assembleDebugUnitTest&quot;) {\r\n        getArchiveClassifier().set(&#39;tests&#39;)\r\n        from &quot;$buildDir/tmp/kotlin-classes/debugUnitTest&quot;\r\n    }\r\n    \r\n    configurations {\r\n        unitTestArtifact\r\n    }\r\n\r\n    artifacts {\r\n        unitTestArtifact jarTests\r\n    }\r\n\r\n\r\nGradle for project that is going to use dependencies:\r\n\r\n    testImplementation project(path: &#39;:shared&#39;, configuration: &#39;unitTestArtifact&#39;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5648565/5864033","title":"Multi-project test dependencies with gradle","body":"<p>The solution mentioned by <a href=\"https://stackoverflow.com/a/5648565/5864033\">Nikita</a> for <strong>Android + Kotlin</strong> looks like this:</p>\n<pre><code>task jarTests(type: Jar, dependsOn: &quot;assembleDebugUnitTest&quot;) {\n    getArchiveClassifier().set('tests')\n    from &quot;$buildDir/tmp/kotlin-classes/debugUnitTest&quot;\n}\n\nconfigurations {\n    unitTestArtifact\n}\n\nartifacts {\n    unitTestArtifact jarTests\n}\n</code></pre>\n<p>Gradle for project that is going to use dependencies:</p>\n<pre><code>testImplementation project(path: ':shared', configuration: 'unitTestArtifact')\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1615373305,"post_id":63815784,"comment_id":117668755,"body_markdown":"Note for IntelliJ users: when using this approach, make sure to name the configuration `test`. gradle command line works fine with any name, but at least IntelliJ works better with &quot;test&quot; (because it then understands the dependency is actually to the test sources, you dont want the IDEs to &quot;really&quot; depend on the output jars!)","body":"Note for IntelliJ users: when using this approach, make sure to name the configuration <code>test</code>. gradle command line works fine with any name, but at least IntelliJ works better with &quot;test&quot; (because it then understands the dependency is actually to the test sources, you dont want the IDEs to &quot;really&quot; depend on the output jars!)"},{"owner":{"account_id":3066131,"reputation":1764,"user_id":2597775,"accept_rate":58,"display_name":"sebasira"},"score":0,"creation_date":1651535189,"post_id":63815784,"comment_id":127382914,"body_markdown":"@GhostCat could you explain a bit more? I&#39;m trying this approach with IntelliJ and it works. But I do not understand what you are saying. Thank you!","body":"@GhostCat could you explain a bit more? I&#39;m trying this approach with IntelliJ and it works. But I do not understand what you are saying. Thank you!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651561716,"post_id":63815784,"comment_id":127386832,"body_markdown":"@sebasira Note it says `configurations tests` here. If I remember correctly, it should be **test** (singular, not plural) instead.","body":"@sebasira Note it says <code>configurations tests</code> here. If I remember correctly, it should be <b>test</b> (singular, not plural) instead."}],"tags":[],"owner":{"account_id":1685801,"reputation":10967,"user_id":1549135,"accept_rate":89,"display_name":"Atais"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1642414760,"creation_date":1599668839,"answer_id":63815784,"question_id":5644011,"body_markdown":"# Creating test-jar For Gradle 6.6.x\r\n\r\nI know that there are many sources telling you, that is not OK, fe:\r\n\r\n - https://github.com/gradle/gradle/issues/11280\r\n - https://gradle.org/whats-new/gradle-6/#better-builds\r\n\r\nBut this is so damn simple and I just don&#39;t like the idea of having common test classes separately in `testFixtures` folder.\r\n\r\nSo in module A:\r\n\r\n    task jarTests(type: Jar, dependsOn: testClasses) {\r\n        classifier = &#39;tests&#39;\r\n        from sourceSets.test.output\r\n    }\r\n    configurations {\r\n        tests {\r\n            extendsFrom testRuntime\r\n        }\r\n    }\r\n    artifacts {\r\n        tests jarTests\r\n    }\r\n\r\nAnd in module B:\r\n\r\n    testImplementation project(&#39;:moduleA&#39;)\r\n    testImplementation project(path: &#39;:moduleA&#39;, configuration: &#39;tests&#39;)\r\n\r\n*And it just works!*","title":"Multi-project test dependencies with gradle","body":"<h1>Creating test-jar For Gradle 6.6.x</h1>\n<p>I know that there are many sources telling you, that is not OK, fe:</p>\n<ul>\n<li><a href=\"https://github.com/gradle/gradle/issues/11280\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/11280</a></li>\n<li><a href=\"https://gradle.org/whats-new/gradle-6/#better-builds\" rel=\"nofollow noreferrer\">https://gradle.org/whats-new/gradle-6/#better-builds</a></li>\n</ul>\n<p>But this is so damn simple and I just don't like the idea of having common test classes separately in <code>testFixtures</code> folder.</p>\n<p>So in module A:</p>\n<pre><code>task jarTests(type: Jar, dependsOn: testClasses) {\n    classifier = 'tests'\n    from sourceSets.test.output\n}\nconfigurations {\n    tests {\n        extendsFrom testRuntime\n    }\n}\nartifacts {\n    tests jarTests\n}\n</code></pre>\n<p>And in module B:</p>\n<pre><code>testImplementation project(':moduleA')\ntestImplementation project(path: ':moduleA', configuration: 'tests')\n</code></pre>\n<p><em>And it just works!</em></p>\n"},{"tags":[],"owner":{"account_id":3507809,"reputation":98,"user_id":2932943,"display_name":"Gianluigi Pierini"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644397026,"creation_date":1644397026,"answer_id":71046558,"question_id":5644011,"body_markdown":"If you are struggling to adapt the solution to the Gradle Kotlin DSL this is the equivalent:\r\n\r\n    configurations {\r\n        register(&quot;testClasses&quot;) {\r\n            extendsFrom(testImplementation.get())\r\n        }\r\n    }\r\n    val testJar = tasks.register&lt;Jar&gt;(&quot;testJar&quot;) {\r\n        archiveClassifier.set(&quot;test&quot;)\r\n        from(sourceSets.test)\r\n    }\r\n    artifacts.add(&quot;testClasses&quot;, testJar) ","title":"Multi-project test dependencies with gradle","body":"<p>If you are struggling to adapt the solution to the Gradle Kotlin DSL this is the equivalent:</p>\n<pre><code>configurations {\n    register(&quot;testClasses&quot;) {\n        extendsFrom(testImplementation.get())\n    }\n}\nval testJar = tasks.register&lt;Jar&gt;(&quot;testJar&quot;) {\n    archiveClassifier.set(&quot;test&quot;)\n    from(sourceSets.test)\n}\nartifacts.add(&quot;testClasses&quot;, testJar) \n</code></pre>\n"}],"owner":{"account_id":8938,"reputation":2445,"user_id":16309,"display_name":"mathd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131342,"favorite_count":0,"down_vote_count":1,"up_vote_count":212,"accepted_answer_id":7969292,"answer_count":17,"score":211,"last_activity_date":1694704579,"creation_date":1302664651,"question_id":5644011,"body_markdown":"I have a multi-project configuration and I want to use gradle.\r\n\r\nMy projects are like this:\r\n\r\n- Project A\r\n    - -&gt; `src/main/java`\r\n    - -&gt; `src/test/java`\r\n\r\n \r\n- Project B  \r\n    - -&gt; `src/main/java` (depends on `src/main/java` on **Project A**)  \r\n    - -&gt; `src/test/java` (depends on `src/test/java` on **Project A**)  \r\n\r\nMy **Project B** `build.gradle` file is like this:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    dependencies {\r\n      compile project(&#39;:ProjectA&#39;)\r\n    }\r\n\r\nThe task `compileJava` work great but the `compileTestJava` does not compile the test file from **Project A**.","title":"Multi-project test dependencies with gradle","body":"<p>I have a multi-project configuration and I want to use gradle.</p>\n\n<p>My projects are like this:</p>\n\n<ul>\n<li><p>Project A</p>\n\n<ul>\n<li>-> <code>src/main/java</code></li>\n<li>-> <code>src/test/java</code></li>\n</ul></li>\n<li><p>Project B  </p>\n\n<ul>\n<li>-> <code>src/main/java</code> (depends on <code>src/main/java</code> on <strong>Project A</strong>)  </li>\n<li>-> <code>src/test/java</code> (depends on <code>src/test/java</code> on <strong>Project A</strong>)  </li>\n</ul></li>\n</ul>\n\n<p>My <strong>Project B</strong> <code>build.gradle</code> file is like this:</p>\n\n<pre><code>apply plugin: 'java'\ndependencies {\n  compile project(':ProjectA')\n}\n</code></pre>\n\n<p>The task <code>compileJava</code> work great but the <code>compileTestJava</code> does not compile the test file from <strong>Project A</strong>.</p>\n"},{"tags":["java","android","openai-api","chatgpt-api"],"answers":[{"comments":[{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1677779132,"post_id":75616964,"comment_id":133409437,"body_markdown":"Thank you Rok for your answer , i have actually used both and still throwing the same 400 error , i have both urls in my project and i tried with both , here is an image of the other link error : https://ibb.co/sQq0nwy","body":"Thank you Rok for your answer , i have actually used both and still throwing the same 400 error , i have both urls in my project and i tried with both , here is an image of the other link error : <a href=\"https://ibb.co/sQq0nwy\" rel=\"nofollow noreferrer\">ibb.co/sQq0nwy</a>"},{"owner":{"account_id":14324749,"reputation":16785,"user_id":10347145,"display_name":"Rok Benko"},"score":0,"creation_date":1677782591,"post_id":75616964,"comment_id":133410341,"body_markdown":"First, try to print the response as whole (not just the message content) to see if you get any response at all. Do you still get error 400?","body":"First, try to print the response as whole (not just the message content) to see if you get any response at all. Do you still get error 400?"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1677784653,"post_id":75616964,"comment_id":133410867,"body_markdown":"It does throw an error when posting , so there is no returned values or response","body":"It does throw an error when posting , so there is no returned values or response"},{"owner":{"account_id":14324749,"reputation":16785,"user_id":10347145,"display_name":"Rok Benko"},"score":0,"creation_date":1677785821,"post_id":75616964,"comment_id":133411139,"body_markdown":"I&#39;m not familiar with Java, but I guess there&#39;s something wrong with the `JSONObject`. Make sure the `messages` parameter you send to the API endpoint looks like this: `&quot;messages&quot;: [{&quot;role&quot;: &quot;xxxxx&quot;, &quot;content&quot;: &quot;xxxxx&quot;}]`. Let me know if you solve the problem because I&#39;m curious, what&#39;s the cause.","body":"I&#39;m not familiar with Java, but I guess there&#39;s something wrong with the <code>JSONObject</code>. Make sure the <code>messages</code> parameter you send to the API endpoint looks like this: <code>&quot;messages&quot;: [{&quot;role&quot;: &quot;xxxxx&quot;, &quot;content&quot;: &quot;xxxxx&quot;}]</code>. Let me know if you solve the problem because I&#39;m curious, what&#39;s the cause."}],"tags":[],"owner":{"account_id":14324749,"reputation":16785,"user_id":10347145,"display_name":"Rok Benko"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694704334,"creation_date":1677767903,"answer_id":75616964,"question_id":75616048,"body_markdown":"You&#39;re using the `gpt-3.5-turbo` model.\r\n\r\nThere are three main differences between the [Chat Completions API][1] (i.e., the GPT-3.5 API) and the [Completions API][2] (i.e., the GPT-3 API):\r\n\r\n1. API endpoint\r\n   - Completions API: `https://api.openai.com/v1/completions`\r\n   - Chat Completions API: `https://api.openai.com/v1/chat/completions`\r\n2. The `prompt` parameter (Completions API) is replaced by the `messages` parameter (Chat Completions API)\r\n3. Response access\r\n   - Completions API: &lt;BR&gt;`response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)`\r\n   - Chat Completions API: `response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)`\r\n\r\n&lt;br&gt;\r\n\r\n**PROBLEM 1: You&#39;re using the wrong API endpoint**\r\n\r\nChange this...\r\n\r\n    https://api.openai.com/v1/completions\r\n\r\n...to this.\r\n\r\n    https://api.openai.com/v1/chat/completions\r\n\r\n&lt;br&gt;\r\n\r\n**PROBLEM 2: Make sure the JSON for the `messages` parameter is valid**\r\n\r\nLike this:\r\n\r\n    JSONObject jsonObject = new JSONObject();\r\n    JSONArray messages = new JSONArray();\r\n    JSONObject message = new JSONObject();\r\n\r\n    message.put(&quot;role&quot;, &quot;user&quot;);\r\n    message.put(&quot;content&quot;, &quot;What are your functionalities?&quot;);\r\n\r\n    messages.put(message);\r\n\r\n    jsonObject.put(&quot;messages&quot;, messages);\r\n\r\nThis code will create the following JSON object:\r\n\r\n    {\r\n      &quot;messages&quot;: [\r\n        {\r\n          &quot;role&quot;: &quot;user&quot;,\r\n          &quot;content&quot;: &quot;What are your functionalities?&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n**PROBLEM 3: You&#39;re accessing the response incorrectly**\r\n\r\nChange this...\r\n\r\n    response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)\r\n\r\n...to this.\r\n    \r\n    response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)\r\n\r\n*Note: If you&#39;re still getting API error `400`, make sure you have set the `Content-Type` header to `application/json`. Be careful, `application/json, UTF-8` won&#39;t work.*\r\n\r\n\r\n  [1]: https://platform.openai.com/docs/guides/gpt/chat-completions-api\r\n  [2]: https://platform.openai.com/docs/guides/gpt/completions-api","title":"OpenAI ChatGPT (GPT-3.5) API error 400: &quot;Unexpected response code 400 for https://api.openai.com/v1/completions&quot; (migrating GPT-3 to GPT-3.5 API)","body":"<p>You're using the <code>gpt-3.5-turbo</code> model.</p>\n<p>There are three main differences between the <a href=\"https://platform.openai.com/docs/guides/gpt/chat-completions-api\" rel=\"nofollow noreferrer\">Chat Completions API</a> (i.e., the GPT-3.5 API) and the <a href=\"https://platform.openai.com/docs/guides/gpt/completions-api\" rel=\"nofollow noreferrer\">Completions API</a> (i.e., the GPT-3 API):</p>\n<ol>\n<li>API endpoint\n<ul>\n<li>Completions API: <code>https://api.openai.com/v1/completions</code></li>\n<li>Chat Completions API: <code>https://api.openai.com/v1/chat/completions</code></li>\n</ul>\n</li>\n<li>The <code>prompt</code> parameter (Completions API) is replaced by the <code>messages</code> parameter (Chat Completions API)</li>\n<li>Response access\n<ul>\n<li>Completions API: <BR><code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)</code></li>\n<li>Chat Completions API: <code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)</code></li>\n</ul>\n</li>\n</ol>\n<br>\n<p><strong>PROBLEM 1: You're using the wrong API endpoint</strong></p>\n<p>Change this...</p>\n<pre><code>https://api.openai.com/v1/completions\n</code></pre>\n<p>...to this.</p>\n<pre><code>https://api.openai.com/v1/chat/completions\n</code></pre>\n<br>\n<p><strong>PROBLEM 2: Make sure the JSON for the <code>messages</code> parameter is valid</strong></p>\n<p>Like this:</p>\n<pre><code>JSONObject jsonObject = new JSONObject();\nJSONArray messages = new JSONArray();\nJSONObject message = new JSONObject();\n\nmessage.put(&quot;role&quot;, &quot;user&quot;);\nmessage.put(&quot;content&quot;, &quot;What are your functionalities?&quot;);\n\nmessages.put(message);\n\njsonObject.put(&quot;messages&quot;, messages);\n</code></pre>\n<p>This code will create the following JSON object:</p>\n<pre><code>{\n  &quot;messages&quot;: [\n    {\n      &quot;role&quot;: &quot;user&quot;,\n      &quot;content&quot;: &quot;What are your functionalities?&quot;\n    }\n  ]\n}\n</code></pre>\n<p><strong>PROBLEM 3: You're accessing the response incorrectly</strong></p>\n<p>Change this...</p>\n<pre><code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;)\n</code></pre>\n<p>...to this.</p>\n<pre><code>response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;message&quot;)\n</code></pre>\n<p><em>Note: If you're still getting API error <code>400</code>, make sure you have set the <code>Content-Type</code> header to <code>application/json</code>. Be careful, <code>application/json, UTF-8</code> won't work.</em></p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694704334,"creation_date":1677763532,"question_id":75616048,"body_markdown":"I have an android application where I&#39;m currently using chat gpt 3.0 for completions and it works fine. Now after they released chat gpt 3.5 turbo, I made few changes based on their request example but throwing 400 errors, I appreciate any help Thank you \r\n\r\n\r\n * My code with gpt 3.0  (it works fine) \r\n\r\n```\r\n  public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\r\n\r\n        mQuestionText.setText(query);\r\n        queryEdt.setText(&quot;&quot;);\r\n        mResponseText.setText(&quot;Please wait..&quot;);\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;model&quot;, &quot;text-davinci-003&quot;);\r\n        jsonObject.put(&quot;prompt&quot;, query);\r\n        jsonObject.put(&quot;temperature&quot;, 0);\r\n        jsonObject.put(&quot;max_tokens&quot;, 100);\r\n        jsonObject.put(&quot;top_p&quot;, 1);\r\n        jsonObject.put(&quot;frequency_penalty&quot;, 0.0);\r\n        jsonObject.put(&quot;presence_penalty&quot;, 0.0);\r\n\r\n\r\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\r\n            try {\r\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\r\n                mResponseText.setText(responseMsg);\r\n\r\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\r\n                if(textToSpeech != null){\r\n                    textToSpeech.stop();\r\n                    textToSpeech.shutdown();\r\n                    textToSpeech  = null;\r\n                }\r\n\r\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\r\n                textToSpeech(context,responseMsg);\r\n            }catch (Exception e){\r\n                // error\r\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\r\n            }\r\n        }, error -&gt; {\r\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\r\n        }){\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() {\r\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        requestQueue.add(jsonObjectRequest);\r\n    }\r\n\r\n```\r\n\r\n\r\n * Now switching to 3.5 turbo where I&#39;m using gpt-3.5-turbo as model\r\n\r\n```\r\n\r\n public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\r\n\r\n        mQuestionText.setText(query);\r\n        queryEdt.setText(&quot;&quot;);\r\n        mResponseText.setText(&quot;Please wait..&quot;);\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n\r\n        ArrayList&lt;ChatModel&gt; arrayList = new ArrayList&lt;&gt;();\r\n        arrayList.add(new ChatModel(&quot;user&quot;,query));\r\n\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\r\n        jsonObject.put(&quot;messages&quot;,arrayList);\r\n        \r\n\r\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\r\n            try {\r\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\r\n                mResponseText.setText(responseMsg);\r\n\r\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\r\n                if(textToSpeech != null){\r\n                    textToSpeech.stop();\r\n                    textToSpeech.shutdown();\r\n                    textToSpeech  = null;\r\n                }\r\n\r\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\r\n                textToSpeech(context,responseMsg);\r\n            }catch (Exception e){\r\n                // error\r\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\r\n            }\r\n        }, error -&gt; {\r\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\r\n        }){\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() {\r\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\r\n                return params;\r\n            }\r\n        };\r\n        requestQueue.add(jsonObjectRequest);\r\n    }\r\n\r\n```\r\n\r\n  * Error when using chat gpt 3.5 turbo model  ( when i use chat gpt 3.0 it works )\r\n\r\n```\r\n\r\n  E/Volley: [1922] NetworkUtility.shouldRetryException: Unexpected response code 400 for \r\n  https://api.openai.com/v1/completions\r\n\r\n```\r\n\r\n\r\n * Based on their documentation \r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OW1n9.png","title":"OpenAI ChatGPT (GPT-3.5) API error 400: &quot;Unexpected response code 400 for https://api.openai.com/v1/completions&quot; (migrating GPT-3 to GPT-3.5 API)","body":"<p>I have an android application where I'm currently using chat gpt 3.0 for completions and it works fine. Now after they released chat gpt 3.5 turbo, I made few changes based on their request example but throwing 400 errors, I appreciate any help Thank you</p>\n<ul>\n<li>My code with gpt 3.0  (it works fine)</li>\n</ul>\n<pre><code>  public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\n\n        mQuestionText.setText(query);\n        queryEdt.setText(&quot;&quot;);\n        mResponseText.setText(&quot;Please wait..&quot;);\n\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;model&quot;, &quot;text-davinci-003&quot;);\n        jsonObject.put(&quot;prompt&quot;, query);\n        jsonObject.put(&quot;temperature&quot;, 0);\n        jsonObject.put(&quot;max_tokens&quot;, 100);\n        jsonObject.put(&quot;top_p&quot;, 1);\n        jsonObject.put(&quot;frequency_penalty&quot;, 0.0);\n        jsonObject.put(&quot;presence_penalty&quot;, 0.0);\n\n\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\n            try {\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\n                mResponseText.setText(responseMsg);\n\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\n                if(textToSpeech != null){\n                    textToSpeech.stop();\n                    textToSpeech.shutdown();\n                    textToSpeech  = null;\n                }\n\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\n                textToSpeech(context,responseMsg);\n            }catch (Exception e){\n                // error\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\n            }\n        }, error -&gt; {\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\n        }){\n            @Override\n            public Map&lt;String, String&gt; getHeaders() {\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\n                return params;\n            }\n        };\n\n        requestQueue.add(jsonObjectRequest);\n    }\n\n</code></pre>\n<ul>\n<li>Now switching to 3.5 turbo where I'm using gpt-3.5-turbo as model</li>\n</ul>\n<pre><code>\n public static void getResponse(Context context, String URL, String Token, TextView mQuestionText, TextInputEditText queryEdt, TextView mResponseText, String query) throws JSONException {\n\n        mQuestionText.setText(query);\n        queryEdt.setText(&quot;&quot;);\n        mResponseText.setText(&quot;Please wait..&quot;);\n\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n\n        ArrayList&lt;ChatModel&gt; arrayList = new ArrayList&lt;&gt;();\n        arrayList.add(new ChatModel(&quot;user&quot;,query));\n\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\n        jsonObject.put(&quot;messages&quot;,arrayList);\n        \n\n        JsonObjectRequest jsonObjectRequest =  new JsonObjectRequest(Request.Method.POST, URL ,jsonObject, response -&gt; {\n            try {\n                String responseMsg = response.getJSONArray(&quot;choices&quot;).getJSONObject(0).getString(&quot;text&quot;);\n                mResponseText.setText(responseMsg);\n\n                // SHUT DOWN TEXT TO SPEECH IN CASE OF QUERY CHANGE\n                if(textToSpeech != null){\n                    textToSpeech.stop();\n                    textToSpeech.shutdown();\n                    textToSpeech  = null;\n                }\n\n                // SPEAK THE RESPONSE FETCHED FROM SERVER\n                textToSpeech(context,responseMsg);\n            }catch (Exception e){\n                // error\n                Log.d(&quot;TAG&quot;,&quot;Error is   &quot; + e.getMessage());\n            }\n        }, error -&gt; {\n            Log.d(&quot;TAG&quot;,&quot;Error &quot; + error.getMessage());\n        }){\n            @Override\n            public Map&lt;String, String&gt; getHeaders() {\n                Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;Content-Type&quot;,&quot;application/json&quot;);\n                params.put(&quot;Authorization&quot;,&quot;Bearer &quot; + Token);\n                return params;\n            }\n        };\n        requestQueue.add(jsonObjectRequest);\n    }\n\n</code></pre>\n<ul>\n<li>Error when using chat gpt 3.5 turbo model  ( when i use chat gpt 3.0 it works )</li>\n</ul>\n<pre><code>\n  E/Volley: [1922] NetworkUtility.shouldRetryException: Unexpected response code 400 for \n  https://api.openai.com/v1/completions\n\n</code></pre>\n<ul>\n<li>Based on their documentation</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/OW1n9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OW1n9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gitlab-ci","code-navigation"],"owner":{"account_id":20981872,"reputation":11,"user_id":15529582,"display_name":"Wael Amri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694704025,"creation_date":1694703982,"question_id":77106222,"body_markdown":"I am having trouble enabling the code navigation/intelligence feature by gitlab (https://docs.gitlab.com/ee/user/project/code_intelligence.html)\r\nThe project I am working on is in Java and here is the newly added job for my gitlab-ci.yml : \r\n\r\n    code_navigation:\r\n      stage: test\r\n      tags:\r\n        - runner_tag\r\n      image: sourcegraph/lsif-java:latest\r\n      allow_failure: true\r\n      script:\r\n        - lsif-java index -- --batch-mode -DskipTests package\r\n      artifacts:\r\n        reports:\r\n          lsif: dump.lsif\r\n        paths:\r\n          - &quot;dump.lsif&quot;\r\n\r\nHowever, it appears that the provided image has java 8 and my project is on version 17.\r\nThanks.\r\n\r\nI tried using scip-java image instead but I don&#39;t think gitlab has a keyword to collect the index.scip generated and use it to enable the navigation feature.\r\nDoes someone have an idea on how to trigger it ? \r\n","title":"Triggering code navigation on gitlab pipeline for a java project","body":"<p>I am having trouble enabling the code navigation/intelligence feature by gitlab (<a href=\"https://docs.gitlab.com/ee/user/project/code_intelligence.html\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/user/project/code_intelligence.html</a>)\nThe project I am working on is in Java and here is the newly added job for my gitlab-ci.yml :</p>\n<pre><code>code_navigation:\n  stage: test\n  tags:\n    - runner_tag\n  image: sourcegraph/lsif-java:latest\n  allow_failure: true\n  script:\n    - lsif-java index -- --batch-mode -DskipTests package\n  artifacts:\n    reports:\n      lsif: dump.lsif\n    paths:\n      - &quot;dump.lsif&quot;\n</code></pre>\n<p>However, it appears that the provided image has java 8 and my project is on version 17.\nThanks.</p>\n<p>I tried using scip-java image instead but I don't think gitlab has a keyword to collect the index.scip generated and use it to enable the navigation feature.\nDoes someone have an idea on how to trigger it ?</p>\n"},{"tags":["java","hibernate","jpa","playframework"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694701528,"post_id":77097333,"comment_id":135928572,"body_markdown":"Show more of the exception, it should tell you more on why it might be failing. You might also turn on SQL logging to see the statements being issued- it is especially helpful if you are learning and need to debug what might be happening behind the scenes. @GeneratedValue(strategy = GenerationType.IDENTITY) though requires DB support to generate the ID value and return it to JPA on the insert - verify the database you are using supports it and that your table was setup for it (how are you generating the tables?)","body":"Show more of the exception, it should tell you more on why it might be failing. You might also turn on SQL logging to see the statements being issued- it is especially helpful if you are learning and need to debug what might be happening behind the scenes. @GeneratedValue(strategy = GenerationType.IDENTITY) though requires DB support to generate the ID value and return it to JPA on the insert - verify the database you are using supports it and that your table was setup for it (how are you generating the tables?)"},{"owner":{"account_id":11174137,"reputation":61,"user_id":8200261,"display_name":"Tomas Zeman"},"score":0,"creation_date":1696672569,"post_id":77097333,"comment_id":136185589,"body_markdown":"Please share the full exception. Maybe you just need to add entityManager.flush(); ... See my example for inserting into the DB https://github.com/ertra/play-framework-by-example/blob/master/app/dao/BookDAOImp.java","body":"Please share the full exception. Maybe you just need to add entityManager.flush(); ... See my example for inserting into the DB <a href=\"https://github.com/ertra/play-framework-by-example/blob/master/app/dao/BookDAOImp.java\" rel=\"nofollow noreferrer\">github.com/ertra/play-framework-by-example/blob/master/app/d&zwnj;&#8203;ao/&hellip;</a>"}],"owner":{"account_id":25957203,"reputation":21,"user_id":19674392,"display_name":"Siddarth K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694704018,"creation_date":1694610266,"question_id":77097333,"body_markdown":"I am new to this,  \r\nHere I am trying to add a user to the database using JPA but the user is not saving into the database I am getting this error. May I know why and how to resolve this?\r\n\r\n\\-If I remove @GeneratedValue from user model for id &#160;and pass id manually in API request it is working but I saw so many youtube videos how to implement JPA there they are following @GenerateValue\r\n\r\nUser model\r\n\r\n```\r\npackage model;\r\n\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private String userName;\r\n    private String password;\r\n}\r\n```\r\n\r\nmethod\r\n\r\n```\r\n public CompletionStage&lt;Result&gt; addUser(Http.Request request) {\r\n        JsonNode json = request.body().asJson();\r\n        User user = Json.fromJson(json, User.class);\r\n        return CompletableFuture.supplyAsync(\r\n                () -&gt; addUser1(user));\r\n    }\r\n\r\n    private static Result addUser1(User user) {\r\n        return jpaApi.withTransaction(entityManager -&gt; {\r\n            try {\r\n                entityManager.persist(user);\r\n                return ok(&quot;User Added Successfully&quot;);\r\n            } catch (Exception e) {\r\n                return internalServerError(&quot;An Error occurred while adding user: &quot; + e.getMessage());\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nAPI request: Body in Json\r\n\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;Robin&quot;,\r\n    &quot;lastName&quot;: &quot;karachri&quot;,\r\n    &quot;userName&quot;: &quot;Robin&quot;,\r\n    &quot;password&quot;: &quot;4563&quot;\r\n}\r\n```","title":"An Error occurred while adding user: org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<p>I am new to this,<br />\nHere I am trying to add a user to the database using JPA but the user is not saving into the database I am getting this error. May I know why and how to resolve this?</p>\n<p>-If I remove @GeneratedValue from user model for id  and pass id manually in API request it is working but I saw so many youtube videos how to implement JPA there they are following @GenerateValue</p>\n<p>User model</p>\n<pre><code>package model;\n\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private String firstName;\n    private String lastName;\n    private String userName;\n    private String password;\n}\n</code></pre>\n<p>method</p>\n<pre><code> public CompletionStage&lt;Result&gt; addUser(Http.Request request) {\n        JsonNode json = request.body().asJson();\n        User user = Json.fromJson(json, User.class);\n        return CompletableFuture.supplyAsync(\n                () -&gt; addUser1(user));\n    }\n\n    private static Result addUser1(User user) {\n        return jpaApi.withTransaction(entityManager -&gt; {\n            try {\n                entityManager.persist(user);\n                return ok(&quot;User Added Successfully&quot;);\n            } catch (Exception e) {\n                return internalServerError(&quot;An Error occurred while adding user: &quot; + e.getMessage());\n            }\n        });\n\n    }\n</code></pre>\n<p>API request: Body in Json</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;Robin&quot;,\n    &quot;lastName&quot;: &quot;karachri&quot;,\n    &quot;userName&quot;: &quot;Robin&quot;,\n    &quot;password&quot;: &quot;4563&quot;\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"comments":[{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":2,"creation_date":1411395238,"post_id":25976208,"comment_id":40674217,"body_markdown":"And http://logging.apache.org/log4j/2.x/manual/migration.html might be useful to read too.","body":"And <a href=\"http://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a> might be useful to read too."},{"owner":{"account_id":2668714,"reputation":1931,"user_id":2306536,"accept_rate":66,"display_name":"ASA"},"score":1,"creation_date":1441302885,"post_id":25976208,"comment_id":52635206,"body_markdown":"And you find tutorials no older than a year featuring guides for the old version. Beautiful.","body":"And you find tutorials no older than a year featuring guides for the old version. Beautiful."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1411395109,"creation_date":1411395109,"answer_id":25976208,"question_id":25976120,"body_markdown":"You&#39;ll notice [`Logger`][1] no longer declares such a method.\r\n\r\nlog4j version 2 has made some drastic changes. [Here&#39;s][2] the change log. [`getLogger` seems to have been moved to a `LogManager` class.][3]\r\n\r\n[Here&#39;s][4] how they suggest making the migration. \r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\r\n  [2]: http://logging.apache.org/log4j/2.x/changelog.html\r\n  [3]: https://issues.apache.org/jira/browse/LOG4J2-70\r\n  [4]: http://logging.apache.org/log4j/2.x/manual/migration.html","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>You'll notice <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\"><code>Logger</code></a> no longer declares such a method.</p>\n\n<p>log4j version 2 has made some drastic changes. <a href=\"http://logging.apache.org/log4j/2.x/changelog.html\">Here's</a> the change log. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-70\"><code>getLogger</code> seems to have been moved to a <code>LogManager</code> class.</a></p>\n\n<p><a href=\"http://logging.apache.org/log4j/2.x/manual/migration.html\">Here's</a> how they suggest making the migration. </p>\n"},{"tags":[],"owner":{"account_id":4342608,"reputation":240,"user_id":3545493,"display_name":"pd30"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411395635,"creation_date":1411395635,"answer_id":25976379,"question_id":25976120,"body_markdown":"Yes your observation is correct.It does not support getLogger() method.\r\n\r\nCheck this Documentation link out: http://logging.apache.org/log4j/2.x/log4j-core/apidocs/index.html\r\n\r\n\r\nSample tutorial:http://www.javabeat.net/log4j-2-example/","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>Yes your observation is correct.It does not support getLogger() method.</p>\n\n<p>Check this Documentation link out: <a href=\"http://logging.apache.org/log4j/2.x/log4j-core/apidocs/index.html\" rel=\"nofollow\">http://logging.apache.org/log4j/2.x/log4j-core/apidocs/index.html</a></p>\n\n<p>Sample tutorial:<a href=\"http://www.javabeat.net/log4j-2-example/\" rel=\"nofollow\">http://www.javabeat.net/log4j-2-example/</a></p>\n"},{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411399771,"creation_date":1411399771,"answer_id":25977825,"question_id":25976120,"body_markdown":"As noted in other answers, `Logger` is now an interface and you can get Logger instances from the `LogManager`.\r\n\r\nAPI is now separate from the implementation, to give the team the freedom to change the implementation without breaking user code. The API will rarely change, and if it does change it will be in a 2.x version, not a 2.0.x version. That said, it is probably a good idea to always use matching log4j-api and log4j-core versions.","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>As noted in other answers, <code>Logger</code> is now an interface and you can get Logger instances from the <code>LogManager</code>.</p>\n\n<p>API is now separate from the implementation, to give the team the freedom to change the implementation without breaking user code. The API will rarely change, and if it does change it will be in a 2.x version, not a 2.0.x version. That said, it is probably a good idea to always use matching log4j-api and log4j-core versions.</p>\n"},{"tags":[],"owner":{"account_id":4724155,"reputation":444,"user_id":3821301,"accept_rate":100,"display_name":"Rajeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1464962912,"creation_date":1464962912,"answer_id":37616587,"question_id":25976120,"body_markdown":"I&#39;m giving an example for better understanding.   \r\n   \r\n\r\n    private static Logger logger;\r\n            static {\r\n                try {   \r\n                       // you need to do something like below instaed of Logger.getLogger(....);\r\n                        logger = LogManager.getLogger(ResourceService.class); \r\n                  } catch (Throwable th) {\r\n                        throw new HRException(&quot;Cannot load the log property file&quot;, th);\r\n                }\r\n            }\r\n\r\n","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>I'm giving an example for better understanding.   </p>\n\n<pre><code>private static Logger logger;\n        static {\n            try {   \n                   // you need to do something like below instaed of Logger.getLogger(....);\n                    logger = LogManager.getLogger(ResourceService.class); \n              } catch (Throwable th) {\n                    throw new HRException(\"Cannot load the log property file\", th);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8137710,"reputation":1037,"user_id":6128863,"display_name":"Ishimwe Aubain Consolateur"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493333785,"creation_date":1493333785,"answer_id":43669191,"question_id":25976120,"body_markdown":"with new Log4J 2, you have to add at least (in my case) log4j-core-2.8.2, log4j-api-2.8.2 and in some other case you may need to add also log4j-web-2.8.2.\r\nSo when you want to get a logging  you import\r\n`import org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;`\r\n\r\n\r\nand finally the usage will be\r\n`static final Logger LOGGER = LogManager.getLogger(WebService.class.getName());`\r\n\r\nNote: don&#39;t forget to put config file into the root directory of the project, other wise you won&#39;t be able to get your logs.\r\n\r\nHope this will help someone\r\nKind regards","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>with new Log4J 2, you have to add at least (in my case) log4j-core-2.8.2, log4j-api-2.8.2 and in some other case you may need to add also log4j-web-2.8.2.\nSo when you want to get a logging  you import\n<code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;</code></p>\n\n<p>and finally the usage will be\n<code>static final Logger LOGGER = LogManager.getLogger(WebService.class.getName());</code></p>\n\n<p>Note: don't forget to put config file into the root directory of the project, other wise you won't be able to get your logs.</p>\n\n<p>Hope this will help someone\nKind regards</p>\n"},{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620663617,"creation_date":1521612341,"answer_id":49399303,"question_id":25976120,"body_markdown":"If you are using log4j version 2.\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger(TheClass.class);\r\n","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>If you are using log4j version 2.</p>\n<pre><code>private static final Logger LOGGER = LogManager.getLogger(TheClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524473420,"creation_date":1524472163,"answer_id":49976575,"question_id":25976120,"body_markdown":"To use the getLogger() method on your class, import the **Logger** class \r\n\r\n`import java.util.logging.Logger;`\r\n\r\nand use it as follows \r\n\r\n    public class SpringBoot {\r\n      private static final Logger LOGGER = Logger.getClass(&quot;SpringBoot&quot;);\r\n    }\r\nAnd remember, this method takes a string argument.\r\n\r\n\r\nOr Use **Logger from org.apache.log4j** package as seen below \r\n\r\n    import org.apache.log4j.Logger;\r\n\r\n    public class MessageProcessor {\r\n\t\r\n\tprivate static final Logger LOGGER = Logger.getLogger(MessageProcessor.class);\r\n\t\r\n\tpublic void processMessage(Message&lt;String&gt; msg) {\r\n\t\tLOGGER.info(&quot;Message is about to be processed&quot;);\r\n\t}\r\n\r\n   ","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>To use the getLogger() method on your class, import the <strong>Logger</strong> class </p>\n\n<p><code>import java.util.logging.Logger;</code></p>\n\n<p>and use it as follows </p>\n\n<pre><code>public class SpringBoot {\n  private static final Logger LOGGER = Logger.getClass(\"SpringBoot\");\n}\n</code></pre>\n\n<p>And remember, this method takes a string argument.</p>\n\n<p>Or Use <strong>Logger from org.apache.log4j</strong> package as seen below </p>\n\n<pre><code>import org.apache.log4j.Logger;\n\npublic class MessageProcessor {\n\nprivate static final Logger LOGGER = Logger.getLogger(MessageProcessor.class);\n\npublic void processMessage(Message&lt;String&gt; msg) {\n    LOGGER.info(\"Message is about to be processed\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21030229,"reputation":1,"user_id":22554889,"display_name":"Francine Massaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694703778,"creation_date":1694647603,"answer_id":77101007,"question_id":25976120,"body_markdown":"This worked for me:\r\n\r\n```java\r\nimport org.apache.logging.log4j.Logger;\r\nprivate static final Logger log = LogManager.getLogger(YourClass.class);\r\n```","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>This worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.logging.log4j.Logger;\nprivate static final Logger log = LogManager.getLogger(YourClass.class);\n</code></pre>\n"}],"owner":{"account_id":38739,"reputation":6859,"user_id":111398,"accept_rate":70,"display_name":"huahsin68"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67507,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":25976208,"answer_count":8,"score":36,"last_activity_date":1694703778,"creation_date":1411394831,"question_id":25976120,"body_markdown":"I have the `log4j-api-2.0.0.jar` and `log4j-core-2.0.2.jar` import into my build path. But somehow the following code were fail:\r\n\r\n    import org.apache.logging.log4j.core.Logger;\r\n    \r\n    public class TheClass {\r\n    \r\n        private static Logger log = Logger.getLogger(TheClass.class);\r\n    \r\n    ...\r\n\r\nAnd the error message shows that:\r\n\r\n`The method getLogger(Class&lt;TheClass&gt;) is undefined for the type Logger`\r\n\r\nI am just so curious is `getLogger()` no longer a valid method in Logger?","title":"Method getLogger() no longer a member of Logger in log4j2?","body":"<p>I have the <code>log4j-api-2.0.0.jar</code> and <code>log4j-core-2.0.2.jar</code> import into my build path. But somehow the following code were fail:</p>\n\n<pre><code>import org.apache.logging.log4j.core.Logger;\n\npublic class TheClass {\n\n    private static Logger log = Logger.getLogger(TheClass.class);\n\n...\n</code></pre>\n\n<p>And the error message shows that:</p>\n\n<p><code>The method getLogger(Class&lt;TheClass&gt;) is undefined for the type Logger</code></p>\n\n<p>I am just so curious is <code>getLogger()</code> no longer a valid method in Logger?</p>\n"},{"tags":["java","android","android-studio","iframe","youtube"],"owner":{"account_id":29443270,"reputation":1,"user_id":22561072,"display_name":"PARAG TYAGI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694703565,"creation_date":1694703565,"question_id":77106158,"body_markdown":"I am trying to play the next youtube video in android when one video ended. But webview is not playing another video.\r\n```youtubePlayerView = (YoutubePlayerView) findViewById(R.id.youtubePlayerView);\r\n\r\n        // make auto height of youtube. if you want to use &#39;wrap_content&#39;\r\n        youtubePlayerView.setAutoPlayerHeight(this);\r\n\r\n        \r\n        YTParams params = new YTParams();\r\n       \r\n        params.setVolume(100);\r\n        params.setPlaybackQuality(PlaybackQuality.small);\r\n\r\n        currentSec.setText(String.valueOf(0));\r\n YoutubePlayerView.YouTubeListener())\r\n\r\n        \r\n        \r\n\r\n        youtubePlayerView.initializeWithCustomURL(&quot;p1Zt47V3pPw&quot;, params, new YoutubePlayerView.YouTubeListener() {\r\n\r\n            @Override\r\n            public void onReady() {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onStateChange(YoutubePlayerView.STATE state) {\r\n                if(state.equals(YoutubePlayerView.STATE.ENDED){\r\n                   youtubePlayerView.cueVideo(&quot;bnEZb0rB8lw&quot;);\r\n                 }\r\n                \r\n\r\n               \r\n            }\r\n\r\n```\r\n\r\n\r\nI want to play next video when one video ended but webview is not refreshing","title":"Webview not playing video when the one video ended","body":"<p>I am trying to play the next youtube video in android when one video ended. But webview is not playing another video.</p>\n<pre><code>\n        // make auto height of youtube. if you want to use 'wrap_content'\n        youtubePlayerView.setAutoPlayerHeight(this);\n\n        \n        YTParams params = new YTParams();\n       \n        params.setVolume(100);\n        params.setPlaybackQuality(PlaybackQuality.small);\n\n        currentSec.setText(String.valueOf(0));\n YoutubePlayerView.YouTubeListener())\n\n        \n        \n\n        youtubePlayerView.initializeWithCustomURL(&quot;p1Zt47V3pPw&quot;, params, new YoutubePlayerView.YouTubeListener() {\n\n            @Override\n            public void onReady() {\n                \n            }\n\n            @Override\n            public void onStateChange(YoutubePlayerView.STATE state) {\n                if(state.equals(YoutubePlayerView.STATE.ENDED){\n                   youtubePlayerView.cueVideo(&quot;bnEZb0rB8lw&quot;);\n                 }\n                \n\n               \n            }\n\n</code></pre>\n<p>I want to play next video when one video ended but webview is not refreshing</p>\n"},{"tags":["java","maven","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1640938277,"post_id":70539990,"comment_id":124694291,"body_markdown":"_&quot;But it doesn&#39;t work&quot;_: what are the symptoms? Are you aware that Log4j 1.x and Log4j 2.x properties configuration files have a different format? To parse (a basic version) of the 1.x format use the [`PropertiesConfigurationFactory`](https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/config/PropertiesConfigurationFactory.html) from `log4j-1.2-api` (beware the package name, the 2.x format factory has the same class name).","body":"<i>&quot;But it doesn&#39;t work&quot;</i>: what are the symptoms? Are you aware that Log4j 1.x and Log4j 2.x properties configuration files have a different format? To parse (a basic version) of the 1.x format use the <a href=\"https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/config/PropertiesConfigurationFactory.html\" rel=\"nofollow noreferrer\"><code>PropertiesConfigurationFactory</code></a> from <code>log4j-1.2-api</code> (beware the package name, the 2.x format factory has the same class name)."},{"owner":{"account_id":11744908,"reputation":751,"user_id":8595958,"display_name":"Mike"},"score":0,"creation_date":1641213012,"post_id":70539990,"comment_id":124741003,"body_markdown":"Yes @Piotr. I receive the error as provided in the UPDATE. Throwing cannot cast exception.","body":"Yes @Piotr. I receive the error as provided in the UPDATE. Throwing cannot cast exception."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641213328,"post_id":70539990,"comment_id":124741098,"body_markdown":"It seems you have [`log4j-to-slf4j`](https://logging.apache.org/log4j/log4j-2.2/log4j-to-slf4j/index.html) on your classpath, which sends all messages submitted using the Log4j 2.x API to SLF4J. Remove it.","body":"It seems you have <a href=\"https://logging.apache.org/log4j/log4j-2.2/log4j-to-slf4j/index.html\" rel=\"nofollow noreferrer\"><code>log4j-to-slf4j</code></a> on your classpath, which sends all messages submitted using the Log4j 2.x API to SLF4J. Remove it."},{"owner":{"account_id":11744908,"reputation":751,"user_id":8595958,"display_name":"Mike"},"score":0,"creation_date":1641214534,"post_id":70539990,"comment_id":124741452,"body_markdown":"It is not in my classpath. And so, I have added exclusions in my pom.xml as &quot;&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n\t\t\t&lt;exclusions&gt;\n\t\t\t\t&lt;exclusion&gt;\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n\t\t\t\t&lt;/exclusion&gt;\n\t\t\t&lt;/exclusions&gt;\n\t\t&lt;/dependency&gt;&quot;. But still the jar is getting downloaded in the maven dependencies.","body":"It is not in my classpath. And so, I have added exclusions in my pom.xml as &quot;&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt; \t\t\t&lt;exclusions&gt; \t\t\t\t&lt;exclusion&gt; \t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt; \t\t\t\t&lt;/exclusion&gt; \t\t\t&lt;/exclusions&gt; \t\t&lt;/dependency&gt;&quot;. But still the jar is getting downloaded in the maven dependencies."}],"owner":{"account_id":11744908,"reputation":751,"user_id":8595958,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694703550,"creation_date":1640935771,"question_id":70539990,"body_markdown":"I have been using the old version of log4j imports which we used to customize the log4j getLogger as:\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.PropertyConfigurator;\r\n        ...\r\n    public static Logger getLogger(Class&lt;?&gt; className) {\r\n    \tProperties log4jProperties = new Properties();\r\n    \ttry {\r\n    \t\tlog4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\r\n    \t\tPropertyConfigurator.configure(log4jProperties);\r\n    \t} catch (FileNotFoundException fileNotFoundException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tfileNotFoundException.printStackTrace();\r\n    \t} catch (IOException ioException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;IOException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tioException.printStackTrace();\r\n    \t}\r\n    \treturn Logger.getLogger(className);\r\n    }\r\n\r\nBut now for the new version of log4j 2.17.1, looks like PropertyConfigurator and getLogger are completely changed. Not finding an resolution to fix it. Have tried the below. But it doesn&#39;t work.\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.core.LoggerContext;\r\n    import org.apache.logging.log4j.core.config.Configuration;\r\n    import org.apache.logging.log4j.core.config.ConfigurationSource;\r\n    import org.apache.logging.log4j.core.config.Configurator;\r\n    import org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder;\r\n    ...\r\n    public static Logger getLogger(Class&lt;?&gt; className) {\r\n    \tProperties log4jProperties = new Properties();\r\n    \ttry {\r\n    \t\tlog4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\r\n    \t\t//PropertyConfigurator.configure(log4jProperties);\r\n    \t\tLoggerContext context = (LoggerContext)LogManager.getContext(false);\r\n    \t\tConfiguration config = new PropertiesConfigurationBuilder()\r\n    \t\t.setConfigurationSource(ConfigurationSource.NULL_SOURCE)\r\n    \t\t.setRootProperties(log4jProperties)\r\n    \t\t.setLoggerContext(context)\r\n    \t\t.build();\r\n    \t\tcontext.setConfiguration(config);\r\n    \t\tConfigurator.initialize(config);\r\n    \t} catch (FileNotFoundException fileNotFoundException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tfileNotFoundException.printStackTrace();\r\n    \t} catch (IOException ioException) {\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;IOException while fetching the properties file from the specified location: &quot;\r\n    \t\t\t\t\t\t+ LOG_PROP_FILE_LOCATION);\r\n    \t\tioException.printStackTrace();\r\n    \t}\r\n    \treturn Logger.getLogger(className);\r\n    }\r\n\r\nCan someone shed some light on how to resolve this?\r\n\r\n**UPDATE**:\r\nThis is the error which I receive when trying my fix:\r\n\r\n    Caused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\r\n    \tat com.ds.mdm.details.batch.util.BatchLogger.getLogger(BatchLogger.java:74) ~[classes/:na]\r\n    \tat com.ds.mdm.details.batch.DetailsJobLauncher.&lt;clinit&gt;(DetailsJobLauncher.java:28) ~[classes/:na]\r\n    \t... 24 common frames omitted","title":"Resolve missing methods for the new log4j dependency","body":"<p>I have been using the old version of log4j imports which we used to customize the log4j getLogger as:</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\n    ...\npublic static Logger getLogger(Class&lt;?&gt; className) {\n    Properties log4jProperties = new Properties();\n    try {\n        log4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\n        PropertyConfigurator.configure(log4jProperties);\n    } catch (FileNotFoundException fileNotFoundException) {\n        System.out\n                .println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        fileNotFoundException.printStackTrace();\n    } catch (IOException ioException) {\n        System.out\n                .println(&quot;IOException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        ioException.printStackTrace();\n    }\n    return Logger.getLogger(className);\n}\n</code></pre>\n<p>But now for the new version of log4j 2.17.1, looks like PropertyConfigurator and getLogger are completely changed. Not finding an resolution to fix it. Have tried the below. But it doesn't work.</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport org.apache.logging.log4j.core.config.ConfigurationSource;\nimport org.apache.logging.log4j.core.config.Configurator;\nimport org.apache.logging.log4j.core.config.properties.PropertiesConfigurationBuilder;\n...\npublic static Logger getLogger(Class&lt;?&gt; className) {\n    Properties log4jProperties = new Properties();\n    try {\n        log4jProperties.load(new FileInputStream(LOG_PROP_FILE_LOCATION));\n        //PropertyConfigurator.configure(log4jProperties);\n        LoggerContext context = (LoggerContext)LogManager.getContext(false);\n        Configuration config = new PropertiesConfigurationBuilder()\n        .setConfigurationSource(ConfigurationSource.NULL_SOURCE)\n        .setRootProperties(log4jProperties)\n        .setLoggerContext(context)\n        .build();\n        context.setConfiguration(config);\n        Configurator.initialize(config);\n    } catch (FileNotFoundException fileNotFoundException) {\n        System.out\n                .println(&quot;FileNotFoundException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        fileNotFoundException.printStackTrace();\n    } catch (IOException ioException) {\n        System.out\n                .println(&quot;IOException while fetching the properties file from the specified location: &quot;\n                        + LOG_PROP_FILE_LOCATION);\n        ioException.printStackTrace();\n    }\n    return Logger.getLogger(className);\n}\n</code></pre>\n<p>Can someone shed some light on how to resolve this?</p>\n<p><strong>UPDATE</strong>:\nThis is the error which I receive when trying my fix:</p>\n<pre><code>Caused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\n    at com.ds.mdm.details.batch.util.BatchLogger.getLogger(BatchLogger.java:74) ~[classes/:na]\n    at com.ds.mdm.details.batch.DetailsJobLauncher.&lt;clinit&gt;(DetailsJobLauncher.java:28) ~[classes/:na]\n    ... 24 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","kotlin","spring-data","spring-data-r2dbc"],"owner":{"account_id":5441092,"reputation":299,"user_id":4329173,"accept_rate":40,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694703325,"creation_date":1694703325,"question_id":77106117,"body_markdown":"I need to create my R2DBC configuration manually because the application has 2 database connections. When using auto configuration and connecting to just one database, the repositories work correctly. When using a manual config, the app throws while creating the repo implementations with:\r\n\r\n`Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00`\r\n\r\nThe entity has an attribute of type `URL`\r\n\r\nHere&#39;s the configuration:\r\n```kotlin\r\n@Configuration\r\n@EnableR2dbcRepositories(\r\n    entityOperationsRef = &quot;postgresR2dbcEntityOperations&quot;,\r\n    basePackages = [&quot;com.acme.somepackage&quot;],\r\n)\r\n@EnableR2dbcAuditing\r\nclass R2DBCConfiguration {\r\n    @Bean\r\n    @ConfigurationProperties(&quot;spring.r2dbc.postgres&quot;)\r\n    fun postgresR2dbcProperties() = R2dbcProperties()\r\n\r\n    @Bean\r\n    fun postgresConnectionFactory(\r\n        @Qualifier(&quot;postgresR2dbcProperties&quot;) props: R2dbcProperties\r\n    ): ConnectionFactory {\r\n        val host = ConnectionFactoryOptions\r\n            .parse(props.url)\r\n            .getRequiredValue(Option.valueOf&lt;String&gt;(&quot;host&quot;)) as String\r\n\r\n        return PostgresqlConnectionConfiguration\r\n            .builder()\r\n            .host(host)\r\n            .username(props.username)\r\n            .password(props.password)\r\n            .schema(&quot;myschema&quot;)\r\n            .build()\r\n            .let { PostgresqlConnectionFactory(it) }\r\n    }\r\n\r\n    @Bean\r\n    fun postgresR2dbcEntityOperations(\r\n        @Qualifier(&quot;postgresConnectionFactory&quot;) connectionFactory: ConnectionFactory,\r\n    ): R2dbcEntityOperations {\r\n        val mappingContext = R2dbcMappingContext()\r\n        val dialect = DialectResolver.getDialect(connectionFactory)\r\n        val converters = dialect.converters.toMutableList()\r\n        converters.addAll(R2dbcCustomConversions.STORE_CONVERTERS)\r\n\r\n        val storeConversions = StoreConversions.of(dialect.getSimpleTypeHolder(), converters)\r\n        val customConverters = listOf(\r\n            // customer converters\r\n        )\r\n        val customConversions = R2dbcCustomConversions(storeConversions, customConverters)\r\n        val mappingConverter = MappingR2dbcConverter(mappingContext, customConversions)\r\n        val strategy = DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE, mappingConverter)\r\n        val client = DatabaseClient.builder()\r\n            .connectionFactory(connectionFactory)\r\n            .bindMarkers(PostgresDialect.INSTANCE.bindMarkersFactory)\r\n            .build()\r\n\r\n        return R2dbcEntityTemplate(client, strategy)\r\n    }\r\n}\r\n```\r\n\r\nIs there something that the auto-config is doing that I&#39;m missing that will fix this?\r\n\r\nThanks.\r\n\r\nFull stack:\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:779)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:536)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\r\n\tat org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:280)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:206)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:92)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$6(RepositoryFactoryBeanSupport.java:282)\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:282)\r\n\tat org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:159)\r\n```\r\n","title":"Manual configuration of Spring Data R2DBC throws Unable to make field accessible","body":"<p>I need to create my R2DBC configuration manually because the application has 2 database connections. When using auto configuration and connecting to just one database, the repositories work correctly. When using a manual config, the app throws while creating the repo implementations with:</p>\n<p><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00</code></p>\n<p>The entity has an attribute of type <code>URL</code></p>\n<p>Here's the configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@EnableR2dbcRepositories(\n    entityOperationsRef = &quot;postgresR2dbcEntityOperations&quot;,\n    basePackages = [&quot;com.acme.somepackage&quot;],\n)\n@EnableR2dbcAuditing\nclass R2DBCConfiguration {\n    @Bean\n    @ConfigurationProperties(&quot;spring.r2dbc.postgres&quot;)\n    fun postgresR2dbcProperties() = R2dbcProperties()\n\n    @Bean\n    fun postgresConnectionFactory(\n        @Qualifier(&quot;postgresR2dbcProperties&quot;) props: R2dbcProperties\n    ): ConnectionFactory {\n        val host = ConnectionFactoryOptions\n            .parse(props.url)\n            .getRequiredValue(Option.valueOf&lt;String&gt;(&quot;host&quot;)) as String\n\n        return PostgresqlConnectionConfiguration\n            .builder()\n            .host(host)\n            .username(props.username)\n            .password(props.password)\n            .schema(&quot;myschema&quot;)\n            .build()\n            .let { PostgresqlConnectionFactory(it) }\n    }\n\n    @Bean\n    fun postgresR2dbcEntityOperations(\n        @Qualifier(&quot;postgresConnectionFactory&quot;) connectionFactory: ConnectionFactory,\n    ): R2dbcEntityOperations {\n        val mappingContext = R2dbcMappingContext()\n        val dialect = DialectResolver.getDialect(connectionFactory)\n        val converters = dialect.converters.toMutableList()\n        converters.addAll(R2dbcCustomConversions.STORE_CONVERTERS)\n\n        val storeConversions = StoreConversions.of(dialect.getSimpleTypeHolder(), converters)\n        val customConverters = listOf(\n            // customer converters\n        )\n        val customConversions = R2dbcCustomConversions(storeConversions, customConverters)\n        val mappingConverter = MappingR2dbcConverter(mappingContext, customConversions)\n        val strategy = DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE, mappingConverter)\n        val client = DatabaseClient.builder()\n            .connectionFactory(connectionFactory)\n            .bindMarkers(PostgresDialect.INSTANCE.bindMarkersFactory)\n            .build()\n\n        return R2dbcEntityTemplate(client, strategy)\n    }\n}\n</code></pre>\n<p>Is there something that the auto-config is doing that I'm missing that will fix this?</p>\n<p>Thanks.</p>\n<p>Full stack:</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.net.URL.protocol accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @69a61a00\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:779)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:536)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.lambda$createAndRegisterProperty$3(AbstractMappingContext.java:591)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.createAndRegisterProperty(AbstractMappingContext.java:588)\n    at org.springframework.data.mapping.context.AbstractMappingContext$PersistentPropertyCreator.doWith(AbstractMappingContext.java:542)\n    at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:703)\n    at org.springframework.data.mapping.context.AbstractMappingContext.doAddPersistentEntity(AbstractMappingContext.java:422)\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:379)\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:280)\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:206)\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:92)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$6(RepositoryFactoryBeanSupport.java:282)\n    at java.base/java.util.Optional.ifPresent(Optional.java:178)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:282)\n    at org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:159)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":20012753,"reputation":61,"user_id":14669455,"display_name":"Its-Saab"},"score":0,"creation_date":1694680205,"post_id":77100634,"comment_id":135923760,"body_markdown":"I have a similar case, I used a custom deserializer that would look inside the body and decides how to map the response. in case of an error, throw an exception and deal with it as per your needs.","body":"I have a similar case, I used a custom deserializer that would look inside the body and decides how to map the response. in case of an error, throw an exception and deal with it as per your needs."}],"answers":[{"comments":[{"owner":{"account_id":27562228,"reputation":13,"user_id":21035083,"display_name":"Tyali Nexi"},"score":0,"creation_date":1694644600,"post_id":77100719,"comment_id":135920104,"body_markdown":"I am using the last version of webflux and I don&#39;t have clientResponse.body()! The only acceptable signature is `&lt;T&gt; T body(BodyExtractor&lt;T, ? super ClientHttpResponse&gt; extractor)`","body":"I am using the last version of webflux and I don&#39;t have clientResponse.body()! The only acceptable signature is <code>&lt;T&gt; T body(BodyExtractor&lt;T, ? super ClientHttpResponse&gt; extractor)</code>"}],"tags":[],"owner":{"account_id":5079558,"reputation":383,"user_id":4076057,"accept_rate":100,"display_name":"Enigma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694642153,"creation_date":1694642153,"answer_id":77100719,"question_id":77100634,"body_markdown":"Instead of using retrieve(), you could use .exchangeToMono() instead while making sure to subscribe to your mono. This will give you the entire response and you can choose how to handle it. \r\nFor reference: \r\n\r\nhttps://docs.spring.io/spring-framework/reference/web/webflux-webclient/client-exchange.html\r\n\r\nYou could try and use a jackson ObjectMapper and readValue method to convert the response to the class you&#39;d like. If that conversion fails, you can then handle that error. \r\n\r\nYou could try just subscribing to the mono and then handling the response there.\r\n\r\n    googleReCaptchaWebClient\r\n                .post()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                .path(&quot;siteverify&quot;)\r\n                .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\r\n                .queryParam(&quot;response&quot;, reCaptcha).build())\r\n                .exchangeToMono(response -&gt; {\r\n                    try {\r\n                        ReCaptchaResponse response = objectMapper.readValue(response.body(), ReCaptchaResponse.class);\r\n                        // do more stuff\r\n                    } catch (Exception e) {\r\n                        // you know now that it&#39;s probably an error response\r\n                        ErrorResponse response = objectMapper.readValue(response.body(), ErrorResponse.class);\r\n                        // handle errors\r\n                    }\r\n\r\n                });","title":"Webclient handle errors when errors attribute is on body response","body":"<p>Instead of using retrieve(), you could use .exchangeToMono() instead while making sure to subscribe to your mono. This will give you the entire response and you can choose how to handle it.\nFor reference:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webflux-webclient/client-exchange.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webflux-webclient/client-exchange.html</a></p>\n<p>You could try and use a jackson ObjectMapper and readValue method to convert the response to the class you'd like. If that conversion fails, you can then handle that error.</p>\n<p>You could try just subscribing to the mono and then handling the response there.</p>\n<pre><code>googleReCaptchaWebClient\n            .post()\n            .uri(uriBuilder -&gt; uriBuilder\n            .path(&quot;siteverify&quot;)\n            .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\n            .queryParam(&quot;response&quot;, reCaptcha).build())\n            .exchangeToMono(response -&gt; {\n                try {\n                    ReCaptchaResponse response = objectMapper.readValue(response.body(), ReCaptchaResponse.class);\n                    // do more stuff\n                } catch (Exception e) {\n                    // you know now that it's probably an error response\n                    ErrorResponse response = objectMapper.readValue(response.body(), ErrorResponse.class);\n                    // handle errors\n                }\n\n            });\n</code></pre>\n"}],"owner":{"account_id":27562228,"reputation":13,"user_id":21035083,"display_name":"Tyali Nexi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694703259,"creation_date":1694640899,"question_id":77100634,"body_markdown":"The next code is used to call Google Recaptcha API.\r\n\r\nGoogle Recaptcha APIs always return a 200 Ok code for every request, even when the secret is wrong.\r\n\r\n```json\r\n{\r\n    &quot;success&quot;: false,\r\n    &quot;error-codes&quot;: [\r\n        &quot;invalid-input-secret&quot;\r\n    ]\r\n}\r\n```\r\n\r\nor\r\n\r\n```json\r\n{\r\n   &quot;success&quot;: true,\r\n   &quot;challenge_ts&quot;: &quot;2023-09-13T19:04:58Z&quot;,\r\n   &quot;hostname&quot;: &quot;qua.url.fr&quot;,\r\n   &quot;score&quot;: 0.9,\r\n   &quot;action&quot;: &quot;getAccountWithCharacterCode&quot;\r\n}\r\n```\r\n\r\nHow can I update the WebClient code so I can throw an exception without doing a .block() at the end of the call ?\r\n\r\n```java\r\ngoogleReCaptchaWebClient.post()\r\n        .uri(uriBuilder -&gt; uriBuilder\r\n            .path(&quot;siteverify&quot;)\r\n            .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\r\n            .queryParam(&quot;response&quot;, reCaptcha).build())\r\n            .retrieve()\r\n            .bodyToMono(ReCaptchaResponse.class);\r\n```\r\n\r\nI tried to use `.exchangeToMono(clientResponse -&gt; {});` but I did not find a way to avoid the block() method.\r\n","title":"Webclient handle errors when errors attribute is on body response","body":"<p>The next code is used to call Google Recaptcha API.</p>\n<p>Google Recaptcha APIs always return a 200 Ok code for every request, even when the secret is wrong.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;success&quot;: false,\n    &quot;error-codes&quot;: [\n        &quot;invalid-input-secret&quot;\n    ]\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;success&quot;: true,\n   &quot;challenge_ts&quot;: &quot;2023-09-13T19:04:58Z&quot;,\n   &quot;hostname&quot;: &quot;qua.url.fr&quot;,\n   &quot;score&quot;: 0.9,\n   &quot;action&quot;: &quot;getAccountWithCharacterCode&quot;\n}\n</code></pre>\n<p>How can I update the WebClient code so I can throw an exception without doing a .block() at the end of the call ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>googleReCaptchaWebClient.post()\n        .uri(uriBuilder -&gt; uriBuilder\n            .path(&quot;siteverify&quot;)\n            .queryParam(&quot;secret&quot;, googleReCaptchaSecret)\n            .queryParam(&quot;response&quot;, reCaptcha).build())\n            .retrieve()\n            .bodyToMono(ReCaptchaResponse.class);\n</code></pre>\n<p>I tried to use <code>.exchangeToMono(clientResponse -&gt; {});</code> but I did not find a way to avoid the block() method.</p>\n"},{"tags":["java","sip","jmf","jitsi","dtmf"],"owner":{"account_id":29442839,"reputation":21,"user_id":22560709,"display_name":"Barguzin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694703236,"creation_date":1694702973,"question_id":77106067,"body_markdown":"Im trying to make a simple SIP client who need to understand a voice RTP stream (like g711u, payload type 0) and RTP events with payload type 101. Its events is a DTMF by RFC2833. At this point i have to problems.\r\n\r\nIm listen incoming RTP audio stream by RTPManager and Player (from JMF), audio from RTP stream play correct but when i get RTP event with the audio my player breaks and dont play anything more. When i get RTP event ReceiveStreamListener get a RemotePayloadChangeEvent. In JMF API guide i see the wah to handle payload change ivent but it doesnt work. When i get RemotePayloadChangeEvent from 101 payload i trying to restart player according to api guide but player cant start with error &quot;Unable to handle format: 101&quot;. After that i get another one RemotePayloadChangeEvent from audio g711u traffic, trying to restart player again, but it doesnt play audio from rtp stream again.\r\n\r\n```\r\npublic class RTPTransmitter implements ReceiveStreamListener {//ReceiveStreamListener,RemoteListener\r\n\r\n    private final static Logger log = Logger.getLogger(RTPTransmitter.class);\r\n\r\n    private String pathToFile;\r\n    private SendStream stream;\r\n    private Processor processor;\r\n    private Player player;\r\n    private DataSource rtpDataSource;\r\n    private RtpEventListener rtpEventListener = new RtpEventListener();\r\n\r\n    private String codecName;\r\n    private int codecCode;\r\n    private AudioFormat audioFormat;\r\n    private MediaFormat rtpEventFormat;\r\n\r\n    private String remoteAddressString;\r\n    private int remotePort;\r\n    private String sourceAddressString;\r\n    private int sourcePort;\r\n\r\n    private final static int DEFAULT_TTL_VALUE = 64;\r\n    private final static Format RTP_EVENT_FORMAT = new Format(&quot;101&quot;);\r\n    private final static int RTP_EVENT_PAYLOAD_TYPE = 101;\r\n\r\n\r\n\r\n    public RTPTransmitter(String pathToFile) {\r\n        MediaFormatFactoryImpl mediaFormatFactory = new MediaFormatFactoryImpl();\r\n        long start = System.currentTimeMillis();\r\n        this.pathToFile = pathToFile;\r\n        initializeProcessor();\r\n        System.err.println(&quot;Create RTPTransmitter: &quot; + (System.currentTimeMillis() - start));\r\n    }\r\n\r\n\r\n    public void startTransmission() {\r\n        try {\r\n            long start = System.currentTimeMillis();\r\n            log.info(&quot;Prepare to start&quot;);\r\n            processor.start();\r\n            stream.start();\r\n            log.info(&quot;Transmission started&quot;);\r\n            System.err.println(&quot;Session start: &quot; + (System.currentTimeMillis() - start));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void stopTransmission() {\r\n        try {\r\n            log.info(&quot;Prepare to stop&quot;);\r\n            stream.stop();\r\n            stream.close();\r\n            processor.stop();\r\n            processor.close();\r\n            log.info(&quot;Transmission stopped&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, String codecCode) {\r\n        this.codecName = codecName;\r\n        this.codecCode = Integer.parseInt(codecCode);\r\n        this.audioFormat = new AudioFormat(codecName);\r\n        this.remoteAddressString = remoteAddressString;\r\n        this.remotePort = remotePort;\r\n        this.sourceAddressString = sourceAddressString;\r\n        this.sourcePort = sourcePort;\r\n        try {\r\n            RTPManager rtpManager = createRTPManager();\r\n            stream = createDataStream(rtpManager);\r\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, int codecCode) {\r\n        this.codecName = codecName;\r\n        this.codecCode = codecCode;\r\n        this.audioFormat = new AudioFormat(codecName);\r\n        this.remoteAddressString = remoteAddressString;\r\n        this.remotePort = remotePort;\r\n        this.sourceAddressString = sourceAddressString;\r\n        this.sourcePort = sourcePort;\r\n        try {\r\n            RTPManager rtpManager = createRTPManager();\r\n            stream = createDataStream(rtpManager);\r\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void initializeProcessor() {\r\n        try {\r\n            processor = createProcessor();\r\n            processor.configure();\r\n            while (processor.getState() != Processor.Configured) {\r\n                log.info(&quot;Configuring...&quot;);\r\n            }\r\n            trackControlSettings();\r\n            processor.setContentDescriptor(new ContentDescriptor(ContentDescriptor.RAW_RTP));\r\n            processor.realize();\r\n            while (processor.getState() != Processor.Realized) {\r\n                log.info(&quot;Realizing...&quot;);\r\n            }\r\n\r\n        } catch (NoProcessorException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private Processor createProcessor() throws IOException, NoProcessorException {\r\n        File mediaFile = new File(pathToFile);\r\n        URL mediaURL = mediaFile.toURI().toURL();\r\n        MediaLocator mediaLocator = new MediaLocator(mediaURL);\r\n        return Manager.createProcessor(mediaLocator);\r\n    }\r\n\r\n    private RTPManager createRTPManager() throws IOException, InvalidSessionAddressException {\r\n        //This solution for fixing 4 second time to creation rtpManager.addTarget(remoteAddress);\r\n        InetAddress temporaryRemoteAddress = InetAddress.getByName(remoteAddressString);\r\n        byte[] bytesOfRemoteAddress = temporaryRemoteAddress.getAddress();\r\n        InetAddress remoteIpAddress = InetAddress.getByAddress(InetAddress.getLocalHost().getHostName(), bytesOfRemoteAddress);\r\n        SessionAddress remoteAddress = new SessionAddress(remoteIpAddress, remotePort, DEFAULT_TTL_VALUE);\r\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n        InetAddress sourceIpAddress = InetAddress.getByName(sourceAddressString);\r\n        SessionAddress sourceAddress = new SessionAddress(sourceIpAddress, sourcePort, DEFAULT_TTL_VALUE);\r\n        RTPManager rtpManager = RTPManager.newInstance();\r\n        rtpManager.addFormat(audioFormat, codecCode);\r\n        /////////////////////////////////\r\n        rtpManager.addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\r\n        rtpManager.addReceiveStreamListener(this);\r\n        //rtpManager.addRemoteListener(this);\r\n        ////////////////////////////////\r\n        rtpManager.initialize(sourceAddress);\r\n        long start = System.currentTimeMillis();\r\n        rtpManager.addTarget(remoteAddress);\r\n        System.err.println(&quot;Creating RTPManager: &quot; + (System.currentTimeMillis() - start));\r\n        return rtpManager;\r\n    }\r\n\r\n    private SendStream createDataStream(RTPManager rtpManager) throws UnsupportedFormatException, IOException {\r\n        long start = System.currentTimeMillis();\r\n        DataSource output = processor.getDataOutput();\r\n        SendStream sendStream = rtpManager.createSendStream(output, 0);\r\n        System.err.println(&quot;Creating SendStream: &quot; + (System.currentTimeMillis() - start));\r\n        return sendStream;\r\n    }\r\n\r\n    private void trackControlSettings() {\r\n        TrackControl[] tracks = processor.getTrackControls();\r\n\r\n        if (tracks == null || tracks.length &lt; 1) {\r\n            System.out.println(&quot;Couldn&#39;t find tracks in processor&quot;);\r\n            System.exit(1);\r\n        }\r\n\r\n        for (TrackControl track : tracks) {\r\n            log.info(&quot;Format: &quot; + track.getFormat());\r\n        }\r\n\r\n        Format supported[];\r\n        Format chosen;\r\n        boolean atLeastOneTrack = false;\r\n\r\n        // Program the tracks.\r\n        for (int i = 0; i &lt; tracks.length; i++) {\r\n            Format format = tracks[i].getFormat();\r\n\r\n            System.out.println(&quot;Trenutni format je &quot; +format.getEncoding());\r\n\r\n            if (tracks[i].isEnabled()) {\r\n                supported = tracks[i].getSupportedFormats();\r\n                for (int n = 0; n &lt; supported.length; n++)\r\n                    System.out.println(&quot;Supported format: &quot; + supported[n]);\r\n\r\n                if (supported.length &gt; 0) {\r\n                    chosen = supported[0]; // this is where I tried changing formats\r\n                    tracks[i].setFormat(chosen);\r\n                    System.err.println(&quot;Track &quot; + i + &quot; is set to transmit as: &quot; + chosen);\r\n                    atLeastOneTrack = true;\r\n                } else\r\n                    tracks[i].setEnabled(false);\r\n            } else\r\n                tracks[i].setEnabled(false);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public synchronized void update(ReceiveStreamEvent receiveStreamEvent) {\r\n        RTPControl[] controls = (RTPControl[]) receiveStreamEvent.getReceiveStream().getDataSource().getControls();\r\n        Arrays.stream(controls).forEach(control -&gt; System.err.println(control.getFormat()));\r\n        if (receiveStreamEvent instanceof NewReceiveStreamEvent) {\r\n            System.err.println(&quot;This is a NewReceiveStreamEvent: &quot; + receiveStreamEvent.getClass());\r\n            playReceivedRtpStream((NewReceiveStreamEvent) receiveStreamEvent);\r\n        } else if (receiveStreamEvent instanceof StreamMappedEvent){\r\n            System.err.println(&quot;This is a StreamMappedEvent: &quot; + receiveStreamEvent.getClass());\r\n        } else if (receiveStreamEvent instanceof RemotePayloadChangeEvent) {\r\n            System.err.println(&quot;This is a RemotePayloadChangeEvent(&quot; + ((RemotePayloadChangeEvent) receiveStreamEvent).getNewPayload() + &quot;): &quot; + receiveStreamEvent.getClass());\r\n            changePayload((RemotePayloadChangeEvent) receiveStreamEvent);\r\n        }\r\n    }\r\n\r\n    private void playReceivedRtpStream(NewReceiveStreamEvent event) {\r\n        try {\r\n            var receivedStream = event.getReceiveStream();\r\n            rtpDataSource = receivedStream.getDataSource();\r\n            ((RTPControl) rtpDataSource.getControls()[0]).addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\r\n            player = Manager.createRealizedPlayer(rtpDataSource);\r\n            player.addControllerListener(rtpEventListener);\r\n            player.start();\r\n        } catch (IOException | NoPlayerException | CannotRealizeException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void changePayload(RemotePayloadChangeEvent event) {\r\n        player.stop();\r\n\r\n        while (player.getState() == Player.Started) {\r\n            log.info(player.getState());\r\n        }\r\n\r\n        //player.removeControllerListener(rtpEventListener);\r\n        player.close();\r\n\r\n        while (player.getState() == Controller.Started) {\r\n            log.info(player.getState());\r\n        }\r\n\r\n        try {\r\n            rtpDataSource.connect();\r\n            Player newPlayer = Manager.createPlayer(rtpDataSource);\r\n            //newPlayer.addControllerListener(rtpEventListener);\r\n            newPlayer.realize();\r\n            player = newPlayer;\r\n        } catch (IOException | NoPlayerException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n   It possible to add to JMF realization of custom RTP payload types, but i couldnt find any guide or example. There is a g711u implementation in JMF but its a audio codeс which is a continuous stream, but i need to handle a single events.\r\n   I read about FMJ, but there is the same as JMF. RTP payload 101 in not implemented by default.\r\n   Also i read about Jitsi, but i couldnt find any guid of in except javadoc\r\n\r\n\r\n   So, maybe somebode see the guide about extending JMF with DTMF RTP events or exists any implementations of it? Or i should use other RTP framework who contains DTMF RTP handle by default?","title":"How to handle DTMF by Java Media Framework?","body":"<p>Im trying to make a simple SIP client who need to understand a voice RTP stream (like g711u, payload type 0) and RTP events with payload type 101. Its events is a DTMF by RFC2833. At this point i have to problems.</p>\n<p>Im listen incoming RTP audio stream by RTPManager and Player (from JMF), audio from RTP stream play correct but when i get RTP event with the audio my player breaks and dont play anything more. When i get RTP event ReceiveStreamListener get a RemotePayloadChangeEvent. In JMF API guide i see the wah to handle payload change ivent but it doesnt work. When i get RemotePayloadChangeEvent from 101 payload i trying to restart player according to api guide but player cant start with error &quot;Unable to handle format: 101&quot;. After that i get another one RemotePayloadChangeEvent from audio g711u traffic, trying to restart player again, but it doesnt play audio from rtp stream again.</p>\n<pre><code>public class RTPTransmitter implements ReceiveStreamListener {//ReceiveStreamListener,RemoteListener\n\n    private final static Logger log = Logger.getLogger(RTPTransmitter.class);\n\n    private String pathToFile;\n    private SendStream stream;\n    private Processor processor;\n    private Player player;\n    private DataSource rtpDataSource;\n    private RtpEventListener rtpEventListener = new RtpEventListener();\n\n    private String codecName;\n    private int codecCode;\n    private AudioFormat audioFormat;\n    private MediaFormat rtpEventFormat;\n\n    private String remoteAddressString;\n    private int remotePort;\n    private String sourceAddressString;\n    private int sourcePort;\n\n    private final static int DEFAULT_TTL_VALUE = 64;\n    private final static Format RTP_EVENT_FORMAT = new Format(&quot;101&quot;);\n    private final static int RTP_EVENT_PAYLOAD_TYPE = 101;\n\n\n\n    public RTPTransmitter(String pathToFile) {\n        MediaFormatFactoryImpl mediaFormatFactory = new MediaFormatFactoryImpl();\n        long start = System.currentTimeMillis();\n        this.pathToFile = pathToFile;\n        initializeProcessor();\n        System.err.println(&quot;Create RTPTransmitter: &quot; + (System.currentTimeMillis() - start));\n    }\n\n\n    public void startTransmission() {\n        try {\n            long start = System.currentTimeMillis();\n            log.info(&quot;Prepare to start&quot;);\n            processor.start();\n            stream.start();\n            log.info(&quot;Transmission started&quot;);\n            System.err.println(&quot;Session start: &quot; + (System.currentTimeMillis() - start));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void stopTransmission() {\n        try {\n            log.info(&quot;Prepare to stop&quot;);\n            stream.stop();\n            stream.close();\n            processor.stop();\n            processor.close();\n            log.info(&quot;Transmission stopped&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, String codecCode) {\n        this.codecName = codecName;\n        this.codecCode = Integer.parseInt(codecCode);\n        this.audioFormat = new AudioFormat(codecName);\n        this.remoteAddressString = remoteAddressString;\n        this.remotePort = remotePort;\n        this.sourceAddressString = sourceAddressString;\n        this.sourcePort = sourcePort;\n        try {\n            RTPManager rtpManager = createRTPManager();\n            stream = createDataStream(rtpManager);\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void initializeRtpSession(String remoteAddressString, int remotePort, String sourceAddressString, int sourcePort, String codecName, int codecCode) {\n        this.codecName = codecName;\n        this.codecCode = codecCode;\n        this.audioFormat = new AudioFormat(codecName);\n        this.remoteAddressString = remoteAddressString;\n        this.remotePort = remotePort;\n        this.sourceAddressString = sourceAddressString;\n        this.sourcePort = sourcePort;\n        try {\n            RTPManager rtpManager = createRTPManager();\n            stream = createDataStream(rtpManager);\n        } catch (InvalidSessionAddressException | UnsupportedFormatException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void initializeProcessor() {\n        try {\n            processor = createProcessor();\n            processor.configure();\n            while (processor.getState() != Processor.Configured) {\n                log.info(&quot;Configuring...&quot;);\n            }\n            trackControlSettings();\n            processor.setContentDescriptor(new ContentDescriptor(ContentDescriptor.RAW_RTP));\n            processor.realize();\n            while (processor.getState() != Processor.Realized) {\n                log.info(&quot;Realizing...&quot;);\n            }\n\n        } catch (NoProcessorException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private Processor createProcessor() throws IOException, NoProcessorException {\n        File mediaFile = new File(pathToFile);\n        URL mediaURL = mediaFile.toURI().toURL();\n        MediaLocator mediaLocator = new MediaLocator(mediaURL);\n        return Manager.createProcessor(mediaLocator);\n    }\n\n    private RTPManager createRTPManager() throws IOException, InvalidSessionAddressException {\n        //This solution for fixing 4 second time to creation rtpManager.addTarget(remoteAddress);\n        InetAddress temporaryRemoteAddress = InetAddress.getByName(remoteAddressString);\n        byte[] bytesOfRemoteAddress = temporaryRemoteAddress.getAddress();\n        InetAddress remoteIpAddress = InetAddress.getByAddress(InetAddress.getLocalHost().getHostName(), bytesOfRemoteAddress);\n        SessionAddress remoteAddress = new SessionAddress(remoteIpAddress, remotePort, DEFAULT_TTL_VALUE);\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n        InetAddress sourceIpAddress = InetAddress.getByName(sourceAddressString);\n        SessionAddress sourceAddress = new SessionAddress(sourceIpAddress, sourcePort, DEFAULT_TTL_VALUE);\n        RTPManager rtpManager = RTPManager.newInstance();\n        rtpManager.addFormat(audioFormat, codecCode);\n        /////////////////////////////////\n        rtpManager.addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\n        rtpManager.addReceiveStreamListener(this);\n        //rtpManager.addRemoteListener(this);\n        ////////////////////////////////\n        rtpManager.initialize(sourceAddress);\n        long start = System.currentTimeMillis();\n        rtpManager.addTarget(remoteAddress);\n        System.err.println(&quot;Creating RTPManager: &quot; + (System.currentTimeMillis() - start));\n        return rtpManager;\n    }\n\n    private SendStream createDataStream(RTPManager rtpManager) throws UnsupportedFormatException, IOException {\n        long start = System.currentTimeMillis();\n        DataSource output = processor.getDataOutput();\n        SendStream sendStream = rtpManager.createSendStream(output, 0);\n        System.err.println(&quot;Creating SendStream: &quot; + (System.currentTimeMillis() - start));\n        return sendStream;\n    }\n\n    private void trackControlSettings() {\n        TrackControl[] tracks = processor.getTrackControls();\n\n        if (tracks == null || tracks.length &lt; 1) {\n            System.out.println(&quot;Couldn't find tracks in processor&quot;);\n            System.exit(1);\n        }\n\n        for (TrackControl track : tracks) {\n            log.info(&quot;Format: &quot; + track.getFormat());\n        }\n\n        Format supported[];\n        Format chosen;\n        boolean atLeastOneTrack = false;\n\n        // Program the tracks.\n        for (int i = 0; i &lt; tracks.length; i++) {\n            Format format = tracks[i].getFormat();\n\n            System.out.println(&quot;Trenutni format je &quot; +format.getEncoding());\n\n            if (tracks[i].isEnabled()) {\n                supported = tracks[i].getSupportedFormats();\n                for (int n = 0; n &lt; supported.length; n++)\n                    System.out.println(&quot;Supported format: &quot; + supported[n]);\n\n                if (supported.length &gt; 0) {\n                    chosen = supported[0]; // this is where I tried changing formats\n                    tracks[i].setFormat(chosen);\n                    System.err.println(&quot;Track &quot; + i + &quot; is set to transmit as: &quot; + chosen);\n                    atLeastOneTrack = true;\n                } else\n                    tracks[i].setEnabled(false);\n            } else\n                tracks[i].setEnabled(false);\n        }\n    }\n\n    @Override\n    public synchronized void update(ReceiveStreamEvent receiveStreamEvent) {\n        RTPControl[] controls = (RTPControl[]) receiveStreamEvent.getReceiveStream().getDataSource().getControls();\n        Arrays.stream(controls).forEach(control -&gt; System.err.println(control.getFormat()));\n        if (receiveStreamEvent instanceof NewReceiveStreamEvent) {\n            System.err.println(&quot;This is a NewReceiveStreamEvent: &quot; + receiveStreamEvent.getClass());\n            playReceivedRtpStream((NewReceiveStreamEvent) receiveStreamEvent);\n        } else if (receiveStreamEvent instanceof StreamMappedEvent){\n            System.err.println(&quot;This is a StreamMappedEvent: &quot; + receiveStreamEvent.getClass());\n        } else if (receiveStreamEvent instanceof RemotePayloadChangeEvent) {\n            System.err.println(&quot;This is a RemotePayloadChangeEvent(&quot; + ((RemotePayloadChangeEvent) receiveStreamEvent).getNewPayload() + &quot;): &quot; + receiveStreamEvent.getClass());\n            changePayload((RemotePayloadChangeEvent) receiveStreamEvent);\n        }\n    }\n\n    private void playReceivedRtpStream(NewReceiveStreamEvent event) {\n        try {\n            var receivedStream = event.getReceiveStream();\n            rtpDataSource = receivedStream.getDataSource();\n            ((RTPControl) rtpDataSource.getControls()[0]).addFormat(RTP_EVENT_FORMAT, RTP_EVENT_PAYLOAD_TYPE);\n            player = Manager.createRealizedPlayer(rtpDataSource);\n            player.addControllerListener(rtpEventListener);\n            player.start();\n        } catch (IOException | NoPlayerException | CannotRealizeException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n\n\n    private void changePayload(RemotePayloadChangeEvent event) {\n        player.stop();\n\n        while (player.getState() == Player.Started) {\n            log.info(player.getState());\n        }\n\n        //player.removeControllerListener(rtpEventListener);\n        player.close();\n\n        while (player.getState() == Controller.Started) {\n            log.info(player.getState());\n        }\n\n        try {\n            rtpDataSource.connect();\n            Player newPlayer = Manager.createPlayer(rtpDataSource);\n            //newPlayer.addControllerListener(rtpEventListener);\n            newPlayer.realize();\n            player = newPlayer;\n        } catch (IOException | NoPlayerException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>It possible to add to JMF realization of custom RTP payload types, but i couldnt find any guide or example. There is a g711u implementation in JMF but its a audio codeс which is a continuous stream, but i need to handle a single events.\nI read about FMJ, but there is the same as JMF. RTP payload 101 in not implemented by default.\nAlso i read about Jitsi, but i couldnt find any guid of in except javadoc</p>\n<p>So, maybe somebode see the guide about extending JMF with DTMF RTP events or exists any implementations of it? Or i should use other RTP framework who contains DTMF RTP handle by default?</p>\n"},{"tags":["java","nginx","ssl","google-cloud-platform","nginx-ingress"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1647880083,"post_id":71174668,"comment_id":126476951,"body_markdown":"Did you give &quot;latest&quot; Oracle JDK 17 (or OpenJDK built by Oracle) a try? Seems to be a solution for this TLS/timeout-related issue here: https://github.com/junit-team/junit5/issues/2859","body":"Did you give &quot;latest&quot; Oracle JDK 17 (or OpenJDK built by Oracle) a try? Seems to be a solution for this TLS/timeout-related issue here: <a href=\"https://github.com/junit-team/junit5/issues/2859\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/2859</a>"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1647941988,"post_id":71174668,"comment_id":126492011,"body_markdown":"I had the same issues with OpenJDK.","body":"I had the same issues with OpenJDK."},{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":0,"creation_date":1659526188,"post_id":71174668,"comment_id":129314696,"body_markdown":"@ST-DDT Did you find  a solution for this with java 17 or later version ?","body":"@ST-DDT Did you find  a solution for this with java 17 or later version ?"},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1659616266,"post_id":71174668,"comment_id":129340026,"body_markdown":"@SanyamGoel Unfortunately not. I kind of feel alone and lost with this issue. I haven&#39;t tried again with the latest versions, though.","body":"@SanyamGoel Unfortunately not. I kind of feel alone and lost with this issue. I haven&#39;t tried again with the latest versions, though."},{"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"score":0,"creation_date":1659683976,"post_id":71174668,"comment_id":129357086,"body_markdown":"@ST-DDT I faced the same issue few days back and it took some time to understand this behavior and finally came across your post which is exactly what is happening in my case too.  Your suggestion to use Java 11 is what I am doing too at the moment.  When backend applications communicate directly without kubernetes (both client and Server on Java 17) there is no issue, but when the same communication happens via ingress, I see bad certificate error  in the ingress controller log which emerges and vanishes","body":"@ST-DDT I faced the same issue few days back and it took some time to understand this behavior and finally came across your post which is exactly what is happening in my case too.  Your suggestion to use Java 11 is what I am doing too at the moment.  When backend applications communicate directly without kubernetes (both client and Server on Java 17) there is no issue, but when the same communication happens via ingress, I see bad certificate error  in the ingress controller log which emerges and vanishes"}],"answers":[{"comments":[{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1694791881,"post_id":77106082,"comment_id":135942170,"body_markdown":"Thanks for linking that issue. Fixed in https://github.com/kubernetes/ingress-nginx/commit/5628f765fe883dd8c13ccd3084e9003ffd3e28d5 and released in helm chart v4.4.3 and controller v1.6.1","body":"Thanks for linking that issue. Fixed in <a href=\"https://github.com/kubernetes/ingress-nginx/commit/5628f765fe883dd8c13ccd3084e9003ffd3e28d5\" rel=\"nofollow noreferrer\">github.com/kubernetes/ingress-nginx/commit/&hellip;</a> and released in helm chart v4.4.3 and controller v1.6.1"}],"tags":[],"owner":{"account_id":4779503,"reputation":78,"user_id":3861707,"display_name":"Marc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694703097,"creation_date":1694703097,"answer_id":77106082,"question_id":71174668,"body_markdown":"We had the exact same issue, and we believe the cause to be\r\n\r\nhttps://github.com/kubernetes/ingress-nginx/issues/9540\r\n\r\nIf you cannot upgrade, as stated in the issue \r\n\r\n&gt; In the meantime, it seems that setting the Java system property jdk.tls.server.enableSessionTicketExtension to false on the server side will disable the TLS feature which is causing this problem.\r\n\r\nseemed to solve the problem in our case.\r\n","title":"Nginx sometimes fails TLS passthrough to Java 17 application","body":"<p>We had the exact same issue, and we believe the cause to be</p>\n<p><a href=\"https://github.com/kubernetes/ingress-nginx/issues/9540\" rel=\"nofollow noreferrer\">https://github.com/kubernetes/ingress-nginx/issues/9540</a></p>\n<p>If you cannot upgrade, as stated in the issue</p>\n<blockquote>\n<p>In the meantime, it seems that setting the Java system property jdk.tls.server.enableSessionTicketExtension to false on the server side will disable the TLS feature which is causing this problem.</p>\n</blockquote>\n<p>seemed to solve the problem in our case.</p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77106082,"answer_count":1,"score":2,"last_activity_date":1694703097,"creation_date":1645192668,"question_id":71174668,"body_markdown":"We have a spring-boot application that runs perfectly fine by itself on both Java 11 and Java 17.\r\nThe spring-boot application is packaged as a docker container and runs inside gcp/gke kubernetes.\r\nWe use the nginx ingress to forward the traffic with tls-passthrough.\r\nWe use a Let&#39;s Encrypt certificate for our application.\r\nThe nginx does not have access to it (AFAICT), but considers it valid.\r\n\r\nWhen using Java 11 everything works fine.\r\nHowever, when using Java 17 the first (few) requests pass fine, but then I get a certificate error. The nginx generates/has a default ingress certificate, that it uses for the later requests. But I don&#39;t understand why it does serve that (sometimes) in the first place.\r\nThe error is reproducible with browsers and Java applications.\r\nI did not manage to preproduce it with curl/openssl though.\r\nAfter a short time/few minutes the error vanishes for the next (few) requests before it emerges again.\r\nWhen adding the ingress certificate to the trusted certs in browsers I can see that the ingress requests are upgraded to HTTP2, the first few HTTP1 requests all use the correct certificate.\r\n\r\nWe tried with different java 17 base images (openjdk/eclipse-temurin + alpine/ununtu).\r\nWe tried to explicitly disable http2 in Java and the browser.\r\nNothing seems to work except for adding the self-signed certificate to the trust-store (which is obviously a no go for production).\r\nWe weren&#39;t able to reproduce this locally, but might be due to our local dev setup being only a simplified version of the cloud environments.\r\nIf I use kubectl port-forward into the java app container, I cannot reproduce the issue.\r\n\r\nWe use the following versions:\r\n- nginx-ingress-1.41.3\r\n- gke v1.21.6-gke.1500\r\n- eclipse-temurin 17\r\n- spring-boot 2.6.3 with the default tomcat\r\n\r\nTLDR: The nginx-ingress sometimes does not tls-passthrough to our Java 17 app correctly and thus serves an invalid certificate for those requests. (All responses contain the expected/same/valid content except for the certificate).\r\nHas anyone an idea what is happening and how to fix/avoid that?","title":"Nginx sometimes fails TLS passthrough to Java 17 application","body":"<p>We have a spring-boot application that runs perfectly fine by itself on both Java 11 and Java 17.\nThe spring-boot application is packaged as a docker container and runs inside gcp/gke kubernetes.\nWe use the nginx ingress to forward the traffic with tls-passthrough.\nWe use a Let's Encrypt certificate for our application.\nThe nginx does not have access to it (AFAICT), but considers it valid.</p>\n<p>When using Java 11 everything works fine.\nHowever, when using Java 17 the first (few) requests pass fine, but then I get a certificate error. The nginx generates/has a default ingress certificate, that it uses for the later requests. But I don't understand why it does serve that (sometimes) in the first place.\nThe error is reproducible with browsers and Java applications.\nI did not manage to preproduce it with curl/openssl though.\nAfter a short time/few minutes the error vanishes for the next (few) requests before it emerges again.\nWhen adding the ingress certificate to the trusted certs in browsers I can see that the ingress requests are upgraded to HTTP2, the first few HTTP1 requests all use the correct certificate.</p>\n<p>We tried with different java 17 base images (openjdk/eclipse-temurin + alpine/ununtu).\nWe tried to explicitly disable http2 in Java and the browser.\nNothing seems to work except for adding the self-signed certificate to the trust-store (which is obviously a no go for production).\nWe weren't able to reproduce this locally, but might be due to our local dev setup being only a simplified version of the cloud environments.\nIf I use kubectl port-forward into the java app container, I cannot reproduce the issue.</p>\n<p>We use the following versions:</p>\n<ul>\n<li>nginx-ingress-1.41.3</li>\n<li>gke v1.21.6-gke.1500</li>\n<li>eclipse-temurin 17</li>\n<li>spring-boot 2.6.3 with the default tomcat</li>\n</ul>\n<p>TLDR: The nginx-ingress sometimes does not tls-passthrough to our Java 17 app correctly and thus serves an invalid certificate for those requests. (All responses contain the expected/same/valid content except for the certificate).\nHas anyone an idea what is happening and how to fix/avoid that?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":9429750,"reputation":27,"user_id":7013675,"display_name":"Hamza abu-othman"},"score":0,"creation_date":1694722835,"post_id":77100943,"comment_id":135932638,"body_markdown":"Many thanks,  worked","body":"Many thanks,  worked"}],"tags":[],"owner":{"account_id":16262559,"reputation":147,"user_id":11743504,"display_name":"marcpetitvecino"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694646003,"creation_date":1694646003,"answer_id":77100943,"question_id":77100785,"body_markdown":"You should do:\r\n\r\n    val dialog = alert.show()\r\n\r\nThen, inside your listener:\r\n\r\n    dialog.dismiss()","title":"How can i close the alert dialog in kotlin Programmatically?","body":"<p>You should do:</p>\n<pre><code>val dialog = alert.show()\n</code></pre>\n<p>Then, inside your listener:</p>\n<pre><code>dialog.dismiss()\n</code></pre>\n"}],"owner":{"account_id":9429750,"reputation":27,"user_id":7013675,"display_name":"Hamza abu-othman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77100943,"answer_count":1,"score":0,"last_activity_date":1694702559,"creation_date":1694643227,"question_id":77100785,"body_markdown":"I have alert dialog and I want to close the box programmatically in some action `alert.dismiss();` not working --&gt; unresolved reference\r\n\r\n    val alert: AlertDialog.Builder = AlertDialog.Builder(view.context)\r\n    alert.setTitle(this.notes[position])\r\n    alert.setMessage(&quot;choose what you want to do&quot;)\r\n    \r\n    var viewOption = inflater!!.inflate(R.layout.item_option, container, false)\r\n    \r\n    alert.setView(viewOption)\r\n    \r\n    val btn = viewOption.findViewById&lt;Button&gt;(R.id.btnId)\r\n    btn.setOnClickListener {\r\n        // i want to close the box her after some action\r\n    }\r\n            \r\n","title":"How can i close the alert dialog in kotlin Programmatically?","body":"<p>I have alert dialog and I want to close the box programmatically in some action <code>alert.dismiss();</code> not working --&gt; unresolved reference</p>\n<pre><code>val alert: AlertDialog.Builder = AlertDialog.Builder(view.context)\nalert.setTitle(this.notes[position])\nalert.setMessage(&quot;choose what you want to do&quot;)\n\nvar viewOption = inflater!!.inflate(R.layout.item_option, container, false)\n\nalert.setView(viewOption)\n\nval btn = viewOption.findViewById&lt;Button&gt;(R.id.btnId)\nbtn.setOnClickListener {\n    // i want to close the box her after some action\n}\n        \n</code></pre>\n"},{"tags":["java","authentication","google-analytics-api","runtimeexception"],"comments":[{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1691764306,"post_id":76882694,"comment_id":135540130,"body_markdown":"Have now tried over and over and over and over and over to create, recreate, modify several service accounts in the GCP IAM facility, but nowhere is Google Analytics listed as a role that can be assigned to said service accounts? There are over 8 000 roles and permission sets... which apply to Google Analytics?","body":"Have now tried over and over and over and over and over to create, recreate, modify several service accounts in the GCP IAM facility, but nowhere is Google Analytics listed as a role that can be assigned to said service accounts? There are over 8 000 roles and permission sets... which apply to Google Analytics?"}],"answers":[{"comments":[{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1694698645,"post_id":77090350,"comment_id":135927833,"body_markdown":"Shila thanks alot for the reply, I applied the change as you suggested but still have exactly the same problem as in original post. Did get a reply on Google&#39;s boards though, reply is basically &quot;do not use Java GA4 client libraries, they do not work&quot; - https://support.google.com/analytics/thread/229835200/api-request-refused-with-request-had-insufficient-authentication-scopes","body":"Shila thanks alot for the reply, I applied the change as you suggested but still have exactly the same problem as in original post. Did get a reply on Google&#39;s boards though, reply is basically &quot;do not use Java GA4 client libraries, they do not work&quot; - <a href=\"https://support.google.com/analytics/thread/229835200/api-request-refused-with-request-had-insufficient-authentication-scopes\" rel=\"nofollow noreferrer\">support.google.com/analytics/thread/229835200/&hellip;</a>"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1694699667,"post_id":77090350,"comment_id":135928104,"body_markdown":"@Stefan, we have more than 40 clients and the only program we use to read the insights is the JAVA and it works well for us.  I edit my response to write the code","body":"@Stefan, we have more than 40 clients and the only program we use to read the insights is the JAVA and it works well for us.  I edit my response to write the code"},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1694700931,"post_id":77090350,"comment_id":135928412,"body_markdown":"Thanks again Shila, no change, the problem remains exactly the same, I just keep getting back com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes..","body":"Thanks again Shila, no change, the problem remains exactly the same, I just keep getting back com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes.."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":1,"creation_date":1694701074,"post_id":77090350,"comment_id":135928454,"body_markdown":"@Stefan sorry for not being able to provide more","body":"@Stefan sorry for not being able to provide more"},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":1,"creation_date":1694701364,"post_id":77090350,"comment_id":135928533,"body_markdown":"No problem! Thanks for the assistance and suggestions and taking the time to post. Voted up. I probably have some unrelated issue or problem. THANK YOU. :)","body":"No problem! Thanks for the assistance and suggestions and taking the time to post. Voted up. I probably have some unrelated issue or problem. THANK YOU. :)"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":1,"creation_date":1694701433,"post_id":77090350,"comment_id":135928547,"body_markdown":"@Stefan, you are welcome, please update us when you get succeeded to resolve the problem","body":"@Stefan, you are welcome, please update us when you get succeeded to resolve the problem"},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":1,"creation_date":1694701891,"post_id":77090350,"comment_id":135928672,"body_markdown":"or wait! I messed around with my code some more, I think your suggestion may have solved it! I was having some difficulty finding the JSON file using your code, so I mixed my code and yours but used your way of getting the credential off the JSON file - it seems to be working. Will post complete working code in an answer in a few minutes. THANK YOU THANK YOU","body":"or wait! I messed around with my code some more, I think your suggestion may have solved it! I was having some difficulty finding the JSON file using your code, so I mixed my code and yours but used your way of getting the credential off the JSON file - it seems to be working. Will post complete working code in an answer in a few minutes. THANK YOU THANK YOU"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1694704557,"post_id":77090350,"comment_id":135929294,"body_markdown":"@Stefan, finally a good news. you&#39;re welcome","body":"@Stefan, finally a good news. you&#39;re welcome"}],"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694700289,"creation_date":1694530605,"answer_id":77090350,"question_id":76882694,"body_markdown":"Please check another option as well: Go to your analytics.google account and click on Management of access to the property or Property Access Management (Sorry my page is in Italian language and I am using Translate to English option of my browser to be comprehensible) \r\n [![enter image description here][1]][1] \r\n\r\nthen you should see the email available in client_secrets.json file here having the `Administrator` role.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Java Part:**\r\n\r\nSupposing **credentialsJsonPath** variable is a `String` and the path to your secret json file, and **propertyId** is the variable containing your client propertyId.\t\r\n...\r\n        Files.createDirectories(Paths.get(credentialsJsonPath).getParent());\r\n        \r\n        \t\t\tGoogleCredentials credentials =\r\n        \t\t\t\t\tGoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\r\n        \r\n        \t\t\tBetaAnalyticsDataSettings betaAnalyticsDataSettings =\r\n        \t\t\t\t\tBetaAnalyticsDataSettings.newBuilder()\r\n        \t\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n        \t\t\t\t\t.build();    \r\n        \r\n        \t\t\ttry (BetaAnalyticsDataClient analyticsData =\r\n        \t\t\t\t\tBetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\r\n        \t\t\t\t \r\n        \t\t\t\tint offset=0;\r\n        \t\t\t\tint limit=100000;\r\n    RunReportRequest request =\r\n    \t\t\t\tRunReportRequest.newBuilder()\r\n    \t\t\t\t.setProperty(&quot;properties/&quot; + propertyId)\r\n    .addDateRanges(DateRange.newBuilder().setStartDate(&quot;your start date&quot;).setEndDate(&quot;your end date&quot;))\r\n    \r\n    \r\n    \t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \r\n    \t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))\r\n    \r\n    \t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))\r\n    \t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventsPerSession&quot;))\r\n    \t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventValue&quot;))\r\n    .setOffset(offset)\r\n    \t\t\t\t.setLimit(limit)\r\n    \t\t\t\t.build();\r\n    \r\n    \tRunReportResponse response = analyticsData.runReport(request);\r\n    \t\t\t\tSystem.out.println(response);\r\n     }catch(Exception e){\r\n    e.printStackTrace();\r\n    }\r\n\r\nofcourse, you can read any other compatible dimensions/metrics, I just used some examples.\r\n\r\n  [1]: https://i.stack.imgur.com/PxrqA.png\r\n  [2]: https://i.stack.imgur.com/dEKw5.png","title":"Google Analytics 4 API - service account has full admin privileges - still PERMISSION DENIED to all API calls","body":"<p>Please check another option as well: Go to your analytics.google account and click on Management of access to the property or Property Access Management (Sorry my page is in Italian language and I am using Translate to English option of my browser to be comprehensible)\n<a href=\"https://i.stack.imgur.com/PxrqA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxrqA.png\" alt=\"enter image description here\" /></a></p>\n<p>then you should see the email available in client_secrets.json file here having the <code>Administrator</code> role.</p>\n<p><a href=\"https://i.stack.imgur.com/dEKw5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dEKw5.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java Part:</strong></p>\n<p>Supposing <strong>credentialsJsonPath</strong> variable is a <code>String</code> and the path to your secret json file, and <strong>propertyId</strong> is the variable containing your client propertyId.<br />\n...\nFiles.createDirectories(Paths.get(credentialsJsonPath).getParent());</p>\n<pre><code>                GoogleCredentials credentials =\n                        GoogleCredentials.fromStream(new FileInputStream(credentialsJsonPath));\n    \n                BetaAnalyticsDataSettings betaAnalyticsDataSettings =\n                        BetaAnalyticsDataSettings.newBuilder()\n                        .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n                        .build();    \n    \n                try (BetaAnalyticsDataClient analyticsData =\n                        BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {\n                     \n                    int offset=0;\n                    int limit=100000;\nRunReportRequest request =\n                RunReportRequest.newBuilder()\n                .setProperty(&quot;properties/&quot; + propertyId)\n.addDateRanges(DateRange.newBuilder().setStartDate(&quot;your start date&quot;).setEndDate(&quot;your end date&quot;))\n\n\n                .addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \n                .addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))\n\n                .addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))\n                .addMetrics(Metric.newBuilder().setName(&quot;eventsPerSession&quot;))\n                .addMetrics(Metric.newBuilder().setName(&quot;eventValue&quot;))\n.setOffset(offset)\n                .setLimit(limit)\n                .build();\n\n    RunReportResponse response = analyticsData.runReport(request);\n                System.out.println(response);\n }catch(Exception e){\ne.printStackTrace();\n}\n</code></pre>\n<p>ofcourse, you can read any other compatible dimensions/metrics, I just used some examples.</p>\n"},{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694702506,"creation_date":1694702506,"answer_id":77106015,"question_id":76882694,"body_markdown":"This is now solved thanks to Shila Mosammami.\r\n\r\nTurns out, if I use this way to get a credential to access my GA4 analytics property via the service account JSON generated file per the official procedure outlined in Google&#39;s documentation for the GA4 Java API:\r\n\r\n```\r\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)).createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL))\r\n```\r\n\r\nI -always- get\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\r\n```\r\n\r\nHOWEVER\r\n\r\nAs kindly suggested by Shila Mossasami, if I use this to get the required GA4 credentials off the service account JSON file per the official procedure outlined in Google&#39;s documentation for the GA4 Java API:\r\n\r\n```\r\nGoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\r\n```\r\n\r\nit all just works and the above error\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\r\n```\r\n\r\nis no longer present.\r\n\r\nAnd I can now pull statistics via the GA4 API - at last!\r\n\r\nHere&#39;s the complete working code integrating Shila&#39;s suggestion:\r\n\r\n```\r\n String propertyId = &quot;123456789&quot;;            \r\n            \r\n            GoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\r\n            \r\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n\r\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);                                  \r\n\r\n            RunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\r\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\r\n                    addDateRanges(DateRange.newBuilder().\r\n                            setStartDate(&quot;2023-09-11&quot;).setEndDate(&quot;today&quot;)).build();\r\n\r\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\r\n```\r\n\r\n&quot;response&quot; then contains my response data as required.\r\n\r\nNote that I use NetBeans 11 for this, so &quot;client_secrets.json&quot; is located in\r\n\r\n```\r\nProjects-&gt;GA4 Project-&gt;Other Sources-&gt;src/main/resources-&gt;&lt;default package&gt;/client_secrets.json\r\n```\r\n\r\nin the NetBeans 11 Project Tree Gui at the left of the NetBeans 11 interface.\r\n\r\nIf &quot;client_secrets.json&quot; is placed there in NetBeans 11, the file can be refereced via\r\n\r\n```\r\nthis.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)\r\n```\r\n\r\nin the Java code (this took me several hours to figure out, hopefully this saves someone some effort.)\r\n\r\nThanks again Shila! You&#39;re the hero of the day.","title":"Google Analytics 4 API - service account has full admin privileges - still PERMISSION DENIED to all API calls","body":"<p>This is now solved thanks to Shila Mosammami.</p>\n<p>Turns out, if I use this way to get a credential to access my GA4 analytics property via the service account JSON generated file per the official procedure outlined in Google's documentation for the GA4 Java API:</p>\n<pre><code>GoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)).createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL))\n</code></pre>\n<p>I -always- get</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\n</code></pre>\n<p>HOWEVER</p>\n<p>As kindly suggested by Shila Mossasami, if I use this to get the required GA4 credentials off the service account JSON file per the official procedure outlined in Google's documentation for the GA4 Java API:</p>\n<pre><code>GoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\n</code></pre>\n<p>it all just works and the above error</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\n</code></pre>\n<p>is no longer present.</p>\n<p>And I can now pull statistics via the GA4 API - at last!</p>\n<p>Here's the complete working code integrating Shila's suggestion:</p>\n<pre><code> String propertyId = &quot;123456789&quot;;            \n            \n            GoogleCredentials gc = GoogleCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;));\n            \n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\n\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);                                  \n\n            RunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\n                    addDateRanges(DateRange.newBuilder().\n                            setStartDate(&quot;2023-09-11&quot;).setEndDate(&quot;today&quot;)).build();\n\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\n</code></pre>\n<p>&quot;response&quot; then contains my response data as required.</p>\n<p>Note that I use NetBeans 11 for this, so &quot;client_secrets.json&quot; is located in</p>\n<pre><code>Projects-&gt;GA4 Project-&gt;Other Sources-&gt;src/main/resources-&gt;&lt;default package&gt;/client_secrets.json\n</code></pre>\n<p>in the NetBeans 11 Project Tree Gui at the left of the NetBeans 11 interface.</p>\n<p>If &quot;client_secrets.json&quot; is placed there in NetBeans 11, the file can be refereced via</p>\n<pre><code>this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;)\n</code></pre>\n<p>in the Java code (this took me several hours to figure out, hopefully this saves someone some effort.)</p>\n<p>Thanks again Shila! You're the hero of the day.</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77106015,"answer_count":2,"score":0,"last_activity_date":1694702506,"creation_date":1691749524,"question_id":76882694,"body_markdown":"I have the following Java code to try and get a single metric from GA4 using the GA4 Java bindings / classes:\r\n\r\n```\r\nString propertyId = &quot;123123123&quot;;\r\n\r\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\r\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\r\n\r\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\r\n\r\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\r\n\r\nRunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\r\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\r\n                    addDateRanges(DateRange.newBuilder().\r\n                            setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;)).build();\r\n\r\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\r\n```\r\n\r\nThis results in an exception in the RunReportResponse generation, e. g.\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\r\n```\r\n\r\n**How can I get sufficient authentication scope?**\r\n\r\nI have so far\r\n\r\n - Confirmed, reconfirmed and confirmed again my PropertID passed in code is for the correct GA4 property.\r\n - Confirmed, reconfirmed and confirmed again that the GA4 account in which this PropertyID resides is in fact the account implied by my client_secrets.json downloaded from the GA4 web interface, via the Serivce Account implied in the client_secrets.json file, via the client_email field.\r\n - Confirmed, reconfirmed and confirmed again that the GA4 Service Account implied by my client_secrets.json file is, in fact, the GA4 service account associated with this Account and Property I am referencing, in the GA4 web interface.\r\n - Confirmed, reconfirmed and confirmed again that the Account referenced and Property referenced\r\nin code above have full administrator privileges active in the GA4 web interface.\r\n\r\nAny ideas or pointers?\r\n\r\nI&#39;ve worked through every GUI option I can find, I have full admin permissions set for the GA4 Account and Property, and using the GA4 GUI I can SEE the properties are there, data is accumulating, etc. - everything is working EXCEPT the API.\r\n\r\nThe issue is incredibly common and I&#39;ve worked through several posts about this, but there is  simply no resolution.\r\n\r\nI&#39;ve also tried downgrading each permission for both the Account and Property, and upgrading them in all possible combinations, keep getting\r\n\r\n```\r\ncom.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scope\r\n```\r\n\r\nWhat am I doing wrong? Is there something wrong with the code above?\r\n\r\nThanks","title":"Google Analytics 4 API - service account has full admin privileges - still PERMISSION DENIED to all API calls","body":"<p>I have the following Java code to try and get a single metric from GA4 using the GA4 Java bindings / classes:</p>\n<pre><code>String propertyId = &quot;123123123&quot;;\n\nGoogleCredentials gc = ServiceAccountCredentials.fromStream(this.getClass().getResourceAsStream(&quot;/client_secrets.json&quot;))\n                    .createScoped(Collections.singletonList(StorageScopes.DEVSTORAGE_FULL_CONTROL));\n\n            BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings.newBuilder().setCredentialsProvider(FixedCredentialsProvider.create(gc)).build();\n\n            BetaAnalyticsDataClient betaAnalyticsDataClient = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings);\n\nRunReportRequest request = RunReportRequest.newBuilder().setProperty(&quot;properties/&quot; + propertyId).\n                    addMetrics(Metric.newBuilder().setName(&quot;active7DayUsers&quot;)).\n                    addDateRanges(DateRange.newBuilder().\n                            setStartDate(&quot;2023-07-31&quot;).setEndDate(&quot;today&quot;)).build();\n\n            RunReportResponse response = betaAnalyticsDataClient.runReport(request);\n</code></pre>\n<p>This results in an exception in the RunReportResponse generation, e. g.</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scopes\n</code></pre>\n<p><strong>How can I get sufficient authentication scope?</strong></p>\n<p>I have so far</p>\n<ul>\n<li>Confirmed, reconfirmed and confirmed again my PropertID passed in code is for the correct GA4 property.</li>\n<li>Confirmed, reconfirmed and confirmed again that the GA4 account in which this PropertyID resides is in fact the account implied by my client_secrets.json downloaded from the GA4 web interface, via the Serivce Account implied in the client_secrets.json file, via the client_email field.</li>\n<li>Confirmed, reconfirmed and confirmed again that the GA4 Service Account implied by my client_secrets.json file is, in fact, the GA4 service account associated with this Account and Property I am referencing, in the GA4 web interface.</li>\n<li>Confirmed, reconfirmed and confirmed again that the Account referenced and Property referenced\nin code above have full administrator privileges active in the GA4 web interface.</li>\n</ul>\n<p>Any ideas or pointers?</p>\n<p>I've worked through every GUI option I can find, I have full admin permissions set for the GA4 Account and Property, and using the GA4 GUI I can SEE the properties are there, data is accumulating, etc. - everything is working EXCEPT the API.</p>\n<p>The issue is incredibly common and I've worked through several posts about this, but there is  simply no resolution.</p>\n<p>I've also tried downgrading each permission for both the Account and Property, and upgrading them in all possible combinations, keep getting</p>\n<pre><code>com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Request had insufficient authentication scope\n</code></pre>\n<p>What am I doing wrong? Is there something wrong with the code above?</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1694702338,"post_id":77105835,"comment_id":135928771,"body_markdown":"“…it doesn&#39;t work as expected.”  How can you tell?  What were you expecting to see?  What did you see instead?  Did you encounter an exception?","body":"“…it doesn&#39;t work as expected.”  How can you tell?  What were you expecting to see?  What did you see instead?  Did you encounter an exception?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1694704638,"post_id":77105835,"comment_id":135929312,"body_markdown":"Instead of `System.out.println(&quot;The Switch is Unsuccessful &quot; + e);`, try `e.printStackTrace();` - it may give you more information. You can always `System.out.println` (or `System.err.println`) your own message before the stack trace. Even better than both (but requires a bit more effort), use logging.","body":"Instead of <code>System.out.println(&quot;The Switch is Unsuccessful &quot; + e);</code>, try <code>e.printStackTrace();</code> - it may give you more information. You can always <code>System.out.println</code> (or <code>System.err.println</code>) your own message before the stack trace. Even better than both (but requires a bit more effort), use logging."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1694710387,"post_id":77105835,"comment_id":135930472,"body_markdown":"Get the complete stack trace (as suggested in an earlier comment), and post it, formatted as code, in the question.","body":"Get the complete stack trace (as suggested in an earlier comment), and post it, formatted as code, in the question."},{"owner":{"account_id":7122142,"reputation":554,"user_id":5446381,"display_name":"Florian Kirmaier"},"score":0,"creation_date":1694788474,"post_id":77105835,"comment_id":135941447,"body_markdown":"This is not related to the Switching of the scene. The problem is the loading of FXML.","body":"This is not related to the Switching of the scene. The problem is the loading of FXML."}],"owner":{"account_id":29442952,"reputation":1,"user_id":22560804,"display_name":"Philip Housden"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694702278,"creation_date":1694701385,"question_id":77105835,"body_markdown":"I&#39;m working on a JavaFX application, and I&#39;m encountering an issue where I&#39;m unable to switch scenes from main-view.fxml to imported-page.fxml. I&#39;ve tried several approaches, but none of them seem to work.\r\n\r\nHere&#39;s a simplified version of my code:\r\n\r\n    // Setting OnDragDropped\r\n        importPane.setOnDragDropped(event -&gt; {\r\n            Dragboard db = event.getDragboard();\r\n            boolean success = false;\r\n            if (db.hasFiles()) {\r\n                success = true;\r\n                // Handle the dropped files here\r\n                for (File file : db.getFiles()) {\r\n                    // You can process the file here\r\n                    System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\r\n                    imagesFile.add(file.getAbsolutePath());\r\n                }\r\n                // After processing the files, switch to the imported-page.fxml scene\r\n                try {\r\n                    Parent root = FXMLLoader.load(getClass().getResource(&quot;/com/advanceprogramproject/imported-page.fxml&quot;));\r\n                    Scene scene = new Scene(root);\r\n                    Stage stage = (Stage) importPane.getScene().getWindow(); // Get the current stage\r\n                    stage.setScene(scene);\r\n                    stage.show();\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;The Switch is Unsuccessful &quot; + e);\r\n                }\r\n            }\r\n            event.setDropCompleted(success);\r\n            event.consume();\r\n        });\r\n\r\nI&#39;ve tried to switch scenes from MainViewController when a file is dropped onto the application window, but it doesn&#39;t work as expected. I&#39;ve also verified that the path to imported-page.fxml is correct.\r\n\r\nCan someone please help me identify the issue and provide guidance on how to switch scenes correctly in my JavaFX application?\r\n\r\n\r\nI&#39;ve already try to check the path and fx:id in fxml, which are correct. But the there&#39;s still error occur &quot; javafx.fxml.LoadException: &quot;. I wish that i could drop the file in the importPane and then its will goes to the next scene which is importPage and still have the file path store.","title":"Unable to switch scenes in JavaFX application","body":"<p>I'm working on a JavaFX application, and I'm encountering an issue where I'm unable to switch scenes from main-view.fxml to imported-page.fxml. I've tried several approaches, but none of them seem to work.</p>\n<p>Here's a simplified version of my code:</p>\n<pre><code>// Setting OnDragDropped\n    importPane.setOnDragDropped(event -&gt; {\n        Dragboard db = event.getDragboard();\n        boolean success = false;\n        if (db.hasFiles()) {\n            success = true;\n            // Handle the dropped files here\n            for (File file : db.getFiles()) {\n                // You can process the file here\n                System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\n                imagesFile.add(file.getAbsolutePath());\n            }\n            // After processing the files, switch to the imported-page.fxml scene\n            try {\n                Parent root = FXMLLoader.load(getClass().getResource(&quot;/com/advanceprogramproject/imported-page.fxml&quot;));\n                Scene scene = new Scene(root);\n                Stage stage = (Stage) importPane.getScene().getWindow(); // Get the current stage\n                stage.setScene(scene);\n                stage.show();\n            } catch (IOException e) {\n                System.out.println(&quot;The Switch is Unsuccessful &quot; + e);\n            }\n        }\n        event.setDropCompleted(success);\n        event.consume();\n    });\n</code></pre>\n<p>I've tried to switch scenes from MainViewController when a file is dropped onto the application window, but it doesn't work as expected. I've also verified that the path to imported-page.fxml is correct.</p>\n<p>Can someone please help me identify the issue and provide guidance on how to switch scenes correctly in my JavaFX application?</p>\n<p>I've already try to check the path and fx:id in fxml, which are correct. But the there's still error occur &quot; javafx.fxml.LoadException: &quot;. I wish that i could drop the file in the importPane and then its will goes to the next scene which is importPage and still have the file path store.</p>\n"},{"tags":["java","rest"],"owner":{"account_id":29385617,"reputation":1,"user_id":22515110,"display_name":"Sajith Potnuru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694702196,"creation_date":1694075718,"question_id":77057915,"body_markdown":"How can I register and get the authentication token for Swiggy via API?\r\n\r\nI tried using api-urls available online to register as a user and get an authentication token, however, I was unable to achieve it.\r\n\r\nI am expecting to share the process to register and get an Authentication token and know if we can explore the services that can be accessed with API calls.","title":"Access common services on Swiggy with APIs","body":"<p>How can I register and get the authentication token for Swiggy via API?</p>\n<p>I tried using api-urls available online to register as a user and get an authentication token, however, I was unable to achieve it.</p>\n<p>I am expecting to share the process to register and get an Authentication token and know if we can explore the services that can be accessed with API calls.</p>\n"},{"tags":["java","inheritance","actionlistener"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694540856,"post_id":77091470,"comment_id":135903693,"body_markdown":"Can you consider posting a [MRE](https://stackoverflow.com/help/minimal-reproducible-example) so this code could be run more easily?","body":"Can you consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> so this code could be run more easily?"},{"owner":{"account_id":29424840,"reputation":3,"user_id":22545809,"display_name":"Anusha Obadage"},"score":0,"creation_date":1694540864,"post_id":77091470,"comment_id":135903694,"body_markdown":"Forgot to add this: buttonFinish = new JButton(&quot;Finish&quot;);\n\t                       buttonCancel = new JButton(&quot;Cancel&quot;);","body":"Forgot to add this: buttonFinish = new JButton(&quot;Finish&quot;); \t                       buttonCancel = new JButton(&quot;Cancel&quot;);"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694540950,"post_id":77091470,"comment_id":135903715,"body_markdown":"Just edit the question and include this","body":"Just edit the question and include this"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694541222,"post_id":77091470,"comment_id":135903777,"body_markdown":"**Where** and **when** are you executing your `ClassCreator` constructor? if you provide this I could help.","body":"<b>Where</b> and <b>when</b> are you executing your <code>ClassCreator</code> constructor? if you provide this I could help."},{"owner":{"account_id":29424840,"reputation":3,"user_id":22545809,"display_name":"Anusha Obadage"},"score":0,"creation_date":1694542642,"post_id":77091470,"comment_id":135904038,"body_markdown":"@GrindingForReputation I have edited my question with a working code. Please help.","body":"@GrindingForReputation I have edited my question with a working code. Please help."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1694543385,"post_id":77091470,"comment_id":135904180,"body_markdown":"There are very few reasons to construct JDialogs manually when you can use JOptionPane&#39;s static functions","body":"There are very few reasons to construct JDialogs manually when you can use JOptionPane&#39;s static functions"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694548196,"creation_date":1694548196,"answer_id":77092272,"question_id":77091470,"body_markdown":"Not really sure what you are attempting to do. The ActionListener should be added to the button when you create the button. \r\n\r\nFor a general listener you can write the code like:\r\n\r\n    buttonCancel.addActionListener((e) -&gt;\r\n    {\r\n        JButton button = (JButton)e.getSource();\r\n        Window window = SwingUtilities.windowForComponent( button );\r\n        window.dispose();\r\n    });","title":"How to add an ActionListener in the child class for a component in the parent class in java","body":"<p>Not really sure what you are attempting to do. The ActionListener should be added to the button when you create the button.</p>\n<p>For a general listener you can write the code like:</p>\n<pre><code>buttonCancel.addActionListener((e) -&gt;\n{\n    JButton button = (JButton)e.getSource();\n    Window window = SwingUtilities.windowForComponent( button );\n    window.dispose();\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29424840,"reputation":3,"user_id":22545809,"display_name":"Anusha Obadage"},"score":0,"creation_date":1694693439,"post_id":77096879,"comment_id":135926548,"body_markdown":"This is exactly what I needed. Thank you for the answer.","body":"This is exactly what I needed. Thank you for the answer."}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694701984,"creation_date":1694606344,"answer_id":77096879,"question_id":77091470,"body_markdown":"The mistake your making in your code is using `super()`. Remember that a JDialog waits until it gets a response before continuing. So your listener is added *after* you close the JDialog. So try using this instead:-\r\n```\r\n...\r\npublic ClassCreator(){\r\n\tsuper();\r\n\tbuttonCancel.addActionListener((e)-&gt; jDialog.dispose());\r\n\tjDialog.setVisible(true);\r\n}\r\n...\r\n```\r\nMake sure you remove `jDialog.setVisible` from `DialogCreator` constructor.","title":"How to add an ActionListener in the child class for a component in the parent class in java","body":"<p>The mistake your making in your code is using <code>super()</code>. Remember that a JDialog waits until it gets a response before continuing. So your listener is added <em>after</em> you close the JDialog. So try using this instead:-</p>\n<pre><code>...\npublic ClassCreator(){\n    super();\n    buttonCancel.addActionListener((e)-&gt; jDialog.dispose());\n    jDialog.setVisible(true);\n}\n...\n</code></pre>\n<p>Make sure you remove <code>jDialog.setVisible</code> from <code>DialogCreator</code> constructor.</p>\n"}],"owner":{"account_id":29424840,"reputation":3,"user_id":22545809,"display_name":"Anusha Obadage"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77096879,"answer_count":2,"score":0,"last_activity_date":1694701984,"creation_date":1694540104,"question_id":77091470,"body_markdown":"I am programming a code editor in java and ran into a problem while trying to add an ActionListener to a button implemented in the parent class. The ActionListener implementation should be within the child class.    \r\n\r\nI have written the parent class DialogCreator and the child class ClassCreator this way.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    class DialogCreator extends JFrame implements ActionListener {\r\n    \r\n    \tprotected JButton buttonCancel;\r\n    \tprotected JDialog jDialog;\r\n    \r\n    \tpublic DialogCreator() {\r\n    \r\n    \t\t jDialog = new JDialog(this ,&quot;title&quot;, true);  \r\n    \t\t jDialog.setLayout(null);  \r\n    \t\t jDialog.setSize(400,400);  \r\n    \t\t \r\n    \t\t buttonCancel = new JButton(&quot;Cancel&quot;);\r\n    \t\t buttonCancel.setBounds(20,20,100,30);\r\n    \t\t\r\n    \t\t jDialog.add(buttonCancel);   \r\n    \t\t jDialog.setVisible(true);\r\n       \r\n    \t}\r\n    \t\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n        \r\n    \t}\r\n    }\r\n    class ClassCreator extends DialogCreator{\r\n    \t\r\n    \tpublic ClassCreator(){\r\n    \t\t\r\n    \t\tsuper();\r\n    \t    buttonCancel.addActionListener((e)-&gt;jDialog.dispose());\r\n    \t\t \r\n    \t}\r\n    }\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tnew ClassCreator();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nProgram compiled successfully and I expected to close the jDialog when I click on Cancel button. But nothing happened. So can you tell me where I did wrong. The ClassCreator is parent to multiple child class in my code.\r\n\r\n","title":"How to add an ActionListener in the child class for a component in the parent class in java","body":"<p>I am programming a code editor in java and ran into a problem while trying to add an ActionListener to a button implemented in the parent class. The ActionListener implementation should be within the child class.</p>\n<p>I have written the parent class DialogCreator and the child class ClassCreator this way.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nclass DialogCreator extends JFrame implements ActionListener {\n\n    protected JButton buttonCancel;\n    protected JDialog jDialog;\n\n    public DialogCreator() {\n\n         jDialog = new JDialog(this ,&quot;title&quot;, true);  \n         jDialog.setLayout(null);  \n         jDialog.setSize(400,400);  \n         \n         buttonCancel = new JButton(&quot;Cancel&quot;);\n         buttonCancel.setBounds(20,20,100,30);\n        \n         jDialog.add(buttonCancel);   \n         jDialog.setVisible(true);\n   \n    }\n    \n    public void actionPerformed(ActionEvent e) {\n    \n    }\n}\nclass ClassCreator extends DialogCreator{\n    \n    public ClassCreator(){\n        \n        super();\n        buttonCancel.addActionListener((e)-&gt;jDialog.dispose());\n         \n    }\n}\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        new ClassCreator();\n\n    }\n\n}\n</code></pre>\n<p>Program compiled successfully and I expected to close the jDialog when I click on Cancel button. But nothing happened. So can you tell me where I did wrong. The ClassCreator is parent to multiple child class in my code.</p>\n"},{"tags":["java","shell","intellij-idea","command-line","intellij-plugin"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1694701953,"post_id":77105912,"comment_id":135928689,"body_markdown":"What do you mean by &quot;IntelliJ command prompt&quot;?","body":"What do you mean by &quot;IntelliJ command prompt&quot;?"},{"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"score":0,"creation_date":1694702788,"post_id":77105912,"comment_id":135928872,"body_markdown":"I mean in the intelliJ Terminal","body":"I mean in the intelliJ Terminal"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1694702993,"post_id":77105912,"comment_id":135928924,"body_markdown":"IntelliJ IDEA terminal should work the same as your &quot;normal command prompt&quot;.","body":"IntelliJ IDEA terminal should work the same as your &quot;normal command prompt&quot;."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694704213,"post_id":77105912,"comment_id":135929213,"body_markdown":"What happens when you enter `ls -a` into the IntelliJ terminal?","body":"What happens when you enter <code>ls -a</code> into the IntelliJ terminal?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694719675,"post_id":77105912,"comment_id":135932087,"body_markdown":"@KiranKutte, the _Terminal_ window is _alt + f12_.","body":"@KiranKutte, the <i>Terminal</i> window is <i>alt + f12</i>."},{"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"score":0,"creation_date":1694761932,"post_id":77105912,"comment_id":135936363,"body_markdown":"ls -a\nGet-ChildItem : Parameter cannot be processed because the parameter name &#39;a&#39; is ambiguous. Possible matches include: -Attributes -Directory -File -Hidden -ReadOnly -System.\nAt line:1 char:4\n+ ls -a\n+    ~~\n    + CategoryInfo          : InvalidArgument: (:) [Get-ChildItem], ParameterBindingException\n    + FullyQualifiedErrorId : AmbiguousParameter,Microsoft.PowerShell.Commands.GetChildItemCommand","body":"ls -a Get-ChildItem : Parameter cannot be processed because the parameter name &#39;a&#39; is ambiguous. Possible matches include: -Attributes -Directory -File -Hidden -ReadOnly -System. At line:1 char:4 + ls -a +    ~~     + CategoryInfo          : InvalidArgument: (:) [Get-ChildItem], ParameterBindingException     + FullyQualifiedErrorId : AmbiguousParameter,Microsoft.PowerShell.Commands.GetChildIte&zwnj;&#8203;mCommand"},{"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"score":0,"creation_date":1694761951,"post_id":77105912,"comment_id":135936365,"body_markdown":"this error i am gettting when i run ls-a","body":"this error i am gettting when i run ls-a"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1694766860,"post_id":77105912,"comment_id":135937236,"body_markdown":"You are running a PowerShell prompt inside the Terminal window. PowerShell does not recognise `ls -a` because that&#39;s a Unix command. How are you managing to get `ls -a` to work from the command prompt? You must be running some other shell from the command prompt, such as Mingw/Git Bash. Run that shell from the IntelliJ terminal window too.","body":"You are running a PowerShell prompt inside the Terminal window. PowerShell does not recognise <code>ls -a</code> because that&#39;s a Unix command. How are you managing to get <code>ls -a</code> to work from the command prompt? You must be running some other shell from the command prompt, such as Mingw/Git Bash. Run that shell from the IntelliJ terminal window too."}],"owner":{"account_id":23784151,"reputation":17,"user_id":17796470,"display_name":"Kiran Kutte"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694701858,"creation_date":1694701858,"question_id":77105912,"body_markdown":"In Normal Command prompt, for &quot;ls -a&quot;, we will get all the files and Hidden files as well. But in IntelliJ Command prompt, how to do this? ","title":"How to check hidden files in IntelliJ","body":"<p>In Normal Command prompt, for &quot;ls -a&quot;, we will get all the files and Hidden files as well. But in IntelliJ Command prompt, how to do this?</p>\n"},{"tags":["java","dependencies","dependency-management"],"comments":[{"owner":{"account_id":4912160,"reputation":3605,"user_id":4210615,"display_name":"Artur Biesiadowski"},"score":0,"creation_date":1467192316,"post_id":38095187,"comment_id":63625694,"body_markdown":"Can you give us more specifics about what was your particular issue? Solving dependencies in most generic case is hard problem (and in my experience, things like OSGI just make it 10x more complicated), but there are some tricks to stay sane with medium sizes projects. Knowing particular situation can help to guide you (you have different situation when dealing with dependencies in open platform like eclipse+plugins compared to system fully developed in-house, which just has conflicting recursive dependencies)","body":"Can you give us more specifics about what was your particular issue? Solving dependencies in most generic case is hard problem (and in my experience, things like OSGI just make it 10x more complicated), but there are some tricks to stay sane with medium sizes projects. Knowing particular situation can help to guide you (you have different situation when dealing with dependencies in open platform like eclipse+plugins compared to system fully developed in-house, which just has conflicting recursive dependencies)"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1467192367,"post_id":38095187,"comment_id":63625730,"body_markdown":"the link that you provided shows 8 ways to solve this hell, doesn&#39;t it?","body":"the link that you provided shows 8 ways to solve this hell, doesn&#39;t it?"},{"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1467192527,"post_id":38095187,"comment_id":63625840,"body_markdown":"Actually I am asking how to avoid, not to solve after it happens (which is harder).","body":"Actually I am asking how to avoid, not to solve after it happens (which is harder)."},{"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1467192595,"post_id":38095187,"comment_id":63625893,"body_markdown":"@AndrewTobilko Yes it has some info. But I wonder if some one could give more expressive answer.","body":"@AndrewTobilko Yes it has some info. But I wonder if some one could give more expressive answer."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1467192398,"creation_date":1467192398,"answer_id":38095522,"question_id":38095187,"body_markdown":"First, use dependency manager like maven or gradle. No `lib` folder that contains third party jars, obviously no copying classes or *.java files from other project to yours. Sorry if this is obvious but I saw a lot of projects built using such technique. \r\n\r\n\r\nThe next phase however is optimization of dependencies. You can use library A and B that both use library C. It is fine if both use library C of the same version. The hell starts if they depend on different versions of library C. In most cases this does not cause any problem and you can be even not aware on this fact. However sometimes it may cause problems. To avoid this I&#39;d recommend you from time to time check the dependency tree of your project, find duplicates and if they exist use exclude instruction of your dependency manager to exclude older version. \r\n\r\nThis however can fail because, of incompatibility of these versions of the library. In this case there is no general way to solve the problem. Sometimes you have to downgrade one (or several) of your dependencies in order to make them to work together and wait for the newer version that uses newer version of library C (in our example). \r\n\r\nThe luck of java programmers in 2016 is that most of tools are typically open source and a lot of them are available for contributions (e.g. via github), so sometimes you can contribute your fix and help yourself and to  other developers to get newer version faster. ","title":"What are the preferred steps to avoid Dependency Hell in Java?","body":"<p>First, use dependency manager like maven or gradle. No <code>lib</code> folder that contains third party jars, obviously no copying classes or *.java files from other project to yours. Sorry if this is obvious but I saw a lot of projects built using such technique. </p>\n\n<p>The next phase however is optimization of dependencies. You can use library A and B that both use library C. It is fine if both use library C of the same version. The hell starts if they depend on different versions of library C. In most cases this does not cause any problem and you can be even not aware on this fact. However sometimes it may cause problems. To avoid this I'd recommend you from time to time check the dependency tree of your project, find duplicates and if they exist use exclude instruction of your dependency manager to exclude older version. </p>\n\n<p>This however can fail because, of incompatibility of these versions of the library. In this case there is no general way to solve the problem. Sometimes you have to downgrade one (or several) of your dependencies in order to make them to work together and wait for the newer version that uses newer version of library C (in our example). </p>\n\n<p>The luck of java programmers in 2016 is that most of tools are typically open source and a lot of them are available for contributions (e.g. via github), so sometimes you can contribute your fix and help yourself and to  other developers to get newer version faster. </p>\n"},{"tags":[],"owner":{"account_id":10427995,"reputation":41,"user_id":7688649,"display_name":"Igor Ramazanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694701401,"creation_date":1694701401,"answer_id":77105838,"question_id":38095187,"body_markdown":"To avoid a dependency hell in the JVM world:\r\n1. Do not include unnecessary dependencies. Find out if there is anything for your build tool to show unused dependencies and remove them.\r\n2. Explicitly declare all transitive dependencies necessary for compilation in your build and lock their versions to avoid surprises in the future.\r\n3. Have a discipline marking dependencies&#39; scope in the build: `compile | runtime | provided | test`.\r\n\r\nIn the end you will end up with a list of *all* dependencies for your project and their versions. No surprises, you get what you see and will have a control over environment.\r\n\r\nIt will be much-much easier if you would find plugins/tools for your build tool of choice.\r\n\r\nTo enforce the discipline, add the next rules to the CI:\r\n1. Fail a CI pipeline if there are unused dependencies.\r\n2. Fail a CI pipeline if there are undeclared transitive dependencies. \r\n\r\nFor example, a quick searching gave me:\r\n\r\nSBT: https://github.com/cb372/sbt-explicit-dependencies\r\n\r\nGradle: https://github.com/autonomousapps/dependency-analysis-android-gradle-plugin","title":"What are the preferred steps to avoid Dependency Hell in Java?","body":"<p>To avoid a dependency hell in the JVM world:</p>\n<ol>\n<li>Do not include unnecessary dependencies. Find out if there is anything for your build tool to show unused dependencies and remove them.</li>\n<li>Explicitly declare all transitive dependencies necessary for compilation in your build and lock their versions to avoid surprises in the future.</li>\n<li>Have a discipline marking dependencies' scope in the build: <code>compile | runtime | provided | test</code>.</li>\n</ol>\n<p>In the end you will end up with a list of <em>all</em> dependencies for your project and their versions. No surprises, you get what you see and will have a control over environment.</p>\n<p>It will be much-much easier if you would find plugins/tools for your build tool of choice.</p>\n<p>To enforce the discipline, add the next rules to the CI:</p>\n<ol>\n<li>Fail a CI pipeline if there are unused dependencies.</li>\n<li>Fail a CI pipeline if there are undeclared transitive dependencies.</li>\n</ol>\n<p>For example, a quick searching gave me:</p>\n<p>SBT: <a href=\"https://github.com/cb372/sbt-explicit-dependencies\" rel=\"nofollow noreferrer\">https://github.com/cb372/sbt-explicit-dependencies</a></p>\n<p>Gradle: <a href=\"https://github.com/autonomousapps/dependency-analysis-android-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/autonomousapps/dependency-analysis-android-gradle-plugin</a></p>\n"}],"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38095522,"answer_count":2,"score":5,"last_activity_date":1694701401,"creation_date":1467191675,"question_id":38095187,"body_markdown":"Recently I was in a pretty much trouble with a [dependency hell][1] problem in Java.\r\nAre there any proper set of procedures to avoid it in future?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_hell","title":"What are the preferred steps to avoid Dependency Hell in Java?","body":"<p>Recently I was in a pretty much trouble with a <a href=\"https://en.wikipedia.org/wiki/Dependency_hell\" rel=\"noreferrer\">dependency hell</a> problem in Java.\nAre there any proper set of procedures to avoid it in future?</p>\n"},{"tags":["java","intellij-idea","code-coverage","record","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1694697031,"post_id":77105210,"comment_id":135927434,"body_markdown":"*&quot;It is a culture question, not an issue.&quot;* - Therefore ... opinion-based.  *&quot;My question is, what do Intellij coverage expect me to cover here?&quot;* - Try it and see.","body":"<i>&quot;It is a culture question, not an issue.&quot;</i> - Therefore ... opinion-based.  <i>&quot;My question is, what do Intellij coverage expect me to cover here?&quot;</i> - Try it and see."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1694697326,"post_id":77105210,"comment_id":135927512,"body_markdown":"No ... Intellij is a software tool.  It doesn&#39;t have &quot;culture&quot;.   Perhaps the problem is that you don&#39;t know what the word means.   But anyway, the answer to the (real) question you are asking is to try it yourself.  Write a `record`, and some code that uses it in a test and see what coverage is reported by Intellij.  Then &gt;you&lt; decide whether &gt;you&lt; think the coverage reporting behavior is what &gt;you&lt; need.","body":"No ... Intellij is a software tool.  It doesn&#39;t have &quot;culture&quot;.   Perhaps the problem is that you don&#39;t know what the word means.   But anyway, the answer to the (real) question you are asking is to try it yourself.  Write a <code>record</code>, and some code that uses it in a test and see what coverage is reported by Intellij.  Then &gt;you&lt; decide whether &gt;you&lt; think the coverage reporting behavior is what &gt;you&lt; need."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1694698157,"post_id":77105210,"comment_id":135927726,"body_markdown":"Asking us whether we think Intellij&#39;s behavior is useful IS an opinion question ... and won&#39;t achieve anything.  Asking us what Intellij &quot;expects&quot; ... you can answer for yourself, by trying it out for yourself.  It will &gt;tell&lt; you what it expects.   And anyway, coverage stats should not determine how you write your tests.  The tests should be designed to identify potential bugs.  Coverage stats are a means to an end, not an end in themselves.","body":"Asking us whether we think Intellij&#39;s behavior is useful IS an opinion question ... and won&#39;t achieve anything.  Asking us what Intellij &quot;expects&quot; ... you can answer for yourself, by trying it out for yourself.  It will &gt;tell&lt; you what it expects.   And anyway, coverage stats should not determine how you write your tests.  The tests should be designed to identify potential bugs.  Coverage stats are a means to an end, not an end in themselves."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694699118,"post_id":77105210,"comment_id":135927949,"body_markdown":"The question is not about whether it is good or bad to test or to coverage. The question is about why Intellij determines some classes needs to be  covered and some not. I do not want to test that or coverage that, I just want to know why is there &quot;0% classes, 0% lines covered&quot; (implying there are things to cover) on some classes and nothing on others (implying there is nothing to cover here) I will add pictures but I&#39;m sure mighty moderators will tell me its forbidden. And yes &quot;culture&quot; may not have the same signification as in French &quot;culture&quot; word, sorry for that.","body":"The question is not about whether it is good or bad to test or to coverage. The question is about why Intellij determines some classes needs to be  covered and some not. I do not want to test that or coverage that, I just want to know why is there &quot;0% classes, 0% lines covered&quot; (implying there are things to cover) on some classes and nothing on others (implying there is nothing to cover here) I will add pictures but I&#39;m sure mighty moderators will tell me its forbidden. And yes &quot;culture&quot; may not have the same signification as in French &quot;culture&quot; word, sorry for that."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":3,"creation_date":1694700233,"post_id":77105210,"comment_id":135928242,"body_markdown":"@StephenC How IntelliJ determines percent of code coverage and why it&#39;s showing 0% coverage is a valid, answerable question about how to use a programming tool IMO. I&#39;d be interested to see the answer to this too, actually - I&#39;ve truthfully never thought about the specifics of this kind of question.","body":"@StephenC How IntelliJ determines percent of code coverage and why it&#39;s showing 0% coverage is a valid, answerable question about how to use a programming tool IMO. I&#39;d be interested to see the answer to this too, actually - I&#39;ve truthfully never thought about the specifics of this kind of question."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1694703867,"post_id":77105210,"comment_id":135929124,"body_markdown":"A general rule about unit tests is that the accessor methods of data objects don’t need to be unit tested.  (I could swear a list of recommended practices used to be on junit.org, but the closest thing I can find is [this](https://javarevisited.blogspot.com/2012/08/best-practices-to-write-junit-test.html#axzz8DIWalSLD).)  Records are data objects by definition, so I would say that IntelliJ should not be considering any default methods of records as needing code coverage.","body":"A general rule about unit tests is that the accessor methods of data objects don’t need to be unit tested.  (I could swear a list of recommended practices used to be on junit.org, but the closest thing I can find is <a href=\"https://javarevisited.blogspot.com/2012/08/best-practices-to-write-junit-test.html#axzz8DIWalSLD\" rel=\"nofollow noreferrer\">this</a>.)  Records are data objects by definition, so I would say that IntelliJ should not be considering any default methods of records as needing code coverage."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694704594,"post_id":77105210,"comment_id":135929302,"body_markdown":"Hello @VGR, thank you , that is what I thought. Empty record only defining fields should not be marked as &quot;potential to cover&quot; because there is nothing to cover. This is not an opinion, if there is nothing to test or cover, then Intellij should not mark the class . I will open an issue on jetbrains","body":"Hello @VGR, thank you , that is what I thought. Empty record only defining fields should not be marked as &quot;potential to cover&quot; because there is nothing to cover. This is not an opinion, if there is nothing to test or cover, then Intellij should not mark the class . I will open an issue on jetbrains"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1694746822,"post_id":77105210,"comment_id":135934856,"body_markdown":"It is an opinion.  SOME people think that accessor methods DO need to be tested and will expend developer effort make it happen.  (I disagree with them ... but they ARE entitled to that opinion.)","body":"It is an opinion.  SOME people think that accessor methods DO need to be tested and will expend developer effort make it happen.  (I disagree with them ... but they ARE entitled to that opinion.)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1694776486,"post_id":77105210,"comment_id":135938984,"body_markdown":"Most coverage tools work by mapping bytecode instructions back to line numbers. A quick test revealed that common compilers do indeed provide `LineNumberTable` attributes, mapping `record` constructor and all methods to the same line number, the one containing the record declaration. Since that makes only one line to cover, I suppose, just calling the constructor would be enough to consider 100% covered—at least JaCoCo behaves that way. Just check whether IntelliJ does the same. The coverage calculation algorithms are not very sophisticated. Neither do these tools understand test worthiness.","body":"Most coverage tools work by mapping bytecode instructions back to line numbers. A quick test revealed that common compilers do indeed provide <code>LineNumberTable</code> attributes, mapping <code>record</code> constructor and all methods to the same line number, the one containing the record declaration. Since that makes only one line to cover, I suppose, just calling the constructor would be enough to consider 100% covered—at least JaCoCo behaves that way. Just check whether IntelliJ does the same. The coverage calculation algorithms are not very sophisticated. Neither do these tools understand test worthiness."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694783210,"post_id":77105210,"comment_id":135940303,"body_markdown":"What is strange in this calculation of LineNumberTable is that record with one line is marked as potential for cover, but a class with dozens of getters/setters, constructors added wit Lombok (implying dozens of real code lines), there is no potential for cover for the tool, and the class is not marked. As if it was aware of lombok context, and decided all this lines were not worthy of covering. I can&#39;t say if bug or due to no recent update to correctly manage record in such tool.","body":"What is strange in this calculation of LineNumberTable is that record with one line is marked as potential for cover, but a class with dozens of getters/setters, constructors added wit Lombok (implying dozens of real code lines), there is no potential for cover for the tool, and the class is not marked. As if it was aware of lombok context, and decided all this lines were not worthy of covering. I can&#39;t say if bug or due to no recent update to correctly manage record in such tool."},{"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"score":0,"creation_date":1694783396,"post_id":77105210,"comment_id":135940342,"body_markdown":"But &quot;strange&quot; is an opinion, I think the subject can now be closed, without further explanation added by the jetbrains team","body":"But &quot;strange&quot; is an opinion, I think the subject can now be closed, without further explanation added by the jetbrains team"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694789177,"post_id":77105210,"comment_id":135941586,"body_markdown":"Looking at the image: Both DTO classes likely don&#39;t have any logic: they might be records without logic or Lombok-generated classes (impossible to say without seeing the code). The last class sounds like a class with real logic, `XmlParser`: I&#39;m sure there&#39;s plenty of logic to meaningfully test (again, impossible to say without seeing the code). I&#39;ll leave this as a comment and not an answer, because this is all just guessing. This question is basically unanswerable","body":"Looking at the image: Both DTO classes likely don&#39;t have any logic: they might be records without logic or Lombok-generated classes (impossible to say without seeing the code). The last class sounds like a class with real logic, <code>XmlParser</code>: I&#39;m sure there&#39;s plenty of logic to meaningfully test (again, impossible to say without seeing the code). I&#39;ll leave this as a comment and not an answer, because this is all just guessing. This question is basically unanswerable"},{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1695043009,"post_id":77105210,"comment_id":135967294,"body_markdown":"you can try switch to a jacoco runner as I think they were filtering out accessors, see https://github.com/jacoco/jacoco/issues/1215 and https://www.jetbrains.com/help/idea/running-test-with-coverage.html#5aaefe9","body":"you can try switch to a jacoco runner as I think they were filtering out accessors, see <a href=\"https://github.com/jacoco/jacoco/issues/1215\" rel=\"nofollow noreferrer\">github.com/jacoco/jacoco/issues/1215</a> and <a href=\"https://www.jetbrains.com/help/idea/running-test-with-coverage.html#5aaefe9\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/running-test-with-coverage.html#5aae&zwnj;&#8203;fe9</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1695313406,"post_id":77105210,"comment_id":136010896,"body_markdown":"As said, the `LineNumberTable` attributes matters. If Lombok doesn’t generate line numbers for the generated members, the code coverage tool will treat them as “not worth covering” because it can’t measure how much they’re covered. It may also consider “synthetic” methods as “not worth covering”, though as far as I know, this heuristic has been dropped with Java&#160;8, because lambda expression bodies are compiled into synthetic methods but have associated source code lines. You may use `javap -v -c …` to check how the compiled code looks like.","body":"As said, the <code>LineNumberTable</code> attributes matters. If Lombok doesn’t generate line numbers for the generated members, the code coverage tool will treat them as “not worth covering” because it can’t measure how much they’re covered. It may also consider “synthetic” methods as “not worth covering”, though as far as I know, this heuristic has been dropped with Java 8, because lambda expression bodies are compiled into synthetic methods but have associated source code lines. You may use <code>javap -v -c …</code> to check how the compiled code looks like."}],"owner":{"account_id":9470339,"reputation":62,"user_id":7041365,"display_name":"floxcc"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1694701218,"creation_date":1694696935,"question_id":77105210,"body_markdown":"I was doing some junit testing in my codebase and found that Intellij is marking all my simple Record classes as 0% covered\r\n\r\nI have a simple record that looks like this :\r\n\r\n```\r\npublic record ProcessRequestDTO(String path) {\r\n    // NOTHING HERE\r\n}\r\n```\r\n\r\nMy question is, what do Intellij coverage expect me to cover here ? Constructor ? Getters/Setters ? if the latters are true, why is non-record classes annotated with @Getter, @Setter, @AllArgsConstrusctor are not even detected as to be covered ? (see next code)\r\n\r\nI can&#39;t use jacoco right now so I&#39;m expecting an answer for the default Intellij coverage tool.\r\n\r\n```\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Other{\r\n    private File file;\r\n}\r\n// This class is not even added to the coverage pool\r\n```\r\n\r\nEdit, as this subject is not clear, I add this images which represents classes marked as &#39;nothing to cover&#39; and classes marked as &quot;potential for coverage here&quot;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h2Wst.png","title":"What needs to be covered in a java record","body":"<p>I was doing some junit testing in my codebase and found that Intellij is marking all my simple Record classes as 0% covered</p>\n<p>I have a simple record that looks like this :</p>\n<pre><code>public record ProcessRequestDTO(String path) {\n    // NOTHING HERE\n}\n</code></pre>\n<p>My question is, what do Intellij coverage expect me to cover here ? Constructor ? Getters/Setters ? if the latters are true, why is non-record classes annotated with @Getter, @Setter, @AllArgsConstrusctor are not even detected as to be covered ? (see next code)</p>\n<p>I can't use jacoco right now so I'm expecting an answer for the default Intellij coverage tool.</p>\n<pre><code>\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Other{\n    private File file;\n}\n// This class is not even added to the coverage pool\n</code></pre>\n<p>Edit, as this subject is not clear, I add this images which represents classes marked as 'nothing to cover' and classes marked as &quot;potential for coverage here&quot;\n<a href=\"https://i.stack.imgur.com/h2Wst.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2Wst.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver","cucumber","gherkin"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694677241,"post_id":77102674,"comment_id":135923238,"body_markdown":"don&#39;t generate those values in that method. Even better, don&#39;t dynamically generate values at all. Depending on what is generated, you might get an other result, making your test fail","body":"don&#39;t generate those values in that method. Even better, don&#39;t dynamically generate values at all. Depending on what is generated, you might get an other result, making your test fail"},{"owner":{"account_id":29439003,"reputation":1,"user_id":22557366,"display_name":"Jabs"},"score":0,"creation_date":1694679913,"post_id":77102674,"comment_id":135923705,"body_markdown":"Hi @Stultuske, thanks for your suggestion. That&#39;s a great point and that&#39;ll make it more easier! However, the reason why I generated random values is because I wanted to test if the system is correctly capturing the values entered by the different users. But if it&#39;s too complex to be coded, I&#39;ll make the values static then. Thanks, again:)","body":"Hi @Stultuske, thanks for your suggestion. That&#39;s a great point and that&#39;ll make it more easier! However, the reason why I generated random values is because I wanted to test if the system is correctly capturing the values entered by the different users. But if it&#39;s too complex to be coded, I&#39;ll make the values static then. Thanks, again:)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694680110,"post_id":77102674,"comment_id":135923744,"body_markdown":"it&#39;s not really about &quot;difficulty&quot;, it&#39;s about creating a possibility where you don&#39;t notice you don&#39;t test all the scenario&#39;s, and where you test certain scenario&#39;s you shouldn&#39;t be (re-)testing","body":"it&#39;s not really about &quot;difficulty&quot;, it&#39;s about creating a possibility where you don&#39;t notice you don&#39;t test all the scenario&#39;s, and where you test certain scenario&#39;s you shouldn&#39;t be (re-)testing"}],"answers":[{"tags":[],"owner":{"account_id":15522859,"reputation":1,"user_id":11198572,"display_name":"Abhishek Tak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694700707,"creation_date":1694700680,"answer_id":77105738,"question_id":77102674,"body_markdown":"You can store all the details in an `ArrayList&lt;String&gt; arraylist` in enterRequiredAndOptionalDetails() method and pass this to the `verifyNewLeadDetailsInEmail(ArrayList&lt;String&gt; enteredDetails)` and then perform validation.\r\n","title":"How to get the values of the textfields from one method to another method in the same class?","body":"<p>You can store all the details in an <code>ArrayList&lt;String&gt; arraylist</code> in enterRequiredAndOptionalDetails() method and pass this to the <code>verifyNewLeadDetailsInEmail(ArrayList&lt;String&gt; enteredDetails)</code> and then perform validation.</p>\n"}],"owner":{"account_id":29439003,"reputation":1,"user_id":22557366,"display_name":"Jabs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694700707,"creation_date":1694676871,"question_id":77102674,"body_markdown":"This is for Selenium Webdriver.\r\n\r\nI have several methods inside the same class but I have these two methods that I need to connect(?)\r\n1. The first one is to enter values in a form\r\n2. The second one is to verify if the entered values are correctly displayed in the email template sent after submitting the form.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic void enterRequiredAndOptionalDetails(){\r\n\r\n        String randomFName = &quot;Tester&quot;+generateRandomAlpha(2);\r\n        String randomLName = &quot;Last&quot;+generateRandomAlpha(2);\r\n        String generatedEmail = randomFName+randomLName+&quot;@test.com&quot;;\r\n        String randomPhoneNum = &quot;045&quot;+generateRandomNumber(7);\r\n        String randomTimeToCall = generateRandomNumber(1)+&quot;am to &quot; + generateRandomNumber(1) + &quot;pm&quot;;\r\n        String randomComment = &quot;Hi, this is a sample comment&quot;+generateRandomAlpha(5);\r\n\r\n        sendKeys(Properties_Details_NewLeadModal_FirstName,randomFName);\r\n        sendKeys(Properties_Details_NewLeadModal_LastName,randomLName);\r\n        sendKeys(Properties_Details_NewLeadModal_Email,generatedEmail);\r\n        sendKeys(Properties_Details_NewLeadModal_Telephone,randomPhoneNum);\r\n        sendKeys(Properties_Details_NewLeadModal_PreferredTimeToCall,randomTimeToCall);\r\n        sendKeys(Properties_Details_NewLeadModal_Comment,randomComment);\r\n```\r\n\r\n\r\n```\r\npublic void verifyNewLeadDetailsInEmail(){\r\n        // I don&#39;t know how to use the entered values from the enterRequiredAndOptionalDetails().\r\n        // this is where I verify if the entered values from the enterRequiredAndOptionalDetails() matches the values sent in the email template.\r\n    }\r\n```\r\n\r\n\r\n\r\nI have tried creating a separate method to just store the values entered in the form, but still, I don&#39;t know how to use it in verifyNewLeadDetailsInEmail() method.","title":"How to get the values of the textfields from one method to another method in the same class?","body":"<p>This is for Selenium Webdriver.</p>\n<p>I have several methods inside the same class but I have these two methods that I need to connect(?)</p>\n<ol>\n<li>The first one is to enter values in a form</li>\n<li>The second one is to verify if the entered values are correctly displayed in the email template sent after submitting the form.</li>\n</ol>\n<p>Here's my code:</p>\n<pre><code>public void enterRequiredAndOptionalDetails(){\n\n        String randomFName = &quot;Tester&quot;+generateRandomAlpha(2);\n        String randomLName = &quot;Last&quot;+generateRandomAlpha(2);\n        String generatedEmail = randomFName+randomLName+&quot;@test.com&quot;;\n        String randomPhoneNum = &quot;045&quot;+generateRandomNumber(7);\n        String randomTimeToCall = generateRandomNumber(1)+&quot;am to &quot; + generateRandomNumber(1) + &quot;pm&quot;;\n        String randomComment = &quot;Hi, this is a sample comment&quot;+generateRandomAlpha(5);\n\n        sendKeys(Properties_Details_NewLeadModal_FirstName,randomFName);\n        sendKeys(Properties_Details_NewLeadModal_LastName,randomLName);\n        sendKeys(Properties_Details_NewLeadModal_Email,generatedEmail);\n        sendKeys(Properties_Details_NewLeadModal_Telephone,randomPhoneNum);\n        sendKeys(Properties_Details_NewLeadModal_PreferredTimeToCall,randomTimeToCall);\n        sendKeys(Properties_Details_NewLeadModal_Comment,randomComment);\n</code></pre>\n<pre><code>public void verifyNewLeadDetailsInEmail(){\n        // I don't know how to use the entered values from the enterRequiredAndOptionalDetails().\n        // this is where I verify if the entered values from the enterRequiredAndOptionalDetails() matches the values sent in the email template.\n    }\n</code></pre>\n<p>I have tried creating a separate method to just store the values entered in the form, but still, I don't know how to use it in verifyNewLeadDetailsInEmail() method.</p>\n"},{"tags":["java","android","webrtc","video-streaming","agora"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694733360,"post_id":77105728,"comment_id":135933914,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":14314651,"reputation":1,"user_id":10339786,"display_name":"fahim fahad fahim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694700619,"creation_date":1694700619,"question_id":77105728,"body_markdown":"I am broadcasting my live and join others channel fine. However I am looking forward to implement PK battle in my app. How do I broadcast live and join someone&#39;s channel at the same time? \r\n\r\nI tried to create 2 RtcEngine, But it seems to be static so I can create only one instance.\r\n\r\nWhat I am trying to do is Broadcast my live and Broadcast my friends live we both join each others channel and show both streams to other people at the same time? This sounds crazy but this is the only idea I have right now. Is there any other way? If not how do I implement this? ","title":"How to implement PK battle (like the one in likee app) using Agora?","body":"<p>I am broadcasting my live and join others channel fine. However I am looking forward to implement PK battle in my app. How do I broadcast live and join someone's channel at the same time?</p>\n<p>I tried to create 2 RtcEngine, But it seems to be static so I can create only one instance.</p>\n<p>What I am trying to do is Broadcast my live and Broadcast my friends live we both join each others channel and show both streams to other people at the same time? This sounds crazy but this is the only idea I have right now. Is there any other way? If not how do I implement this?</p>\n"},{"tags":["java","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1694615805,"post_id":77094915,"comment_id":135915110,"body_markdown":"Are you not able to achieve that using onRedelivery?","body":"Are you not able to achieve that using onRedelivery?"},{"owner":{"account_id":10399567,"reputation":1041,"user_id":7668336,"display_name":"Dinu Nicolae"},"score":0,"creation_date":1694686256,"post_id":77094915,"comment_id":135925077,"body_markdown":"No, It fires onRedelivery at the first retry(attempt 1), after 5 sec from the attempt 0. I want to do something immediately after attempt 0.","body":"No, It fires onRedelivery at the first retry(attempt 1), after 5 sec from the attempt 0. I want to do something immediately after attempt 0."}],"answers":[{"comments":[{"owner":{"account_id":10399567,"reputation":1041,"user_id":7668336,"display_name":"Dinu Nicolae"},"score":0,"creation_date":1694703217,"post_id":77105262,"comment_id":135928962,"body_markdown":"Just what I was searching for. Thanks!","body":"Just what I was searching for. Thanks!"}],"tags":[],"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694700536,"creation_date":1694697300,"answer_id":77105262,"question_id":77094915,"body_markdown":"Based on the requirement in the [comment][1] to perform action immediately after exception. you can use .onExceptionOccurred() processor, which executes immediately after exception, whereas onRedelivery() executes before retry. You can refer [docs][2] for more info.\r\n\r\n    ...\r\n    .onException(SomeException.class)\r\n    .onExceptionOccurred(e -&gt; {log()})\r\n    .maximumRedeliveries(3)\r\n    .redeliveryDelay(5000)\r\n    .onRedelivery(e -&gt; {log()})\r\n    .retryAttemptedLogLevel(WARN)\r\n    .process(e -&gt; {log()})\r\n    .handled(true);\r\n    ...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77094915/how-to-execute-an-action-in-onexception-block-before-onredelivery-in-camel?noredirect=1#comment135925077_77094915:~:text=No%2C%20It%20fires%20onRedelivery%20at%20the%20first%20retry(attempt%201)%2C%20after%205%20sec%20from%20the%20attempt%200.%20I%20want%20to%20do%20something%20immediately%20after%20attempt%200\r\n  [2]: https://camel.apache.org/manual/exception-clause.html#_using_onexceptionoccurred_processor","title":"How to execute an action in onException block before onRedelivery in camel?","body":"<p>Based on the requirement in the <a href=\"https://stackoverflow.com/questions/77094915/how-to-execute-an-action-in-onexception-block-before-onredelivery-in-camel?noredirect=1#comment135925077_77094915:%7E:text=No%2C%20It%20fires%20onRedelivery%20at%20the%20first%20retry(attempt%201)%2C%20after%205%20sec%20from%20the%20attempt%200.%20I%20want%20to%20do%20something%20immediately%20after%20attempt%200\">comment</a> to perform action immediately after exception. you can use .onExceptionOccurred() processor, which executes immediately after exception, whereas onRedelivery() executes before retry. You can refer <a href=\"https://camel.apache.org/manual/exception-clause.html#_using_onexceptionoccurred_processor\" rel=\"nofollow noreferrer\">docs</a> for more info.</p>\n<pre><code>...\n.onException(SomeException.class)\n.onExceptionOccurred(e -&gt; {log()})\n.maximumRedeliveries(3)\n.redeliveryDelay(5000)\n.onRedelivery(e -&gt; {log()})\n.retryAttemptedLogLevel(WARN)\n.process(e -&gt; {log()})\n.handled(true);\n...\n</code></pre>\n"}],"owner":{"account_id":10399567,"reputation":1041,"user_id":7668336,"display_name":"Dinu Nicolae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77105262,"answer_count":1,"score":0,"last_activity_date":1694700536,"creation_date":1694590097,"question_id":77094915,"body_markdown":"I have an onException block in a camel route. It looks like this:\r\n\r\n    ...\r\n    .onException(SomeException.class)\r\n    .maximumRedeliveries(3)\r\n    .redeliveryDelay(5000)\r\n    .onRedelivery(e -&gt; {log()})\r\n    .retryAttemptedLogLevel(WARN)\r\n    .process(e -&gt; {log()})\r\n    .handled(true)\r\n    ...\r\n\r\nThe problem is that the redeliveries are executed before the process.\r\nI would like to do something before retry. Is that possible? ","title":"How to execute an action in onException block before onRedelivery in camel?","body":"<p>I have an onException block in a camel route. It looks like this:</p>\n<pre><code>...\n.onException(SomeException.class)\n.maximumRedeliveries(3)\n.redeliveryDelay(5000)\n.onRedelivery(e -&gt; {log()})\n.retryAttemptedLogLevel(WARN)\n.process(e -&gt; {log()})\n.handled(true)\n...\n</code></pre>\n<p>The problem is that the redeliveries are executed before the process.\nI would like to do something before retry. Is that possible?</p>\n"},{"tags":["java","android","whatsapp","whatsapi"],"owner":{"account_id":24080507,"reputation":3,"user_id":18055234,"display_name":"Creator3301"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694700492,"creation_date":1694700492,"question_id":77105706,"body_markdown":"I am creating an android app with which you can send message to unsaved contacts in WhatsApp, WhatsApp Business and Telegram. This I do with the [wa.me](https://wa.me) link and the [t.me](https://t.me). link.\r\n\r\nI have got the solution for WhatsApp and Telegram but the problem is that I don&#39;t know how to get the [wa.me](https://wa.me) link for WhatsApp Business. This link works on both WhatsApp and The WhatsApp Business app. Whenever I click on this link, it redirects me to WhatsApp but not the Business app.\r\n\r\nI tried several different types of links. Two of them were:\r\n\r\n- https://wa.me/business/$PHONE_NUMBER$\r\n- https://api.whatsapp.com/send?phone=$PHONE_NUMBER$&amp;source=com.whatsapp.w4b\r\n\r\nHere $PHONE_NUMBER$ is the valid WhatsApp phone number of the person whom we want to contact.\r\n\r\nAnother approach I can think of is that I used the same [wa.me](https://wa.me) link for both Business and Normal but I will disguise one of the link by a URL Shortener. Then I will set it as the ***Open By Default*** link in one of the apps. But I don&#39;t know how can I do this through my app. It would great if you help me in this or suggest any other solution.\r\n\r\nThank You!","title":"wa.me link for WhatsApp Business?","body":"<p>I am creating an android app with which you can send message to unsaved contacts in WhatsApp, WhatsApp Business and Telegram. This I do with the <a href=\"https://wa.me\" rel=\"nofollow noreferrer\">wa.me</a> link and the <a href=\"https://t.me\" rel=\"nofollow noreferrer\">t.me</a>. link.</p>\n<p>I have got the solution for WhatsApp and Telegram but the problem is that I don't know how to get the <a href=\"https://wa.me\" rel=\"nofollow noreferrer\">wa.me</a> link for WhatsApp Business. This link works on both WhatsApp and The WhatsApp Business app. Whenever I click on this link, it redirects me to WhatsApp but not the Business app.</p>\n<p>I tried several different types of links. Two of them were:</p>\n<ul>\n<li><a href=\"https://wa.me/business/$PHONE_NUMBER$\" rel=\"nofollow noreferrer\">https://wa.me/business/$PHONE_NUMBER$</a></li>\n<li><a href=\"https://api.whatsapp.com/send?phone=$PHONE_NUMBER$&amp;source=com.whatsapp.w4b\" rel=\"nofollow noreferrer\">https://api.whatsapp.com/send?phone=$PHONE_NUMBER$&amp;source=com.whatsapp.w4b</a></li>\n</ul>\n<p>Here $PHONE_NUMBER$ is the valid WhatsApp phone number of the person whom we want to contact.</p>\n<p>Another approach I can think of is that I used the same <a href=\"https://wa.me\" rel=\"nofollow noreferrer\">wa.me</a> link for both Business and Normal but I will disguise one of the link by a URL Shortener. Then I will set it as the <em><strong>Open By Default</strong></em> link in one of the apps. But I don't know how can I do this through my app. It would great if you help me in this or suggest any other solution.</p>\n<p>Thank You!</p>\n"},{"tags":["java","spring-boot","rest","error-handling"],"comments":[{"owner":{"account_id":23779254,"reputation":1,"user_id":17792180,"display_name":"bartheme"},"score":0,"creation_date":1694702497,"post_id":77105699,"comment_id":135928801,"body_markdown":"I got error: Cannot invoke &quot;java.lang.Throwable.getMessage()&quot; because the return value of &quot;jakarta.servlet.http.HttpServletRequest.getAttribute(String)&quot; is null","body":"I got error: Cannot invoke &quot;java.lang.Throwable.getMessage()&quot; because the return value of &quot;jakarta.servlet.http.HttpServletRequest.getAttribute(String&zwnj;&#8203;)&quot; is null"}],"owner":{"account_id":23779254,"reputation":1,"user_id":17792180,"display_name":"bartheme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694700409,"creation_date":1694700409,"question_id":77105699,"body_markdown":"While playing with code, I created a custom exception ```LackOfBasicRecordsInDatabase``` and a constructor to pass a basic info-message. The issue is when I throw this exception and original string is null at the end of response.\r\nHere is the code:\r\n```java\r\n@ResponseStatus(value = HttpStatus.INSUFFICIENT_STORAGE)\r\npublic class LackOfBasicRecordsInDatabase extends RuntimeException{\r\n    public LackOfBasicRecordsInDatabase(String message){\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\nPlace where I throw error\r\n```\r\n@GetMapping\r\npublic ResponseEntity someMethod() {\r\n    if(...) throw new ResponseStatusException(HttpStatus.INSUFFICIENT_STORAGE, &quot;message&quot;);\r\n    if(...) throw new LackOfBasicRecordsInDatabase(&quot;pls pass this message&quot;);\r\n    ...\r\n    }\r\n```\r\n\r\nErrorController:\r\n```\r\n@RestController\r\npublic class MyErrorController implements ErrorController {\r\n\r\n    @RequestMapping(&quot;error&quot;)\r\n    public String handleError(Exception ex, HttpServletRequest request) {\r\n        String errorMessagePrefix = &quot;Congrats, You encountered &quot;;\r\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\r\n        String appendix = &quot;some error&quot;;\r\n        if (status != null) {\r\n            appendix = status.toString();\r\n        }\r\n        return errorMessagePrefix + appendix + &quot; &quot; + request.getAttribute(RequestDispatcher.ERROR_MESSAGE).toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThere is also ```server.error.include-message=always``` in ```application.properties```.\r\n\r\n\r\n\r\nThe response of ```ResponseStatusException``` with ```ErrorController```:\r\n```\r\nCongrats, You encountered 507 message\r\n```\r\n\r\nThe response of ```LackOfBasicRecordsInDatabase``` with ```ErrorController```:\r\n```\r\nCongrats, You encountered 507\r\n```\r\n\r\nThe response of ```LackOfBasicRecordsInDatabase``` without ```ErrorController```:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;...&quot;,\r\n    &quot;status&quot;: 507,\r\n    &quot;error&quot;: &quot;Insufficient Storage&quot;,\r\n    &quot;message&quot;: &quot;pls pass this message&quot;,\r\n    &quot;path&quot;: &quot;/somepath&quot;\r\n}\r\n```\r\n\r\nSo we see that ```ResponseStatusException``` message is passed correctly to ```ErrorController```,\r\nand ```LackOfBasicRecordsInDatabase``` message is not.\r\nWhat to do if I want to use ```LackOfBasicRecordsInDatabase``` class and pass it&#39;s message?\r\nWhen it is better to use  ```ResponseStatusException``` and when the custom one?","title":"@ResponseStatus annotated class that extends RuntimeException, overrides exception message","body":"<p>While playing with code, I created a custom exception <code>LackOfBasicRecordsInDatabase</code> and a constructor to pass a basic info-message. The issue is when I throw this exception and original string is null at the end of response.\nHere is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(value = HttpStatus.INSUFFICIENT_STORAGE)\npublic class LackOfBasicRecordsInDatabase extends RuntimeException{\n    public LackOfBasicRecordsInDatabase(String message){\n        super(message);\n    }\n}\n</code></pre>\n<p>Place where I throw error</p>\n<pre><code>@GetMapping\npublic ResponseEntity someMethod() {\n    if(...) throw new ResponseStatusException(HttpStatus.INSUFFICIENT_STORAGE, &quot;message&quot;);\n    if(...) throw new LackOfBasicRecordsInDatabase(&quot;pls pass this message&quot;);\n    ...\n    }\n</code></pre>\n<p>ErrorController:</p>\n<pre><code>@RestController\npublic class MyErrorController implements ErrorController {\n\n    @RequestMapping(&quot;error&quot;)\n    public String handleError(Exception ex, HttpServletRequest request) {\n        String errorMessagePrefix = &quot;Congrats, You encountered &quot;;\n        Object status = request.getAttribute(RequestDispatcher.ERROR_STATUS_CODE);\n        String appendix = &quot;some error&quot;;\n        if (status != null) {\n            appendix = status.toString();\n        }\n        return errorMessagePrefix + appendix + &quot; &quot; + request.getAttribute(RequestDispatcher.ERROR_MESSAGE).toString();\n    }\n}\n</code></pre>\n<p>There is also <code>server.error.include-message=always</code> in <code>application.properties</code>.</p>\n<p>The response of <code>ResponseStatusException</code> with <code>ErrorController</code>:</p>\n<pre><code>Congrats, You encountered 507 message\n</code></pre>\n<p>The response of <code>LackOfBasicRecordsInDatabase</code> with <code>ErrorController</code>:</p>\n<pre><code>Congrats, You encountered 507\n</code></pre>\n<p>The response of <code>LackOfBasicRecordsInDatabase</code> without <code>ErrorController</code>:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;...&quot;,\n    &quot;status&quot;: 507,\n    &quot;error&quot;: &quot;Insufficient Storage&quot;,\n    &quot;message&quot;: &quot;pls pass this message&quot;,\n    &quot;path&quot;: &quot;/somepath&quot;\n}\n</code></pre>\n<p>So we see that <code>ResponseStatusException</code> message is passed correctly to <code>ErrorController</code>,\nand <code>LackOfBasicRecordsInDatabase</code> message is not.\nWhat to do if I want to use <code>LackOfBasicRecordsInDatabase</code> class and pass it's message?\nWhen it is better to use  <code>ResponseStatusException</code> and when the custom one?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1694700374,"post_id":77105560,"comment_id":135928285,"body_markdown":"Huh, that&#39;s brilliant. This removes `Object` itself from autocomplete as well but I&#39;m not going to forget that exists and it&#39;s not hard to type. It works for me right now, I&#39;m on 4.27 though.","body":"Huh, that&#39;s brilliant. This removes <code>Object</code> itself from autocomplete as well but I&#39;m not going to forget that exists and it&#39;s not hard to type. It works for me right now, I&#39;m on 4.27 though."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1694700840,"post_id":77105560,"comment_id":135928390,"body_markdown":"Might be a regression that warrants opening an Issue.","body":"Might be a regression that warrants opening an Issue."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694702148,"post_id":77105560,"comment_id":135928732,"body_markdown":"Check the log. Was that a clean installation or an upgrade on existing one? Try starting with `-clean` switch or with a new workspace.","body":"Check the log. Was that a clean installation or an upgrade on existing one? Try starting with <code>-clean</code> switch or with a new workspace."},{"owner":{"account_id":1601230,"reputation":163,"user_id":1482213,"accept_rate":40,"display_name":"Giannis Krimitzas"},"score":0,"creation_date":1694702991,"post_id":77105560,"comment_id":135928921,"body_markdown":"I tested it in both. I upgraded my previous installation and, at the time I realized the issue, I made a clean new one redownloading the IDE. Neither of them worked as expected","body":"I tested it in both. I upgraded my previous installation and, at the time I realized the issue, I made a clean new one redownloading the IDE. Neither of them worked as expected"}],"owner":{"account_id":1601230,"reputation":163,"user_id":1482213,"accept_rate":40,"display_name":"Giannis Krimitzas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694700134,"creation_date":1694699349,"question_id":77105560,"body_markdown":"I have just uploaded Eclipse to 23-09 (4.29.0) version and it seems that I can&#39;t hide anymore the Object and Enum default methods from code completion.\r\n\r\nUp to now, I got it working by using the Type Filters preferences, adding the java.lang.Object and java.lang.Enum* filter names. It was working brilliantly, only showing the new methods I was adding in each class and enum.\r\n\r\nBut with the last update this doesn&#39;t seem to work. I have included a couple of photos to have a visualization aspect as well.\r\n\r\nCan you enlighten me?\r\n\r\n[![Code Completion][1]][1]\r\n\r\n[![Type Filters settings][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/smZLZ.png\r\n  [2]: https://i.stack.imgur.com/ofPm0.png","title":"How can I hide the Object and Enum methods from code completion?","body":"<p>I have just uploaded Eclipse to 23-09 (4.29.0) version and it seems that I can't hide anymore the Object and Enum default methods from code completion.</p>\n<p>Up to now, I got it working by using the Type Filters preferences, adding the java.lang.Object and java.lang.Enum* filter names. It was working brilliantly, only showing the new methods I was adding in each class and enum.</p>\n<p>But with the last update this doesn't seem to work. I have included a couple of photos to have a visualization aspect as well.</p>\n<p>Can you enlighten me?</p>\n<p><a href=\"https://i.stack.imgur.com/smZLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smZLZ.png\" alt=\"Code Completion\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ofPm0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofPm0.png\" alt=\"Type Filters settings\" /></a></p>\n"},{"tags":["java","json","spring","spring-mvc"],"comments":[{"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"score":0,"creation_date":1414693038,"post_id":26660030,"comment_id":41922871,"body_markdown":"Can you post the server side code(only api) because as per log it throws 500,so may be it&#39;s rest api issue?","body":"Can you post the server side code(only api) because as per log it throws 500,so may be it&#39;s rest api issue?"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1414693195,"post_id":26660030,"comment_id":41922977,"body_markdown":"Post the `@Controller` and `@RequestMapping` code.","body":"Post the <code>@Controller</code> and <code>@RequestMapping</code> code."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1414693278,"post_id":26660030,"comment_id":41923025,"body_markdown":"Is a **bad** practice have the instance variable how `public`, they must be `private`, that&#39;s why you are working with getter/setters.","body":"Is a <b>bad</b> practice have the instance variable how <code>public</code>, they must be <code>private</code>, that&#39;s why you are working with getter/setters."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1414693308,"post_id":26660030,"comment_id":41923048,"body_markdown":"instance variable names should start with lowercase, not with uppercase.","body":"instance variable names should start with lowercase, not with uppercase."},{"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"score":0,"creation_date":1414695079,"post_id":26660030,"comment_id":41924185,"body_markdown":"Since you are getting HTTP Status Code 500 then it means it is a server error, not client one.","body":"Since you are getting HTTP Status Code 500 then it means it is a server error, not client one."},{"owner":{"account_id":5256915,"reputation":23,"user_id":4199543,"display_name":"Hrishikesh"},"score":0,"creation_date":1414777954,"post_id":26660030,"comment_id":41960073,"body_markdown":"I got it.I was getting this 500 error because variables are declared public in info class. it must be private and it works..@ManuelJordan You&#39;r right.variable must be private.thnxs","body":"I got it.I was getting this 500 error because variables are declared public in info class. it must be private and it works..@ManuelJordan You&#39;r right.variable must be private.thnxs"},{"owner":{"account_id":5027683,"reputation":2632,"user_id":4038986,"display_name":"Qy Zuo"},"score":0,"creation_date":1474880129,"post_id":26660030,"comment_id":66695365,"body_markdown":"Possible duplicate of [Rest Template custom exception handling](http://stackoverflow.com/questions/21429899/rest-template-custom-exception-handling)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21429899/rest-template-custom-exception-handling\">Rest Template custom exception handling</a>"}],"answers":[{"tags":[],"owner":{"account_id":10379114,"reputation":11,"user_id":7654489,"display_name":"Naag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542966052,"creation_date":1542964854,"answer_id":53443752,"question_id":26660030,"body_markdown":"You can try the below code:\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Info {\r\n    \r\n    @JsonProperty(&quot;Id&quot;)\r\n        public String Id;\r\n    \r\n     @JsonProperty(&quot;Id&quot;)\r\n        public String Name;\r\n\r\n    public String getName() {\r\n        return Name;\r\n    }\r\n\r\n    public String getId() {\r\n        return Id;\r\n    }\r\n","title":"Spring RestTemplate Post getting 500 internal server error","body":"<p>You can try the below code:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Info {\n\n@JsonProperty(\"Id\")\n    public String Id;\n\n @JsonProperty(\"Id\")\n    public String Name;\n\npublic String getName() {\n    return Name;\n}\n\npublic String getId() {\n    return Id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618686915,"creation_date":1618686915,"answer_id":67142067,"question_id":26660030,"body_markdown":"Seems like you are not setting header properly Content-Type&#39; with &#39;application/json&#39;\r\n\r\n\r\n          HttpHeaders headers = new HttpHeaders();\r\n          headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n          HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(postBodyJson ,headers);\r\n          restTemplate.put(uRL, entity);\r\n","title":"Spring RestTemplate Post getting 500 internal server error","body":"<p>Seems like you are not setting header properly Content-Type' with 'application/json'</p>\n<pre><code>      HttpHeaders headers = new HttpHeaders();\n      headers.setContentType(MediaType.APPLICATION_JSON);\n\n      HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(postBodyJson ,headers);\n      restTemplate.put(uRL, entity);\n</code></pre>\n"}],"owner":{"account_id":5256915,"reputation":23,"user_id":4199543,"display_name":"Hrishikesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694700110,"creation_date":1414691636,"question_id":26660030,"body_markdown":"Hi I&#39;m new to Spring framework.I have written app which post object to RESTAPI using Resttemplate but i am getting this error\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    23:07:05.856 [main] DEBUG o.s.web.client.RestTemplate - Created POST request for\r\n      &quot;http://dummyurl.net/Index&quot;    \r\n    23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Setting request Accept\r\n      header to [application/json, application/*+json]\r\n    23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Writing\r\n      [org.hrishi.ConsumeReStApi.Info@727803de] as &quot;application/json&quot; using\r\n      [org.springframework.http.converter.json.MappingJacksonHttpMessageConverter@704921a5]\r\n    23:07:05.981 [main] WARN  o.s.web.client.RestTemplate - POST request for &quot;dummyurl.net&quot;\r\n     resulted in 500 (Internal Server Error); invoking error handler\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:94)\r\n    \tat org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:598)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:556)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:512)\r\n    \tat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:363)\r\n    \tat org.hrishi.ConsumeReStApi.App.main(App.java:35)\r\n\r\n**and this my code**\r\n\r\n   \r\n\r\n            String url=    &quot;http://dummyurl.net/Index&quot;;    \r\n        \tRestTemplate restTemplate = new RestTemplate();\r\n        \tMultiValueMap&lt;String, String&gt; headers =\tnew LinkedMultiValueMap&lt;String, String&gt;();\r\n        \theaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        \tInfo info1=new Info();\r\n        \tinfo1.Id=&quot;1711&quot;;\r\n        \tinfo1.Name=&quot;Hrishi&quot;;\r\n        \tHttpEntity&lt;Info&gt; HReq=new HttpEntity&lt;Info&gt;(info1,headers);\r\n        \tResponseEntity&lt;Info&gt; info = restTemplate.postForEntity(url, HReq, Info.class);\r\n        \tSystem.out.print(&quot;id : &quot;+info.getBody());\r\n\r\n\r\n**and this is request object**\r\n\r\n    public class Info {\r\n    \r\n        public String Id;\r\n        public String Name;\r\n        \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public String getId() {\r\n            return Id;\r\n        }\r\n    \r\n    }\r\n","title":"Spring RestTemplate Post getting 500 internal server error","body":"<p>Hi I'm new to Spring framework.I have written app which post object to RESTAPI using Resttemplate but i am getting this error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>23:07:05.856 [main] DEBUG o.s.web.client.RestTemplate - Created POST request for\n  \"http://dummyurl.net/Index\"    \n23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Setting request Accept\n  header to [application/json, application/*+json]\n23:07:05.887 [main] DEBUG o.s.web.client.RestTemplate - Writing\n  [org.hrishi.ConsumeReStApi.Info@727803de] as \"application/json\" using\n  [org.springframework.http.converter.json.MappingJacksonHttpMessageConverter@704921a5]\n23:07:05.981 [main] WARN  o.s.web.client.RestTemplate - POST request for \"dummyurl.net\"\n resulted in 500 (Internal Server Error); invoking error handler\nException in thread \"main\" org.springframework.web.client.HttpServerErrorException: 500 Internal Server Error\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:94)\n    at org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:598)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:556)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:512)\n    at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:363)\n    at org.hrishi.ConsumeReStApi.App.main(App.java:35)\n</code></pre>\n\n<p><strong>and this my code</strong></p>\n\n<pre><code>        String url=    \"http://dummyurl.net/Index\";    \n        RestTemplate restTemplate = new RestTemplate();\n        MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;String, String&gt;();\n        headers.add(\"Content-Type\", \"application/json\");\n        Info info1=new Info();\n        info1.Id=\"1711\";\n        info1.Name=\"Hrishi\";\n        HttpEntity&lt;Info&gt; HReq=new HttpEntity&lt;Info&gt;(info1,headers);\n        ResponseEntity&lt;Info&gt; info = restTemplate.postForEntity(url, HReq, Info.class);\n        System.out.print(\"id : \"+info.getBody());\n</code></pre>\n\n<p><strong>and this is request object</strong></p>\n\n<pre><code>public class Info {\n\n    public String Id;\n    public String Name;\n\n    public String getName() {\n        return Name;\n    }\n\n    public String getId() {\n        return Id;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","performance","variables","final"],"comments":[{"owner":{"account_id":182557,"reputation":608,"user_id":417345,"accept_rate":100,"display_name":"nolegs"},"score":1,"creation_date":1347463769,"post_id":12391455,"comment_id":16648917,"body_markdown":"See here: http://stackoverflow.com/questions/4279420/does-use-of-final-keyword-in-java-improve-the-performance","body":"See here: <a href=\"http://stackoverflow.com/questions/4279420/does-use-of-final-keyword-in-java-improve-the-performance\" title=\"does use of final keyword in java improve the performance\">stackoverflow.com/questions/4279420/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user1086498"},"score":0,"creation_date":1347464410,"post_id":12391587,"comment_id":16649199,"body_markdown":"With simulations/games, I have to start by doing it the efficient way, or I will spend more time later optimizing. At 60fps the effect can be geometric or even exponential of inefficiencies.","body":"With simulations/games, I have to start by doing it the efficient way, or I will spend more time later optimizing. At 60fps the effect can be geometric or even exponential of inefficiencies."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":1,"creation_date":1347464621,"post_id":12391587,"comment_id":16649284,"body_markdown":"@RiverC, with the JIT compiler in java, it is really something you cannot guess without measuring. Some of your premature optimizations can actually undermine the JIT compiler and make the result slower. It&#39;s fine to not wait until the final product is done, but you need to know what functions need to be executed so many times, and run them under test and actually measure performance.","body":"@RiverC, with the JIT compiler in java, it is really something you cannot guess without measuring. Some of your premature optimizations can actually undermine the JIT compiler and make the result slower. It&#39;s fine to not wait until the final product is done, but you need to know what functions need to be executed so many times, and run them under test and actually measure performance."},{"owner":{"display_name":"user1086498"},"score":0,"creation_date":1347464973,"post_id":12391587,"comment_id":16649453,"body_markdown":"I find the performance measurement under test to be somewhat useless, as in my experience, certain aspects end up varying too much between environments, and the actual performance is always slowed by the performance testing rig. In short, it is only good to examine orders of magnitude - i.e what parts take the most time of the total, not absolute metrics, which are always skewed by an unknown amount.","body":"I find the performance measurement under test to be somewhat useless, as in my experience, certain aspects end up varying too much between environments, and the actual performance is always slowed by the performance testing rig. In short, it is only good to examine orders of magnitude - i.e what parts take the most time of the total, not absolute metrics, which are always skewed by an unknown amount."},{"owner":{"display_name":"user1086498"},"score":0,"creation_date":1347465231,"post_id":12391587,"comment_id":16649607,"body_markdown":"To make a long story short, I would like actual universal constants to be as constant as they can be - since I will probably end up having to make that optimization at the end, why not do it now? The only reason I can see is if, as you&#39;ve said, my premature optimization hinders the optimization of the compiler itself. If the compiler can convert static final&#39;s into constants in actuality, then it&#39;s immaterial and I&#39;d rather use them.","body":"To make a long story short, I would like actual universal constants to be as constant as they can be - since I will probably end up having to make that optimization at the end, why not do it now? The only reason I can see is if, as you&#39;ve said, my premature optimization hinders the optimization of the compiler itself. If the compiler can convert static final&#39;s into constants in actuality, then it&#39;s immaterial and I&#39;d rather use them."},{"owner":{"display_name":"user1086498"},"score":0,"creation_date":1347468289,"post_id":12391587,"comment_id":16650895,"body_markdown":"After reading more thoroughly, it&#39;s evident that there *aren&#39;t* constants in a meaningful sense; it is up to the compiler. This is disappointing.","body":"After reading more thoroughly, it&#39;s evident that there <i>aren&#39;t</i> constants in a meaningful sense; it is up to the compiler. This is disappointing."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694699976,"creation_date":1347463627,"answer_id":12391587,"question_id":12391455,"body_markdown":"Java does have constant expressions. See [here][1] (link outdated, archived at [archive.org][2]) in the java language specification.\r\n\r\n    \r\n\r\n&gt; A compile-time constant expression is an expression denoting a value of primitive type or a `String` that does not complete abruptly and is composed using only the following:\r\n&gt; * Literals of primitive type and literals of type `String` (&#167;3.10.5)\r\n&gt; * Casts to primitive types and casts to type String\r\n&gt; * The unary operators `+`, `-`, `~`, and `!` (but not `++` or `--`)\r\n&gt; * The multiplicative operators `*`, `/`, and `%`\r\n&gt; * The additive operators `+` and `-`\r\n&gt; * The shift operators `&lt;&lt;`, `&gt;&gt;`, and `&gt;&gt;&gt;`\r\n&gt; * The relational operators `&lt;`, `&lt;=`, `&gt;`, and `&gt;=` (but not `instanceof`)\r\n&gt; * The equality operators `==` and `!=`\r\n&gt; * The bitwise and logical operators `&amp;`, `^`, and `|`\r\n&gt; * The conditional-and operator `&amp;&amp;` and the conditional-or operator `||`\r\n&gt; * The ternary conditional operator `? :`\r\n&gt; * Parenthesized expressions whose contained expression is a constant expression.\r\n&gt; * Simple names that refer to constant variables (&#167;4.12.4).\r\n&gt; * Qualified names of the form `TypeName` `.` `Identifier` that refer to constant variables (&#167;4.12.4).\r\n\r\nBut in Java, unlike C/C++, you also have a JIT compiler, so additional inlining is possible. So the bottom line is, don&#39;t worry about until you see a real performance problem.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\r\n  [2]: https://web.archive.org/web/20140305143835/http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>Java does have constant expressions. See <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\" rel=\"nofollow noreferrer\">here</a> (link outdated, archived at <a href=\"https://web.archive.org/web/20140305143835/http://docs.oracle.com/javase/specs/jls/se5.0/html/expressions.html#15.28\" rel=\"nofollow noreferrer\">archive.org</a>) in the java language specification.</p>\n<blockquote>\n<p>A compile-time constant expression is an expression denoting a value of primitive type or a <code>String</code> that does not complete abruptly and is composed using only the following:</p>\n<ul>\n<li>Literals of primitive type and literals of type <code>String</code> (§3.10.5)</li>\n<li>Casts to primitive types and casts to type String</li>\n<li>The unary operators <code>+</code>, <code>-</code>, <code>~</code>, and <code>!</code> (but not <code>++</code> or <code>--</code>)</li>\n<li>The multiplicative operators <code>*</code>, <code>/</code>, and <code>%</code></li>\n<li>The additive operators <code>+</code> and <code>-</code></li>\n<li>The shift operators <code>&lt;&lt;</code>, <code>&gt;&gt;</code>, and <code>&gt;&gt;&gt;</code></li>\n<li>The relational operators <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, and <code>&gt;=</code> (but not <code>instanceof</code>)</li>\n<li>The equality operators <code>==</code> and <code>!=</code></li>\n<li>The bitwise and logical operators <code>&amp;</code>, <code>^</code>, and <code>|</code></li>\n<li>The conditional-and operator <code>&amp;&amp;</code> and the conditional-or operator <code>||</code></li>\n<li>The ternary conditional operator <code>? :</code></li>\n<li>Parenthesized expressions whose contained expression is a constant expression.</li>\n<li>Simple names that refer to constant variables (§4.12.4).</li>\n<li>Qualified names of the form <code>TypeName</code> <code>.</code> <code>Identifier</code> that refer to constant variables (§4.12.4).</li>\n</ul>\n</blockquote>\n<p>But in Java, unlike C/C++, you also have a JIT compiler, so additional inlining is possible. So the bottom line is, don't worry about until you see a real performance problem.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347464243,"creation_date":1347464243,"answer_id":12391784,"question_id":12391455,"body_markdown":"Java does have constants that the Java compiler will replace with their values at compile-time. For example, member variables that are `final` and that are of type `String` are effectively constants which are replaced in this way. (This is allowed because class `String` is immutable). One of the consequences of this is that if you change the string in your source code, but you don&#39;t recompile the classes where this string is used, those classes will not see the new value of the string.\r\n\r\nThe JLS explains this in the following paragraphs:\r\n\r\n[4.12.4 `final` variables](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4)\r\n\r\n[13.4.9 `final` Fields and Constants](http://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html#jls-13.4.9)\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>Java does have constants that the Java compiler will replace with their values at compile-time. For example, member variables that are <code>final</code> and that are of type <code>String</code> are effectively constants which are replaced in this way. (This is allowed because class <code>String</code> is immutable). One of the consequences of this is that if you change the string in your source code, but you don't recompile the classes where this string is used, those classes will not see the new value of the string.</p>\n\n<p>The JLS explains this in the following paragraphs:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">4.12.4 <code>final</code> variables</a></p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-13.html#jls-13.4.9\" rel=\"nofollow noreferrer\">13.4.9 <code>final</code> Fields and Constants</a></p>\n"},{"comments":[{"owner":{"display_name":"user1086498"},"score":0,"creation_date":1347466066,"post_id":12391807,"comment_id":16650013,"body_markdown":"I&#39;d like to do something so that I don&#39;t have to rely on the compiler optimization, but rather simply do the most optimal thing immediately for certain values.","body":"I&#39;d like to do something so that I don&#39;t have to rely on the compiler optimization, but rather simply do the most optimal thing immediately for certain values."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1411668332,"post_id":12391807,"comment_id":40800420,"body_markdown":"&quot;Final fields are aimed to make immutable objects.&quot; No argument in principle, but I find this statement possibly misleading.  It is wrong to say that just because a field is `final` that its data is immutable.  Reference types indicated by `final` variables are still mutable except in the special case that the referenced object is itself immutable.","body":"&quot;Final fields are aimed to make immutable objects.&quot; No argument in principle, but I find this statement possibly misleading.  It is wrong to say that just because a field is <code>final</code> that its data is immutable.  Reference types indicated by <code>final</code> variables are still mutable except in the special case that the referenced object is itself immutable."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347464337,"creation_date":1347464337,"answer_id":12391807,"question_id":12391455,"body_markdown":"Final fields are aimed to make *immutable* objects.\r\n\r\nStatic final fields are your kind of *constants*.\r\n\r\nCompiler optimisation, data flow analysis, happens to some degree. Try javap to see the jvm byte codes - if your are interested that far.\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>Final fields are aimed to make <em>immutable</em> objects.</p>\n\n<p>Static final fields are your kind of <em>constants</em>.</p>\n\n<p>Compiler optimisation, data flow analysis, happens to some degree. Try javap to see the jvm byte codes - if your are interested that far.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347464398,"creation_date":1347464398,"answer_id":12391819,"question_id":12391455,"body_markdown":"&gt; does the final declaration provide any benefit to efficiency? \r\n\r\nNot really. This is because the JIT can often determine that the value is not changed at runtime and can treat it as final. (Which is a problem if the value is not volatile and is changed in another thread)\r\n\r\nIn Java 8, you can use local variables in closures if they could be made final, rather than having to declare them as final.\r\n\r\n","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<blockquote>\n  <p>does the final declaration provide any benefit to efficiency? </p>\n</blockquote>\n\n<p>Not really. This is because the JIT can often determine that the value is not changed at runtime and can treat it as final. (Which is a problem if the value is not volatile and is changed in another thread)</p>\n\n<p>In Java 8, you can use local variables in closures if they could be made final, rather than having to declare them as final.</p>\n"}],"owner":{"display_name":"user1086498"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12391587,"answer_count":4,"score":4,"last_activity_date":1694699976,"creation_date":1347463167,"question_id":12391455,"body_markdown":"This is more of a theory question than a solution question, so hear me out.\r\n\r\nIn C/C++ as well as PHP, you can declare constants. There are usually a couple of ways to do this (`#DEFINE` for example, or &#39;`const type`&#39;...) and the ultimate effect of this is that during compilation a replace is done so that all of those named constants become literals. This helps because instead of having to access a memory location to find the data, the data is hardcoded in, but without the downside of hardcoding - recalling the value if it needs to be reused, and changing all of the instances of that value when it needs to be changed.\r\n\r\nBut Java&#39;s `final` declaration is slightly inscrutable; because I can create a class with unset final vars and initialize them on construction, it means that they are not precompiled as literals as far as I can tell. Other than guaranteeing that they cannot logically change afte construction, does the `final` declaration provide any benefit to efficiency? \r\n\r\nReferences to articles are fine, as long as you make note of the part which explains what `final` really does and what are if any its benefits other than stopping value changes after construction.\r\n\r\nAs a corollary, is it possible to actually declare compilation-level constants in Java in any other way than simply using literals (a bad idea anyway?)","title":"Effect of Java &#39;final&#39; declaration for class member variables","body":"<p>This is more of a theory question than a solution question, so hear me out.</p>\n\n<p>In C/C++ as well as PHP, you can declare constants. There are usually a couple of ways to do this (<code>#DEFINE</code> for example, or '<code>const type</code>'...) and the ultimate effect of this is that during compilation a replace is done so that all of those named constants become literals. This helps because instead of having to access a memory location to find the data, the data is hardcoded in, but without the downside of hardcoding - recalling the value if it needs to be reused, and changing all of the instances of that value when it needs to be changed.</p>\n\n<p>But Java's <code>final</code> declaration is slightly inscrutable; because I can create a class with unset final vars and initialize them on construction, it means that they are not precompiled as literals as far as I can tell. Other than guaranteeing that they cannot logically change afte construction, does the <code>final</code> declaration provide any benefit to efficiency? </p>\n\n<p>References to articles are fine, as long as you make note of the part which explains what <code>final</code> really does and what are if any its benefits other than stopping value changes after construction.</p>\n\n<p>As a corollary, is it possible to actually declare compilation-level constants in Java in any other way than simply using literals (a bad idea anyway?)</p>\n"},{"tags":["java","maven","maven-reactor"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694691751,"post_id":77104479,"comment_id":135926194,"body_markdown":"What is meant by: `without the module itself`? What is `aggregator.xml` ? Can you show that? The usual way in Maven 3 is to do a full `mvn install` and afterwards you can use `mvn -pl XX package` ... \nThe question is why running first `clean install` and afterwars `clean deploy`? It might be a good idea to test Maven 4.0.0-alpha-7 it has a number of improvements in particular related to reactor handling...","body":"What is meant by: <code>without the module itself</code>? What is <code>aggregator.xml</code> ? Can you show that? The usual way in Maven 3 is to do a full <code>mvn install</code> and afterwards you can use <code>mvn -pl XX package</code> ...  The question is why running first <code>clean install</code> and afterwars <code>clean deploy</code>? It might be a good idea to test Maven 4.0.0-alpha-7 it has a number of improvements in particular related to reactor handling..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694691994,"post_id":77104479,"comment_id":135926236,"body_markdown":"BTW: Why other things bound to deploy phase??","body":"BTW: Why other things bound to deploy phase??"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694692272,"post_id":77104479,"comment_id":135926292,"body_markdown":"@khmarbaise I added an example aggregator pom. Full install followed by -pl X package/deploy builds X twice (which I need to avoid, too expensive).","body":"@khmarbaise I added an example aggregator pom. Full install followed by -pl X package/deploy builds X twice (which I need to avoid, too expensive)."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694692346,"post_id":77104479,"comment_id":135926306,"body_markdown":"@khmarbaise Why other things bound to deploy phase? E.g. Maven assemply plugin copying artifacts somewhere, custom plugins uploading to custom update servers etc.","body":"@khmarbaise Why other things bound to deploy phase? E.g. Maven assemply plugin copying artifacts somewhere, custom plugins uploading to custom update servers etc."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694713865,"post_id":77104479,"comment_id":135931120,"body_markdown":"If you have maven-assembly-plugin bound to deploy phase sounds wrong... better put it either to prepare-package or package phase but not to deploy... Uploading to &quot;custom servers&quot; sounds like the wrong way because Maven is not a deploy tool... it&#39;s a build tool...","body":"If you have maven-assembly-plugin bound to deploy phase sounds wrong... better put it either to prepare-package or package phase but not to deploy... Uploading to &quot;custom servers&quot; sounds like the wrong way because Maven is not a deploy tool... it&#39;s a build tool..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694714142,"post_id":77104479,"comment_id":135931173,"body_markdown":"This part: `I added an example aggregator pom. Full install followed by -pl X package/deploy builds X twice (which I need to avoid, too expensive).` I don&#39;t understand? Why running first `install` and then `deploy`? Why not simply run `deploy`... etc. A full working example of your setup would be helpful otherwise it&#39;s not clear what you exactly doing and what the real problems are...","body":"This part: <code>I added an example aggregator pom. Full install followed by -pl X package&#47;deploy builds X twice (which I need to avoid, too expensive).</code> I don&#39;t understand? Why running first <code>install</code> and then <code>deploy</code>? Why not simply run <code>deploy</code>... etc. A full working example of your setup would be helpful otherwise it&#39;s not clear what you exactly doing and what the real problems are..."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694757988,"post_id":77104479,"comment_id":135935777,"body_markdown":"Sorry, maven-ant-run to copy stuff somewhere (not maven-assembly-plugin).","body":"Sorry, maven-ant-run to copy stuff somewhere (not maven-assembly-plugin)."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694758353,"post_id":77104479,"comment_id":135935822,"body_markdown":"I want to build the dependencies only locally on the build machine (up to install phase), and deploy only the final module. The final module has a custom deploy plugin. If the package phase of the final module wasn&#39;t so expensive, I would just first do `mvn install -pl my-module-id -am` followed by `mvn deploy -pl my-module-id` (thereby effectively packaging and installing the final module 2x)","body":"I want to build the dependencies only locally on the build machine (up to install phase), and deploy only the final module. The final module has a custom deploy plugin. If the package phase of the final module wasn&#39;t so expensive, I would just first do <code>mvn install -pl my-module-id -am</code> followed by <code>mvn deploy -pl my-module-id</code> (thereby effectively packaging and installing the final module 2x)"}],"answers":[{"comments":[{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694702533,"post_id":77105581,"comment_id":135928817,"body_markdown":"Some of the dependencies are snapshot versions that are deployed as part of another continuous integration jenkins job. But other dependencies are non-snapshot versions that are released manually, and should definitely not be deployed as part of this build.","body":"Some of the dependencies are snapshot versions that are deployed as part of another continuous integration jenkins job. But other dependencies are non-snapshot versions that are released manually, and should definitely not be deployed as part of this build."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694702605,"post_id":77105581,"comment_id":135928833,"body_markdown":"And there might be other stuff bound to the deploy phase that does not honor the deploy skip flag.","body":"And there might be other stuff bound to the deploy phase that does not honor the deploy skip flag."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1694710847,"post_id":77105581,"comment_id":135930554,"body_markdown":"Actually, I am skeptical about deploying modules &quot;sometimes&quot;. Generally, the norm is just to deploy all the modules. They don&#39;t do harm, they might take a little disk space, but if you tidy up the SNAPSHOTs with a scheduled job, this is usually ok. I understand, that sometimes people say that module X should not be deployed, because it will not  be used and is really large. But then, I would stick to this all the time, and deploy it from one kind of build and not from the other.","body":"Actually, I am skeptical about deploying modules &quot;sometimes&quot;. Generally, the norm is just to deploy all the modules. They don&#39;t do harm, they might take a little disk space, but if you tidy up the SNAPSHOTs with a scheduled job, this is usually ok. I understand, that sometimes people say that module X should not be deployed, because it will not  be used and is really large. But then, I would stick to this all the time, and deploy it from one kind of build and not from the other."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694757445,"post_id":77105581,"comment_id":135935709,"body_markdown":"We use this approach to build our deliverables. &quot;my-module-id&quot; is a &quot;leaf-project&quot; with no further downstream dependencies. It is an administrative decision by the project manager to build it after some issues have been resolved. It includes signed installers and other update-packages.","body":"We use this approach to build our deliverables. &quot;my-module-id&quot; is a &quot;leaf-project&quot; with no further downstream dependencies. It is an administrative decision by the project manager to build it after some issues have been resolved. It includes signed installers and other update-packages."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1694769451,"post_id":77105581,"comment_id":135937710,"body_markdown":"@RetoH&#246;hener I probably did not make myself clear. I am talking about the dependencies of `my-module-id`. For each of these modules, it should be clear whether the module should be deployed or not. If it should not be deployed, skip the deploy plugin (and possibly other plugins that would be run during the deploy phase). What I did not like was the idea that some of these modules may be deployed &quot;as part of another continuous integration jenkins job&quot;. For each module it should either be deployed always or never.","body":"@RetoH&#246;hener I probably did not make myself clear. I am talking about the dependencies of <code>my-module-id</code>. For each of these modules, it should be clear whether the module should be deployed or not. If it should not be deployed, skip the deploy plugin (and possibly other plugins that would be run during the deploy phase). What I did not like was the idea that some of these modules may be deployed &quot;as part of another continuous integration jenkins job&quot;. For each module it should either be deployed always or never."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694770037,"post_id":77105581,"comment_id":135937834,"body_markdown":"Agreed. More context: For every calendar year we have 50 &#39;leaf-projects&#39; and 100+ &#39;dependency-projects&#39;. Each leaf-project depends on a subset of the dependencies. Most &#39;dependency-projects&#39; are snapshots and could (should) always be deployed. But some &#39;dependency-projects&#39; are manually versioned and deployed. I&#39;m trying to figure out a common build pipeline script for the release process without having to manage hundreds of reactor poms or profiles.","body":"Agreed. More context: For every calendar year we have 50 &#39;leaf-projects&#39; and 100+ &#39;dependency-projects&#39;. Each leaf-project depends on a subset of the dependencies. Most &#39;dependency-projects&#39; are snapshots and could (should) always be deployed. But some &#39;dependency-projects&#39; are manually versioned and deployed. I&#39;m trying to figure out a common build pipeline script for the release process without having to manage hundreds of reactor poms or profiles."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694770269,"post_id":77105581,"comment_id":135937873,"body_markdown":"What I did just now is I think similar to what you suggested: I created a flag `mvn -Dskip-final-module` to skip the expensive packaging in our custom plugin in the leaf-project. I&#39;m almost happy with this except for the added complexity and the fact the the non-snapshot dependencies are also locally built and installed (which they shouldn&#39;t).","body":"What I did just now is I think similar to what you suggested: I created a flag <code>mvn -Dskip-final-module</code> to skip the expensive packaging in our custom plugin in the leaf-project. I&#39;m almost happy with this except for the added complexity and the fact the the non-snapshot dependencies are also locally built and installed (which they shouldn&#39;t)."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694699463,"creation_date":1694699463,"answer_id":77105581,"question_id":77104479,"body_markdown":"In case you never want to actually `deploy` those other modules (just `install` them to use them in the build), it would make more sense to set \r\n\r\n`&lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;`\r\n\r\nin the modules that should not be deployed. Then you can safely call \r\n\r\n`mvn deploy --also-make --projects :my-module-id`\r\n\r\nwithout deploying stuff you do not need later.","title":"Maven reactor: Is it possible to build only the dependencies of a specific module, but not the module itself?","body":"<p>In case you never want to actually <code>deploy</code> those other modules (just <code>install</code> them to use them in the build), it would make more sense to set</p>\n<p><code>&lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;</code></p>\n<p>in the modules that should not be deployed. Then you can safely call</p>\n<p><code>mvn deploy --also-make --projects :my-module-id</code></p>\n<p>without deploying stuff you do not need later.</p>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694699463,"creation_date":1694691165,"question_id":77104479,"body_markdown":"I would like to `install` all the dependencies of a given module (without the module itself), followed by a `deploy` of just the module.\r\n\r\n    mvn --file aggregator.xml clean install --also-make --projects :my-module-id\r\n    mvn --file aggregator.xml clean deploy --projects :my-module-id\r\n\r\nNote 1: I cannot call just the `deploy:deploy`-goal on the module, because sometimes other goals are bound to the `deploy`-phase.\r\n\r\nNote 2: I also need to avoid packaging `:my-module-id` twice, because it takes a long time.\r\n\r\n[Maven command line options help][1]\r\n\r\nExample aggregator.xml (reactor pom):\r\n\r\n    &lt;project&gt;\r\n      &lt;name&gt;aggregator&lt;/name&gt;\r\n      \r\n      &lt;modules&gt;\r\n        &lt;module&gt;common-module-id&lt;/module&gt;\r\n        &lt;module&gt;my-module-id&lt;/module&gt;\r\n      &lt;/module&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://maven.apache.org/ref/3.6.1/maven-embedder/cli.html","title":"Maven reactor: Is it possible to build only the dependencies of a specific module, but not the module itself?","body":"<p>I would like to <code>install</code> all the dependencies of a given module (without the module itself), followed by a <code>deploy</code> of just the module.</p>\n<pre><code>mvn --file aggregator.xml clean install --also-make --projects :my-module-id\nmvn --file aggregator.xml clean deploy --projects :my-module-id\n</code></pre>\n<p>Note 1: I cannot call just the <code>deploy:deploy</code>-goal on the module, because sometimes other goals are bound to the <code>deploy</code>-phase.</p>\n<p>Note 2: I also need to avoid packaging <code>:my-module-id</code> twice, because it takes a long time.</p>\n<p><a href=\"https://maven.apache.org/ref/3.6.1/maven-embedder/cli.html\" rel=\"nofollow noreferrer\">Maven command line options help</a></p>\n<p>Example aggregator.xml (reactor pom):</p>\n<pre><code>&lt;project&gt;\n  &lt;name&gt;aggregator&lt;/name&gt;\n  \n  &lt;modules&gt;\n    &lt;module&gt;common-module-id&lt;/module&gt;\n    &lt;module&gt;my-module-id&lt;/module&gt;\n  &lt;/module&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["python","java","iis"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694697915,"post_id":77105201,"comment_id":135927675,"body_markdown":"Please, provide a [MCVE].","body":"Please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":16493202,"reputation":13,"user_id":11916417,"display_name":"harsha10"},"score":0,"creation_date":1694698840,"post_id":77105201,"comment_id":135927884,"body_markdown":"Yes, let me provide more details","body":"Yes, let me provide more details"},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1694703098,"post_id":77105201,"comment_id":135928945,"body_markdown":"This is the typical (bad) pattern that makes your web app slow to respond, and 502 errors are the expected result. However, the solution differs and must be found after thorough review of your web app (Java and Python) by a professional. You should hire an experienced consultant.","body":"This is the typical (bad) pattern that makes your web app slow to respond, and 502 errors are the expected result. However, the solution differs and must be found after thorough review of your web app (Java and Python) by a professional. You should hire an experienced consultant."},{"owner":{"account_id":25983126,"reputation":1843,"user_id":19696445,"display_name":"YurongDai"},"score":0,"creation_date":1694744635,"post_id":77105201,"comment_id":135934730,"body_markdown":"If your Python script takes too long to execute and the connection between Tomcat/IIS and the Python process times out, you may get a 502 error. You can try increasing the timeout settings in Tomcat or IIS and see if that resolves the issue.","body":"If your Python script takes too long to execute and the connection between Tomcat/IIS and the Python process times out, you may get a 502 error. You can try increasing the timeout settings in Tomcat or IIS and see if that resolves the issue."},{"owner":{"account_id":25983126,"reputation":1843,"user_id":19696445,"display_name":"YurongDai"},"score":0,"creation_date":1696842590,"post_id":77105201,"comment_id":136199950,"body_markdown":"You may want to check the IIS logs for any error messages or other useful information that may help understand what is causing the 502 error.","body":"You may want to check the IIS logs for any error messages or other useful information that may help understand what is causing the 502 error."}],"owner":{"account_id":16493202,"reputation":13,"user_id":11916417,"display_name":"harsha10"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694699275,"creation_date":1694696914,"question_id":77105201,"body_markdown":"When trying to execute a python script from java side servlet, I am facing 502 error in some cases.\r\nThe script stops in the middle of execution and 502 error is returned\r\nOur application is running in tomcat and IIS. Is there any config in IIS that can fix this issue\r\n\r\nBelow is the code used to run the python script.\r\n\r\n    String[] commandToRunPythonScript = { &quot;py&quot;,&quot;-3&quot;,pyhtonScriptFilePathString,orgName};\r\n    Process process = Runtime.getRuntime().exec(commandToRunPythonScript);\r\n    process.waitFor();\r\n    BufferedReader inputStream = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\n\r\nNote: The script works fine when it is executed from command prompt. Also it works fine in few cases when running from java side","title":"502 Error when executing python script from java servlet","body":"<p>When trying to execute a python script from java side servlet, I am facing 502 error in some cases.\nThe script stops in the middle of execution and 502 error is returned\nOur application is running in tomcat and IIS. Is there any config in IIS that can fix this issue</p>\n<p>Below is the code used to run the python script.</p>\n<pre><code>String[] commandToRunPythonScript = { &quot;py&quot;,&quot;-3&quot;,pyhtonScriptFilePathString,orgName};\nProcess process = Runtime.getRuntime().exec(commandToRunPythonScript);\nprocess.waitFor();\nBufferedReader inputStream = new BufferedReader(new InputStreamReader(process.getInputStream()));\n</code></pre>\n<p>Note: The script works fine when it is executed from command prompt. Also it works fine in few cases when running from java side</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1597873077,"post_id":63495186,"comment_id":112278599,"body_markdown":"what group did you set for jaxb-runtime? can you share your pom?","body":"what group did you set for jaxb-runtime? can you share your pom?"},{"owner":{"account_id":1099742,"reputation":157,"user_id":1092440,"display_name":"Obi-Wan-Clemobi"},"score":0,"creation_date":1597886615,"post_id":63495186,"comment_id":112281514,"body_markdown":"I&#39;m using the one from org.glassfish.jaxb. Unfortunately I am not able share my pom file. I&#39;m just not sure why it would look for its dependencies within the org.glassfish.jaxb group vs referencing the proper namespace. Thanks.","body":"I&#39;m using the one from org.glassfish.jaxb. Unfortunately I am not able share my pom file. I&#39;m just not sure why it would look for its dependencies within the org.glassfish.jaxb group vs referencing the proper namespace. Thanks."},{"owner":{"account_id":11763037,"reputation":183,"user_id":8608529,"display_name":"Matthieu.V"},"score":0,"creation_date":1694698434,"post_id":63495186,"comment_id":135927793,"body_markdown":"I am experiencing the same problem right now, had you finally found a solution?","body":"I am experiencing the same problem right now, had you finally found a solution?"}],"answers":[{"tags":[],"owner":{"account_id":11763037,"reputation":183,"user_id":8608529,"display_name":"Matthieu.V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694699273,"creation_date":1694699273,"answer_id":77105549,"question_id":63495186,"body_markdown":"I just ran into the exact same issue.\r\n\r\nTo solve it, the only solution I found was to explicitly add the dependency to glassfish.jaxb.runtime in my project.\r\n\r\n*In IntelliJ:*\r\n\r\n*Right click on project-&gt;Open Module Settings*\r\n\r\n*Libraries*\r\n\r\n*&#39;+&#39;-&gt;From Maven*\r\n\r\n*Type jaxb-runtime then choose the version for which the dependency is being required (here 2.3.1).*\r\n\r\n*Apply and you should be good.*","title":"Maven is looking for dependencies in all the wrong place (for certain things)","body":"<p>I just ran into the exact same issue.</p>\n<p>To solve it, the only solution I found was to explicitly add the dependency to glassfish.jaxb.runtime in my project.</p>\n<p><em>In IntelliJ:</em></p>\n<p><em>Right click on project-&gt;Open Module Settings</em></p>\n<p><em>Libraries</em></p>\n<p><em>'+'-&gt;From Maven</em></p>\n<p><em>Type jaxb-runtime then choose the version for which the dependency is being required (here 2.3.1).</em></p>\n<p><em>Apply and you should be good.</em></p>\n"}],"owner":{"account_id":1099742,"reputation":157,"user_id":1092440,"display_name":"Obi-Wan-Clemobi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77105549,"answer_count":1,"score":3,"last_activity_date":1694699273,"creation_date":1597872154,"question_id":63495186,"body_markdown":"I am in the process of converting an existing ANT project to Maven.\r\nI managed to resolve most of the jars, but I am having some difficulties with the following.\r\n\r\nI am trying to understand why Maven would look for transitive dependencies for these libraries in the same namespace as the artifact that depends on it.\r\n\r\nHere&#39;s a sample of the error when I run the application inside of IntelliJ.\r\n    \r\n\r\n&gt; [19 Aug 2020 16:08:12,619] [main] [StandardJarScanner] WARN Failed to\r\n&gt; scan [file:\r\n&gt; .m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar]\r\n&gt; from classloader hierarchy -\r\n&gt; org.eclipse.jetty.apache.jsp.JuliLog.warn(JuliLog.java:146)\r\n&gt; java.io.FileNotFoundException:\r\n&gt; .m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar\r\n&gt; (No such file or directory)\r\n\r\nIn fact, [jaxb-runtime 2.3.1][1] does depend on the libraries reported below; but I&#39;m not sure why it would look for FastInfoset inside of `org/glassfish/jaxb/jaxb-runtime/2.3.1`. I&#39;m having the same issue with `mail-1.4.jar`. No other dependencies are giving me this issue. Any help would be greatly appreciated. Thanks!\r\n\r\n- javax.mail.mail.1.4\r\n\t- activation.jar\r\n- org.glassfish.jaxb.jaxb-runtime.2.3.1\r\n\t- jaxb-api-2.3.1.jar\r\n\t- txw2-2.3.1.jar\r\n\t- istack-commons-runtime-3.0.7.jar\r\n\t- stax-ex-1.8.jar\r\n\t- FastInfoset-1.2.15.jar\r\n\t- javax-activation-api-1.2.0.jar\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.3.1","title":"Maven is looking for dependencies in all the wrong place (for certain things)","body":"<p>I am in the process of converting an existing ANT project to Maven.\nI managed to resolve most of the jars, but I am having some difficulties with the following.</p>\n<p>I am trying to understand why Maven would look for transitive dependencies for these libraries in the same namespace as the artifact that depends on it.</p>\n<p>Here's a sample of the error when I run the application inside of IntelliJ.</p>\n<blockquote>\n<p>[19 Aug 2020 16:08:12,619] [main] [StandardJarScanner] WARN Failed to\nscan [file:\n.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar]\nfrom classloader hierarchy -\norg.eclipse.jetty.apache.jsp.JuliLog.warn(JuliLog.java:146)\njava.io.FileNotFoundException:\n.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.1/FastInfoset-1.2.15.jar\n(No such file or directory)</p>\n</blockquote>\n<p>In fact, <a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime/2.3.1\" rel=\"nofollow noreferrer\">jaxb-runtime 2.3.1</a> does depend on the libraries reported below; but I'm not sure why it would look for FastInfoset inside of <code>org/glassfish/jaxb/jaxb-runtime/2.3.1</code>. I'm having the same issue with <code>mail-1.4.jar</code>. No other dependencies are giving me this issue. Any help would be greatly appreciated. Thanks!</p>\n<ul>\n<li>javax.mail.mail.1.4\n<ul>\n<li>activation.jar</li>\n</ul>\n</li>\n<li>org.glassfish.jaxb.jaxb-runtime.2.3.1\n<ul>\n<li>jaxb-api-2.3.1.jar</li>\n<li>txw2-2.3.1.jar</li>\n<li>istack-commons-runtime-3.0.7.jar</li>\n<li>stax-ex-1.8.jar</li>\n<li>FastInfoset-1.2.15.jar</li>\n<li>javax-activation-api-1.2.0.jar</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6100306,"reputation":111,"user_id":4759550,"display_name":"Dawid D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472120214,"creation_date":1472120214,"answer_id":39142565,"question_id":39142490,"body_markdown":"Directory under which resides your java files is not source code directory. \r\n\r\nYou can mark directory in Intellij.\r\n\r\nIt is described here https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html\r\n\r\nYou can also right click on directory and use mark directory as. \r\n\r\nIf You using maven project, You should follow maven pattern of directories \r\n\r\nhttps://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"Why IntelliJ marked my class as J?","body":"<p>Directory under which resides your java files is not source code directory. </p>\n\n<p>You can mark directory in Intellij.</p>\n\n<p>It is described here <a href=\"https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html\" rel=\"nofollow\">https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html</a></p>\n\n<p>You can also right click on directory and use mark directory as. </p>\n\n<p>If You using maven project, You should follow maven pattern of directories </p>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow\">https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html</a></p>\n"},{"comments":[{"owner":{"account_id":1474584,"reputation":876,"user_id":1385310,"accept_rate":63,"display_name":"Tian Na"},"score":0,"creation_date":1472121052,"post_id":39142677,"comment_id":65629805,"body_markdown":"I posted the package tree and java directory is marked as the source folder. They are present in the same directory with the class file but yet is marked as J.","body":"I posted the package tree and java directory is marked as the source folder. They are present in the same directory with the class file but yet is marked as J."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1472121139,"post_id":39142677,"comment_id":65629863,"body_markdown":"I see. Try to close and reopen IntelliJ to see if it works.","body":"I see. Try to close and reopen IntelliJ to see if it works."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1472121284,"post_id":39142677,"comment_id":65629962,"body_markdown":"I made a test on my IntelliJ and I updated the answer to show you when it happens.","body":"I made a test on my IntelliJ and I updated the answer to show you when it happens."},{"owner":{"account_id":872516,"reputation":5591,"user_id":923041,"accept_rate":75,"display_name":"eekboom"},"score":0,"creation_date":1472194136,"post_id":39142677,"comment_id":65663314,"body_markdown":"If simply restart does not help, try &quot;File -&gt; Invalidate Caches / Restart&quot;","body":"If simply restart does not help, try &quot;File -&gt; Invalidate Caches / Restart&quot;"},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1472194243,"post_id":39142677,"comment_id":65663383,"body_markdown":"See the additional note in the answer. Your file doesn&#39;t contain a valid java code. The internal interpreter of IntelliJ can&#39;t understand if it is a class, an enum, an interface, an annotation...","body":"See the additional note in the answer. Your file doesn&#39;t contain a valid java code. The internal interpreter of IntelliJ can&#39;t understand if it is a class, an enum, an interface, an annotation..."}],"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472121503,"creation_date":1472120510,"answer_id":39142677,"question_id":39142490,"body_markdown":"Files marked with [![enter image description here][1]][1] are java source files presents in a directory marked a source root (or a subdirectory of it) from intelliJ.\r\n\r\nFiles marked with [![enter image description here][2]][2] are java source files presents in a directory that is NOT marked as source root (or a sub directory of it) from IntelliJ.\r\n\r\nGenerally circle icons are related to file in directory recognized from IntelliJ as source, squares are files not in a source directory.\r\n\r\nFor a complete description of each icon you can see the following links:\r\n\r\n - [Symbols][3] - Here you can find the [![enter image description here][1]][1] icon\r\n - [File Types][4] - Here you can find the [![enter image description here][2]][2] icon\r\n\r\n\r\nIf a file is not under a directory tree marked as source root it is only a file. \r\n\r\nInstead if a file is under a directory tree marked as source root it is recognized as a class, annotation, interface, or enum and it is visible with the command `Find Usages ALT+F7`, because is part of the source.\r\n\r\n----\r\n\r\nAdditional note. If a file has extension java, but is not a java class (for example if the file is empty) the icon is [![enter image description here][2]][2] also if present in a tree marked as source tree, because IntelliJ can&#39;t understand if it is a class, an enum, an interface or something different.\r\n\r\nSo check the content of the files marked as [![enter image description here][2]][2]. It is possible that for example the declaration of the class is wrong written.\r\n\r\nFor example a file MyClass.java with this content\r\n\r\n    public clas MyClass {\r\n    }\r\n\r\nhas the icon [![enter image description here][2]][2] because the declaration of the class is wrong.\r\n\r\nCorrecting to the following change also the icon to [![enter image description here][1]][1]\r\n\r\n    // Added an s to class\r\n    public class MyClass {\r\n    }\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/PJnyj.png\r\n  [2]: http://i.stack.imgur.com/8rQRG.png\r\n  [3]: https://www.jetbrains.com/help/idea/2016.2/symbols.html\r\n  [4]: https://www.jetbrains.com/help/idea/2016.2/file-types-recognized-by-intellij-idea.html","title":"Why IntelliJ marked my class as J?","body":"<p>Files marked with <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a> are java source files presents in a directory marked a source root (or a subdirectory of it) from intelliJ.</p>\n\n<p>Files marked with <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> are java source files presents in a directory that is NOT marked as source root (or a sub directory of it) from IntelliJ.</p>\n\n<p>Generally circle icons are related to file in directory recognized from IntelliJ as source, squares are files not in a source directory.</p>\n\n<p>For a complete description of each icon you can see the following links:</p>\n\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/2016.2/symbols.html\" rel=\"nofollow noreferrer\">Symbols</a> - Here you can find the <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a> icon</li>\n<li><a href=\"https://www.jetbrains.com/help/idea/2016.2/file-types-recognized-by-intellij-idea.html\" rel=\"nofollow noreferrer\">File Types</a> - Here you can find the <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> icon</li>\n</ul>\n\n<p>If a file is not under a directory tree marked as source root it is only a file. </p>\n\n<p>Instead if a file is under a directory tree marked as source root it is recognized as a class, annotation, interface, or enum and it is visible with the command <code>Find Usages ALT+F7</code>, because is part of the source.</p>\n\n<hr>\n\n<p>Additional note. If a file has extension java, but is not a java class (for example if the file is empty) the icon is <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> also if present in a tree marked as source tree, because IntelliJ can't understand if it is a class, an enum, an interface or something different.</p>\n\n<p>So check the content of the files marked as <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a>. It is possible that for example the declaration of the class is wrong written.</p>\n\n<p>For example a file MyClass.java with this content</p>\n\n<pre><code>public clas MyClass {\n}\n</code></pre>\n\n<p>has the icon <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> because the declaration of the class is wrong.</p>\n\n<p>Correcting to the following change also the icon to <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>// Added an s to class\npublic class MyClass {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1873,"user_id":10275943,"display_name":"Ikbel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698870,"creation_date":1694698870,"answer_id":77105487,"question_id":39142490,"body_markdown":"Check to see if you accidentally turned on Power Save (File/Power Save Mode) I myself just discovered that File/Power Save Mode does turn it off. I was having the same problem and must have accidentally set Power Save Mode to on.","title":"Why IntelliJ marked my class as J?","body":"<p>Check to see if you accidentally turned on Power Save (File/Power Save Mode) I myself just discovered that File/Power Save Mode does turn it off. I was having the same problem and must have accidentally set Power Save Mode to on.</p>\n"}],"owner":{"account_id":1474584,"reputation":876,"user_id":1385310,"accept_rate":63,"display_name":"Tian Na"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3632,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694698870,"creation_date":1472120019,"question_id":39142490,"body_markdown":"Can someone explain to me why IntelliJ decided to mark some of my classes with  [![enter image description here][1]][1] symbol?\r\n\r\nI have multiple classes in the same package and some are marked with [![enter image description here][1]][1] whereas others with [![enter image description here][2]][2].\r\n\r\nI wouldn&#39;t not mind if [![enter image description here][1]][1] didn&#39;t cause the class to lose colouring and more importantly shortcuts stopped working(!), for example `Find usages ALT+F7`.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n*.iml configuration file:\r\n\r\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/main/java&quot; isTestSource=&quot;false&quot; /&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/test/java&quot; isTestSource=&quot;true&quot; /&gt;\r\n      &lt;excludeFolder url=&quot;file://$MODULE_DIR$/target&quot; /&gt;\r\n    &lt;/content&gt;\r\nNote this was working correctly before (yesterday). Just happened today. The maven project builds correctly. The classes are correct.\r\n\r\n  [1]: http://i.stack.imgur.com/8rQRG.png\r\n  [2]: http://i.stack.imgur.com/PJnyj.png\r\n  [3]: http://i.stack.imgur.com/PDpGG.png","title":"Why IntelliJ marked my class as J?","body":"<p>Can someone explain to me why IntelliJ decided to mark some of my classes with  <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> symbol?</p>\n\n<p>I have multiple classes in the same package and some are marked with <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> whereas others with <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a>.</p>\n\n<p>I wouldn't not mind if <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> didn't cause the class to lose colouring and more importantly shortcuts stopped working(!), for example <code>Find usages ALT+F7</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PDpGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PDpGG.png\" alt=\"enter image description here\"></a></p>\n\n<p>*.iml configuration file:</p>\n\n<pre><code>&lt;content url=\"file://$MODULE_DIR$\"&gt;\n  &lt;sourceFolder url=\"file://$MODULE_DIR$/src/main/java\" isTestSource=\"false\" /&gt;\n  &lt;sourceFolder url=\"file://$MODULE_DIR$/src/test/java\" isTestSource=\"true\" /&gt;\n  &lt;excludeFolder url=\"file://$MODULE_DIR$/target\" /&gt;\n&lt;/content&gt;\n</code></pre>\n\n<p>Note this was working correctly before (yesterday). Just happened today. The maven project builds correctly. The classes are correct.</p>\n"},{"tags":["java","java-14","java-record"],"answers":[{"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":2,"creation_date":1597142538,"post_id":63353084,"comment_id":112031032,"body_markdown":"Thanks for your contribution and for the links you provided - they were very helpful. I wouldn&#39;t expect performance to improve at this point as implementing value types would require significant changes at the JVM level which haven&#39;t happened yet.","body":"Thanks for your contribution and for the links you provided - they were very helpful. I wouldn&#39;t expect performance to improve at this point as implementing value types would require significant changes at the JVM level which haven&#39;t happened yet."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1616072798,"post_id":63353084,"comment_id":117892431,"body_markdown":"@sprinter Project Valhalla (which is where value types (now called primitive classes) are coming from) is indeed making deep cuts to the VM; primitive class instances are flattened into objects and arrays.","body":"@sprinter Project Valhalla (which is where value types (now called primitive classes) are coming from) is indeed making deep cuts to the VM; primitive class instances are flattened into objects and arrays."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1616072868,"post_id":63353084,"comment_id":117892471,"body_markdown":"A better way to interpret the documents you cite are that tuple-like types are _one possible_ use for value types, but by far not the only one.  And it is possible to have record types that need identity.  So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table.","body":"A better way to interpret the documents you cite are that tuple-like types are <i>one possible</i> use for value types, but by far not the only one.  And it is possible to have record types that need identity.  So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table."},{"owner":{"account_id":8606921,"reputation":1580,"user_id":6446770,"accept_rate":100,"display_name":"miiiii"},"score":0,"creation_date":1616092238,"post_id":63353084,"comment_id":117902034,"body_markdown":"Thanks, @BrianGoetz for pointing that out. I made the correction to avoid confusion.","body":"Thanks, @BrianGoetz for pointing that out. I made the correction to avoid confusion."}],"tags":[],"owner":{"account_id":8606921,"reputation":1580,"user_id":6446770,"accept_rate":100,"display_name":"miiiii"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616091949,"creation_date":1597129328,"answer_id":63353084,"question_id":63352151,"body_markdown":"Note: I might not be so correct as this is about future motivations in Java or the intent of the community about **value types**. The answer is based on my personal knowledge and the information available openly on the internet.\r\n\r\n\r\nWe all know that the Java Community is so big and mature enough that they do not (and could not) add any random feature for experiments until &amp; unless stated otherwise. Keeping this in mind, I remember [this article][1] on the OpenJDK website which briefly describes the idea of `value types` in Java. One thing to notice here is that it is written/updated in April 2014 while the `record` first came out in Java 14 in March 2020.\r\n\r\nBut in the above article itself, they did give the example of `record` while explaining the value types. Most of its description does match to the current `record` as well. \r\n\r\n&gt; The JVM type system is almost entirely nominal as opposed to structural. Likewise, components of value types should be identified by names, not just their element number. (This makes value types more like records than tuples.)\r\n\r\nAnd with no surprise, Brian Goetz was also a co-author of this article.\r\n\r\nBut there are other places in the universe where the `record` is also represented as `data classes`. See [this article][2], it&#39;s also written/updated by Brain. The interesting part [is here][3].\r\n\r\n\r\n&gt; Values Victor will say &quot;a data class is really just a more transparent value type.&quot;\r\n\r\nNow, considering all these steps together, it does look like `record` is a feature motivated by (or for) tuples, data classes, value types, etc... etc... but they are not a substitute for each other.\r\n\r\nAs Brain mentioned in the comments:- \r\n\r\n&gt; A better way to interpret the documents cited here that tuple-like types are one possible use for value types, but by far not the only one. And it is possible to have record types that need an identity. So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table.\r\n\r\n\r\nComing to your concern about performance increase, here is [an article][4] that compared the performance of Java 14 records (preview) vs traditional class. You might find it interesting. I did not see any significant improvements in the performance from the results of the above link. \r\n\r\n\r\nAs far as I know, the stack is significantly faster than that of the heap. So due to the fact that `record` is actually a special class only, which then goes to the heap than to the stack (value type/primitive type should live in the stack like the `int`, remember Brian “Codes like a class, works like an int!” ). By the way, this is my personal view, I might be wrong for my statements on stack and heap here. I&#39;ll be more than happy to see if anyone corrects me or supports me on this.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~jrose/values/values-0.html\r\n  [2]: https://cr.openjdk.java.net/~briangoetz/amber/datum.html\r\n  [3]: https://cr.openjdk.java.net/~briangoetz/amber/datum.html#meet-the-elephant\r\n  [4]: https://jstobigdata.com/java/java-14-records-to-rescue-a-preview-feature/","title":"Are Java records intended to eventually become value types?","body":"<p>Note: I might not be so correct as this is about future motivations in Java or the intent of the community about <strong>value types</strong>. The answer is based on my personal knowledge and the information available openly on the internet.</p>\n<p>We all know that the Java Community is so big and mature enough that they do not (and could not) add any random feature for experiments until &amp; unless stated otherwise. Keeping this in mind, I remember <a href=\"http://cr.openjdk.java.net/%7Ejrose/values/values-0.html\" rel=\"nofollow noreferrer\">this article</a> on the OpenJDK website which briefly describes the idea of <code>value types</code> in Java. One thing to notice here is that it is written/updated in April 2014 while the <code>record</code> first came out in Java 14 in March 2020.</p>\n<p>But in the above article itself, they did give the example of <code>record</code> while explaining the value types. Most of its description does match to the current <code>record</code> as well.</p>\n<blockquote>\n<p>The JVM type system is almost entirely nominal as opposed to structural. Likewise, components of value types should be identified by names, not just their element number. (This makes value types more like records than tuples.)</p>\n</blockquote>\n<p>And with no surprise, Brian Goetz was also a co-author of this article.</p>\n<p>But there are other places in the universe where the <code>record</code> is also represented as <code>data classes</code>. See <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html\" rel=\"nofollow noreferrer\">this article</a>, it's also written/updated by Brain. The interesting part <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html#meet-the-elephant\" rel=\"nofollow noreferrer\">is here</a>.</p>\n<blockquote>\n<p>Values Victor will say &quot;a data class is really just a more transparent value type.&quot;</p>\n</blockquote>\n<p>Now, considering all these steps together, it does look like <code>record</code> is a feature motivated by (or for) tuples, data classes, value types, etc... etc... but they are not a substitute for each other.</p>\n<p>As Brain mentioned in the comments:-</p>\n<blockquote>\n<p>A better way to interpret the documents cited here that tuple-like types are one possible use for value types, but by far not the only one. And it is possible to have record types that need an identity. So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table.</p>\n</blockquote>\n<p>Coming to your concern about performance increase, here is <a href=\"https://jstobigdata.com/java/java-14-records-to-rescue-a-preview-feature/\" rel=\"nofollow noreferrer\">an article</a> that compared the performance of Java 14 records (preview) vs traditional class. You might find it interesting. I did not see any significant improvements in the performance from the results of the above link.</p>\n<p>As far as I know, the stack is significantly faster than that of the heap. So due to the fact that <code>record</code> is actually a special class only, which then goes to the heap than to the stack (value type/primitive type should live in the stack like the <code>int</code>, remember Brian “Codes like a class, works like an int!” ). By the way, this is my personal view, I might be wrong for my statements on stack and heap here. I'll be more than happy to see if anyone corrects me or supports me on this.</p>\n"},{"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":4,"creation_date":1597181659,"post_id":63365195,"comment_id":112049203,"body_markdown":"Thanks that makes perfect sense. I can see how keeping the two concepts separate gives a lot of power. Looking forward to seeing `inline` in the language!","body":"Thanks that makes perfect sense. I can see how keeping the two concepts separate gives a lot of power. Looking forward to seeing <code>inline</code> in the language!"},{"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"score":2,"creation_date":1615934113,"post_id":63365195,"comment_id":117845476,"body_markdown":"@BrianGoetz Will pattern matching only work with records or will it be supported for value types as well? I haven&#39;t seen any information about that so far and I am just curious ;-)","body":"@BrianGoetz Will pattern matching only work with records or will it be supported for value types as well? I haven&#39;t seen any information about that so far and I am just curious ;-)"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":6,"creation_date":1615935017,"post_id":63365195,"comment_id":117845745,"body_markdown":"@mmirwaldt It will be built-in for records; other classes (primitive or identity) will be able to declare explicit _deconstruction patterns_.  (Just as constructors are built in for records, but other classes have to declare them.)","body":"@mmirwaldt It will be built-in for records; other classes (primitive or identity) will be able to declare explicit <i>deconstruction patterns</i>.  (Just as constructors are built in for records, but other classes have to declare them.)"},{"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"score":0,"creation_date":1615935444,"post_id":63365195,"comment_id":117845871,"body_markdown":"@BrianGoetz That&#39;s good news. I can imagine many developers will like pattern matching as much as lambdas/stream API and use it very often. It would really be a pity if you can only use pattern matching with records.","body":"@BrianGoetz That&#39;s good news. I can imagine many developers will like pattern matching as much as lambdas/stream API and use it very often. It would really be a pity if you can only use pattern matching with records."}],"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":4,"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1694698808,"creation_date":1597174521,"answer_id":63365195,"question_id":63352151,"body_markdown":"Records and value types have a lot in common -- they are implicitly final and shallowly immutable.  So it is understandable that the two might be seen as the same thing.  In reality, they are different, and there is room for both of them to co-exist, but they can also work together.  \r\n\r\nBoth of these new kinds of classes involve some sort of restriction, in exchange for certain benefits.  (Just like `enum`, where you give up control over instantiation, and are rewarded with a more streamlined declaration, support in `switch`, etc.)\r\n\r\nA `record` requires you to give up on extension, mutability, and the ability to decouple the representation from the API.  In return, you get implementations of constructors, accessors, `equals`, `hashCode`, and more.  \r\n\r\nA `value class` requires you to give up on identity, which includes giving up on extension and mutability, as well as some other things (e.g., synchronization).  In return, you get a different set of benefits -- flattened representation, optimized calling sequences, and state-based `equals` and `hashCode`.  \r\n\r\nIf you are willing to make both compromises, you can get _both_ sets of benefits -- this would be a `value record`.  There are lots of use cases for value records, so classes that are records today could migrate to value records tomorrow, and would just get faster.\r\n\r\nBut, we don&#39;t want to force all records to be values or for all values to be records.  There are value classes that want to use encapsulation, and records that want identity (so they can organize into trees or graphs), and this is fine.  ","title":"Are Java records intended to eventually become value types?","body":"<p>Records and value types have a lot in common -- they are implicitly final and shallowly immutable.  So it is understandable that the two might be seen as the same thing.  In reality, they are different, and there is room for both of them to co-exist, but they can also work together.</p>\n<p>Both of these new kinds of classes involve some sort of restriction, in exchange for certain benefits.  (Just like <code>enum</code>, where you give up control over instantiation, and are rewarded with a more streamlined declaration, support in <code>switch</code>, etc.)</p>\n<p>A <code>record</code> requires you to give up on extension, mutability, and the ability to decouple the representation from the API.  In return, you get implementations of constructors, accessors, <code>equals</code>, <code>hashCode</code>, and more.</p>\n<p>A <code>value class</code> requires you to give up on identity, which includes giving up on extension and mutability, as well as some other things (e.g., synchronization).  In return, you get a different set of benefits -- flattened representation, optimized calling sequences, and state-based <code>equals</code> and <code>hashCode</code>.</p>\n<p>If you are willing to make both compromises, you can get <em>both</em> sets of benefits -- this would be a <code>value record</code>.  There are lots of use cases for value records, so classes that are records today could migrate to value records tomorrow, and would just get faster.</p>\n<p>But, we don't want to force all records to be values or for all values to be records.  There are value classes that want to use encapsulation, and records that want identity (so they can organize into trees or graphs), and this is fine.</p>\n"},{"tags":[],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663975285,"creation_date":1616029099,"answer_id":66683361,"question_id":63352151,"body_markdown":"**Disclaimer:** This answer only extends the other answers by summarizing some implications and giving some examples. You should not make any decisions relying on this information because pattern matching and value types are still subjects of change.\r\n\r\nThere are two interesting documents about data classes aka records vs value types:\r\nThe older version from February 2018   \r\nhttp://cr.openjdk.java.net/~briangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types   \r\nand the newer version from February 2019   \r\nhttps://cr.openjdk.java.net/~briangoetz/amber/datum.html#are-records-the-same-as-value-types\r\n\r\nEach document includes a paragraph about differences between records and value types.\r\nThe older version says \r\n\r\n&gt; The lack of layout polymorphism means we have to give up something else: self-reference. A value type V cannot refer, directly or indirectly, to another V.\r\n\r\nMoreover, \r\n\r\n&gt; Unlike value types, data classes are well suited to representing tree and graph nodes.\r\n\r\nHowever,\r\n\r\n&gt; But value classes need not give up any encapsulation, and in fact encapsulation is essential for some applications of value types\r\n\r\n**Let&#39;s clarify that:**\r\n\r\nYou won&#39;t be able to implement node-based composited data structures like linked lists or hierarchical trees with value types. However, you can use the value types for the elements of those data structures. \r\nMoreover, value types support some forms of encapsulation in opposite to records which don&#39;t at all. This means you can have additional fields in value types which you haven&#39;t defined in the class header and which are hidden to the user of the value type. Records can&#39;t do that because their representation is restricted to their API, i.e. all their fields are declared in the class header (and only there!).\r\n\r\n**Let&#39;s have some examples to illustrate all that.**\r\n\r\nE.g. you will be able to create composited logical expressions with records but not with value types:\r\n\r\n    sealed interface LogExpr { boolean eval(); } \r\n    \r\n    record Val(boolean value) implements LogExpr {}\r\n    record Not(LogExpr logExpr) implements LogExpr {}\r\n    record And(LogExpr left, LogExpr right) implements LogExpr {}\r\n    record Or(LogExpr left, LogExpr right) implements LogExpr {}\r\n\r\nThis will not work with value types because this demands the ability of self-references of the same value type.\r\nYou want to be able to create expressions like &quot;Not(Not(Val(true)))&quot;.\r\n\r\nE.g. you can also use records to define the class *Fraction*:\r\n\r\n    record Fraction(int numerator, int denominator) { \r\n        Fraction(int numerator, int denominator) {\r\n            if (denominator == 0) {\r\n                throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\r\n            }\r\n        }\r\n        public double asFloatingPoint() { return ((double) numerator) / denominator; }\r\n        // operations like add, sub, mult or div\r\n    }\r\n\r\nWhat about calculating the floating point value of that fraction?\r\nYou can add a method *asFloatingPoint()* to the record *Fraction*.\r\nAnd it will always calculate (and recalculate) the same floating point value each time it is invoked.\r\n(Records and value types are immutable by default).\r\nHowever, you cannot precalculate and store the floating point value inside this record in a way hidden to the user.\r\nAnd you won&#39;t like to explicitly declare the floating point value as a third parameter in the class header. \r\nLuckily, value types can do that:\r\n\r\n    inline class Fraction(int numerator, int denominator) { \r\n        private final double floatingPoint;\r\n        Fraction(int numerator, int denominator) {\r\n            if (denominator == 0) {\r\n                throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\r\n            }\r\n            floatingPoint = ((double) numerator) / denominator;\r\n        }\r\n        public double asFloatingPoint() { return floatingPoint; }\r\n        // operations like add, sub, mult or div\r\n    }\r\n\r\nOf course, hidden fields can be one reason why you want to use value types.\r\nThey are only one aspect and probably a minor one though.\r\nIf you create many instances of *Fraction* and maybe store them in collections, \r\nyou will benefit a lot from the flattened memory layout.\r\nThat&#39;s definitely a more important reason to prefer value types to records.\r\n\r\nThere are some situations where you want to benefit from both records and value types.   \r\nE.g. you might want to develop a game in which you move your piece through a map.\r\nYou saved a history of moves in a list some time ago where every move stores a number of steps into one direction. And you want to compute the next position dependending on that list of moves now.    \r\nIf your class *Move* is a value type, then the list can use the flattened memory layout.    \r\nAnd if your class *Move* also is a record at the same time you can use pattern matching without the need of defining an explicit deconstruction pattern.   \r\nYour code can look like that:\r\n\r\n    enum Direction { LEFT, RIGHT, UP, DOWN }&#180;\r\n    record Position(int x, int y) {  } \r\n    inline record Move(int steps, Direction dir) {  }\r\n    \r\n    public Position move(Position position, List&lt;Move&gt; moves) {\r\n    \tint x = position.x();\r\n    \tint y = position.y();\r\n    \r\n    \tfor(Move move : moves) {\r\n    \t\tx = x + switch(move) {\r\n    \t\t\tcase Move(var s, LEFT) -&gt; -s;\r\n    \t\t\tcase Move(var s, RIGHT) -&gt; +s;\r\n    \t\t\tcase Move(var s, UP) -&gt; 0;\r\n    \t\t\tcase Move(var s, DOWN) -&gt; 0;\r\n    \t\t}\r\n    \t\ty = y + switch(move) {\r\n    \t\t\tcase Move(var s, LEFT) -&gt; 0;\r\n    \t\t\tcase Move(var s, RIGHT) -&gt; 0;\r\n    \t\t\tcase Move(var s, UP) -&gt; -s;\r\n    \t\t\tcase Move(var s, DOWN) -&gt; +s;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn new Position(x, y);\r\n    }\r\n\r\nOf course, there are many other ways to implement the same behavior. \r\nHowever, records and value types give you some more options for implementations which can be very useful.","title":"Are Java records intended to eventually become value types?","body":"<p><strong>Disclaimer:</strong> This answer only extends the other answers by summarizing some implications and giving some examples. You should not make any decisions relying on this information because pattern matching and value types are still subjects of change.</p>\n<p>There are two interesting documents about data classes aka records vs value types:\nThe older version from February 2018<br />\n<a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types\" rel=\"nofollow noreferrer\">http://cr.openjdk.java.net/~briangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types</a><br />\nand the newer version from February 2019<br />\n<a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html#are-records-the-same-as-value-types\" rel=\"nofollow noreferrer\">https://cr.openjdk.java.net/~briangoetz/amber/datum.html#are-records-the-same-as-value-types</a></p>\n<p>Each document includes a paragraph about differences between records and value types.\nThe older version says</p>\n<blockquote>\n<p>The lack of layout polymorphism means we have to give up something else: self-reference. A value type V cannot refer, directly or indirectly, to another V.</p>\n</blockquote>\n<p>Moreover,</p>\n<blockquote>\n<p>Unlike value types, data classes are well suited to representing tree and graph nodes.</p>\n</blockquote>\n<p>However,</p>\n<blockquote>\n<p>But value classes need not give up any encapsulation, and in fact encapsulation is essential for some applications of value types</p>\n</blockquote>\n<p><strong>Let's clarify that:</strong></p>\n<p>You won't be able to implement node-based composited data structures like linked lists or hierarchical trees with value types. However, you can use the value types for the elements of those data structures.\nMoreover, value types support some forms of encapsulation in opposite to records which don't at all. This means you can have additional fields in value types which you haven't defined in the class header and which are hidden to the user of the value type. Records can't do that because their representation is restricted to their API, i.e. all their fields are declared in the class header (and only there!).</p>\n<p><strong>Let's have some examples to illustrate all that.</strong></p>\n<p>E.g. you will be able to create composited logical expressions with records but not with value types:</p>\n<pre><code>sealed interface LogExpr { boolean eval(); } \n\nrecord Val(boolean value) implements LogExpr {}\nrecord Not(LogExpr logExpr) implements LogExpr {}\nrecord And(LogExpr left, LogExpr right) implements LogExpr {}\nrecord Or(LogExpr left, LogExpr right) implements LogExpr {}\n</code></pre>\n<p>This will not work with value types because this demands the ability of self-references of the same value type.\nYou want to be able to create expressions like &quot;Not(Not(Val(true)))&quot;.</p>\n<p>E.g. you can also use records to define the class <em>Fraction</em>:</p>\n<pre><code>record Fraction(int numerator, int denominator) { \n    Fraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\n        }\n    }\n    public double asFloatingPoint() { return ((double) numerator) / denominator; }\n    // operations like add, sub, mult or div\n}\n</code></pre>\n<p>What about calculating the floating point value of that fraction?\nYou can add a method <em>asFloatingPoint()</em> to the record <em>Fraction</em>.\nAnd it will always calculate (and recalculate) the same floating point value each time it is invoked.\n(Records and value types are immutable by default).\nHowever, you cannot precalculate and store the floating point value inside this record in a way hidden to the user.\nAnd you won't like to explicitly declare the floating point value as a third parameter in the class header.\nLuckily, value types can do that:</p>\n<pre><code>inline class Fraction(int numerator, int denominator) { \n    private final double floatingPoint;\n    Fraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\n        }\n        floatingPoint = ((double) numerator) / denominator;\n    }\n    public double asFloatingPoint() { return floatingPoint; }\n    // operations like add, sub, mult or div\n}\n</code></pre>\n<p>Of course, hidden fields can be one reason why you want to use value types.\nThey are only one aspect and probably a minor one though.\nIf you create many instances of <em>Fraction</em> and maybe store them in collections,\nyou will benefit a lot from the flattened memory layout.\nThat's definitely a more important reason to prefer value types to records.</p>\n<p>There are some situations where you want to benefit from both records and value types.<br />\nE.g. you might want to develop a game in which you move your piece through a map.\nYou saved a history of moves in a list some time ago where every move stores a number of steps into one direction. And you want to compute the next position dependending on that list of moves now.<br />\nIf your class <em>Move</em> is a value type, then the list can use the flattened memory layout.<br />\nAnd if your class <em>Move</em> also is a record at the same time you can use pattern matching without the need of defining an explicit deconstruction pattern.<br />\nYour code can look like that:</p>\n<pre><code>enum Direction { LEFT, RIGHT, UP, DOWN }´\nrecord Position(int x, int y) {  } \ninline record Move(int steps, Direction dir) {  }\n\npublic Position move(Position position, List&lt;Move&gt; moves) {\n    int x = position.x();\n    int y = position.y();\n\n    for(Move move : moves) {\n        x = x + switch(move) {\n            case Move(var s, LEFT) -&gt; -s;\n            case Move(var s, RIGHT) -&gt; +s;\n            case Move(var s, UP) -&gt; 0;\n            case Move(var s, DOWN) -&gt; 0;\n        }\n        y = y + switch(move) {\n            case Move(var s, LEFT) -&gt; 0;\n            case Move(var s, RIGHT) -&gt; 0;\n            case Move(var s, UP) -&gt; -s;\n            case Move(var s, DOWN) -&gt; +s;\n        }\n    }\n\n    return new Position(x, y);\n}\n</code></pre>\n<p>Of course, there are many other ways to implement the same behavior.\nHowever, records and value types give you some more options for implementations which can be very useful.</p>\n"}],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9925,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":63365195,"answer_count":3,"score":72,"last_activity_date":1694698808,"creation_date":1597124646,"question_id":63352151,"body_markdown":"The `record` preview feature (JEP 384) introduced in JDK 14 are a great innovation. They make it much easier to create simple immutable classes that are a pure collection of values without the loss of context inherent in the generic tuple classes in various libraries.\r\n\r\nThe description of the JEP, written by Brian Goetz (https://openjdk.java.net/jeps/384) explains the intent very well. However I was expecting a closer association with the eventual introduction of value types. The original aims of value types were quite extensive: essentially allowing potentially significant performance improvements for objects whose *value* is all that matters by removing all the overhead not required for these types of object (e.g. reference indirection, synchronisation). Plus it could provide syntactical niceties such as `myPosition != yourPosition` instead of `!myPosition.equals(yourPosition)`.\r\n\r\nIt seems as though the restrictions of records are very close to the types of restrictions that would be required on a potential value type. Yet the JEP makes no reference to these aims in the motivation. I tried unsuccessfully to find any public records on these deliberations.\r\n\r\nSo my question is: are records intended to be part of a possible move towards value types or are these completely unrelated concepts and future value types may look completely different?\r\n\r\nMy motivation for asking the question: if records become a permanent part of the language it would be an added incentive to adopt them in code if there is the possibility of significant performance benefits in a future release.\r\n\r\n","title":"Are Java records intended to eventually become value types?","body":"<p>The <code>record</code> preview feature (JEP 384) introduced in JDK 14 are a great innovation. They make it much easier to create simple immutable classes that are a pure collection of values without the loss of context inherent in the generic tuple classes in various libraries.</p>\n<p>The description of the JEP, written by Brian Goetz (<a href=\"https://openjdk.java.net/jeps/384\" rel=\"noreferrer\">https://openjdk.java.net/jeps/384</a>) explains the intent very well. However I was expecting a closer association with the eventual introduction of value types. The original aims of value types were quite extensive: essentially allowing potentially significant performance improvements for objects whose <em>value</em> is all that matters by removing all the overhead not required for these types of object (e.g. reference indirection, synchronisation). Plus it could provide syntactical niceties such as <code>myPosition != yourPosition</code> instead of <code>!myPosition.equals(yourPosition)</code>.</p>\n<p>It seems as though the restrictions of records are very close to the types of restrictions that would be required on a potential value type. Yet the JEP makes no reference to these aims in the motivation. I tried unsuccessfully to find any public records on these deliberations.</p>\n<p>So my question is: are records intended to be part of a possible move towards value types or are these completely unrelated concepts and future value types may look completely different?</p>\n<p>My motivation for asking the question: if records become a permanent part of the language it would be an added incentive to adopt them in code if there is the possibility of significant performance benefits in a future release.</p>\n"},{"tags":["java","spring","csv","apache-camel","syslog"],"answers":[{"comments":[{"owner":{"account_id":1421881,"reputation":307,"user_id":1346346,"accept_rate":50,"display_name":"user1346346"},"score":1,"creation_date":1694877514,"post_id":77105477,"comment_id":135950613,"body_markdown":"It worked and helped for my need","body":"It worked and helped for my need"}],"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694698784,"creation_date":1694698784,"answer_id":77105477,"question_id":77072274,"body_markdown":"java code for converting CSV to Syslog\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.time.LocalDateTime;\r\n    \r\n    import org.apache.commons.csv.CSVFormat;\r\n    import org.apache.commons.csv.CSVParser;\r\n    import org.apache.commons.csv.CSVRecord;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            String csvFile = &quot;file.csv&quot;; // Replace with your CSV file path\r\n            try {\r\n                BufferedReader reader = new BufferedReader(new FileReader(csvFile));\r\n                CSVParser csvParser = new CSVParser(reader, CSVFormat.DEFAULT.withHeader());\r\n    \r\n                for (CSVRecord csvRecord : csvParser) {\r\n                    String type = csvRecord.get(&quot;Type&quot;);\r\n                    String rowID = csvRecord.get(&quot;RowID&quot;);\r\n                    String name = csvRecord.get(&quot;Name&quot;);\r\n                    \r\n                    String timestamp = LocalDateTime.now().toString();\r\n                    String hostname = &quot;DESKTOP-TVVB676&quot;;\r\n                    \r\n                    String syslogEntry = String.format(&quot;&lt;13&gt;1 %s %s - - - [LOG@14506 EventReceivedTime=\\&quot;%s\\&quot; &quot; +\r\n                            &quot;SourceModuleName=\\&quot;csv\\&quot; SourceModuleType=\\&quot;file\\&quot; Type=\\&quot;%s\\&quot; RowID=\\&quot;%s\\&quot; Name=\\&quot;%s\\&quot;&quot;,\r\n                            timestamp, hostname, timestamp, type, rowID, name);\r\n                    \r\n                    System.out.println(syslogEntry);\r\n                }\r\n    \r\n                csvParser.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    &lt;13&gt;1 2023-09-14T19:11:52.057131900 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.057131900&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\r\n    &lt;13&gt;1 2023-09-14T19:11:52.068649300 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.068649300&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\r\n\r\n","title":"How to convert csv file to syslog in Java","body":"<p>java code for converting CSV to Syslog</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.time.LocalDateTime;\n\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVParser;\nimport org.apache.commons.csv.CSVRecord;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        String csvFile = &quot;file.csv&quot;; // Replace with your CSV file path\n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(csvFile));\n            CSVParser csvParser = new CSVParser(reader, CSVFormat.DEFAULT.withHeader());\n\n            for (CSVRecord csvRecord : csvParser) {\n                String type = csvRecord.get(&quot;Type&quot;);\n                String rowID = csvRecord.get(&quot;RowID&quot;);\n                String name = csvRecord.get(&quot;Name&quot;);\n                \n                String timestamp = LocalDateTime.now().toString();\n                String hostname = &quot;DESKTOP-TVVB676&quot;;\n                \n                String syslogEntry = String.format(&quot;&lt;13&gt;1 %s %s - - - [LOG@14506 EventReceivedTime=\\&quot;%s\\&quot; &quot; +\n                        &quot;SourceModuleName=\\&quot;csv\\&quot; SourceModuleType=\\&quot;file\\&quot; Type=\\&quot;%s\\&quot; RowID=\\&quot;%s\\&quot; Name=\\&quot;%s\\&quot;&quot;,\n                        timestamp, hostname, timestamp, type, rowID, name);\n                \n                System.out.println(syslogEntry);\n            }\n\n            csvParser.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;13&gt;1 2023-09-14T19:11:52.057131900 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.057131900&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\n&lt;13&gt;1 2023-09-14T19:11:52.068649300 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.068649300&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\n</code></pre>\n"}],"owner":{"account_id":1421881,"reputation":307,"user_id":1346346,"accept_rate":50,"display_name":"user1346346"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77105477,"answer_count":1,"score":0,"last_activity_date":1694698784,"creation_date":1694263151,"question_id":77072274,"body_markdown":"I need to convert csv file to syslog.\r\n\r\nCSV:(From)\r\n\r\n    &quot;Type&quot;,&quot;RowID&quot;,&quot;Name&quot;\r\n    &quot;SecurityIncident&quot;,&quot;ace5c4550c76&quot;,&quot;MalwareInfection&quot;\r\n    &quot;SecurityIncident&quot;,&quot;ace5c4550c77&quot;,&quot;MalwareInfection&quot;\r\n\r\n\r\nSyslog: To\r\n\r\n    &lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\r\n    &lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\r\n\r\nHow to do it in Java? Is there any java library available?","title":"How to convert csv file to syslog in Java","body":"<p>I need to convert csv file to syslog.</p>\n<p>CSV:(From)</p>\n<pre><code>&quot;Type&quot;,&quot;RowID&quot;,&quot;Name&quot;\n&quot;SecurityIncident&quot;,&quot;ace5c4550c76&quot;,&quot;MalwareInfection&quot;\n&quot;SecurityIncident&quot;,&quot;ace5c4550c77&quot;,&quot;MalwareInfection&quot;\n</code></pre>\n<p>Syslog: To</p>\n<pre><code>&lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\n&lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\n</code></pre>\n<p>How to do it in Java? Is there any java library available?</p>\n"},{"tags":["java","android","opencv","ocr","firebase-mlkit"],"comments":[{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1531750211,"post_id":51363676,"comment_id":89699820,"body_markdown":"could you please share more pictures? (with variations) is the plate always the same?","body":"could you please share more pictures? (with variations) is the plate always the same?"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1531750400,"post_id":51363676,"comment_id":89699938,"body_markdown":"@Jo&#227;oCartucho Fortunately, the plate is always the same (like photo).","body":"@Jo&#227;oCartucho Fortunately, the plate is always the same (like photo)."},{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1531750866,"post_id":51363676,"comment_id":89700249,"body_markdown":"This is how I would do it: 1) Use SIFT to find the rectangle (the inner one with blue lines); 2) Crop and transform the areas with the numbers; 3) Apply an adaptive threshold (OTSU) to each of the areas with numbers; 4) Do OCR (I can help you more tomorrow, today I have no time)","body":"This is how I would do it: 1) Use SIFT to find the rectangle (the inner one with blue lines); 2) Crop and transform the areas with the numbers; 3) Apply an adaptive threshold (OTSU) to each of the areas with numbers; 4) Do OCR (I can help you more tomorrow, today I have no time)"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1531752687,"post_id":51363676,"comment_id":89701478,"body_markdown":"@Jo&#227;oCartucho thank u. I already used SIFT to find rectangle (starting from line blue above &quot;Mod&quot; until line blue below &quot;Volt&quot;) and I cropped it. I applied an adaptive threshold also after gamma correction but results are bad. Would you make the threshold directly on the gray scale image (if yes with which parameters)?","body":"@Jo&#227;oCartucho thank u. I already used SIFT to find rectangle (starting from line blue above &quot;Mod&quot; until line blue below &quot;Volt&quot;) and I cropped it. I applied an adaptive threshold also after gamma correction but results are bad. Would you make the threshold directly on the gray scale image (if yes with which parameters)?"},{"owner":{"account_id":1691657,"reputation":304,"user_id":1553872,"display_name":"seokrae.kim"},"score":0,"creation_date":1531790845,"post_id":51363676,"comment_id":89715949,"body_markdown":"@AlbertoCiolini\nIf the image taken always same, find below 2 lines you wan to OCR.\nAnd crop rectangle which has 2 lines and and try anything","body":"@AlbertoCiolini If the image taken always same, find below 2 lines you wan to OCR. And crop rectangle which has 2 lines and and try anything"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1531908125,"post_id":51363676,"comment_id":89769063,"body_markdown":"@Jo&#227;oCartucho Hi, sorry for disturb. Can you help me? Mostly, on thresholding (if thresholding is the right choice).","body":"@Jo&#227;oCartucho Hi, sorry for disturb. Can you help me? Mostly, on thresholding (if thresholding is the right choice)."},{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1531909009,"post_id":51363676,"comment_id":89769628,"body_markdown":"@AlbertoCiolini Hey! I&#39;m setting up OpenCV on Android Studio right now. I usually code with OpenCV in Python so I need to set things up first :)","body":"@AlbertoCiolini Hey! I&#39;m setting up OpenCV on Android Studio right now. I usually code with OpenCV in Python so I need to set things up first :)"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1532266745,"post_id":51363676,"comment_id":89899879,"body_markdown":"@Jo&#227;oCartucho some updates?","body":"@Jo&#227;oCartucho some updates?"}],"answers":[{"comments":[{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1532352335,"post_id":51477291,"comment_id":89928315,"body_markdown":"Thank u very much. As soon as I get home I try to implement it in Java.","body":"Thank u very much. As soon as I get home I try to implement it in Java."},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1532687091,"post_id":51477291,"comment_id":90078589,"body_markdown":"Code works well. I tried with simple edge image but OCR fails. How to fill edge? With morphological operations?","body":"Code works well. I tried with simple edge image but OCR fails. How to fill edge? With morphological operations?"},{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1532944256,"post_id":51477291,"comment_id":90147751,"body_markdown":"Yes, you can try to fill the edges with morphological operations. But if it was me I would go digit by digit inside each cell and resize them to a fixed dimension (i.e., 20 by 20 pixels) and then compare each digit to the ones in a training set. You can define the training set (for how each number/letter is supposed to look like) using some of the collected images.","body":"Yes, you can try to fill the edges with morphological operations. But if it was me I would go digit by digit inside each cell and resize them to a fixed dimension (i.e., 20 by 20 pixels) and then compare each digit to the ones in a training set. You can define the training set (for how each number/letter is supposed to look like) using some of the collected images."},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1542037101,"post_id":51477291,"comment_id":93414959,"body_markdown":"I&#39;m trying to convert **transform_perspective_and_crop** function in java but i have some problems. Can you help me, please?","body":"I&#39;m trying to convert <b>transform_perspective_and_crop</b> function in java but i have some problems. Can you help me, please?"},{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1542130233,"post_id":51477291,"comment_id":93455134,"body_markdown":"Hello, I could help you but only after the 21st of November. Ping me later if still needing.","body":"Hello, I could help you but only after the 21st of November. Ping me later if still needing."}],"tags":[],"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694698685,"creation_date":1532343823,"answer_id":51477291,"question_id":51363676,"body_markdown":"I coded this example in Python (since OpenCV&#39;s SIFT in Android is paid) but you can still use this to understand how to solve it.\r\n\r\nFirst I created this image as a template:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Step 1: Load images**\r\n\r\n```python\r\n&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\r\n# load image of plate\r\nsrc_path = &quot;nRHzD.jpg&quot;\r\nsrc = cv2.imread(src_path)\r\n\r\n# load template of plate (to be looked for)\r\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\r\nsrc_template = cv2.imread(src_template_path)\r\n```\r\n\r\n\r\n**Step 2: Find the template using SIFT and perspective transformation**\r\n\r\n```python\r\n# convert images to gray scale\r\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\r\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\r\n# use SIFT to find template\r\nn_matches_min = 10\r\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\r\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\r\n\r\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\r\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\r\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Step 3: Find regions of interest (using the green parts of the template image)**\r\n\r\n```python\r\ngreen_hsv_lower_bound = [50, 250, 250]\r\ngreen_hsv_upper_bound = [60, 255, 255]\r\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\r\nroi_list = separate_rois(mask_rois, warp_gray)\r\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\r\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\r\n```\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Step 4: Apply a Canny Edge detection to the rois (regions of interest)**\r\n\r\n```python\r\nfor i, roi in enumerate(roi_list):\r\n    roi_img, roi_x_offset, roi_y_offset = roi\r\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\r\n    \r\n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\r\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\r\n    cv2.waitKey()\r\n```\r\n[![enter image description here][4]][4]\r\n\r\nThere are many ways for you to detect the digits, one of the easiest approaches is to run a K-Means Clustering on each of the contours.\r\n\r\nFull code:\r\n```python\r\n&quot;&quot;&quot; This code shows a way of getting the digit&#39;s edges in a pre-defined position (in green) &quot;&quot;&quot;\r\nimport cv2\r\nimport numpy as np\r\n\r\n\r\ndef find_template(src_gray, src_template_gray, n_matches_min):\r\n    # Initiate SIFT detector\r\n    sift = cv2.xfeatures2d.SIFT_create()\r\n\r\n    &quot;&quot;&quot; find grid using SIFT &quot;&quot;&quot;\r\n    # find the keypoints and descriptors with SIFT\r\n    kp1, des1 = sift.detectAndCompute(src_template_gray, None)\r\n    kp2, des2 = sift.detectAndCompute(src_gray, None)\r\n\r\n    FLANN_INDEX_KDTREE = 0\r\n    index_params = dict(algorithm = FLANN_INDEX_KDTREE, trees = 5)\r\n    search_params = dict(checks = 50)\r\n\r\n    flann = cv2.FlannBasedMatcher(index_params, search_params)\r\n\r\n    matches = flann.knnMatch(des1, des2, k=2)\r\n\r\n    # store all the good matches as per Lowe&#39;s ratio test.\r\n    good = []\r\n    for m,n in matches:\r\n        if m.distance &lt; 0.7*n.distance:\r\n            good.append(m)\r\n\r\n    if len(good) &gt; n_matches_min:\r\n        src_pts = np.float32([kp1[m.queryIdx].pt for m in good ]).reshape(-1,1,2)\r\n        dst_pts = np.float32([kp2[m.trainIdx].pt for m in good ]).reshape(-1,1,2)\r\n\r\n        M, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC,5.0)\r\n        matchesMask = mask.ravel().tolist()\r\n\r\n        h_template, w_template = src_template_gray.shape\r\n        pts = np.float32([[0, 0], [0, h_template - 1], [w_template - 1, h_template - 1], [w_template - 1,0]]).reshape(-1,1,2)\r\n        homography = cv2.perspectiveTransform(pts, M)\r\n    else:\r\n        print &quot;Not enough matches are found - %d/%d&quot; % (len(good), n_matches_min)\r\n        matchesMask = None\r\n\r\n    # show matches\r\n    draw_params = dict(matchColor = (0, 255, 0), # draw matches in green color\r\n                        singlePointColor = None,\r\n                        matchesMask = matchesMask, # draw only inliers\r\n                        flags = 2)\r\n\r\n    if matchesMask:\r\n        src_gray_copy = src_gray.copy()\r\n        sift_matches = cv2.polylines(src_gray_copy, [np.int32(homography)], True, 255, 2, cv2.LINE_AA)\r\n    sift_matches = cv2.drawMatches(src_template_gray, kp1, src_gray_copy, kp2, good, None, **draw_params)\r\n    return sift_matches, homography\r\n\r\n\r\ndef transform_perspective_and_crop(homography, src, src_gray, src_template_gray):\r\n    &quot;&quot;&quot; get mask and contour of template &quot;&quot;&quot;\r\n    mask_img_template = np.zeros(src_gray.shape, dtype=np.uint8)\r\n    mask_img_template = cv2.polylines(mask_img_template, [np.int32(homography)], True, 255, 1, cv2.LINE_AA)\r\n    _ret, contours, hierarchy = cv2.findContours(mask_img_template, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\r\n    template_contour = None\r\n    # approximate the contour\r\n    c = contours[0]\r\n    peri = cv2.arcLength(c, True)\r\n    approx = cv2.approxPolyDP(c, 0.02 * peri, True)\r\n    # if our approximated contour has four points, then\r\n    # we can assume that we have found our template\r\n    warp = None\r\n    if len(approx) == 4:\r\n        template_contour = approx\r\n        cv2.drawContours(mask_img_template, [template_contour] , -1, (255,0,0), -1)\r\n        &quot;&quot;&quot; Transform perspective &quot;&quot;&quot;\r\n        # now that we have our template contour, we need to determine\r\n        # the top-left, top-right, bottom-right, and bottom-left\r\n        # points so that we can later warp the image -- we&#39;ll start\r\n        # by reshaping our contour to be our finals and initializing\r\n        # our output rectangle in top-left, top-right, bottom-right,\r\n        # and bottom-left order\r\n        pts = template_contour.reshape(4, 2)\r\n        rect = np.zeros((4, 2), dtype = &quot;float32&quot;)\r\n\r\n        # the top-left point has the smallest sum whereas the\r\n        # bottom-right has the largest sum\r\n        s = pts.sum(axis = 1)\r\n        rect[0] = pts[np.argmin(s)]\r\n        rect[2] = pts[np.argmax(s)]\r\n\r\n        # compute the difference between the points -- the top-right\r\n        # will have the minumum difference and the bottom-left will\r\n        # have the maximum difference\r\n        diff = np.diff(pts, axis = 1)\r\n        rect[1] = pts[np.argmin(diff)]\r\n        rect[3] = pts[np.argmax(diff)]\r\n\r\n        # now that we have our rectangle of points, let&#39;s compute\r\n        # the width of our new image\r\n        (tl, tr, br, bl) = rect\r\n        widthA = np.sqrt(((br[0] - bl[0]) ** 2) + ((br[1] - bl[1]) ** 2))\r\n        widthB = np.sqrt(((tr[0] - tl[0]) ** 2) + ((tr[1] - tl[1]) ** 2))\r\n\r\n        # ...and now for the height of our new image\r\n        heightA = np.sqrt(((tr[0] - br[0]) ** 2) + ((tr[1] - br[1]) ** 2))\r\n        heightB = np.sqrt(((tl[0] - bl[0]) ** 2) + ((tl[1] - bl[1]) ** 2))\r\n            \r\n        # take the maximum of the width and height values to reach\r\n        # our final dimensions\r\n        maxWidth = max(int(widthA), int(widthB))\r\n        maxHeight = max(int(heightA), int(heightB))\r\n\r\n        # construct our destination points which will be used to\r\n        # map the screen to a top-down, &quot;birds eye&quot; view\r\n        homography = np.array([\r\n            [0, 0],\r\n            [maxWidth - 1, 0],\r\n            [maxWidth - 1, maxHeight - 1],\r\n            [0, maxHeight - 1]], dtype = &quot;float32&quot;)\r\n\r\n        # calculate the perspective transform matrix and warp\r\n        # the perspective to grab the screen\r\n        M = cv2.getPerspectiveTransform(rect, homography)\r\n        warp = cv2.warpPerspective(src, M, (maxWidth, maxHeight))\r\n\r\n        # resize warp\r\n        h_template, w_template, _n_channels = src_template_gray.shape\r\n        warp = cv2.resize(warp, (w_template, h_template), interpolation=cv2.INTER_AREA)\r\n\r\n    return warp\r\n\r\n\r\ndef crop_img_in_hsv_range(img, hsv, lower_bound, upper_bound):\r\n    mask = cv2.inRange(hsv, np.array(lower_bound), np.array(upper_bound))\r\n    # do an MORPH_OPEN (erosion followed by dilation) to remove isolated pixels\r\n    kernel = np.ones((5,5), np.uint8)\r\n    mask = cv2.morphologyEx(mask, cv2.MORPH_OPEN, kernel)\r\n    # Bitwise-AND mask and original image\r\n    res = cv2.bitwise_and(img, img, mask=mask)\r\n\r\n    return mask, res\r\n\r\n\r\ndef separate_rois(column_mask, img_gray):\r\n    # go through each of the boxes\r\n    # https://stackoverflow.com/questions/41592039/contouring-a-binary-mask-with-opencv-python\r\n    border = cv2.copyMakeBorder(column_mask, 1, 1, 1, 1, cv2.BORDER_CONSTANT, value=0)\r\n    _, contours, hierarchy = cv2.findContours(border, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE, offset=(-1, -1))\r\n    cell_list = []\r\n    for contour in contours:\r\n        cell_mask = np.zeros_like(img_gray) # Create mask where white is what we want, black otherwise\r\n        cv2.drawContours(cell_mask, [contour], -1, 255, -1) # Draw filled contour in mask\r\n\r\n        # turn that mask into a rectangle\r\n        (x,y,w,h) = cv2.boundingRect(contour)\r\n        #print(&quot;x:{} y:{} w:{} h:{}&quot;.format(x, y, w, h))\r\n        cv2.rectangle(cell_mask, (x, y), (x+w, y+h), 255, -1)\r\n        # copy the img_gray using that mask\r\n        img_tmp_region = cv2.bitwise_and(img_gray, img_gray, mask= cell_mask)\r\n\r\n        # Now crop\r\n        (y, x) = np.where(cell_mask == 255)\r\n        (top_y, top_x) = (np.min(y), np.min(x))\r\n        (bottom_y, bottom_x) = (np.max(y), np.max(x))\r\n        img_tmp_region = img_tmp_region[top_y:bottom_y+1, top_x:bottom_x+1]\r\n\r\n        cell_list.append([img_tmp_region, top_x, top_y])\r\n\r\n    return cell_list\r\n\r\n\r\n&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\r\n# load image of plate\r\nsrc_path = &quot;nRHzD.jpg&quot;\r\nsrc = cv2.imread(src_path)\r\n\r\n# load template of plate (to be looked for)\r\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\r\nsrc_template = cv2.imread(src_template_path)\r\n\r\n&quot;&quot;&quot; 2. Find the plate (using the template image) and crop it into a rectangle &quot;&quot;&quot;\r\n# convert images to gray scale\r\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\r\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\r\n# use SIFT to find template\r\nn_matches_min = 10\r\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\r\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\r\n\r\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\r\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\r\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\r\n\r\n&quot;&quot;&quot; 3. Find regions of interest (using the green parts of the template image) &quot;&quot;&quot;\r\ngreen_hsv_lower_bound = [50, 250, 250]\r\ngreen_hsv_upper_bound = [60, 255, 255]\r\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\r\nroi_list = separate_rois(mask_rois, warp_gray)\r\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\r\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\r\n\r\n&quot;&quot;&quot; 4. Apply a Canny Edge detection to the rois (regions of interest) &quot;&quot;&quot;\r\nfor i, roi in enumerate(roi_list):\r\n    roi_img, roi_x_offset, roi_y_offset = roi\r\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\r\n\r\n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\r\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\r\n    cv2.waitKey()\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zef33.jpg\r\n  [2]: https://i.stack.imgur.com/nqUim.jpg\r\n  [3]: https://i.stack.imgur.com/P9GOR.jpg\r\n  [4]: https://i.stack.imgur.com/KVtcy.png","title":"How to edit image with opencv to read text with OCR","body":"<p>I coded this example in Python (since OpenCV's SIFT in Android is paid) but you can still use this to understand how to solve it.</p>\n<p>First I created this image as a template:</p>\n<p><a href=\"https://i.stack.imgur.com/Zef33.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zef33.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 1: Load images</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\n# load image of plate\nsrc_path = &quot;nRHzD.jpg&quot;\nsrc = cv2.imread(src_path)\n\n# load template of plate (to be looked for)\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\nsrc_template = cv2.imread(src_template_path)\n</code></pre>\n<p><strong>Step 2: Find the template using SIFT and perspective transformation</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code># convert images to gray scale\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\n# use SIFT to find template\nn_matches_min = 10\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\n\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nqUim.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqUim.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 3: Find regions of interest (using the green parts of the template image)</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>green_hsv_lower_bound = [50, 250, 250]\ngreen_hsv_upper_bound = [60, 255, 255]\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\nroi_list = separate_rois(mask_rois, warp_gray)\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/P9GOR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9GOR.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 4: Apply a Canny Edge detection to the rois (regions of interest)</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>for i, roi in enumerate(roi_list):\n    roi_img, roi_x_offset, roi_y_offset = roi\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\n    \n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\n    cv2.waitKey()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KVtcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KVtcy.png\" alt=\"enter image description here\" /></a></p>\n<p>There are many ways for you to detect the digits, one of the easiest approaches is to run a K-Means Clustering on each of the contours.</p>\n<p>Full code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>&quot;&quot;&quot; This code shows a way of getting the digit's edges in a pre-defined position (in green) &quot;&quot;&quot;\nimport cv2\nimport numpy as np\n\n\ndef find_template(src_gray, src_template_gray, n_matches_min):\n    # Initiate SIFT detector\n    sift = cv2.xfeatures2d.SIFT_create()\n\n    &quot;&quot;&quot; find grid using SIFT &quot;&quot;&quot;\n    # find the keypoints and descriptors with SIFT\n    kp1, des1 = sift.detectAndCompute(src_template_gray, None)\n    kp2, des2 = sift.detectAndCompute(src_gray, None)\n\n    FLANN_INDEX_KDTREE = 0\n    index_params = dict(algorithm = FLANN_INDEX_KDTREE, trees = 5)\n    search_params = dict(checks = 50)\n\n    flann = cv2.FlannBasedMatcher(index_params, search_params)\n\n    matches = flann.knnMatch(des1, des2, k=2)\n\n    # store all the good matches as per Lowe's ratio test.\n    good = []\n    for m,n in matches:\n        if m.distance &lt; 0.7*n.distance:\n            good.append(m)\n\n    if len(good) &gt; n_matches_min:\n        src_pts = np.float32([kp1[m.queryIdx].pt for m in good ]).reshape(-1,1,2)\n        dst_pts = np.float32([kp2[m.trainIdx].pt for m in good ]).reshape(-1,1,2)\n\n        M, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC,5.0)\n        matchesMask = mask.ravel().tolist()\n\n        h_template, w_template = src_template_gray.shape\n        pts = np.float32([[0, 0], [0, h_template - 1], [w_template - 1, h_template - 1], [w_template - 1,0]]).reshape(-1,1,2)\n        homography = cv2.perspectiveTransform(pts, M)\n    else:\n        print &quot;Not enough matches are found - %d/%d&quot; % (len(good), n_matches_min)\n        matchesMask = None\n\n    # show matches\n    draw_params = dict(matchColor = (0, 255, 0), # draw matches in green color\n                        singlePointColor = None,\n                        matchesMask = matchesMask, # draw only inliers\n                        flags = 2)\n\n    if matchesMask:\n        src_gray_copy = src_gray.copy()\n        sift_matches = cv2.polylines(src_gray_copy, [np.int32(homography)], True, 255, 2, cv2.LINE_AA)\n    sift_matches = cv2.drawMatches(src_template_gray, kp1, src_gray_copy, kp2, good, None, **draw_params)\n    return sift_matches, homography\n\n\ndef transform_perspective_and_crop(homography, src, src_gray, src_template_gray):\n    &quot;&quot;&quot; get mask and contour of template &quot;&quot;&quot;\n    mask_img_template = np.zeros(src_gray.shape, dtype=np.uint8)\n    mask_img_template = cv2.polylines(mask_img_template, [np.int32(homography)], True, 255, 1, cv2.LINE_AA)\n    _ret, contours, hierarchy = cv2.findContours(mask_img_template, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\n    template_contour = None\n    # approximate the contour\n    c = contours[0]\n    peri = cv2.arcLength(c, True)\n    approx = cv2.approxPolyDP(c, 0.02 * peri, True)\n    # if our approximated contour has four points, then\n    # we can assume that we have found our template\n    warp = None\n    if len(approx) == 4:\n        template_contour = approx\n        cv2.drawContours(mask_img_template, [template_contour] , -1, (255,0,0), -1)\n        &quot;&quot;&quot; Transform perspective &quot;&quot;&quot;\n        # now that we have our template contour, we need to determine\n        # the top-left, top-right, bottom-right, and bottom-left\n        # points so that we can later warp the image -- we'll start\n        # by reshaping our contour to be our finals and initializing\n        # our output rectangle in top-left, top-right, bottom-right,\n        # and bottom-left order\n        pts = template_contour.reshape(4, 2)\n        rect = np.zeros((4, 2), dtype = &quot;float32&quot;)\n\n        # the top-left point has the smallest sum whereas the\n        # bottom-right has the largest sum\n        s = pts.sum(axis = 1)\n        rect[0] = pts[np.argmin(s)]\n        rect[2] = pts[np.argmax(s)]\n\n        # compute the difference between the points -- the top-right\n        # will have the minumum difference and the bottom-left will\n        # have the maximum difference\n        diff = np.diff(pts, axis = 1)\n        rect[1] = pts[np.argmin(diff)]\n        rect[3] = pts[np.argmax(diff)]\n\n        # now that we have our rectangle of points, let's compute\n        # the width of our new image\n        (tl, tr, br, bl) = rect\n        widthA = np.sqrt(((br[0] - bl[0]) ** 2) + ((br[1] - bl[1]) ** 2))\n        widthB = np.sqrt(((tr[0] - tl[0]) ** 2) + ((tr[1] - tl[1]) ** 2))\n\n        # ...and now for the height of our new image\n        heightA = np.sqrt(((tr[0] - br[0]) ** 2) + ((tr[1] - br[1]) ** 2))\n        heightB = np.sqrt(((tl[0] - bl[0]) ** 2) + ((tl[1] - bl[1]) ** 2))\n            \n        # take the maximum of the width and height values to reach\n        # our final dimensions\n        maxWidth = max(int(widthA), int(widthB))\n        maxHeight = max(int(heightA), int(heightB))\n\n        # construct our destination points which will be used to\n        # map the screen to a top-down, &quot;birds eye&quot; view\n        homography = np.array([\n            [0, 0],\n            [maxWidth - 1, 0],\n            [maxWidth - 1, maxHeight - 1],\n            [0, maxHeight - 1]], dtype = &quot;float32&quot;)\n\n        # calculate the perspective transform matrix and warp\n        # the perspective to grab the screen\n        M = cv2.getPerspectiveTransform(rect, homography)\n        warp = cv2.warpPerspective(src, M, (maxWidth, maxHeight))\n\n        # resize warp\n        h_template, w_template, _n_channels = src_template_gray.shape\n        warp = cv2.resize(warp, (w_template, h_template), interpolation=cv2.INTER_AREA)\n\n    return warp\n\n\ndef crop_img_in_hsv_range(img, hsv, lower_bound, upper_bound):\n    mask = cv2.inRange(hsv, np.array(lower_bound), np.array(upper_bound))\n    # do an MORPH_OPEN (erosion followed by dilation) to remove isolated pixels\n    kernel = np.ones((5,5), np.uint8)\n    mask = cv2.morphologyEx(mask, cv2.MORPH_OPEN, kernel)\n    # Bitwise-AND mask and original image\n    res = cv2.bitwise_and(img, img, mask=mask)\n\n    return mask, res\n\n\ndef separate_rois(column_mask, img_gray):\n    # go through each of the boxes\n    # https://stackoverflow.com/questions/41592039/contouring-a-binary-mask-with-opencv-python\n    border = cv2.copyMakeBorder(column_mask, 1, 1, 1, 1, cv2.BORDER_CONSTANT, value=0)\n    _, contours, hierarchy = cv2.findContours(border, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE, offset=(-1, -1))\n    cell_list = []\n    for contour in contours:\n        cell_mask = np.zeros_like(img_gray) # Create mask where white is what we want, black otherwise\n        cv2.drawContours(cell_mask, [contour], -1, 255, -1) # Draw filled contour in mask\n\n        # turn that mask into a rectangle\n        (x,y,w,h) = cv2.boundingRect(contour)\n        #print(&quot;x:{} y:{} w:{} h:{}&quot;.format(x, y, w, h))\n        cv2.rectangle(cell_mask, (x, y), (x+w, y+h), 255, -1)\n        # copy the img_gray using that mask\n        img_tmp_region = cv2.bitwise_and(img_gray, img_gray, mask= cell_mask)\n\n        # Now crop\n        (y, x) = np.where(cell_mask == 255)\n        (top_y, top_x) = (np.min(y), np.min(x))\n        (bottom_y, bottom_x) = (np.max(y), np.max(x))\n        img_tmp_region = img_tmp_region[top_y:bottom_y+1, top_x:bottom_x+1]\n\n        cell_list.append([img_tmp_region, top_x, top_y])\n\n    return cell_list\n\n\n&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\n# load image of plate\nsrc_path = &quot;nRHzD.jpg&quot;\nsrc = cv2.imread(src_path)\n\n# load template of plate (to be looked for)\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\nsrc_template = cv2.imread(src_template_path)\n\n&quot;&quot;&quot; 2. Find the plate (using the template image) and crop it into a rectangle &quot;&quot;&quot;\n# convert images to gray scale\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\n# use SIFT to find template\nn_matches_min = 10\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\n\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\n\n&quot;&quot;&quot; 3. Find regions of interest (using the green parts of the template image) &quot;&quot;&quot;\ngreen_hsv_lower_bound = [50, 250, 250]\ngreen_hsv_upper_bound = [60, 255, 255]\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\nroi_list = separate_rois(mask_rois, warp_gray)\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\n\n&quot;&quot;&quot; 4. Apply a Canny Edge detection to the rois (regions of interest) &quot;&quot;&quot;\nfor i, roi in enumerate(roi_list):\n    roi_img, roi_x_offset, roi_y_offset = roi\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\n\n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\n    cv2.waitKey()\n</code></pre>\n"}],"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51477291,"answer_count":1,"score":2,"last_activity_date":1694698685,"creation_date":1531749707,"question_id":51363676,"body_markdown":"I&#39;m developing an android app to recognize text in particular plate, as in photo here:\r\n\r\n![plate][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nRHzD.jpg \r\nI have to recognize the texts in white (e.g. near to &quot;Mod.&quot;). I&#39;m using Google ML Kit&#39;s text recognition APIs, but it fails. So, I&#39;m using OpenCV to edit image but I don&#39;t know how to emphasize the (white) texts so OCR recognize it. I tried more stuff, like contrast, brightness, gamma correction, adaptive thresholding, but the cases vary a lot depending on how the photo is taken. Do you have any ideas?\r\nThank u very much.","title":"How to edit image with opencv to read text with OCR","body":"<p>I'm developing an android app to recognize text in particular plate, as in photo here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nRHzD.jpg\" alt=\"plate\"></p>\n\n<p>I have to recognize the texts in white (e.g. near to \"Mod.\"). I'm using Google ML Kit's text recognition APIs, but it fails. So, I'm using OpenCV to edit image but I don't know how to emphasize the (white) texts so OCR recognize it. I tried more stuff, like contrast, brightness, gamma correction, adaptive thresholding, but the cases vary a lot depending on how the photo is taken. Do you have any ideas?\nThank u very much.</p>\n"},{"tags":["java","amazon-web-services","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694695821,"creation_date":1694695821,"answer_id":77105056,"question_id":77104999,"body_markdown":"If you run this as an [ECS Service][1], then yes, when the container exits, the task will be stopped and a new task will be created with a new instance of the container. \r\n\r\nIf you run it as a Task, without a Service configuration, then no, ECS will not automatically replace the task.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html","title":"Will AWS ecs re-launch exited java processes in contianers?","body":"<p>If you run this as an <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html\" rel=\"nofollow noreferrer\">ECS Service</a>, then yes, when the container exits, the task will be stopped and a new task will be created with a new instance of the container.</p>\n<p>If you run it as a Task, without a Service configuration, then no, ECS will not automatically replace the task.</p>\n"},{"tags":[],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698651,"creation_date":1694698651,"answer_id":77105458,"question_id":77104999,"body_markdown":"Yes, if run as a service then it will be re-launched","title":"Will AWS ecs re-launch exited java processes in contianers?","body":"<p>Yes, if run as a service then it will be re-launched</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694698651,"creation_date":1694695335,"question_id":77104999,"body_markdown":"I have a java app that I am running via Docker on AWS via the entrypoint:\r\n```\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;, &quot;/app.jar&quot;]\r\n```\r\n\r\nI am running this on AWS ECS. If the java process dies for whatever reason, will the cotnainer be re-launched?","title":"Will AWS ecs re-launch exited java processes in contianers?","body":"<p>I have a java app that I am running via Docker on AWS via the entrypoint:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>I am running this on AWS ECS. If the java process dies for whatever reason, will the cotnainer be re-launched?</p>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"score":0,"creation_date":1694570555,"post_id":77093544,"comment_id":135907499,"body_markdown":"@experimentunit1998X I feel like I&#39;ve played with all the indices that might be a zero-index to no luck, any insights?","body":"@experimentunit1998X I feel like I&#39;ve played with all the indices that might be a zero-index to no luck, any insights?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694570877,"post_id":77093544,"comment_id":135907517,"body_markdown":"`originalImage.getSubimage(0, 0, 1, img.getHeight());` - Now, I&#39;d be tempted to &quot;paint&quot; the result to a new `BufferedImage` as the *&quot;The returned `BufferedImage` shares the same data array as the original image.&quot;* (quoted from the JavaDocs)","body":"<code>originalImage.getSubimage(0, 0, 1, img.getHeight());</code> - Now, I&#39;d be tempted to &quot;paint&quot; the result to a new <code>BufferedImage</code> as the <i>&quot;The returned <code>BufferedImage</code> shares the same data array as the original image.&quot;</i> (quoted from the JavaDocs)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694571854,"post_id":77093544,"comment_id":135907585,"body_markdown":"Use `setRGB` instead of `setPixels` - there seems to be a difference in exception over what the arrays hold","body":"Use <code>setRGB</code> instead of <code>setPixels</code> - there seems to be a difference in exception over what the arrays hold"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694573779,"creation_date":1694573779,"answer_id":77093760,"question_id":77093544,"body_markdown":"You can use the _[Graphics](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html)_ class to copy an area of an image.\r\n\r\nHere is an example.  \r\nI&#39;m using the following image.  \r\n_https://apod.nasa.gov/apod/image/2309/STSCI-HST-abell370_1797x2000.jpg_.\r\n\r\nHere is the _JavaDoc_ for the _drawImage_ method.  \r\n_[Graphics#drawImage (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#drawImage(java.awt.Image,int,int,int,int,int,int,int,int,java.awt.image.ImageObserver))_.\r\n\r\n```java\r\nBufferedImage image = ImageIO.read(new File(&quot;STSCI-HST-abell370_1797x2000.jpg&quot;));\r\nint w = 1, h = 2000;\r\nBufferedImage cropped = new BufferedImage(w, h, image.getType());\r\nGraphics g = cropped.createGraphics();;\r\ng.drawImage(image, 0, 0, w, h, 0, 0, w, h, null);\r\ng.dispose();\r\nImageIO.write(cropped, &quot;jpg&quot;, new File(&quot;STSCI-HST-abell370_cropped.jpg&quot;));\r\n```","title":"Converting a single column of a BufferedImage into a new BufferedImage","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html\" rel=\"nofollow noreferrer\">Graphics</a></em> class to copy an area of an image.</p>\n<p>Here is an example.<br />\nI'm using the following image.<br />\n<em><a href=\"https://apod.nasa.gov/apod/image/2309/STSCI-HST-abell370_1797x2000.jpg\" rel=\"nofollow noreferrer\">https://apod.nasa.gov/apod/image/2309/STSCI-HST-abell370_1797x2000.jpg</a></em>.</p>\n<p>Here is the <em>JavaDoc</em> for the <em>drawImage</em> method.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#drawImage(java.awt.Image,int,int,int,int,int,int,int,int,java.awt.image.ImageObserver)\" rel=\"nofollow noreferrer\">Graphics#drawImage (Java SE 20 &amp; JDK 20)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage image = ImageIO.read(new File(&quot;STSCI-HST-abell370_1797x2000.jpg&quot;));\nint w = 1, h = 2000;\nBufferedImage cropped = new BufferedImage(w, h, image.getType());\nGraphics g = cropped.createGraphics();;\ng.drawImage(image, 0, 0, w, h, 0, 0, w, h, null);\ng.dispose();\nImageIO.write(cropped, &quot;jpg&quot;, new File(&quot;STSCI-HST-abell370_cropped.jpg&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698244,"creation_date":1694575435,"answer_id":77093852,"question_id":77093544,"body_markdown":"Thank you [@MadProgrammer][1], I ended up using `artwork.getSubimage(0,0,1,artwork.getHeight())`, which did the trick!\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/992484/madprogrammer","title":"Converting a single column of a BufferedImage into a new BufferedImage","body":"<p>Thank you <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">@MadProgrammer</a>, I ended up using <code>artwork.getSubimage(0,0,1,artwork.getHeight())</code>, which did the trick!</p>\n"}],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1694698244,"creation_date":1694568697,"question_id":77093544,"body_markdown":"I want to take a BufferedImage (in this case it is 3600x3600) and take the first column of pixels and create a new BufferedImage out of that (creating an image 1x3600), here is the code I have:\r\n\r\n```\r\nBufferedImage originalImage = ImageUtilities.readImageFile(&quot;C:/someImage.png&quot;);\r\nint[] columnData = new int[originalImage.getHeight()];\r\noriginalImage.getRGB(0, 0, 1, originalImage.getHeight(), columnData, 0, 1);\r\nBufferedImage columnImage = new BufferedImage(1, originalImage.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\nWritableRaster raster = columnImage.getRaster();\r\nraster.setPixels(0, 0, 1, originalImage.getHeight(), columnData);\r\n```\r\n\r\nBut I keep getting the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 3600\r\n\tat java.awt.image.SinglePixelPackedSampleModel.setPixels(Unknown Source)\r\n\tat java.awt.image.WritableRaster.setPixels(Unknown Source)\r\n```\r\n\r\nCould someone tell me what am I doing wrong, please?\r\n","title":"Converting a single column of a BufferedImage into a new BufferedImage","body":"<p>I want to take a BufferedImage (in this case it is 3600x3600) and take the first column of pixels and create a new BufferedImage out of that (creating an image 1x3600), here is the code I have:</p>\n<pre><code>BufferedImage originalImage = ImageUtilities.readImageFile(&quot;C:/someImage.png&quot;);\nint[] columnData = new int[originalImage.getHeight()];\noriginalImage.getRGB(0, 0, 1, originalImage.getHeight(), columnData, 0, 1);\nBufferedImage columnImage = new BufferedImage(1, originalImage.getHeight(), BufferedImage.TYPE_INT_ARGB);\nWritableRaster raster = columnImage.getRaster();\nraster.setPixels(0, 0, 1, originalImage.getHeight(), columnData);\n</code></pre>\n<p>But I keep getting the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 3600\n    at java.awt.image.SinglePixelPackedSampleModel.setPixels(Unknown Source)\n    at java.awt.image.WritableRaster.setPixels(Unknown Source)\n</code></pre>\n<p>Could someone tell me what am I doing wrong, please?</p>\n"},{"tags":["java","serialization","equals","hazelcast","in-memory-data-grid"],"answers":[{"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694698101,"creation_date":1694698101,"answer_id":77105381,"question_id":77101486,"body_markdown":"You will see that it works. Start your member with user code deployment\r\n```java\r\npublic static void main(String[] args) {\r\n  Config config = new Config();\r\n  UserCodeDeploymentConfig userCodeDeploymentConfig = \r\n  config.getUserCodeDeploymentConfig();\r\n  userCodeDeploymentConfig.setEnabled(true);\r\n        \r\n  MapConfig mapConfig = config.getMapConfig(&quot;mymap&quot;);\r\n  mapConfig.setInMemoryFormat(InMemoryFormat.OBJECT);\r\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\r\n}\r\n```\r\nOn the client side have a class as below\r\n```java\r\npackage com.colak.datastructures.map;\r\n\r\npublic class Worker implements Serializable {\r\n\r\n  String name;\r\n\r\n  public Worker(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || getClass() != o.getClass()) return false;\r\n    Worker worker = (Worker) o;\r\n    return Objects.equals(name, worker.name);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(name);\r\n  }\r\n}\r\n```\r\nThen start your client and deploy your domain object to member\r\n```java\r\npublic static void main(String[] args) {\r\n  ClientConfig clientConfig = new ClientConfig();\r\n\r\n  ClientUserCodeDeploymentConfig userCodeDeploymentConfig = \r\n    clientConfig.getUserCodeDeploymentConfig();\r\n  userCodeDeploymentConfig.setEnabled(true);\r\n  userCodeDeploymentConfig.addClass(com.colak.datastructures.map.Worker.class);\r\n\r\n  HazelcastInstance hazelcastInstance = HazelcastClient.newHazelcastClient(clientConfig);\r\n\r\n  IMap&lt;Integer, Worker&gt; map = hazelcastInstance.getMap(&quot;mymap&quot;);\r\n  Worker worker1 = new Worker(&quot;john&quot;);\r\n  Worker worker2 = new Worker(&quot;jane&quot;);\r\n\r\n  int key = 1;\r\n  map.put(key, worker1);\r\n  Worker receivedWorker = map.get(key);\r\n\r\n  if (!receivedWorker.equals(worker1)) {\r\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker1&quot;);\r\n  }\r\n\r\n  map.replace(key, worker1, worker2); // Here replace workers for the same key\r\n  receivedWorker = map.get(key);\r\n  if (!receivedWorker.equals(worker2)) {\r\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker2&quot;);\r\n  }\r\n}\r\n```\r\nYou can see that worker1 is replaced with worker2 for key = 1","title":"Hazelcast object equals for replace method callingfrom client","body":"<p>You will see that it works. Start your member with user code deployment</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  Config config = new Config();\n  UserCodeDeploymentConfig userCodeDeploymentConfig = \n  config.getUserCodeDeploymentConfig();\n  userCodeDeploymentConfig.setEnabled(true);\n        \n  MapConfig mapConfig = config.getMapConfig(&quot;mymap&quot;);\n  mapConfig.setInMemoryFormat(InMemoryFormat.OBJECT);\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\n}\n</code></pre>\n<p>On the client side have a class as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.colak.datastructures.map;\n\npublic class Worker implements Serializable {\n\n  String name;\n\n  public Worker(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Worker worker = (Worker) o;\n    return Objects.equals(name, worker.name);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(name);\n  }\n}\n</code></pre>\n<p>Then start your client and deploy your domain object to member</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  ClientConfig clientConfig = new ClientConfig();\n\n  ClientUserCodeDeploymentConfig userCodeDeploymentConfig = \n    clientConfig.getUserCodeDeploymentConfig();\n  userCodeDeploymentConfig.setEnabled(true);\n  userCodeDeploymentConfig.addClass(com.colak.datastructures.map.Worker.class);\n\n  HazelcastInstance hazelcastInstance = HazelcastClient.newHazelcastClient(clientConfig);\n\n  IMap&lt;Integer, Worker&gt; map = hazelcastInstance.getMap(&quot;mymap&quot;);\n  Worker worker1 = new Worker(&quot;john&quot;);\n  Worker worker2 = new Worker(&quot;jane&quot;);\n\n  int key = 1;\n  map.put(key, worker1);\n  Worker receivedWorker = map.get(key);\n\n  if (!receivedWorker.equals(worker1)) {\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker1&quot;);\n  }\n\n  map.replace(key, worker1, worker2); // Here replace workers for the same key\n  receivedWorker = map.get(key);\n  if (!receivedWorker.equals(worker2)) {\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker2&quot;);\n  }\n}\n</code></pre>\n<p>You can see that worker1 is replaced with worker2 for key = 1</p>\n"}],"owner":{"account_id":12652068,"reputation":614,"user_id":9195823,"display_name":"Tix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77105381,"answer_count":1,"score":0,"last_activity_date":1694698101,"creation_date":1694659704,"question_id":77101486,"body_markdown":"I have configured hazelcast map with `in-memory-format: OBJECT`.\r\nNow I am trying to use method `map.replace(key,oldValue,newVal)` assuming that it will use defined `equals` method in my class. But I make call not in hazelcast instance, but from separate client, aka from another jvm.\r\nI tried to copy the same class to hazelcast application, but it doesn&#39;t work, it continue to compare by binary.","title":"Hazelcast object equals for replace method callingfrom client","body":"<p>I have configured hazelcast map with <code>in-memory-format: OBJECT</code>.\nNow I am trying to use method <code>map.replace(key,oldValue,newVal)</code> assuming that it will use defined <code>equals</code> method in my class. But I make call not in hazelcast instance, but from separate client, aka from another jvm.\nI tried to copy the same class to hazelcast application, but it doesn't work, it continue to compare by binary.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":3,"creation_date":1694696144,"post_id":77105046,"comment_id":135927203,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"}],"answers":[{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1694766888,"post_id":77105364,"comment_id":135937241,"body_markdown":"This won&#39;t work on Windows without adding `.replace(File.separator, &quot;/&quot;)`.","body":"This won&#39;t work on Windows without adding <code>.replace(File.separator, &quot;&#47;&quot;)</code>."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1694768262,"post_id":77105364,"comment_id":135937491,"body_markdown":"@DuncG Ah, true! Windows!","body":"@DuncG Ah, true! Windows!"}],"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694698009,"creation_date":1694698009,"answer_id":77105364,"question_id":77105046,"body_markdown":"You could use the `java.nio.file.Path` class that have support for hierarchical operations. Like so:\r\n\r\n        URI uri = URI.create(&quot;https://example.com/context/path1/path2/path3&quot;);\r\n\r\n        Path path = Paths.get(uri.getPath());\r\n\r\n        String componentToRemove = &quot;path1&quot;;\r\n        Path tmp = Paths.get(&quot;/&quot;);\r\n        for (int i=0; i &lt; path.getNameCount(); ++i) {\r\n            String s = path.getName(i).toString();\r\n\r\n            if (!componentToRemove.equals(s)) {\r\n                tmp = tmp.resolve(s);\r\n            }\r\n        }\r\n        URI result = new URI(uri.getScheme(), uri.getHost(), tmp.toString(), null);\r\n        System.out.println(result);\r\n","title":"How to remove Path in the URL","body":"<p>You could use the <code>java.nio.file.Path</code> class that have support for hierarchical operations. Like so:</p>\n<pre><code>    URI uri = URI.create(&quot;https://example.com/context/path1/path2/path3&quot;);\n\n    Path path = Paths.get(uri.getPath());\n\n    String componentToRemove = &quot;path1&quot;;\n    Path tmp = Paths.get(&quot;/&quot;);\n    for (int i=0; i &lt; path.getNameCount(); ++i) {\n        String s = path.getName(i).toString();\n\n        if (!componentToRemove.equals(s)) {\n            tmp = tmp.resolve(s);\n        }\n    }\n    URI result = new URI(uri.getScheme(), uri.getHost(), tmp.toString(), null);\n    System.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":10733820,"reputation":47,"user_id":11118861,"display_name":"jodevelofer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1694698009,"creation_date":1694695758,"question_id":77105046,"body_markdown":"How can I dynamically remove a path from a URL? For example I want to remove path1 in the example\r\n\r\nURL: https://example.com/context/path1/path2/path3\r\n\r\nso it will become: https://example.com/context/path2/path3\r\n\r\nIt can be any path from the URL.\r\n\r\n","title":"How to remove Path in the URL","body":"<p>How can I dynamically remove a path from a URL? For example I want to remove path1 in the example</p>\n<p>URL: <a href=\"https://example.com/context/path1/path2/path3\" rel=\"nofollow noreferrer\">https://example.com/context/path1/path2/path3</a></p>\n<p>so it will become: <a href=\"https://example.com/context/path2/path3\" rel=\"nofollow noreferrer\">https://example.com/context/path2/path3</a></p>\n<p>It can be any path from the URL.</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694095709,"post_id":77060326,"comment_id":135848654,"body_markdown":"Where is the test file located?","body":"Where is the test file located?"},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":0,"creation_date":1694095845,"post_id":77060326,"comment_id":135848690,"body_markdown":"@Jens\nsrc/test/java\n\nAll my tests were working great before junit 5.","body":"@Jens src/test/java  All my tests were working great before junit 5."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694099144,"post_id":77060326,"comment_id":135849539,"body_markdown":"Please show the full pom file and not only excerpts.. second use most recent version of maven-surefire-plugin (3.1.2) (https://maven.apache.org/plugins/)  do you still have JUnit 4 based tests in your App ? Use junit-jupiter-engine as dependency...","body":"Please show the full pom file and not only excerpts.. second use most recent version of maven-surefire-plugin (3.1.2) (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>)  do you still have JUnit 4 based tests in your App ? Use junit-jupiter-engine as dependency..."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1694703005,"post_id":77060326,"comment_id":135928929,"body_markdown":"You need additional dependencies","body":"You need additional dependencies"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694098806,"creation_date":1694098806,"answer_id":77060760,"question_id":77060326,"body_markdown":"You have a `java.lang.ClassNotFoundException` for `org.junit.platform.engine.support.discovery.SelectorResolver`. This class should come from the artifact\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;?&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nPossibly a fix is as simple as adding this dependency to your pom.xml?\r\n\r\nPerhaps you need to run the following from command line to see what&#39;s going on\r\n- `mvn dependency:tree` \r\n- `mvn help:effective-pom`","title":"jUnit 5 can&#39;t find tests","body":"<p>You have a <code>java.lang.ClassNotFoundException</code> for <code>org.junit.platform.engine.support.discovery.SelectorResolver</code>. This class should come from the artifact</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\n    &lt;version&gt;?&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Possibly a fix is as simple as adding this dependency to your pom.xml?</p>\n<p>Perhaps you need to run the following from command line to see what's going on</p>\n<ul>\n<li><code>mvn dependency:tree</code></li>\n<li><code>mvn help:effective-pom</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694099436,"creation_date":1694099436,"answer_id":77060839,"question_id":77060326,"body_markdown":"To run Junit Jupiter tests it&#39;s best is to use the junit-bom for all the needed artifact dependencies.\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nAlso use most recent version of [maven-surefire-plugin][1]\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            ...\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n         ..\r\n      &lt;/build&gt;\r\n\r\nIf you combine JUnit 4 and JUnit Jupiter (aka JUnit 5) test in the same project you have to use the junit-vintage-engine like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n     &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        ..\r\n      &lt;/dependencies&gt;\r\n\r\nThat would result mean to run your JUnit 4 tests via JUnit 5 Vintage engine.\r\n\r\n  [1]: https://maven.apache.org/plugins/\r\n\r\n","title":"jUnit 5 can&#39;t find tests","body":"<p>To run Junit Jupiter tests it's best is to use the junit-bom for all the needed artifact dependencies.</p>\n\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.10.0&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>Also use most recent version of <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven-surefire-plugin</a></p>\n\n<pre><code>  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n     ..\n  &lt;/build&gt;\n</code></pre>\n<p>If you combine JUnit 4 and JUnit Jupiter (aka JUnit 5) test in the same project you have to use the junit-vintage-engine like this:</p>\n\n<pre><code> &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.10.0&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    ..\n  &lt;/dependencies&gt;\n</code></pre>\n<p>That would result mean to run your JUnit 4 tests via JUnit 5 Vintage engine.</p>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694697591,"creation_date":1694697591,"answer_id":77105308,"question_id":77060326,"body_markdown":"we have mentioned two dependencies to resolve your issue.\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t&lt;version&gt;5.8.2&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThanks.","title":"jUnit 5 can&#39;t find tests","body":"<p>we have mentioned two dependencies to resolve your issue.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n    &lt;version&gt;1.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thanks.</p>\n"}],"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77060839,"answer_count":3,"score":1,"last_activity_date":1694697591,"creation_date":1694095431,"question_id":77060326,"body_markdown":"I know this has been questionned few times now but i&#39;m running out of ideas.\r\n\r\n    sept. 07, 2023 3:57:06 PM org.junit.platform.launcher.core.DefaultLauncher handleThrowable\r\n    WARNING: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n    java.lang.NoClassDefFoundError: org/junit/platform/engine/support/discovery/SelectorResolver\r\n    \tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:168)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:155)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\r\n    \tat org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\r\n    \tat org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:143)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\n    Caused by: java.lang.ClassNotFoundException: org.junit.platform.engine.support.discovery.SelectorResolver\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 12 more\r\n\r\n\r\nThis is the message I got with jUnit 5. He can&#39;t find any tests (have over 800).\r\n\r\nMy pom seems correct :\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;5.10.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;5.10.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n          &lt;version&gt;5.10.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.22.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nMy tests are well named : \r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    public class AttestationIdentiteCallParamsTest {\r\n    \r\n        @Test\r\n        void testAttestationIdentiteCallParams() {\r\n    }\r\n\r\nExecuting my test from intelliJ and CMD with java 11. \r\n\r\n&gt; mvn clean install\r\n\r\n 200 times\r\n\r\nIt just never works.\r\nIdeas ? Thanks","title":"jUnit 5 can&#39;t find tests","body":"<p>I know this has been questionned few times now but i'm running out of ideas.</p>\n<pre><code>sept. 07, 2023 3:57:06 PM org.junit.platform.launcher.core.DefaultLauncher handleThrowable\nWARNING: TestEngine with ID 'junit-jupiter' failed to discover tests\njava.lang.NoClassDefFoundError: org/junit/platform/engine/support/discovery/SelectorResolver\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:168)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:155)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\n    at org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\n    at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:143)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.engine.support.discovery.SelectorResolver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 12 more\n</code></pre>\n<p>This is the message I got with jUnit 5. He can't find any tests (have over 800).</p>\n<p>My pom seems correct :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;5.10.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;5.10.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;version&gt;5.10.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.22.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>My tests are well named :</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class AttestationIdentiteCallParamsTest {\n\n    @Test\n    void testAttestationIdentiteCallParams() {\n}\n</code></pre>\n<p>Executing my test from intelliJ and CMD with java 11.</p>\n<blockquote>\n<p>mvn clean install</p>\n</blockquote>\n<p>200 times</p>\n<p>It just never works.\nIdeas ? Thanks</p>\n"},{"tags":["java","certificate","usb","dongle","safenet"],"owner":{"account_id":1622294,"reputation":317,"user_id":1498603,"display_name":"stefanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694696925,"creation_date":1694696925,"question_id":77105206,"body_markdown":"When using a certificate from a dongle (for instance, SafeNet), the certificate is not available unless an interactive session (on a Windows server in my case) is open, finally meaning that the certificate cannot be used for server operations unless a real person has opened a session.\r\n\r\nIs there any configuration that can be set up so that this scenario becomes possible ?\r\n\r\nImplementation details : code that requires access to the token is written in Java and works perfectly fine in interactive sessions. When included in a service (more specifically a tomcat container), it does not detect the dongle.","title":"How to use a certificate from a dongle in non-interactive scenarios","body":"<p>When using a certificate from a dongle (for instance, SafeNet), the certificate is not available unless an interactive session (on a Windows server in my case) is open, finally meaning that the certificate cannot be used for server operations unless a real person has opened a session.</p>\n<p>Is there any configuration that can be set up so that this scenario becomes possible ?</p>\n<p>Implementation details : code that requires access to the token is written in Java and works perfectly fine in interactive sessions. When included in a service (more specifically a tomcat container), it does not detect the dongle.</p>\n"},{"tags":["java","spring","macos","sts"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1694713506,"post_id":77105158,"comment_id":135931046,"body_markdown":"I&#39;m not going to comment on the particular issue you&#39;re facing. I am, however, going to say this: start using Intellij. It&#39;s 2023 already. No, they&#39;re not both &#39;viable options and a matter of preference&#39;. Eclipse lost the race. No, really. By a mile or so. And I should know. I was the last to use that monstrosity of an IDE at my company, a few years back. There really is no contest any longer","body":"I&#39;m not going to comment on the particular issue you&#39;re facing. I am, however, going to say this: start using Intellij. It&#39;s 2023 already. No, they&#39;re not both &#39;viable options and a matter of preference&#39;. Eclipse lost the race. No, really. By a mile or so. And I should know. I was the last to use that monstrosity of an IDE at my company, a few years back. There really is no contest any longer"}],"owner":{"account_id":28877237,"reputation":1,"user_id":22117491,"display_name":"wannabeanswer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694696659,"creation_date":1694696541,"question_id":77105158,"body_markdown":"I&#39;m practicing the process of creating a webpage with STS3, but the ID duplication check function doesn&#39;t work on the webpage for login and membership.\r\n\r\nI&#39;m creating a Spring legacy project with STS3 to practice creating web pages. In the Windows 10 environment, the login/logout is implemented properly, and the part that checks for duplicate usernames on the signup page is also implemented properly.\r\n\r\nI wanted to work on my personal M1 MacBook, so I moved the entire project to my MacBook,\r\n\r\nThe problem is that the lab website works, but the login function does not work at all, and the button to check for duplicate IDs on the signup page does not work.\r\n\r\nMore specific symptoms are\r\n\r\nWhen I enter my ID and password and try to log in, it says\r\n\r\nI get a warning that the ID and password don&#39;t match and I can&#39;t log in.\r\n\r\nIf you enter a random ID and click the duplicate check button when registering, it will not work.\r\n\r\n&quot;Communication failure!&quot; is displayed.\r\n\r\nThis problem did not occur at all when working with Windows.\r\n\r\nThe problem is that the log record in the console window of STS3 only contains logs related to the execution of server connection.\r\n\r\nand no error messages are displayed.\r\n\r\nI have no idea what source code I need to show to resolve this issue.\r\n\r\nWhich files should I modify?\r\n\r\nIt works fine on Windows, but not on Mac.\r\n\r\nI have no idea if I need to modify anything or what the problem is.\r\n\r\nI don&#39;t even know how to ask in this case.\r\n\r\nThe Java version is JRE 1.8.121.13 and the\r\n\r\nTomcat server is 8.5\r\n\r\nSTS3 version is 3.9.13.\r\n\r\nMacOS is the most recent version of Ventura.\r\n\r\nI honestly can&#39;t even figure out what code I should be uploading right now, so I&#39;m starting with the entire member_login.jsp. I&#39;m listing all the files in the project just in case, and if you need any of them to help you troubleshoot, let me know.\r\n\r\nI&#39;ll show you everything except for private information like IPs.\r\n\r\nThe product, purchasing, message board, and news sections are not yet implemented as I&#39;m still working on them.\r\n\r\n[enter image description here](https://i.stack.imgur.com/L6NRr.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/BHO0k.png)\r\n\r\nThe Korean version of that screenshot is\r\n\r\nrespectively\r\n\r\nThe ID or password is not correct.(ID나 비밀번호가 맞지않습니다.\r\n\r\nCommunication failure (통신실패)\r\n\r\nThis means that\r\n\r\nfirst here is In order from top to bottom\r\n\r\nmember_login.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n\tfunction goPw(){\r\n\t\t\r\n\t\tmem.t_pw.focus();\r\n\t\t\r\n\t}\r\n\tfunction memberLogin(){\r\n\t\tmem.t_gubun.value = &quot;MemberLogin&quot;;\r\n\t\tmem.method=&quot;post&quot;;\r\n\t\tmem.action=&quot;Member&quot;;\r\n\t\tmem.submit();\r\n\t\t\r\n\t}\r\n&lt;/script&gt;\r\n\t\t&lt;div id=&quot;b_left&quot;&gt;\r\n\t\t\t&lt;P&gt;MEMBER&lt;/P&gt;\r\n\t\t\t&lt;ul&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;login&#39;)&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;join&#39;)&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;/ul&gt;\r\n\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;div id=&quot;b_right&quot;&gt;\r\n\t\t\t&lt;p class=&quot;n_title&quot;&gt;\r\n\t\t\t\tMEMBER LOGIN\r\n\t\t\t&lt;/p&gt;\r\n\t\t\r\n\t\t\t&lt;div class=&quot;login&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;member_boxL&quot;&gt;\r\n\t\t\t\t\t&lt;h2&gt;LOGIN&lt;/h2&gt;\r\n\t\t\t\t\t&lt;div class=&quot;login_form&quot;&gt;\r\n\t\t\t\t\t\t&lt;form name=&quot;mem&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;t_gubun&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;mbrId&quot;&gt;아이디&lt;/label&gt;&lt;input name=&quot;t_id&quot; autofocus id=&quot;mbrId&quot; type=&quot;text&quot; onkeypress=&quot;if( event.keyCode==13 ){goPw()}&quot;&gt;&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;scrtNo&quot;&gt;비밀번호&lt;/label&gt;&lt;input name=&quot;t_pw&quot; id=&quot;scrtNo&quot; type=&quot;password&quot; onkeypress=&quot;if( event.keyCode==13 ){memberLogin()}&quot;&gt;&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;a class=&quot;btn_login btn_Blue&quot; href=&quot;javascript:memberLogin()&quot;&gt;로그인&lt;/a&gt;\r\n\t\t\t\t\t\t&lt;/form&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t   \r\n\t\t\t\t&lt;/div&gt;\t\t\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;/div&gt;\t\r\n\r\n\t\t&lt;div id=&quot;b_bottom&quot;&gt;\r\n\t\t&lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;\t\t\r\n\t\t&lt;/div&gt;\t\r\n\t&lt;/div&gt;\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n    \r\n```\r\n\r\nmember_join.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\r\n &lt;script type=&quot;text/javascript&quot;&gt;\r\n \tfunction goJoin(){\r\n \t\t\r\n \t\t\r\n \t\tif(checkValue(mem.t_id,&quot;Enter your ID!&quot;)) return;\r\n \t\r\n \t\t\r\n \t\tif(mem.yesId.value == &quot;&quot;){\r\n \t\t\talert(&quot;this is not a valid ID.&quot;);\r\n \t\t\tmem.t_id.focus();\r\n \t\t\treturn;\r\n \t\t}\r\n\r\n \t\tif(checkValue(mem.t_name,&quot;Enter your name!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_password,&quot;Enter your password!&quot;)) return;\r\n \t\r\n \t\tif(checkValue(mem.t_password_confirm,&quot;check password!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_address, &quot;Enter your address!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_mobile_1, &quot;enter your mobile number!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_mobile_2, &quot;enter your mobile number!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_mobile_3, &quot;enter your mobile number!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_gender, &quot;select your gender!&quot;)) return;\r\n\r\n \t\t\r\n\r\n \t\tmem.t_gubun.value=&quot;MemberSave&quot;;\r\n \t\tmem.method=&quot;post&quot;;\r\n \t\tmem.action=&quot;Member&quot;;\r\n \t\tmem.submit();\r\n \t\t\r\n \t\t\r\n \t}\r\n \t\r\n\tfunction checkID(){\r\n\t\tif(checkValue(mem.t_id,&quot;ID 입력 후 중복검사하시오!!&quot;)) return;\r\n\t\t$.ajax({\r\n\t\t\ttype : &quot;POST&quot;,\r\n\t\t\turl : &quot;MemberCheckId&quot;,\r\n\t\t\tdata: &quot;t_id=&quot;+mem.t_id.value,\r\n\t\t\tdataType : &quot;text&quot;,\r\n\t\t\terror : function(){\r\n\t\t\t\talert(&#39;통신실패!!!!!&#39;);\r\n\t\t\t},\r\n\t\t\tsuccess : function(data){\r\n\t\t\t\talert(data);\r\n\t\t\t\tif(data == &quot;사용가능&quot;){\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(&quot;#idResult&quot;).text(data); //javscript에서 css적용하는 요소로 idResult가 id요소라 #사용\r\n\t\t\t\t\t$(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\r\n\t\t\t\t\tmem.yesId.value = mem.t_id.value;\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(data == &quot;사용불가&quot;) {\r\n\t\t\t\t\t$(&quot;#idResult&quot;).text(data);\r\n\t\t\t\t\t$(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\r\n\t\t\t\t\tmem.yesId.value = &quot;&quot;;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\t\t\t\t\r\n\t}\r\n \r\n &lt;/script&gt;\r\n\t\t&lt;div id=&quot;b_left&quot;&gt;\r\n\t\t\t&lt;P&gt;MEMBER&lt;/P&gt;\r\n\t\t\t&lt;ul&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;login&#39;)&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;join&#39;)&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;/ul&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t&lt;div id=&quot;b_right&quot;&gt;\r\n\t\t\t&lt;p class=&quot;n_title&quot;&gt;\r\n\t\t\t\tMEMBER JOIN\r\n\t\t\t&lt;/p&gt;\r\n\t\t\t&lt;form name=&quot;mem&quot;&gt;\t\r\n\t\t\t&lt;input name=&quot;t_gubun&quot;&gt;\t\t\r\n\t\t\t&lt;table class=&quot;boardForm&quot;&gt;\r\n\t\t\t  &lt;colgroup&gt;\r\n\t\t\t\t&lt;col width=&quot;200&quot; /&gt;\r\n\t\t\t\t&lt;col width=&quot;500&quot; /&gt;\r\n\t\t\t  &lt;/colgroup&gt;\r\n\t\t\t  &lt;tbody&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;&lt;label for=&quot;id&quot;&gt;I D&lt;/label&gt;&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t&lt;input name=&quot;t_id&quot; type=&quot;text&quot; size=&quot;10&quot; id=&quot;id&quot; title=&quot;id입력하세요&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;button&quot; onclick=&quot;checkID()&quot; value=&quot;ID중복검사&quot; class=&quot;checkB&quot;&gt;\r\n\t\t\t\t\t&lt;span id=&quot;idResult&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;yesId&quot;&gt;\r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;&lt;label for=&quot;nana&quot;&gt;성 명&lt;/label&gt;&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_name&quot; type=&quot;text&quot; size=&quot;8&quot; id=&quot;nana&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;비밀번호&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_password&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;비밀번호확인&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_password_confirm&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;지역&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t&lt;select name=&quot;t_area&quot;&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;02&quot;&gt;서울&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;042&quot;&gt;대전&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;051&quot;&gt;부산&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;053&quot;&gt;대구&lt;/option&gt;        \r\n\t\t\t\t\t&lt;/select&gt;\t  \r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\t\r\n\t\t\t\t\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;주소&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_address&quot; type=&quot;text&quot; size=&quot;40&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;연락처&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t&lt;input name=&quot;t_mobile_1&quot; type=&quot;text&quot; size=&quot;3&quot;&gt; -\r\n\t\t\t\t\t&lt;input name=&quot;t_mobile_2&quot; type=&quot;text&quot; size=&quot;4&quot;&gt; -\r\n\t\t\t\t\t&lt;input name=&quot;t_mobile_3&quot; type=&quot;text&quot; size=&quot;4&quot;&gt;\r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;남여구분&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t  &lt;input type=&quot;radio&quot; value=&quot;f&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 여&amp;nbsp;&amp;nbsp;        \r\n\t\t\t\t\t  &lt;input type=&quot;radio&quot; value=&quot;m&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 남        \r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;취미&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t  &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_travel&quot; class=&quot;middleCheck&quot; /&gt; 여행&amp;nbsp;&amp;nbsp; \r\n\t\t\t\t\t  &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_reading&quot; class=&quot;middleCheck&quot; /&gt; 독서&amp;nbsp;&amp;nbsp; \r\n\t\t\t\t\t  &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_sports&quot; class=&quot;middleCheck&quot; /&gt; 운동\r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t  &lt;/tbody&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t\t&lt;/form&gt;\r\n\t\t\t&lt;div class=&quot;buttonGroup_center&quot;&gt;\r\n\t\t\t\t&lt;a href=&quot;javascript:goJoin()&quot; class=&quot;butt&quot;&gt;JOIN&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\t\r\n\t\t&lt;/div&gt;\t\r\n\r\n\t\t&lt;div id=&quot;b_bottom&quot;&gt;\r\n\t\t&lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;\r\n\t\t&lt;/div&gt;\t\r\n\t&lt;/div&gt;\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n    \r\n```\r\n\r\nMemberLogin.java\r\n\r\n```\r\npackage command.member;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpSession;\r\n\r\nimport common.CommonExecute;\r\nimport common.CommonUtil;\r\nimport dao.MemberDao;\r\n\r\npublic class MemberLogin implements CommonExecute {\r\n\r\n\t@Override\r\n\tpublic void execute(HttpServletRequest request) {\r\n\t\tMemberDao dao = new MemberDao();\r\n\t\tString id = request.getParameter(&quot;t_id&quot;);\r\n\t\tString pw = request.getParameter(&quot;t_pw&quot;);\r\n\t\ttry {\r\n\t\t\tpw = dao.encryptSHA256(pw);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString name = dao.getLoginName(id, pw);\r\n\t\tString msg = &quot;&quot;, url =&quot;&quot;;\r\n\t\tif(name.equals(&quot;&quot;)) {\r\n\t\t\tmsg = &quot;This ID or password is incorrect.&quot;;\r\n\t\t\turl = &quot;Member&quot;;\r\n\t\t}else {\r\n\t\t\tmsg = name+&quot;님 환영합니다!&quot;;//&quot;welcome!&quot;+name+&quot;~!&quot;\r\n\t\t\turl = &quot;/furni/&quot;;\r\n\t\t\r\n\t\t\tString loginTime = CommonUtil.getTodayTime();\r\n\t\t\tint result = dao.setLoginTime(id, loginTime);\r\n\t\t\tif(result != 1) System.out.println(&quot;로그인 처리 최종로그인 시간 업데이트 오류&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//정상동작확인이 되었으면 세션을 만든다.\r\n\t\t\tHttpSession session = request.getSession();//이후 세션 변수설정\r\n\t\t\tsession.setAttribute(&quot;sessionId&quot;, id);\r\n\t\t\tsession.setAttribute(&quot;sessionName&quot;, name);\r\n\t\t\tif(id.equals(&quot;manager&quot;)) {\r\n\t\t\t\tsession.setAttribute(&quot;sessionLevel&quot;, &quot;top&quot;);\r\n\t\t\t}\r\n\t\t\tsession.setMaxInactiveInterval(60*60);\r\n\t\t}\r\n\t\trequest.setAttribute(&quot;t_msg&quot;, msg);\r\n\t\trequest.setAttribute(&quot;t_url&quot;, url);\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMemberSave.java\r\n\r\n```\r\npackage command.member;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport common.CommonExecute;\r\nimport common.CommonUtil;\r\nimport dao.MemberDao;\r\nimport dto.MemberDto;\r\n\r\npublic class MemberSave implements CommonExecute {\r\n\r\n\t@Override\r\n\tpublic void execute(HttpServletRequest request) {\r\n\t\tMemberDao dao = new MemberDao();\r\n\t\tString id = request.getParameter(&quot;t_id&quot;);\r\n\t\tString name = request.getParameter(&quot;t_name&quot;);\r\n\t\tString password = request.getParameter(&quot;t_password&quot;);\r\n\t\tint passwordLength = password.length();\r\n\t\ttry {\r\n\t\t\tpassword = dao.encryptSHA256(password);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString area = request.getParameter(&quot;t_area&quot;);\r\n\t\tString address = request.getParameter(&quot;t_address&quot;);\r\n\t\tString mobile_1 = request.getParameter(&quot;t_mobile_1&quot;);\r\n\t\tString mobile_2 = request.getParameter(&quot;t_mobile_2&quot;);\r\n\t\tString mobile_3 = request.getParameter(&quot;t_mobile_3&quot;);\r\n\t\tString gender = request.getParameter(&quot;t_gender&quot;);\r\n\t\tString hobby_travel = request.getParameter(&quot;t_hobby_travel&quot;);\r\n\t\tString hobby_reading = request.getParameter(&quot;t_hobby_reading&quot;);\r\n\t\tString hobby_sports = request.getParameter(&quot;t_hobby_sports&quot;);\r\n\t\tif(hobby_travel == null) hobby_travel = &quot;n&quot;;\r\n\t\tif(hobby_reading == null) hobby_reading = &quot;n&quot;;\r\n\t\tif(hobby_sports == null) hobby_sports = &quot;n&quot;;\r\n\t\tString reg_date = CommonUtil.getTodayTime();\r\n\t\t\r\n\t\tMemberDto dto = new MemberDto(id, name, password, area, address, \r\n\t\t\t\tmobile_1, mobile_2, mobile_3, gender, hobby_travel, hobby_reading, hobby_sports,\r\n\t\t\t\treg_date, passwordLength);\r\n\t\tint result = dao.memberJoin(dto);\r\n\t\tString msg = name+&quot;님 회원가입을 축하합니다.&quot;; //join congratulation message\r\n\t\tif(result != 1) msg = &quot;회원가입 실패!&quot;; //join failure message\r\n\t\t\r\n\t\trequest.setAttribute(&quot;t_msg&quot;,msg);\r\n\t\trequest.setAttribute(&quot;t_url&quot;, &quot;/furni/&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMemberController.java\r\n\r\n```\r\npackage co.kr.furni;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport command.member.MemberLogin;\r\nimport command.member.MemberLogout;\r\nimport command.member.MemberMyinfo;\r\nimport command.member.MemberSave;\r\nimport common.CommonExecute;\r\nimport dao.MemberDao;\r\n\r\n@Controller\r\npublic class MemberController {\r\n\t\r\n\t\r\n\t@RequestMapping(&quot;Member&quot;)\r\n\tpublic String member(HttpServletRequest request) {\r\n\t\tString gubun = request.getParameter(&quot;t_gubun&quot;);\r\n\t\tif(gubun == null) gubun = &quot;login&quot;; //null이면 login이라고 초기화 시킨다는뜼\r\n\t\tString viewPage = &quot;&quot;;\r\n\t\t\r\n\t\tif(gubun.equals(&quot;login&quot;)) {\r\n\t\t\tviewPage=&quot;member/member_login&quot;;\r\n\t\t\t\r\n\t\t}else if(gubun.equals(&quot;join&quot;)) {\r\n\t\t\tviewPage=&quot;member/member_join&quot;;\r\n\t\t\t\r\n\t\t}else if(gubun.equals(&quot;MemberSave&quot;)) {\r\n\t\t\t\r\n\t\t\tMemberSave member = new MemberSave();\r\n\t\t\tmember.execute(request);\t\t\t\r\n\t\t\tviewPage=&quot;common_alert&quot;;\r\n\t\t\t\r\n\t\t//로그인\t\r\n\t\t}else if(gubun.equals(&quot;MemberLogin&quot;)) {\r\n\t\t\tCommonExecute member = new MemberLogin();\r\n\t\t\tmember.execute(request);\r\n\t\t\tviewPage = &quot;common_alert&quot;;\r\n\r\n\t\t//로그아웃\t\r\n\t\t}else if(gubun.equals(&quot;logout&quot;)) {\r\n\t\t\tCommonExecute member = new MemberLogout();\r\n\t\t\tmember.execute(request);\r\n\t\t\tviewPage = &quot;common_alert&quot;;\r\n\t\t\t\r\n\t\t//내정보\r\n\t\t}else if(gubun.equals(&quot;myinfo&quot;)) {\r\n\t\t\tHttpSession session = request.getSession();\r\n\t\t\tString id = (String)session.getAttribute(&quot;sessionId&quot;);\r\n\t\t\tif(id == null) {\r\n\t\t\t\t\r\n\t\t\t\trequest.setAttribute(&quot;t_msg&quot;, &quot;세션 정보가 만료되었습니다&quot;);\r\n\t\t\t\trequest.setAttribute(&quot;t_url&quot;, &quot;Member&quot;);\r\n\t\t\t\tviewPage = &quot;common_alert&quot;;\r\n\t\t\t\t\r\n\t\t\t}else {\r\n\t\t\t\t\r\n\t\t\t\tCommonExecute member = new MemberMyinfo();\r\n\t\t\t\tmember.execute(request);\r\n\t\t\t\tviewPage = &quot;member/member_myinfo&quot;;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\treturn viewPage;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;MemberCheckId&quot;)\r\n\tpublic void memberCheckId(HttpServletRequest request, HttpServletResponse response) {\r\n\t\tMemberDao dao = new MemberDao();\r\n\t\t\r\n\t\tString id = request.getParameter(&quot;t_id&quot;);\r\n\t\t\r\n\t\tint count = dao.getIdCount(id);\r\n\t\t\r\n\t\t\r\n\t\tresponse.setContentType(&quot;text/html;charset=utf-8&quot;);\r\n\t\tPrintWriter out = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tout = response.getWriter();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tif(count == 0) out.print(&quot;사용가능&quot;); //can do it \r\n\t\telse out.print(&quot;사용불가&quot;); //cannot do it\r\n\t\t\r\n\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nfile&#39;s source code\r\n\r\n[enter image description here](https://i.stack.imgur.com/Rhx75.png)\r\n\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\n[enter image description here][3]\r\n\r\nPeeking into the console part of STS3, replacing the Java version with a different one, shutting down and restarting the MacBook,\r\n\r\nI can&#39;t even get the problem to come up.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/otBRS.png\r\n  [2]: https://i.stack.imgur.com/CMp35.png\r\n  [3]: https://i.stack.imgur.com/gONKe.png","title":"&quot;STS3 Webpage ID Duplication Check Not Functioning for Login and Membership: Need Help!&quot;","body":"<p>I'm practicing the process of creating a webpage with STS3, but the ID duplication check function doesn't work on the webpage for login and membership.</p>\n<p>I'm creating a Spring legacy project with STS3 to practice creating web pages. In the Windows 10 environment, the login/logout is implemented properly, and the part that checks for duplicate usernames on the signup page is also implemented properly.</p>\n<p>I wanted to work on my personal M1 MacBook, so I moved the entire project to my MacBook,</p>\n<p>The problem is that the lab website works, but the login function does not work at all, and the button to check for duplicate IDs on the signup page does not work.</p>\n<p>More specific symptoms are</p>\n<p>When I enter my ID and password and try to log in, it says</p>\n<p>I get a warning that the ID and password don't match and I can't log in.</p>\n<p>If you enter a random ID and click the duplicate check button when registering, it will not work.</p>\n<p>&quot;Communication failure!&quot; is displayed.</p>\n<p>This problem did not occur at all when working with Windows.</p>\n<p>The problem is that the log record in the console window of STS3 only contains logs related to the execution of server connection.</p>\n<p>and no error messages are displayed.</p>\n<p>I have no idea what source code I need to show to resolve this issue.</p>\n<p>Which files should I modify?</p>\n<p>It works fine on Windows, but not on Mac.</p>\n<p>I have no idea if I need to modify anything or what the problem is.</p>\n<p>I don't even know how to ask in this case.</p>\n<p>The Java version is JRE 1.8.121.13 and the</p>\n<p>Tomcat server is 8.5</p>\n<p>STS3 version is 3.9.13.</p>\n<p>MacOS is the most recent version of Ventura.</p>\n<p>I honestly can't even figure out what code I should be uploading right now, so I'm starting with the entire member_login.jsp. I'm listing all the files in the project just in case, and if you need any of them to help you troubleshoot, let me know.</p>\n<p>I'll show you everything except for private information like IPs.</p>\n<p>The product, purchasing, message board, and news sections are not yet implemented as I'm still working on them.</p>\n<p><a href=\"https://i.stack.imgur.com/L6NRr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/BHO0k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The Korean version of that screenshot is</p>\n<p>respectively</p>\n<p>The ID or password is not correct.(ID나 비밀번호가 맞지않습니다.</p>\n<p>Communication failure (통신실패)</p>\n<p>This means that</p>\n<p>first here is In order from top to bottom</p>\n<p>member_login.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n    function goPw(){\n        \n        mem.t_pw.focus();\n        \n    }\n    function memberLogin(){\n        mem.t_gubun.value = &quot;MemberLogin&quot;;\n        mem.method=&quot;post&quot;;\n        mem.action=&quot;Member&quot;;\n        mem.submit();\n        \n    }\n&lt;/script&gt;\n        &lt;div id=&quot;b_left&quot;&gt;\n            &lt;P&gt;MEMBER&lt;/P&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('login')&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('join')&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n\n        &lt;div id=&quot;b_right&quot;&gt;\n            &lt;p class=&quot;n_title&quot;&gt;\n                MEMBER LOGIN\n            &lt;/p&gt;\n        \n            &lt;div class=&quot;login&quot;&gt;\n                &lt;div class=&quot;member_boxL&quot;&gt;\n                    &lt;h2&gt;LOGIN&lt;/h2&gt;\n                    &lt;div class=&quot;login_form&quot;&gt;\n                        &lt;form name=&quot;mem&quot;&gt;\n                            &lt;input type=&quot;hidden&quot; name=&quot;t_gubun&quot;&gt;\n                            &lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;mbrId&quot;&gt;아이디&lt;/label&gt;&lt;input name=&quot;t_id&quot; autofocus id=&quot;mbrId&quot; type=&quot;text&quot; onkeypress=&quot;if( event.keyCode==13 ){goPw()}&quot;&gt;&lt;/div&gt;\n                            &lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;scrtNo&quot;&gt;비밀번호&lt;/label&gt;&lt;input name=&quot;t_pw&quot; id=&quot;scrtNo&quot; type=&quot;password&quot; onkeypress=&quot;if( event.keyCode==13 ){memberLogin()}&quot;&gt;&lt;/div&gt;\n                            &lt;a class=&quot;btn_login btn_Blue&quot; href=&quot;javascript:memberLogin()&quot;&gt;로그인&lt;/a&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n                   \n                &lt;/div&gt;      \n            &lt;/div&gt;\n\n        &lt;/div&gt;  \n\n        &lt;div id=&quot;b_bottom&quot;&gt;\n        &lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;     \n        &lt;/div&gt;  \n    &lt;/div&gt;  \n&lt;/body&gt;\n&lt;/html&gt;\n    \n</code></pre>\n<p>member_join.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\n &lt;script type=&quot;text/javascript&quot;&gt;\n    function goJoin(){\n        \n        \n        if(checkValue(mem.t_id,&quot;Enter your ID!&quot;)) return;\n    \n        \n        if(mem.yesId.value == &quot;&quot;){\n            alert(&quot;this is not a valid ID.&quot;);\n            mem.t_id.focus();\n            return;\n        }\n\n        if(checkValue(mem.t_name,&quot;Enter your name!&quot;)) return;\n\n        if(checkValue(mem.t_password,&quot;Enter your password!&quot;)) return;\n    \n        if(checkValue(mem.t_password_confirm,&quot;check password!&quot;)) return;\n\n        if(checkValue(mem.t_address, &quot;Enter your address!&quot;)) return;\n\n        if(checkValue(mem.t_mobile_1, &quot;enter your mobile number!&quot;)) return;\n\n        if(checkValue(mem.t_mobile_2, &quot;enter your mobile number!&quot;)) return;\n\n        if(checkValue(mem.t_mobile_3, &quot;enter your mobile number!&quot;)) return;\n\n        if(checkValue(mem.t_gender, &quot;select your gender!&quot;)) return;\n\n        \n\n        mem.t_gubun.value=&quot;MemberSave&quot;;\n        mem.method=&quot;post&quot;;\n        mem.action=&quot;Member&quot;;\n        mem.submit();\n        \n        \n    }\n    \n    function checkID(){\n        if(checkValue(mem.t_id,&quot;ID 입력 후 중복검사하시오!!&quot;)) return;\n        $.ajax({\n            type : &quot;POST&quot;,\n            url : &quot;MemberCheckId&quot;,\n            data: &quot;t_id=&quot;+mem.t_id.value,\n            dataType : &quot;text&quot;,\n            error : function(){\n                alert('통신실패!!!!!');\n            },\n            success : function(data){\n                alert(data);\n                if(data == &quot;사용가능&quot;){\n                    \n                    $(&quot;#idResult&quot;).text(data); //javscript에서 css적용하는 요소로 idResult가 id요소라 #사용\n                    $(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\n                    mem.yesId.value = mem.t_id.value;\n                    \n                }else if(data == &quot;사용불가&quot;) {\n                    $(&quot;#idResult&quot;).text(data);\n                    $(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\n                    mem.yesId.value = &quot;&quot;;\n                }\n                \n            }\n        });             \n    }\n \n &lt;/script&gt;\n        &lt;div id=&quot;b_left&quot;&gt;\n            &lt;P&gt;MEMBER&lt;/P&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('login')&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('join')&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n        \n        &lt;div id=&quot;b_right&quot;&gt;\n            &lt;p class=&quot;n_title&quot;&gt;\n                MEMBER JOIN\n            &lt;/p&gt;\n            &lt;form name=&quot;mem&quot;&gt;   \n            &lt;input name=&quot;t_gubun&quot;&gt;      \n            &lt;table class=&quot;boardForm&quot;&gt;\n              &lt;colgroup&gt;\n                &lt;col width=&quot;200&quot; /&gt;\n                &lt;col width=&quot;500&quot; /&gt;\n              &lt;/colgroup&gt;\n              &lt;tbody&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;&lt;label for=&quot;id&quot;&gt;I D&lt;/label&gt;&lt;/th&gt;\n                  &lt;td&gt;\n                    &lt;input name=&quot;t_id&quot; type=&quot;text&quot; size=&quot;10&quot; id=&quot;id&quot; title=&quot;id입력하세요&quot;&gt;\n                    &lt;input type=&quot;button&quot; onclick=&quot;checkID()&quot; value=&quot;ID중복검사&quot; class=&quot;checkB&quot;&gt;\n                    &lt;span id=&quot;idResult&quot;&gt;&lt;/span&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;yesId&quot;&gt;\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;&lt;label for=&quot;nana&quot;&gt;성 명&lt;/label&gt;&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_name&quot; type=&quot;text&quot; size=&quot;8&quot; id=&quot;nana&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;비밀번호&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_password&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;비밀번호확인&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_password_confirm&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;지역&lt;/th&gt;\n                  &lt;td&gt;\n                    &lt;select name=&quot;t_area&quot;&gt;\n                        &lt;option value=&quot;02&quot;&gt;서울&lt;/option&gt;\n                        &lt;option value=&quot;042&quot;&gt;대전&lt;/option&gt;\n                        &lt;option value=&quot;051&quot;&gt;부산&lt;/option&gt;\n                        &lt;option value=&quot;053&quot;&gt;대구&lt;/option&gt;        \n                    &lt;/select&gt;     \n                  &lt;/td&gt;\n                &lt;/tr&gt;   \n                \n                &lt;tr&gt;\n                  &lt;th&gt;주소&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_address&quot; type=&quot;text&quot; size=&quot;40&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;연락처&lt;/th&gt;\n                  &lt;td&gt;\n                    &lt;input name=&quot;t_mobile_1&quot; type=&quot;text&quot; size=&quot;3&quot;&gt; -\n                    &lt;input name=&quot;t_mobile_2&quot; type=&quot;text&quot; size=&quot;4&quot;&gt; -\n                    &lt;input name=&quot;t_mobile_3&quot; type=&quot;text&quot; size=&quot;4&quot;&gt;\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;남여구분&lt;/th&gt;\n                  &lt;td&gt;\n                      &lt;input type=&quot;radio&quot; value=&quot;f&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 여&amp;nbsp;&amp;nbsp;        \n                      &lt;input type=&quot;radio&quot; value=&quot;m&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 남        \n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;취미&lt;/th&gt;\n                  &lt;td&gt;\n                      &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_travel&quot; class=&quot;middleCheck&quot; /&gt; 여행&amp;nbsp;&amp;nbsp; \n                      &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_reading&quot; class=&quot;middleCheck&quot; /&gt; 독서&amp;nbsp;&amp;nbsp; \n                      &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_sports&quot; class=&quot;middleCheck&quot; /&gt; 운동\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/tbody&gt;\n            &lt;/table&gt;\n            &lt;/form&gt;\n            &lt;div class=&quot;buttonGroup_center&quot;&gt;\n                &lt;a href=&quot;javascript:goJoin()&quot; class=&quot;butt&quot;&gt;JOIN&lt;/a&gt;\n            &lt;/div&gt;  \n        &lt;/div&gt;  \n\n        &lt;div id=&quot;b_bottom&quot;&gt;\n        &lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;\n        &lt;/div&gt;  \n    &lt;/div&gt;  \n&lt;/body&gt;\n&lt;/html&gt;\n    \n</code></pre>\n<p>MemberLogin.java</p>\n<pre><code>package command.member;\n\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpSession;\n\nimport common.CommonExecute;\nimport common.CommonUtil;\nimport dao.MemberDao;\n\npublic class MemberLogin implements CommonExecute {\n\n    @Override\n    public void execute(HttpServletRequest request) {\n        MemberDao dao = new MemberDao();\n        String id = request.getParameter(&quot;t_id&quot;);\n        String pw = request.getParameter(&quot;t_pw&quot;);\n        try {\n            pw = dao.encryptSHA256(pw);\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        String name = dao.getLoginName(id, pw);\n        String msg = &quot;&quot;, url =&quot;&quot;;\n        if(name.equals(&quot;&quot;)) {\n            msg = &quot;This ID or password is incorrect.&quot;;\n            url = &quot;Member&quot;;\n        }else {\n            msg = name+&quot;님 환영합니다!&quot;;//&quot;welcome!&quot;+name+&quot;~!&quot;\n            url = &quot;/furni/&quot;;\n        \n            String loginTime = CommonUtil.getTodayTime();\n            int result = dao.setLoginTime(id, loginTime);\n            if(result != 1) System.out.println(&quot;로그인 처리 최종로그인 시간 업데이트 오류&quot;);\n            \n            \n            \n            \n            \n            //정상동작확인이 되었으면 세션을 만든다.\n            HttpSession session = request.getSession();//이후 세션 변수설정\n            session.setAttribute(&quot;sessionId&quot;, id);\n            session.setAttribute(&quot;sessionName&quot;, name);\n            if(id.equals(&quot;manager&quot;)) {\n                session.setAttribute(&quot;sessionLevel&quot;, &quot;top&quot;);\n            }\n            session.setMaxInactiveInterval(60*60);\n        }\n        request.setAttribute(&quot;t_msg&quot;, msg);\n        request.setAttribute(&quot;t_url&quot;, url);\n        \n\n    }\n\n}\n</code></pre>\n<p>MemberSave.java</p>\n<pre><code>package command.member;\n\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport common.CommonExecute;\nimport common.CommonUtil;\nimport dao.MemberDao;\nimport dto.MemberDto;\n\npublic class MemberSave implements CommonExecute {\n\n    @Override\n    public void execute(HttpServletRequest request) {\n        MemberDao dao = new MemberDao();\n        String id = request.getParameter(&quot;t_id&quot;);\n        String name = request.getParameter(&quot;t_name&quot;);\n        String password = request.getParameter(&quot;t_password&quot;);\n        int passwordLength = password.length();\n        try {\n            password = dao.encryptSHA256(password);\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        String area = request.getParameter(&quot;t_area&quot;);\n        String address = request.getParameter(&quot;t_address&quot;);\n        String mobile_1 = request.getParameter(&quot;t_mobile_1&quot;);\n        String mobile_2 = request.getParameter(&quot;t_mobile_2&quot;);\n        String mobile_3 = request.getParameter(&quot;t_mobile_3&quot;);\n        String gender = request.getParameter(&quot;t_gender&quot;);\n        String hobby_travel = request.getParameter(&quot;t_hobby_travel&quot;);\n        String hobby_reading = request.getParameter(&quot;t_hobby_reading&quot;);\n        String hobby_sports = request.getParameter(&quot;t_hobby_sports&quot;);\n        if(hobby_travel == null) hobby_travel = &quot;n&quot;;\n        if(hobby_reading == null) hobby_reading = &quot;n&quot;;\n        if(hobby_sports == null) hobby_sports = &quot;n&quot;;\n        String reg_date = CommonUtil.getTodayTime();\n        \n        MemberDto dto = new MemberDto(id, name, password, area, address, \n                mobile_1, mobile_2, mobile_3, gender, hobby_travel, hobby_reading, hobby_sports,\n                reg_date, passwordLength);\n        int result = dao.memberJoin(dto);\n        String msg = name+&quot;님 회원가입을 축하합니다.&quot;; //join congratulation message\n        if(result != 1) msg = &quot;회원가입 실패!&quot;; //join failure message\n        \n        request.setAttribute(&quot;t_msg&quot;,msg);\n        request.setAttribute(&quot;t_url&quot;, &quot;/furni/&quot;);\n    }\n\n}\n</code></pre>\n<p>MemberController.java</p>\n<pre><code>package co.kr.furni;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport command.member.MemberLogin;\nimport command.member.MemberLogout;\nimport command.member.MemberMyinfo;\nimport command.member.MemberSave;\nimport common.CommonExecute;\nimport dao.MemberDao;\n\n@Controller\npublic class MemberController {\n    \n    \n    @RequestMapping(&quot;Member&quot;)\n    public String member(HttpServletRequest request) {\n        String gubun = request.getParameter(&quot;t_gubun&quot;);\n        if(gubun == null) gubun = &quot;login&quot;; //null이면 login이라고 초기화 시킨다는뜼\n        String viewPage = &quot;&quot;;\n        \n        if(gubun.equals(&quot;login&quot;)) {\n            viewPage=&quot;member/member_login&quot;;\n            \n        }else if(gubun.equals(&quot;join&quot;)) {\n            viewPage=&quot;member/member_join&quot;;\n            \n        }else if(gubun.equals(&quot;MemberSave&quot;)) {\n            \n            MemberSave member = new MemberSave();\n            member.execute(request);            \n            viewPage=&quot;common_alert&quot;;\n            \n        //로그인   \n        }else if(gubun.equals(&quot;MemberLogin&quot;)) {\n            CommonExecute member = new MemberLogin();\n            member.execute(request);\n            viewPage = &quot;common_alert&quot;;\n\n        //로그아웃  \n        }else if(gubun.equals(&quot;logout&quot;)) {\n            CommonExecute member = new MemberLogout();\n            member.execute(request);\n            viewPage = &quot;common_alert&quot;;\n            \n        //내정보\n        }else if(gubun.equals(&quot;myinfo&quot;)) {\n            HttpSession session = request.getSession();\n            String id = (String)session.getAttribute(&quot;sessionId&quot;);\n            if(id == null) {\n                \n                request.setAttribute(&quot;t_msg&quot;, &quot;세션 정보가 만료되었습니다&quot;);\n                request.setAttribute(&quot;t_url&quot;, &quot;Member&quot;);\n                viewPage = &quot;common_alert&quot;;\n                \n            }else {\n                \n                CommonExecute member = new MemberMyinfo();\n                member.execute(request);\n                viewPage = &quot;member/member_myinfo&quot;;\n                \n            }\n            \n                \n        }\n    \n        \n        return viewPage;\n    }\n    \n    @RequestMapping(&quot;MemberCheckId&quot;)\n    public void memberCheckId(HttpServletRequest request, HttpServletResponse response) {\n        MemberDao dao = new MemberDao();\n        \n        String id = request.getParameter(&quot;t_id&quot;);\n        \n        int count = dao.getIdCount(id);\n        \n        \n        response.setContentType(&quot;text/html;charset=utf-8&quot;);\n        PrintWriter out = null;\n        \n        try {\n            out = response.getWriter();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        if(count == 0) out.print(&quot;사용가능&quot;); //can do it \n        else out.print(&quot;사용불가&quot;); //cannot do it\n        \n    \n    }\n    \n}\n</code></pre>\n<p>file's source code</p>\n<p><a href=\"https://i.stack.imgur.com/Rhx75.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/otBRS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/CMp35.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/gONKe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Peeking into the console part of STS3, replacing the Java version with a different one, shutting down and restarting the MacBook,</p>\n<p>I can't even get the problem to come up.</p>\n"},{"tags":["java","assertj"],"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1694621965,"post_id":77098773,"comment_id":135916374,"body_markdown":"Can you also share the exact `assertThat` method. Is it `org.assertj.core.api.FactoryBasedNavigableListAssert.assertThat` or `org.assertj.db.api.Assertions.assertThat` or another one?","body":"Can you also share the exact <code>assertThat</code> method. Is it <code>org.assertj.core.api.FactoryBasedNavigableListAssert.assertT&zwnj;&#8203;hat</code> or <code>org.assertj.db.api.Assertions.assertThat</code> or another one?"},{"owner":{"account_id":4263829,"reputation":1127,"user_id":3487441,"accept_rate":86,"display_name":"gph"},"score":0,"creation_date":1694627926,"post_id":77098773,"comment_id":135917511,"body_markdown":"@WLefever added an import statement to clarify.","body":"@WLefever added an import statement to clarify."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1694653634,"post_id":77098773,"comment_id":135920875,"body_markdown":"That the [iterable returned by `extracting` is not null](https://javadoc.io/doc/org.assertj/assertj-core/3.12.2/org/assertj/core/api/AbstractListAssert.html).","body":"That the <a href=\"https://javadoc.io/doc/org.assertj/assertj-core/3.12.2/org/assertj/core/api/AbstractListAssert.html\" rel=\"nofollow noreferrer\">iterable returned by <code>extracting</code> is not null</a>."},{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":2,"creation_date":1694677023,"post_id":77098773,"comment_id":135923202,"body_markdown":"I honestly find your question fair and I tried to make it clearer with my edit, but unfortunately I cannot vote to reopen it. The answer is 1, i.e., it checks that the iterable returned by `extracting` is not null. For the check you&#39;d like to perform, I suggest the following: `assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).doesNotContainNull();`","body":"I honestly find your question fair and I tried to make it clearer with my edit, but unfortunately I cannot vote to reopen it. The answer is 1, i.e., it checks that the iterable returned by <code>extracting</code> is not null. For the check you&#39;d like to perform, I suggest the following: <code>assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).doesNotContainNull();</code>"}],"answers":[{"comments":[{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":1,"creation_date":1694682942,"post_id":77103090,"comment_id":135924311,"body_markdown":"`extracting` in conjunction with `isNotNull` DOES NOT check that every value extracted is not null.","body":"<code>extracting</code> in conjunction with <code>isNotNull</code> DOES NOT check that every value extracted is not null."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1694686451,"post_id":77103090,"comment_id":135925128,"body_markdown":"`extracting` returns an [AbstractListAssert](https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractListAssert.html). Where is the `toList()` method of that class documented?","body":"<code>extracting</code> returns an <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractListAssert.html\" rel=\"nofollow noreferrer\">AbstractListAssert</a>. Where is the <code>toList()</code> method of that class documented?"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":1,"creation_date":1694694322,"post_id":77103090,"comment_id":135926777,"body_markdown":"@k314159: I corrected","body":"@k314159: I corrected"}],"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694696641,"creation_date":1694680346,"answer_id":77103090,"question_id":77098773,"body_markdown":"When you use AssertJ&#39;s `extracting` method followed by `isNotNull()`, it checks if the **list of Objects itself is not null**, not each individual extracted value. \r\n\r\nGiven your example:\r\n```java\r\nassertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\r\n```\r\n\r\nHere&#39;s what it checks:\r\n\r\n1. For every `MyObject` in `theList`, it extracts values of `fieldA` and `fieldB`.\r\n2. The values are combined into an object (for two fields, it&#39;ll be a pair).\r\n3. The `isNotNull()` method then asserts that the list of Object itself is not null.\r\n\r\n\r\n\r\nThe following code can ensure every value in every object is not null. If any null values are present, the assertion will fail:\r\n  \r\n \r\n\r\n        import static org.assertj.core.api.Assertions.assertThat;\r\n        import java.util.Arrays;\r\n        import java.util.List;\r\n    public class test {\r\n    \t static class MyObject {\r\n    \t        String fieldA;\r\n    \t        String fieldB;\r\n    \r\n    \t        public MyObject(String fieldA, String fieldB) {\r\n    \t            this.fieldA = fieldA;\r\n    \t            this.fieldB = fieldB;\r\n    \t        }\r\n    \r\n    \t        // Getter methods for fieldA and fieldB\r\n    \t        public String getFieldA() {\r\n    \t            return fieldA;\r\n    \t        }\r\n    \r\n    \t        public String getFieldB() {\r\n    \t            return fieldB;\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t    public static void main(String[] args) {\r\n    \t        List&lt;MyObject&gt; theList = Arrays.asList(\r\n    \t            new MyObject(&quot;valueA1&quot;, &quot;valueB1&quot;),\r\n    \t            new MyObject(&quot;valueA2&quot;, &quot;valueB2&quot;),\r\n    \t            new MyObject(&quot;valueA3&quot;, &quot;valueB3&quot;),\r\n    \t            new MyObject(null, &quot;valueB4&quot;),  \r\n    \t            new MyObject(&quot;valueA5&quot;, null)  \r\n    \t        );\r\n    \r\n    \t        try {\r\n    \t            assertThat(theList).extracting(MyObject::getFieldA).doesNotContainNull();\r\n    \t            System.out.println(&quot;Assertion for fieldA passed.&quot;);\r\n    \t        } catch (AssertionError e) {\r\n    \t            System.out.println(&quot;Assertion for fieldA failed: &quot; + e.getMessage());\r\n    \t        }\r\n    \r\n    \t        try {\r\n    \t            assertThat(theList).extracting(MyObject::getFieldB).doesNotContainNull();\r\n    \t            System.out.println(&quot;Assertion for fieldB passed.&quot;);\r\n    \t        } catch (AssertionError e) {\r\n    \t            System.out.println(&quot;Assertion for fieldB failed: &quot; + e.getMessage());\r\n    \t        }\r\n    \t    }\r\n\t}\r\n\r\n\r\n\r\nAs you see, this way you can even determine **which element caused a failure**: fieldA or fieldB.\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1Koz.png\r\n","title":"How do I check that no value is null after calling extracting on a list of objects?","body":"<p>When you use AssertJ's <code>extracting</code> method followed by <code>isNotNull()</code>, it checks if the <strong>list of Objects itself is not null</strong>, not each individual extracted value.</p>\n<p>Given your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\n</code></pre>\n<p>Here's what it checks:</p>\n<ol>\n<li>For every <code>MyObject</code> in <code>theList</code>, it extracts values of <code>fieldA</code> and <code>fieldB</code>.</li>\n<li>The values are combined into an object (for two fields, it'll be a pair).</li>\n<li>The <code>isNotNull()</code> method then asserts that the list of Object itself is not null.</li>\n</ol>\n<p>The following code can ensure every value in every object is not null. If any null values are present, the assertion will fail:</p>\n<pre><code>    import static org.assertj.core.api.Assertions.assertThat;\n    import java.util.Arrays;\n    import java.util.List;\npublic class test {\n     static class MyObject {\n            String fieldA;\n            String fieldB;\n\n            public MyObject(String fieldA, String fieldB) {\n                this.fieldA = fieldA;\n                this.fieldB = fieldB;\n            }\n\n            // Getter methods for fieldA and fieldB\n            public String getFieldA() {\n                return fieldA;\n            }\n\n            public String getFieldB() {\n                return fieldB;\n            }\n        }\n\n        public static void main(String[] args) {\n            List&lt;MyObject&gt; theList = Arrays.asList(\n                new MyObject(&quot;valueA1&quot;, &quot;valueB1&quot;),\n                new MyObject(&quot;valueA2&quot;, &quot;valueB2&quot;),\n                new MyObject(&quot;valueA3&quot;, &quot;valueB3&quot;),\n                new MyObject(null, &quot;valueB4&quot;),  \n                new MyObject(&quot;valueA5&quot;, null)  \n            );\n\n            try {\n                assertThat(theList).extracting(MyObject::getFieldA).doesNotContainNull();\n                System.out.println(&quot;Assertion for fieldA passed.&quot;);\n            } catch (AssertionError e) {\n                System.out.println(&quot;Assertion for fieldA failed: &quot; + e.getMessage());\n            }\n\n            try {\n                assertThat(theList).extracting(MyObject::getFieldB).doesNotContainNull();\n                System.out.println(&quot;Assertion for fieldB passed.&quot;);\n            } catch (AssertionError e) {\n                System.out.println(&quot;Assertion for fieldB failed: &quot; + e.getMessage());\n            }\n        }\n}\n</code></pre>\n<p>As you see, this way you can even determine <strong>which element caused a failure</strong>: fieldA or fieldB.</p>\n<p><a href=\"https://i.stack.imgur.com/I1Koz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I1Koz.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1694685297,"post_id":77103424,"comment_id":135924864,"body_markdown":"This is a good answer as it&#39;s the most succinct piece of code that does what the OP wants. However, if they wanted to have more detail in the assertion failure message, such as which element of the list contains a null field, then it would take a lot more code.","body":"This is a good answer as it&#39;s the most succinct piece of code that does what the OP wants. However, if they wanted to have more detail in the assertion failure message, such as which element of the list contains a null field, then it would take a lot more code."},{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":1,"creation_date":1694686793,"post_id":77103424,"comment_id":135925187,"body_markdown":"Thanks, I&#39;ve added possible options in case more detailed messages are required.","body":"Thanks, I&#39;ve added possible options in case more detailed messages are required."}],"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694694227,"creation_date":1694682826,"answer_id":77103424,"question_id":77098773,"body_markdown":"Following your example:\r\n\r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\r\n\r\n[`isNotNull`][1] only checks that the `Iterable` of tuples returned by [`extracting`][2] is not null.\r\n\r\n## `flatExtracting` + `doesNotContainNull`\r\n\r\nTo check that none of the extracted values are null, you can use [`flatExtracting`][3] and [`doesNotContainNull`][4]:\r\n\r\n    assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;).doesNotContainNull();\r\n\r\nwhich yields a message like the following in case of failures:\r\n\r\n    java.lang.AssertionError: \r\n    Expecting actual:\r\n      [&quot;value1&quot;, &quot;value2&quot;, null, &quot;value4&quot;]\r\n    not to contain null elements\r\n\r\nDue to the flattened nature of the solution, there is no indication of which object caused the failure but can be identified by counting the pairs in the displayed `actual`.\r\n\r\n## `extracting` + `noneMatch`\r\n\r\nThe complexity can be increased for clearer error messages:\r\n\r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).noneMatch(tuple -&gt; tuple.toList().contains(null));\r\n\r\nwhich yields in case of failure:\r\n\r\n    java.lang.AssertionError: [Extracted: fieldA, fieldB] \r\n    Expecting no elements of:\r\n      [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\r\n    to match given predicate but this element did:\r\n      (null, &quot;value4&quot;)\r\n\r\n## `extracting` + `allSatisfy` + `doesNotContainNull`\r\n\r\nAnother option for clearer error messages:\r\n\r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).allSatisfy(tuple -&gt; assertThat(tuple.toList()).doesNotContainNull());\r\n\r\nwhich yields in case of failure:\r\n\r\n    java.lang.AssertionError: [Extracted: fieldA, fieldB] \r\n    Expecting all elements of:\r\n      [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\r\n    to satisfy given requirements, but these elements did not:\r\n    \r\n    (null, &quot;value4&quot;)\r\n    error: \r\n    Expecting actual:\r\n      [null, &quot;value4&quot;]\r\n    not to contain null elements\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#isNotNull()\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)\r\n  [3]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#flatExtracting(java.lang.String...)\r\n  [4]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#doesNotContainNull()","title":"How do I check that no value is null after calling extracting on a list of objects?","body":"<p>Following your example:</p>\n<pre><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\n</code></pre>\n<p><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#isNotNull()\" rel=\"nofollow noreferrer\"><code>isNotNull</code></a> only checks that the <code>Iterable</code> of tuples returned by <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>extracting</code></a> is not null.</p>\n<h2><code>flatExtracting</code> + <code>doesNotContainNull</code></h2>\n<p>To check that none of the extracted values are null, you can use <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#flatExtracting(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>flatExtracting</code></a> and <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#doesNotContainNull()\" rel=\"nofollow noreferrer\"><code>doesNotContainNull</code></a>:</p>\n<pre><code>assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;).doesNotContainNull();\n</code></pre>\n<p>which yields a message like the following in case of failures:</p>\n<pre><code>java.lang.AssertionError: \nExpecting actual:\n  [&quot;value1&quot;, &quot;value2&quot;, null, &quot;value4&quot;]\nnot to contain null elements\n</code></pre>\n<p>Due to the flattened nature of the solution, there is no indication of which object caused the failure but can be identified by counting the pairs in the displayed <code>actual</code>.</p>\n<h2><code>extracting</code> + <code>noneMatch</code></h2>\n<p>The complexity can be increased for clearer error messages:</p>\n<pre><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).noneMatch(tuple -&gt; tuple.toList().contains(null));\n</code></pre>\n<p>which yields in case of failure:</p>\n<pre><code>java.lang.AssertionError: [Extracted: fieldA, fieldB] \nExpecting no elements of:\n  [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\nto match given predicate but this element did:\n  (null, &quot;value4&quot;)\n</code></pre>\n<h2><code>extracting</code> + <code>allSatisfy</code> + <code>doesNotContainNull</code></h2>\n<p>Another option for clearer error messages:</p>\n<pre><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).allSatisfy(tuple -&gt; assertThat(tuple.toList()).doesNotContainNull());\n</code></pre>\n<p>which yields in case of failure:</p>\n<pre><code>java.lang.AssertionError: [Extracted: fieldA, fieldB] \nExpecting all elements of:\n  [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\nto satisfy given requirements, but these elements did not:\n\n(null, &quot;value4&quot;)\nerror: \nExpecting actual:\n  [null, &quot;value4&quot;]\nnot to contain null elements\n</code></pre>\n"}],"owner":{"account_id":4263829,"reputation":1127,"user_id":3487441,"accept_rate":86,"display_name":"gph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":77103424,"answer_count":2,"score":4,"last_activity_date":1694696641,"creation_date":1694621314,"question_id":77098773,"body_markdown":"Using AssertJ in a unit test, I want to extract several properties of a custom object from a list of such objects via [`extracting`][1] and check if they are all non-null.\r\n\r\nFor example, assuming I want to extract `fieldA` and `fieldB` of `MyObject`:\r\n\r\n    import static from org.assertj.core.api.Assertions.assertThat;\r\n\r\n    List&lt;MyObject&gt; theList = ...; \r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).isNotNull();\r\n\r\nI am having trouble figuring out what is being checked.\r\n\r\nIs `isNotNull` checking that:\r\n\r\n1. the iterable returned by `extracting` is not null?\r\n2. no tuples in the list are null?\r\n3. every value in every tuple is not null?\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)","title":"How do I check that no value is null after calling extracting on a list of objects?","body":"<p>Using AssertJ in a unit test, I want to extract several properties of a custom object from a list of such objects via <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>extracting</code></a> and check if they are all non-null.</p>\n<p>For example, assuming I want to extract <code>fieldA</code> and <code>fieldB</code> of <code>MyObject</code>:</p>\n<pre><code>import static from org.assertj.core.api.Assertions.assertThat;\n\nList&lt;MyObject&gt; theList = ...; \nassertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).isNotNull();\n</code></pre>\n<p>I am having trouble figuring out what is being checked.</p>\n<p>Is <code>isNotNull</code> checking that:</p>\n<ol>\n<li>the iterable returned by <code>extracting</code> is not null?</li>\n<li>no tuples in the list are null?</li>\n<li>every value in every tuple is not null?</li>\n</ol>\n"},{"tags":["java","rest","url-parameters"],"answers":[{"tags":[],"owner":{"account_id":266379,"reputation":2371,"user_id":553916,"accept_rate":83,"display_name":"Buddhika Ariyaratne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694682824,"creation_date":1694682824,"answer_id":77103423,"question_id":77103276,"body_markdown":"The issue is with the way you&#39;re trying to access the path parameters. Arrays in Java are 0-indexed, so when you split the path, you should access the values using the correct indices.\r\n\r\nI will change the following\r\n\r\n 1. pathInfo[2] to pathInfo[1] for organizationId. pathInfo[4] to\r\n 2. pathInfo[3] for locationId.\r\n\r\nCan you please try this code with alterations done to address the issue?\r\n\r\n\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    @WebServlet(&quot;/organization/*/location/*&quot;)\r\n    public class LocationServlet extends HttpServlet {\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\r\n            if (pathInfo.length == 4) {\r\n                String organizationId = pathInfo[1];\r\n                String locationId = pathInfo[3];\r\n                // Implement your logic here to fetch data based on organizationId and locationId\r\n                // You can return the results as JSON or any other format.\r\n                // For example:\r\n                // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\r\n                // response.getWriter().write(locationInfo.toString());\r\n                \r\n                response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\r\n            } else {\r\n                response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n                response.getWriter().write(&quot;Invalid URL&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java API URL pattern for multiple path placeholders","body":"<p>The issue is with the way you're trying to access the path parameters. Arrays in Java are 0-indexed, so when you split the path, you should access the values using the correct indices.</p>\n<p>I will change the following</p>\n<ol>\n<li>pathInfo[2] to pathInfo[1] for organizationId. pathInfo[4] to</li>\n<li>pathInfo[3] for locationId.</li>\n</ol>\n<p>Can you please try this code with alterations done to address the issue?</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/organization/*/location/*&quot;)\npublic class LocationServlet extends HttpServlet {\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\n        if (pathInfo.length == 4) {\n            String organizationId = pathInfo[1];\n            String locationId = pathInfo[3];\n            // Implement your logic here to fetch data based on organizationId and locationId\n            // You can return the results as JSON or any other format.\n            // For example:\n            // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\n            // response.getWriter().write(locationInfo.toString());\n            \n            response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\n        } else {\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            response.getWriter().write(&quot;Invalid URL&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694696517,"creation_date":1694696517,"answer_id":77105155,"question_id":77103276,"body_markdown":"As answered by @Buddhika Ariyaratne, you need to fix the indexing value. In addition, noticed the url pattern for the servlet seems invalid.\r\n\r\nInstead of `@WebServlet(&quot;/organization/*/location/*&quot;)`, it should be `@WebServlet(&quot;/organization/*&quot;)`\r\n\r\n","title":"Java API URL pattern for multiple path placeholders","body":"<p>As answered by @Buddhika Ariyaratne, you need to fix the indexing value. In addition, noticed the url pattern for the servlet seems invalid.</p>\n<p>Instead of <code>@WebServlet(&quot;/organization/*/location/*&quot;)</code>, it should be <code>@WebServlet(&quot;/organization/*&quot;)</code></p>\n"}],"owner":{"account_id":1763748,"reputation":11,"user_id":1610132,"display_name":"user1610132"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694696517,"creation_date":1694681809,"question_id":77103276,"body_markdown":"I want to pass two placeholder values to the API, for example details on location id : 50 of the organization is 5\r\n\r\napi.xxx.com/organization/5/location/50\r\n\r\nBelow is my code and it gives a 404. But the code works if you make it for just organization.\r\n\r\nHow can I get it to work with both placeholders?\r\n\r\n\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/organization/*/location/*&quot;)\r\npublic class LocationServlet extends HttpServlet {\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\r\n        if (pathInfo.length == 4) {\r\n            String organizationId = pathInfo[2];\r\n            String locationId = pathInfo[4];\r\n            // Implement your logic here to fetch data based on organizationId and locationId\r\n            // You can return the results as JSON or any other format.\r\n            // For example:\r\n            // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\r\n            // response.getWriter().write(locationInfo.toString());\r\n            \r\n            response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\r\n        } else {\r\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n            response.getWriter().write(&quot;Invalid URL&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Java API URL pattern for multiple path placeholders","body":"<p>I want to pass two placeholder values to the API, for example details on location id : 50 of the organization is 5</p>\n<p>api.xxx.com/organization/5/location/50</p>\n<p>Below is my code and it gives a 404. But the code works if you make it for just organization.</p>\n<p>How can I get it to work with both placeholders?</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/organization/*/location/*&quot;)\npublic class LocationServlet extends HttpServlet {\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\n        if (pathInfo.length == 4) {\n            String organizationId = pathInfo[2];\n            String locationId = pathInfo[4];\n            // Implement your logic here to fetch data based on organizationId and locationId\n            // You can return the results as JSON or any other format.\n            // For example:\n            // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\n            // response.getWriter().write(locationInfo.toString());\n            \n            response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\n        } else {\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            response.getWriter().write(&quot;Invalid URL&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","frida"],"comments":[{"owner":{"account_id":8280075,"reputation":2054,"user_id":6225053,"accept_rate":100,"display_name":"a0x2"},"score":0,"creation_date":1584536218,"post_id":60739417,"comment_id":107465608,"body_markdown":"You can use BurpSuit for that https://portswigger.net/burp","body":"You can use BurpSuit for that <a href=\"https://portswigger.net/burp\" rel=\"nofollow noreferrer\">portswigger.net/burp</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1584542873,"post_id":60739417,"comment_id":107469314,"body_markdown":"@Ben SSL pinning for an Android WebView is pretty complicated AFAIR, have you checked the [Android network Security XML config](https://developer.android.com/training/articles/security-config) if it defines the pinning. If yes you could try to modify the file and resign the app (the latter would also be necessary for injecting the Frida Gadget). Add in the Frida Gadget is described, e.g. [here](https://koz.io/using-frida-on-android-without-root/).","body":"@Ben SSL pinning for an Android WebView is pretty complicated AFAIR, have you checked the <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">Android network Security XML config</a> if it defines the pinning. If yes you could try to modify the file and resign the app (the latter would also be necessary for injecting the Frida Gadget). Add in the Frida Gadget is described, e.g. <a href=\"https://koz.io/using-frida-on-android-without-root/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1584542903,"post_id":60739417,"comment_id":107469329,"body_markdown":"@a2en: Burp is useless for an unrooted device as you can&#39;t install the root CA certificate so that the apps trust burp. Additionally Ben noted that the app performs cert pinning.","body":"@a2en: Burp is useless for an unrooted device as you can&#39;t install the root CA certificate so that the apps trust burp. Additionally Ben noted that the app performs cert pinning."},{"owner":{"account_id":388345,"reputation":664,"user_id":5931191,"display_name":"Arseny Levin"},"score":0,"creation_date":1584613901,"post_id":60739417,"comment_id":107492298,"body_markdown":"Using Frida gadget means repackaging the APK file. Since you already gonna do that, you may first try something simpler: https://stackoverflow.com/a/55165555/5931191 (if that doesn&#39;t work for you - comment here and I&#39;ll help with a Frida set up)\nבהצלחה","body":"Using Frida gadget means repackaging the APK file. Since you already gonna do that, you may first try something simpler: <a href=\"https://stackoverflow.com/a/55165555/5931191\">stackoverflow.com/a/55165555/5931191</a> (if that doesn&#39;t work for you - comment here and I&#39;ll help with a Frida set up) בהצלחה"},{"owner":{"account_id":15745745,"reputation":21,"user_id":11361674,"display_name":"Ben Behor"},"score":0,"creation_date":1584961910,"post_id":60739417,"comment_id":107592624,"body_markdown":"Thanks guys, it seem like it could work however it is not my goal.\nLets try something else:\n\nLet&#39;s assume that i have an app that runs on the background of my mobile.\nI like the app to track the get requests of SSL websites when im surfing chrome.\n- no root device","body":"Thanks guys, it seem like it could work however it is not my goal. Lets try something else:  Let&#39;s assume that i have an app that runs on the background of my mobile. I like the app to track the get requests of SSL websites when im surfing chrome. - no root device"}],"answers":[{"tags":[],"owner":{"account_id":28805757,"reputation":85,"user_id":22061681,"display_name":"Howard Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694696440,"creation_date":1694696440,"answer_id":77105146,"question_id":60739417,"body_markdown":"I would use the SSL unpinning frida snippets from frida code share : https://codeshare.frida.re/@masbog/frida-android-unpinning-ssl/\r\n\r\n    $ frida --codeshare masbog/frida-android-unpinning-ssl -f YOUR_BINARY\r\n\r\nDivert all traffic to your host computer via adb:\r\n\r\n    adb reverse tcp:8080 tcp:8080\r\nto remove \r\n\r\n    adb forward --remove tcp:8080 || adb forward --remove-all\r\n\r\nthen install and run mitmdump/mitmweb (don&#39;t forget to install the certificate in your android device)\r\n\r\n    $ mitmweb","title":"how to use Frida-Gadget to MITM in android","body":"<p>I would use the SSL unpinning frida snippets from frida code share : <a href=\"https://codeshare.frida.re/@masbog/frida-android-unpinning-ssl/\" rel=\"nofollow noreferrer\">https://codeshare.frida.re/@masbog/frida-android-unpinning-ssl/</a></p>\n<pre><code>$ frida --codeshare masbog/frida-android-unpinning-ssl -f YOUR_BINARY\n</code></pre>\n<p>Divert all traffic to your host computer via adb:</p>\n<pre><code>adb reverse tcp:8080 tcp:8080\n</code></pre>\n<p>to remove</p>\n<pre><code>adb forward --remove tcp:8080 || adb forward --remove-all\n</code></pre>\n<p>then install and run mitmdump/mitmweb (don't forget to install the certificate in your android device)</p>\n<pre><code>$ mitmweb\n</code></pre>\n"}],"owner":{"account_id":15745745,"reputation":21,"user_id":11361674,"display_name":"Ben Behor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694696440,"creation_date":1584533848,"question_id":60739417,"body_markdown":"Hi i like to track all the get requests of a website i browse.\r\n\r\nlets assume im using an app in that app there is a WebView that leads to a website.\r\nthe website is doing get requests.\r\nthe website has SSL pinning. \r\ni like to know what are those get requests that the website is doing.\r\n\r\nDuring a google research I found that Frida help me bypass the SSL pinning However, Frida must be used on Rooted devices. I need for not rooted devices.\r\nIt comes to my attention that Frida-Gadget can do that for me.\r\n\r\nis there any explicit guide to do so? \r\n\r\nmy goal is simple to go to a SSL website using my phone and track all the &quot;get&quot; request that the website is doing.\r\n\r\nThank you ! ","title":"how to use Frida-Gadget to MITM in android","body":"<p>Hi i like to track all the get requests of a website i browse.</p>\n\n<p>lets assume im using an app in that app there is a WebView that leads to a website.\nthe website is doing get requests.\nthe website has SSL pinning. \ni like to know what are those get requests that the website is doing.</p>\n\n<p>During a google research I found that Frida help me bypass the SSL pinning However, Frida must be used on Rooted devices. I need for not rooted devices.\nIt comes to my attention that Frida-Gadget can do that for me.</p>\n\n<p>is there any explicit guide to do so? </p>\n\n<p>my goal is simple to go to a SSL website using my phone and track all the \"get\" request that the website is doing.</p>\n\n<p>Thank you ! </p>\n"},{"tags":["java","multithreading","azure","azure-devops","dns"],"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694696140,"creation_date":1694696140,"question_id":77105098,"body_markdown":"I am trying to create the private and public DNS records on Azure using Java, for which I have used the `com.microsoft.azure.management.privatedns.v2018_09_01.implementation.privatednsManager` for creating the **Private DNS** record and\r\n\r\n `com.microsoft.azure.management.dns.implementation.DnsZoneManager` for creating the **Public DNS** record.\r\n\r\nThere are **5 different threads** trying to create the records through the code.\r\n\r\nBut getting the error as:\r\n\r\n    com.microsoft.azure.CloudException: Status code 409, {\\&quot;code\\&quot;:\\&quot;Conflict\\&quot;,\\&quot;message\\&quot;:\\&quot;Another operation is pending for requested object\\&quot;}\r\n\r\nIs there anything wrong with creating the DNS records using threads?\r\nIs there ay other way we can achieve creating the DNS records using threads?\r\n","title":"Error while creating the public and private DNS using threads on Azure: com.microsoft.azure.CloudException: Status code 409","body":"<p>I am trying to create the private and public DNS records on Azure using Java, for which I have used the <code>com.microsoft.azure.management.privatedns.v2018_09_01.implementation.privatednsManager</code> for creating the <strong>Private DNS</strong> record and</p>\n<p><code>com.microsoft.azure.management.dns.implementation.DnsZoneManager</code> for creating the <strong>Public DNS</strong> record.</p>\n<p>There are <strong>5 different threads</strong> trying to create the records through the code.</p>\n<p>But getting the error as:</p>\n<pre><code>com.microsoft.azure.CloudException: Status code 409, {\\&quot;code\\&quot;:\\&quot;Conflict\\&quot;,\\&quot;message\\&quot;:\\&quot;Another operation is pending for requested object\\&quot;}\n</code></pre>\n<p>Is there anything wrong with creating the DNS records using threads?\nIs there ay other way we can achieve creating the DNS records using threads?</p>\n"},{"tags":["javascript","java","android","react-native"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1694697201,"post_id":77104966,"comment_id":135927473,"body_markdown":"the only way for achieving this is to implement `AccessibilityService` and it will be working only when device is on and unlocked","body":"the only way for achieving this is to implement <code>AccessibilityService</code> and it will be working only when device is on and unlocked"}],"owner":{"account_id":25786810,"reputation":33,"user_id":19531466,"display_name":"Harsh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694695104,"creation_date":1694695104,"question_id":77104966,"body_markdown":"I&#39;ve created a module file VolumeManager.java\r\n``` import android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.view.KeyEvent;\r\n\r\npublic class VolumeButtonReceiver extends BroadcastReceiver {\r\n\r\n    private static final int LONG_PRESS_DURATION = 10000; // 10 seconds\r\n    private boolean volumeUpPressed = false;\r\n    private Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\r\n            KeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\r\n            if (event != null &amp;&amp; event.getKeyCode() == KeyEvent.KEYCODE_VOLUME_UP) {\r\n                int action = event.getAction();\r\n                if (action == KeyEvent.ACTION_DOWN) {\r\n                    volumeUpPressed = true;\r\n                    handler.postDelayed(() -&gt; {\r\n                        if (volumeUpPressed) {\r\n                            // Volume up button was held for 10 seconds\r\n                            // Perform the API call here\r\n                            performApiCall(context);\r\n                        }\r\n                        volumeUpPressed = false;\r\n                    }, LONG_PRESS_DURATION);\r\n                } else if (action == KeyEvent.ACTION_UP) {\r\n                    // Volume up button was released\r\n                    volumeUpPressed = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void performApiCall(Context context) {\r\n        // Implement the logic to make an API call here\r\n        // You can use AsyncTask or any other approach to perform the API call\r\n        // Replace this with your API call logic\r\n    }\r\n}\r\n```\r\n to handle long presses of the volume button and open my Android app, even if it&#39;s not in the background. Once the app is opened, I also want to perform additional actions. Can someone review my code and help me understand if I&#39;ve made any mistakes in the implementation or if this approach is feasible? Additionally, how should I configure my AndroidManifest.xml file for this functionality\r\n```\r\n&lt;receiver\r\n    android:name=&quot;.VolumeButtonReceiver&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\n","title":"How to Open Android App After a 10-Second Long Press Even When the App is Not in the Background","body":"<p>I've created a module file VolumeManager.java</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.view.KeyEvent;\n\npublic class VolumeButtonReceiver extends BroadcastReceiver {\n\n    private static final int LONG_PRESS_DURATION = 10000; // 10 seconds\n    private boolean volumeUpPressed = false;\n    private Handler handler = new Handler(Looper.getMainLooper());\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\n            KeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n            if (event != null &amp;&amp; event.getKeyCode() == KeyEvent.KEYCODE_VOLUME_UP) {\n                int action = event.getAction();\n                if (action == KeyEvent.ACTION_DOWN) {\n                    volumeUpPressed = true;\n                    handler.postDelayed(() -&gt; {\n                        if (volumeUpPressed) {\n                            // Volume up button was held for 10 seconds\n                            // Perform the API call here\n                            performApiCall(context);\n                        }\n                        volumeUpPressed = false;\n                    }, LONG_PRESS_DURATION);\n                } else if (action == KeyEvent.ACTION_UP) {\n                    // Volume up button was released\n                    volumeUpPressed = false;\n                }\n            }\n        }\n    }\n\n    private void performApiCall(Context context) {\n        // Implement the logic to make an API call here\n        // You can use AsyncTask or any other approach to perform the API call\n        // Replace this with your API call logic\n    }\n}\n</code></pre>\n<p>to handle long presses of the volume button and open my Android app, even if it's not in the background. Once the app is opened, I also want to perform additional actions. Can someone review my code and help me understand if I've made any mistakes in the implementation or if this approach is feasible? Additionally, how should I configure my AndroidManifest.xml file for this functionality</p>\n<pre><code>&lt;receiver\n    android:name=&quot;.VolumeButtonReceiver&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"},{"tags":["java","powershell","batch-file","environment","payara"],"comments":[{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":1,"creation_date":1694695711,"post_id":77103674,"comment_id":135927095,"body_markdown":"`echo` is a `cmd.exe` internal command. You however are using `powershell.exe`. In PowerShell to see the value of a system environment variable you&#39;d use, ```$Env:JAVA_HOME``` or ```[Environment]::GetEnvironmentVariable(&#39;JAVA_HOME&#39;)```, not ```echo %JAVA_HOME%```.","body":"<code>echo</code> is a <code>cmd.exe</code> internal command. You however are using <code>powershell.exe</code>. In PowerShell to see the value of a system environment variable you&#39;d use, <code>$Env:JAVA_HOME</code> or <code>[Environment]::GetEnvironmentVariable(&#39;JAVA_HOME&#39;)</code>, not <code>echo %JAVA_HOME%</code>."},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1694699038,"post_id":77103674,"comment_id":135927929,"body_markdown":"Thanks, yes now the result is PS C:\\Users\\Edwar\\Downloads\\payara-5.2022.5\\payara5\\bin&gt; $Env:JAVA_HOME\nC:\\Program Files\\Java\\jdk-11.0.17","body":"Thanks, yes now the result is PS C:\\Users\\Edwar\\Downloads\\payara-5.2022.5\\payara5\\bin&gt; $Env:JAVA_HOME C:\\Program Files\\Java\\jdk-11.0.17"},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1694712018,"post_id":77103674,"comment_id":135930752,"body_markdown":"https://stackoverflow.com/questions/50055291/how-to-best-set-the-path-to-java-in-windows","body":"<a href=\"https://stackoverflow.com/questions/50055291/how-to-best-set-the-path-to-java-in-windows\" title=\"how to best set the path to java in windows\">stackoverflow.com/questions/50055291/&hellip;</a>"},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":1,"creation_date":1694712157,"post_id":77103674,"comment_id":135930766,"body_markdown":"I suggest to remove the ` C:\\Program Files\\Common Files\\Oracle\\Java\\javapath` entry from your PATH and try again. Maybe there&#39;s another installation in the way.","body":"I suggest to remove the ` C:\\Program Files\\Common Files\\Oracle\\Java\\javapath` entry from your PATH and try again. Maybe there&#39;s another installation in the way."},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1694720467,"post_id":77103674,"comment_id":135932216,"body_markdown":"done every step suggested but nothing, it remains like this. I installed a virtual machine with Win 11 to test it and everything goes smoothly there","body":"done every step suggested but nothing, it remains like this. I installed a virtual machine with Win 11 to test it and everything goes smoothly there"},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1694816491,"post_id":77103674,"comment_id":135945940,"body_markdown":"aside from reinstalling the JDK I have no more ideas - you could trace the whole thing with Sysinternals ProcMon of course","body":"aside from reinstalling the JDK I have no more ideas - you could trace the whole thing with Sysinternals ProcMon of course"}],"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694695101,"creation_date":1694684582,"question_id":77103674,"body_markdown":"I have to install and launch Payara for a project but at launch using the command .\\asadmin.bat start-domain and the result is this:\r\n\r\n&gt;Error: Could not find or load main class Files\r\nCaused by: java.lang.ClassNotFoundException: Files\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI checked the java version, and the environment variables if they were set correctly.\r\nI also checked the log files to see any errors but none were present. I checked if port 4848 was busy but it is free.\r\n\r\n[![enter image description here][2]][2] [![enter image description here][3]][3]\r\n\r\nI also checked the domain.xml file and I think the port configuration is correct.\r\nlogically I started power shell as administrator to do all this but I can&#39;t understand how to solve the problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ke5zD.png\r\n  [2]: https://i.stack.imgur.com/Et05v.png\r\n  [3]: https://i.stack.imgur.com/clZKF.png","title":"Installation and launch of payara not working","body":"<p>I have to install and launch Payara for a project but at launch using the command .\\asadmin.bat start-domain and the result is this:</p>\n<blockquote>\n<p>Error: Could not find or load main class Files\nCaused by: java.lang.ClassNotFoundException: Files</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/ke5zD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ke5zD.png\" alt=\"enter image description here\" /></a></p>\n<p>I checked the java version, and the environment variables if they were set correctly.\nI also checked the log files to see any errors but none were present. I checked if port 4848 was busy but it is free.</p>\n<p><a href=\"https://i.stack.imgur.com/Et05v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Et05v.png\" alt=\"enter image description here\" /></a> <a href=\"https://i.stack.imgur.com/clZKF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clZKF.png\" alt=\"enter image description here\" /></a></p>\n<p>I also checked the domain.xml file and I think the port configuration is correct.\nlogically I started power shell as administrator to do all this but I can't understand how to solve the problem.</p>\n"},{"tags":["java","encryption","cryptojs"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1694695851,"post_id":77104929,"comment_id":135927132,"body_markdown":"There is no contradiction. ECB is a block cipher mode, i.e. the plaintext size must be an integer multiple of the block size (16 bytes for AES). A 7 bytes plaintext does not meet the length criterion, so padding is required. Since padding is not performed on the Java side (`NoPadding`), an exception is thrown during encryption. On the JavaScript side, however, padding is applied (`ZeroPadding `), which is why encryption works.","body":"There is no contradiction. ECB is a block cipher mode, i.e. the plaintext size must be an integer multiple of the block size (16 bytes for AES). A 7 bytes plaintext does not meet the length criterion, so padding is required. Since padding is not performed on the Java side (<code>NoPadding</code>), an exception is thrown during encryption. On the JavaScript side, however, padding is applied (<code>ZeroPadding </code>), which is why encryption works."},{"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"score":0,"creation_date":1694696545,"post_id":77104929,"comment_id":135927298,"body_markdown":"Ah!!! First of, thank you very much for the tip!  ...ZeroPadding is not the same as NoPadding, I did not realize that. I found the appropriate Java equivalent &quot;ZeroBytePadding&quot; and am testing it now.","body":"Ah!!! First of, thank you very much for the tip!  ...ZeroPadding is not the same as NoPadding, I did not realize that. I found the appropriate Java equivalent &quot;ZeroBytePadding&quot; and am testing it now."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1694696714,"post_id":77104929,"comment_id":135927347,"body_markdown":"More reliable than Zero Padding is PKCS7 Padding! Besides the padding, both codes differ regarding the key derivation. But before you tediously match the codes, you should rethink your concept. ECB is insecure, use a mode with IV (e.g. CBC) or even better authenticated encryption (e.g. GCM). If your key material is a string apply a key derivation function (at least PBKDF2) in combination with a salt. For each encryption a random IV and salt must be created.","body":"More reliable than Zero Padding is PKCS7 Padding! Besides the padding, both codes differ regarding the key derivation. But before you tediously match the codes, you should rethink your concept. ECB is insecure, use a mode with IV (e.g. CBC) or even better authenticated encryption (e.g. GCM). If your key material is a string apply a key derivation function (at least PBKDF2) in combination with a salt. For each encryption a random IV and salt must be created."},{"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"score":0,"creation_date":1694697129,"post_id":77104929,"comment_id":135927458,"body_markdown":"It seems &quot;AES/ECB/ZeroBytePadding&quot; does not exists (https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html) hence I would be required to add / remove 0s for it to match a multiple of 16 bytes myself. Secondly ...unfortunately for me, this is the client requirement (AES/ECB/ZeroPadding) as is the Javascript example I have given ...I don&#39;t have the luxury to offer / create my own encryption method in this case, I do appreciate the input though.","body":"It seems &quot;AES/ECB/ZeroBytePadding&quot; does not exists (<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html</a>) hence I would be required to add / remove 0s for it to match a multiple of 16 bytes myself. Secondly ...unfortunately for me, this is the client requirement (AES/ECB/ZeroPadding) as is the Javascript example I have given ...I don&#39;t have the luxury to offer / create my own encryption method in this case, I do appreciate the input though."}],"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694694853,"creation_date":1694694853,"question_id":77104929,"body_markdown":"**Question:** Using Java*script* and CryptoJS, AES-ECB-ZeroPadding, a key of 16 bytes and a string (to encrypt) of 7 bytes does not produce any errors, but in Java it **does**, why?\r\n\r\n\r\n*Question #2:* How to update the Java code so it can decrypt / encrypt from Javascript (Java is the slave, Javascript is the master I won&#39;t to copy from...)\r\n\r\n!\r\n\r\n--- *See below* #1 Java sample code producing the error\r\n--- #2 Javascript sample NOT producing the error with same key, string and encryption method\r\n\r\n\r\n\r\nJava error:\r\n\r\n    Error while encrypting: javax.crypto.IllegalBlockSizeException: Input length not multiple of 16 bytes\r\n\r\nSample script in Java:\r\n\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class AES {\r\n    \r\n      private static SecretKeySpec secretKey;\r\n      private static byte[] key;\r\n    \r\n      public static void setKey(final String myKey) {\r\n        MessageDigest sha = null;\r\n        try {\r\n          key = myKey.getBytes(&quot;UTF-8&quot;);\r\n          sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n          key = sha.digest(key);\r\n          key = Arrays.copyOf(key, 16);\r\n          secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      public static String encrypt(final String strToEncrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\r\n          cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n          return Base64.getEncoder()\r\n            .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      public static String decrypt(final String strToDecrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\r\n          cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n          return new String(cipher.doFinal(Base64.getDecoder()\r\n            .decode(strToDecrypt)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n\r\n**credit for Java script: http://www.java2s.com/example/java/security/aes-decrypt-with-cipher-mode-aesecbnopadding.html (slightly altered)*\r\n\r\n\r\nSample script in Javascript (using CryptoJS 4.1.1)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var stringKey = document.getElementById(&#39;key&#39;).value;\r\n    var key = CryptoJS.enc.Utf8.parse(stringKey);\r\n    document.getElementById(&#39;keylength&#39;).value = stringKey.length;\r\n\r\n    var inputText = document.getElementById(&#39;input&#39;).value;\r\n    document.getElementById(&#39;inputlength&#39;).value = inputText.length;\r\n\r\n    var encrypted = CryptoJS.AES.encrypt(inputText, key, { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding }); \r\n\r\n    encrypted = encrypted.ciphertext.toString(CryptoJS.enc.Hex).toUpperCase();\r\n\r\n    document.getElementById(&#39;encrypted&#39;).value = encrypted;\r\n    document.getElementById(&#39;encryptedlength&#39;).value = encrypted.length;\r\n\r\n    var decrypted =  CryptoJS.AES.decrypt({ciphertext: CryptoJS.enc.Hex.parse(encrypted)}, key, {mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding });\r\n\r\n    decrypted = decrypted.toString(CryptoJS.enc.Utf8);\r\n    document.getElementById(&#39;decrypted&#39;).value = decrypted;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    html, body { font-family: Helvetica; }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/aes.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/enc-hex.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/md5.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n\r\n    CryptoJS 4.1.1 / AES, ECB, ZeroPadding.\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    string to encrypt:\r\n    &lt;input id=&quot;input&quot; value=&quot;test_12&quot;&gt;\r\n    length: \r\n    &lt;input id=&quot;inputlength&quot; value=&quot;&quot;&gt;\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    key:\r\n    &lt;input id=&quot;key&quot; value=&quot;3F58157108A30139BAD539861614DAC2&quot;&gt;\r\n    length: \r\n    &lt;input id=&quot;keylength&quot; value=&quot;&quot;&gt;\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    encrypted:\r\n    &lt;input id=&quot;encrypted&quot;&gt;\r\n    length: \r\n    &lt;input id=&quot;encryptedlength&quot; value=&quot;&quot;&gt;\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    decrypted:\r\n    &lt;input id=&quot;decrypted&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java AES-ECB-NoPadding not accepting string≠*16 bytes, but Javascript does, why?","body":"<p><strong>Question:</strong> Using Java<em>script</em> and CryptoJS, AES-ECB-ZeroPadding, a key of 16 bytes and a string (to encrypt) of 7 bytes does not produce any errors, but in Java it <strong>does</strong>, why?</p>\n<p><em>Question #2:</em> How to update the Java code so it can decrypt / encrypt from Javascript (Java is the slave, Javascript is the master I won't to copy from...)</p>\n<p>!</p>\n<p>--- <em>See below</em> #1 Java sample code producing the error\n--- #2 Javascript sample NOT producing the error with same key, string and encryption method</p>\n<p>Java error:</p>\n<pre><code>Error while encrypting: javax.crypto.IllegalBlockSizeException: Input length not multiple of 16 bytes\n</code></pre>\n<p>Sample script in Java:</p>\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AES {\n\n  private static SecretKeySpec secretKey;\n  private static byte[] key;\n\n  public static void setKey(final String myKey) {\n    MessageDigest sha = null;\n    try {\n      key = myKey.getBytes(&quot;UTF-8&quot;);\n      sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n      key = sha.digest(key);\n      key = Arrays.copyOf(key, 16);\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n    } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public static String encrypt(final String strToEncrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n      return Base64.getEncoder()\n        .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while encrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n\n  public static String decrypt(final String strToDecrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\n      cipher.init(Cipher.DECRYPT_MODE, secretKey);\n      return new String(cipher.doFinal(Base64.getDecoder()\n        .decode(strToDecrypt)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>*<em>credit for Java script: <a href=\"http://www.java2s.com/example/java/security/aes-decrypt-with-cipher-mode-aesecbnopadding.html\" rel=\"nofollow noreferrer\">http://www.java2s.com/example/java/security/aes-decrypt-with-cipher-mode-aesecbnopadding.html</a> (slightly altered)</em></p>\n<p>Sample script in Javascript (using CryptoJS 4.1.1)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var stringKey = document.getElementById('key').value;\nvar key = CryptoJS.enc.Utf8.parse(stringKey);\ndocument.getElementById('keylength').value = stringKey.length;\n\nvar inputText = document.getElementById('input').value;\ndocument.getElementById('inputlength').value = inputText.length;\n\nvar encrypted = CryptoJS.AES.encrypt(inputText, key, { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding }); \n\nencrypted = encrypted.ciphertext.toString(CryptoJS.enc.Hex).toUpperCase();\n\ndocument.getElementById('encrypted').value = encrypted;\ndocument.getElementById('encryptedlength').value = encrypted.length;\n\nvar decrypted =  CryptoJS.AES.decrypt({ciphertext: CryptoJS.enc.Hex.parse(encrypted)}, key, {mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding });\n\ndecrypted = decrypted.toString(CryptoJS.enc.Utf8);\ndocument.getElementById('decrypted').value = decrypted;</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body { font-family: Helvetica; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/aes.min.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/enc-hex.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/md5.min.js\"&gt;&lt;/script&gt;\n\n\n\nCryptoJS 4.1.1 / AES, ECB, ZeroPadding.\n&lt;hr&gt;\n&lt;br&gt;\nstring to encrypt:\n&lt;input id=\"input\" value=\"test_12\"&gt;\nlength: \n&lt;input id=\"inputlength\" value=\"\"&gt;\n&lt;hr&gt;\n&lt;br&gt;\nkey:\n&lt;input id=\"key\" value=\"3F58157108A30139BAD539861614DAC2\"&gt;\nlength: \n&lt;input id=\"keylength\" value=\"\"&gt;\n&lt;hr&gt;\n&lt;br&gt;\nencrypted:\n&lt;input id=\"encrypted\"&gt;\nlength: \n&lt;input id=\"encryptedlength\" value=\"\"&gt;\n&lt;hr&gt;\n&lt;br&gt;\ndecrypted:\n&lt;input id=\"decrypted\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","postgresql","querydsl"],"comments":[{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694538147,"post_id":77091100,"comment_id":135903216,"body_markdown":"If you want to execute raw SQL, shouldn&#39;t you be using `JPASQLQuery`, rather than `JPAQuery`? JPQL is a different language than SQL, although &quot;heavily inspired by SQL&quot;.","body":"If you want to execute raw SQL, shouldn&#39;t you be using <code>JPASQLQuery</code>, rather than <code>JPAQuery</code>? JPQL is a different language than SQL, although &quot;heavily inspired by SQL&quot;."},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694538721,"post_id":77091100,"comment_id":135903305,"body_markdown":"@scrhartley the problem is that I&#39;ve already a lot of code in JPAQuery that work fine and I&#39;ve a trouble only with this part of code. May exist a way to write it correctly?","body":"@scrhartley the problem is that I&#39;ve already a lot of code in JPAQuery that work fine and I&#39;ve a trouble only with this part of code. May exist a way to write it correctly?"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694543272,"post_id":77091100,"comment_id":135904159,"body_markdown":"What version of QueryDSL are you using?","body":"What version of QueryDSL are you using?"},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694543467,"post_id":77091100,"comment_id":135904200,"body_markdown":"@scrhartley 4.1.4","body":"@scrhartley 4.1.4"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694543837,"post_id":77091100,"comment_id":135904268,"body_markdown":"Does this question about String literals seem relevant? https://stackoverflow.com/questions/23887678/querydsl-case-expression-with-string-value","body":"Does this question about String literals seem relevant? <a href=\"https://stackoverflow.com/questions/23887678/querydsl-case-expression-with-string-value\" title=\"querydsl case expression with string value\">stackoverflow.com/questions/23887678/&hellip;</a>"},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694545059,"post_id":77091100,"comment_id":135904468,"body_markdown":"@scrhartley no, you can see the last screenshot from my question (debug mode), literals looks fine. Also stacktrace have NPE, so it&#39;s a bit different","body":"@scrhartley no, you can see the last screenshot from my question (debug mode), literals looks fine. Also stacktrace have NPE, so it&#39;s a bit different"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694548795,"post_id":77091100,"comment_id":135905113,"body_markdown":"Do you map table.languages to a String[] and it becomes an ArrayPath in the Q class?","body":"Do you map table.languages to a String[] and it becomes an ArrayPath in the Q class?"},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694588157,"post_id":77091100,"comment_id":135909223,"body_markdown":"table.languages is Qtable class that extends EntityPathBase&lt;Table&gt; and languages is column with type json that have only array of strings inside it (like in first screenshot)","body":"table.languages is Qtable class that extends EntityPathBase&lt;Table&gt; and languages is column with type json that have only array of strings inside it (like in first screenshot)"}],"answers":[{"comments":[{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694588007,"post_id":77092484,"comment_id":135909201,"body_markdown":"after changing type casting to this way, nothing changed:(","body":"after changing type casting to this way, nothing changed:("},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694607176,"post_id":77092484,"comment_id":135913004,"body_markdown":"I&#39;m surprised that you don&#39;t get a different type of error, at least. My version gets past the parser, when run locally. I would have thought that perhaps it would have started to complain about any functions it can&#39;t find in the database.","body":"I&#39;m surprised that you don&#39;t get a different type of error, at least. My version gets past the parser, when run locally. I would have thought that perhaps it would have started to complain about any functions it can&#39;t find in the database."},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694608821,"post_id":77092484,"comment_id":135913341,"body_markdown":"I&#39;ve tested different options with type casting and rewriting the entire sql-query, but hibernate always can&#39;t parse something like &#39;as&#39;, &#39;text[]&#39; and other stuff. Helps only creating a custom function in DB and calling it (see my answer).","body":"I&#39;ve tested different options with type casting and rewriting the entire sql-query, but hibernate always can&#39;t parse something like &#39;as&#39;, &#39;text[]&#39; and other stuff. Helps only creating a custom function in DB and calling it (see my answer)."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1694610040,"post_id":77092484,"comment_id":135913631,"body_markdown":"Apologies: I accidentally turned the text[] into a text. I&#39;ve updated the answer to replace the cast to text[] with a call to `string_to_array`.","body":"Apologies: I accidentally turned the text[] into a text. I&#39;ve updated the answer to replace the cast to text[] with a call to <code>string_to_array</code>."}],"tags":[],"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694609938,"creation_date":1694550267,"answer_id":77092484,"question_id":77091100,"body_markdown":"Try switching to this type of cast ([The CAST operator in PostgreSQL](https://www.sqlservercentral.com/articles/the-cast-operator-in-postgresql)) and additionally replacing the cast to text[] with another `string_to_array`, so we have eliminated all the colons and square brackets the parser may choke on:\r\n```sql\r\narraycontains(string_to_array(replace(replace(CAST({0} AS text),&#39;[&#39;,&#39;{&#39;),&#39;]&#39;,&#39;}&#39;),&#39;,&#39;),string_to_array({1},&#39;,&#39;)) = true\r\n```","title":"Postgresql custom expression with QueryDSL","body":"<p>Try switching to this type of cast (<a href=\"https://www.sqlservercentral.com/articles/the-cast-operator-in-postgresql\" rel=\"nofollow noreferrer\">The CAST operator in PostgreSQL</a>) and additionally replacing the cast to text[] with another <code>string_to_array</code>, so we have eliminated all the colons and square brackets the parser may choke on:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>arraycontains(string_to_array(replace(replace(CAST({0} AS text),'[','{'),']','}'),','),string_to_array({1},',')) = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694602485,"creation_date":1694602485,"answer_id":77096418,"question_id":77091100,"body_markdown":"Solved problem by:\r\n\r\n- create function in DB using liqubase script:\r\n\r\n````\r\n        &lt;createProcedure&gt;\r\n            CREATE OR REPLACE FUNCTION jsonb_array_contains(array_jsonb jsonb, string_comma character varying )\r\n            RETURNS bool\r\n            LANGUAGE plpgsql\r\n            AS $$\r\n            BEGIN\r\n                RETURN arraycontains(\r\n                        replace(\r\n                            replace(\r\n                                (array_jsonb)::text,\r\n                                &#39;[&#39;,\r\n                                &#39;{&#39;\r\n                            ),\r\n                            &#39;]&#39;,\r\n                            &#39;}&#39;\r\n                        )::text[],\r\n                        string_to_array(string_comma, &#39;,&#39;)\r\n                    );\r\n            END;\r\n            $$;\r\n        &lt;/createProcedure&gt;\r\n````\r\n\r\n- call this function in boolen template:\r\n\r\n````java\r\n             result.add(\r\n                Expressions.booleanTemplate(\r\n                    &quot;FUNCTION(&#39;jsonb_array_contains&#39;,({0}),&#39;&quot;\r\n                        + String.join(&quot;,&quot;, filter.languages)\r\n                        + &quot;&#39;) = true&quot;,\r\n                    table.languages\r\n                )\r\n            );\r\n````","title":"Postgresql custom expression with QueryDSL","body":"<p>Solved problem by:</p>\n<ul>\n<li>create function in DB using liqubase script:</li>\n</ul>\n<pre><code>        &lt;createProcedure&gt;\n            CREATE OR REPLACE FUNCTION jsonb_array_contains(array_jsonb jsonb, string_comma character varying )\n            RETURNS bool\n            LANGUAGE plpgsql\n            AS $$\n            BEGIN\n                RETURN arraycontains(\n                        replace(\n                            replace(\n                                (array_jsonb)::text,\n                                '[',\n                                '{'\n                            ),\n                            ']',\n                            '}'\n                        )::text[],\n                        string_to_array(string_comma, ',')\n                    );\n            END;\n            $$;\n        &lt;/createProcedure&gt;\n</code></pre>\n<ul>\n<li>call this function in boolen template:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>             result.add(\n                Expressions.booleanTemplate(\n                    &quot;FUNCTION('jsonb_array_contains',({0}),'&quot;\n                        + String.join(&quot;,&quot;, filter.languages)\n                        + &quot;') = true&quot;,\n                    table.languages\n                )\n            );\n</code></pre>\n"}],"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77096418,"answer_count":2,"score":0,"last_activity_date":1694694243,"creation_date":1694536590,"question_id":77091100,"body_markdown":"I have a trouble with writing custom boolean template for where clause using QueryDSL. Simply I need to use arraycontains function to know that table.languages contains values at array of strings from filter. \r\n\r\nWhy Hibernate can&#39;t execute this? The raw sql is fine. \r\n\r\nCode (variables are simplified, on screenshot it will be different):\r\n\r\n```java\r\n    final var test = new JPAQuery&lt;&gt;(this.entityManager)\r\n               .select(table)\r\n               .from(table)\r\n               .where(whereFromFilter(filter))\r\n               .fetch()\r\n    //...some code\r\n    private static Predicate[] whereFromFilter(final Filter filter) {\r\n      final var result = new ArrayList&lt;Predicate&gt;();\r\n      //...some code\r\n      result.add(\r\n                Expressions.booleanTemplate(\r\n                    &quot;arraycontains(replace(replace(({0})::text,&#39;[&#39;,&#39;{&#39;),&#39;]&#39;,&#39;}&#39;)::text[],string_to_array({1},&#39;,&#39;)) = true&quot;,\r\n                    table.languages,\r\n                    &quot;&#39;&quot; + String.join(&quot;,&quot;, filter.languages) + &quot;&#39;&quot;\r\n                )\r\n      );\r\n      //...some code\r\n      return result.toArray(Predicate[]::new);\r\n    }\r\n```\r\n\r\ntable.languages in DB it&#39;s a json object that simply array of strings (so in template I&#39;m converting it to array of strings):\r\n\r\n[![table.languages][1]][1]\r\n\r\nI also try this code in raw sql console and it works fine:\r\n\r\n    SELECT arraycontains(replace(replace((table.languages)::text,&#39;[&#39;,&#39;{&#39;),&#39;]&#39;,&#39;}&#39;)::text[],string_to_array(&#39;CONFIG,PYTHON&#39;, &#39;,&#39;)) is true\r\n    FROM table\r\n\r\n[![screenshot of sql-query result][2]][2]\r\n\r\nAnother filter (not with custom boolean template) works fine:\r\n\r\n```java\r\nresult.add(table.issueCountHigh.goe(filter.issueCountHighMin));\r\n````\r\n\r\nIn debug mode I see that code from custom filter looks similar to code from another filter (that 100% works):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo, what HqlBaseParser can&#39;t parse? SQL functions?\r\n\r\nstacktrace:\r\n\r\n    {\r\n\t&quot;statusCode&quot;: 500,\r\n\t&quot;statusDescription&quot;: &quot;Internal Server Error&quot;,\r\n\t&quot;stacktrace&quot;: &quot;java.lang.NullPointerException\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4770)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalExpression(HqlBaseParser.java:2071)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.whereClause(HqlBaseParser.java:540)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:831)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:336)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:200)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:101)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:94)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.fetch(AbstractJPAQuery.java:201)\\n\\tat \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BIwyK.png\r\n  [2]: https://i.stack.imgur.com/gEbzL.png\r\n  [3]: https://i.stack.imgur.com/0fMJy.png","title":"Postgresql custom expression with QueryDSL","body":"<p>I have a trouble with writing custom boolean template for where clause using QueryDSL. Simply I need to use arraycontains function to know that table.languages contains values at array of strings from filter.</p>\n<p>Why Hibernate can't execute this? The raw sql is fine.</p>\n<p>Code (variables are simplified, on screenshot it will be different):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final var test = new JPAQuery&lt;&gt;(this.entityManager)\n               .select(table)\n               .from(table)\n               .where(whereFromFilter(filter))\n               .fetch()\n    //...some code\n    private static Predicate[] whereFromFilter(final Filter filter) {\n      final var result = new ArrayList&lt;Predicate&gt;();\n      //...some code\n      result.add(\n                Expressions.booleanTemplate(\n                    &quot;arraycontains(replace(replace(({0})::text,'[','{'),']','}')::text[],string_to_array({1},',')) = true&quot;,\n                    table.languages,\n                    &quot;'&quot; + String.join(&quot;,&quot;, filter.languages) + &quot;'&quot;\n                )\n      );\n      //...some code\n      return result.toArray(Predicate[]::new);\n    }\n</code></pre>\n<p>table.languages in DB it's a json object that simply array of strings (so in template I'm converting it to array of strings):</p>\n<p><a href=\"https://i.stack.imgur.com/BIwyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BIwyK.png\" alt=\"table.languages\" /></a></p>\n<p>I also try this code in raw sql console and it works fine:</p>\n<pre><code>SELECT arraycontains(replace(replace((table.languages)::text,'[','{'),']','}')::text[],string_to_array('CONFIG,PYTHON', ',')) is true\nFROM table\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gEbzL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gEbzL.png\" alt=\"screenshot of sql-query result\" /></a></p>\n<p>Another filter (not with custom boolean template) works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>result.add(table.issueCountHigh.goe(filter.issueCountHighMin));\n</code></pre>\n<p>In debug mode I see that code from custom filter looks similar to code from another filter (that 100% works):</p>\n<p><a href=\"https://i.stack.imgur.com/0fMJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0fMJy.png\" alt=\"enter image description here\" /></a></p>\n<p>So, what HqlBaseParser can't parse? SQL functions?</p>\n<p>stacktrace:</p>\n<pre><code>{\n&quot;statusCode&quot;: 500,\n&quot;statusDescription&quot;: &quot;Internal Server Error&quot;,\n&quot;stacktrace&quot;: &quot;java.lang.NullPointerException\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4770)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalExpression(HqlBaseParser.java:2071)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.whereClause(HqlBaseParser.java:540)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:831)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:336)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:200)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:101)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:94)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.fetch(AbstractJPAQuery.java:201)\\n\\tat \n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694686442,"post_id":77103917,"comment_id":135925123,"body_markdown":"Sounds more like a design problem if one method handles so many different specific paths.","body":"Sounds more like a design problem if one method handles so many different specific paths."},{"owner":{"account_id":10598022,"reputation":66,"user_id":14634910,"display_name":"alexxarisis"},"score":0,"creation_date":1694686876,"post_id":77103917,"comment_id":135925205,"body_markdown":"https://www.baeldung.com/spring-requestmapping-properties-file\nDoes this help?","body":"<a href=\"https://www.baeldung.com/spring-requestmapping-properties-file\" rel=\"nofollow noreferrer\">baeldung.com/spring-requestmapping-properties-file</a> Does this help?"},{"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"score":0,"creation_date":1694687294,"post_id":77103917,"comment_id":135925288,"body_markdown":"That article only shows dealing with a single path not an array of paths so doesn&#39;t assist.","body":"That article only shows dealing with a single path not an array of paths so doesn&#39;t assist."},{"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"score":0,"creation_date":1694687510,"post_id":77103917,"comment_id":135925334,"body_markdown":"The design is fine for what I am trying to do.","body":"The design is fine for what I am trying to do."}],"answers":[{"comments":[{"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"score":0,"creation_date":1694689382,"post_id":77104173,"comment_id":135925764,"body_markdown":"Unfortunately that doesn&#39;t help as the first part of the path is different in each case, so no generic &quot;api&quot; part.","body":"Unfortunately that doesn&#39;t help as the first part of the path is different in each case, so no generic &quot;api&quot; part."},{"owner":{"account_id":24045358,"reputation":42,"user_id":18024421,"display_name":"Vasiliy Volk"},"score":0,"creation_date":1694690620,"post_id":77104173,"comment_id":135925991,"body_markdown":"Fixed it, but for other depths more method will be needed","body":"Fixed it, but for other depths more method will be needed"},{"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"score":0,"creation_date":1694691266,"post_id":77104173,"comment_id":135926106,"body_markdown":"I don&#39;t know how many depths there will be.  I am writing something to proxy requests to other services, and had hoped to be able to specify the paths as a property that would mean if a new value was required a redeploy of the property file and a restart of the service would handle it, rather than have to make a code change.","body":"I don&#39;t know how many depths there will be.  I am writing something to proxy requests to other services, and had hoped to be able to specify the paths as a property that would mean if a new value was required a redeploy of the property file and a restart of the service would handle it, rather than have to make a code change."},{"owner":{"account_id":24045358,"reputation":42,"user_id":18024421,"display_name":"Vasiliy Volk"},"score":0,"creation_date":1694693000,"post_id":77104173,"comment_id":135926443,"body_markdown":"Or we intercept everything and parse the path manually: request.getRequestURI().split(&quot;/+&quot;)","body":"Or we intercept everything and parse the path manually: request.getRequestURI().split(&quot;/+&quot;)"},{"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"score":0,"creation_date":1694694347,"post_id":77104173,"comment_id":135926784,"body_markdown":"I did consider that but it seems a bit messy.  I was hoping that the property route would be possible, as it is possible by manually specifying the String array.","body":"I did consider that but it seems a bit messy.  I was hoping that the property route would be possible, as it is possible by manually specifying the String array."},{"owner":{"account_id":24045358,"reputation":42,"user_id":18024421,"display_name":"Vasiliy Volk"},"score":0,"creation_date":1694696974,"post_id":77104173,"comment_id":135927418,"body_markdown":"Maybe the solution is here? https://stackoverflow.com/questions/5758504/is-it-possible-to-dynamically-set-requestmappings-in-spring-mvc","body":"Maybe the solution is here? <a href=\"https://stackoverflow.com/questions/5758504/is-it-possible-to-dynamically-set-requestmappings-in-spring-mvc\" title=\"is it possible to dynamically set requestmappings in spring mvc\">stackoverflow.com/questions/5758504/&hellip;</a>"}],"tags":[],"owner":{"account_id":24045358,"reputation":42,"user_id":18024421,"display_name":"Vasiliy Volk"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694693687,"creation_date":1694688526,"answer_id":77104173,"question_id":77103917,"body_markdown":"You can get part of the path as a parameter - @PathVariable(&quot;id&quot;) String id.\r\nAnd in the code, check if &quot;id&quot; matches the set in &quot;request.mapping&quot;\r\n\r\n    @RequestMapping(&quot;/{id1}&quot;)\r\n    public ResponseEntity&lt;String&gt; proxyWithBody1(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, HttpServletRequest request)\r\n    {\r\n        // check id\r\n        return proxy(request, payload);\r\n    }\r\n\r\n    @RequestMapping(&quot;/{id1}/{id2}&quot;)\r\n    public ResponseEntity&lt;String&gt; proxyWithBody2(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, @PathVariable(&quot;id2&quot;), String id2, HttpServletRequest request)\r\n    {\r\n        // check id\r\n        return proxy(request, payload);\r\n    }\r\n    \r\n    // &quot;/{id1}/{id2}/...&quot;\r\n\r\nThen:\r\n\r\n    @RequestMapping(&quot;/**&quot;)\r\n    public ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\r\n    {\r\n        String id[] = request.getRequestURI().split(&quot;/+&quot;);\r\n        // check id\r\n        return proxy(request, payload);\r\n    }\r\n\r\n","title":"Is it possible to set the value of RequestMapping as a string array defined in a properties file","body":"<p>You can get part of the path as a parameter - @PathVariable(&quot;id&quot;) String id.\nAnd in the code, check if &quot;id&quot; matches the set in &quot;request.mapping&quot;</p>\n<pre><code>@RequestMapping(&quot;/{id1}&quot;)\npublic ResponseEntity&lt;String&gt; proxyWithBody1(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, HttpServletRequest request)\n{\n    // check id\n    return proxy(request, payload);\n}\n\n@RequestMapping(&quot;/{id1}/{id2}&quot;)\npublic ResponseEntity&lt;String&gt; proxyWithBody2(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, @PathVariable(&quot;id2&quot;), String id2, HttpServletRequest request)\n{\n    // check id\n    return proxy(request, payload);\n}\n\n// &quot;/{id1}/{id2}/...&quot;\n</code></pre>\n<p>Then:</p>\n<pre><code>@RequestMapping(&quot;/**&quot;)\npublic ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\n{\n    String id[] = request.getRequestURI().split(&quot;/+&quot;);\n    // check id\n    return proxy(request, payload);\n}\n</code></pre>\n"}],"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694693687,"creation_date":1694686365,"question_id":77103917,"body_markdown":"I am trying to set a RequestMapping in a RestController to be for a number of patterns, e.g.\r\n\r\n    @RequestMapping(value = {&quot;/value1/**&quot;, &quot;/value2&quot;, &quot;/value3&quot;, &quot;/value4&quot;, &quot;/value5&quot;})\r\n    public ResponseEntity&lt;String&gt; processWithBody(@RequestBody String payload, HttpServletRequest request)\r\n    {\r\n        return process(request, payload);\r\n    }\r\n\r\nThat works perfectly, but I would like to have the list of patterns taken from a property in a properties file.\r\n\r\nI tried defining a property like so\r\n\r\n    request.mapping=/value1/**, /value2, /value3, /value4, /value5\r\n\r\nand then updating the code to reference it\r\n\r\n    @RequestMapping(value = { Constants.REQUEST_MAPPING })\r\n    public ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\r\n    {\r\n        return proxy(request, payload);\r\n    }\r\n\r\nHowever it no longer cause my method to be called.  I have tried various versions of the definition but nothing works.  Is this possible?\r\n\r\nThanks,\r\nPaul\r\n","title":"Is it possible to set the value of RequestMapping as a string array defined in a properties file","body":"<p>I am trying to set a RequestMapping in a RestController to be for a number of patterns, e.g.</p>\n<pre><code>@RequestMapping(value = {&quot;/value1/**&quot;, &quot;/value2&quot;, &quot;/value3&quot;, &quot;/value4&quot;, &quot;/value5&quot;})\npublic ResponseEntity&lt;String&gt; processWithBody(@RequestBody String payload, HttpServletRequest request)\n{\n    return process(request, payload);\n}\n</code></pre>\n<p>That works perfectly, but I would like to have the list of patterns taken from a property in a properties file.</p>\n<p>I tried defining a property like so</p>\n<pre><code>request.mapping=/value1/**, /value2, /value3, /value4, /value5\n</code></pre>\n<p>and then updating the code to reference it</p>\n<pre><code>@RequestMapping(value = { Constants.REQUEST_MAPPING })\npublic ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\n{\n    return proxy(request, payload);\n}\n</code></pre>\n<p>However it no longer cause my method to be called.  I have tried various versions of the definition but nothing works.  Is this possible?</p>\n<p>Thanks,\nPaul</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1611017258,"post_id":65783973,"comment_id":116310242,"body_markdown":"Try a few more test cases of your own. Have you tested that the case mentioned in their note works?","body":"Try a few more test cases of your own. Have you tested that the case mentioned in their note works?"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1611017373,"post_id":65783973,"comment_id":116310261,"body_markdown":"Yes both of the testcases were working fine. Checked on my machine as well. i have also mentioned that in question that base testcases were getting passed.","body":"Yes both of the testcases were working fine. Checked on my machine as well. i have also mentioned that in question that base testcases were getting passed."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1611017903,"post_id":65783973,"comment_id":116310384,"body_markdown":"Try to imagine some things which the hidden tests cases might check, e.g. the requirement which is specifically pointed out in the note, and try your code with them.","body":"Try to imagine some things which the hidden tests cases might check, e.g. the requirement which is specifically pointed out in the note, and try your code with them."},{"owner":{"account_id":20454713,"reputation":401,"user_id":15008654,"display_name":"Monitoria"},"score":1,"creation_date":1611018292,"post_id":65783973,"comment_id":116310457,"body_markdown":"Think how actual letter will look like. Maybe there are some other symbols you need to handle. Like comma and dot. What about other special characters? Numbers? Tabs? New lines?","body":"Think how actual letter will look like. Maybe there are some other symbols you need to handle. Like comma and dot. What about other special characters? Numbers? Tabs? New lines?"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1611019426,"post_id":65783973,"comment_id":116310717,"body_markdown":"@Monitoria yes that night be the case, i should have removed the original string containing special characters","body":"@Monitoria yes that night be the case, i should have removed the original string containing special characters"}],"answers":[{"tags":[],"owner":{"account_id":16699379,"reputation":11,"user_id":12069565,"display_name":"Abhishek koushal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613550337,"creation_date":1613550337,"answer_id":66238195,"question_id":65783973,"body_markdown":"This is the solutionin Python 3\r\n\r\n\r\n    def rotatedWords(cls, input1,input2):\r\n    \trotateString = input1.split(&#39; &#39;)\r\n    \tcount = 0\r\n    \tfor i in range(1,input2+1):\r\n    \t\tfor j in range(len(rotateString)):\r\n    \t\t\trotateString[j]= rotateString[j][1:]+rotateString[j][0]\r\n    \t\t\r\n    \tactualWrod = input1.split(&#39; &#39;)\r\n    \r\n    \tfor i in range(len(rotateString)):\r\n    \t\tfor j in range(len(actualWrod)):\r\n    \t\t\tif rotateString[i]==actualWrod[j]:\r\n    \t\t\t\tcount+=1\r\n    \treturn count\r\n    \r\n    print(rotatedWords(1,&quot;adaada&quot;,3))\r\n    print(rotatedWords(1,&quot;llohe ereth&quot;,2))\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>This is the solutionin Python 3</p>\n<pre><code>def rotatedWords(cls, input1,input2):\n    rotateString = input1.split(' ')\n    count = 0\n    for i in range(1,input2+1):\n        for j in range(len(rotateString)):\n            rotateString[j]= rotateString[j][1:]+rotateString[j][0]\n        \n    actualWrod = input1.split(' ')\n\n    for i in range(len(rotateString)):\n        for j in range(len(actualWrod)):\n            if rotateString[i]==actualWrod[j]:\n                count+=1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;,3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;,2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20743868,"reputation":1,"user_id":15232857,"display_name":"TOSH JAISWAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613634026,"creation_date":1613629034,"answer_id":66254604,"question_id":65783973,"body_markdown":"\r\n\r\n    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n     \r\n    // In-place rotates s towards left by d\r\n    void leftrotate(string &amp;s, int d)\r\n    {\r\n        reverse(s.begin(), s.begin()+d);\r\n        reverse(s.begin()+d, s.end());\r\n        reverse(s.begin(), s.end());\r\n    }\r\n     \r\n    // In-place rotates s towards right by d\r\n    int rightrotate(string &amp;s, int d)\r\n    {  \r\n      string s1=&quot;&quot;;\r\n      int i=0,flag=0;\r\n      vector&lt;string&gt;str;\r\n      while(s[i]!=&#39;\\0&#39;){\r\n        if(s[i] != &#39; &#39;){\r\n          s1 = s1+s[i];\r\n          i++;\r\n        }\r\n        else{\r\n          if(s1 != &quot;&quot;){ //checking for extra space\r\n            str.push_back(s1);\r\n            s1 = &quot;&quot;;\r\n            i++;\r\n          }\r\n          else\r\n            i++;\r\n        }\r\n      }\r\n      str.push_back(s1);\r\n      vector&lt;string&gt;str2;\r\n      for(int i=0;i&lt;str.size();i++){\r\n        str2.push_back(str[i]);\r\n      }\r\n      for(int i=0;i&lt;str.size();i++){\r\n        leftrotate(str[i], str[i].length()-d);\r\n      }\r\n      for(int i=0;i&lt;str.size();i++){\r\n        if(str[i] == str2[i]){\r\n          flag++;\r\n        }\r\n      }\r\n      return flag;\r\n    }\r\n     \r\n    int main()\r\n    {\r\n     \r\n        string str1;\r\n        getline(cin, str1);\r\n        int k;\r\n        cin&gt;&gt;k;\r\n        cout&lt;&lt;rightrotate(str1, k);\r\n        return 0;\r\n    }","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \n// In-place rotates s towards left by d\nvoid leftrotate(string &amp;s, int d)\n{\n    reverse(s.begin(), s.begin()+d);\n    reverse(s.begin()+d, s.end());\n    reverse(s.begin(), s.end());\n}\n \n// In-place rotates s towards right by d\nint rightrotate(string &amp;s, int d)\n{  \n  string s1=&quot;&quot;;\n  int i=0,flag=0;\n  vector&lt;string&gt;str;\n  while(s[i]!='\\0'){\n    if(s[i] != ' '){\n      s1 = s1+s[i];\n      i++;\n    }\n    else{\n      if(s1 != &quot;&quot;){ //checking for extra space\n        str.push_back(s1);\n        s1 = &quot;&quot;;\n        i++;\n      }\n      else\n        i++;\n    }\n  }\n  str.push_back(s1);\n  vector&lt;string&gt;str2;\n  for(int i=0;i&lt;str.size();i++){\n    str2.push_back(str[i]);\n  }\n  for(int i=0;i&lt;str.size();i++){\n    leftrotate(str[i], str[i].length()-d);\n  }\n  for(int i=0;i&lt;str.size();i++){\n    if(str[i] == str2[i]){\n      flag++;\n    }\n  }\n  return flag;\n}\n \nint main()\n{\n \n    string str1;\n    getline(cin, str1);\n    int k;\n    cin&gt;&gt;k;\n    cout&lt;&lt;rightrotate(str1, k);\n    return 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4922526,"reputation":1960,"user_id":3964927,"accept_rate":100,"display_name":"Null"},"score":0,"creation_date":1613772364,"post_id":66284369,"comment_id":117189264,"body_markdown":"Please explain what was wrong with the code in the question and how this code solves the problem.","body":"Please explain what was wrong with the code in the question and how this code solves the problem."}],"tags":[],"owner":{"account_id":20745770,"reputation":1,"user_id":15234407,"display_name":"Vishakha Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613765389,"creation_date":1613765389,"answer_id":66284369,"question_id":65783973,"body_markdown":"     def check(_str):\r\n        length = len(_str)\r\n        for i in range(length):\r\n            if (_str[i]!=_str[(input2+i)%length]):\r\n                return 0\r\n        return 1\r\n    words = input1.split()\r\n    ans = list(map(check,words))\r\n    print(sum(ans))\r\n\r\n\r\n\r\n[code in Python][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o5BLO.png","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code> def check(_str):\n    length = len(_str)\n    for i in range(length):\n        if (_str[i]!=_str[(input2+i)%length]):\n            return 0\n    return 1\nwords = input1.split()\nans = list(map(check,words))\nprint(sum(ans))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/o5BLO.png\" rel=\"nofollow noreferrer\">code in Python</a></p>\n"},{"comments":[{"owner":{"account_id":13190840,"reputation":1,"user_id":9527163,"display_name":"Arvind Sharma"},"score":0,"creation_date":1617970202,"post_id":67020343,"comment_id":118466382,"body_markdown":"It seems K means how many characters he shifted left to right or right to left for each word in sentence, try this it may pass other test cases.","body":"It seems K means how many characters he shifted left to right or right to left for each word in sentence, try this it may pass other test cases."}],"tags":[],"owner":{"account_id":13190840,"reputation":1,"user_id":9527163,"display_name":"Arvind Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617971468,"creation_date":1617967948,"answer_id":67020343,"question_id":65783973,"body_markdown":"    package fun;\r\n    \r\n    public class Test1 {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(rotatedWords(&quot;llohe ereth&quot;, 2));\r\n            System.out.println(rotatedWords(&quot;adaada&quot;, 3));\r\n        }\r\n    \r\n        public static int rotatedWords(String input1, int input2) {\r\n            int count = 0;\r\n            String arr[] = input1.split(&quot; &quot;);\r\n            if (input1 != null &amp;&amp; !input1.isEmpty()) {\r\n                for (int i = 0; i &lt; arr.length; i++) {\r\n                    System.out.println(&quot;Orginal Word :&quot; + arr[i]);\r\n                    int start = arr[i].length() - input2;\r\n                    String s1 = arr[i].substring(start);\r\n                    System.out.println(&quot;s1 : &quot; + s1);\r\n                    String s2 = arr[i].substring(0, start);\r\n                    System.out.println(&quot;s2 : &quot; + s2);\r\n                    System.out.println(&quot;New Word : &quot; + s1 + s2);\r\n                    if ((s1 + s2).equals(arr[i])) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>package fun;\n\npublic class Test1 {\n\n    public static void main(String[] args) {\n        System.out.println(rotatedWords(&quot;llohe ereth&quot;, 2));\n        System.out.println(rotatedWords(&quot;adaada&quot;, 3));\n    }\n\n    public static int rotatedWords(String input1, int input2) {\n        int count = 0;\n        String arr[] = input1.split(&quot; &quot;);\n        if (input1 != null &amp;&amp; !input1.isEmpty()) {\n            for (int i = 0; i &lt; arr.length; i++) {\n                System.out.println(&quot;Orginal Word :&quot; + arr[i]);\n                int start = arr[i].length() - input2;\n                String s1 = arr[i].substring(start);\n                System.out.println(&quot;s1 : &quot; + s1);\n                String s2 = arr[i].substring(0, start);\n                System.out.println(&quot;s2 : &quot; + s2);\n                System.out.println(&quot;New Word : &quot; + s1 + s2);\n                if ((s1 + s2).equals(arr[i])) {\n                    count++;\n                }\n            }\n        }\n        return count;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14794890,"reputation":2401,"user_id":10684765,"display_name":"fartem"},"score":1,"creation_date":1618465151,"post_id":67100524,"comment_id":118610152,"body_markdown":"Please read [How to answer](https://stackoverflow.com/help/how-to-answer) and update your answer.","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-answer\">How to answer</a> and update your answer."}],"tags":[],"owner":{"account_id":21057679,"reputation":1,"user_id":15476668,"display_name":"Vaishali Grover"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619586293,"creation_date":1618444824,"answer_id":67100524,"question_id":65783973,"body_markdown":"  ********************************Java solution*********************************\r\n   \r\n\r\n     import java.util.Scanner;\r\n        public class Main\r\n        {\r\n         //rotate every word of the given string by the given rotation value\r\n          public static String rotate_string (String str, int d) \r\n          {\r\n            String ans = str.substring (d) + str.substring (0, d);\r\n              return ans;\r\n          }\r\n          public static void rotated (String str, int rotated)\r\n          {\r\n            String[]wordsarr = str.split (&quot;\\\\s&quot;); // convert string to an array of strings.\r\n            String rotatedarr[] = new String[wordsarr.length]; // to store the rotated array.\r\n            for (int i = 0; i &lt; wordsarr.length; i++)\r\n              {\r\n        \trotatedarr[i] = rotate_string(wordsarr[i], wordsarr[i].length () - rotated);\r\n              }\r\n            int count = 0;\r\n            for (int i = 0; i &lt; wordsarr.length; i++)\r\n              {\r\n        \tif (wordsarr[i].equals (rotatedarr[i]))\r\n        \t  {\r\n        \t    count++;\r\n        \t  }\r\n              }\r\n            System.out.println (count);\r\n          }\r\n\r\n          public static void main (String[]args)\r\n          {\r\n            Scanner s= new Scanner(System.in);\r\n            String str= s.nextLine(); //input string\r\n            int rotate_by= s.nextInt(); \r\n            rotated(str,rotate_by);\r\n          }\r\n        }\r\n\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Java solution</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>*</p>\n<pre><code> import java.util.Scanner;\n    public class Main\n    {\n     //rotate every word of the given string by the given rotation value\n      public static String rotate_string (String str, int d) \n      {\n        String ans = str.substring (d) + str.substring (0, d);\n          return ans;\n      }\n      public static void rotated (String str, int rotated)\n      {\n        String[]wordsarr = str.split (&quot;\\\\s&quot;); // convert string to an array of strings.\n        String rotatedarr[] = new String[wordsarr.length]; // to store the rotated array.\n        for (int i = 0; i &lt; wordsarr.length; i++)\n          {\n        rotatedarr[i] = rotate_string(wordsarr[i], wordsarr[i].length () - rotated);\n          }\n        int count = 0;\n        for (int i = 0; i &lt; wordsarr.length; i++)\n          {\n        if (wordsarr[i].equals (rotatedarr[i]))\n          {\n            count++;\n          }\n          }\n        System.out.println (count);\n      }\n\n      public static void main (String[]args)\n      {\n        Scanner s= new Scanner(System.in);\n        String str= s.nextLine(); //input string\n        int rotate_by= s.nextInt(); \n        rotated(str,rotate_by);\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4418059,"reputation":69,"user_id":3599005,"display_name":"user3599005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620240229,"creation_date":1620239884,"answer_id":67406994,"question_id":65783973,"body_markdown":"    $str = &quot;Hello Friend&quot;;\r\n    $kTime = 5;\r\n    $arr = explode (&#39; &#39;,$str);\r\n    $sizeOfArr = count($arr);\r\n    $char = array();\r\n    $count = 0;\r\n    foreach($arr as $k=&gt;$v)\r\n    {\r\n      $ln = $kTime%strlen($v);\r\n      $char = substr($v,$ln).substr($v,0,$ln);\r\n      if($v == $char)\r\n        {\r\n          $count++;\r\n        }\r\n    }\r\n    echo &#39;Number of Original word after rotation found : &#39;.$count;","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>$str = &quot;Hello Friend&quot;;\n$kTime = 5;\n$arr = explode (' ',$str);\n$sizeOfArr = count($arr);\n$char = array();\n$count = 0;\nforeach($arr as $k=&gt;$v)\n{\n  $ln = $kTime%strlen($v);\n  $char = substr($v,$ln).substr($v,0,$ln);\n  if($v == $char)\n    {\n      $count++;\n    }\n}\necho 'Number of Original word after rotation found : '.$count;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10634881,"reputation":1,"user_id":7831890,"display_name":"Shahin Raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623612149,"creation_date":1623612149,"answer_id":67961904,"question_id":65783973,"body_markdown":"This is the solution in Python 3 for the right move\r\n\r\n\r\n    def rotatedWords(cls, input1,input2):\r\n    \trotate_string = input1.split(&#39; &#39;) # converting string to list\r\n    \tcount = 0\r\n    \tfor i in range(1,input2+1):\r\n    \t\tfor j in range(len(rotate_string)):\r\n    \t\t\trotate_string[j]= rotate_string[j][-1]+rotate_string[j][0:-1]\r\n    \t\t\r\n    \tactual_word = input1.split(&#39; &#39;)\r\n    \r\n    \tfor i in range(len(rotate_string)):\r\n    \t\tfor j in range(len(actual_word)):\r\n    \t\t\tif rotate_string[i]==actual_word[j]:\r\n    \t\t\t\tcount+=1\r\n    \treturn count\r\n    \r\n    print(rotatedWords(1,&quot;adaada&quot;,3))\r\n    print(rotatedWords(1,&quot;llohe ereth&quot;,2))\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>This is the solution in Python 3 for the right move</p>\n<pre><code>def rotatedWords(cls, input1,input2):\n    rotate_string = input1.split(' ') # converting string to list\n    count = 0\n    for i in range(1,input2+1):\n        for j in range(len(rotate_string)):\n            rotate_string[j]= rotate_string[j][-1]+rotate_string[j][0:-1]\n        \n    actual_word = input1.split(' ')\n\n    for i in range(len(rotate_string)):\n        for j in range(len(actual_word)):\n            if rotate_string[i]==actual_word[j]:\n                count+=1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;,3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;,2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11172711,"reputation":300,"user_id":8199232,"display_name":"swapnil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629181894,"creation_date":1629181894,"answer_id":68812611,"question_id":65783973,"body_markdown":"    package com.code;\r\n    public class LoveLetter {\r\n    public static void main(String args[])\r\n    {\r\n        String str=&quot;llohe ereth&quot;;\r\n        int n=2;\r\n        solution(str,n);\r\n    }\r\n    public static void solution(String str,int n)\r\n    {\r\n        int l=str.length();\r\n        String a[]=str.split(&quot;\\\\s+&quot;);\r\n        String str1=&quot;&quot;;\r\n        int c=0;\r\n        for(int i=0;i&lt;a.length;i++)\r\n        {\r\n            String s=a[i];\r\n            String k=rightrotate(s,n);\r\n            if(a[i].equals(k)){\r\n                c++;\r\n            }\r\n            else\r\n                continue;\r\n        }\r\n        System.out.println(c);\r\n    }\r\n    static String rightrotate(String str, int d)\r\n    {\r\n        d=str.length()-d;\r\n        String ans = str.substring(d) + str.substring(0, d);\r\n        return ans;\r\n    }\r\n    }\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>package com.code;\npublic class LoveLetter {\npublic static void main(String args[])\n{\n    String str=&quot;llohe ereth&quot;;\n    int n=2;\n    solution(str,n);\n}\npublic static void solution(String str,int n)\n{\n    int l=str.length();\n    String a[]=str.split(&quot;\\\\s+&quot;);\n    String str1=&quot;&quot;;\n    int c=0;\n    for(int i=0;i&lt;a.length;i++)\n    {\n        String s=a[i];\n        String k=rightrotate(s,n);\n        if(a[i].equals(k)){\n            c++;\n        }\n        else\n            continue;\n    }\n    System.out.println(c);\n}\nstatic String rightrotate(String str, int d)\n{\n    d=str.length()-d;\n    String ans = str.substring(d) + str.substring(0, d);\n    return ans;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19882721,"reputation":1,"user_id":14566375,"display_name":"Kshitij"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630221165,"creation_date":1630221165,"answer_id":68970685,"question_id":65783973,"body_markdown":"It is given that someone rotates the characters of each word from left to right K times.So,if we want to know the original words,we have to rotate each characters from right to left K times\r\n\r\n    def rotatedWords(cls, input1, input2):\r\n        original_string = input1.split(&#39; &#39;)  # the string is split into list\r\n        count = 0  # for counting the words that remains same even after rotation\r\n\r\n        for i in range(0, input2):\r\n            for j in range(len(original_string)):\r\n                original_string[j] = original_string[j][-1]+original_string[j][0:-1]  # taking the last character and all characters from first to second last of each word,then concatenating them\r\n\r\n        given_string = input1.split(&#39; &#39;)\r\n\r\n        for i in range(len(given_string)):\r\n            if original_string[i] == given_string[i]:   #comparing each words from both lists\r\n                count += 1\r\n        return count\r\n    \r\n    print(rotatedWords(1,&quot;adaada&quot;, 3))\r\n    print(rotatedWords(1,&quot;llohe ereth&quot;, 2))\r\n\r\n    \r\n\r\n\r\n\r\n ","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>It is given that someone rotates the characters of each word from left to right K times.So,if we want to know the original words,we have to rotate each characters from right to left K times</p>\n<pre><code>def rotatedWords(cls, input1, input2):\n    original_string = input1.split(' ')  # the string is split into list\n    count = 0  # for counting the words that remains same even after rotation\n\n    for i in range(0, input2):\n        for j in range(len(original_string)):\n            original_string[j] = original_string[j][-1]+original_string[j][0:-1]  # taking the last character and all characters from first to second last of each word,then concatenating them\n\n    given_string = input1.split(' ')\n\n    for i in range(len(given_string)):\n        if original_string[i] == given_string[i]:   #comparing each words from both lists\n            count += 1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;, 3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;, 2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25335348,"reputation":1,"user_id":19154581,"display_name":"Shreehari S Vasisht"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660821007,"creation_date":1660459703,"answer_id":73349621,"question_id":65783973,"body_markdown":"Problem Statement tells that the space between words can be **one or more**.\r\nSo you will pass all test cases if split removes all spaces.\r\nUse `input1.split(&quot;\\\\s+&quot;)` regex expression instead.","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>Problem Statement tells that the space between words can be <strong>one or more</strong>.\nSo you will pass all test cases if split removes all spaces.\nUse <code>input1.split(&quot;\\\\s+&quot;)</code> regex expression instead.</p>\n"}],"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21118,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":10,"score":2,"last_activity_date":1694693306,"creation_date":1611016515,"question_id":65783973,"body_markdown":"I Gave a test on platform named mettl for hiring of a company.\r\n\r\n**Problem statement :**\r\n\r\nYou write a love letter to you friend. However, before your friend can read it, someone else read it and rotates the characters of each word to the right K times. Find the number of words that remain the same even after this shifting of letters.\r\n\r\n**Note:** There can be more than one spaces between the words.\r\n\r\n**Input specifications:**\r\n\r\nInput1: String of words\r\n\r\nInput2: K number of times rotation happens\r\n\r\n**Output specifications:**\r\n\r\nYour function should return the numbers of correct words.\r\n\r\n**Example 1:**\r\n\r\n**Input1:** llohe ereth\r\n\r\n**Input 2:** 2 \r\n\r\n**Output:** 0\r\n\r\n**Explanation:** In example 1, &quot;llohe ereth&quot; is a rotated string with K factor 2. Hence after moving the last two letters of right to left , we get the original string as &quot;Hello there&quot;. \r\n\r\n\r\n**Example 2:**\r\n\r\n**Input1:** adaada\r\n\r\n**Input 2:** 3 \r\n\r\n**Output:** 1\r\n\r\n**Explanation:** In example 2, &quot;adaada&quot; when rotated 3 times gives back &quot;adaada&quot;. Hence answer is 1.\r\n\r\n\r\nI wrote below Solution which passed the above 2 base cases, but was failing for hidden testcases (also includes time complexity testcase). Only one corner testcase passed because I was checking String input1 not to be empty. Solution is as below:\r\n\r\n\tpublic int rotatedWords(String input1, int input2) {\r\n\t\tint count = 0;\r\n\t\tString arr[] = input1.split(&quot; &quot;);\r\n\t\tif (input1 != null &amp;&amp; !input1.isEmpty()) {\r\n\t\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\t\tString s1 = arr[i] + arr[i];\r\n\t\t\t\tint start = arr[i].length() - input2;\r\n\r\n\t\t\t\tSystem.out.println(&quot;arr[i] : &quot; + arr[i]);\r\n\t\t\t\tString s2 = s1.substring(start, start + arr[i].length());\r\n\t\t\t\tSystem.out.println(&quot;s2 : &quot; + s2);\r\n\t\t\t\tif (s2.equalsIgnoreCase(arr[i])) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\nAsk is that , I wasn&#39;t able to understand why the hidden testcases were failing. Please help me.","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>I Gave a test on platform named mettl for hiring of a company.</p>\n<p><strong>Problem statement :</strong></p>\n<p>You write a love letter to you friend. However, before your friend can read it, someone else read it and rotates the characters of each word to the right K times. Find the number of words that remain the same even after this shifting of letters.</p>\n<p><strong>Note:</strong> There can be more than one spaces between the words.</p>\n<p><strong>Input specifications:</strong></p>\n<p>Input1: String of words</p>\n<p>Input2: K number of times rotation happens</p>\n<p><strong>Output specifications:</strong></p>\n<p>Your function should return the numbers of correct words.</p>\n<p><strong>Example 1:</strong></p>\n<p><strong>Input1:</strong> llohe ereth</p>\n<p><strong>Input 2:</strong> 2</p>\n<p><strong>Output:</strong> 0</p>\n<p><strong>Explanation:</strong> In example 1, &quot;llohe ereth&quot; is a rotated string with K factor 2. Hence after moving the last two letters of right to left , we get the original string as &quot;Hello there&quot;.</p>\n<p><strong>Example 2:</strong></p>\n<p><strong>Input1:</strong> adaada</p>\n<p><strong>Input 2:</strong> 3</p>\n<p><strong>Output:</strong> 1</p>\n<p><strong>Explanation:</strong> In example 2, &quot;adaada&quot; when rotated 3 times gives back &quot;adaada&quot;. Hence answer is 1.</p>\n<p>I wrote below Solution which passed the above 2 base cases, but was failing for hidden testcases (also includes time complexity testcase). Only one corner testcase passed because I was checking String input1 not to be empty. Solution is as below:</p>\n<pre><code>public int rotatedWords(String input1, int input2) {\n    int count = 0;\n    String arr[] = input1.split(&quot; &quot;);\n    if (input1 != null &amp;&amp; !input1.isEmpty()) {\n        for (int i = 0; i &lt; arr.length; i++) {\n            String s1 = arr[i] + arr[i];\n            int start = arr[i].length() - input2;\n\n            System.out.println(&quot;arr[i] : &quot; + arr[i]);\n            String s2 = s1.substring(start, start + arr[i].length());\n            System.out.println(&quot;s2 : &quot; + s2);\n            if (s2.equalsIgnoreCase(arr[i])) {\n                count++;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Ask is that , I wasn't able to understand why the hidden testcases were failing. Please help me.</p>\n"},{"tags":["java","activiti","bpmn"],"owner":{"account_id":29433315,"reputation":11,"user_id":22552593,"display_name":"Alan Parry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694693218,"creation_date":1694622833,"question_id":77098942,"body_markdown":"I&#39;m successfully using Activiti via the Spring Boot Starter for a while and am attempting to change from automatically deploying bpmn processes to manually doing it via Java. I basing this on a fairly simple example which is finding my process definitions and completing, but not creating a deployment with usable process definitions.\r\n\r\n    BpmnXMLConverter bpmnXMLConverter = new BpmnXMLConverter();\r\n    String processFolderPath = &quot;classpath:/processes/&quot;;\r\n    File processDirectory = resourceLoader.getResource(processFolderPath).getFile();\r\n    DeploymentBuilder builder = repositoryService.createDeployment();\r\n    if (processDirectory.exists()) { Arrays.stream(Objects.requireNonNull(processDirectory.list())).sequential()\r\n                .forEach(processDefFile -&gt; {\r\n                    try {\r\n                        String resource = processFolderPath + processDefFile;\r\n                        InputStream input = resourceLoader.getResource(resource).getInputStream();\r\n                        InputStreamSource streamSource = new InputStreamSource(input);\r\n                        BpmnModel model = bpmnXMLConverter.convertToBpmnModel(streamSource, true, false);\r\n                        String processDefName = processDefFile.substring(0, processDefFile.indexOf(&quot;.bpmn20.xml&quot;));\r\n                        builder.addBpmnModel(processDefName, model);\r\n                    } catch (IOException e) {\r\n                        log.error(e.getMessage(), e);\r\n                    }\r\n                });\r\n        } else {\r\n            log.warn(&quot;process directory not found&quot;);\r\n        }\r\n        builder.deploy();\r\n\r\nPreviously when I used auto deployment I would see records in the re_procdef table for each process and be able to query and use them. When I run the above code I only see records in the ge_bytearray table which contain the process xml in the BYTES_ field as a blob, but no deployed process.\r\n\r\nCan anyone see what I am doing wrong?","title":"Activiti Processes Not Deploying","body":"<p>I'm successfully using Activiti via the Spring Boot Starter for a while and am attempting to change from automatically deploying bpmn processes to manually doing it via Java. I basing this on a fairly simple example which is finding my process definitions and completing, but not creating a deployment with usable process definitions.</p>\n<pre><code>BpmnXMLConverter bpmnXMLConverter = new BpmnXMLConverter();\nString processFolderPath = &quot;classpath:/processes/&quot;;\nFile processDirectory = resourceLoader.getResource(processFolderPath).getFile();\nDeploymentBuilder builder = repositoryService.createDeployment();\nif (processDirectory.exists()) { Arrays.stream(Objects.requireNonNull(processDirectory.list())).sequential()\n            .forEach(processDefFile -&gt; {\n                try {\n                    String resource = processFolderPath + processDefFile;\n                    InputStream input = resourceLoader.getResource(resource).getInputStream();\n                    InputStreamSource streamSource = new InputStreamSource(input);\n                    BpmnModel model = bpmnXMLConverter.convertToBpmnModel(streamSource, true, false);\n                    String processDefName = processDefFile.substring(0, processDefFile.indexOf(&quot;.bpmn20.xml&quot;));\n                    builder.addBpmnModel(processDefName, model);\n                } catch (IOException e) {\n                    log.error(e.getMessage(), e);\n                }\n            });\n    } else {\n        log.warn(&quot;process directory not found&quot;);\n    }\n    builder.deploy();\n</code></pre>\n<p>Previously when I used auto deployment I would see records in the re_procdef table for each process and be able to query and use them. When I run the above code I only see records in the ge_bytearray table which contain the process xml in the BYTES_ field as a blob, but no deployed process.</p>\n<p>Can anyone see what I am doing wrong?</p>\n"},{"tags":["java","arrays","math","matrix","arraylist"],"answers":[{"comments":[{"owner":{"account_id":23668272,"reputation":107,"user_id":17695439,"display_name":"SaintSammy"},"score":0,"creation_date":1694692189,"post_id":77099140,"comment_id":135926273,"body_markdown":"Thank you for the answer but the method still returns me zeroes every time I call it.","body":"Thank you for the answer but the method still returns me zeroes every time I call it."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694693959,"post_id":77099140,"comment_id":135926671,"body_markdown":"I guess that I don&#39;t understood exactly what you want...","body":"I guess that I don&#39;t understood exactly what you want..."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694692897,"creation_date":1694624719,"answer_id":77099140,"question_id":77098887,"body_markdown":"As I see, your code have 2 problems. \r\n\r\nFirst, in `get_element()` the indexing for `LI` **is incorrect**:\r\n```java\r\npublic int get_element() {\r\n    System.out.println(&quot;\\n\\nSearching for an element&quot;);\r\n    \r\n    Scanner sc = new Scanner(System.in);\r\n    \r\n    System.out.print(&quot;Enter i:&quot;);\r\n    int i = sc.nextInt();\r\n    \r\n    System.out.print(&quot;Enter j:&quot;);\r\n    int j = sc.nextInt();\r\n    \r\n    int AA = 0;\r\n    \r\n    // Correct indexing\r\n    int N1 = LI.get(i - 1); \r\n    int N2 = LI.get(i);\r\n    \r\n    for (int k = N1; k &lt; N2; k++) {\r\n        if (LJ.get(k) == j) {\r\n            AA = A.get(k);\r\n        }\r\n    }\r\n    \r\n    sc.close();\r\n    \r\n    return AA;\r\n}\r\n```\r\n**Note:** It&#39;s important to use `scanner.close()` to prevent memory leak in your program.  \r\n**Note&#178;:** `System.out.print()` is better for input situations than `System.out.println()`\r\n\r\nSecond, you should set `main.N` value properly in the `CRS` constructor:\r\n```java\r\nprivate List&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\r\nprivate List&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\r\nprivate List&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\r\n\r\npublic CRS(int[][] matrix) {\r\n    int n = 0;\r\n    for (int i = 0; i &lt; 10 * main.N; i++) {\r\n        for (int j = 0; j &lt; 10 * main.N; j++) {\r\n            if (matrix[i][j] != 0) {\r\n                A.add(matrix[i][j]);\r\n                LJ.add(j + 1);\r\n                n++;\r\n            }\r\n        }\r\n        LI.add(n);\r\n    }\r\n    LI.add(main.N * 10 + 1);\r\n}\r\n```\r\n**Note:** It&#39;s a best practice to use the interface (`List&lt;Integer&gt;`) instead of the class when you instantiate an array, [check this out][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9852831/polymorphism-why-use-list-list-new-arraylist-instead-of-arraylist-list-n","title":"How to find an element by indexes in Compessed Sparse Row?","body":"<p>As I see, your code have 2 problems.</p>\n<p>First, in <code>get_element()</code> the indexing for <code>LI</code> <strong>is incorrect</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int get_element() {\n    System.out.println(&quot;\\n\\nSearching for an element&quot;);\n    \n    Scanner sc = new Scanner(System.in);\n    \n    System.out.print(&quot;Enter i:&quot;);\n    int i = sc.nextInt();\n    \n    System.out.print(&quot;Enter j:&quot;);\n    int j = sc.nextInt();\n    \n    int AA = 0;\n    \n    // Correct indexing\n    int N1 = LI.get(i - 1); \n    int N2 = LI.get(i);\n    \n    for (int k = N1; k &lt; N2; k++) {\n        if (LJ.get(k) == j) {\n            AA = A.get(k);\n        }\n    }\n    \n    sc.close();\n    \n    return AA;\n}\n</code></pre>\n<p><strong>Note:</strong> It's important to use <code>scanner.close()</code> to prevent memory leak in your program.<br />\n<strong>Note²:</strong> <code>System.out.print()</code> is better for input situations than <code>System.out.println()</code></p>\n<p>Second, you should set <code>main.N</code> value properly in the <code>CRS</code> constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\nprivate List&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\nprivate List&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\n\npublic CRS(int[][] matrix) {\n    int n = 0;\n    for (int i = 0; i &lt; 10 * main.N; i++) {\n        for (int j = 0; j &lt; 10 * main.N; j++) {\n            if (matrix[i][j] != 0) {\n                A.add(matrix[i][j]);\n                LJ.add(j + 1);\n                n++;\n            }\n        }\n        LI.add(n);\n    }\n    LI.add(main.N * 10 + 1);\n}\n</code></pre>\n<p><strong>Note:</strong> It's a best practice to use the interface (<code>List&lt;Integer&gt;</code>) instead of the class when you instantiate an array, <a href=\"https://stackoverflow.com/questions/9852831/polymorphism-why-use-list-list-new-arraylist-instead-of-arraylist-list-n\">check this out</a>.</p>\n"}],"owner":{"account_id":23668272,"reputation":107,"user_id":17695439,"display_name":"SaintSammy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694692897,"creation_date":1694622269,"question_id":77098887,"body_markdown":"I&#39;m trying to write a program in Java that works with a sparse matrix and I&#39;ve written a class for storing it using the CRS format. The problematic part of the given class is a method that get_element() that has to return the element by indexes. Indexes are received as user input. Every time I enter the indexes, I get 0. Though the result should be different. Maybe the problem is inside the constructor. I don&#39;t know.\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\npublic class CRS {\r\n\t\r\n\tprivate ArrayList&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\r\n\tprivate ArrayList&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\r\n\tprivate ArrayList&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\r\n\t\r\n\tpublic CRS(int[][] matrix) {\r\n\t\tint n = 0;\r\n\t\tfor(int i=0;i&lt;10*main.N;i++) {\r\n\t\t\tfor(int j=0;j&lt;10*main.N;j++) {\r\n\t\t\t\tif(matrix[i][j]!=0) {\r\n\t\t\t\t\tA.add(matrix[i][j]);\r\n\t\t\t\t\tLJ.add(j+1);\r\n\t\t\t\t\tn++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tLI.add(n);\r\n\t\t}\r\n\t\tLI.add(main.N+1);\r\n\t}\r\n\t\r\n\tpublic void print_all() {\r\n\t\tSystem.out.println(&quot;\\nCRS&quot;);\r\n\t\tSystem.out.print(&quot;A &quot;);\r\n\t\tfor(int i=0;i&lt;main.N;i++) {\r\n\t\t\tSystem.out.print(A.get(i)+&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;\\nLJ &quot;);\r\n\t\tfor(int i=0;i&lt;main.N;i++) {\r\n\t\t\tSystem.out.print(LJ.get(i)+&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;\\nLI &quot;);\r\n\t\tfor(int i=0;i&lt;LI.size();i++) {\r\n\t\t\tSystem.out.print(LI.get(i)+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic int get_element() {\r\n\t\tSystem.out.println(&quot;\\n\\nSearching for an element&quot;);\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter i:&quot;);\r\n\t\tint i = sc.nextInt();\r\n\t\tSystem.out.println(&quot;Enter j:&quot;);\r\n\t\tint j = sc.nextInt();\r\n\t\tint AA = 0;\r\n\t\tint N1=LI.get(i);\r\n\t\tint N2=LI.get(i+1);\r\n\t\tfor(int k=N1;k&lt;N2;k++) {\r\n\t\t\tif(LJ.get(k)==j) {\r\n\t\t\t\tAA=A.get(k);\r\n\t\t\t}\r\n\t\t}\r\n\t    return AA;\r\n\t}\r\n}\r\n```\r\nHere is the main class.\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class main {\r\n\tpublic static int N=2;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint [][] matrix = new int [10*N] [10*N];\r\n\t\tfor(int n=0;n&lt;N;) {\r\n\t\t\tint max_position=10*N-1;\r\n\t\t\tint min_value=1,max_value=12;\r\n\t\t\tint i = (int)(Math.random() * (max_position + 1));\r\n\t\t\tint j = (int)(Math.random() * (max_position + 1));\r\n\t\t\tif(matrix[i][j]==0) {\r\n\t\t\t\tmatrix[i][j] = min_value + (int)(Math.random() * ((max_value - min_value) + 1));\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Sparce matrix&quot;);\r\n\t\tfor(int i=0;i&lt;10*N;i++) {\r\n\t\t\tfor(int j=0;j&lt;10*N;j++) {\r\n\t\t\t\tSystem.out.print(matrix[i][j]+&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t\tCRS crs = new CRS(matrix);\r\n\t\tcrs.print_all();\r\n\t\tSystem.out.println(crs.get_element());\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How to find an element by indexes in Compessed Sparse Row?","body":"<p>I'm trying to write a program in Java that works with a sparse matrix and I've written a class for storing it using the CRS format. The problematic part of the given class is a method that get_element() that has to return the element by indexes. Indexes are received as user input. Every time I enter the indexes, I get 0. Though the result should be different. Maybe the problem is inside the constructor. I don't know.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class CRS {\n    \n    private ArrayList&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\n    private ArrayList&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\n    private ArrayList&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\n    \n    public CRS(int[][] matrix) {\n        int n = 0;\n        for(int i=0;i&lt;10*main.N;i++) {\n            for(int j=0;j&lt;10*main.N;j++) {\n                if(matrix[i][j]!=0) {\n                    A.add(matrix[i][j]);\n                    LJ.add(j+1);\n                    n++;\n                }\n            }\n            LI.add(n);\n        }\n        LI.add(main.N+1);\n    }\n    \n    public void print_all() {\n        System.out.println(&quot;\\nCRS&quot;);\n        System.out.print(&quot;A &quot;);\n        for(int i=0;i&lt;main.N;i++) {\n            System.out.print(A.get(i)+&quot; &quot;);\n        }\n        System.out.print(&quot;\\nLJ &quot;);\n        for(int i=0;i&lt;main.N;i++) {\n            System.out.print(LJ.get(i)+&quot; &quot;);\n        }\n        System.out.print(&quot;\\nLI &quot;);\n        for(int i=0;i&lt;LI.size();i++) {\n            System.out.print(LI.get(i)+&quot; &quot;);\n        }\n    }\n    \n    public int get_element() {\n        System.out.println(&quot;\\n\\nSearching for an element&quot;);\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter i:&quot;);\n        int i = sc.nextInt();\n        System.out.println(&quot;Enter j:&quot;);\n        int j = sc.nextInt();\n        int AA = 0;\n        int N1=LI.get(i);\n        int N2=LI.get(i+1);\n        for(int k=N1;k&lt;N2;k++) {\n            if(LJ.get(k)==j) {\n                AA=A.get(k);\n            }\n        }\n        return AA;\n    }\n}\n</code></pre>\n<p>Here is the main class.</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class main {\n    public static int N=2;\n\n    public static void main(String[] args) {\n        \n        int [][] matrix = new int [10*N] [10*N];\n        for(int n=0;n&lt;N;) {\n            int max_position=10*N-1;\n            int min_value=1,max_value=12;\n            int i = (int)(Math.random() * (max_position + 1));\n            int j = (int)(Math.random() * (max_position + 1));\n            if(matrix[i][j]==0) {\n                matrix[i][j] = min_value + (int)(Math.random() * ((max_value - min_value) + 1));\n                n++;\n            }\n        }\n        System.out.println(&quot;Sparce matrix&quot;);\n        for(int i=0;i&lt;10*N;i++) {\n            for(int j=0;j&lt;10*N;j++) {\n                System.out.print(matrix[i][j]+&quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n        CRS crs = new CRS(matrix);\n        crs.print_all();\n        System.out.println(crs.get_element());\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":5,"creation_date":1694691291,"post_id":77104462,"comment_id":135926111,"body_markdown":"I believe what you are looking for is JUnit&#39;s ParameterizedTest.  I do not have the time to prepare a formal answer but the breadcrumb may be enough to get your going.","body":"I believe what you are looking for is JUnit&#39;s ParameterizedTest.  I do not have the time to prepare a formal answer but the breadcrumb may be enough to get your going."}],"answers":[{"comments":[{"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"score":0,"creation_date":1694707851,"post_id":77104686,"comment_id":135930032,"body_markdown":"Excellent!  Thanks for spotting my JUnit 4 deficiency!","body":"Excellent!  Thanks for spotting my JUnit 4 deficiency!"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694692870,"creation_date":1694692870,"answer_id":77104686,"question_id":77104462,"body_markdown":"It seems that you are still using JUnit 4 (because you annotated your class with `@RunWith()`.)\r\n\r\nWith JUnit 4 writing parameterized tests for Spring applications is fairly complex because you can have only one TestRunner and for parameterized tests you need to use the [`Parameterized`](https://github.com/junit-team/junit4/wiki/Parameterized-tests) runner. And that means that setting up the Spring application cannot be done automatically by using the `SpringRunner`.\r\n\r\nhttps://www.baeldung.com/springjunit4classrunner-parameterized has a detailed example how you can achieve this.\r\n\r\n------\r\n\r\nThe whole thing would be a lot easier if you could switch your test to JUnit 5 because JUnit 5 has better support for [parameterized tests](https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests):\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    @SpringBootTest(classes = Application.class)\r\n    public class MyBigTest {\r\n    \r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;, &quot;value4&quot;, &quot;value5&quot;})\r\n    public void testAllValues(String value) {\r\n    \r\n        String something1 = doSomethingToValue(value);\r\n        if (something1 == BAD) {\r\n            throw Exception(&quot;bad &quot;+value);\r\n        }\r\n    }\r\n\r\nNote that you don&#39;t need to migrate all your tests to JUnit 5 - JUnit 5 can also run JUnit 4 tests.","title":"How to make a JUnit test that does the same test on many values in a list?","body":"<p>It seems that you are still using JUnit 4 (because you annotated your class with <code>@RunWith()</code>.)</p>\n<p>With JUnit 4 writing parameterized tests for Spring applications is fairly complex because you can have only one TestRunner and for parameterized tests you need to use the <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"nofollow noreferrer\"><code>Parameterized</code></a> runner. And that means that setting up the Spring application cannot be done automatically by using the <code>SpringRunner</code>.</p>\n<p><a href=\"https://www.baeldung.com/springjunit4classrunner-parameterized\" rel=\"nofollow noreferrer\">https://www.baeldung.com/springjunit4classrunner-parameterized</a> has a detailed example how you can achieve this.</p>\n<hr />\n<p>The whole thing would be a lot easier if you could switch your test to JUnit 5 because JUnit 5 has better support for <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">parameterized tests</a>:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\n@SpringBootTest(classes = Application.class)\npublic class MyBigTest {\n\n@ParameterizedTest\n@ValueSource(strings = {&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;, &quot;value4&quot;, &quot;value5&quot;})\npublic void testAllValues(String value) {\n\n    String something1 = doSomethingToValue(value);\n    if (something1 == BAD) {\n        throw Exception(&quot;bad &quot;+value);\n    }\n}\n</code></pre>\n<p>Note that you don't need to migrate all your tests to JUnit 5 - JUnit 5 can also run JUnit 4 tests.</p>\n"}],"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77104686,"answer_count":1,"score":0,"last_activity_date":1694692870,"creation_date":1694691050,"question_id":77104462,"body_markdown":"I have a JUnit test with one @Test method that does the same test on a long list of values.\r\n\r\nWhen I run the &quot;tests&quot; there&#39;s just one green check mark JUnit test success (in the Eclipse UI).\r\n\r\nHow can I tweak this so each value test appears as a separate JUnit test in the UI so I can more easily locate which one fails?\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = Application.class)\r\n    public class MyBigTest {\r\n    \r\n    @Test\r\n    public void testAllValues() {\r\n       List&lt;String&gt; allValues = new ArrayList&lt;String&gt;();\r\n       allValues.add(&quot;value1&quot;);\r\n       allValues.add(&quot;value2&quot;);\r\n       allValues.add(&quot;value3&quot;);\r\n       allValues.add(&quot;value4&quot;);\r\n       allValues.add(&quot;value5&quot;);\r\n    \r\n       for (String value : allValues) {\r\n          String something1 = doSomethingToValue(value1);\r\n          if (something1 == BAD) {\r\n             throw Exception(&quot;bad &quot;+value);\r\n          }\r\n       }\r\n    }\r\n      \r\n\r\n","title":"How to make a JUnit test that does the same test on many values in a list?","body":"<p>I have a JUnit test with one @Test method that does the same test on a long list of values.</p>\n<p>When I run the &quot;tests&quot; there's just one green check mark JUnit test success (in the Eclipse UI).</p>\n<p>How can I tweak this so each value test appears as a separate JUnit test in the UI so I can more easily locate which one fails?</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class)\npublic class MyBigTest {\n\n@Test\npublic void testAllValues() {\n   List&lt;String&gt; allValues = new ArrayList&lt;String&gt;();\n   allValues.add(&quot;value1&quot;);\n   allValues.add(&quot;value2&quot;);\n   allValues.add(&quot;value3&quot;);\n   allValues.add(&quot;value4&quot;);\n   allValues.add(&quot;value5&quot;);\n\n   for (String value : allValues) {\n      String something1 = doSomethingToValue(value1);\n      if (something1 == BAD) {\n         throw Exception(&quot;bad &quot;+value);\n      }\n   }\n}\n  \n</code></pre>\n"},{"tags":["java","java-8","java-17"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1694599628,"post_id":77096034,"comment_id":135911449,"body_markdown":"Even in Java 8 you shouldn&#39;t have used those classes directly. BTW: those classes were not removed or deprecated, they have just been made inaccessible to code that shouldn&#39;t have been using them in the first place.","body":"Even in Java 8 you shouldn&#39;t have used those classes directly. BTW: those classes were not removed or deprecated, they have just been made inaccessible to code that shouldn&#39;t have been using them in the first place."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694600312,"post_id":77096034,"comment_id":135911571,"body_markdown":"@MarkRotteveel Your comment makes it sound like they did something illegal which is ridiculous. OP is not making an assertion that &#39;sun.security should remain supported in JDK17&#39; (in which case you&#39;d have a point: The sun.* packages explicitly disclaim continuing support). Their question is completely fair and &#39;you should build a time machine, go back in time, and yell at your past selves for messing up&#39; is not an appropriate response.","body":"@MarkRotteveel Your comment makes it sound like they did something illegal which is ridiculous. OP is not making an assertion that &#39;sun.security should remain supported in JDK17&#39; (in which case you&#39;d have a point: The sun.* packages explicitly disclaim continuing support). Their question is completely fair and &#39;you should build a time machine, go back in time, and yell at your past selves for messing up&#39; is not an appropriate response."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1694600661,"post_id":77096034,"comment_id":135911639,"body_markdown":"@rzwitserloot Even in the past, using classes from `sun.*` was explicitly not recommended, which is why they are no longer exported.","body":"@rzwitserloot Even in the past, using classes from <code>sun.*</code> was explicitly not recommended, which is why they are no longer exported."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1694613379,"post_id":77096034,"comment_id":135914477,"body_markdown":"@rzwitserloot Mark is right. Sun has stated long ago that classes from `sun.*` and `com.sun.*` could be changed or deleted at any time, and you shouldn&#39;t use those. Oracle stuck to that policy.","body":"@rzwitserloot Mark is right. Sun has stated long ago that classes from <code>sun.*</code> and <code>com.sun.*</code> could be changed or deleted at any time, and you shouldn&#39;t use those. Oracle stuck to that policy."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694620197,"post_id":77096034,"comment_id":135916072,"body_markdown":"I never said he was wrong. I said it&#39;s inappropriate to &#39;answer&#39; a question that __already__ includes the statement of &#39;What should be used here&#39;, i.e. already is willing to use a different library, with: &quot;You messed up in using it in the first place&quot;. This is one of those textbook cases of &#39;SO is mean&#39;. There is no need for this. If OP starts whining about &#39;But how can I use this sun.* stuff on JDK17&#39;, I&#39;ll be right there with you. But they didn&#39;t.","body":"I never said he was wrong. I said it&#39;s inappropriate to &#39;answer&#39; a question that <b>already</b> includes the statement of &#39;What should be used here&#39;, i.e. already is willing to use a different library, with: &quot;You messed up in using it in the first place&quot;. This is one of those textbook cases of &#39;SO is mean&#39;. There is no need for this. If OP starts whining about &#39;But how can I use this sun.* stuff on JDK17&#39;, I&#39;ll be right there with you. But they didn&#39;t."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1694625463,"post_id":77096034,"comment_id":135917068,"body_markdown":"[This thread](https://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules) and the linked ones might help you find the alternate solution you might be looking for.","body":"<a href=\"https://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules\">This thread</a> and the linked ones might help you find the alternate solution you might be looking for."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694677877,"post_id":77096034,"comment_id":135923340,"body_markdown":"@rzwitserloot I didn&#39;t post an answer, I posted a comment to point an incorrect assumption in the question (_&quot;as PKCS is downgraded and removed in Java 17.&quot;_). The `sun.security.pkcs10` class only exists in Java due to the `keytool` commandline utility.","body":"@rzwitserloot I didn&#39;t post an answer, I posted a comment to point an incorrect assumption in the question (<i>&quot;as PKCS is downgraded and removed in Java 17.&quot;</i>). The <code>sun.security.pkcs10</code> class only exists in Java due to the <code>keytool</code> commandline utility."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1694664090,"post_id":77096177,"comment_id":135921678,"body_markdown":"This &quot;answer&quot; seems more like a comment to me. Why did you post this as an answer?","body":"This &quot;answer&quot; seems more like a comment to me. Why did you post this as an answer?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694694508,"post_id":77096177,"comment_id":135926823,"body_markdown":"@rzwitserloot That is a &quot;link-only&quot; answer. Just pointing to a library without showing how to use it is not considered an answer.","body":"@rzwitserloot That is a &quot;link-only&quot; answer. Just pointing to a library without showing how to use it is not considered an answer."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1694692867,"creation_date":1694600394,"answer_id":77096177,"question_id":77096034,"body_markdown":"[_BouncyCastle_](https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS10CertificationRequest.html) has various PKCS10 capable classes. See [this SO question](https://stackoverflow.com/questions/23155024/sign-pkcs10-certificate-in-java) for an example. You&#39;ll need to rewrite your code a bit, they haven&#39;t copied the `sun.security.*` API.\r\n","title":"package sun.security.pkcs10 is not visible and package sun.security.x509 is not visible while migrating from Java 8 to Java 17","body":"<p><a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS10CertificationRequest.html\" rel=\"nofollow noreferrer\"><em>BouncyCastle</em></a> has various PKCS10 capable classes. See <a href=\"https://stackoverflow.com/questions/23155024/sign-pkcs10-certificate-in-java\">this SO question</a> for an example. You'll need to rewrite your code a bit, they haven't copied the <code>sun.security.*</code> API.</p>\n"}],"owner":{"account_id":18982671,"reputation":49,"user_id":13853763,"display_name":"mayur gavali"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694692867,"creation_date":1694599188,"question_id":77096034,"body_markdown":"While migrating my application from Java 8 to Java 17, I&#39;m facing error\r\n\r\n&gt; package sun.security.pkcs10 is not visible package sun.security.x509\r\n&gt; is not visible\r\n\r\n    \r\nFollowing is the code:\r\n\r\n    @SuppressWarnings(&quot;restriction&quot;)\r\n    private static byte[] encodeAndSignRequest(KeyPair keyPair, Signature signature,\r\n            X500Principal principal) throws Exception {\r\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();`enter code here`\r\n        PrintStream printStream = new PrintStream(outStream, true, StandardCharsets.UTF_8.name());\r\n        sun.security.pkcs10.PKCS10 pkcs10 = new sun.security.pkcs10.PKCS10(keyPair.getPublic());\r\n        pkcs10.encodeAndSign(sun.security.x509.X500Name.asX500Name(principal), signature);\r\n        pkcs10.print(printStream);\r\n        return outStream.toByteArray();\r\n    }\r\n\r\nAs it is getting the public key and trying to encode that key based on the PKCS10 which is not present in Java 17, The above method is throwing an exception as PKCS is downgraded and removed in Java 17. What should be used over here to solve this issue?","title":"package sun.security.pkcs10 is not visible and package sun.security.x509 is not visible while migrating from Java 8 to Java 17","body":"<p>While migrating my application from Java 8 to Java 17, I'm facing error</p>\n<blockquote>\n<p>package sun.security.pkcs10 is not visible package sun.security.x509\nis not visible</p>\n</blockquote>\n<p>Following is the code:</p>\n<pre><code>@SuppressWarnings(&quot;restriction&quot;)\nprivate static byte[] encodeAndSignRequest(KeyPair keyPair, Signature signature,\n        X500Principal principal) throws Exception {\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();`enter code here`\n    PrintStream printStream = new PrintStream(outStream, true, StandardCharsets.UTF_8.name());\n    sun.security.pkcs10.PKCS10 pkcs10 = new sun.security.pkcs10.PKCS10(keyPair.getPublic());\n    pkcs10.encodeAndSign(sun.security.x509.X500Name.asX500Name(principal), signature);\n    pkcs10.print(printStream);\n    return outStream.toByteArray();\n}\n</code></pre>\n<p>As it is getting the public key and trying to encode that key based on the PKCS10 which is not present in Java 17, The above method is throwing an exception as PKCS is downgraded and removed in Java 17. What should be used over here to solve this issue?</p>\n"},{"tags":["java","spring","hibernate","spring-data"],"comments":[{"owner":{"account_id":6937666,"reputation":949,"user_id":5325086,"accept_rate":75,"display_name":"lenach87"},"score":0,"creation_date":1470514461,"post_id":38805066,"comment_id":64984925,"body_markdown":"Check the answers to this question - it might help http://stackoverflow.com/questions/6810158/java-hibernate-write-operations-are-not-allowed-in-read-only-mode","body":"Check the answers to this question - it might help <a href=\"http://stackoverflow.com/questions/6810158/java-hibernate-write-operations-are-not-allowed-in-read-only-mode\" title=\"java hibernate write operations are not allowed in read only mode\">stackoverflow.com/questions/6810158/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6834220,"reputation":122,"user_id":10785002,"display_name":"გენო მუმლაძე"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558276056,"creation_date":1558276056,"answer_id":56208760,"question_id":38805066,"body_markdown":"Check for @Transactional annotation in you DAO.\r\nIt should be \r\n\r\n    @Transactional(readOnly = false)","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL)","body":"<p>Check for @Transactional annotation in you DAO.\nIt should be </p>\n\n<pre><code>@Transactional(readOnly = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694692676,"creation_date":1694692676,"answer_id":77104667,"question_id":38805066,"body_markdown":"only **@Transaction** will also work in this case.\r\n**@Transactional(readOnly = false)** - This is the default behavior if you don&#39;t specify the readOnly attribute.","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL)","body":"<p>only <strong>@Transaction</strong> will also work in this case.\n<strong>@Transactional(readOnly = false)</strong> - This is the default behavior if you don't specify the readOnly attribute.</p>\n"}],"owner":{"account_id":4454134,"reputation":1915,"user_id":3625007,"display_name":"Ananta Chandra Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694692676,"creation_date":1470492078,"question_id":38805066,"body_markdown":"While Executing the program, I&#39;m getting the particular error \r\n\r\n    **Exception in thread &quot;main&quot; org.springframework.dao.InvalidDataAccessApiUsageException: \r\n    Write operations are not allowed in read-only mode (FlushMode.MANUAL): \r\n    Turn your Session into FlushMode.\r\n    COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition.** \r\n\r\nevery time. please someone help me. Here I am giving my codes which contains some error. In the Below code I have taken one employee data which will be stored in the employee table of MSSQL database. While working with only hibernate at that time i can able to persist my data. But, her i am unable to persist my data.\r\n   \r\n\r\nEmployeeHt.java\r\n---------------\r\nThis is the entity class which is mapped to the employee table of MSSQL database\r\n\r\n\r\n     import javax.persistence.Column;\r\n     import javax.persistence.Entity;\r\n     import javax.persistence.Id;\r\n     import javax.persistence.Table;\r\n\r\n     @Entity\r\n     @Table(name=&quot;employee&quot;)\r\n     public class EmployeeHt {\r\n\t\r\n    \t@Id\r\n    \t@Column(name=&quot;id&quot;)\r\n     \tprivate int id;\r\n\t\r\n    \t@Column(name=&quot;name&quot;)\r\n\t    private String name;\r\n\t\r\n    \t@Column(name=&quot;salary&quot;)\r\n    \tprivate int salary;\r\n    \t\r\n    \tpublic int getId() {\r\n\t    \treturn id;\r\n\t    }\r\n\t    public void setId(int id) {\r\n\t    \tthis.id = id;\r\n\t    }\r\n     \t   public String getName() {\r\n\t    \treturn name;\r\n\t    }\r\n\t    public void setName(String name) {\r\n\t    \tthis.name = name;\r\n\t    }\r\n\t    public int getSalary() {\r\n\t    \treturn salary;\r\n\t    }\r\n\t    public void setSalary(int salary) {\r\n\t    \tthis.salary = salary;\r\n\t    }\r\n\t    @Override\r\n\t     public String toString() {\r\n\t        \treturn &quot;EmployeeHt [id=&quot; + id + &quot;, name=&quot; + name + &quot;, salary=&quot; +      salary + &quot;]&quot;;\r\n        \t}\r\n    }\r\n\r\n        \r\n\r\n   \r\n\r\nEmployeeHtDao.java\r\n------------------\r\nThis is the class which contains hibernate template\r\n\r\n       \r\n        import org.springframework.orm.hibernate5.HibernateTemplate;\r\n    \r\n        public class EmployeeHtDao {\r\n     \r\n            private HibernateTemplate ht;\t\r\n            public void setHt(HibernateTemplate ht) {\r\n            \tthis.ht = ht;\r\n         }\t\r\n         public void saveEmployee(EmployeeHt e){\r\n        \tht.save(e);\r\n         }\t\r\n       }\r\n     \r\n   \r\n\r\n    \r\n\r\nEmployeeHtTest.java\r\n-------------------\r\n\r\n       **This is the main class**\r\n\r\n       import org.springframework.context.ApplicationContext;\r\n          import    org.springframework.context.support.ClassPathXmlApplicationContext;\r\n     \r\n            public class EmployeeHtTest {\r\n    \r\n           \tprivate static ApplicationContext context;\r\n            public static void main(String[] args) {\t\t\r\n        \tcontext = new     ClassPathXmlApplicationContext(&quot;hibernateTemplate.xml&quot;);\r\n    \t     EmployeeHtDao dao=(EmployeeHtDao) context.getBean(&quot;edao&quot;);\t\t\r\n    \t     EmployeeHt e=new EmployeeHt();\r\n           \te.setId(104);\r\n        \te.setName(&quot;Prangyan&quot;);\r\n        \te.setSalary(30000);\t\t\r\n        \tdao.saveEmployee(e);\r\n        }\r\n     }\r\n  \r\n\r\nhibernateTemplate.xml\r\n---------------------\r\n\r\n       **This is the spring-xml file**\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n        &lt;beans  \r\n            xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n            xmlns:p=&quot;http://www.springframework.org/schema/p&quot;  \r\n            xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans   \r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n        \r\n            &lt;bean id=&quot;connpool&quot;     class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        \t    &lt;property name=&quot;driverClassName&quot;     value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n        \t    &lt;property name=&quot;url&quot;     value=&quot;jdbc:sqlserver://localhost:1433;databaseName=ananta&quot;/&gt;\r\n        \t    &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\r\n        \t    &lt;property name=&quot;password&quot; value=&quot;pass123&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;mysessionfactory&quot;   class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n            \t&lt;property name=&quot;dataSource&quot; ref=&quot;connpool&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;hibernateTemplate&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n        \t    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mysessionfactory&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;edao&quot; class=&quot;com.sdrc.hibernatetemplate.EmployeeHtDao&quot;&gt;\r\n        \t    &lt;property name=&quot;ht&quot; ref=&quot;hibernateTemplate&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/beans&gt;","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL)","body":"<p>While Executing the program, I'm getting the particular error </p>\n\n<pre><code>**Exception in thread \"main\" org.springframework.dao.InvalidDataAccessApiUsageException: \nWrite operations are not allowed in read-only mode (FlushMode.MANUAL): \nTurn your Session into FlushMode.\nCOMMIT/AUTO or remove 'readOnly' marker from transaction definition.** \n</code></pre>\n\n<p>every time. please someone help me. Here I am giving my codes which contains some error. In the Below code I have taken one employee data which will be stored in the employee table of MSSQL database. While working with only hibernate at that time i can able to persist my data. But, her i am unable to persist my data.</p>\n\n<h2>EmployeeHt.java</h2>\n\n<p>This is the entity class which is mapped to the employee table of MSSQL database</p>\n\n<pre><code> import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.Id;\n import javax.persistence.Table;\n\n @Entity\n @Table(name=\"employee\")\n public class EmployeeHt {\n\n    @Id\n    @Column(name=\"id\")\n    private int id;\n\n    @Column(name=\"name\")\n    private String name;\n\n    @Column(name=\"salary\")\n    private int salary;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n       public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getSalary() {\n        return salary;\n    }\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n    @Override\n     public String toString() {\n            return \"EmployeeHt [id=\" + id + \", name=\" + name + \", salary=\" +      salary + \"]\";\n        }\n}\n</code></pre>\n\n<h2>EmployeeHtDao.java</h2>\n\n<p>This is the class which contains hibernate template</p>\n\n<pre><code>    import org.springframework.orm.hibernate5.HibernateTemplate;\n\n    public class EmployeeHtDao {\n\n        private HibernateTemplate ht;   \n        public void setHt(HibernateTemplate ht) {\n            this.ht = ht;\n     }  \n     public void saveEmployee(EmployeeHt e){\n        ht.save(e);\n     }  \n   }\n</code></pre>\n\n<h2>EmployeeHtTest.java</h2>\n\n<pre><code>   **This is the main class**\n\n   import org.springframework.context.ApplicationContext;\n      import    org.springframework.context.support.ClassPathXmlApplicationContext;\n\n        public class EmployeeHtTest {\n\n        private static ApplicationContext context;\n        public static void main(String[] args) {        \n        context = new     ClassPathXmlApplicationContext(\"hibernateTemplate.xml\");\n         EmployeeHtDao dao=(EmployeeHtDao) context.getBean(\"edao\");     \n         EmployeeHt e=new EmployeeHt();\n        e.setId(104);\n        e.setName(\"Prangyan\");\n        e.setSalary(30000);     \n        dao.saveEmployee(e);\n    }\n }\n</code></pre>\n\n<h2>hibernateTemplate.xml</h2>\n\n<pre><code>   **This is the spring-xml file**\n\n &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  \n    &lt;beans  \n        xmlns=\"http://www.springframework.org/schema/beans\"  \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  \n        xmlns:p=\"http://www.springframework.org/schema/p\"  \n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans   \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n        &lt;bean id=\"connpool\"     class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n            &lt;property name=\"driverClassName\"     value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\"/&gt;\n            &lt;property name=\"url\"     value=\"jdbc:sqlserver://localhost:1433;databaseName=ananta\"/&gt;\n            &lt;property name=\"username\" value=\"sa\"/&gt;\n            &lt;property name=\"password\" value=\"pass123\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"mysessionfactory\"   class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n            &lt;property name=\"dataSource\" ref=\"connpool\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"hibernateTemplate\" class=\"org.springframework.orm.hibernate5.HibernateTemplate\"&gt;\n            &lt;property name=\"sessionFactory\" ref=\"mysessionfactory\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"edao\" class=\"com.sdrc.hibernatetemplate.EmployeeHtDao\"&gt;\n            &lt;property name=\"ht\" ref=\"hibernateTemplate\"/&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1268159177,"post_id":2411487,"comment_id":2392413,"body_markdown":"What is the context? Are there multiple threads involved? I&#39;ve had issues trying to get the stack trace of an exception in a SwingWorker.","body":"What is the context? Are there multiple threads involved? I&#39;ve had issues trying to get the stack trace of an exception in a SwingWorker."},{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":0,"creation_date":1268159727,"post_id":2411487,"comment_id":2392487,"body_markdown":"No threading involved here, just plain old Java.","body":"No threading involved here, just plain old Java."},{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":1,"creation_date":1268240339,"post_id":2411487,"comment_id":2400675,"body_markdown":"@Bozho - nope - not sure how to reproduce the NullPointer yet.","body":"@Bozho - nope - not sure how to reproduce the NullPointer yet."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":1,"creation_date":1327950267,"post_id":2411487,"comment_id":11383527,"body_markdown":"related: http://stackoverflow.com/questions/1076191/nullpointerexception-stack-trace-not-available-without-debug-agent","body":"related: <a href=\"http://stackoverflow.com/questions/1076191/nullpointerexception-stack-trace-not-available-without-debug-agent\" title=\"nullpointerexception stack trace not available without debug agent\">stackoverflow.com/questions/1076191/&hellip;</a>"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1512672457,"post_id":2411487,"comment_id":82363472,"body_markdown":"More info on `-XX:-OmitStackTraceInFastThrow` in the dup: https://stackoverflow.com/questions/4659151/recurring-exception-without-a-stack-trace-how-to-reset","body":"More info on <code>-XX:-OmitStackTraceInFastThrow</code> in the dup: <a href=\"https://stackoverflow.com/questions/4659151/recurring-exception-without-a-stack-trace-how-to-reset\" title=\"recurring exception without a stack trace how to reset\">stackoverflow.com/questions/4659151/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":1,"creation_date":1268159659,"post_id":2411502,"comment_id":2392474,"body_markdown":"Sorry, I misspoke in my original post. I&#39;m logging these through Log4J, which does use printStackTrace().","body":"Sorry, I misspoke in my original post. I&#39;m logging these through Log4J, which does use printStackTrace()."},{"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"score":1,"creation_date":1268159874,"post_id":2411502,"comment_id":2392505,"body_markdown":"Have you tried using `getStackTrace()` to make sure the problem is not with your logger?","body":"Have you tried using <code>getStackTrace()</code> to make sure the problem is not with your logger?"},{"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"score":1,"creation_date":1268160821,"post_id":2411502,"comment_id":2392631,"body_markdown":"If you are using log4j, be sure to send the exception as part of the argument to the log method. I will post an answer with that.","body":"If you are using log4j, be sure to send the exception as part of the argument to the log method. I will post an answer with that."},{"owner":{"account_id":25407,"reputation":5423,"user_id":65285,"display_name":"KarstenF"},"score":0,"creation_date":1268178297,"post_id":2411502,"comment_id":2394755,"body_markdown":"@raviaw valid point! \n\n@Edward Shtern: can you confirm that you definitely are using the 2-arg form of the log4j method?  I know you mentioned in an answer further down that it is the company policy to do so, but are you ABSOLUTELY sure that in this case you are following the policy?","body":"@raviaw valid point!   @Edward Shtern: can you confirm that you definitely are using the 2-arg form of the log4j method?  I know you mentioned in an answer further down that it is the company policy to do so, but are you ABSOLUTELY sure that in this case you are following the policy?"},{"owner":{"account_id":25407,"reputation":5423,"user_id":65285,"display_name":"KarstenF"},"score":0,"creation_date":1268248578,"post_id":2411502,"comment_id":2401847,"body_markdown":"It might be a long shot, but is it possible that the exception originates in some 3rd party code?  Maybe it is a (poorly written) exception wrapper, whose toString() simply returns the class name of the wrapped exception, and which fails to provide the underlying stack trace.  Try put something like logger.info(&quot;Exception class = &quot; + exc.class.getCanonicalName()) into your catch block and see what you get.","body":"It might be a long shot, but is it possible that the exception originates in some 3rd party code?  Maybe it is a (poorly written) exception wrapper, whose toString() simply returns the class name of the wrapped exception, and which fails to provide the underlying stack trace.  Try put something like logger.info(&quot;Exception class = &quot; + exc.class.getCanonicalName()) into your catch block and see what you get."}],"tags":[],"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1268159459,"creation_date":1268159158,"answer_id":2411502,"question_id":2411487,"body_markdown":"[`exception.toString`][1] does not give you the StackTrace, it only returns\r\n\r\n&gt; a short description of this throwable.\r\n&gt; The result is the concatenation of:\r\n&gt; \r\n&gt;     * the name of the class of this object\r\n&gt;     * &quot;: &quot; (a colon and a space)\r\n&gt;     * the result of invoking this object&#39;s getLocalizedMessage() method\r\n\r\n---\r\n\r\nUse [`exception.printStackTrace`][2] instead to output the StackTrace.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#toString%28%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#printStackTrace%28%29\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace%28%29","title":"NullPointerException in Java with no StackTrace","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#toString%28%29\" rel=\"noreferrer\"><code>exception.toString</code></a> does not give you the StackTrace, it only returns</p>\n\n<blockquote>\n  <p>a short description of this throwable.\n  The result is the concatenation of:</p>\n\n<pre><code>* the name of the class of this object\n* \": \" (a colon and a space)\n* the result of invoking this object's getLocalizedMessage() method\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>Use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#printStackTrace%28%29\" rel=\"noreferrer\"><code>exception.printStackTrace</code></a> instead to output the StackTrace.</p>\n"},{"comments":[{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":0,"creation_date":1268159687,"post_id":2411509,"comment_id":2392479,"body_markdown":"See above - I misspoke - I am using printStackTrace().","body":"See above - I misspoke - I am using printStackTrace()."}],"tags":[],"owner":{"account_id":108204,"reputation":39,"user_id":287315,"display_name":"Sheldon Young"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1268159264,"creation_date":1268159264,"answer_id":2411509,"question_id":2411487,"body_markdown":"`toString()` only returns the exception name and the optional message.  I would suggest calling \r\n\r\n    exception.printStackTrace()\r\n\r\nto dump the message, or if you need the gory details:\r\n\r\n     StackTraceElement[] trace = exception.getStackTrace()","title":"NullPointerException in Java with no StackTrace","body":"<p><code>toString()</code> only returns the exception name and the optional message.  I would suggest calling </p>\n\n<pre><code>exception.printStackTrace()\n</code></pre>\n\n<p>to dump the message, or if you need the gory details:</p>\n\n<pre><code> StackTraceElement[] trace = exception.getStackTrace()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88955,"reputation":6216,"user_id":245747,"accept_rate":92,"display_name":"Michael D. Irizarry"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1268159469,"creation_date":1268159469,"answer_id":2411531,"question_id":2411487,"body_markdown":"This will output the Exception, use only to debug you should handle you exceptions better.\r\n\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n        public static String getStackTrace(Throwable t)\r\n        {\r\n            StringWriter sw = new StringWriter();\r\n            PrintWriter pw = new PrintWriter(sw, true);\r\n            t.printStackTrace(pw);\r\n            pw.flush();\r\n            sw.flush();\r\n            return sw.toString();\r\n        }\r\n\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>This will output the Exception, use only to debug you should handle you exceptions better.</p>\n\n<pre><code>import java.io.PrintWriter;\nimport java.io.StringWriter;\n    public static String getStackTrace(Throwable t)\n    {\n        StringWriter sw = new StringWriter();\n        PrintWriter pw = new PrintWriter(sw, true);\n        t.printStackTrace(pw);\n        pw.flush();\n        sw.flush();\n        return sw.toString();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"score":0,"creation_date":1268161187,"post_id":2411660,"comment_id":2392685,"body_markdown":"+1: This would explain the described behavior, and you are not the only one who discovered this :)","body":"+1: This would explain the described behavior, and you are not the only one who discovered this :)"},{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":4,"creation_date":1268162756,"post_id":2411660,"comment_id":2392906,"body_markdown":"We actually have a standard policy of never using the first form above (LOG.error(exc);) - we always use the 2 parameter signature so that we add some descriptive statement to the logs instead of just a raw stacktrace.","body":"We actually have a standard policy of never using the first form above (LOG.error(exc);) - we always use the 2 parameter signature so that we add some descriptive statement to the logs instead of just a raw stacktrace."},{"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"score":6,"creation_date":1268165547,"post_id":2411660,"comment_id":2393298,"body_markdown":"Sure, but policy doesn&#39;t mean it&#39;s always executed correctly!  Figured it was worth mentioning, at least.","body":"Sure, but policy doesn&#39;t mean it&#39;s always executed correctly!  Figured it was worth mentioning, at least."},{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":0,"creation_date":1268240369,"post_id":2411660,"comment_id":2400681,"body_markdown":"True, but in this case it was ;-)","body":"True, but in this case it was ;-)"}],"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"comment_count":4,"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1268160605,"creation_date":1268160605,"answer_id":2411660,"question_id":2411487,"body_markdown":"As you mentioned in a comment, you&#39;re using log4j.  I discovered (inadvertently) a place where I had written\r\n\r\n    LOG.error(exc);\r\n\r\ninstead of the typical\r\n\r\n    LOG.error(&quot;Some informative message&quot;, e);\r\n\r\nthrough laziness or perhaps just not thinking about it.  The unfortunate part of this is that it doesn&#39;t behave as you expect.  The logger API actually takes Object as the first argument, not a string - and then it calls toString() on the argument.  So instead of getting the nice pretty stack trace, it just prints out the toString - which in the case of NPE is pretty useless.\r\n\r\nPerhaps this is what you&#39;re experiencing?","title":"NullPointerException in Java with no StackTrace","body":"<p>As you mentioned in a comment, you're using log4j.  I discovered (inadvertently) a place where I had written</p>\n\n<pre><code>LOG.error(exc);\n</code></pre>\n\n<p>instead of the typical</p>\n\n<pre><code>LOG.error(\"Some informative message\", e);\n</code></pre>\n\n<p>through laziness or perhaps just not thinking about it.  The unfortunate part of this is that it doesn't behave as you expect.  The logger API actually takes Object as the first argument, not a string - and then it calls toString() on the argument.  So instead of getting the nice pretty stack trace, it just prints out the toString - which in the case of NPE is pretty useless.</p>\n\n<p>Perhaps this is what you're experiencing?</p>\n"},{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1268165644,"creation_date":1268165644,"answer_id":2412217,"question_id":2411487,"body_markdown":"Alternate suggestion - if you&#39;re using Eclipse, you could set a breakpoint on NullPointerException itself (in the Debug perspective, go to the &quot;Breakpoints&quot; tab and click on the little icon that has a ! in it)\r\n\r\nCheck both the &quot;caught&quot; and &quot;uncaught&quot; options - now when you trigger the NPE, you&#39;ll immediately breakpoint and you can then step through and see how exactly it is handled and why you&#39;re not getting a stack trace.","title":"NullPointerException in Java with no StackTrace","body":"<p>Alternate suggestion - if you're using Eclipse, you could set a breakpoint on NullPointerException itself (in the Debug perspective, go to the \"Breakpoints\" tab and click on the little icon that has a ! in it)</p>\n\n<p>Check both the \"caught\" and \"uncaught\" options - now when you trigger the NPE, you'll immediately breakpoint and you can then step through and see how exactly it is handled and why you're not getting a stack trace.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268175089,"creation_date":1268174507,"answer_id":2413168,"question_id":2411487,"body_markdown":"(Your question is still unclear on whether your code is calling `printStackTrace()` or this is being done by a logging handler.)\r\n\r\nHere are some possible explanations about what might be happening:\r\n\r\n  - The logger / handler being used has been configured to only output the exception&#39;s message string, not a full stack trace.\r\n\r\n  - Your application (or some third-party library) is logging the exception using `LOG.error(ex);` rather than the 2-argument form of (for example) the log4j Logger method.\r\n\r\n  - The message is coming from somewhere different to where you think it is; e.g. it is actually coming some third-party library method, or some random stuff left over from earlier attempts to debug.\r\n\r\n  - The exception that is being logged has overloaded some methods to obscure the stacktrace.  If that is the case, the exception won&#39;t be a genuine NullPointerException, but will be some custom subtype of NPE or even some unconnected exception.  \r\n\r\nI think that the last possible explanation is pretty unlikely, but people do at least contemplate doing this kind of thing to &quot;prevent&quot; reverse engineering.  Of course it only really succeeds in making life difficult for honest developers.\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>(Your question is still unclear on whether your code is calling <code>printStackTrace()</code> or this is being done by a logging handler.)</p>\n\n<p>Here are some possible explanations about what might be happening:</p>\n\n<ul>\n<li><p>The logger / handler being used has been configured to only output the exception's message string, not a full stack trace.</p></li>\n<li><p>Your application (or some third-party library) is logging the exception using <code>LOG.error(ex);</code> rather than the 2-argument form of (for example) the log4j Logger method.</p></li>\n<li><p>The message is coming from somewhere different to where you think it is; e.g. it is actually coming some third-party library method, or some random stuff left over from earlier attempts to debug.</p></li>\n<li><p>The exception that is being logged has overloaded some methods to obscure the stacktrace.  If that is the case, the exception won't be a genuine NullPointerException, but will be some custom subtype of NPE or even some unconnected exception.  </p></li>\n</ul>\n\n<p>I think that the last possible explanation is pretty unlikely, but people do at least contemplate doing this kind of thing to \"prevent\" reverse engineering.  Of course it only really succeeds in making life difficult for honest developers.</p>\n"},{"comments":[{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":3,"creation_date":1327961372,"post_id":2413404,"comment_id":11387005,"body_markdown":"The bug is closed, but the -XX:-OmitStackTraceInFastThrow flag is still needed to workaround the performance optimization.","body":"The bug is closed, but the -XX:-OmitStackTraceInFastThrow flag is still needed to workaround the performance optimization."},{"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"score":0,"creation_date":1355475434,"post_id":2413404,"comment_id":19109935,"body_markdown":"I&#39;ve been seeing this recently a lot. Any clues as to what might be causing this, or how to fix it? The logging system may have been up for days, and the actual cause rotated out, nevermind the tedious search...","body":"I&#39;ve been seeing this recently a lot. Any clues as to what might be causing this, or how to fix it? The logging system may have been up for days, and the actual cause rotated out, nevermind the tedious search..."},{"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"score":5,"creation_date":1355528339,"post_id":2413404,"comment_id":19131585,"body_markdown":"Pawel, have you tried the `-XX:-OmitStackTraceInFastThrow` JVM flag suggested by Joshua?  See also http://stackoverflow.com/a/2070568/6198.","body":"Pawel, have you tried the <code>-XX:-OmitStackTraceInFastThrow</code> JVM flag suggested by Joshua?  See also <a href=\"http://stackoverflow.com/a/2070568/6198\">stackoverflow.com/a/2070568/6198</a>."},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":1,"creation_date":1574105091,"post_id":2413404,"comment_id":104104364,"body_markdown":"This was it for us. Thanks.","body":"This was it for us. Thanks."}],"tags":[],"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"comment_count":4,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1268182467,"creation_date":1268177175,"answer_id":2413404,"question_id":2411487,"body_markdown":"We have seen this same behavior in the past.  It turned out that, for some crazy reason, if a NullPointerException occurred at the same place in the code multiple times, after a while  using `Log.error(String, Throwable)` would stop including full stack traces.\r\n\r\nTry looking further back in your log.  You may find the culprit.\r\n\r\n__EDIT:__ [this bug][1] sounds relevant, but it was fixed so long ago it&#39;s probably not the cause.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4292742","title":"NullPointerException in Java with no StackTrace","body":"<p>We have seen this same behavior in the past.  It turned out that, for some crazy reason, if a NullPointerException occurred at the same place in the code multiple times, after a while  using <code>Log.error(String, Throwable)</code> would stop including full stack traces.</p>\n<p>Try looking further back in your log.  You may find the culprit.</p>\n<p><strong>EDIT:</strong> <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4292742\" rel=\"nofollow noreferrer\">this bug</a> sounds relevant, but it was fixed so long ago it's probably not the cause.</p>\n"},{"comments":[{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":1,"creation_date":1276278534,"post_id":3010106,"comment_id":3093123,"body_markdown":"Thanks for the tip. Any idea if there are any hidden gotchas to passing this option (it seems pretty innocuous as long as my application doesn&#39;t throw a ton of exceptions)?","body":"Thanks for the tip. Any idea if there are any hidden gotchas to passing this option (it seems pretty innocuous as long as my application doesn&#39;t throw a ton of exceptions)?"},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1276427659,"post_id":3010106,"comment_id":3101028,"body_markdown":"There are no hidden gotchas that I know of. When you look at the Hotspot source code, you can see that this option is only used in one place (graphKit.cpp). And that looks fine to me.","body":"There are no hidden gotchas that I know of. When you look at the Hotspot source code, you can see that this option is only used in one place (graphKit.cpp). And that looks fine to me."},{"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"score":37,"creation_date":1340117793,"post_id":3010106,"comment_id":14542827,"body_markdown":"Thought I&#39;d add the additional bit of information that when the stack trace gets optimized away, it&#39;s because it has gotten fully handled at least once: http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/","body":"Thought I&#39;d add the additional bit of information that when the stack trace gets optimized away, it&#39;s because it has gotten fully handled at least once: <a href=\"http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/\" rel=\"nofollow noreferrer\">jawspeak.com/2010/05/26/&hellip;</a>"},{"owner":{"account_id":41094,"reputation":1680,"user_id":119363,"accept_rate":69,"display_name":"Chris W."},"score":1,"creation_date":1528218740,"post_id":3010106,"comment_id":88420355,"body_markdown":"I am running an OpenJDK JVM, version 1.8.0u171 (Debian 9), and it seems to accept the `-XX:-OmitStackTraceInFastThrow` flag as well. I&#39;ve yet to confirm if that was why I was also failing to print stack-traces (e.g., using `e.printStackTrace`), but it seems highly likely. I&#39;ve expanded the answer to reflect this discovery.","body":"I am running an OpenJDK JVM, version 1.8.0u171 (Debian 9), and it seems to accept the <code>-XX:-OmitStackTraceInFastThrow</code> flag as well. I&#39;ve yet to confirm if that was why I was also failing to print stack-traces (e.g., using <code>e.printStackTrace</code>), but it seems highly likely. I&#39;ve expanded the answer to reflect this discovery."},{"owner":{"account_id":1138093,"reputation":1442,"user_id":1122720,"accept_rate":71,"display_name":"sukhmel"},"score":0,"creation_date":1590573789,"post_id":3010106,"comment_id":109728170,"body_markdown":"In our case first 125 exceptions had a stack trace, and then the rest across 3 rotations of log files had none. This answer was very helpful in finding the culprit.","body":"In our case first 125 exceptions had a stack trace, and then the rest across 3 rotations of log files had none. This answer was very helpful in finding the culprit."}],"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"comment_count":5,"down_vote_count":1,"up_vote_count":566,"is_accepted":true,"score":565,"last_activity_date":1666814298,"creation_date":1276119135,"answer_id":3010106,"question_id":2411487,"body_markdown":"You are probably using the HotSpot JVM (originally by Sun Microsystems, later bought by Oracle, part of the OpenJDK), which performs a lot of optimization. To get the stack traces back, you need to pass the following option to the JVM:\r\n\r\n```\r\n-XX:-OmitStackTraceInFastThrow\r\n```\r\n\r\nThe optimization is that when an exception (typically a `NullPointerException`) occurs for the first time, the full stack trace is printed and the JVM remembers the stack trace (or maybe just the location of the code). When that exception occurs often enough, the stack trace is not printed anymore, both to achieve better performance and not to flood the log with identical stack traces.\r\n\r\nTo see how this is implemented in the HotSpot JVM, [grab a copy of it](https://hg.openjdk.java.net/jdk/jdk/) and search for the global variable `OmitStackTraceInFastThrow`. Last time I looked at the code (in 2019), it was in the file [graphKit.cpp](https://hg.openjdk.java.net/jdk/jdk/file/tip/src/hotspot/share/opto/graphKit.cpp).","title":"NullPointerException in Java with no StackTrace","body":"<p>You are probably using the HotSpot JVM (originally by Sun Microsystems, later bought by Oracle, part of the OpenJDK), which performs a lot of optimization. To get the stack traces back, you need to pass the following option to the JVM:</p>\n<pre><code>-XX:-OmitStackTraceInFastThrow\n</code></pre>\n<p>The optimization is that when an exception (typically a <code>NullPointerException</code>) occurs for the first time, the full stack trace is printed and the JVM remembers the stack trace (or maybe just the location of the code). When that exception occurs often enough, the stack trace is not printed anymore, both to achieve better performance and not to flood the log with identical stack traces.</p>\n<p>To see how this is implemented in the HotSpot JVM, <a href=\"https://hg.openjdk.java.net/jdk/jdk/\" rel=\"noreferrer\">grab a copy of it</a> and search for the global variable <code>OmitStackTraceInFastThrow</code>. Last time I looked at the code (in 2019), it was in the file <a href=\"https://hg.openjdk.java.net/jdk/jdk/file/tip/src/hotspot/share/opto/graphKit.cpp\" rel=\"noreferrer\">graphKit.cpp</a>.</p>\n"},{"comments":[{"owner":{"account_id":1648470,"reputation":168,"user_id":1519522,"display_name":"aff"},"score":4,"creation_date":1650368786,"post_id":7773481,"comment_id":127093634,"body_markdown":"Wayback machine link: https://web.archive.org/web/20190911113910/http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/","body":"Wayback machine link: <a href=\"https://web.archive.org/web/20190911113910/http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/\" rel=\"nofollow noreferrer\">web.archive.org/web/20190911113910/http://jawspeak.com/2010/&zwnj;&#8203;05/&hellip;</a>"}],"tags":[],"owner":{"account_id":42226,"reputation":1987,"user_id":122975,"accept_rate":42,"display_name":"Beno&#238;t Gu&#233;rout"},"comment_count":1,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1318628234,"creation_date":1318625891,"answer_id":7773481,"question_id":2411487,"body_markdown":"Here is an explanation : [Hotspot caused exceptions to lose their stack traces in production – and the fix][1]\r\n\r\nI&#39;ve tested it on Mac OS X\r\n\r\n - java version &quot;1.6.0_26&quot;\r\n - Java(TM) SE Runtime Environment (build 1.6.0_26-b03-383-11A511) \r\n - Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02-383, mixed mode)\r\n\r\n\r\n\r\n\r\n        Object string = &quot;abcd&quot;;\r\n        int i = 0;\r\n        while (i &lt; 12289) {\r\n            i++;\r\n            try {\r\n                Integer a = (Integer) string;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\nFor this specific fragment of code, 12288 iterations (+frequency?) seems to be the limit where JVM has decided to use preallocated exception...\r\n\r\n  [1]: http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>Here is an explanation : <a href=\"http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/\" rel=\"noreferrer\">Hotspot caused exceptions to lose their stack traces in production – and the fix</a></p>\n\n<p>I've tested it on Mac OS X</p>\n\n<ul>\n<li>java version \"1.6.0_26\"</li>\n<li>Java(TM) SE Runtime Environment (build 1.6.0_26-b03-383-11A511) </li>\n<li><p>Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02-383, mixed mode)</p>\n\n<pre><code>Object string = \"abcd\";\nint i = 0;\nwhile (i &lt; 12289) {\n    i++;\n    try {\n        Integer a = (Integer) string;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>For this specific fragment of code, 12288 iterations (+frequency?) seems to be the limit where JVM has decided to use preallocated exception...</p>\n"},{"tags":[],"owner":{"account_id":5728567,"reputation":427,"user_id":4524838,"accept_rate":50,"display_name":"Roland Illig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496841419,"creation_date":1496841419,"answer_id":44413805,"question_id":2411487,"body_markdown":"When you are using AspectJ in your project, it may happen that some aspect hides its portion of the stack trace. For example, today I had:\r\n\r\n    java.lang.NullPointerException:\r\n      at com.company.product.MyTest.test(MyTest.java:37)\r\n\r\nThis stack trace was printed when running the test via Maven&#39;s surefire.\r\n\r\nOn the other hand, when running the test in IntelliJ, a different stack trace was printed:\r\n\r\n    java.lang.NullPointerException\r\n      at com.company.product.library.ArgumentChecker.nonNull(ArgumentChecker.java:67)\r\n      at ...\r\n      at com.company.product.aspects.CheckArgumentsAspect.wrap(CheckArgumentsAspect.java:82)\r\n      at ...\r\n      at com.company.product.MyTest.test(MyTest.java:37)\r\n\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>When you are using AspectJ in your project, it may happen that some aspect hides its portion of the stack trace. For example, today I had:</p>\n\n<pre><code>java.lang.NullPointerException:\n  at com.company.product.MyTest.test(MyTest.java:37)\n</code></pre>\n\n<p>This stack trace was printed when running the test via Maven's surefire.</p>\n\n<p>On the other hand, when running the test in IntelliJ, a different stack trace was printed:</p>\n\n<pre><code>java.lang.NullPointerException\n  at com.company.product.library.ArgumentChecker.nonNull(ArgumentChecker.java:67)\n  at ...\n  at com.company.product.aspects.CheckArgumentsAspect.wrap(CheckArgumentsAspect.java:82)\n  at ...\n  at com.company.product.MyTest.test(MyTest.java:37)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15806075,"reputation":141,"user_id":11404561,"display_name":"S4RUUL"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661229133,"creation_date":1661229133,"answer_id":73453158,"question_id":2411487,"body_markdown":"VM stops outputting the stack trace of the exceptions which have been thrown a few times. This is a one of optimizations which happens in C2 compile.\r\n\r\nAccording to the source code of OpenJDK, this optimization is applied to following exceptions:\r\n\r\n-NullPointerException\r\n-ArithmeticException\r\n-ArrayIndexOutOfBoundsException\r\n-ArrayStoreException\r\n-ClassCastException","title":"NullPointerException in Java with no StackTrace","body":"<p>VM stops outputting the stack trace of the exceptions which have been thrown a few times. This is a one of optimizations which happens in C2 compile.</p>\n<p>According to the source code of OpenJDK, this optimization is applied to following exceptions:</p>\n<p>-NullPointerException\n-ArithmeticException\n-ArrayIndexOutOfBoundsException\n-ArrayStoreException\n-ClassCastException</p>\n"},{"tags":[],"owner":{"account_id":10026302,"reputation":865,"user_id":7414389,"accept_rate":92,"display_name":"DMC19"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694692228,"creation_date":1694692228,"answer_id":77104616,"question_id":2411487,"body_markdown":"I have solved this issue printing stackTrace inside for loop.\r\n\r\n \r\n\r\n    for (StackTraceElement st : e.getStackTrace()) {\r\n       LOGGER.error(st.toString());\r\n    }\r\n\r\nWith this, it prints the whole stackTrace. Using other methods I can&#39;t obtain more info.","title":"NullPointerException in Java with no StackTrace","body":"<p>I have solved this issue printing stackTrace inside for loop.</p>\n<pre><code>for (StackTraceElement st : e.getStackTrace()) {\n   LOGGER.error(st.toString());\n}\n</code></pre>\n<p>With this, it prints the whole stackTrace. Using other methods I can't obtain more info.</p>\n"}],"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156617,"favorite_count":0,"down_vote_count":0,"up_vote_count":440,"accepted_answer_id":3010106,"answer_count":12,"score":440,"last_activity_date":1694692228,"creation_date":1268159033,"question_id":2411487,"body_markdown":"I&#39;ve had instances of our Java code catch a `NullPointerException`, but when I try to log the StackTrace (which basically ends up calling `Throwable.printStackTrace()` ), all I get is:\r\n\r\n    java.lang.NullPointerException\r\n\r\nHas anyone else come across this? I tried googling for &quot;java null pointer empty stack trace&quot; but didn&#39;t come across anything like this.","title":"NullPointerException in Java with no StackTrace","body":"<p>I've had instances of our Java code catch a <code>NullPointerException</code>, but when I try to log the StackTrace (which basically ends up calling <code>Throwable.printStackTrace()</code> ), all I get is:</p>\n\n<pre><code>java.lang.NullPointerException\n</code></pre>\n\n<p>Has anyone else come across this? I tried googling for \"java null pointer empty stack trace\" but didn't come across anything like this.</p>\n"},{"tags":["java","kubernetes","hashicorp-vault","kubernetes-secrets"],"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694692187,"creation_date":1694665163,"question_id":77101773,"body_markdown":"I would like to have an environment variable that its value is a JSON String, that is built from the `ExternalSecrets` variables.\r\n\r\n```yaml\r\napiVersion: external-secrets.io/v1beta1\r\nkind: ExternalSecret\r\nmetadata:\r\n  name: my-app-external-secret\r\nspec:\r\n  refreshInterval: &quot;1h&quot;\r\n  secretStoreRef:\r\n    name: hashicorp-vault\r\n    kind: ClusterSecretStore\r\n  target:\r\n    creationPolicy: Owner\r\n  data:\r\n\r\n  - secretKey: SECRET_KEY_A\r\n    remoteRef:\r\n      key: microservice/my-app\r\n      property: secret_key_a\r\n\r\n  - secretKey: SECRET_KEY_B\r\n    remoteRef:\r\n      key: microservice/my-app\r\n      property: secret_key_b\r\n```\r\n\r\n\r\nThe output should look like:\r\n```json\r\n{\r\n    &quot;A&quot;: {\r\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_A&gt;&quot;,\r\n      &quot;someStaticValue&quot;: &quot;ABCDEF&quot;\r\n    },\r\n    &quot;B&quot;: {\r\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_B&gt;&quot;,\r\n      &quot;someStaticValue&quot;: &quot;FEDCBA&quot;\r\n    }\r\n}\r\n```\r\nSo then I could export it in the `Deployment` and be able to use it as a JSON string, something that might look like this:\r\n```yaml\r\n- name: JSON_SECRETS\r\n  valueFrom:\r\n    secretKeyRef:\r\n      name: my-app-external-secret\r\n      key: jsonSecret\r\n```\r\n\r\nI&#39;ve tried some stuff but didn&#39;t get it to work.\r\nI can use `ConfigMap` if needed. I&#39;m trying to achieve the following behavior in my app:\r\nWhenever I need to implement a new secret, there is not need to modify the source code, only wait the refresh time or restart the pod. The application already knows how to handle the JSON, but I&#39;m unable to create this JSON in the Kubernetes. It is a Java application, it doesn&#39;t need to be a JSON, it can also be a list.\r\n","title":"Is there a way to build set a variable as a JSON string in Kubernetes?","body":"<p>I would like to have an environment variable that its value is a JSON String, that is built from the <code>ExternalSecrets</code> variables.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: my-app-external-secret\nspec:\n  refreshInterval: &quot;1h&quot;\n  secretStoreRef:\n    name: hashicorp-vault\n    kind: ClusterSecretStore\n  target:\n    creationPolicy: Owner\n  data:\n\n  - secretKey: SECRET_KEY_A\n    remoteRef:\n      key: microservice/my-app\n      property: secret_key_a\n\n  - secretKey: SECRET_KEY_B\n    remoteRef:\n      key: microservice/my-app\n      property: secret_key_b\n</code></pre>\n<p>The output should look like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;A&quot;: {\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_A&gt;&quot;,\n      &quot;someStaticValue&quot;: &quot;ABCDEF&quot;\n    },\n    &quot;B&quot;: {\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_B&gt;&quot;,\n      &quot;someStaticValue&quot;: &quot;FEDCBA&quot;\n    }\n}\n</code></pre>\n<p>So then I could export it in the <code>Deployment</code> and be able to use it as a JSON string, something that might look like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- name: JSON_SECRETS\n  valueFrom:\n    secretKeyRef:\n      name: my-app-external-secret\n      key: jsonSecret\n</code></pre>\n<p>I've tried some stuff but didn't get it to work.\nI can use <code>ConfigMap</code> if needed. I'm trying to achieve the following behavior in my app:\nWhenever I need to implement a new secret, there is not need to modify the source code, only wait the refresh time or restart the pod. The application already knows how to handle the JSON, but I'm unable to create this JSON in the Kubernetes. It is a Java application, it doesn't need to be a JSON, it can also be a list.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1694679889,"post_id":77103007,"comment_id":135923701,"body_markdown":"Did you want to generate a random number between 0 and 10 or something like that? [See the many answers here](https://stackoverflow.com/q/363681/5133585).","body":"Did you want to generate a random number between 0 and 10 or something like that? <a href=\"https://stackoverflow.com/q/363681/5133585\">See the many answers here</a>."},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1694680234,"post_id":77103007,"comment_id":135923766,"body_markdown":"No, I was just playing around with Random, and noticed this peculiarity.","body":"No, I was just playing around with Random, and noticed this peculiarity."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694687171,"post_id":77103007,"comment_id":135925257,"body_markdown":"It is not a peculiarity, nor is it misbehaving, it is intentional and well-known behaviour of pseudo-random generators like `Random`, and it is even explicitly called out in the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html): _&quot;If two instances of `Random` are created with the same seed, and the same sequence of method calls is made for each, they will generate and return identical sequences of numbers.&quot;_","body":"It is not a peculiarity, nor is it misbehaving, it is intentional and well-known behaviour of pseudo-random generators like <code>Random</code>, and it is even explicitly called out in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">documentation</a>: <i>&quot;If two instances of <code>Random</code> are created with the same seed, and the same sequence of method calls is made for each, they will generate and return identical sequences of numbers.&quot;</i>"},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1694687575,"post_id":77103007,"comment_id":135925348,"body_markdown":"...but, yes, during my play time, I was attempting to get a random number between 0 and 10. For shame!","body":"...but, yes, during my play time, I was attempting to get a random number between 0 and 10. For shame!"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694679892,"creation_date":1694679892,"answer_id":77103033,"question_id":77103007,"body_markdown":"It is because you define a custom `seed` that is always the same with each run. From the JavaDoc:\r\n\r\n&gt; The seed is the initial value of the internal state of the pseudorandom\r\nnumber generator which is maintained by method {@link #next}.\r\n\r\nThis is particularly useful for running tests.","title":"Why is Random() not behaving as expected?","body":"<p>It is because you define a custom <code>seed</code> that is always the same with each run. From the JavaDoc:</p>\n<blockquote>\n<p>The seed is the initial value of the internal state of the pseudorandom\nnumber generator which is maintained by method {@link #next}.</p>\n</blockquote>\n<p>This is particularly useful for running tests.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1694680017,"accepted_answer_id":77103033,"answer_count":1,"score":3,"last_activity_date":1694691597,"creation_date":1694679727,"question_id":77103007,"body_markdown":"I&#39;ve been scratching my head over this for long enough, It&#39;s time for the big guns:\r\n\r\n    System.out.println(new Random(10).nextInt());\r\n\r\nwhy does the above seem to print `-1157793070`, always?","title":"Why is Random() not behaving as expected?","body":"<p>I've been scratching my head over this for long enough, It's time for the big guns:</p>\n<pre><code>System.out.println(new Random(10).nextInt());\n</code></pre>\n<p>why does the above seem to print <code>-1157793070</code>, always?</p>\n"},{"tags":["java","selenium","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":4807010,"reputation":151,"user_id":3881713,"display_name":"QAMate.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407998677,"creation_date":1407998677,"answer_id":25301652,"question_id":25295089,"body_markdown":"You can not use @DataProvider and @Parameters at the same time. Pass all the parameters through @DataProvider.","title":"Using both @DataProvider and @Parameters","body":"<p>You can not use @DataProvider and @Parameters at the same time. Pass all the parameters through @DataProvider.</p>\n"},{"comments":[{"owner":{"account_id":400634,"reputation":890,"user_id":766713,"accept_rate":73,"display_name":"Jail"},"score":0,"creation_date":1408036854,"post_id":25305018,"comment_id":39457297,"body_markdown":"I know I could pass it with `@DataProvider`, but just wanted to be sure I can&#39;t use both. Thanks for the response.","body":"I know I could pass it with <code>@DataProvider</code>, but just wanted to be sure I can&#39;t use both. Thanks for the response."}],"tags":[],"owner":{"account_id":1940875,"reputation":2370,"user_id":2310411,"accept_rate":58,"display_name":"Vignesh Paramasivam"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1408010011,"creation_date":1408009648,"answer_id":25305018,"question_id":25295089,"body_markdown":"@DataProvider is one of the ways to pass parameters to a method. You **cannot** use both for same method. \r\n\r\nLooking at your question, you can simply add the brand to the DataProvider method something like,\r\n\r\n      @DataProvider(name=&quot;dpCGA&quot;)\r\n      public Object[][] data() {\r\n    \r\n        return new Object[][] { \r\n            {&quot;brand&quot;, &quot;email1&quot;}, \r\n            {&quot;brand&quot;, &quot;email2&quot;}\r\n         };\r\n      }\r\n\r\nand pass it to the method,\r\n    \t\r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String brand, String email) {\r\n        setBrand(brand);\r\n        createAccount(email);\r\n    }\r\n    \t\t\r\n    \t\t","title":"Using both @DataProvider and @Parameters","body":"<p>@DataProvider is one of the ways to pass parameters to a method. You <strong>cannot</strong> use both for same method. </p>\n\n<p>Looking at your question, you can simply add the brand to the DataProvider method something like,</p>\n\n<pre><code>  @DataProvider(name=\"dpCGA\")\n  public Object[][] data() {\n\n    return new Object[][] { \n        {\"brand\", \"email1\"}, \n        {\"brand\", \"email2\"}\n     };\n  }\n</code></pre>\n\n<p>and pass it to the method,</p>\n\n<pre><code>@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String brand, String email) {\n    setBrand(brand);\n    createAccount(email);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497790957,"creation_date":1497790957,"answer_id":44615283,"question_id":25295089,"body_markdown":"As other have already pointed out, receiving `DataProvider` results along with suite parameters is not possible. This answer proves this by stepping through the code:\r\n\r\n 1. The [`Invoker.invokeTestMethods()`][invokeTestMethodsRef] will call  [`Parameters.handleParameters()`][handleParametersRef].\r\n 2. There it will try to lookup a [`DataProvider`][dataProviderLookupRef]\r\n  - If found, it will be invoked. And through it does not add the suite parameters afterwards, [it passes the context][dataProviderReceivesContextRef] to the `DataProvider`\r\n  - If not found, it will resort to the [`xmlParameters`][xmlParametersRef]\r\n\r\nThough a `DataProvider` can receive the context via a `ITestContext` this only makes parameters available configured in the suite (XML), not specified through system properties.\r\n\r\n[invokeTestMethodsRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Invoker.java#L1059\r\n[handleParametersRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L485\r\n[dataProviderLookupRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L497\r\n[xmlParametersRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L563\r\n[dataProviderReceivesContextRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L513\r\n","title":"Using both @DataProvider and @Parameters","body":"<p>As other have already pointed out, receiving <code>DataProvider</code> results along with suite parameters is not possible. This answer proves this by stepping through the code:</p>\n\n<ol>\n<li>The <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Invoker.java#L1059\" rel=\"nofollow noreferrer\"><code>Invoker.invokeTestMethods()</code></a> will call  <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L485\" rel=\"nofollow noreferrer\"><code>Parameters.handleParameters()</code></a>.</li>\n<li>There it will try to lookup a <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L497\" rel=\"nofollow noreferrer\"><code>DataProvider</code></a>\n\n<ul>\n<li>If found, it will be invoked. And through it does not add the suite parameters afterwards, <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L513\" rel=\"nofollow noreferrer\">it passes the context</a> to the <code>DataProvider</code></li>\n<li>If not found, it will resort to the <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L563\" rel=\"nofollow noreferrer\"><code>xmlParameters</code></a></li>\n</ul></li>\n</ol>\n\n<p>Though a <code>DataProvider</code> can receive the context via a <code>ITestContext</code> this only makes parameters available configured in the suite (XML), not specified through system properties.</p>\n"},{"comments":[{"owner":{"account_id":2996819,"reputation":2582,"user_id":2543209,"accept_rate":59,"display_name":"Jeremy Fisher"},"score":0,"creation_date":1660328876,"post_id":61210022,"comment_id":129515615,"body_markdown":"I feel like this would cause problems when the tests are run in parallel and you have a situation where your testng defines the same param at both suite level and test level because a test level param value can possibly override the class variable value","body":"I feel like this would cause problems when the tests are run in parallel and you have a situation where your testng defines the same param at both suite level and test level because a test level param value can possibly override the class variable value"}],"tags":[],"owner":{"account_id":510882,"reputation":3037,"user_id":1536133,"accept_rate":45,"display_name":"Gabriel Furstenheim"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586874220,"creation_date":1586874220,"answer_id":61210022,"question_id":25295089,"body_markdown":"Depending on your case it might actually be &quot;doable&quot;. In particular, if you only have one instance of &quot;Parameters&quot;, for example because you are passing the environment (development, beta...), then you could do:\r\n\r\n \r\n    private String suiteBrand;\r\n\r\n    @Parameters({&quot;Brand&quot;})\r\n    @BeforeSuite\r\n    public void setUp (final String Brand) {\r\n       suiteBrand = Brand;\r\n    }\r\n\r\n    \r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String email) {\r\n        brand = suiteBrand;\r\n        setBrand(brand);\r\n        createAccount(email);\r\n    }\r\n\r\nBeforeSuite will be executed with the parameters and you can access them in the test that is parameterized by the data provider.\r\n\r\nIt might work with more than one parameter, or with @BeforeEach, but I haven&#39;t tried that.","title":"Using both @DataProvider and @Parameters","body":"<p>Depending on your case it might actually be \"doable\". In particular, if you only have one instance of \"Parameters\", for example because you are passing the environment (development, beta...), then you could do:</p>\n\n<pre><code>private String suiteBrand;\n\n@Parameters({\"Brand\"})\n@BeforeSuite\npublic void setUp (final String Brand) {\n   suiteBrand = Brand;\n}\n\n\n@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String email) {\n    brand = suiteBrand;\n    setBrand(brand);\n    createAccount(email);\n}\n</code></pre>\n\n<p>BeforeSuite will be executed with the parameters and you can access them in the test that is parameterized by the data provider.</p>\n\n<p>It might work with more than one parameter, or with @BeforeEach, but I haven't tried that.</p>\n"},{"tags":[],"owner":{"account_id":19632547,"reputation":3,"user_id":14370525,"display_name":"Marwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694691502,"creation_date":1694691502,"answer_id":77104528,"question_id":25295089,"body_markdown":"You can create class variables and pass the parameters to the before() method, and inside the before method assign values from the parameters to the class variables, like so:\r\n\r\n    String classVariableForParam1;\r\n    \r\n    @Parameters({&quot;Param1&quot;})\r\n    @BeforeSuite\r\n    public void setUp (final String Param1) {\r\n    classVariableForParam1= Param1;\r\n    }\r\n    \r\n    \r\n    @Test(dataProvider=&quot;data&quot;)\r\n    public void createAccount(String data) {\r\n        setParam(classVariableForParam1);\r\n        getData(data);\r\n    }","title":"Using both @DataProvider and @Parameters","body":"<p>You can create class variables and pass the parameters to the before() method, and inside the before method assign values from the parameters to the class variables, like so:</p>\n<pre><code>String classVariableForParam1;\n\n@Parameters({&quot;Param1&quot;})\n@BeforeSuite\npublic void setUp (final String Param1) {\nclassVariableForParam1= Param1;\n}\n\n\n@Test(dataProvider=&quot;data&quot;)\npublic void createAccount(String data) {\n    setParam(classVariableForParam1);\n    getData(data);\n}\n</code></pre>\n"}],"owner":{"account_id":400634,"reputation":890,"user_id":766713,"accept_rate":73,"display_name":"Jail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7244,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25305018,"answer_count":5,"score":4,"last_activity_date":1694691502,"creation_date":1407960070,"question_id":25295089,"body_markdown":"I&#39;d like to know whether there is a way to use both `@DataProvider` and `Paramaters` to pass parameters.\r\n\r\nI&#39;ve tried two options, but both of these failed:\r\n\r\n    @Parameters(&quot;Brand&quot;)\r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String brand) {\r\n        setBrand(brand);\r\n    }\r\n\r\nbrand variable is being overwritten by the data provider in the above example.\r\n\r\n    @Parameters(&quot;Brand&quot;)\r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String brand, String email) {\r\n        setBrand(brand);\r\n        createAccount(email);\r\n    }\r\n\r\nTest case didn&#39;t even run.\r\n\r\n\r\nI&#39;m using TestNG to run my test cases, and want to grab the brand parameter from the XML file. \r\n\r\nAlso, I&#39;ve got an Excel file which I use to keep emails, and want to grab those values using `@DataProvider`. \r\n\r\nIs it possible to use both of these tags together? If not, is there an other way to grab the brand parameter from the XML file? \r\n\r\n\r\nThanks in advance\r\n\r\n\r\n\r\n","title":"Using both @DataProvider and @Parameters","body":"<p>I'd like to know whether there is a way to use both <code>@DataProvider</code> and <code>Paramaters</code> to pass parameters.</p>\n\n<p>I've tried two options, but both of these failed:</p>\n\n<pre><code>@Parameters(\"Brand\")\n@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String brand) {\n    setBrand(brand);\n}\n</code></pre>\n\n<p>brand variable is being overwritten by the data provider in the above example.</p>\n\n<pre><code>@Parameters(\"Brand\")\n@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String brand, String email) {\n    setBrand(brand);\n    createAccount(email);\n}\n</code></pre>\n\n<p>Test case didn't even run.</p>\n\n<p>I'm using TestNG to run my test cases, and want to grab the brand parameter from the XML file. </p>\n\n<p>Also, I've got an Excel file which I use to keep emails, and want to grab those values using <code>@DataProvider</code>. </p>\n\n<p>Is it possible to use both of these tags together? If not, is there an other way to grab the brand parameter from the XML file? </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1694692143,"post_id":77104523,"comment_id":135926265,"body_markdown":"don&#39;t put links to external sources, add all the relevant code/messages/ as formatted text in the question. Did you actually declare a Bean of that type?","body":"don&#39;t put links to external sources, add all the relevant code/messages/ as formatted text in the question. Did you actually declare a Bean of that type?"},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1694694587,"post_id":77104523,"comment_id":135926845,"body_markdown":"This seems to be a good resource to fix the problem: https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/3-ways-to-build-a-Hibernate-SessionFactory-in-Java-by-example.\nI think in your case option 2 would be the easiest to test. Later on you could extract it to a `persistence.xml`.\n\nPS: I noticed that you tagger the question with [tag:spring-boot]. If you use Spring Boot, you can use dependencies like `spring-boot-starter-data` which will make it a lot easier.","body":"This seems to be a good resource to fix the problem: <a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/3-ways-to-build-a-Hibernate-SessionFactory-in-Java-by-example\" rel=\"nofollow noreferrer\">theserverside.com/blog/&hellip;</a>. I think in your case option 2 would be the easiest to test. Later on you could extract it to a <code>persistence.xml</code>.  PS: I noticed that you tagger the question with <a href=\"https://stackoverflow.com/questions/tagged/spring-boot\">spring-boot</a>. If you use Spring Boot, you can use dependencies like <code>spring-boot-starter-data</code> which will make it a lot easier."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694722600,"post_id":77104523,"comment_id":135932604,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29441371,"reputation":1,"user_id":22559433,"display_name":"Nguyen Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694691473,"creation_date":1694691473,"question_id":77104523,"body_markdown":"I&#39;m currently learning Java. Can anyone tell me if I have Hibernate configured and am using JwtFilter for authentication, I get the error &quot;Parameter 0 of constructor in com.foo.boo.repository.FooBooUserRepository&quot; with code as image below: \r\n\r\n[enter image description here](https://i.stack.imgur.com/y7CkZ.png)\r\n\r\nHope everyone can help!\r\n\r\nI try to find anyway on the internet to solve my problem but i can&#39;t. \r\nI hope to find a solution or root cause can solve my issue.","title":"Parameter 0 of constructor in com.a.Repository required a bean of type &#39;org.hibernate.SessionFactory&#39; that could not be found","body":"<p>I'm currently learning Java. Can anyone tell me if I have Hibernate configured and am using JwtFilter for authentication, I get the error &quot;Parameter 0 of constructor in com.foo.boo.repository.FooBooUserRepository&quot; with code as image below:</p>\n<p><a href=\"https://i.stack.imgur.com/y7CkZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Hope everyone can help!</p>\n<p>I try to find anyway on the internet to solve my problem but i can't.\nI hope to find a solution or root cause can solve my issue.</p>\n"},{"tags":["java","spring-boot","undertow","spring-boot-starter"],"owner":{"account_id":22986928,"reputation":13,"user_id":17113003,"display_name":"RRRRRika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694691327,"creation_date":1694691327,"question_id":77104506,"body_markdown":"I&#39;m writing a video streaming service with springboot which I changed the embedded server to undertow. The service works just as I imagined but the only thing bothers me is that every time I click to play video on the page, the console logs an `org.xnio.channels.FixedLengthOverflowException` like this, though the video **does** play fine:\r\n\r\n```\r\n2023-09-14 17:56:03 [XNIO-1 task-1] ERROR c.s.f.w.e.GlobalExceptionHandler\r\n - request url &#39;/video/play/en/big_buck_bunny.mp4&#39;, exception occur.\r\norg.xnio.channels.FixedLengthOverflowException: null\r\n\tat io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:100)\r\n\tat org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\r\n\tat io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\r\n\tat io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2198)\r\n\tat io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:582)\r\n\tat io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:500)\r\n\tat io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:112)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98)\r\n\tat org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nAnd my realated methods are below:\r\n\r\n```\r\n// in controller file\r\n    @GetMapping(&quot;/play/{lang}/{name}&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; playVideo(\r\n            @PathVariable String lang,\r\n            @PathVariable String name,\r\n            @RequestHeader(value = &quot;Range&quot;, required = false) String rangeHeader\r\n    ) {\r\n        return videoService.loadVideo(lang, name, rangeHeader);\r\n    }\r\n\r\n// the method that finally returns the video stream\r\n    private ResponseEntity&lt;StreamingResponseBody&gt; loadMediaFile(Path filePath, long rangeStart, long rangeEnd) throws IOException {\r\n\r\n        // ...\r\n\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        String mimeType = Files.probeContentType(filePath);\r\n        headers.setContentType(MediaType.valueOf(mimeType));\r\n        headers.setContentLength(rangeEnd - rangeStart + 1);\r\n        headers.add(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n        headers.add(&quot;Content-Range&quot;, String.format(&quot;bytes %d-%d/%d&quot;, rangeStart, rangeEnd, fileSize));\r\n\r\n        byte[] buffer = new byte[512];\r\n        final long startPoint = rangeStart, endPoint = rangeEnd;\r\n        StreamingResponseBody streamingResponseBody = os -&gt; {\r\n            try (RandomAccessFile file = new RandomAccessFile(filePath.toFile(), &quot;r&quot;)) {\r\n                long pos = startPoint;\r\n                file.seek(pos);\r\n                while (pos &lt; endPoint) {\r\n                    file.read(buffer);\r\n                    os.write(buffer);\r\n                    pos += buffer.length;\r\n                }\r\n                os.flush();\r\n            } catch (Exception e) {\r\n                log.info(&quot;stream close by client.&quot;);\r\n                // e.printStackTrace();\r\n            }\r\n        };\r\n\r\n        return new ResponseEntity&lt;&gt;(streamingResponseBody, headers, HttpStatus.PARTIAL_CONTENT);\r\n    }\r\n\r\n// and undertow related configuration in application.yml\r\n  undertow:\r\n    max-http-post-size: -1\r\n    buffer-size: 512\r\n    direct-buffers: true\r\n    threads:\r\n      io: 8\r\n      worker: 256\r\n```\r\n\r\n\r\nMy springboot version is 2.7.7, and same with the undertow. Is that exception because of undertow? I know this exception will not affect the normal function of my program, but I still want to be aware of how it occurred and fix it as posible.","title":"org.xnio.channels.FixedLengthOverflowException: null","body":"<p>I'm writing a video streaming service with springboot which I changed the embedded server to undertow. The service works just as I imagined but the only thing bothers me is that every time I click to play video on the page, the console logs an <code>org.xnio.channels.FixedLengthOverflowException</code> like this, though the video <strong>does</strong> play fine:</p>\n<pre><code>2023-09-14 17:56:03 [XNIO-1 task-1] ERROR c.s.f.w.e.GlobalExceptionHandler\n - request url '/video/play/en/big_buck_bunny.mp4', exception occur.\norg.xnio.channels.FixedLengthOverflowException: null\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:100)\n    at org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\n    at io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2198)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:582)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:500)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:112)\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98)\n    at org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>And my realated methods are below:</p>\n<pre><code>// in controller file\n    @GetMapping(&quot;/play/{lang}/{name}&quot;)\n    public ResponseEntity&lt;StreamingResponseBody&gt; playVideo(\n            @PathVariable String lang,\n            @PathVariable String name,\n            @RequestHeader(value = &quot;Range&quot;, required = false) String rangeHeader\n    ) {\n        return videoService.loadVideo(lang, name, rangeHeader);\n    }\n\n// the method that finally returns the video stream\n    private ResponseEntity&lt;StreamingResponseBody&gt; loadMediaFile(Path filePath, long rangeStart, long rangeEnd) throws IOException {\n\n        // ...\n\n        final HttpHeaders headers = new HttpHeaders();\n        String mimeType = Files.probeContentType(filePath);\n        headers.setContentType(MediaType.valueOf(mimeType));\n        headers.setContentLength(rangeEnd - rangeStart + 1);\n        headers.add(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\n        headers.add(&quot;Content-Range&quot;, String.format(&quot;bytes %d-%d/%d&quot;, rangeStart, rangeEnd, fileSize));\n\n        byte[] buffer = new byte[512];\n        final long startPoint = rangeStart, endPoint = rangeEnd;\n        StreamingResponseBody streamingResponseBody = os -&gt; {\n            try (RandomAccessFile file = new RandomAccessFile(filePath.toFile(), &quot;r&quot;)) {\n                long pos = startPoint;\n                file.seek(pos);\n                while (pos &lt; endPoint) {\n                    file.read(buffer);\n                    os.write(buffer);\n                    pos += buffer.length;\n                }\n                os.flush();\n            } catch (Exception e) {\n                log.info(&quot;stream close by client.&quot;);\n                // e.printStackTrace();\n            }\n        };\n\n        return new ResponseEntity&lt;&gt;(streamingResponseBody, headers, HttpStatus.PARTIAL_CONTENT);\n    }\n\n// and undertow related configuration in application.yml\n  undertow:\n    max-http-post-size: -1\n    buffer-size: 512\n    direct-buffers: true\n    threads:\n      io: 8\n      worker: 256\n</code></pre>\n<p>My springboot version is 2.7.7, and same with the undertow. Is that exception because of undertow? I know this exception will not affect the normal function of my program, but I still want to be aware of how it occurred and fix it as posible.</p>\n"},{"tags":["java","design-patterns","guice"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694505580,"post_id":77085866,"comment_id":135895907,"body_markdown":"You could use a [multibinding](https://github.com/google/guice/wiki/Multibindings)","body":"You could use a <a href=\"https://github.com/google/guice/wiki/Multibindings\" rel=\"nofollow noreferrer\">multibinding</a>"}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694691008,"creation_date":1694691008,"answer_id":77104455,"question_id":77085866,"body_markdown":"If we have liberty to re-structure event itself we could implement it as below\r\n```\r\ninterface Listener{}\r\nenum Event{\r\n    //avoid adding class variables which could induce state and thereby threadsafety concerns\r\n    //add behaviour as &#39;method&#39; and objects as &#39;method-param&#39;\r\n    UpdateEvent {\r\n        @Override\r\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\r\n            //update\r\n        }\r\n    },EntityDeleteEvent {\r\n        @Override\r\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\r\n            //delete\r\n        }\r\n    },PhaseEvent {\r\n        @Override\r\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\r\n            //no-op\r\n        }\r\n    };\r\n\r\n    public abstract void doDocumentListenerOperations(String phaseWhenReceived);\r\n\r\n}\r\n\r\npublic class DocumentListener implements Listener\r\n{\r\n    //@Inject\r\n    public DocumentListener(){}// a bunch of injected parameters) {}\r\n\r\n    public void receive(Event event)\r\n    {\r\n        //Phase phaseWhenReceived = phase_;\r\n        event.doDocumentListenerOperations(&quot;phaseWhenReceived&quot;);//and other params required for executing the method\r\n        \r\n    }\r\n}\r\n```","title":"How do I refactor this code with if/else for Update/Delete event and the class is injected using Guice","body":"<p>If we have liberty to re-structure event itself we could implement it as below</p>\n<pre><code>interface Listener{}\nenum Event{\n    //avoid adding class variables which could induce state and thereby threadsafety concerns\n    //add behaviour as 'method' and objects as 'method-param'\n    UpdateEvent {\n        @Override\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\n            //update\n        }\n    },EntityDeleteEvent {\n        @Override\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\n            //delete\n        }\n    },PhaseEvent {\n        @Override\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\n            //no-op\n        }\n    };\n\n    public abstract void doDocumentListenerOperations(String phaseWhenReceived);\n\n}\n\npublic class DocumentListener implements Listener\n{\n    //@Inject\n    public DocumentListener(){}// a bunch of injected parameters) {}\n\n    public void receive(Event event)\n    {\n        //Phase phaseWhenReceived = phase_;\n        event.doDocumentListenerOperations(&quot;phaseWhenReceived&quot;);//and other params required for executing the method\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":318124,"reputation":11791,"user_id":635162,"accept_rate":79,"display_name":"toy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694691008,"creation_date":1694488215,"question_id":77085866,"body_markdown":"I&#39;m trying to refactor one of the classes we have which is very long. The class is a listener which has only two events `Update` and `Delete`. We started with just this\r\n\r\n```java\r\npublic class DocumentListener implements Listener\r\n{\r\n    @Inject\r\n    public DocumentListener(// a bunch of injected parameters) {\r\n\r\n    }\r\n\r\n    public void receive(Event event)\r\n    {\r\n        Phase phaseWhenReceived = phase_;\r\n        if (event instanceof UpdateEvent) {\r\n            // do update\r\n        } else if (event instanceof EntityDeleteEvent) {\r\n            // do delete\r\n        } else if (event instanceof PhaseEvent) {\r\n            // do nothing for now.\r\n        } else {\r\n            LOGGER.warn(&quot;Received unknown event type : &quot; + event.getClass().getName());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class grew to be over 2000 lines long which naturally we want to have two classes; Update and Delete. However, the class is binded with Guice like this.\r\n\r\n```java\r\nbind(DocumentListener.class).in(SINGLETON);\r\n```\r\n\r\nI started changing the class to be `abstract` class and then created `Update` and `Delete` classes to extract the behaviors. \r\n\r\nBut if I do this\r\n\r\n```java\r\npublic abstract DocumentListener implements Listener\r\n{\r\n    public DocumentListener(// a bunch of injected parameters) {\r\n\r\n    }\r\n\r\n    public abstract void receive(Event event);\r\n\r\n}\r\n```\r\n\r\nThen I created Update\r\n\r\n```java\r\npublic class DocumentUpdate extends DocumentListener\r\n{\r\n    // injected constructor\r\n\r\n    @Override\r\n    public void receive(Event event)\r\n    {\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd\r\n\r\n```java\r\npublic class DocumentDelete extends DocumentListener\r\n{\r\n    // injected constructor\r\n\r\n    @Override\r\n    public void receive(Event event)\r\n    {\r\n    }\r\n}\r\n```\r\n\r\nThen Guice will complain with `1) [Guice/MissingImplementation]:` because now the DocumentListener is an abstract class which it doesn&#39;t know how to bind. \r\n\r\nI could do something like this\r\n\r\n```java\r\nbind(DocumentListener.class).to(DocumentUpdate.class).in(SINGLETON);\r\n\r\n```\r\n\r\nBut then I can only bind one class at a time. I can&#39;t bind two implementations as Guice will complain that the class is already binded and I can&#39;t bind twice. \r\n\r\nNot sure if there&#39;s a pattern to solve this kind of problem with Guice and Listener pattern?","title":"How do I refactor this code with if/else for Update/Delete event and the class is injected using Guice","body":"<p>I'm trying to refactor one of the classes we have which is very long. The class is a listener which has only two events <code>Update</code> and <code>Delete</code>. We started with just this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DocumentListener implements Listener\n{\n    @Inject\n    public DocumentListener(// a bunch of injected parameters) {\n\n    }\n\n    public void receive(Event event)\n    {\n        Phase phaseWhenReceived = phase_;\n        if (event instanceof UpdateEvent) {\n            // do update\n        } else if (event instanceof EntityDeleteEvent) {\n            // do delete\n        } else if (event instanceof PhaseEvent) {\n            // do nothing for now.\n        } else {\n            LOGGER.warn(&quot;Received unknown event type : &quot; + event.getClass().getName());\n        }\n    }\n}\n</code></pre>\n<p>The class grew to be over 2000 lines long which naturally we want to have two classes; Update and Delete. However, the class is binded with Guice like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bind(DocumentListener.class).in(SINGLETON);\n</code></pre>\n<p>I started changing the class to be <code>abstract</code> class and then created <code>Update</code> and <code>Delete</code> classes to extract the behaviors.</p>\n<p>But if I do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract DocumentListener implements Listener\n{\n    public DocumentListener(// a bunch of injected parameters) {\n\n    }\n\n    public abstract void receive(Event event);\n\n}\n</code></pre>\n<p>Then I created Update</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DocumentUpdate extends DocumentListener\n{\n    // injected constructor\n\n    @Override\n    public void receive(Event event)\n    {\n    }\n}\n\n</code></pre>\n<p>And</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DocumentDelete extends DocumentListener\n{\n    // injected constructor\n\n    @Override\n    public void receive(Event event)\n    {\n    }\n}\n</code></pre>\n<p>Then Guice will complain with <code>1) [Guice/MissingImplementation]:</code> because now the DocumentListener is an abstract class which it doesn't know how to bind.</p>\n<p>I could do something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>bind(DocumentListener.class).to(DocumentUpdate.class).in(SINGLETON);\n\n</code></pre>\n<p>But then I can only bind one class at a time. I can't bind two implementations as Guice will complain that the class is already binded and I can't bind twice.</p>\n<p>Not sure if there's a pattern to solve this kind of problem with Guice and Listener pattern?</p>\n"},{"tags":["java","android","android-studio","gradle","nextcloud"],"answers":[{"tags":[],"owner":{"account_id":28756046,"reputation":21,"user_id":22023060,"display_name":"Boris Gabyshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694690196,"creation_date":1694690115,"answer_id":77104370,"question_id":77103968,"body_markdown":"move &#39;jitpack&#39; like this:\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n    \r\n        }\r\n    }","title":"Failed to install nextcloud android library","body":"<p>move 'jitpack' like this:</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url &quot;https://jitpack.io&quot; }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694690196,"creation_date":1694686787,"question_id":77103968,"body_markdown":"When syncing Gradle, I have the error\r\n\r\n&gt; Failed to resolve: com.github.nextcloud:android-library:latest.release\r\n\r\nI tried to add JitPack on `build.gradle` (project) but I got \r\n\r\n&gt; Build was configured to prefer settings repositories over project\r\n&gt; repositories but repository &#39;maven&#39; was added by build file\r\n&gt; &#39;build.gradle&#39;\r\n\r\nHere&#39;s `build.gradle` (project):\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.2&#39; apply false\r\n    }\r\n\r\nHere&#39;s `build.gradle` (module):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.app&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.app&quot;\r\n            minSdk 30\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        buildFeatures {\r\n            dataBinding true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;androidx.room:room-runtime:2.4.0&#39; // Add this line\r\n        annotationProcessor &#39;androidx.room:room-compiler:2.4.0&#39; // Add this line\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        implementation &#39;com.github.nextcloud:android-library:latest.release&#39;\r\n    }\r\n\r\nAnd here&#39;s `settings.gradle` where I added Jitpack:\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    rootProject.name = &quot;app&quot;\r\n    include &#39;:app&#39;\r\n\r\n","title":"Failed to install nextcloud android library","body":"<p>When syncing Gradle, I have the error</p>\n<blockquote>\n<p>Failed to resolve: com.github.nextcloud:android-library:latest.release</p>\n</blockquote>\n<p>I tried to add JitPack on <code>build.gradle</code> (project) but I got</p>\n<blockquote>\n<p>Build was configured to prefer settings repositories over project\nrepositories but repository 'maven' was added by build file\n'build.gradle'</p>\n</blockquote>\n<p>Here's <code>build.gradle</code> (project):</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '8.0.2' apply false\n    id 'com.android.library' version '8.0.2' apply false\n}\n</code></pre>\n<p>Here's <code>build.gradle</code> (module):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.app'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.app&quot;\n        minSdk 30\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        dataBinding true\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.room:room-runtime:2.4.0' // Add this line\n    annotationProcessor 'androidx.room:room-compiler:2.4.0' // Add this line\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.github.nextcloud:android-library:latest.release'\n}\n</code></pre>\n<p>And here's <code>settings.gradle</code> where I added Jitpack:</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n        maven { url 'https://jitpack.io' }\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.name = &quot;app&quot;\ninclude ':app'\n</code></pre>\n"},{"tags":["java","android","okhttp","openai-api","chatgpt-api"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680270010,"post_id":75899189,"comment_id":133874374,"body_markdown":"Looks like it should be `/v1/chat/completions` not `/chat/v1/completions`: https://platform.openai.com/docs/api-reference/chat. Also that&#39;s strongly suggested by the error messsage you have received.","body":"Looks like it should be <code>&#47;v1&#47;chat&#47;completions</code> not <code>&#47;chat&#47;v1&#47;completions</code>: <a href=\"https://platform.openai.com/docs/api-reference/chat\" rel=\"nofollow noreferrer\">platform.openai.com/docs/api-reference/chat</a>. Also that&#39;s strongly suggested by the error messsage you have received."}],"answers":[{"comments":[{"owner":{"account_id":28179047,"reputation":3,"user_id":21536393,"display_name":"Kannengieser Lucas"},"score":1,"creation_date":1680270924,"post_id":75899296,"comment_id":133874649,"body_markdown":"Ah yes ! At first it was only /v1/completions and it wasn&#39;t working so I added /chat/ but at the wrong place.\n\nSorry for this thread then and thanks for your response !","body":"Ah yes ! At first it was only /v1/completions and it wasn&#39;t working so I added /chat/ but at the wrong place.  Sorry for this thread then and thanks for your response !"}],"tags":[],"owner":{"account_id":14324749,"reputation":16785,"user_id":10347145,"display_name":"Rok Benko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694690016,"creation_date":1680270513,"answer_id":75899296,"question_id":75899189,"body_markdown":"You have a typo.\r\n\r\nChange this...\r\n\r\n    https://api.openai.com/chat/v1/completions\r\n\r\n...to this.\r\n\r\n    https://api.openai.com/v1/chat/completions\r\n\r\nSee the [documentation][1].\r\n\r\n\r\n  [1]: https://platform.openai.com/docs/api-reference/chat/create","title":"OpenAI ChatGPT (GPT-3.5) API error: &quot;Invalid URL (POST /chat/v1/completions)&quot;","body":"<p>You have a typo.</p>\n<p>Change this...</p>\n<pre><code>https://api.openai.com/chat/v1/completions\n</code></pre>\n<p>...to this.</p>\n<pre><code>https://api.openai.com/v1/chat/completions\n</code></pre>\n<p>See the <a href=\"https://platform.openai.com/docs/api-reference/chat/create\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":28179047,"reputation":3,"user_id":21536393,"display_name":"Kannengieser Lucas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75899296,"answer_count":1,"score":0,"last_activity_date":1694690016,"creation_date":1680269857,"question_id":75899189,"body_markdown":"I followed a tutorial to make an chatgpt app and get this error :\r\n\r\n\r\n```\r\nFailed to load response due to {\r\n&#39;error&#39; : {\r\n&#39;message&#39; : &#39;Invalid URL (POST /chat/v1/completions)&#39;,\r\n&#39;type&#39;:&#39;invalid_request_error&#39;,\r\n&#39;param&#39;:null,\r\n&#39;code&#39;:null\r\n}\r\n}\r\n```\r\n\r\nThis is my code :\r\n\r\n\r\n```\r\nJSONObject jsonBody = new JSONObject();\r\n        try {\r\n            jsonBody.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\r\n            jsonBody.put(&quot;messages&quot;, question);\r\n            jsonBody.put(&quot;max_tokens&quot;, 4000);\r\n            jsonBody.put(&quot;temperature&quot;, 0);\r\n        } catch (JSONException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        RequestBody body = RequestBody.create(jsonBody.toString(),JSON);\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://api.openai.com/chat/v1/completions&quot;)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer HIDDEN_KEY&quot;)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .post(body)\r\n                .build();\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                addResponse(&quot;Failed to load response due to pd &quot;+e.getMessage());\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                if(response.isSuccessful()){\r\n                    JSONObject jsonObject  = null;\r\n                    try {\r\n                        jsonObject = new JSONObject(response.body().string());\r\n                        JSONArray jsonArray = jsonObject.getJSONArray(&quot;choices&quot;);\r\n                        String result = jsonArray.getJSONObject(0).getString(&quot;message&quot;);\r\n                        addResponse(result.trim());\r\n                    } catch (JSONException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                }else{\r\n                    addResponse(&quot;Failed to load response due to &quot;+response.body().string());\r\n                }\r\n            }\r\n```\r\n\r\n\r\nI tried changing the model, removing the \\chat\\ in the URL and send the prompt directly in URL too\r\n\r\nI&#39;m new to app making and java coding (but I&#39;m no beginner in coding) so I understand that maybe this code isn&#39;t great as I almost only copy and paste the code from the tutorial.\r\n\r\nThanks for your help !\r\n","title":"OpenAI ChatGPT (GPT-3.5) API error: &quot;Invalid URL (POST /chat/v1/completions)&quot;","body":"<p>I followed a tutorial to make an chatgpt app and get this error :</p>\n<pre><code>Failed to load response due to {\n'error' : {\n'message' : 'Invalid URL (POST /chat/v1/completions)',\n'type':'invalid_request_error',\n'param':null,\n'code':null\n}\n}\n</code></pre>\n<p>This is my code :</p>\n<pre><code>JSONObject jsonBody = new JSONObject();\n        try {\n            jsonBody.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\n            jsonBody.put(&quot;messages&quot;, question);\n            jsonBody.put(&quot;max_tokens&quot;, 4000);\n            jsonBody.put(&quot;temperature&quot;, 0);\n        } catch (JSONException e) {\n            throw new RuntimeException(e);\n        }\n        RequestBody body = RequestBody.create(jsonBody.toString(),JSON);\n        Request request = new Request.Builder()\n                .url(&quot;https://api.openai.com/chat/v1/completions&quot;)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer HIDDEN_KEY&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .post(body)\n                .build();\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                addResponse(&quot;Failed to load response due to pd &quot;+e.getMessage());\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if(response.isSuccessful()){\n                    JSONObject jsonObject  = null;\n                    try {\n                        jsonObject = new JSONObject(response.body().string());\n                        JSONArray jsonArray = jsonObject.getJSONArray(&quot;choices&quot;);\n                        String result = jsonArray.getJSONObject(0).getString(&quot;message&quot;);\n                        addResponse(result.trim());\n                    } catch (JSONException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                }else{\n                    addResponse(&quot;Failed to load response due to &quot;+response.body().string());\n                }\n            }\n</code></pre>\n<p>I tried changing the model, removing the \\chat\\ in the URL and send the prompt directly in URL too</p>\n<p>I'm new to app making and java coding (but I'm no beginner in coding) so I understand that maybe this code isn't great as I almost only copy and paste the code from the tutorial.</p>\n<p>Thanks for your help !</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":16013170,"reputation":1,"user_id":11556671,"display_name":"Ravi Mohan Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1558843565,"creation_date":1558843565,"answer_id":56310554,"question_id":39467759,"body_markdown":" add &quot;&lt;tx:annotation-driven/&gt; &quot;in spring configuration file, this will work for sure.","title":"Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition","body":"<p>add \" \"in spring configuration file, this will work for sure.</p>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694690009,"creation_date":1694690009,"answer_id":77104359,"question_id":39467759,"body_markdown":"I was getting the same error and resolved it by adding @Transactional annotation to the method where we have used hibernate template calls for database-related operations.\r\n\r\n    @Override\r\n    **@Transactional**\r\n    public int insertStudent(Student student) {\r\n        hibernateTemplate.save(student);\r\n        return 0;\r\n    }","title":"Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition","body":"<p>I was getting the same error and resolved it by adding @Transactional annotation to the method where we have used hibernate template calls for database-related operations.</p>\n<pre><code>@Override\n**@Transactional**\npublic int insertStudent(Student student) {\n    hibernateTemplate.save(student);\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5525,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694690009,"creation_date":1473762409,"question_id":39467759,"body_markdown":"I am beginner in spring and in my console based project i am using spring with hibernate.I was stuck with the following error for about a day.\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition.\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1126)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:619)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:616)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:341)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:309)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.save(HibernateTemplate.java:616)\r\n\tat com.hbtemp.dao.impl.StudentDaoImpl.insertStudent(StudentDaoImpl.java:22)\r\n\tat com.hbtemp.test.TestClass.main(TestClass.java:25)\r\n\r\nI searched for this error in the web but i couldn&#39;t find the solution,so please help me with some concept\r\n\r\nModel Class:Student.java\r\n\t\r\n\tprivate int id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String address;\r\n\tprivate int rollNo;\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\tpublic int getRollNo() {\r\n\t\treturn rollNo;\r\n\t}\r\n\tpublic void setRollNo(int rollNo) {\r\n\t\tthis.rollNo = rollNo;\r\n\t}\r\n\r\nStudentDaoImpl.java\r\n\t\r\n\tpublic void setHibernateTemplate(HibernateTemplate hibernateTemplate){\r\n\t\tthis.hibernateTemplate = hibernateTemplate;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int insertStudent(Student student) {\r\n\t\thibernateTemplate.save(student);\r\n\t\treturn 0;\r\n\t}\r\n\r\nApplicationContext.xml \r\n\r\n\t&lt;bean id = &quot;dataSource&quot; class = &quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t    &lt;property name = &quot;driverClassName&quot; value = &quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\r\n\t    &lt;property name = &quot;url&quot; value = &quot;jdbc:mysql://localhost:3306/spring_jdbc_template&quot;&gt;&lt;/property&gt;\r\n\t    &lt;property name = &quot;username&quot; value = &quot;root&quot;&gt;&lt;/property&gt;\r\n\t    &lt;property name = &quot;password&quot; value = &quot;&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id = &quot;mySessionFactory&quot; class = &quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t      &lt;property name = &quot;dataSource&quot; ref = &quot;dataSource&quot;&gt;&lt;/property&gt;\r\n\t      &lt;property name = &quot;mappingResources&quot;&gt;\r\n\t         &lt;list&gt;\r\n\t             &lt;value&gt;student.hbm.xml&lt;/value&gt;\r\n\t         &lt;/list&gt;\r\n\t      &lt;/property&gt;\r\n\t      &lt;property name = &quot;hibernateProperties&quot;&gt;\r\n\t          &lt;map&gt;\r\n\t             &lt;entry key=&quot;hibernate.dialect&quot; value = &quot;org.hibernate.dialect.MySQLDialect&quot;&gt;&lt;/entry&gt;\r\n\t             &lt;!-- &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value = &quot;update&quot;&gt;&lt;/entry&gt; --&gt;\r\n\t             &lt;entry key=&quot;hibernate.show_sql&quot; value = &quot;true&quot;&gt;&lt;/entry&gt;\r\n\t             &lt;entry key=&quot;checkWriteOperation&quot; value = &quot;false&quot;&gt;&lt;/entry&gt;\r\n\t             &lt;entry key=&quot;current_session_context_class&quot; value = &quot;thread&quot;&gt;&lt;/entry&gt;\r\n\t          &lt;/map&gt;\r\n\t      &lt;/property&gt;\r\n\t&lt;/bean&gt;\t\r\n\t\r\n\t&lt;bean id = &quot;hibernateTemplate&quot; class = &quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n\t     &lt;property name = &quot;sessionFactory&quot; ref = &quot;mySessionFactory&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id = &quot;studentDaoImpl&quot; class = &quot;com.hbtemp.dao.impl.StudentDaoImpl&quot;&gt;\r\n\t     &lt;property name = &quot;hibernateTemplate&quot; ref = &quot;hibernateTemplate&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nstudent.hbm.xml :\r\n\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name = &quot;com.hbtemp.model.Student&quot; table = &quot;student&quot;&gt;\r\n        &lt;id name = &quot;id&quot; column = &quot;ID&quot;&gt;\r\n            &lt;generator class=&quot;identity&quot;&gt;&lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        \r\n        &lt;property name = &quot;firstName&quot; column = &quot;FirstName&quot;&gt;&lt;/property&gt;\r\n        &lt;property name = &quot;lastName&quot; column = &quot;LastName&quot;&gt;&lt;/property&gt;\r\n        &lt;property name = &quot;address&quot; column = &quot;Address&quot;&gt;&lt;/property&gt;\r\n        &lt;property name = &quot;rollNo&quot; column = &quot;Roll_NO&quot;&gt;&lt;/property&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n\r\nTestClass.java\r\n\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\t\tStudentDaoImpl studentDaoImpl = (StudentDaoImpl)context.getBean(&quot;studentDaoImpl&quot;);\r\n\t\t\r\n\t\tStudent student = new Student();\r\n\t\tstudent.setId(2);\r\n\t\tstudent.setFirstName(&quot;Prakash&quot;);\r\n\t\tstudent.setLastName(&quot;Gautam&quot;);\r\n\t\tstudent.setAddress(&quot;Bhaktapur&quot;);\r\n\t\tstudent.setRollNo(434);\r\n\t\t\r\n\t\tint status = studentDaoImpl.insertStudent(student);\r\n\r\nIf i write a code **hibernateTemplate.setCheckWriteOperations(false)** inside **insertStudent method** it works fine............but my question is...is it good practice or not ? If it isn&#39;t good pratice please recommend the good pratice\r\n","title":"Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition","body":"<p>I am beginner in spring and in my console based project i am using spring with hibernate.I was stuck with the following error for about a day.</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove 'readOnly' marker from transaction definition.\nat org.springframework.orm.hibernate5.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1126)\nat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:619)\nat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:616)\nat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:341)\nat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:309)\nat org.springframework.orm.hibernate5.HibernateTemplate.save(HibernateTemplate.java:616)\nat com.hbtemp.dao.impl.StudentDaoImpl.insertStudent(StudentDaoImpl.java:22)\nat com.hbtemp.test.TestClass.main(TestClass.java:25)\n</code></pre>\n\n<p>I searched for this error in the web but i couldn't find the solution,so please help me with some concept</p>\n\n<p>Model Class:Student.java</p>\n\n<pre><code>private int id;\nprivate String firstName;\nprivate String lastName;\nprivate String address;\nprivate int rollNo;\n\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\npublic String getAddress() {\n    return address;\n}\npublic void setAddress(String address) {\n    this.address = address;\n}\npublic int getRollNo() {\n    return rollNo;\n}\npublic void setRollNo(int rollNo) {\n    this.rollNo = rollNo;\n}\n</code></pre>\n\n<p>StudentDaoImpl.java</p>\n\n<pre><code>public void setHibernateTemplate(HibernateTemplate hibernateTemplate){\n    this.hibernateTemplate = hibernateTemplate;\n}\n\n@Override\npublic int insertStudent(Student student) {\n    hibernateTemplate.save(student);\n    return 0;\n}\n</code></pre>\n\n<p>ApplicationContext.xml </p>\n\n<pre><code>&lt;bean id = \"dataSource\" class = \"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name = \"driverClassName\" value = \"com.mysql.jdbc.Driver\"&gt;&lt;/property&gt;\n    &lt;property name = \"url\" value = \"jdbc:mysql://localhost:3306/spring_jdbc_template\"&gt;&lt;/property&gt;\n    &lt;property name = \"username\" value = \"root\"&gt;&lt;/property&gt;\n    &lt;property name = \"password\" value = \"\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id = \"mySessionFactory\" class = \"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n      &lt;property name = \"dataSource\" ref = \"dataSource\"&gt;&lt;/property&gt;\n      &lt;property name = \"mappingResources\"&gt;\n         &lt;list&gt;\n             &lt;value&gt;student.hbm.xml&lt;/value&gt;\n         &lt;/list&gt;\n      &lt;/property&gt;\n      &lt;property name = \"hibernateProperties\"&gt;\n          &lt;map&gt;\n             &lt;entry key=\"hibernate.dialect\" value = \"org.hibernate.dialect.MySQLDialect\"&gt;&lt;/entry&gt;\n             &lt;!-- &lt;entry key=\"hibernate.hbm2ddl.auto\" value = \"update\"&gt;&lt;/entry&gt; --&gt;\n             &lt;entry key=\"hibernate.show_sql\" value = \"true\"&gt;&lt;/entry&gt;\n             &lt;entry key=\"checkWriteOperation\" value = \"false\"&gt;&lt;/entry&gt;\n             &lt;entry key=\"current_session_context_class\" value = \"thread\"&gt;&lt;/entry&gt;\n          &lt;/map&gt;\n      &lt;/property&gt;\n&lt;/bean&gt; \n\n&lt;bean id = \"hibernateTemplate\" class = \"org.springframework.orm.hibernate5.HibernateTemplate\"&gt;\n     &lt;property name = \"sessionFactory\" ref = \"mySessionFactory\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id = \"studentDaoImpl\" class = \"com.hbtemp.dao.impl.StudentDaoImpl\"&gt;\n     &lt;property name = \"hibernateTemplate\" ref = \"hibernateTemplate\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p></p>\n\n<p>student.hbm.xml :</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n&lt;class name = \"com.hbtemp.model.Student\" table = \"student\"&gt;\n    &lt;id name = \"id\" column = \"ID\"&gt;\n        &lt;generator class=\"identity\"&gt;&lt;/generator&gt;\n    &lt;/id&gt;\n\n    &lt;property name = \"firstName\" column = \"FirstName\"&gt;&lt;/property&gt;\n    &lt;property name = \"lastName\" column = \"LastName\"&gt;&lt;/property&gt;\n    &lt;property name = \"address\" column = \"Address\"&gt;&lt;/property&gt;\n    &lt;property name = \"rollNo\" column = \"Roll_NO\"&gt;&lt;/property&gt;\n&lt;/class&gt;\n</code></pre>\n\n<p></p>\n\n<p>TestClass.java</p>\n\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n    StudentDaoImpl studentDaoImpl = (StudentDaoImpl)context.getBean(\"studentDaoImpl\");\n\n    Student student = new Student();\n    student.setId(2);\n    student.setFirstName(\"Prakash\");\n    student.setLastName(\"Gautam\");\n    student.setAddress(\"Bhaktapur\");\n    student.setRollNo(434);\n\n    int status = studentDaoImpl.insertStudent(student);\n</code></pre>\n\n<p>If i write a code <strong>hibernateTemplate.setCheckWriteOperations(false)</strong> inside <strong>insertStudent method</strong> it works fine............but my question is...is it good practice or not ? If it isn't good pratice please recommend the good pratice</p>\n"},{"tags":["java","json","hibernate","jpa","jsonb"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694690354,"post_id":77101442,"comment_id":135925941,"body_markdown":"can you also add the stack trace of the error that you receive ?","body":"can you also add the stack trace of the error that you receive ?"}],"answers":[{"comments":[{"owner":{"account_id":8727884,"reputation":605,"user_id":6528988,"accept_rate":25,"display_name":"Malinda Peiris"},"score":0,"creation_date":1694768472,"post_id":77104342,"comment_id":135937526,"body_markdown":"I used you answer but didn&#39;t work below error is occurring.","body":"I used you answer but didn&#39;t work below error is occurring."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694768686,"post_id":77104342,"comment_id":135937572,"body_markdown":"can you update the question with stack trace of the problem ?","body":"can you update the question with stack trace of the problem ?"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694689890,"creation_date":1694689890,"answer_id":77104342,"question_id":77101442,"body_markdown":"I suggest you to enable `nativeQuery = true`, it is going to solve the problem.\r\n\r\n      @Query(value = &quot;select * from Questionnaire u where u.questionnaire @&gt; = ?1&quot;, nativeQuery = true)\r\n      List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);","title":"Postgres JSONB type query from JPA","body":"<p>I suggest you to enable <code>nativeQuery = true</code>, it is going to solve the problem.</p>\n<pre><code>  @Query(value = &quot;select * from Questionnaire u where u.questionnaire @&gt; = ?1&quot;, nativeQuery = true)\n  List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);\n</code></pre>\n"}],"owner":{"account_id":8727884,"reputation":605,"user_id":6528988,"accept_rate":25,"display_name":"Malinda Peiris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694689890,"creation_date":1694658807,"question_id":77101442,"body_markdown":"I have a table called questionnaire and it contains a column with jsonb type which is also named questionnaire. I want to do below query in using JPA.\r\n\r\nJSON - \r\n\r\n    {&quot;guid&quot;: &quot;9c36adc1-7fb5-4d5b-83b4-90356a46061a&quot;, &quot;name&quot;: &quot;Angela Barton&quot;, &quot;tags&quot;: [&quot;enim&quot;, &quot;aliquip&quot;, &quot;qui&quot;], &quot;address&quot;: &quot;178 Howard Place, Gulf, Washington, 702&quot;, &quot;company&quot;: &quot;Magnafone&quot;, &quot;latitude&quot;: 19.793713, &quot;is_active&quot;: true, &quot;longitude&quot;: 86.513373, &quot;registered&quot;: &quot;2009-11-07T08:53:22 +08:00&quot;}\r\n\r\nQuey\r\n\r\n    SELECT * FROM questionnaire WHERE questionnaire @&gt;&#39;{&quot;company&quot;: &quot;Magnafone&quot;}&#39;; \r\n\r\nJPA Repository code\r\n\r\n\r\n    @Repository\r\n    public interface QuestionnaireRepository extends JpaRepository&lt;Questionnaire, Long&gt; {\r\n    \r\n    \r\n        @Query(&quot;select u from Questionnaire u where u.questionnaire @&gt; = ?1&quot;)\r\n        List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);\r\n    }\r\n\r\nsince there is @ in the Query it throws a error in JPA. How to resolve this\r\n\r\n\r\n","title":"Postgres JSONB type query from JPA","body":"<p>I have a table called questionnaire and it contains a column with jsonb type which is also named questionnaire. I want to do below query in using JPA.</p>\n<p>JSON -</p>\n<pre><code>{&quot;guid&quot;: &quot;9c36adc1-7fb5-4d5b-83b4-90356a46061a&quot;, &quot;name&quot;: &quot;Angela Barton&quot;, &quot;tags&quot;: [&quot;enim&quot;, &quot;aliquip&quot;, &quot;qui&quot;], &quot;address&quot;: &quot;178 Howard Place, Gulf, Washington, 702&quot;, &quot;company&quot;: &quot;Magnafone&quot;, &quot;latitude&quot;: 19.793713, &quot;is_active&quot;: true, &quot;longitude&quot;: 86.513373, &quot;registered&quot;: &quot;2009-11-07T08:53:22 +08:00&quot;}\n</code></pre>\n<p>Quey</p>\n<pre><code>SELECT * FROM questionnaire WHERE questionnaire @&gt;'{&quot;company&quot;: &quot;Magnafone&quot;}'; \n</code></pre>\n<p>JPA Repository code</p>\n<pre><code>@Repository\npublic interface QuestionnaireRepository extends JpaRepository&lt;Questionnaire, Long&gt; {\n\n\n    @Query(&quot;select u from Questionnaire u where u.questionnaire @&gt; = ?1&quot;)\n    List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);\n}\n</code></pre>\n<p>since there is @ in the Query it throws a error in JPA. How to resolve this</p>\n"},{"tags":["java","database","hibernate","jpa","entity"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694702763,"post_id":77104243,"comment_id":135928868,"body_markdown":"Why would you expect A to have a B reference if you didn&#39;t set it? Your pseudocode doesn&#39;t show if you set the A-&gt;B reference to be some way bidirectional with the B-&gt;A reference or if they are completely independent (and so A has a FK to B in the A table). JPA also has 1st and 2nd levels of caching, so it is best practice to always keep bidirectional relationships in synch with what is in the database, even if it isn&#39;t strictly required to force the changes to be persisted there.","body":"Why would you expect A to have a B reference if you didn&#39;t set it? Your pseudocode doesn&#39;t show if you set the A-&gt;B reference to be some way bidirectional with the B-&gt;A reference or if they are completely independent (and so A has a FK to B in the A table). JPA also has 1st and 2nd levels of caching, so it is best practice to always keep bidirectional relationships in synch with what is in the database, even if it isn&#39;t strictly required to force the changes to be persisted there."}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694689668,"creation_date":1694689149,"question_id":77104243,"body_markdown":"I have two entities with one-to-one -relation\r\n```\r\n// simplified pseudocode\r\n\r\npublic class EntityA {\r\n    @OneToOne EntityB entityB;\r\n}\r\n\r\npublic class EntityB {\r\n    @OneToOne EntityA entityA;\r\n}\r\n```\r\n\r\nFailing example\r\n\r\n```\r\nbRepository.saveAndFlush(EntityB.builder().entityA(entityA).build());\r\n\r\n... transaction continues\r\n\r\n// Fails, entity B is null\r\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\r\n```\r\n\r\nWorking example\r\n\r\n```\r\nentityA.setEntityB(bRepository.saveAndFlush(EntityB.builder().entityA(entityA).build()));\r\naRepository.saveAndFlush(entityA);\r\n\r\n... transaction continues\r\n\r\n// Succeeds, entity B is set\r\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\r\n```\r\n\r\nMy question is, why aRepository doesn&#39;t see the updated relation in first example? Saving entityA too seems redundant boilerplate to me, but is necessary to pick up the changed relation.","title":"JPA one-to-one relation not updated to A when saving B","body":"<p>I have two entities with one-to-one -relation</p>\n<pre><code>// simplified pseudocode\n\npublic class EntityA {\n    @OneToOne EntityB entityB;\n}\n\npublic class EntityB {\n    @OneToOne EntityA entityA;\n}\n</code></pre>\n<p>Failing example</p>\n<pre><code>bRepository.saveAndFlush(EntityB.builder().entityA(entityA).build());\n\n... transaction continues\n\n// Fails, entity B is null\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\n</code></pre>\n<p>Working example</p>\n<pre><code>entityA.setEntityB(bRepository.saveAndFlush(EntityB.builder().entityA(entityA).build()));\naRepository.saveAndFlush(entityA);\n\n... transaction continues\n\n// Succeeds, entity B is set\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\n</code></pre>\n<p>My question is, why aRepository doesn't see the updated relation in first example? Saving entityA too seems redundant boilerplate to me, but is necessary to pick up the changed relation.</p>\n"},{"tags":["java","android","android-studio","mobile"],"answers":[{"tags":[],"owner":{"account_id":27044422,"reputation":49,"user_id":20598818,"display_name":"Shankar Bhandari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694689593,"creation_date":1694689593,"answer_id":77104307,"question_id":77104135,"body_markdown":"Here is the case, in function\r\n\r\n&gt; onCreateOptionsMenu()\r\n\r\nremove the line \r\n\r\n&gt;  super.onCreateOptionsMenu(menu); \r\n\r\nand make sure that you have not added this for that activity \r\n\r\n&gt; android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\nin the androidManifest.xml \r\n\r\nand your AppTheme need to look like this \r\n\r\n    &lt;style name=&quot;AppTheme&quot; \r\n        parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;&gt;\r\n       &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n\r\nand now  onCreateOptionsMenu(Menu menu) will look like this :\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.your_menu, menu);\r\n        \r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\nHopes this helps &#128522;\r\n","title":"Cant create menu in android studio","body":"<p>Here is the case, in function</p>\n<blockquote>\n<p>onCreateOptionsMenu()</p>\n</blockquote>\n<p>remove the line</p>\n<blockquote>\n<p>super.onCreateOptionsMenu(menu);</p>\n</blockquote>\n<p>and make sure that you have not added this for that activity</p>\n<blockquote>\n<p>android:theme=&quot;@style/AppTheme.NoActionBar&quot;\nin the androidManifest.xml</p>\n</blockquote>\n<p>and your AppTheme need to look like this</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; \n    parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;&gt;\n   &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n<p>and now  onCreateOptionsMenu(Menu menu) will look like this :</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.your_menu, menu);\n    \n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n<p>Hopes this helps 😊</p>\n"}],"owner":{"account_id":24824663,"reputation":15,"user_id":19144051,"display_name":"Владислав "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77104307,"answer_count":1,"score":0,"last_activity_date":1694689593,"creation_date":1694688179,"question_id":77104135,"body_markdown":"I created file menu and try to call onCreateOptionsMenu but it doesen&#39;t create any menu,here I call my method ,but when I created this activity I see next picture,just input fields without any menu:\r\n\r\n[![(menu) add_item.xml][1]][1]\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RGyaR.png\r\n  [2]: https://i.stack.imgur.com/uMJWU.png\r\n  [3]: https://i.stack.imgur.com/fTShZ.png","title":"Cant create menu in android studio","body":"<p>I created file menu and try to call onCreateOptionsMenu but it doesen't create any menu,here I call my method ,but when I created this activity I see next picture,just input fields without any menu:</p>\n<p><a href=\"https://i.stack.imgur.com/RGyaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RGyaR.png\" alt=\"(menu) add_item.xml\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/uMJWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMJWU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fTShZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTShZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","intellij-idea","azure-functions","intellij-plugin","spring-cloud-function"],"comments":[{"owner":{"account_id":5591785,"reputation":534,"user_id":4430769,"display_name":"tzolov"},"score":0,"creation_date":1694616854,"post_id":77097386,"comment_id":135915352,"body_markdown":"I don&#39;t have Intelij for testing. \nCheck the [1.3.3. Main-Class Configuration](https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration) of the documentation, which suggests using the `MAIN_CLASS` environment variable. You should be able to configure env with the IDEA runs.","body":"I don&#39;t have Intelij for testing.  Check the <a href=\"https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration\" rel=\"nofollow noreferrer\">1.3.3. Main-Class Configuration</a> of the documentation, which suggests using the <code>MAIN_CLASS</code> environment variable. You should be able to configure env with the IDEA runs."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694633201,"post_id":77097386,"comment_id":135918431,"body_markdown":"@tzolov `MAIN_CLASS` as an env variable worked. But it is ignored in the `local.settings.json` even after I ran `mvn clean package` and verified that the `target` folder had the updated `local.settings.json`. Added the details in the edit.","body":"@tzolov <code>MAIN_CLASS</code> as an env variable worked. But it is ignored in the <code>local.settings.json</code> even after I ran <code>mvn clean package</code> and verified that the <code>target</code> folder had the updated <code>local.settings.json</code>. Added the details in the edit."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694633581,"post_id":77097386,"comment_id":135918501,"body_markdown":"@tzolov Thank you once again. I had to add it to the settings on the &quot;Run Configurations&quot;. You might want to add this into an answer. Thanks again.","body":"@tzolov Thank you once again. I had to add it to the settings on the &quot;Run Configurations&quot;. You might want to add this into an answer. Thanks again."},{"owner":{"account_id":5591785,"reputation":534,"user_id":4430769,"display_name":"tzolov"},"score":0,"creation_date":1694689600,"post_id":77097386,"comment_id":135925807,"body_markdown":"Thanks for the update @ng.newbie . \nI&#39;ve just added an `answer` as well so it will be easier to find the solution.  Feel free to upvote or comment under it (e.g. mention that the `local.settings.json` alone doesn&#39;t set the main-class.","body":"Thanks for the update @ng.newbie .  I&#39;ve just added an <code>answer</code> as well so it will be easier to find the solution.  Feel free to upvote or comment under it (e.g. mention that the <code>local.settings.json</code> alone doesn&#39;t set the main-class."}],"answers":[{"tags":[],"owner":{"account_id":5591785,"reputation":534,"user_id":4430769,"display_name":"tzolov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694689478,"creation_date":1694689478,"answer_id":77104289,"question_id":77097386,"body_markdown":"As the [Main-Class Configuration](https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration) documentation suggests, one ca use the `MAIN_CLASS` environment variable to explicitly set the main class in the IDE&#39;s run configuration.","title":"Spring Azure Function - Unable to load Main Class when running from IntelliJ Azure Toolkit","body":"<p>As the <a href=\"https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration\" rel=\"nofollow noreferrer\">Main-Class Configuration</a> documentation suggests, one ca use the <code>MAIN_CLASS</code> environment variable to explicitly set the main class in the IDE's run configuration.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77104289,"answer_count":1,"score":0,"last_activity_date":1694689478,"creation_date":1694610671,"question_id":77097386,"body_markdown":"I am trying to execute Spring Azure Functions from IntelliJ.\r\n\r\nThe example I am using is here: \r\n\r\nhttps://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-azure-http-trigger\r\n\r\nWhen I click on the Run Azure Function Button on IntelliJ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe application starts up normally, but fails when I try to hit any endpoint:\r\n\r\n    http://localhost:7071/api/scf\r\n\r\nWith the error:\r\n\r\n    [2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\r\n    Exception: IllegalArgumentException: Failed to locate main class\r\n    Stack: java.lang.IllegalStateException: Failed to initialize\r\n\r\n**This happens ONLY when running from IntelliJ. It does not happen when I use the command:**\r\n\r\n    mvn azure-functions:run\r\n\r\n\r\nPossible reasons for the error:\r\n\r\nThe app is unable to locate the &quot;start class&quot; defined in the `pom.xml` when using the plugin:\r\n\r\n    &lt;start-class&gt;com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication&lt;/start-class&gt;\r\n\r\nYou can see by the difference in the traces when the application is run from plugin vs Maven:\r\n\r\nPlugin version: (Looks in the wrong places)\r\n\r\n    [2023-09-13T12:59:34.390Z] Executing &#39;Functions.bean&#39; (Reason=&#39;This function was programmatically called via the host APIs.&#39;, Id=e363957c-09eb-4602-b76b-97a419b8f938)\r\n    [2023-09-13T12:59:34.698Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.699Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.700Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.700Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-context-4.1.0-20230911.141441-157.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.702Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.702Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-core-4.1.0-20230911.141334-157.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.704Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.704Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.706Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.707Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/azure-httptrigger-demo.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.709Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.709Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-messaging-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.711Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.711Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-observation-1.12.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.713Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.713Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-adapter-azure-4.1.0-20230911.141719-144.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.714Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.714Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-context-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.715Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.715Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.716Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.716Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.720Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.720Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-annotations-2.15.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.722Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.723Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.724Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.724Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jakarta.annotation-api-2.1.1.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.726Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.726Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-expression-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.729Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.729Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/snakeyaml-2.1.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.732Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.732Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.734Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.734Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.735Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.736Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/typetools-0.6.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.737Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.738Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-autoconfigure-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.740Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-core-2.15.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-jcl-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.743Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-starter-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.762Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.763Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.764Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.764Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-databind-2.15.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.766Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.766Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-beans-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.780Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.781Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.782Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.782Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/annotationLib/azure-functions-java-library-2.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.867Z] Executed &#39;Functions.bean&#39; (Failed, Id=e363957c-09eb-4602-b76b-97a419b8f938, Duration=536ms)\r\n    [2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\r\n    Exception: IllegalArgumentException: Failed to locate main class\r\n    Stack: java.lang.IllegalStateException: Failed to initialize\r\n\r\n\r\nMaven Version (Looks in the correct place and finds the start class):\r\n\r\n    [2023-09-13T13:01:33.990Z] Executing &#39;Functions.bean&#39; (Reason=&#39;This function was programmatically called via the host APIs.&#39;, Id=532d5eb5-6323-4de9-b294-27911cb6fdea)\r\n    [2023-09-13T13:01:34.153Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.154Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.158Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.159Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.164Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.165Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.171Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.172Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.173Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.174Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.180Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.181Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.183Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.185Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.186Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.187Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.190Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.191Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.192Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.195Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/azure-httptrigger-demo-0.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.196Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.197Z] INFO: Loaded Start Class: class com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication\r\n    [2023-09-13T13:01:34.198Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.198Z] INFO: Main class: class com.example.azure.di.httptriggerdemo.\r\n\r\n\r\nI believe the reason why this is happening is because of the thin-layout plugin used to change the layout in the beginning:\r\n\r\n             &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${spring-boot-thin-layout.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\n\r\nAs per @tzolov&#39;s comment&#39;s if you declare\r\n`MAIN_CLASS` as an environment variable it works.\r\n\r\nIf you want to add into a local run then add it in the &quot;Run Configurations&quot;:\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S1ZQa.png\r\n  [2]: https://i.stack.imgur.com/1ew3M.png","title":"Spring Azure Function - Unable to load Main Class when running from IntelliJ Azure Toolkit","body":"<p>I am trying to execute Spring Azure Functions from IntelliJ.</p>\n<p>The example I am using is here:</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-azure-http-trigger\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-azure-http-trigger</a></p>\n<p>When I click on the Run Azure Function Button on IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/S1ZQa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S1ZQa.png\" alt=\"enter image description here\" /></a></p>\n<p>The application starts up normally, but fails when I try to hit any endpoint:</p>\n<pre><code>http://localhost:7071/api/scf\n</code></pre>\n<p>With the error:</p>\n<pre><code>[2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\nException: IllegalArgumentException: Failed to locate main class\nStack: java.lang.IllegalStateException: Failed to initialize\n</code></pre>\n<p><strong>This happens ONLY when running from IntelliJ. It does not happen when I use the command:</strong></p>\n<pre><code>mvn azure-functions:run\n</code></pre>\n<p>Possible reasons for the error:</p>\n<p>The app is unable to locate the &quot;start class&quot; defined in the <code>pom.xml</code> when using the plugin:</p>\n<pre><code>&lt;start-class&gt;com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication&lt;/start-class&gt;\n</code></pre>\n<p>You can see by the difference in the traces when the application is run from plugin vs Maven:</p>\n<p>Plugin version: (Looks in the wrong places)</p>\n<pre><code>[2023-09-13T12:59:34.390Z] Executing 'Functions.bean' (Reason='This function was programmatically called via the host APIs.', Id=e363957c-09eb-4602-b76b-97a419b8f938)\n[2023-09-13T12:59:34.698Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.699Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.700Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.700Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-context-4.1.0-20230911.141441-157.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.702Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.702Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-core-4.1.0-20230911.141334-157.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.704Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.704Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.706Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.707Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/azure-httptrigger-demo.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.709Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.709Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-messaging-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.711Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.711Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-observation-1.12.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.713Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.713Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-adapter-azure-4.1.0-20230911.141719-144.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.714Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.714Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-context-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.715Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.715Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.716Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.716Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.720Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.720Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-annotations-2.15.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.722Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.723Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.724Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.724Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jakarta.annotation-api-2.1.1.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.726Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.726Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-expression-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.729Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.729Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/snakeyaml-2.1.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.732Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.732Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.734Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.734Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.735Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.736Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/typetools-0.6.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.737Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.738Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-autoconfigure-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.740Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-core-2.15.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-jcl-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.743Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-starter-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.762Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.763Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.764Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.764Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-databind-2.15.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.766Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.766Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-beans-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.780Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.781Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.782Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.782Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/annotationLib/azure-functions-java-library-2.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.867Z] Executed 'Functions.bean' (Failed, Id=e363957c-09eb-4602-b76b-97a419b8f938, Duration=536ms)\n[2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\nException: IllegalArgumentException: Failed to locate main class\nStack: java.lang.IllegalStateException: Failed to initialize\n</code></pre>\n<p>Maven Version (Looks in the correct place and finds the start class):</p>\n<pre><code>[2023-09-13T13:01:33.990Z] Executing 'Functions.bean' (Reason='This function was programmatically called via the host APIs.', Id=532d5eb5-6323-4de9-b294-27911cb6fdea)\n[2023-09-13T13:01:34.153Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.154Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.158Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.159Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.164Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.165Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.171Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.172Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.173Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.174Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.180Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.181Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.183Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.185Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.186Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.187Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.190Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.191Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.192Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.195Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/azure-httptrigger-demo-0.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.196Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.197Z] INFO: Loaded Start Class: class com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication\n[2023-09-13T13:01:34.198Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.198Z] INFO: Main class: class com.example.azure.di.httptriggerdemo.\n</code></pre>\n<p>I believe the reason why this is happening is because of the thin-layout plugin used to change the layout in the beginning:</p>\n<pre><code>         &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-boot-thin-layout.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>As per @tzolov's comment's if you declare\n<code>MAIN_CLASS</code> as an environment variable it works.</p>\n<p>If you want to add into a local run then add it in the &quot;Run Configurations&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/1ew3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ew3M.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver","alert"],"comments":[{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1694707448,"post_id":77104246,"comment_id":135929945,"body_markdown":"is your alert - Basic HTTP Authentication, where you should enter login and password? https://stackoverflow.com/questions/77075500/selenium-with-python-how-to-handle-two-text-field-in-alert-box/77076681#77076681 - Does this answers your question?","body":"is your alert - Basic HTTP Authentication, where you should enter login and password? <a href=\"https://stackoverflow.com/questions/77075500/selenium-with-python-how-to-handle-two-text-field-in-alert-box/77076681#77076681\" title=\"selenium with python how to handle two text field in alert box\">stackoverflow.com/questions/77075500/&hellip;</a> - Does this answers your question?"},{"owner":{"account_id":19772229,"reputation":91,"user_id":14478976,"display_name":"Vlad"},"score":0,"creation_date":1694773593,"post_id":77104246,"comment_id":135938517,"body_markdown":"Hi @Yaroslavm, yes, I&#39;m trying to do exactly that. I&#39;ve checked the answer and tried to recreate it in java (using the first example) and it helped, thanks!","body":"Hi @Yaroslavm, yes, I&#39;m trying to do exactly that. I&#39;ve checked the answer and tried to recreate it in java (using the first example) and it helped, thanks!"}],"owner":{"account_id":19772229,"reputation":91,"user_id":14478976,"display_name":"Vlad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694689156,"creation_date":1694689156,"question_id":77104246,"body_markdown":"While trying to automate a flow which includes an &#39;alert&#39; popup after the click of a button, I am sending an `driver.switchTo().alert();` command to focus the driver on the popup, but while trying to do so, I&#39;m getting the `NoAlertPresent no such alert` error during compiling.\r\n\r\nI&#39;ve tried to do this in two ways, but for them both I&#39;m having the same issue\r\n\r\nWay 1:\r\n\r\n    \tnew WebDriverWait(driver, Duration.ofSeconds(1));\r\n\t\tAlert promtAlert = driver.switchTo().alert();\r\n\t\tString login = &quot;admin&quot;;\r\n\t\tString password = &quot;admin&quot;;\r\n\t\tpromtAlert.sendKeys(login + Keys.TAB + password);\r\n\t\tpromtAlert.dismiss();\r\n\r\nWay 2:\r\n\r\n    \t\ttry {\r\n\t\t\tsleep(1);\r\n\t\t\tAlert promtAlert = driver.switchTo().alert();\r\n\t\t\tString login = &quot;admin&quot;;\r\n\t\t\tString password = &quot;admin&quot;;\r\n\t\t\tpromtAlert.sendKeys(login + Keys.TAB + password);\r\n\t\t\tpromtAlert.dismiss();\r\n\t\t} catch (NoAlertPresentException e) {\r\n\t\t\tSystem.out.println(&quot;NoAlertPresent handled&quot;);\r\n\t\t}\r\n\r\n\r\nBut in both casses I&#39;m not getting the expected result, that being passing the variables and &quot;selecting&quot; the dismiss option for the popup.\r\n\r\nI am getting the error specifically for the line: `Alert promtAlert = driver.switchTo().alert();`\r\n\r\nCould you help me understand what I&#39;m doing wrong in this case?","title":"Java, Selenium: NoAlertPresent no such allert error","body":"<p>While trying to automate a flow which includes an 'alert' popup after the click of a button, I am sending an <code>driver.switchTo().alert();</code> command to focus the driver on the popup, but while trying to do so, I'm getting the <code>NoAlertPresent no such alert</code> error during compiling.</p>\n<p>I've tried to do this in two ways, but for them both I'm having the same issue</p>\n<p>Way 1:</p>\n<pre><code>    new WebDriverWait(driver, Duration.ofSeconds(1));\n    Alert promtAlert = driver.switchTo().alert();\n    String login = &quot;admin&quot;;\n    String password = &quot;admin&quot;;\n    promtAlert.sendKeys(login + Keys.TAB + password);\n    promtAlert.dismiss();\n</code></pre>\n<p>Way 2:</p>\n<pre><code>        try {\n        sleep(1);\n        Alert promtAlert = driver.switchTo().alert();\n        String login = &quot;admin&quot;;\n        String password = &quot;admin&quot;;\n        promtAlert.sendKeys(login + Keys.TAB + password);\n        promtAlert.dismiss();\n    } catch (NoAlertPresentException e) {\n        System.out.println(&quot;NoAlertPresent handled&quot;);\n    }\n</code></pre>\n<p>But in both casses I'm not getting the expected result, that being passing the variables and &quot;selecting&quot; the dismiss option for the popup.</p>\n<p>I am getting the error specifically for the line: <code>Alert promtAlert = driver.switchTo().alert();</code></p>\n<p>Could you help me understand what I'm doing wrong in this case?</p>\n"},{"tags":["java","exception","custom-exceptions","throws"],"answers":[{"tags":[],"owner":{"account_id":3302687,"reputation":3037,"user_id":2778422,"display_name":"zaerymoghaddam"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1694688940,"creation_date":1380919037,"answer_id":19190346,"question_id":19190280,"body_markdown":"There are two types of Exceptions in Java: **Checked Exceptions** and **Unchecked Exceptions**. Checked exception has to be caught or declared to be thrown (like `MalfomedURLException`) but catching Unchecked exceptions (like `IllegalArgumentException`) is not mandatory and you can let the caller catch them (or throw them up to its own caller).\r\n\r\nFor more information, take a look at this post:\r\n\r\n[Java: Checked vs Unchecked Exceptions Explanation][1]\r\n\r\nIf you extend your custom exception class from `RuntimeException` or any exception class inherited from it, then catching your exception will not be mandatory. \r\n\r\n  [1]: https://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation","title":"Why is it not necessary to catch the IllegalArgumentException?","body":"<p>There are two types of Exceptions in Java: <strong>Checked Exceptions</strong> and <strong>Unchecked Exceptions</strong>. Checked exception has to be caught or declared to be thrown (like <code>MalfomedURLException</code>) but catching Unchecked exceptions (like <code>IllegalArgumentException</code>) is not mandatory and you can let the caller catch them (or throw them up to its own caller).</p>\n<p>For more information, take a look at this post:</p>\n<p><a href=\"https://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation\">Java: Checked vs Unchecked Exceptions Explanation</a></p>\n<p>If you extend your custom exception class from <code>RuntimeException</code> or any exception class inherited from it, then catching your exception will not be mandatory.</p>\n"},{"tags":[],"owner":{"account_id":1280933,"reputation":1024,"user_id":1235040,"accept_rate":75,"display_name":"Vijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660891958,"creation_date":1380919266,"answer_id":19190415,"question_id":19190280,"body_markdown":"`IllegalArgumentException` is unchecked exception , so if you do not catch it then it will be handled by JVM , these exceptions are sublclasses of `RuntimeException`, `Error`, while `MalformedURLException` is checked exception which must be caught by programmer.All `IOExceptions` are checked exceptions [Read here for more info][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html","title":"Why is it not necessary to catch the IllegalArgumentException?","body":"<p><code>IllegalArgumentException</code> is unchecked exception , so if you do not catch it then it will be handled by JVM , these exceptions are sublclasses of <code>RuntimeException</code>, <code>Error</code>, while <code>MalformedURLException</code> is checked exception which must be caught by programmer.All <code>IOExceptions</code> are checked exceptions <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Read here for more info</a></p>\n"}],"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2627,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":19190346,"answer_count":2,"score":7,"last_activity_date":1694688940,"creation_date":1380918794,"question_id":19190280,"body_markdown":"I wonder why the `IllegalArgumentException` class does not *need* to be catched or declared, while other exceptions have to (eg `java.net.MalformedURLException`).\r\n\r\n    public void foo() {\r\n        throw new IllegalArgumentException(&quot;spam&quot;);\r\n    }\r\n\r\n    public void bar() throws MalformedURLException { // required\r\n        throw new MalformedURLException(&quot;ham&quot;);\r\n    }\r\nI know that `Error`s do not have to be declared because they are not intended to be catched.\r\n\r\nI&#39;d like to declare a new exception which also does not require to be catched.","title":"Why is it not necessary to catch the IllegalArgumentException?","body":"<p>I wonder why the <code>IllegalArgumentException</code> class does not <em>need</em> to be catched or declared, while other exceptions have to (eg <code>java.net.MalformedURLException</code>).</p>\n\n<pre><code>public void foo() {\n    throw new IllegalArgumentException(\"spam\");\n}\n\npublic void bar() throws MalformedURLException { // required\n    throw new MalformedURLException(\"ham\");\n}\n</code></pre>\n\n<p>I know that <code>Error</code>s do not have to be declared because they are not intended to be catched.</p>\n\n<p>I'd like to declare a new exception which also does not require to be catched.</p>\n"},{"tags":["java","selenium-webdriver","xpath","webdriver"],"comments":[{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1694686770,"post_id":77090868,"comment_id":135925179,"body_markdown":"`//div[contains(@id,&#39;-2&#39;)]` should work.\nwhat happens if you use that?","body":"<code>&#47;&#47;div[contains(@id,&#39;-2&#39;)]</code> should work. what happens if you use that?"}],"answers":[{"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694688827,"creation_date":1694687111,"answer_id":77104016,"question_id":77090868,"body_markdown":"`//div[ends-with(@id,&#39;-2&#39;)]` `ends-with` is not XPath 1.0\r\n\r\n`//div[contains(@id,&#39;-2&#39;)]` will not work if :\r\n\r\n1. Your result expects only one element and there are besides `id=&quot;abc123-2&quot;` also is&#39;s like `id=&quot;abc123-21&quot;`\r\n2. the random string `abc123` also contains a `-2`\r\n\r\nIf random string `abc123` does **not contain a dash** you could use this XPath:\r\n\r\n`//div[substring-after(@id,&#39;-&#39;)=&#39;2&#39;]`\r\n\r\nThe best option is to use this `XPath 1.0` alternative for `ends-with`:\r\n\r\n    //div[@id[substring(.,string-length(.) - string-length(&#39;2&#39;) + 1) = &#39;2&#39;]]\r\n\r\nwhere in this case `2` is the static part you want to use that as a variable when you compose your XPath ","title":"Selenium webdriver - How to locate the dropdown select element with first part is dynamic and second part is static","body":"<p><code>//div[ends-with(@id,'-2')]</code> <code>ends-with</code> is not XPath 1.0</p>\n<p><code>//div[contains(@id,'-2')]</code> will not work if :</p>\n<ol>\n<li>Your result expects only one element and there are besides <code>id=&quot;abc123-2&quot;</code> also is's like <code>id=&quot;abc123-21&quot;</code></li>\n<li>the random string <code>abc123</code> also contains a <code>-2</code></li>\n</ol>\n<p>If random string <code>abc123</code> does <strong>not contain a dash</strong> you could use this XPath:</p>\n<p><code>//div[substring-after(@id,'-')='2']</code></p>\n<p>The best option is to use this <code>XPath 1.0</code> alternative for <code>ends-with</code>:</p>\n<pre><code>//div[@id[substring(.,string-length(.) - string-length('2') + 1) = '2']]\n</code></pre>\n<p>where in this case <code>2</code> is the static part you want to use that as a variable when you compose your XPath</p>\n"}],"owner":{"account_id":29424144,"reputation":11,"user_id":22545286,"display_name":"Rajeev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694688827,"creation_date":1694534632,"question_id":77090868,"body_markdown":"The ID is dynamic - first part is dynamic and second part is static\r\n\r\n[Example element code]\r\n\r\n```\r\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-0&quot;&gt;\r\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-1&quot;&gt;\r\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-2&quot;&gt;\r\n```\r\n\r\n`abc123` is dynamic and `-0`, `-1`, `-2` is static\r\n\r\nNot able to capture the value in drop-down\r\n\r\n\r\nI have tried below:\r\n\r\n \r\n`//div[contains(@id,&#39;-2&#39;)]` -  Not working\r\n\r\n\r\n`//div[ends-with(@id,&#39;-2&#39;)]` -  Not working\r\n\r\n","title":"Selenium webdriver - How to locate the dropdown select element with first part is dynamic and second part is static","body":"<p>The ID is dynamic - first part is dynamic and second part is static</p>\n<p>[Example element code]</p>\n<pre><code>&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-0&quot;&gt;\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-1&quot;&gt;\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-2&quot;&gt;\n</code></pre>\n<p><code>abc123</code> is dynamic and <code>-0</code>, <code>-1</code>, <code>-2</code> is static</p>\n<p>Not able to capture the value in drop-down</p>\n<p>I have tried below:</p>\n<p><code>//div[contains(@id,'-2')]</code> -  Not working</p>\n<p><code>//div[ends-with(@id,'-2')]</code> -  Not working</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","user-input"],"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694688409,"creation_date":1694688409,"question_id":77104159,"body_markdown":"I&#39;m facing an issue with my Android Compose keyboard layout where the symbol layout is displaying the &quot;qwerty&quot; label instead of the expected symbols. I&#39;ve tried troubleshooting, but I can&#39;t seem to figure out what&#39;s causing this problem. Here are the details:\r\n\r\nI have implemented a custom Android Compose keyboard with two layout states: &quot;qwerty&quot; and &quot;symbols.&quot; The idea is to switch between these layouts to input either regular text or symbols.\r\n\r\nWhen I switch to the &quot;symbols&quot; layout and press a key, it correctly displays the symbol character on the key itself, but the character entered into the text field is still the &quot;qwerty&quot; character, which is unexpected.\r\n\r\nI&#39;ve verified that the layout state switches correctly to &quot;symbols&quot; when the layout switch key is pressed.\r\n\r\nIn the symbolsLayout array, I&#39;ve defined the symbol characters I want to display for each key.\r\n\r\nThe CustomKey composable, which handles key presses, seems to be aware of the currentLayout state to determine whether to display symbols or qwerty characters.\r\n\r\nHere is my code.\r\n**CustomKeyboard**\r\n```\r\npackage com.soloftech.keyboard.presentation.layout\r\n\r\nimport android.content.Context\r\nimport android.os.Vibrator\r\nimport androidx.compose.foundation.background\r\nimport androidx.compose.foundation.layout.Arrangement\r\nimport androidx.compose.foundation.layout.Box\r\nimport androidx.compose.foundation.layout.Column\r\nimport androidx.compose.foundation.layout.Row\r\nimport androidx.compose.foundation.layout.fillMaxWidth\r\nimport androidx.compose.foundation.layout.padding\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.runtime.DisposableEffect\r\nimport androidx.compose.runtime.getValue\r\nimport androidx.compose.runtime.mutableStateOf\r\nimport androidx.compose.runtime.remember\r\nimport androidx.compose.runtime.setValue\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.res.colorResource\r\nimport androidx.compose.ui.res.dimensionResource\r\nimport androidx.compose.ui.tooling.preview.Preview\r\nimport androidx.compose.ui.unit.dp\r\nimport com.soloftech.keyboard.R\r\nimport com.soloftech.keyboard.data.keyboard_layout.Key\r\nimport com.soloftech.keyboard.data.keyboard_layout.LayoutState\r\nimport com.soloftech.keyboard.data.layout.qwertyLayout\r\nimport com.soloftech.keyboard.data.layout.symbolsLayout\r\nimport com.soloftech.keyboard.domain.KeyboardVisibilityProvider\r\nimport com.soloftech.keyboard.domain.vibrate\r\nimport com.soloftech.keyboard.presentation.service.CustomImeService\r\n\r\n@Composable\r\nfun CustomKeyboard(\r\n    imeService: CustomImeService?,\r\n    vibrator: Vibrator? = null,\r\n    context: Context?\r\n) {\r\n\r\n// Declare the current layout as a mutable state\r\n    var currentLayout by remember { mutableStateOf(LayoutState.Qwerty) }\r\n\r\n    // Use the currentLayout to determine which keys to display\r\n    val keys: Array&lt;Array&lt;Key&gt;&gt; = when (currentLayout) {\r\n        LayoutState.Qwerty -&gt; qwertyLayout\r\n        LayoutState.Symbols -&gt; symbolsLayout\r\n    }\r\n\r\n    val onLayoutSwitchClick: () -&gt; Unit = {\r\n        currentLayout = if (currentLayout == LayoutState.Qwerty) {\r\n            LayoutState.Symbols\r\n        } else {\r\n            LayoutState.Qwerty\r\n        }\r\n    }\r\n\r\n    // Detect keyboard visibility changes\r\n    var isKeyboardVisible by remember { mutableStateOf(false) }\r\n    KeyboardVisibilityProvider { isVisible -&gt;\r\n        isKeyboardVisible = isVisible\r\n        if (!isKeyboardVisible) {\r\n            // Keyboard is hidden, switch back to qwerty layout\r\n            currentLayout = LayoutState.Qwerty\r\n        }\r\n    }\r\n\r\n    DisposableEffect(isKeyboardVisible) {\r\n        if (!isKeyboardVisible) {\r\n            // Keyboard is hidden, switch back to qwerty layout\r\n            currentLayout = LayoutState.Qwerty\r\n        }\r\n        onDispose { }\r\n    }\r\n\r\n    Box(\r\n        modifier = Modifier\r\n            .fillMaxWidth()\r\n            .background(colorResource(id = R.color.KeyboardBackground))\r\n            .padding(vertical = 6.dp)\r\n    ) {\r\n        Column(\r\n            verticalArrangement = Arrangement.SpaceBetween\r\n        ) {\r\n            keys.forEachIndexed { rowIndex, row -&gt;\r\n                Row(\r\n                    modifier = Modifier\r\n                        .fillMaxWidth()\r\n                        .padding(\r\n                            horizontal = if (rowIndex == 2) 16.dp else dimensionResource(id = R.dimen.key_marginH).value.dp,\r\n                            vertical = dimensionResource(id = R.dimen.key_marginV).value.dp\r\n                        ),\r\n                    horizontalArrangement = Arrangement.Center\r\n                ) {\r\n                    row.forEach { key -&gt;\r\n//\r\n//                        val handler = Handler(Looper.getMainLooper())\r\n//                        object : Runnable {\r\n//                            override fun run() {\r\n//                                Log.d(TAG, &quot;run: ${key.label}&quot;)\r\n//                                handler.postDelayed(this, 5000)\r\n//                            }\r\n//                        }.run()\r\n\r\n                        CustomKey(\r\n                            key = key,\r\n                            onKeyPressed = {\r\n                                vibrate(vibrator)\r\n                                imeService?.doSomethingWith(key, false)\r\n                            },\r\n                            onLongKeyPressed = {\r\n                                vibrate(vibrator)\r\n                                imeService?.doSomethingWith(key, true)\r\n                            },\r\n                            onLongKeyPressedEnd = {\r\n                                imeService?.longPressedStops()\r\n                            },\r\n                            onLayoutSwitchClick = onLayoutSwitchClick,\r\n                            modifier = Modifier\r\n                                .padding(horizontal = 3.dp)\r\n                                .weight(key.weight),\r\n                            context = context\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@Preview\r\n@Composable\r\nfun CustomKeyboardPreview() {\r\n    CustomKeyboard(\r\n        imeService = null,\r\n        vibrator = null,\r\n        context = null\r\n    )\r\n}\r\n\r\n```\r\n**CustomKey**\r\n```\r\npackage com.soloftech.keyboard.presentation.layout\r\n\r\n\r\nimport android.content.Context\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport androidx.compose.foundation.background\r\nimport androidx.compose.foundation.gestures.detectTapGestures\r\nimport androidx.compose.foundation.layout.Box\r\nimport androidx.compose.foundation.layout.height\r\nimport androidx.compose.foundation.layout.size\r\nimport androidx.compose.foundation.shape.RoundedCornerShape\r\nimport androidx.compose.material3.Icon\r\nimport androidx.compose.material3.Text\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.runtime.mutableStateOf\r\nimport androidx.compose.runtime.remember\r\nimport androidx.compose.ui.Alignment\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.draw.clip\r\nimport androidx.compose.ui.input.pointer.pointerInput\r\nimport androidx.compose.ui.res.colorResource\r\nimport androidx.compose.ui.res.dimensionResource\r\nimport androidx.compose.ui.res.painterResource\r\nimport androidx.compose.ui.tooling.preview.Preview\r\nimport androidx.compose.ui.unit.IntOffset\r\nimport androidx.compose.ui.unit.dp\r\nimport androidx.compose.ui.unit.sp\r\nimport com.soloftech.keyboard.R\r\nimport com.soloftech.keyboard.data.keyboard_layout.Key\r\nimport com.soloftech.keyboard.domain.playSound\r\nimport com.soloftech.keyboard.presentation.service.CustomImeService\r\n\r\n\r\n@Composable\r\nfun CustomKey(\r\n    key: Key,\r\n    onKeyPressed: (Key) -&gt; Unit,\r\n    onLongKeyPressed: (Key) -&gt; Unit,\r\n    onLongKeyPressedEnd: () -&gt; Unit,\r\n    modifier: Modifier,\r\n    onLayoutSwitchClick: () -&gt; Unit,\r\n    context: Context?,\r\n) {\r\n    val isPopupVisible = remember { mutableStateOf(false) }\r\n\r\n    val keyColor = if (key.isSpecialCharacter) {\r\n        colorResource(id = R.color.SpecialKeyBackground)\r\n    } else {\r\n        colorResource(id = R.color.KeyBackground)\r\n    }\r\n\r\n    val textColor = colorResource(id = R.color.KeyTextColor)\r\n\r\n    val keyShape = when (key.label) {\r\n        &quot;?123&quot;, &quot;Done&quot;, &quot;ABC&quot; -&gt; RoundedCornerShape(36.dp)\r\n        else -&gt; RoundedCornerShape(6.dp)\r\n    }\r\n\r\n    val iconResourceId = if (CustomImeService.isCapsEnabled &amp;&amp; key.alternativeIcon != null) {\r\n        key.alternativeIcon\r\n    } else {\r\n        key.icon\r\n    }\r\n    Box(\r\n        modifier = modifier\r\n            .clip(keyShape)\r\n            .background(keyColor)\r\n            .height(dimensionResource(id = R.dimen.key_height).value.dp)\r\n            .pointerInput(Unit) {\r\n                detectTapGestures(\r\n                    onLongPress = {\r\n                        onLongKeyPressed(key)\r\n                    },\r\n                    onPress = {\r\n                        awaitRelease()\r\n                        onLongKeyPressedEnd()\r\n                    },\r\n                    onTap = {\r\n                        isPopupVisible.value = true\r\n                        if (context != null) {\r\n                            playSound(context = context)\r\n                        }\r\n                        if (key.label == &quot;?123&quot; || key.label == &quot;ABC&quot;) onLayoutSwitchClick()\r\n                        else onKeyPressed(key)\r\n                        Handler(Looper.getMainLooper()).postDelayed({\r\n                            isPopupVisible.value = false\r\n                        }, 250)\r\n                    }\r\n                )\r\n            },\r\n        contentAlignment = Alignment.Center\r\n    ) {\r\n        if (iconResourceId != null &amp;&amp; key.contentDescription != null) {\r\n            Icon(\r\n                painter = painterResource(id = iconResourceId),\r\n                contentDescription = key.contentDescription,\r\n                tint = textColor,\r\n                modifier = Modifier.size(26.dp)\r\n            )\r\n        } else {\r\n            when (key.label) {\r\n                &quot;?123&quot;, &quot;ABC&quot;, &quot;Space&quot; -&gt; AutoResizedText(\r\n                    text = key.label,\r\n                    color = textColor\r\n                )\r\n\r\n                else -&gt; Text(\r\n                    text = key.label,\r\n                    color = textColor,\r\n                    fontSize = dimensionResource(id = R.dimen.key_textSize).value.sp\r\n                )\r\n            }\r\n\r\n        }\r\n\r\n        if (isPopupVisible.value &amp;&amp; key.shouldShowPopUp) {\r\n            PopupScreen(\r\n                label = key.label,\r\n                offset = IntOffset(x = 0, y = -90)\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@Preview\r\n@Composable\r\nfun CustomKeyPreview() {\r\n    CustomKey(\r\n        key = Key(&quot;f&quot;, 1F),\r\n        onKeyPressed = {},\r\n        onLongKeyPressed = {},\r\n        modifier = Modifier,\r\n        context = null,\r\n        onLongKeyPressedEnd = {},\r\n        onLayoutSwitchClick = {}\r\n    )\r\n}\r\n```\r\nAnd here is custom IME.\r\n```\r\npackage com.soloftech.keyboard.presentation.service\r\n\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.inputmethodservice.InputMethodService\r\nimport android.os.Build\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport android.os.Vibrator\r\nimport android.os.VibratorManager\r\nimport android.text.TextUtils\r\nimport android.view.KeyEvent\r\nimport android.view.View\r\nimport android.view.inputmethod.InputMethodManager\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.ui.platform.AbstractComposeView\r\nimport androidx.core.content.ContextCompat.getSystemService\r\nimport androidx.lifecycle.Lifecycle\r\nimport androidx.lifecycle.LifecycleOwner\r\nimport androidx.lifecycle.LifecycleRegistry\r\nimport androidx.lifecycle.ViewModelStore\r\nimport androidx.lifecycle.ViewModelStoreOwner\r\nimport androidx.lifecycle.ViewTreeLifecycleOwner\r\nimport androidx.lifecycle.ViewTreeViewModelStoreOwner\r\nimport androidx.savedstate.SavedStateRegistry\r\nimport androidx.savedstate.SavedStateRegistryController\r\nimport androidx.savedstate.SavedStateRegistryOwner\r\nimport androidx.savedstate.setViewTreeSavedStateRegistryOwner\r\nimport com.soloftech.keyboard.data.keyboard_layout.Key\r\nimport com.soloftech.keyboard.presentation.layout.CustomKeyboard\r\n\r\n\r\nclass CustomImeService : InputMethodService(), LifecycleOwner, ViewModelStoreOwner,\r\n    SavedStateRegistryOwner {\r\n\r\n    companion object {\r\n        var isCapsEnabled = false\r\n    }\r\n\r\n    private var isBackspaceKeyPressed = false\r\n    private val handler = Handler(Looper.getMainLooper())\r\n    private var deleteCharacterRunnable = object : Runnable {\r\n        override fun run() {\r\n            val inputConnection = currentInputConnection\r\n\r\n            if (inputConnection != null &amp;&amp; isBackspaceKeyPressed) {\r\n                val selectedText: CharSequence? = inputConnection.getSelectedText(0)\r\n\r\n                if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\r\n                    // There is selected text, so delete it\r\n                    inputConnection.commitText(&quot;&quot;, 1)\r\n                } else {\r\n                    // No selected text, delete the character to the left\r\n                    inputConnection.deleteSurroundingText(1, 0)\r\n                }\r\n\r\n                // Schedule the next deletion after 100 ms\r\n                handler.postDelayed(this, 100)\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onCreateInputView(): View {\r\n        val view = ComposeKeyboardView(this)\r\n\r\n        window!!.window!!.decorView.let { decorView -&gt;\r\n            ViewTreeLifecycleOwner.set(decorView, this)\r\n            ViewTreeViewModelStoreOwner.set(decorView, this)\r\n            view.setViewTreeSavedStateRegistryOwner(this)\r\n        }\r\n        view.let {\r\n            ViewTreeLifecycleOwner.set(it, this)\r\n            ViewTreeViewModelStoreOwner.set(it, this)\r\n            it.setViewTreeSavedStateRegistryOwner(this)\r\n        }\r\n        return view\r\n    }\r\n\r\n\r\n    fun doSomethingWith(\r\n        key: Key,\r\n        isLongPressed: Boolean\r\n    ) {\r\n        when (key.label) {\r\n            &quot;Space&quot; -&gt; {\r\n                if (isLongPressed) {\r\n                    val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\r\n                    imm.showInputMethodPicker()\r\n                } else {\r\n                    currentInputConnection.commitText(&quot; &quot;, 1)\r\n                }\r\n            }\r\n\r\n            &quot;CAPS&quot; -&gt; {\r\n                isCapsEnabled = !isCapsEnabled\r\n            }\r\n\r\n            &quot;Done&quot; -&gt; {\r\n                currentInputConnection.sendKeyEvent(\r\n                    KeyEvent(\r\n                        KeyEvent.ACTION_DOWN,\r\n                        KeyEvent.KEYCODE_ENTER\r\n                    )\r\n                )\r\n            }\r\n\r\n            &quot;Delete&quot; -&gt; {\r\n                if (isLongPressed) {\r\n                    // Start character deletions when the key is long-pressed\r\n                    if (!isBackspaceKeyPressed) {\r\n                        isBackspaceKeyPressed = true\r\n                        deleteCharacterRunnable.run()\r\n                    }\r\n                } else {\r\n                    val inputConnection = currentInputConnection\r\n\r\n                    if (inputConnection != null) {\r\n                        val selectedText: CharSequence? = inputConnection.getSelectedText(0)\r\n\r\n                        if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\r\n                            // There is selected text, so delete it\r\n                            inputConnection.commitText(&quot;&quot;, 1)\r\n                        } else {\r\n                            // No selected text, delete the character to the left\r\n                            inputConnection.deleteSurroundingText(1, 0)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            else -&gt; {\r\n                val inputConnection = currentInputConnection\r\n                if (inputConnection != null) {\r\n                    val label = key.label\r\n                    val uppercaseValue = if (isCapsEnabled) label.uppercase() else label\r\n                    inputConnection.commitText(uppercaseValue, 1)\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    fun longPressedStops() {\r\n        // Stop character deletions when the key is released\r\n        isBackspaceKeyPressed = false\r\n        handler.removeCallbacks(deleteCharacterRunnable)\r\n    }\r\n\r\n    //SaveStateRegistry Methods\r\n    private val savedStateRegistryVar = SavedStateRegistryController.create(this)\r\n\r\n    override val savedStateRegistry: SavedStateRegistry\r\n        get() = savedStateRegistryVar.savedStateRegistry\r\n\r\n    //Lifecycle Methods\r\n    private var lifecycleRegistry: LifecycleRegistry = LifecycleRegistry(this)\r\n\r\n    override fun getLifecycle(): Lifecycle {\r\n        return lifecycleRegistry\r\n    }\r\n\r\n    private fun handleLifecycleEvent(event: Lifecycle.Event) =\r\n        lifecycleRegistry.handleLifecycleEvent(event)\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n        savedStateRegistryVar.performRestore(null)\r\n        lifecycleRegistry.handleLifecycleEvent(Lifecycle.Event.ON_RESUME)\r\n    }\r\n\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        handleLifecycleEvent(Lifecycle.Event.ON_DESTROY)\r\n    }\r\n\r\n    //ViewModelStore Methods\r\n    private val store = ViewModelStore()\r\n\r\n    override fun getViewModelStore(): ViewModelStore = store\r\n\r\n}\r\n\r\n@SuppressLint(&quot;ViewConstructor&quot;)\r\nclass ComposeKeyboardView(private val imeService: CustomImeService) :\r\n    AbstractComposeView(imeService) {\r\n\r\n    @Composable\r\n    override fun Content() {\r\n        CustomKeyboard(\r\n            imeService = imeService,\r\n            vibrator = vibrator,\r\n            context = context\r\n        )\r\n    }\r\n\r\n    private val vibrator: Vibrator by lazy {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            val vibratorManager = getSystemService(context, VibratorManager::class.java)\r\n            vibratorManager?.defaultVibrator ?: getSystemService(context, Vibrator::class.java)\r\n        } else {\r\n            getSystemService(context, Vibrator::class.java)\r\n        } as Vibrator\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nI also runned a test in which i runned a runnable every 5 seconds and that log the keys of current layout and i noticed that it first returs qwerty layouy tham sybols layiut keys. MAybe that is the issue. HOW can i solve this.\r\nThanks.","title":"Layout returning wrong keys in custom keyboard Android jetpack compose","body":"<p>I'm facing an issue with my Android Compose keyboard layout where the symbol layout is displaying the &quot;qwerty&quot; label instead of the expected symbols. I've tried troubleshooting, but I can't seem to figure out what's causing this problem. Here are the details:</p>\n<p>I have implemented a custom Android Compose keyboard with two layout states: &quot;qwerty&quot; and &quot;symbols.&quot; The idea is to switch between these layouts to input either regular text or symbols.</p>\n<p>When I switch to the &quot;symbols&quot; layout and press a key, it correctly displays the symbol character on the key itself, but the character entered into the text field is still the &quot;qwerty&quot; character, which is unexpected.</p>\n<p>I've verified that the layout state switches correctly to &quot;symbols&quot; when the layout switch key is pressed.</p>\n<p>In the symbolsLayout array, I've defined the symbol characters I want to display for each key.</p>\n<p>The CustomKey composable, which handles key presses, seems to be aware of the currentLayout state to determine whether to display symbols or qwerty characters.</p>\n<p>Here is my code.\n<strong>CustomKeyboard</strong></p>\n<pre><code>package com.soloftech.keyboard.presentation.layout\n\nimport android.content.Context\nimport android.os.Vibrator\nimport androidx.compose.foundation.background\nimport androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.Box\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.Row\nimport androidx.compose.foundation.layout.fillMaxWidth\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.DisposableEffect\nimport androidx.compose.runtime.getValue\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.runtime.setValue\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.res.colorResource\nimport androidx.compose.ui.res.dimensionResource\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.compose.ui.unit.dp\nimport com.soloftech.keyboard.R\nimport com.soloftech.keyboard.data.keyboard_layout.Key\nimport com.soloftech.keyboard.data.keyboard_layout.LayoutState\nimport com.soloftech.keyboard.data.layout.qwertyLayout\nimport com.soloftech.keyboard.data.layout.symbolsLayout\nimport com.soloftech.keyboard.domain.KeyboardVisibilityProvider\nimport com.soloftech.keyboard.domain.vibrate\nimport com.soloftech.keyboard.presentation.service.CustomImeService\n\n@Composable\nfun CustomKeyboard(\n    imeService: CustomImeService?,\n    vibrator: Vibrator? = null,\n    context: Context?\n) {\n\n// Declare the current layout as a mutable state\n    var currentLayout by remember { mutableStateOf(LayoutState.Qwerty) }\n\n    // Use the currentLayout to determine which keys to display\n    val keys: Array&lt;Array&lt;Key&gt;&gt; = when (currentLayout) {\n        LayoutState.Qwerty -&gt; qwertyLayout\n        LayoutState.Symbols -&gt; symbolsLayout\n    }\n\n    val onLayoutSwitchClick: () -&gt; Unit = {\n        currentLayout = if (currentLayout == LayoutState.Qwerty) {\n            LayoutState.Symbols\n        } else {\n            LayoutState.Qwerty\n        }\n    }\n\n    // Detect keyboard visibility changes\n    var isKeyboardVisible by remember { mutableStateOf(false) }\n    KeyboardVisibilityProvider { isVisible -&gt;\n        isKeyboardVisible = isVisible\n        if (!isKeyboardVisible) {\n            // Keyboard is hidden, switch back to qwerty layout\n            currentLayout = LayoutState.Qwerty\n        }\n    }\n\n    DisposableEffect(isKeyboardVisible) {\n        if (!isKeyboardVisible) {\n            // Keyboard is hidden, switch back to qwerty layout\n            currentLayout = LayoutState.Qwerty\n        }\n        onDispose { }\n    }\n\n    Box(\n        modifier = Modifier\n            .fillMaxWidth()\n            .background(colorResource(id = R.color.KeyboardBackground))\n            .padding(vertical = 6.dp)\n    ) {\n        Column(\n            verticalArrangement = Arrangement.SpaceBetween\n        ) {\n            keys.forEachIndexed { rowIndex, row -&gt;\n                Row(\n                    modifier = Modifier\n                        .fillMaxWidth()\n                        .padding(\n                            horizontal = if (rowIndex == 2) 16.dp else dimensionResource(id = R.dimen.key_marginH).value.dp,\n                            vertical = dimensionResource(id = R.dimen.key_marginV).value.dp\n                        ),\n                    horizontalArrangement = Arrangement.Center\n                ) {\n                    row.forEach { key -&gt;\n//\n//                        val handler = Handler(Looper.getMainLooper())\n//                        object : Runnable {\n//                            override fun run() {\n//                                Log.d(TAG, &quot;run: ${key.label}&quot;)\n//                                handler.postDelayed(this, 5000)\n//                            }\n//                        }.run()\n\n                        CustomKey(\n                            key = key,\n                            onKeyPressed = {\n                                vibrate(vibrator)\n                                imeService?.doSomethingWith(key, false)\n                            },\n                            onLongKeyPressed = {\n                                vibrate(vibrator)\n                                imeService?.doSomethingWith(key, true)\n                            },\n                            onLongKeyPressedEnd = {\n                                imeService?.longPressedStops()\n                            },\n                            onLayoutSwitchClick = onLayoutSwitchClick,\n                            modifier = Modifier\n                                .padding(horizontal = 3.dp)\n                                .weight(key.weight),\n                            context = context\n                        )\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n@Preview\n@Composable\nfun CustomKeyboardPreview() {\n    CustomKeyboard(\n        imeService = null,\n        vibrator = null,\n        context = null\n    )\n}\n\n</code></pre>\n<p><strong>CustomKey</strong></p>\n<pre><code>package com.soloftech.keyboard.presentation.layout\n\n\nimport android.content.Context\nimport android.os.Handler\nimport android.os.Looper\nimport androidx.compose.foundation.background\nimport androidx.compose.foundation.gestures.detectTapGestures\nimport androidx.compose.foundation.layout.Box\nimport androidx.compose.foundation.layout.height\nimport androidx.compose.foundation.layout.size\nimport androidx.compose.foundation.shape.RoundedCornerShape\nimport androidx.compose.material3.Icon\nimport androidx.compose.material3.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.draw.clip\nimport androidx.compose.ui.input.pointer.pointerInput\nimport androidx.compose.ui.res.colorResource\nimport androidx.compose.ui.res.dimensionResource\nimport androidx.compose.ui.res.painterResource\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.compose.ui.unit.IntOffset\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.unit.sp\nimport com.soloftech.keyboard.R\nimport com.soloftech.keyboard.data.keyboard_layout.Key\nimport com.soloftech.keyboard.domain.playSound\nimport com.soloftech.keyboard.presentation.service.CustomImeService\n\n\n@Composable\nfun CustomKey(\n    key: Key,\n    onKeyPressed: (Key) -&gt; Unit,\n    onLongKeyPressed: (Key) -&gt; Unit,\n    onLongKeyPressedEnd: () -&gt; Unit,\n    modifier: Modifier,\n    onLayoutSwitchClick: () -&gt; Unit,\n    context: Context?,\n) {\n    val isPopupVisible = remember { mutableStateOf(false) }\n\n    val keyColor = if (key.isSpecialCharacter) {\n        colorResource(id = R.color.SpecialKeyBackground)\n    } else {\n        colorResource(id = R.color.KeyBackground)\n    }\n\n    val textColor = colorResource(id = R.color.KeyTextColor)\n\n    val keyShape = when (key.label) {\n        &quot;?123&quot;, &quot;Done&quot;, &quot;ABC&quot; -&gt; RoundedCornerShape(36.dp)\n        else -&gt; RoundedCornerShape(6.dp)\n    }\n\n    val iconResourceId = if (CustomImeService.isCapsEnabled &amp;&amp; key.alternativeIcon != null) {\n        key.alternativeIcon\n    } else {\n        key.icon\n    }\n    Box(\n        modifier = modifier\n            .clip(keyShape)\n            .background(keyColor)\n            .height(dimensionResource(id = R.dimen.key_height).value.dp)\n            .pointerInput(Unit) {\n                detectTapGestures(\n                    onLongPress = {\n                        onLongKeyPressed(key)\n                    },\n                    onPress = {\n                        awaitRelease()\n                        onLongKeyPressedEnd()\n                    },\n                    onTap = {\n                        isPopupVisible.value = true\n                        if (context != null) {\n                            playSound(context = context)\n                        }\n                        if (key.label == &quot;?123&quot; || key.label == &quot;ABC&quot;) onLayoutSwitchClick()\n                        else onKeyPressed(key)\n                        Handler(Looper.getMainLooper()).postDelayed({\n                            isPopupVisible.value = false\n                        }, 250)\n                    }\n                )\n            },\n        contentAlignment = Alignment.Center\n    ) {\n        if (iconResourceId != null &amp;&amp; key.contentDescription != null) {\n            Icon(\n                painter = painterResource(id = iconResourceId),\n                contentDescription = key.contentDescription,\n                tint = textColor,\n                modifier = Modifier.size(26.dp)\n            )\n        } else {\n            when (key.label) {\n                &quot;?123&quot;, &quot;ABC&quot;, &quot;Space&quot; -&gt; AutoResizedText(\n                    text = key.label,\n                    color = textColor\n                )\n\n                else -&gt; Text(\n                    text = key.label,\n                    color = textColor,\n                    fontSize = dimensionResource(id = R.dimen.key_textSize).value.sp\n                )\n            }\n\n        }\n\n        if (isPopupVisible.value &amp;&amp; key.shouldShowPopUp) {\n            PopupScreen(\n                label = key.label,\n                offset = IntOffset(x = 0, y = -90)\n            )\n        }\n    }\n}\n\n\n@Preview\n@Composable\nfun CustomKeyPreview() {\n    CustomKey(\n        key = Key(&quot;f&quot;, 1F),\n        onKeyPressed = {},\n        onLongKeyPressed = {},\n        modifier = Modifier,\n        context = null,\n        onLongKeyPressedEnd = {},\n        onLayoutSwitchClick = {}\n    )\n}\n</code></pre>\n<p>And here is custom IME.</p>\n<pre><code>package com.soloftech.keyboard.presentation.service\n\n\nimport android.annotation.SuppressLint\nimport android.inputmethodservice.InputMethodService\nimport android.os.Build\nimport android.os.Handler\nimport android.os.Looper\nimport android.os.Vibrator\nimport android.os.VibratorManager\nimport android.text.TextUtils\nimport android.view.KeyEvent\nimport android.view.View\nimport android.view.inputmethod.InputMethodManager\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.platform.AbstractComposeView\nimport androidx.core.content.ContextCompat.getSystemService\nimport androidx.lifecycle.Lifecycle\nimport androidx.lifecycle.LifecycleOwner\nimport androidx.lifecycle.LifecycleRegistry\nimport androidx.lifecycle.ViewModelStore\nimport androidx.lifecycle.ViewModelStoreOwner\nimport androidx.lifecycle.ViewTreeLifecycleOwner\nimport androidx.lifecycle.ViewTreeViewModelStoreOwner\nimport androidx.savedstate.SavedStateRegistry\nimport androidx.savedstate.SavedStateRegistryController\nimport androidx.savedstate.SavedStateRegistryOwner\nimport androidx.savedstate.setViewTreeSavedStateRegistryOwner\nimport com.soloftech.keyboard.data.keyboard_layout.Key\nimport com.soloftech.keyboard.presentation.layout.CustomKeyboard\n\n\nclass CustomImeService : InputMethodService(), LifecycleOwner, ViewModelStoreOwner,\n    SavedStateRegistryOwner {\n\n    companion object {\n        var isCapsEnabled = false\n    }\n\n    private var isBackspaceKeyPressed = false\n    private val handler = Handler(Looper.getMainLooper())\n    private var deleteCharacterRunnable = object : Runnable {\n        override fun run() {\n            val inputConnection = currentInputConnection\n\n            if (inputConnection != null &amp;&amp; isBackspaceKeyPressed) {\n                val selectedText: CharSequence? = inputConnection.getSelectedText(0)\n\n                if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\n                    // There is selected text, so delete it\n                    inputConnection.commitText(&quot;&quot;, 1)\n                } else {\n                    // No selected text, delete the character to the left\n                    inputConnection.deleteSurroundingText(1, 0)\n                }\n\n                // Schedule the next deletion after 100 ms\n                handler.postDelayed(this, 100)\n            }\n        }\n    }\n\n    override fun onCreateInputView(): View {\n        val view = ComposeKeyboardView(this)\n\n        window!!.window!!.decorView.let { decorView -&gt;\n            ViewTreeLifecycleOwner.set(decorView, this)\n            ViewTreeViewModelStoreOwner.set(decorView, this)\n            view.setViewTreeSavedStateRegistryOwner(this)\n        }\n        view.let {\n            ViewTreeLifecycleOwner.set(it, this)\n            ViewTreeViewModelStoreOwner.set(it, this)\n            it.setViewTreeSavedStateRegistryOwner(this)\n        }\n        return view\n    }\n\n\n    fun doSomethingWith(\n        key: Key,\n        isLongPressed: Boolean\n    ) {\n        when (key.label) {\n            &quot;Space&quot; -&gt; {\n                if (isLongPressed) {\n                    val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n                    imm.showInputMethodPicker()\n                } else {\n                    currentInputConnection.commitText(&quot; &quot;, 1)\n                }\n            }\n\n            &quot;CAPS&quot; -&gt; {\n                isCapsEnabled = !isCapsEnabled\n            }\n\n            &quot;Done&quot; -&gt; {\n                currentInputConnection.sendKeyEvent(\n                    KeyEvent(\n                        KeyEvent.ACTION_DOWN,\n                        KeyEvent.KEYCODE_ENTER\n                    )\n                )\n            }\n\n            &quot;Delete&quot; -&gt; {\n                if (isLongPressed) {\n                    // Start character deletions when the key is long-pressed\n                    if (!isBackspaceKeyPressed) {\n                        isBackspaceKeyPressed = true\n                        deleteCharacterRunnable.run()\n                    }\n                } else {\n                    val inputConnection = currentInputConnection\n\n                    if (inputConnection != null) {\n                        val selectedText: CharSequence? = inputConnection.getSelectedText(0)\n\n                        if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\n                            // There is selected text, so delete it\n                            inputConnection.commitText(&quot;&quot;, 1)\n                        } else {\n                            // No selected text, delete the character to the left\n                            inputConnection.deleteSurroundingText(1, 0)\n                        }\n                    }\n                }\n            }\n\n            else -&gt; {\n                val inputConnection = currentInputConnection\n                if (inputConnection != null) {\n                    val label = key.label\n                    val uppercaseValue = if (isCapsEnabled) label.uppercase() else label\n                    inputConnection.commitText(uppercaseValue, 1)\n                }\n            }\n\n        }\n    }\n\n    fun longPressedStops() {\n        // Stop character deletions when the key is released\n        isBackspaceKeyPressed = false\n        handler.removeCallbacks(deleteCharacterRunnable)\n    }\n\n    //SaveStateRegistry Methods\n    private val savedStateRegistryVar = SavedStateRegistryController.create(this)\n\n    override val savedStateRegistry: SavedStateRegistry\n        get() = savedStateRegistryVar.savedStateRegistry\n\n    //Lifecycle Methods\n    private var lifecycleRegistry: LifecycleRegistry = LifecycleRegistry(this)\n\n    override fun getLifecycle(): Lifecycle {\n        return lifecycleRegistry\n    }\n\n    private fun handleLifecycleEvent(event: Lifecycle.Event) =\n        lifecycleRegistry.handleLifecycleEvent(event)\n\n    override fun onCreate() {\n        super.onCreate()\n        savedStateRegistryVar.performRestore(null)\n        lifecycleRegistry.handleLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    }\n\n\n    override fun onDestroy() {\n        super.onDestroy()\n        handleLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n    }\n\n    //ViewModelStore Methods\n    private val store = ViewModelStore()\n\n    override fun getViewModelStore(): ViewModelStore = store\n\n}\n\n@SuppressLint(&quot;ViewConstructor&quot;)\nclass ComposeKeyboardView(private val imeService: CustomImeService) :\n    AbstractComposeView(imeService) {\n\n    @Composable\n    override fun Content() {\n        CustomKeyboard(\n            imeService = imeService,\n            vibrator = vibrator,\n            context = context\n        )\n    }\n\n    private val vibrator: Vibrator by lazy {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            val vibratorManager = getSystemService(context, VibratorManager::class.java)\n            vibratorManager?.defaultVibrator ?: getSystemService(context, Vibrator::class.java)\n        } else {\n            getSystemService(context, Vibrator::class.java)\n        } as Vibrator\n    }\n\n}\n\n\n</code></pre>\n<p>I also runned a test in which i runned a runnable every 5 seconds and that log the keys of current layout and i noticed that it first returs qwerty layouy tham sybols layiut keys. MAybe that is the issue. HOW can i solve this.\nThanks.</p>\n"},{"tags":["java","string","split","numbers","character"],"comments":[{"owner":{"account_id":1090282,"reputation":4580,"user_id":1167210,"accept_rate":93,"display_name":"Marcelo"},"score":0,"creation_date":1329221628,"post_id":9276639,"comment_id":11694516,"body_markdown":"Out of curiosity, what&#39;s your use case for this?","body":"Out of curiosity, what&#39;s your use case for this?"},{"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"score":0,"creation_date":1329221642,"post_id":9276639,"comment_id":11694521,"body_markdown":"Possible duplicate to http://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character","body":"Possible duplicate to <a href=\"http://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character\" title=\"splitting a string at every n th character\">stackoverflow.com/questions/2297347/&hellip;</a>"},{"owner":{"account_id":4687309,"reputation":1639,"user_id":5058677,"accept_rate":50,"display_name":"Rumid"},"score":0,"creation_date":1505554850,"post_id":9276639,"comment_id":79468326,"body_markdown":"Possible duplicate of [Split string to equal length substrings in Java](https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java\">Split string to equal length substrings in Java</a>"},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1565029750,"post_id":9276639,"comment_id":101214683,"body_markdown":"LeetCode License Key Fromatting","body":"LeetCode License Key Fromatting"}],"answers":[{"tags":[],"owner":{"account_id":996872,"reputation":1494,"user_id":1012590,"display_name":"Suresh"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1329222184,"creation_date":1329221656,"answer_id":9276677,"question_id":9276639,"body_markdown":"Try this\r\n\r\n       \r\n     String text = &quot;how are you?&quot;;\r\n        String array[] = text.split(&quot; &quot;);\r\n\r\nOr you can use it below\r\n\r\n    List&lt;String&gt; list= new ArrayList&lt;String&gt;();\r\n    int index = 0;\r\n    while (index&lt;text.length()) {\r\n        list.add(text.substring(index, Math.min(index+4,text.length()));\r\n        index=index+4;\r\n    }","title":"Java: How to split a string by a number of characters?","body":"<p>Try this</p>\n\n<pre><code> String text = \"how are you?\";\n    String array[] = text.split(\" \");\n</code></pre>\n\n<p>Or you can use it below</p>\n\n<pre><code>List&lt;String&gt; list= new ArrayList&lt;String&gt;();\nint index = 0;\nwhile (index&lt;text.length()) {\n    list.add(text.substring(index, Math.min(index+4,text.length()));\n    index=index+4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"comment_count":0,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1497841925,"creation_date":1329221762,"answer_id":9276710,"question_id":9276639,"body_markdown":"Using [Guava][1]:\r\n\r\n\r\n    Iterable&lt;String&gt; result = Splitter.fixedLength(4).split(&quot;how are you?&quot;);\r\n    String[] parts = Iterables.toArray(result, String.class);\r\n\r\n\r\n[1]: http://google.github.io/guava/releases/22.0/api/docs/com/google/common/base/Splitter.html#fixedLength-int-","title":"Java: How to split a string by a number of characters?","body":"<p>Using <a href=\"http://google.github.io/guava/releases/22.0/api/docs/com/google/common/base/Splitter.html#fixedLength-int-\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>Iterable&lt;String&gt; result = Splitter.fixedLength(4).split(\"how are you?\");\nString[] parts = Iterables.toArray(result, String.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12980394,"reputation":1079,"user_id":11456044,"display_name":"Ariel"},"score":0,"creation_date":1600803822,"post_id":9276720,"comment_id":113202353,"body_markdown":"This snippet is elegant, even contemplates the case in which there are remaining letters in the end of the text, it was very helpful","body":"This snippet is elegant, even contemplates the case in which there are remaining letters in the end of the text, it was very helpful"}],"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"comment_count":1,"down_vote_count":0,"up_vote_count":80,"is_accepted":true,"score":80,"last_activity_date":1398967039,"creation_date":1329221808,"answer_id":9276720,"question_id":9276639,"body_markdown":"I think that what he wants is to have a string split into substrings of size 4. Then I would do this in a loop:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n    int index = 0;\r\n    while (index &lt; text.length()) {\r\n        strings.add(text.substring(index, Math.min(index + 4,text.length())));\r\n        index += 4;\r\n    }","title":"Java: How to split a string by a number of characters?","body":"<p>I think that what he wants is to have a string split into substrings of size 4. Then I would do this in a loop:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nint index = 0;\nwhile (index &lt; text.length()) {\n    strings.add(text.substring(index, Math.min(index + 4,text.length())));\n    index += 4;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"score":0,"creation_date":1329222081,"post_id":9276727,"comment_id":11694682,"body_markdown":"Ugh, say s.length() = 9, chunkSize = 4, you allocate array of 2, it should be 3.","body":"Ugh, say s.length() = 9, chunkSize = 4, you allocate array of 2, it should be 3."},{"owner":{"account_id":438557,"reputation":1676,"user_id":826897,"accept_rate":73,"display_name":"Gilthans"},"score":0,"creation_date":1329222270,"post_id":9276727,"comment_id":11694754,"body_markdown":"You&#39;re right, I fixed it. Isn&#39;t as elegant as I&#39;d thought at first :/","body":"You&#39;re right, I fixed it. Isn&#39;t as elegant as I&#39;d thought at first :/"}],"tags":[],"owner":{"account_id":438557,"reputation":1676,"user_id":826897,"accept_rate":73,"display_name":"Gilthans"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329222232,"creation_date":1329221849,"answer_id":9276727,"question_id":9276639,"body_markdown":"I don&#39;t think there&#39;s an out-of-the-box solution, but I&#39;d do something like this:\r\n\r\n    private String[] splitByNumber(String s, int chunkSize){\r\n        int chunkCount = (s.length() / chunkSize) + (s.length() % chunkSize == 0 ? 0 : 1);\r\n        String[] returnVal = new String[chunkCount];\r\n        for(int i=0;i&lt;chunkCount;i++){\r\n            returnVal[i] = s.substring(i*chunkSize, Math.min((i+1)*chunkSize-1, s.length());\r\n        }\r\n        return returnVal;\r\n    }\r\n\r\nUsage would be:\r\n\r\n    String[] textArray = splitByNumber(text, 4);\r\n\r\nEDIT: the substring actually shouldn&#39;t surpass the string length.","title":"Java: How to split a string by a number of characters?","body":"<p>I don't think there's an out-of-the-box solution, but I'd do something like this:</p>\n\n<pre><code>private String[] splitByNumber(String s, int chunkSize){\n    int chunkCount = (s.length() / chunkSize) + (s.length() % chunkSize == 0 ? 0 : 1);\n    String[] returnVal = new String[chunkCount];\n    for(int i=0;i&lt;chunkCount;i++){\n        returnVal[i] = s.substring(i*chunkSize, Math.min((i+1)*chunkSize-1, s.length());\n    }\n    return returnVal;\n}\n</code></pre>\n\n<p>Usage would be:</p>\n\n<pre><code>String[] textArray = splitByNumber(text, 4);\n</code></pre>\n\n<p>EDIT: the substring actually shouldn't surpass the string length.</p>\n"},{"tags":[],"owner":{"account_id":395649,"reputation":18444,"user_id":758708,"accept_rate":100,"display_name":"dku.rajkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329224880,"creation_date":1329222444,"answer_id":9276857,"question_id":9276639,"body_markdown":"This is the simplest solution i could think off.. try this\r\n\r\n\tpublic static String[] splitString(String str) {\r\n        if(str == null) return null;\r\n\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tfor(int i=0;i &lt; str.length();i=i+4){\r\n\t\t\tint endindex = Math.min(i+4,str.length());\r\n\t\t\tlist.add(str.substring(i, endindex));\r\n\t\t}\r\n\t  return list.toArray(new String[list.size()]);\r\n\t}\r\n\r\n\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>This is the simplest solution i could think off.. try this</p>\n\n<pre><code>public static String[] splitString(String str) {\n    if(str == null) return null;\n\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    for(int i=0;i &lt; str.length();i=i+4){\n        int endindex = Math.min(i+4,str.length());\n        list.add(str.substring(i, endindex));\n    }\n  return list.toArray(new String[list.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329222513,"creation_date":1329222513,"answer_id":9276867,"question_id":9276639,"body_markdown":"\r\n\r\nQuick Hack\r\n\r\n\r\n    private String[] splitByNumber(String s, int size) {\r\n        if(s == null || size &lt;= 0)\r\n            return null;\r\n        int chunks = s.length() / size + ((s.length() % size &gt; 0) ? 1 : 0);\r\n        String[] arr = new String[chunks];\r\n        for(int i = 0, j = 0, l = s.length(); i &lt; l; i += size, j++)\r\n            arr[j] = s.substring(i, Math.min(l, i + size));\r\n        return arr;\r\n    }","title":"Java: How to split a string by a number of characters?","body":"<p>Quick Hack</p>\n\n<pre><code>private String[] splitByNumber(String s, int size) {\n    if(s == null || size &lt;= 0)\n        return null;\n    int chunks = s.length() / size + ((s.length() % size &gt; 0) ? 1 : 0);\n    String[] arr = new String[chunks];\n    for(int i = 0, j = 0, l = s.length(); i &lt; l; i += size, j++)\n        arr[j] = s.substring(i, Math.min(l, i + size));\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269689,"reputation":4064,"user_id":559185,"accept_rate":68,"display_name":"sampathpremarathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329225148,"creation_date":1329225148,"answer_id":9277456,"question_id":9276639,"body_markdown":"Using simple java primitives and loops.\r\n\r\n    private static String[] splitByNumber(String text, int number) {\r\n    \r\n            int inLength = text.length();\r\n            int arLength = inLength / number;\r\n            int left=inLength%number;\r\n            if(left&gt;0){++arLength;}\r\n            String ar[] = new String[arLength];\r\n                String tempText=text;\r\n                for (int x = 0; x &lt; arLength; ++x) {\r\n    \r\n                    if(tempText.length()&gt;number){\r\n                    ar[x]=tempText.substring(0, number);\r\n                    tempText=tempText.substring(number);\r\n                    }else{\r\n                        ar[x]=tempText;\r\n                    }\r\n                    \r\n                }\r\n            \r\n    \r\n            return ar;\r\n        }\r\n\r\n\r\nUsage : `String ar[]=splitByNumber(&quot;nalaka&quot;, 2);`\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>Using simple java primitives and loops.</p>\n\n<pre><code>private static String[] splitByNumber(String text, int number) {\n\n        int inLength = text.length();\n        int arLength = inLength / number;\n        int left=inLength%number;\n        if(left&gt;0){++arLength;}\n        String ar[] = new String[arLength];\n            String tempText=text;\n            for (int x = 0; x &lt; arLength; ++x) {\n\n                if(tempText.length()&gt;number){\n                ar[x]=tempText.substring(0, number);\n                tempText=tempText.substring(number);\n                }else{\n                    ar[x]=tempText;\n                }\n\n            }\n\n\n        return ar;\n    }\n</code></pre>\n\n<p>Usage : <code>String ar[]=splitByNumber(\"nalaka\", 2);</code></p>\n"},{"tags":[],"owner":{"account_id":391375,"reputation":1507,"user_id":751992,"display_name":"Sampisa"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1446271255,"creation_date":1446271255,"answer_id":33448572,"question_id":9276639,"body_markdown":"What about a regexp?\r\n\r\n    public static String[] splitByNumber(String str, int size) {\r\n        return (size&lt;1 || str==null) ? null : str.split(&quot;(?&lt;=\\\\G.{&quot;+size+&quot;})&quot;);\r\n    }\r\n\r\nSee https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java","title":"Java: How to split a string by a number of characters?","body":"<p>What about a regexp?</p>\n\n<pre><code>public static String[] splitByNumber(String str, int size) {\n    return (size&lt;1 || str==null) ? null : str.split(\"(?&lt;=\\\\G.{\"+size+\"})\");\n}\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java\">Split string to equal length substrings in Java</a></p>\n"},{"tags":[],"owner":{"account_id":2300099,"reputation":33,"user_id":2020546,"accept_rate":50,"display_name":"Mohamed kazzali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527236481,"creation_date":1527231226,"answer_id":50523158,"question_id":9276639,"body_markdown":"Try this solution,   \r\n\r\n    public static String[]chunkStringByLength(String inputString, int numOfChar) {\r\n    \tif (inputString == null || numOfChar &lt;= 0)\r\n    \t\treturn null;\r\n    \telse if (inputString.length() == numOfChar)\r\n    \t\treturn new String[]{\r\n    \t\t\tinputString\r\n    \t\t};\r\n    \r\n    \tint chunkLen = (int)Math.ceil(inputString.length() / numOfChar);\r\n    \tString[]chunks = new String[chunkLen + 1];\r\n    \tfor (int i = 0; i &lt;= chunkLen; i++) {\r\n    \t\tint endLen = numOfChar;\r\n    \t\tif (i == chunkLen) {\r\n    \t\t\tendLen = inputString.length() % numOfChar;\r\n    \t\t}\r\n    \t\tchunks[i] = new String(inputString.getBytes(), i * numOfChar, endLen);\r\n    \t}\r\n    \r\n    \treturn chunks;\r\n    }\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>Try this solution,   </p>\n\n<pre><code>public static String[]chunkStringByLength(String inputString, int numOfChar) {\n    if (inputString == null || numOfChar &lt;= 0)\n        return null;\n    else if (inputString.length() == numOfChar)\n        return new String[]{\n            inputString\n        };\n\n    int chunkLen = (int)Math.ceil(inputString.length() / numOfChar);\n    String[]chunks = new String[chunkLen + 1];\n    for (int i = 0; i &lt;= chunkLen; i++) {\n        int endLen = numOfChar;\n        if (i == chunkLen) {\n            endLen = inputString.length() % numOfChar;\n        }\n        chunks[i] = new String(inputString.getBytes(), i * numOfChar, endLen);\n    }\n\n    return chunks;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531632664,"creation_date":1531632664,"answer_id":51345533,"question_id":9276639,"body_markdown":"Here&#39;s a succinct implementation using Java8 streams:\r\n\r\n\r\n    String text = &quot;how are you?&quot;;\r\n    final AtomicInteger counter = new AtomicInteger(0);\r\n    Collection&lt;String&gt; strings = text.chars()\r\n                                        .mapToObj(i -&gt; String.valueOf((char)i) )\r\n                                        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 4\r\n                                                                    ,Collectors.joining()))\r\n                                        .values();\r\n\r\nOutput:\r\n\r\n    [how , are , you?]","title":"Java: How to split a string by a number of characters?","body":"<p>Here's a succinct implementation using Java8 streams:</p>\n\n<pre><code>String text = \"how are you?\";\nfinal AtomicInteger counter = new AtomicInteger(0);\nCollection&lt;String&gt; strings = text.chars()\n                                    .mapToObj(i -&gt; String.valueOf((char)i) )\n                                    .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 4\n                                                                ,Collectors.joining()))\n                                    .values();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[how , are , you?]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4366153,"reputation":2931,"user_id":3561889,"accept_rate":59,"display_name":"Ucdemir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585585882,"creation_date":1585585882,"answer_id":60935107,"question_id":9276639,"body_markdown":"My application uses text to speech!\r\nHere is my algorithm, to split by &quot;dot&quot; and conconate string  if string length less then limit\r\n \r\n \r\n\r\n\r\n    String[] text = sentence.split(&quot;\\\\.&quot;);\r\n     ArrayList&lt;String&gt; realText =  sentenceSplitterWithCount(text);\r\n\r\nFunction sentenceSplitterWithCount: (I concanate string lf less than 100 chars lenght, It depends on you)\r\n\r\n\r\n    private ArrayList&lt;String&gt; sentenceSplitterWithCount(String[] splittedWithDot){\r\n    \r\n            ArrayList&lt;String&gt; newArticleArray = new ArrayList&lt;&gt;();\r\n            String item = &quot;&quot;;\r\n            for(String sentence : splittedWithDot){\r\n    \r\n                item += DataManager.setFirstCharCapitalize(sentence)+&quot;.&quot;;\r\n    \r\n                if(item.length() &gt; 100){\r\n                    newArticleArray.add(item);\r\n                    item = &quot;&quot;;\r\n                }\r\n    \r\n            }\r\n    \r\n            for (String a : newArticleArray){\r\n                Log.d(&quot;tts&quot;, a);\r\n    \r\n            }\r\n    \r\n            return newArticleArray;\r\n        }\r\n\r\n\r\nfunction setFirstCharCapitalize just capitalize First letter: I think, you dont need it, anyway\r\n\r\n       public static String setFirstCharCapitalize(String input) {\r\n    \r\n    \r\n            if(input.length()&gt;2) {\r\n                String k = checkStringStartWithSpace(input);\r\n                input = k.substring(0, 1).toUpperCase() + k.substring(1).toLowerCase();\r\n            }\r\n            \r\n            return input;\r\n        }","title":"Java: How to split a string by a number of characters?","body":"<p>My application uses text to speech!\nHere is my algorithm, to split by \"dot\" and conconate string  if string length less then limit</p>\n\n<pre><code>String[] text = sentence.split(\"\\\\.\");\n ArrayList&lt;String&gt; realText =  sentenceSplitterWithCount(text);\n</code></pre>\n\n<p>Function sentenceSplitterWithCount: (I concanate string lf less than 100 chars lenght, It depends on you)</p>\n\n<pre><code>private ArrayList&lt;String&gt; sentenceSplitterWithCount(String[] splittedWithDot){\n\n        ArrayList&lt;String&gt; newArticleArray = new ArrayList&lt;&gt;();\n        String item = \"\";\n        for(String sentence : splittedWithDot){\n\n            item += DataManager.setFirstCharCapitalize(sentence)+\".\";\n\n            if(item.length() &gt; 100){\n                newArticleArray.add(item);\n                item = \"\";\n            }\n\n        }\n\n        for (String a : newArticleArray){\n            Log.d(\"tts\", a);\n\n        }\n\n        return newArticleArray;\n    }\n</code></pre>\n\n<p>function setFirstCharCapitalize just capitalize First letter: I think, you dont need it, anyway</p>\n\n<pre><code>   public static String setFirstCharCapitalize(String input) {\n\n\n        if(input.length()&gt;2) {\n            String k = checkStringStartWithSpace(input);\n            input = k.substring(0, 1).toUpperCase() + k.substring(1).toLowerCase();\n        }\n\n        return input;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10099125,"reputation":50,"user_id":7463534,"display_name":"Matouš Klugar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694688206,"creation_date":1694688206,"answer_id":77104141,"question_id":9276639,"body_markdown":"By far the most elegant solution to split string every X number of characters is using regexes\r\n\r\n    String text = &quot;how are you?&quot;;\r\n    String[] textArray = text.split(&quot;(?&lt;=\\\\G.{4})&quot;);\r\n\r\nresult:    [&quot;how &quot;, &quot;are &quot;, &quot;you?&quot;]\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>By far the most elegant solution to split string every X number of characters is using regexes</p>\n<pre><code>String text = &quot;how are you?&quot;;\nString[] textArray = text.split(&quot;(?&lt;=\\\\G.{4})&quot;);\n</code></pre>\n<p>result:    [&quot;how &quot;, &quot;are &quot;, &quot;you?&quot;]</p>\n"}],"owner":{"account_id":1247602,"reputation":5390,"user_id":1208733,"accept_rate":26,"display_name":"Meroelyth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146180,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":9276720,"answer_count":12,"score":40,"last_activity_date":1694688206,"creation_date":1329221478,"question_id":9276639,"body_markdown":"I tried to search online to solve this question but I didn&#39;t found anything.\r\n\r\nI wrote the following abstract code to explain what I&#39;m asking:\r\n\r\n    String text = &quot;how are you?&quot;;\r\n\r\n    String[] textArray= text.splitByNumber(4); //this method is what I&#39;m asking\r\n    textArray[0]; //it contains &quot;how &quot;\r\n    textArray[1]; //it contains &quot;are &quot;\r\n    textArray[2]; //it contains &quot;you?&quot;\r\n\r\nThe method splitByNumber splits the string &quot;text&quot; every 4 characters. How I can create this method??\r\n\r\nMany Thanks\r\n\r\n    ","title":"Java: How to split a string by a number of characters?","body":"<p>I tried to search online to solve this question but I didn't found anything.</p>\n\n<p>I wrote the following abstract code to explain what I'm asking:</p>\n\n<pre><code>String text = \"how are you?\";\n\nString[] textArray= text.splitByNumber(4); //this method is what I'm asking\ntextArray[0]; //it contains \"how \"\ntextArray[1]; //it contains \"are \"\ntextArray[2]; //it contains \"you?\"\n</code></pre>\n\n<p>The method splitByNumber splits the string \"text\" every 4 characters. How I can create this method??</p>\n\n<p>Many Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9949,"page":185,"page_size":100}
