{"items":[{"tags":["java","dependency-injection","javabeans","shiro","java-ee-8"],"comments":[{"owner":{"account_id":383130,"reputation":2081,"user_id":6415199,"display_name":"Brian Demers"},"score":0,"creation_date":1681158077,"post_id":75967366,"comment_id":134008538,"body_markdown":"What object is null? Can you include the stacktrace?\nDo the equivalent `Subject.hasPermissions(*)` methods work for you?","body":"What object is null? Can you include the stacktrace? Do the equivalent <code>Subject.hasPermissions(*)</code> methods work for you?"},{"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"score":0,"creation_date":1681158433,"post_id":75967366,"comment_id":134008614,"body_markdown":"The `PermissionRoles`  Object, looks like Apache Shiro is not configured with JAVA EE CDI. I think I need to handle it manually, if you can help with this approach please","body":"The <code>PermissionRoles</code>  Object, looks like Apache Shiro is not configured with JAVA EE CDI. I think I need to handle it manually, if you can help with this approach please"},{"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"score":0,"creation_date":1681165128,"post_id":75967366,"comment_id":134009779,"body_markdown":"So I was right, found this fix here https://stackoverflow.com/questions/15605038/unable-to-inject-my-dao-in-a-custom-apache-shiro-authorizingrealm ... And I was able to conifgure Shiro with JAVA EE CDI","body":"So I was right, found this fix here <a href=\"https://stackoverflow.com/questions/15605038/unable-to-inject-my-dao-in-a-custom-apache-shiro-authorizingrealm\" title=\"unable to inject my dao in a custom apache shiro authorizingrealm\">stackoverflow.com/questions/15605038/&hellip;</a> ... And I was able to conifgure Shiro with JAVA EE CDI"}],"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680983207,"creation_date":1680983207,"question_id":75967366,"body_markdown":"I am using Apache Shiro for Authentication/Authorization. I am good with the Authentication part using signed JWT. But, as for the auth part I am facing a NULL pointer exception on when accessing the object. Please guide me where I am mistaken...\r\n\r\nThis class implements **RolePermissionResolver** from Apache shiro, and whenever a request is fired it needs to pass through the overriden function if the REST request is annotated with **@RequiresPermissions()** or **@RequiresRoles()**\r\n\r\n```\r\n@ApplicationScoped\r\n@Default\r\npublic class JpaRolePermissionResolver implements RolePermissionResolver {\r\n  @Inject\r\n  PermissionRoles permissionRoles;\r\n  @Override\r\n  public Collection&lt;Permission&gt; resolvePermissionsInRole(String roleString) {\r\n    /*PermissionRoles permissionRoles = new PermissionRoles();\r\n    permissionRoles.getAllPermissionsForRole();*/\r\n    permissionRoles.getAllPermissionsForRole();\r\n    if(roleString.equals(&quot;adminplus&quot;)) {\r\n      return List.of(new WildcardPermission(&quot;canupdate:read&quot;));\r\n    } else if(roleString.equals(&quot;mod&quot;)) {\r\n      return  List.of(\r\n        new WildcardPermission(&quot;troopers:read&quot;),\r\n        new WildcardPermission(&quot;troopers:create&quot;),\r\n        new WildcardPermission(&quot;troopers:update&quot;)\r\n        //, ... but not delete.\r\n      );\r\n    } else if(roleString.equals(&quot;user&quot;)) {\r\n      return List.of(new WildcardPermission(&quot;troopers:read&quot;));\r\n    }\r\n    return List.of();\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic interface IRolePermission extends Serializable {\r\n   HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole();\r\n}\r\n```\r\n\r\n```\r\n@Stateless\r\n@LocalBean\r\npublic class PermissionRoles implements IRolePermission {\r\n  @PersistenceContext(unitName = &quot;default&quot;)\r\n  EntityManager em;\r\n  private String role;\r\n  private String permission;\r\n\r\n  public PermissionRoles() {\r\n  }\r\n  public PermissionRoles(String role, String permission) {\r\n    this.role = role;\r\n    this.permission = permission;\r\n  }\r\n\r\n  public String getRole() {\r\n    return role;\r\n  }\r\n\r\n  public void setRole(String role) {\r\n    this.role = role;\r\n  }\r\n\r\n  public String getPermission() {\r\n    return permission;\r\n  }\r\n\r\n  public void setPermission(String permission) {\r\n    this.permission = permission;\r\n  }\r\n\r\n  @Override\r\n  public HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole() {\r\n    String sqlQuery = &quot;SELECT er.name as role_name, ARRAY_TO_STRING(ARRAY_AGG(ep.name), &#39;,&#39;) as permission_name &quot; +\r\n      &quot;FROM ecommerce_roles er &quot; +\r\n      &quot;JOIN ecommerce_role_permission erp ON er.id = erp.role_id &quot; +\r\n      &quot;JOIN ecommerce_permissions ep ON ep.id = erp.permission_id &quot; +\r\n      &quot;WHERE er.status = 1 AND ep.status = 1 &quot; +\r\n      &quot;GROUP BY role_name&quot;;\r\n    Query query = em.createNativeQuery(sqlQuery);\r\n    List&lt;Object[]&gt; rolesPermission = query.getResultList();\r\n    System.out.println(sqlQuery);\r\n    HashMap&lt;String, PermissionRoles&gt; permissionRoles = new HashMap&lt;&gt;();\r\n    for(Object[] object : rolesPermission) {\r\n      permissionRoles.put((String) object[0],new PermissionRoles((String) object[0], (String) object[1]));\r\n    }\r\n    return permissionRoles;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@Inject\r\nPermissionRoles permissionRoles;\r\n\r\n@GET\r\n@Produces(&quot;text/plain&quot;)\r\n@RequiresPermissions(&quot;canupdate:read&quot;)\r\npublic String hello() {\r\n  permissionRoles.getAllPermissionsForRole();\r\n  return &quot;User resource&quot;;\r\n}\r\n```\r\n\r\nKnowing that when calling **permissionRoles.getAllPermissionsForRole();** in the REST Request i.e. the **hello** function is working properly, but not in **JpaRolePermissionResolver**, any idea why ? please help !","title":"Why I am getting NULL pointer Exception when injecting the bean as follows?","body":"<p>I am using Apache Shiro for Authentication/Authorization. I am good with the Authentication part using signed JWT. But, as for the auth part I am facing a NULL pointer exception on when accessing the object. Please guide me where I am mistaken...</p>\n<p>This class implements <strong>RolePermissionResolver</strong> from Apache shiro, and whenever a request is fired it needs to pass through the overriden function if the REST request is annotated with <strong>@RequiresPermissions()</strong> or <strong>@RequiresRoles()</strong></p>\n<pre><code>@ApplicationScoped\n@Default\npublic class JpaRolePermissionResolver implements RolePermissionResolver {\n  @Inject\n  PermissionRoles permissionRoles;\n  @Override\n  public Collection&lt;Permission&gt; resolvePermissionsInRole(String roleString) {\n    /*PermissionRoles permissionRoles = new PermissionRoles();\n    permissionRoles.getAllPermissionsForRole();*/\n    permissionRoles.getAllPermissionsForRole();\n    if(roleString.equals(&quot;adminplus&quot;)) {\n      return List.of(new WildcardPermission(&quot;canupdate:read&quot;));\n    } else if(roleString.equals(&quot;mod&quot;)) {\n      return  List.of(\n        new WildcardPermission(&quot;troopers:read&quot;),\n        new WildcardPermission(&quot;troopers:create&quot;),\n        new WildcardPermission(&quot;troopers:update&quot;)\n        //, ... but not delete.\n      );\n    } else if(roleString.equals(&quot;user&quot;)) {\n      return List.of(new WildcardPermission(&quot;troopers:read&quot;));\n    }\n    return List.of();\n  }\n}\n\n</code></pre>\n<pre><code>public interface IRolePermission extends Serializable {\n   HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole();\n}\n</code></pre>\n<pre><code>@Stateless\n@LocalBean\npublic class PermissionRoles implements IRolePermission {\n  @PersistenceContext(unitName = &quot;default&quot;)\n  EntityManager em;\n  private String role;\n  private String permission;\n\n  public PermissionRoles() {\n  }\n  public PermissionRoles(String role, String permission) {\n    this.role = role;\n    this.permission = permission;\n  }\n\n  public String getRole() {\n    return role;\n  }\n\n  public void setRole(String role) {\n    this.role = role;\n  }\n\n  public String getPermission() {\n    return permission;\n  }\n\n  public void setPermission(String permission) {\n    this.permission = permission;\n  }\n\n  @Override\n  public HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole() {\n    String sqlQuery = &quot;SELECT er.name as role_name, ARRAY_TO_STRING(ARRAY_AGG(ep.name), ',') as permission_name &quot; +\n      &quot;FROM ecommerce_roles er &quot; +\n      &quot;JOIN ecommerce_role_permission erp ON er.id = erp.role_id &quot; +\n      &quot;JOIN ecommerce_permissions ep ON ep.id = erp.permission_id &quot; +\n      &quot;WHERE er.status = 1 AND ep.status = 1 &quot; +\n      &quot;GROUP BY role_name&quot;;\n    Query query = em.createNativeQuery(sqlQuery);\n    List&lt;Object[]&gt; rolesPermission = query.getResultList();\n    System.out.println(sqlQuery);\n    HashMap&lt;String, PermissionRoles&gt; permissionRoles = new HashMap&lt;&gt;();\n    for(Object[] object : rolesPermission) {\n      permissionRoles.put((String) object[0],new PermissionRoles((String) object[0], (String) object[1]));\n    }\n    return permissionRoles;\n  }\n}\n</code></pre>\n<pre><code>@Inject\nPermissionRoles permissionRoles;\n\n@GET\n@Produces(&quot;text/plain&quot;)\n@RequiresPermissions(&quot;canupdate:read&quot;)\npublic String hello() {\n  permissionRoles.getAllPermissionsForRole();\n  return &quot;User resource&quot;;\n}\n</code></pre>\n<p>Knowing that when calling <strong>permissionRoles.getAllPermissionsForRole();</strong> in the REST Request i.e. the <strong>hello</strong> function is working properly, but not in <strong>JpaRolePermissionResolver</strong>, any idea why ? please help !</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680941702,"post_id":75964079,"comment_id":133982185,"body_markdown":"`getResourceAsStream` loads data from the classpath, likely from the WAR itself or one of the libraries in the WAR. This will usually be the same data until you replace it by redeploying. If you want to load data from a **file**, you should use `Files.newInputStream` with the path to the file.","body":"<code>getResourceAsStream</code> loads data from the classpath, likely from the WAR itself or one of the libraries in the WAR. This will usually be the same data until you replace it by redeploying. If you want to load data from a <b>file</b>, you should use <code>Files.newInputStream</code> with the path to the file."}],"answers":[{"tags":[],"owner":{"account_id":15629092,"reputation":1,"user_id":11275860,"display_name":"Ankit Basrur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680976460,"creation_date":1680976460,"answer_id":75966843,"question_id":75964079,"body_markdown":"Issue resolved by using `File file = new File(&quot;sample.xlsx&quot;);`\r\n\r\nThis worked as it loads the file instantaneously, whereas rest of the filereader methods load the resource from the classpath just once.","title":"Spring boot returning old excel sheet data","body":"<p>Issue resolved by using <code>File file = new File(&quot;sample.xlsx&quot;);</code></p>\n<p>This worked as it loads the file instantaneously, whereas rest of the filereader methods load the resource from the classpath just once.</p>\n"}],"owner":{"account_id":15629092,"reputation":1,"user_id":11275860,"display_name":"Ankit Basrur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680982975,"creation_date":1680941533,"question_id":75964079,"body_markdown":"I want to create a `function` to get the latest Excel data from a server on which my `Spring Boot` application is running. However, my method is returning old data from the time when my `Tomcat` was started. Kindly suggest ways to implement it.\r\n\r\nMy code:\r\n\r\n```java\r\n@GetMapping(&quot;/download&quot;)\r\npublic ResponseEntity download() {\r\n    String fileName = &quot;/sample.xlsx&quot;;\r\n    InputStream is = this.getClass().getResourceAsStream(fileName);\r\n\r\n    try {\r\n        return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; fileName=&quot; + fileName)  .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;)).body(IOUtils.toByteArray(is));\r\n    } catch (IOException e) {\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n    }\r\n}\r\n```","title":"Spring boot returning old excel sheet data","body":"<p>I want to create a <code>function</code> to get the latest Excel data from a server on which my <code>Spring Boot</code> application is running. However, my method is returning old data from the time when my <code>Tomcat</code> was started. Kindly suggest ways to implement it.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/download&quot;)\npublic ResponseEntity download() {\n    String fileName = &quot;/sample.xlsx&quot;;\n    InputStream is = this.getClass().getResourceAsStream(fileName);\n\n    try {\n        return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; fileName=&quot; + fileName)  .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;)).body(IOUtils.toByteArray(is));\n    } catch (IOException e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","object","hashtable","contains","hashset"],"comments":[{"owner":{"account_id":103283,"reputation":872,"user_id":276712,"accept_rate":93,"display_name":"user276712"},"score":0,"creation_date":1266703329,"post_id":2303875,"comment_id":2269954,"body_markdown":"thanks everyone! My object actually contains a linked list i need to update frequently, so i think i&#39;m going to just go with HashTable rather than do an expensive iteration for every object update.","body":"thanks everyone! My object actually contains a linked list i need to update frequently, so i think i&#39;m going to just go with HashTable rather than do an expensive iteration for every object update."}],"answers":[{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1266741922,"creation_date":1266702909,"answer_id":2303905,"question_id":2303875,"body_markdown":"You can remove an element and add a different one.\r\n\r\nModifying an object while it is in a hash set is a recipe for disaster (if the modification changes the hash value or equality behavior).","title":"how to find and return objects in java hashset","body":"<p>You can remove an element and add a different one.</p>\n\n<p>Modifying an object while it is in a hash set is a recipe for disaster (if the modification changes the hash value or equality behavior).</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266703015,"creation_date":1266703015,"answer_id":2303908,"question_id":2303875,"body_markdown":"You can iterate through the set to find your object.\r\n\r\nA word of warning from the [API doc][1] though:\r\n\r\n**&quot;Note: Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.&quot;**\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html","title":"how to find and return objects in java hashset","body":"<p>You can iterate through the set to find your object.</p>\n\n<p>A word of warning from the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">API doc</a> though:</p>\n\n<p><strong>\"Note: Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.\"</strong></p>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1266703044,"creation_date":1266703044,"answer_id":2303910,"question_id":2303875,"body_markdown":"To quote the source of the stock Sun java.util.HashSet:\r\n\r\n    public class HashSet&lt;E&gt;\r\n        extends AbstractSet&lt;E&gt;\r\n        implements Set&lt;E&gt;, Cloneable, java.io.Serializable\r\n    {\r\n        static final long serialVersionUID = -5024744406713321676L;\r\n    \r\n        private transient HashMap&lt;E,Object&gt; map;\r\n\r\nSo you are paying for a map, you might as well use it.\r\n","title":"how to find and return objects in java hashset","body":"<p>To quote the source of the stock Sun java.util.HashSet:</p>\n\n<pre><code>public class HashSet&lt;E&gt;\n    extends AbstractSet&lt;E&gt;\n    implements Set&lt;E&gt;, Cloneable, java.io.Serializable\n{\n    static final long serialVersionUID = -5024744406713321676L;\n\n    private transient HashMap&lt;E,Object&gt; map;\n</code></pre>\n\n<p>So you are paying for a map, you might as well use it.</p>\n"},{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680982821,"creation_date":1266703096,"answer_id":2303914,"question_id":2303875,"body_markdown":"    Object oldobj; //object to modify\r\n    if (hashset.remove(oldobj)) {\r\n       //\r\n       // the following executed only if the object is already in the set\r\n       //\r\n       Object newobj = modify(obj); // get a modified copy\r\n       hashset.add(newobj);\r\n    }","title":"how to find and return objects in java hashset","body":"<pre><code>Object oldobj; //object to modify\nif (hashset.remove(oldobj)) {\n   //\n   // the following executed only if the object is already in the set\n   //\n   Object newobj = modify(obj); // get a modified copy\n   hashset.add(newobj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21136,"reputation":2453,"user_id":51162,"accept_rate":70,"display_name":"kovica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266703149,"creation_date":1266703149,"answer_id":2303917,"question_id":2303875,"body_markdown":"Something like:\r\n\r\n    MyObject obj = new MyObject();\r\n    HashSet hashSet = new HashSet();\r\n    hashSet.add(obj);\r\n    \r\n    if (hashSet.contains(obj) == true) {\r\n        hashSet.remove(obj);\r\n        obj.setSomething();\r\n        hashSet.add(obj);\r\n    }","title":"how to find and return objects in java hashset","body":"<p>Something like:</p>\n\n<pre><code>MyObject obj = new MyObject();\nHashSet hashSet = new HashSet();\nhashSet.add(obj);\n\nif (hashSet.contains(obj) == true) {\n    hashSet.remove(obj);\n    obj.setSomething();\n    hashSet.add(obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1992664,"reputation":25,"user_id":1786336,"accept_rate":75,"display_name":"ccol002"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1359442521,"creation_date":1359442521,"answer_id":14577274,"question_id":2303875,"body_markdown":"I encountered the same problem and came up with the following solution (it should implement the Set interface but not all methods are here)\r\n\r\n    public class MySet&lt;T&gt; implements Set&lt;T&gt;{\r\n    \r\n    \tprivate HashMap&lt;T,T&gt; items = new HashMap&lt;T,T&gt;();\r\n    \r\n    \r\n    \tpublic boolean contains(Object item) \r\n    \t{\r\n    \t\treturn items.containsKey(item);\r\n    \t}\r\n    \r\n    \tpublic boolean add(T item) \r\n    \t{\r\n    \t\tif (items.containsKey(item))\r\n    \t\t\treturn false;\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\titems.put(item, item);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic T get(T item) \r\n    \t{\r\n    \t\treturn items.get(item);\r\n    \t}\r\n    }\r\n\r\n\r\n    ","title":"how to find and return objects in java hashset","body":"<p>I encountered the same problem and came up with the following solution (it should implement the Set interface but not all methods are here)</p>\n\n<pre><code>public class MySet&lt;T&gt; implements Set&lt;T&gt;{\n\n    private HashMap&lt;T,T&gt; items = new HashMap&lt;T,T&gt;();\n\n\n    public boolean contains(Object item) \n    {\n        return items.containsKey(item);\n    }\n\n    public boolean add(T item) \n    {\n        if (items.containsKey(item))\n            return false;\n        else\n        {\n            items.put(item, item);\n            return true;\n        }\n    }\n\n    public T get(T item) \n    {\n        return items.get(item);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":103283,"reputation":872,"user_id":276712,"accept_rate":93,"display_name":"user276712"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38239,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":2303905,"answer_count":6,"score":12,"last_activity_date":1680982821,"creation_date":1266702612,"question_id":2303875,"body_markdown":"According to the HashSet javadoc, HashSet.contains only returns a boolean. How can I &quot;find&quot; an object in a hashSet and modify it (it&#39;s not a primitive data type)?\r\n\r\nI see that HashTable has a get() method, but I would prefer to use the set.","title":"how to find and return objects in java hashset","body":"<p>According to the HashSet javadoc, HashSet.contains only returns a boolean. How can I \"find\" an object in a hashSet and modify it (it's not a primitive data type)?</p>\n\n<p>I see that HashTable has a get() method, but I would prefer to use the set.</p>\n"},{"tags":["java","gradle","antlr","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1680997827,"post_id":75967291,"comment_id":133988810,"body_markdown":"Outside of Gradle, the tool works fine for this scenario: just make two calls to the tool with different `-o` and `-lib` options. (It would be best if your code generator should not be hardwiring the package name via `@header`. It should use the `-package` option on the tool call instead.) One call to the tool cannot possibly work because the .tokens files collide, and duplicate options to the tool have a &quot;last one wins&quot; semantics. The problem is likely that this is not a scenario the plugin can handle.","body":"Outside of Gradle, the tool works fine for this scenario: just make two calls to the tool with different <code>-o</code> and <code>-lib</code> options. (It would be best if your code generator should not be hardwiring the package name via <code>@header</code>. It should use the <code>-package</code> option on the tool call instead.) One call to the tool cannot possibly work because the .tokens files collide, and duplicate options to the tool have a &quot;last one wins&quot; semantics. The problem is likely that this is not a scenario the plugin can handle."}],"owner":{"account_id":28246634,"reputation":11,"user_id":21593544,"display_name":"Sapo Enojado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680982183,"creation_date":1680982183,"question_id":75967291,"body_markdown":"Consider two ANTLR grammars in a directory structure like the following:\r\n\r\n```\r\nantlr-4.12.0-complete.jar\r\ngenerated-code/\r\ngrammars/\r\n  com/\r\n    example/\r\n      version1/\r\n        Grammar.g4\r\n      version2/\r\n        Grammar.g4\r\n```\r\n\r\nThe idea is to keep around a parser for each version of a grammar for backwards compatibility. The grammars have the same name, but are not identical and are in different packages:\r\n\r\n```\r\nGrammar.g4 (version 1)\r\n----------------------\r\ngrammar Grammar;\r\n\r\n@header {\r\npackage com.example.version1;\r\n}\r\n\r\nstart: &#39;abc&#39;.*?&#39;def&#39;;\r\n```\r\n\r\n```\r\nGrammar.g4 (version 2)\r\n----------------------\r\ngrammar Grammar;\r\n\r\n@header {\r\npackage com.example.version2;\r\n}\r\n\r\nstart: &#39;qrs&#39;.*?&#39;tuv&#39;;\r\n```\r\n\r\nA command like\r\n\r\n```\r\ngrammars/&gt; java -jar ../antlr-4.12.0-complete.jar -o ../generated-code ./com/example/version1/Grammar.g4 ./com/example/version2/Grammar.g4\r\n```\r\n\r\nresults in the following:\r\n\r\n```\r\ngenerated-code/\r\n  com/\r\n    example/\r\n      version1/\r\n        GrammarLexer.java\r\n        GrammarParser.java\r\n        ...\r\n```\r\n\r\n**There is no `version2`.** The cause appears to be in ANTLR&#39;s `Tool` class, in\r\n\r\n`public List&lt;GrammarRootAST&gt; sortGrammarByTokenVocab(List&lt;String&gt; fileNames)`\r\n\r\nwhere grammars are collected by name only. The list of filenames contains two grammars, but the return value contains only one AST.\r\n\r\nObviously, there are several easy workarounds - (1) give the grammars different names, (2) run the tool twice, or (3) make one grammar that can handle all the versions. I can do (1), which makes this question rather low-priority. I can&#39;t easily do (2) because I&#39;m using the ANTLR gradle plugin, which operates on all grammars at once (and because the file ordering is not guaranteed, I randomly get generated code for version 1 or version 2, but never both). I can&#39;t do (3) because these ANTLR grammars are not hand-written, but generated from a multi-thousand-line proprietary grammar with a non-ANTLR syntax, which has changed significantly over the years.\r\n\r\nShould this be considered an ANTLR bug, since the grammars are different and in different packages? Is it user error to supply the tool with multiple unrelated grammars with the same name in a single invocation (in which case the gradle plugin is also making that error, though reasonably so)?\r\n","title":"Should ANTLR handle the case of two grammars with the same name?","body":"<p>Consider two ANTLR grammars in a directory structure like the following:</p>\n<pre><code>antlr-4.12.0-complete.jar\ngenerated-code/\ngrammars/\n  com/\n    example/\n      version1/\n        Grammar.g4\n      version2/\n        Grammar.g4\n</code></pre>\n<p>The idea is to keep around a parser for each version of a grammar for backwards compatibility. The grammars have the same name, but are not identical and are in different packages:</p>\n<pre><code>Grammar.g4 (version 1)\n----------------------\ngrammar Grammar;\n\n@header {\npackage com.example.version1;\n}\n\nstart: 'abc'.*?'def';\n</code></pre>\n<pre><code>Grammar.g4 (version 2)\n----------------------\ngrammar Grammar;\n\n@header {\npackage com.example.version2;\n}\n\nstart: 'qrs'.*?'tuv';\n</code></pre>\n<p>A command like</p>\n<pre><code>grammars/&gt; java -jar ../antlr-4.12.0-complete.jar -o ../generated-code ./com/example/version1/Grammar.g4 ./com/example/version2/Grammar.g4\n</code></pre>\n<p>results in the following:</p>\n<pre><code>generated-code/\n  com/\n    example/\n      version1/\n        GrammarLexer.java\n        GrammarParser.java\n        ...\n</code></pre>\n<p><strong>There is no <code>version2</code>.</strong> The cause appears to be in ANTLR's <code>Tool</code> class, in</p>\n<p><code>public List&lt;GrammarRootAST&gt; sortGrammarByTokenVocab(List&lt;String&gt; fileNames)</code></p>\n<p>where grammars are collected by name only. The list of filenames contains two grammars, but the return value contains only one AST.</p>\n<p>Obviously, there are several easy workarounds - (1) give the grammars different names, (2) run the tool twice, or (3) make one grammar that can handle all the versions. I can do (1), which makes this question rather low-priority. I can't easily do (2) because I'm using the ANTLR gradle plugin, which operates on all grammars at once (and because the file ordering is not guaranteed, I randomly get generated code for version 1 or version 2, but never both). I can't do (3) because these ANTLR grammars are not hand-written, but generated from a multi-thousand-line proprietary grammar with a non-ANTLR syntax, which has changed significantly over the years.</p>\n<p>Should this be considered an ANTLR bug, since the grammars are different and in different packages? Is it user error to supply the tool with multiple unrelated grammars with the same name in a single invocation (in which case the gradle plugin is also making that error, though reasonably so)?</p>\n"},{"tags":["java","date","validation","datetime","java-8"],"comments":[{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":0,"creation_date":1603348953,"post_id":64476573,"comment_id":114009990,"body_markdown":"Yes but here I am not creating the format. I first need to find the pattern from the input which would be any of among 5 and then need to parse it.","body":"Yes but here I am not creating the format. I first need to find the pattern from the input which would be any of among 5 and then need to parse it."},{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":0,"creation_date":1603349204,"post_id":64476573,"comment_id":114010081,"body_markdown":"yes @GhostCat this data is curated from different different sources so has multiple types.","body":"yes @GhostCat this data is curated from different different sources so has multiple types."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1603349775,"post_id":64476573,"comment_id":114010303,"body_markdown":"There are so many posts on SO for the same/similar requirement e.g. https://stackoverflow.com/questions/4024544/how-to-parse-dates-in-multiple-formats-using-simpledateformat\n - https://stackoverflow.com/questions/44600420/datetimeformatter-accepting-multiple-dates-and-converting-to-one-java-time-libr  - https://stackoverflow.com/questions/51587242/how-to-parse-different-date-formats-from-string-in-java-faq","body":"There are so many posts on SO for the same/similar requirement e.g. <a href=\"https://stackoverflow.com/questions/4024544/how-to-parse-dates-in-multiple-formats-using-simpledateformat\" title=\"how to parse dates in multiple formats using simpledateformat\">stackoverflow.com/questions/4024544/&hellip;</a>  - <a href=\"https://stackoverflow.com/questions/44600420/datetimeformatter-accepting-multiple-dates-and-converting-to-one-java-time-libr\" title=\"datetimeformatter accepting multiple dates and converting to one java time libr\">stackoverflow.com/questions/44600420/&hellip;</a>  - <a href=\"https://stackoverflow.com/questions/51587242/how-to-parse-different-date-formats-from-string-in-java-faq\" title=\"how to parse different date formats from string in java faq\">stackoverflow.com/questions/51587242/&hellip;</a>"},{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":2,"creation_date":1603369298,"post_id":64476573,"comment_id":114019144,"body_markdown":"Thanks @ArvindKumarAvinash. Those links helped.","body":"Thanks @ArvindKumarAvinash. Those links helped."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603349467,"creation_date":1603348940,"answer_id":64476651,"question_id":64476573,"body_markdown":"The brute force approach:\r\n\r\n- simply try your 4 formats, one after the other to parse the incoming string\r\n- if parsing throws an exception, try the next one\r\n- if parsing passes, well, that format just matched\r\n\r\nOf course, if we are talking about larger tables, that is quite inefficient. Possible optimisations:\r\n\r\n- obviously, the different patterns have subtle differences, so you could use `indexOf()` checks first. Like: if the value to be parsed contains no `&#39;:&#39;` char, then it can only be the first pattern. \r\n- you can look at your data manually to figure the actual distribution of patterns that are used. then you adapt the *order* of patterns to try to the likelihood of the pattern being used in your data\r\n\r\nAlternatively: you could define your own regex. The only thing that makes it slightly ugly is the fact that your input uses month names, not month number. But I think it shouldn&#39;t be too hard to write up a single regex that covers *all* your cases. \r\n","title":"Validate correct date time format fetched from CSV","body":"<p>The brute force approach:</p>\n<ul>\n<li>simply try your 4 formats, one after the other to parse the incoming string</li>\n<li>if parsing throws an exception, try the next one</li>\n<li>if parsing passes, well, that format just matched</li>\n</ul>\n<p>Of course, if we are talking about larger tables, that is quite inefficient. Possible optimisations:</p>\n<ul>\n<li>obviously, the different patterns have subtle differences, so you could use <code>indexOf()</code> checks first. Like: if the value to be parsed contains no <code>':'</code> char, then it can only be the first pattern.</li>\n<li>you can look at your data manually to figure the actual distribution of patterns that are used. then you adapt the <em>order</em> of patterns to try to the likelihood of the pattern being used in your data</li>\n</ul>\n<p>Alternatively: you could define your own regex. The only thing that makes it slightly ugly is the fact that your input uses month names, not month number. But I think it shouldn't be too hard to write up a single regex that covers <em>all</em> your cases.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603361039,"creation_date":1603354274,"answer_id":64477952,"question_id":64476573,"body_markdown":"What you need is a formatter with optional parts. A pattern can contain square brackets to denote an optional part, for example `HH:mm[:ss]`. The formatter then is required to parse `HH:mm`, and tries to parse the following text as `:ss`, or skips it if that fails. `yyyy-MM-dd[ HH:mm[:ss[.SSS]]]` would then be the pattern.\r\n\r\nThere is only one issue here – when you try to parse a string with the pattern `yyyy-MM-dd` (so without time part) using `LocalDateTime::parse`, it will throw a `DateTimeFormatException` with the message *Unable to obtain LocalDateTime from TemporalAccessor*. Apparently, at least one time part must be available to succeed.\r\n\r\nLuckily, we can use a `DateTimeFormatterBuilder` to build a pattern, instructing the formatter to use some defaults if information is missing from the parsed text. Here it is:\r\n\r\n```\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;yyyy-MM-dd[ HH:mm[:ss[.SSS]]]&quot;)\r\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n    .toFormatter();\r\nLocalDateTime dateTime = LocalDateTime.parse(input, formatter);\r\n```\r\n\r\nTests:\r\n\r\n```\r\nString[] inputs = {\r\n    &quot;2020-10-22&quot;, // OK\r\n    &quot;2020-10-22 14:55&quot;, // OK\r\n    &quot;2020-10-22T14:55&quot;, // Fails: incorrect format\r\n    &quot;2020-10-22 14:55:23&quot;,\r\n    &quot;2020-10-22 14:55:23.9&quot;, // Fails: incorrect fraction of second\r\n    &quot;2020-10-22 14:55:23.91&quot;, // Fails: incorrect fraction of second\r\n    &quot;2020-10-22 14:55:23.917&quot;, // OK\r\n    &quot;2020-10-22 14:55:23.9174&quot;, // Fails: incorrect fraction of second\r\n    &quot;2020-10-22 14:55:23.917428511&quot; // Fails: incorrect fraction of second \r\n};\r\n```\r\n\r\n### And what about epoch in milli?\r\n\r\nWell, this cannot be parsed directly by the `DateTimeFormatter`. But what&#39;s more: an epoch in milli has an implicit *timezone*: UTC. The other patterns lack a timezone. So an epoch is a fundamentally different piece of information. One thing you could do is *assume* a timezone for the inputs missing one.\r\n\r\nHowever, if you nevertheless want to parse the instant, you could try to parse it as a `long` using `Long::parseLong`, and if it fails, then try to parse with the formatter. Alternatively, you could use a regular expression (like `-?\\d+` or something) to try to match the instant, and if it does, then parse as instant, and if it fails, then try to parse with the abovementioned formatter.","title":"Validate correct date time format fetched from CSV","body":"<p>What you need is a formatter with optional parts. A pattern can contain square brackets to denote an optional part, for example <code>HH:mm[:ss]</code>. The formatter then is required to parse <code>HH:mm</code>, and tries to parse the following text as <code>:ss</code>, or skips it if that fails. <code>yyyy-MM-dd[ HH:mm[:ss[.SSS]]]</code> would then be the pattern.</p>\n<p>There is only one issue here – when you try to parse a string with the pattern <code>yyyy-MM-dd</code> (so without time part) using <code>LocalDateTime::parse</code>, it will throw a <code>DateTimeFormatException</code> with the message <em>Unable to obtain LocalDateTime from TemporalAccessor</em>. Apparently, at least one time part must be available to succeed.</p>\n<p>Luckily, we can use a <code>DateTimeFormatterBuilder</code> to build a pattern, instructing the formatter to use some defaults if information is missing from the parsed text. Here it is:</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(&quot;yyyy-MM-dd[ HH:mm[:ss[.SSS]]]&quot;)\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n    .toFormatter();\nLocalDateTime dateTime = LocalDateTime.parse(input, formatter);\n</code></pre>\n<p>Tests:</p>\n<pre><code>String[] inputs = {\n    &quot;2020-10-22&quot;, // OK\n    &quot;2020-10-22 14:55&quot;, // OK\n    &quot;2020-10-22T14:55&quot;, // Fails: incorrect format\n    &quot;2020-10-22 14:55:23&quot;,\n    &quot;2020-10-22 14:55:23.9&quot;, // Fails: incorrect fraction of second\n    &quot;2020-10-22 14:55:23.91&quot;, // Fails: incorrect fraction of second\n    &quot;2020-10-22 14:55:23.917&quot;, // OK\n    &quot;2020-10-22 14:55:23.9174&quot;, // Fails: incorrect fraction of second\n    &quot;2020-10-22 14:55:23.917428511&quot; // Fails: incorrect fraction of second \n};\n</code></pre>\n<h3>And what about epoch in milli?</h3>\n<p>Well, this cannot be parsed directly by the <code>DateTimeFormatter</code>. But what's more: an epoch in milli has an implicit <em>timezone</em>: UTC. The other patterns lack a timezone. So an epoch is a fundamentally different piece of information. One thing you could do is <em>assume</em> a timezone for the inputs missing one.</p>\n<p>However, if you nevertheless want to parse the instant, you could try to parse it as a <code>long</code> using <code>Long::parseLong</code>, and if it fails, then try to parse with the formatter. Alternatively, you could use a regular expression (like <code>-?\\d+</code> or something) to try to match the instant, and if it does, then parse as instant, and if it fails, then try to parse with the abovementioned formatter.</p>\n"}],"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680982052,"creation_date":1603348537,"question_id":64476573,"body_markdown":"I need to read a CSV file which has different time format in one timestamp column. It can be anything from below mentioned 5 formats. I need to match the fetched date and parse accordingly on each row.\r\nHow can I validate and parse it?\r\n\r\n```lang-java    \r\npublic static final String DEFAULT_DATE_FORMAT_PATTERN = &quot;yyyy-MM-dd&quot;;\r\npublic static final String DEFAULT_DATE_TIME_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;;\r\npublic static final String DATE_TIME_MINUTES_ONLY_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\r\npublic static final String DATE_TIME_WITHOUT_MILLIS_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n// Epoch in milli\r\n```\r\n","title":"Validate correct date time format fetched from CSV","body":"<p>I need to read a CSV file which has different time format in one timestamp column. It can be anything from below mentioned 5 formats. I need to match the fetched date and parse accordingly on each row.\nHow can I validate and parse it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String DEFAULT_DATE_FORMAT_PATTERN = &quot;yyyy-MM-dd&quot;;\npublic static final String DEFAULT_DATE_TIME_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;;\npublic static final String DATE_TIME_MINUTES_ONLY_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\npublic static final String DATE_TIME_WITHOUT_MILLIS_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n// Epoch in milli\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","artifact"],"comments":[{"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"score":0,"creation_date":1680980926,"post_id":75966693,"comment_id":133986965,"body_markdown":"What do you mean by built using IntelliJ?","body":"What do you mean by built using IntelliJ?"},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680993779,"post_id":75966693,"comment_id":133988461,"body_markdown":"When starting a new project, don’t select gradle or maven, but intellij","body":"When starting a new project, don’t select gradle or maven, but intellij"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1681118954,"post_id":75966693,"comment_id":134000966,"body_markdown":"Don’t use system scope. Install the jar locally instead","body":"Don’t use system scope. Install the jar locally instead"},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1681141273,"post_id":75966693,"comment_id":134005063,"body_markdown":"how do I do that?","body":"how do I do that?"}],"answers":[{"tags":[],"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680981508,"creation_date":1680981508,"answer_id":75967236,"question_id":75966693,"body_markdown":"Use `deploy:deploy-file` command on the jar which is not in maven. Once the artifacts are generated, it can be added in the maven project.\r\n\r\nThe deploy:deploy-file mojo is used primarily for deploying artifacts, which were not built by Maven. The project&#39;s development team may or may not provide a POM for the artifact, and in some cases you may want to deploy the artifact to an internal remote repository. The deploy-file mojo provides functionality covering all of these use cases, and offers a wide range of configurability for generating a POM on-the-fly. Additionally, you can specify what layout your repository uses. The full usage statement of the deploy-file mojo can be described as:\r\n\r\n    mvn deploy:deploy-file -Durl=file://C:\\m2-repo \\\r\n                       -DrepositoryId=some.id \\\r\n                       -Dfile=your-artifact-1.0.jar \\\r\n                       [-DpomFile=your-pom.xml] \\\r\n                       [-DgroupId=org.some.group] \\\r\n                       [-DartifactId=your-artifact] \\\r\n                       [-Dversion=1.0] \\\r\n                       [-Dpackaging=jar] \\\r\n                       [-Dclassifier=test] \\\r\n                       [-DgeneratePom=true] \\\r\n                       [-DgeneratePom.description=&quot;My Project Description&quot;] \\\r\n                       [-DrepositoryLayout=legacy]\r\n\r\nRefer : https://maven.apache.org/plugins/maven-deploy-plugin/usage.html#the-deploy-deploy-file-mojo\r\n","title":"How to add a jar dependency which WAS NOT BUILT with maven to a project that IS BUILT with maven?","body":"<p>Use <code>deploy:deploy-file</code> command on the jar which is not in maven. Once the artifacts are generated, it can be added in the maven project.</p>\n<p>The deploy:deploy-file mojo is used primarily for deploying artifacts, which were not built by Maven. The project's development team may or may not provide a POM for the artifact, and in some cases you may want to deploy the artifact to an internal remote repository. The deploy-file mojo provides functionality covering all of these use cases, and offers a wide range of configurability for generating a POM on-the-fly. Additionally, you can specify what layout your repository uses. The full usage statement of the deploy-file mojo can be described as:</p>\n<pre><code>mvn deploy:deploy-file -Durl=file://C:\\m2-repo \\\n                   -DrepositoryId=some.id \\\n                   -Dfile=your-artifact-1.0.jar \\\n                   [-DpomFile=your-pom.xml] \\\n                   [-DgroupId=org.some.group] \\\n                   [-DartifactId=your-artifact] \\\n                   [-Dversion=1.0] \\\n                   [-Dpackaging=jar] \\\n                   [-Dclassifier=test] \\\n                   [-DgeneratePom=true] \\\n                   [-DgeneratePom.description=&quot;My Project Description&quot;] \\\n                   [-DrepositoryLayout=legacy]\n</code></pre>\n<p>Refer : <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/usage.html#the-deploy-deploy-file-mojo\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/usage.html#the-deploy-deploy-file-mojo</a></p>\n"}],"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680981508,"creation_date":1680974675,"question_id":75966693,"body_markdown":"I have two projects in Java, one is built using IntelliJ, the other is built using maven. The goal is simple, I want to use the artefact (a jar file) compiled with IntelliJ within the maven project, that is, I want to use the compiled code from artefact (built with IntelliJ) as a library for my maven project.\r\n\r\nI added the following to the maven&#39;s pom.xml:\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.plegeus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AmongUs&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/deps/AmongUs.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlthough I am unsure how much use properties like groupId and artifactId are since that project (the IntelliJ project) was not built using maven...\r\n\r\nwhen I enter \r\n\r\n    mvn clean verify\r\n\r\neverything seems fine, though, upon entering \r\n\r\n    java -jar target/benchmarks.jar\r\n\r\nI get \r\n\r\n    java.lang.NoClassDefFoundError: org/plegeus/amongus/data/Image\r\n    \tat org.plegeus.MyBenchmark.&lt;init&gt;(MyBenchmark.java:47)\r\n\r\n(the Image class is a class from the first IntelliJ project which I want to use in the second maven project.)\r\n\r\nSo the question really is, how to add any arbitrary jar file (artefact) to a maven project? The method I currently use apparently is deprecated as well, because of `&lt;scope&gt;system&lt;/scope&gt;`.\r\n\r\nThank you.","title":"How to add a jar dependency which WAS NOT BUILT with maven to a project that IS BUILT with maven?","body":"<p>I have two projects in Java, one is built using IntelliJ, the other is built using maven. The goal is simple, I want to use the artefact (a jar file) compiled with IntelliJ within the maven project, that is, I want to use the compiled code from artefact (built with IntelliJ) as a library for my maven project.</p>\n<p>I added the following to the maven's pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.plegeus&lt;/groupId&gt;\n    &lt;artifactId&gt;AmongUs&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/deps/AmongUs.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Although I am unsure how much use properties like groupId and artifactId are since that project (the IntelliJ project) was not built using maven...</p>\n<p>when I enter</p>\n<pre><code>mvn clean verify\n</code></pre>\n<p>everything seems fine, though, upon entering</p>\n<pre><code>java -jar target/benchmarks.jar\n</code></pre>\n<p>I get</p>\n<pre><code>java.lang.NoClassDefFoundError: org/plegeus/amongus/data/Image\n    at org.plegeus.MyBenchmark.&lt;init&gt;(MyBenchmark.java:47)\n</code></pre>\n<p>(the Image class is a class from the first IntelliJ project which I want to use in the second maven project.)</p>\n<p>So the question really is, how to add any arbitrary jar file (artefact) to a maven project? The method I currently use apparently is deprecated as well, because of <code>&lt;scope&gt;system&lt;/scope&gt;</code>.</p>\n<p>Thank you.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1680956354,"post_id":75964889,"comment_id":133983790,"body_markdown":"the module name (that is the part after _module_ and the opening bracket) seems to be com.example.airbnbapi (not airbnbapi). btw: no screenshots of plain text - such as module-info and the error message - instead, c&amp;p!","body":"the module name (that is the part after <i>module</i> and the opening bracket) seems to be com.example.airbnbapi (not airbnbapi). btw: no screenshots of plain text - such as module-info and the error message - instead, c&amp;p!"}],"owner":{"account_id":28248854,"reputation":1,"user_id":21595425,"display_name":"Qadir Nazir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680980802,"creation_date":1680952507,"question_id":75964889,"body_markdown":"Here is a screenshot of the problem:\r\n\r\n[![Screen shot][1]][1]\r\n\r\nI&#39;m working on a Java project named &quot;airbnbapi&quot; which uses the Java module system and JavaFX. I have configured my project to use the module system, set the module name to &quot;airbnbapi&quot;, and added the necessary module dependencies in my module-info.java file. However, when I try to run my project, I get a &quot;java.lang.module.FindException: Module airbnbapi not found&quot; error.\r\n\r\nI have tried multiple solutions including setting the module path in the run configuration, ensuring my project is located in the root directory, and double-checking my module-info.java file for errors. However, I still can&#39;t seem to get my project to run properly.\r\n\r\nCan someone please help me troubleshoot this issue? Any suggestions or insights would be greatly appreciated. Thank you\r\n\r\nI have tried creating a Java module named airbnbapi with the required dependencies json, javafx.base, javafx.fxml, javafx.controls, and javafx.graphics. I have also configured my project structure such that the com.example.airbnbapi package containing all the classes and the hello-view.fxml file are located under src/main/java and src/main/resources respectively.\r\n\r\nDespite these attempts, I am still encountering a ModuleNotFoundError with the message java.lang.module.FindException: Module airbnbapi not found.\r\n\r\nI have also tried setting the module path in my IDE and specifying the module name as airbnbapi in the module-info.java file. Additionally, I have checked that the module name is consistent across all files and directories.\r\n\r\nHowever, the error persists, and I am unable to run the program successfully.\r\n\r\nHere are my Run/Debug configurations:\r\n\r\n[![Configuration][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OFOcx.jpg\r\n  [2]: https://i.stack.imgur.com/e9smN.png","title":"FindException: Module name not found","body":"<p>Here is a screenshot of the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/OFOcx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OFOcx.jpg\" alt=\"Screen shot\" /></a></p>\n<p>I'm working on a Java project named &quot;airbnbapi&quot; which uses the Java module system and JavaFX. I have configured my project to use the module system, set the module name to &quot;airbnbapi&quot;, and added the necessary module dependencies in my module-info.java file. However, when I try to run my project, I get a &quot;java.lang.module.FindException: Module airbnbapi not found&quot; error.</p>\n<p>I have tried multiple solutions including setting the module path in the run configuration, ensuring my project is located in the root directory, and double-checking my module-info.java file for errors. However, I still can't seem to get my project to run properly.</p>\n<p>Can someone please help me troubleshoot this issue? Any suggestions or insights would be greatly appreciated. Thank you</p>\n<p>I have tried creating a Java module named airbnbapi with the required dependencies json, javafx.base, javafx.fxml, javafx.controls, and javafx.graphics. I have also configured my project structure such that the com.example.airbnbapi package containing all the classes and the hello-view.fxml file are located under src/main/java and src/main/resources respectively.</p>\n<p>Despite these attempts, I am still encountering a ModuleNotFoundError with the message java.lang.module.FindException: Module airbnbapi not found.</p>\n<p>I have also tried setting the module path in my IDE and specifying the module name as airbnbapi in the module-info.java file. Additionally, I have checked that the module name is consistent across all files and directories.</p>\n<p>However, the error persists, and I am unable to run the program successfully.</p>\n<p>Here are my Run/Debug configurations:</p>\n<p><a href=\"https://i.stack.imgur.com/e9smN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9smN.png\" alt=\"Configuration\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc","jackson","spring-hateoas"],"owner":{"account_id":2518325,"reputation":115,"user_id":3782444,"display_name":"Anish Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680980381,"creation_date":1680871372,"question_id":75958534,"body_markdown":"We have a legacy app which we are updating to spring boot 3. We used to use spring-hateos 0.24 RELEASE and below code to register MappingJackson2HttpMessageConverter.\r\n\r\n```@EnableHypermediaSupport(type = EnableHypermediaSupport.HypermediaType.HAL)\r\n\tpublic static class RestServicesConfiguration implements WebMvcConfigurer  {\r\n\r\n        @Override\r\n\t\tpublic void configureMessageConverters(final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n\t\t\tconverters.add(jsonConverter());\r\n\t\t\tthis.configureMessageConverters(converters);\r\n\t\t}\r\n\r\n       @Bean\r\n\t\tpublic MappingJackson2HttpMessageConverter jsonConverter() {\r\n\t\t\tfinal MappingJackson2HttpMessageConverter converter = new HalMappingJackson2HttpMessageConverter();\r\n\t\t\treturn converter;\r\n\t\t}\r\n\r\nprivate class HalMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter {\r\n\t\t\t/**\r\n\t\t\t * Solution that provides HAL links for our REST versioning.\r\n\t\t\t */\r\n\t\t\tprivate HalMappingJackson2HttpMessageConverter() {\r\n\t\t\t\tsetSupportedMediaTypes(Arrays.asList(\r\n\t\t\t\t\t\tCURRENT_REST_VERSION_MEDIA_TYPE,\r\n\t\t\t\t\t\tPREVIOUS_REST_VERSION_MEDIA_TYPE,\r\n\t\t\t\t\t\tV2_REST_VERSION_MEDIA_TYPE\r\n\t\t\t\t));\r\n\t\t\t\tfinal ObjectMapper halObjectMapper = (ObjectMapper) beanFactory.getBean(&quot;_halObjectMapper&quot;);\r\n\t\t\t\t// setup the ISO date transformer\r\n\t\t\t\tfinal SimpleModule module = new SimpleModule(&quot;MySerializers&quot;);\r\n\t\t\t\tmodule.addSerializer(Date.class, new DateSerializer());\r\n\t\t\t\thalObjectMapper.registerModule(module);\r\n\r\n\t\t\t\tsetObjectMapper(halObjectMapper);\r\n\t\t\t}\r\n\t\t} \r\n```\r\n\r\nAs we have updated to spring-hateos 2.0.1 via spring-boot-starter-data-rest 3.0.2. Upon running executing the WAR file in Tomcat 10 we are getting below exception.\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jsonConverter&#39; defined in com.config.AppInitializer$RestServicesConfiguration: Failed to instantiate [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter]: Factory method &#39;jsonConverter&#39; threw exception with message: No bean named &#39;_halObjectMapper&#39; available      \r\n```","title":"MappingJackson2HttpMessageConverter and _halObjectMapper not working with spring-hateos 2.0.1 and spring boot 3","body":"<p>We have a legacy app which we are updating to spring boot 3. We used to use spring-hateos 0.24 RELEASE and below code to register MappingJackson2HttpMessageConverter.</p>\n<pre><code>    public static class RestServicesConfiguration implements WebMvcConfigurer  {\n\n        @Override\n        public void configureMessageConverters(final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n            converters.add(jsonConverter());\n            this.configureMessageConverters(converters);\n        }\n\n       @Bean\n        public MappingJackson2HttpMessageConverter jsonConverter() {\n            final MappingJackson2HttpMessageConverter converter = new HalMappingJackson2HttpMessageConverter();\n            return converter;\n        }\n\nprivate class HalMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter {\n            /**\n             * Solution that provides HAL links for our REST versioning.\n             */\n            private HalMappingJackson2HttpMessageConverter() {\n                setSupportedMediaTypes(Arrays.asList(\n                        CURRENT_REST_VERSION_MEDIA_TYPE,\n                        PREVIOUS_REST_VERSION_MEDIA_TYPE,\n                        V2_REST_VERSION_MEDIA_TYPE\n                ));\n                final ObjectMapper halObjectMapper = (ObjectMapper) beanFactory.getBean(&quot;_halObjectMapper&quot;);\n                // setup the ISO date transformer\n                final SimpleModule module = new SimpleModule(&quot;MySerializers&quot;);\n                module.addSerializer(Date.class, new DateSerializer());\n                halObjectMapper.registerModule(module);\n\n                setObjectMapper(halObjectMapper);\n            }\n        } \n</code></pre>\n<p>As we have updated to spring-hateos 2.0.1 via spring-boot-starter-data-rest 3.0.2. Upon running executing the WAR file in Tomcat 10 we are getting below exception.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jsonConverter' defined in com.config.AppInitializer$RestServicesConfiguration: Failed to instantiate [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter]: Factory method 'jsonConverter' threw exception with message: No bean named '_halObjectMapper' available      \n</code></pre>\n"},{"tags":["java","maven","plugins"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680967767,"post_id":75963048,"comment_id":133985236,"body_markdown":"Run the build with `-X` flag, show us the stacktrace and the relevant Java source code.","body":"Run the build with <code>-X</code> flag, show us the stacktrace and the relevant Java source code."},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1680979652,"post_id":75963048,"comment_id":133986820,"body_markdown":"@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8\nMore is not possible: else too long","body":"@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8 More is not possible: else too long"},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1681031950,"post_id":75963048,"comment_id":133991355,"body_markdown":"@fabian: the code is at github. I sent the link. Of course this is also the place of the pom.","body":"@fabian: the code is at github. I sent the link. Of course this is also the place of the pom."}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680979502,"creation_date":1680921206,"question_id":75963048,"body_markdown":"I wrote a single maven plugin in my live: \r\n```\r\nhttps://github.com/Reissner/maven-latex-plugin.git\r\n```\r\nNow I try to upgrade either the java version specified in the compiler plugin, \r\nor also the version of the maven-plugin-plugin. \r\n\r\nEach results in that no longer a mojo descriptor is found: \r\n\r\nFor java 11 instead of java 1.8: \r\n```\r\n --- maven-plugin-plugin:3.3:descriptor (default-descriptor) @ latex-maven-plugin ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to read mojo metadata.\r\n[INFO] Applying mojo extractor for language: java\r\n[INFO] Mojo extractor for language: java found 0 mojo descriptors.\r\n[INFO] Applying mojo extractor for language: bsh\r\n[INFO] Mojo extractor for language: bsh found 0 mojo descriptors.\r\n[INFO] Applying mojo extractor for language: java-annotations\r\n...\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor (default-descriptor) on project latex-maven-plugin: \r\nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor failed.: \r\nIllegalArgumentException -&gt; [Help 1]\r\n[ERROR] \r\n```\r\n\r\nWhen I go back to java 1.8 but use new plugin plugin, namely 3.8.1, \r\nI obtain: \r\n\r\n```\r\nINFO] --- maven-plugin-plugin:3.8.1:descriptor (default-descriptor) @ latex-maven-plugin ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to read mojo source files.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  23.062 s\r\n[INFO] Finished at: 2023-04-08T04:27:10+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor (default-descriptor) on project latex-maven-plugin: \r\nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor failed: \r\nCannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\r\n```\r\n\r\nI also used several combinations, \r\ne.g. with `maven-plugin-api`, \r\nbut also other dependencies seem to go into. \r\nI use maven 3.8.6. \r\nCan anyone help?? \r\n\r\n\r\n@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8\r\nMore is not possible: else too long\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  18.355 s\r\n[INFO] Finished at: 2023-04-08T20:39:30+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.extractFieldParameterTags (JavaAnnotationsMojoDescriptorExtractor.java:408)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.populateDataFromJavadoc (JavaAnnotationsMojoDescriptorExtractor.java:280)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:106)\r\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:97)\r\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:315)\r\n    at org.apache.maven.plugin.plugin.DescriptorGeneratorMojo.execute (DescriptorGeneratorMojo.java:94)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```\r\n\r\n\r\n\r\n","title":"Compilation of maven plugin: no descriptor found","body":"<p>I wrote a single maven plugin in my live:</p>\n<pre><code>https://github.com/Reissner/maven-latex-plugin.git\n</code></pre>\n<p>Now I try to upgrade either the java version specified in the compiler plugin,\nor also the version of the maven-plugin-plugin.</p>\n<p>Each results in that no longer a mojo descriptor is found:</p>\n<p>For java 11 instead of java 1.8:</p>\n<pre><code> --- maven-plugin-plugin:3.3:descriptor (default-descriptor) @ latex-maven-plugin ---\n[INFO] Using 'UTF-8' encoding to read mojo metadata.\n[INFO] Applying mojo extractor for language: java\n[INFO] Mojo extractor for language: java found 0 mojo descriptors.\n[INFO] Applying mojo extractor for language: bsh\n[INFO] Mojo extractor for language: bsh found 0 mojo descriptors.\n[INFO] Applying mojo extractor for language: java-annotations\n...\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor (default-descriptor) on project latex-maven-plugin: \nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor failed.: \nIllegalArgumentException -&gt; [Help 1]\n[ERROR] \n</code></pre>\n<p>When I go back to java 1.8 but use new plugin plugin, namely 3.8.1,\nI obtain:</p>\n<pre><code>INFO] --- maven-plugin-plugin:3.8.1:descriptor (default-descriptor) @ latex-maven-plugin ---\n[INFO] Using 'UTF-8' encoding to read mojo source files.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  23.062 s\n[INFO] Finished at: 2023-04-08T04:27:10+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor (default-descriptor) on project latex-maven-plugin: \nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor failed: \nCannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\n</code></pre>\n<p>I also used several combinations,\ne.g. with <code>maven-plugin-api</code>,\nbut also other dependencies seem to go into.\nI use maven 3.8.6.\nCan anyone help??</p>\n<p>@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8\nMore is not possible: else too long</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  18.355 s\n[INFO] Finished at: 2023-04-08T20:39:30+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.extractFieldParameterTags (JavaAnnotationsMojoDescriptorExtractor.java:408)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.populateDataFromJavadoc (JavaAnnotationsMojoDescriptorExtractor.java:280)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:106)\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:97)\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:315)\n    at org.apache.maven.plugin.plugin.DescriptorGeneratorMojo.execute (DescriptorGeneratorMojo.java:94)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n"},{"tags":["java","intellij-idea","wsl-2"],"answers":[{"tags":[],"owner":{"account_id":17613607,"reputation":175,"user_id":12795083,"display_name":"max"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680979208,"creation_date":1680979208,"answer_id":75967077,"question_id":75967072,"body_markdown":"The problem was using SDK from Windows, not from the WSL2[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lmvY5.png\r\n  [2]: https://i.stack.imgur.com/7x61q.png","title":"Cannot open Java project in WSL2 with IntelliJ","body":"<p>The problem was using SDK from Windows, not from the WSL2<a href=\"https://i.stack.imgur.com/lmvY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lmvY5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7x61q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7x61q.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17613607,"reputation":175,"user_id":12795083,"display_name":"max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680979208,"creation_date":1680979140,"question_id":75967072,"body_markdown":"Warning: I solved this problem already. I want to provide the documentation in case someone faces it. When I try to open java project IntelliJ won&#39;t open it. However, it could easily non-Java project. Logs:\r\n```\r\nExit code: 0\r\n2023-04-07 18:53:38,277 [ 207458]   INFO - #c.j.g.s.d.m.HostRunMethods - Host status: UnattendedHostStatus(appPid=22067, appVersion=IU-231.8109.144, runtimeVersion=17.0.6b829.5, unattendedMode=true, backendUnresponsive=false, modalDialogIsOpened=false, idePath=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144, projects=null)\r\n2023-04-07 18:53:39,288 [ 208469] SEVERE - #c.j.g.s.d.m.HostRunMethods - Remote IDE backend failed to open a project\r\njava.lang.Throwable: Remote IDE backend failed to open a project\r\n\tat com.intellij.openapi.diagnostic.Logger.error(Logger.java:202)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:203)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\r\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JetBrains Gateway 2022.3.2  Build #GW-223.8617.56\r\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JDK: 17.0.5; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\r\n2023-04-07 18:53:39,296 [ 208477] SEVERE - #c.j.g.s.d.m.HostRunMethods - OS: Windows 11\r\n2023-04-07 18:53:40,333 [ 209514]   INFO - #c.j.g.s.d.DeployErrorProcessor - Deploy failed with exception, will show deploy failure UI\r\ncom.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\r\n\tat com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:197)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\r\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\r\n\tat com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:192)\r\n\t... 35 more\r\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:211)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\r\n\t... 35 more\r\n2023-04-07 18:53:40,346 [ 209527]   INFO - #c.j.g.w.e.WslHostCommandExecutor - Starting a WSL process: /bin/bash, -lc, echo REMOTE_EXEC_OUTPUT_MARKER_ &amp;&amp; /home/mdmytren/.cache/JetBrains/RemoteDev/remote-dev-worker/remote-dev-worker_ba9509c11d96c6ce33a39e248d584be92d7de751a8acb9b7e9872b6136aa4876 product-code --ide-path=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144\r\n\r\n```\r\n\r\nI checked my IntelliJ configurations and they look in the following way:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wMmyG.png\r\n\r\nMy solution will be in the comment section.\r\n","title":"Cannot open Java project in WSL2 with IntelliJ","body":"<p>Warning: I solved this problem already. I want to provide the documentation in case someone faces it. When I try to open java project IntelliJ won't open it. However, it could easily non-Java project. Logs:</p>\n<pre><code>Exit code: 0\n2023-04-07 18:53:38,277 [ 207458]   INFO - #c.j.g.s.d.m.HostRunMethods - Host status: UnattendedHostStatus(appPid=22067, appVersion=IU-231.8109.144, runtimeVersion=17.0.6b829.5, unattendedMode=true, backendUnresponsive=false, modalDialogIsOpened=false, idePath=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144, projects=null)\n2023-04-07 18:53:39,288 [ 208469] SEVERE - #c.j.g.s.d.m.HostRunMethods - Remote IDE backend failed to open a project\njava.lang.Throwable: Remote IDE backend failed to open a project\n    at com.intellij.openapi.diagnostic.Logger.error(Logger.java:202)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:203)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JetBrains Gateway 2022.3.2  Build #GW-223.8617.56\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JDK: 17.0.5; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\n2023-04-07 18:53:39,296 [ 208477] SEVERE - #c.j.g.s.d.m.HostRunMethods - OS: Windows 11\n2023-04-07 18:53:40,333 [ 209514]   INFO - #c.j.g.s.d.DeployErrorProcessor - Deploy failed with exception, will show deploy failure UI\ncom.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\n    at com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:197)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\n    at com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:192)\n    ... 35 more\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:211)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\n    ... 35 more\n2023-04-07 18:53:40,346 [ 209527]   INFO - #c.j.g.w.e.WslHostCommandExecutor - Starting a WSL process: /bin/bash, -lc, echo REMOTE_EXEC_OUTPUT_MARKER_ &amp;&amp; /home/mdmytren/.cache/JetBrains/RemoteDev/remote-dev-worker/remote-dev-worker_ba9509c11d96c6ce33a39e248d584be92d7de751a8acb9b7e9872b6136aa4876 product-code --ide-path=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144\n\n</code></pre>\n<p>I checked my IntelliJ configurations and they look in the following way:\n<a href=\"https://i.stack.imgur.com/wMmyG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMmyG.png\" alt=\"enter image description here\" /></a></p>\n<p>My solution will be in the comment section.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1680982453,"post_id":75944062,"comment_id":133987137,"body_markdown":"Does this answer your question : https://stackoverflow.com/questions/4172547/can-not-set-java-lang-integer-field-id-to-org-hibernate-id-identifiergeneratorhe ? You might need to annotate the field in `CustomPosologyId` as autogenerated too. And just to point that this setup is weird. The autogenerated column will already guarantee uniqueness, so making `planId` part of the composite key doesn&#39;t add anything (other than a composite index to search for it later)","body":"Does this answer your question : <a href=\"https://stackoverflow.com/questions/4172547/can-not-set-java-lang-integer-field-id-to-org-hibernate-id-identifiergeneratorhe\" title=\"can not set java lang integer field id to org hibernate id identifiergeneratorhe\">stackoverflow.com/questions/4172547/&hellip;</a> ? You might need to annotate the field in <code>CustomPosologyId</code> as autogenerated too. And just to point that this setup is weird. The autogenerated column will already guarantee uniqueness, so making <code>planId</code> part of the composite key doesn&#39;t add anything (other than a composite index to search for it later)"}],"owner":{"account_id":6436922,"reputation":46,"user_id":12096971,"display_name":"Bruno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680979139,"creation_date":1680729675,"question_id":75944062,"body_markdown":"I&#39;m writing an Entity with a PK with two attributes: a Long FK to another Entity, and an auto incrementing Long. I followed the suggestions of [this article](https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId).\r\n\r\nHere&#39;s my IdClass and Entity. The autoincrementing attribute should be &#39;id&#39;.\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CustomPosologyId implements Serializable {\r\n    private Long id;\r\n    private Long planId;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@IdClass(CustomPosologyId.class)\r\n@Table(name = &quot;custom_posology&quot;)\r\npublic class CustomPosology {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    @Getter @Setter\r\n    private Long id;\r\n\r\n    @Id\r\n    @Column(name = &quot;plan_id&quot;)\r\n    @Getter @Setter\r\n    private Long planId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;plan_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\r\n    @Getter @Setter\r\n    private DrugPlan drugPlan;\r\n\r\n    @Column(name = &quot;date_time&quot;, nullable = false)\r\n    @Getter @Setter\r\n    LocalDateTime dateTime;\r\n\r\n    public CustomPosology(CustomPosologyForm form){\r\n        this.dateTime = form.getDateTime();\r\n    }\r\n}\r\n```\r\n\r\n**Here&#39;s the problem**: When I try to run a save operation on &#39;CustomPosology&#39; with &#39;planId&#39; already properly set, I get the following below. It seems to be related to the framework not being able to find the attribute setter:\r\n\r\n&gt; 2023-04-05 18:00:04.645 ERROR 2433 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id; nested exception is org.hibernate.PropertyAccessException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id] with root cause\r\n&gt; \r\n&gt; java.lang.IllegalArgumentException: Can not set java.lang.Long field com.campera.app3idadefacil.model.CustomPosologyId.id to org.hibernate.id.IdentifierGeneratorHelper$2\r\n&gt; \r\n\r\nThanks in advance for the help!\r\n\r\nI previously tried writing the composite key as an @Embeddable but it turns out that @GeneratedValue won&#39;t work if not followed by @Id, as pointed out in [the article I mentioned](https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId).\r\n\r\nI have seen [some stack overflow questions](https://stackoverflow.com/questions/8119317/hibernate-3-composite-key-one-with-generatedvalue) where users answered that it is not possible to have a composite key with incrementing value, however the article says otherwise.\r\n\r\nI have also tried removing Lombok usage in these classes but it didn&#39;t help.","title":"Composite PK problem: IdClass attribute annotated with GeneratedValue won&#39;t be set","body":"<p>I'm writing an Entity with a PK with two attributes: a Long FK to another Entity, and an auto incrementing Long. I followed the suggestions of <a href=\"https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>Here's my IdClass and Entity. The autoincrementing attribute should be 'id'.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CustomPosologyId implements Serializable {\n    private Long id;\n    private Long planId;\n}\n</code></pre>\n<pre><code>@Entity\n@NoArgsConstructor\n@IdClass(CustomPosologyId.class)\n@Table(name = &quot;custom_posology&quot;)\npublic class CustomPosology {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @Getter @Setter\n    private Long id;\n\n    @Id\n    @Column(name = &quot;plan_id&quot;)\n    @Getter @Setter\n    private Long planId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;plan_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\n    @Getter @Setter\n    private DrugPlan drugPlan;\n\n    @Column(name = &quot;date_time&quot;, nullable = false)\n    @Getter @Setter\n    LocalDateTime dateTime;\n\n    public CustomPosology(CustomPosologyForm form){\n        this.dateTime = form.getDateTime();\n    }\n}\n</code></pre>\n<p><strong>Here's the problem</strong>: When I try to run a save operation on 'CustomPosology' with 'planId' already properly set, I get the following below. It seems to be related to the framework not being able to find the attribute setter:</p>\n<blockquote>\n<p>2023-04-05 18:00:04.645 ERROR 2433 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id; nested exception is org.hibernate.PropertyAccessException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id] with root cause</p>\n<p>java.lang.IllegalArgumentException: Can not set java.lang.Long field com.campera.app3idadefacil.model.CustomPosologyId.id to org.hibernate.id.IdentifierGeneratorHelper$2</p>\n</blockquote>\n<p>Thanks in advance for the help!</p>\n<p>I previously tried writing the composite key as an @Embeddable but it turns out that @GeneratedValue won't work if not followed by @Id, as pointed out in <a href=\"https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId\" rel=\"nofollow noreferrer\">the article I mentioned</a>.</p>\n<p>I have seen <a href=\"https://stackoverflow.com/questions/8119317/hibernate-3-composite-key-one-with-generatedvalue\">some stack overflow questions</a> where users answered that it is not possible to have a composite key with incrementing value, however the article says otherwise.</p>\n<p>I have also tried removing Lombok usage in these classes but it didn't help.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5090313,"reputation":1,"user_id":4083589,"display_name":"Yugandhar Reddy Akkisetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680978541,"creation_date":1680978494,"answer_id":75967010,"question_id":75879179,"body_markdown":"I used the following code to serve the purpose \r\n\r\n     public Specification&lt;WorkOrder&gt; hasShift(Integer a) {\r\n\r\n        return ((root, query, criteriaBuilder) -&gt; {\r\n            Predicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\r\n            Predicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\r\n            Predicate isP = criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;);\r\n            Predicate one=criteriaBuilder.and(isP,P);\r\n            Predicate two =criteriaBuilder.and(nonP);\r\n            return criteriaBuilder.or(one,two);\r\n        });\r\n\r\n    }","title":"How to use selectCase() in JPA specifications","body":"<p>I used the following code to serve the purpose</p>\n<pre><code> public Specification&lt;WorkOrder&gt; hasShift(Integer a) {\n\n    return ((root, query, criteriaBuilder) -&gt; {\n        Predicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\n        Predicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\n        Predicate isP = criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;);\n        Predicate one=criteriaBuilder.and(isP,P);\n        Predicate two =criteriaBuilder.and(nonP);\n        return criteriaBuilder.or(one,two);\n    });\n\n}\n</code></pre>\n"}],"owner":{"account_id":5090313,"reputation":1,"user_id":4083589,"display_name":"Yugandhar Reddy Akkisetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680978541,"creation_date":1680103135,"question_id":75879179,"body_markdown":"I have table with name `workorder` with the columns `id,shift,date,sop_no,type`\r\nUser will be passing a integer to GET API to filter table content. if the record is of `type=P` then use the `shift` column to filter the data otherwise use `sop_no`  I have following snippet of code. I&#39;m using JPA specifications.\r\n\r\n```\r\nworkorderRepo.findAll(Specification.where(hasShift(Integer a))\r\n```\r\n\r\n```\r\n\tpublic Specification&lt;WorkOrder&gt; hasShift(Integer a) {\r\n\r\n\t\treturn ((root, query, criteriaBuilder) -&gt; {\r\n\t\t\tPredicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\r\n\t\t\tPredicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\r\n\t\t\tretrun criteriaBuilder.selectCase().when(criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;), P).otherwise(nonP);\r\n\r\n\r\n\t\t});\r\n\r\n\t}\r\n```\r\n\r\nI&#39;m using `selectCase()` for select `nonP` or `P` predicate\r\nBut code construct throwing  **Expression\\&lt;Object\\&gt; cannot be converted to Predicate** Error\r\n\r\nI tried convert `selectCase()` to `Predicate` type using `as` method but no use","title":"How to use selectCase() in JPA specifications","body":"<p>I have table with name <code>workorder</code> with the columns <code>id,shift,date,sop_no,type</code>\nUser will be passing a integer to GET API to filter table content. if the record is of <code>type=P</code> then use the <code>shift</code> column to filter the data otherwise use <code>sop_no</code>  I have following snippet of code. I'm using JPA specifications.</p>\n<pre><code>workorderRepo.findAll(Specification.where(hasShift(Integer a))\n</code></pre>\n<pre><code>    public Specification&lt;WorkOrder&gt; hasShift(Integer a) {\n\n        return ((root, query, criteriaBuilder) -&gt; {\n            Predicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\n            Predicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\n            retrun criteriaBuilder.selectCase().when(criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;), P).otherwise(nonP);\n\n\n        });\n\n    }\n</code></pre>\n<p>I'm using <code>selectCase()</code> for select <code>nonP</code> or <code>P</code> predicate\nBut code construct throwing  <strong>Expression&lt;Object&gt; cannot be converted to Predicate</strong> Error</p>\n<p>I tried convert <code>selectCase()</code> to <code>Predicate</code> type using <code>as</code> method but no use</p>\n"},{"tags":["java","android","sockets","networking"],"comments":[{"owner":{"account_id":1387745,"reputation":1932,"user_id":1319362,"accept_rate":57,"display_name":"Jermin Bazazian"},"score":0,"creation_date":1335455484,"post_id":10336637,"comment_id":13312343,"body_markdown":"What is your IP on your local network? Are you on linux or windows? On windows open a command window and type `ipconfig` in it. Just put your `IPV4` in your code. On linux the open a terminal and execute `ifconfig`. Obviously your ISP has blocked the access to your machine from outside. Your public IP is not what you want.","body":"What is your IP on your local network? Are you on linux or windows? On windows open a command window and type <code>ipconfig</code> in it. Just put your <code>IPV4</code> in your code. On linux the open a terminal and execute <code>ifconfig</code>. Obviously your ISP has blocked the access to your machine from outside. Your public IP is not what you want."}],"answers":[{"tags":[],"owner":{"account_id":243030,"reputation":4406,"user_id":514952,"accept_rate":80,"display_name":"EvilDuck"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680978516,"creation_date":1335454967,"answer_id":10336808,"question_id":10336637,"body_markdown":"As I understand you are running Android client on a device in the same network as your server? Then you must use your servers internal IP. Localhost here will search servers on a device obviously.\r\n\r\n[whatsmyip.org][1] will give you your external IP.\r\n\r\nMake sure device is indeed on the same network, make sure you&#39;re using correct internal IP, make sure your server doesn&#39;t have any firewall blocking this port for LAN.\r\n\r\nAnd for stop doing network activity on UI thread ffs!!!\r\n\r\n\r\n  [1]: https://whatsmyip.org","title":"How do I socket an Android program to a localhost server?","body":"<p>As I understand you are running Android client on a device in the same network as your server? Then you must use your servers internal IP. Localhost here will search servers on a device obviously.</p>\n<p><a href=\"https://whatsmyip.org\" rel=\"nofollow noreferrer\">whatsmyip.org</a> will give you your external IP.</p>\n<p>Make sure device is indeed on the same network, make sure you're using correct internal IP, make sure your server doesn't have any firewall blocking this port for LAN.</p>\n<p>And for stop doing network activity on UI thread ffs!!!</p>\n"},{"tags":[],"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1335462980,"creation_date":1335462980,"answer_id":10338813,"question_id":10336637,"body_markdown":"First make sure your app has internet permission.\r\n\r\nThe only time you can use the 10.0.2.2 alias is if your app is running on an emulator and wants to contact something running on the hosting machine.  This **does not work** with actual android devices.\r\n\r\nFor an actual android device, you would either have to put the device on the same wifi network as the PC hosting the server, find a way to abuse a tethering solution to get them on the same network over the USB cable, or move your server to a machine externally accessible from the Internet at large in order to be able to reach it from the device&#39;s mobile network connection.\r\n\r\nAnd EvilDuck definitely has a point about abusing the UI thread.","title":"How do I socket an Android program to a localhost server?","body":"<p>First make sure your app has internet permission.</p>\n\n<p>The only time you can use the 10.0.2.2 alias is if your app is running on an emulator and wants to contact something running on the hosting machine.  This <strong>does not work</strong> with actual android devices.</p>\n\n<p>For an actual android device, you would either have to put the device on the same wifi network as the PC hosting the server, find a way to abuse a tethering solution to get them on the same network over the USB cable, or move your server to a machine externally accessible from the Internet at large in order to be able to reach it from the device's mobile network connection.</p>\n\n<p>And EvilDuck definitely has a point about abusing the UI thread.</p>\n"}],"owner":{"account_id":1085067,"reputation":1093,"user_id":1080952,"accept_rate":50,"display_name":"user1080952"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10338813,"answer_count":2,"score":3,"last_activity_date":1680978516,"creation_date":1335454306,"question_id":10336637,"body_markdown":"I have server and client code that works perfectly as a Java application. The server is run on my local machine and listens on port 4444. Any Java application can connect easily, but when I move my code over to Android, I keep getting an IOException no matter what I try. I read that you have to change &quot;localhost&quot; to &quot;10.0.2.2&quot;, but I&#39;m still getting an IOException. I tried my IP address from whatsmyip.org but it still gives me an IOException. Here&#39;s my android code...\r\n\r\n    package test.myPackage;\r\n\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    \r\n    public class TestProjectActivity extends Activity {\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            TextView tv = new TextView(this);\r\n            tv.setText(&quot;Hello, Android&quot;);\r\n            setContentView(tv);\r\n        \r\n        Socket s = null;\r\n        try {\r\n\t\t\ts = new Socket(&quot;10.0.2.2&quot;, 4444);\r\n\t\t\ttv.setText(&quot;socket: CONNECTED!&quot;);\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\ttv.setText(&quot;socket: unknown host&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\ttv.setText(&quot;socket: IO Exception&quot;);\r\n\t\t}\r\n    }\r\n}","title":"How do I socket an Android program to a localhost server?","body":"<p>I have server and client code that works perfectly as a Java application. The server is run on my local machine and listens on port 4444. Any Java application can connect easily, but when I move my code over to Android, I keep getting an IOException no matter what I try. I read that you have to change \"localhost\" to \"10.0.2.2\", but I'm still getting an IOException. I tried my IP address from whatsmyip.org but it still gives me an IOException. Here's my android code...</p>\n\n<pre><code>package test.myPackage;\n\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class TestProjectActivity extends Activity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        TextView tv = new TextView(this);\n        tv.setText(\"Hello, Android\");\n        setContentView(tv);\n\n    Socket s = null;\n    try {\n        s = new Socket(\"10.0.2.2\", 4444);\n        tv.setText(\"socket: CONNECTED!\");\n    } catch (UnknownHostException e) {\n        tv.setText(\"socket: unknown host\");\n    } catch (IOException e) {\n        tv.setText(\"socket: IO Exception\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java"],"owner":{"account_id":4855391,"reputation":1,"user_id":3916506,"display_name":"user3916506"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680978102,"answer_count":0,"score":0,"last_activity_date":1680977932,"creation_date":1680977932,"question_id":75966964,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class inputTesting {\r\n    public void checkone(){\r\n        String input=&quot;Hello Word&quot;;\r\n        Scanner s=new Scanner(input);\r\n        while (s.hasNext()){\r\n            String word=s.next();\r\n            System.out.println(word);\r\n        }\r\n        s.close();\r\n    }\r\n    public void checktwo(){\r\n        System.out.print(&quot;Enter the line: &quot;);\r\n        Scanner s=new Scanner(System.in);\r\n        while (s.hasNextLine()){\r\n            String k=s.nextLine();\r\n            Scanner sc=new Scanner(k);\r\n            while (sc.hasNext()){\r\n                String word=sc.next();\r\n                System.out.println(word);\r\n            }\r\n            sc.close();\r\n            break;\r\n        }\r\n        s.close();\r\n    }\r\n    public void checkthree(){\r\n        System.out.print(&quot;Enter the line which should combine using &#39;_&#39;: &quot;);\r\n        Scanner sy=new Scanner(System.in);\r\n        while(sy.hasNextLine()){\r\n            String sk=sy.nextLine();\r\n            Scanner sn=new Scanner(sk);\r\n            sn.useDelimiter(&quot;_&quot;);\r\n            while (sn.hasNext()){\r\n                String word=sn.next();\r\n                System.out.println(word);\r\n            }\r\n            sn.close();\r\n            break;\r\n        }\r\n        sy.close();\r\n    }\r\n}\r\nclass inputs{\r\n    public static void main(String args[]){\r\n        inputTesting it=new inputTesting();\r\n        it.checkone();\r\n        it.checktwo();\r\n        it.checkthree();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSteps i have tried:\r\n\r\n1. Removed the new line print from checktwo() method i.e: System.out.println(word);\r\n2. added extra : sy.nextLine() method, to consume if any lines were there previously before entering the checkthree() while loop.\r\n\r\nBoth the points were not worked.\r\n\r\nSolution i have tried is : passed the input directly from it.checkthree(&quot;This_is_my_name_&quot;); and hardcoded checkthree() method too , and it worked corrcetly.\r\n\r\n\r\nExpecting:\r\n\r\nWhy my actual code is not working ? due to multiple scanner objects? even tough i need a solution using scanner object only, please provide your recommendations.","title":"Why the checkthree() method is not asking for input ? why it was terminating prematurely?","body":"<pre><code>import java.util.Scanner;\n\npublic class inputTesting {\n    public void checkone(){\n        String input=&quot;Hello Word&quot;;\n        Scanner s=new Scanner(input);\n        while (s.hasNext()){\n            String word=s.next();\n            System.out.println(word);\n        }\n        s.close();\n    }\n    public void checktwo(){\n        System.out.print(&quot;Enter the line: &quot;);\n        Scanner s=new Scanner(System.in);\n        while (s.hasNextLine()){\n            String k=s.nextLine();\n            Scanner sc=new Scanner(k);\n            while (sc.hasNext()){\n                String word=sc.next();\n                System.out.println(word);\n            }\n            sc.close();\n            break;\n        }\n        s.close();\n    }\n    public void checkthree(){\n        System.out.print(&quot;Enter the line which should combine using '_': &quot;);\n        Scanner sy=new Scanner(System.in);\n        while(sy.hasNextLine()){\n            String sk=sy.nextLine();\n            Scanner sn=new Scanner(sk);\n            sn.useDelimiter(&quot;_&quot;);\n            while (sn.hasNext()){\n                String word=sn.next();\n                System.out.println(word);\n            }\n            sn.close();\n            break;\n        }\n        sy.close();\n    }\n}\nclass inputs{\n    public static void main(String args[]){\n        inputTesting it=new inputTesting();\n        it.checkone();\n        it.checktwo();\n        it.checkthree();\n    }\n}\n\n</code></pre>\n<p>Steps i have tried:</p>\n<ol>\n<li>Removed the new line print from checktwo() method i.e: System.out.println(word);</li>\n<li>added extra : sy.nextLine() method, to consume if any lines were there previously before entering the checkthree() while loop.</li>\n</ol>\n<p>Both the points were not worked.</p>\n<p>Solution i have tried is : passed the input directly from it.checkthree(&quot;This_is_my_name_&quot;); and hardcoded checkthree() method too , and it worked corrcetly.</p>\n<p>Expecting:</p>\n<p>Why my actual code is not working ? due to multiple scanner objects? even tough i need a solution using scanner object only, please provide your recommendations.</p>\n"},{"tags":["java","android","request","gson","android-volley"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680976839,"creation_date":1680976839,"answer_id":75966870,"question_id":75965174,"body_markdown":"HTTP 308 is not an error in that sense, it indicates a [permanent redirect](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308).\r\n\r\nMost likely when you manually tested your web server you used a tool which automatically follows HTTP redirects. For Volley it looks like it should follow redirects, except when the protocol changes between HTTP and HTTPS, see also this [GitHub issue](https://github.com/google/volley/issues/51).\r\n\r\nSince the URL you are using already has `https://` maybe your web server redirects to a `http://` URL? In that case you should adjust your web server though because posting credentials over unencrypted HTTP should be avoided for security reasons.\r\n\r\nOr you could also check the value of [`HttpURLConnection.getFollowRedirects()`](https://developer.android.com/reference/java/net/HttpURLConnection#getFollowRedirects()), maybe for some reason that is `false`.","title":"Login register 308","body":"<p>HTTP 308 is not an error in that sense, it indicates a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308\" rel=\"nofollow noreferrer\">permanent redirect</a>.</p>\n<p>Most likely when you manually tested your web server you used a tool which automatically follows HTTP redirects. For Volley it looks like it should follow redirects, except when the protocol changes between HTTP and HTTPS, see also this <a href=\"https://github.com/google/volley/issues/51\" rel=\"nofollow noreferrer\">GitHub issue</a>.</p>\n<p>Since the URL you are using already has <code>https://</code> maybe your web server redirects to a <code>http://</code> URL? In that case you should adjust your web server though because posting credentials over unencrypted HTTP should be avoided for security reasons.</p>\n<p>Or you could also check the value of <a href=\"https://developer.android.com/reference/java/net/HttpURLConnection#getFollowRedirects()\" rel=\"nofollow noreferrer\"><code>HttpURLConnection.getFollowRedirects()</code></a>, maybe for some reason that is <code>false</code>.</p>\n"}],"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680976839,"creation_date":1680956378,"question_id":75965174,"body_markdown":"I have a web app + database hosted in python which I have tested and works for creating, logging in and logging out user. Now I&#39;m trying to make the requests in my android application written in java. However, I keep getting 308 error. \r\n\r\nHere is my RegisterActivity.java\r\n\r\n    private void register() {\r\n        // Get headers, method and url to be used in the request\r\n        final String user = username.getText().toString();\r\n        final String pass = password.getText().toString();\r\n        Map&lt;String, String&gt; userObject = new HashMap&lt;&gt;();\r\n        userObject.put(&quot;username&quot;, user);\r\n        userObject.put(&quot;password&quot;, pass);\r\n        final int method = Request.Method.POST;\r\n        final String url = &quot;https://tddd80-app-joneri.azurewebsites.net/user&quot;;\r\n\r\n        // Create request\r\n        GsonRequest request = new GsonRequest(Request.Method.POST, url, userObject,\r\n                response    -&gt; System.out.println(&quot;Success! Response: &quot; + response),\r\n                error       -&gt; System.out.println(&quot;Error with request: &quot; + error.getMessage());\r\n\r\n        // Add the request to the Volley request queue\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n        requestQueue.add(request);\r\n\r\n\r\nand this is the most important part of GsonRequest which should parse JSON into string:\r\n\r\n    public class GsonRequest extends Request&lt;String&gt; {\r\n        private final Map&lt;String, String&gt; headers;\r\n        private final Response.Listener&lt;String&gt; listener;\r\n\r\n        public GsonRequest(int method, String url, Map&lt;String, String&gt; headers,\r\n                             Response.Listener&lt;String&gt; listener, Response.ErrorListener \r\n        errorListener) {\r\n            super(method, url, errorListener);\r\n            this.headers = headers;\r\n            this.listener = listener;\r\n        }\r\n\r\nThe error:\r\n\r\n    E/Volley: [16210] NetworkUtility.shouldRetryException: Unexpected response code 308 \r\n    for https://tddd80-app-joneri.azurewebsites.net/user\r\n\r\n\r\nAny help is appreciated!","title":"Login register 308","body":"<p>I have a web app + database hosted in python which I have tested and works for creating, logging in and logging out user. Now I'm trying to make the requests in my android application written in java. However, I keep getting 308 error.</p>\n<p>Here is my RegisterActivity.java</p>\n<pre><code>private void register() {\n    // Get headers, method and url to be used in the request\n    final String user = username.getText().toString();\n    final String pass = password.getText().toString();\n    Map&lt;String, String&gt; userObject = new HashMap&lt;&gt;();\n    userObject.put(&quot;username&quot;, user);\n    userObject.put(&quot;password&quot;, pass);\n    final int method = Request.Method.POST;\n    final String url = &quot;https://tddd80-app-joneri.azurewebsites.net/user&quot;;\n\n    // Create request\n    GsonRequest request = new GsonRequest(Request.Method.POST, url, userObject,\n            response    -&gt; System.out.println(&quot;Success! Response: &quot; + response),\n            error       -&gt; System.out.println(&quot;Error with request: &quot; + error.getMessage());\n\n    // Add the request to the Volley request queue\n    RequestQueue requestQueue = Volley.newRequestQueue(this);\n    requestQueue.add(request);\n</code></pre>\n<p>and this is the most important part of GsonRequest which should parse JSON into string:</p>\n<pre><code>public class GsonRequest extends Request&lt;String&gt; {\n    private final Map&lt;String, String&gt; headers;\n    private final Response.Listener&lt;String&gt; listener;\n\n    public GsonRequest(int method, String url, Map&lt;String, String&gt; headers,\n                         Response.Listener&lt;String&gt; listener, Response.ErrorListener \n    errorListener) {\n        super(method, url, errorListener);\n        this.headers = headers;\n        this.listener = listener;\n    }\n</code></pre>\n<p>The error:</p>\n<pre><code>E/Volley: [16210] NetworkUtility.shouldRetryException: Unexpected response code 308 \nfor https://tddd80-app-joneri.azurewebsites.net/user\n</code></pre>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","docker","logging"],"owner":{"account_id":16917008,"reputation":29,"user_id":16632267,"display_name":"Illy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680976458,"creation_date":1680967247,"question_id":75966037,"body_markdown":"I need my Java application to be able to write log to a file on a Docker volume. \r\n\r\nI expect the `app.log` file to appear in logs folder, but it doesn&#39;t.\r\nWhat am I doing wrong?\r\n\r\nMy application-related entry in `docker-compose.yaml` is as follows:\r\n```yaml\r\napp:\r\n  build: ./\r\n  container_name: java-app\r\n  ports:\r\n  - 8080:8080\r\n  links:\r\n  - postgresq\r\n  environment:\r\n  - SPRING_DATASOURCE_URL=jdbc:postgresql://java-postgres:5432/apartments\r\n  depends_on:\r\n    postgresq: \r\n      condition: service_healthy\r\n  volumes:\r\n    - &quot;./logs/:/app/logs/&quot;\r\n```\r\nMy app&#39;s `application.properties` contains:\r\n```ini\r\nlogging.file.path=/app/logs\r\nlogging.file.name=app.log\r\n```\r\n\r\nTo write log i use something like following:\r\n```java\r\n      ....\r\nprivate static final Logger logger = LogManager.getLogger(MyAppController.class);\r\n      .....\r\nlogger.info(&quot;Reading&quot;);\r\n      .....\r\n``` \r\n","title":"Logging to a file on a Docker volume","body":"<p>I need my Java application to be able to write log to a file on a Docker volume.</p>\n<p>I expect the <code>app.log</code> file to appear in logs folder, but it doesn't.\nWhat am I doing wrong?</p>\n<p>My application-related entry in <code>docker-compose.yaml</code> is as follows:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>app:\n  build: ./\n  container_name: java-app\n  ports:\n  - 8080:8080\n  links:\n  - postgresq\n  environment:\n  - SPRING_DATASOURCE_URL=jdbc:postgresql://java-postgres:5432/apartments\n  depends_on:\n    postgresq: \n      condition: service_healthy\n  volumes:\n    - &quot;./logs/:/app/logs/&quot;\n</code></pre>\n<p>My app's <code>application.properties</code> contains:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>logging.file.path=/app/logs\nlogging.file.name=app.log\n</code></pre>\n<p>To write log i use something like following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      ....\nprivate static final Logger logger = LogManager.getLogger(MyAppController.class);\n      .....\nlogger.info(&quot;Reading&quot;);\n      .....\n</code></pre>\n"},{"tags":["java","maven","jar","io"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680973044,"post_id":75966534,"comment_id":133985978,"body_markdown":"You read files with the `Files` and `Path` class in Java. What exactly is your problem?","body":"You read files with the <code>Files</code> and <code>Path</code> class in Java. What exactly is your problem?"},{"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"score":0,"creation_date":1680973409,"post_id":75966534,"comment_id":133986023,"body_markdown":"Although I can access them when running the .java file (I use Eclipse), the paths seems to be different when I compile the program into a JAR file. The JAR file is in a different folder within the project, so the relative paths to the files I want to access are different.I&#39;m confused by how I should determine the relative path and if it is even possible to access file FROM INSIDE a JAR file.","body":"Although I can access them when running the .java file (I use Eclipse), the paths seems to be different when I compile the program into a JAR file. The JAR file is in a different folder within the project, so the relative paths to the files I want to access are different.I&#39;m confused by how I should determine the relative path and if it is even possible to access file FROM INSIDE a JAR file."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680973460,"post_id":75966534,"comment_id":133986034,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Additonally keep in mind that StackOverflow community is not a free coding service Currently you are not asking any question.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Additonally keep in mind that StackOverflow community is not a free coding service Currently you are not asking any question."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1680974207,"post_id":75966534,"comment_id":133986145,"body_markdown":"The &quot;current&quot; path is an OS artifact, and may not exist in all environments.  Certainly the concept of &quot;relative to the program&quot; or &quot;relative to the jar file&quot;  is completely meaningless.  You must provide externally (configuration) a way for the program to determine absolute paths.","body":"The &quot;current&quot; path is an OS artifact, and may not exist in all environments.  Certainly the concept of &quot;relative to the program&quot; or &quot;relative to the jar file&quot;  is completely meaningless.  You must provide externally (configuration) a way for the program to determine absolute paths."},{"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"score":0,"creation_date":1680974541,"post_id":75966534,"comment_id":133986191,"body_markdown":"Is using absolute paths a common practice in java development? I just assumed that it isn&#39;t and that absolute paths can&#39;t always be obtained.","body":"Is using absolute paths a common practice in java development? I just assumed that it isn&#39;t and that absolute paths can&#39;t always be obtained."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680974636,"post_id":75966534,"comment_id":133986209,"body_markdown":"You need to distinguish between &quot;files that are part of your program&quot; and &quot;files that the users of your program create / modify&quot;. &quot;Files that are part of your program&quot; are created by you, are resources and distributed with your progam. So they can be placed into the jar file and loaded using `Class.getResourceAsStream()` when needed. &quot;Files that the users of your program create / modify&quot; are external files and you have no choice but to ask the user which file he wants to work with (and thereby also specifying to path to the files).","body":"You need to distinguish between &quot;files that are part of your program&quot; and &quot;files that the users of your program create / modify&quot;. &quot;Files that are part of your program&quot; are created by you, are resources and distributed with your progam. So they can be placed into the jar file and loaded using <code>Class.getResourceAsStream()</code> when needed. &quot;Files that the users of your program create / modify&quot; are external files and you have no choice but to ask the user which file he wants to work with (and thereby also specifying to path to the files)."},{"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"score":0,"creation_date":1680975051,"post_id":75966534,"comment_id":133986267,"body_markdown":"I&#39;m trying to create the file automatically using File.createNewFile() because I can&#39;t store empty files in a GitHub repository. Could I create and access files through the JAR file that way?","body":"I&#39;m trying to create the file automatically using File.createNewFile() because I can&#39;t store empty files in a GitHub repository. Could I create and access files through the JAR file that way?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681033285,"post_id":75966534,"comment_id":133991489,"body_markdown":"You cannot use `File` and `FileInputStream` and the like to access resources in a JAR file.  You read resources in a JAR using `ClassLoader.getResourceAsStream` ... and you don&#39;t write them ... &#39;cos the JAR file is typically read-only and/or not owned by the user.","body":"You cannot use <code>File</code> and <code>FileInputStream</code> and the like to access resources in a JAR file.  You read resources in a JAR using <code>ClassLoader.getResourceAsStream</code> ... and you don&#39;t write them ... &#39;cos the JAR file is typically read-only and/or not owned by the user."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680976369,"creation_date":1680976369,"answer_id":75966832,"question_id":75966534,"body_markdown":"The proper way to distribute standalone applications is either:\r\n\r\n* Via the OS&#39;s built in app distribution system, such as `apt` on debian linux installations, or app stores. If that&#39;s not an option (and it&#39;s kind of a drag to figure out how to do that with java apps, and requires building something specific for each and every OS you target)\r\n* By having the static app data (so, the executables, i.e. the jar files, as well as any static data that wouldn&#39;t ever change. Think, say, the &#39;save&#39; icon for a desktop text editor application. That&#39;s not something you&#39;d generally allow a user to change) in one place, and any user data (such as a text file they wrote), or any data that your app already ships with but _is_ user-changable (such as config files), in a different place. Crucially, proper OS hygiene says that the app should be unable to write to its own static files.\r\n\r\nGood OSes work exactly like this. For a very long time, the standard deployment model on windows OS was to have `C:\\Program Files\\SomeApp` which contained _both_ the app&#39;s static files/data as well as e.g. config files and the like, and that folder was writable to the app. No wonder, the general security mindset of all involved parties for windows installations (users, supplier (i.e. microsoft), and developers) didn&#39;t take security very seriously.\r\n\r\nFortunately, even windows woke up to reality on this and the more modern take on windows is... still to do that, but to have config and user files elsewhere, e.g. in a `My Documents` folder.\r\n\r\nYou should do the same thing.\r\n\r\nOnce you do it that way, your question immediately becomes irrelevant - there is no need to know how to write into a jar file, because you shouldn&#39;t do that in the first place. The jar file is where the static data lives.\r\n\r\n## I have template data\r\n\r\nTemplate data is the notion that your app should ship &#39;out of the box&#39; with a non-blank base entry but that the user IS allowed to change it if they wish. For example, imagine you really did have a text editor whose save icon can be configured in the app&#39;s settings pane. You don&#39;t want it to ship without an icon at all, of course.\r\n\r\nIn this case, you stick the standard save icon in your app and you either treat &#39;user-configurable save icon is not there&#39; as &#39;... so then load the default icon from the jar, via `.getResource`&#39;, or as &#39;... so then I shall copy over the template (the default save icon in the jar) to the proper location on disk, not in a jar, in the user&#39;s home dir someplace, so they know what to edit&#39;.\r\n\r\nThat last one is particularly convenient for config files, where you want the config file to be editable by the user and have lots of comment notes so the user knows what each setting does and which values they can change them to.\r\n\r\n## I want the old way, how do I get my own jar file&#39;s path?\r\n\r\nEasy enough, but it requires a light bit of hackery. You ask for your own class via getResource, e.g:\r\n\r\n```\r\nclass MyApp {\r\n  public static Path getPathToMyOwnJar() {\r\n    String url = MyApp.class.getResource(&quot;MyApp.class&quot;).toString();\r\n    if (url.startsWith(&quot;jar:&quot;)) {\r\n      return new File(new URI(url.substring(4, url.indexOf(&#39;!&#39;)))).toPath();\r\n    }\r\n    if (url.startsWith(&quot;file:&quot;)) {\r\n      File f = new File(url.toURI()).toPath();\r\n      // do some basic coding on walking up the tree for each package\r\n      // element. i.e. turn `C:\\Program Files\\MyApp\\bin\\com\\foo\\MyApp.class`\r\n      // into `C:\\Program Files\\MyApp`.\r\n    }\r\n    throw new IllegalStateException(&quot;Own classpath source is neither a jar nor a file, but: &quot; + url + &quot; -- cannot determine own path&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThis uses the fact that you can always ask &#39;where is my own class file&#39; and the URL returned is generally `url:file://path/to/yourjar.jar!/com/foo/YourClass.class`, or `file://path/to/classpath/bin/com/foo/YourClass.class` depending on whether your app is running as jar or straight from the file system. We can parse that and break out the data.\r\n\r\nI&#39;m not quite sure _why_ you would want to do this; the place you find is not necessarily a good place to write files.\r\n\r\nGenerally, `.getResource` works regardless of whether your app is in jars or just as class files on disk or however else it&#39;s deployed, that&#39;s the point: `getResource` looks in the same place that `java.exe` itself looks for class files. Where-ever that might be. This mechanism (find me a resource; look in the same place you look for class files) can __only__ read and can __not__ list, you can just ask for a specific file, that&#39;s it.\r\n\r\nTo access external folders, that&#39;s.. just file access, check the [`java.nio.file`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/package-summary.html) package for the API you can use; you can access whatever you want with this. Note that `System.getProperty(&quot;user.home&quot;)` gets you the user&#39;s home dir, i.e. `/home/username` on linux, `/Users/username` on mac, `C:\\Users\\username` on windows. Toss that through `Paths.get()` and `.resolve()` your way from there to write files to the user&#39;s homedir, which is where you should be writing them (preferably in a sane subfolder).\r\n","title":"File IO From a JAR File","body":"<p>The proper way to distribute standalone applications is either:</p>\n<ul>\n<li>Via the OS's built in app distribution system, such as <code>apt</code> on debian linux installations, or app stores. If that's not an option (and it's kind of a drag to figure out how to do that with java apps, and requires building something specific for each and every OS you target)</li>\n<li>By having the static app data (so, the executables, i.e. the jar files, as well as any static data that wouldn't ever change. Think, say, the 'save' icon for a desktop text editor application. That's not something you'd generally allow a user to change) in one place, and any user data (such as a text file they wrote), or any data that your app already ships with but <em>is</em> user-changable (such as config files), in a different place. Crucially, proper OS hygiene says that the app should be unable to write to its own static files.</li>\n</ul>\n<p>Good OSes work exactly like this. For a very long time, the standard deployment model on windows OS was to have <code>C:\\Program Files\\SomeApp</code> which contained <em>both</em> the app's static files/data as well as e.g. config files and the like, and that folder was writable to the app. No wonder, the general security mindset of all involved parties for windows installations (users, supplier (i.e. microsoft), and developers) didn't take security very seriously.</p>\n<p>Fortunately, even windows woke up to reality on this and the more modern take on windows is... still to do that, but to have config and user files elsewhere, e.g. in a <code>My Documents</code> folder.</p>\n<p>You should do the same thing.</p>\n<p>Once you do it that way, your question immediately becomes irrelevant - there is no need to know how to write into a jar file, because you shouldn't do that in the first place. The jar file is where the static data lives.</p>\n<h2>I have template data</h2>\n<p>Template data is the notion that your app should ship 'out of the box' with a non-blank base entry but that the user IS allowed to change it if they wish. For example, imagine you really did have a text editor whose save icon can be configured in the app's settings pane. You don't want it to ship without an icon at all, of course.</p>\n<p>In this case, you stick the standard save icon in your app and you either treat 'user-configurable save icon is not there' as '... so then load the default icon from the jar, via <code>.getResource</code>', or as '... so then I shall copy over the template (the default save icon in the jar) to the proper location on disk, not in a jar, in the user's home dir someplace, so they know what to edit'.</p>\n<p>That last one is particularly convenient for config files, where you want the config file to be editable by the user and have lots of comment notes so the user knows what each setting does and which values they can change them to.</p>\n<h2>I want the old way, how do I get my own jar file's path?</h2>\n<p>Easy enough, but it requires a light bit of hackery. You ask for your own class via getResource, e.g:</p>\n<pre><code>class MyApp {\n  public static Path getPathToMyOwnJar() {\n    String url = MyApp.class.getResource(&quot;MyApp.class&quot;).toString();\n    if (url.startsWith(&quot;jar:&quot;)) {\n      return new File(new URI(url.substring(4, url.indexOf('!')))).toPath();\n    }\n    if (url.startsWith(&quot;file:&quot;)) {\n      File f = new File(url.toURI()).toPath();\n      // do some basic coding on walking up the tree for each package\n      // element. i.e. turn `C:\\Program Files\\MyApp\\bin\\com\\foo\\MyApp.class`\n      // into `C:\\Program Files\\MyApp`.\n    }\n    throw new IllegalStateException(&quot;Own classpath source is neither a jar nor a file, but: &quot; + url + &quot; -- cannot determine own path&quot;);\n  }\n}\n</code></pre>\n<p>This uses the fact that you can always ask 'where is my own class file' and the URL returned is generally <code>url:file://path/to/yourjar.jar!/com/foo/YourClass.class</code>, or <code>file://path/to/classpath/bin/com/foo/YourClass.class</code> depending on whether your app is running as jar or straight from the file system. We can parse that and break out the data.</p>\n<p>I'm not quite sure <em>why</em> you would want to do this; the place you find is not necessarily a good place to write files.</p>\n<p>Generally, <code>.getResource</code> works regardless of whether your app is in jars or just as class files on disk or however else it's deployed, that's the point: <code>getResource</code> looks in the same place that <code>java.exe</code> itself looks for class files. Where-ever that might be. This mechanism (find me a resource; look in the same place you look for class files) can <strong>only</strong> read and can <strong>not</strong> list, you can just ask for a specific file, that's it.</p>\n<p>To access external folders, that's.. just file access, check the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.nio.file</code></a> package for the API you can use; you can access whatever you want with this. Note that <code>System.getProperty(&quot;user.home&quot;)</code> gets you the user's home dir, i.e. <code>/home/username</code> on linux, <code>/Users/username</code> on mac, <code>C:\\Users\\username</code> on windows. Toss that through <code>Paths.get()</code> and <code>.resolve()</code> your way from there to write files to the user's homedir, which is where you should be writing them (preferably in a sane subfolder).</p>\n"}],"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680976369,"creation_date":1680972921,"question_id":75966534,"body_markdown":"How do I both create and read files from outside the JAR file? Should I even be using a jar file to run a program if I want the application to be distributed?\r\n\r\nI&#39;m trying to write a Java program to draw tilemaps, and I want to save some files. I&#39;m also trying to learn how to properly structure my program, so I formatted it as a Maven project. I can do that easily from the src/main/java/ .java files, but it gets confusing when I build the program into a JAR file.\r\n\r\nI&#39;ve been researching ways to access external folders when running a program through a JAR file and I cannot find a clear answer.","title":"File IO From a JAR File","body":"<p>How do I both create and read files from outside the JAR file? Should I even be using a jar file to run a program if I want the application to be distributed?</p>\n<p>I'm trying to write a Java program to draw tilemaps, and I want to save some files. I'm also trying to learn how to properly structure my program, so I formatted it as a Maven project. I can do that easily from the src/main/java/ .java files, but it gets confusing when I build the program into a JAR file.</p>\n<p>I've been researching ways to access external folders when running a program through a JAR file and I cannot find a clear answer.</p>\n"},{"tags":["java","c++","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1576433,"reputation":22953,"user_id":1462718,"accept_rate":89,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649438588,"creation_date":1649435176,"answer_id":71800379,"question_id":71799495,"body_markdown":"That Java code doesn&#39;t load a jar properly. At least it doesn&#39;t define the classes or keep track of the names of the entries in the jar.\r\n\r\nThis works for all the jars I&#39;ve tested in the past:\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;iostream&gt;\r\n    #include &lt;memory&gt;\r\n    #include &lt;utility&gt;\r\n    #include &lt;vector&gt;\r\n    \r\n    struct JVM\r\n    {\r\n        JavaVM* vm;\r\n        JNIEnv* env;\r\n    };\r\n    \r\n    JVM create_java_vm()\r\n    {\r\n        const char* argv[] = {&quot;-Djava.compiler=NONE&quot;,\r\n                              &quot;-Djava.class.path=.&quot;}; //&quot;-verbose:jni&quot;\r\n        const int argc = static_cast&lt;int&gt;(sizeof(argv) / sizeof(argv[0]));\r\n        \r\n        JavaVMInitArgs jvm_args;\r\n        JavaVMOption options[argc];\r\n    \r\n        for (int i = 0; i &lt; argc; ++i)\r\n        {\r\n            options[i].optionString = const_cast&lt;char*&gt;(argv[i]);\r\n        }\r\n    \r\n        JavaVM* vm = nullptr;\r\n        JNIEnv* env = nullptr;\r\n        JNI_GetDefaultJavaVMInitArgs(&amp;jvm_args);\r\n    \r\n        jvm_args.version = JNI_VERSION_1_8;\r\n        jvm_args.nOptions = argc;\r\n        jvm_args.options = options;\r\n        jvm_args.ignoreUnrecognized = false;\r\n    \r\n        if (JNI_CreateJavaVM(&amp;vm, reinterpret_cast&lt;void**&gt;(&amp;env), &amp;jvm_args) != JNI_OK)\r\n        {\r\n            return {vm, env};\r\n        }\r\n        return {vm, env};\r\n    }\r\n    \r\n    bool load_jar(JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;jar_data, bool ignore_exceptions = false)\r\n    {\r\n        auto string_replace_all = [&amp;](std::string str, const std::string&amp; from, const std::string&amp; to) -&gt; std::string {\r\n            size_t start_pos = 0;\r\n            while((start_pos = str.find(from, start_pos)) != std::string::npos)\r\n            {\r\n                str.replace(start_pos, from.length(), to);\r\n            }\r\n            return str;\r\n        };\r\n    \r\n        auto byte_array_input_stream = [](JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;buffer) -&gt; jobject {\r\n            jbyteArray arr = env-&gt;NewByteArray(static_cast&lt;jsize&gt;(buffer.size()));\r\n            if (arr)\r\n            {\r\n                env-&gt;SetByteArrayRegion(arr, 0, static_cast&lt;jsize&gt;(buffer.size()), reinterpret_cast&lt;const jbyte*&gt;(&amp;buffer[0]));\r\n                jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayInputStream&quot;);\r\n                if (cls)\r\n                {\r\n                    jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;([B)V&quot;);\r\n                    if (method)\r\n                    {\r\n                        jobject result = env-&gt;NewObject(cls, method, arr);\r\n                        if (result)\r\n                        {\r\n                            env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                            env-&gt;DeleteLocalRef(cls);\r\n                            env-&gt;DeleteLocalRef(arr);\r\n                            return result;\r\n                        }\r\n                    }\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                }\r\n                env-&gt;DeleteLocalRef(arr);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto jar_input_stream = [](JNIEnv* env, jobject input_stream) -&gt; jobject {\r\n            jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarInputStream&quot;);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Ljava/io/InputStream;)V&quot;);\r\n                if (method)\r\n                {\r\n                    jobject result = env-&gt;NewObject(cls, method, input_stream);\r\n                    if (result)\r\n                    {\r\n                        env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                        env-&gt;DeleteLocalRef(cls);\r\n                        return result;\r\n                    }\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto input_stream_read = [](JNIEnv* env, jobject input_stream) -&gt; jint {\r\n            jclass cls = env-&gt;GetObjectClass(input_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;read&quot;, &quot;()I&quot;);\r\n                if (method)\r\n                {\r\n                    jint result = env-&gt;CallIntMethod(input_stream, method);\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                    return result;\r\n                }\r\n                \r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return -1;\r\n        };\r\n    \r\n        auto byte_array_output_stream = [](JNIEnv* env) -&gt; jobject {\r\n            jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayOutputStream&quot;);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n                if (method)\r\n                {\r\n                    jobject result = env-&gt;NewObject(cls, method);\r\n                    if (result)\r\n                    {\r\n                        env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                        env-&gt;DeleteLocalRef(cls);\r\n                        return result;\r\n                    }\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto output_stream_write = [](JNIEnv* env, jobject output_stream, jint value) {\r\n            jclass cls = env-&gt;GetObjectClass(output_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;write&quot;, &quot;(I)V&quot;);\r\n                if (method)\r\n                {\r\n                    env-&gt;CallVoidMethod(output_stream, method, value);\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n        };\r\n    \r\n        auto byte_array_output_stream_to_byte_array = [](JNIEnv* env, jobject output_stream) -&gt; std::vector&lt;std::uint8_t&gt; {\r\n            jclass cls = env-&gt;GetObjectClass(output_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;toByteArray&quot;, &quot;()[B&quot;);\r\n                if (method)\r\n                {\r\n                    jbyteArray bytes = reinterpret_cast&lt;jbyteArray&gt;(env-&gt;CallObjectMethod(output_stream, method));\r\n                    if (bytes)\r\n                    {\r\n                        void* arr = env-&gt;GetPrimitiveArrayCritical(bytes, nullptr);\r\n                        if (arr)\r\n                        {\r\n                            jsize size = env-&gt;GetArrayLength(bytes);\r\n                            auto result = std::vector&lt;std::uint8_t&gt;(static_cast&lt;std::uint8_t*&gt;(arr),\r\n                                                                    static_cast&lt;std::uint8_t*&gt;(arr) + size);\r\n                            env-&gt;ReleasePrimitiveArrayCritical(bytes, arr, 0);\r\n                            env-&gt;DeleteLocalRef(bytes);\r\n                            env-&gt;DeleteLocalRef(cls);\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return {};\r\n        };\r\n    \r\n        auto get_next_jar_entry = [](JNIEnv* env, jobject jar_input_stream) -&gt; jobject {\r\n            jclass cls = env-&gt;GetObjectClass(jar_input_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;getNextJarEntry&quot;, &quot;()Ljava/util/jar/JarEntry;&quot;);\r\n                if (method)\r\n                {\r\n                    jobject result = env-&gt;CallObjectMethod(jar_input_stream, method);\r\n                    env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                    return result;\r\n                }\r\n                \r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto jar_entry_get_name = [](JNIEnv* env, jobject jar_entry) -&gt; std::string {\r\n            jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarEntry&quot;);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\r\n                if (method)\r\n                {\r\n                    jstring jstr = reinterpret_cast&lt;jstring&gt;(env-&gt;CallObjectMethod(jar_entry, method));\r\n                    const char *name_string = env-&gt;GetStringUTFChars(jstr, 0);\r\n                    std::string result = std::string(name_string);\r\n                    env-&gt;ReleaseStringUTFChars(jstr, name_string);\r\n                    env-&gt;DeleteLocalRef(jstr);\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                    return result;\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return std::string();\r\n        };\r\n    \r\n        // Load the Jar\r\n        jobject bais = byte_array_input_stream(env, jar_data);\r\n        if (!bais)\r\n        {\r\n            std::cerr&lt;&lt;&quot;Failed to open ByteArrayInputStream\\n&quot;;\r\n            return false;\r\n        }\r\n    \r\n        jobject jis = jar_input_stream(env, bais);\r\n        if (!jis)\r\n        {\r\n            env-&gt;DeleteGlobalRef(bais);\r\n            std::cerr&lt;&lt;&quot;Failed to open JarInputStream\\n&quot;;\r\n            return false;\r\n        }\r\n    \r\n        // Read the jar entries\r\n        jobject jar_entry = nullptr;\r\n        const std::string extension = &quot;.class&quot;;\r\n    \r\n        while((jar_entry = get_next_jar_entry(env, jis)))\r\n        {\r\n            std::string name = jar_entry_get_name(env, jar_entry);\r\n            if ((name.length() &gt; extension.length()) &amp;&amp; (name.rfind(extension) == name.length() - extension.length()))\r\n            {\r\n                jobject baos = byte_array_output_stream(env);\r\n                if (!baos)\r\n                {\r\n                    std::cerr&lt;&lt;&quot;Failed to open ByteArrayOutputStream for: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\r\n                    if (!ignore_exceptions)\r\n                    {\r\n                        env-&gt;DeleteGlobalRef(jar_entry);\r\n                        env-&gt;DeleteGlobalRef(jis);\r\n                        env-&gt;DeleteGlobalRef(bais);\r\n                        return false;\r\n                    }\r\n                }\r\n    \r\n                // Define the class\r\n                jint value = -1;\r\n                while((value = input_stream_read(env, jis)) != -1)\r\n                {\r\n                    output_stream_write(env, baos, value);\r\n                }\r\n                \r\n                std::vector&lt;std::uint8_t&gt; bytes = byte_array_output_stream_to_byte_array(env, baos);\r\n                \r\n                std::string canonicalName = string_replace_all(string_replace_all(name, &quot;/&quot;, &quot;.&quot;),\r\n                                                                &quot;.class&quot;,\r\n                                                                std::string());\r\n                \r\n                jclass cls = env-&gt;DefineClass(string_replace_all(name, &quot;.class&quot;, &quot;&quot;).c_str(),\r\n                                                nullptr, reinterpret_cast&lt;jbyte*&gt;(bytes.data()),\r\n                                                static_cast&lt;jint&gt;(bytes.size()));\r\n                \r\n                if (cls)\r\n                {\r\n                    std::cerr&lt;&lt;&quot;Defined: &quot;&lt;&lt;canonicalName&lt;&lt;&quot; Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                }\r\n                else\r\n                {\r\n                    std::cerr&lt;&lt;&quot;Failed to define: &quot;&lt;&lt;canonicalName&lt;&lt;&quot;  Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\r\n                    if (env-&gt;ExceptionCheck())\r\n                    {\r\n                        env-&gt;ExceptionDescribe();\r\n                        env-&gt;ExceptionClear();\r\n    \r\n                        if (!ignore_exceptions)\r\n                        {\r\n                            env-&gt;DeleteGlobalRef(jar_entry);\r\n                            env-&gt;DeleteGlobalRef(jis);\r\n                            env-&gt;DeleteGlobalRef(bais);\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                std::cerr&lt;&lt;&quot;Skipping Resource: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\r\n            }\r\n            \r\n            env-&gt;DeleteGlobalRef(jar_entry);\r\n        }\r\n        env-&gt;DeleteGlobalRef(jis);\r\n        env-&gt;DeleteGlobalRef(bais);\r\n        return true;\r\n    }\r\n    \r\n    int main(int argc, const char* argv[])\r\n    {\r\n        JVM jvm = create_java_vm();\r\n        if (!jvm.vm)\r\n        {\r\n            std::cerr&lt;&lt;&quot;Failed to Create JavaVM\\n&quot;;\r\n            return 0;\r\n        }\r\n    \r\n        if (load_jar(jvm.env, some_jar_as_bytes, true))\r\n        {\r\n            std::cout&lt;&lt;&quot;Jar loaded successfully\\n&quot;;\r\n        }\r\n        else\r\n        {\r\n            std::cerr&lt;&lt;&quot;Failed to load Jar\\n&quot;;\r\n        }\r\n    \r\n        jvm.vm-&gt;DestroyJavaVM();\r\n        return 0;\r\n    }","title":"Loading java classes from JAR bytes in JNI","body":"<p>That Java code doesn't load a jar properly. At least it doesn't define the classes or keep track of the names of the entries in the jar.</p>\n<p>This works for all the jars I've tested in the past:</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\n#include &lt;memory&gt;\n#include &lt;utility&gt;\n#include &lt;vector&gt;\n\nstruct JVM\n{\n    JavaVM* vm;\n    JNIEnv* env;\n};\n\nJVM create_java_vm()\n{\n    const char* argv[] = {&quot;-Djava.compiler=NONE&quot;,\n                          &quot;-Djava.class.path=.&quot;}; //&quot;-verbose:jni&quot;\n    const int argc = static_cast&lt;int&gt;(sizeof(argv) / sizeof(argv[0]));\n    \n    JavaVMInitArgs jvm_args;\n    JavaVMOption options[argc];\n\n    for (int i = 0; i &lt; argc; ++i)\n    {\n        options[i].optionString = const_cast&lt;char*&gt;(argv[i]);\n    }\n\n    JavaVM* vm = nullptr;\n    JNIEnv* env = nullptr;\n    JNI_GetDefaultJavaVMInitArgs(&amp;jvm_args);\n\n    jvm_args.version = JNI_VERSION_1_8;\n    jvm_args.nOptions = argc;\n    jvm_args.options = options;\n    jvm_args.ignoreUnrecognized = false;\n\n    if (JNI_CreateJavaVM(&amp;vm, reinterpret_cast&lt;void**&gt;(&amp;env), &amp;jvm_args) != JNI_OK)\n    {\n        return {vm, env};\n    }\n    return {vm, env};\n}\n\nbool load_jar(JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;jar_data, bool ignore_exceptions = false)\n{\n    auto string_replace_all = [&amp;](std::string str, const std::string&amp; from, const std::string&amp; to) -&gt; std::string {\n        size_t start_pos = 0;\n        while((start_pos = str.find(from, start_pos)) != std::string::npos)\n        {\n            str.replace(start_pos, from.length(), to);\n        }\n        return str;\n    };\n\n    auto byte_array_input_stream = [](JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;buffer) -&gt; jobject {\n        jbyteArray arr = env-&gt;NewByteArray(static_cast&lt;jsize&gt;(buffer.size()));\n        if (arr)\n        {\n            env-&gt;SetByteArrayRegion(arr, 0, static_cast&lt;jsize&gt;(buffer.size()), reinterpret_cast&lt;const jbyte*&gt;(&amp;buffer[0]));\n            jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayInputStream&quot;);\n            if (cls)\n            {\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;([B)V&quot;);\n                if (method)\n                {\n                    jobject result = env-&gt;NewObject(cls, method, arr);\n                    if (result)\n                    {\n                        env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                        env-&gt;DeleteLocalRef(cls);\n                        env-&gt;DeleteLocalRef(arr);\n                        return result;\n                    }\n                }\n                env-&gt;DeleteLocalRef(cls);\n            }\n            env-&gt;DeleteLocalRef(arr);\n        }\n        return nullptr;\n    };\n\n    auto jar_input_stream = [](JNIEnv* env, jobject input_stream) -&gt; jobject {\n        jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarInputStream&quot;);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Ljava/io/InputStream;)V&quot;);\n            if (method)\n            {\n                jobject result = env-&gt;NewObject(cls, method, input_stream);\n                if (result)\n                {\n                    env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                    env-&gt;DeleteLocalRef(cls);\n                    return result;\n                }\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return nullptr;\n    };\n\n    auto input_stream_read = [](JNIEnv* env, jobject input_stream) -&gt; jint {\n        jclass cls = env-&gt;GetObjectClass(input_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;read&quot;, &quot;()I&quot;);\n            if (method)\n            {\n                jint result = env-&gt;CallIntMethod(input_stream, method);\n                env-&gt;DeleteLocalRef(cls);\n                return result;\n            }\n            \n            env-&gt;DeleteLocalRef(cls);\n        }\n        return -1;\n    };\n\n    auto byte_array_output_stream = [](JNIEnv* env) -&gt; jobject {\n        jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayOutputStream&quot;);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\n            if (method)\n            {\n                jobject result = env-&gt;NewObject(cls, method);\n                if (result)\n                {\n                    env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                    env-&gt;DeleteLocalRef(cls);\n                    return result;\n                }\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return nullptr;\n    };\n\n    auto output_stream_write = [](JNIEnv* env, jobject output_stream, jint value) {\n        jclass cls = env-&gt;GetObjectClass(output_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;write&quot;, &quot;(I)V&quot;);\n            if (method)\n            {\n                env-&gt;CallVoidMethod(output_stream, method, value);\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n    };\n\n    auto byte_array_output_stream_to_byte_array = [](JNIEnv* env, jobject output_stream) -&gt; std::vector&lt;std::uint8_t&gt; {\n        jclass cls = env-&gt;GetObjectClass(output_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;toByteArray&quot;, &quot;()[B&quot;);\n            if (method)\n            {\n                jbyteArray bytes = reinterpret_cast&lt;jbyteArray&gt;(env-&gt;CallObjectMethod(output_stream, method));\n                if (bytes)\n                {\n                    void* arr = env-&gt;GetPrimitiveArrayCritical(bytes, nullptr);\n                    if (arr)\n                    {\n                        jsize size = env-&gt;GetArrayLength(bytes);\n                        auto result = std::vector&lt;std::uint8_t&gt;(static_cast&lt;std::uint8_t*&gt;(arr),\n                                                                static_cast&lt;std::uint8_t*&gt;(arr) + size);\n                        env-&gt;ReleasePrimitiveArrayCritical(bytes, arr, 0);\n                        env-&gt;DeleteLocalRef(bytes);\n                        env-&gt;DeleteLocalRef(cls);\n                        return result;\n                    }\n                }\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return {};\n    };\n\n    auto get_next_jar_entry = [](JNIEnv* env, jobject jar_input_stream) -&gt; jobject {\n        jclass cls = env-&gt;GetObjectClass(jar_input_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;getNextJarEntry&quot;, &quot;()Ljava/util/jar/JarEntry;&quot;);\n            if (method)\n            {\n                jobject result = env-&gt;CallObjectMethod(jar_input_stream, method);\n                env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                env-&gt;DeleteLocalRef(cls);\n                return result;\n            }\n            \n            env-&gt;DeleteLocalRef(cls);\n        }\n        return nullptr;\n    };\n\n    auto jar_entry_get_name = [](JNIEnv* env, jobject jar_entry) -&gt; std::string {\n        jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarEntry&quot;);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\n            if (method)\n            {\n                jstring jstr = reinterpret_cast&lt;jstring&gt;(env-&gt;CallObjectMethod(jar_entry, method));\n                const char *name_string = env-&gt;GetStringUTFChars(jstr, 0);\n                std::string result = std::string(name_string);\n                env-&gt;ReleaseStringUTFChars(jstr, name_string);\n                env-&gt;DeleteLocalRef(jstr);\n                env-&gt;DeleteLocalRef(cls);\n                return result;\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return std::string();\n    };\n\n    // Load the Jar\n    jobject bais = byte_array_input_stream(env, jar_data);\n    if (!bais)\n    {\n        std::cerr&lt;&lt;&quot;Failed to open ByteArrayInputStream\\n&quot;;\n        return false;\n    }\n\n    jobject jis = jar_input_stream(env, bais);\n    if (!jis)\n    {\n        env-&gt;DeleteGlobalRef(bais);\n        std::cerr&lt;&lt;&quot;Failed to open JarInputStream\\n&quot;;\n        return false;\n    }\n\n    // Read the jar entries\n    jobject jar_entry = nullptr;\n    const std::string extension = &quot;.class&quot;;\n\n    while((jar_entry = get_next_jar_entry(env, jis)))\n    {\n        std::string name = jar_entry_get_name(env, jar_entry);\n        if ((name.length() &gt; extension.length()) &amp;&amp; (name.rfind(extension) == name.length() - extension.length()))\n        {\n            jobject baos = byte_array_output_stream(env);\n            if (!baos)\n            {\n                std::cerr&lt;&lt;&quot;Failed to open ByteArrayOutputStream for: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\n                if (!ignore_exceptions)\n                {\n                    env-&gt;DeleteGlobalRef(jar_entry);\n                    env-&gt;DeleteGlobalRef(jis);\n                    env-&gt;DeleteGlobalRef(bais);\n                    return false;\n                }\n            }\n\n            // Define the class\n            jint value = -1;\n            while((value = input_stream_read(env, jis)) != -1)\n            {\n                output_stream_write(env, baos, value);\n            }\n            \n            std::vector&lt;std::uint8_t&gt; bytes = byte_array_output_stream_to_byte_array(env, baos);\n            \n            std::string canonicalName = string_replace_all(string_replace_all(name, &quot;/&quot;, &quot;.&quot;),\n                                                            &quot;.class&quot;,\n                                                            std::string());\n            \n            jclass cls = env-&gt;DefineClass(string_replace_all(name, &quot;.class&quot;, &quot;&quot;).c_str(),\n                                            nullptr, reinterpret_cast&lt;jbyte*&gt;(bytes.data()),\n                                            static_cast&lt;jint&gt;(bytes.size()));\n            \n            if (cls)\n            {\n                std::cerr&lt;&lt;&quot;Defined: &quot;&lt;&lt;canonicalName&lt;&lt;&quot; Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\n                env-&gt;DeleteLocalRef(cls);\n            }\n            else\n            {\n                std::cerr&lt;&lt;&quot;Failed to define: &quot;&lt;&lt;canonicalName&lt;&lt;&quot;  Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\n                if (env-&gt;ExceptionCheck())\n                {\n                    env-&gt;ExceptionDescribe();\n                    env-&gt;ExceptionClear();\n\n                    if (!ignore_exceptions)\n                    {\n                        env-&gt;DeleteGlobalRef(jar_entry);\n                        env-&gt;DeleteGlobalRef(jis);\n                        env-&gt;DeleteGlobalRef(bais);\n                        return false;\n                    }\n                }\n            }\n        }\n        else\n        {\n            std::cerr&lt;&lt;&quot;Skipping Resource: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\n        }\n        \n        env-&gt;DeleteGlobalRef(jar_entry);\n    }\n    env-&gt;DeleteGlobalRef(jis);\n    env-&gt;DeleteGlobalRef(bais);\n    return true;\n}\n\nint main(int argc, const char* argv[])\n{\n    JVM jvm = create_java_vm();\n    if (!jvm.vm)\n    {\n        std::cerr&lt;&lt;&quot;Failed to Create JavaVM\\n&quot;;\n        return 0;\n    }\n\n    if (load_jar(jvm.env, some_jar_as_bytes, true))\n    {\n        std::cout&lt;&lt;&quot;Jar loaded successfully\\n&quot;;\n    }\n    else\n    {\n        std::cerr&lt;&lt;&quot;Failed to load Jar\\n&quot;;\n    }\n\n    jvm.vm-&gt;DestroyJavaVM();\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":24266172,"reputation":17,"user_id":18251136,"display_name":"nonxis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71800379,"answer_count":1,"score":0,"last_activity_date":1680975522,"creation_date":1649431237,"question_id":71799495,"body_markdown":"I trying to load all java classes from JAR file bytes at runtime using JNI.\\\r\nMy code\r\n\r\n```\r\n#include &lt;jni.h&gt;\r\n#include &lt;string&gt;\r\nusing namespace std;\r\n\r\nint main() {\r\n    JavaVM* jvm;\r\n    JNIEnv* env;\r\n    long res = CreateJVM(&amp;jvm, &amp;env, &quot;&quot;);\r\n\r\n    jclass class_loader = env-&gt;FindClass(&quot;java/lang/ClassLoader&quot;);\r\n    jobject system_loader = env-&gt;CallStaticObjectMethod(class_loader, env-&gt;GetStaticMethodID(class_loader, &quot;getSystemClassLoader&quot;, &quot;()Ljava/lang/ClassLoader;&quot;));\r\n    jbyte* bytes = &lt;bytes&gt;\r\n\r\n\r\n    // define all classes from this bytes\r\n    env-&gt;DefineClass(&quot;Main&quot;, system_loader, bytes, sizeof(bytes));\r\n    ...\r\n\r\n    if (res == JNI_OK) {\r\n        jclass cls = env-&gt;FindClass(&quot;Main&quot;);\r\n        jmethodID mid = env-&gt;GetStaticMethodID(cls, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\n        env-&gt;CallStaticVoidMethod(cls, mid, NULL);\r\n    }\r\n\r\n    jvm-&gt;DestroyJavaVM();\r\n}\r\n```\r\n\r\nI need to read bytes of a JAR file, convert them into jbytes and load all the java classes from those bytes to runtime\r\n\r\nLike this code in java\r\n\r\n```\r\nfinal var classes = new ArrayList&lt;byte[]&gt;();\r\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\r\n{\r\n  var entry = inputStream.getNextJarEntry();\r\n  while( nonNull( entry ) )\r\n  {\r\n    var buffer = new bytes [entry.getSize()];\r\n    inputStream.read( buffer, 0, entry.getSize()];\r\n    classes.add( buffer );\r\n    entry = inputStream.getNextJarEntry();\r\n  }\r\n}\r\n```","title":"Loading java classes from JAR bytes in JNI","body":"<p>I trying to load all java classes from JAR file bytes at runtime using JNI.<br />\nMy code</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main() {\n    JavaVM* jvm;\n    JNIEnv* env;\n    long res = CreateJVM(&amp;jvm, &amp;env, &quot;&quot;);\n\n    jclass class_loader = env-&gt;FindClass(&quot;java/lang/ClassLoader&quot;);\n    jobject system_loader = env-&gt;CallStaticObjectMethod(class_loader, env-&gt;GetStaticMethodID(class_loader, &quot;getSystemClassLoader&quot;, &quot;()Ljava/lang/ClassLoader;&quot;));\n    jbyte* bytes = &lt;bytes&gt;\n\n\n    // define all classes from this bytes\n    env-&gt;DefineClass(&quot;Main&quot;, system_loader, bytes, sizeof(bytes));\n    ...\n\n    if (res == JNI_OK) {\n        jclass cls = env-&gt;FindClass(&quot;Main&quot;);\n        jmethodID mid = env-&gt;GetStaticMethodID(cls, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\n        env-&gt;CallStaticVoidMethod(cls, mid, NULL);\n    }\n\n    jvm-&gt;DestroyJavaVM();\n}\n</code></pre>\n<p>I need to read bytes of a JAR file, convert them into jbytes and load all the java classes from those bytes to runtime</p>\n<p>Like this code in java</p>\n<pre><code>final var classes = new ArrayList&lt;byte[]&gt;();\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\n{\n  var entry = inputStream.getNextJarEntry();\n  while( nonNull( entry ) )\n  {\n    var buffer = new bytes [entry.getSize()];\n    inputStream.read( buffer, 0, entry.getSize()];\n    classes.add( buffer );\n    entry = inputStream.getNextJarEntry();\n  }\n}\n</code></pre>\n"},{"tags":["java","dictionary","caching","expirationhandler"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1522342331,"post_id":49560258,"comment_id":86130767,"body_markdown":"Consider (a) Caffeine&#39;s [pluggable expiration policy](https://github.com/ben-manes/caffeine/wiki/Eviction#time-based); (b) [ExpiringMap](https://github.com/jhalterman/expiringmap). From a usage perspective, the main difference is that Caffeine does not create a dedicated thread per instance to expire eagerly, but like Guava does so when activity on the cache occurs (its &quot;cleanUp&quot; cycle). I&#39;m sure there are other caches, libs, etc. that could fit your needs too.","body":"Consider (a) Caffeine&#39;s <a href=\"https://github.com/ben-manes/caffeine/wiki/Eviction#time-based\" rel=\"nofollow noreferrer\">pluggable expiration policy</a>; (b) <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\">ExpiringMap</a>. From a usage perspective, the main difference is that Caffeine does not create a dedicated thread per instance to expire eagerly, but like Guava does so when activity on the cache occurs (its &quot;cleanUp&quot; cycle). I&#39;m sure there are other caches, libs, etc. that could fit your needs too."}],"answers":[{"tags":[],"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1522342806,"creation_date":1522342806,"answer_id":49561517,"question_id":49560258,"body_markdown":"There are a few options for this. \r\n\r\n**Passive Removal**\r\n\r\nIf it is not a requirement to clean up the expired keys as soon as they expire or at set intervals (i.e. a key does not need to be removed when the key expires or at some set interval), then [PassiveExpiringMap][1] from Apache Commons Collections is a good option. When attempting to access a key in this map, the Time to Live (TTL) of the key (all keys have the same TTL) is checked and if the key has expired, it is removed from the map and `null` is returned. This data structure does *not* have an active clean-up mechanism, so expired entries are only removed when they are accessed after the TTL corresponding to the key has expired.\r\n\r\n**Cache**\r\n\r\nIf more cache-based functionality is needed (such as maximum cache capacity and add/remove listening), Google Guava provides the [CacheBuilder][2] class. This class is more complex than the Apache Commons alternative, but it also provides much more functionality. The trade-off may be worth it if this intended for more of a cache-based application.\r\n\r\n**Threaded Removal**\r\n\r\nIf active removal of expired keys is needed, a separate thread can be spawn that is responsible for removing expired keys. Before looking at a possible implementation structure, it should be noted that this approach may be less performant than the above alternatives. Besides the overhead of starting a thread, the thread may cause *contention* with clients accessing the map. For example, if a client wants to access a key and the clean-up thread is currently removing expired keys, the client will either block (if synchronization is used) or have a different view of the map (which key-value pairs are contained in the map) if some concurrent mechanism is employed.\r\n\r\nWith that said, using this approach is complicated because it requires that the TTL be stored with the key. One approach is to create an `ExpiringKey`, such as (each key can have its own TTL; even if all of the keys will end up having the same TTL value, this technique removes the need to create a `Map` [decorator][3] or some other implementation of the `Map` interface):\r\n\r\n    public class ExpiringKey&lt;T&gt; {\r\n        \r\n        private final T key;\r\n        private final long expirationTimestamp;\r\n\r\n        public ExpiringKey(T key, long ttlInMillis) {\r\n            this.key = key;\r\n            expirationTimestamp = System.currentTimeMillis() + ttlInMillis;\r\n        }\r\n\r\n        public T getKey() {\r\n            return key;\r\n        }\r\n\r\n        public boolean isExpired() {\r\n            return System.currentTimeMillis() &gt; expirationTimestamp;\r\n        }\r\n    }\r\n\r\nNow the type of the map would be `Map&lt;ExpiringKey&lt;K&gt;, V&gt;` with some specific `K` and `V` type values. The background thread can be represented using a `Runnable` that resembles the following:\r\n\r\n    public class ExpiredKeyRemover implements Runnable {\r\n\r\n        private final Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map;\r\n\r\n        public ExpiredKeyRemover(Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            Iterator&lt;ExpiringKey&lt;?&gt;&gt; it = map.keySet().iterator();\r\n            while (it.hasNext()) {\r\n                if (it.next().isExpired()) {\r\n                    it.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen the `Runnable` can be started so that it executes at a fixed interval using a `ScheduledExecutorService` as follows (which will clean up the map every 5 seconds):\r\n\r\n    Map&lt;ExpiringKey&lt;K&gt;, V&gt; myMap = // ...\r\n\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n    executor.scheduleAtFixedRate(new ExpiredKeyRemover(myMap), 0, 5, TimeUnit.SECONDS);\r\n\r\nIt is important to note that the `Map` implementation used for `myMap` must be synchronized or allow for concurrent access. The challenge with a concurrent `Map` implementation is that the `ExpiredKeyRemover` may see a different *view* of the map than a client and an expired key may be returned to the client if the clean-up thread is not completed removing other keys (even if it has removed the desired/expired key since its changes may not have been committed yet). Additionally, the above key-removal code can be implemented using streams, but the above code has been used just to illustrate the logic rather than provide a performant implementation.\r\n\r\nHope that helps.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/PassiveExpiringMap.html\r\n  [2]: https://google.github.io/guava/releases/17.0/api/docs/com/google/common/cache/CacheBuilder.html\r\n  [3]: https://en.wikipedia.org/wiki/Decorator_pattern","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>There are a few options for this. </p>\n\n<p><strong>Passive Removal</strong></p>\n\n<p>If it is not a requirement to clean up the expired keys as soon as they expire or at set intervals (i.e. a key does not need to be removed when the key expires or at some set interval), then <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/PassiveExpiringMap.html\" rel=\"noreferrer\">PassiveExpiringMap</a> from Apache Commons Collections is a good option. When attempting to access a key in this map, the Time to Live (TTL) of the key (all keys have the same TTL) is checked and if the key has expired, it is removed from the map and <code>null</code> is returned. This data structure does <em>not</em> have an active clean-up mechanism, so expired entries are only removed when they are accessed after the TTL corresponding to the key has expired.</p>\n\n<p><strong>Cache</strong></p>\n\n<p>If more cache-based functionality is needed (such as maximum cache capacity and add/remove listening), Google Guava provides the <a href=\"https://google.github.io/guava/releases/17.0/api/docs/com/google/common/cache/CacheBuilder.html\" rel=\"noreferrer\">CacheBuilder</a> class. This class is more complex than the Apache Commons alternative, but it also provides much more functionality. The trade-off may be worth it if this intended for more of a cache-based application.</p>\n\n<p><strong>Threaded Removal</strong></p>\n\n<p>If active removal of expired keys is needed, a separate thread can be spawn that is responsible for removing expired keys. Before looking at a possible implementation structure, it should be noted that this approach may be less performant than the above alternatives. Besides the overhead of starting a thread, the thread may cause <em>contention</em> with clients accessing the map. For example, if a client wants to access a key and the clean-up thread is currently removing expired keys, the client will either block (if synchronization is used) or have a different view of the map (which key-value pairs are contained in the map) if some concurrent mechanism is employed.</p>\n\n<p>With that said, using this approach is complicated because it requires that the TTL be stored with the key. One approach is to create an <code>ExpiringKey</code>, such as (each key can have its own TTL; even if all of the keys will end up having the same TTL value, this technique removes the need to create a <code>Map</code> <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"noreferrer\">decorator</a> or some other implementation of the <code>Map</code> interface):</p>\n\n<pre><code>public class ExpiringKey&lt;T&gt; {\n\n    private final T key;\n    private final long expirationTimestamp;\n\n    public ExpiringKey(T key, long ttlInMillis) {\n        this.key = key;\n        expirationTimestamp = System.currentTimeMillis() + ttlInMillis;\n    }\n\n    public T getKey() {\n        return key;\n    }\n\n    public boolean isExpired() {\n        return System.currentTimeMillis() &gt; expirationTimestamp;\n    }\n}\n</code></pre>\n\n<p>Now the type of the map would be <code>Map&lt;ExpiringKey&lt;K&gt;, V&gt;</code> with some specific <code>K</code> and <code>V</code> type values. The background thread can be represented using a <code>Runnable</code> that resembles the following:</p>\n\n<pre><code>public class ExpiredKeyRemover implements Runnable {\n\n    private final Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map;\n\n    public ExpiredKeyRemover(Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map) {\n        this.map = map;\n    }\n\n    @Override\n    public void run() {\n        Iterator&lt;ExpiringKey&lt;?&gt;&gt; it = map.keySet().iterator();\n        while (it.hasNext()) {\n            if (it.next().isExpired()) {\n                it.remove();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then the <code>Runnable</code> can be started so that it executes at a fixed interval using a <code>ScheduledExecutorService</code> as follows (which will clean up the map every 5 seconds):</p>\n\n<pre><code>Map&lt;ExpiringKey&lt;K&gt;, V&gt; myMap = // ...\n\nScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\nexecutor.scheduleAtFixedRate(new ExpiredKeyRemover(myMap), 0, 5, TimeUnit.SECONDS);\n</code></pre>\n\n<p>It is important to note that the <code>Map</code> implementation used for <code>myMap</code> must be synchronized or allow for concurrent access. The challenge with a concurrent <code>Map</code> implementation is that the <code>ExpiredKeyRemover</code> may see a different <em>view</em> of the map than a client and an expired key may be returned to the client if the clean-up thread is not completed removing other keys (even if it has removed the desired/expired key since its changes may not have been committed yet). Additionally, the above key-removal code can be implemented using streams, but the above code has been used just to illustrate the logic rather than provide a performant implementation.</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522587570,"creation_date":1522587570,"answer_id":49598330,"question_id":49560258,"body_markdown":"Created a data structure. Called it `DuplicateActionFilterByInsertTime`.\r\n\r\nThe correct notion is filtering duplicate messages. The following class filters from insert time for some period (`filterMillis`).\r\n\r\nImplementation:\r\n\r\n    public class DuplicateActionFilterByInsertTime&lt;E extends Runnable&gt; {\r\n    \r\n    \tprivate static final Logger LOGGER = Logger.getLogger(DuplicateActionFilterByInsertTime.class.getName());\r\n    \r\n    \tprivate final long filterMillis;\r\n    \r\n    \tprivate final ConcurrentHashMap&lt;E, SilenceInfoImpl&gt; actionMap = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    \tprivate final ConcurrentLinkedQueue&lt;E&gt; actionQueue = new ConcurrentLinkedQueue&lt;&gt;();\r\n    \r\n    \tprivate final ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n    \r\n    \tprivate final AtomicBoolean purgerRegistered = new AtomicBoolean(false);\r\n    \r\n    \tprivate final Set&lt;Listener&lt;E&gt;&gt; listeners = ConcurrentHashMap.newKeySet();\r\n    \r\n    \tpublic DuplicateActionFilterByInsertTime(int filterMillis) {\r\n    \t\tthis.filterMillis = filterMillis;\r\n    \t}\r\n    \r\n    \tpublic SilenceInfo get(E e) {\r\n    \t\tSilenceInfoImpl insertionData = actionMap.get(e);\r\n    \t\tif (insertionData == null || insertionData.isExpired(filterMillis)) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn insertionData;\r\n    \t}\r\n    \r\n    \tpublic boolean run(E e) {\r\n    \t\tactionMap.computeIfPresent(e, (e1, insertionData) -&gt; {\r\n    \t\t\tint count = insertionData.incrementAndGet();\r\n    \t\t\tif (count == 2) {\r\n    \t\t\t\tnotifyFilteringStarted(e1);\r\n    \t\t\t}\r\n    \t\t\treturn insertionData;\r\n    \t\t});\r\n    \t\tboolean isNew = actionMap.computeIfAbsent(e, e1 -&gt; {\r\n    \t\t\tSilenceInfoImpl insertionData = new SilenceInfoImpl();\r\n    \t\t\tactionQueue.add(e1);\r\n    \t\t\treturn insertionData;\r\n    \t\t}).getCount() == 1;\r\n    \r\n    \t\ttryRegisterPurger();\r\n    \r\n    \t\tif (isNew) {\r\n    \t\t\te.run();\r\n    \t\t}\r\n    \t\treturn isNew;\r\n    \t}\r\n    \r\n    \tprivate void tryRegisterPurger() {\r\n    \t\tif (actionMap.size() != 0 &amp;&amp; purgerRegistered.compareAndSet(false, true)) {\r\n    \t\t\tscheduledExecutorService.schedule(() -&gt; {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tfor (Iterator&lt;E&gt; iterator = actionQueue.iterator(); iterator.hasNext(); ) {\r\n    \t\t\t\t\t\tE e = iterator.next();\r\n    \t\t\t\t\t\tSilenceInfoImpl insertionData = actionMap.get(e);\r\n    \t\t\t\t\t\tif (insertionData == null || insertionData.isExpired(filterMillis)) {\r\n    \t\t\t\t\t\t\titerator.remove();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tif (insertionData != null &amp;&amp; insertionData.isExpired(filterMillis)) {\r\n    \t\t\t\t\t\t\tSilenceInfoImpl removed = actionMap.remove(e);\r\n    \t\t\t\t\t\t\tFilteredItem&lt;E&gt; filteredItem = new FilteredItem&lt;&gt;(e, removed);\r\n    \t\t\t\t\t\t\tnotifySilenceFinished(filteredItem);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t// All the elements that were left shouldn&#39;t be purged.\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} finally {\r\n    \t\t\t\t\tpurgerRegistered.set(false);\r\n    \t\t\t\t\ttryRegisterPurger();\r\n    \t\t\t\t}\r\n    \t\t\t}, filterMillis, TimeUnit.MILLISECONDS);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void notifySilenceFinished(FilteredItem&lt;E&gt; filteredItem) {\r\n    \t\tnew Thread(() -&gt; listeners.forEach(l -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\tl.onFilteringFinished(filteredItem);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tLOGGER.log(Level.WARNING, &quot;Purge notification failed. Continuing to next one (if exists)&quot;, e);\r\n    \t\t\t}\r\n    \t\t})).start();\r\n    \t}\r\n    \r\n    \tprivate void notifyFilteringStarted(final E e) {\r\n    \t\tnew Thread(() -&gt; listeners.forEach(l -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\tl.onFilteringStarted(e);\r\n    \t\t\t} catch (Exception e1) {\r\n    \t\t\t\tLOGGER.log(Level.WARNING, &quot;Silence started notification failed. Continuing to next one (if exists)&quot;, e1);\r\n    \t\t\t}\r\n    \t\t})).start();\r\n    \t}\r\n    \r\n    \tpublic void addListener(Listener&lt;E&gt; listener) {\r\n    \t\tlisteners.add(listener);\r\n    \t}\r\n    \r\n    \tpublic void removeLister(Listener&lt;E&gt; listener) {\r\n    \t\tlisteners.remove(listener);\r\n    \t}\r\n    \r\n    \tpublic interface SilenceInfo {\r\n    \t\tlong getInsertTimeMillis();\r\n    \r\n    \t\tint getCount();\r\n    \t}\r\n    \r\n    \tpublic interface Listener&lt;E&gt; {\r\n    \t\tvoid onFilteringStarted(E e);\r\n    \t\tvoid onFilteringFinished(FilteredItem&lt;E&gt; filteredItem);\r\n    \t}\r\n    \r\n    \tprivate static class SilenceInfoImpl implements SilenceInfo {\r\n    \t\tprivate final long insertTimeMillis = System.currentTimeMillis();\r\n    \t\tprivate AtomicInteger count = new AtomicInteger(1);\r\n    \r\n    \t\tint incrementAndGet() {\r\n    \t\t\treturn count.incrementAndGet();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic long getInsertTimeMillis() {\r\n    \t\t\treturn insertTimeMillis;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getCount() {\r\n    \t\t\treturn count.get();\r\n    \t\t}\r\n    \r\n    \t\tboolean isExpired(long expirationMillis) {\r\n    \t\t\treturn insertTimeMillis + expirationMillis &lt; System.currentTimeMillis();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static class FilteredItem&lt;E&gt; {\r\n    \t\tprivate final E item;\r\n    \t\tprivate final SilenceInfo silenceInfo;\r\n    \r\n    \t\tFilteredItem(E item, SilenceInfo silenceInfo) {\r\n    \t\t\tthis.item = item;\r\n    \t\t\tthis.silenceInfo = silenceInfo;\r\n    \t\t}\r\n    \r\n    \t\tpublic E getItem() {\r\n    \t\t\treturn item;\r\n    \t\t}\r\n    \r\n    \t\tpublic SilenceInfo getSilenceInfo() {\r\n    \t\t\treturn silenceInfo;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nTest example: (More tests [here][1])\r\n\r\n\t@Test\r\n\tpublic void testSimple() throws InterruptedException {\r\n\t\tint filterMillis = 100;\r\n\t\tDuplicateActionFilterByInsertTime&lt;Runnable&gt; expSet = new DuplicateActionFilterByInsertTime&lt;&gt;(filterMillis);\r\n\t\tAtomicInteger purgeCount = new AtomicInteger(0);\r\n\t\texpSet.addListener(new DuplicateActionFilterByInsertTime.Listener&lt;Runnable&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onFilteringFinished(DuplicateActionFilterByInsertTime.FilteredItem&lt;Runnable&gt; filteredItem) {\r\n\t\t\t\tpurgeCount.incrementAndGet();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onFilteringStarted(Runnable runnable) {\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tRunnable key = () -&gt; {\r\n\t\t};\r\n\t\tlong beforeAddMillis = System.currentTimeMillis();\r\n\t\tboolean added = expSet.run(key);\r\n\t\tlong afterAddMillis = System.currentTimeMillis();\r\n\t\tAssert.assertTrue(added);\r\n\t\tDuplicateActionFilterByInsertTime.SilenceInfo silenceInfo = expSet.get(key);\r\n\t\tAssertions.assertThat(silenceInfo.getInsertTimeMillis()).isBetween(beforeAddMillis, afterAddMillis);\r\n\r\n\t\texpSet.run(key);\r\n\t\tDuplicateActionFilterByInsertTime.SilenceInfo silenceInfo2 = expSet.get(key);\r\n\t\tAssert.assertEquals(silenceInfo.getInsertTimeMillis(), silenceInfo2.getInsertTimeMillis());\r\n\r\n\t\tAssert.assertFalse(silenceInfo.getInsertTimeMillis() + filterMillis &lt; System.currentTimeMillis());\r\n\t\tAssert.assertEquals(silenceInfo.getCount(), 2);\r\n\r\n\t\tThread.sleep(filterMillis);\r\n\r\n\t\tAssertions.assertThat(expSet.get(key)).isNull();\r\n\r\n\t\tAssert.assertNull(expSet.get(key));\r\n\r\n\t\tThread.sleep(filterMillis * 2); // Give a chance to purge the items.\r\n\t\tAssert.assertEquals(1, purgeCount.get());\r\n\r\n\t\tSystem.out.println(&quot;Finished&quot;);\r\n\t}\r\n\r\n[Source][2].\r\n\r\n\r\n  [1]: https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/test/java/alik/lean/test/DuplicateActionFilterByInsertTimeTest.java\r\n  [2]: https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/main/java/alik/lean/DuplicateActionFilterByInsertTime.java\r\n","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>Created a data structure. Called it <code>DuplicateActionFilterByInsertTime</code>.</p>\n\n<p>The correct notion is filtering duplicate messages. The following class filters from insert time for some period (<code>filterMillis</code>).</p>\n\n<p>Implementation:</p>\n\n<pre><code>public class DuplicateActionFilterByInsertTime&lt;E extends Runnable&gt; {\n\n    private static final Logger LOGGER = Logger.getLogger(DuplicateActionFilterByInsertTime.class.getName());\n\n    private final long filterMillis;\n\n    private final ConcurrentHashMap&lt;E, SilenceInfoImpl&gt; actionMap = new ConcurrentHashMap&lt;&gt;();\n\n    private final ConcurrentLinkedQueue&lt;E&gt; actionQueue = new ConcurrentLinkedQueue&lt;&gt;();\n\n    private final ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\n\n    private final AtomicBoolean purgerRegistered = new AtomicBoolean(false);\n\n    private final Set&lt;Listener&lt;E&gt;&gt; listeners = ConcurrentHashMap.newKeySet();\n\n    public DuplicateActionFilterByInsertTime(int filterMillis) {\n        this.filterMillis = filterMillis;\n    }\n\n    public SilenceInfo get(E e) {\n        SilenceInfoImpl insertionData = actionMap.get(e);\n        if (insertionData == null || insertionData.isExpired(filterMillis)) {\n            return null;\n        }\n        return insertionData;\n    }\n\n    public boolean run(E e) {\n        actionMap.computeIfPresent(e, (e1, insertionData) -&gt; {\n            int count = insertionData.incrementAndGet();\n            if (count == 2) {\n                notifyFilteringStarted(e1);\n            }\n            return insertionData;\n        });\n        boolean isNew = actionMap.computeIfAbsent(e, e1 -&gt; {\n            SilenceInfoImpl insertionData = new SilenceInfoImpl();\n            actionQueue.add(e1);\n            return insertionData;\n        }).getCount() == 1;\n\n        tryRegisterPurger();\n\n        if (isNew) {\n            e.run();\n        }\n        return isNew;\n    }\n\n    private void tryRegisterPurger() {\n        if (actionMap.size() != 0 &amp;&amp; purgerRegistered.compareAndSet(false, true)) {\n            scheduledExecutorService.schedule(() -&gt; {\n                try {\n                    for (Iterator&lt;E&gt; iterator = actionQueue.iterator(); iterator.hasNext(); ) {\n                        E e = iterator.next();\n                        SilenceInfoImpl insertionData = actionMap.get(e);\n                        if (insertionData == null || insertionData.isExpired(filterMillis)) {\n                            iterator.remove();\n                        }\n                        if (insertionData != null &amp;&amp; insertionData.isExpired(filterMillis)) {\n                            SilenceInfoImpl removed = actionMap.remove(e);\n                            FilteredItem&lt;E&gt; filteredItem = new FilteredItem&lt;&gt;(e, removed);\n                            notifySilenceFinished(filteredItem);\n                        } else {\n                            // All the elements that were left shouldn't be purged.\n                            break;\n                        }\n                    }\n                } finally {\n                    purgerRegistered.set(false);\n                    tryRegisterPurger();\n                }\n            }, filterMillis, TimeUnit.MILLISECONDS);\n        }\n    }\n\n    private void notifySilenceFinished(FilteredItem&lt;E&gt; filteredItem) {\n        new Thread(() -&gt; listeners.forEach(l -&gt; {\n            try {\n                l.onFilteringFinished(filteredItem);\n            } catch (Exception e) {\n                LOGGER.log(Level.WARNING, \"Purge notification failed. Continuing to next one (if exists)\", e);\n            }\n        })).start();\n    }\n\n    private void notifyFilteringStarted(final E e) {\n        new Thread(() -&gt; listeners.forEach(l -&gt; {\n            try {\n                l.onFilteringStarted(e);\n            } catch (Exception e1) {\n                LOGGER.log(Level.WARNING, \"Silence started notification failed. Continuing to next one (if exists)\", e1);\n            }\n        })).start();\n    }\n\n    public void addListener(Listener&lt;E&gt; listener) {\n        listeners.add(listener);\n    }\n\n    public void removeLister(Listener&lt;E&gt; listener) {\n        listeners.remove(listener);\n    }\n\n    public interface SilenceInfo {\n        long getInsertTimeMillis();\n\n        int getCount();\n    }\n\n    public interface Listener&lt;E&gt; {\n        void onFilteringStarted(E e);\n        void onFilteringFinished(FilteredItem&lt;E&gt; filteredItem);\n    }\n\n    private static class SilenceInfoImpl implements SilenceInfo {\n        private final long insertTimeMillis = System.currentTimeMillis();\n        private AtomicInteger count = new AtomicInteger(1);\n\n        int incrementAndGet() {\n            return count.incrementAndGet();\n        }\n\n        @Override\n        public long getInsertTimeMillis() {\n            return insertTimeMillis;\n        }\n\n        @Override\n        public int getCount() {\n            return count.get();\n        }\n\n        boolean isExpired(long expirationMillis) {\n            return insertTimeMillis + expirationMillis &lt; System.currentTimeMillis();\n        }\n    }\n\n    public static class FilteredItem&lt;E&gt; {\n        private final E item;\n        private final SilenceInfo silenceInfo;\n\n        FilteredItem(E item, SilenceInfo silenceInfo) {\n            this.item = item;\n            this.silenceInfo = silenceInfo;\n        }\n\n        public E getItem() {\n            return item;\n        }\n\n        public SilenceInfo getSilenceInfo() {\n            return silenceInfo;\n        }\n    }\n}\n</code></pre>\n\n<p>Test example: (More tests <a href=\"https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/test/java/alik/lean/test/DuplicateActionFilterByInsertTimeTest.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<pre><code>@Test\npublic void testSimple() throws InterruptedException {\n    int filterMillis = 100;\n    DuplicateActionFilterByInsertTime&lt;Runnable&gt; expSet = new DuplicateActionFilterByInsertTime&lt;&gt;(filterMillis);\n    AtomicInteger purgeCount = new AtomicInteger(0);\n    expSet.addListener(new DuplicateActionFilterByInsertTime.Listener&lt;Runnable&gt;() {\n        @Override\n        public void onFilteringFinished(DuplicateActionFilterByInsertTime.FilteredItem&lt;Runnable&gt; filteredItem) {\n            purgeCount.incrementAndGet();\n        }\n\n        @Override\n        public void onFilteringStarted(Runnable runnable) {\n        }\n    });\n\n    Runnable key = () -&gt; {\n    };\n    long beforeAddMillis = System.currentTimeMillis();\n    boolean added = expSet.run(key);\n    long afterAddMillis = System.currentTimeMillis();\n    Assert.assertTrue(added);\n    DuplicateActionFilterByInsertTime.SilenceInfo silenceInfo = expSet.get(key);\n    Assertions.assertThat(silenceInfo.getInsertTimeMillis()).isBetween(beforeAddMillis, afterAddMillis);\n\n    expSet.run(key);\n    DuplicateActionFilterByInsertTime.SilenceInfo silenceInfo2 = expSet.get(key);\n    Assert.assertEquals(silenceInfo.getInsertTimeMillis(), silenceInfo2.getInsertTimeMillis());\n\n    Assert.assertFalse(silenceInfo.getInsertTimeMillis() + filterMillis &lt; System.currentTimeMillis());\n    Assert.assertEquals(silenceInfo.getCount(), 2);\n\n    Thread.sleep(filterMillis);\n\n    Assertions.assertThat(expSet.get(key)).isNull();\n\n    Assert.assertNull(expSet.get(key));\n\n    Thread.sleep(filterMillis * 2); // Give a chance to purge the items.\n    Assert.assertEquals(1, purgeCount.get());\n\n    System.out.println(\"Finished\");\n}\n</code></pre>\n\n<p><a href=\"https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/main/java/alik/lean/DuplicateActionFilterByInsertTime.java\" rel=\"nofollow noreferrer\">Source</a>.</p>\n"},{"tags":[],"owner":{"account_id":15356621,"reputation":39,"user_id":11078746,"display_name":"Ikjot Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651902231,"creation_date":1569227508,"answer_id":58058496,"question_id":49560258,"body_markdown":"# `ExpiringMap`\r\n\r\nYou can use [`ExpiringMap`][1]. This will remove element from map after specified time while initializing the Map . Here is the syntax\r\n\r\n    public static Map&lt;String, Long&gt; threatURLCacheMap = ExpiringMap.builder().expiration(5, TimeUnit.MINUTES).build();\r\n\r\nThis will create a Map in which each element will expire 5 minutes of insertion.\r\nYou can use this dependencies into your maven project net.jodah.expiringmap.\r\nhere is link to learn about it more\r\nhttps://crunchify.com/how-to-use-expiringmap-maven-java-utility-to-remove-expired-objects-from-map-automatically-complete-java-tutorial/\r\n\r\n\r\n  [1]: https://github.com/jhalterman/expiringmap","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<h1><code>ExpiringMap</code></h1>\n<p>You can use <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\"><code>ExpiringMap</code></a>. This will remove element from map after specified time while initializing the Map . Here is the syntax</p>\n<pre><code>public static Map&lt;String, Long&gt; threatURLCacheMap = ExpiringMap.builder().expiration(5, TimeUnit.MINUTES).build();\n</code></pre>\n<p>This will create a Map in which each element will expire 5 minutes of insertion.\nYou can use this dependencies into your maven project net.jodah.expiringmap.\nhere is link to learn about it more\n<a href=\"https://crunchify.com/how-to-use-expiringmap-maven-java-utility-to-remove-expired-objects-from-map-automatically-complete-java-tutorial/\" rel=\"nofollow noreferrer\">https://crunchify.com/how-to-use-expiringmap-maven-java-utility-to-remove-expired-objects-from-map-automatically-complete-java-tutorial/</a></p>\n"},{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680975366,"creation_date":1680974849,"answer_id":75966706,"question_id":49560258,"body_markdown":"Just use the Caffeine cache\r\n\r\n    private final Cache&lt;String, List&lt;Integer&gt;&gt; cache = \r\n             Caffeine.newBuilder()\r\n            .expireAfter(new Expiry&lt;&gt;() {\r\n                @Override\r\n                public long expireAfterCreate(@NonNull Object key, @NonNull Object value, long currentTime) {\r\n                    return 60_000_000_000; // entry will expire 60 seconds after creation\r\n                }\r\n\r\n                @Override\r\n                public long expireAfterUpdate(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\r\n                    return Long.MAX_VALUE;\r\n                }\r\n\r\n                @Override\r\n                public long expireAfterRead(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\r\n                    return Long.MAX_VALUE;\r\n                }\r\n            })\r\n            .build();","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>Just use the Caffeine cache</p>\n<pre><code>private final Cache&lt;String, List&lt;Integer&gt;&gt; cache = \n         Caffeine.newBuilder()\n        .expireAfter(new Expiry&lt;&gt;() {\n            @Override\n            public long expireAfterCreate(@NonNull Object key, @NonNull Object value, long currentTime) {\n                return 60_000_000_000; // entry will expire 60 seconds after creation\n            }\n\n            @Override\n            public long expireAfterUpdate(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\n                return Long.MAX_VALUE;\n            }\n\n            @Override\n            public long expireAfterRead(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\n                return Long.MAX_VALUE;\n            }\n        })\n        .build();\n</code></pre>\n"}],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16010,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":4,"score":5,"last_activity_date":1680975366,"creation_date":1522338601,"question_id":49560258,"body_markdown":"I tried looking at cache mechanisms, such as Guava&#39;s `Cache`. Their expiration is only since last update.\r\n\r\nWhat I&#39;m looking for is a data structure that stores keys and cleans the keys after a time has passed since the first insertion. I&#39;m planning for the value to be some counter.\r\n\r\nA scenario might be a silent worker that does some work for the first time but keeps silent for an expiry period of time - even if work is requested. If work is requested after the expiry time has passed, he&#39;ll do the work.\r\n\r\nIs there any such data structure?","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>I tried looking at cache mechanisms, such as Guava's <code>Cache</code>. Their expiration is only since last update.</p>\n<p>What I'm looking for is a data structure that stores keys and cleans the keys after a time has passed since the first insertion. I'm planning for the value to be some counter.</p>\n<p>A scenario might be a silent worker that does some work for the first time but keeps silent for an expiry period of time - even if work is requested. If work is requested after the expiry time has passed, he'll do the work.</p>\n<p>Is there any such data structure?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1680975347,"post_id":75966704,"comment_id":133986298,"body_markdown":"I&#39;d suggest using [Files.delete](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-) instead of File.delete.  This has the benefit of throwing an exception on failure.  It won&#39;t get your file deleted if it&#39;s not being deleted now, but at least you might find out why.  For similar reasons, I&#39;d suggest [Files.move](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-) instead of File.renameTo.","body":"I&#39;d suggest using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files.delete</a> instead of File.delete.  This has the benefit of throwing an exception on failure.  It won&#39;t get your file deleted if it&#39;s not being deleted now, but at least you might find out why.  For similar reasons, I&#39;d suggest <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\">Files.move</a> instead of File.renameTo."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680975334,"creation_date":1680975334,"answer_id":75966741,"question_id":75966704,"body_markdown":"The `java.io.File` API is __obsolete__. That means it is deprecated (you should stop using it), but, given that it is core API, &#39;deprecated&#39; as a term specifically used in core means &#39;sometime somewhat soon, this will not work whatsoever&#39;, and `java.io.File` isn&#39;t that - it&#39;ll work 10 years from now. But you still shouldn&#39;t use it. There are fundamental issues to its design that means it&#39;s a flawed API and it won&#39;t (cannot) be fixed.\r\n\r\nOne of its many flaws is that it is un-java-like in how it conveys errors to you. Weirdly, most of the `File` API itself __does not__ throw exceptions when things go wrong. Instead, it returns wonky things.\r\n\r\nFor example, `file.list()` returns an empty array if you run that on an empty directory, but returns `null` if it can&#39;t do the job (for example, the dir doesn&#39;t exist, or it&#39;s a file and not a dir, or, the java process doesn&#39;t have read rights). Similarly, `delete()` __does not__ throw an exception. Instead to indicate failure it returns `false`. This is not only un-java-like, it also means it is __not possible__ to know _why_ `delete()` doesn&#39;t work. Access rights issue? File doesn&#39;t exist? Who knows.\r\n\r\nThe simple conclusion is that you should _always_ be checking the return value of anything you do to a `j.i.File` object, but that&#39;s taking a shortcut. The true fix is __to stop using it__.\r\n\r\nThe new API also has problems but far fewer. It&#39;s also not obsolete/deprecated-in-the-english-dictionary-sense: This _is_ how a state of the art java app should be interacting with files. You find it in the `java.nio.file` package.\r\n\r\nUnlike the `j.i.File` API, this one __does__ throw exceptions when things go wrong, and those exceptions tell you, both program-checkable (a hierarchy of types, such as `NoSuchFileException` if you want to specifically react to such an issue), and human-checkable, in that the messages of these exceptions explain in english what&#39;s wrong.\r\n\r\nSecondarily, you MUST close objects-that-represent-system-resources safely and your code does not do that. There&#39;s the handy try-with syntax that makes that easy, so let&#39;s do that too!\r\n\r\nThirdly, you are flushing-then-closing. This is pointless; `close()` already implies flush, there is no reason to _ever_ call flush() before close, it just clutters up your code. In fact, with try-with there&#39;s no need to close whatsoever.\r\n\r\nThus:\r\n\r\n```\r\nPath tempFile = Paths.get(&quot;temp.txt&quot;);\r\nPath saveFile = Paths.get(&quot;save.txt&quot;);\r\ntry (\r\n  Writer fw = Files.newBufferedWriter(tempFile, StandardOpenOption.APPEND);\r\n  BufferedReader br = Files.newBufferedReader(saveFile);\r\n  ) {\r\n\r\n  String line;\r\n  while ((line = br.readLine()) != null) {\r\n    if (line.equals(player.username)) continue;\r\n    fw.write(line);\r\n    fw.write(&quot;\\n&quot;);\r\n  }\r\n}\r\n\r\nFiles.delete(saveFile);\r\nFiles.move(tempFile, saveFile);\r\n```\r\n","title":"Java delete file function is not working, my file not deleting and not throwing any errors","body":"<p>The <code>java.io.File</code> API is <strong>obsolete</strong>. That means it is deprecated (you should stop using it), but, given that it is core API, 'deprecated' as a term specifically used in core means 'sometime somewhat soon, this will not work whatsoever', and <code>java.io.File</code> isn't that - it'll work 10 years from now. But you still shouldn't use it. There are fundamental issues to its design that means it's a flawed API and it won't (cannot) be fixed.</p>\n<p>One of its many flaws is that it is un-java-like in how it conveys errors to you. Weirdly, most of the <code>File</code> API itself <strong>does not</strong> throw exceptions when things go wrong. Instead, it returns wonky things.</p>\n<p>For example, <code>file.list()</code> returns an empty array if you run that on an empty directory, but returns <code>null</code> if it can't do the job (for example, the dir doesn't exist, or it's a file and not a dir, or, the java process doesn't have read rights). Similarly, <code>delete()</code> <strong>does not</strong> throw an exception. Instead to indicate failure it returns <code>false</code>. This is not only un-java-like, it also means it is <strong>not possible</strong> to know <em>why</em> <code>delete()</code> doesn't work. Access rights issue? File doesn't exist? Who knows.</p>\n<p>The simple conclusion is that you should <em>always</em> be checking the return value of anything you do to a <code>j.i.File</code> object, but that's taking a shortcut. The true fix is <strong>to stop using it</strong>.</p>\n<p>The new API also has problems but far fewer. It's also not obsolete/deprecated-in-the-english-dictionary-sense: This <em>is</em> how a state of the art java app should be interacting with files. You find it in the <code>java.nio.file</code> package.</p>\n<p>Unlike the <code>j.i.File</code> API, this one <strong>does</strong> throw exceptions when things go wrong, and those exceptions tell you, both program-checkable (a hierarchy of types, such as <code>NoSuchFileException</code> if you want to specifically react to such an issue), and human-checkable, in that the messages of these exceptions explain in english what's wrong.</p>\n<p>Secondarily, you MUST close objects-that-represent-system-resources safely and your code does not do that. There's the handy try-with syntax that makes that easy, so let's do that too!</p>\n<p>Thirdly, you are flushing-then-closing. This is pointless; <code>close()</code> already implies flush, there is no reason to <em>ever</em> call flush() before close, it just clutters up your code. In fact, with try-with there's no need to close whatsoever.</p>\n<p>Thus:</p>\n<pre><code>Path tempFile = Paths.get(&quot;temp.txt&quot;);\nPath saveFile = Paths.get(&quot;save.txt&quot;);\ntry (\n  Writer fw = Files.newBufferedWriter(tempFile, StandardOpenOption.APPEND);\n  BufferedReader br = Files.newBufferedReader(saveFile);\n  ) {\n\n  String line;\n  while ((line = br.readLine()) != null) {\n    if (line.equals(player.username)) continue;\n    fw.write(line);\n    fw.write(&quot;\\n&quot;);\n  }\n}\n\nFiles.delete(saveFile);\nFiles.move(tempFile, saveFile);\n</code></pre>\n"}],"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75966741,"answer_count":1,"score":0,"last_activity_date":1680975334,"creation_date":1680974806,"question_id":75966704,"body_markdown":"I have java code that supposed to delete my existing file in my device but it does not work I don&#39;t why. It keep returning false when I try to use the .delete() function.\r\n\r\n\r\n\r\nHere&#39;s my code, I already closed all the buffered and writer but it still not working\r\n```\r\n        File saveFile = new File(&quot;save.txt&quot;);\r\n\t\tFile saveTemp = new File(&quot;temp.txt&quot;);\r\n\t\tFile playerFile = new File(player.username + &quot;.txt&quot;);\r\n\t\tString currentLine;\r\n\t\ttry {\r\n\t\t\tFileWriter fw = new FileWriter(saveTemp, true);\r\n\t\t\tBufferedWriter bw = new BufferedWriter(fw);\r\n\t\t\tPrintWriter pw = new PrintWriter(bw);\r\n\t\t\t\r\n\t\t\tFileReader fr = new FileReader(&quot;save.txt&quot;);\r\n\t\t\tBufferedReader br = new BufferedReader(fr);\r\n\t\t\t\r\n\t\t\twhile((currentLine = br.readLine()) != null)\r\n\t\t\t{\r\n\t\t\t\tif (!currentLine.equals(player.username))\r\n\t\t\t\t{\r\n\t\t\t\t\tpw.println(currentLine);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpw.flush();\r\n\t\t\tpw.close();\r\n\t\t\tfr.close();\r\n\t\t\tbr.close();\r\n\t\t\tbw.close();\r\n\t\t\tfw.close();\r\n\t\t\t\r\n\t\t\tsaveFile.delete();\r\n\t\t\tplayerFile.delete();\r\n\t\t\tFile dump = new File(&quot;save.txt&quot;);\r\n\t\t\tsaveTemp.renameTo(dump);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n","title":"Java delete file function is not working, my file not deleting and not throwing any errors","body":"<p>I have java code that supposed to delete my existing file in my device but it does not work I don't why. It keep returning false when I try to use the .delete() function.</p>\n<p>Here's my code, I already closed all the buffered and writer but it still not working</p>\n<pre><code>        File saveFile = new File(&quot;save.txt&quot;);\n        File saveTemp = new File(&quot;temp.txt&quot;);\n        File playerFile = new File(player.username + &quot;.txt&quot;);\n        String currentLine;\n        try {\n            FileWriter fw = new FileWriter(saveTemp, true);\n            BufferedWriter bw = new BufferedWriter(fw);\n            PrintWriter pw = new PrintWriter(bw);\n            \n            FileReader fr = new FileReader(&quot;save.txt&quot;);\n            BufferedReader br = new BufferedReader(fr);\n            \n            while((currentLine = br.readLine()) != null)\n            {\n                if (!currentLine.equals(player.username))\n                {\n                    pw.println(currentLine);\n                }\n            }\n            \n            pw.flush();\n            pw.close();\n            fr.close();\n            br.close();\n            bw.close();\n            fw.close();\n            \n            saveFile.delete();\n            playerFile.delete();\n            File dump = new File(&quot;save.txt&quot;);\n            saveTemp.renameTo(dump);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","file","locking"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1645406775,"post_id":71197279,"comment_id":125855893,"body_markdown":"File locks only work if all other processes check for the same lock.  It must be cooperative.","body":"File locks only work if all other processes check for the same lock.  It must be cooperative."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645381032,"creation_date":1645381032,"answer_id":71197369,"question_id":71197279,"body_markdown":"To lock a file, use a [FileLock](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileLock.html).\r\n\r\nThe exact semantics depend on the underlying file system.\r\n\r\nYou should be able to get a lock via `tryLock` on the channel. If it&#39;s not working, in what way is it not working?  Failure to get an exclusive lock is, per the documentation, likely due to it already being open.\r\n","title":"Locking file and reading/writing it","body":"<p>To lock a file, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileLock.html\" rel=\"nofollow noreferrer\">FileLock</a>.</p>\n<p>The exact semantics depend on the underlying file system.</p>\n<p>You should be able to get a lock via <code>tryLock</code> on the channel. If it's not working, in what way is it not working?  Failure to get an exclusive lock is, per the documentation, likely due to it already being open.</p>\n"}],"owner":{"account_id":24266172,"reputation":17,"user_id":18251136,"display_name":"nonxis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680975160,"creation_date":1645380519,"question_id":71197279,"body_markdown":"I need to lock the file for other programs so that my program only can read and write to this file, other programs cannot.\r\n\r\nI writed this code (file is not empty, it has some text)\r\n\r\n```java\r\nFile file = new File(System.getProperty(&quot;user.home&quot;) + &quot;\\\\Desktop\\\\test.txt&quot;);\r\nfile.createNewFile();\r\n\r\ntry {\r\n  FileChannel channel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\r\n  FileLock lock = channel.tryLock();\r\n  System.out.println(lock);\r\n\r\n  // reading this file\r\n  try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n    System.out.println(reader.read());\r\n    System.out.println(&quot;success&quot;);\r\n  } catch (Throwable e) {\r\n    System.out.println(&quot;read fail&quot;);\r\n    e.printStackTrace();\r\n  }\r\n} catch (Throwable e) {\r\n  e.printStackTrace();\r\n}\r\n```\r\n\r\nBut im getting read fail with this error\r\n\r\n```\r\njava.io.IOException: The process cannot access the file because it is being used by another process\r\n```\r\n\r\nBut this file is only used by my process","title":"Locking file and reading/writing it","body":"<p>I need to lock the file for other programs so that my program only can read and write to this file, other programs cannot.</p>\n<p>I writed this code (file is not empty, it has some text)</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(System.getProperty(&quot;user.home&quot;) + &quot;\\\\Desktop\\\\test.txt&quot;);\nfile.createNewFile();\n\ntry {\n  FileChannel channel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\n  FileLock lock = channel.tryLock();\n  System.out.println(lock);\n\n  // reading this file\n  try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n    System.out.println(reader.read());\n    System.out.println(&quot;success&quot;);\n  } catch (Throwable e) {\n    System.out.println(&quot;read fail&quot;);\n    e.printStackTrace();\n  }\n} catch (Throwable e) {\n  e.printStackTrace();\n}\n</code></pre>\n<p>But im getting read fail with this error</p>\n<pre><code>java.io.IOException: The process cannot access the file because it is being used by another process\n</code></pre>\n<p>But this file is only used by my process</p>\n"},{"tags":["java","php","android","retrofit2","native-android"],"comments":[{"owner":{"account_id":21866301,"reputation":3729,"user_id":16217248,"display_name":"user16217248"},"score":0,"creation_date":1680974808,"post_id":75966645,"comment_id":133986231,"body_markdown":"The error tells you what you need to change.","body":"The error tells you what you need to change."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680974346,"creation_date":1680974346,"answer_id":75966663,"question_id":75966645,"body_markdown":"This is your problem:\r\n\r\n```java\r\npublic class ApiService {\r\n    @Multipart\r\n    @POST(&quot;retroapi2.php&quot;)\r\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n`ApiService` needs to be an `interface`:\r\n\r\n```java\r\npublic interface ApiService {\r\n    @Multipart\r\n    @POST(&quot;retroapi2.php&quot;)\r\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio);\r\n}\r\n```\r\n\r\nSee [the Retrofit documentation](https://square.github.io/retrofit/) for more.","title":"java.lang.IllegalArgumentException: API declarations must be interfaces","body":"<p>This is your problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiService {\n    @Multipart\n    @POST(&quot;retroapi2.php&quot;)\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\n\n        return null;\n    }\n}\n</code></pre>\n<p><code>ApiService</code> needs to be an <code>interface</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ApiService {\n    @Multipart\n    @POST(&quot;retroapi2.php&quot;)\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio);\n}\n</code></pre>\n<p>See <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">the Retrofit documentation</a> for more.</p>\n"}],"owner":{"account_id":28250891,"reputation":3,"user_id":21597175,"display_name":"kranthi chevuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75966663,"answer_count":1,"score":-1,"last_activity_date":1680974757,"creation_date":1680974117,"question_id":75966645,"body_markdown":"I am writing code to record audio at the start when we click the button it need to be upload in the server. I am using retrofit : i am using two different retrofit APIs. One for forum data and another for upload audio.\r\n\r\nI got this error:\r\n```\r\njava.lang.IllegalArgumentException: API declarations must be interfaces.\r\n```\r\nActivity:\r\n```\r\nprivate void uploadAudio() {\r\n\r\n    Long date = new Date().getTime();\r\n\r\n    Date current_time = new Date(Long.valueOf(date));\r\n    String file_path = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/&quot; + current_time + &quot;.3gp&quot;;\r\n\r\n\r\n    File audioFile = new File(file_path);\r\n    RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;audio/*&quot;), audioFile);\r\n    MultipartBody.Part audioPart = MultipartBody.Part.createFormData(&quot;audio&quot;, audioFile.getName(), requestFile);\r\n\r\n    ApiService apiService = ApiClient.getClient().create(ApiService.class);\r\n    Call&lt;ResponseBody&gt; call = apiService.uploadAudio(audioPart);\r\n    call.enqueue(new retrofit2.Callback&lt;ResponseBody&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;ResponseBody&gt; call, retrofit2.Response&lt;ResponseBody&gt; response) {\r\n            if (response.isSuccessful()){\r\n                if (response.body().toString().equals(&quot;200&quot;)){\r\n                    Toast.makeText(getApplicationContext(), &quot;Audio uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(getApplicationContext(),&quot;Audio Upload Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n            Toast.makeText(getApplicationContext(), t.toString(), Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    });\r\n```\r\n\r\nAPI\r\n\r\n```\r\npublic class ApiService {\r\n    @Multipart\r\n    @POST(&quot;retroapi2.php&quot;)\r\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ApiClient {\r\n    private static final String BASE_URL = &quot;http://mysite.in/atmedia/ud/&quot;;\r\n\r\n    private static Retrofit retrofit;\r\n\r\n    public static Retrofit getClient() {\r\n        if (retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n}\r\n```\r\n```\r\nif($_SERVER[&#39;REQUEST_METHOD&#39;]==&#39;POST&#39;){\r\n\r\n //Getting post data \r\n\r\n $fileName  =  $_FILES[&#39;audio&#39;][&#39;name&#39;];\r\n\r\n$tempPath  =  $_FILES[&#39;audio&#39;][&#39;tmp_name&#39;];\r\n\r\n$fileSize  =  $_FILES[&#39;audio&#39;][&#39;size&#39;];\r\n\r\n$upload_path = &#39;upload/&#39;; // set upload folder path \r\n\r\nrequire_once(&#39;retconfig.php&#39;);\r\n  \r\n //Creating an SQL Query to insert into database \r\n //Here you may need to change the retrofit_users because it is the table I created\r\n //if you have a different table write your table&#39;s name\r\n \r\n //This query is to check whether the username or email is already registered or not \r\n $sql = &quot;SELECT * FROM demo WHERE mobile=&#39;$mobile&#39;&quot;;\r\n \r\n //If variable check has some value from mysqli fetch array \r\n //That means username or email already exist \r\n $check = mysqli_fetch_array(mysqli_query($con,$sql));\r\n \r\n //Checking check has some values or not \r\n if(isset($check)){\r\n //If check has some value that means username already exist \r\n echo &#39;username or email already exist&#39;;\r\n }else{ \r\n //If username is not already exist \r\n //Creating insert query \r\n      \r\nif($fileSize &lt; 5000000){\r\n\tmove_uploaded_file($tempPath, $upload_path . $fileName); // move file from system temporary path to our upload folder path \r\n}\r\n```","title":"java.lang.IllegalArgumentException: API declarations must be interfaces","body":"<p>I am writing code to record audio at the start when we click the button it need to be upload in the server. I am using retrofit : i am using two different retrofit APIs. One for forum data and another for upload audio.</p>\n<p>I got this error:</p>\n<pre><code>java.lang.IllegalArgumentException: API declarations must be interfaces.\n</code></pre>\n<p>Activity:</p>\n<pre><code>private void uploadAudio() {\n\n    Long date = new Date().getTime();\n\n    Date current_time = new Date(Long.valueOf(date));\n    String file_path = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/&quot; + current_time + &quot;.3gp&quot;;\n\n\n    File audioFile = new File(file_path);\n    RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;audio/*&quot;), audioFile);\n    MultipartBody.Part audioPart = MultipartBody.Part.createFormData(&quot;audio&quot;, audioFile.getName(), requestFile);\n\n    ApiService apiService = ApiClient.getClient().create(ApiService.class);\n    Call&lt;ResponseBody&gt; call = apiService.uploadAudio(audioPart);\n    call.enqueue(new retrofit2.Callback&lt;ResponseBody&gt;() {\n        @Override\n        public void onResponse(Call&lt;ResponseBody&gt; call, retrofit2.Response&lt;ResponseBody&gt; response) {\n            if (response.isSuccessful()){\n                if (response.body().toString().equals(&quot;200&quot;)){\n                    Toast.makeText(getApplicationContext(), &quot;Audio uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(getApplicationContext(),&quot;Audio Upload Failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n        }\n\n        @Override\n        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n            Toast.makeText(getApplicationContext(), t.toString(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n</code></pre>\n<p>API</p>\n<pre><code>public class ApiService {\n    @Multipart\n    @POST(&quot;retroapi2.php&quot;)\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\n\n        return null;\n    }\n}\n</code></pre>\n<pre><code>public class ApiClient {\n    private static final String BASE_URL = &quot;http://mysite.in/atmedia/ud/&quot;;\n\n    private static Retrofit retrofit;\n\n    public static Retrofit getClient() {\n        if (retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n<pre><code>if($_SERVER['REQUEST_METHOD']=='POST'){\n\n //Getting post data \n\n $fileName  =  $_FILES['audio']['name'];\n\n$tempPath  =  $_FILES['audio']['tmp_name'];\n\n$fileSize  =  $_FILES['audio']['size'];\n\n$upload_path = 'upload/'; // set upload folder path \n\nrequire_once('retconfig.php');\n  \n //Creating an SQL Query to insert into database \n //Here you may need to change the retrofit_users because it is the table I created\n //if you have a different table write your table's name\n \n //This query is to check whether the username or email is already registered or not \n $sql = &quot;SELECT * FROM demo WHERE mobile='$mobile'&quot;;\n \n //If variable check has some value from mysqli fetch array \n //That means username or email already exist \n $check = mysqli_fetch_array(mysqli_query($con,$sql));\n \n //Checking check has some values or not \n if(isset($check)){\n //If check has some value that means username already exist \n echo 'username or email already exist';\n }else{ \n //If username is not already exist \n //Creating insert query \n      \nif($fileSize &lt; 5000000){\n    move_uploaded_file($tempPath, $upload_path . $fileName); // move file from system temporary path to our upload folder path \n}\n</code></pre>\n"},{"tags":["java","javafx","import"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680974498,"creation_date":1680972254,"answer_id":75966471,"question_id":75966272,"body_markdown":"# Let Gradle manage your libraries\r\n\r\nDo not download and install libraries manually. \r\n\r\nOne of the main purposes of Gradle is to serve as a “dependency manager”. “Dependency” is a fancy word for “a library you want to use in your app”. Gradle can automatically locate your desired library in a “repository”, download the library, and install the library to make it available in your IDE’s project. \r\n\r\nUsing a dependency manager for all your libraries can avoid falling into [dependency hell][1]. \r\n\r\nAll modern IDEs, including IntelliJ, know how to work with Gradle. Notice in your screenshot how a bunch of the listed libraries are prefixed by `Gradle:` indicating they were sourced by Gradle.  Delete the items there that you manually added, the ones lacking that “Gradle” prefix. \r\n\r\nAll you have to do is:\r\n\r\n - Specify a [Maven][2] repository where your library is kept. The default repository already configured in your Gradle settings will likely suffice. \r\n - Add a dependency entry in your Gradle configuration file to specify the name and version of your desired library. \r\n\r\n[Read Wikipedia][3] to learn the basics of Gradle. Then do a web search to learn [how to add a dependency in Gradle][4]. \r\n\r\nYou may be annoyed at having to learn another tool. But really truly, investing a bit of time into learning how to use Gradle and/or Maven to drive your builds, including dependency management, is well worth it.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Dependency_hell\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [3]: https://en.m.wikipedia.org/wiki/Gradle\r\n  [4]: https://duckduckgo.com/?q=add%20dependency%20in%20gradle&amp;t=ipad&amp;ia=qa","title":"How exactly do I add external libraries to my JavaFX Gradle Project?","body":"<h1>Let Gradle manage your libraries</h1>\n<p>Do not download and install libraries manually.</p>\n<p>One of the main purposes of Gradle is to serve as a “dependency manager”. “Dependency” is a fancy word for “a library you want to use in your app”. Gradle can automatically locate your desired library in a “repository”, download the library, and install the library to make it available in your IDE’s project.</p>\n<p>Using a dependency manager for all your libraries can avoid falling into <a href=\"https://en.m.wikipedia.org/wiki/Dependency_hell\" rel=\"nofollow noreferrer\">dependency hell</a>.</p>\n<p>All modern IDEs, including IntelliJ, know how to work with Gradle. Notice in your screenshot how a bunch of the listed libraries are prefixed by <code>Gradle:</code> indicating they were sourced by Gradle.  Delete the items there that you manually added, the ones lacking that “Gradle” prefix.</p>\n<p>All you have to do is:</p>\n<ul>\n<li>Specify a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> repository where your library is kept. The default repository already configured in your Gradle settings will likely suffice.</li>\n<li>Add a dependency entry in your Gradle configuration file to specify the name and version of your desired library.</li>\n</ul>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Read Wikipedia</a> to learn the basics of Gradle. Then do a web search to learn <a href=\"https://duckduckgo.com/?q=add%20dependency%20in%20gradle&amp;t=ipad&amp;ia=qa\" rel=\"nofollow noreferrer\">how to add a dependency in Gradle</a>.</p>\n<p>You may be annoyed at having to learn another tool. But really truly, investing a bit of time into learning how to use Gradle and/or Maven to drive your builds, including dependency management, is well worth it.</p>\n"}],"owner":{"account_id":28239882,"reputation":1,"user_id":21587809,"display_name":"EffanByte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680974498,"creation_date":1680969937,"question_id":75966272,"body_markdown":"I use IntelliJ IDEA and I&#39;m on Java 19.\r\nI have a JavaFX project and I need to import 3D models into it. I&#39;ve found this library com.almasb.fx3d.modelloading to do it.  I downloaded it from github and extracted it.\r\nHere&#39;s the link to it.\r\nhttps://github.com/AlmasB/javafx3d-samples\r\nNow on IntelliJ, to add the library, I go to project structure -\\&gt; Libraries -\\&gt; + and I add the lib file of the library there. Then I do the same for the Modules -\\&gt; Dependencies -\\&gt; Add JAR or directory.\r\nNow I try to import the external library but IntelliJ just refuses to detect that I&#39;ve added the library.\r\nI use\r\n```\r\nimport com.almasb.fx3d.modelloading;\r\n```\r\nBut I get the error\r\n&gt; &quot;cannot resolve symbol&quot;.\r\n\r\nI also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\r\nI just joined the website, so if I need to add more information or some sort of pictures, please let me know.\r\n\r\nNow I try to import the external library but IntelliJ just refuses to detect that I&#39;ve added the library.\r\nI use\r\nimport com.almasb.fx3d.modelloading;\r\nBut I get the error &quot;cannot resolve symbol&quot;.\r\n\r\nI also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\r\nI just joined stackexchange, so if I need to add more information or some sort of pictures, please let me know.\r\nI also tried doing this with another library called JavaFX Fxyz. It didn&#39;t have a lib folder so I literally referenced each folder in the library separately to see if that would fix the issue, but it didn&#39;t.  \r\n  \r\n  \r\nEdit: Added a screenshot showing the libraries and the modules. I&#39;ve tried adding both the .jar file, as well as the folder it&#39;s stored in.\r\n\r\n![Libraries Screenshot](https://i.stack.imgur.com/ZqAfG.png)  \r\n\r\n![Modules Screenshot](https://i.stack.imgur.com/5nH6f.png)  \r\n  \r\nFor the minimal reproducible example, since I&#39;m on JavaFX, I&#39;ve used a simple Hello World application.\r\n\r\n```\r\npackage com.example.test_project;\r\n\r\nimport com.almasb.fx3d.*; // Doesn&#39;t detect the library added\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        ObjModelImporter omi = new ObjectModelImporter(); // error as import doesn&#39;t work\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nController\r\n\r\n```\r\npackage com.example.test_project;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class HelloController {\r\n    @FXML\r\n    private Label welcomeText;\r\n\r\n    @FXML\r\n    protected void onHelloButtonClick() {\r\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFXML file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;com.example.test_project.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n\r\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```","title":"How exactly do I add external libraries to my JavaFX Gradle Project?","body":"<p>I use IntelliJ IDEA and I'm on Java 19.\nI have a JavaFX project and I need to import 3D models into it. I've found this library com.almasb.fx3d.modelloading to do it.  I downloaded it from github and extracted it.\nHere's the link to it.\n<a href=\"https://github.com/AlmasB/javafx3d-samples\" rel=\"nofollow noreferrer\">https://github.com/AlmasB/javafx3d-samples</a>\nNow on IntelliJ, to add the library, I go to project structure -&gt; Libraries -&gt; + and I add the lib file of the library there. Then I do the same for the Modules -&gt; Dependencies -&gt; Add JAR or directory.\nNow I try to import the external library but IntelliJ just refuses to detect that I've added the library.\nI use</p>\n<pre><code>import com.almasb.fx3d.modelloading;\n</code></pre>\n<p>But I get the error</p>\n<blockquote>\n<p>&quot;cannot resolve symbol&quot;.</p>\n</blockquote>\n<p>I also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\nI just joined the website, so if I need to add more information or some sort of pictures, please let me know.</p>\n<p>Now I try to import the external library but IntelliJ just refuses to detect that I've added the library.\nI use\nimport com.almasb.fx3d.modelloading;\nBut I get the error &quot;cannot resolve symbol&quot;.</p>\n<p>I also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\nI just joined stackexchange, so if I need to add more information or some sort of pictures, please let me know.\nI also tried doing this with another library called JavaFX Fxyz. It didn't have a lib folder so I literally referenced each folder in the library separately to see if that would fix the issue, but it didn't.</p>\n<p>Edit: Added a screenshot showing the libraries and the modules. I've tried adding both the .jar file, as well as the folder it's stored in.</p>\n<p><img src=\"https://i.stack.imgur.com/ZqAfG.png\" alt=\"Libraries Screenshot\" /></p>\n<p><img src=\"https://i.stack.imgur.com/5nH6f.png\" alt=\"Modules Screenshot\" /></p>\n<p>For the minimal reproducible example, since I'm on JavaFX, I've used a simple Hello World application.</p>\n<pre><code>package com.example.test_project;\n\nimport com.almasb.fx3d.*; // Doesn't detect the library added\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        ObjModelImporter omi = new ObjectModelImporter(); // error as import doesn't work\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.example.test_project;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class HelloController {\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    protected void onHelloButtonClick() {\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\n    }\n}\n</code></pre>\n<p>FXML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.test_project.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680974492,"creation_date":1680869549,"answer_id":75958292,"question_id":75958182,"body_markdown":"You may use this regex in Java and grab capture group #1 for your matches:\r\n\r\n```sh\r\n&#39;(.+?)&#39;\\h*[,)\\]]\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n**RegEx Details:**\r\n\r\n- `&#39;`: Match opening `&#39;`\r\n- `(.+?)`: Match 1+ of any characters (lazy match)\r\n- `&#39;`: Match closing `&#39;`\r\n- `\\h*`: Match 0 or more whitespaces\r\n- `[,)\\]]`: Match comma or `)` or `]`\r\n\r\n\r\n  [1]: https://regex101.com/r/nuSdxc/2","title":"regex in java that takes text and numbers between superscripts when the second superscript is before a round or square bracket or a comma","body":"<p>You may use this regex in Java and grab capture group #1 for your matches:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>'(.+?)'\\h*[,)\\]]\n</code></pre>\n<p><a href=\"https://regex101.com/r/nuSdxc/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>'</code>: Match opening <code>'</code></li>\n<li><code>(.+?)</code>: Match 1+ of any characters (lazy match)</li>\n<li><code>'</code>: Match closing <code>'</code></li>\n<li><code>\\h*</code>: Match 0 or more whitespaces</li>\n<li><code>[,)\\]]</code>: Match comma or <code>)</code> or <code>]</code></li>\n</ul>\n"}],"owner":{"account_id":7482021,"reputation":71,"user_id":5686495,"display_name":"Plijen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75958292,"answer_count":1,"score":1,"last_activity_date":1680974492,"creation_date":1680868618,"question_id":75958182,"body_markdown":"I want a regex in java that takes the text between superscripts when the second superscript is before a round or square bracket or a comma\r\n\r\nThis is my attempt but it doesn&#39;t work\r\n\r\n    &#39;([^&#39;\\\\\\\\]*(?:\\\\\\\\.[^&#39;\\\\\\\\]*)*)\r\n\r\nThis is the test string\r\n \r\n\r\n&gt; `( $REC_REM$.cApplicationOrigin == &#39;---&#39; )&#160; ||&#160; (\r\n&gt; $REC_REM$.cApplicationOrigin in [&#39;AOL\r\n&gt; MOBILE&#39;,&#39;FASTWEB&#39;,&#39;POS.TE&#39;,&#39;SALES&#39;FORCE&#39;,&#39;13&#39;] )`\r\n\r\nI would like to get as results\r\n\r\n    ---\r\n    AOL\r\n    MOBILE\r\n    FASTWEB\r\n    POS.TE\r\n    SALES&#39;FORCE\r\n    13\r\n\r\nAny suggestions?\r\n\r\n","title":"regex in java that takes text and numbers between superscripts when the second superscript is before a round or square bracket or a comma","body":"<p>I want a regex in java that takes the text between superscripts when the second superscript is before a round or square bracket or a comma</p>\n<p>This is my attempt but it doesn't work</p>\n<pre><code>'([^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*)\n</code></pre>\n<p>This is the test string</p>\n<blockquote>\n<p><code>( $REC_REM$.cApplicationOrigin == '---' )  ||  ( $REC_REM$.cApplicationOrigin in ['AOL MOBILE','FASTWEB','POS.TE','SALES'FORCE','13'] )</code></p>\n</blockquote>\n<p>I would like to get as results</p>\n<pre><code>---\nAOL\nMOBILE\nFASTWEB\nPOS.TE\nSALES'FORCE\n13\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","runtime","classloader"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1645263242,"post_id":71183604,"comment_id":125828116,"body_markdown":"Welcome to stackoverflow! You should provide a  MCVE – Minimal, Complete, and Verifiable example https://stackoverflow.com/help/minimal-reproducible-example \nOtherwise we can&#39;t help you.","body":"Welcome to stackoverflow! You should provide a  MCVE – Minimal, Complete, and Verifiable example <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>  Otherwise we can&#39;t help you."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1645263563,"post_id":71183604,"comment_id":125828173,"body_markdown":"@ThiloSchwarz – In general yes, but this question is clear without such an MCVE.","body":"@ThiloSchwarz – In general yes, but this question is clear without such an MCVE."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650281396,"creation_date":1645264048,"answer_id":71183797,"question_id":71183604,"body_markdown":"You have to wrap that array of bytes into a `java.util.ByteArrayInputStream` and that in turn into a `java.util.jar.JarInputStream`.\r\n\r\nThe latter has methods to get one entry (most probably a class file, but also possible are some kinds of resources) after the other as an instance of `JarEntry`, and to read the bytes for each of that.\r\n\r\n```Java\r\nfinal var classes = new ArrayList&lt;byte[]&gt;();\r\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\r\n{\r\n  var entry = inputStream.getNextJarEntry();\r\n  while( nonNull( entry ) )\r\n  {\r\n    var buffer = new bytes [entry.getSize()];\r\n    inputStream.read( buffer, 0, entry.getSize() );\r\n    classes.add( buffer );\r\n    entry = inputStream.getNextJarEntry();\r\n  }\r\n}\r\n```\r\nOk, this is not tested, and of course there is none of the required  error handling, and perhaps you would prefer to store the class data in a map, with the class name as the key …\r\n\r\nHave fun!\r\n\r\n - [`ByteArrayInputStream`][1]\r\n  \r\n - [`JarInputStream`][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/jar/JarInputStream.html","title":"Loading classes at runtime from JAR file bytes","body":"<p>You have to wrap that array of bytes into a <code>java.util.ByteArrayInputStream</code> and that in turn into a <code>java.util.jar.JarInputStream</code>.</p>\n<p>The latter has methods to get one entry (most probably a class file, but also possible are some kinds of resources) after the other as an instance of <code>JarEntry</code>, and to read the bytes for each of that.</p>\n<pre><code>final var classes = new ArrayList&lt;byte[]&gt;();\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\n{\n  var entry = inputStream.getNextJarEntry();\n  while( nonNull( entry ) )\n  {\n    var buffer = new bytes [entry.getSize()];\n    inputStream.read( buffer, 0, entry.getSize() );\n    classes.add( buffer );\n    entry = inputStream.getNextJarEntry();\n  }\n}\n</code></pre>\n<p>Ok, this is not tested, and of course there is none of the required  error handling, and perhaps you would prefer to store the class data in a map, with the class name as the key …</p>\n<p>Have fun!</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html\" rel=\"nofollow noreferrer\"><code>ByteArrayInputStream</code></a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/jar/JarInputStream.html\" rel=\"nofollow noreferrer\"><code>JarInputStream</code></a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":24266172,"reputation":17,"user_id":18251136,"display_name":"nonxis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71183797,"answer_count":1,"score":0,"last_activity_date":1680974141,"creation_date":1645262081,"question_id":71183604,"body_markdown":"I have byte array of a JAR file and I need to load all the JAR classes at runtime from these bytes.\\\r\nHow can I do this without converting JAR bytes to a file?","title":"Loading classes at runtime from JAR file bytes","body":"<p>I have byte array of a JAR file and I need to load all the JAR classes at runtime from these bytes.<br />\nHow can I do this without converting JAR bytes to a file?</p>\n"},{"tags":["java","java-8","minecraft","decompiling"],"comments":[{"owner":{"account_id":5208368,"reputation":6110,"user_id":4165552,"display_name":"pptaszni"},"score":0,"creation_date":1579187283,"post_id":59770793,"comment_id":105688741,"body_markdown":"Formatted the error output, changed the title, corrected tags","body":"Formatted the error output, changed the title, corrected tags"},{"owner":{"account_id":4867663,"reputation":1326,"user_id":3925319,"display_name":"Joe"},"score":3,"creation_date":1579187420,"post_id":59770793,"comment_id":105688831,"body_markdown":"Change the target version to 1.8 and run fernflower on java 8 not java 13","body":"Change the target version to 1.8 and run fernflower on java 8 not java 13"}],"answers":[{"tags":[],"owner":{"account_id":23333789,"reputation":16,"user_id":17409785,"display_name":"Whomaxiswell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636891097,"creation_date":1636891097,"answer_id":69962746,"question_id":59770793,"body_markdown":"Java 1.6 is not Supported for MCP 918 (1.8.8), Try installing Java 8 from this link:https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot","title":"Encountered an error during MCP 1.8.8 decompilation","body":"<p>Java 1.6 is not Supported for MCP 918 (1.8.8), Try installing Java 8 from this link:<a href=\"https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot</a></p>\n"}],"owner":{"account_id":17542859,"reputation":33,"user_id":12724727,"display_name":"njust"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69962746,"answer_count":1,"score":0,"last_activity_date":1680973257,"creation_date":1579181569,"question_id":59770793,"body_markdown":"I got this error while trying to decompile MCP version 1.8.8\r\n\r\nmy source version is 1.6\\\r\nmy target version is 1.6\r\n\r\n```\r\n == MCP 9.18 (data: 9.18, client: 1.8.8, server: 1.8.8) ==\r\n\r\n ...\r\n\r\n == Decompiling client using fernflower ==\r\n\r\n ...\r\n\r\n &gt; Applying patches\r\n &#39;runtime\\bin\\applydiff.exe -p1 -u -i ..\\..\\temp\\temp.patch -d src\\minecraft&#39; failed : 1\r\n\r\n == ERRORS FOUND ==\r\n\r\n 1 out of 1 hunk FAILED -- saving rejects to file &#39;net\\minecraft\\util\\Cartesian.jav#&#39;\r\n ==================\r\n\r\n ...\r\n\r\n == ERRORS FOUND in JAVA CODE ==\r\n\r\n error: Source option 6 is no longer supported. Use 7 or later.\r\n error: Target option 6 is no longer supported. Use 7 or later.\r\n ==================\r\n```\r\n\r\nthanks!","title":"Encountered an error during MCP 1.8.8 decompilation","body":"<p>I got this error while trying to decompile MCP version 1.8.8</p>\n<p>my source version is 1.6<br />\nmy target version is 1.6</p>\n<pre><code> == MCP 9.18 (data: 9.18, client: 1.8.8, server: 1.8.8) ==\n\n ...\n\n == Decompiling client using fernflower ==\n\n ...\n\n &gt; Applying patches\n 'runtime\\bin\\applydiff.exe -p1 -u -i ..\\..\\temp\\temp.patch -d src\\minecraft' failed : 1\n\n == ERRORS FOUND ==\n\n 1 out of 1 hunk FAILED -- saving rejects to file 'net\\minecraft\\util\\Cartesian.jav#'\n ==================\n\n ...\n\n == ERRORS FOUND in JAVA CODE ==\n\n error: Source option 6 is no longer supported. Use 7 or later.\n error: Target option 6 is no longer supported. Use 7 or later.\n ==================\n</code></pre>\n<p>thanks!</p>\n"},{"tags":["java","datetime","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":24364073,"reputation":94,"user_id":18298044,"display_name":"Krzysztof Strzała"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653998048,"creation_date":1653997398,"answer_id":72447170,"question_id":72446906,"body_markdown":"assuming that your dates are always in format \r\n\r\n    2022-01-01\r\nYou could try:\r\n\r\n   \r\n\r\n     var map = perDay.stream().collect(\r\n                      Collectors.groupingBy(monthMap -&gt; ((String) monthMap.get(&quot;DATE&quot;)).substring(0, 7),\r\n                      Collectors.summingInt(monthMap -&gt; Integer.parseInt(String.valueOf(monthMap.get(&quot;COUNT&quot;))))));\r\n\r\nReturns:\r\n\r\n    {2022-01=8, 2022-02=4}\r\n\r\n\r\n","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>assuming that your dates are always in format</p>\n<pre><code>2022-01-01\n</code></pre>\n<p>You could try:</p>\n<pre><code> var map = perDay.stream().collect(\n                  Collectors.groupingBy(monthMap -&gt; ((String) monthMap.get(&quot;DATE&quot;)).substring(0, 7),\n                  Collectors.summingInt(monthMap -&gt; Integer.parseInt(String.valueOf(monthMap.get(&quot;COUNT&quot;))))));\n</code></pre>\n<p>Returns:</p>\n<pre><code>{2022-01=8, 2022-02=4}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654009738,"creation_date":1654001403,"answer_id":72448116,"question_id":72446906,"body_markdown":"The approach you&#39;ve introduced is not maintainable and as a consequence prone to errors and code duplications, and also makes extension of the code harder.\r\n\r\nThese are the main issues:\r\n\r\n* Don&#39;t use `Object` as a generic type. Because a collection element of type `Object` worth nothing without casting. If you have no intention to write muddy code full of casts and `intanceof` checks, don&#39;t take this rode.\r\n\r\n* `Map` - is **not** the same thing as JSON-object (*I&#39;m not talking about classes from Java-libraries like Gson, they are map-based*), don&#39;t confuse a *way of structuring the human-readable text* with the implementation of the ***data structure***. \r\n\r\n* Keys like `&quot;DATE&quot;` and `&quot;COUNT&quot;` are useless - you can simply store the actual **date** and **count** instead.\r\n\r\n* Using `String` as a type for numbers and dates doesn&#39;t give you any advantage. There&#39;s nothing you can do with them (*apart from comparing and printing on the console*) without parsing, almost like with `Object`. Use an appropriate data type for every element. Why? Because `LocalDate`, `Integer`, `YearMonth` have their own unique behavior that `String` can&#39;t offer you.\r\n\r\nThat&#39;s how you can improve your code by tuning the collection representing *sales per day* `List&lt;Map&lt;String, Object&gt;&gt;` into a `Map&lt;LocalDate, Integer&gt;` which is way more handy:\r\n```\r\nMap&lt;LocalDate, Integer&gt; salesPerDay = perDay.stream()\r\n    .map(map -&gt; Map.entry(LocalDate.parse((String) map.get(&quot;DATE&quot;), DateTimeFormatter.ISO_DATE),\r\n                          Integer.parseInt((String) map.get(&quot;COUNT&quot;))))\r\n    .collect(Collectors.groupingBy(\r\n                Map.Entry::getKey,\r\n                Collectors.summingInt(Map.Entry::getValue)));\r\n```\r\nAnd that&#39;s how you can produce a map containing *sales per month* from it ([`YearMonth`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html) from the `java.time` package is used as a *key*):\r\n```\r\nMap&lt;YearMonth, Integer&gt; salesPerMonth = salesPerDay.entrySet().stream()\r\n    .collect(Collectors.groupingBy(\r\n                entry -&gt; YearMonth.from(entry.getKey()),\r\n                Collectors.summingInt(Map.Entry::getValue)));\r\n\r\nsalesPerMonth.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n*Output:*\r\n```\r\n2022-01 -&gt; 8\r\n2022-02 -&gt; 4\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/rE1)","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>The approach you've introduced is not maintainable and as a consequence prone to errors and code duplications, and also makes extension of the code harder.</p>\n<p>These are the main issues:</p>\n<ul>\n<li><p>Don't use <code>Object</code> as a generic type. Because a collection element of type <code>Object</code> worth nothing without casting. If you have no intention to write muddy code full of casts and <code>intanceof</code> checks, don't take this rode.</p>\n</li>\n<li><p><code>Map</code> - is <strong>not</strong> the same thing as JSON-object (<em>I'm not talking about classes from Java-libraries like Gson, they are map-based</em>), don't confuse a <em>way of structuring the human-readable text</em> with the implementation of the <em><strong>data structure</strong></em>.</p>\n</li>\n<li><p>Keys like <code>&quot;DATE&quot;</code> and <code>&quot;COUNT&quot;</code> are useless - you can simply store the actual <strong>date</strong> and <strong>count</strong> instead.</p>\n</li>\n<li><p>Using <code>String</code> as a type for numbers and dates doesn't give you any advantage. There's nothing you can do with them (<em>apart from comparing and printing on the console</em>) without parsing, almost like with <code>Object</code>. Use an appropriate data type for every element. Why? Because <code>LocalDate</code>, <code>Integer</code>, <code>YearMonth</code> have their own unique behavior that <code>String</code> can't offer you.</p>\n</li>\n</ul>\n<p>That's how you can improve your code by tuning the collection representing <em>sales per day</em> <code>List&lt;Map&lt;String, Object&gt;&gt;</code> into a <code>Map&lt;LocalDate, Integer&gt;</code> which is way more handy:</p>\n<pre><code>Map&lt;LocalDate, Integer&gt; salesPerDay = perDay.stream()\n    .map(map -&gt; Map.entry(LocalDate.parse((String) map.get(&quot;DATE&quot;), DateTimeFormatter.ISO_DATE),\n                          Integer.parseInt((String) map.get(&quot;COUNT&quot;))))\n    .collect(Collectors.groupingBy(\n                Map.Entry::getKey,\n                Collectors.summingInt(Map.Entry::getValue)));\n</code></pre>\n<p>And that's how you can produce a map containing <em>sales per month</em> from it (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> from the <code>java.time</code> package is used as a <em>key</em>):</p>\n<pre><code>Map&lt;YearMonth, Integer&gt; salesPerMonth = salesPerDay.entrySet().stream()\n    .collect(Collectors.groupingBy(\n                entry -&gt; YearMonth.from(entry.getKey()),\n                Collectors.summingInt(Map.Entry::getValue)));\n\nsalesPerMonth.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2022-01 -&gt; 8\n2022-02 -&gt; 4\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rE1\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654082921,"creation_date":1654042729,"answer_id":72455286,"question_id":72446906,"body_markdown":"First, I would recommend against using a list of maps either for date sales, or for month sales.\r\n\r\nHere is your data.\r\n```\r\nMap&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\r\njan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;);\r\njan1.put(&quot;COUNT&quot;, &quot;5&quot;);\r\nMap&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\r\njan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;);\r\njan2.put(&quot;COUNT&quot;, &quot;3&quot;);\r\nMap&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\r\nfeb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;);\r\nfeb1.put(&quot;COUNT&quot;, &quot;4&quot;);\r\nList&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\r\n```\r\nAnd here is how you would do it.\r\n- stream the maps\r\n- take the date and use only the year/month part\r\n- convert the count to an integer (so it can be summed)\r\n- and when duplicate keys are encountered, add the counts\r\n- note that this involves casting of values.\r\n```\r\nMap&lt;String, Integer&gt; map = perDay.stream()\r\n\t\t.collect(Collectors.toMap(\r\n\t\t\t\tmp -&gt; ((String) mp.get(&quot;DATE&quot;)).substring(0,\r\n\t\t\t\t\t\t7),\r\n\t\t\t\tmp -&gt; Integer\r\n\t\t\t\t\t\t.valueOf((String) mp.get(&quot;COUNT&quot;)),\r\n\t\t\t\tInteger::sum));\r\n```\r\n\r\nBut your initial `List&lt;Map&lt;String,Object&gt;&gt;` doesn&#39;t let you choose the date since there is no relationship to the DATE value of the map to the index of the list.  However, if you stored them as a `Map&lt;String,Integer&gt;`, you could then retrieve the count for any DATE using the consistent format of `yyyy-MM-dd`.  And the process would need no casts to work.\r\n```\r\nMap&lt;String, Integer&gt; perDay = new HashMap&lt;&gt;();\r\nperDay.put(&quot;2022-01-01&quot;, 5);\r\nperDay.put(&quot;2022-01-02&quot;, 3);\r\nperDay.put(&quot;2022-02-29&quot;, 4);\r\n```\r\nThis also makes it easier to convert to the month total sales as follows:\r\n- stream the `entrySets` for `perDay`\r\n- convert to a `Map&lt;String,Integer&gt;` for month and sales. Use substring to get just the year and month portion via `Entry.getKey()`. Note: this works only if your date format is consistent.\r\n- get the count from `Entry::getValue` using a method reference.\r\n- and for duplicate counts (same month, different days) sum them using Integer::sum\r\n```\r\n\r\nMap&lt;String, Integer&gt; monthSales = daySales.entrySet()\r\n\t\t.stream().collect(Collectors.toMap(e-&gt;e.getKey().substring(0,7),\r\n\t\t\t\t             Entry::getValue,\r\n\t\t\t\t             Integer::sum));\r\n\r\nmonthSales.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n2022-01=8\r\n2022-02=4\r\n```\r\nAnd like before, you can get the monthly counts for any `yyyy-MM` key if it exists.\r\n\r\nSuggestions:\r\n- first and foremost, don&#39;t use `Object`.  Use a specific type, in your case Integer for the value.  Otherwise you will have to do casting which can lead to errors.\r\n\r\n- Consider using a class to Store related information.  A sales class could be used to store the Date and count as well as other information.\r\n    ```\r\n     class Sales {\r\n         private int count; \r\n         private String date;\r\n         // getters\r\n         // toString\r\n    }\r\n- For handling dates, look at the classes in the [java.time](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html) package.\r\n\t","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>First, I would recommend against using a list of maps either for date sales, or for month sales.</p>\n<p>Here is your data.</p>\n<pre><code>Map&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\njan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;);\njan1.put(&quot;COUNT&quot;, &quot;5&quot;);\nMap&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\njan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;);\njan2.put(&quot;COUNT&quot;, &quot;3&quot;);\nMap&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\nfeb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;);\nfeb1.put(&quot;COUNT&quot;, &quot;4&quot;);\nList&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\n</code></pre>\n<p>And here is how you would do it.</p>\n<ul>\n<li>stream the maps</li>\n<li>take the date and use only the year/month part</li>\n<li>convert the count to an integer (so it can be summed)</li>\n<li>and when duplicate keys are encountered, add the counts</li>\n<li>note that this involves casting of values.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; map = perDay.stream()\n        .collect(Collectors.toMap(\n                mp -&gt; ((String) mp.get(&quot;DATE&quot;)).substring(0,\n                        7),\n                mp -&gt; Integer\n                        .valueOf((String) mp.get(&quot;COUNT&quot;)),\n                Integer::sum));\n</code></pre>\n<p>But your initial <code>List&lt;Map&lt;String,Object&gt;&gt;</code> doesn't let you choose the date since there is no relationship to the DATE value of the map to the index of the list.  However, if you stored them as a <code>Map&lt;String,Integer&gt;</code>, you could then retrieve the count for any DATE using the consistent format of <code>yyyy-MM-dd</code>.  And the process would need no casts to work.</p>\n<pre><code>Map&lt;String, Integer&gt; perDay = new HashMap&lt;&gt;();\nperDay.put(&quot;2022-01-01&quot;, 5);\nperDay.put(&quot;2022-01-02&quot;, 3);\nperDay.put(&quot;2022-02-29&quot;, 4);\n</code></pre>\n<p>This also makes it easier to convert to the month total sales as follows:</p>\n<ul>\n<li>stream the <code>entrySets</code> for <code>perDay</code></li>\n<li>convert to a <code>Map&lt;String,Integer&gt;</code> for month and sales. Use substring to get just the year and month portion via <code>Entry.getKey()</code>. Note: this works only if your date format is consistent.</li>\n<li>get the count from <code>Entry::getValue</code> using a method reference.</li>\n<li>and for duplicate counts (same month, different days) sum them using Integer::sum</li>\n</ul>\n<pre><code>\nMap&lt;String, Integer&gt; monthSales = daySales.entrySet()\n        .stream().collect(Collectors.toMap(e-&gt;e.getKey().substring(0,7),\n                             Entry::getValue,\n                             Integer::sum));\n\nmonthSales.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>2022-01=8\n2022-02=4\n</code></pre>\n<p>And like before, you can get the monthly counts for any <code>yyyy-MM</code> key if it exists.</p>\n<p>Suggestions:</p>\n<ul>\n<li><p>first and foremost, don't use <code>Object</code>.  Use a specific type, in your case Integer for the value.  Otherwise you will have to do casting which can lead to errors.</p>\n</li>\n<li><p>Consider using a class to Store related information.  A sales class could be used to store the Date and count as well as other information.</p>\n<pre><code> class Sales {\n     private int count; \n     private String date;\n     // getters\n     // toString\n}\n</code></pre>\n</li>\n<li><p>For handling dates, look at the classes in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1707831,"reputation":1627,"user_id":1566537,"accept_rate":82,"display_name":"Bernie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72447170,"answer_count":3,"score":0,"last_activity_date":1680973128,"creation_date":1653996188,"question_id":72446906,"body_markdown":"I want to transform a list with *per-day* sales (whatever, doesn&#39;t matter) into a list of *per-month* sales.\r\n\r\nSo I have a `List&lt;Map&lt;String, Object&gt;&gt;` `perDay`, which contains these daily values:\r\n\r\n    [{DATE=2022-01-01, COUNT=5}, {DATE=2022-01-02, COUNT=3}, {DATE=2022-02-29, COUNT=4}]\r\n\r\nThese values should be gathered into monthly values, like that:\r\n\r\n    [{DATE=2022-01, COUNT=8}, {DATE=2022-02, COUNT=4}]\r\n\r\nI want to use `groupingBy()` method with streams.\r\n\r\nHere&#39;s my code:\r\n\r\n        Map&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\r\n        jan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;); jan1.put(&quot;COUNT&quot;, &quot;5&quot;);\r\n        Map&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\r\n        jan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;); jan2.put(&quot;COUNT&quot;, &quot;3&quot;);\r\n        Map&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\r\n        feb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;); feb1.put(&quot;COUNT&quot;, &quot;4&quot;);\r\n        List&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\r\n    \r\n    Map&lt;String, Object&gt; perMonth = perDay.stream()\r\n            .collect(Collectors.groupingBy(&quot;???&quot;, \r\n                        Collectors.summingInt(f -&gt; Integer.parseInt((String) f))));\r\n\r\n\r\nI guess, I&#39;m close, but I&#39;m not quite there yet.\r\n\r\nAny ideas?","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>I want to transform a list with <em>per-day</em> sales (whatever, doesn't matter) into a list of <em>per-month</em> sales.</p>\n<p>So I have a <code>List&lt;Map&lt;String, Object&gt;&gt;</code> <code>perDay</code>, which contains these daily values:</p>\n<pre><code>[{DATE=2022-01-01, COUNT=5}, {DATE=2022-01-02, COUNT=3}, {DATE=2022-02-29, COUNT=4}]\n</code></pre>\n<p>These values should be gathered into monthly values, like that:</p>\n<pre><code>[{DATE=2022-01, COUNT=8}, {DATE=2022-02, COUNT=4}]\n</code></pre>\n<p>I want to use <code>groupingBy()</code> method with streams.</p>\n<p>Here's my code:</p>\n<pre><code>    Map&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\n    jan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;); jan1.put(&quot;COUNT&quot;, &quot;5&quot;);\n    Map&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\n    jan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;); jan2.put(&quot;COUNT&quot;, &quot;3&quot;);\n    Map&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\n    feb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;); feb1.put(&quot;COUNT&quot;, &quot;4&quot;);\n    List&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\n\nMap&lt;String, Object&gt; perMonth = perDay.stream()\n        .collect(Collectors.groupingBy(&quot;???&quot;, \n                    Collectors.summingInt(f -&gt; Integer.parseInt((String) f))));\n</code></pre>\n<p>I guess, I'm close, but I'm not quite there yet.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","debugging","compilation","bouncycastle","jce"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1545228621,"post_id":53851339,"comment_id":94553343,"body_markdown":"Fortunately bouncycastle already builds a debug version of their providers *and* gets them signed so they can be used as a drop-in replacement. On the [Latest Releases](https://www.bouncycastle.org/latest_releases.html) look for &quot;providers with debug&quot;.","body":"Fortunately bouncycastle already builds a debug version of their providers <i>and</i> gets them signed so they can be used as a drop-in replacement. On the <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">Latest Releases</a> look for &quot;providers with debug&quot;."},{"owner":{"account_id":12920498,"reputation":5024,"user_id":9343156,"display_name":"whme"},"score":0,"creation_date":1545296615,"post_id":53851339,"comment_id":94578076,"body_markdown":"@JamesKPolk you are a genius thank you so much! As this solved my problem but did not entirely answer the question should I keep the question still open or close it ? (hope you got what I mean xD)","body":"@JamesKPolk you are a genius thank you so much! As this solved my problem but did not entirely answer the question should I keep the question still open or close it ? (hope you got what I mean xD)"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1545310440,"post_id":53851339,"comment_id":94585152,"body_markdown":"You can leave the question open because the general question is still valid. However, it&#39;s possible the question would get better answers (or maybe is already answered!) at the still-beta [Reverse Engineering](https://reverseengineering.stackexchange.com/) site.","body":"You can leave the question open because the general question is still valid. However, it&#39;s possible the question would get better answers (or maybe is already answered!) at the still-beta <a href=\"https://reverseengineering.stackexchange.com/\">Reverse Engineering</a> site."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1650046650,"post_id":53851339,"comment_id":127031624,"body_markdown":"it would be valuable if someone could share their gotchas about issues like that.. e.g. I am searching how to debug code within bctls library that is still not provided with debug information, unlike bcprov.. and the build process is not trivial at all...","body":"it would be valuable if someone could share their gotchas about issues like that.. e.g. I am searching how to debug code within bctls library that is still not provided with debug information, unlike bcprov.. and the build process is not trivial at all..."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1650189952,"post_id":53851339,"comment_id":127054261,"body_markdown":"build IS trivial after all, if you compile code with Java 8 - the end built JAR file seems to work with Java 6 and can be stepped through","body":"build IS trivial after all, if you compile code with Java 8 - the end built JAR file seems to work with Java 6 and can be stepped through"}],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680972904,"creation_date":1680972904,"answer_id":75966531,"question_id":53851339,"body_markdown":"According https://stackoverflow.com/a/57994114/1759063  to used debug libraries:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-debug-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to debug code without debug information?","body":"<p>According <a href=\"https://stackoverflow.com/a/57994114/1759063\">https://stackoverflow.com/a/57994114/1759063</a>  to used debug libraries:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-debug-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12920498,"reputation":5024,"user_id":9343156,"display_name":"whme"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680972904,"creation_date":1545222722,"question_id":53851339,"body_markdown":"I come across unintended behavior while using the BouncyCastle Provider with the JCE. \r\n\r\nI thus want to see whats happening inside and have to debug the code of the BouncyCastle Library. Sadly the classes I have to take a look into (XMSSMTKeyFactorySpi) seem to be [compiled without debugging information][1] as both the local variable info and line numbers are missing.\r\n\r\nI already thought of building it myself and including the debug information, however this does not work as the BouncyCastle provider is a Security provider for the JCE and has to be signed in order to be used with JCE. (Which I have to do as the error only occurs when using BC with JCE)\r\n\r\nSo **how can I debug the code in question without debugging information being included to the .class?**\r\n\r\nIs there even a way of doing so? \r\n\r\nOne solution would be to rebuild the BC provider and send it to Oracle to get signed as described [here][2], but I kinda don&#39;t want to do this. At least not if there is another way.\r\n\r\n\r\n----------\r\n\r\nEdit: to debug the BC Provider code one can simply take one from [Providers with debug][3], thank you @JamesKPolk\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1872491/why-are-some-java-libraries-compiled-without-debugging-information\r\n  [2]: https://stackoverflow.com/a/1757186/9343156\r\n  [3]: https://www.bouncycastle.org/latest_releases.html","title":"How to debug code without debug information?","body":"<p>I come across unintended behavior while using the BouncyCastle Provider with the JCE. </p>\n\n<p>I thus want to see whats happening inside and have to debug the code of the BouncyCastle Library. Sadly the classes I have to take a look into (XMSSMTKeyFactorySpi) seem to be <a href=\"https://stackoverflow.com/questions/1872491/why-are-some-java-libraries-compiled-without-debugging-information\">compiled without debugging information</a> as both the local variable info and line numbers are missing.</p>\n\n<p>I already thought of building it myself and including the debug information, however this does not work as the BouncyCastle provider is a Security provider for the JCE and has to be signed in order to be used with JCE. (Which I have to do as the error only occurs when using BC with JCE)</p>\n\n<p>So <strong>how can I debug the code in question without debugging information being included to the .class?</strong></p>\n\n<p>Is there even a way of doing so? </p>\n\n<p>One solution would be to rebuild the BC provider and send it to Oracle to get signed as described <a href=\"https://stackoverflow.com/a/1757186/9343156\">here</a>, but I kinda don't want to do this. At least not if there is another way.</p>\n\n<hr>\n\n<p>Edit: to debug the BC Provider code one can simply take one from <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">Providers with debug</a>, thank you @JamesKPolk</p>\n"},{"tags":["java","nullpointerexception","scriptengine"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680974204,"post_id":75966488,"comment_id":133986144,"body_markdown":"Not my area of expertise, but perhaps this is related: [*Use Javascript scripting engine in Java 17*](https://stackoverflow.com/q/71481562/642706)","body":"Not my area of expertise, but perhaps this is related: <a href=\"https://stackoverflow.com/q/71481562/642706\"><i>Use Javascript scripting engine in Java 17</i></a>"}],"owner":{"account_id":25039877,"reputation":1,"user_id":18896866,"display_name":"joao vitor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680972450,"creation_date":1680972450,"question_id":75966488,"body_markdown":"So, I have this code:\r\n\r\n    ScriptEngineManager mgr = new ScriptEngineManager(null);\r\n    ScriptEngine engine = mgr.getEngineByExtension(&quot;js&quot;);\r\n    System.out.println(engine.eval(e));\r\n\r\nwhere the string e is a mathematical equation. \r\n\r\nThe problem here is that I always get a NullPointerException from the ScriptEngine. \r\n\r\nI tried to change the &quot;js&quot; extension to &quot;JavaScript&quot;, &quot;javascript&quot; and &quot;rhino&quot; but nothing seems to work. I also could use the java.math module, but it&#39;d be great if I could make this work. Thanks in advance!","title":"ScriptEngine is always null","body":"<p>So, I have this code:</p>\n<pre><code>ScriptEngineManager mgr = new ScriptEngineManager(null);\nScriptEngine engine = mgr.getEngineByExtension(&quot;js&quot;);\nSystem.out.println(engine.eval(e));\n</code></pre>\n<p>where the string e is a mathematical equation.</p>\n<p>The problem here is that I always get a NullPointerException from the ScriptEngine.</p>\n<p>I tried to change the &quot;js&quot; extension to &quot;JavaScript&quot;, &quot;javascript&quot; and &quot;rhino&quot; but nothing seems to work. I also could use the java.math module, but it'd be great if I could make this work. Thanks in advance!</p>\n"},{"tags":["java","maven","intellij-idea","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1680959481,"post_id":75965328,"comment_id":133984140,"body_markdown":"Have you done reload? What I already do with broken dependencies in IntelliJ is: mvn clean install -U (in the maven tab), maven reload (in the maven tab) and sometimes even a rebuild (from the menu). Also restart of IntelliJ and repeat all those steps.","body":"Have you done reload? What I already do with broken dependencies in IntelliJ is: mvn clean install -U (in the maven tab), maven reload (in the maven tab) and sometimes even a rebuild (from the menu). Also restart of IntelliJ and repeat all those steps."},{"owner":{"account_id":27826790,"reputation":19,"user_id":21246050,"display_name":"ncisco3200"},"score":0,"creation_date":1680960421,"post_id":75965328,"comment_id":133984261,"body_markdown":"I&#39;m unable to clean or install through the maven tab within IntelliJ (error [FATAL] Non-resolvable parent POM for..), but I am able to do this through git bash (results in build success). This is because my settings.xml file is configured so no errors but my settings.xml file and path is disclosed within IntelliJ...","body":"I&#39;m unable to clean or install through the maven tab within IntelliJ (error [FATAL] Non-resolvable parent POM for..), but I am able to do this through git bash (results in build success). This is because my settings.xml file is configured so no errors but my settings.xml file and path is disclosed within IntelliJ..."}],"answers":[{"tags":[],"owner":{"account_id":1753863,"reputation":168,"user_id":1602334,"display_name":"Amila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680959176,"creation_date":1680959176,"answer_id":75965385,"question_id":75965328,"body_markdown":"Check if the Lombok annotation processing is enabled in the IntelliJ compiler settings. Go to Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Annotation Processors, and make sure that &quot;Enable annotation processing&quot; is checked, and that &quot;Obtain processors from project classpath&quot; is selected.","title":"Downloaded Maven Dependencies (BUILD SUCCESS) But Can&#39;t Resolve Lombok In IntelliJ","body":"<p>Check if the Lombok annotation processing is enabled in the IntelliJ compiler settings. Go to Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Annotation Processors, and make sure that &quot;Enable annotation processing&quot; is checked, and that &quot;Obtain processors from project classpath&quot; is selected.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680963436,"creation_date":1680963436,"answer_id":75965744,"question_id":75965328,"body_markdown":"Please add following dependency to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.26&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Downloaded Maven Dependencies (BUILD SUCCESS) But Can&#39;t Resolve Lombok In IntelliJ","body":"<p>Please add following dependency to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;version&gt;1.18.26&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27826790,"reputation":19,"user_id":21246050,"display_name":"ncisco3200"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680972202,"creation_date":1680958485,"question_id":75965328,"body_markdown":"My project builds successfully with `mvn clean install -U`, but when building the same project in IntelliJ I get `java: package lombok.extern.sl.. does not exist`. I have the lombok plugin installed but it can&#39;t recognize it. When trying to run test cases by hovering over the class, I see `cannot resolve symbol...` How do I get IntelliJ to build my project? \r\n","title":"Downloaded Maven Dependencies (BUILD SUCCESS) But Can&#39;t Resolve Lombok In IntelliJ","body":"<p>My project builds successfully with <code>mvn clean install -U</code>, but when building the same project in IntelliJ I get <code>java: package lombok.extern.sl.. does not exist</code>. I have the lombok plugin installed but it can't recognize it. When trying to run test cases by hovering over the class, I see <code>cannot resolve symbol...</code> How do I get IntelliJ to build my project?</p>\n"},{"tags":["java","video-streaming","netty"],"owner":{"account_id":17542859,"reputation":33,"user_id":12724727,"display_name":"njust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680972150,"creation_date":1680940545,"question_id":75963992,"body_markdown":"I&#39;m trying to do a live video stream using Netty TCP.\r\nBut I found only HTTP/WEB video streams on Netty, it&#39;s all too complicated and I can&#39;t figure out what exactly I need to do.\r\n\r\nMy network has a packet system, and from what I understand, I have to send updated pixels of the previous frame in each packet. I&#39;ve tried the Xuggler library but I haven&#39;t found any guides on how to do a live stream on it via Netty TCP.\r\n\r\nI&#39;ve tried to make code that get the updated pixels out of the image but it uses too much CPU time and takes too long to execute per frame.\r\n\r\nMy code (image resolution is 1920x1080 and it takes 20ms to execute)\r\n\r\n```java\r\nBufferedImage lastFrame, newFrame;\r\n...\r\n\r\nlong time = System.currentTimeMillis();\r\n\r\nint[][] updatedPixels = new int[newFrame.getHeight()][newFrame.getWidth()];\r\nint[] pixels = newFrame.getRGB(0, 0, newFrame.getWidth(), newFrame.getHeight(), null, 0, newFrame.getWidth());\r\nint index = 0, count = 0;\r\n\r\nfor (int i = 0; i &lt; newFrame.getHeight(); i++) {\r\n  for (int j = 0; j &lt; newFrame.getWidth(); j++) {\r\n    int rgb = pixels[index++];\r\n    if (rgb != lastFrame.getRGB(j, i)) {\r\n      updatedPixels[i][j] = rgb;\r\n      count++;\r\n    }\r\n  }\r\n}\r\n\r\nSystem.out.println(&quot;Total pixels changed: &quot; + count + &quot; | Exec time: &quot; + (System.currentTimeMillis() - time) + &quot;ms&quot;);\r\n```\r\n\r\nI need to optimize getting updated pixels from image or a library that encodes and decodes images like in my code.\r\n\r\nSomething like the following (pseudocode):\r\n\r\n```java\r\nbyte[] changedPixels = VideoLibrary.encode(prevFrame, newFrame);\r\nBufferedImage image = VideoLibrary.decode(prevFrame, changedPixels)\r\n```","title":"Netty TCP real-time video stream","body":"<p>I'm trying to do a live video stream using Netty TCP.\nBut I found only HTTP/WEB video streams on Netty, it's all too complicated and I can't figure out what exactly I need to do.</p>\n<p>My network has a packet system, and from what I understand, I have to send updated pixels of the previous frame in each packet. I've tried the Xuggler library but I haven't found any guides on how to do a live stream on it via Netty TCP.</p>\n<p>I've tried to make code that get the updated pixels out of the image but it uses too much CPU time and takes too long to execute per frame.</p>\n<p>My code (image resolution is 1920x1080 and it takes 20ms to execute)</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage lastFrame, newFrame;\n...\n\nlong time = System.currentTimeMillis();\n\nint[][] updatedPixels = new int[newFrame.getHeight()][newFrame.getWidth()];\nint[] pixels = newFrame.getRGB(0, 0, newFrame.getWidth(), newFrame.getHeight(), null, 0, newFrame.getWidth());\nint index = 0, count = 0;\n\nfor (int i = 0; i &lt; newFrame.getHeight(); i++) {\n  for (int j = 0; j &lt; newFrame.getWidth(); j++) {\n    int rgb = pixels[index++];\n    if (rgb != lastFrame.getRGB(j, i)) {\n      updatedPixels[i][j] = rgb;\n      count++;\n    }\n  }\n}\n\nSystem.out.println(&quot;Total pixels changed: &quot; + count + &quot; | Exec time: &quot; + (System.currentTimeMillis() - time) + &quot;ms&quot;);\n</code></pre>\n<p>I need to optimize getting updated pixels from image or a library that encodes and decodes images like in my code.</p>\n<p>Something like the following (pseudocode):</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] changedPixels = VideoLibrary.encode(prevFrame, newFrame);\nBufferedImage image = VideoLibrary.decode(prevFrame, changedPixels)\n</code></pre>\n"},{"tags":["java","algorithm","recursion","data-structures"],"comments":[{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":1,"creation_date":1680635599,"post_id":75932989,"comment_id":133930904,"body_markdown":"That C++ tag was just attracting the wrong kind of attention so I removed it. OK. Somehow someone else removed it. Dueling edits, I guess.","body":"That C++ tag was just attracting the wrong kind of attention so I removed it. OK. Somehow someone else removed it. Dueling edits, I guess."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1680696313,"post_id":75932989,"comment_id":133941039,"body_markdown":"`current` is always empty.  Instead of merging results from `generateNonDuplicate`, you should pass in a destination list that it adds to.  Note: I see in comments that you don&#39;t want to hear about any better algorithms, but this algorithm takes a horribly long time.  I won&#39;t provide a fix in an answer, because I couldn&#39;t bear to have my name underneath it.","body":"<code>current</code> is always empty.  Instead of merging results from <code>generateNonDuplicate</code>, you should pass in a destination list that it adds to.  Note: I see in comments that you don&#39;t want to hear about any better algorithms, but this algorithm takes a horribly long time.  I won&#39;t provide a fix in an answer, because I couldn&#39;t bear to have my name underneath it."}],"answers":[{"tags":[],"owner":{"account_id":19078257,"reputation":94,"user_id":13931072,"display_name":"Cryptolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680636329,"creation_date":1680636329,"answer_id":75933121,"question_id":75932989,"body_markdown":"You could have gotten this with a simple Google search. Here is a naive solution, from GeeksforGeeks. Find more solutions on this link: https://www.geeksforgeeks.org/count-distinct-subsequences/\r\n\r\n    // java program to print distinct\r\n    // subsequences of a given string\r\n    import java.io.*;\r\n    import java.lang.Math;\r\n    import java.util.*;\r\n    \r\n    class GFG {\r\n    \t// Function for generating the subsequences\r\n    \tpublic static void subsequences(Set&lt;String&gt; sn,\r\n    \t\t\t\t\t\t\t\t\tchar[] s, char[] op,\r\n    \t\t\t\t\t\t\t\t\tint i, int j, int n)\r\n    \t{\r\n    \t\t// Base Case\r\n    \t\tif (i == n) {\r\n    \t\t\top[j] = &#39;\\0&#39;;\r\n    \r\n    \t\t\t// Insert each generated\r\n    \t\t\t// subsequence into the set\r\n    \t\t\tsn.add(String.valueOf(op));\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// Recursive Case\r\n    \t\telse {\r\n    \t\t\t// When a particular character is taken\r\n    \t\t\top[j] = s[i];\r\n    \t\t\tsubsequences(sn, s, op, i + 1, j + 1, n);\r\n    \r\n    \t\t\t// When a particular character isn&#39;t taken\r\n    \t\t\tsubsequences(sn, s, op, i + 1, j, n);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tchar[] str = { &#39;g&#39;, &#39;g&#39;, &#39;g&#39; };\r\n    \t\tint m = str.length;\r\n    \t\tint n = (int)Math.pow(2, m) + 1;\r\n    \r\n    \t\t// Create an empty set to store the subsequences\r\n    \t\tSet&lt;String&gt; sn = new HashSet&lt;String&gt;();\r\n    \r\n    \t\t// Output array for storing\r\n    \t\t// the generating subsequences\r\n    \t\t// in each call\r\n    \t\tchar[] op = new char[m + 1]; // extra one for having\r\n    \t\t\t\t\t\t\t\t\t// \\0 at the end\r\n    \r\n    \t\t// Function Call\r\n    \t\tsubsequences(sn, str, op, 0, 0, m);\r\n    \r\n    \t\t// Output will be the number\r\n    \t\t// of elements in the set\r\n    \t\tSystem.out.println(sn.size());\r\n    \t\tsn.clear();\r\n    \r\n    \t\t// This code is contributed by Aditya Sharma\r\n    \t}\r\n    }\r\n\r\n","title":"Generating all non-duplicate subsequences with a string that has repeated characters","body":"<p>You could have gotten this with a simple Google search. Here is a naive solution, from GeeksforGeeks. Find more solutions on this link: <a href=\"https://www.geeksforgeeks.org/count-distinct-subsequences/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/count-distinct-subsequences/</a></p>\n<pre><code>// java program to print distinct\n// subsequences of a given string\nimport java.io.*;\nimport java.lang.Math;\nimport java.util.*;\n\nclass GFG {\n    // Function for generating the subsequences\n    public static void subsequences(Set&lt;String&gt; sn,\n                                    char[] s, char[] op,\n                                    int i, int j, int n)\n    {\n        // Base Case\n        if (i == n) {\n            op[j] = '\\0';\n\n            // Insert each generated\n            // subsequence into the set\n            sn.add(String.valueOf(op));\n            return;\n        }\n\n        // Recursive Case\n        else {\n            // When a particular character is taken\n            op[j] = s[i];\n            subsequences(sn, s, op, i + 1, j + 1, n);\n\n            // When a particular character isn't taken\n            subsequences(sn, s, op, i + 1, j, n);\n            return;\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        char[] str = { 'g', 'g', 'g' };\n        int m = str.length;\n        int n = (int)Math.pow(2, m) + 1;\n\n        // Create an empty set to store the subsequences\n        Set&lt;String&gt; sn = new HashSet&lt;String&gt;();\n\n        // Output array for storing\n        // the generating subsequences\n        // in each call\n        char[] op = new char[m + 1]; // extra one for having\n                                    // \\0 at the end\n\n        // Function Call\n        subsequences(sn, str, op, 0, 0, m);\n\n        // Output will be the number\n        // of elements in the set\n        System.out.println(sn.size());\n        sn.clear();\n\n        // This code is contributed by Aditya Sharma\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19078257,"reputation":94,"user_id":13931072,"display_name":"Cryptolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680971542,"creation_date":1680971542,"answer_id":75966421,"question_id":75932989,"body_markdown":"Going for it with a 2nd try. I wasn&#39;t able to fix your solution, but if you want to give with a similar approach 2 solutions would be:\r\n\r\n1. Go with the original solution and just remove the duplicates at the end. You can do this by putting the solution to a set:\r\n\r\n    HashSet&lt;String&gt; a = new HashSet&lt;&gt;(generate(&quot;&quot;, &quot;aabc&quot;));\r\n\r\nResult:\r\n\r\n    [aa, , ab, a, bc, aac, ac, b, aab, abc, c, aabc]\r\n\r\nIf you really want to use a recursive solution with O(2^N) complexity, than here is a similar solution from [GFG](https://www.geeksforgeeks.org/generate-all-distinct-subsequences-of-array-using-backtracking/):\r\n\r\n    // Java program to implement\r\n    // the above approach\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    class GFG{\r\n    \t\r\n    // Function to generate all distinct\r\n    // subsequences of the array using backtracking\r\n    public static void backtrack(ArrayList&lt;Integer&gt; nums,\r\n    \t\t\t\t\t\t\tint start,\r\n    \t\t\t\t\t\t\tArrayList&lt;Integer&gt; curr_set)\r\n    {\r\n    \tSystem.out.print(curr_set + &quot; &quot;);\r\n    \r\n    \tfor(int i = start; i &lt; nums.size(); i++)\r\n    \t{\r\n    \t\t\r\n    \t\t// If the current element is repeating\r\n    \t\tif (i &gt; start &amp;&amp;\r\n    \t\t\tnums.get(i) == nums.get(i - 1))\r\n    \t\t{\r\n    \t\t\tcontinue;\r\n    \t\t}\r\n    \r\n    \t\t// Include current element\r\n    \t\t// into the subsequence\r\n    \t\tcurr_set.add(nums.get(i));\r\n    \r\n    \t\t// Proceed to the remaining array\r\n    \t\t// to generate subsequences\r\n    \t\t// including current array element\r\n    \t\tbacktrack(nums, i + 1, curr_set);\r\n    \r\n    \t\t// Remove current element\r\n    \t\t// from the subsequence\r\n    \t\tcurr_set.remove(curr_set.size() - 1);\r\n    \t}\r\n    }\r\n    \r\n    // Function to sort the array and generate\r\n    // subsequences using Backtracking\r\n    public static void AllSubsets(ArrayList&lt;Integer&gt; nums)\r\n    {\r\n    \r\n    \t// Stores the current\r\n    \t// subsequence\r\n    \tArrayList&lt;Integer&gt; curr_set = new ArrayList&lt;&gt;();\r\n    \r\n    \t// Sort the vector\r\n    \tCollections.sort(nums);\r\n    \r\n    \t// Backtrack function to\r\n    \t// generate subsequences\r\n    \tbacktrack(nums, 0, curr_set);\r\n    }\r\n    \r\n    // Driver Code\r\n    public static void main(String[] args)\r\n    {\r\n    \tArrayList&lt;Integer&gt; v = new ArrayList&lt;&gt;();\r\n    \tv.add(1);\r\n    \tv.add(2);\r\n    \tv.add(2);\r\n    \t\r\n    \t// Function call\r\n    \tAllSubsets(v);\r\n    }\r\n    }\r\n    \r\n    // This code is contributed by hemanthswarna1506\r\n\r\n","title":"Generating all non-duplicate subsequences with a string that has repeated characters","body":"<p>Going for it with a 2nd try. I wasn't able to fix your solution, but if you want to give with a similar approach 2 solutions would be:</p>\n<ol>\n<li><p>Go with the original solution and just remove the duplicates at the end. You can do this by putting the solution to a set:</p>\n<p>HashSet a = new HashSet&lt;&gt;(generate(&quot;&quot;, &quot;aabc&quot;));</p>\n</li>\n</ol>\n<p>Result:</p>\n<pre><code>[aa, , ab, a, bc, aac, ac, b, aab, abc, c, aabc]\n</code></pre>\n<p>If you really want to use a recursive solution with O(2^N) complexity, than here is a similar solution from <a href=\"https://www.geeksforgeeks.org/generate-all-distinct-subsequences-of-array-using-backtracking/\" rel=\"nofollow noreferrer\">GFG</a>:</p>\n<pre><code>// Java program to implement\n// the above approach\nimport java.io.*;\nimport java.util.*;\n\nclass GFG{\n    \n// Function to generate all distinct\n// subsequences of the array using backtracking\npublic static void backtrack(ArrayList&lt;Integer&gt; nums,\n                            int start,\n                            ArrayList&lt;Integer&gt; curr_set)\n{\n    System.out.print(curr_set + &quot; &quot;);\n\n    for(int i = start; i &lt; nums.size(); i++)\n    {\n        \n        // If the current element is repeating\n        if (i &gt; start &amp;&amp;\n            nums.get(i) == nums.get(i - 1))\n        {\n            continue;\n        }\n\n        // Include current element\n        // into the subsequence\n        curr_set.add(nums.get(i));\n\n        // Proceed to the remaining array\n        // to generate subsequences\n        // including current array element\n        backtrack(nums, i + 1, curr_set);\n\n        // Remove current element\n        // from the subsequence\n        curr_set.remove(curr_set.size() - 1);\n    }\n}\n\n// Function to sort the array and generate\n// subsequences using Backtracking\npublic static void AllSubsets(ArrayList&lt;Integer&gt; nums)\n{\n\n    // Stores the current\n    // subsequence\n    ArrayList&lt;Integer&gt; curr_set = new ArrayList&lt;&gt;();\n\n    // Sort the vector\n    Collections.sort(nums);\n\n    // Backtrack function to\n    // generate subsequences\n    backtrack(nums, 0, curr_set);\n}\n\n// Driver Code\npublic static void main(String[] args)\n{\n    ArrayList&lt;Integer&gt; v = new ArrayList&lt;&gt;();\n    v.add(1);\n    v.add(2);\n    v.add(2);\n    \n    // Function call\n    AllSubsets(v);\n}\n}\n\n// This code is contributed by hemanthswarna1506\n</code></pre>\n"}],"owner":{"account_id":28215855,"reputation":41,"user_id":21567385,"display_name":"my_neme_eh_jeff n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680971542,"creation_date":1680635163,"question_id":75932989,"body_markdown":"I am trying to solve a problem where I am given a string with repeated characters in it and I am supposed to generate all unique subsequences.\r\n\r\nI now how to generate all subsequences ignoring the duplicate part or assuming that there are no repeated characters: (p stands for process, data is used for adding characters from process)\r\n\r\n    public static ArrayList generate(String process,String data){\r\n        if(data.isEmpty()){\r\n            ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\r\n            temp.add(process);\r\n            return temp;\r\n        }\r\n        ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\r\n        ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();\r\n        left = generate(process+data.charAt(0),data.substring(1));\r\n        right = generate(process,data.substring(1));\r\n    \r\n        left.addAll(right);\r\n        return left;\r\n    }\r\n\r\nI can&#39;t figure out how to do this for non-duplicate subsequences. I am trying to check at every base condition if we have already added that string in our arraylist, but it still gives me duplicated in answer in this code: (up is unprocessed same as data in the above code, p is processed or string passed from main initially)\r\n\r\n    public static ArrayList&lt;String&gt; generateNonDuplicate(String up, String p,ArrayList &lt;String&gt; current){\r\n        if(up.isEmpty()){\r\n            if(current.contains(p)){\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n            ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\r\n            temp.add(p);\r\n            return temp;\r\n        }\r\n\r\n        ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\r\n        ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();        \r\n        left=generateNonDuplicate(up.substring(1), p+up.charAt(0), left);\r\n        right=generateNonDuplicate(up.substring(1), p, right);\r\n        \r\n        left.addAll(right);\r\n\r\n        return left;\r\n    }\r\n\r\nHow do I go about this?","title":"Generating all non-duplicate subsequences with a string that has repeated characters","body":"<p>I am trying to solve a problem where I am given a string with repeated characters in it and I am supposed to generate all unique subsequences.</p>\n<p>I now how to generate all subsequences ignoring the duplicate part or assuming that there are no repeated characters: (p stands for process, data is used for adding characters from process)</p>\n<pre><code>public static ArrayList generate(String process,String data){\n    if(data.isEmpty()){\n        ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\n        temp.add(process);\n        return temp;\n    }\n    ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\n    ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();\n    left = generate(process+data.charAt(0),data.substring(1));\n    right = generate(process,data.substring(1));\n\n    left.addAll(right);\n    return left;\n}\n</code></pre>\n<p>I can't figure out how to do this for non-duplicate subsequences. I am trying to check at every base condition if we have already added that string in our arraylist, but it still gives me duplicated in answer in this code: (up is unprocessed same as data in the above code, p is processed or string passed from main initially)</p>\n<pre><code>public static ArrayList&lt;String&gt; generateNonDuplicate(String up, String p,ArrayList &lt;String&gt; current){\n    if(up.isEmpty()){\n        if(current.contains(p)){\n            return new ArrayList&lt;&gt;();\n        }\n        ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\n        temp.add(p);\n        return temp;\n    }\n\n    ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\n    ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();        \n    left=generateNonDuplicate(up.substring(1), p+up.charAt(0), left);\n    right=generateNonDuplicate(up.substring(1), p, right);\n    \n    left.addAll(right);\n\n    return left;\n}\n</code></pre>\n<p>How do I go about this?</p>\n"},{"tags":["java","android"],"owner":{"account_id":8695765,"reputation":909,"user_id":6507170,"display_name":"priojeet priyom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680971353,"creation_date":1680971353,"question_id":75966405,"body_markdown":"The below code is being used to fetch current top activity with a foreground service. The code work well for android API &lt;= 32. But in android API 33 `myUsageEvents.hasNextEvent()` check always returns false, indicating the query did not find any event. So far, I have tried with emulator only, but I think it would be same in a real device as well. Because the code is working fine in emulator api 30 - 32.\r\n\r\nThe things checked / tried so far:\r\n\r\n* Ensure app has runtime permission for `android.permission.PACKAGE_USAGE_STATS`\r\n* query for a longer during. i.e 24 hours\r\n\r\n\r\n        public static String getTopPkgName(Context context) {\r\n        Log.d(TAG, &quot;getTopPkgName: called!&quot;);\r\n\r\n        String pkgName = null;\r\n\r\n        UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\r\n\r\n        final long endTime = System.currentTimeMillis();\r\n        final long beginTime = endTime - 1000 * 60 * 5; // 5 minutes\r\n        final UsageEvents myUsageEvents = usageStatsManager.queryEvents(beginTime, endTime);\r\n        while (myUsageEvents.hasNextEvent()) {\r\n            UsageEvents.Event myEvent = new UsageEvents.Event();\r\n            myUsageEvents.getNextEvent(myEvent);\r\n\r\n            Log.d(TAG, &quot;getTopPkgName: processing event for package: &quot; + myEvent.getPackageName());\r\n\r\n            // Some business logic to determine current top package. Below is a sample line\r\n            pkgNamemyEvent.getPackageName();\r\n        }\r\n        return pkgName;\r\n    }","title":"usageStatsManager.queryEvents does not fetch any event in Android 33","body":"<p>The below code is being used to fetch current top activity with a foreground service. The code work well for android API &lt;= 32. But in android API 33 <code>myUsageEvents.hasNextEvent()</code> check always returns false, indicating the query did not find any event. So far, I have tried with emulator only, but I think it would be same in a real device as well. Because the code is working fine in emulator api 30 - 32.</p>\n<p>The things checked / tried so far:</p>\n<ul>\n<li><p>Ensure app has runtime permission for <code>android.permission.PACKAGE_USAGE_STATS</code></p>\n</li>\n<li><p>query for a longer during. i.e 24 hours</p>\n<pre><code>  public static String getTopPkgName(Context context) {\n  Log.d(TAG, &quot;getTopPkgName: called!&quot;);\n\n  String pkgName = null;\n\n  UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\n\n  final long endTime = System.currentTimeMillis();\n  final long beginTime = endTime - 1000 * 60 * 5; // 5 minutes\n  final UsageEvents myUsageEvents = usageStatsManager.queryEvents(beginTime, endTime);\n  while (myUsageEvents.hasNextEvent()) {\n      UsageEvents.Event myEvent = new UsageEvents.Event();\n      myUsageEvents.getNextEvent(myEvent);\n\n      Log.d(TAG, &quot;getTopPkgName: processing event for package: &quot; + myEvent.getPackageName());\n\n      // Some business logic to determine current top package. Below is a sample line\n      pkgNamemyEvent.getPackageName();\n  }\n  return pkgName;\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n"},{"tags":["java","java-8","integer","java-stream","collectors"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1566448995,"post_id":57602096,"comment_id":101660879,"body_markdown":"You need to map the `Integer`s to `String`s` to use `joining`. It returns `Collector&lt;CharSequence, ?, String&gt;` specifically.","body":"You need to map the <code>Integer</code>s to <code>String</code>s` to use <code>joining</code>. It returns <code>Collector&lt;CharSequence, ?, String&gt;</code> specifically."},{"owner":{"account_id":15412192,"reputation":692,"user_id":11118648,"display_name":"Bhaven Shah"},"score":0,"creation_date":1566449875,"post_id":57602096,"comment_id":101661073,"body_markdown":"You can loop one more and give the value to string one by one with comma.","body":"You can loop one more and give the value to string one by one with comma."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1566448995,"creation_date":1566448815,"answer_id":57602151,"question_id":57602096,"body_markdown":"Yes. However, there is no `Collectors.joining` for a `Stream&lt;Integer&gt;`; you need a `Stream&lt;String&gt;` so you should `map` before collecting. Something like,\r\n\r\n    System.out.println(i.stream().map(String::valueOf)\r\n            .collect(Collectors.joining(&quot;,&quot;)));\r\n\r\nWhich outputs\r\n\r\n    1,2,3,4,5\r\n\r\nAlso, you could generate `Stream&lt;Integer&gt;` in a number of ways.\r\n\r\n    System.out.println(\r\n            IntStream.range(1, 6).boxed().map(String::valueOf)\r\n                   .collect(Collectors.joining(&quot;,&quot;))\r\n    );","title":"Convert a list of integers into a comma-separated string","body":"<p>Yes. However, there is no <code>Collectors.joining</code> for a <code>Stream&lt;Integer&gt;</code>; you need a <code>Stream&lt;String&gt;</code> so you should <code>map</code> before collecting. Something like,</p>\n\n<pre><code>System.out.println(i.stream().map(String::valueOf)\n        .collect(Collectors.joining(\",\")));\n</code></pre>\n\n<p>Which outputs</p>\n\n<pre><code>1,2,3,4,5\n</code></pre>\n\n<p>Also, you could generate <code>Stream&lt;Integer&gt;</code> in a number of ways.</p>\n\n<pre><code>System.out.println(\n        IntStream.range(1, 6).boxed().map(String::valueOf)\n               .collect(Collectors.joining(\",\"))\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16435082,"reputation":269,"user_id":11872869,"display_name":"Dinesh K"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1645469606,"creation_date":1566454819,"answer_id":57603076,"question_id":57602096,"body_markdown":"It is very easy with the [Apache Commons Lang][1] library.\r\n\r\n**Commons Lang**\r\n\r\n```\r\nList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\r\nString str = org.apache.commons.lang.StringUtils.join(list, &quot;,&quot;); // You can use any delimiter\r\nSystem.out.println(str);  // Output: 1, 2, 3, 4, 5, 6, 7\r\n```\r\n\r\n**Java 8 Solution**\r\n\r\n```\r\nList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\r\nString joinedList = list.stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;));\r\nSystem.out.println(joinedList);\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\r\n\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>It is very easy with the <a href=\"https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> library.</p>\n<p><strong>Commons Lang</strong></p>\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\nString str = org.apache.commons.lang.StringUtils.join(list, &quot;,&quot;); // You can use any delimiter\nSystem.out.println(str);  // Output: 1, 2, 3, 4, 5, 6, 7\n</code></pre>\n<p><strong>Java 8 Solution</strong></p>\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\nString joinedList = list.stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;));\nSystem.out.println(joinedList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645469786,"creation_date":1593454818,"answer_id":62644385,"question_id":57602096,"body_markdown":"Using [Guava][1]&#39;s [com.google.common.base.Joiner][2]\r\n\r\n    String res = Joiner.on(&quot;,&quot;).join(integerlist);\r\n\r\nUsing the Java Stream API\r\n\r\n    String res = integerlist.stream()\r\n                            .map(String::valueOf)\r\n                            .collect(Collectors.joining(&quot;,&quot;));\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Guava\r\n  [2]: https://guava.dev/releases/16.0/api/docs/com/google/common/base/Joiner.html\r\n\r\n\r\n\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>Using <a href=\"https://en.wikipedia.org/wiki/Google_Guava\" rel=\"nofollow noreferrer\">Guava</a>'s <a href=\"https://guava.dev/releases/16.0/api/docs/com/google/common/base/Joiner.html\" rel=\"nofollow noreferrer\">com.google.common.base.Joiner</a></p>\n<pre><code>String res = Joiner.on(&quot;,&quot;).join(integerlist);\n</code></pre>\n<p>Using the Java Stream API</p>\n<pre><code>String res = integerlist.stream()\n                        .map(String::valueOf)\n                        .collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12323829,"reputation":71,"user_id":8992452,"display_name":"NUKE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645470218,"creation_date":1600872934,"answer_id":64030705,"question_id":57602096,"body_markdown":"Perhaps the answer to your question could be:\r\n\r\n`List.toString()` as below:\r\n\r\n    List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\r\n    intList.add(1);\r\n    intList.add(2);\r\n    intList.add(3);\r\n\r\n    String listString = intList.toString();\r\n    System.out.println(listString); // &lt;- this prints [1, 2, 3]\r\n\r\nIn this post below, it is very well explained. I hope you can find it useful:\r\n\r\n*[Java: Convert List&amp;lt;Integer&gt; to String][1]*\r\n\r\n  [1]: https://stackoverflow.com/a/13198957/8992452\r\n\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>Perhaps the answer to your question could be:</p>\n<p><code>List.toString()</code> as below:</p>\n<pre><code>List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\nintList.add(1);\nintList.add(2);\nintList.add(3);\n\nString listString = intList.toString();\nSystem.out.println(listString); // &lt;- this prints [1, 2, 3]\n</code></pre>\n<p>In this post below, it is very well explained. I hope you can find it useful:</p>\n<p><em><a href=\"https://stackoverflow.com/a/13198957/8992452\">Java: Convert List&lt;Integer&gt; to String</a></em></p>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680971136,"creation_date":1680971136,"answer_id":75966390,"question_id":57602096,"body_markdown":"If you are already using `Spring` framework, they are providing a utility class for `String` operations `StringUtils`.\r\n\r\n    List&lt;Integer&gt; privileges = Arrays.asList(1,2,3);\r\n    \r\n    System.out.println(StringUtils.collectionToDelimitedString(privileges, &quot;,&quot;));","title":"Convert a list of integers into a comma-separated string","body":"<p>If you are already using <code>Spring</code> framework, they are providing a utility class for <code>String</code> operations <code>StringUtils</code>.</p>\n<pre><code>List&lt;Integer&gt; privileges = Arrays.asList(1,2,3);\n\nSystem.out.println(StringUtils.collectionToDelimitedString(privileges, &quot;,&quot;));\n</code></pre>\n"}],"owner":{"account_id":8674348,"reputation":1035,"user_id":6492159,"accept_rate":56,"display_name":"Nicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51428,"favorite_count":0,"down_vote_count":5,"up_vote_count":17,"accepted_answer_id":57602151,"answer_count":5,"score":12,"last_activity_date":1680971136,"creation_date":1566448482,"question_id":57602096,"body_markdown":"I was trying to convert a list of Integers into a string of comma-separated integers.\r\n\r\n**Collectors.joining(CharSequence delimiter)  - Returns a Collector that concatenates the input elements, separated by the specified delimiter, in encounter order.**\r\n\r\n    List&lt;Integer&gt; i = new ArrayList&lt;&gt;();\t//\ti.add(null);\r\n    for (int j = 1; j &lt; 6; j++) {\r\n    \ti.add(j);\r\n    }\r\n    System.out.println(i.stream().collect(Collectors.joining(&quot;,&quot;))); // Line 8\r\n\r\nI am getting an error in line number 8:\r\n\r\n&gt; The method collect(Collector&lt;? super Integer,A,R&gt;) in the type Stream&lt;Integer&gt; is not applicable for the arguments (Collector&lt;CharSequence,capture#20-of ?,String&gt;)\r\n   \t\t\r\nIs there a way to do this by streams in Java 8?\r\n\r\nIf I create a list of strings with `&quot;1&quot;, &quot;2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;5&quot;`. it works.\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>I was trying to convert a list of Integers into a string of comma-separated integers.</p>\n<p><strong>Collectors.joining(CharSequence delimiter)  - Returns a Collector that concatenates the input elements, separated by the specified delimiter, in encounter order.</strong></p>\n<pre><code>List&lt;Integer&gt; i = new ArrayList&lt;&gt;();    //  i.add(null);\nfor (int j = 1; j &lt; 6; j++) {\n    i.add(j);\n}\nSystem.out.println(i.stream().collect(Collectors.joining(&quot;,&quot;))); // Line 8\n</code></pre>\n<p>I am getting an error in line number 8:</p>\n<blockquote>\n<p>The method collect(Collector&lt;? super Integer,A,R&gt;) in the type Stream is not applicable for the arguments (Collector&lt;CharSequence,capture#20-of ?,String&gt;)</p>\n</blockquote>\n<p>Is there a way to do this by streams in Java 8?</p>\n<p>If I create a list of strings with <code>&quot;1&quot;, &quot;2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;5&quot;</code>. it works.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":190972,"reputation":30960,"user_id":5152732,"display_name":"toskv"},"score":1,"creation_date":1444152190,"post_id":32975708,"comment_id":53776943,"body_markdown":"The missing class in the **NoClassDefFoundError** is located in commons-lang.jar.","body":"The missing class in the <b>NoClassDefFoundError</b> is located in commons-lang.jar."},{"owner":{"account_id":6335400,"reputation":23,"user_id":4918931,"display_name":"priyamal madushanka"},"score":0,"creation_date":1444152965,"post_id":32975708,"comment_id":53777411,"body_markdown":"whats the difference between 2 jar files i can create jsonobject from both","body":"whats the difference between 2 jar files i can create jsonobject from both"},{"owner":{"account_id":190972,"reputation":30960,"user_id":5152732,"display_name":"toskv"},"score":0,"creation_date":1444153028,"post_id":32975708,"comment_id":53777452,"body_markdown":"There&#39;s no difference between the two, but probably one or both of them has a dependency from commons-lang.jar, so you&#39;ll need that one as well.","body":"There&#39;s no difference between the two, but probably one or both of them has a dependency from commons-lang.jar, so you&#39;ll need that one as well."}],"answers":[{"tags":[],"owner":{"account_id":190972,"reputation":30960,"user_id":5152732,"display_name":"toskv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444152250,"creation_date":1444152250,"answer_id":32975911,"question_id":32975708,"body_markdown":"The missing class in the **NoClassDefFoundError** is located in **commons-lang.jar** from apache.\r\n\r\nIt can be downloaded [here][1].\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"which jar libraries should i use when using json","body":"<p>The missing class in the <strong>NoClassDefFoundError</strong> is located in <strong>commons-lang.jar</strong> from apache.</p>\n\n<p>It can be downloaded <a href=\"http://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1444155728,"creation_date":1444155728,"answer_id":32976958,"question_id":32975708,"body_markdown":"The two most popular and fully-featured Java JSON libraries according to [Maven Repository][1] are:\r\n\r\n* [GSON][2] (2.4)\r\n* [Jackson][3] (2.6)\r\n\r\n\r\nand jars for both are accessible via Maven:\r\n\r\n* Gson requires `gson-2.4.jar` (group id `com.google.code.gson`, artifact id `gson`\r\n* Jackson requires `jackson-databind-2.6.2.jar` (group id `com.fasterxml.jackson.core`, artifact `jackson-databind`), as well as 2 supporting jars (`jackson-core` for streaming parser, `jackson-annotations` for annotation suport)\r\n\r\nJars that you listed are for other lesser commonly used packages (one for `json-lib`, http://json-lib.sourceforge.net/ is pretty old; other I don&#39;t even know what it is), so I would not recommend you use them.\r\n\r\n  [1]: http://mvnrepository.com/open-source/json-libraries\r\n  [2]: https://github.com/google/gson\r\n  [3]: https://github.com/FasterXML/jackson","title":"which jar libraries should i use when using json","body":"<p>The two most popular and fully-featured Java JSON libraries according to <a href=\"http://mvnrepository.com/open-source/json-libraries\" rel=\"noreferrer\">Maven Repository</a> are:</p>\n\n<ul>\n<li><a href=\"https://github.com/google/gson\" rel=\"noreferrer\">GSON</a> (2.4)</li>\n<li><a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a> (2.6)</li>\n</ul>\n\n<p>and jars for both are accessible via Maven:</p>\n\n<ul>\n<li>Gson requires <code>gson-2.4.jar</code> (group id <code>com.google.code.gson</code>, artifact id <code>gson</code></li>\n<li>Jackson requires <code>jackson-databind-2.6.2.jar</code> (group id <code>com.fasterxml.jackson.core</code>, artifact <code>jackson-databind</code>), as well as 2 supporting jars (<code>jackson-core</code> for streaming parser, <code>jackson-annotations</code> for annotation suport)</li>\n</ul>\n\n<p>Jars that you listed are for other lesser commonly used packages (one for <code>json-lib</code>, <a href=\"http://json-lib.sourceforge.net/\" rel=\"noreferrer\">http://json-lib.sourceforge.net/</a> is pretty old; other I don't even know what it is), so I would not recommend you use them.</p>\n"},{"tags":[],"owner":{"account_id":9911529,"reputation":3538,"user_id":7338066,"display_name":"susan097"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527600850,"creation_date":1527600850,"answer_id":50585739,"question_id":32975708,"body_markdown":"Works as Java8:&lt;hr&gt;\r\nHere is the link for [JAR][1]\r\n\r\nFor more help visit https://javaee.github.io/jsonp/\r\n\r\nDownload it and directly add in your Project.\r\n\r\n\r\n  [1]: http://search.maven.org/remotecontent?filepath=javax/json/javax.json-api/1.0/javax.json-api-1.0.jar","title":"which jar libraries should i use when using json","body":"<p>Works as Java8:<hr>\nHere is the link for <a href=\"http://search.maven.org/remotecontent?filepath=javax/json/javax.json-api/1.0/javax.json-api-1.0.jar\" rel=\"nofollow noreferrer\">JAR</a></p>\n\n<p>For more help visit <a href=\"https://javaee.github.io/jsonp/\" rel=\"nofollow noreferrer\">https://javaee.github.io/jsonp/</a></p>\n\n<p>Download it and directly add in your Project.</p>\n"}],"owner":{"account_id":6335400,"reputation":23,"user_id":4918931,"display_name":"priyamal madushanka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7881,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":32976958,"answer_count":3,"score":1,"last_activity_date":1680969956,"creation_date":1444151424,"question_id":32975708,"body_markdown":"im very new to json and i&#39;m trying to run json with java. i found 2 json jar files from internet called \r\n\r\n    1)java-json.jar \r\n    2)json-lib-2.4-jdk15.jar \r\n\r\nif im gonna run a java code with using json do i need to include these 2 jar libraries or a single one is enough.\r\ni included both libs and tried to run a code and i see this exception coming\r\n\r\n    NoClassDefFoundError: org/apache/commons/lang/exception/NestableRuntimeException\r\n\r\ni realize this is beacause of a missing lib or something bt i dont know the jar files i should include when running a java code if its using json\r\ncan some one tell me every jar file i should use and my code is given below\r\n\r\n    public static void main(String[] args) {\r\n          \r\n            json = new JSONObject();\r\n            map = new HashMap&lt;String, String&gt;();\r\n            \r\n            map.put(&quot;name&quot;, &quot;priyamal&quot;);\r\n            map.put(&quot;age&quot;, &quot;21&quot;);\r\n            \r\n            json.accumulateAll(obj.map);\r\n            \r\n            printJsonStrin(json.toString());\r\n            \r\n        }\r\n        \r\n        \r\n        public static void printJsonStrin(String jsonstr){\r\n            System.out.println(jsonstr);\r\n        }\r\n        \r\n\r\n","title":"which jar libraries should i use when using json","body":"<p>im very new to json and i'm trying to run json with java. i found 2 json jar files from internet called </p>\n\n<pre><code>1)java-json.jar \n2)json-lib-2.4-jdk15.jar \n</code></pre>\n\n<p>if im gonna run a java code with using json do i need to include these 2 jar libraries or a single one is enough.\ni included both libs and tried to run a code and i see this exception coming</p>\n\n<pre><code>NoClassDefFoundError: org/apache/commons/lang/exception/NestableRuntimeException\n</code></pre>\n\n<p>i realize this is beacause of a missing lib or something bt i dont know the jar files i should include when running a java code if its using json\ncan some one tell me every jar file i should use and my code is given below</p>\n\n<pre><code>public static void main(String[] args) {\n\n        json = new JSONObject();\n        map = new HashMap&lt;String, String&gt;();\n\n        map.put(\"name\", \"priyamal\");\n        map.put(\"age\", \"21\");\n\n        json.accumulateAll(obj.map);\n\n        printJsonStrin(json.toString());\n\n    }\n\n\n    public static void printJsonStrin(String jsonstr){\n        System.out.println(jsonstr);\n    }\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"answers":[{"tags":[],"owner":{"account_id":15842481,"reputation":128,"user_id":11430579,"display_name":"Player Schark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680960318,"creation_date":1680960318,"answer_id":75965480,"question_id":75965408,"body_markdown":"See the Map#compute section\r\n\r\n[Map#compute][1]\r\n\r\n[Map#computeIfPresent][2]\r\n\r\n[Map#computeIfAbsent][3]\r\n\r\nAssuming you don&#39;t want to use [Multimap][4], something like that should do the trick.\r\n\r\n\t\tList&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; goal = new HashMap&lt;&gt;();\r\n\r\n    \tfor (Map&lt;String, String&gt; map : list) {\r\n\t\t\tfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n\t\t\t\tgoal.compute(entry.getKey(), (k,v)-&gt;{\r\n\t\t\t\t\tList&lt;String&gt; l = v == null ? new ArrayList&lt;&gt;() : v;\r\n\t\t\t\t\tl.add(entry.getValue());\r\n\t\t\t\t\treturn l;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\r\n  [4]: https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimap.html","title":"how to convert List&lt;Map&lt;String, String&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt;","body":"<p>See the Map#compute section</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Map#compute</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Map#computeIfPresent</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">Map#computeIfAbsent</a></p>\n<p>Assuming you don't want to use <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Multimap</a>, something like that should do the trick.</p>\n<pre><code>    List&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\n    Map&lt;String, List&lt;String&gt;&gt; goal = new HashMap&lt;&gt;();\n\n    for (Map&lt;String, String&gt; map : list) {\n        for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n            goal.compute(entry.getKey(), (k,v)-&gt;{\n                List&lt;String&gt; l = v == null ? new ArrayList&lt;&gt;() : v;\n                l.add(entry.getValue());\n                return l;\n            });\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680962157,"creation_date":1680960328,"answer_id":75965482,"question_id":75965408,"body_markdown":"Try it like this.\r\n- `computeIfAbsent` will add the list as a value for the key if the key is absent.\r\n- the `new or existing` list is returned so that an object can now be added to that list. \r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\r\nfor (Map&lt;String, String&gt; map : recordListMap) {\r\n    for (Entry&lt;String, String&gt; e : map.entrySet()) {\r\n        myMaps.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\r\n                .add(e.getValue());\r\n    }\r\n}\r\nmyMaps.entrySet().forEach(System.out::println);\r\n```\r\nAnother alternative is to use streams.\r\n- stream the list of maps.\r\n- then stream the entrySet of each map, flattening it to a single stream of entries.\r\n- and then group by the key and put the values in a list.\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; myMaps2 = recordListMap.stream()\r\n        .flatMap(map -&gt; map.entrySet().stream())\r\n        .collect(Collectors.groupingBy(Entry::getKey, Collectors\r\n                .mapping(Entry::getValue, Collectors.toList())));\r\n\r\n\r\n```\r\nboth will contain\r\n```\r\ninputB=[ValueB_1, ValueB_2]\r\ninputA=[ValueA_1, ValueA_2]\r\n\r\n```\r\nCheck out [Map.computeIfAbsent](https://stackoverflow.com/questions/75965408/how-to-convert-listmapstring-string-to-mapstring-liststring/75965482#75965482)","title":"how to convert List&lt;Map&lt;String, String&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt;","body":"<p>Try it like this.</p>\n<ul>\n<li><code>computeIfAbsent</code> will add the list as a value for the key if the key is absent.</li>\n<li>the <code>new or existing</code> list is returned so that an object can now be added to that list.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\nfor (Map&lt;String, String&gt; map : recordListMap) {\n    for (Entry&lt;String, String&gt; e : map.entrySet()) {\n        myMaps.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\n                .add(e.getValue());\n    }\n}\nmyMaps.entrySet().forEach(System.out::println);\n</code></pre>\n<p>Another alternative is to use streams.</p>\n<ul>\n<li>stream the list of maps.</li>\n<li>then stream the entrySet of each map, flattening it to a single stream of entries.</li>\n<li>and then group by the key and put the values in a list.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; myMaps2 = recordListMap.stream()\n        .flatMap(map -&gt; map.entrySet().stream())\n        .collect(Collectors.groupingBy(Entry::getKey, Collectors\n                .mapping(Entry::getValue, Collectors.toList())));\n\n\n</code></pre>\n<p>both will contain</p>\n<pre><code>inputB=[ValueB_1, ValueB_2]\ninputA=[ValueA_1, ValueA_2]\n\n</code></pre>\n<p>Check out <a href=\"https://stackoverflow.com/questions/75965408/how-to-convert-listmapstring-string-to-mapstring-liststring/75965482#75965482\">Map.computeIfAbsent</a></p>\n"}],"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75965480,"answer_count":2,"score":1,"last_activity_date":1680969443,"creation_date":1680959453,"question_id":75965408,"body_markdown":"I have list of map `List&lt;Map&lt;String,String&gt;&gt;` and want to convert into `Map&lt;String, List String&gt;&gt;`\r\n\r\nBelow is the sample code\r\n```java\r\nList&lt;Map&lt;String,String&gt;&gt; recordListMap = new ArrayList&lt;&gt;();\r\n\r\nMap&lt;String,String&gt; recordMap_1 = new HashMap&lt;&gt;();\r\nrecordMap_1.put(&quot;inputA&quot;, &quot;ValueA_1&quot;);\r\nrecordMap_1.put(&quot;inputB&quot;, &quot;ValueB_1&quot;);\r\nrecordListMap.add(recordMap_1);\r\n\r\nMap&lt;String,String&gt; recordMap_2 = new HashMap&lt;&gt;();\r\nrecordMap_2.put(&quot;inputA&quot;, &quot;ValueA_2&quot;);\r\nrecordMap_2.put(&quot;inputB&quot;, &quot;ValueB_2&quot;);\r\nrecordListMap.add(recordMap_2);\r\n```\r\n\r\nI tried the below approach and with this I am not getting the required result:\r\n```java\r\nMap&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\r\nfor (Map&lt;String, String&gt; recordMap : recordListMap) {\r\n\tfor (Map.Entry&lt;String, String&gt; map : recordMap.entrySet()) {\r\n\t\tmyMaps.put(map.getKey(), List.of(map.getValue()));\r\n\t}\r\n}\r\nOutPut: {inputB=[ValueB_2], inputA=[ValueA_2]}\r\n```\r\n\r\nExpected Result:\r\n\r\n```\r\n{inputB=[ValueB_1, ValueB_2], inputA=[ValueA_1, ValueA_2]}\r\n```","title":"how to convert List&lt;Map&lt;String, String&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt;","body":"<p>I have list of map <code>List&lt;Map&lt;String,String&gt;&gt;</code> and want to convert into <code>Map&lt;String, List String&gt;&gt;</code></p>\n<p>Below is the sample code</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String,String&gt;&gt; recordListMap = new ArrayList&lt;&gt;();\n\nMap&lt;String,String&gt; recordMap_1 = new HashMap&lt;&gt;();\nrecordMap_1.put(&quot;inputA&quot;, &quot;ValueA_1&quot;);\nrecordMap_1.put(&quot;inputB&quot;, &quot;ValueB_1&quot;);\nrecordListMap.add(recordMap_1);\n\nMap&lt;String,String&gt; recordMap_2 = new HashMap&lt;&gt;();\nrecordMap_2.put(&quot;inputA&quot;, &quot;ValueA_2&quot;);\nrecordMap_2.put(&quot;inputB&quot;, &quot;ValueB_2&quot;);\nrecordListMap.add(recordMap_2);\n</code></pre>\n<p>I tried the below approach and with this I am not getting the required result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\nfor (Map&lt;String, String&gt; recordMap : recordListMap) {\n    for (Map.Entry&lt;String, String&gt; map : recordMap.entrySet()) {\n        myMaps.put(map.getKey(), List.of(map.getValue()));\n    }\n}\nOutPut: {inputB=[ValueB_2], inputA=[ValueA_2]}\n</code></pre>\n<p>Expected Result:</p>\n<pre><code>{inputB=[ValueB_1, ValueB_2], inputA=[ValueA_1, ValueA_2]}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666227972,"post_id":74128778,"comment_id":130888427,"body_markdown":"This is the default behavior is using signInAnonymously().","body":"This is the default behavior is using signInAnonymously()."},{"owner":{"account_id":3661369,"reputation":4590,"user_id":3051067,"accept_rate":43,"display_name":"Anonymous"},"score":0,"creation_date":1666263847,"post_id":74128778,"comment_id":130897411,"body_markdown":"@LawrenceGimenez yes but that doesn&#39;t help with the question","body":"@LawrenceGimenez yes but that doesn&#39;t help with the question"},{"owner":{"account_id":8847651,"reputation":375,"user_id":6607935,"display_name":"Milie"},"score":0,"creation_date":1666780855,"post_id":74128778,"comment_id":131015602,"body_markdown":"You could probably use `createUser/signInWithEmailAndPassword()` and generate a random email and password but the user would still need to use the required login details on an uninstall. My understanding is that if you want persistent data and accounts, you need to partially authenticate a user. `signInAnonymously()` should be used for `read-only` apps, if I understand it right.","body":"You could probably use <code>createUser&#47;signInWithEmailAndPassword()</code> and generate a random email and password but the user would still need to use the required login details on an uninstall. My understanding is that if you want persistent data and accounts, you need to partially authenticate a user. <code>signInAnonymously()</code> should be used for <code>read-only</code> apps, if I understand it right."},{"owner":{"account_id":9758708,"reputation":193,"user_id":7234479,"display_name":"leo"},"score":0,"creation_date":1680969429,"post_id":74128778,"comment_id":133994237,"body_markdown":"I had this issue. deleting the app and re-installing it fixed it.","body":"I had this issue. deleting the app and re-installing it fixed it."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666780280,"creation_date":1666780280,"answer_id":74206291,"question_id":74128778,"body_markdown":"You can use Firebase Anonymous Authentication to create and use **only** temporary accounts to authenticate with Firebase. The Anonymous Authentication accounts don&#39;t persist across application uninstalls. When an application is uninstalled, everything that was saved locally will be wiped out, including the anonymous auth token that identifies that account. So there is no way you can reclaim that token for the user. So each time you sign in, a new UID is generated.\r\n\r\n&gt; What other way can I use to ensure steady and exclusive access for that user to a Realtime Database child?\r\n\r\nTo always have the same UID, then you have to implement the Firebase Authentication with a provider like Google, Facebook, Twitter, and so on.","title":"Firebase - userId keeps changing","body":"<p>You can use Firebase Anonymous Authentication to create and use <strong>only</strong> temporary accounts to authenticate with Firebase. The Anonymous Authentication accounts don't persist across application uninstalls. When an application is uninstalled, everything that was saved locally will be wiped out, including the anonymous auth token that identifies that account. So there is no way you can reclaim that token for the user. So each time you sign in, a new UID is generated.</p>\n<blockquote>\n<p>What other way can I use to ensure steady and exclusive access for that user to a Realtime Database child?</p>\n</blockquote>\n<p>To always have the same UID, then you have to implement the Firebase Authentication with a provider like Google, Facebook, Twitter, and so on.</p>\n"}],"owner":{"account_id":3661369,"reputation":4590,"user_id":3051067,"accept_rate":43,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680969429,"creation_date":1666196740,"question_id":74128778,"body_markdown":"In an Android project I use Firebase with `signInAnonymously()` and I am getting `userId` like this\r\n\r\n    userId = FirebaseAuth.getInstance().getCurrentUser().getUid()\r\n\r\nand I use the userId to create children nodes in `Firebase Realtime Database` that only this user can access based on the access rules of that database. \r\n\r\nThe problem is that I noticed userId changes randomly and when that happens all content created by that user is lost to them. Is there something I can do to keep the same userId until the app is uninstalled? What other way can I use to ensure steady and exclusive access for that user to a Realtime database child? Can installation id be used?","title":"Firebase - userId keeps changing","body":"<p>In an Android project I use Firebase with <code>signInAnonymously()</code> and I am getting <code>userId</code> like this</p>\n<pre><code>userId = FirebaseAuth.getInstance().getCurrentUser().getUid()\n</code></pre>\n<p>and I use the userId to create children nodes in <code>Firebase Realtime Database</code> that only this user can access based on the access rules of that database.</p>\n<p>The problem is that I noticed userId changes randomly and when that happens all content created by that user is lost to them. Is there something I can do to keep the same userId until the app is uninstalled? What other way can I use to ensure steady and exclusive access for that user to a Realtime database child? Can installation id be used?</p>\n"},{"tags":["java","spring-boot","spring-webflux","webclient"],"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680969165,"creation_date":1680969165,"question_id":75966195,"body_markdown":"Im new to spring reactive,\r\nImplementation.\r\nIn the response of the api if the first name is &quot;Justin&quot; retry and while re trying must also log the response body and same goes to if there is error in response will retry.\r\n\r\nBoth scenario is retrying but the problem is, for both scenario the response is unable to be log inside the `doBeforeRetry`.\r\n\r\n```\r\n public Mono&lt;NameModel&gt; methodWebClient(){\r\n\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n   Mono&lt;NameModel&gt; nameModel =  webClient\r\n                .post()\r\n                .uri(url)\r\n                .headers(header -&gt; header.addAll(httpHeaders))\r\n                .retrieve()\r\n                .bodyToMono(NameModel.class)\r\n               .flatMap(checkResponse -&gt; {\r\n                        if (checkResponse.getFirstName().equalsIgnoreCase(&quot;Justin&quot;)){\r\n                            log.info(&quot;Errors response custom{}&quot;,checkResponse);\r\n                            return  Mono.error(new Exception()) ;\r\n                        }else{\r\n                            return Mono.just(checkResponse);\r\n                        }\r\n                    })\r\n                .retryWhen(Retry\r\n                   .backoff(3, Duration.ofMillis(1000))\r\n                                .doBeforeRetry(signal -&gt; {\r\n                                    Throwable throwable = signal.failure().getCause();\r\n\r\n                                    if (throwable instanceof WebClientResponseException) {\r\n                                        WebClientResponseException webClientResponseException = (WebClientResponseException) throwable;\r\n                                        String errorBody = webClientResponseException.getResponseBodyAsString();\r\n                                        HttpStatus httpStatus = webClientResponseException.getStatusCode();\r\n                                        log.info(&quot;response status {} response body{}&quot;, httpStatus, errorBody);\r\n                                    }\r\n                                    System.out.println(&quot;Retrying due to &quot; + signal.failure().getLocalizedMessage());\r\n                                })\r\n                )\r\n\r\n           .onErrorResume(errorMessage -&gt;  Mono.error(new CustomErrorException(&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;)));\r\n\r\n        return nameModel;\r\n    }\r\n\r\n```\r\nlog if firstname is &quot;Justin&quot; then retry\r\n```\r\n2023-04-08 23:42:33.566  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\nRetrying due to null\r\n2023-04-08 23:42:34.713  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\nRetrying due to null\r\n2023-04-08 23:42:37.052  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\nRetrying due to null\r\n2023-04-08 23:42:41.575  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\n```\r\nlog when server is having Error in response like 500+ or 400+\r\n```\r\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\r\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\r\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\r\n```","title":"Spring reactive log the response body when exception occur","body":"<p>Im new to spring reactive,\nImplementation.\nIn the response of the api if the first name is &quot;Justin&quot; retry and while re trying must also log the response body and same goes to if there is error in response will retry.</p>\n<p>Both scenario is retrying but the problem is, for both scenario the response is unable to be log inside the <code>doBeforeRetry</code>.</p>\n<pre><code> public Mono&lt;NameModel&gt; methodWebClient(){\n\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n\n   Mono&lt;NameModel&gt; nameModel =  webClient\n                .post()\n                .uri(url)\n                .headers(header -&gt; header.addAll(httpHeaders))\n                .retrieve()\n                .bodyToMono(NameModel.class)\n               .flatMap(checkResponse -&gt; {\n                        if (checkResponse.getFirstName().equalsIgnoreCase(&quot;Justin&quot;)){\n                            log.info(&quot;Errors response custom{}&quot;,checkResponse);\n                            return  Mono.error(new Exception()) ;\n                        }else{\n                            return Mono.just(checkResponse);\n                        }\n                    })\n                .retryWhen(Retry\n                   .backoff(3, Duration.ofMillis(1000))\n                                .doBeforeRetry(signal -&gt; {\n                                    Throwable throwable = signal.failure().getCause();\n\n                                    if (throwable instanceof WebClientResponseException) {\n                                        WebClientResponseException webClientResponseException = (WebClientResponseException) throwable;\n                                        String errorBody = webClientResponseException.getResponseBodyAsString();\n                                        HttpStatus httpStatus = webClientResponseException.getStatusCode();\n                                        log.info(&quot;response status {} response body{}&quot;, httpStatus, errorBody);\n                                    }\n                                    System.out.println(&quot;Retrying due to &quot; + signal.failure().getLocalizedMessage());\n                                })\n                )\n\n           .onErrorResume(errorMessage -&gt;  Mono.error(new CustomErrorException(&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;)));\n\n        return nameModel;\n    }\n\n</code></pre>\n<p>log if firstname is &quot;Justin&quot; then retry</p>\n<pre><code>2023-04-08 23:42:33.566  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\nRetrying due to null\n2023-04-08 23:42:34.713  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\nRetrying due to null\n2023-04-08 23:42:37.052  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\nRetrying due to null\n2023-04-08 23:42:41.575  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\n</code></pre>\n<p>log when server is having Error in response like 500+ or 400+</p>\n<pre><code>Retrying due to 500 Internal Server Error from POST http://localhost:8081/name\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\n</code></pre>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":12487987,"reputation":181,"user_id":9090571,"display_name":"Kshitij Joshi"},"score":0,"creation_date":1661863873,"post_id":73542206,"comment_id":129868658,"body_markdown":"The name of the file should be `Dockerfile` and it is case sensitive. Are you using vscode to send the build command? Maybe it&#39;s lowercasing the file name. Refer\nhttps://github.com/docker/buildx/issues/415","body":"The name of the file should be <code>Dockerfile</code> and it is case sensitive. Are you using vscode to send the build command? Maybe it&#39;s lowercasing the file name. Refer <a href=\"https://github.com/docker/buildx/issues/415\" rel=\"nofollow noreferrer\">github.com/docker/buildx/issues/415</a>"},{"owner":{"account_id":26198004,"reputation":13,"user_id":19878848,"display_name":"Tony Cavanagh"},"score":0,"creation_date":1661864187,"post_id":73542206,"comment_id":129868780,"body_markdown":"It is called Dockerfile. That was just a mistake on my part when writing my comment. As I pointed out it was working, and then just stopped working. \nDo you know how I can ls on the directory docker.io/library","body":"It is called Dockerfile. That was just a mistake on my part when writing my comment. As I pointed out it was working, and then just stopped working.  Do you know how I can ls on the directory docker.io/library"}],"answers":[{"tags":[],"owner":{"account_id":15714218,"reputation":362,"user_id":11338800,"display_name":"lendoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680968853,"creation_date":1680968853,"answer_id":75966168,"question_id":73542206,"body_markdown":"in the `Dockerfile`\r\n```bash\r\nFROM openjdk:8-jdk-alpine\r\n```\r\n\r\nThis one works for me","title":"Getting error: code = Unknown desc = docker.io/library/java:8: not found","body":"<p>in the <code>Dockerfile</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM openjdk:8-jdk-alpine\n</code></pre>\n<p>This one works for me</p>\n"}],"owner":{"account_id":26198004,"reputation":13,"user_id":19878848,"display_name":"Tony Cavanagh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680968853,"creation_date":1661861215,"question_id":73542206,"body_markdown":"I have been using Docker with an image for the last few months, and then. I stared getting the following error\r\n```\r\n[+] Building 3.3s (6/6) FINISHED                                                                                                                                                       \r\n =&gt; [internal] load build definition from Dockerfile                                                                                                                              0.0s\r\n =&gt; =&gt; transferring dockerfile: 37B                                                                                                                                               0.0s\r\n =&gt; [internal] load .dockerignore                                                                                                                                                 0.0s\r\n =&gt; =&gt; transferring context: 2B                                                                                                                                                   0.0s\r\n =&gt; resolve image config for docker.io/docker/dockerfile:experimental                                                                                                             1.9s\r\n =&gt; CACHED docker-image://docker.io/docker/dockerfile:experimental@sha256:600e5c62eedff338b3f7a0850beb7c05866e0ef27b2d2e8c02aa468e78496ff5                                        0.0s\r\n =&gt; [internal] load metadata for docker.io/library/maven:3.6.2-jdk-8                                                                                                              0.9s\r\n =&gt; ERROR [internal] load metadata for docker.io/library/java:8                                                                                                                   1.0s\r\n------\r\n &gt; [internal] load metadata for docker.io/library/java:8:\r\n------\r\nfailed to solve with frontend dockerfile.v0: failed to solve with frontend gateway.v0: rpc error: code = Unknown desc = docker.io/library/java:8: not found\r\n```\r\n\r\nI ran the following command on the container that the image sits in\r\n\r\n```\r\ndocker exec container_name java -version\r\n```\r\nI got back\r\n```\r\nopenjdk version &quot;1.8.0_111&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-2~bpo8+1-b14)\r\nOpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)\r\n```\r\nI am not an expert on docker, and I have no idea how I can list whatis in the directory docker.io/library/\r\n\r\nDockerfile calls java 8.\r\n\r\nAll I know was that it was working, and now its stopped working\r\n\r\nThankyou for any help, and/or pointers.\r\n","title":"Getting error: code = Unknown desc = docker.io/library/java:8: not found","body":"<p>I have been using Docker with an image for the last few months, and then. I stared getting the following error</p>\n<pre><code>[+] Building 3.3s (6/6) FINISHED                                                                                                                                                       \n =&gt; [internal] load build definition from Dockerfile                                                                                                                              0.0s\n =&gt; =&gt; transferring dockerfile: 37B                                                                                                                                               0.0s\n =&gt; [internal] load .dockerignore                                                                                                                                                 0.0s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                   0.0s\n =&gt; resolve image config for docker.io/docker/dockerfile:experimental                                                                                                             1.9s\n =&gt; CACHED docker-image://docker.io/docker/dockerfile:experimental@sha256:600e5c62eedff338b3f7a0850beb7c05866e0ef27b2d2e8c02aa468e78496ff5                                        0.0s\n =&gt; [internal] load metadata for docker.io/library/maven:3.6.2-jdk-8                                                                                                              0.9s\n =&gt; ERROR [internal] load metadata for docker.io/library/java:8                                                                                                                   1.0s\n------\n &gt; [internal] load metadata for docker.io/library/java:8:\n------\nfailed to solve with frontend dockerfile.v0: failed to solve with frontend gateway.v0: rpc error: code = Unknown desc = docker.io/library/java:8: not found\n</code></pre>\n<p>I ran the following command on the container that the image sits in</p>\n<pre><code>docker exec container_name java -version\n</code></pre>\n<p>I got back</p>\n<pre><code>openjdk version &quot;1.8.0_111&quot;\nOpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-2~bpo8+1-b14)\nOpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)\n</code></pre>\n<p>I am not an expert on docker, and I have no idea how I can list whatis in the directory docker.io/library/</p>\n<p>Dockerfile calls java 8.</p>\n<p>All I know was that it was working, and now its stopped working</p>\n<p>Thankyou for any help, and/or pointers.</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":3,"creation_date":1593417507,"post_id":62633583,"comment_id":110762973,"body_markdown":"Show us your pom.xml","body":"Show us your pom.xml"},{"owner":{"account_id":9585350,"reputation":3325,"user_id":7118342,"display_name":"Harmandeep Singh Kalsi"},"score":1,"creation_date":1593417511,"post_id":62633583,"comment_id":110762979,"body_markdown":"Can you paste the pom.xml here?","body":"Can you paste the pom.xml here?"},{"owner":{"account_id":10681943,"reputation":167,"user_id":10430513,"display_name":"Zishan Khan"},"score":4,"creation_date":1593417777,"post_id":62633583,"comment_id":110763103,"body_markdown":"Make sure you have added `spring-boot-starter-web` dependency to your pom.xml","body":"Make sure you have added <code>spring-boot-starter-web</code> dependency to your pom.xml"},{"owner":{"account_id":18956238,"reputation":15,"user_id":13832775,"display_name":"Martixx"},"score":0,"creation_date":1593418430,"post_id":62633583,"comment_id":110763413,"body_markdown":"Posted it right now","body":"Posted it right now"},{"owner":{"account_id":10681943,"reputation":167,"user_id":10430513,"display_name":"Zishan Khan"},"score":0,"creation_date":1593418722,"post_id":62633583,"comment_id":110763578,"body_markdown":"@Martixx add this depdendency &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;","body":"@Martixx add this depdendency &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":8447079,"reputation":1138,"user_id":6337331,"display_name":"Mafick"},"score":0,"creation_date":1593420581,"post_id":62633583,"comment_id":110764451,"body_markdown":"Does this answer your question? [Deploy Spring Boot to Tomcat](https://stackoverflow.com/questions/24741816/deploy-spring-boot-to-tomcat)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24741816/deploy-spring-boot-to-tomcat\">Deploy Spring Boot to Tomcat</a>"}],"answers":[{"tags":[],"owner":{"account_id":3845428,"reputation":2373,"user_id":3187132,"display_name":"ylev"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1680967540,"creation_date":1593440154,"answer_id":62640097,"question_id":62633583,"body_markdown":"`@RestController` annotation is included in `spring-web-X.X.X.jar`\r\nYou need to include `spring-boot-starter-web` dependency in your `pom.xml` file:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nby yl","title":"Spring-Boot Maven, missing dependency @RestController","body":"<p><code>@RestController</code> annotation is included in <code>spring-web-X.X.X.jar</code>\nYou need to include <code>spring-boot-starter-web</code> dependency in your <code>pom.xml</code> file:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>by yl</p>\n"}],"owner":{"account_id":18956238,"reputation":15,"user_id":13832775,"display_name":"Martixx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62640097,"answer_count":1,"score":1,"last_activity_date":1680967540,"creation_date":1593417309,"question_id":62633583,"body_markdown":"I&#39;m new to the Springboot and Maven area and wanted to ask what I did wrong here / why it doesn&#39;t work that way.\r\n\r\n[My Code][1]\r\n\r\n[Says, missing Maven dependency][2]\r\n\r\nNormally it should add after I type the annotation &quot;@RestController&quot; -&gt; import org.springframework.web.bind.annotation.RestController;\r\n\r\nWhat should I do?\r\n\r\nMy POM\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t    &lt;parent&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t    &lt;/parent&gt;\r\n\t    &lt;groupId&gt;de.martinm&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;SimpleTest&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t    &lt;name&gt;SimpleTest&lt;/name&gt;\r\n\t    &lt;description&gt;Test project using Spring&lt;/description&gt;\r\n\r\n    \t&lt;properties&gt;\r\n\t    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t    &lt;/properties&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    \t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n\t    \t\t\t&lt;exclusion&gt;\r\n\t\t    \t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t    \t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n\t    \t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t    \t\t&lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n\t\t    \t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n\t    \t&lt;plugins&gt;\r\n\t\t    \t&lt;plugin&gt;\r\n\t\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\t    \t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n  [1]: https://ibb.co/B39nbSF\r\n  [2]: https://ibb.co/Lrnv0pX","title":"Spring-Boot Maven, missing dependency @RestController","body":"<p>I'm new to the Springboot and Maven area and wanted to ask what I did wrong here / why it doesn't work that way.</p>\n<p><a href=\"https://ibb.co/B39nbSF\" rel=\"nofollow noreferrer\">My Code</a></p>\n<p><a href=\"https://ibb.co/Lrnv0pX\" rel=\"nofollow noreferrer\">Says, missing Maven dependency</a></p>\n<p>Normally it should add after I type the annotation &quot;@RestController&quot; -&gt; import org.springframework.web.bind.annotation.RestController;</p>\n<p>What should I do?</p>\n<p>My POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.martinm&lt;/groupId&gt;\n    &lt;artifactId&gt;SimpleTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SimpleTest&lt;/name&gt;\n    &lt;description&gt;Test project using Spring&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","webclient"],"comments":[{"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"score":0,"creation_date":1680350531,"post_id":75867589,"comment_id":133885724,"body_markdown":"You can use a the spring retry project : https://github.com/spring-projects/spring-retry","body":"You can use a the spring retry project : <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-retry</a>"}],"answers":[{"tags":[],"owner":{"account_id":2979530,"reputation":372,"user_id":2529828,"display_name":"Centonni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680351115,"creation_date":1680344753,"answer_id":75905603,"question_id":75867589,"body_markdown":"You need to use **ExchangeFilterFunctions** that will help you define your retry logic.\r\n\r\n\r\n\r\n        @Bean\r\n        FooClient fooClient() {\r\n            WebClient webClient =WebClient.builder()\r\n                .baseUrl(&quot;your_base_url&quot;)\r\n                .filter(withRetryableRequests())\r\n                .build();\r\n            HttpServiceProxyFactory factory=HttpServiceProxyFactory\r\n                .builder(WebClientAdapter.forClient(webClient))\r\n                .blockTimeout(Duration.of(HTTP_CLIENT_READ_TIMEOUT, ChronoUnit.SECONDS)) // Configure how long to wait for a response for an HTTP service method with a synchronous (blocking) method signature.By default this is 5 seconds.\r\n                .build();\r\n            return factory.createClient(FooClient.class);\r\n        }\r\n    \r\n      \r\n        private ExchangeFilterFunction withRetryableRequests() {\r\n            return (request, next) -&gt; next.exchange(request)\r\n                    .flatMap(clientResponse -&gt; Mono.just(clientResponse)\r\n                            .filter(response -&gt;  clientResponse.statusCode().isError())\r\n                            .flatMap(response -&gt; clientResponse.createException())\r\n                            .flatMap(Mono::error)\r\n                            .thenReturn(clientResponse))\r\n                    .retryWhen(this.retryBackoffSpec());\r\n        }\r\n        \r\n        private RetryBackoffSpec retryBackoffSpec() {\r\n            return Retry.backoff(3, Duration.ofSeconds(2))\r\n                    .filter(throwable-&gt;throwable instanceof  WebClientResponseException) // here filter on the errors for which you want a retry\r\n                    .doBeforeRetry(retrySignal -&gt; log.warn(&quot;Retrying request after following exception : {}&quot;,  retrySignal.failure().getLocalizedMessage()))\r\n                    .onRetryExhaustedThrow((retryBackoffSpec, retrySignal)  -&gt; retrySignal.failure());\r\n        }\r\n\r\n**[EDIT]** For the particular case that you encounter, i.e. the exception\r\n\r\n    java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\r\n\r\nthe probable cause is that your service is waiting for the answer to the request and after 5 seconds (by default), the service hangs up.\r\n\r\nIt would be necessary to increase the read timeout of the http client used.\r\nI have edited the code accordingly with a comment on the line concerned.","title":"Retry for Spring @HttpExchange","body":"<p>You need to use <strong>ExchangeFilterFunctions</strong> that will help you define your retry logic.</p>\n<pre><code>    @Bean\n    FooClient fooClient() {\n        WebClient webClient =WebClient.builder()\n            .baseUrl(&quot;your_base_url&quot;)\n            .filter(withRetryableRequests())\n            .build();\n        HttpServiceProxyFactory factory=HttpServiceProxyFactory\n            .builder(WebClientAdapter.forClient(webClient))\n            .blockTimeout(Duration.of(HTTP_CLIENT_READ_TIMEOUT, ChronoUnit.SECONDS)) // Configure how long to wait for a response for an HTTP service method with a synchronous (blocking) method signature.By default this is 5 seconds.\n            .build();\n        return factory.createClient(FooClient.class);\n    }\n\n  \n    private ExchangeFilterFunction withRetryableRequests() {\n        return (request, next) -&gt; next.exchange(request)\n                .flatMap(clientResponse -&gt; Mono.just(clientResponse)\n                        .filter(response -&gt;  clientResponse.statusCode().isError())\n                        .flatMap(response -&gt; clientResponse.createException())\n                        .flatMap(Mono::error)\n                        .thenReturn(clientResponse))\n                .retryWhen(this.retryBackoffSpec());\n    }\n    \n    private RetryBackoffSpec retryBackoffSpec() {\n        return Retry.backoff(3, Duration.ofSeconds(2))\n                .filter(throwable-&gt;throwable instanceof  WebClientResponseException) // here filter on the errors for which you want a retry\n                .doBeforeRetry(retrySignal -&gt; log.warn(&quot;Retrying request after following exception : {}&quot;,  retrySignal.failure().getLocalizedMessage()))\n                .onRetryExhaustedThrow((retryBackoffSpec, retrySignal)  -&gt; retrySignal.failure());\n    }\n</code></pre>\n<p><strong>[EDIT]</strong> For the particular case that you encounter, i.e. the exception</p>\n<pre><code>java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\n</code></pre>\n<p>the probable cause is that your service is waiting for the answer to the request and after 5 seconds (by default), the service hangs up.</p>\n<p>It would be necessary to increase the read timeout of the http client used.\nI have edited the code accordingly with a comment on the line concerned.</p>\n"}],"owner":{"account_id":7544084,"reputation":65,"user_id":6415159,"display_name":"munky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75905603,"answer_count":1,"score":0,"last_activity_date":1680967418,"creation_date":1680013856,"question_id":75867589,"body_markdown":"I&#39;m using `Spring-boot-3` `@GetExchange` with a `WebClient`, sometimes we hit a following error:\r\n```\r\njava.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\r\n```\r\n\r\nWhat&#39;s the best practice, in case of using `@GetExchange` to instruct the `WebClient` to retry? There isn&#39;t enough documentation for this new annotation.","title":"Retry for Spring @HttpExchange","body":"<p>I'm using <code>Spring-boot-3</code> <code>@GetExchange</code> with a <code>WebClient</code>, sometimes we hit a following error:</p>\n<pre><code>java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\n</code></pre>\n<p>What's the best practice, in case of using <code>@GetExchange</code> to instruct the <code>WebClient</code> to retry? There isn't enough documentation for this new annotation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1680963124,"post_id":75965659,"comment_id":133984609,"body_markdown":"implement an interface","body":"implement an interface"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680963157,"post_id":75965659,"comment_id":133984619,"body_markdown":"Java doesn&#39;t support multiple inheritance, so one major implementation is denied to you.  You could also inherit from say `Cow`, to make a `PetCow`.  You could employ a Strategy Pattern where certain behaviors inside `Animal` can be replaced, and use a `PetBehavior` on certain animals.  `Pet&lt;T extends Animal&gt;` and a `PetWrapper` seem the same idea to me, they&#39;re both wrappers.  There might be other ideas I can&#39;t think of right now...","body":"Java doesn&#39;t support multiple inheritance, so one major implementation is denied to you.  You could also inherit from say <code>Cow</code>, to make a <code>PetCow</code>.  You could employ a Strategy Pattern where certain behaviors inside <code>Animal</code> can be replaced, and use a <code>PetBehavior</code> on certain animals.  <code>Pet&lt;T extends Animal&gt;</code> and a <code>PetWrapper</code> seem the same idea to me, they&#39;re both wrappers.  There might be other ideas I can&#39;t think of right now..."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680963338,"post_id":75965659,"comment_id":133984641,"body_markdown":"(I think what Old Programmer is saying is that if you make `Pet` an interface, then you can use `class PetCow extends Cow implements Pet` and you can have both on the same class, without multiple inheritance.)","body":"(I think what Old Programmer is saying is that if you make <code>Pet</code> an interface, then you can use <code>class PetCow extends Cow implements Pet</code> and you can have both on the same class, without multiple inheritance.)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680963691,"post_id":75965659,"comment_id":133984695,"body_markdown":"@markspace actually, Java does not support multiple inheritance of classes but it does support multiple inheritance of interfaces.","body":"@markspace actually, Java does not support multiple inheritance of classes but it does support multiple inheritance of interfaces."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680963778,"post_id":75965659,"comment_id":133984708,"body_markdown":"Weelll, that is commonly expressed as &quot;doesn&#39;t support multiple inheritance.&quot;  What everyone means by &quot;multiple inheritance&quot; is that you can inherit state variables from more than one class, and that gets into the diamond problem.  No diamond problem = no multiple inheritance.","body":"Weelll, that is commonly expressed as &quot;doesn&#39;t support multiple inheritance.&quot;  What everyone means by &quot;multiple inheritance&quot; is that you can inherit state variables from more than one class, and that gets into the diamond problem.  No diamond problem = no multiple inheritance."}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680967407,"creation_date":1680967407,"answer_id":75966052,"question_id":75965659,"body_markdown":"&gt; Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.\r\n\r\nThis smells like a job for the [Decorator Pattern][1]. The idea is your `Pet` class both _is_ and _has_ an animal, so it can be used as an `Animal` but then delegate to the wrapped class when needed.\r\n\r\n    public class Pet extends Animal {\r\n        private final Animal mDecoratedAnimal;\r\n\r\n        public Pet(Animal animalToDecorate) {\r\n            mDecoratedAnimal = animalToDecorate;\r\n        }\r\n\r\n        @Override\r\n        public void ai() { mDecoratedAnimal.ai() } // Just delegate\r\n\r\n        @Override void die() {\r\n            // Extra logic\r\n            mDecoratedAnimal.die();\r\n        }\r\n\r\n        @Override\r\n        public void dropLoot(){\r\n            // This runs instead of whatever is in Cow or Pig classes}\r\n        }\r\n    }\r\n        \r\nThen when you need to use it:\r\n\r\n    Animal cow = new Cow();\r\n    Animal pig = new Pig();\r\n    Animal petCow = new Pet(cow);\r\n    Animal petPig = new Pet(pig);\r\n\r\n    // Use petCow and petPig like any other animal:\r\n    petCow.ai() // Does Cow AI\r\n    petPig.ai() // Does Pig AI\r\n    petCow.dropLoot() // Does custom pet loot dropping\r\n    petPig.dropLoot() // Does custom pet loot dropping\r\n    petCow.die() // Does pet stuff then cow dies\r\n    petPig.die() // Does pet stuff then pig dies\r\n\r\n  \r\n   \r\n\r\n  [1]: https://www.google.com/search?q=decorator%20pattern%20java","title":"Class that extends subclasses of another class?","body":"<blockquote>\n<p>Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.</p>\n</blockquote>\n<p>This smells like a job for the <a href=\"https://www.google.com/search?q=decorator%20pattern%20java\" rel=\"nofollow noreferrer\">Decorator Pattern</a>. The idea is your <code>Pet</code> class both <em>is</em> and <em>has</em> an animal, so it can be used as an <code>Animal</code> but then delegate to the wrapped class when needed.</p>\n<pre><code>public class Pet extends Animal {\n    private final Animal mDecoratedAnimal;\n\n    public Pet(Animal animalToDecorate) {\n        mDecoratedAnimal = animalToDecorate;\n    }\n\n    @Override\n    public void ai() { mDecoratedAnimal.ai() } // Just delegate\n\n    @Override void die() {\n        // Extra logic\n        mDecoratedAnimal.die();\n    }\n\n    @Override\n    public void dropLoot(){\n        // This runs instead of whatever is in Cow or Pig classes}\n    }\n}\n    \n</code></pre>\n<p>Then when you need to use it:</p>\n<pre><code>Animal cow = new Cow();\nAnimal pig = new Pig();\nAnimal petCow = new Pet(cow);\nAnimal petPig = new Pet(pig);\n\n// Use petCow and petPig like any other animal:\npetCow.ai() // Does Cow AI\npetPig.ai() // Does Pig AI\npetCow.dropLoot() // Does custom pet loot dropping\npetPig.dropLoot() // Does custom pet loot dropping\npetCow.die() // Does pet stuff then cow dies\npetPig.die() // Does pet stuff then pig dies\n</code></pre>\n"}],"owner":{"account_id":20157184,"reputation":300,"user_id":16996584,"display_name":"The Justice King"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75966052,"answer_count":1,"score":1,"last_activity_date":1680967407,"creation_date":1680962508,"question_id":75965659,"body_markdown":"Say you have a Base Class, Animal. This Animal class has various abstract and overridable methods.\r\n\r\nYou have a subclass, Cow, which extends Animal. This class implements and overrides some methods.\r\n\r\nYou have another subclass, Pig, which extends Animal. This class implements and overrides some methods differently.\r\n\r\nFinally, you have the class Pet. This Pet class needs to override certain methods within the Animal class, while leaving the AI methods and such for the Cow and Pig untouched.\r\n\r\nAs a constraint, I can&#39;t change alter the Cow and Pig class. But, it would basically act like the Cow and the Pig were subclasses of Pet, which is a subclass of Animal.\r\n\r\nHere is an example of what I am thinking of:\r\n```\r\npublic abstract class Animal {\r\n  public abstract void eat();\r\n  public abstract void ai();\r\n  public abstract void die();\r\n  public abstract void dropLoot();\r\n}\r\n\r\npublic class Cow {\r\n  @Override\r\n  public void eat(){//foo}\r\n  @Override\r\n  public void ai(){//bar}\r\n  @Override\r\n  public void die(){//fig}\r\n  @Override\r\n  public void dropLoot(){//this would run normally}\r\n  public void moo(){\r\n    //Method for Reason\r\n  }\r\n}\r\n\r\npublic class Pig {\r\n  //Same thing here\r\n}\r\n\r\npublic class Pet&lt;T extends Animal&gt; extends T //Just visual. This doesn&#39;t work {\r\n  @Override\r\n  public void die(){\r\n    //extra logic\r\n    base.die(); //Returns up to the cow or pig instance\r\n  }\r\n  @Override\r\n  public void dropLoot(){//this runs instead of whatever is in Cow or Pig classes}\r\n  \r\n  //I can only override methods that exist in Animal class, so Cow.moo is out of reach\r\n}\r\n```\r\n\r\nThat is my idea, at least. Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.\r\n\r\n\r\n```\r\npublic class Pet {\r\n  Animal animal;\r\n\r\n  @Override(animal.dropLoot()) //Hypothetical implementation that doesn&#39;t currently work\r\n  public void HandleDropLoot(){\r\n    //This runs instead of animal.dropLoot, acting as an override.\r\n  }\r\n}\r\n```\r\n\r\nThe problem is, I can&#39;t alter Cow or Pig, so I can only add on to the code. Either of these would work for my case.\r\n\r\n\r\nI tried finding a way to simply use (? extends Animal) during the extends, but that threw a compiler error.\r\n\r\nI tried using Generics, but that also did not work. (i.e. Pet&lt;T extends Animal&gt; extends T)\r\n\r\nI tried the idea of just having the Animal as a variable with Wrapping, but I still have the problem of overriding or redirecting the methods in the Animal class.","title":"Class that extends subclasses of another class?","body":"<p>Say you have a Base Class, Animal. This Animal class has various abstract and overridable methods.</p>\n<p>You have a subclass, Cow, which extends Animal. This class implements and overrides some methods.</p>\n<p>You have another subclass, Pig, which extends Animal. This class implements and overrides some methods differently.</p>\n<p>Finally, you have the class Pet. This Pet class needs to override certain methods within the Animal class, while leaving the AI methods and such for the Cow and Pig untouched.</p>\n<p>As a constraint, I can't change alter the Cow and Pig class. But, it would basically act like the Cow and the Pig were subclasses of Pet, which is a subclass of Animal.</p>\n<p>Here is an example of what I am thinking of:</p>\n<pre><code>public abstract class Animal {\n  public abstract void eat();\n  public abstract void ai();\n  public abstract void die();\n  public abstract void dropLoot();\n}\n\npublic class Cow {\n  @Override\n  public void eat(){//foo}\n  @Override\n  public void ai(){//bar}\n  @Override\n  public void die(){//fig}\n  @Override\n  public void dropLoot(){//this would run normally}\n  public void moo(){\n    //Method for Reason\n  }\n}\n\npublic class Pig {\n  //Same thing here\n}\n\npublic class Pet&lt;T extends Animal&gt; extends T //Just visual. This doesn't work {\n  @Override\n  public void die(){\n    //extra logic\n    base.die(); //Returns up to the cow or pig instance\n  }\n  @Override\n  public void dropLoot(){//this runs instead of whatever is in Cow or Pig classes}\n  \n  //I can only override methods that exist in Animal class, so Cow.moo is out of reach\n}\n</code></pre>\n<p>That is my idea, at least. Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.</p>\n<pre><code>public class Pet {\n  Animal animal;\n\n  @Override(animal.dropLoot()) //Hypothetical implementation that doesn't currently work\n  public void HandleDropLoot(){\n    //This runs instead of animal.dropLoot, acting as an override.\n  }\n}\n</code></pre>\n<p>The problem is, I can't alter Cow or Pig, so I can only add on to the code. Either of these would work for my case.</p>\n<p>I tried finding a way to simply use (? extends Animal) during the extends, but that threw a compiler error.</p>\n<p>I tried using Generics, but that also did not work. (i.e. Pet extends T)</p>\n<p>I tried the idea of just having the Animal as a variable with Wrapping, but I still have the problem of overriding or redirecting the methods in the Animal class.</p>\n"},{"tags":["java","geometry"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680968847,"post_id":75966038,"comment_id":133985409,"body_markdown":"Hi! Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour), visit the [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask), and visit the links on those pages. You are expected to include in your question some code showing your attempt to solve this. Also, the question should include an explanation of where you are stuck, the problem you are having.","body":"Hi! Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>, and visit the links on those pages. You are expected to include in your question some code showing your attempt to solve this. Also, the question should include an explanation of where you are stuck, the problem you are having."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680968934,"post_id":75966038,"comment_id":133985426,"body_markdown":"Where does this problem come from? Can you, please, provide a link?","body":"Where does this problem come from? Can you, please, provide a link?"},{"owner":{"account_id":28250352,"reputation":1,"user_id":21596702,"display_name":"Fabian Nogales"},"score":0,"creation_date":1680969352,"post_id":75966038,"comment_id":133985495,"body_markdown":"I didn&#39;t get the exercise from any link, they gave it to me at the university","body":"I didn&#39;t get the exercise from any link, they gave it to me at the university"},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":1,"creation_date":1680970204,"post_id":75966038,"comment_id":133985616,"body_markdown":"You have to elaborate math solution, calculate angle of common chord and corresponding arc length and chord length to find difference with two circumferences. Then implement this solution in programming language.  If you have problems with YOUR program solution - welcome, ask for specific question.","body":"You have to elaborate math solution, calculate angle of common chord and corresponding arc length and chord length to find difference with two circumferences. Then implement this solution in programming language.  If you have problems with YOUR program solution - welcome, ask for specific question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680998491,"post_id":75966038,"comment_id":133988860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681238964,"post_id":75966038,"comment_id":134023598,"body_markdown":"Was this problem given by a professor in a computer programming course? Or did it come from a math professor, and you are trying to use Java to solve it?","body":"Was this problem given by a professor in a computer programming course? Or did it come from a math professor, and you are trying to use Java to solve it?"}],"owner":{"account_id":28250352,"reputation":1,"user_id":21596702,"display_name":"Fabian Nogales"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680967249,"creation_date":1680967249,"question_id":75966038,"body_markdown":"Pepe has given himself the task of making a beautiful figure eight, they told him that one way is by drawing two circles that partially intersect and that are framed in a rectangle with base b and height a.\r\n\r\nThe height is never less than the base and it is never greater than or equal to twice the base. The circles that are drawn are tangent to three sides of the rectangle and are located at opposite ends, as shown in figure 1.\r\n[enter image description here](https://i.stack.imgur.com/KveRf.png)\r\n\r\nYou want to know how much ink should be used to draw the beautiful eight, the amount of ink to use is equivalent to the periphery painted red.\r\n\r\nFor example: if base (b) is 2 and height (a) is 3, the amount of ink required is 10.109631217141658\r\n\r\nWrite the method whose signature is:\r\n\r\n               double inkAmount(int b, int a)\r\n\r\nthat allows calculating the amount of ink required to make the 8 beautiful; given b and a, which are the base and height respectively.\r\n\r\ntry to solve by finding perimeters of the circles and subtracting the arcs of gray color","title":"How to find the periphery of an 8 formed by two circles that partially intersect and that are framed in a rectangle?","body":"<p>Pepe has given himself the task of making a beautiful figure eight, they told him that one way is by drawing two circles that partially intersect and that are framed in a rectangle with base b and height a.</p>\n<p>The height is never less than the base and it is never greater than or equal to twice the base. The circles that are drawn are tangent to three sides of the rectangle and are located at opposite ends, as shown in figure 1.\n<a href=\"https://i.stack.imgur.com/KveRf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>You want to know how much ink should be used to draw the beautiful eight, the amount of ink to use is equivalent to the periphery painted red.</p>\n<p>For example: if base (b) is 2 and height (a) is 3, the amount of ink required is 10.109631217141658</p>\n<p>Write the method whose signature is:</p>\n<pre><code>           double inkAmount(int b, int a)\n</code></pre>\n<p>that allows calculating the amount of ink required to make the 8 beautiful; given b and a, which are the base and height respectively.</p>\n<p>try to solve by finding perimeters of the circles and subtracting the arcs of gray color</p>\n"},{"tags":["java","opencv","android"],"owner":{"account_id":28249882,"reputation":11,"user_id":21596303,"display_name":"Jinsn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680966859,"creation_date":1680963806,"question_id":75965775,"body_markdown":"I am a student who is preparing to participate in a competition that involves using libraries such as OpenCV for recognition and processing. I have been learning the basics of OpenCV for over a month now and I have encountered a very tricky problem. I am able to use OpenCV to recognize polygons that have five random types and seven colors. I have already solved the problem of identifying the colors and shapes, but I do not know how to exclude the polygons that are occluded. Please see the second column for more details.\r\n\r\nI&#39;m trying to use the Android version of OpenCV to solve the problem of polygon recognition. Currently, the method used is to obtain a binary image using the `inRange()` method, then use the `findContours()` method to find contours, perform opening and closing operations on the obtained contours, and then use the `approxPolyDP()` method for polygonal approximation. Finally, use the `convexHull()` method to detect the corners and determine the type of polygon. This method can recognize simple polygons, but it also recognizes polygons covered by foreground, which are invalid (should be excluded). What should I do to exclude these covered polygons?\r\n\r\n**Example Image:**\r\n[enter image description here](https://i.stack.imgur.com/ijx2S.jpg)\r\n\r\nCould someone please assist me? Thank you very much!","title":"How to exclude occluded objects using OpenCV?","body":"<p>I am a student who is preparing to participate in a competition that involves using libraries such as OpenCV for recognition and processing. I have been learning the basics of OpenCV for over a month now and I have encountered a very tricky problem. I am able to use OpenCV to recognize polygons that have five random types and seven colors. I have already solved the problem of identifying the colors and shapes, but I do not know how to exclude the polygons that are occluded. Please see the second column for more details.</p>\n<p>I'm trying to use the Android version of OpenCV to solve the problem of polygon recognition. Currently, the method used is to obtain a binary image using the <code>inRange()</code> method, then use the <code>findContours()</code> method to find contours, perform opening and closing operations on the obtained contours, and then use the <code>approxPolyDP()</code> method for polygonal approximation. Finally, use the <code>convexHull()</code> method to detect the corners and determine the type of polygon. This method can recognize simple polygons, but it also recognizes polygons covered by foreground, which are invalid (should be excluded). What should I do to exclude these covered polygons?</p>\n<p><strong>Example Image:</strong>\n<a href=\"https://i.stack.imgur.com/ijx2S.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Could someone please assist me? Thank you very much!</p>\n"},{"tags":["java","grails"],"answers":[{"tags":[],"owner":{"account_id":8752112,"reputation":1459,"user_id":6544942,"accept_rate":92,"display_name":"Anton Hlinisty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490861113,"creation_date":1490861113,"answer_id":43111944,"question_id":43105681,"body_markdown":"You can create your own annotations and use filters/interceptors to check if request method corresponds the given annotation. You can find more details [here][1].\r\n\r\n\r\n  [1]: http://burtbeckwith.com/blog/?p=80","title":"In Grails, is there a way to restrict the HTTP request method type (other than the allowedMethods map)?","body":"<p>You can create your own annotations and use filters/interceptors to check if request method corresponds the given annotation. You can find more details <a href=\"http://burtbeckwith.com/blog/?p=80\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680966143,"creation_date":1490828501,"question_id":43105681,"body_markdown":"For example, if I have a `save()` method, how can I restrict the HTTP request method of this action?  \r\n  \r\nLooking at the grails [documentation][1], it looks like I can use this `static allowedMethods = [...]` block to restrict access. However, it looks quite a bit clunky because the list can grow quite big and it can get very messy.  \r\n  \r\nIdeally, I would like to use annotations to describe the method. It could be something like this:  \r\n\r\n    @POST\r\n    def save() {\r\n        // save logic\r\n    }  \r\n\r\nThis way I know all the information related to the `save()` method right there. Instead of scrolling up and potentially seeing a huge messy list.  \r\n\r\nI&#39;d be happy to use an alternative way.\r\n\r\n  [1]: http://docs.grails.org/latest/ref/Controllers/allowedMethods.html","title":"In Grails, is there a way to restrict the HTTP request method type (other than the allowedMethods map)?","body":"<p>For example, if I have a <code>save()</code> method, how can I restrict the HTTP request method of this action?</p>\n<p>Looking at the grails <a href=\"http://docs.grails.org/latest/ref/Controllers/allowedMethods.html\" rel=\"nofollow noreferrer\">documentation</a>, it looks like I can use this <code>static allowedMethods = [...]</code> block to restrict access. However, it looks quite a bit clunky because the list can grow quite big and it can get very messy.</p>\n<p>Ideally, I would like to use annotations to describe the method. It could be something like this:</p>\n<pre><code>@POST\ndef save() {\n    // save logic\n}  \n</code></pre>\n<p>This way I know all the information related to the <code>save()</code> method right there. Instead of scrolling up and potentially seeing a huge messy list.</p>\n<p>I'd be happy to use an alternative way.</p>\n"},{"tags":["java","java-8","java-stream","data-generation"],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1421433384,"creation_date":1421433384,"answer_id":27990579,"question_id":27990451,"body_markdown":"The answer is in the javadoc of `Stream` (emphases mine):\r\n\r\n&gt; **A stream should be operated on (invoking an intermediate or terminal stream operation) only once**. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. **A stream implementation may throw IllegalStateException if it detects that the stream is being reused**.\r\n\r\nAnd in your code, you do use the stream twice (once in `createOrder()` and the other usage when you `.limit().forEach()`","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>The answer is in the javadoc of <code>Stream</code> (emphases mine):</p>\n\n<blockquote>\n  <p><strong>A stream should be operated on (invoking an intermediate or terminal stream operation) only once</strong>. This rules out, for example, \"forked\" streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. <strong>A stream implementation may throw IllegalStateException if it detects that the stream is being reused</strong>.</p>\n</blockquote>\n\n<p>And in your code, you do use the stream twice (once in <code>createOrder()</code> and the other usage when you <code>.limit().forEach()</code></p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421434398,"creation_date":1421433935,"answer_id":27990720,"question_id":27990451,"body_markdown":"[As fge states][1], you can&#39;t (shouldn&#39;t) consume a `Stream` more than once.\r\n\r\n&gt; Any idea how to fix this?\r\n\r\nFrom the Javadoc of [`Random#doubles(double, double)`][2]\r\n\r\n&gt; A pseudorandom double value is generated as if it&#39;s the result of\r\n&gt; calling the following method with the origin and bound:\r\n&gt;\r\n&gt;     double nextDouble(double origin, double bound) {\r\n&gt;         double r = nextDouble();\r\n&gt;         r = r * (bound - origin) + origin;\r\n&gt;         if (r &gt;= bound) // correct for rounding\r\n&gt;            r = Math.nextDown(bound);\r\n&gt;         return r;\r\n&gt;     }\r\n\r\nImplement such a method and use it to get a new `double` value each time you need one instead of trying to get it from a `DoubleStream`. Possibly use a `DoubleSupplier`.\r\n\r\n    private final Random random = new Random();\r\n    private DoubleSupplier supplier = () -&gt; nextDouble(random, 50.0, 200.0);\r\n\r\n    private Order createOrder() {\r\n\r\n        return new Order(supplier.getAsDouble());\r\n    }\r\n\r\n    private static double nextDouble(Random random, double origin, double bound) {\r\n        double r = random.nextDouble();\r\n        r = r * (bound - origin) + origin;\r\n        if (r &gt;= bound) // correct for rounding\r\n            r = Math.nextDown(bound);\r\n        return r;\r\n    }\r\n\r\nIf you&#39;re not going to reuse the `nextDouble` method, you can inline the values `50.0` and `200.0`.\r\n \r\n  [1]: https://stackoverflow.com/a/27990579/438154\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#doubles-double-double-","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p><a href=\"https://stackoverflow.com/a/27990579/438154\">As fge states</a>, you can't (shouldn't) consume a <code>Stream</code> more than once.</p>\n\n<blockquote>\n  <p>Any idea how to fix this?</p>\n</blockquote>\n\n<p>From the Javadoc of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#doubles-double-double-\" rel=\"nofollow noreferrer\"><code>Random#doubles(double, double)</code></a></p>\n\n<blockquote>\n  <p>A pseudorandom double value is generated as if it's the result of\n  calling the following method with the origin and bound:</p>\n\n<pre><code>double nextDouble(double origin, double bound) {\n    double r = nextDouble();\n    r = r * (bound - origin) + origin;\n    if (r &gt;= bound) // correct for rounding\n       r = Math.nextDown(bound);\n    return r;\n}\n</code></pre>\n</blockquote>\n\n<p>Implement such a method and use it to get a new <code>double</code> value each time you need one instead of trying to get it from a <code>DoubleStream</code>. Possibly use a <code>DoubleSupplier</code>.</p>\n\n<pre><code>private final Random random = new Random();\nprivate DoubleSupplier supplier = () -&gt; nextDouble(random, 50.0, 200.0);\n\nprivate Order createOrder() {\n\n    return new Order(supplier.getAsDouble());\n}\n\nprivate static double nextDouble(Random random, double origin, double bound) {\n    double r = random.nextDouble();\n    r = r * (bound - origin) + origin;\n    if (r &gt;= bound) // correct for rounding\n        r = Math.nextDown(bound);\n    return r;\n}\n</code></pre>\n\n<p>If you're not going to reuse the <code>nextDouble</code> method, you can inline the values <code>50.0</code> and <code>200.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421489812,"creation_date":1421438349,"answer_id":27991858,"question_id":27990451,"body_markdown":"As said in other answers, `Stream`s are single-use items and you have to create a new `Stream` each time you need one.\r\n\r\nBut, after all, this isn’t complicated when you remove all your attempts to store intermediate results. Your entire code can be expressed as:\r\n\r\n    Random r=new Random(); // the only stateful thing to remember\r\n\r\n    // defining and executing the chain of operations:\r\n    r.doubles(50.0, 200.0).mapToObj(Order::new).limit(10).forEach(System.out::println);\r\n\r\nor even simpler\r\n\r\n    r.doubles(10, 50.0, 200.0).mapToObj(Order::new).forEach(System.out::println);\r\n","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>As said in other answers, <code>Stream</code>s are single-use items and you have to create a new <code>Stream</code> each time you need one.</p>\n\n<p>But, after all, this isn’t complicated when you remove all your attempts to store intermediate results. Your entire code can be expressed as:</p>\n\n<pre><code>Random r=new Random(); // the only stateful thing to remember\n\n// defining and executing the chain of operations:\nr.doubles(50.0, 200.0).mapToObj(Order::new).limit(10).forEach(System.out::println);\n</code></pre>\n\n<p>or even simpler</p>\n\n<pre><code>r.doubles(10, 50.0, 200.0).mapToObj(Order::new).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1859358,"reputation":42879,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421440565,"creation_date":1421440565,"answer_id":27992361,"question_id":27990451,"body_markdown":"Thank you - that was very helpful.  I also came up with a different implementation that works well for now:\r\n\r\n    private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\r\n\r\n    private List&lt;Order&gt; createOrders(int numberOfOrders) {\r\n\tList&lt;Order&gt; orders = new ArrayList&lt;&gt;();\r\n\tdoubleStream.limit(numberOfOrders).forEach((value) -&gt; {\r\n\t    Order order = new Order(value);\r\n\t    orders.add(order);\r\n\t});\r\n\treturn orders;\r\n    }\r\n\r\nThanks again!\r\n\r\nOle\r\n","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>Thank you - that was very helpful.  I also came up with a different implementation that works well for now:</p>\n\n<pre><code>private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\n\nprivate List&lt;Order&gt; createOrders(int numberOfOrders) {\nList&lt;Order&gt; orders = new ArrayList&lt;&gt;();\ndoubleStream.limit(numberOfOrders).forEach((value) -&gt; {\n    Order order = new Order(value);\n    orders.add(order);\n});\nreturn orders;\n}\n</code></pre>\n\n<p>Thanks again!</p>\n\n<p>Ole</p>\n"},{"tags":[],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421445336,"creation_date":1421445336,"answer_id":27993414,"question_id":27990451,"body_markdown":"Your method could be a one-liner like this instead. You need to use `mapToObj`, not `map`\r\n\r\n    private List&lt;Order&gt; createOrders(int numberOfOrders) {\r\n         return doubleStream.limit(numberOfOrders).mapToObj(Order::new).collect(Collectors.toList());\r\n    }","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>Your method could be a one-liner like this instead. You need to use <code>mapToObj</code>, not <code>map</code></p>\n\n<pre><code>private List&lt;Order&gt; createOrders(int numberOfOrders) {\n     return doubleStream.limit(numberOfOrders).mapToObj(Order::new).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8974122,"reputation":1683,"user_id":6691610,"display_name":"David Pham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511174090,"creation_date":1511174090,"answer_id":47389970,"question_id":27990451,"body_markdown":"You should use Supplier function interface for your initialization like this\r\n\r\n    Supplier&lt;Stream&lt;Double&gt;&gt; streamSupplier = () -&gt; (new Random().doubles(50.0, 200.0).boxed());\r\n\r\nAnd change your way to get double like this\r\n\r\n    streamSupplier.get().findFirst().get()\r\n\r\n\r\nThen it works normally.\r\n\r\nFound this way from the post [Stream has already been operated upon or closed Exception][1]\r\n\r\n\r\n  [1]: http://javabycode.com/uncategorized/stream-already-operated-upon-closed-exception-java-8.html","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>You should use Supplier function interface for your initialization like this</p>\n\n<pre><code>Supplier&lt;Stream&lt;Double&gt;&gt; streamSupplier = () -&gt; (new Random().doubles(50.0, 200.0).boxed());\n</code></pre>\n\n<p>And change your way to get double like this</p>\n\n<pre><code>streamSupplier.get().findFirst().get()\n</code></pre>\n\n<p>Then it works normally.</p>\n\n<p>Found this way from the post <a href=\"http://javabycode.com/uncategorized/stream-already-operated-upon-closed-exception-java-8.html\" rel=\"nofollow noreferrer\">Stream has already been operated upon or closed Exception</a></p>\n"}],"owner":{"account_id":1859358,"reputation":42879,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17405,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":27990579,"answer_count":6,"score":9,"last_activity_date":1680965698,"creation_date":1421432970,"question_id":27990451,"body_markdown":"I&#39;m trying to generate Order instances using the Stream API.  I have a factory function that creates the order, and a DoubleStream is used to initialize the amount of the order.  \r\n\r\n    private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\r\n\r\n    private Order createOrder() {\r\n\t    return new Order(doubleStream.findFirst().getAsDouble());\r\n\t}\r\n\t\r\n    @Test\r\n    public void test() {\r\n\r\n\t   Stream&lt;Order&gt; orderStream = Stream.generate(() -&gt; {\r\n\t\t   return createOrder();\r\n       });\r\n\t\r\n\t   orderStream.limit(10).forEach(System.out::println);\r\n\r\n     ...\r\n\r\n    }\r\n\r\nIf I initialize the `Order` instance using a literal (1.0), this works fine.  When I use the doubleStream to create a random amount, the exception is thrown.\r\n\r\n","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>I'm trying to generate Order instances using the Stream API.  I have a factory function that creates the order, and a DoubleStream is used to initialize the amount of the order.</p>\n<pre><code>private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\n\nprivate Order createOrder() {\n    return new Order(doubleStream.findFirst().getAsDouble());\n}\n\n@Test\npublic void test() {\n\n   Stream&lt;Order&gt; orderStream = Stream.generate(() -&gt; {\n       return createOrder();\n   });\n\n   orderStream.limit(10).forEach(System.out::println);\n\n ...\n\n}\n</code></pre>\n<p>If I initialize the <code>Order</code> instance using a literal (1.0), this works fine.  When I use the doubleStream to create a random amount, the exception is thrown.</p>\n"},{"tags":["java","performance","tomcat","struts2"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1614698170,"post_id":66437967,"comment_id":117460941,"body_markdown":"I don&#39;t understand why this would be blocking if the user is making an HTTP request back to indicate their choice. Just sounds like you need a way to track that 60 second limit.","body":"I don&#39;t understand why this would be blocking if the user is making an HTTP request back to indicate their choice. Just sounds like you need a way to track that 60 second limit."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1614717323,"post_id":66437967,"comment_id":117469427,"body_markdown":"What framework are you using for web services? Each framework has its own way to put the request into _&quot;asynchronous mode&quot;_.","body":"What framework are you using for web services? Each framework has its own way to put the request into <i>&quot;asynchronous mode&quot;</i>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1614752970,"post_id":66437967,"comment_id":117477736,"body_markdown":"This is very unclear. In which way the user input is provided while you block him/her from the main thread? How the main thread should know if the input been provided? Before posting a question like this make sure you have prepared [MCVE](https://stackoverflow.com/help/mcve).","body":"This is very unclear. In which way the user input is provided while you block him/her from the main thread? How the main thread should know if the input been provided? Before posting a question like this make sure you have prepared <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1681641099,"post_id":66437967,"comment_id":134086262,"body_markdown":"As I understand, you can&#39;t change the design; therefore, you probably should look at increasing Tomcat core thread pool size and go for a horizontally scaled deployment if it is a high load environment, simplest might be put multiple Tomcats behind load-balancer and configure sticky/non-sticky sessions as might be required.","body":"As I understand, you can&#39;t change the design; therefore, you probably should look at increasing Tomcat core thread pool size and go for a horizontally scaled deployment if it is a high load environment, simplest might be put multiple Tomcats behind load-balancer and configure sticky/non-sticky sessions as might be required."}],"owner":{"account_id":2046070,"reputation":415,"user_id":1826116,"accept_rate":12,"display_name":"user1826116"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680965294,"creation_date":1614682390,"question_id":66437967,"body_markdown":"We have a Java web application running on Apache Tomcat as web server and Struts 2.5 as the framework. We have a couple of web services exposed as part of this project. One of the web service has the following flow :\r\n\r\n1. Client calls web service WS1\r\n2. Server receives WS1 and then internally sends a push notification to a User US1\r\n3. US1 receives the notification on his phone and takes one of the couple of actions available to him. He has maximum 60 seconds to do so.\r\n4. Server responds to WS1 based on input from the user.\r\n\r\nSo, as we can see , we have a blocking operation in WS1. The service can take upto 60 seconds for the user to respond and hence (I believe) block one of the available Web Server threads. Now this may still work on lower loads, but it will choke the tomcat threads on Higher loads. Also, unfortunately, this entire workflow is the crux to the solution and for the sake of this discussion, lets please assume that I cannot change this workflow. \r\n\r\nI am trying to understand what are my options around solving a potential bottleneck. Is there a way that I can somehow change this to asynchronous operation and/or ensure that Web Server threads are better utilized? Also, is my assumption correct that Tomcat will be blocking a thread for 60 seconds in this scenario?\r\n","title":"Java web application : handling a blocking operation","body":"<p>We have a Java web application running on Apache Tomcat as web server and Struts 2.5 as the framework. We have a couple of web services exposed as part of this project. One of the web service has the following flow :</p>\n<ol>\n<li>Client calls web service WS1</li>\n<li>Server receives WS1 and then internally sends a push notification to a User US1</li>\n<li>US1 receives the notification on his phone and takes one of the couple of actions available to him. He has maximum 60 seconds to do so.</li>\n<li>Server responds to WS1 based on input from the user.</li>\n</ol>\n<p>So, as we can see , we have a blocking operation in WS1. The service can take upto 60 seconds for the user to respond and hence (I believe) block one of the available Web Server threads. Now this may still work on lower loads, but it will choke the tomcat threads on Higher loads. Also, unfortunately, this entire workflow is the crux to the solution and for the sake of this discussion, lets please assume that I cannot change this workflow.</p>\n<p>I am trying to understand what are my options around solving a potential bottleneck. Is there a way that I can somehow change this to asynchronous operation and/or ensure that Web Server threads are better utilized? Also, is my assumption correct that Tomcat will be blocking a thread for 60 seconds in this scenario?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680963788,"post_id":75965753,"comment_id":133984709,"body_markdown":"Please edit your question to include the output you get from the `System.out.println` calls.","body":"Please edit your question to include the output you get from the <code>System.out.println</code> calls."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681025341,"post_id":75965753,"comment_id":133990658,"body_markdown":"Have you tried to log the messages using `Log.d(&quot;YourTAG&quot;, &quot;WRITING DATA&quot;);` instead of using `System.out.println(&quot;WRITING DATA&quot;);`? Besides that, what is the location of your database?","body":"Have you tried to log the messages using <code>Log.d(&quot;YourTAG&quot;, &quot;WRITING DATA&quot;);</code> instead of using <code>System.out.println(&quot;WRITING DATA&quot;);</code>? Besides that, what is the location of your database?"}],"owner":{"account_id":28249943,"reputation":11,"user_id":21596351,"display_name":"Alvaro G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680965160,"creation_date":1680963529,"question_id":75965753,"body_markdown":"I&#39;ve been trying to start a project with Firebase as my Back-End and connecting it to a Android Studio project. I created around 30 projects and using the guide in Tools&gt;Firebase on the Android Studio client, it does not connect in any way. \r\n\r\nI&#39;ve tried giving internet permissions, using other databases like FireStoreDatabase instead of the Realtime Database , sending only a &quot;Hello world&quot; text and a simple User (name and height) but all of them seems to work.\r\n\r\nWhen I use the listeners, the simply don&#39;t give me any error. It just skip this whole step of writing data.\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n    System.out.println(&quot;-----------&quot;);\r\n    myRef.setValue(&quot;Hello World&quot;).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            System.out.println(&quot;WRITING DATA&quot;);\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            System.out.println(&quot;NOT WRITING DATA&quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n    });\r\n    System.out.println(&quot;-----------&quot;);\r\n}\r\n```\r\nI&#39;m also using all the dependencies that the client-assistant and the Firebase dependencies needs.\r\nAnd the google-services.json file is also checked \r\n\r\nThis is the output:\r\n\r\n&gt; Capturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nW/.firebasepresto: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/.firebasepresto: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10160; state: ENABLED\r\nW/ziparchive: Unable to open &#39;/data/data/com.example.firebasepresto/code_cache/.overlay/base.apk/classes3.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm&#39;: No such file or directory\r\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/lib/x86_64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.firebasepresto\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.firebasepresto&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.firebasepresto: false\r\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10160; state: ENABLED\r\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\r\nI/FirebaseInitProvider: FirebaseApp initialization successful\r\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\r\nW/ziparchive: Unable to open &#39;/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm&#39;: No such file or directory\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\r\nI/DynamiteModule: Considering local module com.google.android.gms.measurement.dynamite:88 and remote module com.google.android.gms.measurement.dynamite:88\r\nI/DynamiteModule: Selected local version of com.google.android.gms.measurement.dynamite\r\nV/FA: onActivityCreated\r\nW/.firebasepresto: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/.firebasepresto: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10160; state: ENABLED\r\nV/FA: App measurement collection enabled\r\nV/FA: App measurement enabled for app package, google app id: com.example.firebasepresto, 1:325373313014:android:dbb374537f8f82e24f11d7\r\nI/FA: App measurement initialized, version: 76003\r\nI/FA: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\r\nI/FA: To enable faster debug mode event logging run:\r\n      adb shell setprop debug.firebase.analytics.app com.example.firebasepresto\r\nD/FA: Debug-level message logging enabled\r\nI/System.out: -----------\r\nI/System.out: -----------\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc19990, tid 17826\r\nD/FA: Resetting session stitching token to not null\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x76befcc19a50: maj 3 min 0 rcv 3\r\nD/TrafficStats: tagSocket(78) with statsTag=0xffffffff, statsUid=-1\r\nD/EGL_emulation: eglMakeCurrent: 0x76befcc19a50: ver 3 0 (tinfo 0x76c12462e080) (first time)\r\nV/FA: Connecting to remote service\r\nV/FA: Detected application was in foreground\r\nV/FA: Session started, time: 4685124\r\nI/Gralloc4: mapper 4.x is not supported\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc18550, tid 17826\r\nD/goldfish-address-space: allocate: Ask for block of size 0x100\r\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3f3ffe000 size 0x2000\r\nV/FA: Connection attempt already in progress\r\nI/FA: Tag Manager is not found and thus will not be used\r\nW/Gralloc4: allocator 4.x is not supported\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nV/FA: Connection attempt already in progress\r\nV/FA: Connection attempt already in progress\r\nW/Parcel: Expecting binder but got null!\r\nV/FA: Connection attempt already in progress\r\nV/FA: Activity resumed, time: 4684802\r\nV/FA: Connection attempt already in progress\r\nV/FA: Connection attempt already in progress\r\nD/FA: Connected to remote service\r\nV/FA: Processing queued up service tasks: 7\r\nV/FA: Inactivity, disconnecting from the service","title":"Firebase connection not working (Android)","body":"<p>I've been trying to start a project with Firebase as my Back-End and connecting it to a Android Studio project. I created around 30 projects and using the guide in Tools&gt;Firebase on the Android Studio client, it does not connect in any way.</p>\n<p>I've tried giving internet permissions, using other databases like FireStoreDatabase instead of the Realtime Database , sending only a &quot;Hello world&quot; text and a simple User (name and height) but all of them seems to work.</p>\n<p>When I use the listeners, the simply don't give me any error. It just skip this whole step of writing data.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\n    System.out.println(&quot;-----------&quot;);\n    myRef.setValue(&quot;Hello World&quot;).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void unused) {\n            System.out.println(&quot;WRITING DATA&quot;);\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            System.out.println(&quot;NOT WRITING DATA&quot;);\n            System.out.println(e.getMessage());\n        }\n    });\n    System.out.println(&quot;-----------&quot;);\n}\n</code></pre>\n<p>I'm also using all the dependencies that the client-assistant and the Firebase dependencies needs.\nAnd the google-services.json file is also checked</p>\n<p>This is the output:</p>\n<blockquote>\n<p>Capturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nW/.firebasepresto: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/.firebasepresto: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10160; state: ENABLED\nW/ziparchive: Unable to open '/data/data/com.example.firebasepresto/code_cache/.overlay/base.apk/classes3.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm': No such file or directory\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/lib/x86_64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.firebasepresto\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.firebasepresto' set to: 'default'\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.firebasepresto: false\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10160; state: ENABLED\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\nI/FirebaseInitProvider: FirebaseApp initialization successful\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\nW/ziparchive: Unable to open '/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm': No such file or directory\nW/ziparchive: Unable to open '/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm': No such file or directory\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\nI/DynamiteModule: Considering local module com.google.android.gms.measurement.dynamite:88 and remote module com.google.android.gms.measurement.dynamite:88\nI/DynamiteModule: Selected local version of com.google.android.gms.measurement.dynamite\nV/FA: onActivityCreated\nW/.firebasepresto: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/.firebasepresto: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10160; state: ENABLED\nV/FA: App measurement collection enabled\nV/FA: App measurement enabled for app package, google app id: com.example.firebasepresto, 1:325373313014:android:dbb374537f8f82e24f11d7\nI/FA: App measurement initialized, version: 76003\nI/FA: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\nI/FA: To enable faster debug mode event logging run:\nadb shell setprop debug.firebase.analytics.app com.example.firebasepresto\nD/FA: Debug-level message logging enabled\nI/System.out: -----------\nI/System.out: -----------\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc19990, tid 17826\nD/FA: Resetting session stitching token to not null\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x76befcc19a50: maj 3 min 0 rcv 3\nD/TrafficStats: tagSocket(78) with statsTag=0xffffffff, statsUid=-1\nD/EGL_emulation: eglMakeCurrent: 0x76befcc19a50: ver 3 0 (tinfo 0x76c12462e080) (first time)\nV/FA: Connecting to remote service\nV/FA: Detected application was in foreground\nV/FA: Session started, time: 4685124\nI/Gralloc4: mapper 4.x is not supported\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc18550, tid 17826\nD/goldfish-address-space: allocate: Ask for block of size 0x100\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3f3ffe000 size 0x2000\nV/FA: Connection attempt already in progress\nI/FA: Tag Manager is not found and thus will not be used\nW/Gralloc4: allocator 4.x is not supported\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0\nV/FA: Connection attempt already in progress\nV/FA: Connection attempt already in progress\nW/Parcel: Expecting binder but got null!\nV/FA: Connection attempt already in progress\nV/FA: Activity resumed, time: 4684802\nV/FA: Connection attempt already in progress\nV/FA: Connection attempt already in progress\nD/FA: Connected to remote service\nV/FA: Processing queued up service tasks: 7\nV/FA: Inactivity, disconnecting from the service</p>\n</blockquote>\n"},{"tags":["java","javafx","controller"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1608070543,"post_id":65313243,"comment_id":115469639,"body_markdown":"Are you *certain* that your code contains `new PropertyValueFactory&lt;&gt;(&quot;id&quot;)` and not `new PropertyValueFactory&lt;&gt;(&quot;idOfCar&quot;)`?  It’s best to avoid PropertyValueFactory entirely, since reflection mistakes cannot be caught at compile time;  a better option is to add property accessors to your CarEntity class, like most standard JavaFX classes have, then use them to write your own cell value factory expressions.","body":"Are you <i>certain</i> that your code contains <code>new PropertyValueFactory&lt;&gt;(&quot;id&quot;)</code> and not <code>new PropertyValueFactory&lt;&gt;(&quot;idOfCar&quot;)</code>?  It’s best to avoid PropertyValueFactory entirely, since reflection mistakes cannot be caught at compile time;  a better option is to add property accessors to your CarEntity class, like most standard JavaFX classes have, then use them to write your own cell value factory expressions."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1608074800,"post_id":65313243,"comment_id":115470925,"body_markdown":"[mcve] please .. your snippet doesn&#39;t fit the error message as already pointed out by @VGR ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. your snippet doesn&#39;t fit the error message as already pointed out by @VGR .."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1681381793,"post_id":65313243,"comment_id":134048651,"body_markdown":"Your table model needs to be composed of Properties as fields, not primitive types. The need to be implemented as JavaFX Beans to use PropertyValueFactory.","body":"Your table model needs to be composed of Properties as fields, not primitive types. The need to be implemented as JavaFX Beans to use PropertyValueFactory."}],"answers":[{"tags":[],"owner":{"account_id":19991073,"reputation":31,"user_id":14652075,"display_name":"sdavb"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1608068872,"creation_date":1608068872,"answer_id":65314171,"question_id":65313243,"body_markdown":"In Controller Id should only be Id not idOfSomething\r\n\r\n**@FXML\r\nprivate TextField **id****\r\n\r\n\r\n","title":"JavaFX unreadable property","body":"<p>In Controller Id should only be Id not idOfSomething</p>\n<p><strong>@FXML\nprivate TextField <strong>id</strong></strong></p>\n"},{"tags":[],"owner":{"account_id":28250101,"reputation":1,"user_id":21596485,"display_name":"Joseph Hall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680964623,"creation_date":1680964623,"answer_id":75965839,"question_id":65313243,"body_markdown":"Reading the documentation it is looking for a method such as `public Property&lt;String&gt; variableProperty()` in the entity class in your case car so one method would be \r\n`public Property&lt;String&gt; nameProperty(){return name;}`\r\n          ","title":"JavaFX unreadable property","body":"<p>Reading the documentation it is looking for a method such as <code>public Property&lt;String&gt; variableProperty()</code> in the entity class in your case car so one method would be\n<code>public Property&lt;String&gt; nameProperty(){return name;}</code></p>\n"}],"owner":{"account_id":19991073,"reputation":31,"user_id":14652075,"display_name":"sdavb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1501,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1680964623,"creation_date":1608064293,"question_id":65313243,"body_markdown":"In my task I need to display id of Cars in my table. I saw possible solution with get and set but it doesnt work. I have 2 classes CarEntity and Cars.\r\n\r\nCarEntity class:\r\n\r\n    public abstract class CarEntity implements Serializable {\r\n    \r\n        private Long id;\r\n        private String name;\r\n    \r\n        public CarEntity (Long id, String name) {\r\n            this.id = id;\r\n            this.name= name;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        } \r\n//+ get and set for name\r\n\r\nClass Cars extend CarEntity and I have no problem with nameOfCar in my table.\r\n\r\n    This is Controller:\r\n    \r\n     List&lt;Cars&gt; listOfCars;\r\n        @FXML\r\n        private TextField idOfCar;\r\n        @FXML\r\n        private TextField nameOfCar;\r\n        @FXML private  TableColumn &lt;Cars, Long&gt; colIfOfCar;\r\n        @FXML private TableColumn&lt;Cars, String&gt; colNameofCar;\r\n\r\nIn  initialize I have:;\r\n\r\n        colIfOfCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\r\n\r\n        colNameofCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;name&quot;));\r\n\r\nError I get: \r\n\r\n&gt; WARNING: Can not retrieve property &#39;idOfCar&#39; in PropertyValueFactory:\r\n&gt; javafx.scene.control.cell.PropertyValueFactory@43a5f6f with provided\r\n&gt; class type: class  main.carstore.model.Cars\r\n&gt; java.lang.IllegalStateException: Cannot read from unreadable property\r\n&gt; idOfCar\r\n\r\n    \r\n    ","title":"JavaFX unreadable property","body":"<p>In my task I need to display id of Cars in my table. I saw possible solution with get and set but it doesnt work. I have 2 classes CarEntity and Cars.</p>\n<p>CarEntity class:</p>\n<pre><code>public abstract class CarEntity implements Serializable {\n\n    private Long id;\n    private String name;\n\n    public CarEntity (Long id, String name) {\n        this.id = id;\n        this.name= name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    } \n</code></pre>\n<p>//+ get and set for name</p>\n<p>Class Cars extend CarEntity and I have no problem with nameOfCar in my table.</p>\n<pre><code>This is Controller:\n\n List&lt;Cars&gt; listOfCars;\n    @FXML\n    private TextField idOfCar;\n    @FXML\n    private TextField nameOfCar;\n    @FXML private  TableColumn &lt;Cars, Long&gt; colIfOfCar;\n    @FXML private TableColumn&lt;Cars, String&gt; colNameofCar;\n</code></pre>\n<p>In  initialize I have:;</p>\n<pre><code>    colIfOfCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\n\n    colNameofCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;name&quot;));\n</code></pre>\n<p>Error I get:</p>\n<blockquote>\n<p>WARNING: Can not retrieve property 'idOfCar' in PropertyValueFactory:\njavafx.scene.control.cell.PropertyValueFactory@43a5f6f with provided\nclass type: class  main.carstore.model.Cars\njava.lang.IllegalStateException: Cannot read from unreadable property\nidOfCar</p>\n</blockquote>\n"},{"tags":["java","cmd"],"comments":[{"owner":{"account_id":3892970,"reputation":11166,"user_id":3222695,"display_name":"nikis"},"score":3,"creation_date":1394802895,"post_id":22405999,"comment_id":34066052,"body_markdown":"and what&#39;s the difference?","body":"and what&#39;s the difference?"},{"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"score":0,"creation_date":1394803025,"post_id":22405999,"comment_id":34066155,"body_markdown":"If you mean the files are created at different location then you might give absolute path.","body":"If you mean the files are created at different location then you might give absolute path."},{"owner":{"account_id":4172449,"reputation":5,"user_id":3419914,"display_name":"user3419914"},"score":0,"creation_date":1394803146,"post_id":22405999,"comment_id":34066250,"body_markdown":"no the path is same. but when executing from java we have the commands but from dos we have the details.","body":"no the path is same. but when executing from java we have the commands but from dos we have the details."}],"answers":[{"tags":[],"owner":{"account_id":1626397,"reputation":1201,"user_id":1501876,"accept_rate":71,"display_name":"endrigoantonini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394803189,"creation_date":1394803189,"answer_id":22406161,"question_id":22405999,"body_markdown":"You need to get the ErrorStream and InputStream from the process instance and redirect it to your logger.\r\n\r\n    process.getErrorStream();\r\n    process.getInputStream();\r\n\r\n","title":"generate log for command line process from java","body":"<p>You need to get the ErrorStream and InputStream from the process instance and redirect it to your logger.</p>\n\n<pre><code>process.getErrorStream();\nprocess.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680964398,"creation_date":1680964398,"answer_id":75965824,"question_id":22405999,"body_markdown":"I used the following code and it&#39;s working for me,\r\n\r\nthe code tracing the jar file wokring\r\n\r\n      ProcessBuilder builder = new ProcessBuilder(\r\n                    &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;D:\\\\myprojectpath\\\\target\\&quot; &amp;&amp; java -jar -Dspring.profiles.active=dev myjar-0.0.1.jar&quot;);\r\n            builder.redirectErrorStream(true);\r\n            Process p = builder.start();\r\n    \r\n           BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n           String line;\r\n           while (true) {\r\n               line = r.readLine();\r\n               if (line == null) { break; }\r\n               System.out.println(line);\r\n           }\r\n            return true;","title":"generate log for command line process from java","body":"<p>I used the following code and it's working for me,</p>\n<p>the code tracing the jar file wokring</p>\n<pre><code>  ProcessBuilder builder = new ProcessBuilder(\n                &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;D:\\\\myprojectpath\\\\target\\&quot; &amp;&amp; java -jar -Dspring.profiles.active=dev myjar-0.0.1.jar&quot;);\n        builder.redirectErrorStream(true);\n        Process p = builder.start();\n\n       BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\n       String line;\n       while (true) {\n           line = r.readLine();\n           if (line == null) { break; }\n           System.out.println(line);\n       }\n        return true;\n</code></pre>\n"}],"owner":{"account_id":4172449,"reputation":5,"user_id":3419914,"display_name":"user3419914"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1680964398,"creation_date":1394802742,"question_id":22405999,"body_markdown":"    Process p1=Runtime.getRuntime().exec(command);\r\n    String command=&quot;cmd.exe /c B:\\\\BelkAnanlyticsExtract\\\\batFiles\\\\HHExtraction02.bat&gt;&gt; logs\\\\HHExtraction02.log&quot;;\r\n\r\n\r\nThe log file which is generated is different from the one that is generated when I run this command from the command line.\r\n\r\nI would like to generate the same log. Please help me with this.","title":"generate log for command line process from java","body":"<pre><code>Process p1=Runtime.getRuntime().exec(command);\nString command=\"cmd.exe /c B:\\\\BelkAnanlyticsExtract\\\\batFiles\\\\HHExtraction02.bat&gt;&gt; logs\\\\HHExtraction02.log\";\n</code></pre>\n\n<p>The log file which is generated is different from the one that is generated when I run this command from the command line.</p>\n\n<p>I would like to generate the same log. Please help me with this.</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1680975272,"post_id":75965802,"comment_id":133986290,"body_markdown":"&quot; export a jar &quot;  what does this mean?    the error you got means that `mainClassName ` is not a known property for Gradle: you are certainly missing some plugin declaration. plesase provide your plugins declaration script","body":"&quot; export a jar &quot;  what does this mean?    the error you got means that <code>mainClassName </code> is not a known property for Gradle: you are certainly missing some plugin declaration. plesase provide your plugins declaration script"}],"owner":{"account_id":26699507,"reputation":1,"user_id":20306792,"display_name":"VerifiedFemboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680964327,"creation_date":1680964109,"question_id":75965802,"body_markdown":"I would like to export a jar using gradle but it says only errors\r\nGradle ver: 8.0.2\r\n\r\n    mainClassName = &quot;me.sussydeveloper.Bot&quot;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;$mainClassName&quot;\r\n        }\r\n    \r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\n\r\n\r\nErrors: \r\n\r\n    Build file &#39;D:\\Java Projects\\transbot\\build.gradle&#39; line: 22\r\n    \r\n    A problem occurred evaluating root project &#39;transbot&#39;.\r\n    &gt; Could not set unknown property &#39;mainClassName&#39; for root project &#39;transbot&#39; of type org.gradle.api.Project.\r\n    \r\n    * Try:\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;transbot&#39;.\r\n    \tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n    \tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:135)\r\n    \tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n    \tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:138)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n    \tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:406)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\r\n    \tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n    \tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n    \tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n    \tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:411)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:411)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\r\n    \tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n    \tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:792)\r\n    \tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:156)\r\n    \tat org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$2(ProjectLifecycleController.java:84)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$10(StateTransitionController.java:207)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n    \tat org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:203)\r\n    \tat org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:84)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:362)\r\n    \tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n    \tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\r\n    \tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:42)\r\n    \tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n    \tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n    \tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$2(VintageBuildModelController.java:84)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$11(StateTransitionController.java:221)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n    \tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:217)\r\n    \tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:84)\r\n    \tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:116)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:154)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n    \tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:150)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:116)\r\n    \tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:185)\r\n    \tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:134)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n    \tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n    \tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n    \tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:125)\r\n    \tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n    \tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n    \tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n    \tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:74)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n    \tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\r\n    \tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n    \tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n    \tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n    \tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\r\n    \tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n    \tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n    \tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n    \tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n    \tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n    \tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n    \tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n    \tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n    \tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n    \tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n    \tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n    \tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n    \tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n    Caused by: groovy.lang.MissingPropertyException: Could not set unknown property &#39;mainClassName&#39; for root project &#39;transbot&#39; of type org.gradle.api.Project.\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject.setMissingProperty(AbstractDynamicObject.java:118)\r\n    \tat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.setMissingProperty(BasicScript.java:170)\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject.setProperty(AbstractDynamicObject.java:76)\r\n    \tat org.gradle.api.internal.project.DefaultDynamicLookupRoutine.setProperty(DefaultDynamicLookupRoutine.java:42)\r\n    \tat org.gradle.groovy.scripts.BasicScript.setProperty(BasicScript.java:74)\r\n    \tat build_77jdszappoqteirkj99y38ute.run(D:\\Java Projects\\transbot\\build.gradle:22)\r\n    \tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n    \t... 177 more\r\n\r\nI tried all methods with it and I cannot solve it\r\n\r\n\r\n","title":"How to export a jar using Gradle?","body":"<p>I would like to export a jar using gradle but it says only errors\nGradle ver: 8.0.2</p>\n<pre><code>mainClassName = &quot;me.sussydeveloper.Bot&quot;\n\njar {\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;$mainClassName&quot;\n    }\n\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>Build file 'D:\\Java Projects\\transbot\\build.gradle' line: 22\n\nA problem occurred evaluating root project 'transbot'.\n&gt; Could not set unknown property 'mainClassName' for root project 'transbot' of type org.gradle.api.Project.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project 'transbot'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:135)\n    at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:138)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:406)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:411)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:411)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:792)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:156)\n    at org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$2(ProjectLifecycleController.java:84)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\n    at org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$10(StateTransitionController.java:207)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:203)\n    at org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:84)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:362)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:42)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$2(VintageBuildModelController.java:84)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$11(StateTransitionController.java:221)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:217)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:84)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:116)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:154)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:150)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:116)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:185)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:134)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:125)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: groovy.lang.MissingPropertyException: Could not set unknown property 'mainClassName' for root project 'transbot' of type org.gradle.api.Project.\n    at org.gradle.internal.metaobject.AbstractDynamicObject.setMissingProperty(AbstractDynamicObject.java:118)\n    at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.setMissingProperty(BasicScript.java:170)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.setProperty(AbstractDynamicObject.java:76)\n    at org.gradle.api.internal.project.DefaultDynamicLookupRoutine.setProperty(DefaultDynamicLookupRoutine.java:42)\n    at org.gradle.groovy.scripts.BasicScript.setProperty(BasicScript.java:74)\n    at build_77jdszappoqteirkj99y38ute.run(D:\\Java Projects\\transbot\\build.gradle:22)\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n    ... 177 more\n</code></pre>\n<p>I tried all methods with it and I cannot solve it</p>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":192,"creation_date":1385585119,"post_id":20252727,"comment_id":30208145,"body_markdown":"`new Shape().new ZShape();`. The class `ZShape` needs an enclosing instance to be instantiated.","body":"<code>new Shape().new ZShape();</code>. The class <code>ZShape</code> needs an enclosing instance to be instantiated."},{"owner":{"account_id":296211,"reputation":803,"user_id":601040,"accept_rate":56,"display_name":"Dimmduh"},"score":4,"creation_date":1488859588,"post_id":20252727,"comment_id":72407352,"body_markdown":"move inner class to separate file","body":"move inner class to separate file"},{"owner":{"account_id":316740,"reputation":488,"user_id":633062,"accept_rate":50,"display_name":"Jeremiah Adams"},"score":0,"creation_date":1490798419,"post_id":20252727,"comment_id":73274737,"body_markdown":"@Dimmduh comment should be the answer in this case. They should not be inner classes. Moving them would Identify the other issues with the Shape class that exist.","body":"@Dimmduh comment should be the answer in this case. They should not be inner classes. Moving them would Identify the other issues with the Shape class that exist."},{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":0,"creation_date":1570454971,"post_id":20252727,"comment_id":102908139,"body_markdown":"Not to answer the question here but can I suggest to use _inheritance_ here where `AShape` and `ZShape` extend the base class `Shapes`. Nesting classes is not a really good design for this problem.","body":"Not to answer the question here but can I suggest to use <i>inheritance</i> here where <code>AShape</code> and <code>ZShape</code> extend the base class <code>Shapes</code>. Nesting classes is not a really good design for this problem."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":3,"up_vote_count":531,"is_accepted":true,"score":528,"last_activity_date":1385585255,"creation_date":1385585255,"answer_id":20252797,"question_id":20252727,"body_markdown":"`ZShape` is not static so it requires an instance of the outer class.\r\n\r\nThe simplest solution is to make ZShape and any nested class `static` if you can.\r\n\r\nI would also make any fields `final` or `static final` that you can as well.","title":"Is not an enclosing class Java","body":"<p><code>ZShape</code> is not static so it requires an instance of the outer class.</p>\n\n<p>The simplest solution is to make ZShape and any nested class <code>static</code> if you can.</p>\n\n<p>I would also make any fields <code>final</code> or <code>static final</code> that you can as well.</p>\n"},{"tags":[],"owner":{"display_name":"user655000"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1394620406,"creation_date":1394619200,"answer_id":22348192,"question_id":20252727,"body_markdown":"I have encountered the same problem.\r\nI solved by creating an instance for every inner public Class.\r\nas for you situation, i suggest you use inheritance other than inner classes.\r\n\r\n\r\n    public class Shape {\r\n\r\n        private String shape;\r\n    \r\n        public ZShape zShpae;\r\n        public SShape sShape;\r\n\r\n        public Shape(){\r\n          int[][] coords =  noShapeCoords;\r\n          shape = &quot;NoShape&quot;;\r\n          zShape = new ZShape();\r\n          sShape = new SShape();\r\n        }\r\n\r\n        class ZShape{\r\n          int[][] coords =  zShapeCoords;\r\n          String shape = &quot;ZShape&quot;;\r\n        }\r\n\r\n        class SShape{\r\n          int[][] coords = sShapeCoords;\r\n          String shape = &quot;SShape&quot;;\r\n        }\r\n\r\n     //etc\r\n    }\r\n\r\nthen you can new Shape();\r\nand visit ZShape through shape.zShape;\r\n\r\n","title":"Is not an enclosing class Java","body":"<p>I have encountered the same problem.\nI solved by creating an instance for every inner public Class.\nas for you situation, i suggest you use inheritance other than inner classes.</p>\n\n<pre><code>public class Shape {\n\n    private String shape;\n\n    public ZShape zShpae;\n    public SShape sShape;\n\n    public Shape(){\n      int[][] coords =  noShapeCoords;\n      shape = \"NoShape\";\n      zShape = new ZShape();\n      sShape = new SShape();\n    }\n\n    class ZShape{\n      int[][] coords =  zShapeCoords;\n      String shape = \"ZShape\";\n    }\n\n    class SShape{\n      int[][] coords = sShapeCoords;\n      String shape = \"SShape\";\n    }\n\n //etc\n}\n</code></pre>\n\n<p>then you can new Shape();\nand visit ZShape through shape.zShape;</p>\n"},{"tags":[],"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"down_vote_count":0,"up_vote_count":225,"is_accepted":false,"score":225,"last_activity_date":1571206631,"creation_date":1440662008,"answer_id":32243637,"question_id":20252727,"body_markdown":"Suppose RetailerProfileModel is your Main class and RetailerPaymentModel is an inner class within it. You can create an object of the Inner class outside the class as follows:\r\n\r\n    RetailerProfileModel.RetailerPaymentModel paymentModel\r\n            = new RetailerProfileModel().new RetailerPaymentModel();\r\n\r\n","title":"Is not an enclosing class Java","body":"<p>Suppose RetailerProfileModel is your Main class and RetailerPaymentModel is an inner class within it. You can create an object of the Inner class outside the class as follows:</p>\n\n<pre><code>RetailerProfileModel.RetailerPaymentModel paymentModel\n        = new RetailerProfileModel().new RetailerPaymentModel();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3396385,"reputation":51,"user_id":2849896,"display_name":"Younes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475465149,"creation_date":1475465149,"answer_id":39824180,"question_id":20252727,"body_markdown":"No need to make the nested class as static but it must be public\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Shape shape = new Shape();\r\n            Shape s = shape.new Shape.ZShape();\r\n        }\r\n    }","title":"Is not an enclosing class Java","body":"<p>No need to make the nested class as static but it must be public</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Shape shape = new Shape();\n        Shape s = shape.new Shape.ZShape();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1481740707,"creation_date":1481740707,"answer_id":41149791,"question_id":20252727,"body_markdown":"What I would suggest is not converting the non-static class to a static class because in that case, your inner class can&#39;t access the non-static members of outer class.\r\n\r\n\r\nExample :\r\n\r\n    class Outer\r\n    {\r\n        class Inner\r\n        {\r\n            //...\r\n        }\r\n    }\r\n\r\nSo, in such case, you can do something like:\r\n\r\n    Outer o = new Outer();\r\n    Outer.Inner obj = o.new Inner();","title":"Is not an enclosing class Java","body":"<p>What I would suggest is not converting the non-static class to a static class because in that case, your inner class can't access the non-static members of outer class.</p>\n\n<p>Example :</p>\n\n<pre><code>class Outer\n{\n    class Inner\n    {\n        //...\n    }\n}\n</code></pre>\n\n<p>So, in such case, you can do something like:</p>\n\n<pre><code>Outer o = new Outer();\nOuter.Inner obj = o.new Inner();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134693,"reputation":11106,"user_id":2624806,"accept_rate":32,"display_name":"CoDe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549983770,"creation_date":1501319026,"answer_id":45387461,"question_id":20252727,"body_markdown":"In case if Parent class is singleton use following way:\r\n\r\n    Parent.Child childObject = (Parent.getInstance()).new Child();\r\n\r\nwhere `getInstance()` will return parent class singleton object.","title":"Is not an enclosing class Java","body":"<p>In case if Parent class is singleton use following way:</p>\n\n<pre><code>Parent.Child childObject = (Parent.getInstance()).new Child();\n</code></pre>\n\n<p>where <code>getInstance()</code> will return parent class singleton object.</p>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491517,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509617098,"creation_date":1509617098,"answer_id":47072492,"question_id":20252727,"body_markdown":"One thing I didn&#39;t realize at first when reading the accepted answer was that making an inner class static is basically the same thing as moving it to its own separate class.\r\n\r\nThus, when getting the error\r\n\r\n&gt; xxx is not an enclosing class\r\n\r\nYou can solve it in either of the following ways:\r\n\r\n- Add the `static` keyword to the inner class, or\r\n- Move it out to its own separate class.","title":"Is not an enclosing class Java","body":"<p>One thing I didn't realize at first when reading the accepted answer was that making an inner class static is basically the same thing as moving it to its own separate class.</p>\n\n<p>Thus, when getting the error</p>\n\n<blockquote>\n  <p>xxx is not an enclosing class</p>\n</blockquote>\n\n<p>You can solve it in either of the following ways:</p>\n\n<ul>\n<li>Add the <code>static</code> keyword to the inner class, or</li>\n<li>Move it out to its own separate class.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5477892,"reputation":219,"user_id":4355380,"display_name":"Brennan Miller"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1515551409,"creation_date":1515532165,"answer_id":48176676,"question_id":20252727,"body_markdown":"As stated in the [docs][1]:\r\n\r\n    OuterClass.InnerClass innerObject = outerObject.new InnerClass();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"Is not an enclosing class Java","body":"<p>As stated in the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<pre><code>OuterClass.InnerClass innerObject = outerObject.new InnerClass();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6912215,"reputation":467,"user_id":5307634,"display_name":"MbPCM"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1521208641,"creation_date":1521206471,"answer_id":49321819,"question_id":20252727,"body_markdown":"Sometimes, we need to create a new instance of an inner class that can&#39;t be static because it depends on some global variables of the parent class. In that situation, if you try to create the instance of an inner class that is not static, a `not an enclosing class` error is thrown.\r\n\r\nTaking the example of the question, what if `ZShape` can&#39;t be static because it need global variable of `Shape` class? \r\n\r\nHow can you create new instance of `ZShape`? This is how:\r\n\r\nAdd a getter in the parent class:\r\n\r\n    public ZShape getNewZShape() {\r\n        return new ZShape();\r\n    }\r\n\r\nAccess it like this:\r\n\r\n    Shape ss = new Shape();\r\n    ZShape s = ss.getNewZShape();","title":"Is not an enclosing class Java","body":"<p>Sometimes, we need to create a new instance of an inner class that can't be static because it depends on some global variables of the parent class. In that situation, if you try to create the instance of an inner class that is not static, a <code>not an enclosing class</code> error is thrown.</p>\n\n<p>Taking the example of the question, what if <code>ZShape</code> can't be static because it need global variable of <code>Shape</code> class? </p>\n\n<p>How can you create new instance of <code>ZShape</code>? This is how:</p>\n\n<p>Add a getter in the parent class:</p>\n\n<pre><code>public ZShape getNewZShape() {\n    return new ZShape();\n}\n</code></pre>\n\n<p>Access it like this:</p>\n\n<pre><code>Shape ss = new Shape();\nZShape s = ss.getNewZShape();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9590392,"reputation":220,"user_id":9386125,"display_name":"Антон Лялин"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1536137933,"creation_date":1536137933,"answer_id":52181118,"question_id":20252727,"body_markdown":"    Shape shape = new Shape();\r\n    Shape.ZShape zshape = shape.new ZShape();","title":"Is not an enclosing class Java","body":"<pre><code>Shape shape = new Shape();\nShape.ZShape zshape = shape.new ZShape();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1264173,"reputation":1876,"user_id":1221842,"display_name":"Reishin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550814670,"creation_date":1550814670,"answer_id":54820831,"question_id":20252727,"body_markdown":"To achieve the requirement from the question, we can put classes into interface: \r\n\r\n\r\n    public interface Shapes {\r\n        class AShape{\r\n        }\r\n        class ZShape{\r\n        }\r\n    }\r\n\r\nand then use as author tried before: \r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Shape s = new Shapes.ZShape();\r\n        }\r\n    }\r\n\r\nIf we looking for the proper &quot;logical&quot; solution, should be used `fabric` design pattern","title":"Is not an enclosing class Java","body":"<p>To achieve the requirement from the question, we can put classes into interface: </p>\n\n<pre><code>public interface Shapes {\n    class AShape{\n    }\n    class ZShape{\n    }\n}\n</code></pre>\n\n<p>and then use as author tried before: </p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Shape s = new Shapes.ZShape();\n    }\n}\n</code></pre>\n\n<p>If we looking for the proper \"logical\" solution, should be used <code>fabric</code> design pattern</p>\n"},{"tags":[],"owner":{"account_id":4737130,"reputation":870,"user_id":3831201,"display_name":"mauronet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655162631,"creation_date":1655162631,"answer_id":72610026,"question_id":20252727,"body_markdown":"In case that someone has this issue trying to instance a third party component.\r\n\r\nIn my case was doing a unit test using this component: [ChannelSftp.LsEntry][1]\r\n\r\nDoing the usual instantiation give me the issue:\r\n[![enter image description here][2]][2]\r\n\r\nThe workaround was:\r\n\r\n        ChannelSftp channelSftp =  new ChannelSftp();\r\n        Constructor&lt;ChannelSftp.LsEntry&gt; constructor = (Constructor&lt;ChannelSftp.LsEntry&gt;) ChannelSftp.LsEntry.class.getDeclaredConstructors()[0];\r\n        constructor.setAccessible(true);\r\n        ChannelSftp.LsEntry lsEntry = constructor.newInstance(channelSftp, &quot;file1.txt&quot;, null);\r\n\r\nI found original code [here][3]\r\n\r\n\r\n  [1]: https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.LsEntry.html\r\n  [2]: https://i.stack.imgur.com/1IajI.png\r\n  [3]: https://www.tabnine.com/code/java/methods/com.jcraft.jsch.ChannelSftp/%3Cinit%3E","title":"Is not an enclosing class Java","body":"<p>In case that someone has this issue trying to instance a third party component.</p>\n<p>In my case was doing a unit test using this component: <a href=\"https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.LsEntry.html\" rel=\"nofollow noreferrer\">ChannelSftp.LsEntry</a></p>\n<p>Doing the usual instantiation give me the issue:\n<a href=\"https://i.stack.imgur.com/1IajI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1IajI.png\" alt=\"enter image description here\" /></a></p>\n<p>The workaround was:</p>\n<pre><code>    ChannelSftp channelSftp =  new ChannelSftp();\n    Constructor&lt;ChannelSftp.LsEntry&gt; constructor = (Constructor&lt;ChannelSftp.LsEntry&gt;) ChannelSftp.LsEntry.class.getDeclaredConstructors()[0];\n    constructor.setAccessible(true);\n    ChannelSftp.LsEntry lsEntry = constructor.newInstance(channelSftp, &quot;file1.txt&quot;, null);\n</code></pre>\n<p>I found original code <a href=\"https://www.tabnine.com/code/java/methods/com.jcraft.jsch.ChannelSftp/%3Cinit%3E\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2438317,"reputation":4273,"user_id":2127592,"accept_rate":80,"display_name":"V Sebi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384205,"favorite_count":0,"down_vote_count":2,"up_vote_count":415,"accepted_answer_id":20252797,"answer_count":12,"score":413,"last_activity_date":1680964313,"creation_date":1385585056,"question_id":20252727,"body_markdown":"I&#39;m trying to make a Tetris game and I&#39;m getting the compiler error when I try to create an object\r\n\r\n&gt; Shape is not an enclosing class\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Shape s = new Shapes.ZShape();\r\n        }\r\n    }\r\n\r\nI&#39;m using inner classes for each shape. Here&#39;s part of my code\r\n\r\n    public class Shapes {\r\n        class AShape {\r\n        }\r\n        class ZShape {\r\n        }\r\n    }\r\n\r\n\r\nWhat am I doing wrong?","title":"Is not an enclosing class Java","body":"<p>I'm trying to make a Tetris game and I'm getting the compiler error when I try to create an object</p>\n<blockquote>\n<p>Shape is not an enclosing class</p>\n</blockquote>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Shape s = new Shapes.ZShape();\n    }\n}\n</code></pre>\n<p>I'm using inner classes for each shape. Here's part of my code</p>\n<pre><code>public class Shapes {\n    class AShape {\n    }\n    class ZShape {\n    }\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","exception","filter","java-8","java-stream"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":5,"creation_date":1460470036,"post_id":36575679,"comment_id":60750252,"body_markdown":"Please make a [mcve]. Your code doesn&#39;t compile.","body":"Please make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Your code doesn&#39;t compile."},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":4,"creation_date":1460470122,"post_id":36575679,"comment_id":60750317,"body_markdown":"You can&#39;t operate on a stream twice. Presumably you already operated on `titleExclusions` in `//...`.","body":"You can&#39;t operate on a stream twice. Presumably you already operated on <code>titleExclusions</code> in <code>&#47;&#47;...</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1460470666,"post_id":36575679,"comment_id":60750763,"body_markdown":"By the way, you don’t need to collect into a `Set` all the time (otherwise, if you want to do your work with `Set`s, just do it without switching to the Stream API in-between). Since your elements are distinct already, `collect(Collectors.toSet()).size()` is just the same as `count()`, but `stream.filter(tittle::contains).collect(Collectors.toSet()).size() == 0` is the same as just `stream.noneMatch(tittle::contains)` anyway…","body":"By the way, you don’t need to collect into a <code>Set</code> all the time (otherwise, if you want to do your work with <code>Set</code>s, just do it without switching to the Stream API in-between). Since your elements are distinct already, <code>collect(Collectors.toSet()).size()</code> is just the same as <code>count()</code>, but <code>stream.filter(tittle::contains).collect(Collectors.toSet()).&zwnj;&#8203;size() == 0</code> is the same as just <code>stream.noneMatch(tittle::contains)</code> anyway…"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":2,"creation_date":1460470685,"post_id":36575679,"comment_id":60750776,"body_markdown":"There is a lot of seemingly unnecessary complication in this code, but it should work, unless there is something important in the omitted part of the code.","body":"There is a lot of seemingly unnecessary complication in this code, but it should work, unless there is something important in the omitted part of the code."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1460470825,"post_id":36575679,"comment_id":60750888,"body_markdown":"Not storing stream instances in variables will greatly help avoiding the “stream has already been operated upon or closed” error.","body":"Not storing stream instances in variables will greatly help avoiding the “stream has already been operated upon or closed” error."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1460476340,"creation_date":1460470994,"answer_id":36576155,"question_id":36575679,"body_markdown":"You can&#39;t operate on Streams more than once so you are better off using Collections as these can be used more than once.\r\n\r\n    Set&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(&quot;+.txt&quot;)\r\n                                                 .stream()\r\n                                                 .filter(item -&gt; !item.isEmpty())\r\n                                                 .collect(Collectors.toSet());\r\n    // uses titleExclusions \r\n    boolean noMatches = titleExclusions.stream()\r\n                                       .noneMatch(tittle::contains);\r\n    // uses titleExclusions again.\r\n\r\nNote: I assume you wanted the non-blank lines from your source file instead of the sets of blank ones. `filter` takes a `Predicate` of what is retained rather than what is discarded.\r\n\r\nThank you @Holger for simplifying the second statement.\r\n","title":"Stream has already been operated upon or closed - Java 8","body":"<p>You can't operate on Streams more than once so you are better off using Collections as these can be used more than once.</p>\n\n<pre><code>Set&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(\"+.txt\")\n                                             .stream()\n                                             .filter(item -&gt; !item.isEmpty())\n                                             .collect(Collectors.toSet());\n// uses titleExclusions \nboolean noMatches = titleExclusions.stream()\n                                   .noneMatch(tittle::contains);\n// uses titleExclusions again.\n</code></pre>\n\n<p>Note: I assume you wanted the non-blank lines from your source file instead of the sets of blank ones. <code>filter</code> takes a <code>Predicate</code> of what is retained rather than what is discarded.</p>\n\n<p>Thank you @Holger for simplifying the second statement.</p>\n"}],"owner":{"account_id":2704985,"reputation":1156,"user_id":2334771,"accept_rate":82,"display_name":"Arthur"},"comment_count":5,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6214,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1465582707,"accepted_answer_id":36576155,"answer_count":1,"score":1,"last_activity_date":1680964285,"creation_date":1460469911,"question_id":36575679,"body_markdown":"Why I have next exception?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\r\n\tat java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)...\r\n    com.search.offer.OffersSelector.isGood(OffersSelector.java:23)\r\n\r\nHow change the code to fix it?\r\n\r\n    Stream&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(&quot;+.txt&quot;).\r\n            stream().filter(item -&gt; item.length() == 0).collect(Collectors.toSet()).stream();\r\n    //...\r\n    titleExclusions.filter(tittle::contains).collect(Collectors.toSet()).size() == 0;//line 23","title":"Stream has already been operated upon or closed - Java 8","body":"<p>Why I have next exception?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\nat java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)...\ncom.search.offer.OffersSelector.isGood(OffersSelector.java:23)\n</code></pre>\n<p>How change the code to fix it?</p>\n<pre><code>Stream&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(&quot;+.txt&quot;).\n        stream().filter(item -&gt; item.length() == 0).collect(Collectors.toSet()).stream();\n//...\ntitleExclusions.filter(tittle::contains).collect(Collectors.toSet()).size() == 0;//line 23\n</code></pre>\n"},{"tags":["java","arrays","api"],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680964166,"creation_date":1680884283,"answer_id":75960214,"question_id":75960205,"body_markdown":"Looks like a JSON String, you can use the Gson library to achieve this.\r\n\r\n    import com.google.gson.Gson;\r\n    import java.util.Arrays;\r\n    \r\n    Gson gson = new Gson();\r\n    Object[][] data = gson.fromJson(jsonString, Object[][].class);\r\n    \r\n    System.out.println(Arrays.deepToString(data));\r\n\r\nThe output should be:\r\n\r\n    [[1.6803738E12, 1.2786, 1.2821], [1.6803747E12, 1.2761, 1.28, 0.0]]\r\n\r\n","title":"String with [[ to array","body":"<p>Looks like a JSON String, you can use the Gson library to achieve this.</p>\n<pre><code>import com.google.gson.Gson;\nimport java.util.Arrays;\n\nGson gson = new Gson();\nObject[][] data = gson.fromJson(jsonString, Object[][].class);\n\nSystem.out.println(Arrays.deepToString(data));\n</code></pre>\n<p>The output should be:</p>\n<pre><code>[[1.6803738E12, 1.2786, 1.2821], [1.6803747E12, 1.2761, 1.28, 0.0]]\n</code></pre>\n"}],"owner":{"account_id":28242939,"reputation":1,"user_id":21590452,"display_name":"Julian Isaac"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1680969160,"accepted_answer_id":75960214,"answer_count":1,"score":-2,"last_activity_date":1680964166,"creation_date":1680884212,"question_id":75960205,"body_markdown":"I have the following String, that returns from API\r\n\r\n[\r\n\t[\r\n\t\t1680373800000,\r\n\t\t&quot;1.27860000&quot;,\r\n\t\t&quot;1.28210000&quot;,\r\n\t],\r\n\t[\r\n\t\t1680374700000,\r\n\t\t&quot;1.27610000&quot;,\r\n\t\t&quot;1.28000000&quot;,\r\n\t\t&quot;0&quot;\r\n\t]\r\n]\r\n\r\nHow to convert this to Java Arrays?\r\nThanks a lot :)\r\n\r\nI tried differents solutions but I can not reach the solution.","title":"String with [[ to array","body":"<p>I have the following String, that returns from API</p>\n<p>[\n[\n1680373800000,\n&quot;1.27860000&quot;,\n&quot;1.28210000&quot;,\n],\n[\n1680374700000,\n&quot;1.27610000&quot;,\n&quot;1.28000000&quot;,\n&quot;0&quot;\n]\n]</p>\n<p>How to convert this to Java Arrays?\nThanks a lot :)</p>\n<p>I tried differents solutions but I can not reach the solution.</p>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"score":0,"creation_date":1680883701,"post_id":75960030,"comment_id":133975655,"body_markdown":"I have an error :  .\\example.java:6: error: Illegal static declaration in inner class Outer.Inner. You should really copy the text of your program instead of a screen copy. I had to type it again. See https://stackoverflow.com/questions/19481680/error-illegal-static-declaration-in-inner-class","body":"I have an error :  .\\example.java:6: error: Illegal static declaration in inner class Outer.Inner. You should really copy the text of your program instead of a screen copy. I had to type it again. See <a href=\"https://stackoverflow.com/questions/19481680/error-illegal-static-declaration-in-inner-class\" title=\"error illegal static declaration in inner class\">stackoverflow.com/questions/19481680/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680963297,"post_id":75960030,"comment_id":133984637,"body_markdown":"Which Java version are you using? Your code compiles and runs fine (producing _&quot;Inner class&quot;_ with Java 17).","body":"Which Java version are you using? Your code compiles and runs fine (producing <i>&quot;Inner class&quot;</i> with Java 17)."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680963797,"post_id":75960030,"comment_id":133984711,"body_markdown":"The second part of your question is related to the specific editor you&#39;re using. Please focus on only one question/problem per question.","body":"The second part of your question is related to the specific editor you&#39;re using. Please focus on only one question/problem per question."}],"answers":[{"tags":[],"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680884755,"creation_date":1680884135,"answer_id":75960193,"question_id":75960030,"body_markdown":"I had a `Illegal static declaration in inner class Outer.Inner` error with your program.\r\n\r\nI had to change it to:\r\n\r\n```java\r\nclass Outer{\r\n  public static void main(String[] args) {\r\n     System.out.println(&quot;OUTER&quot;);\r\n  }\r\n  static class Inner{\r\n    public static void main(String[] args) {\r\n       System.out.println(&quot;INNER&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nSee the `static` class.\r\n\r\nThen, I can run the INNER class:\r\n\r\n```Powershell\r\nPS D:\\&gt; java &#39;Outer$Inner&#39;\r\nINNER\r\n```\r\n\r\nNote the quotes. If you omit them, Powershell will run `java Outer` (`$Inner` is replaced by nothing since the variable is not defined).\r\n\r\nCommon usages write class names with a capital like this example.","title":"My Inner class main function is not executing even when I tried java outter$inner","body":"<p>I had a <code>Illegal static declaration in inner class Outer.Inner</code> error with your program.</p>\n<p>I had to change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Outer{\n  public static void main(String[] args) {\n     System.out.println(&quot;OUTER&quot;);\n  }\n  static class Inner{\n    public static void main(String[] args) {\n       System.out.println(&quot;INNER&quot;);\n    }\n  }\n}\n</code></pre>\n<p>See the <code>static</code> class.</p>\n<p>Then, I can run the INNER class:</p>\n<pre><code>PS D:\\&gt; java 'Outer$Inner'\nINNER\n</code></pre>\n<p>Note the quotes. If you omit them, Powershell will run <code>java Outer</code> (<code>$Inner</code> is replaced by nothing since the variable is not defined).</p>\n<p>Common usages write class names with a capital like this example.</p>\n"}],"owner":{"account_id":26283301,"reputation":3,"user_id":21587289,"display_name":"MANOJ CHALLA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75960193,"answer_count":1,"score":-1,"last_activity_date":1680963743,"creation_date":1680882878,"question_id":75960030,"body_markdown":"I&#39;m facing difficulty in executing a main method in an inner class. The outer class main method is executing fine, and even other class main methods are executing fine. However, when I&#39;m trying to execute java Outer$Inner it executes the main method of Outer class rather than Inner class.\r\n\r\nHere is the code:\r\n```java\r\nclass outer{\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Outer class&quot;);\r\n    }\r\n    class inner{\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Inner class&quot;);   \r\n        }\r\n    }\r\n}\r\nclass c{\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Another class&quot;);\r\n    }\r\n}\r\n```\r\n```none\r\nOutput:\r\nPS C:\\Users\\MY_PROJECTS&gt; java outer\r\nOuter class\r\nPS C:\\Users\\MY_PROJECTS&gt; java outer$inner\r\nOuter class\r\nPS C:\\Users\\MY_PROJECTS&gt; java c\r\nAnother class\r\n```\r\nAll class files are generated in same directory.\r\nAlso what irritating me here is this\r\n[image](https://i.stack.imgur.com/s3hMe.png)\r\nthere is no option to run or debug main method in inner class.\r\n\r\nSo I&#39;m trying to find why this is happening.","title":"My Inner class main function is not executing even when I tried java outter$inner","body":"<p>I'm facing difficulty in executing a main method in an inner class. The outer class main method is executing fine, and even other class main methods are executing fine. However, when I'm trying to execute java Outer$Inner it executes the main method of Outer class rather than Inner class.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class outer{\n    public static void main(String[] args) {\n        System.out.println(&quot;Outer class&quot;);\n    }\n    class inner{\n        public static void main(String[] args) {\n            System.out.println(&quot;Inner class&quot;);   \n        }\n    }\n}\nclass c{\n    public static void main(String[] args) {\n        System.out.println(&quot;Another class&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Output:\nPS C:\\Users\\MY_PROJECTS&gt; java outer\nOuter class\nPS C:\\Users\\MY_PROJECTS&gt; java outer$inner\nOuter class\nPS C:\\Users\\MY_PROJECTS&gt; java c\nAnother class\n</code></pre>\n<p>All class files are generated in same directory.\nAlso what irritating me here is this\n<a href=\"https://i.stack.imgur.com/s3hMe.png\" rel=\"nofollow noreferrer\">image</a>\nthere is no option to run or debug main method in inner class.</p>\n<p>So I'm trying to find why this is happening.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1680958364,"post_id":75965305,"comment_id":133984006,"body_markdown":"`continue` would force loop to skip rest of code from current iteration. This means that `System.out.println(i)` will never be executed so it is &quot;dead code&quot;.","body":"<code>continue</code> would force loop to skip rest of code from current iteration. This means that <code>System.out.println(i)</code> will never be executed so it is &quot;dead code&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3187436,"reputation":15604,"user_id":2692688,"display_name":"Tushar Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680963672,"creation_date":1680958381,"answer_id":75965319,"question_id":75965305,"body_markdown":"You need to put `System.out.println(i);` before `continue` statement. \r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        System.out.println(i);\r\n        continue;\r\n    }\r\n\r\nContinue tells `for` loop to keep on and breaks the current iteration, so in your version `System.out.println(i)` is not reachable.\r\n\r\n***Option***: You can omit `continue` as it is redundant being last statement in the loop (@Pshemo)","title":"Error while running the code source_file.java:15: error: unreachable statement System.out.println(i);} ^ 1 error","body":"<p>You need to put <code>System.out.println(i);</code> before <code>continue</code> statement.</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    System.out.println(i);\n    continue;\n}\n</code></pre>\n<p>Continue tells <code>for</code> loop to keep on and breaks the current iteration, so in your version <code>System.out.println(i)</code> is not reachable.</p>\n<p><em><strong>Option</strong></em>: You can omit <code>continue</code> as it is redundant being last statement in the loop (@Pshemo)</p>\n"},{"tags":[],"owner":{"account_id":21864716,"reputation":1,"user_id":16155068,"display_name":"RealGD AI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680962548,"creation_date":1680962548,"answer_id":75965663,"question_id":75965305,"body_markdown":"The keyword `continue` means to skip the rest of the code in the loop and re-iterate. That means `System.out.println(i)` will never be reached. So to fix it, you could either move that line before `continue` or you can just delete that line.","title":"Error while running the code source_file.java:15: error: unreachable statement System.out.println(i);} ^ 1 error","body":"<p>The keyword <code>continue</code> means to skip the rest of the code in the loop and re-iterate. That means <code>System.out.println(i)</code> will never be reached. So to fix it, you could either move that line before <code>continue</code> or you can just delete that line.</p>\n"}],"owner":{"account_id":28249450,"reputation":11,"user_id":21595937,"display_name":"Hazel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680963672,"creation_date":1680958254,"question_id":75965305,"body_markdown":"    for (int i = 0; i &lt; 10; i++) {\r\n        continue;\r\n        System.out.println(i);\r\n    }\r\n\r\nI want to understand the logic behind the error.\r\n","title":"Error while running the code source_file.java:15: error: unreachable statement System.out.println(i);} ^ 1 error","body":"<pre><code>for (int i = 0; i &lt; 10; i++) {\n    continue;\n    System.out.println(i);\n}\n</code></pre>\n<p>I want to understand the logic behind the error.</p>\n"},{"tags":["java","plugins","nullpointerexception","weka","package-management"],"answers":[{"tags":[],"owner":{"account_id":23858477,"reputation":19,"user_id":17861732,"display_name":"PierreBls"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680796233,"creation_date":1680796233,"answer_id":75951439,"question_id":75950875,"body_markdown":"After reading Weka source code I realized that this error occur while Weka reading depencies needed by the package. In the template file `Descriptions.props` that mean the section &quot;**Dependencies**&quot; are required even if it&#39;s not mentioned.\r\n\r\nSo I add theses lines to fix the problems:\r\n\r\n```xml\r\n# Dependencies (format: packageName (equality/inequality version_number)\r\nDepends=weka (&gt;=3.7.12)\r\n```","title":"NullPointerException when importing a package in Weka","body":"<p>After reading Weka source code I realized that this error occur while Weka reading depencies needed by the package. In the template file <code>Descriptions.props</code> that mean the section &quot;<strong>Dependencies</strong>&quot; are required even if it's not mentioned.</p>\n<p>So I add theses lines to fix the problems:</p>\n<pre class=\"lang-xml prettyprint-override\"><code># Dependencies (format: packageName (equality/inequality version_number)\nDepends=weka (&gt;=3.7.12)\n</code></pre>\n"}],"owner":{"account_id":23858477,"reputation":19,"user_id":17861732,"display_name":"PierreBls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680963125,"creation_date":1680792530,"question_id":75950875,"body_markdown":"I am developing a plugin for Weka in Java, and I&#39;m  using the [weka/packages/templates](https://github.com/bnjmn/weka/tree/master/packages/templates) to compile and create the package with `ant`. It look like Weka using the weka.core.packageManagement.DefaultPackage class while importing the packages from the GUI (Tools&gt;PacketManager&gt;File/URL) because when I try to import the resulting zip file in Weka 3.8.6 for Ubuntu, I get a NullPointerException with the following stack trace:\r\n\r\n```java\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;weka.core.packageManagement.DefaultPackage.getPackageMetaDataElement(Object)&quot; is null\r\n\tat weka.core.packageManagement.DefaultPackage.getDependencies(DefaultPackage.java:252)\r\n\tat weka.core.WekaPackageLibIsolatingClassLoader.init(WekaPackageLibIsolatingClassLoader.java:147)\r\n\tat weka.core.WekaPackageLibIsolatingClassLoader.&lt;init&gt;(WekaPackageLibIsolatingClassLoader.java:126)\r\n\tat weka.core.WekaPackageClassLoaderManager.addPackageToClassLoader(WekaPackageClassLoaderManager.java:369)\r\n\tat weka.core.WekaPackageManager.initializeAndLoadUnofficialPackage(WekaPackageManager.java:2372)\r\n\tat weka.core.WekaPackageManager.installPackageFromArchive(WekaPackageManager.java:2359)\r\n\tat weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:780)\r\n\tat weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:724)\r\n\tat java.desktop/javax.swing.SwingWorker$1.call(Unknown Source)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.desktop/javax.swing.SwingWorker.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\n\r\nI am using OpenJDK 11.0.18 on Ubuntu. Can someone help me understand what is causing this error and how to fix it?\r\n\r\n","title":"NullPointerException when importing a package in Weka","body":"<p>I am developing a plugin for Weka in Java, and I'm  using the <a href=\"https://github.com/bnjmn/weka/tree/master/packages/templates\" rel=\"nofollow noreferrer\">weka/packages/templates</a> to compile and create the package with <code>ant</code>. It look like Weka using the weka.core.packageManagement.DefaultPackage class while importing the packages from the GUI (Tools&gt;PacketManager&gt;File/URL) because when I try to import the resulting zip file in Weka 3.8.6 for Ubuntu, I get a NullPointerException with the following stack trace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;weka.core.packageManagement.DefaultPackage.getPackageMetaDataElement(Object)&quot; is null\n    at weka.core.packageManagement.DefaultPackage.getDependencies(DefaultPackage.java:252)\n    at weka.core.WekaPackageLibIsolatingClassLoader.init(WekaPackageLibIsolatingClassLoader.java:147)\n    at weka.core.WekaPackageLibIsolatingClassLoader.&lt;init&gt;(WekaPackageLibIsolatingClassLoader.java:126)\n    at weka.core.WekaPackageClassLoaderManager.addPackageToClassLoader(WekaPackageClassLoaderManager.java:369)\n    at weka.core.WekaPackageManager.initializeAndLoadUnofficialPackage(WekaPackageManager.java:2372)\n    at weka.core.WekaPackageManager.installPackageFromArchive(WekaPackageManager.java:2359)\n    at weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:780)\n    at weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:724)\n    at java.desktop/javax.swing.SwingWorker$1.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.desktop/javax.swing.SwingWorker.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I am using OpenJDK 11.0.18 on Ubuntu. Can someone help me understand what is causing this error and how to fix it?</p>\n"},{"tags":["java","javafx","java-module"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680991742,"post_id":75965622,"comment_id":133988253,"body_markdown":"JavaFX media is at version 19 and other JavaFX modules are at version 18.0.2.  All JavaFX versions should be the same.","body":"JavaFX media is at version 19 and other JavaFX modules are at version 18.0.2.  All JavaFX versions should be the same."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681015012,"post_id":75965622,"comment_id":133989897,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":26147777,"reputation":24,"user_id":19836176,"display_name":"Chris Mwangi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680962843,"creation_date":1680962718,"answer_id":75965680,"question_id":75965622,"body_markdown":"You are initializing mvVideo before setting mpVideo with the media file you selected. To fix this, you can move the initialization of mvVideo after creating the MediaPlayer with the selected file.\r\n\r\nFor handleButtonAction method try this:\r\n```java\r\n@FXML\r\npublic void handleButtonAction() throws Exception{\r\n    FileChooser fc= new FileChooser();\r\n    FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\r\n    fc.getExtensionFilters().add(extensionFilter);\r\n\r\n    File file= fc.showOpenDialog(null);\r\n    String filePath = file.toURI().toString();\r\n\r\n    if(filePath!= null) {\r\n        System.out.println(&quot;FilePath is- &quot;+filePath);\r\n        Media media= new Media(filePath);\r\n        mpVideo= new MediaPlayer(media);\r\n\r\n        // move initialization of mvVideo after creating the MediaPlayer\r\n        mvVideo= new MediaView(mpVideo);\r\n        mvVideo.setFitWidth(DataHolder.WIDTH);\r\n        mvVideo.setFitHeight(DataHolder.HEIGHT);\r\n        mvVideo.setPreserveRatio(false);\r\n        mvVideo.setSmooth(true);\r\n\r\n        mpVideo.setAutoPlay(true);\r\n    }\r\n}\r\n```\r\n","title":"Could not create player! javafx","body":"<p>You are initializing mvVideo before setting mpVideo with the media file you selected. To fix this, you can move the initialization of mvVideo after creating the MediaPlayer with the selected file.</p>\n<p>For handleButtonAction method try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\npublic void handleButtonAction() throws Exception{\n    FileChooser fc= new FileChooser();\n    FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\n    fc.getExtensionFilters().add(extensionFilter);\n\n    File file= fc.showOpenDialog(null);\n    String filePath = file.toURI().toString();\n\n    if(filePath!= null) {\n        System.out.println(&quot;FilePath is- &quot;+filePath);\n        Media media= new Media(filePath);\n        mpVideo= new MediaPlayer(media);\n\n        // move initialization of mvVideo after creating the MediaPlayer\n        mvVideo= new MediaView(mpVideo);\n        mvVideo.setFitWidth(DataHolder.WIDTH);\n        mvVideo.setFitHeight(DataHolder.HEIGHT);\n        mvVideo.setPreserveRatio(false);\n        mvVideo.setSmooth(true);\n\n        mpVideo.setAutoPlay(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23341241,"reputation":1,"user_id":17416112,"display_name":"LICHG4E"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680963081,"creation_date":1680962005,"question_id":75965622,"body_markdown":"I&#39;m trying to make a simple video player using JavaFX. I&#39;m using IntelliJ that has Maven with all plugins. I&#39;m running on Corretto SDK 18.0.2.\r\n\r\nBut when I build it and choose the file I get this error:\r\n```none\r\ncom.sun.media.jfxmedia.MediaException: Could not create player!\r\n```\r\nI&#39;m on Windows.\r\n```\r\nApr 08, 2023 2:37:26 PM javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 18.0.2\r\nFilePath is- file:D:\\Java\\NetflixProject\\src\\main\\java\\Test\\VideoTest.mp4\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Node.fireEvent(Node.java:8797)\r\n\tat javafx.controls@18.0.2/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@18.0.2/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n\tat javafx.controls@18.0.2/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat javafx.base@18.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media@19/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:147)\r\n\tat javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:519)\r\n\tat javafx.media@19/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:422)\r\n\tat com.example.netflixproject/Controllers.VideoPlayerController.handleButtonAction(VideoPlayerController.java:61)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:297)\r\n\tat javafx.media@19/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\r\n\tat javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:475)\r\n\t... 56 more\r\n```\r\nI made a file chooser and the GUI opens so after I choose the file the error appears and nothing displays in my media view:\r\n```java\r\npackage Controllers;\r\n\r\nimport DAO.EpisodeDAO2;\r\nimport Utils.DataHolder;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.MediaView;\r\nimport javafx.stage.FileChooser;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class VideoPlayerController implements Initializable {\r\n    public MediaView mvVideo;\r\n    @FXML\r\n    public MediaPlayer mpVideo;\r\n    @FXML\r\n    public Media mediaVideo;\r\n    public Slider SliderTime;\r\n    public Button ButtonPPR;\r\n    public HBox HboxVolume;\r\n    public Label LabelVolume;\r\n    public Slider SliderVolume;\r\n    public Label LabelCurrentTime;\r\n    public Label LabelTotalTime;\r\n    public Label LabelSpeed;\r\n    public Label LabelFullScreen;\r\n\r\n    private boolean atEndOfVideo = false;\r\n    private boolean isPalying = false;\r\n    private boolean isMuted = false;\r\n\r\n    private ImageView ivPlay;\r\n    private ImageView ivPause;\r\n    private ImageView ivRestart;\r\n    private ImageView ivVolume;\r\n    private ImageView ivMute;\r\n    private ImageView ivFullScreen;\r\n    @FXML\r\n    public void handleButtonAction() throws Exception{\r\n        FileChooser fc= new FileChooser();\r\n        FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\r\n        fc.getExtensionFilters().add(extensionFilter);\r\n\r\n        File file= fc.showOpenDialog(null);\r\n        String filePath = file.toURI().toString();\r\n\r\n        if(filePath!= null) {\r\n            System.out.println(&quot;FilePath is- &quot;+filePath);\r\n            Media media= new Media(filePath);\r\n            mpVideo= new MediaPlayer(media);\r\n            mvVideo.setMediaPlayer(mpVideo);\r\n\r\n            mpVideo.play();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n    }\r\n}\r\n```\r\n","title":"Could not create player! javafx","body":"<p>I'm trying to make a simple video player using JavaFX. I'm using IntelliJ that has Maven with all plugins. I'm running on Corretto SDK 18.0.2.</p>\n<p>But when I build it and choose the file I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.sun.media.jfxmedia.MediaException: Could not create player!\n</code></pre>\n<p>I'm on Windows.</p>\n<pre><code>Apr 08, 2023 2:37:26 PM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 18.0.2\nFilePath is- file:D:\\Java\\NetflixProject\\src\\main\\java\\Test\\VideoTest.mp4\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18.0.2/javafx.scene.Node.fireEvent(Node.java:8797)\n    at javafx.controls@18.0.2/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@18.0.2/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls@18.0.2/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18.0.2/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\n    at javafx.graphics@18.0.2/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\n    at javafx.graphics@18.0.2/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at javafx.base@18.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media@19/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:147)\n    at javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:519)\n    at javafx.media@19/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:422)\n    at com.example.netflixproject/Controllers.VideoPlayerController.handleButtonAction(VideoPlayerController.java:61)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:297)\n    at javafx.media@19/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\n    at javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:475)\n    ... 56 more\n</code></pre>\n<p>I made a file chooser and the GUI opens so after I choose the file the error appears and nothing displays in my media view:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Controllers;\n\nimport DAO.EpisodeDAO2;\nimport Utils.DataHolder;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Slider;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.stage.FileChooser;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class VideoPlayerController implements Initializable {\n    public MediaView mvVideo;\n    @FXML\n    public MediaPlayer mpVideo;\n    @FXML\n    public Media mediaVideo;\n    public Slider SliderTime;\n    public Button ButtonPPR;\n    public HBox HboxVolume;\n    public Label LabelVolume;\n    public Slider SliderVolume;\n    public Label LabelCurrentTime;\n    public Label LabelTotalTime;\n    public Label LabelSpeed;\n    public Label LabelFullScreen;\n\n    private boolean atEndOfVideo = false;\n    private boolean isPalying = false;\n    private boolean isMuted = false;\n\n    private ImageView ivPlay;\n    private ImageView ivPause;\n    private ImageView ivRestart;\n    private ImageView ivVolume;\n    private ImageView ivMute;\n    private ImageView ivFullScreen;\n    @FXML\n    public void handleButtonAction() throws Exception{\n        FileChooser fc= new FileChooser();\n        FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\n        fc.getExtensionFilters().add(extensionFilter);\n\n        File file= fc.showOpenDialog(null);\n        String filePath = file.toURI().toString();\n\n        if(filePath!= null) {\n            System.out.println(&quot;FilePath is- &quot;+filePath);\n            Media media= new Media(filePath);\n            mpVideo= new MediaPlayer(media);\n            mvVideo.setMediaPlayer(mpVideo);\n\n            mpVideo.play();\n        }\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","csv","opencsv"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1563173844,"post_id":57034570,"comment_id":100597597,"body_markdown":"have you tried with `opencsv`?","body":"have you tried with <code>opencsv</code>?"},{"owner":{"account_id":3664347,"reputation":724,"user_id":3053257,"accept_rate":60,"display_name":"Gal Sosin"},"score":0,"creation_date":1563173929,"post_id":57034570,"comment_id":100597629,"body_markdown":"I did, but I didn&#39;t see an option that handles unknown columns","body":"I did, but I didn&#39;t see an option that handles unknown columns"}],"answers":[{"tags":[],"owner":{"account_id":1461177,"reputation":2976,"user_id":1375470,"accept_rate":75,"display_name":"Timekiller"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1563193457,"creation_date":1563193457,"answer_id":57039727,"question_id":57034570,"body_markdown":"OpenCSV allows you to do something similar to this using `@CsvBindAndJoinByName` annotation. Taken from [the docs][1]:\r\n\r\n    public class Demonstration {\r\n\r\n       @CsvBindByName(column = &quot;index&quot;)\r\n       private String index;\r\n\r\n       @CsvBindAndJoinByName(column = &quot;.*&quot;, elementType = String.class)\r\n       private MultiValuedMap&lt;String, String&gt; theRest;\r\n    \r\n       // Getters and setters go here\r\n    }\r\n\r\nThe same docs mention a caveat: you have to be careful not to have overlapping patterns if you have multiple `@CsvBindAndJoinByName`, otherwise the result is undefined.\r\n\r\n  [1]: http://opencsv.sourceforge.net/#reading_into_beans","title":"Read CSV files with known and unknown columns in java","body":"<p>OpenCSV allows you to do something similar to this using <code>@CsvBindAndJoinByName</code> annotation. Taken from <a href=\"http://opencsv.sourceforge.net/#reading_into_beans\" rel=\"noreferrer\">the docs</a>:</p>\n\n<pre><code>public class Demonstration {\n\n   @CsvBindByName(column = \"index\")\n   private String index;\n\n   @CsvBindAndJoinByName(column = \".*\", elementType = String.class)\n   private MultiValuedMap&lt;String, String&gt; theRest;\n\n   // Getters and setters go here\n}\n</code></pre>\n\n<p>The same docs mention a caveat: you have to be careful not to have overlapping patterns if you have multiple <code>@CsvBindAndJoinByName</code>, otherwise the result is undefined.</p>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680886194,"creation_date":1617968674,"answer_id":67020501,"question_id":57034570,"body_markdown":"Had the same situation, wanted to access the unknown column from a CSV file. Here is the solution\r\n\r\n    public class CSVFileDTO \r\n    {\r\n        @CsvBindByName\r\n        private String name;\r\n\r\n        @CsvBindAndJoinByName(column = &quot;.*&quot;, elementType = String.class)\r\n        private MultiValuedMap&lt;String, String&gt; theRest;\r\n    }\r\n\r\n\r\nWay to access theRest column\r\n\r\n        CSVReader csvReader = new CSVReader(Files.newBufferedReader(Paths.get(&quot;/tmp/data.csv&quot;)));\r\n\t    List&lt;CSVFileDTO&gt; resultData = new CsvToBeanBuilder(csvReader)\r\n                .withType(CSVFileDTO.class)\r\n                .build()\r\n                .parse();\r\n\r\n\t    MultiValuedMap&lt;String, String&gt; multivaluedMap = resultData.get(0).getTheRest();\r\n\t    for(Map.Entry&lt;String, String&gt; ent : multivaluedMap.entries())\r\n\t    {\r\n\t\t    System.out.println( ent.getKey() + &quot; : &quot; + ent.getValue() );\r\n\t    }\r\n","title":"Read CSV files with known and unknown columns in java","body":"<p>Had the same situation, wanted to access the unknown column from a CSV file. Here is the solution</p>\n<pre><code>public class CSVFileDTO \n{\n    @CsvBindByName\n    private String name;\n\n    @CsvBindAndJoinByName(column = &quot;.*&quot;, elementType = String.class)\n    private MultiValuedMap&lt;String, String&gt; theRest;\n}\n</code></pre>\n<p>Way to access theRest column</p>\n<pre><code>    CSVReader csvReader = new CSVReader(Files.newBufferedReader(Paths.get(&quot;/tmp/data.csv&quot;)));\n    List&lt;CSVFileDTO&gt; resultData = new CsvToBeanBuilder(csvReader)\n            .withType(CSVFileDTO.class)\n            .build()\n            .parse();\n\n    MultiValuedMap&lt;String, String&gt; multivaluedMap = resultData.get(0).getTheRest();\n    for(Map.Entry&lt;String, String&gt; ent : multivaluedMap.entries())\n    {\n        System.out.println( ent.getKey() + &quot; : &quot; + ent.getValue() );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617969086,"creation_date":1617969086,"answer_id":67020608,"question_id":57034570,"body_markdown":"Check feature 9 of this https://github.com/ozlerhakan/poiji API for reading excel files. \r\n\r\n    public class MusicTrack {\r\n\r\n    @ExcelCellName(&quot;ID&quot;)\r\n    private String employeeId;\r\n\r\n    @ExcelCellName(&quot;AUTHOR&quot;)\r\n    private String author;\r\n\r\n    @ExcelCellName(&quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @ExcelUnknownCells\r\n    private Map&lt;String, String&gt; unknownCells;}","title":"Read CSV files with known and unknown columns in java","body":"<p>Check feature 9 of this <a href=\"https://github.com/ozlerhakan/poiji\" rel=\"nofollow noreferrer\">https://github.com/ozlerhakan/poiji</a> API for reading excel files.</p>\n<pre><code>public class MusicTrack {\n\n@ExcelCellName(&quot;ID&quot;)\nprivate String employeeId;\n\n@ExcelCellName(&quot;AUTHOR&quot;)\nprivate String author;\n\n@ExcelCellName(&quot;NAME&quot;)\nprivate String name;\n\n@ExcelUnknownCells\nprivate Map&lt;String, String&gt; unknownCells;}\n</code></pre>\n"}],"owner":{"account_id":3664347,"reputation":724,"user_id":3053257,"accept_rate":60,"display_name":"Gal Sosin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2729,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57039727,"answer_count":3,"score":3,"last_activity_date":1680963021,"creation_date":1563173614,"question_id":57034570,"body_markdown":"I&#39;m wondering if there is a way to read csv files with known and unknown columns. \r\n\r\nFor example, the column in the first csv file is:\r\n**id, firstname, lastname, city, country** the unknown columns are city and country\r\n\r\nthe second csv file is:\r\n\r\n**id, firstname, lastname, phone number** the unknown column is phone number\r\n\r\nThe Object that I want to parse into is:\r\n\r\n    public class Person {\r\n    \r\n        Long id;\r\n        String firstname;\r\n        String lastname;\r\n    \r\n        Map&lt;String,String&gt; additionalInfo;\r\n    \r\n    }\r\n\r\n\r\nThe additionalInfo map will contain as keys the &#39;unknown&#39; columns and the values will be the row value in that column. \r\n\r\nAny ideas? \r\n\r\nThanks.","title":"Read CSV files with known and unknown columns in java","body":"<p>I'm wondering if there is a way to read csv files with known and unknown columns.</p>\n<p>For example, the column in the first csv file is:\n<strong>id, firstname, lastname, city, country</strong> the unknown columns are city and country</p>\n<p>the second csv file is:</p>\n<p><strong>id, firstname, lastname, phone number</strong> the unknown column is phone number</p>\n<p>The Object that I want to parse into is:</p>\n<pre><code>public class Person {\n\n    Long id;\n    String firstname;\n    String lastname;\n\n    Map&lt;String,String&gt; additionalInfo;\n\n}\n</code></pre>\n<p>The additionalInfo map will contain as keys the 'unknown' columns and the values will be the row value in that column.</p>\n<p>Any ideas?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-data-redis-reactive"],"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680962737,"creation_date":1680962737,"question_id":75965683,"body_markdown":"I&#39;ve seen [previous unanswered questions](https://stackoverflow.com/q/74485008/15768984) and I still don&#39;t know whether it&#39;s possible. Spring Data Redis (non-reactive) has `executePipelined` but is there a reactive equivalent? Specifically, are `executeInSession` or just `execute` capable of pipelining commands?","title":"Is Spring Data Redis Reactive capable of pipelining","body":"<p>I've seen <a href=\"https://stackoverflow.com/q/74485008/15768984\">previous unanswered questions</a> and I still don't know whether it's possible. Spring Data Redis (non-reactive) has <code>executePipelined</code> but is there a reactive equivalent? Specifically, are <code>executeInSession</code> or just <code>execute</code> capable of pipelining commands?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver"],"owner":{"account_id":805239,"reputation":438,"user_id":898083,"accept_rate":22,"display_name":"ysnky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680962485,"creation_date":1680872713,"question_id":75958696,"body_markdown":"I am using Selenium with Chrome driver to collect data from the web. I have developed a Java application that uses selenium to achieve that. It works fine but after a while (It changes, an hour, a day, a few days, a few weeks, etc.) It gives that exception shown below and stops parsing data. In my application I never call driver.quit() or driver.close(), it is always active and listens to a queue, and if there is any new data start processing.\r\n\r\nWhy am I getting this exception, what am I doing wrong? Also, I am sharing the Chrome driver startup configuration below.\r\n\r\nThanks.\r\n\r\n\r\n\r\nlaunch code snippet\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, driverPathChrome);\r\n\tSystem.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\r\n\tSystem.setProperty(ChromeDriverService.CHROME_DRIVER_LOG_PROPERTY, &quot;/dev/null&quot;);\r\n\t\r\n\tChromeOptions options = new ChromeOptions();\r\n\r\n\toptions.addArguments(&quot;disable-blink-features=AutomationControlled&quot;);\r\n\toptions.addArguments(\r\n\t\t\t&quot;user-agent=Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.29 Safari/537.36&quot;);\r\n\r\n\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\toptions.addArguments(&quot;--headless&quot;);\r\n\t\r\n\r\n\tif (!StringUtils.isEmpty(driverChromeOptions)) {\r\n\t\tString optionsArray[] = driverChromeOptions.split(&quot;&amp;&quot;);\r\n\t\toptions.addArguments(optionsArray);\r\n\t}\r\n\r\n\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\tprefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n\twebDriver = new ChromeDriver(options);\r\n\twebDriver.manage().window().maximize();\r\n\twebDriver.manage().timeouts().pageLoadTimeout(90, TimeUnit.SECONDS);\r\n\r\n\r\nchrome driver configuration params:\r\n\r\n*driver.chrome.options=--disable-extensions&amp;--disable-gpu&amp;--no-first-run&amp;--no-default-browser-check&amp;--ignore-certificate-errors&amp;--window-size=1920,1080&amp;--disable-dev-shm-usage&amp;--disable-infobars*\r\n\r\n\r\n\r\n\r\n\r\nexception taken after a while (sometimes after an hour, sometimes after a day, sometimes after two or tree weeks):\r\n\r\n*org.openqa.selenium.NoSuchSessionException: invalid session id\r\nBuild info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\nSystem info: host: &#39;xxx.host.secureserver.net&#39;, ip: &#39;xxxx&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;3.10.0-1160.76.1.el7.x86_64&#39;, java.version: &#39;1.8.0_342&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 105.0.5195.125, chrome: {chromedriverVersion: 105.0.5195.52 (412c95e51883..., userDataDir: /tmp/.com.google.Chrome.MSRzur}, goog:chromeOptions: {debuggerAddress: localhost:46595}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 7c1194aaa8290c084d2b8534655de1e2\r\n\tat sun.reflect.GeneratedConstructorAccessor85.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:277)*","title":"org.openqa.selenium.NoSuchSessionException: invalid session id","body":"<p>I am using Selenium with Chrome driver to collect data from the web. I have developed a Java application that uses selenium to achieve that. It works fine but after a while (It changes, an hour, a day, a few days, a few weeks, etc.) It gives that exception shown below and stops parsing data. In my application I never call driver.quit() or driver.close(), it is always active and listens to a queue, and if there is any new data start processing.</p>\n<p>Why am I getting this exception, what am I doing wrong? Also, I am sharing the Chrome driver startup configuration below.</p>\n<p>Thanks.</p>\n<p>launch code snippet</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, driverPathChrome);\nSystem.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\nSystem.setProperty(ChromeDriverService.CHROME_DRIVER_LOG_PROPERTY, &quot;/dev/null&quot;);\n\nChromeOptions options = new ChromeOptions();\n\noptions.addArguments(&quot;disable-blink-features=AutomationControlled&quot;);\noptions.addArguments(\n        &quot;user-agent=Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.29 Safari/537.36&quot;);\n\noptions.addArguments(&quot;--no-sandbox&quot;);\noptions.addArguments(&quot;--headless&quot;);\n\n\nif (!StringUtils.isEmpty(driverChromeOptions)) {\n    String optionsArray[] = driverChromeOptions.split(&quot;&amp;&quot;);\n    options.addArguments(optionsArray);\n}\n\nMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n\nwebDriver = new ChromeDriver(options);\nwebDriver.manage().window().maximize();\nwebDriver.manage().timeouts().pageLoadTimeout(90, TimeUnit.SECONDS);\n</code></pre>\n<p>chrome driver configuration params:</p>\n<p><em>driver.chrome.options=--disable-extensions&amp;--disable-gpu&amp;--no-first-run&amp;--no-default-browser-check&amp;--ignore-certificate-errors&amp;--window-size=1920,1080&amp;--disable-dev-shm-usage&amp;--disable-infobars</em></p>\n<p>exception taken after a while (sometimes after an hour, sometimes after a day, sometimes after two or tree weeks):</p>\n<p><em>org.openqa.selenium.NoSuchSessionException: invalid session id\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'xxx.host.secureserver.net', ip: 'xxxx', os.name: 'Linux', os.arch: 'amd64', os.version: '3.10.0-1160.76.1.el7.x86_64', java.version: '1.8.0_342'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 105.0.5195.125, chrome: {chromedriverVersion: 105.0.5195.52 (412c95e51883..., userDataDir: /tmp/.com.google.Chrome.MSRzur}, goog:chromeOptions: {debuggerAddress: localhost:46595}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 7c1194aaa8290c084d2b8534655de1e2\nat sun.reflect.GeneratedConstructorAccessor85.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:277)</em></p>\n"},{"tags":["java","automation","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680969293,"post_id":75965284,"comment_id":133985489,"body_markdown":"If you know the position, then render the page and find out the color.","body":"If you know the position, then render the page and find out the color."},{"owner":{"account_id":25730124,"reputation":1,"user_id":19485832,"display_name":"Kiran"},"score":0,"creation_date":1681134294,"post_id":75965284,"comment_id":134003624,"body_markdown":"@TilmanHausherr Thanks for the suggestion.I tried rendering the pdf page to an image and then got a subimage from that by passing coordinates of the highlighted region. Then using getRGB function was able to validate the color of the highlighted region.","body":"@TilmanHausherr Thanks for the suggestion.I tried rendering the pdf page to an image and then got a subimage from that by passing coordinates of the highlighted region. Then using getRGB function was able to validate the color of the highlighted region."}],"owner":{"account_id":25730124,"reputation":1,"user_id":19485832,"display_name":"Kiran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680962210,"creation_date":1680957961,"question_id":75965284,"body_markdown":"As part of the api response I am getting returned certain pdf documents which are flattened and read only.\r\n\r\nI need to validate if certain sections in the pdf which contain signature are highlighted in yellow or not. Problem I am facing is I tried several ways to get the yellow region extracted for validation but it doesn&#39;t work.\r\n\r\nI tried using PDAnnotation but it doesn&#39;t work. it doesn&#39;t return any annotation. Also tried PDFTextStripper for checking using pattern for yellow color in extracted text, doesn&#39;t work. Tried using Tesseract class but it requires additional language data files which I may not be able to use.","title":"PDFBox- extract section from flattened PDF with yellow background","body":"<p>As part of the api response I am getting returned certain pdf documents which are flattened and read only.</p>\n<p>I need to validate if certain sections in the pdf which contain signature are highlighted in yellow or not. Problem I am facing is I tried several ways to get the yellow region extracted for validation but it doesn't work.</p>\n<p>I tried using PDAnnotation but it doesn't work. it doesn't return any annotation. Also tried PDFTextStripper for checking using pattern for yellow color in extracted text, doesn't work. Tried using Tesseract class but it requires additional language data files which I may not be able to use.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":14839195,"reputation":141,"user_id":10716398,"display_name":"Banjit Das"},"score":1,"creation_date":1544339327,"post_id":53690136,"comment_id":94236465,"body_markdown":"Now it is working after adding the dependencies &lt;dependency&gt;\n  &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n  &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;","body":"Now it is working after adding the dependencies &lt;dependency&gt;   &lt;groupId&gt;javax.annotation&lt;/groupId&gt;   &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;   &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":9880152,"reputation":915,"user_id":7316521,"display_name":"A_C"},"score":1,"creation_date":1544339329,"post_id":53690136,"comment_id":94236466,"body_markdown":"If you are getting this in eclipse, refer this https://stackoverflow.com/questions/51630397/import-javax-annotation-cannot-be-resolved-in-eclipses-java-10-compiler/51630783","body":"If you are getting this in eclipse, refer this <a href=\"https://stackoverflow.com/questions/51630397/import-javax-annotation-cannot-be-resolved-in-eclipses-java-10-compiler/51630783\" title=\"import javax annotation cannot be resolved in eclipses java 10 compiler\">stackoverflow.com/questions/51630397/&hellip;</a>"},{"owner":{"display_name":"user10713028"},"score":0,"creation_date":1544339398,"post_id":53690136,"comment_id":94236473,"body_markdown":"clean and build or you need to be aware if you have the dependency in your pom.","body":"clean and build or you need to be aware if you have the dependency in your pom."}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1544339671,"creation_date":1544339369,"answer_id":53690179,"question_id":53690136,"body_markdown":"If you are using spring-boot and below dependency then it should add `javax.annotation` automatically from parent starter.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor non spring boot starter data jpa add below dependency in pom.xml \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"The import javax.annotation.PostConstruct cannot be resolved","body":"<p>If you are using spring-boot and below dependency then it should add <code>javax.annotation</code> automatically from parent starter.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For non spring boot starter data jpa add below dependency in pom.xml </p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n  &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14839195,"reputation":141,"user_id":10716398,"display_name":"Banjit Das"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60437,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"closed_date":1544347330,"answer_count":1,"score":14,"last_activity_date":1680962078,"creation_date":1544338969,"question_id":53690136,"body_markdown":"When i import the following packages:\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n\r\nI got the following result: \r\n\r\n    The import javax.annotation.PostConstruct cannot be resolved","title":"The import javax.annotation.PostConstruct cannot be resolved","body":"<p>When i import the following packages:</p>\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\n</code></pre>\n<p>I got the following result:</p>\n<pre><code>The import javax.annotation.PostConstruct cannot be resolved\n</code></pre>\n"},{"tags":["java","overriding","finalize"],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680960529,"creation_date":1680960529,"answer_id":75965499,"question_id":75965419,"body_markdown":"Apart from the fact the finalization has been [deprecated](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()), how do you infer the superclass&#39; `finalize` is called? You are true that subclass method overrides superclass method and it actually happens in your case - only subclass&#39; `finalize` is invoked. To invoke superclass&#39; `finalize` you should invoke `super.finalize()` but it wouldn&#39;t have any effect anyway since default `java.lang.Object` implementation is empty.","title":"Why is subclass&#39;s finalize method, which overrides java.lang.Object&#39;s finalize method, called?","body":"<p>Apart from the fact the finalization has been <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()\" rel=\"nofollow noreferrer\">deprecated</a>, how do you infer the superclass' <code>finalize</code> is called? You are true that subclass method overrides superclass method and it actually happens in your case - only subclass' <code>finalize</code> is invoked. To invoke superclass' <code>finalize</code> you should invoke <code>super.finalize()</code> but it wouldn't have any effect anyway since default <code>java.lang.Object</code> implementation is empty.</p>\n"}],"owner":{"account_id":25992234,"reputation":25,"user_id":19704182,"display_name":"Leong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75965499,"answer_count":1,"score":0,"last_activity_date":1680961991,"creation_date":1680959543,"question_id":75965419,"body_markdown":"Here is the code block\r\n```\r\npublic class Person {\r\n\r\n    int age;\r\n    String name;\r\n\r\n    //\r\n    @Override\r\n    public void finalize() throws Throwable{\r\n        System.out.println(&quot;Garbage collected ---&gt;&quot; + this);\r\n    }\r\n}\r\n\r\nclass test{\r\n\r\n    public static void main(String[] args)  {\r\n        Person p = new Person();\r\n        System.out.println(p.getClass());\r\n\r\n        p = null;\r\n        System.gc();\r\n\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nSystem.gc() called finalize() method, but the Object&#39;s finalize() should be called, why are the subclass&#39;s and the superclass&#39;s both called? \r\nThx for your answer!\r\n\r\nI guess when superclass&#39;s method and subclass&#39;s homonymous method are both called, and the instance is of subclass, the priority of subclass&#39;s method is higher than superclass&#39;s?","title":"Why is subclass&#39;s finalize method, which overrides java.lang.Object&#39;s finalize method, called?","body":"<p>Here is the code block</p>\n<pre><code>public class Person {\n\n    int age;\n    String name;\n\n    //\n    @Override\n    public void finalize() throws Throwable{\n        System.out.println(&quot;Garbage collected ---&gt;&quot; + this);\n    }\n}\n\nclass test{\n\n    public static void main(String[] args)  {\n        Person p = new Person();\n        System.out.println(p.getClass());\n\n        p = null;\n        System.gc();\n\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>System.gc() called finalize() method, but the Object's finalize() should be called, why are the subclass's and the superclass's both called?\nThx for your answer!</p>\n<p>I guess when superclass's method and subclass's homonymous method are both called, and the instance is of subclass, the priority of subclass's method is higher than superclass's?</p>\n"},{"tags":["java","string","sorting"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":262,"is_accepted":false,"score":261,"last_activity_date":1236090387,"creation_date":1236076652,"answer_id":605901,"question_id":605891,"body_markdown":"`toCharArray` followed by `Arrays.sort` followed by a String constructor call:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            String original = &quot;edcba&quot;;\r\n            char[] chars = original.toCharArray();\r\n            Arrays.sort(chars);\r\n            String sorted = new String(chars);\r\n            System.out.println(sorted);\r\n        }\r\n    }\r\n\r\nEDIT: As tackline points out, this will fail if the string contains surrogate pairs or indeed composite characters (accent + e as separate chars) etc. At that point it gets a lot harder... hopefully you don&#39;t need this :) In addition, this is just ordering by ordinal, without taking capitalisation, accents or anything else into account.","title":"Sort a single String in Java","body":"<p><code>toCharArray</code> followed by <code>Arrays.sort</code> followed by a String constructor call:</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class Test\n{\n    public static void main(String[] args)\n    {\n        String original = \"edcba\";\n        char[] chars = original.toCharArray();\n        Arrays.sort(chars);\n        String sorted = new String(chars);\n        System.out.println(sorted);\n    }\n}\n</code></pre>\n\n<p>EDIT: As tackline points out, this will fail if the string contains surrogate pairs or indeed composite characters (accent + e as separate chars) etc. At that point it gets a lot harder... hopefully you don't need this :) In addition, this is just ordering by ordinal, without taking capitalisation, accents or anything else into account.</p>\n"},{"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1427505040,"creation_date":1236076663,"answer_id":605902,"question_id":605891,"body_markdown":"No there is no built-in String method. You can convert it to a char array, sort it using Arrays.sort and convert that back into a String.\r\n\r\n\tString test= &quot;edcba&quot;;\r\n\tchar[] ar = test.toCharArray();\r\n\tArrays.sort(ar);\r\n\tString sorted = String.valueOf(ar);\r\n\r\nOr, when you want to deal correctly with locale-specific stuff like uppercase and accented characters:\r\n\r\n    import java.text.Collator;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.Locale;\r\n    \r\n    public class Test\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        Collator collator = Collator.getInstance(new Locale(&quot;fr&quot;, &quot;FR&quot;));\r\n        String original = &quot;&#233;DedCBcbA&#224;a&quot;;\r\n        String[] split = original.split(&quot;&quot;);\r\n        Arrays.sort(split, collator);\r\n        String sorted = &quot;&quot;;\r\n        for (int i = 0; i &lt; split.length; i++)\r\n        {\r\n          sorted += split[i];\r\n        }\r\n        System.out.println(sorted); // &quot;aA&#224;bBcCdDe&#233;&quot;\r\n      }\r\n    }\r\n\r\n","title":"Sort a single String in Java","body":"<p>No there is no built-in String method. You can convert it to a char array, sort it using Arrays.sort and convert that back into a String.</p>\n\n<pre><code>String test= \"edcba\";\nchar[] ar = test.toCharArray();\nArrays.sort(ar);\nString sorted = String.valueOf(ar);\n</code></pre>\n\n<p>Or, when you want to deal correctly with locale-specific stuff like uppercase and accented characters:</p>\n\n<pre><code>import java.text.Collator;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Locale;\n\npublic class Test\n{\n  public static void main(String[] args)\n  {\n    Collator collator = Collator.getInstance(new Locale(\"fr\", \"FR\"));\n    String original = \"éDedCBcbAàa\";\n    String[] split = original.split(\"\");\n    Arrays.sort(split, collator);\n    String sorted = \"\";\n    for (int i = 0; i &lt; split.length; i++)\n    {\n      sorted += split[i];\n    }\n    System.out.println(sorted); // \"aAàbBcCdDeé\"\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24475,"reputation":10672,"user_id":62237,"accept_rate":55,"display_name":"amit"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1236077011,"creation_date":1236077011,"answer_id":605912,"question_id":605891,"body_markdown":"        String a =&quot;dgfa&quot;;\r\n        char [] c = a.toCharArray();\r\n        Arrays.sort(c);\r\n        return new String(c);\r\n\r\nNote that this will not work as expected if it is a mixed case String (It&#39;ll put uppercase before lowercase). You can pass a comparator to the Sort method to change that.\r\n","title":"Sort a single String in Java","body":"<pre><code>    String a =\"dgfa\";\n    char [] c = a.toCharArray();\n    Arrays.sort(c);\n    return new String(c);\n</code></pre>\n\n<p>Note that this will not work as expected if it is a mixed case String (It'll put uppercase before lowercase). You can pass a comparator to the Sort method to change that.</p>\n"},{"tags":[],"owner":{"account_id":1259793,"reputation":1572,"user_id":1218430,"accept_rate":83,"display_name":"agaase"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1361005194,"creation_date":1361005194,"answer_id":14908649,"question_id":605891,"body_markdown":"A more raw approach without using sort Arrays.sort method.\r\nThis is using insertion sort.\r\n\r\n    public static void main(String[] args){\r\n\t\tString wordSt=&quot;watch&quot;;\r\n\t\tchar[] word=wordSt.toCharArray();\r\n\t\t\r\n\t\tfor(int i=0;i&lt;(word.length-1);i++){\r\n\t\t\tfor(int j=i+1;j&gt;0;j--){\r\n\t\t\t\tif(word[j]&lt;word[j-1]){\r\n\t\t\t\t\tchar temp=word[j-1];\r\n\t\t\t\t\tword[j-1]=word[j];\r\n\t\t\t\t\tword[j]=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\twordSt=String.valueOf(word);\r\n\t\tSystem.out.println(wordSt);\r\n\t}","title":"Sort a single String in Java","body":"<p>A more raw approach without using sort Arrays.sort method.\nThis is using insertion sort.</p>\n\n<pre><code>public static void main(String[] args){\n    String wordSt=\"watch\";\n    char[] word=wordSt.toCharArray();\n\n    for(int i=0;i&lt;(word.length-1);i++){\n        for(int j=i+1;j&gt;0;j--){\n            if(word[j]&lt;word[j-1]){\n                char temp=word[j-1];\n                word[j-1]=word[j];\n                word[j]=temp;\n            }\n        }\n    }\n    wordSt=String.valueOf(word);\n    System.out.println(wordSt);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1523866500,"creation_date":1361005968,"answer_id":14908716,"question_id":605891,"body_markdown":"[Convert to array of chars][1] → [Sort][2] → [Convert back to String][3]:\r\n\r\n    String s = &quot;edcba&quot;;\r\n    char[] c = s.toCharArray();        // convert to array of chars \r\n    java.util.Arrays.sort(c);          // sort\r\n    String newString = new String(c);  // convert back to String\r\n    System.out.println(newString);     // &quot;abcde&quot;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#toCharArray%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28char%5B%5D%29\r\n  [3]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#String%28char%5B%5D%29","title":"Sort a single String in Java","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#toCharArray%28%29\" rel=\"noreferrer\">Convert to array of chars</a> → <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#sort%28char%5B%5D%29\" rel=\"noreferrer\">Sort</a> → <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#String%28char%5B%5D%29\" rel=\"noreferrer\">Convert back to String</a>:</p>\n\n<pre><code>String s = \"edcba\";\nchar[] c = s.toCharArray();        // convert to array of chars \njava.util.Arrays.sort(c);          // sort\nString newString = new String(c);  // convert back to String\nSystem.out.println(newString);     // \"abcde\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314537,"reputation":1467,"user_id":629762,"accept_rate":80,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1669924081,"creation_date":1425334783,"answer_id":28820537,"question_id":605891,"body_markdown":"In Java 8 it can be done with:\r\n\r\n    String s = &quot;edcba&quot;.chars()\r\n        .sorted()\r\n        .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n        .toString();\r\n\r\nA slightly shorter alternative that works with a Stream of Strings of length one (each character in the unsorted String is converted into a String in the Stream) is:\r\n\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    String sorted =\r\n        Stream.of(&quot;edcba&quot;.split(&quot;&quot;))\r\n            .sorted()\r\n            .collect(Collectors.joining());\r\n\r\n","title":"Sort a single String in Java","body":"<p>In Java 8 it can be done with:</p>\n<pre><code>String s = &quot;edcba&quot;.chars()\n    .sorted()\n    .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n    .toString();\n</code></pre>\n<p>A slightly shorter alternative that works with a Stream of Strings of length one (each character in the unsorted String is converted into a String in the Stream) is:</p>\n<pre><code>import java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nString sorted =\n    Stream.of(&quot;edcba&quot;.split(&quot;&quot;))\n        .sorted()\n        .collect(Collectors.joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1490707601,"creation_date":1490707601,"answer_id":43070910,"question_id":605891,"body_markdown":" Procedure :\r\n\r\n1. At first convert the string to char array\r\n2. Then sort the array of character\r\n3. Convert the character array to string \r\n4. Print the string \r\n\r\n\r\nCode snippet:\r\n\r\n        String input = &quot;world&quot;;\r\n        char[] arr = input.toCharArray();\r\n        Arrays.sort(arr);\r\n        String sorted = new String(arr);\r\n        System.out.println(sorted);\r\n","title":"Sort a single String in Java","body":"<p>Procedure :</p>\n\n<ol>\n<li>At first convert the string to char array</li>\n<li>Then sort the array of character</li>\n<li>Convert the character array to string </li>\n<li>Print the string </li>\n</ol>\n\n<p>Code snippet:</p>\n\n<pre><code>    String input = \"world\";\n    char[] arr = input.toCharArray();\n    Arrays.sort(arr);\n    String sorted = new String(arr);\n    System.out.println(sorted);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11304561,"reputation":11,"user_id":8289562,"display_name":"Tarun Jadhav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499779576,"creation_date":1499776220,"answer_id":45034721,"question_id":605891,"body_markdown":"\r\n    public static void main(String[] args) {\r\n    \tString str = &quot;helloword&quot;;\t\r\n        char[] arr;\r\n\t\tList&lt;Character&gt; l = new ArrayList&lt;Character&gt;();\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tarr = str.toCharArray();\r\n\t\t\tl.add(arr[i]);\r\n\r\n\t\t}\r\n\t\tCollections.sort(l);\r\n\t\tstr = l.toString();\r\n\t\tSystem.out.println(str);\r\n\t    str = str.replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;)\r\n\t\t\t\t.replaceAll(&quot;[,]&quot;, &quot;&quot;);\r\n\t\tSystem.out.println(str);\r\n\r\n\t}\r\n","title":"Sort a single String in Java","body":"<pre><code>public static void main(String[] args) {\n    String str = \"helloword\";   \n    char[] arr;\n    List&lt;Character&gt; l = new ArrayList&lt;Character&gt;();\n    for (int i = 0; i &lt; str.length(); i++) {\n        arr = str.toCharArray();\n        l.add(arr[i]);\n\n    }\n    Collections.sort(l);\n    str = l.toString();\n    System.out.println(str);\n    str = str.replaceAll(\"\\\\[\", \"\").replaceAll(\"\\\\]\", \"\")\n            .replaceAll(\"[,]\", \"\");\n    System.out.println(str);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10968796,"reputation":1,"user_id":8059753,"display_name":"naveen prasanna"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1511873218,"creation_date":1511869816,"answer_id":47530879,"question_id":605891,"body_markdown":"Without using Collections in Java:\n\n    import java.util.Scanner;\n    \n    public class SortingaString {\n        public static String Sort(String s1)\n        {\n            char ch[]=s1.toCharArray();         \n            String res=&quot; &quot;;\n            \n            for(int i=0; i&lt;ch.length ; i++)\n            {\n                for(int j=i+1;j&lt;ch.length; j++)\n                {\n                    if(ch[i]&gt;=ch[j])\n                    {\n                        char m=ch[i];\n                        ch[i]=ch[j];\n                        ch[j]=m;\n                    }\n                }\n                \n                res=res+ch[i];\n                \n            }\n\n            return res;\n        }\n    \n        public static void main(String[] args) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(&quot;enter the string&quot;);\n            \n            String s1=sc.next();\n            String ans=Sort( s1);\n            \n            System.out.println(&quot;after sorting==&quot;+ans);\n        }\n    }\n\n\n\nOutput:\n\n&gt; enter the string==\n&gt;\n&gt; sorting\n&gt;\n&gt; after sorting== ginorst\n","title":"Sort a single String in Java","body":"<p>Without using Collections in Java:</p>\n<pre><code>import java.util.Scanner;\n\npublic class SortingaString {\n    public static String Sort(String s1)\n    {\n        char ch[]=s1.toCharArray();         \n        String res=&quot; &quot;;\n        \n        for(int i=0; i&lt;ch.length ; i++)\n        {\n            for(int j=i+1;j&lt;ch.length; j++)\n            {\n                if(ch[i]&gt;=ch[j])\n                {\n                    char m=ch[i];\n                    ch[i]=ch[j];\n                    ch[j]=m;\n                }\n            }\n            \n            res=res+ch[i];\n            \n        }\n\n        return res;\n    }\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;enter the string&quot;);\n        \n        String s1=sc.next();\n        String ans=Sort( s1);\n        \n        System.out.println(&quot;after sorting==&quot;+ans);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>enter the string==</p>\n<p>sorting</p>\n<p>after sorting== ginorst</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552906028,"creation_date":1552906028,"answer_id":55219554,"question_id":605891,"body_markdown":"Question: sort a string in java\r\n\r\n\r\n    public class SortAStringInJava {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString str = &quot;Protijayi&quot;;\r\n    // Method 1\r\n    \t\tstr = str.chars() // IntStream\r\n    \t\t\t\t.sorted().collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\r\n    \r\n    \t\tSystem.out.println(str);\r\n    \t\t// Method 2\r\n    \t\tstr = Stream.of(str.split(&quot; &quot;)).sorted().collect(Collectors.joining());\r\n    \t\tSystem.out.println(str);\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Sort a single String in Java","body":"<p>Question: sort a string in java</p>\n\n<pre><code>public class SortAStringInJava {\n    public static void main(String[] args) {\n\n        String str = \"Protijayi\";\n// Method 1\n        str = str.chars() // IntStream\n                .sorted().collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\n\n        System.out.println(str);\n        // Method 2\n        str = Stream.of(str.split(\" \")).sorted().collect(Collectors.joining());\n        System.out.println(str);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10386270,"reputation":1413,"user_id":7659255,"accept_rate":38,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610649279,"creation_date":1610649279,"answer_id":65724970,"question_id":605891,"body_markdown":"    str.chars().boxed().map(Character::toString).sorted().collect(Collectors.joining())\r\n\r\nor\r\n\r\n    s.chars().mapToObj(Character::toString).sorted().collect(Collectors.joining())\r\n\r\nor\r\n\r\n    Arrays.stream(str.split(&quot;&quot;)).sorted().collect(Collectors.joining())","title":"Sort a single String in Java","body":"<pre><code>str.chars().boxed().map(Character::toString).sorted().collect(Collectors.joining())\n</code></pre>\n<p>or</p>\n<pre><code>s.chars().mapToObj(Character::toString).sorted().collect(Collectors.joining())\n</code></pre>\n<p>or</p>\n<pre><code>Arrays.stream(str.split(&quot;&quot;)).sorted().collect(Collectors.joining())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614545157,"creation_date":1614545157,"answer_id":66413677,"question_id":605891,"body_markdown":"A solution that uses the Stream API and also handles Unicode supplementary characters:\r\n\r\n```java\r\npublic static String sort(final String s) {\r\n\treturn s.codePoints()\r\n\t\t\t.sorted()\r\n\t\t\t.collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n\t\t\t.toString();\r\n}\r\n```","title":"Sort a single String in Java","body":"<p>A solution that uses the Stream API and also handles Unicode supplementary characters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String sort(final String s) {\n    return s.codePoints()\n            .sorted()\n            .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n            .toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9796116,"reputation":11,"user_id":7259111,"display_name":"cron8765"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635091560,"creation_date":1635091560,"answer_id":69698513,"question_id":605891,"body_markdown":"You can also write up a counting sort algorithm to sort all the characters in an array if you would like to reduce your worst-case time complexity from `nlogn` to `n`","title":"Sort a single String in Java","body":"<p>You can also write up a counting sort algorithm to sort all the characters in an array if you would like to reduce your worst-case time complexity from <code>nlogn</code> to <code>n</code></p>\n"},{"tags":[],"owner":{"account_id":379152,"reputation":3080,"user_id":732328,"accept_rate":40,"display_name":"Kayvan Tehrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677587003,"creation_date":1677587003,"answer_id":75592020,"question_id":605891,"body_markdown":"However, the most efficient way is to use `Arrays.sort` as indicated by Jon Skeet, if you insist to use `Java 8 streams`, this could be another solution:\r\n\r\n        String s = &quot;edcba&quot;.chars().\r\n        sorted().\r\n        mapToObj(c-&gt;String.valueOf((char)c)).\r\n        collect(Collectors.joining());\r\n\r\n\r\n","title":"Sort a single String in Java","body":"<p>However, the most efficient way is to use <code>Arrays.sort</code> as indicated by Jon Skeet, if you insist to use <code>Java 8 streams</code>, this could be another solution:</p>\n<pre><code>    String s = &quot;edcba&quot;.chars().\n    sorted().\n    mapToObj(c-&gt;String.valueOf((char)c)).\n    collect(Collectors.joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10137430,"reputation":41,"user_id":7488363,"display_name":"Leela Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680961735,"creation_date":1680961386,"answer_id":75965566,"question_id":605891,"body_markdown":"Helped to convert and get sorted string \r\n\r\n    s = s.chars().boxed().sorted().map(Character::toString).sorted().collect(Collectors.joining())\r\n            .toString();","title":"Sort a single String in Java","body":"<p>Helped to convert and get sorted string</p>\n<pre><code>s = s.chars().boxed().sorted().map(Character::toString).sorted().collect(Collectors.joining())\n        .toString();\n</code></pre>\n"}],"owner":{"display_name":"Markus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375359,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"answer_count":15,"score":173,"last_activity_date":1680961735,"creation_date":1236076449,"question_id":605891,"body_markdown":"Is there a native way to sort a String by its contents in java? E.g. \r\n\r\n    String s = &quot;edcba&quot;  -&gt;  &quot;abcde&quot;\r\n\r\n","title":"Sort a single String in Java","body":"<p>Is there a native way to sort a String by its contents in java? E.g. </p>\n\n<pre><code>String s = \"edcba\"  -&gt;  \"abcde\"\n</code></pre>\n"},{"tags":["java","sleep"],"comments":[{"owner":{"account_id":2139684,"reputation":8710,"user_id":2019549,"accept_rate":62,"display_name":"cambunctious"},"score":2,"creation_date":1547134634,"post_id":9587673,"comment_id":95095411,"body_markdown":"Another option is `Thread.sleep(Duration.ofSeconds(s).toMillis())`","body":"Another option is <code>Thread.sleep(Duration.ofSeconds(s).toMillis())</code>"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1643547671,"post_id":9587673,"comment_id":125364301,"body_markdown":"The proper syntax would be `Thread.sleep(Duration.ofSeconds(3))` if it were permitted.","body":"The proper syntax would be <code>Thread.sleep(Duration.ofSeconds(3))</code> if it were permitted."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":165,"is_accepted":true,"score":165,"last_activity_date":1680960106,"creation_date":1331051083,"answer_id":9587726,"question_id":9587673,"body_markdown":"[`TimeUnit.SECONDS.sleep(x)`][1] will call [`Thread.sleep`][2] after validating that the timeout is positive. This means that as _opposed_ to `Thread.sleep`, an `IllegalArgumentException` will **not** be thrown when the timeout is negative.\r\n\r\nOther than that, the only difference is readability and using [`TimeUnit`][3] is probably easier to understand for non-obvious durations (for example: `Thread.sleep(180000)` vs. `TimeUnit.MINUTES.sleep(3)`). \r\n\r\nFor reference, see below the code of `sleep()` in `TimeUnit`:\r\n\r\n    public void sleep(long timeout) throws InterruptedException {\r\n        if (timeout &gt; 0) {\r\n            long ms = toMillis(timeout);\r\n            int ns = excessNanos(timeout, ms);\r\n            Thread.sleep(ms, ns);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/TimeUnit.html#sleep-long-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/TimeUnit.html","title":"Thread.sleep vs. TimeUnit.SECONDS.sleep","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/TimeUnit.html#sleep-long-\" rel=\"nofollow noreferrer\"><code>TimeUnit.SECONDS.sleep(x)</code></a> will call <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\"><code>Thread.sleep</code></a> after validating that the timeout is positive. This means that as <em>opposed</em> to <code>Thread.sleep</code>, an <code>IllegalArgumentException</code> will <strong>not</strong> be thrown when the timeout is negative.</p>\n<p>Other than that, the only difference is readability and using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"nofollow noreferrer\"><code>TimeUnit</code></a> is probably easier to understand for non-obvious durations (for example: <code>Thread.sleep(180000)</code> vs. <code>TimeUnit.MINUTES.sleep(3)</code>).</p>\n<p>For reference, see below the code of <code>sleep()</code> in <code>TimeUnit</code>:</p>\n<pre><code>public void sleep(long timeout) throws InterruptedException {\n    if (timeout &gt; 0) {\n        long ms = toMillis(timeout);\n        int ns = excessNanos(timeout, ms);\n        Thread.sleep(ms, ns);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1460351801,"creation_date":1331051085,"answer_id":9587727,"question_id":9587673,"body_markdown":"They are the same. I prefer the latter because it is more descriptive and allows to choose time unit (see [`TimeUnit`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html)): `DAYS `, `HOURS `, `MICROSECONDS `, `MILLISECONDS `, `MINUTES `, `NANOSECONDS `, `SECONDS `.\r\n","title":"Thread.sleep vs. TimeUnit.SECONDS.sleep","body":"<p>They are the same. I prefer the latter because it is more descriptive and allows to choose time unit (see <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\"><code>TimeUnit</code></a>): <code>DAYS</code>, <code>HOURS</code>, <code>MICROSECONDS</code>, <code>MILLISECONDS</code>, <code>MINUTES</code>, <code>NANOSECONDS</code>, <code>SECONDS</code>.</p>\n"}],"owner":{"account_id":110530,"reputation":2201,"user_id":292442,"accept_rate":100,"display_name":"Rachel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108834,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"accepted_answer_id":9587726,"answer_count":2,"score":117,"last_activity_date":1680960106,"creation_date":1331050896,"question_id":9587673,"body_markdown":"If I&#39;m going to have a call to have a Java Thread go to sleep, is there a reason to prefer one of these forms over the other?\r\n\r\n    Thread.sleep(x)\r\n\r\nor\r\n\r\n    TimeUnit.SECONDS.sleep(y)\r\n\r\n","title":"Thread.sleep vs. TimeUnit.SECONDS.sleep","body":"<p>If I'm going to have a call to have a Java Thread go to sleep, is there a reason to prefer one of these forms over the other?</p>\n\n<pre><code>Thread.sleep(x)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>TimeUnit.SECONDS.sleep(y)\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1680873905,"post_id":75958792,"comment_id":133973560,"body_markdown":"You can use [Twilio](https://www.twilio.com/docs/libraries/java) for that. Basically you create your Twilio account and configure your phone to forward the SMS to your Twilio account. Then on Java side, you listen to your Twilio account and each time you&#39;re notified of a new SMS, you do whatever you like to with","body":"You can use <a href=\"https://www.twilio.com/docs/libraries/java\" rel=\"nofollow noreferrer\">Twilio</a> for that. Basically you create your Twilio account and configure your phone to forward the SMS to your Twilio account. Then on Java side, you listen to your Twilio account and each time you&#39;re notified of a new SMS, you do whatever you like to with"},{"owner":{"account_id":15593979,"reputation":49,"user_id":11250072,"display_name":"Henning "},"score":0,"creation_date":1680874357,"post_id":75958792,"comment_id":133973659,"body_markdown":"If you want to be independent of other services, you can also use some already programmed solutions. In this Repo [link](https://github.com/everythingandroid/android-smspopup) is an application, that gives you on your phone a popup on incoming SMS. You can adjust the code, that on income the data is send to some database. You can host your database on some Pi or other services. Inside your Java application on the other end you can listen to that DB.","body":"If you want to be independent of other services, you can also use some already programmed solutions. In this Repo <a href=\"https://github.com/everythingandroid/android-smspopup\" rel=\"nofollow noreferrer\">link</a> is an application, that gives you on your phone a popup on incoming SMS. You can adjust the code, that on income the data is send to some database. You can host your database on some Pi or other services. Inside your Java application on the other end you can listen to that DB."},{"owner":{"account_id":4567460,"reputation":59,"user_id":3708110,"display_name":"ykg"},"score":0,"creation_date":1680880958,"post_id":75958792,"comment_id":133975094,"body_markdown":"1. How can I set a rule for forwarding all SMS messages, without programming ?\n2. Can an android phone send HTTP use google cloud API for example ?","body":"1. How can I set a rule for forwarding all SMS messages, without programming ? 2. Can an android phone send HTTP use google cloud API for example ?"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1680887208,"post_id":75958792,"comment_id":133976366,"body_markdown":"I have been using VoIP.MS for this. You do not need the phone at all (although you could access SMS messages on their web site with the phone). They have a very good API that you can use to poll for messages. Everything is JSON, so you can use it with Java, PHP, etc. I have been running a Java client for almost a year now with no issues (I only send messages a few times a week).","body":"I have been using VoIP.MS for this. You do not need the phone at all (although you could access SMS messages on their web site with the phone). They have a very good API that you can use to poll for messages. Everything is JSON, so you can use it with Java, PHP, etc. I have been running a Java client for almost a year now with no issues (I only send messages a few times a week)."},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1680887462,"post_id":75958792,"comment_id":133976434,"body_markdown":"Looks like you can&#39;t access the VoIP.MS API docs until you sign up, unfortunately... their marketing website is full of marketing, but there is actually substance behind it all... the only feature gap I have found so far is the group texting - in stark contrast to other voip providers, MMS actually works! but sending a group text just turns into sending a single SMS to each person in the &quot;group&quot;.","body":"Looks like you can&#39;t access the VoIP.MS API docs until you sign up, unfortunately... their marketing website is full of marketing, but there is actually substance behind it all... the only feature gap I have found so far is the group texting - in stark contrast to other voip providers, MMS actually works! but sending a group text just turns into sending a single SMS to each person in the &quot;group&quot;."}],"owner":{"account_id":4567460,"reputation":59,"user_id":3708110,"display_name":"ykg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1680960090,"answer_count":0,"score":1,"last_activity_date":1680960080,"creation_date":1680873549,"question_id":75958792,"body_markdown":"I have a Java app that is running on my computer (modern Ubuntu distribution) and I want it to read SMS messages from my phone, running a modern Android version.\r\n\r\nI need the simplest programmatic&#160;way of accessing the SMS messages on the phone periodically, from my Java app.\r\n\r\nI&#39;m not a mobile / Android developer, so I prefer to write as little code on the Android&#160;side as possible.&#160;If there is a third-party solution that can export the SMS message somehow so that my Java can read them, it will be the best.\r\n\r\nI have full control over the phone (I can root it if it is required) and I can connect it with a USB type C cable to the computer if this is required.\r\n\r\nI&#39;m looking for general advice about the &#39;architecture&#39; for this solution and what libraries to use preferably&#160;more code on server side and less or no code on my Android phone.\r\n","title":"Acessing SMS message on my phone from a Java app running on my computer","body":"<p>I have a Java app that is running on my computer (modern Ubuntu distribution) and I want it to read SMS messages from my phone, running a modern Android version.</p>\n<p>I need the simplest programmatic way of accessing the SMS messages on the phone periodically, from my Java app.</p>\n<p>I'm not a mobile / Android developer, so I prefer to write as little code on the Android side as possible. If there is a third-party solution that can export the SMS message somehow so that my Java can read them, it will be the best.</p>\n<p>I have full control over the phone (I can root it if it is required) and I can connect it with a USB type C cable to the computer if this is required.</p>\n<p>I'm looking for general advice about the 'architecture' for this solution and what libraries to use preferably more code on server side and less or no code on my Android phone.</p>\n"},{"tags":["java","encryption","rsa","bouncycastle","sqlcipher"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1680962834,"post_id":75965355,"comment_id":133984566,"body_markdown":"If it worked before and then *suddenly* doesn&#39;t work anymore, it might be the data. Post test data that can be used to reproduce the problem (non-productive key pair, ciphertext, plaintext that should result after decryption). Also, revise the code so that it is executable (currently unknown methods and types are used, see [MCVE](https://stackoverflow.com/help/minimal-reproducible-example)).","body":"If it worked before and then <i>suddenly</i> doesn&#39;t work anymore, it might be the data. Post test data that can be used to reproduce the problem (non-productive key pair, ciphertext, plaintext that should result after decryption). Also, revise the code so that it is executable (currently unknown methods and types are used, see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>)."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1680967107,"post_id":75965355,"comment_id":133985142,"body_markdown":"There should be more information in the stack trace, including the wrapped exception(s) that contain the needed details. For example, the wrapped exception is either an `InvalidCipherTextException` or an `ArrayIndexOutOfBoundsException`. And then perhaps that exception in turn wraps another one. These details can be critical to zeroing in on the problem.","body":"There should be more information in the stack trace, including the wrapped exception(s) that contain the needed details. For example, the wrapped exception is either an <code>InvalidCipherTextException</code> or an <code>ArrayIndexOutOfBoundsException</code>. And then perhaps that exception in turn wraps another one. These details can be critical to zeroing in on the problem."},{"owner":{"account_id":18378809,"reputation":43,"user_id":13387277,"display_name":"sean"},"score":0,"creation_date":1681031979,"post_id":75965355,"comment_id":133991361,"body_markdown":"Yes, you are. Yes, I have tried, and a different server will work, but not this one. The app does not rely on external data, and the root cause of the problem has not been found yet. I&#39;m going to use docker, and docker will work fine.\nThank you very much for your help!","body":"Yes, you are. Yes, I have tried, and a different server will work, but not this one. The app does not rely on external data, and the root cause of the problem has not been found yet. I&#39;m going to use docker, and docker will work fine. Thank you very much for your help!"}],"owner":{"account_id":18378809,"reputation":43,"user_id":13387277,"display_name":"sean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680958863,"creation_date":1680958863,"question_id":75965355,"body_markdown":"Before using this code for rsa decryption, running on the server everything is fine, but suddenly an error, and stopped running.\r\n```\r\nSecurity.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n        rsa = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, &quot;BC&quot;);\r\n        String key = getKeyString();\r\n        Reader privateKeyReader = new StringReader(key);\r\n        PEMParser privatePemParser = new PEMParser(privateKeyReader);\r\n        Object privateObject = privatePemParser.readObject();\r\n        PrivateKey privateKey;\r\n        if (privateObject instanceof PEMKeyPair pemKeyPair) {\r\n            JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n            privateKey = converter.getPrivateKey(pemKeyPair.getPrivateKeyInfo());\r\n        } else {\r\n            throw new KeyException(&quot;rsa key error&quot;);\r\n        }\r\n\r\n        rsa.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n\r\n        byte[] decodeKey = Base64.getDecoder().decode(encryptRandomKey);\r\n        byte[] utf8 = Decipherer.rsa.doFinal(decodeKey);\r\n\r\n        return new String(utf8, StandardCharsets.UTF_8);\r\n```\r\nexception:\r\n```\r\norg.bouncycastle.jcajce.provider.util.BadBlockException: unable to decrypt block\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.getOutput(Unknown Source) ~[bcprov-jdk15on-1.64.jar:1.64.0]\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineDoFinal(Unknown Source) ~[bcprov-jdk15on-1.64.jar:1.64.0]\r\n\tat javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[?:?]\r\n\tat com.pjcy.pullwechatmsg.Decipherer.decryptRSA(Decipherer.java:56) ~[getwechatmsg.jar:?]\r\n\tat com.pjcy.pullwechatmsg.Decipherer.decrypt(Decipherer.java:63) ~[getwechatmsg.jar:?]\r\n\tat com.pjcy.pullwechatmsg.ChatSet.decrypt(ChatSet.java:48) ~[getwechatmsg.jar:?]\r\n\tat com.pjcy.pullwechatmsg.Dispatcher.store(Dispatcher.java:57) ~[getwechatmsg.jar:?]\r\n\tat com.pjcy.pullwechatmsg.Dispatcher.start(Dispatcher.java:41) ~[getwechatmsg.jar:?]\r\n\t^C\r\n\r\n```","title":"RSA decryption suddenly went wrong, which was normal before","body":"<p>Before using this code for rsa decryption, running on the server everything is fine, but suddenly an error, and stopped running.</p>\n<pre><code>Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n        rsa = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;, &quot;BC&quot;);\n        String key = getKeyString();\n        Reader privateKeyReader = new StringReader(key);\n        PEMParser privatePemParser = new PEMParser(privateKeyReader);\n        Object privateObject = privatePemParser.readObject();\n        PrivateKey privateKey;\n        if (privateObject instanceof PEMKeyPair pemKeyPair) {\n            JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\n            privateKey = converter.getPrivateKey(pemKeyPair.getPrivateKeyInfo());\n        } else {\n            throw new KeyException(&quot;rsa key error&quot;);\n        }\n\n        rsa.init(Cipher.DECRYPT_MODE, privateKey);\n\n\n        byte[] decodeKey = Base64.getDecoder().decode(encryptRandomKey);\n        byte[] utf8 = Decipherer.rsa.doFinal(decodeKey);\n\n        return new String(utf8, StandardCharsets.UTF_8);\n</code></pre>\n<p>exception:</p>\n<pre><code>org.bouncycastle.jcajce.provider.util.BadBlockException: unable to decrypt block\n    at org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.getOutput(Unknown Source) ~[bcprov-jdk15on-1.64.jar:1.64.0]\n    at org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineDoFinal(Unknown Source) ~[bcprov-jdk15on-1.64.jar:1.64.0]\n    at javax.crypto.Cipher.doFinal(Cipher.java:2205) ~[?:?]\n    at com.pjcy.pullwechatmsg.Decipherer.decryptRSA(Decipherer.java:56) ~[getwechatmsg.jar:?]\n    at com.pjcy.pullwechatmsg.Decipherer.decrypt(Decipherer.java:63) ~[getwechatmsg.jar:?]\n    at com.pjcy.pullwechatmsg.ChatSet.decrypt(ChatSet.java:48) ~[getwechatmsg.jar:?]\n    at com.pjcy.pullwechatmsg.Dispatcher.store(Dispatcher.java:57) ~[getwechatmsg.jar:?]\n    at com.pjcy.pullwechatmsg.Dispatcher.start(Dispatcher.java:41) ~[getwechatmsg.jar:?]\n    ^C\n\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1551391238,"post_id":54929656,"comment_id":96634258,"body_markdown":"Please check if it works with https://www.jetbrains.com/idea/nextversion/ .","body":"Please check if it works with <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/nextversion</a> ."}],"answers":[{"tags":[],"owner":{"account_id":7672850,"reputation":386,"user_id":5814525,"display_name":"liu903265"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1582031321,"creation_date":1553943467,"answer_id":55430720,"question_id":54929656,"body_markdown":"I also encountered this problem and finally found the answer:\r\n\r\nStarting from 2018.3.4 IntelliJ IDEA use local JMX connector for retrieving Spring Boot actuator endpoint&#39;s data.\r\nLocal JMX monitoring has some restrictions, in particular, it isn&#39;t possible to get local JMX connector address if Spring Boot application and IntelliJ IDEA JVMs have different bitness.\r\nIf it is not possible to run application on JVM with the same bitness, then, in order to fix the problem, one could add the following to Spring Boot run configuration&#39;s VM options: \r\n```\r\n-Dcom.sun.management.jmxremote.port={some_port} -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false\r\n```\r\n\r\nAfter setting:\r\n\r\n![enter image description here][1]\r\n\r\njetbrains issue link:https://youtrack.jetbrains.com/issue/IDEA-204797\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LSFML.png","title":"IntelliJ IDEA not Showing anything endpoints tab: &quot;Failed to retrieve application JMX service URL&quot;","body":"<p>I also encountered this problem and finally found the answer:</p>\n\n<p>Starting from 2018.3.4 IntelliJ IDEA use local JMX connector for retrieving Spring Boot actuator endpoint's data.\nLocal JMX monitoring has some restrictions, in particular, it isn't possible to get local JMX connector address if Spring Boot application and IntelliJ IDEA JVMs have different bitness.\nIf it is not possible to run application on JVM with the same bitness, then, in order to fix the problem, one could add the following to Spring Boot run configuration's VM options: </p>\n\n<pre><code>-Dcom.sun.management.jmxremote.port={some_port} -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n\n<p>After setting:</p>\n\n<p><img src=\"https://i.stack.imgur.com/LSFML.png\" alt=\"enter image description here\"></p>\n\n<p>jetbrains issue link:<a href=\"https://youtrack.jetbrains.com/issue/IDEA-204797\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-204797</a></p>\n"},{"tags":[],"owner":{"account_id":4333893,"reputation":3295,"user_id":3538581,"display_name":"Rajesh Goel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1603979709,"creation_date":1603979709,"answer_id":64592565,"question_id":54929656,"body_markdown":"I am using IntelliJ Idea 2020.1 on Windows 10 and I faced the similar problem. For me, un-checking the &#39;Enable JMX Agent&#39; solves this issue. Also, I have both JDK 11 and JDK 8 on my system and I have different Java Application (microservices) run on different JDK versions but this one required JDK 1.8 (as it is not migrated yet).\r\nSee the attached snapshot:[![Run/Debug Configuration Snapshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M9VhF.png","title":"IntelliJ IDEA not Showing anything endpoints tab: &quot;Failed to retrieve application JMX service URL&quot;","body":"<p>I am using IntelliJ Idea 2020.1 on Windows 10 and I faced the similar problem. For me, un-checking the 'Enable JMX Agent' solves this issue. Also, I have both JDK 11 and JDK 8 on my system and I have different Java Application (microservices) run on different JDK versions but this one required JDK 1.8 (as it is not migrated yet).\nSee the attached snapshot:<a href=\"https://i.stack.imgur.com/M9VhF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9VhF.png\" alt=\"Run/Debug Configuration Snapshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5031799,"reputation":372,"user_id":4041764,"display_name":"daroubaozi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614342050,"creation_date":1612850995,"answer_id":66113847,"question_id":54929656,"body_markdown":"Check the permissions of the `%TMP%/hsperfdata_&lt;username&gt;` directory ,if &lt;username&gt; does not have read and write permissions，right click hsperfdata_&lt;username&gt;&gt;properties&gt;security&gt;edit&gt;add&gt;advanced add &lt;username&gt; and confirmed;    \r\nor delete %TMP%/hsperfdata_&lt;username&gt; and restart app\r\n\r\n&gt; https://youtrack.jetbrains.com/issue/IDEA-210665#focus=Comments-27-4410513.0-0\r\n&gt; https://stackoverflow.com/questions/29163280/jconsole-and-jps-dont-show-any-processes-how-can-i-monitor-my-process","title":"IntelliJ IDEA not Showing anything endpoints tab: &quot;Failed to retrieve application JMX service URL&quot;","body":"<p>Check the permissions of the <code>%TMP%/hsperfdata_&lt;username&gt;</code> directory ,if  does not have read and write permissions，right click hsperfdata_&gt;properties&gt;security&gt;edit&gt;add&gt;advanced add  and confirmed;<br />\nor delete %TMP%/hsperfdata_ and restart app</p>\n<blockquote>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-210665#focus=Comments-27-4410513.0-0\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-210665#focus=Comments-27-4410513.0-0</a>\n<a href=\"https://stackoverflow.com/questions/29163280/jconsole-and-jps-dont-show-any-processes-how-can-i-monitor-my-process\">Jconsole and JPS don&#39;t show any processes. How can I monitor my process?</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1617563696,"creation_date":1617563363,"answer_id":66944921,"question_id":54929656,"body_markdown":"I am using Java 1.8 and I faced the same issue, for me it got resolved by unchecking the Enable JMX Agent in Run/Debug Configuration. \r\nRefer the image.\r\n\r\n[Attached Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eKIl3.png","title":"IntelliJ IDEA not Showing anything endpoints tab: &quot;Failed to retrieve application JMX service URL&quot;","body":"<p>I am using Java 1.8 and I faced the same issue, for me it got resolved by unchecking the Enable JMX Agent in Run/Debug Configuration.\nRefer the image.</p>\n<p><a href=\"https://i.stack.imgur.com/eKIl3.png\" rel=\"nofollow noreferrer\">Attached Screenshot</a></p>\n"},{"tags":[],"owner":{"account_id":15997752,"reputation":1131,"user_id":11545271,"display_name":"Noy Gafni"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1630344599,"creation_date":1630344599,"answer_id":68988143,"question_id":54929656,"body_markdown":"set this in you VM options:\r\n\r\n`-Djava.rmi.server.hostname=localhost`\r\n\r\nthat what worked for me.\r\n\r\nI found the answer here: https://youtrack.jetbrains.com/issue/IDEA-210665#focus=Comments-27-3544328.0-0","title":"IntelliJ IDEA not Showing anything endpoints tab: &quot;Failed to retrieve application JMX service URL&quot;","body":"<p>set this in you VM options:</p>\n<p><code>-Djava.rmi.server.hostname=localhost</code></p>\n<p>that what worked for me.</p>\n<p>I found the answer here: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-210665#focus=Comments-27-3544328.0-0\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-210665#focus=Comments-27-3544328.0-0</a></p>\n"},{"tags":[],"owner":{"account_id":28249459,"reputation":11,"user_id":21595946,"display_name":"Rustem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680958323,"creation_date":1680958323,"answer_id":75965312,"question_id":54929656,"body_markdown":"You can add to application.properties this:\r\n\r\nmanagement.endpoints.web.exposure.include=*\r\n\r\n- after that your app will work correctly. Also I recommend you to read this article for the best understanding customizing of endpoints and actuator:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator","title":"IntelliJ IDEA not Showing anything endpoints tab: &quot;Failed to retrieve application JMX service URL&quot;","body":"<p>You can add to application.properties this:</p>\n<p>management.endpoints.web.exposure.include=*</p>\n<ul>\n<li>after that your app will work correctly. Also I recommend you to read this article for the best understanding customizing of endpoints and actuator:</li>\n</ul>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator</a></p>\n"}],"owner":{"account_id":3938597,"reputation":575,"user_id":3254026,"accept_rate":60,"display_name":"cjwillis48"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67567,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":55430720,"answer_count":6,"score":26,"last_activity_date":1680958323,"creation_date":1551369477,"question_id":54929656,"body_markdown":"I have a spring boot web service that I want to see the endpoints of.  However when I run it in IntelliJ there are no endpoints displayed.  In the endpoints window I see the error \r\n    \r\n    Failed to check application ready state: AttachProvider for the vm is not found.\r\n    Press Refresh button to reinit ready state checking\r\n\r\nI am able to run the application just fine and hit the web services fine with SoapUI, but I would like to use the functionality in IntelliJ. When I click the endpoint tab or the refresh button in the endpoint tab, in the event log I get a log entry on application start that says \r\n   \r\n    PersonMicroserviceApplication: Failed to retrieve application JMX service URL\r\n\r\nI have &quot;Enable JMX agent&quot; checked in the run configuration.  This is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;com.example.microservice&lt;/groupId&gt;\r\n        &lt;artifactId&gt;person-service&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nNOTE: Jackson is marked as a quarantined dependency at my company&#39;s maven repository due to a security concern (I&#39;m not sure what the security concern is), so I am using gson as my json mapper, I have the following line in my application.properties to tell spring to use gson\r\n\r\n    spring.http.converters.preferred-json-mapper=gson\r\n\r\nThe only other thing I have in my application.properties is a connect string to mongodb.  There is nothing else, so there may be something I&#39;m missing there but in the spring documentation I saw it just said include spring-boot-starter-actuator and check enable JMX agent.  \r\n\r\nIs there anything I&#39;m missing configuration-wise to enable this? I am on windows 10 64 bit, I am using oracles JDK 8.","title":"IntelliJ IDEA not Showing anything endpoints tab: &quot;Failed to retrieve application JMX service URL&quot;","body":"<p>I have a spring boot web service that I want to see the endpoints of.  However when I run it in IntelliJ there are no endpoints displayed.  In the endpoints window I see the error </p>\n\n<pre><code>Failed to check application ready state: AttachProvider for the vm is not found.\nPress Refresh button to reinit ready state checking\n</code></pre>\n\n<p>I am able to run the application just fine and hit the web services fine with SoapUI, but I would like to use the functionality in IntelliJ. When I click the endpoint tab or the refresh button in the endpoint tab, in the event log I get a log entry on application start that says </p>\n\n<pre><code>PersonMicroserviceApplication: Failed to retrieve application JMX service URL\n</code></pre>\n\n<p>I have \"Enable JMX agent\" checked in the run configuration.  This is my pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example.microservice&lt;/groupId&gt;\n    &lt;artifactId&gt;person-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>NOTE: Jackson is marked as a quarantined dependency at my company's maven repository due to a security concern (I'm not sure what the security concern is), so I am using gson as my json mapper, I have the following line in my application.properties to tell spring to use gson</p>\n\n<pre><code>spring.http.converters.preferred-json-mapper=gson\n</code></pre>\n\n<p>The only other thing I have in my application.properties is a connect string to mongodb.  There is nothing else, so there may be something I'm missing there but in the spring documentation I saw it just said include spring-boot-starter-actuator and check enable JMX agent.  </p>\n\n<p>Is there anything I'm missing configuration-wise to enable this? I am on windows 10 64 bit, I am using oracles JDK 8.</p>\n"},{"tags":["java","spring-boot","apache-kafka","rabbitmq","jakarta-mail"],"comments":[{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1680875217,"post_id":75957964,"comment_id":133973861,"body_markdown":"You can achieve it by using any message broker including rabbitMQ. If you use DB, you can also store the mail in the database and have the scheduler job running and checking if something new there to be send.","body":"You can achieve it by using any message broker including rabbitMQ. If you use DB, you can also store the mail in the database and have the scheduler job running and checking if something new there to be send."}],"answers":[{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680893740,"creation_date":1680893740,"answer_id":75961242,"question_id":75957964,"body_markdown":"The way you have described it seems you are using Synchronous way of communication meaning API has to perform all of the operations along with sending email and at the end, sending the response if everything goes fine. I would recommend to go with Asynchronous communication approach in case of sending email. To do that you can either store your email data in any database or in any messaging broker service like Kafka, RabbitMQ etc.\r\n\r\nSuppose you have Service-A which has API exposed which is doing some business operations and once they will get completed then you can store your mail to any of the storage system described above.\r\n\r\nNow Create separate microservice(let&#39;s named it as `mailing-service`) which will read/fetch the emails from your mail datasource(DB or messaging system like kafka) and will send the email.\r\nIf you go with...\r\n\r\n**DB storage -** If you use NoSQL DB like MongoDB then you can use it&#39;s one of the feature i.e `Change Streams`. MongoDB Change Streams allow applications to access real-time data changes; to subscribe to all data changes on a single collection, a database, or an entire deployment, and immediately react to them. Read here- https://www.mongodb.com/developer/languages/java/java-change-streams/. It comes with sync and async both versions along with Soring boot integration as well.\r\n\r\n**Messaging system based storage -** If you go with Kafka, an event streaming platform, you can use `spring-kafka` and @KafkaListener method will automatically receive event(mail in your case). Keep in mind that in kafka, default retention time is seven days but it is configurable. There is no as such restriction in DB based storage system. Kafka topic may have multiple partitions to allow parallel consumption of the messages.","title":"Which queue(Apache kafka, RabbitMQ) is best for sending email on new executer thread which will not affect on api performance in spring boot app?","body":"<p>The way you have described it seems you are using Synchronous way of communication meaning API has to perform all of the operations along with sending email and at the end, sending the response if everything goes fine. I would recommend to go with Asynchronous communication approach in case of sending email. To do that you can either store your email data in any database or in any messaging broker service like Kafka, RabbitMQ etc.</p>\n<p>Suppose you have Service-A which has API exposed which is doing some business operations and once they will get completed then you can store your mail to any of the storage system described above.</p>\n<p>Now Create separate microservice(let's named it as <code>mailing-service</code>) which will read/fetch the emails from your mail datasource(DB or messaging system like kafka) and will send the email.\nIf you go with...</p>\n<p><strong>DB storage -</strong> If you use NoSQL DB like MongoDB then you can use it's one of the feature i.e <code>Change Streams</code>. MongoDB Change Streams allow applications to access real-time data changes; to subscribe to all data changes on a single collection, a database, or an entire deployment, and immediately react to them. Read here- <a href=\"https://www.mongodb.com/developer/languages/java/java-change-streams/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/developer/languages/java/java-change-streams/</a>. It comes with sync and async both versions along with Soring boot integration as well.</p>\n<p><strong>Messaging system based storage -</strong> If you go with Kafka, an event streaming platform, you can use <code>spring-kafka</code> and @KafkaListener method will automatically receive event(mail in your case). Keep in mind that in kafka, default retention time is seven days but it is configurable. There is no as such restriction in DB based storage system. Kafka topic may have multiple partitions to allow parallel consumption of the messages.</p>\n"}],"owner":{"account_id":21863756,"reputation":1,"user_id":16154227,"display_name":"SHIDHANATH CHAVAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680958275,"creation_date":1680866620,"question_id":75957964,"body_markdown":"I am working on Spring Boot. The scenario is the sending of emails which was achieved using java mail sender, but the problem is that rest api have to send email if all operation performed successfully &amp; return success response at end. But if there is Exception occure at a time of sending mail then api is failed. To avoid that case i want to send email on new executer thread so it will not effect on api response. But it is nessecerry to send email. How can i handle this situation. Can i use any queue for sending email ? but I don&#39;t know it is possible with queue or not, It it is possible then which is the best queue for sending mail or is there any other solution to handle this situation?\r\nany suggestions how to achieve this ?\r\n\r\nI want to try with rabbitMQ but i don&#39;t know it will solve the problem or not.","title":"Which queue(Apache kafka, RabbitMQ) is best for sending email on new executer thread which will not affect on api performance in spring boot app?","body":"<p>I am working on Spring Boot. The scenario is the sending of emails which was achieved using java mail sender, but the problem is that rest api have to send email if all operation performed successfully &amp; return success response at end. But if there is Exception occure at a time of sending mail then api is failed. To avoid that case i want to send email on new executer thread so it will not effect on api response. But it is nessecerry to send email. How can i handle this situation. Can i use any queue for sending email ? but I don't know it is possible with queue or not, It it is possible then which is the best queue for sending mail or is there any other solution to handle this situation?\nany suggestions how to achieve this ?</p>\n<p>I want to try with rabbitMQ but i don't know it will solve the problem or not.</p>\n"},{"tags":["java","android","class","bottomnavigationview"],"comments":[{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1680958931,"post_id":75965273,"comment_id":133984062,"body_markdown":"It&#39;s a template for implementing MVVM pattern which is the actual recommendation for android.","body":"It&#39;s a template for implementing MVVM pattern which is the actual recommendation for android."}],"owner":{"account_id":11698358,"reputation":21,"user_id":9365712,"display_name":"Yaseen Latiff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680957848,"creation_date":1680957848,"question_id":75965273,"body_markdown":"I was checking out the bottom navigation activity in android studio and noticed for the classes for each fragment we have the normal fragment class and then the View model class. I had done a bottom navigation activity without a View Model class can you please explain to me what the purpose of this class is?\r\npackage com.said.myapplication.ui.dashboard;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    \r\n    import com.said.myapplication.databinding.FragmentDashboardBinding;\r\n    \r\n    public class DashboardFragment extends Fragment {\r\n    \r\n        private FragmentDashboardBinding binding;\r\n    \r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                                 ViewGroup container, Bundle savedInstanceState) {\r\n            DashboardViewModel dashboardViewModel =\r\n                    new ViewModelProvider(this).get(DashboardViewModel.class);\r\n    \r\n            binding = FragmentDashboardBinding.inflate(inflater, container, false);\r\n            View root = binding.getRoot();\r\n    \r\n            final TextView textView = binding.textDashboard;\r\n            dashboardViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n            return root;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n    }\r\n\r\nThe above is just an example code of the DashboardViewModel class.","title":"How does the bottom navigation activity in Android studio work","body":"<p>I was checking out the bottom navigation activity in android studio and noticed for the classes for each fragment we have the normal fragment class and then the View model class. I had done a bottom navigation activity without a View Model class can you please explain to me what the purpose of this class is?\npackage com.said.myapplication.ui.dashboard;</p>\n<pre><code>import android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.said.myapplication.databinding.FragmentDashboardBinding;\n\npublic class DashboardFragment extends Fragment {\n\n    private FragmentDashboardBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        DashboardViewModel dashboardViewModel =\n                new ViewModelProvider(this).get(DashboardViewModel.class);\n\n        binding = FragmentDashboardBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textDashboard;\n        dashboardViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p>The above is just an example code of the DashboardViewModel class.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1977110,"reputation":142,"user_id":1774658,"display_name":"Joeri Leemans"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495612524,"creation_date":1495612524,"answer_id":44152300,"question_id":44151990,"body_markdown":"With a constructor you have to construct its parameters in advance, whereas with a builder you get to do this in one fluent statement.\r\n\r\n    // constructor\r\n    MultiValueMap&lt;String, String&gt; headers = ...;\r\n    ResponseEntity&lt;String&gt; resp = new ResponseEntity(headers, HttpStatus.OK);\r\n\r\n    // builder\r\n    ResponseEntity&lt;String&gt; resp = ResponseEntity.ok()\r\n        .header(&quot;header1&quot;, &quot;value1&quot;)\r\n        .header(&quot;header2&quot;, &quot;value2&quot;)\r\n        .build();\r\n\r\nAlso, with constructors that have a long list of parameters it gets difficult to see the semantics of each parameter. In those cases I&#39;d prefer a builder.","title":"Spring ResponseEntity : use constructor or static builder?","body":"<p>With a constructor you have to construct its parameters in advance, whereas with a builder you get to do this in one fluent statement.</p>\n\n<pre><code>// constructor\nMultiValueMap&lt;String, String&gt; headers = ...;\nResponseEntity&lt;String&gt; resp = new ResponseEntity(headers, HttpStatus.OK);\n\n// builder\nResponseEntity&lt;String&gt; resp = ResponseEntity.ok()\n    .header(\"header1\", \"value1\")\n    .header(\"header2\", \"value2\")\n    .build();\n</code></pre>\n\n<p>Also, with constructors that have a long list of parameters it gets difficult to see the semantics of each parameter. In those cases I'd prefer a builder.</p>\n"},{"tags":[],"owner":{"account_id":1071924,"reputation":21,"user_id":1070977,"display_name":"acchu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495615126,"creation_date":1495615126,"answer_id":44153205,"question_id":44151990,"body_markdown":"If you have lots of similar endpoints to be defined, like when defining a new API, I have found that using the constructor is better in the long run. Because over time, you end up with repetitive code while using static builders.\r\n\r\nEspecially in the case of headers; Content-Type, Accept, Encoding etc have to set on all the responses and writing out each in every controller method is cumbersome. Separating such boilerplate code into a separate function is easier with constructors.\r\n\r\nThat is what I have felt anyway.","title":"Spring ResponseEntity : use constructor or static builder?","body":"<p>If you have lots of similar endpoints to be defined, like when defining a new API, I have found that using the constructor is better in the long run. Because over time, you end up with repetitive code while using static builders.</p>\n\n<p>Especially in the case of headers; Content-Type, Accept, Encoding etc have to set on all the responses and writing out each in every controller method is cumbersome. Separating such boilerplate code into a separate function is easier with constructors.</p>\n\n<p>That is what I have felt anyway.</p>\n"},{"tags":[],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1628070440,"creation_date":1628070440,"answer_id":68649069,"question_id":44151990,"body_markdown":"So the answer seems to be &quot;you can do indifferently one or the other, according to your personal code preferences&quot;","title":"Spring ResponseEntity : use constructor or static builder?","body":"<p>So the answer seems to be &quot;you can do indifferently one or the other, according to your personal code preferences&quot;</p>\n"}],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16989,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":68649069,"answer_count":3,"score":10,"last_activity_date":1680957232,"creation_date":1495611648,"question_id":44151990,"body_markdown":"In a Spring Boot RestController, I&#39;m using the springframework class [ResponseEntity][1] to return the response for the endpoint call.\r\n\r\nI recently found out there are two ways to instantiate this class.\r\n\r\n**Using the constructor :**\r\n\r\n    response = new ResponseEntity&lt;MyDto&gt;(myDto, myHeaders, HttpStatus.OK);\r\n\r\n**Using the static builder :**\r\n\r\n    response = ResponseEntity.ok().headers(myHeaders).body(myDto);\r\n\r\nThe resulting instance seams to be the same.\r\n\r\nI wonder, what are the pros and cons of each? In which situation should I use preferably one or the other?\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html","title":"Spring ResponseEntity : use constructor or static builder?","body":"<p>In a Spring Boot RestController, I'm using the springframework class <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"nofollow noreferrer\">ResponseEntity</a> to return the response for the endpoint call.</p>\n<p>I recently found out there are two ways to instantiate this class.</p>\n<p><strong>Using the constructor :</strong></p>\n<pre><code>response = new ResponseEntity&lt;MyDto&gt;(myDto, myHeaders, HttpStatus.OK);\n</code></pre>\n<p><strong>Using the static builder :</strong></p>\n<pre><code>response = ResponseEntity.ok().headers(myHeaders).body(myDto);\n</code></pre>\n<p>The resulting instance seams to be the same.</p>\n<p>I wonder, what are the pros and cons of each? In which situation should I use preferably one or the other?</p>\n"},{"tags":["java","json","jsonpath"],"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1681103613,"post_id":75965109,"comment_id":133998954,"body_markdown":"The output is in bracket–notation because it&#39;s valid for all scenarios. If the field names have space or special characters the dot notation doesn&#39;t work.","body":"The output is in bracket–notation because it&#39;s valid for all scenarios. If the field names have space or special characters the dot notation doesn&#39;t work."},{"owner":{"account_id":2524320,"reputation":9225,"user_id":2193968,"display_name":"Jerry Jeremiah"},"score":0,"creation_date":1683068056,"post_id":75965109,"comment_id":134309189,"body_markdown":"`title` doesn&#39;t exist in you input so you won&#39;t match anything.","body":"<code>title</code> doesn&#39;t exist in you input so you won&#39;t match anything."}],"owner":{"account_id":1463541,"reputation":307,"user_id":1377135,"accept_rate":57,"display_name":"dhvlnyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680956222,"creation_date":1680955541,"question_id":75965109,"body_markdown":"Given the below Json\r\n\r\n    {\r\n    &quot;store&quot;: {\r\n        &quot;book&quot;: [\r\n            {\r\n                &quot;category&quot;: &quot;reference&quot;,\r\n                &quot;author&quot;: &quot;Nigel Rees&quot;,\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Evelyn Waugh&quot;,\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;Herman Melville&quot;,\r\n                &quot;price&quot;: 8.99\r\n            },\r\n            {\r\n                &quot;category&quot;: &quot;fiction&quot;,\r\n                &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\r\n            }\r\n        ],\r\n        &quot;bicycle&quot;: {\r\n            &quot;color&quot;: &quot;red&quot;,\r\n        }\r\n    },\r\n    &quot;expensive&quot;: 10\r\n    }\r\n\r\nI am using the below config for extracting the json path of all author&#39;s of book\r\n\r\n    Configuration conf = Configuration.builder().options(Option.AS_PATH_LIST).build();\r\n    Object read = JsonPath.using(conf).parse(jsonStringRaw).read(&quot;$.store.book[*].author&quot;);\r\n\r\nI am getting the below output which is in bracket–notation\r\n\r\n    &quot;$[&#39;store&#39;][&#39;book&#39;][0][&#39;author&#39;]&quot;\r\n    &quot;$[&#39;store&#39;][&#39;book&#39;][1][&#39;author&#39;]&quot;\r\n    &quot;$[&#39;store&#39;][&#39;book&#39;][2][&#39;author&#39;]&quot;\r\n    &quot;$[&#39;store&#39;][&#39;book&#39;][3][&#39;author&#39;]&quot;\r\n\r\n**However, I want output in dot–notation** \r\n\r\n    $.store.book[0].title\r\n    $.store.book[1].title\r\n    $.store.book[2].title\r\n    $.store.book[3].title\r\n\r\n\r\nI am unable to extract JsonPath in **dot-notation**.","title":"unable to extract JsonPath in dot-notation","body":"<p>Given the below Json</p>\n<pre><code>{\n&quot;store&quot;: {\n    &quot;book&quot;: [\n        {\n            &quot;category&quot;: &quot;reference&quot;,\n            &quot;author&quot;: &quot;Nigel Rees&quot;,\n        },\n        {\n            &quot;category&quot;: &quot;fiction&quot;,\n            &quot;author&quot;: &quot;Evelyn Waugh&quot;,\n        },\n        {\n            &quot;category&quot;: &quot;fiction&quot;,\n            &quot;author&quot;: &quot;Herman Melville&quot;,\n            &quot;price&quot;: 8.99\n        },\n        {\n            &quot;category&quot;: &quot;fiction&quot;,\n            &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\n        }\n    ],\n    &quot;bicycle&quot;: {\n        &quot;color&quot;: &quot;red&quot;,\n    }\n},\n&quot;expensive&quot;: 10\n}\n</code></pre>\n<p>I am using the below config for extracting the json path of all author's of book</p>\n<pre><code>Configuration conf = Configuration.builder().options(Option.AS_PATH_LIST).build();\nObject read = JsonPath.using(conf).parse(jsonStringRaw).read(&quot;$.store.book[*].author&quot;);\n</code></pre>\n<p>I am getting the below output which is in bracket–notation</p>\n<pre><code>&quot;$['store']['book'][0]['author']&quot;\n&quot;$['store']['book'][1]['author']&quot;\n&quot;$['store']['book'][2]['author']&quot;\n&quot;$['store']['book'][3]['author']&quot;\n</code></pre>\n<p><strong>However, I want output in dot–notation</strong></p>\n<pre><code>$.store.book[0].title\n$.store.book[1].title\n$.store.book[2].title\n$.store.book[3].title\n</code></pre>\n<p>I am unable to extract JsonPath in <strong>dot-notation</strong>.</p>\n"},{"tags":["java","spring","authentication","header","feign"],"answers":[{"tags":[],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1680955894,"creation_date":1490711172,"answer_id":43072231,"question_id":40262132,"body_markdown":"You don&#39;t really need your own implementation of the `FeignRequestInterceptor` as there is already [BasicAuthRequestInterceptor][1] in the `feign.auth` package that does exactly the same.\r\n\r\nThat being said, you basically have almost everything set up already. All is left to do is to define the `basicAuthRequestInterceptor` bean with specific username and password:\r\n\r\n    @Bean\r\n    public RequestInterceptor basicAuthRequestInterceptor() {\r\n        return new BasicAuthRequestInterceptor(&quot;username&quot;, &quot;password&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/auth/BasicAuthRequestInterceptor.java","title":"How to add a request interceptor to a feign client?","body":"<p>You don't really need your own implementation of the <code>FeignRequestInterceptor</code> as there is already <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/auth/BasicAuthRequestInterceptor.java\" rel=\"nofollow noreferrer\">BasicAuthRequestInterceptor</a> in the <code>feign.auth</code> package that does exactly the same.</p>\n<p>That being said, you basically have almost everything set up already. All is left to do is to define the <code>basicAuthRequestInterceptor</code> bean with specific username and password:</p>\n<pre><code>@Bean\npublic RequestInterceptor basicAuthRequestInterceptor() {\n    return new BasicAuthRequestInterceptor(&quot;username&quot;, &quot;password&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3414783,"reputation":3286,"user_id":2863995,"accept_rate":57,"display_name":"Arnold Galovics"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639751031,"creation_date":1638634810,"answer_id":70227404,"question_id":40262132,"body_markdown":"I know the thread is a bit old but wanted to give some explanation on what&#39;s happening here.\r\n\r\nIf you&#39;d like to customize your Feign requests, you can use a `RequestInterceptor`. This can be a custom implementation or you can reuse what&#39;s available in the Feign library, e.g. `BasicAuthRequestInterceptor`.\r\n\r\nHow to register it? Well, there 2 ways to do it depending on how you use Feign.\r\n\r\nIf you&#39;re using plain Feign without Spring, then you gotta set the interceptor to the Feign builder. An example is [here][1].\r\n\r\n    Feign.builder()\r\n         .requestInterceptor(new MyCustomInterceptor())\r\n         .target(MyClient.class, &quot;http://localhost:8081&quot;);\r\n\r\nIf you&#39;re using Spring Cloud OpenFeign and you use the `@FeignClient` annotation to construct your clients, then you have to create a bean from your `RequestInterceptor` by either defining it as a `@Component` or as a `@Bean` in one of your `@Configuration` classes. Example [here][2].\r\n\r\n    @Component\r\n    public class MyCustomInterceptor implements RequestInterceptor {\r\n        @Override\r\n        public void apply(RequestTemplate template) {\r\n            // do something\r\n        }\r\n    }\r\n\r\nAlso, you can check out one of my articles in this topic, maybe that clears it up better: [Customizing each request with Spring Cloud Feign][3]\r\n\r\n\r\n  [1]: https://github.com/galovics/mastering-feign-practice/blob/regular-feign/online-store-service/src/main/java/com/arnoldgalovics/online/store/service/external/config/FeignConfiguration.java\r\n  [2]: https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/main/java/com/arnoldgalovics/online/store/service/external/config/SourceRequestInterceptor.java\r\n  [3]: https://arnoldgalovics.com/feign-interceptor/?utm_source=stackoverflow&amp;utm_medium=post&amp;utm_campaign=customizing-each-request-with-spring-cloud-feign","title":"How to add a request interceptor to a feign client?","body":"<p>I know the thread is a bit old but wanted to give some explanation on what's happening here.</p>\n<p>If you'd like to customize your Feign requests, you can use a <code>RequestInterceptor</code>. This can be a custom implementation or you can reuse what's available in the Feign library, e.g. <code>BasicAuthRequestInterceptor</code>.</p>\n<p>How to register it? Well, there 2 ways to do it depending on how you use Feign.</p>\n<p>If you're using plain Feign without Spring, then you gotta set the interceptor to the Feign builder. An example is <a href=\"https://github.com/galovics/mastering-feign-practice/blob/regular-feign/online-store-service/src/main/java/com/arnoldgalovics/online/store/service/external/config/FeignConfiguration.java\" rel=\"noreferrer\">here</a>.</p>\n<pre><code>Feign.builder()\n     .requestInterceptor(new MyCustomInterceptor())\n     .target(MyClient.class, &quot;http://localhost:8081&quot;);\n</code></pre>\n<p>If you're using Spring Cloud OpenFeign and you use the <code>@FeignClient</code> annotation to construct your clients, then you have to create a bean from your <code>RequestInterceptor</code> by either defining it as a <code>@Component</code> or as a <code>@Bean</code> in one of your <code>@Configuration</code> classes. Example <a href=\"https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/main/java/com/arnoldgalovics/online/store/service/external/config/SourceRequestInterceptor.java\" rel=\"noreferrer\">here</a>.</p>\n<pre><code>@Component\npublic class MyCustomInterceptor implements RequestInterceptor {\n    @Override\n    public void apply(RequestTemplate template) {\n        // do something\n    }\n}\n</code></pre>\n<p>Also, you can check out one of my articles in this topic, maybe that clears it up better: <a href=\"https://arnoldgalovics.com/feign-interceptor/?utm_source=stackoverflow&amp;utm_medium=post&amp;utm_campaign=customizing-each-request-with-spring-cloud-feign\" rel=\"noreferrer\">Customizing each request with Spring Cloud Feign</a></p>\n"}],"owner":{"account_id":8372605,"reputation":3511,"user_id":6287214,"accept_rate":62,"display_name":"Gustavo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78509,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":2,"score":20,"last_activity_date":1680955894,"creation_date":1477484397,"question_id":40262132,"body_markdown":"I want every time when I make a request through feign client, to set a specific header with my authenticated user. \r\n\r\nThis is my filter from which I get the authentication and set it to the spring security context:\r\n\r\n    @EnableEurekaClient\r\n    @SpringBootApplication\r\n    @EnableFeignClients\r\n    public class PerformanceApplication {\r\n        @Bean\r\n        public Filter requestDetailsFilter() {\r\n            return new RequestDetailsFilter();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(PerformanceApplication.class, args);\r\n        }\r\n    \r\n        private class RequestDetailsFilter implements Filter {\r\n            @Override\r\n            public void init(FilterConfig filterConfig) throws ServletException {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n                String userName = ((HttpServletRequest)servletRequest).getHeader(&quot;Z-User-Details&quot;);\r\n                String pass = ((HttpServletRequest)servletRequest).getHeader(&quot;X-User-Details&quot;);\r\n                if (pass != null)\r\n                    pass = decrypt(pass);\r\n                SecurityContext secure = new SecurityContextImpl();\r\n                org.springframework.security.core.Authentication token = new UsernamePasswordAuthenticationToken(userName, pass);\r\n                secure.\tsetAuthentication(token);\r\n                SecurityContextHolder.setContext(secure);\r\n                filterChain.doFilter(servletRequest, servletResponse);\r\n            }\r\n    \r\n            @Override\r\n            public void destroy() {\r\n    \r\n            }\r\n        }\r\n        private String decrypt(String str) {\r\n            try {\r\n                Cipher dcipher = new NullCipher();\r\n    \r\n                // Decode base64 to get bytes\r\n                byte[] dec = new sun.misc.BASE64Decoder().decodeBuffer(str);\r\n    \r\n                // Decrypt\r\n                byte[] utf8 = dcipher.doFinal(dec);\r\n    \r\n                // Decode using utf-8\r\n                return new String(utf8, &quot;UTF8&quot;);\r\n            } catch (javax.crypto.BadPaddingException e) {\r\n            } catch (IllegalBlockSizeException e) {\r\n            } catch (UnsupportedEncodingException e) {\r\n            } catch (java.io.IOException e) {\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nThis is my feign client:\r\n\r\n    @FeignClient(&quot;holiday-client&quot;)\r\n    public interface EmailClient {\r\n        @RequestMapping(value = &quot;/api/email/send&quot;, method = RequestMethod.POST)\r\n        void sendEmail(@RequestBody Email email);\r\n    }\r\n\r\nAnd here I have a request interceptor:\r\n\r\n    @Component\r\n    public class FeignRequestInterceptor implements RequestInterceptor {\r\n        private String headerValue;\r\n    \r\n        public FeignRequestInterceptor() {\r\n        }\r\n    \r\n        public FeignRequestInterceptor(String username, String password) {\r\n            this(username, password, ISO_8859_1);\r\n        }\r\n    \r\n        public FeignRequestInterceptor(String username, String password, Charset charset) {\r\n            checkNotNull(username, &quot;username&quot;);\r\n            checkNotNull(password, &quot;password&quot;);\r\n            this.headerValue = &quot;Basic &quot; + base64encode((username + &quot;:&quot; + password).getBytes(charset));\r\n        }\r\n    \r\n        private static String base64encode(byte[] bytes) {\r\n            BASE64Encoder encoder = new BASE64Encoder();\r\n            return encoder.encode(bytes);\r\n        }\r\n    \r\n        @Override\r\n        public void apply(RequestTemplate requestTemplate) {\r\n            requestTemplate.header(&quot;Authorization&quot;, headerValue);\r\n        }\r\n    }\r\n\r\nI don&#39;t know how to configure this interceptor to my client and how to set the header with the username and password. How can I accomplish that ?\r\n","title":"How to add a request interceptor to a feign client?","body":"<p>I want every time when I make a request through feign client, to set a specific header with my authenticated user. </p>\n\n<p>This is my filter from which I get the authentication and set it to the spring security context:</p>\n\n<pre><code>@EnableEurekaClient\n@SpringBootApplication\n@EnableFeignClients\npublic class PerformanceApplication {\n    @Bean\n    public Filter requestDetailsFilter() {\n        return new RequestDetailsFilter();\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(PerformanceApplication.class, args);\n    }\n\n    private class RequestDetailsFilter implements Filter {\n        @Override\n        public void init(FilterConfig filterConfig) throws ServletException {\n\n        }\n\n        @Override\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n            String userName = ((HttpServletRequest)servletRequest).getHeader(\"Z-User-Details\");\n            String pass = ((HttpServletRequest)servletRequest).getHeader(\"X-User-Details\");\n            if (pass != null)\n                pass = decrypt(pass);\n            SecurityContext secure = new SecurityContextImpl();\n            org.springframework.security.core.Authentication token = new UsernamePasswordAuthenticationToken(userName, pass);\n            secure. setAuthentication(token);\n            SecurityContextHolder.setContext(secure);\n            filterChain.doFilter(servletRequest, servletResponse);\n        }\n\n        @Override\n        public void destroy() {\n\n        }\n    }\n    private String decrypt(String str) {\n        try {\n            Cipher dcipher = new NullCipher();\n\n            // Decode base64 to get bytes\n            byte[] dec = new sun.misc.BASE64Decoder().decodeBuffer(str);\n\n            // Decrypt\n            byte[] utf8 = dcipher.doFinal(dec);\n\n            // Decode using utf-8\n            return new String(utf8, \"UTF8\");\n        } catch (javax.crypto.BadPaddingException e) {\n        } catch (IllegalBlockSizeException e) {\n        } catch (UnsupportedEncodingException e) {\n        } catch (java.io.IOException e) {\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>This is my feign client:</p>\n\n<pre><code>@FeignClient(\"holiday-client\")\npublic interface EmailClient {\n    @RequestMapping(value = \"/api/email/send\", method = RequestMethod.POST)\n    void sendEmail(@RequestBody Email email);\n}\n</code></pre>\n\n<p>And here I have a request interceptor:</p>\n\n<pre><code>@Component\npublic class FeignRequestInterceptor implements RequestInterceptor {\n    private String headerValue;\n\n    public FeignRequestInterceptor() {\n    }\n\n    public FeignRequestInterceptor(String username, String password) {\n        this(username, password, ISO_8859_1);\n    }\n\n    public FeignRequestInterceptor(String username, String password, Charset charset) {\n        checkNotNull(username, \"username\");\n        checkNotNull(password, \"password\");\n        this.headerValue = \"Basic \" + base64encode((username + \":\" + password).getBytes(charset));\n    }\n\n    private static String base64encode(byte[] bytes) {\n        BASE64Encoder encoder = new BASE64Encoder();\n        return encoder.encode(bytes);\n    }\n\n    @Override\n    public void apply(RequestTemplate requestTemplate) {\n        requestTemplate.header(\"Authorization\", headerValue);\n    }\n}\n</code></pre>\n\n<p>I don't know how to configure this interceptor to my client and how to set the header with the username and password. How can I accomplish that ?</p>\n"},{"tags":["java","kotlin","micronaut"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1556292488,"post_id":55870398,"comment_id":98401349,"body_markdown":"There is `io.micronaut.http.HttpRequest`","body":"There is <code>io.micronaut.http.HttpRequest</code>"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1556311416,"post_id":55870398,"comment_id":98409157,"body_markdown":"I noticed, but I didn&#39;t find a way to correctly get all the things which I described.","body":"I noticed, but I didn&#39;t find a way to correctly get all the things which I described."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1556312084,"post_id":55870398,"comment_id":98409400,"body_markdown":"There is `io.micronaut.http.FullHttpRequest` ...?","body":"There is <code>io.micronaut.http.FullHttpRequest</code> ...?"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1556385385,"post_id":55870398,"comment_id":98424487,"body_markdown":"Yeah, but it doesn&#39;t have neither InputStream, nor OutputStream on FullHttpResponse.","body":"Yeah, but it doesn&#39;t have neither InputStream, nor OutputStream on FullHttpResponse."},{"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"score":0,"creation_date":1556545128,"post_id":55870398,"comment_id":98464685,"body_markdown":"&quot;input/output stream (especially writing directly to output stream)&quot; Return a reactive stream to achieve this. Micronaut is non blocking so streams are not used like how they are in the servlet world","body":"&quot;input/output stream (especially writing directly to output stream)&quot; Return a reactive stream to achieve this. Micronaut is non blocking so streams are not used like how they are in the servlet world"}],"answers":[{"tags":[],"owner":{"account_id":6708129,"reputation":1468,"user_id":5172345,"accept_rate":100,"display_name":"RAJKUMAR NAGARETHINAM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556530767,"creation_date":1556530767,"answer_id":55900644,"question_id":55870398,"body_markdown":"@RequestBody -&gt; @Body (https://docs.micronaut.io/latest/guide/index.html#bodyAnnotation)\r\n\r\n@RequestParam -&gt; @QueryValue\r\n\r\nhttps://micronaut-projects.github.io/micronaut-spring/latest/guide/index.html","title":"Alternatives for HttpServletRequest and HttpServletResponse in Micronaut","body":"<p>@RequestBody -> @Body (<a href=\"https://docs.micronaut.io/latest/guide/index.html#bodyAnnotation\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/index.html#bodyAnnotation</a>)</p>\n\n<p>@RequestParam -> @QueryValue</p>\n\n<p><a href=\"https://micronaut-projects.github.io/micronaut-spring/latest/guide/index.html\" rel=\"nofollow noreferrer\">https://micronaut-projects.github.io/micronaut-spring/latest/guide/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556641231,"creation_date":1556545423,"answer_id":55904697,"question_id":55870398,"body_markdown":"https://docs.micronaut.io/latest/guide/index.html#requestResponse and https://docs.micronaut.io/latest/guide/index.html#binding shows how to bind to request parameters, cookies, headers, etc.\r\n\r\nhttps://docs.micronaut.io/latest/guide/index.html#uploads shows how to handle file uploads.\r\n\r\n&gt; input/output stream (especially writing directly to output stream)\r\n\r\nMicronaut does things differently so you don&#39;t have access to a stream to write to. You can return a reactive type to have your data pushed to the response as soon as it&#39;s available. \r\n\r\n&gt; getting client IP\r\n\r\nTypically available via the host header or https://docs.micronaut.io/latest/api/io/micronaut/http/HttpRequest.html#getRemoteAddress--\r\n\r\nEdit: Sending an XML file chunked\r\n\r\n    @Get(uri = &quot;/xml&quot;, produces = MediaType.TEXT_XML)\r\n    Flowable&lt;String&gt; getXml() {\r\n        return Flowable.create(emitter -&gt; {\r\n            emitter.onNext(&quot;&lt;&lt;xml header&gt;&gt;&quot;);\r\n            //do some work\r\n            emitter.onNext(&quot;more xml&quot;);\r\n            emitter.onNext(&quot;&lt;&lt;xml footer&gt;&gt;&quot;);\r\n        }, BackpressureStrategy.BUFFER);\r\n    }","title":"Alternatives for HttpServletRequest and HttpServletResponse in Micronaut","body":"<p><a href=\"https://docs.micronaut.io/latest/guide/index.html#requestResponse\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/index.html#requestResponse</a> and <a href=\"https://docs.micronaut.io/latest/guide/index.html#binding\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/index.html#binding</a> shows how to bind to request parameters, cookies, headers, etc.</p>\n\n<p><a href=\"https://docs.micronaut.io/latest/guide/index.html#uploads\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/index.html#uploads</a> shows how to handle file uploads.</p>\n\n<blockquote>\n  <p>input/output stream (especially writing directly to output stream)</p>\n</blockquote>\n\n<p>Micronaut does things differently so you don't have access to a stream to write to. You can return a reactive type to have your data pushed to the response as soon as it's available. </p>\n\n<blockquote>\n  <p>getting client IP</p>\n</blockquote>\n\n<p>Typically available via the host header or <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/HttpRequest.html#getRemoteAddress--\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/api/io/micronaut/http/HttpRequest.html#getRemoteAddress--</a></p>\n\n<p>Edit: Sending an XML file chunked</p>\n\n<pre><code>@Get(uri = \"/xml\", produces = MediaType.TEXT_XML)\nFlowable&lt;String&gt; getXml() {\n    return Flowable.create(emitter -&gt; {\n        emitter.onNext(\"&lt;&lt;xml header&gt;&gt;\");\n        //do some work\n        emitter.onNext(\"more xml\");\n        emitter.onNext(\"&lt;&lt;xml footer&gt;&gt;\");\n    }, BackpressureStrategy.BUFFER);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556603222,"creation_date":1556603222,"answer_id":55914624,"question_id":55870398,"body_markdown":"You can use a [Filter][1] for using HTTP request/response\r\n\r\n    @Singleton\r\n    public class TraceService {\r\n\r\n    Flowable&lt;Boolean&gt; yourFilter(HttpRequest&lt;?&gt; request) {\r\n\r\n&gt;The Micronaut HTTP server supports the ability to apply filters to request/response processing in a similar, but reactive, way to Servlet filters in traditional Java applications.\r\n\r\n&gt;Filters provide the ability to support the following use cases:\r\n\r\n&gt;Decoration of the incoming HttpRequest\r\n\r\n&gt;Modification of the outgoing HttpResponse\r\n\r\n[1]:https://docs.micronaut.io/latest/guide/index.html#transfers","title":"Alternatives for HttpServletRequest and HttpServletResponse in Micronaut","body":"<p>You can use a <a href=\"https://docs.micronaut.io/latest/guide/index.html#transfers\" rel=\"nofollow noreferrer\">Filter</a> for using HTTP request/response</p>\n\n<pre><code>@Singleton\npublic class TraceService {\n\nFlowable&lt;Boolean&gt; yourFilter(HttpRequest&lt;?&gt; request) {\n</code></pre>\n\n<blockquote>\n  <p>The Micronaut HTTP server supports the ability to apply filters to request/response processing in a similar, but reactive, way to Servlet filters in traditional Java applications.</p>\n  \n  <p>Filters provide the ability to support the following use cases:</p>\n  \n  <p>Decoration of the incoming HttpRequest</p>\n  \n  <p>Modification of the outgoing HttpResponse</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5990652,"reputation":56,"user_id":4706826,"display_name":"MarcD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680955786,"creation_date":1680955786,"answer_id":75965131,"question_id":55870398,"body_markdown":"Turns out I got stuck with this problem tonight but there&#39;s a way around it.\r\n\r\nCreate a generic Bean that stores a HttpHeaders property.\r\n\r\n    public class HttpHeaderHolder {\r\n        private HttpHeaders headers;\r\n    \r\n        public HttpHeaderHolder() {\r\n        }\r\n    \r\n        public HttpHeaders getHeaders() {\r\n            return headers;\r\n        }\r\n    \r\n        public void setHeaders(HttpHeaders headers) {\r\n            this.headers = headers;\r\n        }\r\n    \r\n    }\r\n\r\nOnce you have this, create a Factory that creates a RequestScoped bean of that class.\r\n\r\n    @Factory\r\n    public class HttpHeaderFactory {\r\n    \r\n        @Bean\r\n        @RequestScope\r\n        public HttpHeaderHolder requestHeaders() {\r\n            return new HttpHeaderHolder();\r\n        }\r\n    \r\n    }\r\n\r\nNow, you can make a Filter that has this bean injected to which to can then inject the headers from the request.\r\n\r\n    @Filter(&quot;/**&quot;)\r\n    public class SomeFilter implements HttpFilter {\r\n        @Inject\r\n        private HttpHeaderHolder instance;\r\n    \r\n        @Override\r\n        public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\r\n            instance.setHeaders(request.getHeaders());\r\n            return chain.proceed(request);\r\n        }\r\n    \r\n    }\r\n\r\nNow you have a bean you can inject into anywhere to get the headers for the current request.  It seems to work because the filter will intercept the request and push the HttpHeaders into the bean before reaching the Controllers.\r\n\r\n\r\n\r\n","title":"Alternatives for HttpServletRequest and HttpServletResponse in Micronaut","body":"<p>Turns out I got stuck with this problem tonight but there's a way around it.</p>\n<p>Create a generic Bean that stores a HttpHeaders property.</p>\n<pre><code>public class HttpHeaderHolder {\n    private HttpHeaders headers;\n\n    public HttpHeaderHolder() {\n    }\n\n    public HttpHeaders getHeaders() {\n        return headers;\n    }\n\n    public void setHeaders(HttpHeaders headers) {\n        this.headers = headers;\n    }\n\n}\n</code></pre>\n<p>Once you have this, create a Factory that creates a RequestScoped bean of that class.</p>\n<pre><code>@Factory\npublic class HttpHeaderFactory {\n\n    @Bean\n    @RequestScope\n    public HttpHeaderHolder requestHeaders() {\n        return new HttpHeaderHolder();\n    }\n\n}\n</code></pre>\n<p>Now, you can make a Filter that has this bean injected to which to can then inject the headers from the request.</p>\n<pre><code>@Filter(&quot;/**&quot;)\npublic class SomeFilter implements HttpFilter {\n    @Inject\n    private HttpHeaderHolder instance;\n\n    @Override\n    public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\n        instance.setHeaders(request.getHeaders());\n        return chain.proceed(request);\n    }\n\n}\n</code></pre>\n<p>Now you have a bean you can inject into anywhere to get the headers for the current request.  It seems to work because the filter will intercept the request and push the HttpHeaders into the bean before reaching the Controllers.</p>\n"}],"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55904697,"answer_count":4,"score":1,"last_activity_date":1680955786,"creation_date":1556291316,"question_id":55870398,"body_markdown":"I am playing with Micronaut and what I currently miss is access to `HttpServletRequest` and `HttpServletResponse`. These normally allow to access things like:\r\n\r\n- request parameters\r\n- input/output stream (especially writing directly to output stream)\r\n- getting/setting cookies\r\n- getting/setting headers\r\n- getting client IP\r\n\r\nAlso I am not sure about alternatives for:\r\n\r\n- `@RequestParam files: List&lt;MultipartFile&gt;`\r\n- `@RequestBody myClass: MyClass`\r\n","title":"Alternatives for HttpServletRequest and HttpServletResponse in Micronaut","body":"<p>I am playing with Micronaut and what I currently miss is access to <code>HttpServletRequest</code> and <code>HttpServletResponse</code>. These normally allow to access things like:</p>\n\n<ul>\n<li>request parameters</li>\n<li>input/output stream (especially writing directly to output stream)</li>\n<li>getting/setting cookies</li>\n<li>getting/setting headers</li>\n<li>getting client IP</li>\n</ul>\n\n<p>Also I am not sure about alternatives for:</p>\n\n<ul>\n<li><code>@RequestParam files: List&lt;MultipartFile&gt;</code></li>\n<li><code>@RequestBody myClass: MyClass</code></li>\n</ul>\n"},{"tags":["java","json","path","invalid-characters"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1680779605,"post_id":75948827,"comment_id":133957440,"body_markdown":"That&#39;s invalid JSON, basically. Your backslashes should be doubled. It&#39;s got nothing to do with the code processing it really (beyond that they require valid JSON) - it&#39;s just an invalid JSON file. (Backslash in a JSON string is used as an escape character - two backslashes in a row are used to represent a single &quot;real&quot; backslash.)","body":"That&#39;s invalid JSON, basically. Your backslashes should be doubled. It&#39;s got nothing to do with the code processing it really (beyond that they require valid JSON) - it&#39;s just an invalid JSON file. (Backslash in a JSON string is used as an escape character - two backslashes in a row are used to represent a single &quot;real&quot; backslash.)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680955547,"post_id":75948827,"comment_id":133983707,"body_markdown":"In addition to the incorrect use of backslashes, that config option is for the path of Git, so the Maven executable doesn&#39;t belong in that config option.","body":"In addition to the incorrect use of backslashes, that config option is for the path of Git, so the Maven executable doesn&#39;t belong in that config option."}],"owner":{"account_id":28231150,"reputation":11,"user_id":21580352,"display_name":"Luuk De Blaaij"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680955587,"answer_count":0,"score":1,"last_activity_date":1680955494,"creation_date":1680779356,"question_id":75948827,"body_markdown":"For a school project about E.V chargingstations with OCCP communication. \r\nI have to Set up a network and use openscource programs.\r\n\r\nOne of the requierd programs is: Maven v3.9.1\r\nOnce I try to run the code in VisualStudio I get the following error massage:\r\nInvalid escape character in string, jsonc\r\n\r\nThe code\r\n\r\n[Screenshot visualstudio code](https://i.stack.imgur.com/abkpI.png)\r\n\r\n```json\r\n{\r\n    &quot;workbench.colorTheme&quot;: &quot;Default Light+&quot;,\r\n    &quot;git.path&quot;:&quot;C:\\Users\\de Blaaij\\Desktop\\OCCP\\apache-maven-3.9.1\\bin\\mvn.cmd&quot;\r\n}\r\n```\r\n\r\nThe error\r\n\r\n```none\r\nValue expected\r\nInvalid escape character in string.\r\n\r\nUsed software for the project\r\n```\r\n\r\n- https://maven.apache.org/\r\n- https://github.com/steve-community/steve\r\n- https://github.com/sap-labs-france/ev-server\r\n- https://mariadb.org/\r\n\r\nI&#39;m using windows\r\n\r\n\r\nI have worked trough the readme files of the program and the related readme file from the opensource software. A fellow student also helped me out here, but we can&#39;t get rid of this error.\r\n\r\nIf anyone knows a way to fix this problem, I be happy to hear it.\r\n","title":"Invalid escape character in string, jsonc","body":"<p>For a school project about E.V chargingstations with OCCP communication.\nI have to Set up a network and use openscource programs.</p>\n<p>One of the requierd programs is: Maven v3.9.1\nOnce I try to run the code in VisualStudio I get the following error massage:\nInvalid escape character in string, jsonc</p>\n<p>The code</p>\n<p><a href=\"https://i.stack.imgur.com/abkpI.png\" rel=\"nofollow noreferrer\">Screenshot visualstudio code</a></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;workbench.colorTheme&quot;: &quot;Default Light+&quot;,\n    &quot;git.path&quot;:&quot;C:\\Users\\de Blaaij\\Desktop\\OCCP\\apache-maven-3.9.1\\bin\\mvn.cmd&quot;\n}\n</code></pre>\n<p>The error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Value expected\nInvalid escape character in string.\n\nUsed software for the project\n</code></pre>\n<ul>\n<li><a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">https://maven.apache.org/</a></li>\n<li><a href=\"https://github.com/steve-community/steve\" rel=\"nofollow noreferrer\">https://github.com/steve-community/steve</a></li>\n<li><a href=\"https://github.com/sap-labs-france/ev-server\" rel=\"nofollow noreferrer\">https://github.com/sap-labs-france/ev-server</a></li>\n<li><a href=\"https://mariadb.org/\" rel=\"nofollow noreferrer\">https://mariadb.org/</a></li>\n</ul>\n<p>I'm using windows</p>\n<p>I have worked trough the readme files of the program and the related readme file from the opensource software. A fellow student also helped me out here, but we can't get rid of this error.</p>\n<p>If anyone knows a way to fix this problem, I be happy to hear it.</p>\n"},{"tags":["java","dynamic-programming","knapsack-problem","topdown"],"owner":{"account_id":5319652,"reputation":21,"user_id":4243461,"display_name":"Zephyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680955294,"creation_date":1680955196,"question_id":75965086,"body_markdown":"I am trying to solve the classic 0/1 knapsack problem with a slight variant where we are asked to return the maximum value + the list of included items. \r\n\r\nInput\r\nitems = [[1,2],[4,3],[5,6],[6,7]] where items[i][0] is the value and items[i][1] denotes the weight\r\ncapacity = 10\r\n\r\nOutput \r\n[10,[1,3]] // maximum value is 10 when items at index 1 and 3 are included\r\n\r\nWhen we are simply asked to return the maximum value, I understand the brute-force, top-down and tabular approaches and I get it that it takes O(n*w) time and space to store and compute these many states.\r\n\r\nAs I work through this specific question that asks us to return the list of items as well, I wonder if my Top-Down DP approach takes O(n*n*w) time [the brute force takes O(n*2^n)] . I looked at a sample tabular approach solution where we build the table and then follow the decision sequence to get the list of items. This doesn&#39;t change the TC and SC = O(n*w). I am wondering if something similar is possible with top-down.\r\n\r\nI assume that my below code runs for O(n*n*w) because writing to the result in the base case takes O(n) time. Is it possible to achieve O(n*w) to output the required result using top-down approach? \r\nIf yes, how?  \r\n\r\nHere&#39;s my code :\r\n\r\nPlease note that the below code is passing for the majority of the test cases, but doesn&#39;t pass them all - so I know that something might be off, but my overall approach seems correct.  \r\n\r\n```\r\n public static List&lt;List&lt;Integer&gt;&gt; knapsackProblem(int[][] items, int capacity) {\r\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    int n = items.length;\r\n    int[][] memo = new int[n+1][capacity+1];\r\n    for (int i = 1; i &lt; n + 1; i++) {\r\n        Arrays.fill(memo[i], -1);\r\n    }\r\n    knapsackHelper(0, items, capacity, new ArrayList&lt;Integer&gt;(), result, memo);\r\n    return result;\r\n  }\r\n\r\n private static int knapsackHelper(int index, int[][] items, int curCapacity, List&lt;Integer&gt; itemIndices,   List&lt;List&lt;Integer&gt;&gt; result, int[][] memo) {\r\n      if (index == items.length || curCapacity == 0) {\r\n            int totalValue = 0;\r\n            for (int itemIndex : itemIndices) {\r\n                totalValue += items[itemIndex][0];\r\n            } \r\n            if (result.isEmpty()) {\r\n              result.add(Arrays.asList(new Integer[]{totalValue}));\r\n              result.add(new ArrayList&lt;&gt;(itemIndices));\r\n            } else if (result.get(0).get(0) &lt; totalValue) {\r\n              result.set(0, Arrays.asList(new Integer[]{totalValue}));\r\n              result.set(1, new ArrayList&lt;&gt;(itemIndices)); \r\n            }\r\n            return totalValue;\r\n      }\r\n      if (memo[index+1][curCapacity] != -1) {\r\n            return memo[index][curCapacity]; \r\n      } \r\n      int valueWhenIncluded = Integer.MIN_VALUE;\r\n      if (items[index][1] &lt;= curCapacity) {\r\n            itemIndices.add(index); \r\n            valueWhenIncluded = knapsackHelper(index+1, items, curCapacity-items[index][1], itemIndices, result, memo);\r\n            itemIndices.remove(itemIndices.size()-1);\r\n      }\r\n      int valueWhenExcluded = knapsackHelper(index+1, items, curCapacity, itemIndices, result, memo);\r\n      return memo[index+1][curCapacity] = Math.max(valueWhenIncluded, valueWhenExcluded);\r\n  }\r\n```\r\n","title":"0/1 Knapsack - return maximum value + list of included items - Top Down Approach - Time Complexity cubic or quadratic?","body":"<p>I am trying to solve the classic 0/1 knapsack problem with a slight variant where we are asked to return the maximum value + the list of included items.</p>\n<p>Input\nitems = [[1,2],[4,3],[5,6],[6,7]] where items[i][0] is the value and items[i][1] denotes the weight\ncapacity = 10</p>\n<p>Output\n[10,[1,3]] // maximum value is 10 when items at index 1 and 3 are included</p>\n<p>When we are simply asked to return the maximum value, I understand the brute-force, top-down and tabular approaches and I get it that it takes O(n*w) time and space to store and compute these many states.</p>\n<p>As I work through this specific question that asks us to return the list of items as well, I wonder if my Top-Down DP approach takes O(n<em>n</em>w) time [the brute force takes O(n<em>2^n)] . I looked at a sample tabular approach solution where we build the table and then follow the decision sequence to get the list of items. This doesn't change the TC and SC = O(n</em>w). I am wondering if something similar is possible with top-down.</p>\n<p>I assume that my below code runs for O(n<em>n</em>w) because writing to the result in the base case takes O(n) time. Is it possible to achieve O(n*w) to output the required result using top-down approach?\nIf yes, how?</p>\n<p>Here's my code :</p>\n<p>Please note that the below code is passing for the majority of the test cases, but doesn't pass them all - so I know that something might be off, but my overall approach seems correct.</p>\n<pre><code> public static List&lt;List&lt;Integer&gt;&gt; knapsackProblem(int[][] items, int capacity) {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    int n = items.length;\n    int[][] memo = new int[n+1][capacity+1];\n    for (int i = 1; i &lt; n + 1; i++) {\n        Arrays.fill(memo[i], -1);\n    }\n    knapsackHelper(0, items, capacity, new ArrayList&lt;Integer&gt;(), result, memo);\n    return result;\n  }\n\n private static int knapsackHelper(int index, int[][] items, int curCapacity, List&lt;Integer&gt; itemIndices,   List&lt;List&lt;Integer&gt;&gt; result, int[][] memo) {\n      if (index == items.length || curCapacity == 0) {\n            int totalValue = 0;\n            for (int itemIndex : itemIndices) {\n                totalValue += items[itemIndex][0];\n            } \n            if (result.isEmpty()) {\n              result.add(Arrays.asList(new Integer[]{totalValue}));\n              result.add(new ArrayList&lt;&gt;(itemIndices));\n            } else if (result.get(0).get(0) &lt; totalValue) {\n              result.set(0, Arrays.asList(new Integer[]{totalValue}));\n              result.set(1, new ArrayList&lt;&gt;(itemIndices)); \n            }\n            return totalValue;\n      }\n      if (memo[index+1][curCapacity] != -1) {\n            return memo[index][curCapacity]; \n      } \n      int valueWhenIncluded = Integer.MIN_VALUE;\n      if (items[index][1] &lt;= curCapacity) {\n            itemIndices.add(index); \n            valueWhenIncluded = knapsackHelper(index+1, items, curCapacity-items[index][1], itemIndices, result, memo);\n            itemIndices.remove(itemIndices.size()-1);\n      }\n      int valueWhenExcluded = knapsackHelper(index+1, items, curCapacity, itemIndices, result, memo);\n      return memo[index+1][curCapacity] = Math.max(valueWhenIncluded, valueWhenExcluded);\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","api-gateway","okta-api"],"answers":[{"tags":[],"owner":{"account_id":24204123,"reputation":19,"user_id":18161563,"display_name":"husnitdin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672294279,"creation_date":1672294279,"answer_id":74947832,"question_id":73986507,"body_markdown":"I hope you already found a solution if not here how I solved:\r\n\r\nSign in your okta developer account\r\n\r\ngo to Directory -&gt; People -&gt; Click one of the users. Make sure s/he is active.\r\n\r\nthen Assign Application -&gt; choose/assign application and Save\r\n\r\ntry http://localhost:9090/authenticate/login\r\nfrom incognito browser hope works","title":"Spring Cloud Api Gateway Okta Invalid Credientials","body":"<p>I hope you already found a solution if not here how I solved:</p>\n<p>Sign in your okta developer account</p>\n<p>go to Directory -&gt; People -&gt; Click one of the users. Make sure s/he is active.</p>\n<p>then Assign Application -&gt; choose/assign application and Save</p>\n<p>try http://localhost:9090/authenticate/login\nfrom incognito browser hope works</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680955095,"creation_date":1665142224,"question_id":73986507,"body_markdown":"I have a problem about opening the login page of okta through `http://localhost:9090/authenticate/login` \r\n\r\nI already get a page with showing a message which named **&quot;Invalid Crediantials&quot;**\r\n\r\nHere is the screenshot shown below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nEven if I recreate an app in app many times, I couldn&#39;t solve the issue.\r\n\r\nHow can I fix it?\r\n\r\nHere is the application.yml of api gateway shown below.\r\n\r\n    server:\r\n      port: 9090\r\n    \r\n    \r\n    spring:\r\n      application:\r\n        name: API-GATEWAY\r\n      config:\r\n        import: configserver:http://localhost:9296\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: ORDER-SERVICE\r\n              uri: lb://ORDER-SERVICE\r\n              predicates:\r\n                - Path=/order/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: ORDER-SERVICE\r\n                    fallbackuri: forward:/orderServiceFallBack\r\n                - name: RequestRateLimiter\r\n                  args:\r\n                    redis-rate-limiter.replenishRate: 1 # how many requests per second a user is allowed to send without any dropped requests (1000 requests per minute)\r\n                    redis-rate-limiter.burstCapacity: 1 # maximum number of requests a user is allowed to do in a single second (500 requests per second)\r\n            - id: PAYMENT-SERVICE\r\n              uri: lb://PAYMENT-SERVICE\r\n              predicates:\r\n                - Path=/payment/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: PAYMENT-SERVICE\r\n                    fallbackuri: forward:/paymentServiceFallBack\r\n                - name: RequestRateLimiter\r\n                  args:\r\n                    redis-rate-limiter.replenishRate: 1\r\n                    redis-rate-limiter.burstCapacity: 1\r\n            - id: PRODUCT-SERVICE\r\n              uri: lb://PRODUCT-SERVICE\r\n              predicates:\r\n                - Path=/product/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: PRODUCT-SERVICE\r\n                    fallbackuri: forward:/productServiceFallBack\r\n                - name: RequestRateLimiter\r\n                  args:\r\n                    redis-rate-limiter.replenishRate: 1\r\n                    redis-rate-limiter.burstCapacity: 1\r\n    \r\n    \r\n    okta:\r\n      oauth2:\r\n        issuer: https://dev-54315943.okta.com/oauth2/default\r\n        audience: api://default\r\n        client-id: 0oa6s2k5zyiKYoGwL5d7 // my client id\r\n        client-secret: AqGnodb6VrX-eRiHnnZEE-HTZGUt383CVwLI344t // my client secret\r\n        scopes: openid, email, profile, offline_access\r\n\r\nHere is the security configuration shown below.\r\n\r\n    @Configuration\r\n    @EnableWebFluxSecurity\r\n    public class OktaOAuth2WebSecurity {\r\n    \r\n        @Bean\r\n        public SecurityWebFilterChain securityFilterChain(ServerHttpSecurity http) {\r\n            http\r\n                    .authorizeExchange()\r\n                    .anyExchange().authenticated()\r\n                    .and()\r\n                    .oauth2Login()\r\n                    .and()\r\n                    .oauth2ResourceServer()\r\n                    .jwt();\r\n            return http.build();\r\n        }\r\n    }\r\n\r\nHere is the controller shown below.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/authenticate&quot;)\r\n    @Slf4j\r\n    public class AuthController {\r\n    \r\n        @GetMapping(&quot;/login&quot;)\r\n        public ResponseEntity&lt;AuthenticationResponse&gt; login(\r\n                @AuthenticationPrincipal OidcUser oidcUser,\r\n                Model model,\r\n                @RegisteredOAuth2AuthorizedClient(&quot;okta&quot;)\r\n                OAuth2AuthorizedClient client\r\n        ) {\r\n    \r\n            log.info(&quot;AuthController | login is called&quot;);\r\n            log.info(&quot;AuthController | login | client : &quot; + client.toString());\r\n    \r\n            AuthenticationResponse authenticationResponse = null;\r\n            try{\r\n                authenticationResponse\r\n                        = AuthenticationResponse.builder()\r\n                        .userId(oidcUser.getEmail())\r\n                        .accessToken(client.getAccessToken().getTokenValue())\r\n                        .refreshToken(client.getRefreshToken().getTokenValue())\r\n                        .expiresAt(client.getAccessToken().getExpiresAt().getEpochSecond())\r\n                        .authorityList(oidcUser.getAuthorities()\r\n                                .stream()\r\n                                .map(GrantedAuthority::getAuthority)\r\n                                .collect(Collectors.toList()))\r\n                        .build();\r\n            }catch (Exception e){\r\n                log.info(&quot;AuthController | login | error : &quot; + e.getMessage());\r\n            }\r\n    \r\n    \r\n            return new ResponseEntity&lt;&gt;(authenticationResponse, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pG65o.png","title":"Spring Cloud Api Gateway Okta Invalid Credientials","body":"<p>I have a problem about opening the login page of okta through <code>http://localhost:9090/authenticate/login</code></p>\n<p>I already get a page with showing a message which named <strong>&quot;Invalid Crediantials&quot;</strong></p>\n<p>Here is the screenshot shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/pG65o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pG65o.png\" alt=\"enter image description here\" /></a></p>\n<p>Even if I recreate an app in app many times, I couldn't solve the issue.</p>\n<p>How can I fix it?</p>\n<p>Here is the application.yml of api gateway shown below.</p>\n<pre><code>server:\n  port: 9090\n\n\nspring:\n  application:\n    name: API-GATEWAY\n  config:\n    import: configserver:http://localhost:9296\n  cloud:\n    gateway:\n      routes:\n        - id: ORDER-SERVICE\n          uri: lb://ORDER-SERVICE\n          predicates:\n            - Path=/order/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: ORDER-SERVICE\n                fallbackuri: forward:/orderServiceFallBack\n            - name: RequestRateLimiter\n              args:\n                redis-rate-limiter.replenishRate: 1 # how many requests per second a user is allowed to send without any dropped requests (1000 requests per minute)\n                redis-rate-limiter.burstCapacity: 1 # maximum number of requests a user is allowed to do in a single second (500 requests per second)\n        - id: PAYMENT-SERVICE\n          uri: lb://PAYMENT-SERVICE\n          predicates:\n            - Path=/payment/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: PAYMENT-SERVICE\n                fallbackuri: forward:/paymentServiceFallBack\n            - name: RequestRateLimiter\n              args:\n                redis-rate-limiter.replenishRate: 1\n                redis-rate-limiter.burstCapacity: 1\n        - id: PRODUCT-SERVICE\n          uri: lb://PRODUCT-SERVICE\n          predicates:\n            - Path=/product/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: PRODUCT-SERVICE\n                fallbackuri: forward:/productServiceFallBack\n            - name: RequestRateLimiter\n              args:\n                redis-rate-limiter.replenishRate: 1\n                redis-rate-limiter.burstCapacity: 1\n\n\nokta:\n  oauth2:\n    issuer: https://dev-54315943.okta.com/oauth2/default\n    audience: api://default\n    client-id: 0oa6s2k5zyiKYoGwL5d7 // my client id\n    client-secret: AqGnodb6VrX-eRiHnnZEE-HTZGUt383CVwLI344t // my client secret\n    scopes: openid, email, profile, offline_access\n</code></pre>\n<p>Here is the security configuration shown below.</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class OktaOAuth2WebSecurity {\n\n    @Bean\n    public SecurityWebFilterChain securityFilterChain(ServerHttpSecurity http) {\n        http\n                .authorizeExchange()\n                .anyExchange().authenticated()\n                .and()\n                .oauth2Login()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n        return http.build();\n    }\n}\n</code></pre>\n<p>Here is the controller shown below.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/authenticate&quot;)\n@Slf4j\npublic class AuthController {\n\n    @GetMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; login(\n            @AuthenticationPrincipal OidcUser oidcUser,\n            Model model,\n            @RegisteredOAuth2AuthorizedClient(&quot;okta&quot;)\n            OAuth2AuthorizedClient client\n    ) {\n\n        log.info(&quot;AuthController | login is called&quot;);\n        log.info(&quot;AuthController | login | client : &quot; + client.toString());\n\n        AuthenticationResponse authenticationResponse = null;\n        try{\n            authenticationResponse\n                    = AuthenticationResponse.builder()\n                    .userId(oidcUser.getEmail())\n                    .accessToken(client.getAccessToken().getTokenValue())\n                    .refreshToken(client.getRefreshToken().getTokenValue())\n                    .expiresAt(client.getAccessToken().getExpiresAt().getEpochSecond())\n                    .authorityList(oidcUser.getAuthorities()\n                            .stream()\n                            .map(GrantedAuthority::getAuthority)\n                            .collect(Collectors.toList()))\n                    .build();\n        }catch (Exception e){\n            log.info(&quot;AuthController | login | error : &quot; + e.getMessage());\n        }\n\n\n        return new ResponseEntity&lt;&gt;(authenticationResponse, HttpStatus.OK);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mediarecorder"],"owner":{"account_id":28226327,"reputation":1,"user_id":21576268,"display_name":"Tao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680954061,"creation_date":1680954061,"question_id":75965013,"body_markdown":"I&#39;m new into the world of Android Studio. I did a basic app with somes buttons and now i&#39;m trying to do something more complexe: Pressing a button call a service to record a video (with MediaRecorder) in the background and pressing it again will stop the recording.\r\nActually it run well but when i press the button for the second time (to stop the recording) it crash (E/MediaRecorder: stop failed: -1007).\r\n`E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.example.test4, PID: 27039     java.lang.RuntimeException: Unable to stop service com.example.test4.MyRecIntentService@9dc2fc9: java.lang.RuntimeException: stop failed.`\r\nIt create a mp4 file with a different size each time so i&#39;m, assuming it&#39;s recording something. But each file is unreadable.\r\n\r\nSo i&#39;m stuck and no forums on internet helped me atm. I even tried chatGPT, he&#39;s usefull to debug sometimes, but this time he wasn&#39;t. So if anyone can help me here, i&#39;ll be really grateful.\r\nThanks anyway for you time if you&#39;re passing by :). Have a nice day.\r\n\r\n(I&#39;m using an Huawei Mate 10 Pro - &#39;Device Manager&#39; show &#39;Android 10.0&#39;)\r\n\r\nHere&#39;s my code:\r\n\r\n**MANIFEST**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Test4&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;service\r\n            android:name=&quot;.MyRecIntentService&quot;\r\n            android:exported=&quot;false&quot;\r\n        /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.Test4.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**MAIN ACTIVITY**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration appBarConfiguration;\r\nprivate ActivityMainBinding binding;\r\n    private int REQUEST_CODE_PERMISSIONS = 101;\r\n    private final String[] REQUIRED_PERMISSIONS = {\r\n            android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n            android.Manifest.permission.RECORD_AUDIO,\r\n            Manifest.permission.CAMERA\r\n    };\r\n    boolean isRecording = false;\r\n    Activity homeActivity;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n     binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n     setContentView(binding.getRoot());\r\n\r\n        setSupportActionBar(binding.toolbar);\r\n\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        appBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph()).build();\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n\r\n        homeActivity = this;\r\n\r\n        Intent serviceIntent = new Intent(homeActivity, MyRecIntentService.class);\r\n\r\n        binding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (isRecording) {\r\n                    binding.fab.setBackgroundTintList(ColorStateList.valueOf(Color.GRAY));\r\n\r\n                    stopService(serviceIntent);\r\n                } else {\r\n                    binding.fab.setBackgroundTintList(ColorStateList.valueOf(Color.RED));\r\n\r\n                    //Appelle le service Record Video\r\n                    if (allPermissionsGranted()) {\r\n                        Snackbar.make(view, &quot;RECORDING =)&quot;, Snackbar.LENGTH_LONG)\r\n                                .setAction(&quot;Action&quot;, null).show();\r\n\r\n\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                            startForegroundService(serviceIntent);\r\n                        } else {\r\n                            startService(serviceIntent);\r\n                        }\r\n                    } else {\r\n                        Snackbar.make(view, &quot;NO PERMISSIONS&quot;, Snackbar.LENGTH_LONG)\r\n                                .setAction(&quot;Action&quot;, null).show();\r\n                        ActivityCompat.requestPermissions(homeActivity, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS);\r\n                    }\r\n                }\r\n                isRecording = !isRecording;\r\n            }\r\n        });\r\n    }\r\n@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n    return super.onOptionsItemSelected(item);\r\n}\r\n\r\n@Override\r\npublic boolean onSupportNavigateUp() {\r\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n    return NavigationUI.navigateUp(navController, appBarConfiguration)\r\n            || super.onSupportNavigateUp();\r\n}\r\nprivate boolean allPermissionsGranted(){\r\n\r\n    for(String permission : REQUIRED_PERMISSIONS){\r\n        if(ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n}\r\n```\r\n\r\n**SERVICE**\r\n\r\n```\r\npublic class MyRecIntentService extends Service {\r\n    private MediaRecorder mediaRecorder;\r\n    private String mVideoFileName;\r\n    private File mVideoFolder;\r\n    private boolean isRecording = false;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        isRecording = false;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        //Create dir\r\n        createVideoFolder();\r\n\r\n        //Create File\r\n        try {\r\n            createVideoFileName();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //Media Recorder\r\n        mediaRecorder = new MediaRecorder();\r\n\r\n        try {\r\n            setupMediaRecorder();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        startRecording();\r\n\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private Notification createNotification() {\r\n        // Create a notification channel for Android Oreo and higher\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;my_channel_id&quot;, &quot;My Channel&quot;, NotificationManager.IMPORTANCE_LOW);\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(channel);\r\n        }\r\n\r\n        // Create the notification\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;my_channel_id&quot;)\r\n                .setContentTitle(&quot;My Service&quot;)\r\n                .setContentText(&quot;Service is running in the foreground&quot;)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentIntent(PendingIntent.getActivity(this, 0, new Intent(this, MainActivity.class), 0))\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setAutoCancel(true)\r\n                .setOngoing(true);\r\n\r\n        return builder.build();\r\n    }\r\n\r\n    private void setupMediaRecorder() throws IOException {\r\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n\r\n        mediaRecorder.setOutputFile(mVideoFileName);\r\n        mediaRecorder.setVideoEncodingBitRate(1000000);\r\n        mediaRecorder.setVideoFrameRate(30);\r\n        mediaRecorder.setVideoSize(1280, 640);\r\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\r\n        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\r\n        mediaRecorder.setOrientationHint(90);//270 si  mTotalRotation = sensorToDeviceRotation(cameraCharacteristics, deviceOrientation);\r\n        mediaRecorder.prepare();\r\n    }\r\n\r\n    private void startRecording() {\r\n        startForeground(1, createNotification());\r\n\r\n        mediaRecorder.start();\r\n\r\n        isRecording = true;\r\n    }\r\n\r\n    private void createVideoFolder() {\r\n        //File movieFile = getExternalFilesDir(null);\r\n        //File movieFile = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES);\r\n        File movieFile = Environment.getExternalStorageDirectory();\r\n        mVideoFolder = new File(movieFile, &quot;REC&quot;);\r\n        if(!mVideoFolder.exists()) {\r\n            mVideoFolder.mkdirs();\r\n        }\r\n    }\r\n\r\n    private File createVideoFileName() throws IOException {\r\n        String timestamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String prepend = &quot;REC_&quot; + timestamp + &quot;_&quot;;\r\n        File videoFile = File.createTempFile(prepend, &quot;.mp4&quot;, mVideoFolder);\r\n        mVideoFileName = videoFile.getAbsolutePath();\r\n        return videoFile;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        if (isRecording) {\r\n            mediaRecorder.stop();\r\n        }\r\n        mediaRecorder.reset();\r\n        mediaRecorder.release();\r\n        super.onDestroy();\r\n        stopForeground(true);\r\n    }\r\n}\r\n```\r\n\r\n**STACK TRACE**\r\n\r\n```\r\nV/AudioManager: querySoundEffectsEnabled...    (==&gt; second button clic)\r\nI/HwViewRootImpl: removeInvalidNode all the node in jank list is out of time\r\nI/MediaRecorder: stop\r\nE/MediaRecorder: stop failed: -1007\r\nI/BlockMonitor: dispatchingThrewException In MainThread\r\nD/AndroidRuntime: Shutting down VM\r\nI/QarthLog: [PatchStore] createDisableExceptionQarthFile\r\nI/QarthLog: [PatchStore] create disable file for com.example.test4 uid is 10025\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.test4, PID: 30901\r\n    java.lang.RuntimeException: Unable to stop service com.example.test4.MyRecIntentService@ad443c8: java.lang.RuntimeException: stop failed.\r\n        at android.app.ActivityThread.handleStopService(ActivityThread.java:5002)\r\n        at android.app.ActivityThread.access$3400(ActivityThread.java:260)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2491)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:219)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\r\n     Caused by: java.lang.RuntimeException: stop failed.\r\n        at android.media.MediaRecorder.native_stop(Native Method)\r\n        at android.media.MediaRecorder.stop(MediaRecorder.java:1916)\r\n        at com.example.test4.MyRecIntentService.onDestroy(MyRecIntentService.java:139)\r\n        at android.app.ActivityThread.handleStopService(ActivityThread.java:4982)\r\n        at android.app.ActivityThread.access$3400(ActivityThread.java:260)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2491)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)&#160;\r\n        at android.os.Looper.loop(Looper.java:219)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8668)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)&#160;\r\nI/Process: Sending signal. PID: 30901 SIG: 9\r\n```","title":"Android Studio - MediaRecorder: stop failed: -1007","body":"<p>I'm new into the world of Android Studio. I did a basic app with somes buttons and now i'm trying to do something more complexe: Pressing a button call a service to record a video (with MediaRecorder) in the background and pressing it again will stop the recording.\nActually it run well but when i press the button for the second time (to stop the recording) it crash (E/MediaRecorder: stop failed: -1007).\n<code>E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.example.test4, PID: 27039     java.lang.RuntimeException: Unable to stop service com.example.test4.MyRecIntentService@9dc2fc9: java.lang.RuntimeException: stop failed.</code>\nIt create a mp4 file with a different size each time so i'm, assuming it's recording something. But each file is unreadable.</p>\n<p>So i'm stuck and no forums on internet helped me atm. I even tried chatGPT, he's usefull to debug sometimes, but this time he wasn't. So if anyone can help me here, i'll be really grateful.\nThanks anyway for you time if you're passing by :). Have a nice day.</p>\n<p>(I'm using an Huawei Mate 10 Pro - 'Device Manager' show 'Android 10.0')</p>\n<p>Here's my code:</p>\n<p><strong>MANIFEST</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Test4&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;service\n            android:name=&quot;.MyRecIntentService&quot;\n            android:exported=&quot;false&quot;\n        /&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.Test4.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>MAIN ACTIVITY</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration appBarConfiguration;\nprivate ActivityMainBinding binding;\n    private int REQUEST_CODE_PERMISSIONS = 101;\n    private final String[] REQUIRED_PERMISSIONS = {\n            android.Manifest.permission.WRITE_EXTERNAL_STORAGE,\n            android.Manifest.permission.RECORD_AUDIO,\n            Manifest.permission.CAMERA\n    };\n    boolean isRecording = false;\n    Activity homeActivity;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n     binding = ActivityMainBinding.inflate(getLayoutInflater());\n     setContentView(binding.getRoot());\n\n        setSupportActionBar(binding.toolbar);\n\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        appBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph()).build();\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n\n        homeActivity = this;\n\n        Intent serviceIntent = new Intent(homeActivity, MyRecIntentService.class);\n\n        binding.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (isRecording) {\n                    binding.fab.setBackgroundTintList(ColorStateList.valueOf(Color.GRAY));\n\n                    stopService(serviceIntent);\n                } else {\n                    binding.fab.setBackgroundTintList(ColorStateList.valueOf(Color.RED));\n\n                    //Appelle le service Record Video\n                    if (allPermissionsGranted()) {\n                        Snackbar.make(view, &quot;RECORDING =)&quot;, Snackbar.LENGTH_LONG)\n                                .setAction(&quot;Action&quot;, null).show();\n\n\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                            startForegroundService(serviceIntent);\n                        } else {\n                            startService(serviceIntent);\n                        }\n                    } else {\n                        Snackbar.make(view, &quot;NO PERMISSIONS&quot;, Snackbar.LENGTH_LONG)\n                                .setAction(&quot;Action&quot;, null).show();\n                        ActivityCompat.requestPermissions(homeActivity, REQUIRED_PERMISSIONS, REQUEST_CODE_PERMISSIONS);\n                    }\n                }\n                isRecording = !isRecording;\n            }\n        });\n    }\n@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n    return super.onOptionsItemSelected(item);\n}\n\n@Override\npublic boolean onSupportNavigateUp() {\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n    return NavigationUI.navigateUp(navController, appBarConfiguration)\n            || super.onSupportNavigateUp();\n}\nprivate boolean allPermissionsGranted(){\n\n    for(String permission : REQUIRED_PERMISSIONS){\n        if(ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED){\n            return false;\n        }\n    }\n    return true;\n}\n}\n</code></pre>\n<p><strong>SERVICE</strong></p>\n<pre><code>public class MyRecIntentService extends Service {\n    private MediaRecorder mediaRecorder;\n    private String mVideoFileName;\n    private File mVideoFolder;\n    private boolean isRecording = false;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        isRecording = false;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        //Create dir\n        createVideoFolder();\n\n        //Create File\n        try {\n            createVideoFileName();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        //Media Recorder\n        mediaRecorder = new MediaRecorder();\n\n        try {\n            setupMediaRecorder();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        startRecording();\n\n        return START_STICKY;\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private Notification createNotification() {\n        // Create a notification channel for Android Oreo and higher\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(&quot;my_channel_id&quot;, &quot;My Channel&quot;, NotificationManager.IMPORTANCE_LOW);\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(channel);\n        }\n\n        // Create the notification\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;my_channel_id&quot;)\n                .setContentTitle(&quot;My Service&quot;)\n                .setContentText(&quot;Service is running in the foreground&quot;)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setContentIntent(PendingIntent.getActivity(this, 0, new Intent(this, MainActivity.class), 0))\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setAutoCancel(true)\n                .setOngoing(true);\n\n        return builder.build();\n    }\n\n    private void setupMediaRecorder() throws IOException {\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n\n        mediaRecorder.setOutputFile(mVideoFileName);\n        mediaRecorder.setVideoEncodingBitRate(1000000);\n        mediaRecorder.setVideoFrameRate(30);\n        mediaRecorder.setVideoSize(1280, 640);\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\n        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\n        mediaRecorder.setOrientationHint(90);//270 si  mTotalRotation = sensorToDeviceRotation(cameraCharacteristics, deviceOrientation);\n        mediaRecorder.prepare();\n    }\n\n    private void startRecording() {\n        startForeground(1, createNotification());\n\n        mediaRecorder.start();\n\n        isRecording = true;\n    }\n\n    private void createVideoFolder() {\n        //File movieFile = getExternalFilesDir(null);\n        //File movieFile = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES);\n        File movieFile = Environment.getExternalStorageDirectory();\n        mVideoFolder = new File(movieFile, &quot;REC&quot;);\n        if(!mVideoFolder.exists()) {\n            mVideoFolder.mkdirs();\n        }\n    }\n\n    private File createVideoFileName() throws IOException {\n        String timestamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String prepend = &quot;REC_&quot; + timestamp + &quot;_&quot;;\n        File videoFile = File.createTempFile(prepend, &quot;.mp4&quot;, mVideoFolder);\n        mVideoFileName = videoFile.getAbsolutePath();\n        return videoFile;\n    }\n\n    @Override\n    public void onDestroy() {\n        if (isRecording) {\n            mediaRecorder.stop();\n        }\n        mediaRecorder.reset();\n        mediaRecorder.release();\n        super.onDestroy();\n        stopForeground(true);\n    }\n}\n</code></pre>\n<p><strong>STACK TRACE</strong></p>\n<pre><code>V/AudioManager: querySoundEffectsEnabled...    (==&gt; second button clic)\nI/HwViewRootImpl: removeInvalidNode all the node in jank list is out of time\nI/MediaRecorder: stop\nE/MediaRecorder: stop failed: -1007\nI/BlockMonitor: dispatchingThrewException In MainThread\nD/AndroidRuntime: Shutting down VM\nI/QarthLog: [PatchStore] createDisableExceptionQarthFile\nI/QarthLog: [PatchStore] create disable file for com.example.test4 uid is 10025\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.test4, PID: 30901\n    java.lang.RuntimeException: Unable to stop service com.example.test4.MyRecIntentService@ad443c8: java.lang.RuntimeException: stop failed.\n        at android.app.ActivityThread.handleStopService(ActivityThread.java:5002)\n        at android.app.ActivityThread.access$3400(ActivityThread.java:260)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2491)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:219)\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\n     Caused by: java.lang.RuntimeException: stop failed.\n        at android.media.MediaRecorder.native_stop(Native Method)\n        at android.media.MediaRecorder.stop(MediaRecorder.java:1916)\n        at com.example.test4.MyRecIntentService.onDestroy(MyRecIntentService.java:139)\n        at android.app.ActivityThread.handleStopService(ActivityThread.java:4982)\n        at android.app.ActivityThread.access$3400(ActivityThread.java:260) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2491) \n        at android.os.Handler.dispatchMessage(Handler.java:110) \n        at android.os.Looper.loop(Looper.java:219) \n        at android.app.ActivityThread.main(ActivityThread.java:8668) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109) \nI/Process: Sending signal. PID: 30901 SIG: 9\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1345455673,"creation_date":1345455673,"answer_id":12035382,"question_id":12035286,"body_markdown":"Try this\r\n\r\nhttp://mvnrepository.com/artifact/de.sven-jacobs/loremipsum","title":"lorem ipsum generator for java, available in Maven Central?","body":"<p>Try this</p>\n\n<p><a href=\"http://mvnrepository.com/artifact/de.sven-jacobs/loremipsum\" rel=\"noreferrer\">http://mvnrepository.com/artifact/de.sven-jacobs/loremipsum</a></p>\n"},{"tags":[],"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345455682,"creation_date":1345455682,"answer_id":12035386,"question_id":12035286,"body_markdown":"Search the [Maven Repository](http://mvnrepository.com/search.html?query=lorem+ipsum). There are two versions, haven&#39;t tried any of them.","title":"lorem ipsum generator for java, available in Maven Central?","body":"<p>Search the <a href=\"http://mvnrepository.com/search.html?query=lorem+ipsum\" rel=\"nofollow\">Maven Repository</a>. There are two versions, haven't tried any of them.</p>\n"},{"tags":[],"owner":{"account_id":315929,"reputation":185,"user_id":631822,"display_name":"mdeanda"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1355347447,"creation_date":1355347447,"answer_id":13848901,"question_id":12035286,"body_markdown":"I created this a few months ago and added it to github. It&#39;s not huge and can also generate names for people\r\n\r\nhttps://github.com/mdeanda/lorem","title":"lorem ipsum generator for java, available in Maven Central?","body":"<p>I created this a few months ago and added it to github. It's not huge and can also generate names for people</p>\n\n<p><a href=\"https://github.com/mdeanda/lorem\" rel=\"noreferrer\">https://github.com/mdeanda/lorem</a></p>\n"},{"tags":[],"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680953965,"creation_date":1559929240,"answer_id":56499009,"question_id":12035286,"body_markdown":"&quot;*[Datafaker][1]*&quot; is a quite comprehensive library (currently over 230 fake data providers), and has a &quot;Lorem Ipsum&quot; generator named &quot;***Lorem***&quot;.\r\n\r\nMaven dependency definition:\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.datafaker&lt;/groupId&gt;\r\n    &lt;artifactId&gt;datafaker&lt;/artifactId&gt;\r\n    &lt;version&gt;1.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nLinks:\r\n* [code][2]\r\n* [javadoc][3]\r\n\r\nNote: &quot;Datafaker&quot; has initially started as a fork of &quot;[java-faker][4]&quot;, the library I initially had recommended here with the &quot;Lorem&quot; data generator, and which seems to be abandoned.\r\n\r\n  [1]: https://www.datafaker.net/\r\n  [2]: https://github.com/datafaker-net/datafaker/\r\n  [3]: https://s01.oss.sonatype.org/service/local/repositories/releases/archive/net/datafaker/datafaker/1.8.0/datafaker-1.8.0-javadoc.jar/!/index.html\r\n  [4]: https://github.com/DiUS/java-faker\r\n","title":"lorem ipsum generator for java, available in Maven Central?","body":"<p>&quot;<em><a href=\"https://www.datafaker.net/\" rel=\"nofollow noreferrer\">Datafaker</a></em>&quot; is a quite comprehensive library (currently over 230 fake data providers), and has a &quot;Lorem Ipsum&quot; generator named &quot;<em><strong>Lorem</strong></em>&quot;.</p>\n<p>Maven dependency definition:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.datafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;datafaker&lt;/artifactId&gt;\n    &lt;version&gt;1.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Links:</p>\n<ul>\n<li><a href=\"https://github.com/datafaker-net/datafaker/\" rel=\"nofollow noreferrer\">code</a></li>\n<li><a href=\"https://s01.oss.sonatype.org/service/local/repositories/releases/archive/net/datafaker/datafaker/1.8.0/datafaker-1.8.0-javadoc.jar/!/index.html\" rel=\"nofollow noreferrer\">javadoc</a></li>\n</ul>\n<p>Note: &quot;Datafaker&quot; has initially started as a fork of &quot;<a href=\"https://github.com/DiUS/java-faker\" rel=\"nofollow noreferrer\">java-faker</a>&quot;, the library I initially had recommended here with the &quot;Lorem&quot; data generator, and which seems to be abandoned.</p>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8456,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"closed_date":1581969532,"accepted_answer_id":12035382,"answer_count":4,"score":14,"last_activity_date":1680953965,"creation_date":1345455332,"question_id":12035286,"body_markdown":"Are you aware of any [lorem ipsum](http://en.wikipedia.org/wiki/Lorem_ipsum) text generators, available in Maven Central? I&#39;m looking for an alternative to [RandomStringUtils](http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/RandomStringUtils.html) from Apache commons-lang.","title":"lorem ipsum generator for java, available in Maven Central?","body":"<p>Are you aware of any <a href=\"http://en.wikipedia.org/wiki/Lorem_ipsum\" rel=\"noreferrer\">lorem ipsum</a> text generators, available in Maven Central? I'm looking for an alternative to <a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/RandomStringUtils.html\" rel=\"noreferrer\">RandomStringUtils</a> from Apache commons-lang.</p>\n"},{"tags":["java","arraylist","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680953069,"creation_date":1680953069,"answer_id":75964931,"question_id":75964914,"body_markdown":"The error message says it all - `ArrayList` doesn&#39;t have such a constructor. It does, however, have a constructor from another `Collection`, so you could use `List.of` to mediate between the integers you want and the list:\r\n\r\n```java\r\nres.add(new ArrayList&lt;&gt;(List.of(a, nums[l], nums[r])));\r\n```\r\n\r\nIn addition, if you don&#39;t absolutely have to have an `ArrayList` in your result, just some sort of `List`, and you don&#39;t mind it being immutable, you could add `List.of` directly:\r\n\r\n\r\n```java\r\nres.add(List.of(a, nums[l], nums[r]));\r\n```","title":"How can I add an undeclared ArrayList to an already declared ArrayList in Java?","body":"<p>The error message says it all - <code>ArrayList</code> doesn't have such a constructor. It does, however, have a constructor from another <code>Collection</code>, so you could use <code>List.of</code> to mediate between the integers you want and the list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>res.add(new ArrayList&lt;&gt;(List.of(a, nums[l], nums[r])));\n</code></pre>\n<p>In addition, if you don't absolutely have to have an <code>ArrayList</code> in your result, just some sort of <code>List</code>, and you don't mind it being immutable, you could add <code>List.of</code> directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>res.add(List.of(a, nums[l], nums[r]));\n</code></pre>\n"}],"owner":{"account_id":19475706,"reputation":123,"user_id":14247140,"display_name":"Faisal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75964931,"answer_count":1,"score":0,"last_activity_date":1680953546,"creation_date":1680952837,"question_id":75964914,"body_markdown":"I want to add elements to a list that would then get added to the result list.\r\n\r\nThis is the line of code that I want to use but it is giving an error.\r\n\r\n```java\r\nres.add(new ArrayList&lt;Integer&gt;(a,nums[l],nums[r]));\r\n```\r\nThe Error:\r\n```\r\nLine 17: error: no suitable constructor found for ArrayList(int,int,int)\r\n                    res.add(new ArrayList&lt;Integer&gt;(a,nums[l],nums[r]));\r\n                            ^\r\n    constructor ArrayList.ArrayList(int) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    constructor ArrayList.ArrayList() is not applicable\r\n      (actual and formal argument lists differ in length)\r\n    constructor ArrayList.ArrayList(Collection&lt;? extends Integer&gt;) is not applicable\r\n      (actual and formal argument lists differ in length)\r\n```\r\n\r\nMy full solution:\r\n```java\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        int n = nums.length;\r\n        List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\r\n        Arrays.sort(nums);\r\n        for(int i=0; i&lt;n; i++) {\r\n            if (i&gt;0 &amp;&amp; nums[i-1] == nums[i]) continue;\r\n            int a = nums[i];\r\n            int l = i+1, r = n-1;\r\n            while (l&lt;r) {\r\n                int threeSum = a + nums[l] + nums[r];\r\n                if (threeSum &lt; 0) {\r\n                    l++;\r\n                } else if (threeSum &gt; 0) {\r\n                    r--;\r\n                } else {\r\n                    res.add(new ArrayList&lt;Integer&gt;(a,nums[l],nums[r]));\r\n                    l++;\r\n                    while (nums[l] != nums[l-1] &amp;&amp; l&lt;r) {\r\n                        l++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried creating an array and then converting it to an ArrayList and then adding it but still it gives an error","title":"How can I add an undeclared ArrayList to an already declared ArrayList in Java?","body":"<p>I want to add elements to a list that would then get added to the result list.</p>\n<p>This is the line of code that I want to use but it is giving an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>res.add(new ArrayList&lt;Integer&gt;(a,nums[l],nums[r]));\n</code></pre>\n<p>The Error:</p>\n<pre><code>Line 17: error: no suitable constructor found for ArrayList(int,int,int)\n                    res.add(new ArrayList&lt;Integer&gt;(a,nums[l],nums[r]));\n                            ^\n    constructor ArrayList.ArrayList(int) is not applicable\n      (actual and formal argument lists differ in length)\n    constructor ArrayList.ArrayList() is not applicable\n      (actual and formal argument lists differ in length)\n    constructor ArrayList.ArrayList(Collection&lt;? extends Integer&gt;) is not applicable\n      (actual and formal argument lists differ in length)\n</code></pre>\n<p>My full solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        int n = nums.length;\n        List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\n        Arrays.sort(nums);\n        for(int i=0; i&lt;n; i++) {\n            if (i&gt;0 &amp;&amp; nums[i-1] == nums[i]) continue;\n            int a = nums[i];\n            int l = i+1, r = n-1;\n            while (l&lt;r) {\n                int threeSum = a + nums[l] + nums[r];\n                if (threeSum &lt; 0) {\n                    l++;\n                } else if (threeSum &gt; 0) {\n                    r--;\n                } else {\n                    res.add(new ArrayList&lt;Integer&gt;(a,nums[l],nums[r]));\n                    l++;\n                    while (nums[l] != nums[l-1] &amp;&amp; l&lt;r) {\n                        l++;\n                    }\n                }\n            }\n        }\n        return res;\n    }\n}\n</code></pre>\n<p>I tried creating an array and then converting it to an ArrayList and then adding it but still it gives an error</p>\n"},{"tags":["java","java-3d","hud"],"answers":[{"tags":[],"owner":{"account_id":1006500,"reputation":1032,"user_id":1020123,"accept_rate":100,"display_name":"D3_JMultiply"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1323462263,"creation_date":1323462263,"answer_id":8451285,"question_id":8451017,"body_markdown":"If the render renders each frame completely from scratch, you can add, for example, a static boolean in the same class with your postRender() method. Then inside the method use an if statment to check if the boolean if true, otherwise don&#39;t do anything, if you then set the boolean to false via\r\n\r\n    ClassName.boolean_name=false;\r\nThe HUD should not show. As for changing it, that&#39;s possible, and would really depend on what type of information you want to show. Here is an example I&#39;d use for games, but it can fit several subjects.\r\n\r\nI would want to store FPS, x, y, and z positions If I was working on a game, so what I would do is create a variable inside the class for each attribute I needed to display, then something like this:\r\n\r\n    Graphics2D G2D = this.getGraphics2D()\r\n    G2D.setColor(Color.white);\r\n    G2D.drawString(&quot;FPS: &quot;+fps, 100, 100);\r\n    G2D.drawString(&quot;X: &quot;+x_pos, 100, 80);\r\n    G2D.drawString(&quot;Y: &quot;+y_pos, 100, 60);\r\n    G2D.drawString(&quot;Z: &quot;+z_pos, 100, 40);\r\n    G2D.flush(false);\r\nAlso if you notice I set G2D equal to this.getGraphics2D(), that way I didn&#39;t need to call an external method each time I wanted to use the Graphics2D object, each time you call getGraphics2D() it has to go to that class, call that method, and return the value, as compared to just getting it once, and using it, faster type type, and in the long run creates faster speeds.\r\n\r\nWhat I would do after all this is I could just set each variable to the correct value, and it would display, that&#39;s one way of updating it, you could do similar make a variable for each line, and go:\r\n\r\n    line1=&quot;this is some text&quot;;\r\n    list2=&quot;this is some more text&quot;;\r\n    list3=&quot;etc...&quot;;","title":"Java3d: How to edit a drawn 2d overlay on a Java 3d scene?","body":"<p>If the render renders each frame completely from scratch, you can add, for example, a static boolean in the same class with your postRender() method. Then inside the method use an if statment to check if the boolean if true, otherwise don't do anything, if you then set the boolean to false via</p>\n\n<pre><code>ClassName.boolean_name=false;\n</code></pre>\n\n<p>The HUD should not show. As for changing it, that's possible, and would really depend on what type of information you want to show. Here is an example I'd use for games, but it can fit several subjects.</p>\n\n<p>I would want to store FPS, x, y, and z positions If I was working on a game, so what I would do is create a variable inside the class for each attribute I needed to display, then something like this:</p>\n\n<pre><code>Graphics2D G2D = this.getGraphics2D()\nG2D.setColor(Color.white);\nG2D.drawString(\"FPS: \"+fps, 100, 100);\nG2D.drawString(\"X: \"+x_pos, 100, 80);\nG2D.drawString(\"Y: \"+y_pos, 100, 60);\nG2D.drawString(\"Z: \"+z_pos, 100, 40);\nG2D.flush(false);\n</code></pre>\n\n<p>Also if you notice I set G2D equal to this.getGraphics2D(), that way I didn't need to call an external method each time I wanted to use the Graphics2D object, each time you call getGraphics2D() it has to go to that class, call that method, and return the value, as compared to just getting it once, and using it, faster type type, and in the long run creates faster speeds.</p>\n\n<p>What I would do after all this is I could just set each variable to the correct value, and it would display, that's one way of updating it, you could do similar make a variable for each line, and go:</p>\n\n<pre><code>line1=\"this is some text\";\nlist2=\"this is some more text\";\nlist3=\"etc...\";\n</code></pre>\n"}],"owner":{"account_id":125763,"reputation":7193,"user_id":321763,"accept_rate":85,"display_name":"James Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8451285,"answer_count":1,"score":1,"last_activity_date":1680952972,"creation_date":1323460692,"question_id":8451017,"body_markdown":"I used the technique answered this question: https://stackoverflow.com/questions/2559220/java3d-painting-2d-hud-over-a-canvas3d\r\n\r\nAnd my code is something like this:\r\n\r\n    ...\r\n    \tGraphicsConfiguration config = SimpleUniverse.getPreferredConfiguration();\r\n        Canvas3D canvas3D = new Canvas3D(config){\r\n            public void postRender()\r\n            {\r\n                this.getGraphics2D().setColor(Color.white);\r\n                this.getGraphics2D().drawString(&quot;Heads Up Display (HUD) Works!&quot;,100,100);\r\n                this.getGraphics2D().flush(false);\r\n            }\r\n    \r\n        };\r\n    ...\r\n\r\nHow could I later remove this 2D HUD or edit this 2D HUD?\r\n","title":"Java3d: How to edit a drawn 2d overlay on a Java 3d scene?","body":"<p>I used the technique answered this question: <a href=\"https://stackoverflow.com/questions/2559220/java3d-painting-2d-hud-over-a-canvas3d\">Java3D: Painting 2D HUD over a Canvas3D</a></p>\n<p>And my code is something like this:</p>\n<pre><code>...\n    GraphicsConfiguration config = SimpleUniverse.getPreferredConfiguration();\n    Canvas3D canvas3D = new Canvas3D(config){\n        public void postRender()\n        {\n            this.getGraphics2D().setColor(Color.white);\n            this.getGraphics2D().drawString(&quot;Heads Up Display (HUD) Works!&quot;,100,100);\n            this.getGraphics2D().flush(false);\n        }\n\n    };\n...\n</code></pre>\n<p>How could I later remove this 2D HUD or edit this 2D HUD?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"score":2,"creation_date":1444378592,"post_id":33033194,"comment_id":53888072,"body_markdown":"your example is invalid json. Json structure should start with { or [.","body":"your example is invalid json. Json structure should start with { or [."},{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":1,"creation_date":1444378631,"post_id":33033194,"comment_id":53888091,"body_markdown":"Did You use a library? key1 &amp; key2 are properties of bean, keys of map?","body":"Did You use a library? key1 &amp; key2 are properties of bean, keys of map?"}],"answers":[{"tags":[],"owner":{"account_id":7003377,"reputation":1876,"user_id":5368669,"accept_rate":50,"display_name":"Channa Jayamuni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1444379794,"creation_date":1444378609,"answer_id":33033268,"question_id":33033194,"body_markdown":"&gt; It seems your values are more relative to `Map` of java. So you need\r\n&gt; to find how to convert `Map` into json with java. Usually json\r\n&gt; processing is performing with frameworks such json and gson. However\r\n&gt; you can do it manually with `StringBuilder` class. Refer following\r\n&gt; example to manually create json with java.\r\n\r\n**Manually create json with java**\r\n\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n        map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n\r\n        //convert it to json maually\r\n        StringBuilder builder = new StringBuilder();\r\n        builder.append(&quot;\\&quot;foo\\&quot;:{&quot;);\r\n            builder.append(&quot;\\n&quot;);\r\n        for (String key : map.keySet()) {\r\n            builder.append(&quot;\\t&quot;);\r\n            builder.append(&quot;\\&quot;&quot;).append(key).append(&quot;\\&quot;&quot;);\r\n            builder.append(&quot;:&quot;);\r\n            builder.append(&quot;\\&quot;&quot;).append(map.get(key)).append(&quot;\\&quot;&quot;);\r\n            builder.append(&quot;,&quot;);\r\n            builder.append(&quot;\\n&quot;);\r\n        }\r\n        builder.append(&quot;\\t}&quot;);\r\n\r\n        String json = builder.toString();\r\n        System.out.println(json);\r\n\r\n**output:**\r\n\r\n    &quot;foo&quot;:{\r\n    \t&quot;key2&quot;:&quot;value2&quot;,\r\n    \t&quot;key1&quot;:&quot;value1&quot;,\r\n    \t}\r\n\r\n \r\n\r\n\r\n**Follow example below to convert `Map&lt;K,V&gt;` into json with jackson.**\r\n\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;key1&quot;, &quot;value1&quot;);\r\n        map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n\r\n        String json = new ObjectMapper().writeValueAsString(map);\r\n        System.out.println(json);\r\n","title":"How to format a JSON structure in Java","body":"<blockquote>\n  <p>It seems your values are more relative to <code>Map</code> of java. So you need\n  to find how to convert <code>Map</code> into json with java. Usually json\n  processing is performing with frameworks such json and gson. However\n  you can do it manually with <code>StringBuilder</code> class. Refer following\n  example to manually create json with java.</p>\n</blockquote>\n\n<p><strong>Manually create json with java</strong></p>\n\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"key1\", \"value1\");\n    map.put(\"key2\", \"value2\");\n\n    //convert it to json maually\n    StringBuilder builder = new StringBuilder();\n    builder.append(\"\\\"foo\\\":{\");\n        builder.append(\"\\n\");\n    for (String key : map.keySet()) {\n        builder.append(\"\\t\");\n        builder.append(\"\\\"\").append(key).append(\"\\\"\");\n        builder.append(\":\");\n        builder.append(\"\\\"\").append(map.get(key)).append(\"\\\"\");\n        builder.append(\",\");\n        builder.append(\"\\n\");\n    }\n    builder.append(\"\\t}\");\n\n    String json = builder.toString();\n    System.out.println(json);\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>\"foo\":{\n    \"key2\":\"value2\",\n    \"key1\":\"value1\",\n    }\n</code></pre>\n\n<p><strong>Follow example below to convert <code>Map&lt;K,V&gt;</code> into json with jackson.</strong></p>\n\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(\"key1\", \"value1\");\n    map.put(\"key2\", \"value2\");\n\n    String json = new ObjectMapper().writeValueAsString(map);\n    System.out.println(json);\n</code></pre>\n"}],"owner":{"account_id":3842605,"reputation":1602,"user_id":3185233,"accept_rate":99,"display_name":"OiRc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33033268,"answer_count":1,"score":0,"last_activity_date":1680952863,"creation_date":1444378349,"question_id":33033194,"body_markdown":"I want to create a JSON like this using Java:\r\n\r\n\r\n    &quot;foo&quot;: {\r\n    \t\t &quot;key1&quot;: &quot;value1&quot;,\r\n    \t\t &quot;key2&quot;: &quot;value2&quot;,\r\n    \t\t }\r\n\r\nI know how to create a key value json or a json array, but I don&#39;t know how to create a `structure` like this.\r\n\r\nWhat can I try next?\r\n","title":"How to format a JSON structure in Java","body":"<p>I want to create a JSON like this using Java:</p>\n<pre><code>&quot;foo&quot;: {\n         &quot;key1&quot;: &quot;value1&quot;,\n         &quot;key2&quot;: &quot;value2&quot;,\n         }\n</code></pre>\n<p>I know how to create a key value json or a json array, but I don't know how to create a <code>structure</code> like this.</p>\n<p>What can I try next?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680952709,"creation_date":1680929130,"answer_id":75963353,"question_id":75963133,"body_markdown":"&gt; I don&#39;t understand why the 64 bit VM did not start pointer compression when checking the memory usage of the object ...\r\n\r\nThe JVM doesn&#39;t dynamically start pointer compression; e.g. *&quot;... did not **start** pointer compression **when checking the memory usage of the object**...&quot;*\r\n\r\nRather, it decides whether or not to use compressed oops when the (64 bit) JVM starts.  It decides based on the command line options; i.e. `UseCompressedOops`, `ObjectAlignmentInBytes` and the maximum heap size.  The maximum heap size is either given by `-xmx` or determined by a platform-specific default algorithm.\r\n\r\nSo ... you would need to look at the (actual and default) JVM options for your JVM to figure out why compressed oops are (apparently) not in effect.  Use `-XX:+PrintCommandLineFlags` to find out.","title":"64 bit VM does not start pointer compression, resulting in -8 memory alignment","body":"<blockquote>\n<p>I don't understand why the 64 bit VM did not start pointer compression when checking the memory usage of the object ...</p>\n</blockquote>\n<p>The JVM doesn't dynamically start pointer compression; e.g. <em>&quot;... did not <strong>start</strong> pointer compression <strong>when checking the memory usage of the object</strong>...&quot;</em></p>\n<p>Rather, it decides whether or not to use compressed oops when the (64 bit) JVM starts.  It decides based on the command line options; i.e. <code>UseCompressedOops</code>, <code>ObjectAlignmentInBytes</code> and the maximum heap size.  The maximum heap size is either given by <code>-xmx</code> or determined by a platform-specific default algorithm.</p>\n<p>So ... you would need to look at the (actual and default) JVM options for your JVM to figure out why compressed oops are (apparently) not in effect.  Use <code>-XX:+PrintCommandLineFlags</code> to find out.</p>\n"}],"owner":{"account_id":20746838,"reputation":23,"user_id":15235253,"display_name":"ami who"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75963353,"answer_count":1,"score":2,"last_activity_date":1680952709,"creation_date":1680923674,"question_id":75963133,"body_markdown":"maven pom.xml\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jol-core&lt;/artifactId&gt;\r\n    &lt;version&gt;0.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nJava class:\r\n```java\r\npublic class MyObjectData {\r\n\r\n    private  int i=66;\r\n    private  long l=6L;\r\n    private String string=new String(&quot;aaaa&quot;);\r\n\r\n}\r\n\r\npublic class ObjectTest {\r\n\r\n    @Test\r\n    public  void test1() {\r\n        Layouter l;\r\n        //64 bit vm object distribution, pointer compression not enabled\r\n        l = new HotSpotLayouter(new X86_64_DataModel());\r\n        System.out.println(&quot;***** &quot; + l);\r\n        System.out.println(ClassLayout.parseInstance(new MyObjectData(),l).toPrintable());\r\n        System.out.println(&quot;==============================================&quot;);\r\n    }\r\n\r\n}\r\n```\r\nRunning results：\r\n\r\n```none\r\nOFFSET  SIZE               TYPE DESCRIPTION                               VALUE\r\n      0     4                    (object header)                           01 00 00 00 (00000001 00000000 00000000 00000000) (1)\r\n      4     4                    (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\r\n      8     4                    (object header)                           01 23 01 f8 (00000001 00100011 00000001 11111000) (-134143231)\r\n     12     4                    (object header)                           42 00 00 00 (01000010 00000000 00000000 00000000) (66)\r\n     16     8               long MyObjectData.l                            6\r\n     24     4                int MyObjectData.i                            66\r\n     28     4                    (alignment/padding gap)\r\n     32     8   java.lang.String MyObjectData.string                       (object)\r\n     40    -8                    (loss due to the next object alignment)\r\nInstance size: 32 bytes\r\nSpace losses: 4 bytes internal + -8 bytes external = -4 bytes total`\r\n```\r\n\r\nI don&#39;t understand why the 64 bit VM did not start pointer compression when checking the memory usage of the object, resulting in -8 memory alignment.","title":"64 bit VM does not start pointer compression, resulting in -8 memory alignment","body":"<p>maven pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;\n    &lt;artifactId&gt;jol-core&lt;/artifactId&gt;\n    &lt;version&gt;0.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyObjectData {\n\n    private  int i=66;\n    private  long l=6L;\n    private String string=new String(&quot;aaaa&quot;);\n\n}\n\npublic class ObjectTest {\n\n    @Test\n    public  void test1() {\n        Layouter l;\n        //64 bit vm object distribution, pointer compression not enabled\n        l = new HotSpotLayouter(new X86_64_DataModel());\n        System.out.println(&quot;***** &quot; + l);\n        System.out.println(ClassLayout.parseInstance(new MyObjectData(),l).toPrintable());\n        System.out.println(&quot;==============================================&quot;);\n    }\n\n}\n</code></pre>\n<p>Running results：</p>\n<pre class=\"lang-none prettyprint-override\"><code>OFFSET  SIZE               TYPE DESCRIPTION                               VALUE\n      0     4                    (object header)                           01 00 00 00 (00000001 00000000 00000000 00000000) (1)\n      4     4                    (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\n      8     4                    (object header)                           01 23 01 f8 (00000001 00100011 00000001 11111000) (-134143231)\n     12     4                    (object header)                           42 00 00 00 (01000010 00000000 00000000 00000000) (66)\n     16     8               long MyObjectData.l                            6\n     24     4                int MyObjectData.i                            66\n     28     4                    (alignment/padding gap)\n     32     8   java.lang.String MyObjectData.string                       (object)\n     40    -8                    (loss due to the next object alignment)\nInstance size: 32 bytes\nSpace losses: 4 bytes internal + -8 bytes external = -4 bytes total`\n</code></pre>\n<p>I don't understand why the 64 bit VM did not start pointer compression when checking the memory usage of the object, resulting in -8 memory alignment.</p>\n"},{"tags":["java","string","performance"],"comments":[{"owner":{"account_id":4859697,"reputation":859,"user_id":3919702,"accept_rate":60,"display_name":"The name&#39;s Bob. MS Bob."},"score":4,"creation_date":1429662682,"post_id":29785600,"comment_id":47700940,"body_markdown":"Did you try benchmarking them yourself?","body":"Did you try benchmarking them yourself?"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1429662775,"post_id":29785600,"comment_id":47700970,"body_markdown":"@dr_andonuts I have no idea how to do that. I would if I could. I&#39;m just curious.","body":"@dr_andonuts I have no idea how to do that. I would if I could. I&#39;m just curious."},{"owner":{"account_id":4859697,"reputation":859,"user_id":3919702,"accept_rate":60,"display_name":"The name&#39;s Bob. MS Bob."},"score":0,"creation_date":1429662809,"post_id":29785600,"comment_id":47700985,"body_markdown":"I mean, just run each a million times in a loop and compare the results.","body":"I mean, just run each a million times in a loop and compare the results."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1429662890,"post_id":29785600,"comment_id":47701015,"body_markdown":"@dr_andonuts I have checked out effieciency questions before out of curiousity, and they always have these really weird variables and numbers and methods and such. What would I be measuring if I were to give it a go myself?","body":"@dr_andonuts I have checked out effieciency questions before out of curiousity, and they always have these really weird variables and numbers and methods and such. What would I be measuring if I were to give it a go myself?"},{"owner":{"account_id":4859697,"reputation":859,"user_id":3919702,"accept_rate":60,"display_name":"The name&#39;s Bob. MS Bob."},"score":0,"creation_date":1429662944,"post_id":29785600,"comment_id":47701031,"body_markdown":"No, you couldn&#39;t move the if statement.","body":"No, you couldn&#39;t move the if statement."},{"owner":{"account_id":4859697,"reputation":859,"user_id":3919702,"accept_rate":60,"display_name":"The name&#39;s Bob. MS Bob."},"score":0,"creation_date":1429662972,"post_id":29785600,"comment_id":47701039,"body_markdown":"Probably milliseconds (1/1000 of a second).","body":"Probably milliseconds (1/1000 of a second)."},{"owner":{"account_id":4859697,"reputation":859,"user_id":3919702,"accept_rate":60,"display_name":"The name&#39;s Bob. MS Bob."},"score":0,"creation_date":1429663253,"post_id":29785600,"comment_id":47701129,"body_markdown":"Not me. Here, have an upvote, I&#39;m actually a bit curious about this.","body":"Not me. Here, have an upvote, I&#39;m actually a bit curious about this."},{"owner":{"account_id":4859697,"reputation":859,"user_id":3919702,"accept_rate":60,"display_name":"The name&#39;s Bob. MS Bob."},"score":0,"creation_date":1429663280,"post_id":29785600,"comment_id":47701143,"body_markdown":"Also, you shouldn&#39;t ask people to explain downvotes. Sometimes there is nothing to explain.","body":"Also, you shouldn&#39;t ask people to explain downvotes. Sometimes there is nothing to explain."}],"answers":[{"tags":[],"owner":{"account_id":5668327,"reputation":8372,"user_id":4483840,"accept_rate":75,"display_name":"Zielu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680952424,"creation_date":1429663376,"answer_id":29785720,"question_id":29785600,"body_markdown":"You can check the code simply yourself (it&#39;s included in the SDK).\r\n\r\nThe .equalsIgnoreCase is faster than toUpperCase().equals()\r\nIn Java 8, the code is:\r\n\r\n    while (len-- &gt; 0) {\r\n        char c1 = ta[to++];\r\n        char c2 = pa[po++];\r\n        if (c1 == c2) {\r\n            continue;\r\n        }\r\n        if (ignoreCase) {\r\n            // If characters don&#39;t match but case may be ignored,\r\n            // try converting both characters to uppercase.\r\n            // If the results match, then the comparison scan should\r\n            // continue.\r\n            char u1 = Character.toUpperCase(c1);\r\n            char u2 = Character.toUpperCase(c2);\r\n            if (u1 == u2) {\r\n                continue;\r\n            }\r\n            // Unfortunately, conversion to uppercase does not work properly\r\n            // for the Georgian alphabet, which has strange rules about case\r\n            // conversion. So we need to make one last check before exiting.\r\n            if (Character.toLowerCase(u1) == Character.toLowerCase(u2)) {\r\n                continue;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    return true;\r\n\r\nSo if the compared strings are actually different, it will be faster than first calling toUpperCase then equals as the toUpperCase will modifiy all the characters.\r\n\r\nAlso the logic involved in toUpperCase seems to be more complicated than in the comparison loop and it creates a new String object at the end.\r\n\r\nBut you would need to have a lot of comparison operations to actually see any difference.","title":"Efficiency of equalsIgnoreCase() versus toUpperCase().equals and toLowerCase().equals","body":"<p>You can check the code simply yourself (it's included in the SDK).</p>\n<p>The .equalsIgnoreCase is faster than toUpperCase().equals()\nIn Java 8, the code is:</p>\n<pre><code>while (len-- &gt; 0) {\n    char c1 = ta[to++];\n    char c2 = pa[po++];\n    if (c1 == c2) {\n        continue;\n    }\n    if (ignoreCase) {\n        // If characters don't match but case may be ignored,\n        // try converting both characters to uppercase.\n        // If the results match, then the comparison scan should\n        // continue.\n        char u1 = Character.toUpperCase(c1);\n        char u2 = Character.toUpperCase(c2);\n        if (u1 == u2) {\n            continue;\n        }\n        // Unfortunately, conversion to uppercase does not work properly\n        // for the Georgian alphabet, which has strange rules about case\n        // conversion. So we need to make one last check before exiting.\n        if (Character.toLowerCase(u1) == Character.toLowerCase(u2)) {\n            continue;\n        }\n    }\n    return false;\n}\nreturn true;\n</code></pre>\n<p>So if the compared strings are actually different, it will be faster than first calling toUpperCase then equals as the toUpperCase will modifiy all the characters.</p>\n<p>Also the logic involved in toUpperCase seems to be more complicated than in the comparison loop and it creates a new String object at the end.</p>\n<p>But you would need to have a lot of comparison operations to actually see any difference.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1429700589,"creation_date":1429663959,"answer_id":29785819,"question_id":29785600,"body_markdown":"Surprisingly, these methods are not equivalent for some strange Unicode reasons:\n\n- `toUpperCase(&quot;&#223;&quot;)` returns `&quot;SS&quot;`, i.e., two letters, while `equalsIgnoreCase` works character-wise\n- There are characters for which neither `toUpperCase` nor `toLowerCase` is sufficient, you must do both\n\nConcerning efficiency, I&#39;d bet that `equalsIgnoreCase` is way faster, as it doesn&#39;t copy any data. It also starts with the length comparison.\n\nNote also that `toUpperCase` and `toLowerCase` are `Locale`-sensitive, while `equalsIgnoreCase` is not. IIRC the performance diminishes if an exotic locale gets used.\n\n## Your use case\n\nThe best and simplest optimization would be to normalize the casing beforehand. There&#39;s no reason to have a &quot;Queen&quot;, a &quot;queen&quot;, and a &quot;QueEN&quot; in your data - clean up the input ASAP.\n\nYou can also use an `enum` for representing the rank.\n\nI&#39;m afraid, your loop is broken. After any of JQK you skip one card, is that intended???\n\n## Simplified code\n\nDo the following\n\n- use foreach loop to keep it cleaner\n- use local variables to avoid repeating complicated expression\n- replace `if (x) return true; else return false;` by `return x;`\n\nThe code without using `enum`s and early normalization would look like this:\n\n    int count = 0;\n    // Whatever Position is\n    for (Position p : selectedCards) {\n        String rank = cardAt(p).rank();\n        if (rank.equalsIgnoreCase(&quot;Jack&quot;)\n                || rank.equalsIgnoreCase(&quot;Queen&quot;)\n                || rank.equalsIgnoreCase(&quot;King&quot;)) {\n            ++count;\n        if (count &gt; 3) { // Tiny and probably useless optimization.\n            return false;\n        }\n    }\n    return count == 3;\n\n","title":"Efficiency of equalsIgnoreCase() versus toUpperCase().equals and toLowerCase().equals","body":"<p>Surprisingly, these methods are not equivalent for some strange Unicode reasons:</p>\n<ul>\n<li><code>toUpperCase(&quot;ß&quot;)</code> returns <code>&quot;SS&quot;</code>, i.e., two letters, while <code>equalsIgnoreCase</code> works character-wise</li>\n<li>There are characters for which neither <code>toUpperCase</code> nor <code>toLowerCase</code> is sufficient, you must do both</li>\n</ul>\n<p>Concerning efficiency, I'd bet that <code>equalsIgnoreCase</code> is way faster, as it doesn't copy any data. It also starts with the length comparison.</p>\n<p>Note also that <code>toUpperCase</code> and <code>toLowerCase</code> are <code>Locale</code>-sensitive, while <code>equalsIgnoreCase</code> is not. IIRC the performance diminishes if an exotic locale gets used.</p>\n<h2>Your use case</h2>\n<p>The best and simplest optimization would be to normalize the casing beforehand. There's no reason to have a &quot;Queen&quot;, a &quot;queen&quot;, and a &quot;QueEN&quot; in your data - clean up the input ASAP.</p>\n<p>You can also use an <code>enum</code> for representing the rank.</p>\n<p>I'm afraid, your loop is broken. After any of JQK you skip one card, is that intended???</p>\n<h2>Simplified code</h2>\n<p>Do the following</p>\n<ul>\n<li>use foreach loop to keep it cleaner</li>\n<li>use local variables to avoid repeating complicated expression</li>\n<li>replace <code>if (x) return true; else return false;</code> by <code>return x;</code></li>\n</ul>\n<p>The code without using <code>enum</code>s and early normalization would look like this:</p>\n<pre><code>int count = 0;\n// Whatever Position is\nfor (Position p : selectedCards) {\n    String rank = cardAt(p).rank();\n    if (rank.equalsIgnoreCase(&quot;Jack&quot;)\n            || rank.equalsIgnoreCase(&quot;Queen&quot;)\n            || rank.equalsIgnoreCase(&quot;King&quot;)) {\n        ++count;\n    if (count &gt; 3) { // Tiny and probably useless optimization.\n        return false;\n    }\n}\nreturn count == 3;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1429832988,"creation_date":1429664887,"answer_id":29785961,"question_id":29785600,"body_markdown":"JMH makes microbenchmarking easy:\r\n\r\n**Update:**  Set up the input string as a parameter to address the comment from JMH God Alexey Shipilev.  I left the target string constant because OP&#39;s use case is to compare input strings to a constant.\r\n\r\n\t@State(Benchmark)\r\n\tpublic class StrComp {\r\n\r\n\t\t@Param({&quot;Queen&quot;, &quot;queen&quot;, &quot;King&quot;})\r\n\t\tpublic String input;\r\n\t\t\r\n\t\t@Benchmark\r\n\t\tpublic boolean eqIgnoreCase() {\r\n\t\t\treturn input.equalsIgnoreCase(&quot;queen&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t@Benchmark\r\n\t\tpublic boolean eqToLower() {\r\n\t\t\treturn input.toLowerCase().equals(&quot;queen&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws RunnerException {\r\n\t\t\tOptions opt = new OptionsBuilder()\r\n\t\t\t\t\t.include(&quot;.*StrComp.*&quot;)\r\n\t\t\t\t\t.mode(Mode.AverageTime)\r\n\t\t\t\t\t.timeUnit(TimeUnit.NANOSECONDS)\r\n\t\t\t\t\t.forks(5)\r\n\t\t\t\t\t.warmupIterations(10)\r\n\t\t\t\t\t.measurementIterations(10)\r\n\t\t\t\t\t.build();\r\n\t\t\t\r\n\t\t\tnew Runner(opt).run();\r\n\t\t}\r\n\t}\r\n\r\nAnd the output:\r\n\r\n\tBenchmark             Mode  Cnt   Score   Error  Units\r\n\tStrComp.eqIgnoreCase  avgt   50  18.581 &#177; 0.051  ns/op\r\n\tStrComp.eqToLower     avgt   50  54.796 &#177; 0.173  ns/op\r\n\r\nUpdated output with parameter:\r\n\r\n\tBenchmark             (input)  Mode  Cnt   Score   Error  Units\r\n\tStrComp.eqIgnoreCase    Queen  avgt   50  17.947 &#177; 0.205  ns/op\r\n\tStrComp.eqIgnoreCase    queen  avgt   50  15.553 &#177; 0.159  ns/op\r\n\tStrComp.eqIgnoreCase     King  avgt   50   2.968 &#177; 0.037  ns/op\r\n\tStrComp.eqToLower       Queen  avgt   50  56.499 &#177; 0.180  ns/op\r\n\tStrComp.eqToLower       queen  avgt   50  22.023 &#177; 0.040  ns/op\r\n\tStrComp.eqToLower        King  avgt   50  49.174 &#177; 0.145  ns/op\r\n\r\n\r\nSo, eqIgnoreCase is faster but unless you are doing a million comparisons per second, you won&#39;t notice any difference.\r\n\r\nYou can play around and see how the difference would be affected if the first string is already lower case or if the strings are of different lengths, etc.\r\n\r\nAnyway, If you want to make your code more &quot;efficient&quot; and also more clear, type-safe and less prone to bugs, don&#39;t use strings for things like this.  Use enums.  \r\n\r\nDeck of cards is so well-suited to implementation by enums, it&#39;s frequently used to illustrate the `enum` concept: http://docs.oracle.com/javase/8/docs/technotes/guides/language/enums.html#Card","title":"Efficiency of equalsIgnoreCase() versus toUpperCase().equals and toLowerCase().equals","body":"<p>JMH makes microbenchmarking easy:</p>\n\n<p><strong>Update:</strong>  Set up the input string as a parameter to address the comment from JMH God Alexey Shipilev.  I left the target string constant because OP's use case is to compare input strings to a constant.</p>\n\n<pre><code>@State(Benchmark)\npublic class StrComp {\n\n    @Param({\"Queen\", \"queen\", \"King\"})\n    public String input;\n\n    @Benchmark\n    public boolean eqIgnoreCase() {\n        return input.equalsIgnoreCase(\"queen\");\n    }\n\n    @Benchmark\n    public boolean eqToLower() {\n        return input.toLowerCase().equals(\"queen\");\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(\".*StrComp.*\")\n                .mode(Mode.AverageTime)\n                .timeUnit(TimeUnit.NANOSECONDS)\n                .forks(5)\n                .warmupIterations(10)\n                .measurementIterations(10)\n                .build();\n\n        new Runner(opt).run();\n    }\n}\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>Benchmark             Mode  Cnt   Score   Error  Units\nStrComp.eqIgnoreCase  avgt   50  18.581 ± 0.051  ns/op\nStrComp.eqToLower     avgt   50  54.796 ± 0.173  ns/op\n</code></pre>\n\n<p>Updated output with parameter:</p>\n\n<pre><code>Benchmark             (input)  Mode  Cnt   Score   Error  Units\nStrComp.eqIgnoreCase    Queen  avgt   50  17.947 ± 0.205  ns/op\nStrComp.eqIgnoreCase    queen  avgt   50  15.553 ± 0.159  ns/op\nStrComp.eqIgnoreCase     King  avgt   50   2.968 ± 0.037  ns/op\nStrComp.eqToLower       Queen  avgt   50  56.499 ± 0.180  ns/op\nStrComp.eqToLower       queen  avgt   50  22.023 ± 0.040  ns/op\nStrComp.eqToLower        King  avgt   50  49.174 ± 0.145  ns/op\n</code></pre>\n\n<p>So, eqIgnoreCase is faster but unless you are doing a million comparisons per second, you won't notice any difference.</p>\n\n<p>You can play around and see how the difference would be affected if the first string is already lower case or if the strings are of different lengths, etc.</p>\n\n<p>Anyway, If you want to make your code more \"efficient\" and also more clear, type-safe and less prone to bugs, don't use strings for things like this.  Use enums.  </p>\n\n<p>Deck of cards is so well-suited to implementation by enums, it's frequently used to illustrate the <code>enum</code> concept: <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/language/enums.html#Card\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/language/enums.html#Card</a></p>\n"}],"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13552,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":29785961,"answer_count":3,"score":18,"last_activity_date":1680952424,"creation_date":1429662616,"question_id":29785600,"body_markdown":"The title says it all. My question regards the efficiency of different `String` equivalency methods. I frequently use `.equalsIgnoreCase(String str)` because I just have a thing for it. But I&#39;m beginning to wonder if it may not be the most efficient method for finding equivalency between `Strings`. It seems to me that `.equalsIgnoreCase(String str)` is calling one of the case shifting methods `toUpperCase` or `toLowerCase` then calling `equals` in its definition, but I am likely wrong. So, which of these methods is more efficient in the following situation, or any situation for that matter?\r\n\r\n    int count = 0;//checks for face cards at indexes listed in selectedCards\r\n                  // Selected cards is Integer ArrayList\r\n\t\t\r\n\t\tfor(; (count &lt; selectedCards.size() &amp;&amp; count &lt; 3); count++)\r\n\t\t{\r\n\t\t\tif(cardAt(selectedCards.get(count)).rank().equalsIgnoreCase(&quot;Queen&quot;))\r\n\t\t\t\tcount++;\r\n\t\t\telse if(cardAt(selectedCards.get(count)).rank().equalsIgnoreCase(&quot;King&quot;))\r\n\t\t\t\tcount++;\r\n\t\t\tif(cardAt(selectedCards.get(count)).rank().equalsIgnoreCase(&quot;Jack&quot;))\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tif(count == 3)\r\n\t\t\treturn true;\r\n\t\treturn false;","title":"Efficiency of equalsIgnoreCase() versus toUpperCase().equals and toLowerCase().equals","body":"<p>The title says it all. My question regards the efficiency of different <code>String</code> equivalency methods. I frequently use <code>.equalsIgnoreCase(String str)</code> because I just have a thing for it. But I'm beginning to wonder if it may not be the most efficient method for finding equivalency between <code>Strings</code>. It seems to me that <code>.equalsIgnoreCase(String str)</code> is calling one of the case shifting methods <code>toUpperCase</code> or <code>toLowerCase</code> then calling <code>equals</code> in its definition, but I am likely wrong. So, which of these methods is more efficient in the following situation, or any situation for that matter?</p>\n\n<pre><code>int count = 0;//checks for face cards at indexes listed in selectedCards\n              // Selected cards is Integer ArrayList\n\n    for(; (count &lt; selectedCards.size() &amp;&amp; count &lt; 3); count++)\n    {\n        if(cardAt(selectedCards.get(count)).rank().equalsIgnoreCase(\"Queen\"))\n            count++;\n        else if(cardAt(selectedCards.get(count)).rank().equalsIgnoreCase(\"King\"))\n            count++;\n        if(cardAt(selectedCards.get(count)).rank().equalsIgnoreCase(\"Jack\"))\n            count++;\n    }\n\n    if(count == 3)\n        return true;\n    return false;\n</code></pre>\n"},{"tags":["java","api","binance"],"answers":[{"tags":[],"owner":{"account_id":7249820,"reputation":1,"user_id":10619213,"display_name":"johnda98"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680952220,"creation_date":1597245384,"answer_id":63379592,"question_id":63364627,"body_markdown":"Try and catch BinanceAPIException around .. example of grabbing a pair\r\n\r\n              BinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\r\n        \t  BinanceApiRestClient client = factory.newRestClient();\r\n        \t   \r\n        \t  // BinanceApiAsyncRestClient client = factory.newAsyncRestClient();\r\n \t\t\t \t   \r\n\r\n        \t    // Test connectivity\r\n        \t    client.ping();\r\n\r\n        \t   long serverTime = client.getServerTime();\r\n        \t   out.println(&quot;&lt;p&gt; Time of ticker from Binance - its Servertime : &quot; + serverTime + &quot;&lt;/p&gt;&quot;);\r\n         \t\r\n        \t    \r\n        \t\tTickerStatistics tickerStatistics = client.get24HrPriceStatistics(&quot;NEOETH&quot;);\r\n        \t\tout.println(&quot;&lt;p&gt; NEO ETH : &quot; + tickerStatistics.getLastPrice() + &quot;&lt;/p&gt;&quot;);\r\n         \t        \t\t\r\n         \t\r\n        \t\tString price = tickerStatistics.getLastPrice().toString();\r\n        \t    out.println(&quot;&lt;p&gt; as string .. &quot; + price + &quot;&lt;/p&gt;&quot;);\r\n        \t\t\r\n        \t\tTickerStatistics tickerStatistics2 = client.get24HrPriceStatistics(&quot;HBARUSDT&quot;);\r\n        \t\tout.println(&quot;&lt;p&gt; HBAR USDT : &quot; + tickerStatistics2.getLastPrice() + &quot;&lt;/p&gt;&quot;);\r\n         \t\r\n     ","title":"Get only BTC pairs Binance Java API","body":"<p>Try and catch BinanceAPIException around .. example of grabbing a pair</p>\n<pre><code>          BinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\n          BinanceApiRestClient client = factory.newRestClient();\n           \n          // BinanceApiAsyncRestClient client = factory.newAsyncRestClient();\n               \n\n            // Test connectivity\n            client.ping();\n\n           long serverTime = client.getServerTime();\n           out.println(&quot;&lt;p&gt; Time of ticker from Binance - its Servertime : &quot; + serverTime + &quot;&lt;/p&gt;&quot;);\n        \n            \n            TickerStatistics tickerStatistics = client.get24HrPriceStatistics(&quot;NEOETH&quot;);\n            out.println(&quot;&lt;p&gt; NEO ETH : &quot; + tickerStatistics.getLastPrice() + &quot;&lt;/p&gt;&quot;);\n                        \n        \n            String price = tickerStatistics.getLastPrice().toString();\n            out.println(&quot;&lt;p&gt; as string .. &quot; + price + &quot;&lt;/p&gt;&quot;);\n            \n            TickerStatistics tickerStatistics2 = client.get24HrPriceStatistics(&quot;HBARUSDT&quot;);\n            out.println(&quot;&lt;p&gt; HBAR USDT : &quot; + tickerStatistics2.getLastPrice() + &quot;&lt;/p&gt;&quot;);\n        \n \n</code></pre>\n"}],"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1298,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680952220,"creation_date":1597172035,"question_id":63364627,"body_markdown":"I&#39;d like to get only the BTC pairs of Binance. I use this code to get all currencies current prices\r\n\r\n    List&lt;TickerPrice&gt; allPrices = client.getAllPrices();\r\n    System.out.println(allPrices);\r\n\r\nHow do I turn only BTC pairs?\r\n","title":"Get only BTC pairs Binance Java API","body":"<p>I'd like to get only the BTC pairs of Binance. I use this code to get all currencies current prices</p>\n<pre><code>List&lt;TickerPrice&gt; allPrices = client.getAllPrices();\nSystem.out.println(allPrices);\n</code></pre>\n<p>How do I turn only BTC pairs?</p>\n"},{"tags":["java","android","database","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1680948057,"post_id":75964457,"comment_id":133982886,"body_markdown":"What result do you get if you use `MovieDbScheme.IS_FAVORITE + &quot; = &#39;1&#39;&quot;`?","body":"What result do you get if you use <code>MovieDbScheme.IS_FAVORITE + &quot; = &#39;1&#39;&quot;</code>?"},{"owner":{"account_id":19498202,"reputation":305,"user_id":14368551,"display_name":"VanechikSpace"},"score":0,"creation_date":1680948287,"post_id":75964457,"comment_id":133982915,"body_markdown":"@forpas i get 0","body":"@forpas i get 0"},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1680948517,"post_id":75964457,"comment_id":133982932,"body_markdown":"What is the data type of `IS_FAVORITE`?","body":"What is the data type of <code>IS_FAVORITE</code>?"},{"owner":{"account_id":19498202,"reputation":305,"user_id":14368551,"display_name":"VanechikSpace"},"score":0,"creation_date":1680948658,"post_id":75964457,"comment_id":133982953,"body_markdown":"Here&#39;s how i created my db: `db.execSQL(&quot;create table &quot; + MovieDbScheme.NAME + &quot;(&quot; +\n&quot; _id integer primary key autoincrement, &quot; +\nMovieDbScheme.MOVIE_ID + &quot;,&quot; +\nMovieDbScheme.IS_FAVORITE +\n&quot;)&quot;\n);`","body":"Here&#39;s how i created my db: <code>db.execSQL(&quot;create table &quot; + MovieDbScheme.NAME + &quot;(&quot; + &quot; _id integer primary key autoincrement, &quot; + MovieDbScheme.MOVIE_ID + &quot;,&quot; + MovieDbScheme.IS_FAVORITE + &quot;)&quot; );</code>"}],"answers":[{"tags":[],"owner":{"account_id":17135151,"reputation":124,"user_id":12400381,"display_name":"VariabileAleatoria"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680948140,"creation_date":1680948140,"answer_id":75964575,"question_id":75964457,"body_markdown":"That&#39;s because you are comparing it as string and not Integer, so your query will result in a WHERE condition like `IS_FAVORITE = &#39;1&#39;` instead of `IS_FAVORITE = 1`\r\n\r\nI think you can embed integers in the selection param directly, cause they won&#39;t be able to harm with injections.\r\n\r\nProbably related:\r\nhttps://stackoverflow.com/questions/18746149/android-sqlite-selection-args-with-int-values","title":"Why doesn&#39;t the question mark work in query function?","body":"<p>That's because you are comparing it as string and not Integer, so your query will result in a WHERE condition like <code>IS_FAVORITE = '1'</code> instead of <code>IS_FAVORITE = 1</code></p>\n<p>I think you can embed integers in the selection param directly, cause they won't be able to harm with injections.</p>\n<p>Probably related:\n<a href=\"https://stackoverflow.com/questions/18746149/android-sqlite-selection-args-with-int-values\">Android Sqlite selection args[] with int values</a></p>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680951031,"creation_date":1680951031,"answer_id":75964780,"question_id":75964457,"body_markdown":"[Datatypes In SQLite][1] is a complicated concept and you must study it carefully to avoid issues like that.&lt;br/&gt;\r\n\r\nYou have defined the column `MovieDbScheme.IS_FAVORITE` without any data type and this means that it has no [type affinity][2].&lt;br/&gt;  \r\n\r\nWhen you use `?` placeholders in the `selection` argument of the [`query()`][3] method then these placeholders will be replaced by the values of `selectionArgs` as strings (so if you pass `1` it will be replaced by `&#39;1&#39;`).&lt;br/&gt; \r\n\r\nThis means that the comparison that takes place will be among a column with no affinity and a string.&lt;br/&gt;\r\nIn this case SQLite performs no affinity conversion and `1 = &#39;1&#39;` will return `false` because: \r\n\r\n&gt; for SQLite INTEGER values are always less than TEXT values\r\n\r\n(from [Comparison Example][4])\r\n\r\nWhat you should have done is define the column `MovieDbScheme.IS_FAVORITE` as `INTEGER` (or `BOOLEAN` if your SQLite version is 3.23.0+), in which case SQLite will perform affinity conversion and will compare both operands of the expression `1 = &#39;1&#39;` as integers.&lt;br/&gt;\r\n\r\nSee the [demo][5].&lt;br/&gt;\r\n\r\nSo, uninstall the app from the device where you try your app, change your code to:\r\n\r\n    MovieDbScheme.IS_FAVORITE + &quot; INTEGER&quot; \r\n\r\nin the `CREATE TABLE` statement and rerun.&lt;br/&gt;\r\n\r\n\r\n  [1]: https://www.sqlite.org/datatype3.html\r\n  [2]: https://www.sqlite.org/datatype3.html#type_affinity\r\n  [3]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String)\r\n  [4]: https://www.sqlite.org/datatype3.html#comparison_example\r\n  [5]: https://dbfiddle.uk/WtSGHvB_","title":"Why doesn&#39;t the question mark work in query function?","body":"<p><a href=\"https://www.sqlite.org/datatype3.html\" rel=\"nofollow noreferrer\">Datatypes In SQLite</a> is a complicated concept and you must study it carefully to avoid issues like that.<br/></p>\n<p>You have defined the column <code>MovieDbScheme.IS_FAVORITE</code> without any data type and this means that it has no <a href=\"https://www.sqlite.org/datatype3.html#type_affinity\" rel=\"nofollow noreferrer\">type affinity</a>.<br/></p>\n<p>When you use <code>?</code> placeholders in the <code>selection</code> argument of the <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>query()</code></a> method then these placeholders will be replaced by the values of <code>selectionArgs</code> as strings (so if you pass <code>1</code> it will be replaced by <code>'1'</code>).<br/></p>\n<p>This means that the comparison that takes place will be among a column with no affinity and a string.<br/>\nIn this case SQLite performs no affinity conversion and <code>1 = '1'</code> will return <code>false</code> because:</p>\n<blockquote>\n<p>for SQLite INTEGER values are always less than TEXT values</p>\n</blockquote>\n<p>(from <a href=\"https://www.sqlite.org/datatype3.html#comparison_example\" rel=\"nofollow noreferrer\">Comparison Example</a>)</p>\n<p>What you should have done is define the column <code>MovieDbScheme.IS_FAVORITE</code> as <code>INTEGER</code> (or <code>BOOLEAN</code> if your SQLite version is 3.23.0+), in which case SQLite will perform affinity conversion and will compare both operands of the expression <code>1 = '1'</code> as integers.<br/></p>\n<p>See the <a href=\"https://dbfiddle.uk/WtSGHvB_\" rel=\"nofollow noreferrer\">demo</a>.<br/></p>\n<p>So, uninstall the app from the device where you try your app, change your code to:</p>\n<pre><code>MovieDbScheme.IS_FAVORITE + &quot; INTEGER&quot; \n</code></pre>\n<p>in the <code>CREATE TABLE</code> statement and rerun.<br/></p>\n"}],"owner":{"account_id":19498202,"reputation":305,"user_id":14368551,"display_name":"VanechikSpace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75964780,"answer_count":2,"score":1,"last_activity_date":1680951987,"creation_date":1680946895,"question_id":75964457,"body_markdown":"I have a method:\r\n```\r\npublic int getCountOfFavoriteMovies(){\r\n\r\n\tCursor cursor = mDatabase.query(\r\n\t\tMovieDbScheme.NAME,\r\n\t\tnull,\r\n\t\tMovieDbScheme.IS_FAVORITE + &quot; = 1&quot;,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull\r\n\t);\r\n\r\n\ttry{\r\n\t    return cursor.getCount();\r\n\t}\r\n\tfinally {\r\n\t\tcursor.close();\r\n\t}\r\n}\r\n```\r\nit returns 7, but if i replace it with the following code:\r\n```\r\nCursor cursor = mDatabase.query(\r\n\tMovieDbScheme.NAME,\r\n\tnull,\r\n\tMovieDbScheme.IS_FAVORITE + &quot; = ?&quot;,\r\n\tnew String[]{Integer.toString(1)},\r\n\tnull,\r\n\tnull,\r\n\tnull\r\n);\r\n```\r\nit returns 0 for some reason. **Why? Aren&#39;t they the same ?**","title":"Why doesn&#39;t the question mark work in query function?","body":"<p>I have a method:</p>\n<pre><code>public int getCountOfFavoriteMovies(){\n\n    Cursor cursor = mDatabase.query(\n        MovieDbScheme.NAME,\n        null,\n        MovieDbScheme.IS_FAVORITE + &quot; = 1&quot;,\n        null,\n        null,\n        null,\n        null\n    );\n\n    try{\n        return cursor.getCount();\n    }\n    finally {\n        cursor.close();\n    }\n}\n</code></pre>\n<p>it returns 7, but if i replace it with the following code:</p>\n<pre><code>Cursor cursor = mDatabase.query(\n    MovieDbScheme.NAME,\n    null,\n    MovieDbScheme.IS_FAVORITE + &quot; = ?&quot;,\n    new String[]{Integer.toString(1)},\n    null,\n    null,\n    null\n);\n</code></pre>\n<p>it returns 0 for some reason. <strong>Why? Aren't they the same ?</strong></p>\n"},{"tags":["java","multithreading","java-stream","threadpool"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1623528236,"post_id":67952425,"comment_id":120106383,"body_markdown":"What do you mean by doesn&#39;t work? That is how you do it. The `parallelStream()` will use threads from the `customThreadPool`, not from the `ForkJoinPool.commonPool()`, and you have full control over the `customThreadPool`.","body":"What do you mean by doesn&#39;t work? That is how you do it. The <code>parallelStream()</code> will use threads from the <code>customThreadPool</code>, not from the <code>ForkJoinPool.commonPool()</code>, and you have full control over the <code>customThreadPool</code>."},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1623528352,"post_id":67952425,"comment_id":120106411,"body_markdown":"something in the syntax is worng as it gives me :\n&#39;)&#39; expected","body":"something in the syntax is worng as it gives me : &#39;)&#39; expected"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1623528407,"post_id":67952425,"comment_id":120106423,"body_markdown":"Don&#39;t show error in a comment. Edit the question and clarify it by showing what you mean by &quot;not working&quot;.","body":"Don&#39;t show error in a comment. Edit the question and clarify it by showing what you mean by &quot;not working&quot;."},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1623528408,"post_id":67952425,"comment_id":120106424,"body_markdown":"when i add ) it gives me :\njava: incompatible types: no instance(s) of type variable(s) T,R,A,capture#1 of ?,T exist so that java.util.concurrent.ForkJoinTask&lt;T&gt; conforms to java.util.List&lt;java.lang.String&gt;","body":"when i add ) it gives me : java: incompatible types: no instance(s) of type variable(s) T,R,A,capture#1 of ?,T exist so that java.util.concurrent.ForkJoinTask&lt;T&gt; conforms to java.util.List&lt;java.lang.String&gt;"},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1623528519,"post_id":67952425,"comment_id":120106447,"body_markdown":"@Andreas i did it in the question","body":"@Andreas i did it in the question"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1623528653,"post_id":67952425,"comment_id":120106482,"body_markdown":"What is the type of `r`?  Looks like that might be the problem; you might need to add a final `.get()` or `.join()`.","body":"What is the type of <code>r</code>?  Looks like that might be the problem; you might need to add a final <code>.get()</code> or <code>.join()</code>."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1623530024,"creation_date":1623530024,"answer_id":67952784,"question_id":67952425,"body_markdown":"The code compiles and runs fine, once the code errors are fixed (`str` =&gt; `s`).\r\n\r\n**Common Pool**\r\n\r\n```java\r\n// Setup with dummy actions for testing which thread executes the action\r\nList&lt;String&gt; mylist = new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;)); //that holds the strings \r\nList&lt;Action&gt; actions = new ArrayList&lt;&gt;(Arrays.asList(\r\n\t\ts -&gt; { s += &quot;x&quot;;  System.out.println(Thread.currentThread().getName() + &quot;: &quot; + s); return s; },\r\n\t\ts -&gt; { s += &quot;y&quot;;  System.out.println(Thread.currentThread().getName() + &quot;: &quot; + s); return s; }\r\n\t\t));\r\n\r\n// Using common pool\r\nStream&lt;String&gt; stream = mylist.parallelStream();\r\nstream = stream.flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s)));\r\nList&lt;String&gt; r = stream.collect(Collectors.toList());\r\nSystem.out.println(r);\r\n```\r\n\r\n*Output*\r\n\r\n```none\r\nForkJoinPool.commonPool-worker-7: 1x\r\nForkJoinPool.commonPool-worker-3: 2x\r\nForkJoinPool.commonPool-worker-3: 2y\r\nmain: 3x\r\nForkJoinPool.commonPool-worker-5: 4x\r\nmain: 3y\r\nForkJoinPool.commonPool-worker-7: 1y\r\nForkJoinPool.commonPool-worker-5: 4y\r\n[1x, 1y, 2x, 2y, 3x, 3y, 4x, 4y]\r\n```\r\n\r\n**Custom Pool**\r\n\r\n```java\r\nForkJoinPool customThreadPool = new ForkJoinPool(4);\r\nForkJoinTask&lt;List&lt;String&gt;&gt; task = customThreadPool.submit(\r\n\t\t() -&gt; mylist.parallelStream().flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s))).collect(Collectors.toList()));\r\nSystem.out.println(task.get());\r\n```\r\n\r\nIf the compiler complains as described in the question, you need to help it choose the correct overload of `submit()` by casting the lambda expression in the 3rd line:\r\n\r\n```java\r\n\t\t(Callable&lt;List&lt;String&gt;&gt;) () -&gt; mylist.parallelStream().flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s))).collect(Collectors.toList()));\r\n```\r\n\r\n*Output*\r\n\r\n```none\r\nForkJoinPool-1-worker-3: 3x\r\nForkJoinPool-1-worker-1: 1x\r\nForkJoinPool-1-worker-1: 1y\r\nForkJoinPool-1-worker-5: 2x\r\nForkJoinPool-1-worker-7: 4x\r\nForkJoinPool-1-worker-7: 4y\r\nForkJoinPool-1-worker-5: 2y\r\nForkJoinPool-1-worker-3: 3y\r\n[1x, 1y, 2x, 2y, 3x, 3y, 4x, 4y]\r\n```\r\n\r\n**Single Thread**\r\n\r\n```java\r\nStream&lt;String&gt; stream = mylist.stream();\r\nstream = stream.flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s)));\r\nList&lt;String&gt; r = stream.collect(Collectors.toList());\r\nSystem.out.println(r);\r\n```\r\n\r\n*Output*\r\n\r\n```none\r\nmain: 1x\r\nmain: 1y\r\nmain: 2x\r\nmain: 2y\r\nmain: 3x\r\nmain: 3y\r\nmain: 4x\r\nmain: 4y\r\n[1x, 1y, 2x, 2y, 3x, 3y, 4x, 4y]\r\n```","title":"How to create thread pool for stream operation","body":"<p>The code compiles and runs fine, once the code errors are fixed (<code>str</code> =&gt; <code>s</code>).</p>\n<p><strong>Common Pool</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Setup with dummy actions for testing which thread executes the action\nList&lt;String&gt; mylist = new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;)); //that holds the strings \nList&lt;Action&gt; actions = new ArrayList&lt;&gt;(Arrays.asList(\n        s -&gt; { s += &quot;x&quot;;  System.out.println(Thread.currentThread().getName() + &quot;: &quot; + s); return s; },\n        s -&gt; { s += &quot;y&quot;;  System.out.println(Thread.currentThread().getName() + &quot;: &quot; + s); return s; }\n        ));\n\n// Using common pool\nStream&lt;String&gt; stream = mylist.parallelStream();\nstream = stream.flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s)));\nList&lt;String&gt; r = stream.collect(Collectors.toList());\nSystem.out.println(r);\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>ForkJoinPool.commonPool-worker-7: 1x\nForkJoinPool.commonPool-worker-3: 2x\nForkJoinPool.commonPool-worker-3: 2y\nmain: 3x\nForkJoinPool.commonPool-worker-5: 4x\nmain: 3y\nForkJoinPool.commonPool-worker-7: 1y\nForkJoinPool.commonPool-worker-5: 4y\n[1x, 1y, 2x, 2y, 3x, 3y, 4x, 4y]\n</code></pre>\n<p><strong>Custom Pool</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ForkJoinPool customThreadPool = new ForkJoinPool(4);\nForkJoinTask&lt;List&lt;String&gt;&gt; task = customThreadPool.submit(\n        () -&gt; mylist.parallelStream().flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s))).collect(Collectors.toList()));\nSystem.out.println(task.get());\n</code></pre>\n<p>If the compiler complains as described in the question, you need to help it choose the correct overload of <code>submit()</code> by casting the lambda expression in the 3rd line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        (Callable&lt;List&lt;String&gt;&gt;) () -&gt; mylist.parallelStream().flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s))).collect(Collectors.toList()));\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>ForkJoinPool-1-worker-3: 3x\nForkJoinPool-1-worker-1: 1x\nForkJoinPool-1-worker-1: 1y\nForkJoinPool-1-worker-5: 2x\nForkJoinPool-1-worker-7: 4x\nForkJoinPool-1-worker-7: 4y\nForkJoinPool-1-worker-5: 2y\nForkJoinPool-1-worker-3: 3y\n[1x, 1y, 2x, 2y, 3x, 3y, 4x, 4y]\n</code></pre>\n<p><strong>Single Thread</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;String&gt; stream = mylist.stream();\nstream = stream.flatMap(s -&gt; actions.stream().map(ac -&gt; ac.work(s)));\nList&lt;String&gt; r = stream.collect(Collectors.toList());\nSystem.out.println(r);\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>main: 1x\nmain: 1y\nmain: 2x\nmain: 2y\nmain: 3x\nmain: 3y\nmain: 4x\nmain: 4y\n[1x, 1y, 2x, 2y, 3x, 3y, 4x, 4y]\n</code></pre>\n"}],"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":67952784,"answer_count":1,"score":-1,"last_activity_date":1680951970,"creation_date":1623526794,"question_id":67952425,"body_markdown":"I like to control the thread execution when using streams with a thread pool. Currently I have List of string \r\n\r\n    List&lt;String&gt; mylist = new ArrayList() {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;}; //that holds the strings \r\n    List&lt;Action&gt; actions = new ArrayList&lt;&gt;{} // holds function that manipulate the strings from mylist \r\n\r\nEach action have work method that get the String from mylist.\r\n\r\n    Stream&lt;String&gt; stream = mylist.parallelStream();\r\n    stream = stream.flatMap(s-&gt; actions.stream().map(ac -&gt; ac.work(str)));\r\n    r = stream.collect(Collectors.toList());\r\n\r\nAll work great but I have no control on the thread pool, know I can use ForkJoinPool as in this example:\r\n\r\n[Example][1]  \r\n\r\nBut I didn&#39;t found way to implement it in my example. This for example doesn&#39;t work:\r\n\r\n       ForkJoinPool customThreadPool = new ForkJoinPool(4);\r\n                r= customThreadPool.submit(\r\n                        () -&gt; mylist.parallelStream().flatMap(s-&gt; actions.stream().map(ac -&gt; ac.work(str))).collect(Collectors.toList()));\r\n\r\ngives me error:\r\n\r\n    java: incompatible types: no instance(s) of type variable(s) T,R,A,capture#1 of ?,T exist so that java.util.concurrent.ForkJoinTask&lt;T&gt; conforms to java.util.List&lt;java.lang.String&gt;\r\n\r\n  [1]: https://www.baeldung.com/java-8-parallel-streams-custom-threadpool\r\n","title":"How to create thread pool for stream operation","body":"<p>I like to control the thread execution when using streams with a thread pool. Currently I have List of string</p>\n<pre><code>List&lt;String&gt; mylist = new ArrayList() {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;}; //that holds the strings \nList&lt;Action&gt; actions = new ArrayList&lt;&gt;{} // holds function that manipulate the strings from mylist \n</code></pre>\n<p>Each action have work method that get the String from mylist.</p>\n<pre><code>Stream&lt;String&gt; stream = mylist.parallelStream();\nstream = stream.flatMap(s-&gt; actions.stream().map(ac -&gt; ac.work(str)));\nr = stream.collect(Collectors.toList());\n</code></pre>\n<p>All work great but I have no control on the thread pool, know I can use ForkJoinPool as in this example:</p>\n<p><a href=\"https://www.baeldung.com/java-8-parallel-streams-custom-threadpool\" rel=\"nofollow noreferrer\">Example</a></p>\n<p>But I didn't found way to implement it in my example. This for example doesn't work:</p>\n<pre><code>   ForkJoinPool customThreadPool = new ForkJoinPool(4);\n            r= customThreadPool.submit(\n                    () -&gt; mylist.parallelStream().flatMap(s-&gt; actions.stream().map(ac -&gt; ac.work(str))).collect(Collectors.toList()));\n</code></pre>\n<p>gives me error:</p>\n<pre><code>java: incompatible types: no instance(s) of type variable(s) T,R,A,capture#1 of ?,T exist so that java.util.concurrent.ForkJoinTask&lt;T&gt; conforms to java.util.List&lt;java.lang.String&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":0,"creation_date":1475677507,"post_id":39876102,"comment_id":67039885,"body_markdown":"Just had a look at our code formatter which is used in a quite wide base and that does the same reformatting. I would probably rather exclude the checkstyle rule which complains about this..","body":"Just had a look at our code formatter which is used in a quite wide base and that does the same reformatting. I would probably rather exclude the checkstyle rule which complains about this.."},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1475678211,"post_id":39876102,"comment_id":67040439,"body_markdown":"@hammerfest I dont&#39;t know why but wrapping the sentence into  `p` tags cause the message to disappear. Looks ugly, though but is the only workaround besides excluding the rule. Could you maybe point me to this rule? I only found `JavadocTagContinuationIndentation` but I&#39;m afraid it&#39;d also affect all other things in javadoc","body":"@hammerfest I dont&#39;t know why but wrapping the sentence into  <code>p</code> tags cause the message to disappear. Looks ugly, though but is the only workaround besides excluding the rule. Could you maybe point me to this rule? I only found <code>JavadocTagContinuationIndentation</code> but I&#39;m afraid it&#39;d also affect all other things in javadoc"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1476148790,"post_id":39876102,"comment_id":67217678,"body_markdown":"You shouldn&#39;t be using tabs anyway. Use spaces.","body":"You shouldn&#39;t be using tabs anyway. Use spaces."}],"answers":[{"tags":[],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660547901,"creation_date":1660547901,"answer_id":73357898,"question_id":39876102,"body_markdown":"Current IntelliJ-IDEA (2022.2) has a setting for this. I used it to successfully get rid of the CheckStyle error.\r\nUnder `Settings &gt; Editor &gt; Code Style &gt; Java &gt; JavaDoc` tab, the node `Other &gt; Indent continuation lines`, just activate that CheckBox.","title":"Autoindent JavaDoc for the return tag using Intellij IDEA 2016.2.4","body":"<p>Current IntelliJ-IDEA (2022.2) has a setting for this. I used it to successfully get rid of the CheckStyle error.\nUnder <code>Settings &gt; Editor &gt; Code Style &gt; Java &gt; JavaDoc</code> tab, the node <code>Other &gt; Indent continuation lines</code>, just activate that CheckBox.</p>\n"}],"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73357898,"answer_count":1,"score":2,"last_activity_date":1680951766,"creation_date":1475676164,"question_id":39876102,"body_markdown":"How can I set my IDEA to autoindent the whole sentence for the `return` tags? The IDE only autoindents the first line but ignores the following ones. Therefore checkstyle points me to this line being indented not correctly.\r\n\r\nWhen I use four tabs to indent the line the checkstyle message disappears but after I reformat code with Ctrl+Alt+L the tab chars are removed and I again get the same message. I didn&#39;t found any settings for the return tag in `File &gt; Settings &gt; Editor &gt; Code Style &gt; Java &gt; JavaDoc tab`.\r\n","title":"Autoindent JavaDoc for the return tag using Intellij IDEA 2016.2.4","body":"<p>How can I set my IDEA to autoindent the whole sentence for the <code>return</code> tags? The IDE only autoindents the first line but ignores the following ones. Therefore checkstyle points me to this line being indented not correctly.</p>\n<p>When I use four tabs to indent the line the checkstyle message disappears but after I reformat code with Ctrl+Alt+L the tab chars are removed and I again get the same message. I didn't found any settings for the return tag in <code>File &gt; Settings &gt; Editor &gt; Code Style &gt; Java &gt; JavaDoc tab</code>.</p>\n"},{"tags":["java","mongodb","azure","azure-web-app-service","mongodb-atlas"],"comments":[{"owner":{"account_id":178680,"reputation":4125,"user_id":410825,"accept_rate":18,"display_name":"Aravind"},"score":0,"creation_date":1579884155,"post_id":59900289,"comment_id":105928314,"body_markdown":"can you try it from another app in the same app service plan to see if you get the same error","body":"can you try it from another app in the same app service plan to see if you get the same error"}],"answers":[{"tags":[],"owner":{"account_id":4924927,"reputation":1340,"user_id":3966417,"accept_rate":31,"display_name":"LMG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579907119,"creation_date":1579907119,"answer_id":59904790,"question_id":59900289,"body_markdown":"Is there any firewall or network security group? What the network peering status is? If it shows &#171;&#160;initiated&#160;&#187; then this means it has not been completed. Network peering has to be done on each ends. If it shows &#171;&#160;connected&#160;&#187;, then I would look for firewall or network security groups. \r\n\r\nSee this \r\nhttps://docs.atlas.mongodb.com/security-vpc-peering/#vpc-peering","title":"Connecting Azure app service to MongoDB Atlas across vnet peering connection","body":"<p>Is there any firewall or network security group? What the network peering status is? If it shows « initiated » then this means it has not been completed. Network peering has to be done on each ends. If it shows « connected », then I would look for firewall or network security groups. </p>\n\n<p>See this \n<a href=\"https://docs.atlas.mongodb.com/security-vpc-peering/#vpc-peering\" rel=\"nofollow noreferrer\">https://docs.atlas.mongodb.com/security-vpc-peering/#vpc-peering</a></p>\n"},{"tags":[],"owner":{"account_id":189067,"reputation":7347,"user_id":428173,"accept_rate":82,"display_name":"Martin Melka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610552140,"creation_date":1610552140,"answer_id":65705043,"question_id":59900289,"body_markdown":"No idea if this can apply to your case but this question was the first and only that came up when I was searching for something similar.\r\n\r\nIn my case I have a MongoDB Atlas deployed on Azure and an app running in AKS. I set up peering as documented but still could not connect from the app container in AKS to the MongoDB. Turns out the problem was an incorrect connection string.\r\n\r\nAtlas has a different URL when connecting directly and when connecting through a peer network:\r\n\r\n```\r\n# Direct connection\r\nmongo &quot;mongodb+srv://&lt;cluster&gt;.&lt;something&gt;.mongodb.net/&lt;dbname&gt;&quot;\r\n\r\n# Peered connection (note the -pri)\r\nmongo &quot;mongodb+srv://&lt;cluster&gt;-pri.&lt;something&gt;.mongodb.net/&lt;dbname&gt;&quot;\r\n```\r\n\r\nAs an additional note, I configured the Atlas Network Acces IP address list with the CIDR of the Azure VN Subnet used in AKS. (Under `Virtual Network &gt; Subnets &gt; IPv4`)","title":"Connecting Azure app service to MongoDB Atlas across vnet peering connection","body":"<p>No idea if this can apply to your case but this question was the first and only that came up when I was searching for something similar.</p>\n<p>In my case I have a MongoDB Atlas deployed on Azure and an app running in AKS. I set up peering as documented but still could not connect from the app container in AKS to the MongoDB. Turns out the problem was an incorrect connection string.</p>\n<p>Atlas has a different URL when connecting directly and when connecting through a peer network:</p>\n<pre><code># Direct connection\nmongo &quot;mongodb+srv://&lt;cluster&gt;.&lt;something&gt;.mongodb.net/&lt;dbname&gt;&quot;\n\n# Peered connection (note the -pri)\nmongo &quot;mongodb+srv://&lt;cluster&gt;-pri.&lt;something&gt;.mongodb.net/&lt;dbname&gt;&quot;\n</code></pre>\n<p>As an additional note, I configured the Atlas Network Acces IP address list with the CIDR of the Azure VN Subnet used in AKS. (Under <code>Virtual Network &gt; Subnets &gt; IPv4</code>)</p>\n"},{"tags":[],"owner":{"account_id":18730730,"reputation":486,"user_id":13656191,"display_name":"Imad Salki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680950057,"creation_date":1680950057,"answer_id":75964708,"question_id":59900289,"body_markdown":"FYI Peering is not available on M0, M2, M5 and Serveless(at this time) instances.","title":"Connecting Azure app service to MongoDB Atlas across vnet peering connection","body":"<p>FYI Peering is not available on M0, M2, M5 and Serveless(at this time) instances.</p>\n"}],"owner":{"account_id":6953413,"reputation":157,"user_id":5675401,"display_name":"itadvicehelpsdf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680950057,"creation_date":1579883054,"question_id":59900289,"body_markdown":"So I have an Azure App Service and I want it to be able to connect to mongo db atlas. For our Atlas setup there is [a peering connection][1] between our managed environment on azure (and the vnet it all sits in) and our mongo db cluster.\r\n\r\nThe mongo cluster is setup with &quot;Connect via peering only&quot; which we can&#39;t change. This means we can&#39;t connect to our db with any old public ip address -It has to come from the vnet it&#39;s peered with. The vms (from within the peered vnet) are able to access the db no problem. \r\n\r\nI tried with the app service to connect to the db with the same connection string that worked for the vm. It returned a the error:\r\n\r\n```\r\njava.net.ConnectException: Connection refused (Connection refused)}}, {address=MYMONGOADDRESS.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}]\r\n```\r\nThis is expected due to the reasons above. However I setup the [vnet integration for the app service][2]\r\n. I created a dedicated subnet as described for the app service and whitelisted the ip range in mongo. However I still couldn&#39;t connect to the db after using this vnet integration. I also got a very similar error but slightly different.\r\n```\r\n{java.net.SocketTimeoutException: connect timed out}}, {address=MYMONGOADDRESS.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: connect timed out}}]\r\n```\r\nWhere instead of a connection refused I&#39;m not getting a connection time out. I&#39;ve repeated this a few times and get the same result.\r\n\r\nAnyone know why these errors are different and any help in being able to connect to the db from my azure app service?\r\n\r\n  [1]: https://docs.atlas.mongodb.com/security-vpc-peering/\r\n  [2]: https://learn.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet","title":"Connecting Azure app service to MongoDB Atlas across vnet peering connection","body":"<p>So I have an Azure App Service and I want it to be able to connect to mongo db atlas. For our Atlas setup there is <a href=\"https://docs.atlas.mongodb.com/security-vpc-peering/\" rel=\"nofollow noreferrer\">a peering connection</a> between our managed environment on azure (and the vnet it all sits in) and our mongo db cluster.</p>\n\n<p>The mongo cluster is setup with \"Connect via peering only\" which we can't change. This means we can't connect to our db with any old public ip address -It has to come from the vnet it's peered with. The vms (from within the peered vnet) are able to access the db no problem. </p>\n\n<p>I tried with the app service to connect to the db with the same connection string that worked for the vm. It returned a the error:</p>\n\n<pre><code>java.net.ConnectException: Connection refused (Connection refused)}}, {address=MYMONGOADDRESS.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}]\n</code></pre>\n\n<p>This is expected due to the reasons above. However I setup the <a href=\"https://learn.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet\" rel=\"nofollow noreferrer\">vnet integration for the app service</a>\n. I created a dedicated subnet as described for the app service and whitelisted the ip range in mongo. However I still couldn't connect to the db after using this vnet integration. I also got a very similar error but slightly different.</p>\n\n<pre><code>{java.net.SocketTimeoutException: connect timed out}}, {address=MYMONGOADDRESS.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: connect timed out}}]\n</code></pre>\n\n<p>Where instead of a connection refused I'm not getting a connection time out. I've repeated this a few times and get the same result.</p>\n\n<p>Anyone know why these errors are different and any help in being able to connect to the db from my azure app service?</p>\n"},{"tags":["java","json","spring","utf-8","utf-16"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1551959443,"post_id":55043071,"comment_id":96836929,"body_markdown":"I don&#39;t see how at all `Employee e` is ever used in your code. Also you seem to know your issue according to your tags","body":"I don&#39;t see how at all <code>Employee e</code> is ever used in your code. Also you seem to know your issue according to your tags"},{"owner":{"account_id":7523509,"reputation":367,"user_id":5714605,"display_name":"Muhammad Waqas"},"score":0,"creation_date":1551959779,"post_id":55043071,"comment_id":96837114,"body_markdown":"JsonUtil Please show this class as well","body":"JsonUtil Please show this class as well"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1551960624,"post_id":55043071,"comment_id":96837659,"body_markdown":"How do you inspect the response?","body":"How do you inspect the response?"},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":0,"creation_date":1551961715,"post_id":55043071,"comment_id":96838318,"body_markdown":"Most likely, whatever you&#39;re using to display the response is incapable to handle Russian.","body":"Most likely, whatever you&#39;re using to display the response is incapable to handle Russian."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1551964178,"post_id":55043071,"comment_id":96839745,"body_markdown":"Most likely the code above is not the problem. So the problem could be: (1) the web server adding invalid headers to the response (unlikely), (2) your Java compiler using the wrong encoding for the source code  (3) the REST service client, (4) the way you inspect the result or the result is displayed.","body":"Most likely the code above is not the problem. So the problem could be: (1) the web server adding invalid headers to the response (unlikely), (2) your Java compiler using the wrong encoding for the source code  (3) the REST service client, (4) the way you inspect the result or the result is displayed."},{"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"score":0,"creation_date":1551970082,"post_id":55043071,"comment_id":96843422,"body_markdown":"even if i try to do System.out.println(&quot;Мегафон Игры&quot;) inside my controller it shows ??? in eclipse console","body":"even if i try to do System.out.println(&quot;Мегафон Игры&quot;) inside my controller it shows ??? in eclipse console"}],"answers":[{"tags":[],"owner":{"account_id":11939237,"reputation":1048,"user_id":8736602,"display_name":"yali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551961241,"creation_date":1551961241,"answer_id":55043657,"question_id":55043071,"body_markdown":"i tried that on my machine and it&#39;s work\r\n\r\n      User e = new User();\r\n      e.setFirstName(&quot;Мегафон Игры&quot;);\r\n      ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n      String json;\r\n      json = ow.writeValueAsString(e);\r\n      return json;\r\n\r\nthat what i recived : \r\n\r\n    {\r\n    &quot;id&quot;: 0,\r\n    &quot;creationDate&quot;: null,\r\n    &quot;username&quot;: null,\r\n    &quot;firstName&quot;: &quot;Мегафон Игры&quot;,\r\n    &quot;lastName&quot;: null,\r\n    &quot;email&quot;: null,\r\n    &quot;updateDate&quot;: null,\r\n    &quot;active&quot;: 0\r\n    }","title":"Russian characters are shown as ??? in java","body":"<p>i tried that on my machine and it's work</p>\n\n<pre><code>  User e = new User();\n  e.setFirstName(\"Мегафон Игры\");\n  ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n  String json;\n  json = ow.writeValueAsString(e);\n  return json;\n</code></pre>\n\n<p>that what i recived : </p>\n\n<pre><code>{\n\"id\": 0,\n\"creationDate\": null,\n\"username\": null,\n\"firstName\": \"Мегафон Игры\",\n\"lastName\": null,\n\"email\": null,\n\"updateDate\": null,\n\"active\": 0\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17116448,"reputation":170,"user_id":12389741,"display_name":"RedRainbowGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680949514,"creation_date":1680949514,"answer_id":75964665,"question_id":55043071,"body_markdown":"It helped me to set the encoding in the response header:\r\n```Java\r\nresponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\n```","title":"Russian characters are shown as ??? in java","body":"<p>It helped me to set the encoding in the response header:</p>\n<pre><code>response.setCharacterEncoding(&quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680949514,"creation_date":1551959307,"question_id":55043071,"body_markdown":"I have a controller which has to return a JSON string with a Russian name, but all I get in response is ????? (invalid characters).\r\n\r\n    @Controller\r\n    public class ManifestController {\r\n    \r\n        @ResponseBody\r\n        @RequestMapping(value = {&quot;/manifest.json&quot;,&quot;/manifest&quot;}, method = { RequestMethod.GET }, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    \r\n        public String getManifestJson(\r\n                HttpServletRequest request)\r\n        {\r\n            Employee e= new Employee ();\r\n            e.setName(&quot;Мегафон Игры&quot;); \r\n       \r\n        \treturn JsonUtil.jsonStringify(e);  //it converts object to json using JsonObjectMapper\r\n    \r\n            \r\n        }\r\n    }\r\n\r\n","title":"Russian characters are shown as ??? in java","body":"<p>I have a controller which has to return a JSON string with a Russian name, but all I get in response is ????? (invalid characters).</p>\n\n<pre><code>@Controller\npublic class ManifestController {\n\n    @ResponseBody\n    @RequestMapping(value = {\"/manifest.json\",\"/manifest\"}, method = { RequestMethod.GET }, produces = {MediaType.APPLICATION_JSON_VALUE})\n\n    public String getManifestJson(\n            HttpServletRequest request)\n    {\n        Employee e= new Employee ();\n        e.setName(\"Мегафон Игры\"); \n\n        return JsonUtil.jsonStringify(e);  //it converts object to json using JsonObjectMapper\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","controller","annotations"],"answers":[{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378569872,"creation_date":1378569872,"answer_id":18675216,"question_id":18675038,"body_markdown":"Problem solved. I had to invoke the URL &quot;/HelloWorld.htm&quot; for the mapping to work. \r\n\r\n(The Dispatcher-Servlet&#39;s mapping in web.xml is &quot;*.htm&quot;.) Thanks","title":"SpringMVC with Annotated Controllers: URL &quot;Resource Not Available&quot;","body":"<p>Problem solved. I had to invoke the URL \"/HelloWorld.htm\" for the mapping to work. </p>\n\n<p>(The Dispatcher-Servlet's mapping in web.xml is \"*.htm\".) Thanks</p>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680949402,"creation_date":1378568735,"question_id":18675038,"body_markdown":"I am using SpringMVC 3 with Annotated Controllers. I successfully mapped my URL (&quot;/HelloWorld) to a Controller and defined its GET processing method. \r\n\r\nThe error is that upon typing the `(App)/HelloWorld` URL, my web server (GlassFish) gives this error:\r\n\r\n**The requested resource is not available.**\r\n\r\nBut in the GlassFish log I see that the URL was mounted.\r\n\r\nMapped `&quot;{[/HelloWorld],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;` `onto` `public org.springframework.web.servlet.ModelAndView controllers.HelloWorldController.processHelloWorld()`\r\n\r\nMy Files:\r\n\r\n(1) HelloWorldController.java\r\n\r\n        /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package controllers;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    /**\r\n     *\r\n     * @author      */\r\n    @Controller\r\n    @RequestMapping(&quot;/HelloWorld&quot;)\r\n    public class HelloWorldController {\r\n        \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public ModelAndView processHelloWorld()\r\n        {\r\n    \tModelAndView model = new ModelAndView(&quot;HelloWorldPage&quot;);\r\n    \tmodel.addObject(&quot;msg&quot;, &quot;Expanded string - hello world&quot;);\r\n     \r\n    \treturn model;\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n(2) Dispatcher-Servlet.xml. Note the MVC-Annotation-Driven approach. The indexController is not used.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; \r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; \r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd \r\n           http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd \r\n           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\r\n           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;controllers&quot; /&gt;    \r\n        &lt;mvc:annotation-driven /&gt;  \r\n        \r\n        &lt;!--\r\n        Most controllers will use the ControllerClassNameHandlerMapping above, but\r\n        for the index controller we are using ParameterizableViewController, so we must\r\n        define an explicit mapping for it.\r\n        --&gt;    \r\n        &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n            &lt;property name=&quot;mappings&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n        &lt;bean id=&quot;viewResolver&quot;\r\n              class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n              p:prefix=&quot;/WEB-INF/jsp/&quot;\r\n              p:suffix=&quot;.jsp&quot; /&gt;\r\n    \r\n        &lt;!--\r\n        The index controller.\r\n        --&gt;\r\n        &lt;bean name=&quot;indexController&quot;\r\n              class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\r\n              p:viewName=&quot;index&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n(3) HelloWorldPage.jsp:\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    \t&lt;h1&gt;Spring MVC Hello World Annotation Example&lt;/h1&gt;\r\n     \r\n    \t&lt;h2&gt;${msg}&lt;/h2&gt;\r\n     \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAny ideas why the URL &quot;/HelloWorld&quot; is not being found?\r\n","title":"SpringMVC with Annotated Controllers: URL &quot;Resource Not Available&quot;","body":"<p>I am using SpringMVC 3 with Annotated Controllers. I successfully mapped my URL (&quot;/HelloWorld) to a Controller and defined its GET processing method.</p>\n<p>The error is that upon typing the <code>(App)/HelloWorld</code> URL, my web server (GlassFish) gives this error:</p>\n<p><strong>The requested resource is not available.</strong></p>\n<p>But in the GlassFish log I see that the URL was mounted.</p>\n<p>Mapped <code>&quot;{[/HelloWorld],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;</code> <code>onto</code> <code>public org.springframework.web.servlet.ModelAndView controllers.HelloWorldController.processHelloWorld()</code></p>\n<p>My Files:</p>\n<p>(1) HelloWorldController.java</p>\n<pre><code>    /*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\npackage controllers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\n/**\n *\n * @author      */\n@Controller\n@RequestMapping(&quot;/HelloWorld&quot;)\npublic class HelloWorldController {\n    \n    @RequestMapping(method = RequestMethod.GET)\n    public ModelAndView processHelloWorld()\n    {\n    ModelAndView model = new ModelAndView(&quot;HelloWorldPage&quot;);\n    model.addObject(&quot;msg&quot;, &quot;Expanded string - hello world&quot;);\n \n    return model;\n        \n    }\n}\n</code></pre>\n<p>(2) Dispatcher-Servlet.xml. Note the MVC-Annotation-Driven approach. The indexController is not used.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; \n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; \n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd \n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd \n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;controllers&quot; /&gt;    \n    &lt;mvc:annotation-driven /&gt;  \n    \n    &lt;!--\n    Most controllers will use the ControllerClassNameHandlerMapping above, but\n    for the index controller we are using ParameterizableViewController, so we must\n    define an explicit mapping for it.\n    --&gt;    \n    &lt;bean id=&quot;urlMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;index.htm&quot;&gt;indexController&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=&quot;viewResolver&quot;\n          class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\n          p:prefix=&quot;/WEB-INF/jsp/&quot;\n          p:suffix=&quot;.jsp&quot; /&gt;\n\n    &lt;!--\n    The index controller.\n    --&gt;\n    &lt;bean name=&quot;indexController&quot;\n          class=&quot;org.springframework.web.servlet.mvc.ParameterizableViewController&quot;\n          p:viewName=&quot;index&quot; /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>(3) HelloWorldPage.jsp:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;html&gt;\n&lt;body&gt;\n    &lt;h1&gt;Spring MVC Hello World Annotation Example&lt;/h1&gt;\n \n    &lt;h2&gt;${msg}&lt;/h2&gt;\n \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Any ideas why the URL &quot;/HelloWorld&quot; is not being found?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1372359436,"post_id":17350750,"comment_id":25176477,"body_markdown":"what &quot;task scheduler&quot; in java?","body":"what &quot;task scheduler&quot; in java?"},{"owner":{"account_id":20883,"reputation":19635,"user_id":50305,"accept_rate":82,"display_name":"Dervin Thunk"},"score":0,"creation_date":1372360468,"post_id":17350750,"comment_id":25177041,"body_markdown":"@jtahlborn: Hah. Just assumed Java had a task-based model of parallelism... it doesn&#39;t? (!) Are all just threads 1:1 to OS threads?","body":"@jtahlborn: Hah. Just assumed Java had a task-based model of parallelism... it doesn&#39;t? (!) Are all just threads 1:1 to OS threads?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1372361492,"post_id":17350750,"comment_id":25177609,"body_markdown":"Threads are 1:1 with OS threads in pretty much all modern jvms.  there are third-party libraries w/ the concept of tasks/actors (like akka), but not much built into the jdk (i guess jdk 7 has the fork/join framework).  so, in order to answer your question, you&#39;d have to pick a specific task framework.","body":"Threads are 1:1 with OS threads in pretty much all modern jvms.  there are third-party libraries w/ the concept of tasks/actors (like akka), but not much built into the jdk (i guess jdk 7 has the fork/join framework).  so, in order to answer your question, you&#39;d have to pick a specific task framework."},{"owner":{"account_id":20883,"reputation":19635,"user_id":50305,"accept_rate":82,"display_name":"Dervin Thunk"},"score":0,"creation_date":1372362488,"post_id":17350750,"comment_id":25178175,"body_markdown":"@jtahlborn: Let us assume the thread pools in util.java.concurrent... What does the scheduling there?","body":"@jtahlborn: Let us assume the thread pools in util.java.concurrent... What does the scheduling there?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1372362841,"post_id":17350750,"comment_id":25178377,"body_markdown":"the OS, like i said.  java threads are 1:1 with OS threads.","body":"the OS, like i said.  java threads are 1:1 with OS threads."},{"owner":{"account_id":20883,"reputation":19635,"user_id":50305,"accept_rate":82,"display_name":"Dervin Thunk"},"score":0,"creation_date":1372364299,"post_id":17350750,"comment_id":25179179,"body_markdown":"@jtahlborn: Hm, back to the drawing board then. Thanks for your time.","body":"@jtahlborn: Hm, back to the drawing board then. Thanks for your time."},{"owner":{"display_name":"user2511414"},"score":0,"creation_date":1372367359,"post_id":17350750,"comment_id":25180643,"body_markdown":"so why don&#39;t you directly interact with OS? or maybe you would have 2nd. agent application that do it so","body":"so why don&#39;t you directly interact with OS? or maybe you would have 2nd. agent application that do it so"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1372370899,"post_id":17350750,"comment_id":25182096,"body_markdown":"See also http://stackoverflow.com/questions/3342863/controlling-the-java-scheduling-algorithm","body":"See also <a href=\"http://stackoverflow.com/questions/3342863/controlling-the-java-scheduling-algorithm\" title=\"controlling the java scheduling algorithm\">stackoverflow.com/questions/3342863/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1372370578,"creation_date":1372370144,"answer_id":17353887,"question_id":17350750,"body_markdown":"[On Linux there is a one to one mapping of Java threads to operating system threads][1]. So on Linux the Java thread scheduler is the kernel scheduler. So to change the Java thread scheduler you would have to alter the kernel. I believe Linux has several options for changing the behaviour of the kernel scheduler, which might be enough for what you need.\r\n\r\nIf you are *really* trying not to have that one to one mapping, you would have to alter the JVM.\r\n\r\nAs both the Linux kernel and JVM (the Open JDK version) are open source this is technically possible,  although a lot of work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17125101/one-to-one-mapping-of-java-thread-to-linux-thread-lwp","title":"Replacing the task scheduler in Java with a custom-built one","body":"<p><a href=\"https://stackoverflow.com/questions/17125101/one-to-one-mapping-of-java-thread-to-linux-thread-lwp\">On Linux there is a one to one mapping of Java threads to operating system threads</a>. So on Linux the Java thread scheduler is the kernel scheduler. So to change the Java thread scheduler you would have to alter the kernel. I believe Linux has several options for changing the behaviour of the kernel scheduler, which might be enough for what you need.</p>\n\n<p>If you are <em>really</em> trying not to have that one to one mapping, you would have to alter the JVM.</p>\n\n<p>As both the Linux kernel and JVM (the Open JDK version) are open source this is technically possible,  although a lot of work.</p>\n"}],"owner":{"account_id":20883,"reputation":19635,"user_id":50305,"accept_rate":82,"display_name":"Dervin Thunk"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17353887,"answer_count":1,"score":1,"last_activity_date":1680949361,"creation_date":1372358115,"question_id":17350750,"body_markdown":"I&#39;m in the process of researching a topic that has to do with schedulers and VMs. I asked [this question][1] yesterday, and I need to know whether the same is possible in Java.\r\n\r\nI was wondering, then, if I can change the task scheduler that maps tasks to the real OS threads in Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17320595/replacing-the-task-scheduler-in-c-sharp-with-a-custom-built-one","title":"Replacing the task scheduler in Java with a custom-built one","body":"<p>I'm in the process of researching a topic that has to do with schedulers and VMs. I asked <a href=\"https://stackoverflow.com/questions/17320595/replacing-the-task-scheduler-in-c-sharp-with-a-custom-built-one\">this question</a> yesterday, and I need to know whether the same is possible in Java.</p>\n<p>I was wondering, then, if I can change the task scheduler that maps tasks to the real OS threads in Java.</p>\n"},{"tags":["java","spring-boot","jax-rs"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1680949467,"post_id":75921524,"comment_id":133983024,"body_markdown":"From the code, the problem might be caused by different implementation of InputStream. You might try using the same implementation for setEntityStream and recheck.","body":"From the code, the problem might be caused by different implementation of InputStream. You might try using the same implementation for setEntityStream and recheck."},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1680949951,"post_id":75921524,"comment_id":133983081,"body_markdown":"Thanks, The Input stream is &quot;x-www-form-urlencoded &quot; . After reading the payload of the inputStream how to encode it back to &quot;x-www-form-urlencoded &quot; - Thts where i am stuck.","body":"Thanks, The Input stream is &quot;x-www-form-urlencoded &quot; . After reading the payload of the inputStream how to encode it back to &quot;x-www-form-urlencoded &quot; - Thts where i am stuck."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1680950804,"post_id":75921524,"comment_id":133983173,"body_markdown":"what is the real implementation? have you tried using wrapper to help to ready body multiple times: https://stackoverflow.com/questions/4449096/how-to-read-request-getinputstream-multiple-times?noredirect=1&amp;lq=1","body":"what is the real implementation? have you tried using wrapper to help to ready body multiple times: <a href=\"https://stackoverflow.com/questions/4449096/how-to-read-request-getinputstream-multiple-times?noredirect=1&amp;lq=1\" title=\"how to read request getinputstream multiple times\">stackoverflow.com/questions/4449096/&hellip;</a>"},{"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"score":0,"creation_date":1680953287,"post_id":75921524,"comment_id":133983451,"body_markdown":"I am using &quot;ContainerRequestContext&quot; to intercept the request payload. I am not using a wrapper here and hence the implementation is not &quot;HttpServletRequestWrapper&quot;.","body":"I am using &quot;ContainerRequestContext&quot; to intercept the request payload. I am not using a wrapper here and hence the implementation is not &quot;HttpServletRequestWrapper&quot;."}],"answers":[{"tags":[],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680794663,"creation_date":1680794663,"answer_id":75951202,"question_id":75921524,"body_markdown":"The reason you are getting null when trying to fetch the request stream&#39;s entities using ContainerRequestContext is that the input stream is being read and consumed when you call IOUtils.copy(in, out).\r\n\r\nOnce the stream is read, the stream pointer reaches the end of the stream, and there are no more bytes left to read. Hence, when you try to access the request entity stream using requestContext.getEntityStream() after the input stream is read, it returns null.\r\n\r\nTo fix this issue, you can create a new instance of the ByteArrayInputStream using the entity byte array and set it back to the ContainerRequestContext using requestContext.setEntityStream() before returning the entity string. This will ensure that the request entity stream is reset to its initial state, and you can access it again if needed.\r\n\r\nTry this please :\r\n\r\n    public String getRequestEntityStream(ContainerRequestContext requestContext) throws IOException {\r\n    \r\n        try (InputStream in = requestContext.getEntityStream()) {\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream(64 * 1024);\r\n            IOUtils.copy(in, out);\r\n            byte[] entity = out.toByteArray();\r\n            \r\n            //reset the input stream\r\n            ByteArrayInputStream inNew = new ByteArrayInputStream(entity);\r\n            requestContext.setEntityStream(inNew);\r\n    \r\n            String str = new String(entity);\r\n            return str;\r\n        }\r\n    }\r\n\r\n","title":"Fetch and print request body using ContainerRequestContext","body":"<p>The reason you are getting null when trying to fetch the request stream's entities using ContainerRequestContext is that the input stream is being read and consumed when you call IOUtils.copy(in, out).</p>\n<p>Once the stream is read, the stream pointer reaches the end of the stream, and there are no more bytes left to read. Hence, when you try to access the request entity stream using requestContext.getEntityStream() after the input stream is read, it returns null.</p>\n<p>To fix this issue, you can create a new instance of the ByteArrayInputStream using the entity byte array and set it back to the ContainerRequestContext using requestContext.setEntityStream() before returning the entity string. This will ensure that the request entity stream is reset to its initial state, and you can access it again if needed.</p>\n<p>Try this please :</p>\n<pre><code>public String getRequestEntityStream(ContainerRequestContext requestContext) throws IOException {\n\n    try (InputStream in = requestContext.getEntityStream()) {\n        ByteArrayOutputStream out = new ByteArrayOutputStream(64 * 1024);\n        IOUtils.copy(in, out);\n        byte[] entity = out.toByteArray();\n        \n        //reset the input stream\n        ByteArrayInputStream inNew = new ByteArrayInputStream(entity);\n        requestContext.setEntityStream(inNew);\n\n        String str = new String(entity);\n        return str;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680948018,"creation_date":1680538023,"question_id":75921524,"body_markdown":"**I have the below code using which I am trying to fetch and print the request stream&#39;s entities using ContainerRequestContext. However, its breaking the API call after I read the input stream. I am able to fetch other details from &quot;ContainerRequestContext&quot; using getters such as responseContext.getURiInfo() etc. Please note I dont want to use &quot;aroundReadFrom&quot; of &quot;ReaderInterceptor&quot; and Lombok anywhere. Any help is appreciated. Thanks !!**\r\n\r\n**UPDATE:**\r\nThe request payload is &quot;x-www-form-urlencoded&quot; and how do I set the request payload back to &quot;x-www-form-urlencoded&quot; after reading it ? It might be the reason why the request fails after I read the payload. I might not be setting the &quot;setEntityStream()&quot; correctly.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public String getRequestEntityStream(ContainerRequestContext requestContext) throws IOException {\r\n\r\n    \t\ttry (InputStream in = requestContext.getEntityStream()) {\r\n    \t        ByteArrayOutputStream out = new ByteArrayOutputStream(64 * 1024);\r\n    \t        IOUtils.copy(in, out);\r\n    \t        byte[] entity = out.toByteArray();\r\n    \t        //restore input\r\n    \t        requestContext.setEntityStream(new ByteArrayInputStream(entity));\r\n    \t        String str=new String(entity);  \r\n    \t        \r\n    \t\t    return str;\r\n    \t\t}\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nI am using the above as below to append to StringBuilder :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n    \tpublic void filter(ContainerRequestContext requestContext) throws IOException {\r\n\r\n    \t\tStringBuilder sbRequest = new StringBuilder();\r\n    \t\t\r\n    \t\tsbRequest.append(&quot; - Request Entity Stream : &quot;).append(getRequestEntityStream(requestContext));\r\n        \r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Fetch and print request body using ContainerRequestContext","body":"<p><strong>I have the below code using which I am trying to fetch and print the request stream's entities using ContainerRequestContext. However, its breaking the API call after I read the input stream. I am able to fetch other details from &quot;ContainerRequestContext&quot; using getters such as responseContext.getURiInfo() etc. Please note I dont want to use &quot;aroundReadFrom&quot; of &quot;ReaderInterceptor&quot; and Lombok anywhere. Any help is appreciated. Thanks !!</strong></p>\n<p><strong>UPDATE:</strong>\nThe request payload is &quot;x-www-form-urlencoded&quot; and how do I set the request payload back to &quot;x-www-form-urlencoded&quot; after reading it ? It might be the reason why the request fails after I read the payload. I might not be setting the &quot;setEntityStream()&quot; correctly.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public String getRequestEntityStream(ContainerRequestContext requestContext) throws IOException {\n\n        try (InputStream in = requestContext.getEntityStream()) {\n            ByteArrayOutputStream out = new ByteArrayOutputStream(64 * 1024);\n            IOUtils.copy(in, out);\n            byte[] entity = out.toByteArray();\n            //restore input\n            requestContext.setEntityStream(new ByteArrayInputStream(entity));\n            String str=new String(entity);  \n            \n            return str;\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I am using the above as below to append to StringBuilder :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Override\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n\n        StringBuilder sbRequest = new StringBuilder();\n        \n        sbRequest.append(\" - Request Entity Stream : \").append(getRequestEntityStream(requestContext));\n    \n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","dagger-2"],"comments":[{"owner":{"account_id":2060791,"reputation":34122,"user_id":1837367,"accept_rate":100,"display_name":"David Medenjak"},"score":0,"creation_date":1603708041,"post_id":64518956,"comment_id":114111400,"body_markdown":"Could you include a simplified version of `SystemUtil`? I&#39;m guessing that you sprinkled `@Inject` everywhere...","body":"Could you include a simplified version of <code>SystemUtil</code>? I&#39;m guessing that you sprinkled <code>@Inject</code> everywhere..."},{"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"score":0,"creation_date":1603775627,"post_id":64518956,"comment_id":114135820,"body_markdown":"@DavidMedenjak I have edited in the entirety of SystemUtil in the post. Since this is just a test project, there&#39;s nothing going on in that class. It&#39;s a simple class with no dependencies.\nThe only places where I have `@Inject` is in PersistenceManager and AppUI.","body":"@DavidMedenjak I have edited in the entirety of SystemUtil in the post. Since this is just a test project, there&#39;s nothing going on in that class. It&#39;s a simple class with no dependencies. The only places where I have <code>@Inject</code> is in PersistenceManager and AppUI."},{"owner":{"account_id":2060791,"reputation":34122,"user_id":1837367,"accept_rate":100,"display_name":"David Medenjak"},"score":0,"creation_date":1603819212,"post_id":64518956,"comment_id":114155467,"body_markdown":"Your example is clearly missing _something_. If you don&#39;t use constructor injection and don&#39;t provide the object somehow (module, parent component, component dependency, component factory/builder) then Dagger will complain with _cannot be provided..._ I&#39;m not sure what `AppUI` is, but assuming that everything else is as stated I&#39;d guess `AppUI` only requests `SystemUtil`, which will be provided from the module you added. And that you don&#39;t use `PersistenceManager` which is why you don&#39;t need the module, either.","body":"Your example is clearly missing <i>something</i>. If you don&#39;t use constructor injection and don&#39;t provide the object somehow (module, parent component, component dependency, component factory/builder) then Dagger will complain with <i>cannot be provided...</i> I&#39;m not sure what <code>AppUI</code> is, but assuming that everything else is as stated I&#39;d guess <code>AppUI</code> only requests <code>SystemUtil</code>, which will be provided from the module you added. And that you don&#39;t use <code>PersistenceManager</code> which is why you don&#39;t need the module, either."},{"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"score":0,"creation_date":1603834621,"post_id":64518956,"comment_id":114161739,"body_markdown":"@DavidMedenjak `AppUI` injects both PersistenceManager and SystemUtil. It&#39;s possible I&#39;m missing something. As such, I&#39;ve put up my code on github: https://github.com/jaygazula27/daggertest. It&#39;s a simple maven project with only a dagger dependency. So you should be able to run `mvn clean package` as long as you have Maven and Java installed.","body":"@DavidMedenjak <code>AppUI</code> injects both PersistenceManager and SystemUtil. It&#39;s possible I&#39;m missing something. As such, I&#39;ve put up my code on github: <a href=\"https://github.com/jaygazula27/daggertest\" rel=\"nofollow noreferrer\">github.com/jaygazula27/daggertest</a>. It&#39;s a simple maven project with only a dagger dependency. So you should be able to run <code>mvn clean package</code> as long as you have Maven and Java installed."},{"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"score":0,"creation_date":1603834678,"post_id":64518956,"comment_id":114161758,"body_markdown":"@DavidMedenjak And as you can see here: https://github.com/jaygazula27/daggertest/blob/master/src/main/java/org/daggertest/ui/AppUI.java. I have both PersistenceManager and SystemUtil injected.","body":"@DavidMedenjak And as you can see here: <a href=\"https://github.com/jaygazula27/daggertest/blob/master/src/main/java/org/daggertest/ui/AppUI.java\" rel=\"nofollow noreferrer\">github.com/jaygazula27/daggertest/blob/master/src/main/java/&zwnj;&#8203;org/&hellip;</a>. I have both PersistenceManager and SystemUtil injected."},{"owner":{"account_id":2060791,"reputation":34122,"user_id":1837367,"accept_rate":100,"display_name":"David Medenjak"},"score":0,"creation_date":1603836623,"post_id":64518956,"comment_id":114162362,"body_markdown":"You have an [`@Inject` on the constructor](https://github.com/jaygazula27/daggertest/blob/61fae5732f280705fce1062a9edcfb1c7e99052a/src/main/java/org/daggertest/persistence/PersistenceManager.java#L12), thus it&#39;s using [constructor injection](https://stackoverflow.com/a/50270376/1837367)","body":"You have an <a href=\"https://github.com/jaygazula27/daggertest/blob/61fae5732f280705fce1062a9edcfb1c7e99052a/src/main/java/org/daggertest/persistence/PersistenceManager.java#L12\" rel=\"nofollow noreferrer\"><code>@Inject</code> on the constructor</a>, thus it&#39;s using <a href=\"https://stackoverflow.com/a/50270376/1837367\">constructor injection</a>"},{"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"score":0,"creation_date":1603939029,"post_id":64518956,"comment_id":114197110,"body_markdown":"@DavidMedenjak Ah, I didn&#39;t realize constructor injection would make dagger just create the objects itself would having to manually provide it. Thanks for that information.","body":"@DavidMedenjak Ah, I didn&#39;t realize constructor injection would make dagger just create the objects itself would having to manually provide it. Thanks for that information."}],"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680946984,"creation_date":1603582078,"question_id":64518956,"body_markdown":"I&#39;ve come across a scenario where even though I hadn&#39;t explicitly included a module (via either `@Module(includes = { .. } )` or `@Component(modules = { .. })`), dagger is able to construct all the classes just fine.\r\n\r\nTo make things more clear, here&#39;s the example Maven project I created:\r\n\r\n    src/\r\n    ├── main\r\n    │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; └── org\r\n    │&#160;&#160; │&#160;&#160;     └── daggertest\r\n    │&#160;&#160; │&#160;&#160;         ├── Main.java\r\n    │&#160;&#160; │&#160;&#160;         ├── persistence\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; ├── di\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; │&#160;&#160; └── PersistenceModule.java\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; └── PersistenceManager.java\r\n    │&#160;&#160; │&#160;&#160;         ├── ui\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; ├── AppUI.java\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; └── di\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160;     └── UIComponent.java\r\n    │&#160;&#160; │&#160;&#160;         └── util\r\n    │&#160;&#160; │&#160;&#160;             ├── di\r\n    │&#160;&#160; │&#160;&#160;             │&#160;&#160; └── UtilModule.java\r\n    │&#160;&#160; │&#160;&#160;             └── SystemUtil.java\r\n    │&#160;&#160; └── resources\r\n    └── test\r\n        └── java\r\n\r\n  \r\nThere is a Main class and three packages (persistence, ui, util). There is a corresponding module for persistence and util. And a component for ui.    \r\n \r\nLet&#39;s start from the bottom. The UtilModule simply provides SystemUtil:\r\n\r\n    @Module\r\n    public class UtilModule {\r\n    \r\n        @Provides\r\n        public SystemUtil providesSystemUtil() {\r\n            return new SystemUtil();\r\n        }\r\n    }  \r\nPretty straightforward. Nothing going on here. As requested in the comments, here is how SystemUtil looks:\r\n\r\n    public class SystemUtil {\r\n    \r\n        public Path getSomeFile(String fileName) {\r\n            return Path.of(fileName);\r\n        }\r\n    }\r\n\r\n  \r\n  \r\nThen, in the persistence package, PersistanceManager injects SystemUtil. So PersistenceModule provides PersistenceManager like so:\r\n\r\n    @Module\r\n    public class PersistenceModule {\r\n    \r\n        @Provides\r\n        public PersistenceManager providesPersistenceManager(SystemUtil systemUtil) {\r\n            return new PersistenceManager(systemUtil);\r\n        }\r\n    }  \r\n  \r\n1. Even though PersistenceModule doesn&#39;t explicitly include the module (by doing `@Module(includes = { UtilModule.class })`), this works fine. Why?  \r\n  \r\nThen, in the ui package, AppUI injects both PersistenceManager and SystemUtil. And I wrote UIComponent like so:\r\n\r\n    @Component(modules = { UtilModule.class })\r\n    public interface UIComponent {\r\n    \r\n        AppUI buildAppUI();\r\n    }  \r\n2. I only explicitly included the UtilModule. But it was still able to inject PersistenceManager even though I didn&#39;t specify the PersistenceModule. How is this able to work? Interestingly, if I don&#39;t include the UtilModule here, it fails.  \r\n  \r\nMy guess is that I have a misunderstanding of how the modules/components are able to isolate from each other. \r\n  \r\n3. My expectation was that if it wasn&#39;t explicitly included in the Component or Module annotation, it would fail compilation. Is this not true? Is it possible to enforce this?\r\n","title":"How is dagger able to inject a class from another module which hasn&#39;t been included in the component?","body":"<p>I've come across a scenario where even though I hadn't explicitly included a module (via either <code>@Module(includes = { .. } )</code> or <code>@Component(modules = { .. })</code>), dagger is able to construct all the classes just fine.</p>\n<p>To make things more clear, here's the example Maven project I created:</p>\n<pre><code>src/\n├── main\n│   ├── java\n│   │   └── org\n│   │       └── daggertest\n│   │           ├── Main.java\n│   │           ├── persistence\n│   │           │   ├── di\n│   │           │   │   └── PersistenceModule.java\n│   │           │   └── PersistenceManager.java\n│   │           ├── ui\n│   │           │   ├── AppUI.java\n│   │           │   └── di\n│   │           │       └── UIComponent.java\n│   │           └── util\n│   │               ├── di\n│   │               │   └── UtilModule.java\n│   │               └── SystemUtil.java\n│   └── resources\n└── test\n    └── java\n</code></pre>\n<p>There is a Main class and three packages (persistence, ui, util). There is a corresponding module for persistence and util. And a component for ui.</p>\n<p>Let's start from the bottom. The UtilModule simply provides SystemUtil:</p>\n<pre><code>@Module\npublic class UtilModule {\n\n    @Provides\n    public SystemUtil providesSystemUtil() {\n        return new SystemUtil();\n    }\n}  \n</code></pre>\n<p>Pretty straightforward. Nothing going on here. As requested in the comments, here is how SystemUtil looks:</p>\n<pre><code>public class SystemUtil {\n\n    public Path getSomeFile(String fileName) {\n        return Path.of(fileName);\n    }\n}\n</code></pre>\n<p>Then, in the persistence package, PersistanceManager injects SystemUtil. So PersistenceModule provides PersistenceManager like so:</p>\n<pre><code>@Module\npublic class PersistenceModule {\n\n    @Provides\n    public PersistenceManager providesPersistenceManager(SystemUtil systemUtil) {\n        return new PersistenceManager(systemUtil);\n    }\n}  \n</code></pre>\n<ol>\n<li>Even though PersistenceModule doesn't explicitly include the module (by doing <code>@Module(includes = { UtilModule.class })</code>), this works fine. Why?</li>\n</ol>\n<p>Then, in the ui package, AppUI injects both PersistenceManager and SystemUtil. And I wrote UIComponent like so:</p>\n<pre><code>@Component(modules = { UtilModule.class })\npublic interface UIComponent {\n\n    AppUI buildAppUI();\n}  \n</code></pre>\n<ol start=\"2\">\n<li>I only explicitly included the UtilModule. But it was still able to inject PersistenceManager even though I didn't specify the PersistenceModule. How is this able to work? Interestingly, if I don't include the UtilModule here, it fails.</li>\n</ol>\n<p>My guess is that I have a misunderstanding of how the modules/components are able to isolate from each other.</p>\n<ol start=\"3\">\n<li>My expectation was that if it wasn't explicitly included in the Component or Module annotation, it would fail compilation. Is this not true? Is it possible to enforce this?</li>\n</ol>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1395179950,"post_id":22491853,"comment_id":34218265,"body_markdown":"Why would you *want* to use `Boolean` instead of `boolean` here to start with?","body":"Why would you <i>want</i> to use <code>Boolean</code> instead of <code>boolean</code> here to start with?"},{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":0,"creation_date":1395181154,"post_id":22491853,"comment_id":34218804,"body_markdown":"Yeah, I don&#39;t get the use-case of this.  Seems like a purely academic question.","body":"Yeah, I don&#39;t get the use-case of this.  Seems like a purely academic question."},{"owner":{"account_id":3678408,"reputation":2504,"user_id":3063935,"accept_rate":85,"display_name":"ylun.ca"},"score":0,"creation_date":1395181412,"post_id":22491853,"comment_id":34218920,"body_markdown":"@JonSkeet `this question applies for all Java boolean comparisons and not just the link`. I want to know the better practice for all `Boolean` comparisons","body":"@JonSkeet <code>this question applies for all Java boolean comparisons and not just the link</code>. I want to know the better practice for all <code>Boolean</code> comparisons"},{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":2,"creation_date":1395181627,"post_id":22491853,"comment_id":34219021,"body_markdown":"There&#39;s no best practice for comparing `Boolean`s rather than `boolean`s, because comparing the object wrapper is already a bad practice.  Haha.  There&#39;s no reason to ever use it, and it only opens you up to unneeded bugs like `NullPointerException`s.","body":"There&#39;s no best practice for comparing <code>Boolean</code>s rather than <code>boolean</code>s, because comparing the object wrapper is already a bad practice.  Haha.  There&#39;s no reason to ever use it, and it only opens you up to unneeded bugs like <code>NullPointerException</code>s."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395179842,"creation_date":1395179842,"answer_id":22491879,"question_id":22491853,"body_markdown":"As long as `checker` is not `null`, you may use `!checker` as posted. This is possible since Java 5, because this `Boolean` variable will be autoboxed to the primivite `boolean` value.\r\n","title":"How to compare Boolean?","body":"<p>As long as <code>checker</code> is not <code>null</code>, you may use <code>!checker</code> as posted. This is possible since Java 5, because this <code>Boolean</code> variable will be autoboxed to the primivite <code>boolean</code> value.</p>\n"},{"tags":[],"owner":{"account_id":27038,"reputation":8221,"user_id":70918,"accept_rate":93,"display_name":"Migol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395179960,"creation_date":1395179960,"answer_id":22491917,"question_id":22491853,"body_markdown":"`.equals(false)` will be slower because you are calling a virtual method on an object rather than using faster syntax and rather unexpected by most of the programmers because code standards that are generally used don&#39;t really assume you should be doing that check via `.equals(false)` method.","title":"How to compare Boolean?","body":"<p><code>.equals(false)</code> will be slower because you are calling a virtual method on an object rather than using faster syntax and rather unexpected by most of the programmers because code standards that are generally used don't really assume you should be doing that check via <code>.equals(false)</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3856284,"reputation":7406,"user_id":3195128,"display_name":"ucsunil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395180135,"creation_date":1395180135,"answer_id":22491959,"question_id":22491853,"body_markdown":"Using direct conditions (like ==, !=, !condition) will have a slight performance improvement over the .equals(condition) as in one case you are calling the method from an object whereas direct comparisons are performed directly.","title":"How to compare Boolean?","body":"<p>Using direct conditions (like ==, !=, !condition) will have a slight performance improvement over the .equals(condition) as in one case you are calling the method from an object whereas direct comparisons are performed directly.</p>\n"},{"tags":[],"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1395183002,"creation_date":1395183002,"answer_id":22492711,"question_id":22491853,"body_markdown":"From your comments, it seems like you&#39;re looking for &quot;best practices&quot; for the use of the `Boolean` wrapper class.  But there really *aren&#39;t* any best practices, because it&#39;s a bad idea to use this class to begin with.  The only reason to use the object wrapper is in cases where you absolutely *must* (such as when using [Generics](http://docs.oracle.com/javase/tutorial/java/generics/types.html), i.e., storing a `boolean` in a `HashMap&lt;String, Boolean&gt;` or the like).  Using the object wrapper has no upsides and a lot of downsides, most notably that it opens you up to `NullPointerException`s.\r\n\r\n&gt; Does it matter if &#39;!&#39; is used instead of .equals() for Boolean?\r\n\r\nBoth techniques will be susceptible to a `NullPointerException`, so it doesn&#39;t matter in that regard.  In the first scenario, the `Boolean` will be [unboxed](http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html) into its respective `boolean` value and compared as normal.  In the second scenario, you are invoking a method from the `Boolean` class, which is [the following](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Boolean.java):\r\n\r\n    public boolean equals(Object obj) {\r\n        if (obj instanceof Boolean) {\r\n            return value == ((Boolean)obj).booleanValue();\r\n        }\r\n        return false;\r\n    }\r\n\r\nEither way, the results are the same.\r\n\r\n&gt; Would it matter if .equals(false) was used to check for the value of the Boolean checker?\r\n\r\nPer above, no.\r\n\r\n&gt; Secondary question: Should Boolean be dealt differently than boolean?\r\n\r\nIf you absolutely *must* use the `Boolean` class, always check for `null` before performing any comparisons.  e.g.,\r\n\r\n    Map&lt;String, Boolean&gt; map = new HashMap&lt;String, Boolean&gt;();\r\n    //...stuff to populate the Map\r\n    Boolean value = map.get(&quot;someKey&quot;);\r\n    if(value != null &amp;&amp; value) {\r\n        //do stuff\r\n    }\r\n\r\nThis will work because Java [short-circuits](http://en.wikipedia.org/wiki/Short-circuit_evaluation) conditional evaluations.  You can also use the ternary operator.\r\n\r\n    boolean easyToUseValue = value != null ? value : false;\r\n\r\nBut seriously... just use the primitive type, unless you&#39;re forced not to.","title":"How to compare Boolean?","body":"<p>From your comments, it seems like you're looking for \"best practices\" for the use of the <code>Boolean</code> wrapper class.  But there really <em>aren't</em> any best practices, because it's a bad idea to use this class to begin with.  The only reason to use the object wrapper is in cases where you absolutely <em>must</em> (such as when using <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"noreferrer\">Generics</a>, i.e., storing a <code>boolean</code> in a <code>HashMap&lt;String, Boolean&gt;</code> or the like).  Using the object wrapper has no upsides and a lot of downsides, most notably that it opens you up to <code>NullPointerException</code>s.</p>\n\n<blockquote>\n  <p>Does it matter if '!' is used instead of .equals() for Boolean?</p>\n</blockquote>\n\n<p>Both techniques will be susceptible to a <code>NullPointerException</code>, so it doesn't matter in that regard.  In the first scenario, the <code>Boolean</code> will be <a href=\"http://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">unboxed</a> into its respective <code>boolean</code> value and compared as normal.  In the second scenario, you are invoking a method from the <code>Boolean</code> class, which is <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Boolean.java\" rel=\"noreferrer\">the following</a>:</p>\n\n<pre><code>public boolean equals(Object obj) {\n    if (obj instanceof Boolean) {\n        return value == ((Boolean)obj).booleanValue();\n    }\n    return false;\n}\n</code></pre>\n\n<p>Either way, the results are the same.</p>\n\n<blockquote>\n  <p>Would it matter if .equals(false) was used to check for the value of the Boolean checker?</p>\n</blockquote>\n\n<p>Per above, no.</p>\n\n<blockquote>\n  <p>Secondary question: Should Boolean be dealt differently than boolean?</p>\n</blockquote>\n\n<p>If you absolutely <em>must</em> use the <code>Boolean</code> class, always check for <code>null</code> before performing any comparisons.  e.g.,</p>\n\n<pre><code>Map&lt;String, Boolean&gt; map = new HashMap&lt;String, Boolean&gt;();\n//...stuff to populate the Map\nBoolean value = map.get(\"someKey\");\nif(value != null &amp;&amp; value) {\n    //do stuff\n}\n</code></pre>\n\n<p>This will work because Java <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\">short-circuits</a> conditional evaluations.  You can also use the ternary operator.</p>\n\n<pre><code>boolean easyToUseValue = value != null ? value : false;\n</code></pre>\n\n<p>But seriously... just use the primitive type, unless you're forced not to.</p>\n"},{"tags":[],"owner":{"account_id":3678408,"reputation":2504,"user_id":3063935,"accept_rate":85,"display_name":"ylun.ca"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1395185668,"creation_date":1395185668,"answer_id":22493311,"question_id":22491853,"body_markdown":"Regarding the performance of the direct operations and the method `.equals()`. The `.equals()` methods seems to be roughly **4 times slower than `==`**.\r\n\r\nI ran the following tests..\r\n\r\nFor the performance of `==`:\r\n\r\n    public class BooleanPerfCheck {\r\n\r\n\t    public static void main(String[] args) {\r\n\t    \tlong frameStart;\r\n\t    \tlong elapsedTime;\r\n\r\n\t    \tboolean heyderr = false;\r\n\r\n\t    \tframeStart = System.currentTimeMillis();\r\n\r\n\t    \tfor (int i = 0; i &lt; 999999999; i++) {\r\n\t    \t\tif (heyderr == false) {\r\n\t    \t\t}\r\n\t    \t}\r\n\r\n\t    \telapsedTime = System.currentTimeMillis() - frameStart;\r\n\t    \tSystem.out.println(elapsedTime);\r\n    \t}\r\n    }\r\n\r\nand for the performance of `.equals()`:\r\n\r\n    public class BooleanPerfCheck {\r\n\r\n\t    public static void main(String[] args) {\r\n\t    \tlong frameStart;\r\n\t    \tlong elapsedTime;\r\n\r\n\t    \tBoolean heyderr = false;\r\n\r\n\t    \tframeStart = System.currentTimeMillis();\r\n\r\n\t    \tfor (int i = 0; i &lt; 999999999; i++) {\r\n\t    \t\tif (heyderr.equals(false)) {\r\n\t    \t\t}\r\n\t    \t}\r\n\r\n\t    \telapsedTime = System.currentTimeMillis() - frameStart;\r\n\t    \tSystem.out.println(elapsedTime);\r\n    \t}\r\n    }\r\n\r\nTotal system time for `==` was `1`\r\n\r\nTotal system time for `.equals()` varied from `3 - 5`\r\n\r\nThus, it is safe to say that `.equals()` hinders performance and that `==` is better to use in most cases to compare `Boolean`.","title":"How to compare Boolean?","body":"<p>Regarding the performance of the direct operations and the method <code>.equals()</code>. The <code>.equals()</code> methods seems to be roughly <strong>4 times slower than <code>==</code></strong>.</p>\n\n<p>I ran the following tests..</p>\n\n<p>For the performance of <code>==</code>:</p>\n\n<pre><code>public class BooleanPerfCheck {\n\n    public static void main(String[] args) {\n        long frameStart;\n        long elapsedTime;\n\n        boolean heyderr = false;\n\n        frameStart = System.currentTimeMillis();\n\n        for (int i = 0; i &lt; 999999999; i++) {\n            if (heyderr == false) {\n            }\n        }\n\n        elapsedTime = System.currentTimeMillis() - frameStart;\n        System.out.println(elapsedTime);\n    }\n}\n</code></pre>\n\n<p>and for the performance of <code>.equals()</code>:</p>\n\n<pre><code>public class BooleanPerfCheck {\n\n    public static void main(String[] args) {\n        long frameStart;\n        long elapsedTime;\n\n        Boolean heyderr = false;\n\n        frameStart = System.currentTimeMillis();\n\n        for (int i = 0; i &lt; 999999999; i++) {\n            if (heyderr.equals(false)) {\n            }\n        }\n\n        elapsedTime = System.currentTimeMillis() - frameStart;\n        System.out.println(elapsedTime);\n    }\n}\n</code></pre>\n\n<p>Total system time for <code>==</code> was <code>1</code></p>\n\n<p>Total system time for <code>.equals()</code> varied from <code>3 - 5</code></p>\n\n<p>Thus, it is safe to say that <code>.equals()</code> hinders performance and that <code>==</code> is better to use in most cases to compare <code>Boolean</code>.</p>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1680946868,"creation_date":1432905144,"answer_id":30530553,"question_id":22491853,"body_markdown":"Try this:\r\n\r\n    if (Boolean.TRUE.equals(yourValue)) { \r\n        // ...\r\n    }\r\n\r\nAs additional benefit, this comparison is null-safe.","title":"How to compare Boolean?","body":"<p>Try this:</p>\n<pre><code>if (Boolean.TRUE.equals(yourValue)) { \n    // ...\n}\n</code></pre>\n<p>As additional benefit, this comparison is null-safe.</p>\n"},{"tags":[],"owner":{"account_id":2204985,"reputation":1225,"user_id":1948438,"display_name":"CamelTM"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1440593193,"creation_date":1440593193,"answer_id":32227068,"question_id":22491853,"body_markdown":"As object?\r\n\r\n**equals**\r\n\r\npublic boolean equals(Object obj)\r\n\r\nReturns true if and only if the argument is not null and is a Boolean object that represents the same boolean value as this object.\r\n\r\nOverrides:\r\n    *equals in class Object*\r\n\r\nParameters:\r\n    *obj - the object to compare with.*\r\n\r\nReturns:\r\n    *true if the Boolean objects represent the same value; false otherwise.*\r\n\r\n    boolean a = true;\r\n    boolean b = false;\r\n    \r\n    System.out.println(&quot;a.equals(b):&quot; + ((Object)a).equals( ((Object)b) ));\r\n\r\nOutput: *a.equals(b):false*","title":"How to compare Boolean?","body":"<p>As object?</p>\n\n<p><strong>equals</strong></p>\n\n<p>public boolean equals(Object obj)</p>\n\n<p>Returns true if and only if the argument is not null and is a Boolean object that represents the same boolean value as this object.</p>\n\n<p>Overrides:\n    <em>equals in class Object</em></p>\n\n<p>Parameters:\n    <em>obj - the object to compare with.</em></p>\n\n<p>Returns:\n    <em>true if the Boolean objects represent the same value; false otherwise.</em></p>\n\n<pre><code>boolean a = true;\nboolean b = false;\n\nSystem.out.println(\"a.equals(b):\" + ((Object)a).equals( ((Object)b) ));\n</code></pre>\n\n<p>Output: <em>a.equals(b):false</em></p>\n"}],"owner":{"account_id":3678408,"reputation":2504,"user_id":3063935,"accept_rate":85,"display_name":"ylun.ca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163325,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":22492711,"answer_count":7,"score":36,"last_activity_date":1680946868,"creation_date":1395179734,"question_id":22491853,"body_markdown":"Take this for example (excerpt from https://stackoverflow.com/questions/20437243/java-regex-checker-not-working):\r\n\r\n    while(!checker) {\r\n        matcher = pattern.matcher(number);\r\n        if(matcher.find())\r\n            checker = true;\r\n        else\r\n            year++;\r\n    }\r\n\r\nWould it matter if `.equals(false)` was used to check for the value of the `Boolean checker`?\r\n\r\nI know that there is [this](https://stackoverflow.com/questions/4282708/boolean-checking-in-if) which is rather similar. However, obviously the question deals with primitive `boolean` and not the object wrapper, `Boolean`; thus, `.equals()` would not be applicable.\r\n\r\nAlso, should `Boolean` be dealt differently than `boolean`?","title":"How to compare Boolean?","body":"<p>Take this for example (excerpt from <a href=\"https://stackoverflow.com/questions/20437243/java-regex-checker-not-working\">Java regex checker not working</a>):</p>\n\n<pre><code>while(!checker) {\n    matcher = pattern.matcher(number);\n    if(matcher.find())\n        checker = true;\n    else\n        year++;\n}\n</code></pre>\n\n<p>Would it matter if <code>.equals(false)</code> was used to check for the value of the <code>Boolean checker</code>?</p>\n\n<p>I know that there is <a href=\"https://stackoverflow.com/questions/4282708/boolean-checking-in-if\">this</a> which is rather similar. However, obviously the question deals with primitive <code>boolean</code> and not the object wrapper, <code>Boolean</code>; thus, <code>.equals()</code> would not be applicable.</p>\n\n<p>Also, should <code>Boolean</code> be dealt differently than <code>boolean</code>?</p>\n"},{"tags":["java","android","settings","live-wallpaper"],"owner":{"account_id":4464961,"reputation":4255,"user_id":3632857,"accept_rate":65,"display_name":"ConductedClever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680946694,"creation_date":1425652865,"question_id":28901138,"body_markdown":"I am trying to make a live wallpaper and I have faced an error that I can&#39;t solve. Here is the code:\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;ir.cclever.fourmyword&quot;&gt;\r\n    \r\n        &lt;uses-sdk android:minSdkVersion=&quot;7&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.software.live_wallpaper&quot; /&gt;\r\n    \r\n        &lt;application android:icon=&quot;@drawable/icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:permission=&quot;android.permission.BIND_WALLPAPER&quot;&gt;\r\n    \r\n            &lt;service android:name=&quot;.LiveWallpaper&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:icon=&quot;@drawable/icon&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.service.wallpaper.WallpaperService&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;meta-data android:name=&quot;android.service.wallpaper&quot;\r\n                    android:resource=&quot;@xml/livewallpaper&quot; /&gt;\r\n    \r\n            &lt;/service&gt;\r\n    \r\n    \r\n            &lt;activity android:label=&quot;@string/livewallpaper_settings&quot;\r\n                android:name=&quot;.LiveWallpaperSettings&quot;\r\n                android:theme=&quot;@android:style/Theme.Light.WallpaperSettings&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:icon=&quot;@drawable/icon&quot;&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nLiveWallpaper.java\r\n\r\n    package ir.cclever.fourmyword;\r\n    \r\n    import android.content.SharedPreferences;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.BitmapFactory;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Point;\r\n    import android.graphics.Rect;\r\n    import android.os.Handler;\r\n    import android.service.wallpaper.WallpaperService;\r\n    import android.util.DisplayMetrics;\r\n    import android.view.Display;\r\n    import android.view.MotionEvent;\r\n    import android.view.Surface;\r\n    import android.view.SurfaceHolder;\r\n    import android.view.WindowManager;\r\n    import android.widget.Toast;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class LiveWallpaper extends WallpaperService\r\n    {\r\n    \r\n    \tpublic static final String\tSHARED_PREFS_NAME\t= &quot;livewallpapersettings&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic void onCreate()\r\n    \t{\r\n    \t\tsuper.onCreate();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onDestroy()\r\n    \t{\r\n    \t\tsuper.onDestroy();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Engine onCreateEngine()\r\n    \t{\r\n    \t\treturn new TestPatternEngine();\r\n    \t}\r\n    \r\n    \tclass TestPatternEngine extends Engine implements\r\n    \t\t\tSharedPreferences.OnSharedPreferenceChangeListener {\r\n    \r\n            private SharedPreferences\tmPreferences;\r\n    \r\n            Random rand;\r\n    \r\n            String firstSentence = null;\r\n            Integer firstSize = 50;\r\n            String secondSentence = null;\r\n            Integer secondSize = 50;\r\n            String thirdSentence = null;\r\n            Integer thirdSize = 50;\r\n            String forthSentence = null;\r\n            Integer forthSize = 50;\r\n    \r\n            Point firstOriginal;\r\n            Point firstCurrent;\r\n            Point firstDes;\r\n            Point secondOriginal;\r\n            Point secondCurrent;\r\n            Point secondDes;\r\n            Point thirdOriginal;\r\n            Point thirdCurrent;\r\n            Point thirdDes;\r\n            Point forthOriginal;\r\n            Point forthCurrent;\r\n            Point forthDes;\r\n    \r\n            Line firstLine;\r\n            Line secondLine;\r\n            Line thirdLine;\r\n    \r\n            String firstColor;\r\n            String secondColor;\r\n            String thirdColor;\r\n            String forthColor;\r\n    \r\n            Bitmap back = null;\r\n            Bitmap cover = null;\r\n            String whichTheme;\r\n            Boolean coverEnabled = true;\r\n    \r\n            TestPatternEngine(){\r\n                mPreferences = LiveWallpaper.this.getSharedPreferences(SHARED_PREFS_NAME, 0);\r\n                mPreferences.registerOnSharedPreferenceChangeListener(this);\r\n                onSharedPreferenceChanged(mPreferences, null);\r\n    \r\n                firstCurrent = new Point();\r\n                firstOriginal = new Point();\r\n                firstDes = new Point();\r\n                secondCurrent = new Point();\r\n                secondOriginal = new Point();\r\n                secondDes = new Point();\r\n                thirdCurrent = new Point();\r\n                thirdOriginal = new Point();\r\n                thirdDes = new Point();\r\n                forthCurrent = new Point();\r\n                forthOriginal = new Point();\r\n                forthDes = new Point();\r\n    \r\n                firstLine = new Line();\r\n                secondLine = new Line();\r\n                thirdLine = new Line();\r\n    \r\n                rand = new Random();\r\n            }\r\n    \r\n            @Override\r\n            public void onCreate(SurfaceHolder surfaceHolder) {\r\n                super.onCreate(surfaceHolder);\r\n                setTouchEventsEnabled(true);\r\n            }\r\n    \r\n            @Override\r\n            public void onDestroy() {\r\n                super.onDestroy();\r\n                mHandler.removeCallbacks(mDrawPattern);\r\n            }\r\n    \r\n            Boolean isVisible = true;\r\n    \r\n            @Override\r\n            public void onVisibilityChanged(boolean visible) {\r\n                isVisible = visible;\r\n                if (visible) {\r\n                    drawFrame();\r\n                } else {\r\n                    mHandler.removeCallbacks(mDrawPattern);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onSurfaceChanged(SurfaceHolder holder, int format,\r\n                                         int width, int height) {\r\n                super.onSurfaceChanged(holder, format, width, height);\r\n    \r\n                initFrameParams();\r\n    \r\n                drawFrame();\r\n    \r\n                //Toast.makeText(getApplicationContext(),&quot;Surface Changed!!!&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            @Override\r\n            public void onSurfaceCreated(SurfaceHolder holder) {\r\n                super.onSurfaceCreated(holder);\r\n    \r\n                Toast.makeText(getApplicationContext(),&quot;surface created&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            @Override\r\n            public void onSurfaceDestroyed(SurfaceHolder holder) {\r\n                super.onSurfaceDestroyed(holder);\r\n                isVisible = false;\r\n                mHandler.removeCallbacks(mDrawPattern);\r\n                back = null;\r\n            }\r\n    \r\n            @Override\r\n            public void onOffsetsChanged(float xOffset, float yOffset, float xStep,\r\n                                         float yStep, int xPixels, int yPixels) {\r\n    \r\n                //drawFrame();\r\n    //            Toast.makeText(getApplicationContext(),&quot;Offset Changed!!! xOffset : &quot; + xOffset + &quot;yOffset : &quot; + yOffset + &quot;xStep : &quot; + xStep + &quot;yStep : &quot; + yStep + &quot;xPixels : &quot; + xPixels + &quot;yPixels : &quot; + yPixels ,Toast.LENGTH_SHORT).show();\r\n    //            System.out.println(&quot;Offset Changed!!! xOffset : &quot; + xOffset + &quot;yOffset : &quot; + yOffset + &quot;xStep : &quot; + xStep + &quot;yStep : &quot; + yStep + &quot;xPixels : &quot; + xPixels + &quot;yPixels : &quot; + yPixels );\r\n            }\r\n    \r\n            /*\r\n    \t\t * Store the position of the touch event so we can use it for drawing\r\n    \t\t * later\r\n    \t\t */\r\n    \r\n            float lastX = -1;\r\n            float lastY = -1;\r\n    \r\n            @Override\r\n            public void onTouchEvent(MotionEvent event) {\r\n                super.onTouchEvent(event);\r\n                if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                    lastX = event.getX();\r\n                    lastY = event.getY();\r\n                    //Toast.makeText(getApplicationContext(),&quot;Touched &quot; + lastX + &quot; &quot; + lastY,Toast.LENGTH_SHORT).show();\r\n                }\r\n    //            else {\r\n    //                lastX = -1;\r\n    //                lastY = -1;\r\n    //            }\r\n            }\r\n    \r\n            @Override\r\n            public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\r\n                firstSentence = mPreferences.getString(&quot;text_one&quot;,getString(R.string.first_text_default));\r\n                secondSentence = mPreferences.getString(&quot;text_two&quot;,getString(R.string.second_text_default));\r\n                thirdSentence = mPreferences.getString(&quot;text_three&quot;,getString(R.string.third_text_default));\r\n                forthSentence = mPreferences.getString(&quot;text_four&quot;,getString(R.string.forth_text_default));\r\n                whichTheme = mPreferences.getString(&quot;theme_selector&quot;,getString(R.string.defTheme));\r\n                coverEnabled = Boolean.valueOf( mPreferences.getBoolean(&quot;cover_enabled&quot;,true));\r\n                //Toast.makeText(getApplicationContext(),((Integer)mPreferences.getInt(&quot;text_one_size&quot;,50)).toString(),Toast.LENGTH_SHORT).show();\r\n                firstSize = Integer.valueOf(mPreferences.getString(&quot;text_one_size&quot;,&quot;50&quot;));\r\n                secondSize = Integer.valueOf(mPreferences.getString(&quot;text_two_size&quot;,&quot;50&quot;));\r\n                thirdSize = Integer.valueOf(mPreferences.getString(&quot;text_three_size&quot;,&quot;50&quot;));\r\n                forthSize = Integer.valueOf(mPreferences.getString(&quot;text_four_size&quot;,&quot;50&quot;));\r\n                firstColor = mPreferences.getString(&quot;text_one_color&quot;,&quot;#ffffff&quot;);\r\n                secondColor = mPreferences.getString(&quot;text_two_color&quot;,&quot;#ffffff&quot;);\r\n                thirdColor = mPreferences.getString(&quot;text_three_color&quot;,&quot;#ffffff&quot;);\r\n                forthColor = mPreferences.getString(&quot;text_four_color&quot;,&quot;#ffffff&quot;);\r\n                back = null;\r\n            }\r\n    \r\n            /*\r\n            Custom Codes\r\n             */\r\n    \r\n            private final Runnable  mDrawPattern\t= new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    drawFrame();\r\n                }\r\n            };\r\n    \r\n    \r\n            private final Handler mHandler\t\t= new Handler();\r\n    \r\n            void drawFrame()\r\n            {\r\n                final SurfaceHolder holder = getSurfaceHolder();\r\n    \r\n                Canvas c = null;\r\n                try\r\n                {\r\n                    c = holder.lockCanvas();\r\n                    if (c != null)\r\n                    {\r\n                        // draw something\r\n    //                    c.drawColor(0xff000000);\r\n                        drawBack(c);\r\n                        drawTextOne(c);\r\n                        drawTextTwo(c);\r\n                        drawTextThree(c);\r\n                        drawTextFour(c);\r\n    //                    drawLineOne(c);\r\n    //                    drawLineTwo(c);\r\n    //                    drawLineThree(c);\r\n                    }\r\n                }\r\n                finally\r\n                {\r\n                    if (c != null)\r\n                        holder.unlockCanvasAndPost(c);\r\n                }\r\n    \r\n                mHandler.removeCallbacks(mDrawPattern);\r\n                if (isVisible)\r\n                {\r\n                    mHandler.postDelayed(mDrawPattern, 1000 / 25);\r\n                }\r\n            }\r\n    \r\n            class Line{\r\n                public Point leftTop;\r\n                public Point leftTopOrg;\r\n                public Point leftTopDes;\r\n                public Point rightButton;\r\n                public Point rightButtonOrg;\r\n                public Point rightButtonDes;\r\n    \r\n                public Boolean dir;\r\n    \r\n                public Line(){\r\n                    leftTop = new Point();\r\n                    leftTopOrg = new Point();\r\n                    leftTopDes = new Point();\r\n                    rightButton = new Point();\r\n                    rightButtonDes = new Point();\r\n                    rightButtonOrg = new Point();\r\n                }\r\n            }\r\n    \r\n            private void drawLineOne(Canvas c) {\r\n                c.save();\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.WHITE);\r\n                c.drawRect(firstLine.leftTop.x,firstLine.leftTop.y,firstLine.rightButton.x,firstLine.rightButton.y,paint);\r\n    \r\n                nextLocation(firstLine.leftTop, firstLine.leftTopOrg, firstLine.leftTopDes, firstLine.dir, 20);\r\n                nextLocation(firstLine.rightButton, firstLine.rightButtonOrg, firstLine.rightButtonDes, firstLine.dir, 20);\r\n    \r\n                //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            private void drawLineTwo(Canvas c) {\r\n                c.save();\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.WHITE);\r\n                c.drawRect(secondLine.leftTop.x,secondLine.leftTop.y,secondLine.rightButton.x,secondLine.rightButton.y,paint);\r\n    \r\n                nextLocation(secondLine.leftTop, secondLine.leftTopOrg, secondLine.leftTopDes, secondLine.dir, 20);\r\n                nextLocation(secondLine.rightButton, secondLine.rightButtonOrg, secondLine.rightButtonDes, secondLine.dir, 20);\r\n    \r\n                //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            private void drawLineThree(Canvas c) {\r\n                c.save();\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.WHITE);\r\n                c.drawRect(thirdLine.leftTop.x,thirdLine.leftTop.y,thirdLine.rightButton.x,thirdLine.rightButton.y,paint);\r\n    \r\n                nextLocation(thirdLine.leftTop, thirdLine.leftTopOrg, thirdLine.leftTopDes, thirdLine.dir, 20);\r\n                nextLocation(thirdLine.rightButton, thirdLine.rightButtonOrg, thirdLine.rightButtonDes, thirdLine.dir, 20);\r\n    \r\n                //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            private void drawBack(Canvas c) {\r\n                c.save();\r\n    \r\n                if (back == null){\r\n                    if (whichTheme.equals(&quot;t1&quot;)) {\r\n                        back = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.p1), drawHere.width(), drawHere.height(), false);\r\n                    }\r\n                    else if(whichTheme.equals(&quot;t2&quot;)){\r\n                        back = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.p2), drawHere.width(), drawHere.height(), false);\r\n                    }\r\n                    else{\r\n                        back = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.p3), drawHere.width(), drawHere.height(), false);\r\n                    }\r\n                }\r\n                if (cover == null){\r\n                    cover = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.cover1), drawHere.width(), drawHere.height(), false);\r\n                }\r\n    \r\n                c.drawBitmap(back,0,0,null);\r\n                if (coverEnabled) {\r\n                    c.drawBitmap(cover, 0, 0, null);\r\n                }\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            private void drawTextOne(Canvas c) {\r\n                c.save();\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.parseColor(firstColor));\r\n                paint.setTextSize(firstSize);\r\n                paint.setTextAlign(Paint.Align.CENTER);\r\n                c.drawText(firstSentence,firstCurrent.x,firstCurrent.y,paint);\r\n                nextLocation(firstCurrent,firstOriginal,firstDes,firstDir, 100);\r\n    \r\n                //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            // from Org to Des\r\n            Boolean firstDir = true;\r\n            Boolean secondDir = true;\r\n            Boolean thirdDir = true;\r\n            Boolean forthDir = true;\r\n    \r\n            private void nextLocation(Point f1, Point f2, Point f3, Boolean dir,Integer limit) { // f1 : current , f2 : Org , f3 : Destination\r\n                if (f1.x == f3.x &amp;&amp; f1.y == f3.y &amp;&amp; dir){\r\n                    f3.x = f2.x-(limit/2)+rand.nextInt(limit);\r\n                    f3.y = f2.y-(limit/2)+rand.nextInt(limit);\r\n                    dir = false;\r\n                }\r\n                if (f1.x == f2.x &amp;&amp; f1.y == f2.y &amp;&amp; !dir){\r\n                    dir = true;\r\n                }\r\n                else if (!dir){\r\n                    if (f1.x &gt; f2 .x)\r\n                        f1.x--;\r\n                    else if (f1.x &lt; f2.x)\r\n                        f1.x++;\r\n                    if (f1.y &gt; f2 .y)\r\n                        f1.y--;\r\n                    else if (f1.y &lt; f2.y)\r\n                        f1.y++;\r\n                }\r\n                else{\r\n                    if (f1.x &gt; f3 .x)\r\n                        f1.x--;\r\n                    else if (f1.x &lt; f3.x)\r\n                        f1.x++;\r\n                    if (f1.y &gt; f3 .y)\r\n                        f1.y--;\r\n                    else if (f1.y &lt; f3.y)\r\n                        f1.y++;\r\n                }\r\n            }\r\n    \r\n            private void drawTextTwo(Canvas c) {\r\n                c.save();\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.parseColor(secondColor));\r\n                paint.setTextSize(secondSize);\r\n                paint.setTextAlign(Paint.Align.CENTER);\r\n                c.drawText(secondSentence,secondCurrent.x,secondCurrent.y,paint);\r\n                nextLocation(secondCurrent,secondOriginal,secondDes,secondDir, 100);\r\n    \r\n                //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            private void drawTextThree(Canvas c) {\r\n                c.save();\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.parseColor(thirdColor));\r\n                paint.setTextSize(thirdSize);\r\n                paint.setTextAlign(Paint.Align.CENTER);\r\n                c.drawText(thirdSentence,thirdCurrent.x,thirdCurrent.y,paint);\r\n                nextLocation(thirdCurrent,thirdOriginal,thirdDes,thirdDir, 100);\r\n    \r\n                //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            private void drawTextFour(Canvas c) {\r\n                c.save();\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.parseColor(forthColor));\r\n                paint.setTextSize(forthSize);\r\n                paint.setTextAlign(Paint.Align.CENTER);\r\n                c.drawText(forthSentence,forthCurrent.x,forthCurrent.y,paint);\r\n                nextLocation(forthCurrent,forthOriginal,forthDes,forthDir, 100);\r\n    \r\n                //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\r\n    \r\n                c.restore();\r\n            }\r\n    \r\n            float nextRight = 200 , nextButton = 200;\r\n    \r\n            private void drawBlue(Canvas c) {\r\n    \r\n                c.save();\r\n                c.drawColor(0xff000000);\r\n    \r\n                Paint paint = new Paint();\r\n                paint.setColor(Color.BLUE);\r\n    \r\n                c.drawRect(100, 100, nextRight, nextButton, paint);\r\n    \r\n                if (nextRight &gt; 200){\r\n                    nextButton --;\r\n                }\r\n                if (nextButton &gt; 200){\r\n                    nextRight --;\r\n                }\r\n    \r\n                if (lastX &gt; 200 &amp;&amp; lastY &gt; 200){\r\n                    nextRight = lastX;\r\n                    lastX = -1;\r\n                    nextButton = lastY;\r\n                    lastY = -1;\r\n                }\r\n                //Toast.makeText(getApplicationContext(),&quot;Refreshed&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            Rect drawHere;\r\n    \r\n            Boolean isHorizontal;\r\n    \r\n            void initFrameParams(){\r\n                DisplayMetrics metrics = new DisplayMetrics();\r\n                Display display = ((WindowManager) getSystemService(WINDOW_SERVICE)).getDefaultDisplay();\r\n                display.getMetrics(metrics);\r\n    \r\n                drawHere = new Rect(0, 0, metrics.widthPixels, metrics.heightPixels);\r\n    \r\n                int rotation = display.getOrientation();\r\n                if(rotation == Surface.ROTATION_0 || rotation == Surface.ROTATION_180)\r\n                    isHorizontal = false;\r\n                else\r\n                    isHorizontal = true;\r\n    \r\n                Toast.makeText(getApplicationContext(),&quot;isHorizontal : &quot; + isHorizontal.toString(),Toast.LENGTH_SHORT).show();\r\n                //System.out.println(&quot;mHorizontal &quot;+isHorizontal);\r\n                //System.out.println(&quot;mShape &quot;+mShape);\r\n    \r\n                Integer heightPart = drawHere.height()/8;\r\n    \r\n                firstOriginal.set(drawHere.width()/2,drawHere.height()/5);\r\n                firstCurrent.set(firstOriginal.x,firstOriginal.y);\r\n                firstDes.set(firstOriginal.x,firstOriginal.y);\r\n    \r\n                firstLine.leftTop.set(drawHere.width()/10,firstOriginal.y+heightPart-10);\r\n                firstLine.leftTopOrg.set(firstLine.leftTop.x,firstLine.leftTop.y);\r\n                firstLine.leftTopDes.set(firstLine.leftTop.x,firstLine.leftTop.y);\r\n                firstLine.rightButton.set(9*drawHere.width()/10,firstOriginal.y+heightPart+10);\r\n                firstLine.rightButtonOrg.set(firstLine.rightButton.x,firstLine.rightButton.y);\r\n                firstLine.rightButtonDes.set(firstLine.rightButton.x,firstLine.rightButton.y);\r\n                firstLine.dir = true;\r\n    \r\n                secondOriginal.set(drawHere.width()/2,2*drawHere.height()/5);\r\n                secondCurrent.set(secondOriginal.x,secondOriginal.y);\r\n                secondDes.set(secondOriginal.x,secondOriginal.y);\r\n    \r\n                secondLine.leftTop.set(drawHere.width()/10,secondOriginal.y+heightPart-10);\r\n                secondLine.leftTopOrg.set(secondLine.leftTop.x,secondLine.leftTop.y);\r\n                secondLine.leftTopDes.set(secondLine.leftTop.x,secondLine.leftTop.y);\r\n                secondLine.rightButton.set(9*drawHere.width()/10,secondOriginal.y+heightPart+10);\r\n                secondLine.rightButtonOrg.set(secondLine.rightButton.x,secondLine.rightButton.y);\r\n                secondLine.rightButtonDes.set(secondLine.rightButton.x,secondLine.rightButton.y);\r\n                secondLine.dir = true;\r\n    \r\n                thirdOriginal.set(drawHere.width()/2,3*drawHere.height()/5);\r\n                thirdCurrent.set(thirdOriginal.x,thirdOriginal.y);\r\n                thirdDes.set(thirdOriginal.x,thirdOriginal.y);\r\n    \r\n                thirdLine.leftTop.set(drawHere.width()/10,thirdOriginal.y+heightPart-10);\r\n                thirdLine.leftTopOrg.set(thirdLine.leftTop.x,thirdLine.leftTop.y);\r\n                thirdLine.leftTopDes.set(thirdLine.leftTop.x,thirdLine.leftTop.y);\r\n                thirdLine.rightButton.set(9*drawHere.width()/10,thirdOriginal.y+heightPart+10);\r\n                thirdLine.rightButtonOrg.set(thirdLine.rightButton.x,thirdLine.rightButton.y);\r\n                thirdLine.rightButtonDes.set(thirdLine.rightButton.x,thirdLine.rightButton.y);\r\n                thirdLine.dir = true;\r\n    \r\n                forthOriginal.set(drawHere.width()/2,4*drawHere.height()/5);\r\n                forthCurrent.set(forthOriginal.x,forthOriginal.y);\r\n                forthDes.set(forthOriginal.x,forthOriginal.y);\r\n            }\r\n        }\r\n    }\r\n\r\nLiveWallpaperSettings.java\r\n\r\n    package ir.cclever.fourmyword;\r\n    \r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.preference.PreferenceActivity;\r\n    \r\n    public class LiveWallpaperSettings extends PreferenceActivity\r\n    \timplements SharedPreferences.OnSharedPreferenceChangeListener\r\n    {\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle icicle)\r\n    \t{\r\n    \t\tsuper.onCreate(icicle);\r\n    \t\tgetPreferenceManager().setSharedPreferencesName(LiveWallpaper.SHARED_PREFS_NAME);\r\n    \t\taddPreferencesFromResource(R.xml.livewallpaper_settings);\r\n    \t\tgetPreferenceManager().getSharedPreferences()\r\n    \t\t\t\t.registerOnSharedPreferenceChangeListener(this);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void onResume()\r\n    \t{\r\n    \t\tsuper.onResume();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onDestroy()\r\n    \t{\r\n    \t\tgetPreferenceManager().getSharedPreferences()\r\n    \t\t\t\t.unregisterOnSharedPreferenceChangeListener(this);\r\n    \t\tsuper.onDestroy();\r\n    \t}\r\n    \r\n    \tpublic void onSharedPreferenceChanged(SharedPreferences sharedPreferences,\r\n    \t\t\tString key)\r\n    \t{\r\n    \t}\r\n    }\r\n\r\nThe story is as below:\r\n\r\nI was working on an example of live wallpaper and everything was good. When I decided to publish my program, I changed the package name by refactoring in Android Studio and then renaming the folders in directory and then edit the files where needed! I mean the packages definition in the top of each file.\r\n\r\nNow the wallpaper preview is ok but when I want to go to the settings page or set the wallpaper, I see an error.\r\n","title":"Android live wallpaper can&#39;t open settings page","body":"<p>I am trying to make a live wallpaper and I have faced an error that I can't solve. Here is the code:</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;ir.cclever.fourmyword&quot;&gt;\n\n    &lt;uses-sdk android:minSdkVersion=&quot;7&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.software.live_wallpaper&quot; /&gt;\n\n    &lt;application android:icon=&quot;@drawable/icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:permission=&quot;android.permission.BIND_WALLPAPER&quot;&gt;\n\n        &lt;service android:name=&quot;.LiveWallpaper&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:icon=&quot;@drawable/icon&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.service.wallpaper.WallpaperService&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=&quot;android.service.wallpaper&quot;\n                android:resource=&quot;@xml/livewallpaper&quot; /&gt;\n\n        &lt;/service&gt;\n\n\n        &lt;activity android:label=&quot;@string/livewallpaper_settings&quot;\n            android:name=&quot;.LiveWallpaperSettings&quot;\n            android:theme=&quot;@android:style/Theme.Light.WallpaperSettings&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@drawable/icon&quot;&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>LiveWallpaper.java</p>\n<pre><code>package ir.cclever.fourmyword;\n\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Point;\nimport android.graphics.Rect;\nimport android.os.Handler;\nimport android.service.wallpaper.WallpaperService;\nimport android.util.DisplayMetrics;\nimport android.view.Display;\nimport android.view.MotionEvent;\nimport android.view.Surface;\nimport android.view.SurfaceHolder;\nimport android.view.WindowManager;\nimport android.widget.Toast;\n\nimport java.util.Random;\n\npublic class LiveWallpaper extends WallpaperService\n{\n\n    public static final String  SHARED_PREFS_NAME   = &quot;livewallpapersettings&quot;;\n\n    @Override\n    public void onCreate()\n    {\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy()\n    {\n        super.onDestroy();\n    }\n\n    @Override\n    public Engine onCreateEngine()\n    {\n        return new TestPatternEngine();\n    }\n\n    class TestPatternEngine extends Engine implements\n            SharedPreferences.OnSharedPreferenceChangeListener {\n\n        private SharedPreferences   mPreferences;\n\n        Random rand;\n\n        String firstSentence = null;\n        Integer firstSize = 50;\n        String secondSentence = null;\n        Integer secondSize = 50;\n        String thirdSentence = null;\n        Integer thirdSize = 50;\n        String forthSentence = null;\n        Integer forthSize = 50;\n\n        Point firstOriginal;\n        Point firstCurrent;\n        Point firstDes;\n        Point secondOriginal;\n        Point secondCurrent;\n        Point secondDes;\n        Point thirdOriginal;\n        Point thirdCurrent;\n        Point thirdDes;\n        Point forthOriginal;\n        Point forthCurrent;\n        Point forthDes;\n\n        Line firstLine;\n        Line secondLine;\n        Line thirdLine;\n\n        String firstColor;\n        String secondColor;\n        String thirdColor;\n        String forthColor;\n\n        Bitmap back = null;\n        Bitmap cover = null;\n        String whichTheme;\n        Boolean coverEnabled = true;\n\n        TestPatternEngine(){\n            mPreferences = LiveWallpaper.this.getSharedPreferences(SHARED_PREFS_NAME, 0);\n            mPreferences.registerOnSharedPreferenceChangeListener(this);\n            onSharedPreferenceChanged(mPreferences, null);\n\n            firstCurrent = new Point();\n            firstOriginal = new Point();\n            firstDes = new Point();\n            secondCurrent = new Point();\n            secondOriginal = new Point();\n            secondDes = new Point();\n            thirdCurrent = new Point();\n            thirdOriginal = new Point();\n            thirdDes = new Point();\n            forthCurrent = new Point();\n            forthOriginal = new Point();\n            forthDes = new Point();\n\n            firstLine = new Line();\n            secondLine = new Line();\n            thirdLine = new Line();\n\n            rand = new Random();\n        }\n\n        @Override\n        public void onCreate(SurfaceHolder surfaceHolder) {\n            super.onCreate(surfaceHolder);\n            setTouchEventsEnabled(true);\n        }\n\n        @Override\n        public void onDestroy() {\n            super.onDestroy();\n            mHandler.removeCallbacks(mDrawPattern);\n        }\n\n        Boolean isVisible = true;\n\n        @Override\n        public void onVisibilityChanged(boolean visible) {\n            isVisible = visible;\n            if (visible) {\n                drawFrame();\n            } else {\n                mHandler.removeCallbacks(mDrawPattern);\n            }\n        }\n\n        @Override\n        public void onSurfaceChanged(SurfaceHolder holder, int format,\n                                     int width, int height) {\n            super.onSurfaceChanged(holder, format, width, height);\n\n            initFrameParams();\n\n            drawFrame();\n\n            //Toast.makeText(getApplicationContext(),&quot;Surface Changed!!!&quot;,Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onSurfaceCreated(SurfaceHolder holder) {\n            super.onSurfaceCreated(holder);\n\n            Toast.makeText(getApplicationContext(),&quot;surface created&quot;,Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onSurfaceDestroyed(SurfaceHolder holder) {\n            super.onSurfaceDestroyed(holder);\n            isVisible = false;\n            mHandler.removeCallbacks(mDrawPattern);\n            back = null;\n        }\n\n        @Override\n        public void onOffsetsChanged(float xOffset, float yOffset, float xStep,\n                                     float yStep, int xPixels, int yPixels) {\n\n            //drawFrame();\n//            Toast.makeText(getApplicationContext(),&quot;Offset Changed!!! xOffset : &quot; + xOffset + &quot;yOffset : &quot; + yOffset + &quot;xStep : &quot; + xStep + &quot;yStep : &quot; + yStep + &quot;xPixels : &quot; + xPixels + &quot;yPixels : &quot; + yPixels ,Toast.LENGTH_SHORT).show();\n//            System.out.println(&quot;Offset Changed!!! xOffset : &quot; + xOffset + &quot;yOffset : &quot; + yOffset + &quot;xStep : &quot; + xStep + &quot;yStep : &quot; + yStep + &quot;xPixels : &quot; + xPixels + &quot;yPixels : &quot; + yPixels );\n        }\n\n        /*\n         * Store the position of the touch event so we can use it for drawing\n         * later\n         */\n\n        float lastX = -1;\n        float lastY = -1;\n\n        @Override\n        public void onTouchEvent(MotionEvent event) {\n            super.onTouchEvent(event);\n            if (event.getAction() == MotionEvent.ACTION_UP) {\n                lastX = event.getX();\n                lastY = event.getY();\n                //Toast.makeText(getApplicationContext(),&quot;Touched &quot; + lastX + &quot; &quot; + lastY,Toast.LENGTH_SHORT).show();\n            }\n//            else {\n//                lastX = -1;\n//                lastY = -1;\n//            }\n        }\n\n        @Override\n        public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\n            firstSentence = mPreferences.getString(&quot;text_one&quot;,getString(R.string.first_text_default));\n            secondSentence = mPreferences.getString(&quot;text_two&quot;,getString(R.string.second_text_default));\n            thirdSentence = mPreferences.getString(&quot;text_three&quot;,getString(R.string.third_text_default));\n            forthSentence = mPreferences.getString(&quot;text_four&quot;,getString(R.string.forth_text_default));\n            whichTheme = mPreferences.getString(&quot;theme_selector&quot;,getString(R.string.defTheme));\n            coverEnabled = Boolean.valueOf( mPreferences.getBoolean(&quot;cover_enabled&quot;,true));\n            //Toast.makeText(getApplicationContext(),((Integer)mPreferences.getInt(&quot;text_one_size&quot;,50)).toString(),Toast.LENGTH_SHORT).show();\n            firstSize = Integer.valueOf(mPreferences.getString(&quot;text_one_size&quot;,&quot;50&quot;));\n            secondSize = Integer.valueOf(mPreferences.getString(&quot;text_two_size&quot;,&quot;50&quot;));\n            thirdSize = Integer.valueOf(mPreferences.getString(&quot;text_three_size&quot;,&quot;50&quot;));\n            forthSize = Integer.valueOf(mPreferences.getString(&quot;text_four_size&quot;,&quot;50&quot;));\n            firstColor = mPreferences.getString(&quot;text_one_color&quot;,&quot;#ffffff&quot;);\n            secondColor = mPreferences.getString(&quot;text_two_color&quot;,&quot;#ffffff&quot;);\n            thirdColor = mPreferences.getString(&quot;text_three_color&quot;,&quot;#ffffff&quot;);\n            forthColor = mPreferences.getString(&quot;text_four_color&quot;,&quot;#ffffff&quot;);\n            back = null;\n        }\n\n        /*\n        Custom Codes\n         */\n\n        private final Runnable  mDrawPattern    = new Runnable()\n        {\n            public void run()\n            {\n                drawFrame();\n            }\n        };\n\n\n        private final Handler mHandler      = new Handler();\n\n        void drawFrame()\n        {\n            final SurfaceHolder holder = getSurfaceHolder();\n\n            Canvas c = null;\n            try\n            {\n                c = holder.lockCanvas();\n                if (c != null)\n                {\n                    // draw something\n//                    c.drawColor(0xff000000);\n                    drawBack(c);\n                    drawTextOne(c);\n                    drawTextTwo(c);\n                    drawTextThree(c);\n                    drawTextFour(c);\n//                    drawLineOne(c);\n//                    drawLineTwo(c);\n//                    drawLineThree(c);\n                }\n            }\n            finally\n            {\n                if (c != null)\n                    holder.unlockCanvasAndPost(c);\n            }\n\n            mHandler.removeCallbacks(mDrawPattern);\n            if (isVisible)\n            {\n                mHandler.postDelayed(mDrawPattern, 1000 / 25);\n            }\n        }\n\n        class Line{\n            public Point leftTop;\n            public Point leftTopOrg;\n            public Point leftTopDes;\n            public Point rightButton;\n            public Point rightButtonOrg;\n            public Point rightButtonDes;\n\n            public Boolean dir;\n\n            public Line(){\n                leftTop = new Point();\n                leftTopOrg = new Point();\n                leftTopDes = new Point();\n                rightButton = new Point();\n                rightButtonDes = new Point();\n                rightButtonOrg = new Point();\n            }\n        }\n\n        private void drawLineOne(Canvas c) {\n            c.save();\n\n            Paint paint = new Paint();\n            paint.setColor(Color.WHITE);\n            c.drawRect(firstLine.leftTop.x,firstLine.leftTop.y,firstLine.rightButton.x,firstLine.rightButton.y,paint);\n\n            nextLocation(firstLine.leftTop, firstLine.leftTopOrg, firstLine.leftTopDes, firstLine.dir, 20);\n            nextLocation(firstLine.rightButton, firstLine.rightButtonOrg, firstLine.rightButtonDes, firstLine.dir, 20);\n\n            //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\n\n            c.restore();\n        }\n\n        private void drawLineTwo(Canvas c) {\n            c.save();\n\n            Paint paint = new Paint();\n            paint.setColor(Color.WHITE);\n            c.drawRect(secondLine.leftTop.x,secondLine.leftTop.y,secondLine.rightButton.x,secondLine.rightButton.y,paint);\n\n            nextLocation(secondLine.leftTop, secondLine.leftTopOrg, secondLine.leftTopDes, secondLine.dir, 20);\n            nextLocation(secondLine.rightButton, secondLine.rightButtonOrg, secondLine.rightButtonDes, secondLine.dir, 20);\n\n            //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\n\n            c.restore();\n        }\n\n        private void drawLineThree(Canvas c) {\n            c.save();\n\n            Paint paint = new Paint();\n            paint.setColor(Color.WHITE);\n            c.drawRect(thirdLine.leftTop.x,thirdLine.leftTop.y,thirdLine.rightButton.x,thirdLine.rightButton.y,paint);\n\n            nextLocation(thirdLine.leftTop, thirdLine.leftTopOrg, thirdLine.leftTopDes, thirdLine.dir, 20);\n            nextLocation(thirdLine.rightButton, thirdLine.rightButtonOrg, thirdLine.rightButtonDes, thirdLine.dir, 20);\n\n            //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\n\n            c.restore();\n        }\n\n        private void drawBack(Canvas c) {\n            c.save();\n\n            if (back == null){\n                if (whichTheme.equals(&quot;t1&quot;)) {\n                    back = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.p1), drawHere.width(), drawHere.height(), false);\n                }\n                else if(whichTheme.equals(&quot;t2&quot;)){\n                    back = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.p2), drawHere.width(), drawHere.height(), false);\n                }\n                else{\n                    back = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.p3), drawHere.width(), drawHere.height(), false);\n                }\n            }\n            if (cover == null){\n                cover = Bitmap.createScaledBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.cover1), drawHere.width(), drawHere.height(), false);\n            }\n\n            c.drawBitmap(back,0,0,null);\n            if (coverEnabled) {\n                c.drawBitmap(cover, 0, 0, null);\n            }\n\n            c.restore();\n        }\n\n        private void drawTextOne(Canvas c) {\n            c.save();\n\n            Paint paint = new Paint();\n            paint.setColor(Color.parseColor(firstColor));\n            paint.setTextSize(firstSize);\n            paint.setTextAlign(Paint.Align.CENTER);\n            c.drawText(firstSentence,firstCurrent.x,firstCurrent.y,paint);\n            nextLocation(firstCurrent,firstOriginal,firstDes,firstDir, 100);\n\n            //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\n\n            c.restore();\n        }\n\n        // from Org to Des\n        Boolean firstDir = true;\n        Boolean secondDir = true;\n        Boolean thirdDir = true;\n        Boolean forthDir = true;\n\n        private void nextLocation(Point f1, Point f2, Point f3, Boolean dir,Integer limit) { // f1 : current , f2 : Org , f3 : Destination\n            if (f1.x == f3.x &amp;&amp; f1.y == f3.y &amp;&amp; dir){\n                f3.x = f2.x-(limit/2)+rand.nextInt(limit);\n                f3.y = f2.y-(limit/2)+rand.nextInt(limit);\n                dir = false;\n            }\n            if (f1.x == f2.x &amp;&amp; f1.y == f2.y &amp;&amp; !dir){\n                dir = true;\n            }\n            else if (!dir){\n                if (f1.x &gt; f2 .x)\n                    f1.x--;\n                else if (f1.x &lt; f2.x)\n                    f1.x++;\n                if (f1.y &gt; f2 .y)\n                    f1.y--;\n                else if (f1.y &lt; f2.y)\n                    f1.y++;\n            }\n            else{\n                if (f1.x &gt; f3 .x)\n                    f1.x--;\n                else if (f1.x &lt; f3.x)\n                    f1.x++;\n                if (f1.y &gt; f3 .y)\n                    f1.y--;\n                else if (f1.y &lt; f3.y)\n                    f1.y++;\n            }\n        }\n\n        private void drawTextTwo(Canvas c) {\n            c.save();\n\n            Paint paint = new Paint();\n            paint.setColor(Color.parseColor(secondColor));\n            paint.setTextSize(secondSize);\n            paint.setTextAlign(Paint.Align.CENTER);\n            c.drawText(secondSentence,secondCurrent.x,secondCurrent.y,paint);\n            nextLocation(secondCurrent,secondOriginal,secondDes,secondDir, 100);\n\n            //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\n\n            c.restore();\n        }\n\n        private void drawTextThree(Canvas c) {\n            c.save();\n\n            Paint paint = new Paint();\n            paint.setColor(Color.parseColor(thirdColor));\n            paint.setTextSize(thirdSize);\n            paint.setTextAlign(Paint.Align.CENTER);\n            c.drawText(thirdSentence,thirdCurrent.x,thirdCurrent.y,paint);\n            nextLocation(thirdCurrent,thirdOriginal,thirdDes,thirdDir, 100);\n\n            //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\n\n            c.restore();\n        }\n\n        private void drawTextFour(Canvas c) {\n            c.save();\n\n            Paint paint = new Paint();\n            paint.setColor(Color.parseColor(forthColor));\n            paint.setTextSize(forthSize);\n            paint.setTextAlign(Paint.Align.CENTER);\n            c.drawText(forthSentence,forthCurrent.x,forthCurrent.y,paint);\n            nextLocation(forthCurrent,forthOriginal,forthDes,forthDir, 100);\n\n            //Toast.makeText(getApplicationContext(),firstSentence,Toast.LENGTH_SHORT).show();\n\n            c.restore();\n        }\n\n        float nextRight = 200 , nextButton = 200;\n\n        private void drawBlue(Canvas c) {\n\n            c.save();\n            c.drawColor(0xff000000);\n\n            Paint paint = new Paint();\n            paint.setColor(Color.BLUE);\n\n            c.drawRect(100, 100, nextRight, nextButton, paint);\n\n            if (nextRight &gt; 200){\n                nextButton --;\n            }\n            if (nextButton &gt; 200){\n                nextRight --;\n            }\n\n            if (lastX &gt; 200 &amp;&amp; lastY &gt; 200){\n                nextRight = lastX;\n                lastX = -1;\n                nextButton = lastY;\n                lastY = -1;\n            }\n            //Toast.makeText(getApplicationContext(),&quot;Refreshed&quot;,Toast.LENGTH_SHORT).show();\n        }\n\n        Rect drawHere;\n\n        Boolean isHorizontal;\n\n        void initFrameParams(){\n            DisplayMetrics metrics = new DisplayMetrics();\n            Display display = ((WindowManager) getSystemService(WINDOW_SERVICE)).getDefaultDisplay();\n            display.getMetrics(metrics);\n\n            drawHere = new Rect(0, 0, metrics.widthPixels, metrics.heightPixels);\n\n            int rotation = display.getOrientation();\n            if(rotation == Surface.ROTATION_0 || rotation == Surface.ROTATION_180)\n                isHorizontal = false;\n            else\n                isHorizontal = true;\n\n            Toast.makeText(getApplicationContext(),&quot;isHorizontal : &quot; + isHorizontal.toString(),Toast.LENGTH_SHORT).show();\n            //System.out.println(&quot;mHorizontal &quot;+isHorizontal);\n            //System.out.println(&quot;mShape &quot;+mShape);\n\n            Integer heightPart = drawHere.height()/8;\n\n            firstOriginal.set(drawHere.width()/2,drawHere.height()/5);\n            firstCurrent.set(firstOriginal.x,firstOriginal.y);\n            firstDes.set(firstOriginal.x,firstOriginal.y);\n\n            firstLine.leftTop.set(drawHere.width()/10,firstOriginal.y+heightPart-10);\n            firstLine.leftTopOrg.set(firstLine.leftTop.x,firstLine.leftTop.y);\n            firstLine.leftTopDes.set(firstLine.leftTop.x,firstLine.leftTop.y);\n            firstLine.rightButton.set(9*drawHere.width()/10,firstOriginal.y+heightPart+10);\n            firstLine.rightButtonOrg.set(firstLine.rightButton.x,firstLine.rightButton.y);\n            firstLine.rightButtonDes.set(firstLine.rightButton.x,firstLine.rightButton.y);\n            firstLine.dir = true;\n\n            secondOriginal.set(drawHere.width()/2,2*drawHere.height()/5);\n            secondCurrent.set(secondOriginal.x,secondOriginal.y);\n            secondDes.set(secondOriginal.x,secondOriginal.y);\n\n            secondLine.leftTop.set(drawHere.width()/10,secondOriginal.y+heightPart-10);\n            secondLine.leftTopOrg.set(secondLine.leftTop.x,secondLine.leftTop.y);\n            secondLine.leftTopDes.set(secondLine.leftTop.x,secondLine.leftTop.y);\n            secondLine.rightButton.set(9*drawHere.width()/10,secondOriginal.y+heightPart+10);\n            secondLine.rightButtonOrg.set(secondLine.rightButton.x,secondLine.rightButton.y);\n            secondLine.rightButtonDes.set(secondLine.rightButton.x,secondLine.rightButton.y);\n            secondLine.dir = true;\n\n            thirdOriginal.set(drawHere.width()/2,3*drawHere.height()/5);\n            thirdCurrent.set(thirdOriginal.x,thirdOriginal.y);\n            thirdDes.set(thirdOriginal.x,thirdOriginal.y);\n\n            thirdLine.leftTop.set(drawHere.width()/10,thirdOriginal.y+heightPart-10);\n            thirdLine.leftTopOrg.set(thirdLine.leftTop.x,thirdLine.leftTop.y);\n            thirdLine.leftTopDes.set(thirdLine.leftTop.x,thirdLine.leftTop.y);\n            thirdLine.rightButton.set(9*drawHere.width()/10,thirdOriginal.y+heightPart+10);\n            thirdLine.rightButtonOrg.set(thirdLine.rightButton.x,thirdLine.rightButton.y);\n            thirdLine.rightButtonDes.set(thirdLine.rightButton.x,thirdLine.rightButton.y);\n            thirdLine.dir = true;\n\n            forthOriginal.set(drawHere.width()/2,4*drawHere.height()/5);\n            forthCurrent.set(forthOriginal.x,forthOriginal.y);\n            forthDes.set(forthOriginal.x,forthOriginal.y);\n        }\n    }\n}\n</code></pre>\n<p>LiveWallpaperSettings.java</p>\n<pre><code>package ir.cclever.fourmyword;\n\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.preference.PreferenceActivity;\n\npublic class LiveWallpaperSettings extends PreferenceActivity\n    implements SharedPreferences.OnSharedPreferenceChangeListener\n{\n    @Override\n    protected void onCreate(Bundle icicle)\n    {\n        super.onCreate(icicle);\n        getPreferenceManager().setSharedPreferencesName(LiveWallpaper.SHARED_PREFS_NAME);\n        addPreferencesFromResource(R.xml.livewallpaper_settings);\n        getPreferenceManager().getSharedPreferences()\n                .registerOnSharedPreferenceChangeListener(this);\n    }\n    \n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n    }\n\n    @Override\n    protected void onDestroy()\n    {\n        getPreferenceManager().getSharedPreferences()\n                .unregisterOnSharedPreferenceChangeListener(this);\n        super.onDestroy();\n    }\n\n    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences,\n            String key)\n    {\n    }\n}\n</code></pre>\n<p>The story is as below:</p>\n<p>I was working on an example of live wallpaper and everything was good. When I decided to publish my program, I changed the package name by refactoring in Android Studio and then renaming the folders in directory and then edit the files where needed! I mean the packages definition in the top of each file.</p>\n<p>Now the wallpaper preview is ok but when I want to go to the settings page or set the wallpaper, I see an error.</p>\n"},{"tags":["java","sql","database","command-line"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1266714979,"creation_date":1266714979,"answer_id":2304412,"question_id":2303846,"body_markdown":"It can&#39;t hurt to look at Sun/Oracle&#39;s guide [*For Driver Writers*][1]. Even if the JDBC API isn&#39;t a good fit, you&#39;ll end up inventing something similar. You may even be able to leverage  some of the myriad existing JDBC tools.\r\n\r\n[1]:http://java.sun.com/products/jdbc/driverdevs.html","title":"Representing command-line interface commands in code: Implementation of &quot;database&quot; where a query and result is obtained from proprietary CLI commands","body":"<p>It can't hurt to look at Sun/Oracle's guide <a href=\"http://java.sun.com/products/jdbc/driverdevs.html\" rel=\"nofollow noreferrer\"><em>For Driver Writers</em></a>. Even if the JDBC API isn't a good fit, you'll end up inventing something similar. You may even be able to leverage  some of the myriad existing JDBC tools.</p>\n"},{"tags":[],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680946559,"creation_date":1267037652,"answer_id":2328648,"question_id":2303846,"body_markdown":"I found what I was looking for after stumbling on a different question: ID 2068478 at\r\n[https://stackoverflow.com/questions/2068478/query-object-pattern-design-pattern][2], which lead me to the &quot;Repository&quot; pattern as well:  \r\n [http://martinfowler.com/eaaCatalog/repository.html][1]\r\n\r\nThere is an example of the Query Object Pattern using C# and a Syntax Tree here:\r\nhttp://www.lostechies.com/blogs/chad_myers/archive/2008/08/01/query-objects-with-the-repository-pattern.aspx\r\n\r\n\r\n  [1]: http://martinfowler.com/eaaCatalog/repository.html\r\n  [2]: https://stackoverflow.com/questions/2068478/query-object-pattern-design-pattern","title":"Representing command-line interface commands in code: Implementation of &quot;database&quot; where a query and result is obtained from proprietary CLI commands","body":"<p>I found what I was looking for after stumbling on a different question: ID 2068478 at\n<a href=\"https://stackoverflow.com/questions/2068478/query-object-pattern-design-pattern\">Query Object Pattern (Design Pattern)</a>, which lead me to the &quot;Repository&quot; pattern as well:<br />\n<a href=\"http://martinfowler.com/eaaCatalog/repository.html\" rel=\"nofollow noreferrer\">http://martinfowler.com/eaaCatalog/repository.html</a></p>\n<p>There is an example of the Query Object Pattern using C# and a Syntax Tree here:\n<a href=\"http://www.lostechies.com/blogs/chad_myers/archive/2008/08/01/query-objects-with-the-repository-pattern.aspx\" rel=\"nofollow noreferrer\">http://www.lostechies.com/blogs/chad_myers/archive/2008/08/01/query-objects-with-the-repository-pattern.aspx</a></p>\n"}],"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2328648,"answer_count":2,"score":3,"last_activity_date":1680946559,"creation_date":1266702025,"question_id":2303846,"body_markdown":"Problem Domain:\r\n---------------\r\nI am working on a new revision of a Java application that connects via SSH to a proprietary, Linux-based platform&#39;s Command Line Interface (CLI).  Everything on the platform that I would want to do or know is only available via CLI commands and stdout.  \r\n\r\nOne of the commands available retrieves information from an internal database (not using SQL) with the following command arguments: **query, sub-query, result format, and sorting preference.**\r\n\r\nSolution Being Considered:\r\n---------------\r\nI would like to expose an API that encapsulates the low-level details of the SSH/CLI behavior and achieve the following:\r\n\r\n - Eliminate the current error-prone method of embedded query strings (currently very prone to typos).\r\n - Make the API intuitive as the current query and command formats are not commonly understood.\r\n - Provide consistent error and result responses.\r\n\r\nI am considering creating query builder and response classes at the lowest level that implement the SSH/CLI behavior; then creating a layer above that to allow retrieval of attributes from the platform by attribute-category (as compared with database tables).\r\n\r\nQuestion:  \r\n--------\r\n\r\nI have been digging through my Gang of Four book and other resources to find any sensible approaches that might be a starting point; also looking at information on Syntax Trees.\r\n\r\nBefore I find myself implementing &quot;SQL for proprietary platform&quot; I wanted to see if anyone has any advice, similar experience, resources, or other input on solutions to this problem.  Any thoughts on implementation, available frameworks, CLI processing, or other resources would be appreciated. \r\n","title":"Representing command-line interface commands in code: Implementation of &quot;database&quot; where a query and result is obtained from proprietary CLI commands","body":"<h2>Problem Domain:</h2>\n\n<p>I am working on a new revision of a Java application that connects via SSH to a proprietary, Linux-based platform's Command Line Interface (CLI).  Everything on the platform that I would want to do or know is only available via CLI commands and stdout.  </p>\n\n<p>One of the commands available retrieves information from an internal database (not using SQL) with the following command arguments: <strong>query, sub-query, result format, and sorting preference.</strong></p>\n\n<h2>Solution Being Considered:</h2>\n\n<p>I would like to expose an API that encapsulates the low-level details of the SSH/CLI behavior and achieve the following:</p>\n\n<ul>\n<li>Eliminate the current error-prone method of embedded query strings (currently very prone to typos).</li>\n<li>Make the API intuitive as the current query and command formats are not commonly understood.</li>\n<li>Provide consistent error and result responses.</li>\n</ul>\n\n<p>I am considering creating query builder and response classes at the lowest level that implement the SSH/CLI behavior; then creating a layer above that to allow retrieval of attributes from the platform by attribute-category (as compared with database tables).</p>\n\n<h2>Question:</h2>\n\n<p>I have been digging through my Gang of Four book and other resources to find any sensible approaches that might be a starting point; also looking at information on Syntax Trees.</p>\n\n<p>Before I find myself implementing \"SQL for proprietary platform\" I wanted to see if anyone has any advice, similar experience, resources, or other input on solutions to this problem.  Any thoughts on implementation, available frameworks, CLI processing, or other resources would be appreciated. </p>\n"},{"tags":["java","azure","azure-management-api"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":1,"creation_date":1465908588,"post_id":37812036,"comment_id":63089104,"body_markdown":"I believe you&#39;re getting this error is because you&#39;re trying to get information about a cloud service using virtual machine related operations.","body":"I believe you&#39;re getting this error is because you&#39;re trying to get information about a cloud service using virtual machine related operations."},{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1465910815,"post_id":37812036,"comment_id":63090913,"body_markdown":"yes. to get the virtual machine name which be the  parameter of java api. Would you inform me how the virtual instance is connected to be found in cloud services?","body":"yes. to get the virtual machine name which be the  parameter of java api. Would you inform me how the virtual instance is connected to be found in cloud services?"},{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1465956421,"post_id":37812036,"comment_id":63113008,"body_markdown":"I fix it. I made cloud service in classic azure portal. Then virtual machine was generated and added to java virtual machine sdk. I think this is Azure portal bug. Any way thanks for your information.","body":"I fix it. I made cloud service in classic azure portal. Then virtual machine was generated and added to java virtual machine sdk. I think this is Azure portal bug. Any way thanks for your information."}],"answers":[{"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1465984029,"creation_date":1465984029,"answer_id":37831839,"question_id":37812036,"body_markdown":"Explaining for the difference between Azure classic portal and Azure new portal, which using different model to create cloud service and virtual machine.\r\n\r\nOn Azure classic portal, using ASM mode (Azure Service Management) to create Azure services. But using ARM mode (Azure Resource Management) for Azure new portal.\r\n\r\nFor example, you can refer to the REST APIs of different modes to know the difference for getting information of a existing cloud service, please see below.\r\n\r\n1. Using [`Get Role`][1] classic REST API on ASM mode, it relate to the Java package `com.microsoft.windowsazure.management.compute`.\r\n2. Using [`Get information about a virtual machine`][2] REST API on ARM mode, it relate to the Java package `com.microsoft.azure.management.compute`.\r\n\r\nSo according to your code, you are using the Service Management SDK to get information for a cloud service created on classic portal, not for a cloud service created on new portal, because the cloud services created on different modes have different model structures.\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/azure/JJ157193.aspx\r\n  [2]: https://msdn.microsoft.com/en-us/library/azure/Mt163682.aspx","title":"com.microsoft.windowsazure.exception.ServiceException: ResourceNotFound: Role WorkerRole1_IN_0 was not found in the currently deployed service","body":"<p>Explaining for the difference between Azure classic portal and Azure new portal, which using different model to create cloud service and virtual machine.</p>\n\n<p>On Azure classic portal, using ASM mode (Azure Service Management) to create Azure services. But using ARM mode (Azure Resource Management) for Azure new portal.</p>\n\n<p>For example, you can refer to the REST APIs of different modes to know the difference for getting information of a existing cloud service, please see below.</p>\n\n<ol>\n<li>Using <a href=\"https://msdn.microsoft.com/en-us/library/azure/JJ157193.aspx\" rel=\"nofollow\"><code>Get Role</code></a> classic REST API on ASM mode, it relate to the Java package <code>com.microsoft.windowsazure.management.compute</code>.</li>\n<li>Using <a href=\"https://msdn.microsoft.com/en-us/library/azure/Mt163682.aspx\" rel=\"nofollow\"><code>Get information about a virtual machine</code></a> REST API on ARM mode, it relate to the Java package <code>com.microsoft.azure.management.compute</code>.</li>\n</ol>\n\n<p>So according to your code, you are using the Service Management SDK to get information for a cloud service created on classic portal, not for a cloud service created on new portal, because the cloud services created on different modes have different model structures.</p>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37831839,"answer_count":1,"score":0,"last_activity_date":1680945823,"creation_date":1465907300,"question_id":37812036,"body_markdown":"I deployed cloud service in azure portal. Deployment is successful. And I made some Azure Java sdk codes like below:\r\n\r\n    ComputeManagementClient cmclient = ComputeManagementService.create(config); \r\n    \r\n     VirtualMachineOperations vmoperat = cmclient.getVirtualMachinesOperations(); \r\n     VirtualMachineGetResponse vmresp = vmoperat.get(&quot;AzurecloudDNS&quot;, AzurecloudDNSStaging20160613193121&quot;,&quot;WorkerRole1_IN_0&quot;);\r\n\r\nBut it throws the following exception,\r\n\r\n    Exception in thread &quot;main&quot; com.microsoft.windowsazure.exception.ServiceException: ResourceNotFound: Role WorkerRole1_IN_0 was not found in the currently deployed service.\r\n     at com.microsoft.windowsazure.exception.ServiceException.createFromXml(ServiceException.java:206)\r\n     at com.microsoft.windowsazure.management.compute.VirtualMachineOperationsImpl.get(VirtualMachineOperationsImpl.java:6517)\r\n     at com.aaa.azure.JavaClient.main(JavaClient.java:81)\r\n\r\nIn Azure portal, I can see WorkerRole1_IN_0 is working in this cloud service. But it throws exception.\r\n","title":"com.microsoft.windowsazure.exception.ServiceException: ResourceNotFound: Role WorkerRole1_IN_0 was not found in the currently deployed service","body":"<p>I deployed cloud service in azure portal. Deployment is successful. And I made some Azure Java sdk codes like below:</p>\n<pre><code>ComputeManagementClient cmclient = ComputeManagementService.create(config); \n\n VirtualMachineOperations vmoperat = cmclient.getVirtualMachinesOperations(); \n VirtualMachineGetResponse vmresp = vmoperat.get(&quot;AzurecloudDNS&quot;, AzurecloudDNSStaging20160613193121&quot;,&quot;WorkerRole1_IN_0&quot;);\n</code></pre>\n<p>But it throws the following exception,</p>\n<pre><code>Exception in thread &quot;main&quot; com.microsoft.windowsazure.exception.ServiceException: ResourceNotFound: Role WorkerRole1_IN_0 was not found in the currently deployed service.\n at com.microsoft.windowsazure.exception.ServiceException.createFromXml(ServiceException.java:206)\n at com.microsoft.windowsazure.management.compute.VirtualMachineOperationsImpl.get(VirtualMachineOperationsImpl.java:6517)\n at com.aaa.azure.JavaClient.main(JavaClient.java:81)\n</code></pre>\n<p>In Azure portal, I can see WorkerRole1_IN_0 is working in this cloud service. But it throws exception.</p>\n"},{"tags":["java","swing","focus"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1355197415,"post_id":13810777,"comment_id":19005125,"body_markdown":"*&quot;Stepping through the code&quot;*  That in itself might cause focus requests to fail (i.e. the Swing GUI is not the focused window when the methods are called).","body":"<i>&quot;Stepping through the code&quot;</i>  That in itself might cause focus requests to fail (i.e. the Swing GUI is not the focused window when the methods are called)."},{"owner":{"account_id":1603680,"reputation":2120,"user_id":1484207,"accept_rate":64,"display_name":"Andy Dingfelder"},"score":0,"creation_date":1355257387,"post_id":13810777,"comment_id":19029640,"body_markdown":"I agree.  I am usually not using the debugger to step through, instead I am adding logger messages and stock traces to see where the calls are coming from.  I find that the only reliable way to debug focus issues.  in that once case though, it was deep in a jdk class, so I had no choice, but I agree, it could make it a red herring","body":"I agree.  I am usually not using the debugger to step through, instead I am adding logger messages and stock traces to see where the calls are coming from.  I find that the only reliable way to debug focus issues.  in that once case though, it was deep in a jdk class, so I had no choice, but I agree, it could make it a red herring"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1495593299,"creation_date":1355181276,"answer_id":13810945,"question_id":13810777,"body_markdown":"There are any number of possible reasons a request for focus will fail.\r\n\r\nTo start with, the Java Docs for `Component#requestFocus` actually states\r\n\r\n&gt; Because the focus behavior of this method is platform-dependent,\r\n&gt; developers are strongly encouraged to use requestFocusInWindow when\r\n&gt; possible.\r\n\r\nAnd\r\n\r\n&gt; This component must be displayable, focusable, visible and all of its\r\n&gt; ancestors (with the exception of the top-level Window) must be visible\r\n&gt; for the request to be granted\r\n\r\nIn order for a component to become focusable, the component and all it&#39;s ancestors must be valid (displayable).  One of the common mistakes I see a lot is people using `requestFocus` or `requestFocusInWindow` when they create a new window, but before that window could actually be shown on the screen (`setVisible` does not guarantee that the window will be immediately visible, only that some time in the future it will become visible).\r\n\r\nThe best approach in this situation is to use a `WindowListener` and monitor for `windowOpened` event.  Event then, I&#39;d be tempted to use a `SwingUtilities#invokeLater` to make sure the window is actually displayable on the screen.\r\n\r\nThe other issue is relying on `isDisplayable`.  This method may return `true` even when the window that the component is on is not (displaying on the screen).\r\n\r\nA component becomes displayable when it is connected to a native screen resource.  This can happen when it&#39;s ancestor window is either packed or made visible ... In fact I&#39;ve found it very difficult to determine exactly when this might occur.\r\n\r\n**Update**\r\n\r\nI should also add that `requestFocus` is just that, a &quot;request&quot;.  It is possible that the focus management sub system may veto the request because another field has refused to surrender focus (such as when the fields `InputVerifier#shouldYieldFocus` returns `false`)","title":"what causes component requestFocus to fail sometimes?","body":"<p>There are any number of possible reasons a request for focus will fail.</p>\n\n<p>To start with, the Java Docs for <code>Component#requestFocus</code> actually states</p>\n\n<blockquote>\n  <p>Because the focus behavior of this method is platform-dependent,\n  developers are strongly encouraged to use requestFocusInWindow when\n  possible.</p>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>This component must be displayable, focusable, visible and all of its\n  ancestors (with the exception of the top-level Window) must be visible\n  for the request to be granted</p>\n</blockquote>\n\n<p>In order for a component to become focusable, the component and all it's ancestors must be valid (displayable).  One of the common mistakes I see a lot is people using <code>requestFocus</code> or <code>requestFocusInWindow</code> when they create a new window, but before that window could actually be shown on the screen (<code>setVisible</code> does not guarantee that the window will be immediately visible, only that some time in the future it will become visible).</p>\n\n<p>The best approach in this situation is to use a <code>WindowListener</code> and monitor for <code>windowOpened</code> event.  Event then, I'd be tempted to use a <code>SwingUtilities#invokeLater</code> to make sure the window is actually displayable on the screen.</p>\n\n<p>The other issue is relying on <code>isDisplayable</code>.  This method may return <code>true</code> even when the window that the component is on is not (displaying on the screen).</p>\n\n<p>A component becomes displayable when it is connected to a native screen resource.  This can happen when it's ancestor window is either packed or made visible ... In fact I've found it very difficult to determine exactly when this might occur.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I should also add that <code>requestFocus</code> is just that, a \"request\".  It is possible that the focus management sub system may veto the request because another field has refused to surrender focus (such as when the fields <code>InputVerifier#shouldYieldFocus</code> returns <code>false</code>)</p>\n"},{"tags":[],"owner":{"account_id":1603680,"reputation":2120,"user_id":1484207,"accept_rate":64,"display_name":"Andy Dingfelder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355283082,"creation_date":1355265432,"answer_id":13829676,"question_id":13810777,"body_markdown":"Found the answer to the problem.  \r\n\r\nMadProgrammer&#39;s analysis was correct, but the problem was a bit unrelated, there was a thread sleep for 2 seconds after the dialog returned from setVisible.  \r\n\r\nRemoving this sleep make the issue stop occurring.\r\n\r\nNow... as to WHY having a 2 second delay (in the parent panel after setVisible returns) would matter is a bit of a mystery, but at least I know the solution","title":"what causes component requestFocus to fail sometimes?","body":"<p>Found the answer to the problem.  </p>\n\n<p>MadProgrammer's analysis was correct, but the problem was a bit unrelated, there was a thread sleep for 2 seconds after the dialog returned from setVisible.  </p>\n\n<p>Removing this sleep make the issue stop occurring.</p>\n\n<p>Now... as to WHY having a 2 second delay (in the parent panel after setVisible returns) would matter is a bit of a mystery, but at least I know the solution</p>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680945580,"creation_date":1680944787,"answer_id":75964301,"question_id":13810777,"body_markdown":"I created an extension function to requestFocus() \r\n\r\n    fun EditText.showKeyboardOnLayout() {\r\n      val mEditText = this\r\n      viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\r\n        override fun onGlobalLayout() {\r\n            viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n            mEditText.apply {\r\n                if (isShown &amp;&amp; isFocusable &amp;&amp; isEnabled &amp;&amp; requestFocus()) {\r\n                    // The EditText is visible, focusable, enabled, and has received focus\r\n                    showKeyboardWithRetry()\r\n                }\r\n            }\r\n        }\r\n\r\n        private fun showKeyboardWithRetry() {\r\n            val inputMethodManager = context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n            inputMethodManager.showSoftInput(mEditText, InputMethodManager.SHOW_IMPLICIT)\r\n            val isKeyboardShown = inputMethodManager.isActive(mEditText)\r\n            Timber.d(&quot;keyboard is shown: $isKeyboardShown&quot;)\r\n            if (!isKeyboardShown) {\r\n                postDelayed({\r\n                    inputMethodManager.showSoftInput(mEditText, InputMethodManager.SHOW_IMPLICIT)\r\n                }, 100)\r\n            }\r\n        }\r\n    })\r\n    \r\n    }\r\n\r\nuse like: ` binding.phoneEditText.showKeyboardOnLayout()`","title":"what causes component requestFocus to fail sometimes?","body":"<p>I created an extension function to requestFocus()</p>\n<pre><code>fun EditText.showKeyboardOnLayout() {\n  val mEditText = this\n  viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n    override fun onGlobalLayout() {\n        viewTreeObserver.removeOnGlobalLayoutListener(this)\n        mEditText.apply {\n            if (isShown &amp;&amp; isFocusable &amp;&amp; isEnabled &amp;&amp; requestFocus()) {\n                // The EditText is visible, focusable, enabled, and has received focus\n                showKeyboardWithRetry()\n            }\n        }\n    }\n\n    private fun showKeyboardWithRetry() {\n        val inputMethodManager = context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n        inputMethodManager.showSoftInput(mEditText, InputMethodManager.SHOW_IMPLICIT)\n        val isKeyboardShown = inputMethodManager.isActive(mEditText)\n        Timber.d(&quot;keyboard is shown: $isKeyboardShown&quot;)\n        if (!isKeyboardShown) {\n            postDelayed({\n                inputMethodManager.showSoftInput(mEditText, InputMethodManager.SHOW_IMPLICIT)\n            }, 100)\n        }\n    }\n})\n\n}\n</code></pre>\n<p>use like: <code> binding.phoneEditText.showKeyboardOnLayout()</code></p>\n"}],"owner":{"account_id":1603680,"reputation":2120,"user_id":1484207,"accept_rate":64,"display_name":"Andy Dingfelder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4132,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13810945,"answer_count":3,"score":4,"last_activity_date":1680945580,"creation_date":1355180333,"question_id":13810777,"body_markdown":"I have a jDialog which contains some fields that need to get focused.\r\n\r\nI am seeing some strange behaviour where sometimes the focusing fails, and if you hit the tab key you can see the focus change in the underlying parent window below, so clearly the focus did not get transferred.\r\n\r\nI read the interesting article (by camickr) on focusing: \r\nhttp://tips4java.wordpress.com/2010/03/14/dialog-focus/ \r\nbut that did not solve the problem.  \r\n\r\nUsing that listener though, I was easily able to add debugging to try and see what is occurring...\r\n\r\n    public class RequestFocusListener implements AncestorListener\r\n    {\r\n\tprivate boolean removeListener;\r\n        protected static org.slf4j.Logger logger = LoggerFactory.getLogger(RequestFocusListener.class);\r\n\r\n\t/*\r\n\t *  Convenience constructor. The listener is only used once and then it is\r\n\t *  removed from the component.\r\n\t */\r\n\tpublic RequestFocusListener() {\r\n\t    this(true);\r\n\t}\r\n\r\n\t/*\r\n\t *  Constructor that controls whether this listen can be used once or\r\n\t *  multiple times.\r\n\t *\r\n\t *  @param removeListener when true this listener is only invoked once\r\n\t *                        otherwise it can be invoked multiple times.\r\n\t */\r\n\tpublic RequestFocusListener(boolean removeListener) {\r\n            logger.debug(&quot;creating RequestFocusListener, removeListener = &quot; + removeListener);\r\n\t    this.removeListener = removeListener;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void ancestorAdded(AncestorEvent e)\r\n\t{\r\n            logger.debug(&quot;ancestorAdded detected&quot;);\r\n            JComponent component = e.getComponent();\r\n            logger.debug(&quot;requesting focus&quot;);\r\n            boolean success = component.requestFocusInWindow();\r\n            logger.debug(&quot;request focus in window result was: &quot; + success);\r\n            if (!success) {\r\n                logger.debug(&quot;KeyboardFocusManager says focus failed.\\nfocus owner is &quot; + KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner());\r\n                logger.debug(&quot;displayable=&quot;+component.isDisplayable());\r\n                logger.debug(&quot;lightweight=&quot;+component.isLightweight());\r\n                logger.debug(&quot;enabled=&quot;+component.isEnabled());\r\n                logger.debug(&quot;focusable=&quot;+component.isFocusable());\r\n                logger.debug(&quot;showing=&quot;+component.isShowing());\r\n                logger.debug(&quot;isRequestFocusEnabled=&quot;+component.isRequestFocusEnabled());\r\n            } else {\r\n                logger.debug(&quot;KeyboardFocusManager says we got focus.  focus owner is &quot; + KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner());\r\n            }\r\n            if (removeListener) {\r\n\t\tcomponent.removeAncestorListener( this );\r\n            }\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void ancestorMoved(AncestorEvent e) {\r\n        }\r\n\r\n\t@Override\r\n\tpublic void ancestorRemoved(AncestorEvent e) {\r\n        }\r\n}\r\n\r\nThen I added the listener to a component in the main panel of the JDialog\r\n\r\n    radioButton.addAncestorListener(new RequestFocusAncestorListener());\r\n\r\n\r\nThe output I am getting shows:\r\n\r\n    displayable=true\r\n    lightweight=true\r\n    enabled=true\r\n    focusable=true\r\n    showing=true\r\n    isRequestFocusEnabled=true\r\n\r\nStepping through the code to see what is making the request fail, I see it stops in Component.requestFocusHelper on: \r\n\r\n    boolean success = peer.requestFocus(this, temporary, focusedWindowChangeAllowed, time, cause);\r\n\r\nI have read that the component must be displayable/visible/focusable) but the debugging shows that is ok.\r\n\r\nCan anyone shed any light on what else might cause the requestFocus to fail?  (and leave the focus in the calling parent panel, in this case in a jtable)\r\n\r\nSorry in advance for not providing a complete SSCCE, I have tried to reproduce this in a standalone example and can&#39;t get it to fail consistently.\r\n\r\nI appreciate any thoughts/tips.\r\n\r\n___________________________________\r\n\r\nfollowup - \r\n\r\nIt seems like the first time I open the dialog, it gets focus, and then when I close and reopen the dialog the focus does not always get set.  \r\n\r\nInterestingly, after closing the dialog, if I change focus in the parent before opening the dialog again, the focus seems to always get set.","title":"what causes component requestFocus to fail sometimes?","body":"<p>I have a jDialog which contains some fields that need to get focused.</p>\n\n<p>I am seeing some strange behaviour where sometimes the focusing fails, and if you hit the tab key you can see the focus change in the underlying parent window below, so clearly the focus did not get transferred.</p>\n\n<p>I read the interesting article (by camickr) on focusing: \n<a href=\"http://tips4java.wordpress.com/2010/03/14/dialog-focus/\" rel=\"nofollow\">http://tips4java.wordpress.com/2010/03/14/dialog-focus/</a> \nbut that did not solve the problem.  </p>\n\n<p>Using that listener though, I was easily able to add debugging to try and see what is occurring...</p>\n\n<pre><code>public class RequestFocusListener implements AncestorListener\n{\nprivate boolean removeListener;\n    protected static org.slf4j.Logger logger = LoggerFactory.getLogger(RequestFocusListener.class);\n\n/*\n *  Convenience constructor. The listener is only used once and then it is\n *  removed from the component.\n */\npublic RequestFocusListener() {\n    this(true);\n}\n\n/*\n *  Constructor that controls whether this listen can be used once or\n *  multiple times.\n *\n *  @param removeListener when true this listener is only invoked once\n *                        otherwise it can be invoked multiple times.\n */\npublic RequestFocusListener(boolean removeListener) {\n        logger.debug(\"creating RequestFocusListener, removeListener = \" + removeListener);\n    this.removeListener = removeListener;\n}\n\n@Override\npublic void ancestorAdded(AncestorEvent e)\n{\n        logger.debug(\"ancestorAdded detected\");\n        JComponent component = e.getComponent();\n        logger.debug(\"requesting focus\");\n        boolean success = component.requestFocusInWindow();\n        logger.debug(\"request focus in window result was: \" + success);\n        if (!success) {\n            logger.debug(\"KeyboardFocusManager says focus failed.\\nfocus owner is \" + KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner());\n            logger.debug(\"displayable=\"+component.isDisplayable());\n            logger.debug(\"lightweight=\"+component.isLightweight());\n            logger.debug(\"enabled=\"+component.isEnabled());\n            logger.debug(\"focusable=\"+component.isFocusable());\n            logger.debug(\"showing=\"+component.isShowing());\n            logger.debug(\"isRequestFocusEnabled=\"+component.isRequestFocusEnabled());\n        } else {\n            logger.debug(\"KeyboardFocusManager says we got focus.  focus owner is \" + KeyboardFocusManager.getCurrentKeyboardFocusManager().getFocusOwner());\n        }\n        if (removeListener) {\n    component.removeAncestorListener( this );\n        }\n}\n\n@Override\npublic void ancestorMoved(AncestorEvent e) {\n    }\n\n@Override\npublic void ancestorRemoved(AncestorEvent e) {\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Then I added the listener to a component in the main panel of the JDialog</p>\n\n<pre><code>radioButton.addAncestorListener(new RequestFocusAncestorListener());\n</code></pre>\n\n<p>The output I am getting shows:</p>\n\n<pre><code>displayable=true\nlightweight=true\nenabled=true\nfocusable=true\nshowing=true\nisRequestFocusEnabled=true\n</code></pre>\n\n<p>Stepping through the code to see what is making the request fail, I see it stops in Component.requestFocusHelper on: </p>\n\n<pre><code>boolean success = peer.requestFocus(this, temporary, focusedWindowChangeAllowed, time, cause);\n</code></pre>\n\n<p>I have read that the component must be displayable/visible/focusable) but the debugging shows that is ok.</p>\n\n<p>Can anyone shed any light on what else might cause the requestFocus to fail?  (and leave the focus in the calling parent panel, in this case in a jtable)</p>\n\n<p>Sorry in advance for not providing a complete SSCCE, I have tried to reproduce this in a standalone example and can't get it to fail consistently.</p>\n\n<p>I appreciate any thoughts/tips.</p>\n\n<hr>\n\n<p>followup - </p>\n\n<p>It seems like the first time I open the dialog, it gets focus, and then when I close and reopen the dialog the focus does not always get set.  </p>\n\n<p>Interestingly, after closing the dialog, if I change focus in the parent before opening the dialog again, the focus seems to always get set.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9478,"page":514,"page_size":100}
