{"items":[{"tags":["java","file","mime-types"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":2,"creation_date":1445257380,"post_id":33214214,"comment_id":54232530,"body_markdown":"You need to start streaming it (reading it) otherwise you can&#39;t check MIME.","body":"You need to start streaming it (reading it) otherwise you can&#39;t check MIME."},{"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"score":0,"creation_date":1445258466,"post_id":33214214,"comment_id":54233273,"body_markdown":"@PetterFriberg- So what I am doing is correct or not ??","body":"@PetterFriberg- So what I am doing is correct or not ??"},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1445263181,"post_id":33214214,"comment_id":54236746,"body_markdown":"Its arrving in a stream I suppose, before saving to the hd check the stream for MIME type.... if ok you save otherwise not...","body":"Its arrving in a stream I suppose, before saving to the hd check the stream for MIME type.... if ok you save otherwise not..."},{"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"score":0,"creation_date":1445323567,"post_id":33214214,"comment_id":54263487,"body_markdown":"@PetterFriberg- It is coming as a multipart file, currently I am saving it as file and then checking it&#39;s type which is wrong for security purposes. searching ways to streaming it(reading it).","body":"@PetterFriberg- It is coming as a multipart file, currently I am saving it as file and then checking it&#39;s type which is wrong for security purposes. searching ways to streaming it(reading it)."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1641626606,"post_id":33214214,"comment_id":124858075,"body_markdown":"@VipulJain did u find any solution??","body":"@VipulJain did u find any solution??"}],"answers":[{"tags":[],"owner":{"account_id":1470633,"reputation":1701,"user_id":1382300,"accept_rate":50,"display_name":"inigoD"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1445257944,"creation_date":1445257944,"answer_id":33214495,"question_id":33214214,"body_markdown":"You can map the mimetype to a existing extension by making a map...\r\n\r\nYou can use apache.mime.types for create one like it&#39;s done here:\r\n\r\nhttp://www.java2s.com/Code/Java/Network-Protocol/MapfileextensionstoMIMEtypesBasedontheApachemimetypesfile.htm\r\n\r\n    public class MimeTypes {\r\n    \r\n      public static final String MIME_APPLICATION_ANDREW_INSET  = &quot;application/andrew-inset&quot;;\r\n      public static final String MIME_APPLICATION_JSON      = &quot;application/json&quot;;\r\n      public static final String MIME_APPLICATION_ZIP       = &quot;application/zip&quot;;\r\n      public static final String MIME_APPLICATION_X_GZIP      = &quot;application/x-gzip&quot;;\r\n      public static final String MIME_APPLICATION_TGZ       = &quot;application/tgz&quot;;\r\n      public static final String MIME_APPLICATION_MSWORD      = &quot;application/msword&quot;;\r\n      public static final String MIME_APPLICATION_POSTSCRIPT    = &quot;application/postscript&quot;;\r\n      public static final String MIME_APPLICATION_PDF       = &quot;application/pdf&quot;;\r\n      public static final String MIME_APPLICATION_JNLP      = &quot;application/jnlp&quot;;\r\n      public static final String MIME_APPLICATION_MAC_BINHEX40  = &quot;application/mac-binhex40&quot;;\r\n      public static final String MIME_APPLICATION_MAC_COMPACTPRO  = &quot;application/mac-compactpro&quot;;\r\n      public static final String MIME_APPLICATION_MATHML_XML    = &quot;application/mathml+xml&quot;;\r\n      public static final String MIME_APPLICATION_OCTET_STREAM  = &quot;application/octet-stream&quot;;\r\n      public static final String MIME_APPLICATION_ODA       = &quot;application/oda&quot;;\r\n      public static final String MIME_APPLICATION_RDF_XML     = &quot;application/rdf+xml&quot;;\r\n      public static final String MIME_APPLICATION_JAVA_ARCHIVE  = &quot;application/java-archive&quot;;\r\n      public static final String MIME_APPLICATION_RDF_SMIL    = &quot;application/smil&quot;;\r\n      public static final String MIME_APPLICATION_SRGS      = &quot;application/srgs&quot;;\r\n      public static final String MIME_APPLICATION_SRGS_XML    = &quot;application/srgs+xml&quot;;\r\n      public static final String MIME_APPLICATION_VND_MIF     = &quot;application/vnd.mif&quot;;\r\n      public static final String MIME_APPLICATION_VND_MSEXCEL   = &quot;application/vnd.ms-excel&quot;;\r\n      public static final String MIME_APPLICATION_VND_MSPOWERPOINT= &quot;application/vnd.ms-powerpoint&quot;;\r\n      public static final String MIME_APPLICATION_VND_RNREALMEDIA = &quot;application/vnd.rn-realmedia&quot;;\r\n      public static final String MIME_APPLICATION_X_BCPIO     = &quot;application/x-bcpio&quot;;\r\n      public static final String MIME_APPLICATION_X_CDLINK    = &quot;application/x-cdlink&quot;;\r\n      public static final String MIME_APPLICATION_X_CHESS_PGN   = &quot;application/x-chess-pgn&quot;;\r\n      public static final String MIME_APPLICATION_X_CPIO      = &quot;application/x-cpio&quot;;\r\n      public static final String MIME_APPLICATION_X_CSH     = &quot;application/x-csh&quot;;\r\n      public static final String MIME_APPLICATION_X_DIRECTOR    = &quot;application/x-director&quot;;\r\n      public static final String MIME_APPLICATION_X_DVI     = &quot;application/x-dvi&quot;;\r\n      public static final String MIME_APPLICATION_X_FUTURESPLASH  = &quot;application/x-futuresplash&quot;;\r\n      public static final String MIME_APPLICATION_X_GTAR      = &quot;application/x-gtar&quot;;\r\n      public static final String MIME_APPLICATION_X_HDF     = &quot;application/x-hdf&quot;;\r\n      public static final String MIME_APPLICATION_X_JAVASCRIPT  = &quot;application/x-javascript&quot;;\r\n      public static final String MIME_APPLICATION_X_KOAN      = &quot;application/x-koan&quot;;\r\n      public static final String MIME_APPLICATION_X_LATEX     = &quot;application/x-latex&quot;;\r\n      public static final String MIME_APPLICATION_X_NETCDF    = &quot;application/x-netcdf&quot;;\r\n      public static final String MIME_APPLICATION_X_OGG     = &quot;application/x-ogg&quot;;\r\n      public static final String MIME_APPLICATION_X_SH      = &quot;application/x-sh&quot;;\r\n      public static final String MIME_APPLICATION_X_SHAR      = &quot;application/x-shar&quot;;\r\n      public static final String MIME_APPLICATION_X_SHOCKWAVE_FLASH = &quot;application/x-shockwave-flash&quot;;\r\n      public static final String MIME_APPLICATION_X_STUFFIT     = &quot;application/x-stuffit&quot;;\r\n      public static final String MIME_APPLICATION_X_SV4CPIO     = &quot;application/x-sv4cpio&quot;;\r\n      public static final String MIME_APPLICATION_X_SV4CRC    = &quot;application/x-sv4crc&quot;;\r\n      public static final String MIME_APPLICATION_X_TAR       = &quot;application/x-tar&quot;;\r\n      public static final String MIME_APPLICATION_X_RAR_COMPRESSED= &quot;application/x-rar-compressed&quot;;\r\n      public static final String MIME_APPLICATION_X_TCL       = &quot;application/x-tcl&quot;;\r\n      public static final String MIME_APPLICATION_X_TEX       = &quot;application/x-tex&quot;;\r\n      public static final String MIME_APPLICATION_X_TEXINFO   = &quot;application/x-texinfo&quot;;\r\n      public static final String MIME_APPLICATION_X_TROFF     = &quot;application/x-troff&quot;;\r\n      public static final String MIME_APPLICATION_X_TROFF_MAN   = &quot;application/x-troff-man&quot;;\r\n      public static final String MIME_APPLICATION_X_TROFF_ME    = &quot;application/x-troff-me&quot;;\r\n      public static final String MIME_APPLICATION_X_TROFF_MS    = &quot;application/x-troff-ms&quot;;\r\n      public static final String MIME_APPLICATION_X_USTAR     = &quot;application/x-ustar&quot;;\r\n      public static final String MIME_APPLICATION_X_WAIS_SOURCE = &quot;application/x-wais-source&quot;;\r\n      public static final String MIME_APPLICATION_VND_MOZZILLA_XUL_XML = &quot;application/vnd.mozilla.xul+xml&quot;;\r\n      public static final String MIME_APPLICATION_XHTML_XML     = &quot;application/xhtml+xml&quot;;\r\n      public static final String MIME_APPLICATION_XSLT_XML    = &quot;application/xslt+xml&quot;;\r\n      public static final String MIME_APPLICATION_XML       = &quot;application/xml&quot;;\r\n      public static final String MIME_APPLICATION_XML_DTD     = &quot;application/xml-dtd&quot;;\r\n      public static final String MIME_IMAGE_BMP         = &quot;image/bmp&quot;;\r\n      public static final String MIME_IMAGE_CGM         = &quot;image/cgm&quot;;\r\n      public static final String MIME_IMAGE_GIF         = &quot;image/gif&quot;;\r\n      public static final String MIME_IMAGE_IEF         = &quot;image/ief&quot;;\r\n      public static final String MIME_IMAGE_JPEG          = &quot;image/jpeg&quot;;\r\n      public static final String MIME_IMAGE_TIFF          = &quot;image/tiff&quot;;\r\n      public static final String MIME_IMAGE_PNG         = &quot;image/png&quot;;\r\n      public static final String MIME_IMAGE_SVG_XML       = &quot;image/svg+xml&quot;;\r\n      public static final String MIME_IMAGE_VND_DJVU        = &quot;image/vnd.djvu&quot;;\r\n      public static final String MIME_IMAGE_WAP_WBMP        = &quot;image/vnd.wap.wbmp&quot;;\r\n      public static final String MIME_IMAGE_X_CMU_RASTER      = &quot;image/x-cmu-raster&quot;;\r\n      public static final String MIME_IMAGE_X_ICON        = &quot;image/x-icon&quot;;\r\n      public static final String MIME_IMAGE_X_PORTABLE_ANYMAP   = &quot;image/x-portable-anymap&quot;;\r\n      public static final String MIME_IMAGE_X_PORTABLE_BITMAP   = &quot;image/x-portable-bitmap&quot;;\r\n      public static final String MIME_IMAGE_X_PORTABLE_GRAYMAP  = &quot;image/x-portable-graymap&quot;;\r\n      public static final String MIME_IMAGE_X_PORTABLE_PIXMAP   = &quot;image/x-portable-pixmap&quot;;\r\n      public static final String MIME_IMAGE_X_RGB         = &quot;image/x-rgb&quot;;\r\n      public static final String MIME_AUDIO_BASIC         = &quot;audio/basic&quot;;\r\n      public static final String MIME_AUDIO_MIDI          = &quot;audio/midi&quot;;\r\n      public static final String MIME_AUDIO_MPEG          = &quot;audio/mpeg&quot;;\r\n      public static final String MIME_AUDIO_X_AIFF        = &quot;audio/x-aiff&quot;;\r\n      public static final String MIME_AUDIO_X_MPEGURL       = &quot;audio/x-mpegurl&quot;;\r\n      public static final String MIME_AUDIO_X_PN_REALAUDIO    = &quot;audio/x-pn-realaudio&quot;;\r\n      public static final String MIME_AUDIO_X_WAV         = &quot;audio/x-wav&quot;;\r\n      public static final String MIME_CHEMICAL_X_PDB        = &quot;chemical/x-pdb&quot;;\r\n      public static final String MIME_CHEMICAL_X_XYZ        = &quot;chemical/x-xyz&quot;;\r\n      public static final String MIME_MODEL_IGES          = &quot;model/iges&quot;;\r\n      public static final String MIME_MODEL_MESH          = &quot;model/mesh&quot;;\r\n      public static final String MIME_MODEL_VRLM          = &quot;model/vrml&quot;;\r\n      public static final String MIME_TEXT_PLAIN          = &quot;text/plain&quot;;\r\n      public static final String MIME_TEXT_RICHTEXT       = &quot;text/richtext&quot;;\r\n      public static final String MIME_TEXT_RTF          = &quot;text/rtf&quot;;\r\n      public static final String MIME_TEXT_HTML         = &quot;text/html&quot;;\r\n      public static final String MIME_TEXT_CALENDAR       = &quot;text/calendar&quot;;\r\n      public static final String MIME_TEXT_CSS          = &quot;text/css&quot;;\r\n      public static final String MIME_TEXT_SGML         = &quot;text/sgml&quot;;\r\n      public static final String MIME_TEXT_TAB_SEPARATED_VALUES = &quot;text/tab-separated-values&quot;;\r\n      public static final String MIME_TEXT_VND_WAP_XML      = &quot;text/vnd.wap.wml&quot;;\r\n      public static final String MIME_TEXT_VND_WAP_WMLSCRIPT    = &quot;text/vnd.wap.wmlscript&quot;;\r\n      public static final String MIME_TEXT_X_SETEXT       = &quot;text/x-setext&quot;;\r\n      public static final String MIME_TEXT_X_COMPONENT      = &quot;text/x-component&quot;;\r\n      public static final String MIME_VIDEO_QUICKTIME       = &quot;video/quicktime&quot;;\r\n      public static final String MIME_VIDEO_MPEG          = &quot;video/mpeg&quot;;\r\n      public static final String MIME_VIDEO_VND_MPEGURL     = &quot;video/vnd.mpegurl&quot;;\r\n      public static final String MIME_VIDEO_X_MSVIDEO       = &quot;video/x-msvideo&quot;;\r\n      public static final String MIME_VIDEO_X_MS_WMV        = &quot;video/x-ms-wmv&quot;;\r\n      public static final String MIME_VIDEO_X_SGI_MOVIE     = &quot;video/x-sgi-movie&quot;;\r\n      public static final String MIME_X_CONFERENCE_X_COOLTALK   = &quot;x-conference/x-cooltalk&quot;;\r\n    \r\n      private static HashMap&lt;String, String&gt; mimeTypeMapping;\r\n    \r\n      static {\r\n        mimeTypeMapping = new HashMap&lt;String, String&gt;(200) {\r\n          private void put1(String key, String value) {\r\n            if (put(key, value) != null) {\r\n              throw new IllegalArgumentException(&quot;Duplicated extension: &quot; + key);\r\n            }\r\n          }\r\n          {\r\n          put1(&quot;xul&quot;, MIME_APPLICATION_VND_MOZZILLA_XUL_XML);\r\n          put1(&quot;json&quot;, MIME_APPLICATION_JSON);\r\n          put1(&quot;ice&quot;, MIME_X_CONFERENCE_X_COOLTALK);\r\n          put1(&quot;movie&quot;, MIME_VIDEO_X_SGI_MOVIE);\r\n          put1(&quot;avi&quot;, MIME_VIDEO_X_MSVIDEO);\r\n          put1(&quot;wmv&quot;, MIME_VIDEO_X_MS_WMV);\r\n          put1(&quot;m4u&quot;, MIME_VIDEO_VND_MPEGURL);\r\n          put1(&quot;mxu&quot;, MIME_VIDEO_VND_MPEGURL);\r\n          put1(&quot;htc&quot;, MIME_TEXT_X_COMPONENT);\r\n          put1(&quot;etx&quot;, MIME_TEXT_X_SETEXT);\r\n          put1(&quot;wmls&quot;, MIME_TEXT_VND_WAP_WMLSCRIPT);\r\n          put1(&quot;wml&quot;, MIME_TEXT_VND_WAP_XML);\r\n          put1(&quot;tsv&quot;, MIME_TEXT_TAB_SEPARATED_VALUES);\r\n          put1(&quot;sgm&quot;, MIME_TEXT_SGML);\r\n          put1(&quot;sgml&quot;, MIME_TEXT_SGML);\r\n          put1(&quot;css&quot;, MIME_TEXT_CSS);\r\n          put1(&quot;ifb&quot;, MIME_TEXT_CALENDAR);\r\n          put1(&quot;ics&quot;, MIME_TEXT_CALENDAR);\r\n          put1(&quot;wrl&quot;, MIME_MODEL_VRLM);\r\n          put1(&quot;vrlm&quot;, MIME_MODEL_VRLM);\r\n          put1(&quot;silo&quot;, MIME_MODEL_MESH);\r\n          put1(&quot;mesh&quot;, MIME_MODEL_MESH);\r\n          put1(&quot;msh&quot;, MIME_MODEL_MESH);\r\n          put1(&quot;iges&quot;, MIME_MODEL_IGES);\r\n          put1(&quot;igs&quot;, MIME_MODEL_IGES);\r\n          put1(&quot;rgb&quot;, MIME_IMAGE_X_RGB);\r\n          put1(&quot;ppm&quot;, MIME_IMAGE_X_PORTABLE_PIXMAP);\r\n          put1(&quot;pgm&quot;, MIME_IMAGE_X_PORTABLE_GRAYMAP);\r\n          put1(&quot;pbm&quot;, MIME_IMAGE_X_PORTABLE_BITMAP);\r\n          put1(&quot;pnm&quot;, MIME_IMAGE_X_PORTABLE_ANYMAP);\r\n          put1(&quot;ico&quot;, MIME_IMAGE_X_ICON);\r\n          put1(&quot;ras&quot;, MIME_IMAGE_X_CMU_RASTER);\r\n          put1(&quot;wbmp&quot;, MIME_IMAGE_WAP_WBMP);\r\n          put1(&quot;djv&quot;, MIME_IMAGE_VND_DJVU);\r\n          put1(&quot;djvu&quot;, MIME_IMAGE_VND_DJVU);\r\n          put1(&quot;svg&quot;, MIME_IMAGE_SVG_XML);\r\n          put1(&quot;ief&quot;, MIME_IMAGE_IEF);\r\n          put1(&quot;cgm&quot;, MIME_IMAGE_CGM);\r\n          put1(&quot;bmp&quot;, MIME_IMAGE_BMP);\r\n          put1(&quot;xyz&quot;, MIME_CHEMICAL_X_XYZ);\r\n          put1(&quot;pdb&quot;, MIME_CHEMICAL_X_PDB);\r\n          put1(&quot;ra&quot;, MIME_AUDIO_X_PN_REALAUDIO);\r\n          put1(&quot;ram&quot;, MIME_AUDIO_X_PN_REALAUDIO);\r\n          put1(&quot;m3u&quot;, MIME_AUDIO_X_MPEGURL);\r\n          put1(&quot;aifc&quot;, MIME_AUDIO_X_AIFF);\r\n          put1(&quot;aif&quot;, MIME_AUDIO_X_AIFF);\r\n          put1(&quot;aiff&quot;, MIME_AUDIO_X_AIFF);\r\n          put1(&quot;mp3&quot;, MIME_AUDIO_MPEG);\r\n          put1(&quot;mp2&quot;, MIME_AUDIO_MPEG);\r\n          put1(&quot;mp1&quot;, MIME_AUDIO_MPEG);\r\n          put1(&quot;mpga&quot;, MIME_AUDIO_MPEG);\r\n          put1(&quot;kar&quot;, MIME_AUDIO_MIDI);\r\n          put1(&quot;mid&quot;, MIME_AUDIO_MIDI);\r\n          put1(&quot;midi&quot;, MIME_AUDIO_MIDI);\r\n          put1(&quot;dtd&quot;, MIME_APPLICATION_XML_DTD);\r\n          put1(&quot;xsl&quot;, MIME_APPLICATION_XML);\r\n          put1(&quot;xml&quot;, MIME_APPLICATION_XML);\r\n          put1(&quot;xslt&quot;, MIME_APPLICATION_XSLT_XML);\r\n          put1(&quot;xht&quot;, MIME_APPLICATION_XHTML_XML);\r\n          put1(&quot;xhtml&quot;, MIME_APPLICATION_XHTML_XML);\r\n          put1(&quot;src&quot;, MIME_APPLICATION_X_WAIS_SOURCE);\r\n          put1(&quot;ustar&quot;, MIME_APPLICATION_X_USTAR);\r\n          put1(&quot;ms&quot;, MIME_APPLICATION_X_TROFF_MS);\r\n          put1(&quot;me&quot;, MIME_APPLICATION_X_TROFF_ME);\r\n          put1(&quot;man&quot;, MIME_APPLICATION_X_TROFF_MAN);\r\n          put1(&quot;roff&quot;, MIME_APPLICATION_X_TROFF);\r\n          put1(&quot;tr&quot;, MIME_APPLICATION_X_TROFF);\r\n          put1(&quot;t&quot;, MIME_APPLICATION_X_TROFF);\r\n          put1(&quot;texi&quot;, MIME_APPLICATION_X_TEXINFO);\r\n          put1(&quot;texinfo&quot;, MIME_APPLICATION_X_TEXINFO);\r\n          put1(&quot;tex&quot;, MIME_APPLICATION_X_TEX);\r\n          put1(&quot;tcl&quot;, MIME_APPLICATION_X_TCL);\r\n          put1(&quot;sv4crc&quot;, MIME_APPLICATION_X_SV4CRC);\r\n          put1(&quot;sv4cpio&quot;, MIME_APPLICATION_X_SV4CPIO);\r\n          put1(&quot;sit&quot;, MIME_APPLICATION_X_STUFFIT);\r\n          put1(&quot;swf&quot;, MIME_APPLICATION_X_SHOCKWAVE_FLASH);\r\n          put1(&quot;shar&quot;, MIME_APPLICATION_X_SHAR);\r\n          put1(&quot;sh&quot;, MIME_APPLICATION_X_SH);\r\n          put1(&quot;cdf&quot;, MIME_APPLICATION_X_NETCDF);\r\n          put1(&quot;nc&quot;, MIME_APPLICATION_X_NETCDF);\r\n          put1(&quot;latex&quot;, MIME_APPLICATION_X_LATEX);\r\n          put1(&quot;skm&quot;, MIME_APPLICATION_X_KOAN);\r\n          put1(&quot;skt&quot;, MIME_APPLICATION_X_KOAN);\r\n          put1(&quot;skd&quot;, MIME_APPLICATION_X_KOAN);\r\n          put1(&quot;skp&quot;, MIME_APPLICATION_X_KOAN);\r\n          put1(&quot;js&quot;, MIME_APPLICATION_X_JAVASCRIPT);\r\n          put1(&quot;hdf&quot;, MIME_APPLICATION_X_HDF);\r\n          put1(&quot;gtar&quot;, MIME_APPLICATION_X_GTAR);\r\n          put1(&quot;spl&quot;, MIME_APPLICATION_X_FUTURESPLASH);\r\n          put1(&quot;dvi&quot;, MIME_APPLICATION_X_DVI);\r\n          put1(&quot;dxr&quot;, MIME_APPLICATION_X_DIRECTOR);\r\n          put1(&quot;dir&quot;, MIME_APPLICATION_X_DIRECTOR);\r\n          put1(&quot;dcr&quot;, MIME_APPLICATION_X_DIRECTOR);\r\n          put1(&quot;csh&quot;, MIME_APPLICATION_X_CSH);\r\n          put1(&quot;cpio&quot;, MIME_APPLICATION_X_CPIO);\r\n          put1(&quot;pgn&quot;, MIME_APPLICATION_X_CHESS_PGN);\r\n          put1(&quot;vcd&quot;, MIME_APPLICATION_X_CDLINK);\r\n          put1(&quot;bcpio&quot;, MIME_APPLICATION_X_BCPIO);\r\n          put1(&quot;rm&quot;, MIME_APPLICATION_VND_RNREALMEDIA);\r\n          put1(&quot;ppt&quot;, MIME_APPLICATION_VND_MSPOWERPOINT);\r\n          put1(&quot;mif&quot;, MIME_APPLICATION_VND_MIF);\r\n          put1(&quot;grxml&quot;, MIME_APPLICATION_SRGS_XML);\r\n          put1(&quot;gram&quot;, MIME_APPLICATION_SRGS);\r\n          put1(&quot;smil&quot;, MIME_APPLICATION_RDF_SMIL);\r\n          put1(&quot;smi&quot;, MIME_APPLICATION_RDF_SMIL);\r\n          put1(&quot;rdf&quot;, MIME_APPLICATION_RDF_XML);\r\n          put1(&quot;ogg&quot;, MIME_APPLICATION_X_OGG);\r\n          put1(&quot;oda&quot;, MIME_APPLICATION_ODA);\r\n          put1(&quot;dmg&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;lzh&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;so&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;lha&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;dms&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;bin&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;mathml&quot;, MIME_APPLICATION_MATHML_XML);\r\n          put1(&quot;cpt&quot;, MIME_APPLICATION_MAC_COMPACTPRO);\r\n          put1(&quot;hqx&quot;, MIME_APPLICATION_MAC_BINHEX40);\r\n          put1(&quot;jnlp&quot;, MIME_APPLICATION_JNLP);\r\n          put1(&quot;ez&quot;, MIME_APPLICATION_ANDREW_INSET);\r\n          put1(&quot;txt&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;ini&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;c&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;h&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;cpp&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;cxx&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;cc&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;chh&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;java&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;csv&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;bat&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;cmd&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;asc&quot;, MIME_TEXT_PLAIN);\r\n          put1(&quot;rtf&quot;, MIME_TEXT_RTF);\r\n          put1(&quot;rtx&quot;, MIME_TEXT_RICHTEXT);\r\n          put1(&quot;html&quot;, MIME_TEXT_HTML);\r\n          put1(&quot;htm&quot;, MIME_TEXT_HTML);\r\n          put1(&quot;zip&quot;, MIME_APPLICATION_ZIP);\r\n          put1(&quot;rar&quot;, MIME_APPLICATION_X_RAR_COMPRESSED);\r\n          put1(&quot;gzip&quot;, MIME_APPLICATION_X_GZIP);\r\n          put1(&quot;gz&quot;, MIME_APPLICATION_X_GZIP);\r\n          put1(&quot;tgz&quot;, MIME_APPLICATION_TGZ);\r\n          put1(&quot;tar&quot;, MIME_APPLICATION_X_TAR);\r\n          put1(&quot;gif&quot;, MIME_IMAGE_GIF);\r\n          put1(&quot;jpeg&quot;, MIME_IMAGE_JPEG);\r\n          put1(&quot;jpg&quot;, MIME_IMAGE_JPEG);\r\n          put1(&quot;jpe&quot;, MIME_IMAGE_JPEG);\r\n          put1(&quot;tiff&quot;, MIME_IMAGE_TIFF);\r\n          put1(&quot;tif&quot;, MIME_IMAGE_TIFF);\r\n          put1(&quot;png&quot;, MIME_IMAGE_PNG);\r\n          put1(&quot;au&quot;, MIME_AUDIO_BASIC);\r\n          put1(&quot;snd&quot;, MIME_AUDIO_BASIC);\r\n          put1(&quot;wav&quot;, MIME_AUDIO_X_WAV);\r\n          put1(&quot;mov&quot;, MIME_VIDEO_QUICKTIME);\r\n          put1(&quot;qt&quot;, MIME_VIDEO_QUICKTIME);\r\n          put1(&quot;mpeg&quot;, MIME_VIDEO_MPEG);\r\n          put1(&quot;mpg&quot;, MIME_VIDEO_MPEG);\r\n          put1(&quot;mpe&quot;, MIME_VIDEO_MPEG);\r\n          put1(&quot;abs&quot;, MIME_VIDEO_MPEG);\r\n          put1(&quot;doc&quot;, MIME_APPLICATION_MSWORD);\r\n          put1(&quot;xls&quot;, MIME_APPLICATION_VND_MSEXCEL);\r\n          put1(&quot;eps&quot;, MIME_APPLICATION_POSTSCRIPT);\r\n          put1(&quot;ai&quot;, MIME_APPLICATION_POSTSCRIPT);\r\n          put1(&quot;ps&quot;, MIME_APPLICATION_POSTSCRIPT);\r\n          put1(&quot;pdf&quot;, MIME_APPLICATION_PDF);\r\n          put1(&quot;exe&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;dll&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;class&quot;, MIME_APPLICATION_OCTET_STREAM);\r\n          put1(&quot;jar&quot;, MIME_APPLICATION_JAVA_ARCHIVE);\r\n        }};\r\n          }\r\n    public static void main(String[] args) {\r\n        System.out.println(mimeTypeMapping.size());\r\n      }\r\n    \r\n      /**\r\n       * Registers MIME type for provided extension. Existing extension type will be overriden.\r\n       */\r\n      public static void registerMimeType(String ext, String mimeType) {\r\n        mimeTypeMapping.put(ext, mimeType);\r\n      }\r\n    \r\n      /**\r\n       * Returns the corresponding MIME type to the given extension.\r\n       * If no MIME type was found it returns &#39;application/octet-stream&#39; type.\r\n       */\r\n      public static String getMimeType(String ext) {\r\n        String mimeType = lookupMimeType(ext);\r\n        if (mimeType == null) {\r\n          mimeType = MIME_APPLICATION_OCTET_STREAM;\r\n        }\r\n        return mimeType;\r\n      }\r\n    \r\n      /**\r\n       * Simply returns MIME type or &lt;code&gt;null&lt;/code&gt; if no type is found.\r\n       */\r\n      public static String lookupMimeType(String ext) {\r\n        return mimeTypeMapping.get(ext.toLowerCase());\r\n      }\r\n    }\r\n\r\nThat way you could obtain the extension from the content-type...","title":"How to get the real extension type of Multipart file","body":"<p>You can map the mimetype to a existing extension by making a map...</p>\n\n<p>You can use apache.mime.types for create one like it's done here:</p>\n\n<p><a href=\"http://www.java2s.com/Code/Java/Network-Protocol/MapfileextensionstoMIMEtypesBasedontheApachemimetypesfile.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/Network-Protocol/MapfileextensionstoMIMEtypesBasedontheApachemimetypesfile.htm</a></p>\n\n<pre><code>public class MimeTypes {\n\n  public static final String MIME_APPLICATION_ANDREW_INSET  = \"application/andrew-inset\";\n  public static final String MIME_APPLICATION_JSON      = \"application/json\";\n  public static final String MIME_APPLICATION_ZIP       = \"application/zip\";\n  public static final String MIME_APPLICATION_X_GZIP      = \"application/x-gzip\";\n  public static final String MIME_APPLICATION_TGZ       = \"application/tgz\";\n  public static final String MIME_APPLICATION_MSWORD      = \"application/msword\";\n  public static final String MIME_APPLICATION_POSTSCRIPT    = \"application/postscript\";\n  public static final String MIME_APPLICATION_PDF       = \"application/pdf\";\n  public static final String MIME_APPLICATION_JNLP      = \"application/jnlp\";\n  public static final String MIME_APPLICATION_MAC_BINHEX40  = \"application/mac-binhex40\";\n  public static final String MIME_APPLICATION_MAC_COMPACTPRO  = \"application/mac-compactpro\";\n  public static final String MIME_APPLICATION_MATHML_XML    = \"application/mathml+xml\";\n  public static final String MIME_APPLICATION_OCTET_STREAM  = \"application/octet-stream\";\n  public static final String MIME_APPLICATION_ODA       = \"application/oda\";\n  public static final String MIME_APPLICATION_RDF_XML     = \"application/rdf+xml\";\n  public static final String MIME_APPLICATION_JAVA_ARCHIVE  = \"application/java-archive\";\n  public static final String MIME_APPLICATION_RDF_SMIL    = \"application/smil\";\n  public static final String MIME_APPLICATION_SRGS      = \"application/srgs\";\n  public static final String MIME_APPLICATION_SRGS_XML    = \"application/srgs+xml\";\n  public static final String MIME_APPLICATION_VND_MIF     = \"application/vnd.mif\";\n  public static final String MIME_APPLICATION_VND_MSEXCEL   = \"application/vnd.ms-excel\";\n  public static final String MIME_APPLICATION_VND_MSPOWERPOINT= \"application/vnd.ms-powerpoint\";\n  public static final String MIME_APPLICATION_VND_RNREALMEDIA = \"application/vnd.rn-realmedia\";\n  public static final String MIME_APPLICATION_X_BCPIO     = \"application/x-bcpio\";\n  public static final String MIME_APPLICATION_X_CDLINK    = \"application/x-cdlink\";\n  public static final String MIME_APPLICATION_X_CHESS_PGN   = \"application/x-chess-pgn\";\n  public static final String MIME_APPLICATION_X_CPIO      = \"application/x-cpio\";\n  public static final String MIME_APPLICATION_X_CSH     = \"application/x-csh\";\n  public static final String MIME_APPLICATION_X_DIRECTOR    = \"application/x-director\";\n  public static final String MIME_APPLICATION_X_DVI     = \"application/x-dvi\";\n  public static final String MIME_APPLICATION_X_FUTURESPLASH  = \"application/x-futuresplash\";\n  public static final String MIME_APPLICATION_X_GTAR      = \"application/x-gtar\";\n  public static final String MIME_APPLICATION_X_HDF     = \"application/x-hdf\";\n  public static final String MIME_APPLICATION_X_JAVASCRIPT  = \"application/x-javascript\";\n  public static final String MIME_APPLICATION_X_KOAN      = \"application/x-koan\";\n  public static final String MIME_APPLICATION_X_LATEX     = \"application/x-latex\";\n  public static final String MIME_APPLICATION_X_NETCDF    = \"application/x-netcdf\";\n  public static final String MIME_APPLICATION_X_OGG     = \"application/x-ogg\";\n  public static final String MIME_APPLICATION_X_SH      = \"application/x-sh\";\n  public static final String MIME_APPLICATION_X_SHAR      = \"application/x-shar\";\n  public static final String MIME_APPLICATION_X_SHOCKWAVE_FLASH = \"application/x-shockwave-flash\";\n  public static final String MIME_APPLICATION_X_STUFFIT     = \"application/x-stuffit\";\n  public static final String MIME_APPLICATION_X_SV4CPIO     = \"application/x-sv4cpio\";\n  public static final String MIME_APPLICATION_X_SV4CRC    = \"application/x-sv4crc\";\n  public static final String MIME_APPLICATION_X_TAR       = \"application/x-tar\";\n  public static final String MIME_APPLICATION_X_RAR_COMPRESSED= \"application/x-rar-compressed\";\n  public static final String MIME_APPLICATION_X_TCL       = \"application/x-tcl\";\n  public static final String MIME_APPLICATION_X_TEX       = \"application/x-tex\";\n  public static final String MIME_APPLICATION_X_TEXINFO   = \"application/x-texinfo\";\n  public static final String MIME_APPLICATION_X_TROFF     = \"application/x-troff\";\n  public static final String MIME_APPLICATION_X_TROFF_MAN   = \"application/x-troff-man\";\n  public static final String MIME_APPLICATION_X_TROFF_ME    = \"application/x-troff-me\";\n  public static final String MIME_APPLICATION_X_TROFF_MS    = \"application/x-troff-ms\";\n  public static final String MIME_APPLICATION_X_USTAR     = \"application/x-ustar\";\n  public static final String MIME_APPLICATION_X_WAIS_SOURCE = \"application/x-wais-source\";\n  public static final String MIME_APPLICATION_VND_MOZZILLA_XUL_XML = \"application/vnd.mozilla.xul+xml\";\n  public static final String MIME_APPLICATION_XHTML_XML     = \"application/xhtml+xml\";\n  public static final String MIME_APPLICATION_XSLT_XML    = \"application/xslt+xml\";\n  public static final String MIME_APPLICATION_XML       = \"application/xml\";\n  public static final String MIME_APPLICATION_XML_DTD     = \"application/xml-dtd\";\n  public static final String MIME_IMAGE_BMP         = \"image/bmp\";\n  public static final String MIME_IMAGE_CGM         = \"image/cgm\";\n  public static final String MIME_IMAGE_GIF         = \"image/gif\";\n  public static final String MIME_IMAGE_IEF         = \"image/ief\";\n  public static final String MIME_IMAGE_JPEG          = \"image/jpeg\";\n  public static final String MIME_IMAGE_TIFF          = \"image/tiff\";\n  public static final String MIME_IMAGE_PNG         = \"image/png\";\n  public static final String MIME_IMAGE_SVG_XML       = \"image/svg+xml\";\n  public static final String MIME_IMAGE_VND_DJVU        = \"image/vnd.djvu\";\n  public static final String MIME_IMAGE_WAP_WBMP        = \"image/vnd.wap.wbmp\";\n  public static final String MIME_IMAGE_X_CMU_RASTER      = \"image/x-cmu-raster\";\n  public static final String MIME_IMAGE_X_ICON        = \"image/x-icon\";\n  public static final String MIME_IMAGE_X_PORTABLE_ANYMAP   = \"image/x-portable-anymap\";\n  public static final String MIME_IMAGE_X_PORTABLE_BITMAP   = \"image/x-portable-bitmap\";\n  public static final String MIME_IMAGE_X_PORTABLE_GRAYMAP  = \"image/x-portable-graymap\";\n  public static final String MIME_IMAGE_X_PORTABLE_PIXMAP   = \"image/x-portable-pixmap\";\n  public static final String MIME_IMAGE_X_RGB         = \"image/x-rgb\";\n  public static final String MIME_AUDIO_BASIC         = \"audio/basic\";\n  public static final String MIME_AUDIO_MIDI          = \"audio/midi\";\n  public static final String MIME_AUDIO_MPEG          = \"audio/mpeg\";\n  public static final String MIME_AUDIO_X_AIFF        = \"audio/x-aiff\";\n  public static final String MIME_AUDIO_X_MPEGURL       = \"audio/x-mpegurl\";\n  public static final String MIME_AUDIO_X_PN_REALAUDIO    = \"audio/x-pn-realaudio\";\n  public static final String MIME_AUDIO_X_WAV         = \"audio/x-wav\";\n  public static final String MIME_CHEMICAL_X_PDB        = \"chemical/x-pdb\";\n  public static final String MIME_CHEMICAL_X_XYZ        = \"chemical/x-xyz\";\n  public static final String MIME_MODEL_IGES          = \"model/iges\";\n  public static final String MIME_MODEL_MESH          = \"model/mesh\";\n  public static final String MIME_MODEL_VRLM          = \"model/vrml\";\n  public static final String MIME_TEXT_PLAIN          = \"text/plain\";\n  public static final String MIME_TEXT_RICHTEXT       = \"text/richtext\";\n  public static final String MIME_TEXT_RTF          = \"text/rtf\";\n  public static final String MIME_TEXT_HTML         = \"text/html\";\n  public static final String MIME_TEXT_CALENDAR       = \"text/calendar\";\n  public static final String MIME_TEXT_CSS          = \"text/css\";\n  public static final String MIME_TEXT_SGML         = \"text/sgml\";\n  public static final String MIME_TEXT_TAB_SEPARATED_VALUES = \"text/tab-separated-values\";\n  public static final String MIME_TEXT_VND_WAP_XML      = \"text/vnd.wap.wml\";\n  public static final String MIME_TEXT_VND_WAP_WMLSCRIPT    = \"text/vnd.wap.wmlscript\";\n  public static final String MIME_TEXT_X_SETEXT       = \"text/x-setext\";\n  public static final String MIME_TEXT_X_COMPONENT      = \"text/x-component\";\n  public static final String MIME_VIDEO_QUICKTIME       = \"video/quicktime\";\n  public static final String MIME_VIDEO_MPEG          = \"video/mpeg\";\n  public static final String MIME_VIDEO_VND_MPEGURL     = \"video/vnd.mpegurl\";\n  public static final String MIME_VIDEO_X_MSVIDEO       = \"video/x-msvideo\";\n  public static final String MIME_VIDEO_X_MS_WMV        = \"video/x-ms-wmv\";\n  public static final String MIME_VIDEO_X_SGI_MOVIE     = \"video/x-sgi-movie\";\n  public static final String MIME_X_CONFERENCE_X_COOLTALK   = \"x-conference/x-cooltalk\";\n\n  private static HashMap&lt;String, String&gt; mimeTypeMapping;\n\n  static {\n    mimeTypeMapping = new HashMap&lt;String, String&gt;(200) {\n      private void put1(String key, String value) {\n        if (put(key, value) != null) {\n          throw new IllegalArgumentException(\"Duplicated extension: \" + key);\n        }\n      }\n      {\n      put1(\"xul\", MIME_APPLICATION_VND_MOZZILLA_XUL_XML);\n      put1(\"json\", MIME_APPLICATION_JSON);\n      put1(\"ice\", MIME_X_CONFERENCE_X_COOLTALK);\n      put1(\"movie\", MIME_VIDEO_X_SGI_MOVIE);\n      put1(\"avi\", MIME_VIDEO_X_MSVIDEO);\n      put1(\"wmv\", MIME_VIDEO_X_MS_WMV);\n      put1(\"m4u\", MIME_VIDEO_VND_MPEGURL);\n      put1(\"mxu\", MIME_VIDEO_VND_MPEGURL);\n      put1(\"htc\", MIME_TEXT_X_COMPONENT);\n      put1(\"etx\", MIME_TEXT_X_SETEXT);\n      put1(\"wmls\", MIME_TEXT_VND_WAP_WMLSCRIPT);\n      put1(\"wml\", MIME_TEXT_VND_WAP_XML);\n      put1(\"tsv\", MIME_TEXT_TAB_SEPARATED_VALUES);\n      put1(\"sgm\", MIME_TEXT_SGML);\n      put1(\"sgml\", MIME_TEXT_SGML);\n      put1(\"css\", MIME_TEXT_CSS);\n      put1(\"ifb\", MIME_TEXT_CALENDAR);\n      put1(\"ics\", MIME_TEXT_CALENDAR);\n      put1(\"wrl\", MIME_MODEL_VRLM);\n      put1(\"vrlm\", MIME_MODEL_VRLM);\n      put1(\"silo\", MIME_MODEL_MESH);\n      put1(\"mesh\", MIME_MODEL_MESH);\n      put1(\"msh\", MIME_MODEL_MESH);\n      put1(\"iges\", MIME_MODEL_IGES);\n      put1(\"igs\", MIME_MODEL_IGES);\n      put1(\"rgb\", MIME_IMAGE_X_RGB);\n      put1(\"ppm\", MIME_IMAGE_X_PORTABLE_PIXMAP);\n      put1(\"pgm\", MIME_IMAGE_X_PORTABLE_GRAYMAP);\n      put1(\"pbm\", MIME_IMAGE_X_PORTABLE_BITMAP);\n      put1(\"pnm\", MIME_IMAGE_X_PORTABLE_ANYMAP);\n      put1(\"ico\", MIME_IMAGE_X_ICON);\n      put1(\"ras\", MIME_IMAGE_X_CMU_RASTER);\n      put1(\"wbmp\", MIME_IMAGE_WAP_WBMP);\n      put1(\"djv\", MIME_IMAGE_VND_DJVU);\n      put1(\"djvu\", MIME_IMAGE_VND_DJVU);\n      put1(\"svg\", MIME_IMAGE_SVG_XML);\n      put1(\"ief\", MIME_IMAGE_IEF);\n      put1(\"cgm\", MIME_IMAGE_CGM);\n      put1(\"bmp\", MIME_IMAGE_BMP);\n      put1(\"xyz\", MIME_CHEMICAL_X_XYZ);\n      put1(\"pdb\", MIME_CHEMICAL_X_PDB);\n      put1(\"ra\", MIME_AUDIO_X_PN_REALAUDIO);\n      put1(\"ram\", MIME_AUDIO_X_PN_REALAUDIO);\n      put1(\"m3u\", MIME_AUDIO_X_MPEGURL);\n      put1(\"aifc\", MIME_AUDIO_X_AIFF);\n      put1(\"aif\", MIME_AUDIO_X_AIFF);\n      put1(\"aiff\", MIME_AUDIO_X_AIFF);\n      put1(\"mp3\", MIME_AUDIO_MPEG);\n      put1(\"mp2\", MIME_AUDIO_MPEG);\n      put1(\"mp1\", MIME_AUDIO_MPEG);\n      put1(\"mpga\", MIME_AUDIO_MPEG);\n      put1(\"kar\", MIME_AUDIO_MIDI);\n      put1(\"mid\", MIME_AUDIO_MIDI);\n      put1(\"midi\", MIME_AUDIO_MIDI);\n      put1(\"dtd\", MIME_APPLICATION_XML_DTD);\n      put1(\"xsl\", MIME_APPLICATION_XML);\n      put1(\"xml\", MIME_APPLICATION_XML);\n      put1(\"xslt\", MIME_APPLICATION_XSLT_XML);\n      put1(\"xht\", MIME_APPLICATION_XHTML_XML);\n      put1(\"xhtml\", MIME_APPLICATION_XHTML_XML);\n      put1(\"src\", MIME_APPLICATION_X_WAIS_SOURCE);\n      put1(\"ustar\", MIME_APPLICATION_X_USTAR);\n      put1(\"ms\", MIME_APPLICATION_X_TROFF_MS);\n      put1(\"me\", MIME_APPLICATION_X_TROFF_ME);\n      put1(\"man\", MIME_APPLICATION_X_TROFF_MAN);\n      put1(\"roff\", MIME_APPLICATION_X_TROFF);\n      put1(\"tr\", MIME_APPLICATION_X_TROFF);\n      put1(\"t\", MIME_APPLICATION_X_TROFF);\n      put1(\"texi\", MIME_APPLICATION_X_TEXINFO);\n      put1(\"texinfo\", MIME_APPLICATION_X_TEXINFO);\n      put1(\"tex\", MIME_APPLICATION_X_TEX);\n      put1(\"tcl\", MIME_APPLICATION_X_TCL);\n      put1(\"sv4crc\", MIME_APPLICATION_X_SV4CRC);\n      put1(\"sv4cpio\", MIME_APPLICATION_X_SV4CPIO);\n      put1(\"sit\", MIME_APPLICATION_X_STUFFIT);\n      put1(\"swf\", MIME_APPLICATION_X_SHOCKWAVE_FLASH);\n      put1(\"shar\", MIME_APPLICATION_X_SHAR);\n      put1(\"sh\", MIME_APPLICATION_X_SH);\n      put1(\"cdf\", MIME_APPLICATION_X_NETCDF);\n      put1(\"nc\", MIME_APPLICATION_X_NETCDF);\n      put1(\"latex\", MIME_APPLICATION_X_LATEX);\n      put1(\"skm\", MIME_APPLICATION_X_KOAN);\n      put1(\"skt\", MIME_APPLICATION_X_KOAN);\n      put1(\"skd\", MIME_APPLICATION_X_KOAN);\n      put1(\"skp\", MIME_APPLICATION_X_KOAN);\n      put1(\"js\", MIME_APPLICATION_X_JAVASCRIPT);\n      put1(\"hdf\", MIME_APPLICATION_X_HDF);\n      put1(\"gtar\", MIME_APPLICATION_X_GTAR);\n      put1(\"spl\", MIME_APPLICATION_X_FUTURESPLASH);\n      put1(\"dvi\", MIME_APPLICATION_X_DVI);\n      put1(\"dxr\", MIME_APPLICATION_X_DIRECTOR);\n      put1(\"dir\", MIME_APPLICATION_X_DIRECTOR);\n      put1(\"dcr\", MIME_APPLICATION_X_DIRECTOR);\n      put1(\"csh\", MIME_APPLICATION_X_CSH);\n      put1(\"cpio\", MIME_APPLICATION_X_CPIO);\n      put1(\"pgn\", MIME_APPLICATION_X_CHESS_PGN);\n      put1(\"vcd\", MIME_APPLICATION_X_CDLINK);\n      put1(\"bcpio\", MIME_APPLICATION_X_BCPIO);\n      put1(\"rm\", MIME_APPLICATION_VND_RNREALMEDIA);\n      put1(\"ppt\", MIME_APPLICATION_VND_MSPOWERPOINT);\n      put1(\"mif\", MIME_APPLICATION_VND_MIF);\n      put1(\"grxml\", MIME_APPLICATION_SRGS_XML);\n      put1(\"gram\", MIME_APPLICATION_SRGS);\n      put1(\"smil\", MIME_APPLICATION_RDF_SMIL);\n      put1(\"smi\", MIME_APPLICATION_RDF_SMIL);\n      put1(\"rdf\", MIME_APPLICATION_RDF_XML);\n      put1(\"ogg\", MIME_APPLICATION_X_OGG);\n      put1(\"oda\", MIME_APPLICATION_ODA);\n      put1(\"dmg\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"lzh\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"so\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"lha\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"dms\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"bin\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"mathml\", MIME_APPLICATION_MATHML_XML);\n      put1(\"cpt\", MIME_APPLICATION_MAC_COMPACTPRO);\n      put1(\"hqx\", MIME_APPLICATION_MAC_BINHEX40);\n      put1(\"jnlp\", MIME_APPLICATION_JNLP);\n      put1(\"ez\", MIME_APPLICATION_ANDREW_INSET);\n      put1(\"txt\", MIME_TEXT_PLAIN);\n      put1(\"ini\", MIME_TEXT_PLAIN);\n      put1(\"c\", MIME_TEXT_PLAIN);\n      put1(\"h\", MIME_TEXT_PLAIN);\n      put1(\"cpp\", MIME_TEXT_PLAIN);\n      put1(\"cxx\", MIME_TEXT_PLAIN);\n      put1(\"cc\", MIME_TEXT_PLAIN);\n      put1(\"chh\", MIME_TEXT_PLAIN);\n      put1(\"java\", MIME_TEXT_PLAIN);\n      put1(\"csv\", MIME_TEXT_PLAIN);\n      put1(\"bat\", MIME_TEXT_PLAIN);\n      put1(\"cmd\", MIME_TEXT_PLAIN);\n      put1(\"asc\", MIME_TEXT_PLAIN);\n      put1(\"rtf\", MIME_TEXT_RTF);\n      put1(\"rtx\", MIME_TEXT_RICHTEXT);\n      put1(\"html\", MIME_TEXT_HTML);\n      put1(\"htm\", MIME_TEXT_HTML);\n      put1(\"zip\", MIME_APPLICATION_ZIP);\n      put1(\"rar\", MIME_APPLICATION_X_RAR_COMPRESSED);\n      put1(\"gzip\", MIME_APPLICATION_X_GZIP);\n      put1(\"gz\", MIME_APPLICATION_X_GZIP);\n      put1(\"tgz\", MIME_APPLICATION_TGZ);\n      put1(\"tar\", MIME_APPLICATION_X_TAR);\n      put1(\"gif\", MIME_IMAGE_GIF);\n      put1(\"jpeg\", MIME_IMAGE_JPEG);\n      put1(\"jpg\", MIME_IMAGE_JPEG);\n      put1(\"jpe\", MIME_IMAGE_JPEG);\n      put1(\"tiff\", MIME_IMAGE_TIFF);\n      put1(\"tif\", MIME_IMAGE_TIFF);\n      put1(\"png\", MIME_IMAGE_PNG);\n      put1(\"au\", MIME_AUDIO_BASIC);\n      put1(\"snd\", MIME_AUDIO_BASIC);\n      put1(\"wav\", MIME_AUDIO_X_WAV);\n      put1(\"mov\", MIME_VIDEO_QUICKTIME);\n      put1(\"qt\", MIME_VIDEO_QUICKTIME);\n      put1(\"mpeg\", MIME_VIDEO_MPEG);\n      put1(\"mpg\", MIME_VIDEO_MPEG);\n      put1(\"mpe\", MIME_VIDEO_MPEG);\n      put1(\"abs\", MIME_VIDEO_MPEG);\n      put1(\"doc\", MIME_APPLICATION_MSWORD);\n      put1(\"xls\", MIME_APPLICATION_VND_MSEXCEL);\n      put1(\"eps\", MIME_APPLICATION_POSTSCRIPT);\n      put1(\"ai\", MIME_APPLICATION_POSTSCRIPT);\n      put1(\"ps\", MIME_APPLICATION_POSTSCRIPT);\n      put1(\"pdf\", MIME_APPLICATION_PDF);\n      put1(\"exe\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"dll\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"class\", MIME_APPLICATION_OCTET_STREAM);\n      put1(\"jar\", MIME_APPLICATION_JAVA_ARCHIVE);\n    }};\n      }\npublic static void main(String[] args) {\n    System.out.println(mimeTypeMapping.size());\n  }\n\n  /**\n   * Registers MIME type for provided extension. Existing extension type will be overriden.\n   */\n  public static void registerMimeType(String ext, String mimeType) {\n    mimeTypeMapping.put(ext, mimeType);\n  }\n\n  /**\n   * Returns the corresponding MIME type to the given extension.\n   * If no MIME type was found it returns 'application/octet-stream' type.\n   */\n  public static String getMimeType(String ext) {\n    String mimeType = lookupMimeType(ext);\n    if (mimeType == null) {\n      mimeType = MIME_APPLICATION_OCTET_STREAM;\n    }\n    return mimeType;\n  }\n\n  /**\n   * Simply returns MIME type or &lt;code&gt;null&lt;/code&gt; if no type is found.\n   */\n  public static String lookupMimeType(String ext) {\n    return mimeTypeMapping.get(ext.toLowerCase());\n  }\n}\n</code></pre>\n\n<p>That way you could obtain the extension from the content-type...</p>\n"},{"comments":[{"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"score":1,"creation_date":1445321011,"post_id":33228969,"comment_id":54262296,"body_markdown":"But what if someone uploads a executable file and names it some doc file, then this will not work I think. Or if someone upload a file with 2 extension then also it will not work","body":"But what if someone uploads a executable file and names it some doc file, then this will not work I think. Or if someone upload a file with 2 extension then also it will not work"},{"owner":{"account_id":2028158,"reputation":2131,"user_id":1812606,"display_name":"Nirmal Dhara"},"score":10,"creation_date":1494944110,"post_id":33228969,"comment_id":75036261,"body_markdown":"This solution will not work if you have file name with dot ,  like - &quot;Screen Shot 2017-03-03 at 6.56.04 PM.png&quot;.","body":"This solution will not work if you have file name with dot ,  like - &quot;Screen Shot 2017-03-03 at 6.56.04 PM.png&quot;."},{"owner":{"account_id":4645477,"reputation":170,"user_id":5148187,"display_name":"Jo&#227;o Wiciuk"},"score":2,"creation_date":1522677637,"post_id":33228969,"comment_id":86231949,"body_markdown":"Read carefully the answer: &quot;[...] you could search the file name string for the last dot [...]&quot;","body":"Read carefully the answer: &quot;[...] you could search the file name string for the last dot [...]&quot;"}],"tags":[],"owner":{"account_id":4645477,"reputation":170,"user_id":5148187,"display_name":"Jo&#227;o Wiciuk"},"comment_count":3,"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1445403323,"creation_date":1445320200,"answer_id":33228969,"question_id":33214214,"body_markdown":"To get the file extension You could do:\r\n\r\n    multipartFile.getOriginalFilename().split(&quot;\\\\.&quot;)[1];\r\n\r\nThe name You get with:\r\n   \r\n\r\n     multipartFile.getOriginalFilename().split(&quot;\\\\.&quot;)[0];\r\n\r\nWhat if the user upload a executable file with .doc extension? You could get the content type:\r\n\r\n    multipartFile.getContentType();\r\nThis will return a MIME type string.\r\nTo get the correct file extension you could search the file name string for the last dot and then split it at this position.","title":"How to get the real extension type of Multipart file","body":"<p>To get the file extension You could do:</p>\n\n<pre><code>multipartFile.getOriginalFilename().split(\"\\\\.\")[1];\n</code></pre>\n\n<p>The name You get with:</p>\n\n<pre><code> multipartFile.getOriginalFilename().split(\"\\\\.\")[0];\n</code></pre>\n\n<p>What if the user upload a executable file with .doc extension? You could get the content type:</p>\n\n<pre><code>multipartFile.getContentType();\n</code></pre>\n\n<p>This will return a MIME type string.\nTo get the correct file extension you could search the file name string for the last dot and then split it at this position.</p>\n"},{"comments":[{"owner":{"account_id":7433647,"reputation":514,"user_id":5653768,"accept_rate":56,"display_name":"Rahul Verma"},"score":2,"creation_date":1587659244,"post_id":39667391,"comment_id":108604693,"body_markdown":"This works like a charm. Even after renaming the files they detect original file type. Thanks :)","body":"This works like a charm. Even after renaming the files they detect original file type. Thanks :)"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1641626700,"post_id":39667391,"comment_id":124858091,"body_markdown":"@Veesta This method return wrong mimetype for a multipart file","body":"@Veesta This method return wrong mimetype for a multipart file"}],"tags":[],"owner":{"account_id":1759189,"reputation":351,"user_id":4717897,"display_name":"veescode"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1474655404,"creation_date":1474655404,"answer_id":39667391,"question_id":33214214,"body_markdown":"You can use Tika https://tika.apache.org/\r\n\r\n    //file is a MultipartFile    \r\n    if(!file.isEmpty)\r\n    {\r\n      Tika tika = new Tika();\r\n      String detectedType = tika.detect(file.getBytes());\r\n      System.out.println(detectedType);\r\n    }\r\n\r\nThis should get you the mimetype without saving the file","title":"How to get the real extension type of Multipart file","body":"<p>You can use Tika <a href=\"https://tika.apache.org/\" rel=\"noreferrer\">https://tika.apache.org/</a></p>\n\n<pre><code>//file is a MultipartFile    \nif(!file.isEmpty)\n{\n  Tika tika = new Tika();\n  String detectedType = tika.detect(file.getBytes());\n  System.out.println(detectedType);\n}\n</code></pre>\n\n<p>This should get you the mimetype without saving the file</p>\n"},{"comments":[{"owner":{"account_id":1435076,"reputation":688,"user_id":1356669,"accept_rate":40,"display_name":"be4code"},"score":1,"creation_date":1501218070,"post_id":42597459,"comment_id":77691042,"body_markdown":"This solution verifies only file extension which is not directly connected with mime type (i.e. someone uploaded .exe file with .doc extension)","body":"This solution verifies only file extension which is not directly connected with mime type (i.e. someone uploaded .exe file with .doc extension)"}],"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1488639649,"creation_date":1488639649,"answer_id":42597459,"question_id":33214214,"body_markdown":"I solved the issue with splitting on . and taking the last part (not the 2nd),\r\n\r\nTo get Extension\r\n\r\n              String[] fileFrags = file.getOriginalFilename().split(&quot;\\\\.&quot;)\r\n              String extension = fileFrags[fileFrags.length-1]\r\n\r\nTo get the name\r\n\r\n              String fileName  = file.substring(0,file.lenghth()-fileFrags[fileFrags-1].length()-1)","title":"How to get the real extension type of Multipart file","body":"<p>I solved the issue with splitting on . and taking the last part (not the 2nd),</p>\n\n<p>To get Extension</p>\n\n<pre><code>          String[] fileFrags = file.getOriginalFilename().split(\"\\\\.\")\n          String extension = fileFrags[fileFrags.length-1]\n</code></pre>\n\n<p>To get the name</p>\n\n<pre><code>          String fileName  = file.substring(0,file.lenghth()-fileFrags[fileFrags-1].length()-1)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"score":0,"creation_date":1542021616,"post_id":43891850,"comment_id":93406429,"body_markdown":"Note from the documentation: The `IllegalArgumentException` is possible on Windows. This method used to have a hidden problem for names like &quot;foo.exe:bar.txt&quot;. In this case, the name wouldn&#39;t be the name of a file, but the identifier of an alternate data stream (bar.txt) on the file foo.exe. The method used to return &quot;.txt&quot; here, which would be misleading. Commons IO 2.7, and later versions, are throwing an `IllegalArgumentException` for names like this.","body":"Note from the documentation: The <code>IllegalArgumentException</code> is possible on Windows. This method used to have a hidden problem for names like &quot;foo.exe:bar.txt&quot;. In this case, the name wouldn&#39;t be the name of a file, but the identifier of an alternate data stream (bar.txt) on the file foo.exe. The method used to return &quot;.txt&quot; here, which would be misleading. Commons IO 2.7, and later versions, are throwing an <code>IllegalArgumentException</code> for names like this."},{"owner":{"account_id":8164177,"reputation":858,"user_id":6147174,"accept_rate":55,"display_name":"Wecherowski"},"score":5,"creation_date":1597577594,"post_id":43891850,"comment_id":112172778,"body_markdown":"CAUTION! This methods just checks the file extension of the file path. It doesn&#39;t actually check the file bytes which may be different from the extension.","body":"CAUTION! This methods just checks the file extension of the file path. It doesn&#39;t actually check the file bytes which may be different from the extension."}],"tags":[],"owner":{"account_id":2397695,"reputation":4935,"user_id":2096177,"accept_rate":61,"display_name":"Mathias G."},"comment_count":2,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1494417500,"creation_date":1494417500,"answer_id":43891850,"question_id":33214214,"body_markdown":"For me, the cleanest solution:\r\n\r\nusing FilenameUtils of org.apache.commons.io:\r\n\r\n    String extension = FilenameUtils.getExtension(file.getOriginalFilename());","title":"How to get the real extension type of Multipart file","body":"<p>For me, the cleanest solution:</p>\n\n<p>using FilenameUtils of org.apache.commons.io:</p>\n\n<pre><code>String extension = FilenameUtils.getExtension(file.getOriginalFilename());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1541624305,"post_id":44978471,"comment_id":93283976,"body_markdown":"may be but he needs to access this from Multipartfile and not String as he has given in the eg. controller","body":"may be but he needs to access this from Multipartfile and not String as he has given in the eg. controller"},{"owner":{"account_id":4520071,"reputation":1836,"user_id":3673616,"accept_rate":89,"display_name":"techfly"},"score":2,"creation_date":1557390441,"post_id":44978471,"comment_id":98751130,"body_markdown":"@valik to get the file name, just use `file.getOriginalFilename()`","body":"@valik to get the file name, just use <code>file.getOriginalFilename()</code>"}],"tags":[],"owner":{"account_id":6719162,"reputation":199,"user_id":5179877,"display_name":"Mirna De Jesus"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1537952869,"creation_date":1499456075,"answer_id":44978471,"question_id":33214214,"body_markdown":"Given the String `filename`, you can do:\r\n     \r\n    filename.substring(filename.lastIndexOf(&quot;.&quot;) + 1);","title":"How to get the real extension type of Multipart file","body":"<p>Given the String <code>filename</code>, you can do:</p>\n\n<pre><code>filename.substring(filename.lastIndexOf(\".\") + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11191854,"reputation":555,"user_id":8211967,"display_name":"Asanka Sampath"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590140639,"creation_date":1590140639,"answer_id":61952148,"question_id":33214214,"body_markdown":"    String extension = FilenameUtils.getExtension(inputFile.getOriginalFilename());\r\n    System.out.println(&quot;File Extension &quot;+extension);","title":"How to get the real extension type of Multipart file","body":"<pre><code>String extension = FilenameUtils.getExtension(inputFile.getOriginalFilename());\nSystem.out.println(\"File Extension \"+extension);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7506415,"reputation":200,"user_id":6796260,"display_name":"Jamalianpour"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1622968058,"creation_date":1622968058,"answer_id":67857139,"question_id":33214214,"body_markdown":"you can use `org.springframework.util.StringUtils` :\r\n\r\n    String extension = StringUtils.getFilenameExtension(file.getOriginalFilename());","title":"How to get the real extension type of Multipart file","body":"<p>you can use <code>org.springframework.util.StringUtils</code> :</p>\n<pre><code>String extension = StringUtils.getFilenameExtension(file.getOriginalFilename());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18817470,"reputation":131,"user_id":13724231,"display_name":"eku-code"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673083367,"creation_date":1673083367,"answer_id":75039252,"question_id":33214214,"body_markdown":"You can check file extension in this way:\r\n\r\n     if (file.getContentType() == null\r\n            || !file.getContentType().equals(MediaType.APPLICATION_PDF_VALUE)) {\r\n          throw new RuntimeException(&quot;Wrong extension!&quot;);\r\n        }","title":"How to get the real extension type of Multipart file","body":"<p>You can check file extension in this way:</p>\n<pre><code> if (file.getContentType() == null\n        || !file.getContentType().equals(MediaType.APPLICATION_PDF_VALUE)) {\n      throw new RuntimeException(&quot;Wrong extension!&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143814,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"answer_count":9,"score":61,"last_activity_date":1700297858,"creation_date":1445257130,"question_id":33214214,"body_markdown":"I have  checked answer here, but here first they are saving it to some place and then reading it&#39;s stream and trying to check Mime type of that file\r\n\r\nhttps://stackoverflow.com/questions/2091014/get-real-file-extension-java-code\r\n\r\nBut I want to know the file type before even saving it to the hard disk or at some place.\r\n\r\nI know I can do it in these 2 more ways \r\n\r\n \r\n\r\n    File savedFile = new File(fileHandler.createTodayFolder(fileLocation) + &quot;/&quot; + name);\r\n                Path path = Paths.get(file.get);\r\n        \t    Tika tika = new Tika();\r\n        \t    String checkType = tika.detect(path.toFile()); \r\n\r\nand \r\n\r\n              Path path = Paths.get(savedFile.getPath());\r\n              Files.probeContentType(path)\r\n\r\n\r\nBut in these both cases they are using somefile which is already at some location in hard disk. \r\nI want code something like this \r\n\r\n      public @ResponseBody ResponseEntity&lt;?&gt; importResume(@RequestParam(value = &quot;name&quot;, required = false) String name,\r\n    \t    @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    \r\n         if (file!=DESIRED_TYPE)\r\n         {\r\n           return Exception;\r\n         }\r\n    }\r\n\r\nIs there any way of doing this ???\r\n","title":"How to get the real extension type of Multipart file","body":"<p>I have  checked answer here, but here first they are saving it to some place and then reading it's stream and trying to check Mime type of that file</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2091014/get-real-file-extension-java-code\">Get real file extension -Java code</a></p>\n\n<p>But I want to know the file type before even saving it to the hard disk or at some place.</p>\n\n<p>I know I can do it in these 2 more ways </p>\n\n<pre><code>File savedFile = new File(fileHandler.createTodayFolder(fileLocation) + \"/\" + name);\n            Path path = Paths.get(file.get);\n            Tika tika = new Tika();\n            String checkType = tika.detect(path.toFile()); \n</code></pre>\n\n<p>and </p>\n\n<pre><code>          Path path = Paths.get(savedFile.getPath());\n          Files.probeContentType(path)\n</code></pre>\n\n<p>But in these both cases they are using somefile which is already at some location in hard disk. \nI want code something like this </p>\n\n<pre><code>  public @ResponseBody ResponseEntity&lt;?&gt; importResume(@RequestParam(value = \"name\", required = false) String name,\n        @RequestParam(\"file\") MultipartFile file) {\n\n     if (file!=DESIRED_TYPE)\n     {\n       return Exception;\n     }\n}\n</code></pre>\n\n<p>Is there any way of doing this ???</p>\n"},{"tags":["java","integer","bufferedreader","filereader","parseint"],"comments":[{"owner":{"account_id":3743475,"reputation":393,"user_id":3112728,"display_name":"user3112728"},"score":1,"creation_date":1700275694,"post_id":77505505,"comment_id":136638082,"body_markdown":"Have you looked at the files with a hex editor, I think winhex is free.  Maybe you have some non printable characters as a non that are showing up in your stream","body":"Have you looked at the files with a hex editor, I think winhex is free.  Maybe you have some non printable characters as a non that are showing up in your stream"},{"owner":{"account_id":15480432,"reputation":1,"user_id":18583792,"display_name":"MatRanc"},"score":0,"creation_date":1700276287,"post_id":77505505,"comment_id":136638111,"body_markdown":"Ah yeah this is it. There&#39;s an EF BB BF at the start. Is there a more acceptable way of handling this than just using a replaceAll() such as this https://stackoverflow.com/a/49666802/18583792 to get rid of them?","body":"Ah yeah this is it. There&#39;s an EF BB BF at the start. Is there a more acceptable way of handling this than just using a replaceAll() such as this <a href=\"https://stackoverflow.com/a/49666802/18583792\">stackoverflow.com/a/49666802/18583792</a> to get rid of them?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1700277981,"post_id":77505505,"comment_id":136638184,"body_markdown":"Does this answer your question? [Reading UTF-8 - BOM marker](https://stackoverflow.com/questions/4897876/reading-utf-8-bom-marker)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4897876/reading-utf-8-bom-marker\">Reading UTF-8 - BOM marker</a>"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700296541,"creation_date":1700296541,"answer_id":77506183,"question_id":77505505,"body_markdown":"You can use `Scanner` with define required charset.\r\n\r\n```java\r\npublic static void main(String... args) throws IOException {\r\n    try (Scanner scan = new Scanner(Path.of(&quot;metro.txt&quot;), StandardCharsets.UTF_8)) {\r\n        scan.useLocale(Locale.US);\r\n\r\n        int m = scan.nextInt();         // 376\r\n        int n = scan.nextInt();         // 933\r\n\r\n        String a1 = scan.next();        // 0000\r\n        String a2 = scan.nextLine();    // Abbesses\r\n        String b1 = scan.next();        // 0001\r\n        String b2 = scan.nextLine();    // Alexandre Dumas\r\n    }\r\n}\r\n```","title":"Integer.parseInt() throws NumberFormatException for some numbers read using BufferedReader from one file but not another","body":"<p>You can use <code>Scanner</code> with define required charset.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws IOException {\n    try (Scanner scan = new Scanner(Path.of(&quot;metro.txt&quot;), StandardCharsets.UTF_8)) {\n        scan.useLocale(Locale.US);\n\n        int m = scan.nextInt();         // 376\n        int n = scan.nextInt();         // 933\n\n        String a1 = scan.next();        // 0000\n        String a2 = scan.nextLine();    // Abbesses\n        String b1 = scan.next();        // 0001\n        String b2 = scan.nextLine();    // Alexandre Dumas\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15480432,"reputation":1,"user_id":18583792,"display_name":"MatRanc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700296541,"creation_date":1700274598,"question_id":77505505,"body_markdown":"I am trying to read numbers from a text file.\r\n\r\nThe first lines of `metro.txt` contain:\r\n\r\n```\r\n376 933\r\n0000 Abbesses\r\n0001 Alexandre Dumas\r\n```\r\n\r\nWhereas the first few lines of `testnum.txt` contain:\r\n\r\n```\r\n444 555\r\n6666 flowers\r\n8888 pumpkin patch\r\n```\r\n\r\nThis is my code:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        try {\r\n            FileReader input = new FileReader(&quot;metro.txt&quot;);\r\n            BufferedReader reader = new BufferedReader(input);\r\n\r\n            String raw_line = reader.readLine();\r\n            String[] split_line = raw_line.split(&quot; &quot;, 2);\r\n\r\n            int num_vertices = Integer.parseInt(split_line[0]);\r\n            int num_edges = Integer.parseInt(split_line[1]);\r\n\r\n        } catch (FileNotFoundException ex) { // catch filereader\r\n            System.out.println(ex);\r\n        } catch (IOException ex) { // catch bufferedreader\r\n            System.out.println(ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I run it with &quot;metro.txt&quot; in the filereader arg, I get the error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;376&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:668)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n        at test.main(test.java:15)\r\n```\r\nWhereas when I run it with &quot;testnum.txt&quot; I get no such error. I was provided &quot;metro.txt&quot; as part of an assignment and created &quot;testnum.txt&quot; myself and can only think of some sort of encoding of the text is causing this.\r\n\r\n\r\nI think its something to do with how the bufferedreader is reading from &quot;metro.txt&quot; as when I try and compare split_line[0] with an identical string &quot;376&quot; it returns false but I have no idea how to get to the root of this issue. ","title":"Integer.parseInt() throws NumberFormatException for some numbers read using BufferedReader from one file but not another","body":"<p>I am trying to read numbers from a text file.</p>\n<p>The first lines of <code>metro.txt</code> contain:</p>\n<pre><code>376 933\n0000 Abbesses\n0001 Alexandre Dumas\n</code></pre>\n<p>Whereas the first few lines of <code>testnum.txt</code> contain:</p>\n<pre><code>444 555\n6666 flowers\n8888 pumpkin patch\n</code></pre>\n<p>This is my code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class test {\n    public static void main(String[] args) {\n        try {\n            FileReader input = new FileReader(&quot;metro.txt&quot;);\n            BufferedReader reader = new BufferedReader(input);\n\n            String raw_line = reader.readLine();\n            String[] split_line = raw_line.split(&quot; &quot;, 2);\n\n            int num_vertices = Integer.parseInt(split_line[0]);\n            int num_edges = Integer.parseInt(split_line[1]);\n\n        } catch (FileNotFoundException ex) { // catch filereader\n            System.out.println(ex);\n        } catch (IOException ex) { // catch bufferedreader\n            System.out.println(ex);\n        }\n    }\n}\n</code></pre>\n<p>When I run it with &quot;metro.txt&quot; in the filereader arg, I get the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;376&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n        at java.base/java.lang.Integer.parseInt(Integer.java:668)\n        at java.base/java.lang.Integer.parseInt(Integer.java:786)\n        at test.main(test.java:15)\n</code></pre>\n<p>Whereas when I run it with &quot;testnum.txt&quot; I get no such error. I was provided &quot;metro.txt&quot; as part of an assignment and created &quot;testnum.txt&quot; myself and can only think of some sort of encoding of the text is causing this.</p>\n<p>I think its something to do with how the bufferedreader is reading from &quot;metro.txt&quot; as when I try and compare split_line[0] with an identical string &quot;376&quot; it returns false but I have no idea how to get to the root of this issue.</p>\n"},{"tags":["java","docker","docker-compose","spring-data-jpa","microservices"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674614955,"creation_date":1674602718,"answer_id":75228307,"question_id":75227586,"body_markdown":"You seem to be mixing spring-boot 3 starters with spring-boot 2 dependencies (for instance security 5). Don&#39;t do that or you&#39;ll get incompatibility issues (like the one you&#39;re probably hitting).\r\n\r\nUse spring-boot Graddle plug-in and specify a dependency version only when it is not managed by boot. ","title":"Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method &#39;dataSource&#39;exception with message: Failed to determine suitable driver class","body":"<p>You seem to be mixing spring-boot 3 starters with spring-boot 2 dependencies (for instance security 5). Don't do that or you'll get incompatibility issues (like the one you're probably hitting).</p>\n<p>Use spring-boot Graddle plug-in and specify a dependency version only when it is not managed by boot.</p>\n"},{"tags":[],"owner":{"account_id":5451198,"reputation":29,"user_id":4335913,"display_name":"Layani NB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680193948,"creation_date":1679975575,"answer_id":75862207,"question_id":75227586,"body_markdown":"Always make sure the versions of java and the spring boot version are compatible. The following checkpoints will also help you identify any dependency or configuration that is missing.\r\n \r\nCheck if the following dependencies(.pom/.gradle) are added:\r\n\r\n - `spring-boot-starter-data-jpa`\r\n - `mysql-connector-j`\r\n\r\nCheck if the proper configurations(`application.properties`) are given:\r\n\r\n - `spring.datasource.url=jdbc:mysql://localhost:3306/testdb`\r\n - `spring.datasource.username=dbusername`\r\n - `spring.datasource.password=dbpassword`\r\n\r\nMake sure the database(`testdb`) is created before starting the app\r\n\r\nMake sure the DB is up and running before starting the app\r\n\r\n","title":"Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method &#39;dataSource&#39;exception with message: Failed to determine suitable driver class","body":"<p>Always make sure the versions of java and the spring boot version are compatible. The following checkpoints will also help you identify any dependency or configuration that is missing.</p>\n<p>Check if the following dependencies(.pom/.gradle) are added:</p>\n<ul>\n<li><code>spring-boot-starter-data-jpa</code></li>\n<li><code>mysql-connector-j</code></li>\n</ul>\n<p>Check if the proper configurations(<code>application.properties</code>) are given:</p>\n<ul>\n<li><code>spring.datasource.url=jdbc:mysql://localhost:3306/testdb</code></li>\n<li><code>spring.datasource.username=dbusername</code></li>\n<li><code>spring.datasource.password=dbpassword</code></li>\n</ul>\n<p>Make sure the database(<code>testdb</code>) is created before starting the app</p>\n<p>Make sure the DB is up and running before starting the app</p>\n"},{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373377,"creation_date":1685373377,"answer_id":76358479,"question_id":75227586,"body_markdown":"Adding this to `src/main/resources/application.properties` file solved it:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/mydatabasename\r\nspring.datasource.username = myusername\r\nspring.datasource.password = mypassword\r\n\r\nserver.port=8082\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql = true\r\n```","title":"Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method &#39;dataSource&#39;exception with message: Failed to determine suitable driver class","body":"<p>Adding this to <code>src/main/resources/application.properties</code> file solved it:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/mydatabasename\nspring.datasource.username = myusername\nspring.datasource.password = mypassword\n\nserver.port=8082\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8038257,"reputation":1920,"user_id":6060723,"display_name":"nayan dhabarde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690621107,"creation_date":1690621107,"answer_id":76792836,"question_id":75227586,"body_markdown":"In my case, on version 3.1.2, I changed the name of the application.properties file to application-dev.properties file. Renaming it back to application.properties file worked. Now just need to find a way to have multiple configurations","title":"Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method &#39;dataSource&#39;exception with message: Failed to determine suitable driver class","body":"<p>In my case, on version 3.1.2, I changed the name of the application.properties file to application-dev.properties file. Renaming it back to application.properties file worked. Now just need to find a way to have multiple configurations</p>\n"},{"tags":[],"owner":{"account_id":15993297,"reputation":223,"user_id":11541876,"display_name":"Majedul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700296394,"creation_date":1700296394,"answer_id":77506178,"question_id":75227586,"body_markdown":"Add this on **application.properties** class \r\n\r\n&gt; spring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\r\n\r\n&gt; spring.datasource.url = jdbc:mysql://localhost:3306/DBNAME\r\n\r\n&gt; spring.datasource.username = DBUSER spring.datasource.password = DBPASSWORD \r\n\r\n&gt; spring.jpa.hibernate.ddl-auto = update","title":"Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method &#39;dataSource&#39;exception with message: Failed to determine suitable driver class","body":"<p>Add this on <strong>application.properties</strong> class</p>\n<blockquote>\n<p>spring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver</p>\n</blockquote>\n<blockquote>\n<p>spring.datasource.url = jdbc:mysql://localhost:3306/DBNAME</p>\n</blockquote>\n<blockquote>\n<p>spring.datasource.username = DBUSER spring.datasource.password = DBPASSWORD</p>\n</blockquote>\n<blockquote>\n<p>spring.jpa.hibernate.ddl-auto = update</p>\n</blockquote>\n"}],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10372,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1700296394,"creation_date":1674596575,"question_id":75227586,"body_markdown":"Iam trying to dockerizing springboot microservice application but getting below error while deploying. Below providing all configuration details. Please help to resolve by providing any hint.\r\n\r\nSame working fine on idea and able to test using postman\r\n\r\n    Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method &#39;dataSource&#39;exception with message: Failed to determine suitable driver class\r\n\r\n**application.propertie**\r\n\r\n    spring.datasource.url= jdbc:sqlserver://localhost:1433;encrypt=true;trustServerCertificate=true;databaseName=The_Read\r\nspring.datasource.username= The_read\r\nspring.datasource.password= Read@123456\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\n***gradle dependencies***\r\n\r\n    dependencies {\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-security:3.0.1&#39;)\r\n    implementation &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testCompileOnly &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;io.swagger.core.v3:swagger-models:2.2.7&#39;\r\n    implementation &#39;io.swagger.core.v3:swagger-annotations:2.2.6&#39;\r\n    implementation &#39;io.swagger:swagger-annotations:1.6.8&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.springframework.security.oauth/spring-security-oauth2\r\n    implementation(&quot;org.springframework.security.oauth:spring-security-oauth2:2.5.2.RELEASE&quot;)\r\n    //implementation(&quot;org.springframework.security:spring-security-oauth2-jose:5.3.8.RELEASE&quot;)\r\n    implementation(&quot;org.springframework.security:spring-security-oauth2-jose:5.7.3&quot;)\r\n// https://mvnrepository.com/artifact/com.auth0/java-jwt\r\n    implementation group: &#39;com.auth0&#39;, name: &#39;java-jwt&#39;, version: &#39;4.2.2&#39;\r\n\r\n\r\n// https://mvnrepository.com/artifact/org.springframework.security/spring-security-core\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-core&#39;, version: &#39;6.0.1&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-oauth2-resource-server&#39;, version: &#39;5.1.6.RELEASE&#39;\r\n//Thanks for using https://jar-download.com\r\n    // https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc\r\n    implementation(&quot;com.microsoft.sqlserver:mssql-jdbc:11.2.3.jre18&quot;)\r\n// https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\r\n    implementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\r\n    implementation(&quot;org.springframework.security:spring-security-oauth2-resource-server:5.1.0.RELEASE&quot;)\r\n\r\n    annotationProcessor &quot;org.projectlombok:lombok:1.18.8&quot;\r\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.8&quot;)\r\n    // https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt\r\n    implementation(&quot;io.jsonwebtoken:jjwt:0.9.1&quot;)\r\n    // https://mvnrepository.com/artifact/javax.validation/validation-api\r\n    implementation(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\r\n\r\n\r\n    implementation(&quot;javax.xml.bind:jaxb-api:2.3.1&quot;)\r\n    implementation(&quot;org.apache.commons:commons-lang3:3.0&quot;)\r\n\r\n\r\n\r\n\r\n}\r\n\r\n***Log stacktrace***\r\n\r\n        2023-01-25 02:07:10 20:37:10.777 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-01-25 02:07:10 20:37:10.782 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    2023-01-25 02:07:10 org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:415)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    2023-01-25 02:07:10 at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n    2023-01-25 02:07:10 at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n    2023-01-25 02:07:10 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n    2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n    2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n    2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n    2023-01-25 02:07:10 at SecurityServiceApplication.main(SecurityServiceApplication.java:9)\r\n    2023-01-25 02:07:10 Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n    2023-01-25 02:07:10 ... 27 common frames omitted\r\n    2023-01-25 02:07:10 Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    2023-01-25 02:07:10 ... 41 common frames omitted\r\n    2023-01-25 02:07:10 Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:182)\r\n    2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\r\n    2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\r\n    2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\r\n    2023-01-25 02:07:10 at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    2023-01-25 02:07:10 at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    2023-01-25 02:07:10 at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n    2023-01-25 02:07:10 ... 42 common frames omitted\r\n\r\nPlease help ","title":"Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method &#39;dataSource&#39;exception with message: Failed to determine suitable driver class","body":"<p>Iam trying to dockerizing springboot microservice application but getting below error while deploying. Below providing all configuration details. Please help to resolve by providing any hint.</p>\n<p>Same working fine on idea and able to test using postman</p>\n<pre><code>Failed to instantiate com.zaxxer.hikari.HikariDataSource: Factory method 'dataSource'exception with message: Failed to determine suitable driver class\n</code></pre>\n<p><strong>application.propertie</strong></p>\n<pre><code>spring.datasource.url= jdbc:sqlserver://localhost:1433;encrypt=true;trustServerCertificate=true;databaseName=The_Read\n</code></pre>\n<p>spring.datasource.username= The_read\nspring.datasource.password= Read@123456\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver</p>\n<p><em><strong>gradle dependencies</strong></em></p>\n<pre><code>dependencies {\nimplementation('org.springframework.boot:spring-boot-starter-web')\nimplementation('org.springframework.boot:spring-boot-starter-data-jpa')\nimplementation('org.springframework.boot:spring-boot-starter-security:3.0.1')\nimplementation 'org.projectlombok:lombok:1.18.24'\ntestImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\ntestRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\nannotationProcessor 'org.projectlombok:lombok'\ncompileOnly 'org.projectlombok:lombok'\ntestAnnotationProcessor 'org.projectlombok:lombok'\ntestCompileOnly 'org.projectlombok:lombok'\nimplementation 'io.swagger.core.v3:swagger-models:2.2.7'\nimplementation 'io.swagger.core.v3:swagger-annotations:2.2.6'\nimplementation 'io.swagger:swagger-annotations:1.6.8'\n\n// https://mvnrepository.com/artifact/org.springframework.security.oauth/spring-security-oauth2\nimplementation(&quot;org.springframework.security.oauth:spring-security-oauth2:2.5.2.RELEASE&quot;)\n//implementation(&quot;org.springframework.security:spring-security-oauth2-jose:5.3.8.RELEASE&quot;)\nimplementation(&quot;org.springframework.security:spring-security-oauth2-jose:5.7.3&quot;)\n</code></pre>\n<p>// <a href=\"https://mvnrepository.com/artifact/com.auth0/java-jwt\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.auth0/java-jwt</a>\nimplementation group: 'com.auth0', name: 'java-jwt', version: '4.2.2'</p>\n<p>// <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.security/spring-security-core</a>\nimplementation group: 'org.springframework.security', name: 'spring-security-core', version: '6.0.1'\nimplementation group: 'org.springframework.security', name: 'spring-security-oauth2-resource-server', version: '5.1.6.RELEASE'\n//Thanks for using <a href=\"https://jar-download.com\" rel=\"nofollow noreferrer\">https://jar-download.com</a>\n// <a href=\"https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc</a>\nimplementation(&quot;com.microsoft.sqlserver:mssql-jdbc:11.2.3.jre18&quot;)\n// <a href=\"https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api</a>\nimplementation(&quot;javax.annotation:javax.annotation-api:1.3.2&quot;)\nimplementation(&quot;org.springframework.security:spring-security-oauth2-resource-server:5.1.0.RELEASE&quot;)</p>\n<pre><code>annotationProcessor &quot;org.projectlombok:lombok:1.18.8&quot;\ntestAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.8&quot;)\n// https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt\nimplementation(&quot;io.jsonwebtoken:jjwt:0.9.1&quot;)\n// https://mvnrepository.com/artifact/javax.validation/validation-api\nimplementation(&quot;javax.validation:validation-api:2.0.1.Final&quot;)\n\n\nimplementation(&quot;javax.xml.bind:jaxb-api:2.3.1&quot;)\nimplementation(&quot;org.apache.commons:commons-lang3:3.0&quot;)\n</code></pre>\n<p>}</p>\n<p><em><strong>Log stacktrace</strong></em></p>\n<pre><code>    2023-01-25 02:07:10 20:37:10.777 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-01-25 02:07:10 20:37:10.782 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\n2023-01-25 02:07:10 org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:415)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n2023-01-25 02:07:10 at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n2023-01-25 02:07:10 at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n2023-01-25 02:07:10 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n2023-01-25 02:07:10 at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n2023-01-25 02:07:10 at SecurityServiceApplication.main(SecurityServiceApplication.java:9)\n2023-01-25 02:07:10 Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n2023-01-25 02:07:10 at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n2023-01-25 02:07:10 ... 27 common frames omitted\n2023-01-25 02:07:10 Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n2023-01-25 02:07:10 ... 41 common frames omitted\n2023-01-25 02:07:10 Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:182)\n2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\n2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\n2023-01-25 02:07:10 at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\n2023-01-25 02:07:10 at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n2023-01-25 02:07:10 at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n2023-01-25 02:07:10 at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n2023-01-25 02:07:10 ... 42 common frames omitted\n</code></pre>\n<p>Please help</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1059941,"reputation":890,"user_id":1061786,"display_name":"Nagaraju Badaeni"},"score":11,"creation_date":1335438598,"post_id":10332132,"comment_id":13304638,"body_markdown":"before switch check for null condition\nif(i==null) {//dosomething}","body":"before switch check for null condition if(i==null) {//dosomething}"},{"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"score":14,"creation_date":1403627733,"post_id":10332132,"comment_id":37727182,"body_markdown":"This would actually make the switch useful.  Other pattern matching languages work this way.","body":"This would actually make the switch useful.  Other pattern matching languages work this way."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1697701379,"post_id":10332132,"comment_id":136313559,"body_markdown":"in Java 21 or later you must only add an additional `default` case and it will work","body":"in Java 21 or later you must only add an additional <code>default</code> case and it will work"}],"answers":[{"comments":[{"owner":{"account_id":475146,"reputation":4521,"user_id":885306,"accept_rate":85,"display_name":"Karu"},"score":4,"creation_date":1382332130,"post_id":10332154,"comment_id":28902451,"body_markdown":"You can use enums too.","body":"You can use enums too."},{"owner":{"display_name":"user1073494"},"score":6,"creation_date":1384265221,"post_id":10332154,"comment_id":29659337,"body_markdown":"if the enum is null, you&#39;ll have the same problem. BTW, it&#39;s pretty strange that switch can&#39;t handle null, since it has a default clause","body":"if the enum is null, you&#39;ll have the same problem. BTW, it&#39;s pretty strange that switch can&#39;t handle null, since it has a default clause"},{"owner":{"account_id":202835,"reputation":69210,"user_id":450128,"accept_rate":62,"display_name":"Ben"},"score":1,"creation_date":1393988367,"post_id":10332154,"comment_id":33679414,"body_markdown":"@LeonardoKenji Default clause doesn&#39;t really have anything to do with null; whatever you&#39;re switching on it&#39;ll be dereferenced in order to check any other cases, so the default clause won&#39;t handle the null case (a NullPointerException is thrown before it has a chance to).","body":"@LeonardoKenji Default clause doesn&#39;t really have anything to do with null; whatever you&#39;re switching on it&#39;ll be dereferenced in order to check any other cases, so the default clause won&#39;t handle the null case (a NullPointerException is thrown before it has a chance to)."},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":2,"creation_date":1394078758,"post_id":10332154,"comment_id":33728152,"body_markdown":"I think he meant the default clause should handle null as any other possible enum value that was not caught by the previous case&#39;s","body":"I think he meant the default clause should handle null as any other possible enum value that was not caught by the previous case&#39;s"}],"tags":[],"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"comment_count":4,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1335438363,"creation_date":1335438363,"answer_id":10332154,"question_id":10332132,"body_markdown":"You can&#39;t. You can use primitives (int, char, short, byte) and String (Strings in java 7 only) in switch. primitives can&#39;t be null.  \r\nCheck `i` in separate condition before switch.","title":"How to use null in switch","body":"<p>You can't. You can use primitives (int, char, short, byte) and String (Strings in java 7 only) in switch. primitives can't be null.<br>\nCheck <code>i</code> in separate condition before switch.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1697696808,"creation_date":1335438380,"answer_id":10332157,"question_id":10332132,"body_markdown":"`switch(i)` will throw a NullPointerException if `i` is `null`, because it will try to unbox the `Integer` into an `int`. So `case null`, which happens to be illegal, would never have been reached anyway.\r\n\r\nYou need to check that `i` is not null before the `switch` statement.","title":"How to use null in switch","body":"<p><code>switch(i)</code> will throw a NullPointerException if <code>i</code> is <code>null</code>, because it will try to unbox the <code>Integer</code> into an <code>int</code>. So <code>case null</code>, which happens to be illegal, would never have been reached anyway.</p>\n<p>You need to check that <code>i</code> is not null before the <code>switch</code> statement.</p>\n"},{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1335438422,"creation_date":1335438422,"answer_id":10332164,"question_id":10332132,"body_markdown":"You have to make a \r\n\r\n    if (i == null) {\r\n       doSomething0();\r\n    } else {\r\n       switch (i) {\r\n       }\r\n    }","title":"How to use null in switch","body":"<p>You have to make a </p>\n\n<pre><code>if (i == null) {\n   doSomething0();\n} else {\n   switch (i) {\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":297514,"reputation":629,"user_id":603082,"display_name":"joriki"},"score":21,"creation_date":1364581412,"post_id":10332167,"comment_id":22310252,"body_markdown":"You can also use enums in switch statements.","body":"You can also use enums in switch statements."},{"owner":{"account_id":1259191,"reputation":5458,"user_id":1217989,"accept_rate":74,"display_name":"Luan Nico"},"score":31,"creation_date":1383391209,"post_id":10332167,"comment_id":29332979,"body_markdown":"It makes sense that you can&#39;t use a null Integer or other Wrapper class, because of unboxing. But what about enums and strings? Why can&#39;t they be null?","body":"It makes sense that you can&#39;t use a null Integer or other Wrapper class, because of unboxing. But what about enums and strings? Why can&#39;t they be null?"},{"owner":{"account_id":1367894,"reputation":5694,"user_id":1303936,"accept_rate":93,"display_name":"Reimius"},"score":14,"creation_date":1403807786,"post_id":10332167,"comment_id":37812234,"body_markdown":"I&#39;m not understanding why a short circuit of null being mapped to the &quot;default&quot; case or a special case for a null switch was not implemented for Strings.  It makes using switches to simplify code pointless since you always have to do a null check.  I&#39;m not saying simplification is the only use for switches though.","body":"I&#39;m not understanding why a short circuit of null being mapped to the &quot;default&quot; case or a special case for a null switch was not implemented for Strings.  It makes using switches to simplify code pointless since you always have to do a null check.  I&#39;m not saying simplification is the only use for switches though."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":4,"creation_date":1431989209,"post_id":10332167,"comment_id":48723316,"body_markdown":"@Reimius you don&#39;t always have to do a null check. If you respect the code contracts that you give to your methods, you can almost always manage to *not* have your code cluttered with null checks. Using asserts is always nice, though.","body":"@Reimius you don&#39;t always have to do a null check. If you respect the code contracts that you give to your methods, you can almost always manage to <i>not</i> have your code cluttered with null checks. Using asserts is always nice, though."},{"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"score":0,"creation_date":1560850537,"post_id":10332167,"comment_id":99862007,"body_markdown":"Answer to a similar question https://stackoverflow.com/a/19931550/17428 contains a JLS quote. It basically says &quot;The prohibition against using null as a switch label prevents one from writing code that can never be executed.&quot;","body":"Answer to a similar question <a href=\"https://stackoverflow.com/a/19931550/17428\">stackoverflow.com/a/19931550/17428</a> contains a JLS quote. It basically says &quot;The prohibition against using null as a switch label prevents one from writing code that can never be executed.&quot;"},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1578546476,"post_id":10332167,"comment_id":105475434,"body_markdown":"[This might change soon.](https://mail.openjdk.java.net/pipermail/amber-spec-experts/2020-January/001910.html)","body":"<a href=\"https://mail.openjdk.java.net/pipermail/amber-spec-experts/2020-January/001910.html\" rel=\"nofollow noreferrer\">This might change soon.</a>"}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":6,"down_vote_count":3,"up_vote_count":380,"is_accepted":true,"score":377,"last_activity_date":1676221624,"creation_date":1335438431,"answer_id":10332167,"question_id":10332132,"body_markdown":"This was not possible with a `switch` statement in Java until Java 18. You had to check for `null` before the `switch`. But now, with pattern matching, this is a thing of the past. Have a look at [JEP 420][1]:\r\n\r\n&gt; Pattern matching and null\r\n&gt; \r\n&gt; Traditionally, switch statements and expressions throw\r\n&gt; NullPointerException if the selector expression evaluates to null, so\r\n&gt; testing for null must be done outside of the switch:\r\n&gt; \r\n&gt; \r\n\r\n    static void testFooBar(String s) {\r\n         if (s == null) {\r\n             System.out.println(&quot;oops!&quot;);\r\n             return;\r\n         }\r\n         switch (s) {\r\n             case &quot;Foo&quot;, &quot;Bar&quot; -&gt; System.out.println(&quot;Great&quot;);\r\n             default           -&gt; System.out.println(&quot;Ok&quot;);\r\n         }\r\n     }\r\n\r\n&gt; \r\n&gt; This was reasonable when switch supported only a few reference types.\r\n&gt; However, if switch allows a selector expression of any type, and case\r\n&gt; labels can have type patterns, then the standalone null test feels\r\n&gt; like an arbitrary distinction, and invites needless boilerplate and\r\n&gt; opportunity for error. It would be better to integrate the null test\r\n&gt; into the switch:\r\n\r\n    static void testFooBar(String s) {\r\n        switch (s) {\r\n            case null         -&gt; System.out.println(&quot;Oops&quot;);\r\n            case &quot;Foo&quot;, &quot;Bar&quot; -&gt; System.out.println(&quot;Great&quot;);\r\n            default           -&gt; System.out.println(&quot;Ok&quot;);   \r\n      }\r\n    }\r\n\r\nMore about `switch` (including an example with a `null` variable) in [Oracle Docs - Switch][2]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/420\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"How to use null in switch","body":"<p>This was not possible with a <code>switch</code> statement in Java until Java 18. You had to check for <code>null</code> before the <code>switch</code>. But now, with pattern matching, this is a thing of the past. Have a look at <a href=\"https://openjdk.org/jeps/420\" rel=\"noreferrer\">JEP 420</a>:</p>\n<blockquote>\n<p>Pattern matching and null</p>\n<p>Traditionally, switch statements and expressions throw\nNullPointerException if the selector expression evaluates to null, so\ntesting for null must be done outside of the switch:</p>\n</blockquote>\n<pre><code>static void testFooBar(String s) {\n     if (s == null) {\n         System.out.println(&quot;oops!&quot;);\n         return;\n     }\n     switch (s) {\n         case &quot;Foo&quot;, &quot;Bar&quot; -&gt; System.out.println(&quot;Great&quot;);\n         default           -&gt; System.out.println(&quot;Ok&quot;);\n     }\n }\n</code></pre>\n<blockquote>\n<p>This was reasonable when switch supported only a few reference types.\nHowever, if switch allows a selector expression of any type, and case\nlabels can have type patterns, then the standalone null test feels\nlike an arbitrary distinction, and invites needless boilerplate and\nopportunity for error. It would be better to integrate the null test\ninto the switch:</p>\n</blockquote>\n<pre><code>static void testFooBar(String s) {\n    switch (s) {\n        case null         -&gt; System.out.println(&quot;Oops&quot;);\n        case &quot;Foo&quot;, &quot;Bar&quot; -&gt; System.out.println(&quot;Great&quot;);\n        default           -&gt; System.out.println(&quot;Ok&quot;);   \n  }\n}\n</code></pre>\n<p>More about <code>switch</code> (including an example with a <code>null</code> variable) in <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"noreferrer\">Oracle Docs - Switch</a></p>\n"},{"comments":[{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":3,"creation_date":1574886660,"post_id":10332283,"comment_id":104393130,"body_markdown":"The javadocs at your link no longer say &quot;The prohibition against using null as a switch label [etc.]&quot;.","body":"The javadocs at your link no longer say &quot;The prohibition against using null as a switch label [etc.]&quot;."},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":3,"creation_date":1578546496,"post_id":10332283,"comment_id":105475439,"body_markdown":"[This might change soon.](https://mail.openjdk.java.net/pipermail/amber-spec-experts/2020-January/001910.html)","body":"<a href=\"https://mail.openjdk.java.net/pipermail/amber-spec-experts/2020-January/001910.html\" rel=\"nofollow noreferrer\">This might change soon.</a>"}],"tags":[],"owner":{"account_id":1326257,"reputation":2880,"user_id":1270995,"accept_rate":100,"display_name":"Shehzad"},"comment_count":2,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1335438888,"creation_date":1335438888,"answer_id":10332283,"question_id":10332132,"body_markdown":"Java docs clearly stated that:\r\n\r\nThe prohibition against using null as a switch label prevents one from writing code that can never be executed. If the switch expression is of a reference type, such as a boxed primitive type or an enum, a run-time error will occur if the expression evaluates to null at run-time.\r\n\r\nYou must have to verify for null before Swithch statement execution. \r\n\r\n    if (i == null)\r\n\r\nSee [The Switch Statement][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\r\n\r\n    case null: // will never be executed, therefore disallowed.","title":"How to use null in switch","body":"<p>Java docs clearly stated that:</p>\n\n<p>The prohibition against using null as a switch label prevents one from writing code that can never be executed. If the switch expression is of a reference type, such as a boxed primitive type or an enum, a run-time error will occur if the expression evaluates to null at run-time.</p>\n\n<p>You must have to verify for null before Swithch statement execution. </p>\n\n<pre><code>if (i == null)\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"noreferrer\">The Switch Statement</a></p>\n\n<pre><code>case null: // will never be executed, therefore disallowed.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3473802,"reputation":617,"user_id":2907529,"accept_rate":44,"display_name":"Vivek Agrawal"},"score":5,"creation_date":1573813680,"post_id":30601080,"comment_id":104017744,"body_markdown":"cleaner way than using one extra if else","body":"cleaner way than using one extra if else"},{"owner":{"account_id":2452994,"reputation":1849,"user_id":2138811,"accept_rate":50,"display_name":"Tony"},"score":1,"creation_date":1653630894,"post_id":30601080,"comment_id":127901905,"body_markdown":"For Groovy, you can use `switch (i ?: DEFAULT_VALUE)`","body":"For Groovy, you can use <code>switch (i ?: DEFAULT_VALUE)</code>"}],"tags":[],"owner":{"account_id":59115,"reputation":10766,"user_id":176897,"display_name":"tetsuo"},"comment_count":2,"down_vote_count":1,"up_vote_count":147,"is_accepted":false,"score":146,"last_activity_date":1433261060,"creation_date":1433261060,"answer_id":30601080,"question_id":10332132,"body_markdown":"    switch ((i != null) ? i : DEFAULT_VALUE) {\r\n            //...\r\n    }","title":"How to use null in switch","body":"<pre><code>switch ((i != null) ? i : DEFAULT_VALUE) {\n        //...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":2,"creation_date":1456491080,"post_id":32916356,"comment_id":58984543,"body_markdown":"`UNKNOWN` is the best solution on this I&#39;ve ever seen and overcomse nullchecks.","body":"<code>UNKNOWN</code> is the best solution on this I&#39;ve ever seen and overcomse nullchecks."}],"tags":[],"owner":{"account_id":320183,"reputation":2081,"user_id":638329,"accept_rate":80,"display_name":"Beez"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1443822525,"creation_date":1443822525,"answer_id":32916356,"question_id":10332132,"body_markdown":"Given:\r\n\r\n    public enum PersonType {\r\n        COOL_GUY(1),\r\n        JERK(2);\r\n\r\n        private final int typeId;\r\n        private PersonType(int typeId) {\r\n            this.typeId = typeId;\r\n        }\r\n\r\n        public final int getTypeId() {\r\n            return typeId;\r\n        }\r\n\r\n        public static PersonType findByTypeId(int typeId) {\r\n            for (PersonType type : values()) {\r\n                if (type.typeId == typeId) {\r\n                    return type;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nFor me, this typically aligns with a look-up table in a database (for rarely-updated tables only).\r\n\r\nHowever, when I try to use `findByTypeId` in a switch statement (from, most likely, user input)...\r\n\r\n    int userInput = 3;\r\n    PersonType personType = PersonType.findByTypeId(userInput);\r\n    switch(personType) {\r\n    case COOL_GUY:\r\n        // Do things only a cool guy would do.\r\n        break;\r\n    case JERK:\r\n        // Push back. Don&#39;t enable him.\r\n        break;\r\n    default:\r\n        // I don&#39;t know or care what to do with this mess.\r\n    }\r\n\r\n...as others have stated, this results in an NPE @ `switch(personType) {`. One work-around (i.e., &quot;solution&quot;) I started implementing was to add an `UNKNOWN(-1)` type.\r\n\r\n    public enum PersonType {\r\n        UNKNOWN(-1),\r\n        COOL_GUY(1),\r\n        JERK(2);\r\n        ...\r\n        public static PersonType findByTypeId(int id) {\r\n            ...\r\n            return UNKNOWN;\r\n        }\r\n    }\r\n\r\nNow, you don&#39;t have to do null-checking where it counts and you can choose to, or not to, handle `UNKNOWN` types. (NOTE: `-1` is an unlikely identifier in a business scenario, but obviously choose something that makes sense for your use-case).","title":"How to use null in switch","body":"<p>Given:</p>\n\n<pre><code>public enum PersonType {\n    COOL_GUY(1),\n    JERK(2);\n\n    private final int typeId;\n    private PersonType(int typeId) {\n        this.typeId = typeId;\n    }\n\n    public final int getTypeId() {\n        return typeId;\n    }\n\n    public static PersonType findByTypeId(int typeId) {\n        for (PersonType type : values()) {\n            if (type.typeId == typeId) {\n                return type;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>For me, this typically aligns with a look-up table in a database (for rarely-updated tables only).</p>\n\n<p>However, when I try to use <code>findByTypeId</code> in a switch statement (from, most likely, user input)...</p>\n\n<pre><code>int userInput = 3;\nPersonType personType = PersonType.findByTypeId(userInput);\nswitch(personType) {\ncase COOL_GUY:\n    // Do things only a cool guy would do.\n    break;\ncase JERK:\n    // Push back. Don't enable him.\n    break;\ndefault:\n    // I don't know or care what to do with this mess.\n}\n</code></pre>\n\n<p>...as others have stated, this results in an NPE @ <code>switch(personType) {</code>. One work-around (i.e., \"solution\") I started implementing was to add an <code>UNKNOWN(-1)</code> type.</p>\n\n<pre><code>public enum PersonType {\n    UNKNOWN(-1),\n    COOL_GUY(1),\n    JERK(2);\n    ...\n    public static PersonType findByTypeId(int id) {\n        ...\n        return UNKNOWN;\n    }\n}\n</code></pre>\n\n<p>Now, you don't have to do null-checking where it counts and you can choose to, or not to, handle <code>UNKNOWN</code> types. (NOTE: <code>-1</code> is an unlikely identifier in a business scenario, but obviously choose something that makes sense for your use-case).</p>\n"},{"tags":[],"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495714246,"creation_date":1464264792,"answer_id":37460538,"question_id":10332132,"body_markdown":"Some libraries attempt to offer alternatives to the builtin java `switch` statement. [Vavr][1] is one of them, they generalize it to pattern matching.\r\n\r\nHere is an example from [their documentation][2]:\r\n\r\n    String s = Match(i).of(\r\n        Case($(1), &quot;one&quot;),\r\n        Case($(2), &quot;two&quot;),\r\n        Case($(), &quot;?&quot;)\r\n    );\r\n\r\nYou can use any predicate, but they offer many of them out of the box, and `$(null)` is perfectly legal. I find this a more elegant solution than the alternatives, but this requires java8 and a dependency on the vavr library...\r\n\r\n\r\n  [1]: http://www.vavr.io\r\n  [2]: http://www.vavr.io/vavr-docs/#_pattern_matching","title":"How to use null in switch","body":"<p>Some libraries attempt to offer alternatives to the builtin java <code>switch</code> statement. <a href=\"http://www.vavr.io\" rel=\"nofollow noreferrer\">Vavr</a> is one of them, they generalize it to pattern matching.</p>\n\n<p>Here is an example from <a href=\"http://www.vavr.io/vavr-docs/#_pattern_matching\" rel=\"nofollow noreferrer\">their documentation</a>:</p>\n\n<pre><code>String s = Match(i).of(\n    Case($(1), \"one\"),\n    Case($(2), \"two\"),\n    Case($(), \"?\")\n);\n</code></pre>\n\n<p>You can use any predicate, but they offer many of them out of the box, and <code>$(null)</code> is perfectly legal. I find this a more elegant solution than the alternatives, but this requires java8 and a dependency on the vavr library...</p>\n"},{"tags":[],"owner":{"account_id":1976368,"reputation":963,"user_id":1774074,"accept_rate":91,"display_name":"l0v3"},"comment_count":0,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1554127972,"creation_date":1512039492,"answer_id":47571782,"question_id":10332132,"body_markdown":"    switch (String.valueOf(value)){\r\n        case &quot;null&quot;:\r\n        default: \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to use null in switch","body":"<pre><code>switch (String.valueOf(value)){\n    case \"null\":\n    default: \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1520684,"reputation":4045,"user_id":1420433,"accept_rate":98,"display_name":"oikonomopo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525609996,"creation_date":1525608024,"answer_id":50199444,"question_id":10332132,"body_markdown":"You can also use `String.valueOf((Object) nullableString)` \r\nlike\r\n\r\n    switch (String.valueOf((Object) nullableString)) {\r\n    case &quot;someCase&quot;\r\n        //...\r\n        break;\r\n    ...\r\n    case &quot;null&quot;: // or default:\r\n        //...\r\n            break;\r\n    }\r\n\r\n&gt; See interesting SO Q/A: [*Why does String.valueOf(null) throw a NullPointerException*][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/3131865/why-does-string-valueofnull-throw-a-nullpointerexception?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa#answer-3131884","title":"How to use null in switch","body":"<p>You can also use <code>String.valueOf((Object) nullableString)</code> \nlike</p>\n\n<pre><code>switch (String.valueOf((Object) nullableString)) {\ncase \"someCase\"\n    //...\n    break;\n...\ncase \"null\": // or default:\n    //...\n        break;\n}\n</code></pre>\n\n<blockquote>\n  <p>See interesting SO Q/A: <a href=\"https://stackoverflow.com/questions/3131865/why-does-string-valueofnull-throw-a-nullpointerexception?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa#answer-3131884\"><em>Why does String.valueOf(null) throw a NullPointerException</em></a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15519327,"reputation":11,"user_id":11195939,"display_name":"Puneet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560853497,"creation_date":1560853497,"answer_id":56646995,"question_id":10332132,"body_markdown":"Just consider how the SWITCH might work, \r\n\r\n - in case of primitives we know it can fail with NPE for auto-boxing\r\n - but for **String** or **enum**, it might be invoking equals method, which obviously needs a LHS value on which equals is being invoked.\r\nSo, given no method can be invoked on a null, *switch* cant handle null.","title":"How to use null in switch","body":"<p>Just consider how the SWITCH might work, </p>\n\n<ul>\n<li>in case of primitives we know it can fail with NPE for auto-boxing</li>\n<li>but for <strong>String</strong> or <strong>enum</strong>, it might be invoking equals method, which obviously needs a LHS value on which equals is being invoked.\nSo, given no method can be invoked on a null, <em>switch</em> cant handle null.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4230886,"reputation":1265,"user_id":3463201,"accept_rate":83,"display_name":"Calfater"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575971979,"creation_date":1575971979,"answer_id":59264567,"question_id":10332132,"body_markdown":"Based on @tetsuo answer, with java 8 : \r\n\r\n    Integer i = ...\r\n\r\n    switch (Optional.ofNullable(i).orElse(DEFAULT_VALUE)) {\r\n        case DEFAULT_VALUE:\r\n            doDefault();\r\n            break;    \r\n    }","title":"How to use null in switch","body":"<p>Based on @tetsuo answer, with java 8 : </p>\n\n<pre><code>Integer i = ...\n\nswitch (Optional.ofNullable(i).orElse(DEFAULT_VALUE)) {\n    case DEFAULT_VALUE:\n        doDefault();\n        break;    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1628529972,"post_id":67580035,"comment_id":121440199,"body_markdown":"This works because the switch is a block itself - you&#39;re effectively making a one-line if block here, and could just as easily have `if (i == null) return defaultValue; switch (i) { }`","body":"This works because the switch is a block itself - you&#39;re effectively making a one-line if block here, and could just as easily have <code>if (i == null) return defaultValue; switch (i) { }</code>"}],"tags":[],"owner":{"account_id":8982272,"reputation":151,"user_id":6697055,"display_name":"Tankki3"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621312523,"creation_date":1621312523,"answer_id":67580035,"question_id":10332132,"body_markdown":"I just learned today that you dont have to put another layer of indentation/curly brackets just because of the if that is checking for null. You can do either of these:\r\n\r\n    if (i == null) {\r\n        // ...\r\n    } else switch (i) {\r\n        case 1:\r\n            // ...\r\n            break;\r\n        default:\r\n            // ...\r\n    }\r\n\r\nor\r\n\r\n    if (i != null) switch (i) {\r\n        case 1:\r\n            // ...\r\n            break;\r\n        default:\r\n            // ...\r\n    } else {\r\n        // ...\r\n    }","title":"How to use null in switch","body":"<p>I just learned today that you dont have to put another layer of indentation/curly brackets just because of the if that is checking for null. You can do either of these:</p>\n<pre><code>if (i == null) {\n    // ...\n} else switch (i) {\n    case 1:\n        // ...\n        break;\n    default:\n        // ...\n}\n</code></pre>\n<p>or</p>\n<pre><code>if (i != null) switch (i) {\n    case 1:\n        // ...\n        break;\n    default:\n        // ...\n} else {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1700296377,"creation_date":1654167714,"answer_id":72475165,"question_id":10332132,"body_markdown":"# Pattern matching with `switch`\r\n\r\nThe null-behavior of switch statements has changed with the addition of pattern matching, which arrived with JDK 21 (and has *preview* state in JDK 17-20)\r\n\r\n&gt; ### Switches and null\r\n&gt; \r\n&gt; Traditionally, switch statements and expressions throw\r\n&gt; `NullPointerException` if the selector expression evaluates to `null`, so\r\n&gt; testing for `null` must be done outside of the switch.\r\n&gt;\r\n&gt; [...]\r\n&gt; \r\n&gt; This was reasonable when switch supported only a few reference types.\r\n&gt; However, if switch allows a selector expression of any type, and case\r\n&gt; labels can have type patterns, then the standalone null test feels\r\n&gt; like an arbitrary distinction, and invites needless boilerplate and\r\n&gt; opportunity for error. It would be better to integrate the null test\r\n&gt; into the switch by allowing a new **null case label**.\r\n\r\nSee [*JEP 441: Pattern Matching for switch*][1]\r\n\r\nThis means basically that you _can_ simply write\r\n\r\n```\r\n// As of Java 21\r\nstatic void testFooBarNew(String s) {\r\n    switch (s) {\r\n        case null         -&gt; System.out.println(&quot;Oops&quot;);\r\n        case &quot;Foo&quot;, &quot;Bar&quot; -&gt; System.out.println(&quot;Great&quot;);\r\n        default           -&gt; System.out.println(&quot;Ok&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBe aware though that you have to use `case null` explicitly:\r\n\r\n&gt; To maintain backward compatibility with the current semantics of switch, the default label does not match a null selector.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/441","title":"How to use null in switch","body":"<h1>Pattern matching with <code>switch</code></h1>\n<p>The null-behavior of switch statements has changed with the addition of pattern matching, which arrived with JDK 21 (and has <em>preview</em> state in JDK 17-20)</p>\n<blockquote>\n<h3>Switches and null</h3>\n<p>Traditionally, switch statements and expressions throw\n<code>NullPointerException</code> if the selector expression evaluates to <code>null</code>, so\ntesting for <code>null</code> must be done outside of the switch.</p>\n<p>[...]</p>\n<p>This was reasonable when switch supported only a few reference types.\nHowever, if switch allows a selector expression of any type, and case\nlabels can have type patterns, then the standalone null test feels\nlike an arbitrary distinction, and invites needless boilerplate and\nopportunity for error. It would be better to integrate the null test\ninto the switch by allowing a new <strong>null case label</strong>.</p>\n</blockquote>\n<p>See <a href=\"https://openjdk.java.net/jeps/441\" rel=\"nofollow noreferrer\"><em>JEP 441: Pattern Matching for switch</em></a></p>\n<p>This means basically that you <em>can</em> simply write</p>\n<pre><code>// As of Java 21\nstatic void testFooBarNew(String s) {\n    switch (s) {\n        case null         -&gt; System.out.println(&quot;Oops&quot;);\n        case &quot;Foo&quot;, &quot;Bar&quot; -&gt; System.out.println(&quot;Great&quot;);\n        default           -&gt; System.out.println(&quot;Ok&quot;);\n    }\n}\n</code></pre>\n<p>Be aware though that you have to use <code>case null</code> explicitly:</p>\n<blockquote>\n<p>To maintain backward compatibility with the current semantics of switch, the default label does not match a null selector.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11597475,"reputation":1802,"user_id":8495783,"display_name":"Abolfazl Mohajeri"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681543855,"creation_date":1681543855,"answer_id":76020920,"question_id":10332132,"body_markdown":"Maybe this is one of possible solution:\r\n\r\n```java\r\nInteger i = Optional.ofNullable(...).orElse(VALUE);\r\n```\r\n\r\n`VALUE` is your special value that can be in your switch statement.","title":"How to use null in switch","body":"<p>Maybe this is one of possible solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer i = Optional.ofNullable(...).orElse(VALUE);\n</code></pre>\n<p><code>VALUE</code> is your special value that can be in your switch statement.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319138,"favorite_count":0,"down_vote_count":2,"up_vote_count":279,"accepted_answer_id":10332167,"answer_count":15,"score":277,"last_activity_date":1700296377,"creation_date":1335438267,"question_id":10332132,"body_markdown":"```java\r\nInteger i = ...\r\n    \r\nswitch (i) {\r\n    case null:\r\n        doSomething0();\r\n        break;    \r\n}\r\n```\r\n\r\nIn the code above I can&#39;t use null in the switch case statement. How can I do this differently? I can&#39;t use `default` because then I want to do something else.","title":"How to use null in switch","body":"<pre class=\"lang-java prettyprint-override\"><code>Integer i = ...\n    \nswitch (i) {\n    case null:\n        doSomething0();\n        break;    \n}\n</code></pre>\n<p>In the code above I can't use null in the switch case statement. How can I do this differently? I can't use <code>default</code> because then I want to do something else.</p>\n"},{"tags":["java","memory","jvm","heap-memory"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1700229341,"post_id":77502157,"comment_id":136632013,"body_markdown":"maybe it is better to see it as *initial* heap size - see the following question and its answers [What are the -Xms and -Xmx parameters when starting JVM?](https://stackoverflow.com/q/14763079/85421)","body":"maybe it is better to see it as <i>initial</i> heap size - see the following question and its answers <a href=\"https://stackoverflow.com/q/14763079/85421\">What are the -Xms and -Xmx parameters when starting JVM?</a>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1700229499,"post_id":77502157,"comment_id":136632039,"body_markdown":"Possible duplicate of [this](https://stackoverflow.com/q/10605133/6650475).","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/10605133/6650475\">this</a>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1700230681,"post_id":77502157,"comment_id":136632251,"body_markdown":"It is a tuning option for the startup performance. If you start an application with an initial heap size that is too low it will: run out of memory, the garbage collector will try to free memory (maybe several times), then the heap size will be increased. This cycle (OOM, n times GC, heap size increase) may be repeated several times until the heap size is large enough and can be avoided if you set a meaningful initial heap size. Having said that: for most of my applications I don&#39;t bother to set an initial heap size - it&#39;s just to much effort if the application startup time doesn&#39;t matter.","body":"It is a tuning option for the startup performance. If you start an application with an initial heap size that is too low it will: run out of memory, the garbage collector will try to free memory (maybe several times), then the heap size will be increased. This cycle (OOM, n times GC, heap size increase) may be repeated several times until the heap size is large enough and can be avoided if you set a meaningful initial heap size. Having said that: for most of my applications I don&#39;t bother to set an initial heap size - it&#39;s just to much effort if the application startup time doesn&#39;t matter."}],"owner":{"account_id":9621617,"reputation":1,"user_id":21657032,"display_name":"JOTHIPRAKASH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700230221,"answer_count":0,"score":0,"last_activity_date":1700295921,"creation_date":1700229015,"question_id":77502157,"body_markdown":"\r\nDespite setting the minimum heap size to 0 and observing successful program execution, the question arises: With the JVM&#39;s dynamic resizing capabilities, is there a compelling need for a minimum heap size?\r\n\r\nWhat is the need for a minimum heap size? Even though we have a maximum heap size, why do we need a minimum heap size when it can start at zero? I&#39;m looking for concrete reason behind minimum heap size. Jvm itself resizes whenever it needs, then what is the contribution of minimum heap size.","title":"Minimum heap size in JVM (-Xms)","body":"<p>Despite setting the minimum heap size to 0 and observing successful program execution, the question arises: With the JVM's dynamic resizing capabilities, is there a compelling need for a minimum heap size?</p>\n<p>What is the need for a minimum heap size? Even though we have a maximum heap size, why do we need a minimum heap size when it can start at zero? I'm looking for concrete reason behind minimum heap size. Jvm itself resizes whenever it needs, then what is the contribution of minimum heap size.</p>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665487445,"post_id":74027324,"comment_id":130707036,"body_markdown":"This is a recurring answer and I have not found a good canonical version of it yet. Therefore, I have attempted to provide both question and answer with an illustrative example.","body":"This is a recurring answer and I have not found a good canonical version of it yet. Therefore, I have attempted to provide both question and answer with an illustrative example."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665487726,"post_id":74027324,"comment_id":130707140,"body_markdown":"@GhostCat thanks for the tip, but `Random` here can be and is in fact `java.util.Random`. It is not final, so Mockito can create a mock version of it (which will return 0 by default for its primitive-typed methods). Do you think that this is too confusing? If you do, I&#39;ll adapt the question","body":"@GhostCat thanks for the tip, but <code>Random</code> here can be and is in fact <code>java.util.Random</code>. It is not final, so Mockito can create a mock version of it (which will return 0 by default for its primitive-typed methods). Do you think that this is too confusing? If you do, I&#39;ll adapt the question"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1690315376,"post_id":74027324,"comment_id":135335691,"body_markdown":"&quot;Almost&quot; every second question about Mockito on StackOverflow is a variant of this question. Mocks are set up, but then a different instance is used. Or a mock instance is created and injected into the SUT (potentially via annotation), but then a different mock is set up and assigned to the field. But the SUT still has a reference to the old value of the field, which was a fresh mock, without any setup applied.","body":"&quot;Almost&quot; every second question about Mockito on StackOverflow is a variant of this question. Mocks are set up, but then a different instance is used. Or a mock instance is created and injected into the SUT (potentially via annotation), but then a different mock is set up and assigned to the field. But the SUT still has a reference to the old value of the field, which was a fresh mock, without any setup applied."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1700294554,"creation_date":1665487413,"answer_id":74027325,"question_id":74027324,"body_markdown":"**TLDR: Two or more distinct instances of your mock exist. Your test is using one instance and your class under test is using another instance. Or you are not using mocks at all in your class because you `new` up objects inside the class.**\r\n\r\n***\r\n\r\n## Problem Overview (Classes vs Instances)\r\n\r\nMocks are _instances_ (that&#39;s why they are also called &quot;mock objects&quot;). Calling `Mockito.mock` on a class will return a mock object for this class. It must be assigned to a variable which can then be passed to the relevant methods or injected as dependency into other classes. It does _not_ modify the class itself! Think about it: if that were true, then all instances of the class would somehow, magically, be converted to mocks. That would make it impossible to mock classes of which multiple instances are used or classes from the JDK, such as `List` or `Map` (which shouldn&#39;t be mocked in the first place, but that&#39;s a different story).\r\n\r\nThe same holds true for `@Mock` annotation with the Mockito extension/runner: a new _instance_ of a mock object is created, which is then assigned to the field (or parameter) annotated with `@Mock`. This mock object still needs to be passed to the correct methods or injected as dependency.\r\n\r\nAnother way to avoid this confusion: `new` in Java will _always_ allocate memory for an object and will initialize this new instance of the real class. It is impossible to override the behavior of `new`. Not even clever frameworks such as Mockito can do it.\r\n\r\n***\r\n\r\n## Solution\r\n\r\n&#187;But how can I mock my class?&#171; you will ask. Change the design of your classes to be testable! Every time you decide to use `new`, you commit yourself to an instance of this exact type. Multiple options exist, depending on your concrete use case and requirements, including but not limited to:\r\n\r\n1. If you can change the signature/interface of the method, pass the (mock) instance as method parameter. This requires the instance to be available in all call sites, which might not always be feasible.\r\n2. If you cannot change the signature of the method, [inject the dependency](/questions/tagged/dependency-injection) in your constructor and store it in a field to be later used by methods.\r\n3. Sometimes, the instance must only be created when the method is called and not prior to it. In that case, you can introduce another level of indirection and use something known as the [abstract factory pattern](/questions/tagged/abstract-factory). The factory object will then create and return the instance of your dependency. Multiple implementations of the factory can exist: one which returns the real dependency and another one which returns a test double, such as a mock.\r\n\r\nBelow you will find sample implementations for each of the options (with and without Mockito runner/extension):\r\n\r\n### Changing Method Signature\r\n\r\n```\r\npublic class MyClass {\r\n  public String doWork(final Random random) {\r\n    return Integer.toString(random.nextInt());\r\n  }\r\n}\r\n\r\npublic class MyTest {\r\n  @Test\r\n  public void test() {\r\n    final Random mockedRandom = Mockito.mock(Random.class);\r\n    final MyClass obj = new MyClass();\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork(mockedRandom)); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork(mockedRandom));  // JUnit 4\r\n  }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTestAnnotated {\r\n  @Mock\r\n  private Random random;\r\n\r\n  @Test\r\n  public void test() {\r\n    final MyClass obj = new MyClass();\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork(random)); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork(random));  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\n### Constructor Dependency Injection\r\n\r\n```\r\npublic class MyClass {\r\n  private final Random random;\r\n\r\n  public MyClass(final Random random) {\r\n    this.random = random;\r\n  }\r\n\r\n  // optional: make it easy to create &quot;production&quot; instances (although I wouldn&#39;t recommend this)\r\n  public MyClass() {\r\n    this(new Random());\r\n  }\r\n\r\n  public String doWork() {\r\n    return Integer.toString(random.nextInt());\r\n  }\r\n}\r\n\r\npublic class MyTest {\r\n  @Test\r\n  public void test() {\r\n    final Random mockedRandom = Mockito.mock(Random.class);\r\n    final MyClass obj = new MyClass(mockedRandom);\r\n    // or just obj = new MyClass(Mockito.mock(Random.class));\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTestAnnotated {\r\n  @Mock\r\n  private Random random;\r\n\r\n  @Test\r\n  public void test() {\r\n    final MyClass obj = new MyClass(random);\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\n### Delayed Construction via Factory\r\n\r\nDepending on the number of constructor arguments of your dependency and need for expressive code, one could use existing interfaces from the JDK (`Supplier`, `Function`, `BiFunction`) or introduce a custom factory interface (annotated with `@FunctionInterface` if it only has a single method).\r\n\r\nThe following code will opt for a custom interface, but would work just fine with `Supplier&lt;Random&gt;`.\r\n\r\n```\r\n@FunctionalInterface\r\npublic interface RandomFactory {\r\n  Random newRandom();\r\n}\r\n\r\npublic class MyClass {\r\n  private final RandomFactory randomFactory;\r\n\r\n  public MyClass(final RandomFactory randomFactory) {\r\n    this.randomFactory = randomFactory;\r\n  }\r\n\r\n  // optional: make it easy to create &quot;production&quot; instances (again: I wouldn&#39;t recommend this)\r\n  public MyClass() {\r\n    this(Random::new);\r\n  }\r\n\r\n  public String doWork() {\r\n    return Integer.toString(randomFactory.newRandom().nextInt());\r\n  }\r\n}\r\n\r\npublic class MyTest {\r\n  @Test\r\n  public void test() {\r\n    final RandomFactory randomFactory = () -&gt; Mockito.mock(Random.class);\r\n    final MyClass obj = new MyClass(randomFactory);\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTestAnnotated {\r\n  @Mock\r\n  private RandomFactory randomFactory;\r\n\r\n  @Test\r\n  public void test() {\r\n    // this is really awkward; it is usually simpler to use a lambda and create the mock manually\r\n    Mockito.when(randomFactory.newRandom()).thenAnswer(a -&gt; Mockito.mock(Random.class));\r\n    final MyClass obj = new MyClass(randomFactory);\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\n## Corollary: (Mis-)using `@InjectMocks`\r\n\r\n&gt; But I&#39;m using `@InjectMocks` and verified with the debugger that I have mocks inside my class under test. Yet, the mock methods I set up with `Mockito.mock` and `Mockito.when` are never called! (In other words: &quot;I get an NPE&quot;, &quot;my collections are empty&quot;, &quot;default values are returned&quot;, etc.)\r\n&gt;\r\n&gt;  a confused developer, ca. 2022\r\n\r\nExpressed in code, the above quote would look something like this:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTestAnnotated {\r\n  @Mock\r\n  private Random random;\r\n\r\n  @InjectMocks\r\n  private MyClass obj;\r\n\r\n  @Test\r\n  public void test() {\r\n    random = Mockito.mock(Random.class);\r\n    Mockito.when(random.nextInt()).thenReturn(42);\r\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\nThe problem with the code above is the first line in the `test()` method: it creates and assigns a _new_ mock instance to the field, effectively overwriting the existing value. But `@InjectMocks` injects the original value into the class under test (`obj`). The instance created with `Mockito.mock` only exists in the test, not in the classes under test.\r\n\r\nThe order of operations here is:\r\n\r\n1. All `@Mock`-annotated fields get assigned a new mock object.\r\n2. The `@InjectMocks`-annotated field gets injected _references_ to the mock object(s) from step 1.\r\n3. The reference in the test class is overwritten with a different reference to the new mock object (created via `Mockito.mock`). The original reference is lost and no longer available in the test class.\r\n4. The class under test (`obj`) still holds a reference to the initial mock instance and uses that. The test only has a reference to the new mock instance.\r\n\r\nThis basically boils down to https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value.\r\n\r\nYou can verify this with a debugger. Set a breakpoint and then compare the object addresses/ids of the mock fields in the test class and in the class under test. You will notice that those are two different, unrelated object instance.\r\n\r\nThe solution? Don&#39;t overwrite the reference, but set up the mock instance created via the annotation. Simply get rid of the re-assignment with `Mockito.mock`:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTestAnnotated {\r\n  @Mock\r\n  private Random random;\r\n\r\n  @InjectMocks\r\n  private MyClass obj;\r\n\r\n  @Test\r\n  public void test() {\r\n    // this.random must not be re-assigned!\r\n    Mockito.when(random.nextInt()).thenReturn(42);\r\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\n## Corollary: Object life cycles and magic framework annotations\r\n\r\n&gt; I followed your advice and use dependency injection to manually pass the mock into my service. It&#39;s still not working and my test fails with null pointer exceptions, sometimes even before a single test method actually runs. You lied, bruh!\r\n&gt;\r\n&gt;  another confused developer, late 2022\r\n\r\nThe code would likely look something like:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTestAnnotated {\r\n  @Mock\r\n  private Random random;\r\n\r\n  private final MyClass obj = new MyClass(random);\r\n\r\n  @Test\r\n  public void test() {\r\n    Mockito.when(random.nextInt()).thenReturn(42);\r\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\nThis is very similar to the first corollary and boils down to object life cycles and references vs values. The steps happening in the code above are as follows:\r\n\r\n1. A new instance of `MyTestAnnotated` is created by the testing framework (e.g. `new MyTestAnnotated()`).\r\n2. All constructors and field initializers are executed. There are no constructors here, but a field initializer: `private MyClass obj = new MyClass(random);`. At this point in time, the `random` field still has its default value `null`  the `obj` field is assigned `new MyClass(null)`.\r\n3. All `@Mock`-annotated fields get assigned a new mock object. This does _not_ update the value in `MyService obj`, because it got passed `null` initially, not a reference to the mock.\r\n\r\nDepending on your `MyService` implementation, this might already fail when creating an instance of the test class (`MyService` might perform parameter validation of its dependencies in the constructor); or it might only fail when executing a test method (because the dependency is null).\r\n\r\nThe solution? Familiarize yourself with object life cycles, field initializer order, and the point in time when mock frameworks can/will inject their mocks and update references (and which references are updated). Try to avoid mixing &quot;magic&quot; framework annotations with manual setup. Either create everything manually (mocks, service), or move the initialization to the methods annotated with `@Before` (JUnit 4) or `@BeforeEach` (JUnit 5).\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTestAnnotated {\r\n  @Mock\r\n  private Random random;\r\n\r\n  private MyClass obj;\r\n\r\n  @BeforeEach // JUnit 5\r\n  // @Before  // JUnit 4\r\n  public void setup() {\r\n    obj = new MyClass(random);\r\n  }\r\n\r\n  @Test\r\n  public void test() {\r\n    Mockito.when(random.nextInt()).thenReturn(42);\r\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\nAlternatively, set up everything manually without annotations which require a custom runner/extension:\r\n\r\n```\r\npublic class MyTest {\r\n  private Random random;\r\n  private MyClass obj;\r\n\r\n  @BeforeEach // JUnit 5\r\n  // @Before  // JUnit 4\r\n  public void setup() {\r\n    random = Mockito.mock(random);\r\n    obj = new MyClass(random);\r\n  }\r\n\r\n  @Test\r\n  public void test() {\r\n    Mockito.when(random.nextInt()).thenReturn(42);\r\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\r\n  }\r\n}\r\n```\r\n\r\n\r\n## References\r\n\r\n* https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\r\n* https://stackoverflow.com/questions/15494926/initialising-mock-objects-mockito\r\n* https://stackoverflow.com/questions/16467685/difference-between-mock-and-injectmocks\r\n* https://stackoverflow.com/questions/5920153/test-class-with-a-new-call-in-it-with-mockito","title":"Why are my mocked methods not called when executing a unit test?","body":"<p><strong>TLDR: Two or more distinct instances of your mock exist. Your test is using one instance and your class under test is using another instance. Or you are not using mocks at all in your class because you <code>new</code> up objects inside the class.</strong></p>\n<hr />\n<h2>Problem Overview (Classes vs Instances)</h2>\n<p>Mocks are <em>instances</em> (that's why they are also called &quot;mock objects&quot;). Calling <code>Mockito.mock</code> on a class will return a mock object for this class. It must be assigned to a variable which can then be passed to the relevant methods or injected as dependency into other classes. It does <em>not</em> modify the class itself! Think about it: if that were true, then all instances of the class would somehow, magically, be converted to mocks. That would make it impossible to mock classes of which multiple instances are used or classes from the JDK, such as <code>List</code> or <code>Map</code> (which shouldn't be mocked in the first place, but that's a different story).</p>\n<p>The same holds true for <code>@Mock</code> annotation with the Mockito extension/runner: a new <em>instance</em> of a mock object is created, which is then assigned to the field (or parameter) annotated with <code>@Mock</code>. This mock object still needs to be passed to the correct methods or injected as dependency.</p>\n<p>Another way to avoid this confusion: <code>new</code> in Java will <em>always</em> allocate memory for an object and will initialize this new instance of the real class. It is impossible to override the behavior of <code>new</code>. Not even clever frameworks such as Mockito can do it.</p>\n<hr />\n<h2>Solution</h2>\n<p>But how can I mock my class? you will ask. Change the design of your classes to be testable! Every time you decide to use <code>new</code>, you commit yourself to an instance of this exact type. Multiple options exist, depending on your concrete use case and requirements, including but not limited to:</p>\n<ol>\n<li>If you can change the signature/interface of the method, pass the (mock) instance as method parameter. This requires the instance to be available in all call sites, which might not always be feasible.</li>\n<li>If you cannot change the signature of the method, <a href=\"/questions/tagged/dependency-injection\">inject the dependency</a> in your constructor and store it in a field to be later used by methods.</li>\n<li>Sometimes, the instance must only be created when the method is called and not prior to it. In that case, you can introduce another level of indirection and use something known as the <a href=\"/questions/tagged/abstract-factory\">abstract factory pattern</a>. The factory object will then create and return the instance of your dependency. Multiple implementations of the factory can exist: one which returns the real dependency and another one which returns a test double, such as a mock.</li>\n</ol>\n<p>Below you will find sample implementations for each of the options (with and without Mockito runner/extension):</p>\n<h3>Changing Method Signature</h3>\n<pre><code>public class MyClass {\n  public String doWork(final Random random) {\n    return Integer.toString(random.nextInt());\n  }\n}\n\npublic class MyTest {\n  @Test\n  public void test() {\n    final Random mockedRandom = Mockito.mock(Random.class);\n    final MyClass obj = new MyClass();\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork(mockedRandom)); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork(mockedRandom));  // JUnit 4\n  }\n}\n\n@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTestAnnotated {\n  @Mock\n  private Random random;\n\n  @Test\n  public void test() {\n    final MyClass obj = new MyClass();\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork(random)); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork(random));  // JUnit 4\n  }\n}\n</code></pre>\n<h3>Constructor Dependency Injection</h3>\n<pre><code>public class MyClass {\n  private final Random random;\n\n  public MyClass(final Random random) {\n    this.random = random;\n  }\n\n  // optional: make it easy to create &quot;production&quot; instances (although I wouldn't recommend this)\n  public MyClass() {\n    this(new Random());\n  }\n\n  public String doWork() {\n    return Integer.toString(random.nextInt());\n  }\n}\n\npublic class MyTest {\n  @Test\n  public void test() {\n    final Random mockedRandom = Mockito.mock(Random.class);\n    final MyClass obj = new MyClass(mockedRandom);\n    // or just obj = new MyClass(Mockito.mock(Random.class));\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\n  }\n}\n\n@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTestAnnotated {\n  @Mock\n  private Random random;\n\n  @Test\n  public void test() {\n    final MyClass obj = new MyClass(random);\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\n  }\n}\n</code></pre>\n<h3>Delayed Construction via Factory</h3>\n<p>Depending on the number of constructor arguments of your dependency and need for expressive code, one could use existing interfaces from the JDK (<code>Supplier</code>, <code>Function</code>, <code>BiFunction</code>) or introduce a custom factory interface (annotated with <code>@FunctionInterface</code> if it only has a single method).</p>\n<p>The following code will opt for a custom interface, but would work just fine with <code>Supplier&lt;Random&gt;</code>.</p>\n<pre><code>@FunctionalInterface\npublic interface RandomFactory {\n  Random newRandom();\n}\n\npublic class MyClass {\n  private final RandomFactory randomFactory;\n\n  public MyClass(final RandomFactory randomFactory) {\n    this.randomFactory = randomFactory;\n  }\n\n  // optional: make it easy to create &quot;production&quot; instances (again: I wouldn't recommend this)\n  public MyClass() {\n    this(Random::new);\n  }\n\n  public String doWork() {\n    return Integer.toString(randomFactory.newRandom().nextInt());\n  }\n}\n\npublic class MyTest {\n  @Test\n  public void test() {\n    final RandomFactory randomFactory = () -&gt; Mockito.mock(Random.class);\n    final MyClass obj = new MyClass(randomFactory);\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\n  }\n}\n\n@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTestAnnotated {\n  @Mock\n  private RandomFactory randomFactory;\n\n  @Test\n  public void test() {\n    // this is really awkward; it is usually simpler to use a lambda and create the mock manually\n    Mockito.when(randomFactory.newRandom()).thenAnswer(a -&gt; Mockito.mock(Random.class));\n    final MyClass obj = new MyClass(randomFactory);\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\n  }\n}\n</code></pre>\n<h2>Corollary: (Mis-)using <code>@InjectMocks</code></h2>\n<blockquote>\n<p>But I'm using <code>@InjectMocks</code> and verified with the debugger that I have mocks inside my class under test. Yet, the mock methods I set up with <code>Mockito.mock</code> and <code>Mockito.when</code> are never called! (In other words: &quot;I get an NPE&quot;, &quot;my collections are empty&quot;, &quot;default values are returned&quot;, etc.)</p>\n<p> a confused developer, ca. 2022</p>\n</blockquote>\n<p>Expressed in code, the above quote would look something like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTestAnnotated {\n  @Mock\n  private Random random;\n\n  @InjectMocks\n  private MyClass obj;\n\n  @Test\n  public void test() {\n    random = Mockito.mock(Random.class);\n    Mockito.when(random.nextInt()).thenReturn(42);\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\n  }\n}\n</code></pre>\n<p>The problem with the code above is the first line in the <code>test()</code> method: it creates and assigns a <em>new</em> mock instance to the field, effectively overwriting the existing value. But <code>@InjectMocks</code> injects the original value into the class under test (<code>obj</code>). The instance created with <code>Mockito.mock</code> only exists in the test, not in the classes under test.</p>\n<p>The order of operations here is:</p>\n<ol>\n<li>All <code>@Mock</code>-annotated fields get assigned a new mock object.</li>\n<li>The <code>@InjectMocks</code>-annotated field gets injected <em>references</em> to the mock object(s) from step 1.</li>\n<li>The reference in the test class is overwritten with a different reference to the new mock object (created via <code>Mockito.mock</code>). The original reference is lost and no longer available in the test class.</li>\n<li>The class under test (<code>obj</code>) still holds a reference to the initial mock instance and uses that. The test only has a reference to the new mock instance.</li>\n</ol>\n<p>This basically boils down to <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>.</p>\n<p>You can verify this with a debugger. Set a breakpoint and then compare the object addresses/ids of the mock fields in the test class and in the class under test. You will notice that those are two different, unrelated object instance.</p>\n<p>The solution? Don't overwrite the reference, but set up the mock instance created via the annotation. Simply get rid of the re-assignment with <code>Mockito.mock</code>:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTestAnnotated {\n  @Mock\n  private Random random;\n\n  @InjectMocks\n  private MyClass obj;\n\n  @Test\n  public void test() {\n    // this.random must not be re-assigned!\n    Mockito.when(random.nextInt()).thenReturn(42);\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\n  }\n}\n</code></pre>\n<h2>Corollary: Object life cycles and magic framework annotations</h2>\n<blockquote>\n<p>I followed your advice and use dependency injection to manually pass the mock into my service. It's still not working and my test fails with null pointer exceptions, sometimes even before a single test method actually runs. You lied, bruh!</p>\n<p> another confused developer, late 2022</p>\n</blockquote>\n<p>The code would likely look something like:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTestAnnotated {\n  @Mock\n  private Random random;\n\n  private final MyClass obj = new MyClass(random);\n\n  @Test\n  public void test() {\n    Mockito.when(random.nextInt()).thenReturn(42);\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\n  }\n}\n</code></pre>\n<p>This is very similar to the first corollary and boils down to object life cycles and references vs values. The steps happening in the code above are as follows:</p>\n<ol>\n<li>A new instance of <code>MyTestAnnotated</code> is created by the testing framework (e.g. <code>new MyTestAnnotated()</code>).</li>\n<li>All constructors and field initializers are executed. There are no constructors here, but a field initializer: <code>private MyClass obj = new MyClass(random);</code>. At this point in time, the <code>random</code> field still has its default value <code>null</code>  the <code>obj</code> field is assigned <code>new MyClass(null)</code>.</li>\n<li>All <code>@Mock</code>-annotated fields get assigned a new mock object. This does <em>not</em> update the value in <code>MyService obj</code>, because it got passed <code>null</code> initially, not a reference to the mock.</li>\n</ol>\n<p>Depending on your <code>MyService</code> implementation, this might already fail when creating an instance of the test class (<code>MyService</code> might perform parameter validation of its dependencies in the constructor); or it might only fail when executing a test method (because the dependency is null).</p>\n<p>The solution? Familiarize yourself with object life cycles, field initializer order, and the point in time when mock frameworks can/will inject their mocks and update references (and which references are updated). Try to avoid mixing &quot;magic&quot; framework annotations with manual setup. Either create everything manually (mocks, service), or move the initialization to the methods annotated with <code>@Before</code> (JUnit 4) or <code>@BeforeEach</code> (JUnit 5).</p>\n<pre><code>@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTestAnnotated {\n  @Mock\n  private Random random;\n\n  private MyClass obj;\n\n  @BeforeEach // JUnit 5\n  // @Before  // JUnit 4\n  public void setup() {\n    obj = new MyClass(random);\n  }\n\n  @Test\n  public void test() {\n    Mockito.when(random.nextInt()).thenReturn(42);\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\n  }\n}\n</code></pre>\n<p>Alternatively, set up everything manually without annotations which require a custom runner/extension:</p>\n<pre><code>public class MyTest {\n  private Random random;\n  private MyClass obj;\n\n  @BeforeEach // JUnit 5\n  // @Before  // JUnit 4\n  public void setup() {\n    random = Mockito.mock(random);\n    obj = new MyClass(random);\n  }\n\n  @Test\n  public void test() {\n    Mockito.when(random.nextInt()).thenReturn(42);\n    Assertions.assertEquals(&quot;42&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;42&quot;, obj.doWork());  // JUnit 4\n  }\n}\n</code></pre>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/15494926/initialising-mock-objects-mockito\">Initialising mock objects - Mockito</a></li>\n<li><a href=\"https://stackoverflow.com/questions/16467685/difference-between-mock-and-injectmocks\">Difference between @Mock and @InjectMocks</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5920153/test-class-with-a-new-call-in-it-with-mockito\">Test class with a new() call in it with Mockito</a></li>\n</ul>\n"}],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8783,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74027325,"answer_count":1,"score":2,"last_activity_date":1700294554,"creation_date":1665487413,"question_id":74027324,"body_markdown":"&gt; ##### Preface:\r\n&gt; This question and answer are intended as a canonical answer to\r\n&gt; the majority of questions that arise due to misuse of Mockito or\r\n&gt; misunderstanding how Mockito works and interacts with unit tests\r\n&gt; written in the Java language.\r\n\r\n***\r\n\r\nI have implemented a class which should be unit tested. Note that the code shown here is only a dummy implementation and `Random` is for illustrative purposes. Real code would use a real dependency, such as another service or repository.\r\n\r\n```\r\npublic class MyClass {\r\n  public String doWork() {\r\n    final Random random = new Random(); // the `Random` class will be mocked in the test\r\n    return Integer.toString(random.nextInt());\r\n  }\r\n}\r\n```\r\n\r\nI want to use Mockito for mocking other classes and have written a really simple JUnit test. However, my class is not using the mock in the test:\r\n\r\n\r\n```\r\npublic class MyTest {\r\n  @Test\r\n  public void test() {\r\n    Mockito.mock(Random.class);\r\n    final MyClass obj = new MyClass();\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\r\n    // this fails, because the `Random` mock is not used :(\r\n  }\r\n}\r\n```\r\n\r\nEven running the test with the `MockitoJUnitRunner` (JUnit 4) or extending with `MockitoExtension` (JUnit 5) and annotating with `@Mock` does not help; the real implementation is still used:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)   // JUnit 5\r\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\r\npublic class MyTest {\r\n  @Mock\r\n  private Random random;\r\n\r\n  @Test\r\n  public void test() {\r\n    final MyClass obj = new MyClass();\r\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\r\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\r\n    // `Random` mock is still not used :((\r\n  }\r\n}\r\n```\r\n\r\nWhy is the mocked class not used, even though the Mockito methods are called before my class is tested or the test is executed with the Mockito extension/runner?\r\n\r\n*****\r\n\r\nOther variants of this question include but are not limited to:\r\n\r\n* My mocks return null / My stubs return null\r\n* NullPointerException when using Mockito\r\n* My mocks are null in test\r\n* My mocks don&#39;t return the expected value / My stubs do not return the expected value\r\n* Mockito `thenReturn` not honored / Mockito `thenAnswer` not honored\r\n* `@InjectMocks` not working\r\n* `@Mock` not working\r\n* `Mockito.mock` not working\r\n* My class is not using mocks / My class is not using stubs\r\n* My tests still call or execute the real implementation of a mocked/stubbed class","title":"Why are my mocked methods not called when executing a unit test?","body":"<blockquote>\n<h5>Preface:</h5>\n<p>This question and answer are intended as a canonical answer to\nthe majority of questions that arise due to misuse of Mockito or\nmisunderstanding how Mockito works and interacts with unit tests\nwritten in the Java language.</p>\n</blockquote>\n<hr />\n<p>I have implemented a class which should be unit tested. Note that the code shown here is only a dummy implementation and <code>Random</code> is for illustrative purposes. Real code would use a real dependency, such as another service or repository.</p>\n<pre><code>public class MyClass {\n  public String doWork() {\n    final Random random = new Random(); // the `Random` class will be mocked in the test\n    return Integer.toString(random.nextInt());\n  }\n}\n</code></pre>\n<p>I want to use Mockito for mocking other classes and have written a really simple JUnit test. However, my class is not using the mock in the test:</p>\n<pre><code>public class MyTest {\n  @Test\n  public void test() {\n    Mockito.mock(Random.class);\n    final MyClass obj = new MyClass();\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\n    // this fails, because the `Random` mock is not used :(\n  }\n}\n</code></pre>\n<p>Even running the test with the <code>MockitoJUnitRunner</code> (JUnit 4) or extending with <code>MockitoExtension</code> (JUnit 5) and annotating with <code>@Mock</code> does not help; the real implementation is still used:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)   // JUnit 5\n// @RunWith(MockitoJUnitRunner.class) // JUnit 4\npublic class MyTest {\n  @Mock\n  private Random random;\n\n  @Test\n  public void test() {\n    final MyClass obj = new MyClass();\n    Assertions.assertEquals(&quot;0&quot;, obj.doWork()); // JUnit 5\n    // Assert.assertEquals(&quot;0&quot;, obj.doWork());  // JUnit 4\n    // `Random` mock is still not used :((\n  }\n}\n</code></pre>\n<p>Why is the mocked class not used, even though the Mockito methods are called before my class is tested or the test is executed with the Mockito extension/runner?</p>\n<hr />\n<p>Other variants of this question include but are not limited to:</p>\n<ul>\n<li>My mocks return null / My stubs return null</li>\n<li>NullPointerException when using Mockito</li>\n<li>My mocks are null in test</li>\n<li>My mocks don't return the expected value / My stubs do not return the expected value</li>\n<li>Mockito <code>thenReturn</code> not honored / Mockito <code>thenAnswer</code> not honored</li>\n<li><code>@InjectMocks</code> not working</li>\n<li><code>@Mock</code> not working</li>\n<li><code>Mockito.mock</code> not working</li>\n<li>My class is not using mocks / My class is not using stubs</li>\n<li>My tests still call or execute the real implementation of a mocked/stubbed class</li>\n</ul>\n"},{"tags":["java","printf"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1700195942,"post_id":77499377,"comment_id":136627297,"body_markdown":"Use the [Class Formatter](https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html)","body":"Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Class Formatter</a>"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1700196411,"post_id":77499377,"comment_id":136627332,"body_markdown":"@K.Nicholas Thank you for your comment. Can you please give me an example? Say printing `5.12345678` into `05.12345678`?","body":"@K.Nicholas Thank you for your comment. Can you please give me an example? Say printing <code>5.12345678</code> into <code>05.12345678</code>?"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1700196561,"post_id":77499377,"comment_id":136627347,"body_markdown":"I&#39;ll pass on that.","body":"I&#39;ll pass on that."},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1700196824,"post_id":77499377,"comment_id":136627371,"body_markdown":"Does this answer your question? https://stackoverflow.com/a/1740581/2638227","body":"Does this answer your question? <a href=\"https://stackoverflow.com/a/1740581/2638227\">stackoverflow.com/a/1740581/2638227</a>"}],"answers":[{"comments":[{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":1,"creation_date":1700198552,"post_id":77499417,"comment_id":136627475,"body_markdown":"Do we have any defined constant for the `20` fraction digits? Thanks.","body":"Do we have any defined constant for the <code>20</code> fraction digits? Thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700237110,"post_id":77499417,"comment_id":136633463,"body_markdown":"@JinKwon, I believe it&#39;s 16 decimal digits.  _&quot;... decimal formats are described, matching the lengths of the 32128-bit binary formats. These give decimal interchange formats with 7, 16, and 34-digit significands ...&quot;_, from, _[Wikipedia  IEEE 754-2008 revision  Clause_3: Formats](https://en.wikipedia.org/wiki/IEEE_754-2008_revision#Clause_3:_Formats)_.","body":"@JinKwon, I believe it&#39;s 16 decimal digits.  <i>&quot;... decimal formats are described, matching the lengths of the 32128-bit binary formats. These give decimal interchange formats with 7, 16, and 34-digit significands ...&quot;</i>, from, <i><a href=\"https://en.wikipedia.org/wiki/IEEE_754-2008_revision#Clause_3:_Formats\" rel=\"nofollow noreferrer\">Wikipedia  IEEE 754-2008 revision  Clause_3: Formats</a></i>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700196751,"creation_date":1700196751,"answer_id":77499417,"question_id":77499377,"body_markdown":"Use the _[DecimalFormat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/DecimalFormat.html)_ class.\r\n\r\n```java\r\ndouble[] a = { 0.1234567, 5.12345678, 31.123456789 };\r\nDecimalFormat f = new DecimalFormat();\r\nf.setMinimumIntegerDigits(2);\r\nf.setMaximumFractionDigits(20);\r\nfor (double v : a) System.out.println(f.format(v));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n00.1234567\r\n05.12345678\r\n31.123456789\r\n```","title":"How can I format double with left zero pads?","body":"<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] a = { 0.1234567, 5.12345678, 31.123456789 };\nDecimalFormat f = new DecimalFormat();\nf.setMinimumIntegerDigits(2);\nf.setMaximumFractionDigits(20);\nfor (double v : a) System.out.println(f.format(v));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>00.1234567\n05.12345678\n31.123456789\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700200746,"creation_date":1700200746,"answer_id":77499609,"question_id":77499377,"body_markdown":"I&#39;m currently solving my problem with the following logic.\r\n\r\n```java\r\ndouble d = ...\r\nvar f = d % 1;\r\nvar i = d - f;\r\nvar formatted = String.format(&quot;%1$02d&quot;, i) + \r\n                BigDecimal.valueOf(f).toString().substring(1);\r\n```","title":"How can I format double with left zero pads?","body":"<p>I'm currently solving my problem with the following logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double d = ...\nvar f = d % 1;\nvar i = d - f;\nvar formatted = String.format(&quot;%1$02d&quot;, i) + \n                BigDecimal.valueOf(f).toString().substring(1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1700301425,"post_id":77506093,"comment_id":136639590,"body_markdown":"`%.f` discards some digits as you can see. I need to know how to print with an optional left-padded zero and all decimal digits.","body":"<code>%.f</code> discards some digits as you can see. I need to know how to print with an optional left-padded zero and all decimal digits."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700294347,"creation_date":1700294347,"answer_id":77506093,"question_id":77499377,"body_markdown":"You can do it easily with `String.format()`:\r\n```java\r\ndouble num = 5.12345678;\r\nSystem.out.println(String.format(Locale.US, &quot;%f&quot;, num));      // 5.123457\r\nSystem.out.println(String.format(Locale.US, &quot;%.4f&quot;, num));    // 5.1235\r\nSystem.out.println(String.format(Locale.US, &quot;%7.4f&quot;, num));   //  5.1235\r\nSystem.out.println(String.format(Locale.US, &quot;%07.4f&quot;, num));  // 05.1235\r\n```","title":"How can I format double with left zero pads?","body":"<p>You can do it easily with <code>String.format()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double num = 5.12345678;\nSystem.out.println(String.format(Locale.US, &quot;%f&quot;, num));      // 5.123457\nSystem.out.println(String.format(Locale.US, &quot;%.4f&quot;, num));    // 5.1235\nSystem.out.println(String.format(Locale.US, &quot;%7.4f&quot;, num));   //  5.1235\nSystem.out.println(String.format(Locale.US, &quot;%07.4f&quot;, num));  // 05.1235\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1700294347,"creation_date":1700195737,"question_id":77499377,"body_markdown":"I have a `double` value between `.0d`(inclusive) and `60.0d`(exclusive).\r\n\r\nHow can I format the value with left zero padded?\r\n\r\nfor instance,\r\n\r\n* `0.1234567` -&gt; `00.1234567`\r\n* `5.12345678` -&gt; `05.12345678`\r\n* `31.123456789` -&gt; `31.123456789`\r\n* `59.0000000001....` -&gt; `59.0000000001....`","title":"How can I format double with left zero pads?","body":"<p>I have a <code>double</code> value between <code>.0d</code>(inclusive) and <code>60.0d</code>(exclusive).</p>\n<p>How can I format the value with left zero padded?</p>\n<p>for instance,</p>\n<ul>\n<li><code>0.1234567</code> -&gt; <code>00.1234567</code></li>\n<li><code>5.12345678</code> -&gt; <code>05.12345678</code></li>\n<li><code>31.123456789</code> -&gt; <code>31.123456789</code></li>\n<li><code>59.0000000001....</code> -&gt; <code>59.0000000001....</code></li>\n</ul>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1410408907,"post_id":25778963,"comment_id":40316914,"body_markdown":"It is totally unclear to me what you are asking. your English wording is very confusing. what is the issue? where is the error?","body":"It is totally unclear to me what you are asking. your English wording is very confusing. what is the issue? where is the error?"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1410408951,"post_id":25778963,"comment_id":40316931,"body_markdown":"Can you translate this for me? &quot;Im trying to write a method that returns the number of words from the &quot;words&quot; parameter that have at least the min&quot; but no more than the &quot;max c&quot;haracters.&quot;","body":"Can you translate this for me? &quot;Im trying to write a method that returns the number of words from the &quot;words&quot; parameter that have at least the min&quot; but no more than the &quot;max c&quot;haracters.&quot;"},{"owner":{"account_id":3388421,"reputation":351,"user_id":2843882,"accept_rate":100,"display_name":"Gama"},"score":0,"creation_date":1410409107,"post_id":25778963,"comment_id":40316971,"body_markdown":"lol, I copy and pasted the instructions just as I was told. But Im trying to find the words in a string (words) that have at least a certain amount of characters (min) and no more than certain amount of characters (max). hope that makes more sense","body":"lol, I copy and pasted the instructions just as I was told. But Im trying to find the words in a string (words) that have at least a certain amount of characters (min) and no more than certain amount of characters (max). hope that makes more sense"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1410409257,"post_id":25778963,"comment_id":40317010,"body_markdown":"what is the issue here?","body":"what is the issue here?"},{"owner":{"account_id":3388421,"reputation":351,"user_id":2843882,"accept_rate":100,"display_name":"Gama"},"score":0,"creation_date":1410409432,"post_id":25778963,"comment_id":40317065,"body_markdown":"my instructor  gave test cases and there is something wrong with it according to those test cases so I was hoping to get some help","body":"my instructor  gave test cases and there is something wrong with it according to those test cases so I was hoping to get some help"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1410409469,"post_id":25778963,"comment_id":40317077,"body_markdown":"so tell me what is wrong? at least post up some error code?","body":"so tell me what is wrong? at least post up some error code?"},{"owner":{"account_id":3388421,"reputation":351,"user_id":2843882,"accept_rate":100,"display_name":"Gama"},"score":0,"creation_date":1410409675,"post_id":25778963,"comment_id":40317141,"body_markdown":"that us the thing, there is no error code except that showed by the test cases which is is that the output expected was 3 but 0 was given","body":"that us the thing, there is no error code except that showed by the test cases which is is that the output expected was 3 but 0 was given"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1410409693,"post_id":25778963,"comment_id":40317148,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/61019/discussion-between-kick-buttowski-and-gamaliel-tellez-ortiz).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/61019/discussion-between-kick-buttowski-and-gamaliel-tellez-ortiz\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":2036507,"reputation":46,"user_id":1818747,"display_name":"Akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410410193,"creation_date":1410410193,"answer_id":25779173,"question_id":25778963,"body_markdown":"Just a small change. You are closing the scanner in the while loop, move it out of the loop and it works.\r\n\r\n    public static int countWords(String words, int min, int max) {\r\n    \t\tScanner s = new Scanner(words);\r\n    \t\tint counter = 0;\r\n    \t\twhile (s.hasNext()) {\r\n    \t\t\tString word = s.next();\r\n    \t\t\tint wordLength = word.length();\r\n    \t\t\tif (wordLength &gt; min &amp;&amp; wordLength &lt; max) {\r\n    \t\t\t\tcounter = counter + 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\ts.close();\r\n    \t\treturn counter;\r\n    \t}\r\n\r\nAnd also I suggest, you change the if condition to make it inclusive of min and max.\r\nif (wordLength &gt;= min &amp;&amp; wordLength =&lt; max) {\r\nFor example countWords(&quot;count words in this line 1 22 333 4444 55555&quot;,3,4) would not return any result for any string with you current condition.","title":"using scanner to evaluate words in a string","body":"<p>Just a small change. You are closing the scanner in the while loop, move it out of the loop and it works.</p>\n\n<pre><code>public static int countWords(String words, int min, int max) {\n        Scanner s = new Scanner(words);\n        int counter = 0;\n        while (s.hasNext()) {\n            String word = s.next();\n            int wordLength = word.length();\n            if (wordLength &gt; min &amp;&amp; wordLength &lt; max) {\n                counter = counter + 1;\n            }\n        }\n        s.close();\n        return counter;\n    }\n</code></pre>\n\n<p>And also I suggest, you change the if condition to make it inclusive of min and max.\nif (wordLength >= min &amp;&amp; wordLength =&lt; max) {\nFor example countWords(\"count words in this line 1 22 333 4444 55555\",3,4) would not return any result for any string with you current condition.</p>\n"},{"tags":[],"owner":{"account_id":3572172,"reputation":6531,"user_id":2982225,"display_name":"Infinite Recursion"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410410735,"creation_date":1410410404,"answer_id":25779207,"question_id":25778963,"body_markdown":"The preference of using split versus scanner while working with Strings has been discussed before in \n\n - https://stackoverflow.com/questions/736654/javas-scanner-vs-string-split-vs-stringtokenizer-which-should-i-use\n\nI prefer regex, so here is a solution using the [split][1] method of String as follows:\n\n## Using regex\n    public class Sample {\n        \n        public static int countWords(String words, int min, int max) {\n    \n            String[] allWords = words.split(&quot;(?s)\\\\s+&quot;);\n            int counter = 0;\n    \n            for (String word : allWords) {\n                if(word.length() &gt;= min &amp;&amp; word.length() &lt;= max)\n                    counter++;\n            }\n            return counter;\n        }\n        \n        public static void main(String[] args) {\n            String s = &quot;find all the long words in this sentence&quot;;\n            System.out.println(countWords(s,4,7));\n        }\n    }\n\n\nIf you want to use [Scanner][2], you can do it like this :\n\n\n## Using scanner\n    public class Sample {\n        \n        public static int countWords(String words, int min, int max) {\n    \n            Scanner scan = new Scanner(words);\n            int counter = 0;\n            int length = 0;\n    \n            while(scan.hasNext()){\n                length  = scan.next().length();\n                if(length &gt;= min &amp;&amp; length &lt;= max)\n                    counter++;\n            }\n            scan.close();\n            return counter;\n        }\n        \n        public static void main(String[] args) {\n            String s = &quot;find all the long words in this sentence&quot;;\n            System.out.println(countWords(s,4,7));\n        }\n    }\n\n\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String)\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"using scanner to evaluate words in a string","body":"<p>The preference of using split versus scanner while working with Strings has been discussed before in</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/736654/javas-scanner-vs-string-split-vs-stringtokenizer-which-should-i-use\">Java&#39;s Scanner vs String.split() vs StringTokenizer; which should I use?</a></li>\n</ul>\n<p>I prefer regex, so here is a solution using the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">split</a> method of String as follows:</p>\n<h2>Using regex</h2>\n<pre><code>public class Sample {\n    \n    public static int countWords(String words, int min, int max) {\n\n        String[] allWords = words.split(&quot;(?s)\\\\s+&quot;);\n        int counter = 0;\n\n        for (String word : allWords) {\n            if(word.length() &gt;= min &amp;&amp; word.length() &lt;= max)\n                counter++;\n        }\n        return counter;\n    }\n    \n    public static void main(String[] args) {\n        String s = &quot;find all the long words in this sentence&quot;;\n        System.out.println(countWords(s,4,7));\n    }\n}\n</code></pre>\n<p>If you want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a>, you can do it like this :</p>\n<h2>Using scanner</h2>\n<pre><code>public class Sample {\n    \n    public static int countWords(String words, int min, int max) {\n\n        Scanner scan = new Scanner(words);\n        int counter = 0;\n        int length = 0;\n\n        while(scan.hasNext()){\n            length  = scan.next().length();\n            if(length &gt;= min &amp;&amp; length &lt;= max)\n                counter++;\n        }\n        scan.close();\n        return counter;\n    }\n    \n    public static void main(String[] args) {\n        String s = &quot;find all the long words in this sentence&quot;;\n        System.out.println(countWords(s,4,7));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700296924,"post_id":25779701,"comment_id":136639247,"body_markdown":"How can that be the accepted answer? `wordLength == min || wordLength == max` is not representing &#39;at least the min&quot; but no more than the &quot;max c&quot;haracters&#39; (unless `min == max-1`) - even back in 2014","body":"How can that be the accepted answer? <code>wordLength == min || wordLength == max</code> is not representing &#39;at least the min&quot; but no more than the &quot;max c&quot;haracters&#39; (unless <code>min == max-1</code>) - even back in 2014"}],"tags":[],"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1410413727,"creation_date":1410413261,"answer_id":25779701,"question_id":25778963,"body_markdown":"Based on what I can understand from you, you want to count words that has specified max and min \r\n \r\nFor example, \r\n\r\n`&quot;The rain in Spain falls mainly in the plain&quot;, 3, 5`  is return `5` because they are 3 fives and 2 threes\r\n\r\nyour code is quite alright except this part which needs some change in its logic\r\n\r\n    if (wordLength&gt;min &amp;&amp; wordLength&lt;max) \r\n\r\nBased on what I understand from your question you want word which has either min length or max length\r\n\r\nAs result you have to change that if statement to this\r\n\r\n    if (wordLength == min || wordLength == max) {\r\n\r\n**Explanation** : length of the word is equal to min length or max length , counter is gonna be added\r\n\r\n","title":"using scanner to evaluate words in a string","body":"<p>Based on what I can understand from you, you want to count words that has specified max and min </p>\n\n<p>For example, </p>\n\n<p><code>\"The rain in Spain falls mainly in the plain\", 3, 5</code>  is return <code>5</code> because they are 3 fives and 2 threes</p>\n\n<p>your code is quite alright except this part which needs some change in its logic</p>\n\n<pre><code>if (wordLength&gt;min &amp;&amp; wordLength&lt;max) \n</code></pre>\n\n<p>Based on what I understand from your question you want word which has either min length or max length</p>\n\n<p>As result you have to change that if statement to this</p>\n\n<pre><code>if (wordLength == min || wordLength == max) {\n</code></pre>\n\n<p><strong>Explanation</strong> : length of the word is equal to min length or max length , counter is gonna be added</p>\n"}],"owner":{"account_id":3388421,"reputation":351,"user_id":2843882,"accept_rate":100,"display_name":"Gama"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":25779701,"answer_count":3,"score":2,"last_activity_date":1700294050,"creation_date":1410408845,"question_id":25778963,"body_markdown":"Im trying to write a method that returns the number of words from the &quot;words&quot; parameter that have at least the min&quot; but no more than the &quot;max c&quot;haracters.\r\n\r\n    public static int countWords(String words, int min, int max)\r\n\t{\r\n\t\tScanner s = new Scanner (words);\r\n\t\tint counter = 0;\r\n\t\t\r\n\t while  (s.hasNext())\r\n\t\t{\r\n\t\tString word = s.next();\r\n\t\tint wordLength = word.length();\r\n\t\tif (wordLength&gt;min &amp;&amp; wordLength&lt;max)\r\n\t\t{\r\n\t\t\tcounter= counter + 1;\r\n\t\t\ts.close();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn counter;\r\n\t}","title":"using scanner to evaluate words in a string","body":"<p>Im trying to write a method that returns the number of words from the \"words\" parameter that have at least the min\" but no more than the \"max c\"haracters.</p>\n\n<pre><code>public static int countWords(String words, int min, int max)\n{\n    Scanner s = new Scanner (words);\n    int counter = 0;\n\n while  (s.hasNext())\n    {\n    String word = s.next();\n    int wordLength = word.length();\n    if (wordLength&gt;min &amp;&amp; wordLength&lt;max)\n    {\n        counter= counter + 1;\n        s.close();\n        }\n    }\n    return counter;\n}\n</code></pre>\n"},{"tags":["java","linux","midi","alsa","javax.sound.midi"],"owner":{"account_id":29932604,"reputation":11,"user_id":22939099,"display_name":"KittyKittyKitKat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":0,"score":-1,"last_activity_date":1700293885,"creation_date":1700293885,"question_id":77506072,"body_markdown":"I am working to create a Java application that can accept arbitrary MIDI input on Linux (Ubuntu 20.04). After following along with this [post](https://stackoverflow.com/questions/6937760/java-getting-input-from-midi-keyboard), I was able to get a program that was able to read MIDI messages from my external MIDI controller (Williams Allegro 2). However, while my program is running, it is not visible to ALSA based services such as `aconnect -l` or viewable within `qjackctl`.\r\n\r\nHow can I get my application to open a valid MIDI port to these services, so that I may send MIDI data from any input device?\r\n\r\nI tried a few things in attempts to resolve this, including trying `a2jmidid -e` to convert ALSA ports to JACK and using VMPK. `a2jmidid` yielded nothing, and the program does not recognize VMPK despite it being listed with `aconnect`. A sufficent reproducable example is found in the code above, along with a simple `main(String[] args)` that initialized the `MidiHandler`.\r\n\r\nAny help is greatly appreciated, as I haven&#39;t found leads anywhere else.","title":"Create viewable and interactable ALSA MIDI port with Java on Linux","body":"<p>I am working to create a Java application that can accept arbitrary MIDI input on Linux (Ubuntu 20.04). After following along with this <a href=\"https://stackoverflow.com/questions/6937760/java-getting-input-from-midi-keyboard\">post</a>, I was able to get a program that was able to read MIDI messages from my external MIDI controller (Williams Allegro 2). However, while my program is running, it is not visible to ALSA based services such as <code>aconnect -l</code> or viewable within <code>qjackctl</code>.</p>\n<p>How can I get my application to open a valid MIDI port to these services, so that I may send MIDI data from any input device?</p>\n<p>I tried a few things in attempts to resolve this, including trying <code>a2jmidid -e</code> to convert ALSA ports to JACK and using VMPK. <code>a2jmidid</code> yielded nothing, and the program does not recognize VMPK despite it being listed with <code>aconnect</code>. A sufficent reproducable example is found in the code above, along with a simple <code>main(String[] args)</code> that initialized the <code>MidiHandler</code>.</p>\n<p>Any help is greatly appreciated, as I haven't found leads anywhere else.</p>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":986214,"reputation":975,"user_id":1004631,"display_name":"robot_alien"},"score":1,"creation_date":1489651464,"post_id":42828262,"comment_id":72766786,"body_markdown":"In windows go to Services and check whether OracleXETNSListener and OracleServiceXE are in running state.","body":"In windows go to Services and check whether OracleXETNSListener and OracleServiceXE are in running state."},{"owner":{"display_name":"user5102362"},"score":0,"creation_date":1489652528,"post_id":42828262,"comment_id":72767348,"body_markdown":"in services tab there was no option  OracleServiceXE  for running it","body":"in services tab there was no option  OracleServiceXE  for running it"},{"owner":{"account_id":986214,"reputation":975,"user_id":1004631,"display_name":"robot_alien"},"score":0,"creation_date":1489652740,"post_id":42828262,"comment_id":72767470,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/138189/discussion-between-coolgirl-and-anil-kumar).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/138189/discussion-between-coolgirl-and-anil-kumar\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"display_name":"user5102362"},"score":0,"creation_date":1489651946,"post_id":42828447,"comment_id":72767021,"body_markdown":"how to find instance name?","body":"how to find instance name?"}],"tags":[],"owner":{"account_id":2911891,"reputation":1,"user_id":2495900,"display_name":"Copper"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489651710,"creation_date":1489651710,"answer_id":42828447,"question_id":42828262,"body_markdown":"It shows that your instance name is xe, make sure xe is that you have installed instance.\r\n\r\nif not, change the instance name.\r\n\r\nnot server name.","title":"java.sql.SQLException: Listener refused the connection with the following error: ORA-12505","body":"<p>It shows that your instance name is xe, make sure xe is that you have installed instance.</p>\n\n<p>if not, change the instance name.</p>\n\n<p>not server name.</p>\n"},{"tags":[],"owner":{"account_id":5544015,"reputation":432,"user_id":4399423,"accept_rate":100,"display_name":"Ram Limbu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489653463,"creation_date":1489652658,"answer_id":42828713,"question_id":42828262,"body_markdown":"Error message shows that SID given is unknown. Please make sure that SID of installed instance is &#39;xe&#39; by connecting to any schema and running any of query below\r\n\r\n    select instance from v$thread;\r\n    \r\n    select name from v$database;\r\n\r\nOr type on `sqlplus` command prompt\r\n\r\n    show parameter instance_name;","title":"java.sql.SQLException: Listener refused the connection with the following error: ORA-12505","body":"<p>Error message shows that SID given is unknown. Please make sure that SID of installed instance is 'xe' by connecting to any schema and running any of query below</p>\n\n<pre><code>select instance from v$thread;\n\nselect name from v$database;\n</code></pre>\n\n<p>Or type on <code>sqlplus</code> command prompt</p>\n\n<pre><code>show parameter instance_name;\n</code></pre>\n"}],"owner":{"display_name":"user5102362"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700291285,"creation_date":1489650973,"question_id":42828262,"body_markdown":"Hi i am beginner and present I have installed Oracle 10g Express Edition Release 2 in my windows 7 64 bit OS and tried to execute Hibernate program but i am getting below exceptions can some one help me please\r\n\r\n    WARNING: Could not obtain connection metadata\r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    ORA-12505, TNS:listener does not currently know of SID given in connect descriptor\r\n    The Connection descriptor used by the client was:\r\n    localhost:1521:xe\r\n    \r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:261)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:414)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:187)\r\n    \tat org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)\r\n    \tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:76)\r\n    \tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:1933)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1216)\r\n    \tat test.Test.main(Test.java:11)\r\n\r\nhibernate.cfg.xml:-\r\n-----\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration SYSTEM \r\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n     &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n     &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:xe&lt;/property&gt;\r\n     &lt;property name=&quot;connection.username&quot;&gt;scott&lt;/property&gt;\r\n     &lt;property name=&quot;connection.password&quot;&gt;tiger&lt;/property&gt;\r\n     &lt;property name=&quot;connection.pool_size&quot;&gt;10&lt;/property&gt;\r\n     &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.OracleDialect&lt;/property&gt;\r\n     &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n     &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n     &lt;mapping resource = &quot;resources/Dept.hbm.xml&quot;/&gt;\r\n     &lt;mapping resource = &quot;resources/Employee.hbm.xml&quot;/&gt;\r\n     &lt;mapping resource = &quot;resources/Student.hbm.xml&quot;/&gt;\r\n    \r\n    &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n","title":"java.sql.SQLException: Listener refused the connection with the following error: ORA-12505","body":"<p>Hi i am beginner and present I have installed Oracle 10g Express Edition Release 2 in my windows 7 64 bit OS and tried to execute Hibernate program but i am getting below exceptions can some one help me please</p>\n\n<pre><code>WARNING: Could not obtain connection metadata\njava.sql.SQLException: Listener refused the connection with the following error:\nORA-12505, TNS:listener does not currently know of SID given in connect descriptor\nThe Connection descriptor used by the client was:\nlocalhost:1521:xe\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:261)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:414)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n    at java.sql.DriverManager.getConnection(DriverManager.java:571)\n    at java.sql.DriverManager.getConnection(DriverManager.java:187)\n    at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)\n    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:76)\n    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:1933)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1216)\n    at test.Test.main(Test.java:11)\n</code></pre>\n\n<h2>hibernate.cfg.xml:-</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM \n\"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n &lt;property name=\"connection.driver_class\"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n &lt;property name=\"connection.url\"&gt;jdbc:oracle:thin:@localhost:1521:xe&lt;/property&gt;\n &lt;property name=\"connection.username\"&gt;scott&lt;/property&gt;\n &lt;property name=\"connection.password\"&gt;tiger&lt;/property&gt;\n &lt;property name=\"connection.pool_size\"&gt;10&lt;/property&gt;\n &lt;property name=\"dialect\"&gt;org.hibernate.dialect.OracleDialect&lt;/property&gt;\n &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n &lt;mapping resource = \"resources/Dept.hbm.xml\"/&gt;\n &lt;mapping resource = \"resources/Employee.hbm.xml\"/&gt;\n &lt;mapping resource = \"resources/Student.hbm.xml\"/&gt;\n\n&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":["java","gradle","ant","build.gradle","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1700695079,"post_id":77498731,"comment_id":136687592,"body_markdown":"_&quot;unfortunately the steps are all written for maven project&quot;_ - Correction: No, they are written for an Ant project.","body":"<i>&quot;unfortunately the steps are all written for maven project&quot;</i> - Correction: No, they are written for an Ant project."}],"answers":[{"comments":[{"owner":{"account_id":13379210,"reputation":297,"user_id":9655054,"display_name":"Edward Sun"},"score":0,"creation_date":1700532745,"post_id":77505863,"comment_id":136663686,"body_markdown":"Thanks for chime in first of all.  \nquoting `but obviously it is not on the Ant task&#39;s classpath` , yea...this is exact the problem that I am trying to solve, having no luck to find a helpful guide yet...\n`BTW, why are you using an ancient Ant task from Gradle and not something like Freefair?` Well...the short answer would be it is an ancient service ( built more than 6 years ago ) if Java 8 still alive, we would never touch it.  Btw, is Freefair a must-have for upgrading to Java 11 for AOP code base ?","body":"Thanks for chime in first of all.   quoting <code>but obviously it is not on the Ant task&#39;s classpath</code> , yea...this is exact the problem that I am trying to solve, having no luck to find a helpful guide yet... <code>BTW, why are you using an ancient Ant task from Gradle and not something like Freefair?</code> Well...the short answer would be it is an ancient service ( built more than 6 years ago ) if Java 8 still alive, we would never touch it.  Btw, is Freefair a must-have for upgrading to Java 11 for AOP code base ?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1700547632,"post_id":77505863,"comment_id":136664837,"body_markdown":"No, it is just an easier way to use the AspectJ compiler from Gradle. I know all about AspectJ + Maven, but never use Gradle. But I used Freefair in the past to answer AspectJ + Gradle related questions, and it is quite easy to use with way less boilerplate than you have now. Besides, I am not an Ant user either and certainly never used Ant from Gradle before. Therefore, without a full, minimal reproducer on GitHub, I cannot help you.","body":"No, it is just an easier way to use the AspectJ compiler from Gradle. I know all about AspectJ + Maven, but never use Gradle. But I used Freefair in the past to answer AspectJ + Gradle related questions, and it is quite easy to use with way less boilerplate than you have now. Besides, I am not an Ant user either and certainly never used Ant from Gradle before. Therefore, without a full, minimal reproducer on GitHub, I cannot help you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1700695899,"post_id":77505863,"comment_id":136687664,"body_markdown":"I would like to help you better, but I need you to provide an [MCVE](https://stackoverflow.com/help/mcve) project on GitHub - not your original code, just a minimal reproducer. I won&#39;t create one from scratch.","body":"I would like to help you better, but I need you to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> project on GitHub - not your original code, just a minimal reproducer. I won&#39;t create one from scratch."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700287731,"creation_date":1700287731,"answer_id":77505863,"question_id":77498731,"body_markdown":"&gt; I have double checked and verified that the `aspectjrt.jar` exists in my home `.gradle` directory\r\n\r\nWell, that might be true, but obviously it is not on the Ant task&#39;s classpath (added line breaks to limit horizontal scrolling):\r\n\r\n```none\r\n[ant:iajc] [warning] couldn&#39;t find aspectjrt.jar on classpath, checked\r\n  /Library/Java/JavaVirtualMachines/jdk-11.0.14.jdk/Contents/Home/lib/jrt-fs.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar\r\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar\r\n```\r\n\r\nFix that, and you should be fine.\r\n\r\nBTW, why are you using an ancient Ant task from Gradle and not something like [Freefair](https://docs.freefair.io/gradle-plugins/8.4/reference/)?","title":"Upgrading AspectJ 1.8.1 to 1.9.8 and Integrate with Gradle 7 + Java 11 Fail To locate Aspectjrt.jar","body":"<blockquote>\n<p>I have double checked and verified that the <code>aspectjrt.jar</code> exists in my home <code>.gradle</code> directory</p>\n</blockquote>\n<p>Well, that might be true, but obviously it is not on the Ant task's classpath (added line breaks to limit horizontal scrolling):</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ant:iajc] [warning] couldn't find aspectjrt.jar on classpath, checked\n  /Library/Java/JavaVirtualMachines/jdk-11.0.14.jdk/Contents/Home/lib/jrt-fs.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar\n  /Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar\n</code></pre>\n<p>Fix that, and you should be fine.</p>\n<p>BTW, why are you using an ancient Ant task from Gradle and not something like <a href=\"https://docs.freefair.io/gradle-plugins/8.4/reference/\" rel=\"nofollow noreferrer\">Freefair</a>?</p>\n"}],"owner":{"account_id":13379210,"reputation":297,"user_id":9655054,"display_name":"Edward Sun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700287731,"creation_date":1700180575,"question_id":77498731,"body_markdown":"I am in process of upgrading Java 8 based spring codebase ( gradle project ) to Java 11. \r\nThe project does contain AOP code (https://en.wikipedia.org/wiki/Aspect-oriented_programming) and it relies on these dependencies \r\n```none\r\norg.springframework:spring-aspects:4.3.27.RELEASE\r\norg.aspectj:aspectjtools:1.8.1\r\norg.aspectj:aspectjrt:1.8.1\r\n```\r\nThe above dependencies after bumping up to 1.9.8:\r\n```java\r\ndependencies {\r\n    ajc &#39;org.aspectj:aspectjtools:1.9.8&#39;\r\n    implementation &#39;javax.persistence:persistence-api:1.0&#39;\r\n    implementation &#39;org.aspectj:aspectjtools:1.9.8&#39;\r\n    implementation &#39;org.aspectj:aspectjrt:1.9.8&#39;\r\n    aspects &#39;javax.persistence:persistence-api:1.0&#39;\r\n\r\n    aspects &quot;org.springframework:spring-aspects:${springVersion}&quot;\r\n    aspects &quot;org.springframework:spring-tx:${springVersion}&quot;\r\n    aspects &quot;org.springframework:spring-orm:${springVersion}&quot;\r\n```\r\n\r\nBased on the following documentation, AspectJ 1.8.x is NOT compatible with java 8+ :\r\nhttps://github.com/eclipse-aspectj/aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md\r\n\r\nAnd Java 17 is what we are planning to upgrade to eventually. \r\nofficial document on AspectJ 1.9.8 and its support: https://htmlpreview.github.io/?https://github.com/kriegaex/org.aspectj/blob/4b9d86acd096e5ee9e108ff0a450c420c880b6ea/docs/dist/doc/README-198.html\r\n\r\nAfter successfully upgraded gradle 5 to gradle 7, attempt to running `gradlew clean build` fail on the following error:\r\n\r\n```none\r\n&gt; Task :compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: /Users/someDir/someService/src/main/java/someCode.java uses unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n[ant:iajc] [warning] couldn&#39;t find aspectjrt.jar on classpath, checked: /Library/Java/JavaVirtualMachines/jdk-11.0.14.jdk/Contents/Home/lib/jrt-fs.jar:/Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine implemented interfaces of missing type org.springframework.beans.factory.DisposableBean\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine implemented interfaces of missing type org.springframework.beans.factory.BeanFactoryAware\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine implemented interfaces of missing type org.springframework.beans.factory.InitializingBean\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine superclass of missing type org.springframework.aop.interceptor.AsyncExecutionAspectSupport\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine superclass of missing type org.springframework.cache.interceptor.CacheAspectSupport\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine implemented interfaces of missing type org.springframework.beans.factory.DisposableBean\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine implemented interfaces of missing type org.springframework.beans.factory.BeanFactoryAware\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine implemented interfaces of missing type org.springframework.beans.factory.InitializingBean\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] can&#39;t determine implemented interfaces of missing type org.springframework.beans.factory.DisposableBean\r\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\r\n[ant:iajc]  [Xlint:cantFindType]\r\n[ant:iajc]\r\n[ant:iajc] [error] classpath error: unable to find org.aspectj.lang.JoinPoint (check that aspectjrt.jar is in your classpath)\r\n[ant:iajc]\r\n[ant:iajc]\r\n[ant:iajc] 10 errors, 1 warning\r\n```\r\n\r\nI have double checked and verified that the `aspectjrt.jar` exists in my home `.gradle` directory :\r\n```none\r\n/Users/user/.gradle/caches/modules-2/files-2.1/org.aspectj/aspectjrt/1.9.8/7a5d13787d5268d415055eba51024fb7348fc533/aspectjrt-1.9.8.jar\r\n```\r\nhowever my existing `build.gradle` file doesn&#39;t seem to be checking for this directory for some reason....( which i suspect to be the root cause here) \r\n\r\nmy current build.gradle settings are as:\r\n```java\r\nconfigurations.all {\r\n    transitive = false\r\n}\r\n\r\ncompileJava {\r\n    doLast {\r\n        ant.taskdef( resource:&quot;org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties&quot;, classpath: configurations.ajc.asPath)\r\n        ant.iajc(\r\n                source:&quot;1.11&quot;,\r\n                target:&quot;1.11&quot;,\r\n                destDir:sourceSets.main.output.classesDirs.getAsPath(),\r\n                maxmem:&quot;512m&quot;, fork:&quot;true&quot;,\r\n                aspectPath:configurations.aspects.asPath,\r\n                sourceRootCopyFilter:&quot;**/*.java&quot;,\r\n                classpath:&quot;${configurations.compile.asPath}&quot;) {\r\n                    sourceroots {\r\n                        sourceSets.main.java.srcDirs.each {\r\n                            srcDir -&gt;\r\n                            pathelement(location:srcDir.absolutePath)\r\n                        }\r\n                    }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconfigurations{\r\n    ajc\r\n    aspects\r\n    aspectCompile\r\n    compile {\r\n        extendsFrom aspects\r\n    }\r\n}\r\n....\r\n\r\ntask sourcesJar(type: Jar) {\r\n    from sourceSets.main.allSource\r\n    classifier = &#39;sources&#39;\r\n}\r\n```\r\n\r\nAnd I have checked all details on the AjcTask(iajc) installation on the official doc, unfortunately the steps are all written for maven project:\r\nhttps://eclipse.dev/aspectj/doc/next/devguide/printable.html#antTasks-install\r\n\r\nIf anyone happen to know link / guide on addressing this issue, will truly appreciate the sharing !\r\n\r\n","title":"Upgrading AspectJ 1.8.1 to 1.9.8 and Integrate with Gradle 7 + Java 11 Fail To locate Aspectjrt.jar","body":"<p>I am in process of upgrading Java 8 based spring codebase ( gradle project ) to Java 11.\nThe project does contain AOP code (<a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Aspect-oriented_programming</a>) and it relies on these dependencies</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework:spring-aspects:4.3.27.RELEASE\norg.aspectj:aspectjtools:1.8.1\norg.aspectj:aspectjrt:1.8.1\n</code></pre>\n<p>The above dependencies after bumping up to 1.9.8:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    ajc 'org.aspectj:aspectjtools:1.9.8'\n    implementation 'javax.persistence:persistence-api:1.0'\n    implementation 'org.aspectj:aspectjtools:1.9.8'\n    implementation 'org.aspectj:aspectjrt:1.9.8'\n    aspects 'javax.persistence:persistence-api:1.0'\n\n    aspects &quot;org.springframework:spring-aspects:${springVersion}&quot;\n    aspects &quot;org.springframework:spring-tx:${springVersion}&quot;\n    aspects &quot;org.springframework:spring-orm:${springVersion}&quot;\n</code></pre>\n<p>Based on the following documentation, AspectJ 1.8.x is NOT compatible with java 8+ :\n<a href=\"https://github.com/eclipse-aspectj/aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md\" rel=\"nofollow noreferrer\">https://github.com/eclipse-aspectj/aspectj/blob/master/docs/dist/doc/JavaVersionCompatibility.md</a></p>\n<p>And Java 17 is what we are planning to upgrade to eventually.\nofficial document on AspectJ 1.9.8 and its support: <a href=\"https://htmlpreview.github.io/?https://github.com/kriegaex/org.aspectj/blob/4b9d86acd096e5ee9e108ff0a450c420c880b6ea/docs/dist/doc/README-198.html\" rel=\"nofollow noreferrer\">https://htmlpreview.github.io/?https://github.com/kriegaex/org.aspectj/blob/4b9d86acd096e5ee9e108ff0a450c420c880b6ea/docs/dist/doc/README-198.html</a></p>\n<p>After successfully upgraded gradle 5 to gradle 7, attempt to running <code>gradlew clean build</code> fail on the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Task :compileJava\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /Users/someDir/someService/src/main/java/someCode.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n[ant:iajc] [warning] couldn't find aspectjrt.jar on classpath, checked: /Library/Java/JavaVirtualMachines/jdk-11.0.14.jdk/Contents/Home/lib/jrt-fs.jar:/Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/javax.persistence/persistence-api/1.0/5725f57873e05e068803e2bf9d5a8ea3740ffec5/persistence-api-1.0.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aspects/5.3.19/a60d729e20daa34220b63be28d1b3cd20c1128e8/spring-aspects-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.19/f0b442718e67000845e8662ea10f138d7c47a3ae/spring-tx-5.3.19.jar:/Users/user/.gradle/caches/modules-2/files-2.1/org.springframework/spring-orm/5.3.19/963b297aed7a1f9252cf4d925e6178190448ec81/spring-orm-5.3.19.jar\n[ant:iajc]\n[ant:iajc] [error] can't determine implemented interfaces of missing type org.springframework.beans.factory.DisposableBean\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine implemented interfaces of missing type org.springframework.beans.factory.BeanFactoryAware\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine implemented interfaces of missing type org.springframework.beans.factory.InitializingBean\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine superclass of missing type org.springframework.aop.interceptor.AsyncExecutionAspectSupport\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine superclass of missing type org.springframework.cache.interceptor.CacheAspectSupport\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine implemented interfaces of missing type org.springframework.beans.factory.DisposableBean\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine implemented interfaces of missing type org.springframework.beans.factory.BeanFactoryAware\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine implemented interfaces of missing type org.springframework.beans.factory.InitializingBean\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] can't determine implemented interfaces of missing type org.springframework.beans.factory.DisposableBean\n[ant:iajc] when batch building BuildConfig[null] #Files=180 AopXmls=#0\n[ant:iajc]  [Xlint:cantFindType]\n[ant:iajc]\n[ant:iajc] [error] classpath error: unable to find org.aspectj.lang.JoinPoint (check that aspectjrt.jar is in your classpath)\n[ant:iajc]\n[ant:iajc]\n[ant:iajc] 10 errors, 1 warning\n</code></pre>\n<p>I have double checked and verified that the <code>aspectjrt.jar</code> exists in my home <code>.gradle</code> directory :</p>\n<pre class=\"lang-none prettyprint-override\"><code>/Users/user/.gradle/caches/modules-2/files-2.1/org.aspectj/aspectjrt/1.9.8/7a5d13787d5268d415055eba51024fb7348fc533/aspectjrt-1.9.8.jar\n</code></pre>\n<p>however my existing <code>build.gradle</code> file doesn't seem to be checking for this directory for some reason....( which i suspect to be the root cause here)</p>\n<p>my current build.gradle settings are as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>configurations.all {\n    transitive = false\n}\n\ncompileJava {\n    doLast {\n        ant.taskdef( resource:&quot;org/aspectj/tools/ant/taskdefs/aspectjTaskdefs.properties&quot;, classpath: configurations.ajc.asPath)\n        ant.iajc(\n                source:&quot;1.11&quot;,\n                target:&quot;1.11&quot;,\n                destDir:sourceSets.main.output.classesDirs.getAsPath(),\n                maxmem:&quot;512m&quot;, fork:&quot;true&quot;,\n                aspectPath:configurations.aspects.asPath,\n                sourceRootCopyFilter:&quot;**/*.java&quot;,\n                classpath:&quot;${configurations.compile.asPath}&quot;) {\n                    sourceroots {\n                        sourceSets.main.java.srcDirs.each {\n                            srcDir -&gt;\n                            pathelement(location:srcDir.absolutePath)\n                        }\n                    }\n        }\n    }\n}\n\n\nconfigurations{\n    ajc\n    aspects\n    aspectCompile\n    compile {\n        extendsFrom aspects\n    }\n}\n....\n\ntask sourcesJar(type: Jar) {\n    from sourceSets.main.allSource\n    classifier = 'sources'\n}\n</code></pre>\n<p>And I have checked all details on the AjcTask(iajc) installation on the official doc, unfortunately the steps are all written for maven project:\n<a href=\"https://eclipse.dev/aspectj/doc/next/devguide/printable.html#antTasks-install\" rel=\"nofollow noreferrer\">https://eclipse.dev/aspectj/doc/next/devguide/printable.html#antTasks-install</a></p>\n<p>If anyone happen to know link / guide on addressing this issue, will truly appreciate the sharing !</p>\n"},{"tags":["java","hadoop","jdbc","hive"],"comments":[{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1503326627,"post_id":45797158,"comment_id":78557813,"body_markdown":"You used the syntax for the **Apache** JDBC driver on the **Cloudera** driver!!","body":"You used the syntax for the <b>Apache</b> JDBC driver on the <b>Cloudera</b> driver!!"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1503326688,"post_id":45797158,"comment_id":78557850,"body_markdown":"The Cloudera drivers ship with a 80+ pages manual. Read it.","body":"The Cloudera drivers ship with a 80+ pages manual. Read it."},{"owner":{"account_id":1889703,"reputation":8482,"user_id":1708119,"accept_rate":67,"display_name":"SachinJose"},"score":0,"creation_date":1503363393,"post_id":45797158,"comment_id":78572638,"body_markdown":"Are you trying to connect to a secured cluster ? Share the code snippet you are using","body":"Are you trying to connect to a secured cluster ? Share the code snippet you are using"},{"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"score":0,"creation_date":1503468271,"post_id":45797158,"comment_id":78620760,"body_markdown":"@sachin I have edited the post. Please take a look at it","body":"@sachin I have edited the post. Please take a look at it"},{"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"score":0,"creation_date":1503468315,"post_id":45797158,"comment_id":78620783,"body_markdown":"@SamsonScharfrichter the code I am using is from the manual only.. but still I&#39;ll give it a read again :) thank you","body":"@SamsonScharfrichter the code I am using is from the manual only.. but still I&#39;ll give it a read again :) thank you"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1503489796,"post_id":45797158,"comment_id":78635488,"body_markdown":"BTW the Cloudera driver is a Type 4.x, you don&#39;t need to load the class explicitly, it is registered automatically when the JVM parses its CLASSPATH _(in Java at least - Scala &amp; Spark don&#39;t do that cleanly)_","body":"BTW the Cloudera driver is a Type 4.x, you don&#39;t need to load the class explicitly, it is registered automatically when the JVM parses its CLASSPATH <i>(in Java at least - Scala &amp; Spark don&#39;t do that cleanly)</i>"},{"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"score":0,"creation_date":1503490942,"post_id":45797158,"comment_id":78636398,"body_markdown":"@SamsonScharfrichter Explicitly loading the driver shouldn&#39;t give the error. right? I have tried everything but the error is not going away :(","body":"@SamsonScharfrichter Explicitly loading the driver shouldn&#39;t give the error. right? I have tried everything but the error is not going away :("},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1503522813,"post_id":45797158,"comment_id":78656907,"body_markdown":"The (obsolete) Cloudera documentation that you have linked is clear: if you have Kerberos authentication, then your URL must be something like `jdbc:hive2://server.domain:10000;AuthMech=1;KrbRealm=DOMAIN;KrbHostFQDN=server.domain;KrbServiceName=hive` &gt;&gt; the URL you are using would be valid for the Apache driver with Kerberos auth","body":"The (obsolete) Cloudera documentation that you have linked is clear: if you have Kerberos authentication, then your URL must be something like <code>jdbc:hive2:&#47;&#47;server.domain:10000;AuthMech=1;KrbRealm=DOMAIN;&zwnj;&#8203;KrbHostFQDN=server.d&zwnj;&#8203;omain;KrbServiceName&zwnj;&#8203;=hive</code> &gt;&gt; the URL you are using would be valid for the Apache driver with Kerberos auth"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1503523065,"post_id":45797158,"comment_id":78657008,"body_markdown":"Also, User / Pwd arguments are completely ignored when using Kerberos auth.You need either a valid Kerberos ticket in the default cache, or some raw JAAS configuration and a keytab file, cf. my answer to https://stackoverflow.com/questions/42477466/error-when-connect-to-impala-with-jdbc-under-kerberos-authrication/42506620","body":"Also, User / Pwd arguments are completely ignored when using Kerberos auth.You need either a valid Kerberos ticket in the default cache, or some raw JAAS configuration and a keytab file, cf. my answer to <a href=\"https://stackoverflow.com/questions/42477466/error-when-connect-to-impala-with-jdbc-under-kerberos-authrication/42506620\" title=\"error when connect to impala with jdbc under kerberos authrication\">stackoverflow.com/questions/42477466/&hellip;</a>"},{"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"score":0,"creation_date":1503914249,"post_id":45797158,"comment_id":78790947,"body_markdown":"@SamsonScharfrichter I am very new to kerberos protocol so I apologise in advance if I am asking something very basic or stupid. I have set the KrbRealm and KrbHostFQDN, so do I have to set up the cache or make the JAAS configuration? .. now I am getting this error - [Simba][HiveJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;","body":"@SamsonScharfrichter I am very new to kerberos protocol so I apologise in advance if I am asking something very basic or stupid. I have set the KrbRealm and KrbHostFQDN, so do I have to set up the cache or make the JAAS configuration? .. now I am getting this error - [Simba][HiveJDBCDriver](500310) Invalid operation: Unable to obtain Principal Name for authentication ;"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1503940424,"post_id":45797158,"comment_id":78806873,"body_markdown":"Windows or Linux? Kerberos back-end is Active Directory, OpenLDAP, dedicated MIT Kerberos?","body":"Windows or Linux? Kerberos back-end is Active Directory, OpenLDAP, dedicated MIT Kerberos?"},{"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"score":0,"creation_date":1504165242,"post_id":45797158,"comment_id":78910290,"body_markdown":"@SamsonScharfrichter windows... I was able to make the connection yesterday :D I used dedicated MIT kerberos cache.. but it can use only one user&#39;s credentials.. what if I deploy it on the server, then everybody will be using that one person&#39;s credentials .. right?","body":"@SamsonScharfrichter windows... I was able to make the connection yesterday :D I used dedicated MIT kerberos cache.. but it can use only one user&#39;s credentials.. what if I deploy it on the server, then everybody will be using that one person&#39;s credentials .. right?"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1504337165,"post_id":45797158,"comment_id":78983240,"body_markdown":"It depends. See my answer to https://stackoverflow.com/questions/42477466/error-when-connect-to-impala-with-jdbc-under-kerberos-authrication/42506620 for a JAAS configuration that does not use a ticket cache -- but *explicitly* gives the principal to use, and its keytab. You could also prompt for a keyword, interactively, but that would require overriding some core Java Security properties, and I guess you&#39;re not ready for that.","body":"It depends. See my answer to <a href=\"https://stackoverflow.com/questions/42477466/error-when-connect-to-impala-with-jdbc-under-kerberos-authrication/42506620\" title=\"error when connect to impala with jdbc under kerberos authrication\">stackoverflow.com/questions/42477466/&hellip;</a> for a JAAS configuration that does not use a ticket cache -- but <i>explicitly</i> gives the principal to use, and its keytab. You could also prompt for a keyword, interactively, but that would require overriding some core Java Security properties, and I guess you&#39;re not ready for that."},{"owner":{"account_id":4004282,"reputation":6125,"user_id":3299397,"accept_rate":61,"display_name":"Kyle Bridenstine"},"score":0,"creation_date":1512596350,"post_id":45797158,"comment_id":82327302,"body_markdown":"@Kritz can you post an answer on how you got it to work?","body":"@Kritz can you post an answer on how you got it to work?"},{"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"score":1,"creation_date":1512713012,"post_id":45797158,"comment_id":82377040,"body_markdown":"@Mr.Tea The code is the same. Since it was a secured cluster it was using Kerberos authentication. So creating a ticket in the cache with the right user credentials solved the problem for me.","body":"@Mr.Tea The code is the same. Since it was a secured cluster it was using Kerberos authentication. So creating a ticket in the cache with the right user credentials solved the problem for me."}],"answers":[{"comments":[{"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"score":0,"creation_date":1503490893,"post_id":45832702,"comment_id":78636356,"body_markdown":"I have already tried this code. It gives an error. Also where can I get the required jars if I don&#39;t have hive installed on my local system?","body":"I have already tried this code. It gives an error. Also where can I get the required jars if I don&#39;t have hive installed on my local system?"}],"tags":[],"owner":{"account_id":1889703,"reputation":8482,"user_id":1708119,"accept_rate":67,"display_name":"SachinJose"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503507617,"creation_date":1503471524,"answer_id":45832702,"question_id":45797158,"body_markdown":"Driver Class in your code is ODBC driver, which cannot be used for JDBC connection to hiveserver2. Refer the below apache Hive url for JDBC connection.\r\n\r\nBelow is the sample code snippet for Hiveserver2 JDBC connection. \r\n\r\nhttps://cwiki.apache.org/confluence/display/Hive/HiveClient#HiveClient-JDBC\r\n\r\nDependent jar are also given in the documentation, you can find these dependent jars in the hive lib path. (/opt/cloudera/CDH/hive/lib/*) ","title":"Unable to connect to Hive through Java Application","body":"<p>Driver Class in your code is ODBC driver, which cannot be used for JDBC connection to hiveserver2. Refer the below apache Hive url for JDBC connection.</p>\n\n<p>Below is the sample code snippet for Hiveserver2 JDBC connection. </p>\n\n<p><a href=\"https://cwiki.apache.org/confluence/display/Hive/HiveClient#HiveClient-JDBC\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/Hive/HiveClient#HiveClient-JDBC</a></p>\n\n<p>Dependent jar are also given in the documentation, you can find these dependent jars in the hive lib path. (/opt/cloudera/CDH/hive/lib/*) </p>\n"}],"owner":{"account_id":10047901,"reputation":89,"user_id":7428604,"accept_rate":71,"display_name":"Kritz"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700287731,"creation_date":1503318506,"question_id":45797158,"body_markdown":"I am trying to connect to Hive2 through a Java application but I am getting the following error -\r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLException: [Simba][HiveJDBCDriver](500310) Invalid operation: Peer indicated failure: Unsupported mechanism type PLAIN;\r\n    \r\n        \tat com.cloudera.hive.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\r\n        \tat com.cloudera.hive.hive.api.ExtendedHS2Factory.createClient(ExtendedHS2Factory.java:38)\r\n        \tat com.cloudera.hive.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\r\n        \tat com.cloudera.hive.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\r\n        \tat com.cloudera.hive.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\r\n        \tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n        \tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n        Caused by: com.cloudera.hive.support.exceptions.GeneralException: [Simba][HiveJDBCDriver](500310) Invalid operation: Peer indicated failure: Unsupported mechanism type PLAIN;\r\n        \t... 7 more\r\n        Caused by: org.apache.thrift.transport.TTransportException: Peer indicated failure: Unsupported mechanism type PLAIN\r\n        \tat org.apache.thrift.transport.TSaslTransport.receiveSaslMessage(TSaslTransport.java:190)\r\n        \tat org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:288)\r\n        \tat org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)\r\n        \tat com.cloudera.hive.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:210)\r\n        \tat com.cloudera.hive.hive.api.ExtendedHS2Factory.createClient(ExtendedHS2Factory.java:38)\r\n        \tat com.cloudera.hive.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\r\n        \tat com.cloudera.hive.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\r\n        \tat com.cloudera.hive.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\r\n        \tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n        \tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n        \tat hive2.hive.main(hive.java:30)\r\n\r\nI used the follwoing documentation for the same from cloudera: https://www.cloudera.com/documentation/other/connectors/hive-jdbc/2-5-4.html \r\nAny help will be appreciated. I am trying the following connection string :- `Connection con = DriverManager.getConnection(&quot;jdbc:hive2://server.com:12345/default;principal=hive/_org.COM&quot;,&quot;user_id&quot;,&quot;pwd&quot;);`\r\n\r\n\r\nthe complete code : \r\n\r\n    package hive2;\r\n    import java.sql.SQLException;\r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    \r\n       \r\n    import java.sql.DriverManager;\r\n     \r\n    public class hive {\r\n      private static String driverName = &quot;com.cloudera.hive.jdbc4.HS2Driver&quot;;\r\n     \r\n      public static void main(String[] args) throws SQLException {\r\n        try {\r\n          Class.forName(driverName);\r\n        } catch (ClassNotFoundException e) {\r\n          // TODO Auto-generated catch block\r\n          e.printStackTrace();\r\n          System.exit(1);\r\n        }\r\n       \r\n        \r\n         \r\n         \r\n         \r\n       Connection con = DriverManager.getConnection(&quot;jdbc:hive2://server.com:12345/default;principal=hive/_org.COM&quot;,&quot;user_id&quot;,&quot;pwd&quot;);\r\n        Statement stmt = con.createStatement();\r\n        String tableName = &quot;testHiveDriverTable&quot;;\r\n        stmt.executeQuery(&quot;drop table &quot; + tableName);\r\n        ResultSet res = stmt.executeQuery(&quot;create table &quot; + tableName + &quot; (key int, value string)&quot;);\r\n        // show tables\r\n        String sql = &quot;show tables &#39;&quot; + tableName + &quot;&#39;&quot;;\r\n        System.out.println(&quot;Running: &quot; + sql);\r\n        res = stmt.executeQuery(sql);\r\n        if (res.next()) {\r\n          System.out.println(res.getString(1));\r\n        }\r\n        // describe table\r\n        sql = &quot;describe &quot; + tableName;\r\n        System.out.println(&quot;Running: &quot; + sql);\r\n        res = stmt.executeQuery(sql);\r\n        while (res.next()) {\r\n          System.out.println(res.getString(1) + &quot;\\t&quot; + res.getString(2));\r\n        }\r\n     \r\n        // load data into table\r\n        // NOTE: filepath has to be local to the hive server\r\n        // NOTE: /tmp/a.txt is a ctrl-A separated file with two fields per line\r\n        String filepath = &quot;/tmp/a.txt&quot;;\r\n        sql = &quot;load data local inpath &#39;&quot; + filepath + &quot;&#39; into table &quot; + tableName;\r\n        System.out.println(&quot;Running: &quot; + sql);\r\n        res = stmt.executeQuery(sql);\r\n     \r\n        // select * query\r\n        sql = &quot;select * from &quot; + tableName;\r\n        System.out.println(&quot;Running: &quot; + sql);\r\n        res = stmt.executeQuery(sql);\r\n        while (res.next()) {\r\n          System.out.println(String.valueOf(res.getInt(1)) + &quot;\\t&quot; + res.getString(2));\r\n        }\r\n     \r\n        // regular hive query\r\n        sql = &quot;select count(1) from &quot; + tableName;\r\n        System.out.println(&quot;Running: &quot; + sql);\r\n        res = stmt.executeQuery(sql);\r\n        while (res.next()) {\r\n          System.out.println(res.getString(1));\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Unable to connect to Hive through Java Application","body":"<p>I am trying to connect to Hive2 through a Java application but I am getting the following error -</p>\n\n<pre><code>Exception in thread \"main\" java.sql.SQLException: [Simba][HiveJDBCDriver](500310) Invalid operation: Peer indicated failure: Unsupported mechanism type PLAIN;\n\n        at com.cloudera.hive.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:224)\n        at com.cloudera.hive.hive.api.ExtendedHS2Factory.createClient(ExtendedHS2Factory.java:38)\n        at com.cloudera.hive.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\n        at com.cloudera.hive.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\n        at com.cloudera.hive.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    Caused by: com.cloudera.hive.support.exceptions.GeneralException: [Simba][HiveJDBCDriver](500310) Invalid operation: Peer indicated failure: Unsupported mechanism type PLAIN;\n        ... 7 more\n    Caused by: org.apache.thrift.transport.TTransportException: Peer indicated failure: Unsupported mechanism type PLAIN\n        at org.apache.thrift.transport.TSaslTransport.receiveSaslMessage(TSaslTransport.java:190)\n        at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:288)\n        at org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)\n        at com.cloudera.hive.hivecommon.api.HiveServer2ClientFactory.createTransport(HiveServer2ClientFactory.java:210)\n        at com.cloudera.hive.hive.api.ExtendedHS2Factory.createClient(ExtendedHS2Factory.java:38)\n        at com.cloudera.hive.hivecommon.core.HiveJDBCConnection.connect(HiveJDBCConnection.java:597)\n        at com.cloudera.hive.jdbc.common.BaseConnectionFactory.doConnect(BaseConnectionFactory.java:219)\n        at com.cloudera.hive.jdbc.common.AbstractDriver.connect(AbstractDriver.java:216)\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\n        at hive2.hive.main(hive.java:30)\n</code></pre>\n\n<p>I used the follwoing documentation for the same from cloudera: <a href=\"https://www.cloudera.com/documentation/other/connectors/hive-jdbc/2-5-4.html\" rel=\"nofollow noreferrer\">https://www.cloudera.com/documentation/other/connectors/hive-jdbc/2-5-4.html</a> \nAny help will be appreciated. I am trying the following connection string :- <code>Connection con = DriverManager.getConnection(\"jdbc:hive2://server.com:12345/default;principal=hive/_org.COM\",\"user_id\",\"pwd\");</code></p>\n\n<p>the complete code : </p>\n\n<pre><code>package hive2;\nimport java.sql.SQLException;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\n\nimport java.sql.DriverManager;\n\npublic class hive {\n  private static String driverName = \"com.cloudera.hive.jdbc4.HS2Driver\";\n\n  public static void main(String[] args) throws SQLException {\n    try {\n      Class.forName(driverName);\n    } catch (ClassNotFoundException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n      System.exit(1);\n    }\n\n\n\n\n\n   Connection con = DriverManager.getConnection(\"jdbc:hive2://server.com:12345/default;principal=hive/_org.COM\",\"user_id\",\"pwd\");\n    Statement stmt = con.createStatement();\n    String tableName = \"testHiveDriverTable\";\n    stmt.executeQuery(\"drop table \" + tableName);\n    ResultSet res = stmt.executeQuery(\"create table \" + tableName + \" (key int, value string)\");\n    // show tables\n    String sql = \"show tables '\" + tableName + \"'\";\n    System.out.println(\"Running: \" + sql);\n    res = stmt.executeQuery(sql);\n    if (res.next()) {\n      System.out.println(res.getString(1));\n    }\n    // describe table\n    sql = \"describe \" + tableName;\n    System.out.println(\"Running: \" + sql);\n    res = stmt.executeQuery(sql);\n    while (res.next()) {\n      System.out.println(res.getString(1) + \"\\t\" + res.getString(2));\n    }\n\n    // load data into table\n    // NOTE: filepath has to be local to the hive server\n    // NOTE: /tmp/a.txt is a ctrl-A separated file with two fields per line\n    String filepath = \"/tmp/a.txt\";\n    sql = \"load data local inpath '\" + filepath + \"' into table \" + tableName;\n    System.out.println(\"Running: \" + sql);\n    res = stmt.executeQuery(sql);\n\n    // select * query\n    sql = \"select * from \" + tableName;\n    System.out.println(\"Running: \" + sql);\n    res = stmt.executeQuery(sql);\n    while (res.next()) {\n      System.out.println(String.valueOf(res.getInt(1)) + \"\\t\" + res.getString(2));\n    }\n\n    // regular hive query\n    sql = \"select count(1) from \" + tableName;\n    System.out.println(\"Running: \" + sql);\n    res = stmt.executeQuery(sql);\n    while (res.next()) {\n      System.out.println(res.getString(1));\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-layout","game-development"],"owner":{"account_id":28409753,"reputation":31,"user_id":21733311,"display_name":"I Can Done"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700287540,"creation_date":1700287540,"question_id":77505855,"body_markdown":"I currently new learner and required to do a simple tapping game with Android Studio (Java) and I encounter some difficulty and need help from your guys to guide me. I have no idea how to use and where to place Timer timer.schedule() to maintain each level for 5 seconds before it move to next level and how to create a dialog message for player to click continue button before moving to next level? Below are the code attachment, thank you.\r\n\r\n**MainActivity**\r\n\r\n    import android.os.Bundle;\r\n    import android.os.CountDownTimer;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.GridView;\r\n    import android.widget.ImageView;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import com.example.adapter.OMauAdapter;\r\n    import com.example.dialog.EndGameDialog;\r\n    import com.example.object.Defination;\r\n    import com.example.object.OMau;\r\n    import com.example.object.PlayerInfo;\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n    public class MainActivity extends AppCompatActivity {\r\n        Defination defination = new Defination();\r\n        ArrayList&lt;OMau&gt; arrOMau = new ArrayList&lt;&gt;();\r\n        GridView gdvListOMau;\r\n        OMauAdapter adapter;\r\n        TextView textViewLevel;\r\n        TextView textViewTime;\r\n        TextView textViewStarCoin;\r\n        PlayerInfo info;\r\n        CountDownTimer countdown;\r\n        // continue running when clicked, stop if unclick\r\n        CountDownTimer countdown_effect;\r\n        ImageView image;\r\n        int iconImage = R.drawable.icon1;\r\n        boolean jumping_cat = true;\r\n        RelativeLayout side_layout;\r\n        int iconSide = R.drawable.icon1;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            // initialization\r\n            init();\r\n            viewInitialization();\r\n            setUp();\r\n            setClick();\r\n        }\r\n        private void init() {\r\n            info = new PlayerInfo(this);\r\n            info.getData();\r\n            sample();\r\n            adapter = new OMauAdapter(this, 0, arrOMau);\r\n        }\r\n        // Get  list  view of the column\r\n        private void viewInitialization() {\r\n            gdvListOMau = findViewById(R.id.gdvLisOMau);\r\n            textViewLevel = findViewById(R.id.txvLevel);\r\n            textViewTime = findViewById(R.id.txvTime);\r\n            image = findViewById(R.id.image);\r\n            side_layout = findViewById(R.id.side_layout);\r\n            textViewStarCoin = findViewById(R.id.txvStarCoin);\r\n        }\r\n        // set the column into seven row\r\n        private void setUp() {\r\n            textViewStarCoin.setText(&quot;&quot; + info.start_coin_amount);\r\n            gdvListOMau.setNumColumns(defination.row);\r\n            gdvListOMau.setAdapter(adapter);\r\n            textViewLevel.setText(&quot;&quot; + defination.level);\r\n            updateTime();\r\n            countdown_effect = new CountDownTimer(2000, 200) {\r\n                @Override\r\n                public void onTick(long l) {\r\n                    if (jumping_cat == true) {\r\n                        if (iconImage == R.drawable.icon2) {\r\n                            iconImage = R.drawable.icon1;\r\n                        } else {\r\n                            iconImage = R.drawable.icon2;\r\n                        }\r\n                        image.setImageResource(iconImage);\r\n                    }\r\n                }\r\n                @Override\r\n                public void onFinish() {\r\n                    jumping_cat = false;\r\n                    if (defination.end_of_the_game == false) {\r\n                        start();\r\n                    }\r\n                }\r\n            }.start();\r\n        }\r\n        private void running_countdown_effect() {\r\n            countdown_effect.cancel();\r\n            countdown_effect.start();\r\n        }\r\n        // keep on changing the highlighted view after clicking on initial one\r\n        private void setClick() {\r\n            gdvListOMau.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    checkColor(arrOMau.get(i));\r\n                }\r\n            });\r\n        }\r\n        // check the right highlighted color in the color boxes to be clicked\r\n        private void checkColor(OMau o) {\r\n            if (o.color.equals(defination.colorListTone)) {\r\n                Toast.makeText(this, &quot;true&quot;, Toast.LENGTH_SHORT).show();\r\n                defination.level++;\r\n                sample();\r\n                update();\r\n                defination.totalTime = defination.totalTime + defination.time;\r\n                countdown.cancel();\r\n                updateTime();\r\n                jumping_cat = true;\r\n                running_countdown_effect();\r\n                info.start_coin_amount = info.start_coin_amount + 2;\r\n                textViewStarCoin.setText(&quot;&quot; + info.start_coin_amount);\r\n                // call function to check whether the data is exist or not\r\n                info.setData();\r\n            } else {\r\n                Toast.makeText(this, &quot;false&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n        // trace function to colour it (taoMau)\r\n        private void sample() {\r\n            defination.setLevel();\r\n            // get the initial random color and display the changes accordingly\r\n            defination.colorSampling();\r\n            arrOMau.clear();\r\n            while (arrOMau.size() &lt; defination.row2) {\r\n                arrOMau.add(new OMau(defination.colorList));\r\n            }\r\n            // random pick up position and change one of the position view into different colour\r\n            Random r = new Random();\r\n            arrOMau.get(r.nextInt(arrOMau.size())).color = defination.colorListTone;\r\n        }\r\n        // update the colour clip on the screen\r\n        private void update() {\r\n            // call update function and pass in the array and colour\r\n            adapter.update(arrOMau);\r\n            gdvListOMau.setNumColumns(defination.row);\r\n            textViewLevel.setText(&quot;&quot; + defination.level);\r\n        }\r\n        private void updateTime() {\r\n            countdown = new CountDownTimer(defination.totalTime, 1) {\r\n                // count each time when you come from the limit\r\n                @Override\r\n                public void onTick(long l) {\r\n                    defination.totalTime = (int) l;\r\n                    if (defination.totalTime &gt;= 0) {\r\n                        int second = defination.totalTime / 1000;\r\n                        int second2 = defination.totalTime % 1000 / 10;\r\n                        String times = second + &quot;:&quot; + second2;\r\n                        textViewTime.setText(times);\r\n                    } else {\r\n                        textViewTime.setText(&quot;00:00&quot;);\r\n                    }\r\n                }\r\n                @Override\r\n                public void onFinish() {\r\n                    textViewTime.setText(&quot;00:00&quot;);\r\n                    timeOut();\r\n                }\r\n            }.start();\r\n        }\r\n        private void timeOut() {\r\n            defination.end_of_the_game = true;\r\n            gdvListOMau.setOnItemClickListener(null);\r\n            new EndGameDialog(this, defination.level).show();\r\n        }\r\n    }\r\n\r\n**Defination**\r\n\r\n    import java.util.Random;\r\n    public class Defination {\r\n        // declare all required variables\r\n        public int row = 5;\r\n        public int row2 = 7;\r\n        public String colorList = &quot;#FF0000&quot;;\r\n        public String colorListTone = &quot;#FA5858&quot;;\r\n        public int level = 1;\r\n        public int timeRun = 5;\r\n        public int totalTime = timeRun * 1000;\r\n        public int time = 300;\r\n        public boolean end_of_the_game = false;\r\n        private String arrColorList[] = new String[]{\r\n                &quot;#FF0000&quot;,\r\n                &quot;#FFFF00&quot;,\r\n                &quot;#3ADF00&quot;,\r\n                &quot;#0174DF&quot;,\r\n                &quot;#0101DF&quot;,\r\n                &quot;#A901DB&quot;,\r\n                &quot;#FF0040&quot;,\r\n        };\r\n        private String arrColorListTone[] = new String[]{\r\n                &quot;#FA5858&quot;,\r\n                &quot;#F3F781&quot;,\r\n                &quot;#ACFA58&quot;,\r\n                &quot;#2ECCFA&quot;,\r\n                &quot;#5858FA&quot;,\r\n                &quot;#D0A9F5&quot;,\r\n                &quot;#F7819F&quot;,\r\n        };\r\n        // create another row\r\n        public void colorSampling() {\r\n            Random r = new Random();\r\n            // randomly take index number (position) of the color list\r\n            int vt = r.nextInt(arrColorList.length);\r\n            colorList = arrColorList[vt];\r\n            colorListTone = arrColorListTone[vt];\r\n        }\r\n        public void setLevel() {\r\n            if (level &lt; 2) {\r\n                row = 2;\r\n            } else if (level &lt; 3) {\r\n                row = 3;\r\n            } else if (level &lt; 4) {\r\n                row = 4;\r\n            } else if (level &lt; 5) {\r\n                row = 5;\r\n            } else if (level &lt; 6) {\r\n                row = 6;\r\n            } else if (level &lt; 7) {\r\n                row = 7;\r\n            } else {\r\n                row = 8;\r\n            }\r\n            row2 = row * row;\r\n        }\r\n    }\r\n\r\n**OmauAdpater**\r\n\r\n    import android.content.Context;\r\n    import android.graphics.Color;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    \r\n    import com.example.object.ImgCustom;\r\n    import com.example.object.OMau;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class OMauAdapter extends ArrayAdapter&lt;OMau&gt; {\r\n        private Context ct;\r\n        private ArrayList&lt;OMau&gt; arrOMau;\r\n    \r\n        public OMauAdapter(@NonNull Context context, int resource, @NonNull List&lt;OMau&gt; objects) {\r\n            super(context, resource, objects);\r\n            this.ct = context;\r\n            this.arrOMau = new ArrayList&lt;&gt;(objects);\r\n        }\r\n    \r\n        public void update(ArrayList&lt;OMau&gt; arr) {\r\n            // delete the colour box that being displayed\r\n            this.arrOMau.clear();\r\n            // added the data back to it\r\n            this.arrOMau.addAll(arr);\r\n            notifyDataSetChanged();\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return arrOMau.size();\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n            // return super.getView(position, convertView, parent);\r\n            if (convertView == null) {\r\n                LayoutInflater inflater = (LayoutInflater) ct.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                convertView = inflater.inflate(R.layout.item_o_mau, null);\r\n            }\r\n            // change the color\r\n            if (arrOMau.size() &gt; 0) {\r\n                OMau o = arrOMau.get(position);\r\n                ImgCustom imgCustom = convertView.findViewById((R.id.imgOmau));\r\n                imgCustom.setColorFilter(Color.parseColor(o.color));\r\n            }\r\n            return convertView;\r\n        }\r\n    }\r\n\r\n","title":"How to Maintain Each Level for 5 seconds Before Going to Next Level in Android Studio (Java)?","body":"<p>I currently new learner and required to do a simple tapping game with Android Studio (Java) and I encounter some difficulty and need help from your guys to guide me. I have no idea how to use and where to place Timer timer.schedule() to maintain each level for 5 seconds before it move to next level and how to create a dialog message for player to click continue button before moving to next level? Below are the code attachment, thank you.</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>import android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.GridView;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.example.adapter.OMauAdapter;\nimport com.example.dialog.EndGameDialog;\nimport com.example.object.Defination;\nimport com.example.object.OMau;\nimport com.example.object.PlayerInfo;\nimport java.util.ArrayList;\nimport java.util.Random;\npublic class MainActivity extends AppCompatActivity {\n    Defination defination = new Defination();\n    ArrayList&lt;OMau&gt; arrOMau = new ArrayList&lt;&gt;();\n    GridView gdvListOMau;\n    OMauAdapter adapter;\n    TextView textViewLevel;\n    TextView textViewTime;\n    TextView textViewStarCoin;\n    PlayerInfo info;\n    CountDownTimer countdown;\n    // continue running when clicked, stop if unclick\n    CountDownTimer countdown_effect;\n    ImageView image;\n    int iconImage = R.drawable.icon1;\n    boolean jumping_cat = true;\n    RelativeLayout side_layout;\n    int iconSide = R.drawable.icon1;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // initialization\n        init();\n        viewInitialization();\n        setUp();\n        setClick();\n    }\n    private void init() {\n        info = new PlayerInfo(this);\n        info.getData();\n        sample();\n        adapter = new OMauAdapter(this, 0, arrOMau);\n    }\n    // Get  list  view of the column\n    private void viewInitialization() {\n        gdvListOMau = findViewById(R.id.gdvLisOMau);\n        textViewLevel = findViewById(R.id.txvLevel);\n        textViewTime = findViewById(R.id.txvTime);\n        image = findViewById(R.id.image);\n        side_layout = findViewById(R.id.side_layout);\n        textViewStarCoin = findViewById(R.id.txvStarCoin);\n    }\n    // set the column into seven row\n    private void setUp() {\n        textViewStarCoin.setText(&quot;&quot; + info.start_coin_amount);\n        gdvListOMau.setNumColumns(defination.row);\n        gdvListOMau.setAdapter(adapter);\n        textViewLevel.setText(&quot;&quot; + defination.level);\n        updateTime();\n        countdown_effect = new CountDownTimer(2000, 200) {\n            @Override\n            public void onTick(long l) {\n                if (jumping_cat == true) {\n                    if (iconImage == R.drawable.icon2) {\n                        iconImage = R.drawable.icon1;\n                    } else {\n                        iconImage = R.drawable.icon2;\n                    }\n                    image.setImageResource(iconImage);\n                }\n            }\n            @Override\n            public void onFinish() {\n                jumping_cat = false;\n                if (defination.end_of_the_game == false) {\n                    start();\n                }\n            }\n        }.start();\n    }\n    private void running_countdown_effect() {\n        countdown_effect.cancel();\n        countdown_effect.start();\n    }\n    // keep on changing the highlighted view after clicking on initial one\n    private void setClick() {\n        gdvListOMau.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                checkColor(arrOMau.get(i));\n            }\n        });\n    }\n    // check the right highlighted color in the color boxes to be clicked\n    private void checkColor(OMau o) {\n        if (o.color.equals(defination.colorListTone)) {\n            Toast.makeText(this, &quot;true&quot;, Toast.LENGTH_SHORT).show();\n            defination.level++;\n            sample();\n            update();\n            defination.totalTime = defination.totalTime + defination.time;\n            countdown.cancel();\n            updateTime();\n            jumping_cat = true;\n            running_countdown_effect();\n            info.start_coin_amount = info.start_coin_amount + 2;\n            textViewStarCoin.setText(&quot;&quot; + info.start_coin_amount);\n            // call function to check whether the data is exist or not\n            info.setData();\n        } else {\n            Toast.makeText(this, &quot;false&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n    // trace function to colour it (taoMau)\n    private void sample() {\n        defination.setLevel();\n        // get the initial random color and display the changes accordingly\n        defination.colorSampling();\n        arrOMau.clear();\n        while (arrOMau.size() &lt; defination.row2) {\n            arrOMau.add(new OMau(defination.colorList));\n        }\n        // random pick up position and change one of the position view into different colour\n        Random r = new Random();\n        arrOMau.get(r.nextInt(arrOMau.size())).color = defination.colorListTone;\n    }\n    // update the colour clip on the screen\n    private void update() {\n        // call update function and pass in the array and colour\n        adapter.update(arrOMau);\n        gdvListOMau.setNumColumns(defination.row);\n        textViewLevel.setText(&quot;&quot; + defination.level);\n    }\n    private void updateTime() {\n        countdown = new CountDownTimer(defination.totalTime, 1) {\n            // count each time when you come from the limit\n            @Override\n            public void onTick(long l) {\n                defination.totalTime = (int) l;\n                if (defination.totalTime &gt;= 0) {\n                    int second = defination.totalTime / 1000;\n                    int second2 = defination.totalTime % 1000 / 10;\n                    String times = second + &quot;:&quot; + second2;\n                    textViewTime.setText(times);\n                } else {\n                    textViewTime.setText(&quot;00:00&quot;);\n                }\n            }\n            @Override\n            public void onFinish() {\n                textViewTime.setText(&quot;00:00&quot;);\n                timeOut();\n            }\n        }.start();\n    }\n    private void timeOut() {\n        defination.end_of_the_game = true;\n        gdvListOMau.setOnItemClickListener(null);\n        new EndGameDialog(this, defination.level).show();\n    }\n}\n</code></pre>\n<p><strong>Defination</strong></p>\n<pre><code>import java.util.Random;\npublic class Defination {\n    // declare all required variables\n    public int row = 5;\n    public int row2 = 7;\n    public String colorList = &quot;#FF0000&quot;;\n    public String colorListTone = &quot;#FA5858&quot;;\n    public int level = 1;\n    public int timeRun = 5;\n    public int totalTime = timeRun * 1000;\n    public int time = 300;\n    public boolean end_of_the_game = false;\n    private String arrColorList[] = new String[]{\n            &quot;#FF0000&quot;,\n            &quot;#FFFF00&quot;,\n            &quot;#3ADF00&quot;,\n            &quot;#0174DF&quot;,\n            &quot;#0101DF&quot;,\n            &quot;#A901DB&quot;,\n            &quot;#FF0040&quot;,\n    };\n    private String arrColorListTone[] = new String[]{\n            &quot;#FA5858&quot;,\n            &quot;#F3F781&quot;,\n            &quot;#ACFA58&quot;,\n            &quot;#2ECCFA&quot;,\n            &quot;#5858FA&quot;,\n            &quot;#D0A9F5&quot;,\n            &quot;#F7819F&quot;,\n    };\n    // create another row\n    public void colorSampling() {\n        Random r = new Random();\n        // randomly take index number (position) of the color list\n        int vt = r.nextInt(arrColorList.length);\n        colorList = arrColorList[vt];\n        colorListTone = arrColorListTone[vt];\n    }\n    public void setLevel() {\n        if (level &lt; 2) {\n            row = 2;\n        } else if (level &lt; 3) {\n            row = 3;\n        } else if (level &lt; 4) {\n            row = 4;\n        } else if (level &lt; 5) {\n            row = 5;\n        } else if (level &lt; 6) {\n            row = 6;\n        } else if (level &lt; 7) {\n            row = 7;\n        } else {\n            row = 8;\n        }\n        row2 = row * row;\n    }\n}\n</code></pre>\n<p><strong>OmauAdpater</strong></p>\n<pre><code>import android.content.Context;\nimport android.graphics.Color;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport com.example.object.ImgCustom;\nimport com.example.object.OMau;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class OMauAdapter extends ArrayAdapter&lt;OMau&gt; {\n    private Context ct;\n    private ArrayList&lt;OMau&gt; arrOMau;\n\n    public OMauAdapter(@NonNull Context context, int resource, @NonNull List&lt;OMau&gt; objects) {\n        super(context, resource, objects);\n        this.ct = context;\n        this.arrOMau = new ArrayList&lt;&gt;(objects);\n    }\n\n    public void update(ArrayList&lt;OMau&gt; arr) {\n        // delete the colour box that being displayed\n        this.arrOMau.clear();\n        // added the data back to it\n        this.arrOMau.addAll(arr);\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public int getCount() {\n        return arrOMau.size();\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        // return super.getView(position, convertView, parent);\n        if (convertView == null) {\n            LayoutInflater inflater = (LayoutInflater) ct.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            convertView = inflater.inflate(R.layout.item_o_mau, null);\n        }\n        // change the color\n        if (arrOMau.size() &gt; 0) {\n            OMau o = arrOMau.get(position);\n            ImgCustom imgCustom = convertView.findViewById((R.id.imgOmau));\n            imgCustom.setColorFilter(Color.parseColor(o.color));\n        }\n        return convertView;\n    }\n}\n</code></pre>\n"},{"tags":["java","dart","backend","protocol-buffers"],"comments":[{"owner":{"account_id":7642233,"reputation":4099,"user_id":5793987,"display_name":"gudok"},"score":1,"creation_date":1700290373,"post_id":77505813,"comment_id":136638791,"body_markdown":"Imports must be relative to include directory. In your case this means that for all languages you should use &quot;protoc --{java|dart|...}_out=path/to/dir -I. protos/user/user_service.proto&quot;. Alternatively, you can remove &quot;proto&quot; from all your imports (&quot;import user/user.proto&quot;) and use &quot;protoc --{java|dart|...}_out=path/to/dir -Iprotos protos/user/user_service.proto&quot;.","body":"Imports must be relative to include directory. In your case this means that for all languages you should use &quot;protoc --{java|dart|...}_out=path/to/dir -I. protos/user/user_service.proto&quot;. Alternatively, you can remove &quot;proto&quot; from all your imports (&quot;import user/user.proto&quot;) and use &quot;protoc --{java|dart|...}_out=path/to/dir -Iprotos protos/user/user_service.proto&quot;."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1700952825,"post_id":77505813,"comment_id":136715560,"body_markdown":"@gudok your comment is the answer; for posterity, please consider posting it as the answer.","body":"@gudok your comment is the answer; for posterity, please consider posting it as the answer."}],"owner":{"account_id":29932021,"reputation":1,"user_id":22938623,"display_name":"toast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700286136,"creation_date":1700286136,"question_id":77505813,"body_markdown":"I have a directory that looks like this:\r\n\r\n- protos\r\n    - user\r\n        - user_service.proto\r\n        - user_context.proto\r\n        - user.proto\r\n\r\nThe user_service.proto imports my user_context.proto and user.proto.\r\n\r\n\r\n---\r\n\r\nuser_service.proto:\r\n```\r\npackage com.project.protos.user;\r\n\r\nimport &quot;protos/user/user.proto&quot;;\r\nimport &quot;protos/user/user_context.proto&quot;;\r\n\r\nservice UserService {\r\n    rpc GetUser(UserContext) returns (User);\r\n}\r\n```\r\n---\r\n\r\nuser_context.proto:\r\n```\r\npackage com.project.protos.user;\r\n\r\nmessage UserContext {\r\n    string token = 1;\r\n}\r\n```\r\nWith the imports &quot;**protos**/user/user.proto&quot;, I can generate my java files using the following command:\r\n`protoc --java_out=services/src/main/java protos\\user\\user_service.proto\r\n`\r\nBut when I try to generate the dart files, I get the following errors\r\n```\r\nprotoc --dart_out=grpc:project/lib/protos -Iprotos protos/user/user_service.proto\r\n\r\nuser/user.proto: File not found.\r\nuser/user_context.proto: File not found.\r\nprotos/user/user_service.proto:10:1: Import &quot;user/user.proto&quot; was not found or had errors.\r\nprotos/user/user_service.proto:11:1: Import &quot;user/user_context.proto&quot; was not found or had errors.\r\nprotos/user/user_service.proto:20:3: &quot;UserContext&quot; is not defined.\r\nprotos/user/user_service.proto:21:3: &quot;User&quot; is not defined.\r\nprotos/user/user_service.proto:14:15: &quot;UserContext&quot; is not defined.\r\nprotos/user/user_service.proto:14:37: &quot;User&quot; is not defined.\r\nprotos/user/user_service.proto:16:40: &quot;User&quot; is not defined.\r\n```\r\n---\r\n\r\n\r\nTo get around this, I have been \\*\\*SPECIFICALLY\\*\\* changing my imports in to be import &quot;user/user.proto&quot; (omitting the top protos/ directory) which makes my dart files generate but causes issues generating my java files.\r\n\r\nChanging the imports for when I generate my java and dart files sounds really inefficient and sounds like I am doing something wrong. Can anyone see if I am missing anything or if there are any other things I could try?","title":"Protoc regen commands requires different proto imports for generating java and dart files?","body":"<p>I have a directory that looks like this:</p>\n<ul>\n<li>protos\n<ul>\n<li>user\n<ul>\n<li>user_service.proto</li>\n<li>user_context.proto</li>\n<li>user.proto</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>The user_service.proto imports my user_context.proto and user.proto.</p>\n<hr />\n<p>user_service.proto:</p>\n<pre><code>package com.project.protos.user;\n\nimport &quot;protos/user/user.proto&quot;;\nimport &quot;protos/user/user_context.proto&quot;;\n\nservice UserService {\n    rpc GetUser(UserContext) returns (User);\n}\n</code></pre>\n<hr />\n<p>user_context.proto:</p>\n<pre><code>package com.project.protos.user;\n\nmessage UserContext {\n    string token = 1;\n}\n</code></pre>\n<p>With the imports &quot;<strong>protos</strong>/user/user.proto&quot;, I can generate my java files using the following command:\n<code>protoc --java_out=services/src/main/java protos\\user\\user_service.proto </code>\nBut when I try to generate the dart files, I get the following errors</p>\n<pre><code>protoc --dart_out=grpc:project/lib/protos -Iprotos protos/user/user_service.proto\n\nuser/user.proto: File not found.\nuser/user_context.proto: File not found.\nprotos/user/user_service.proto:10:1: Import &quot;user/user.proto&quot; was not found or had errors.\nprotos/user/user_service.proto:11:1: Import &quot;user/user_context.proto&quot; was not found or had errors.\nprotos/user/user_service.proto:20:3: &quot;UserContext&quot; is not defined.\nprotos/user/user_service.proto:21:3: &quot;User&quot; is not defined.\nprotos/user/user_service.proto:14:15: &quot;UserContext&quot; is not defined.\nprotos/user/user_service.proto:14:37: &quot;User&quot; is not defined.\nprotos/user/user_service.proto:16:40: &quot;User&quot; is not defined.\n</code></pre>\n<hr />\n<p>To get around this, I have been **SPECIFICALLY** changing my imports in to be import &quot;user/user.proto&quot; (omitting the top protos/ directory) which makes my dart files generate but causes issues generating my java files.</p>\n<p>Changing the imports for when I generate my java and dart files sounds really inefficient and sounds like I am doing something wrong. Can anyone see if I am missing anything or if there are any other things I could try?</p>\n"},{"tags":["java","android","apache","import","android-studio"],"comments":[{"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1530606264,"post_id":24578243,"comment_id":89283231,"body_markdown":"[How to add Gson dependency to your Android app](https://stackoverflow.com/a/51149777/2396539)","body":"<a href=\"https://stackoverflow.com/a/51149777/2396539\">How to add Gson dependency to your Android app</a>"}],"answers":[{"comments":[{"owner":{"account_id":2032285,"reputation":2727,"user_id":1815624,"accept_rate":71,"display_name":"CrandellWS"},"score":0,"creation_date":1461074357,"post_id":24578744,"comment_id":61026165,"body_markdown":"@Zindarod late answer I know but see http://stackoverflow.com/questions/17895557/add-commons-io-dependency-to-gradle-project-in-android-studio#comment61025941_33820307 for obtaining jar","body":"@Zindarod late answer I know but see <a href=\"http://stackoverflow.com/questions/17895557/add-commons-io-dependency-to-gradle-project-in-android-studio#comment61025941_33820307\" title=\"add commons io dependency to gradle project in android studio%23comment61025941_33820307\">stackoverflow.com/questions/17895557/&hellip;</a> for obtaining jar"}],"tags":[],"owner":{"account_id":1466646,"reputation":7845,"user_id":1379292,"accept_rate":85,"display_name":"Harikrishnan"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1408337941,"creation_date":1404494522,"answer_id":24578744,"question_id":24578243,"body_markdown":"Right clicking on the `commons-io-2.4.jar` file in project navigator and clicking &#39;Add to project&#39; solved the issue.","title":"Cannot resolve symbol &#39;IOUtils&#39;","body":"<p>Right clicking on the <code>commons-io-2.4.jar</code> file in project navigator and clicking 'Add to project' solved the issue.</p>\n"},{"comments":[{"owner":{"account_id":3361884,"reputation":5549,"user_id":2823516,"accept_rate":86,"display_name":"Joaquin Iurchuk"},"score":67,"creation_date":1443794075,"post_id":30395096,"comment_id":53645412,"body_markdown":"Or add `compile &#39;org.apache.directory.studio:org.apache.commons.io:2.4&#39;` to the `build.gradle` file","body":"Or add <code>compile &#39;org.apache.directory.studio:org.apache.commons.io:2.4&#39;</code> to the <code>build.gradle</code> file"},{"owner":{"account_id":1354875,"reputation":3006,"user_id":1293492,"accept_rate":63,"display_name":"Tam&#225;s Bolv&#225;ri"},"score":1,"creation_date":1466954626,"post_id":30395096,"comment_id":63519845,"body_markdown":"To see the Dependices tab, first click on &quot;app&quot; under &quot;Modules&quot;.","body":"To see the Dependices tab, first click on &quot;app&quot; under &quot;Modules&quot;."},{"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"score":0,"creation_date":1549524232,"post_id":30395096,"comment_id":95934415,"body_markdown":"sometimes android studio doesn&#39;t install the dependencies if we do as in the answer.\nits better to do it manually like @JoaquinIurchuk said","body":"sometimes android studio doesn&#39;t install the dependencies if we do as in the answer. its better to do it manually like @JoaquinIurchuk said"}],"tags":[],"owner":{"account_id":2657942,"reputation":16486,"user_id":2298241,"accept_rate":33,"display_name":"Ivo Stoyanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1654695864,"creation_date":1432292706,"answer_id":30395096,"question_id":24578243,"body_markdown":"For Android Studio:\r\n\r\n1. File -&gt; Project Structure... -&gt; Dependencies\r\n2. Click &#39;+&#39; in the upper right corner and select &quot;Library dependency&quot;\r\n3. In the search field type: &quot;org.apache.commons.io&quot; and click Search\r\n4. Select &quot;org.apache.directory.studio:org.apache.commons.io:&lt;X.X&gt;\r\n\r\n**Or** \r\n\r\nAdd `implementation &#39;org.apache.directory.studio:org.apache.commons.io:2.4` to the `build.gradle` file","title":"Cannot resolve symbol &#39;IOUtils&#39;","body":"<p>For Android Studio:</p>\n<ol>\n<li>File -&gt; Project Structure... -&gt; Dependencies</li>\n<li>Click '+' in the upper right corner and select &quot;Library dependency&quot;</li>\n<li>In the search field type: &quot;org.apache.commons.io&quot; and click Search</li>\n<li>Select &quot;org.apache.directory.studio:org.apache.commons.io:&lt;X.X&gt;</li>\n</ol>\n<p><strong>Or</strong></p>\n<p>Add <code>implementation 'org.apache.directory.studio:org.apache.commons.io:2.4</code> to the <code>build.gradle</code> file</p>\n"},{"comments":[{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":0,"creation_date":1509724392,"post_id":47097450,"comment_id":81149384,"body_markdown":"The question is tagged with [tag:android-studio] an answer about Netbeans doesn&#39;t answer it.","body":"The question is tagged with <a href=\"https://stackoverflow.com/questions/tagged/android-studio\">android-studio</a> an answer about Netbeans doesn&#39;t answer it."},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1509725634,"post_id":47097450,"comment_id":81150152,"body_markdown":"android  uses close to java syntax anyway.&amp; I was searching for this exact problem that I encountered while working in netbeans that used to be an IDE for developing in android,seems to be worth pointing out. The Step by step problems and necessary jar files provided above for android-studio is close to what will solve the same problem above if encountered in Netbeans. I&#39;m just providing my version of it in netbeans since this could be encountered while working in netbeans too. \n\nFact is, I am working on this java proj.in netbeans so that I could deploy it in android later with working code.","body":"android  uses close to java syntax anyway.&amp; I was searching for this exact problem that I encountered while working in netbeans that used to be an IDE for developing in android,seems to be worth pointing out. The Step by step problems and necessary jar files provided above for android-studio is close to what will solve the same problem above if encountered in Netbeans. I&#39;m just providing my version of it in netbeans since this could be encountered while working in netbeans too.   Fact is, I am working on this java proj.in netbeans so that I could deploy it in android later with working code."}],"tags":[],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509717198,"creation_date":1509717198,"answer_id":47097450,"question_id":24578243,"body_markdown":"For those who encountered this while working on a Netbeans Java project. What I did is I downloaded the Binaries Zip of IO here\r\n\r\n [Commons IO Util Jar Download Here][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/download_io.cgi\r\n\r\nThen Right clicked on my Project&gt;Properties&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nOn the Categories Pane, Click Libraries\r\n\r\n\r\n----------\r\n\r\n\r\nThen Click Add Jar/Folder\r\n\r\n\r\n----------\r\n\r\n\r\nLocate the jar file/folder of the extracted IO Util that was downloaded.\r\n\r\n\r\n----------\r\n\r\n\r\nThen click Ok. That fixed mine. :)","title":"Cannot resolve symbol &#39;IOUtils&#39;","body":"<p>For those who encountered this while working on a Netbeans Java project. What I did is I downloaded the Binaries Zip of IO here</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-io/download_io.cgi\" rel=\"nofollow noreferrer\">Commons IO Util Jar Download Here</a></p>\n\n<p>Then Right clicked on my Project>Properties></p>\n\n<hr>\n\n<p>On the Categories Pane, Click Libraries</p>\n\n<hr>\n\n<p>Then Click Add Jar/Folder</p>\n\n<hr>\n\n<p>Locate the jar file/folder of the extracted IO Util that was downloaded.</p>\n\n<hr>\n\n<p>Then click Ok. That fixed mine. :)</p>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611751037,"creation_date":1611751037,"answer_id":65919346,"question_id":24578243,"body_markdown":"Adding below dependency solved issue\r\n\r\n     implementation &#39;org.apache.directory.studio:org.apache.commons.io:2.4&#39;\r\n","title":"Cannot resolve symbol &#39;IOUtils&#39;","body":"<p>Adding below dependency solved issue</p>\n<pre><code> implementation 'org.apache.directory.studio:org.apache.commons.io:2.4'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11679511,"reputation":1329,"user_id":8551764,"display_name":"Mostafa Arian Nejad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700285443,"creation_date":1700285443,"answer_id":77505787,"question_id":24578243,"body_markdown":"First I added this dependency but got an error when installing the app on the device:\r\n\r\n    implementation(&quot;org.apache.directory.studio:org.apache.commons.io:2.4&quot;)\r\n\r\nError:\r\n\r\n    The application could not be installed: INSTALL_FAILED_NO_MATCHING_ABIS\r\n\r\nThen based on the answers [here][1], I used this other dependency in my `build.gradle.kts` file and it worked:\r\n\r\n    implementation(&quot;commons-io:commons-io:2.5&quot;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/54548820/8551764","title":"Cannot resolve symbol &#39;IOUtils&#39;","body":"<p>First I added this dependency but got an error when installing the app on the device:</p>\n<pre><code>implementation(&quot;org.apache.directory.studio:org.apache.commons.io:2.4&quot;)\n</code></pre>\n<p>Error:</p>\n<pre><code>The application could not be installed: INSTALL_FAILED_NO_MATCHING_ABIS\n</code></pre>\n<p>Then based on the answers <a href=\"https://stackoverflow.com/q/54548820/8551764\">here</a>, I used this other dependency in my <code>build.gradle.kts</code> file and it worked:</p>\n<pre><code>implementation(&quot;commons-io:commons-io:2.5&quot;)\n</code></pre>\n"}],"owner":{"account_id":1466646,"reputation":7845,"user_id":1379292,"accept_rate":85,"display_name":"Harikrishnan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73808,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":24578744,"answer_count":5,"score":40,"last_activity_date":1700285443,"creation_date":1404491604,"question_id":24578243,"body_markdown":"I have used the following code to create a temporary file in my android app:\r\n\r\n    public File streamToFile (InputStream in) throws IOException {\r\n        File tempFile = File.createTempFile(&quot;sample&quot;, &quot;.tmp&quot;);\r\n        tempFile.deleteOnExit();\r\n        FileOutputStream out = new FileOutputStream(tempFile);\r\n        IOUtils.copy(in, out);\r\n        return tempFile;\r\n    }\r\n\r\nNow the problem is `Cannot resolve symbol &#39;IOUtils&#39;`. I did a little bit of googling and discovered that for  using IOUtils I need to download and include a jar file. I downloaded the jar file from **[here][1]**([commons-io-2.4-bin.zip][2]). I added the jar named `commons-io-2.4.jar` from the zip to my bundle and when I tried to import it using:\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n\r\nIt is showing error `Cannot resolve symbol &#39;io&#39;`. So I tried to import it like:\r\n\r\n    import org.apache.commons.*\r\n\r\nBut still I am getting the error `Cannot resolve symbol &#39;IOUtils&#39;`.\r\n\r\nQuestion 1 : Why am I getting this error? How to resolve it?\r\n\r\nQuestion 2 : Is there any way to create a temp file from an InputStream without using an external library? Or is this the most efficient way to do that? I am using android studio.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/download_io.cgi\r\n  [2]: http://www.poolsaboveground.com/apache//commons/io/binaries/commons-io-2.4-bin.zip","title":"Cannot resolve symbol &#39;IOUtils&#39;","body":"<p>I have used the following code to create a temporary file in my android app:</p>\n\n<pre><code>public File streamToFile (InputStream in) throws IOException {\n    File tempFile = File.createTempFile(\"sample\", \".tmp\");\n    tempFile.deleteOnExit();\n    FileOutputStream out = new FileOutputStream(tempFile);\n    IOUtils.copy(in, out);\n    return tempFile;\n}\n</code></pre>\n\n<p>Now the problem is <code>Cannot resolve symbol 'IOUtils'</code>. I did a little bit of googling and discovered that for  using IOUtils I need to download and include a jar file. I downloaded the jar file from <strong><a href=\"http://commons.apache.org/proper/commons-io/download_io.cgi\" rel=\"noreferrer\">here</a></strong>(<a href=\"http://www.poolsaboveground.com/apache//commons/io/binaries/commons-io-2.4-bin.zip\" rel=\"noreferrer\">commons-io-2.4-bin.zip</a>). I added the jar named <code>commons-io-2.4.jar</code> from the zip to my bundle and when I tried to import it using:</p>\n\n<pre><code>import org.apache.commons.io.IOUtils;\n</code></pre>\n\n<p>It is showing error <code>Cannot resolve symbol 'io'</code>. So I tried to import it like:</p>\n\n<pre><code>import org.apache.commons.*\n</code></pre>\n\n<p>But still I am getting the error <code>Cannot resolve symbol 'IOUtils'</code>.</p>\n\n<p>Question 1 : Why am I getting this error? How to resolve it?</p>\n\n<p>Question 2 : Is there any way to create a temp file from an InputStream without using an external library? Or is this the most efficient way to do that? I am using android studio.</p>\n"},{"tags":["java","android","arrays","similarity"],"comments":[{"owner":{"account_id":123953,"reputation":16498,"user_id":318749,"accept_rate":82,"display_name":"Randy"},"score":3,"creation_date":1365609226,"post_id":15930540,"comment_id":22694370,"body_markdown":"i think you need to define &#39;similarity&#39; a bit more precisely.","body":"i think you need to define &#39;similarity&#39; a bit more precisely."},{"owner":{"account_id":628519,"reputation":3370,"user_id":887590,"display_name":"Matt Taylor"},"score":0,"creation_date":1365609244,"post_id":15930540,"comment_id":22694387,"body_markdown":"I&#39;m guessing that rather than the element-wise similarity (which all of the answers have given here), you want the similarity of the movement (i.e. rather than the elements being exactly the same, you want the difference between them to be similar [e.g. 1,10 is similar to 11,20])","body":"I&#39;m guessing that rather than the element-wise similarity (which all of the answers have given here), you want the similarity of the movement (i.e. rather than the elements being exactly the same, you want the difference between them to be similar [e.g. 1,10 is similar to 11,20])"},{"owner":{"account_id":2618218,"reputation":730,"user_id":2266871,"accept_rate":71,"display_name":"Rachel Fong"},"score":0,"creation_date":1365611134,"post_id":15930540,"comment_id":22695637,"body_markdown":"Oops, sorry. I think by similarity means the elements in a particular array index should have the difference of nearly zero. For example: gest_1[0] - gest_2[0] = 0","body":"Oops, sorry. I think by similarity means the elements in a particular array index should have the difference of nearly zero. For example: gest_1[0] - gest_2[0] = 0"}],"answers":[{"tags":[],"owner":{"account_id":1464403,"reputation":663,"user_id":1377715,"accept_rate":82,"display_name":"Majid Abarghooei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365609836,"creation_date":1365608928,"answer_id":15930580,"question_id":15930540,"body_markdown":"            int temp = 0;\r\n            int[] gest_1 = {120, 333, 453, 564, 234, 531};\r\n            int[] gest_2 = {222, 432, 11, 234, 223, 344, 534, 523, 432, 234};\r\n            ArrayList&lt;Integer&gt; g1 = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; g2 = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i : gest_1) {\r\n                g1.add(i);\r\n            }\r\n            for (int i : gest_2) {\r\n                g2.add(i);\r\n            }\r\n            for (int i : gest_1) {\r\n                if (g2.contains(i)) {\r\n                    temp++;\r\n                }\r\n    //            else{\r\n    //                break;\r\n    //            }\r\n            }\r\n    \r\n            System.out.println(temp + &quot; element(s) are equal ...&quot;);\r\n        }","title":"compare arrays of two different lengths","body":"<pre><code>        int temp = 0;\n        int[] gest_1 = {120, 333, 453, 564, 234, 531};\n        int[] gest_2 = {222, 432, 11, 234, 223, 344, 534, 523, 432, 234};\n        ArrayList&lt;Integer&gt; g1 = new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; g2 = new ArrayList&lt;&gt;();\n\n        for (int i : gest_1) {\n            g1.add(i);\n        }\n        for (int i : gest_2) {\n            g2.add(i);\n        }\n        for (int i : gest_1) {\n            if (g2.contains(i)) {\n                temp++;\n            }\n//            else{\n//                break;\n//            }\n        }\n\n        System.out.println(temp + \" element(s) are equal ...\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454483,"reputation":1771,"user_id":852103,"accept_rate":89,"display_name":"Franklin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365609978,"creation_date":1365609073,"answer_id":15930619,"question_id":15930540,"body_markdown":"Does space matter? If not, you could store one of the arrays in a hashtable, and then iterate through the other array checking if the element is contained in the hashtable. This would be O(n) as opposed to O(nm), but this would also add to the size of the algorithm.\r\n\r\nIf you are unable to do such a thing, it would require two loops. The outer loop would increment the index of the first array after the inner loop has incremented through the entire second array checking if the elements are equal along the way. This could potentially be O(nm).\r\n\r\nThe above thoughts are assuming that when you say &quot;similarities&quot; it means that there are any elements in one array equal to any of the other elements in the other array.","title":"compare arrays of two different lengths","body":"<p>Does space matter? If not, you could store one of the arrays in a hashtable, and then iterate through the other array checking if the element is contained in the hashtable. This would be O(n) as opposed to O(nm), but this would also add to the size of the algorithm.</p>\n\n<p>If you are unable to do such a thing, it would require two loops. The outer loop would increment the index of the first array after the inner loop has incremented through the entire second array checking if the elements are equal along the way. This could potentially be O(nm).</p>\n\n<p>The above thoughts are assuming that when you say \"similarities\" it means that there are any elements in one array equal to any of the other elements in the other array.</p>\n"},{"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1365609092,"creation_date":1365609092,"answer_id":15930626,"question_id":15930540,"body_markdown":"Use a HashSet.  For the union of the two lists,\r\n\r\n    HashSet&lt;Integer&gt; hashSet = new HashSet&lt;&gt;(); // Contains the union\r\n    for(int i = 0; i &lt; array1.length; i++)\r\n        hashSet.add(array1[i]);\r\n    for(int i = 0; i &lt; array2.length; i++)\r\n        hashSet.add(array2[i]);\r\n\r\nFor the intersection of the two lists,\r\n\r\n    HashSet&lt;Integer&gt; hashSet = new HashSet&lt;&gt;();\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();  // Contains the intersection\r\n    for(int i = 0; i &lt; array1.length; i++)\r\n        hashSet.add(array1[i]);\r\n    for(int i = 0; i &lt; array2.length; i++) {\r\n        if(hashSet.contains(array2[i])) {\r\n            list.add(array2[i]);\r\n        }\r\n    }","title":"compare arrays of two different lengths","body":"<p>Use a HashSet.  For the union of the two lists,</p>\n\n<pre><code>HashSet&lt;Integer&gt; hashSet = new HashSet&lt;&gt;(); // Contains the union\nfor(int i = 0; i &lt; array1.length; i++)\n    hashSet.add(array1[i]);\nfor(int i = 0; i &lt; array2.length; i++)\n    hashSet.add(array2[i]);\n</code></pre>\n\n<p>For the intersection of the two lists,</p>\n\n<pre><code>HashSet&lt;Integer&gt; hashSet = new HashSet&lt;&gt;();\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();  // Contains the intersection\nfor(int i = 0; i &lt; array1.length; i++)\n    hashSet.add(array1[i]);\nfor(int i = 0; i &lt; array2.length; i++) {\n    if(hashSet.contains(array2[i])) {\n        list.add(array2[i]);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2618218,"reputation":730,"user_id":2266871,"accept_rate":71,"display_name":"Rachel Fong"},"score":0,"creation_date":1365611270,"post_id":15930707,"comment_id":22695721,"body_markdown":"I think this is roughly the idea I am looking for. I don&#39;t need the values to be displayed anywhere. If values are almost the same, I will just add one count to a variable or something.","body":"I think this is roughly the idea I am looking for. I don&#39;t need the values to be displayed anywhere. If values are almost the same, I will just add one count to a variable or something."}],"tags":[],"owner":{"account_id":2331920,"reputation":608,"user_id":2045131,"accept_rate":100,"display_name":"phcoding"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1365609314,"creation_date":1365609314,"answer_id":15930707,"question_id":15930540,"body_markdown":"You could try something like this:\r\n\r\n      List similarities = new ArrayList();\r\n      for(int i = 0; i &lt; Math.max(gest_1.length, gest_2.length); i++){\r\n        if (gest_1[i] == gest_2[i])\r\n           similarities.add(gest_1[i];\r\n      }","title":"compare arrays of two different lengths","body":"<p>You could try something like this:</p>\n\n<pre><code>  List similarities = new ArrayList();\n  for(int i = 0; i &lt; Math.max(gest_1.length, gest_2.length); i++){\n    if (gest_1[i] == gest_2[i])\n       similarities.add(gest_1[i];\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908412,"reputation":38019,"user_id":1722818,"accept_rate":58,"display_name":"duggu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377669557,"creation_date":1377669557,"answer_id":18480388,"question_id":15930540,"body_markdown":"Try this function it return array:-\r\n\r\n\r\n    public static String[] numSame (String[] list1, String[] list2) \r\n    \t {  \r\n    \t      int same = 0;  \r\n    \t      for (int i = 0; i &lt;= list1.length-1; i++) \r\n    \t      {  \r\n    \t         for(int j = 0; j &lt;= list2.length-1; j++) \r\n    \t         {  \r\n    \t            if (list1[i].equals(list2[j])) \r\n    \t            {  \r\n    \t\t            same++;  \r\n    \t\t            break;  \r\n    \t            }  \r\n    \t         }  \r\n    \t      }  \r\n    \r\n    \t      String [] array=new String[same];\r\n    \t      int p=0;\r\n    \t      for (int i = 0; i &lt;= list1.length-1; i++) \r\n    \t      {  \r\n    \t         for(int j = 0; j &lt;= list2.length-1; j++) \r\n    \t         {  \r\n    \t            if (list1[i].equals(list2[j])) \r\n    \t            {  \r\n    \t            \tarray[p]=  list1[i]+&quot;&quot;;\r\n    \t            \tSystem.out.println(&quot;array[p] =&gt; &quot;+array[p]);\r\n    \t            \tp++;\r\n    \t\t            break;  \r\n    \t            }  \r\n    \t         }  \r\n    \t      } \r\n    \t      return array;\r\n    \t   }  ","title":"compare arrays of two different lengths","body":"<p>Try this function it return array:-</p>\n\n<pre><code>public static String[] numSame (String[] list1, String[] list2) \n     {  \n          int same = 0;  \n          for (int i = 0; i &lt;= list1.length-1; i++) \n          {  \n             for(int j = 0; j &lt;= list2.length-1; j++) \n             {  \n                if (list1[i].equals(list2[j])) \n                {  \n                    same++;  \n                    break;  \n                }  \n             }  \n          }  \n\n          String [] array=new String[same];\n          int p=0;\n          for (int i = 0; i &lt;= list1.length-1; i++) \n          {  \n             for(int j = 0; j &lt;= list2.length-1; j++) \n             {  \n                if (list1[i].equals(list2[j])) \n                {  \n                    array[p]=  list1[i]+\"\";\n                    System.out.println(\"array[p] =&gt; \"+array[p]);\n                    p++;\n                    break;  \n                }  \n             }  \n          } \n          return array;\n       }  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":5113743,"reputation":2236,"user_id":4099598,"display_name":"Nathan Tuggy"},"score":0,"creation_date":1423717400,"post_id":28469414,"comment_id":45264278,"body_markdown":"It looks as though you&#39;re breaking out of the loop after comparing the first element in `array2` to its counterpart in `array1`, except when `array2` is only 1 element long. I don&#39;t get what the length check against `j+` is even for here.","body":"It looks as though you&#39;re breaking out of the loop after comparing the first element in <code>array2</code> to its counterpart in <code>array1</code>, except when <code>array2</code> is only 1 element long. I don&#39;t get what the length check against <code>j+</code> is even for here."}],"tags":[],"owner":{"account_id":5556376,"reputation":1846,"user_id":4407593,"accept_rate":0,"display_name":"Kona Suresh"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1476968161,"creation_date":1423715978,"answer_id":28469414,"question_id":15930540,"body_markdown":"We consider the two arrays like this   \r\nint[] array1={3,5,4,2,6,1,7,9,8};\r\n\t\tint[] array2={1,2,3,4,8};\r\n\r\nOur aim is find the similar values.\r\n\r\n   \r\n\r\n   \r\n\t\tint[] res;\r\n\r\n\t\tif(array1.length&gt;array2.length){\r\n\t\t\t res=new int[array2.length];\r\n\t\t}else{\r\n\t\t\tres=new int[array1.length];\r\n\t\t}\r\n\t\r\n\t      int k=0;\r\n\r\n\t    for(int i=0;i&lt;array1.length;i++)\r\n\t    \t\t{\r\n\t    \t\tfor(int j=0;j&lt;array2.length;j++)\r\n\t    \t\t\t{\r\n\t    \t\t\t\tif(array1[i]==(array2[j]))\r\n\t    \t\t\t\t\t{\r\n\t    \t\t\t\t\tres[k]=array1[i];\r\n\t                            k++;\r\n\t                            break;\r\n\t\t\t\t\t\t\r\n\t    \t\t\t\t   }\r\n\t    \t\t\t    \t\t\t\t\r\n\t    \t\t\t}\r\n\t    \t\t}\r\n\t    \r\n\t    for(int l=0;l&lt;res.length;l++){\r\n\t    \t\r\n\t   \r\n\t    \tSystem.out.print(res[l]);\r\n\t    \r\n\t    }","title":"compare arrays of two different lengths","body":"<p>We consider the two arrays like this<br>\nint[] array1={3,5,4,2,6,1,7,9,8};\n        int[] array2={1,2,3,4,8};</p>\n\n<p>Our aim is find the similar values.</p>\n\n<pre><code>    int[] res;\n\n    if(array1.length&gt;array2.length){\n         res=new int[array2.length];\n    }else{\n        res=new int[array1.length];\n    }\n\n      int k=0;\n\n    for(int i=0;i&lt;array1.length;i++)\n            {\n            for(int j=0;j&lt;array2.length;j++)\n                {\n                    if(array1[i]==(array2[j]))\n                        {\n                        res[k]=array1[i];\n                            k++;\n                            break;\n\n                       }\n\n                }\n            }\n\n    for(int l=0;l&lt;res.length;l++){\n\n\n        System.out.print(res[l]);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29799584,"reputation":1,"user_id":22837656,"display_name":"BobicrafterDDT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700284111,"creation_date":1700284111,"answer_id":77505758,"question_id":15930540,"body_markdown":"I have made mine with ArrayLists like this:\r\n\r\n    for (int a = 0; a &lt;= NG1.size() - 1; a++) {\r\n          int curNum1 = NG1.get(a);\r\n          for (int b = 0; b &lt;= NG2.size() - 1; b++) {\r\n             int curNum2 = NG2.get(b);\r\n             if (curNum1 == curNum2) {\r\n               //Do stuff when two arrays are equal\r\n             }\r\n          }\r\n       }\r\nKnowing that the arrays are declared like this:\r\n\r\n    ArrayList&lt;Integer&gt; NG1 = new ArrayList&lt;&gt;();//First number group\r\n    ArrayList&lt;Integer&gt; NG2 = new ArrayList&lt;&gt;();//Second number group","title":"compare arrays of two different lengths","body":"<p>I have made mine with ArrayLists like this:</p>\n<pre><code>for (int a = 0; a &lt;= NG1.size() - 1; a++) {\n      int curNum1 = NG1.get(a);\n      for (int b = 0; b &lt;= NG2.size() - 1; b++) {\n         int curNum2 = NG2.get(b);\n         if (curNum1 == curNum2) {\n           //Do stuff when two arrays are equal\n         }\n      }\n   }\n</code></pre>\n<p>Knowing that the arrays are declared like this:</p>\n<pre><code>ArrayList&lt;Integer&gt; NG1 = new ArrayList&lt;&gt;();//First number group\nArrayList&lt;Integer&gt; NG2 = new ArrayList&lt;&gt;();//Second number group\n</code></pre>\n"}],"owner":{"account_id":2618218,"reputation":730,"user_id":2266871,"accept_rate":71,"display_name":"Rachel Fong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15930707,"answer_count":7,"score":2,"last_activity_date":1700284111,"creation_date":1365608815,"question_id":15930540,"body_markdown":"I am developing a program on Android that will compare the similarity of Gestures using Gesture Points. I have two arrays like this:\r\n\r\n    gest_1 = [120,333,453,564,234,531]\r\n    gest_2 = [222,432,11,234,223,344,534,523,432,234]\r\n\r\nI know there is no way to dynamically resize either one of the arrays, so is there any way for me to compare both these gestures using these arrays and return the similarity?\r\n\r\nNote that the data in the arrays are just randomly typed out.","title":"compare arrays of two different lengths","body":"<p>I am developing a program on Android that will compare the similarity of Gestures using Gesture Points. I have two arrays like this:</p>\n\n<pre><code>gest_1 = [120,333,453,564,234,531]\ngest_2 = [222,432,11,234,223,344,534,523,432,234]\n</code></pre>\n\n<p>I know there is no way to dynamically resize either one of the arrays, so is there any way for me to compare both these gestures using these arrays and return the similarity?</p>\n\n<p>Note that the data in the arrays are just randomly typed out.</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700251072,"post_id":77504277,"comment_id":136635787,"body_markdown":"From the StringBuilder API for the default constructor: `Constructs a string builder with no characters in it and an initial capacity of 16 characters.`, So I would guess that when you reset the length the capacity is also changed. You can verify this by using the `capacity()` method after setting the length. If the capacity is set to 0, then I guess more processing is required to allocate internal buffers as you add characters. Maybe try using the `ensureCapacity(...)` method to set a size to minimize the creation of internal buffers.","body":"From the StringBuilder API for the default constructor: <code>Constructs a string builder with no characters in it and an initial capacity of 16 characters.</code>, So I would guess that when you reset the length the capacity is also changed. You can verify this by using the <code>capacity()</code> method after setting the length. If the capacity is set to 0, then I guess more processing is required to allocate internal buffers as you add characters. Maybe try using the <code>ensureCapacity(...)</code> method to set a size to minimize the creation of internal buffers."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700259492,"post_id":77504277,"comment_id":136636862,"body_markdown":"Taking out the file writing and multiple threads/loops - I found that the &quot;core&quot; work takes about 14s using your current code.  I tried optimising the padding workflow using `StringBuilder` and that sucked.  I tried using `String.format` and the sucked even more.  I tried using `stringBuilder.delete(0, stringBuilder.length() - 1);` instead of `stringBuilder.setLength(0);` and that was marginally worse.  About the only advice I can give right now is to seed the `StringBuffer` with a reasonable large size - I used `1024` as a starting point, as well as using `BufferedWriter`","body":"Taking out the file writing and multiple threads/loops - I found that the &quot;core&quot; work takes about 14s using your current code.  I tried optimising the padding workflow using <code>StringBuilder</code> and that sucked.  I tried using <code>String.format</code> and the sucked even more.  I tried using <code>stringBuilder.delete(0, stringBuilder.length() - 1);</code> instead of <code>stringBuilder.setLength(0);</code> and that was marginally worse.  About the only advice I can give right now is to seed the <code>StringBuffer</code> with a reasonable large size - I used <code>1024</code> as a starting point, as well as using <code>BufferedWriter</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700259616,"post_id":77504277,"comment_id":136636877,"body_markdown":"I did a another really quick test and found the length of you content is `15536448` - so you should seed the `StringBuilder` with that - this will prevent it from having to resize the buffer, at least on the initial pass &#129335;. This might shave a few milliseconds","body":"I did a another really quick test and found the length of you content is <code>15536448</code> - so you should seed the <code>StringBuilder</code> with that - this will prevent it from having to resize the buffer, at least on the initial pass . This might shave a few milliseconds"}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700298029,"post_id":77504371,"comment_id":136639311,"body_markdown":"do you have some backup information/test of `setLength` being more time intensive? I cannot really find how that is the case in the source code. Additionally do not forget GC work needed to delete old instances of the `StringBuilder` when a new is created","body":"do you have some backup information/test of <code>setLength</code> being more time intensive? I cannot really find how that is the case in the source code. Additionally do not forget GC work needed to delete old instances of the <code>StringBuilder</code> when a new is created"}],"tags":[],"owner":{"account_id":11889468,"reputation":1750,"user_id":8700809,"display_name":"Jacob"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700251580,"creation_date":1700251580,"answer_id":77504371,"question_id":77504277,"body_markdown":"`setLength` is more time intensive than the StringBuilder&#39;s constructor. Granted, you won&#39;t see a difference until you start measuring at the  nanosecond level, but the idea that you will save time by reusing the same instance of a StringBuilder is faulty. \r\n\r\nSomething like this would be a great candidate for concurrency if your focus is simple speeding up the process.","title":"how to reuse StringBuilder in a loop?","body":"<p><code>setLength</code> is more time intensive than the StringBuilder's constructor. Granted, you won't see a difference until you start measuring at the  nanosecond level, but the idea that you will save time by reusing the same instance of a StringBuilder is faulty.</p>\n<p>Something like this would be a great candidate for concurrency if your focus is simple speeding up the process.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1700281684,"post_id":77504442,"comment_id":136638348,"body_markdown":"I updated your example to take advantage of (a) the fact that `ExecutorService` is now `AutoCloseable`, and (b) virtual threads.","body":"I updated your example to take advantage of (a) the fact that <code>ExecutorService</code> is now <code>AutoCloseable</code>, and (b) virtual threads."},{"owner":{"account_id":29227858,"reputation":21,"user_id":22392163,"display_name":"DAN"},"score":0,"creation_date":1700589677,"post_id":77504442,"comment_id":136672427,"body_markdown":"I was also advised to reduce the calls of method padNumber which can help in improving the speed performance , but I find it somehow difficult to figure this out.","body":"I was also advised to reduce the calls of method padNumber which can help in improving the speed performance , but I find it somehow difficult to figure this out."},{"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"score":0,"creation_date":1700593934,"post_id":77504442,"comment_id":136673153,"body_markdown":"In my opinion you can also leave it like that because functions use the stack which is a memory area so the profermance you don&#39;t notice it easily.","body":"In my opinion you can also leave it like that because functions use the stack which is a memory area so the profermance you don&#39;t notice it easily."}],"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700281680,"creation_date":1700252560,"answer_id":77504442,"question_id":77504277,"body_markdown":"To improve the performance:\r\n\r\n 1. Using [`BufferedWriter`][1] can improve the performance by reducing the number of I/O operations.\r\n\r\n```java\r\nBufferedWriter writer = new BufferedWriter(new FileWriter(&quot;out/NUMBERS-&quot; + i + &quot;.txt&quot;));\r\n```\r\n\r\n\r\n 2. Using Java&#39;s [`ExecutorService`][2] or other parallel processing techniques. This involves dividing the workload among multiple threads to take advantage of the processors.\r\n\r\nYou would specify an executor service backed by a pool of a certain number of threads. Adjust the number of threads based on your goal and your number of CPU cores. Submit your tasks defined as `Runnable` or `Callable` objects.\r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(numThreads);\r\n\r\nI tried this and it took **20 seconds** (See the foto below)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIn Java 21+, using [virtual threads][4] is generally best for tasks that involve blocking such as file I/O. \r\n\r\nAn `ExecutorService` is `AutoCloseable`. So we can use try-with-resources syntax to automatically close and shutdown when done.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    int limit =  ;\r\n    try(\r\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n    ) {\r\n        for (int i = 0; i &lt; limit; i++) {\r\n            executorService.execute(new Loader(i));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/io/BufferedWriter.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [3]: https://i.stack.imgur.com/p0i3U.png\r\n  [4]: https://openjdk.org/jeps/444","title":"how to reuse StringBuilder in a loop?","body":"<p>To improve the performance:</p>\n<ol>\n<li>Using <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/io/BufferedWriter.html\" rel=\"nofollow noreferrer\"><code>BufferedWriter</code></a> can improve the performance by reducing the number of I/O operations.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;out/NUMBERS-&quot; + i + &quot;.txt&quot;));\n</code></pre>\n<ol start=\"2\">\n<li>Using Java's <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> or other parallel processing techniques. This involves dividing the workload among multiple threads to take advantage of the processors.</li>\n</ol>\n<p>You would specify an executor service backed by a pool of a certain number of threads. Adjust the number of threads based on your goal and your number of CPU cores. Submit your tasks defined as <code>Runnable</code> or <code>Callable</code> objects.</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(numThreads);\n</code></pre>\n<p>I tried this and it took <strong>20 seconds</strong> (See the foto below)</p>\n<p><a href=\"https://i.stack.imgur.com/p0i3U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0i3U.png\" alt=\"enter image description here\" /></a></p>\n<p>In Java 21+, using <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> is generally best for tasks that involve blocking such as file I/O.</p>\n<p>An <code>ExecutorService</code> is <code>AutoCloseable</code>. So we can use try-with-resources syntax to automatically close and shutdown when done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int limit =  ;\n    try(\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n    ) {\n        for (int i = 0; i &lt; limit; i++) {\n            executorService.execute(new Loader(i));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29227858,"reputation":21,"user_id":22392163,"display_name":"DAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700283673,"creation_date":1700250507,"question_id":77504277,"body_markdown":"*What am trying to do here is to improve speed performance by using StringBuilder outside the loop and clear StringBuilder in each cycle for reuse* , but seems like this approach doesn&#39;t always work , because I didn&#39;t see improvement in speed performance.*\r\n\r\n\r\n```\r\npublic class Loader implements Runnable {\r\n    private int i;\r\n\r\n    public Loader(int i) {\r\n        this.i = i;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        long start = System.currentTimeMillis();\r\n        try {\r\n            PrintWriter writer = new PrintWriter(&quot;res/NUMBERS &quot; + i + &quot;.txt&quot;);\r\n            char letters[] = {&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, \r\n                              &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;};\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            \r\n            for (int regionCode = 1; regionCode &lt;= 199; regionCode++) {\r\n                stringBuilder.setLength(0);\r\n                for (int number = 1; number &lt; 1000; number++) {\r\n                    for (char firstLetter : letters) {\r\n                        for (char secondLetter : letters) {\r\n                            for (char thirdLetter : letters) {\r\n                                stringBuilder.append(firstLetter)\r\n                                        .append(padNumber(number, 3))\r\n                                        .append(secondLetter)\r\n                                        .append(thirdLetter)\r\n                                        .append(padNumber(regionCode, 2))\r\n                                        .append(&quot;\\n&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                writer.write(stringBuilder.toString());\r\n            }\r\n            writer.flush();\r\n            writer.close();\r\n            System.out.println(System.currentTimeMillis() - start);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static String padNumber(int number, int numberLength) {\r\n        String numberStr = Integer.toString(number);\r\n        int padSize = numberLength - numberStr.length();\r\n\r\n        for (int i = 0; i &lt; padSize; i++) {\r\n            numberStr = &#39;0&#39; + numberStr;\r\n        }\r\n        return numberStr;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; 1; i++) {\r\n            new Thread(new Loader(i)).start();\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I used the StringBuilder inside the loop it took 30 sec for the process to finish, but with this approach shown above is taking 50 sec for the process to finish which was not what I expected.Thanks in advance.","title":"how to reuse StringBuilder in a loop?","body":"<p><em>What am trying to do here is to improve speed performance by using StringBuilder outside the loop and clear StringBuilder in each cycle for reuse</em> , but seems like this approach doesn't always work , because I didn't see improvement in speed performance.*</p>\n<pre><code>public class Loader implements Runnable {\n    private int i;\n\n    public Loader(int i) {\n        this.i = i;\n    }\n\n    @Override\n    public void run() {\n        long start = System.currentTimeMillis();\n        try {\n            PrintWriter writer = new PrintWriter(&quot;res/NUMBERS &quot; + i + &quot;.txt&quot;);\n            char letters[] = {'', '', '', '', '', '', '', \n                              '', '', '', '', ''};\n            StringBuilder stringBuilder = new StringBuilder();\n            \n            for (int regionCode = 1; regionCode &lt;= 199; regionCode++) {\n                stringBuilder.setLength(0);\n                for (int number = 1; number &lt; 1000; number++) {\n                    for (char firstLetter : letters) {\n                        for (char secondLetter : letters) {\n                            for (char thirdLetter : letters) {\n                                stringBuilder.append(firstLetter)\n                                        .append(padNumber(number, 3))\n                                        .append(secondLetter)\n                                        .append(thirdLetter)\n                                        .append(padNumber(regionCode, 2))\n                                        .append(&quot;\\n&quot;);\n                            }\n                        }\n                    }\n                }\n                writer.write(stringBuilder.toString());\n            }\n            writer.flush();\n            writer.close();\n            System.out.println(System.currentTimeMillis() - start);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static String padNumber(int number, int numberLength) {\n        String numberStr = Integer.toString(number);\n        int padSize = numberLength - numberStr.length();\n\n        for (int i = 0; i &lt; padSize; i++) {\n            numberStr = '0' + numberStr;\n        }\n        return numberStr;\n    }\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 1; i++) {\n            new Thread(new Loader(i)).start();\n        }\n    }\n}\n</code></pre>\n<p>When I used the StringBuilder inside the loop it took 30 sec for the process to finish, but with this approach shown above is taking 50 sec for the process to finish which was not what I expected.Thanks in advance.</p>\n"},{"tags":["java","xml","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1439996975,"post_id":32099242,"comment_id":52093119,"body_markdown":"Can you post the stacktrace?","body":"Can you post the stacktrace?"},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1439999355,"post_id":32099242,"comment_id":52094819,"body_markdown":"For starters, move the contents of your persistence.xml file to applicationContext.xml. And instead of using         &lt;property name=&quot;persistenceXmlLocations&quot;&gt;, just set properties individually which you have set in XML. Try it out.","body":"For starters, move the contents of your persistence.xml file to applicationContext.xml. And instead of using         &lt;property name=&quot;persistenceXmlLocations&quot;&gt;, just set properties individually which you have set in XML. Try it out."},{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":0,"creation_date":1440014178,"post_id":32099242,"comment_id":52103554,"body_markdown":"Tell me one simple thing, **how spring will know that persistence.xml needs to be loaded, if u don&#39;t specify any where?** Have u mentioned it any where?","body":"Tell me one simple thing, <b>how spring will know that persistence.xml needs to be loaded, if u don&#39;t specify any where?</b> Have u mentioned it any where?"},{"owner":{"account_id":3971986,"reputation":19,"user_id":3276342,"accept_rate":25,"display_name":"user3276342"},"score":0,"creation_date":1440036062,"post_id":32099242,"comment_id":52110921,"body_markdown":"I have mentionned in applicationContext.xml in bean persistenceUnitManager","body":"I have mentionned in applicationContext.xml in bean persistenceUnitManager"},{"owner":{"account_id":3971986,"reputation":19,"user_id":3276342,"accept_rate":25,"display_name":"user3276342"},"score":0,"creation_date":1440036705,"post_id":32099242,"comment_id":52111090,"body_markdown":"@WeareBorg would you please explain more how to set the properties in applicationContext.xml","body":"@WeareBorg would you please explain more how to set the properties in applicationContext.xml"},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1440049722,"post_id":32099242,"comment_id":52114423,"body_markdown":"Sure..i am leaving for office in sometime... Gimme around 2 hours, and i will post u an answer.","body":"Sure..i am leaving for office in sometime... Gimme around 2 hours, and i will post u an answer."}],"answers":[{"comments":[{"owner":{"account_id":3971986,"reputation":19,"user_id":3276342,"accept_rate":25,"display_name":"user3276342"},"score":0,"creation_date":1440066059,"post_id":32111661,"comment_id":52123930,"body_markdown":"I do as you said but there is an error in applicationContext.xml because of the absence of persistence tag so i make the persitence-unit in persistence as it was in persistence.xml file But the errors remained the contextInitialization failed","body":"I do as you said but there is an error in applicationContext.xml because of the absence of persistence tag so i make the persitence-unit in persistence as it was in persistence.xml file But the errors remained the contextInitialization failed"},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1440066897,"post_id":32111661,"comment_id":52124470,"body_markdown":"Ok, I guess someone else can help you then, I am not much of an expert in JPA.. Or maybe you should start a new question with that error.","body":"Ok, I guess someone else can help you then, I am not much of an expert in JPA.. Or maybe you should start a new question with that error."}],"tags":[],"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440054428,"creation_date":1440054428,"answer_id":32111661,"question_id":32099242,"body_markdown":"Ok, So delete your persistence.xml, or comment it out, and edit your applicationContext.xml to change it to :\r\n\r\n  \r\n\r\n    &lt;persistence-unit name=&quot;persistance_unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;&lt;!--  create or update --&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    \r\n        &lt;beans:bean id=&quot;persistenceUnitManager&quot;\r\n              class=&quot;org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager&quot;&gt;\r\n            &lt;beans:property name=&quot;defaultPersistenceUnitName&quot; value=&quot;persistance_unit&quot;/&gt;\r\n            &lt;beans:property name=&quot;defaultDataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/beans:property&gt;\r\n        &lt;/beans:bean&gt;\r\n\r\nIf this doesn&#39;t work, lemme know. ","title":"spring error :org.springframework.web.context.ContextLoader - Context initialization failed","body":"<p>Ok, So delete your persistence.xml, or comment it out, and edit your applicationContext.xml to change it to :</p>\n\n<pre><code>&lt;persistence-unit name=\"persistance_unit\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;&lt;!--  create or update --&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n    &lt;beans:bean id=\"persistenceUnitManager\"\n          class=\"org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager\"&gt;\n        &lt;beans:property name=\"defaultPersistenceUnitName\" value=\"persistance_unit\"/&gt;\n        &lt;beans:property name=\"defaultDataSource\" ref=\"dataSource\"&gt;&lt;/beans:property&gt;\n    &lt;/beans:bean&gt;\n</code></pre>\n\n<p>If this doesn't work, lemme know. </p>\n"},{"comments":[{"owner":{"account_id":6312955,"reputation":2777,"user_id":4903925,"accept_rate":71,"display_name":"Bonatti"},"score":0,"creation_date":1466097318,"post_id":37865338,"comment_id":63187977,"body_markdown":"Can you please provide the source of this information? [Most good answers can cite how to replicate the issue, or why that is relevant.](http://stackoverflow.com/help/how-to-answer)","body":"Can you please provide the source of this information? <a href=\"http://stackoverflow.com/help/how-to-answer\">Most good answers can cite how to replicate the issue, or why that is relevant.</a>"},{"owner":{"account_id":3853810,"reputation":3804,"user_id":3193249,"display_name":"ishmaelMakitla"},"score":0,"creation_date":1466098677,"post_id":37865338,"comment_id":63188731,"body_markdown":"In its current form, your answer does not provide any explanation which can help the rest of the community to understand how you arrived at the conclusion that the issue is incompatibility - is there a documentation that supports your assertion? If so, please share and contextualize your answer better.","body":"In its current form, your answer does not provide any explanation which can help the rest of the community to understand how you arrived at the conclusion that the issue is incompatibility - is there a documentation that supports your assertion? If so, please share and contextualize your answer better."}],"tags":[],"owner":{"account_id":8649699,"reputation":9,"user_id":6475825,"display_name":"kranthi"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466096664,"creation_date":1466096664,"answer_id":37865338,"question_id":32099242,"body_markdown":"One cause could be the spring incompatibility with java version.\r\nspring 3.2.0 doesnt work with java 8.\r\nSolution: Upgrade to 3.2.16 or above","title":"spring error :org.springframework.web.context.ContextLoader - Context initialization failed","body":"<p>One cause could be the spring incompatibility with java version.\nspring 3.2.0 doesnt work with java 8.\nSolution: Upgrade to 3.2.16 or above</p>\n"}],"owner":{"account_id":3971986,"reputation":19,"user_id":3276342,"accept_rate":25,"display_name":"user3276342"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16938,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700283640,"creation_date":1439996710,"question_id":32099242,"body_markdown":"I am developing a simple project in spring but I have the following problem\r\n**org.springframework.web.context.ContextLoader - Context initialization failed**\r\nthis is the controller:\r\n\r\n    package com.linedata.jaba.controllers;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    import com.linedata.jaba.metier.IBanqueMetier;\r\n    \r\n    \r\n    \r\n    \r\n        @Controller\r\n        public class BanqueController {\r\n        @Autowired\r\n        private IBanqueMetier metier;\r\n        @RequestMapping(value=&quot;/index&quot;)\r\n        \r\n        \tpublic String index()\r\n        \t{\r\n        \t\treturn &quot;banque&quot;;\r\n        \t}\r\n        \r\n        }\r\n\r\n \r\npersistence.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n    \t&lt;persistence-unit name=&quot;persistance_unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t\r\n    \t\t&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;&lt;!--  create or update --&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\napplicationContext.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;dao&quot; class=&quot;com.linedata.jaba.dao.BanqueDaoImp&quot;&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;metier&quot; class=&quot;com.linedata.jaba.metier.BanqueMetierImp&quot;&gt;\r\n    \t\t&lt;property name=&quot;dao&quot; ref=&quot;dao&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/banque&quot;&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;persistenceUnitManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;persistenceXmlLocations&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:META-INF/persistence.xml &lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;defaultDataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;entityManagerFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \r\n    \t\t&lt;property name=&quot;persistenceUnitManager&quot; ref=&quot;persistenceUnitManager&quot;&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;persistance_unit&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \t&lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\r\n    &lt;/beans&gt;\r\n\r\nweb.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;2.5&quot;&gt;\r\n      &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath*:applicationContext.xml&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n          &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nStack trace \r\n\r\n    19 ao&#251;t 2015 16:16:12 org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre6\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files/Java/jre6/bin/server;C:/Program Files/Java/jre6/bin;C:/Program Files/Java/jre6/lib/amd64;C:\\Program Files\\Java\\jre6\\bin;C:\\oracle\\product\\10.2.0\\db_7\\bin;C:\\oracle\\product\\10.2.0\\db_1\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Intel\\OpenCL SDK\\3.0\\bin\\x86;C:\\Program Files (x86)\\Intel\\OpenCL SDK\\3.0\\bin\\x64;C:\\xampp\\php;C:\\xampp\\php\\ZendFramework\\library;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Heroku\\bin;C:\\Program Files (x86)\\git\\cmd;C:\\Program Files (x86)\\MiKTeX 2.9\\miktex\\bin\\;C:\\Program Files\\Java\\jre6\\bin;C:\\Program Files (x86)\\Steel Bank Common Lisp\\1.0.53\\;C:\\Users\\asus\\AppData\\Roaming\\npm;C:\\Users\\asus\\Desktop\\eclipse;;.\r\n    19 ao&#251;t 2015 16:16:12 org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    ATTENTION: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:stage&#39; did not find a matching property.\r\n    19 ao&#251;t 2015 16:16:12 org.apache.coyote.http11.Http11Protocol init\r\n    INFO: Initialisation de Coyote HTTP/1.1 sur http-8080\r\n    19 ao&#251;t 2015 16:16:12 org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 642 ms\r\n    19 ao&#251;t 2015 16:16:13 org.apache.catalina.core.StandardService start\r\n    INFO: D&#233;marrage du service Catalina\r\n    19 ao&#251;t 2015 16:16:13 org.apache.catalina.core.StandardEngine start\r\n    INFO: Starting Servlet Engine: Apache Tomcat/6.0.44\r\n    19 ao&#251;t 2015 16:16:13 org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring root WebApplicationContext\r\n    INFO : org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\r\n    INFO : org.springframework.web.context.support.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Wed Aug 19 16:16:13 CEST 2015]; root of context hierarchy\r\n    INFO : org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]\r\n    INFO : org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    INFO : org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@18abe654: defining beans [dao,metier,dataSource,persistenceUnitManager,entityManagerFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\r\n    INFO : org.springframework.beans.factory.support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@18abe654: defining beans [dao,metier,dataSource,persistenceUnitManager,entityManagerFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\r\n    ERROR: org.springframework.web.context.ContextLoader - Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dao&#39;: Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name &#39;persistance_unit&#39; found\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:342)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4210)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4709)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\r\n    \tat org.apache.catalina.core.StandardHost.start(StandardHost.java:822)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\r\n    \tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\r\n    \tat org.apache.catalina.core.StandardService.start(StandardService.java:525)\r\n    \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:759)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name &#39;persistance_unit&#39; found\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findDefaultEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:530)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:496)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.resolveEntityManager(PersistenceAnnotationBeanPostProcessor.java:657)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.getResourceToInject(PersistenceAnnotationBeanPostProcessor.java:630)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:150)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:339)\r\n    \t... 28 more\r\n    Caused by: java.lang.IllegalArgumentException: No persistence unit with name &#39;persistance_unit&#39; found\r\n    \tat org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainPersistenceUnitInfo(DefaultPersistenceUnitManager.java:535)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.determinePersistenceUnitInfo(LocalContainerEntityManagerFactoryBean.java:287)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:239)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n    \t... 41 more\r\n    19 ao&#251;t 2015 16:16:16 org.apache.catalina.core.StandardContext listenerStart\r\n    GRAVE: Exception lors de l&#39;envoi de l&#39;&#233;v&#232;nement contexte initialis&#233; (context initialized) &#224; l&#39;instance de classe d&#39;&#233;coute (listener) org.springframework.web.context.ContextLoaderListener\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dao&#39;: Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name &#39;persistance_unit&#39; found\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:342)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4210)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4709)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\r\n    \tat org.apache.catalina.core.StandardHost.start(StandardHost.java:822)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\r\n    \tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\r\n    \tat org.apache.catalina.core.StandardService.start(StandardService.java:525)\r\n    \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:759)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name &#39;persistance_unit&#39; found\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findDefaultEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:530)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:496)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.resolveEntityManager(PersistenceAnnotationBeanPostProcessor.java:657)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.getResourceToInject(PersistenceAnnotationBeanPostProcessor.java:630)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:150)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:339)\r\n    \t... 28 more\r\n    Caused by: java.lang.IllegalArgumentException: No persistence unit with name &#39;persistance_unit&#39; found\r\n    \tat org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainPersistenceUnitInfo(DefaultPersistenceUnitManager.java:535)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.determinePersistenceUnitInfo(LocalContainerEntityManagerFactoryBean.java:287)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:239)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n    \t... 41 more\r\n    19 ao&#251;t 2015 16:16:16 org.apache.catalina.core.StandardContext start\r\n    GRAVE: Error listenerStart\r\n    19 ao&#251;t 2015 16:16:16 org.apache.catalina.core.StandardContext start\r\n    GRAVE: Erreur de d&#233;marrage du contexte [/jaba] suite aux erreurs pr&#233;c&#233;dentes\r\n    19 ao&#251;t 2015 16:16:16 org.apache.catalina.core.ApplicationContext log\r\n    INFO: Closing Spring root WebApplicationContext\r\n    19 ao&#251;t 2015 16:16:16 org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\r\n    GRAVE: The web application [/jaba] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    19 ao&#251;t 2015 16:16:17 org.apache.coyote.http11.Http11Protocol start\r\n    INFO: D&#233;marrage de Coyote HTTP/1.1 sur http-8080\r\n    19 ao&#251;t 2015 16:16:17 org.apache.jk.common.ChannelSocket init\r\n    INFO: JK: ajp13 listening on /0.0.0.0:8009\r\n    19 ao&#251;t 2015 16:16:17 org.apache.jk.server.JkMain start\r\n    INFO: Jk running ID=0 time=0/19  config=null\r\n    19 ao&#251;t 2015 16:16:17 org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 4104 ms\r\n\r\n\r\n","title":"spring error :org.springframework.web.context.ContextLoader - Context initialization failed","body":"<p>I am developing a simple project in spring but I have the following problem\n<strong>org.springframework.web.context.ContextLoader - Context initialization failed</strong>\nthis is the controller:</p>\n\n<pre><code>package com.linedata.jaba.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.linedata.jaba.metier.IBanqueMetier;\n\n\n\n\n    @Controller\n    public class BanqueController {\n    @Autowired\n    private IBanqueMetier metier;\n    @RequestMapping(value=\"/index\")\n\n        public String index()\n        {\n            return \"banque\";\n        }\n\n    }\n</code></pre>\n\n<p>persistence.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n    &lt;persistence-unit name=\"persistance_unit\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n            &lt;properties&gt;\n                &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n                &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;&lt;!--  create or update --&gt;\n            &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>applicationContext.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\"&gt;\n\n    &lt;bean id=\"dao\" class=\"com.linedata.jaba.dao.BanqueDaoImp\"&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"metier\" class=\"com.linedata.jaba.metier.BanqueMetierImp\"&gt;\n        &lt;property name=\"dao\" ref=\"dao\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"&gt;&lt;/property&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/banque\"&gt;\n        &lt;/property&gt;\n        &lt;property name=\"username\" value=\"root\"&gt;&lt;/property&gt;\n        &lt;property name=\"password\" value=\"\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"persistenceUnitManager\"\n        class=\"org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager\"&gt;\n        &lt;property name=\"persistenceXmlLocations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath*:META-INF/persistence.xml &lt;/value&gt;\n            &lt;/list&gt;\n\n        &lt;/property&gt;\n        &lt;property name=\"defaultDataSource\" ref=\"dataSource\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"entityManagerFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n\n        &lt;property name=\"persistenceUnitManager\" ref=\"persistenceUnitManager\"&gt;\n        &lt;/property&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"persistance_unit\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n    &lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>web.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" version=\"2.5\"&gt;\n  &lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath*:applicationContext.xml&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  &lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n      &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Stack trace </p>\n\n<pre><code>19 aot 2015 16:16:12 org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre6\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files/Java/jre6/bin/server;C:/Program Files/Java/jre6/bin;C:/Program Files/Java/jre6/lib/amd64;C:\\Program Files\\Java\\jre6\\bin;C:\\oracle\\product\\10.2.0\\db_7\\bin;C:\\oracle\\product\\10.2.0\\db_1\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Intel\\OpenCL SDK\\3.0\\bin\\x86;C:\\Program Files (x86)\\Intel\\OpenCL SDK\\3.0\\bin\\x64;C:\\xampp\\php;C:\\xampp\\php\\ZendFramework\\library;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Heroku\\bin;C:\\Program Files (x86)\\git\\cmd;C:\\Program Files (x86)\\MiKTeX 2.9\\miktex\\bin\\;C:\\Program Files\\Java\\jre6\\bin;C:\\Program Files (x86)\\Steel Bank Common Lisp\\1.0.53\\;C:\\Users\\asus\\AppData\\Roaming\\npm;C:\\Users\\asus\\Desktop\\eclipse;;.\n19 aot 2015 16:16:12 org.apache.tomcat.util.digester.SetPropertiesRule begin\nATTENTION: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:stage' did not find a matching property.\n19 aot 2015 16:16:12 org.apache.coyote.http11.Http11Protocol init\nINFO: Initialisation de Coyote HTTP/1.1 sur http-8080\n19 aot 2015 16:16:12 org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 642 ms\n19 aot 2015 16:16:13 org.apache.catalina.core.StandardService start\nINFO: Dmarrage du service Catalina\n19 aot 2015 16:16:13 org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/6.0.44\n19 aot 2015 16:16:13 org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring root WebApplicationContext\nINFO : org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization started\nINFO : org.springframework.web.context.support.XmlWebApplicationContext - Refreshing Root WebApplicationContext: startup date [Wed Aug 19 16:16:13 CEST 2015]; root of context hierarchy\nINFO : org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]\nINFO : org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\nINFO : org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@18abe654: defining beans [dao,metier,dataSource,persistenceUnitManager,entityManagerFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\nINFO : org.springframework.beans.factory.support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@18abe654: defining beans [dao,metier,dataSource,persistenceUnitManager,entityManagerFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\nERROR: org.springframework.web.context.ContextLoader - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dao': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name 'persistance_unit' found\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:342)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4210)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4709)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\n    at org.apache.catalina.core.StandardHost.start(StandardHost.java:822)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\n    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\n    at org.apache.catalina.core.StandardService.start(StandardService.java:525)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:759)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name 'persistance_unit' found\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findDefaultEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:530)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:496)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.resolveEntityManager(PersistenceAnnotationBeanPostProcessor.java:657)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.getResourceToInject(PersistenceAnnotationBeanPostProcessor.java:630)\n    at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:150)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:339)\n    ... 28 more\nCaused by: java.lang.IllegalArgumentException: No persistence unit with name 'persistance_unit' found\n    at org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainPersistenceUnitInfo(DefaultPersistenceUnitManager.java:535)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.determinePersistenceUnitInfo(LocalContainerEntityManagerFactoryBean.java:287)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:239)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\n    ... 41 more\n19 aot 2015 16:16:16 org.apache.catalina.core.StandardContext listenerStart\nGRAVE: Exception lors de l'envoi de l'vnement contexte initialis (context initialized)  l'instance de classe d'coute (listener) org.springframework.web.context.ContextLoaderListener\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dao': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name 'persistance_unit' found\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:342)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:385)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:284)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4210)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4709)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\n    at org.apache.catalina.core.StandardHost.start(StandardHost.java:822)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1060)\n    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\n    at org.apache.catalina.core.StandardService.start(StandardService.java:525)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:759)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in URL [file:/C:/Users/asus/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/stage/WEB-INF/classes/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No persistence unit with name 'persistance_unit' found\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findDefaultEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:530)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:496)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.resolveEntityManager(PersistenceAnnotationBeanPostProcessor.java:657)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.getResourceToInject(PersistenceAnnotationBeanPostProcessor.java:630)\n    at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:150)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:339)\n    ... 28 more\nCaused by: java.lang.IllegalArgumentException: No persistence unit with name 'persistance_unit' found\n    at org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainPersistenceUnitInfo(DefaultPersistenceUnitManager.java:535)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.determinePersistenceUnitInfo(LocalContainerEntityManagerFactoryBean.java:287)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:239)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\n    ... 41 more\n19 aot 2015 16:16:16 org.apache.catalina.core.StandardContext start\nGRAVE: Error listenerStart\n19 aot 2015 16:16:16 org.apache.catalina.core.StandardContext start\nGRAVE: Erreur de dmarrage du contexte [/jaba] suite aux erreurs prcdentes\n19 aot 2015 16:16:16 org.apache.catalina.core.ApplicationContext log\nINFO: Closing Spring root WebApplicationContext\n19 aot 2015 16:16:16 org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\nGRAVE: The web application [/jaba] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\n19 aot 2015 16:16:17 org.apache.coyote.http11.Http11Protocol start\nINFO: Dmarrage de Coyote HTTP/1.1 sur http-8080\n19 aot 2015 16:16:17 org.apache.jk.common.ChannelSocket init\nINFO: JK: ajp13 listening on /0.0.0.0:8009\n19 aot 2015 16:16:17 org.apache.jk.server.JkMain start\nINFO: Jk running ID=0 time=0/19  config=null\n19 aot 2015 16:16:17 org.apache.catalina.startup.Catalina start\nINFO: Server startup in 4104 ms\n</code></pre>\n"},{"tags":["java","spring","spring-boot","url","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1700266264,"post_id":77502366,"comment_id":136637493,"body_markdown":"what does your `jwtRequestFilter` do, because you do know that handing out JWTs to browsers is not recommended, using JWTs as sessions is also not recommended, thats why there is no implementation for it in spring security. So why have you built something that is not recommended and not defined in the spring security docs. Why havnt you read the docs?","body":"what does your <code>jwtRequestFilter</code> do, because you do know that handing out JWTs to browsers is not recommended, using JWTs as sessions is also not recommended, thats why there is no implementation for it in spring security. So why have you built something that is not recommended and not defined in the spring security docs. Why havnt you read the docs?"}],"answers":[{"tags":[],"owner":{"account_id":10315060,"reputation":3,"user_id":7609613,"display_name":"Mojtaba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700282822,"creation_date":1700282822,"answer_id":77505724,"question_id":77502366,"body_markdown":"You can do this by using path variables instead.\r\nYour controller will be like this:\r\n\r\n    @GetMapping(&quot;/legendary/{type}/{name}&quot;)\r\n    public String api(@PathVariable String type, @PathVariable String name) {\r\n        return &quot;OK!!!&quot;;\r\n    }\r\nand your security config will be like this:\r\n\r\n    .requestMatchers(&quot;/legendary/system/sigma&quot;).permitAll()\r\n\r\nBut if you want to do this by query param I think you should handle it in your controller and check parameters value if they don&#39;t match you should throw an exception.","title":"Bypass authorisation for url with query parameters","body":"<p>You can do this by using path variables instead.\nYour controller will be like this:</p>\n<pre><code>@GetMapping(&quot;/legendary/{type}/{name}&quot;)\npublic String api(@PathVariable String type, @PathVariable String name) {\n    return &quot;OK!!!&quot;;\n}\n</code></pre>\n<p>and your security config will be like this:</p>\n<pre><code>.requestMatchers(&quot;/legendary/system/sigma&quot;).permitAll()\n</code></pre>\n<p>But if you want to do this by query param I think you should handle it in your controller and check parameters value if they don't match you should throw an exception.</p>\n"}],"owner":{"account_id":25888435,"reputation":1,"user_id":19616186,"display_name":"Rashmi Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700282822,"creation_date":1700231061,"question_id":77502366,"body_markdown":"I have spring security and JWT auth in my project. Hence there is class WebSecurityConfig.java that has below method that allows some APIs to be permitted without authorization\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity, JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint,\r\n                                           JwtRequestFilter jwtRequestFilter) throws Exception {\r\n\r\n        httpSecurity.csrf(AbstractHttpConfigurer::disable)\r\n                .exceptionHandling(configurer -&gt; configurer\r\n                        .authenticationEntryPoint(jwtAuthenticationEntryPoint))\r\n                .sessionManagement(configurer -&gt; configurer\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests(authorize -&gt;\r\n                        authorize.requestMatchers(&quot;/authenticate&quot;).permitAll()\r\n                                .requestMatchers(&quot;/get-is-account-locked&quot;).permitAll()\r\n                                .requestMatchers(&quot;/*&quot;).permitAll()\r\n                                .anyRequest().authenticated());\r\n\r\n     \r\n        if (sslEnable) {\r\n            httpSecurity.requiresChannel(channelRequestMatcherRegistry -&gt; channelRequestMatcherRegistry.anyRequest().requiresSecure());\r\n        }\r\n\r\n       \r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UserPasswordAuthenticationFilter.class);\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n\r\nAs you can see, /authenticate and /get-is-account-locked apis we are bypassing it without authorization, that means when these api are hit, no authorization is needed.\r\n\r\nI want to allow one more api without authorization but the problem is it should skip authorization only when it has query parameters with specific values.\r\n\r\nExample\r\nhttp://localhost:8080/legendary?type=system&amp;name=sigma\r\n\r\nSo i thought i can include it as `.requestMatchers(&quot;legendary?type=system&amp;name=sigma&quot;).permitAll()`\r\nbut that did not work, it still needed authorization for this URL.\r\n\r\nI assume it did not work due to query parameters. Can someone help as how to skip authorization / permit this api without authorization when url ends up exactly like above with those query param values?","title":"Bypass authorisation for url with query parameters","body":"<p>I have spring security and JWT auth in my project. Hence there is class WebSecurityConfig.java that has below method that allows some APIs to be permitted without authorization</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity, JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint,\n                                           JwtRequestFilter jwtRequestFilter) throws Exception {\n\n        httpSecurity.csrf(AbstractHttpConfigurer::disable)\n                .exceptionHandling(configurer -&gt; configurer\n                        .authenticationEntryPoint(jwtAuthenticationEntryPoint))\n                .sessionManagement(configurer -&gt; configurer\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(authorize -&gt;\n                        authorize.requestMatchers(&quot;/authenticate&quot;).permitAll()\n                                .requestMatchers(&quot;/get-is-account-locked&quot;).permitAll()\n                                .requestMatchers(&quot;/*&quot;).permitAll()\n                                .anyRequest().authenticated());\n\n     \n        if (sslEnable) {\n            httpSecurity.requiresChannel(channelRequestMatcherRegistry -&gt; channelRequestMatcherRegistry.anyRequest().requiresSecure());\n        }\n\n       \n        httpSecurity.addFilterBefore(jwtRequestFilter, UserPasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n</code></pre>\n<p>As you can see, /authenticate and /get-is-account-locked apis we are bypassing it without authorization, that means when these api are hit, no authorization is needed.</p>\n<p>I want to allow one more api without authorization but the problem is it should skip authorization only when it has query parameters with specific values.</p>\n<p>Example\nhttp://localhost:8080/legendary?type=system&amp;name=sigma</p>\n<p>So i thought i can include it as <code>.requestMatchers(&quot;legendary?type=system&amp;name=sigma&quot;).permitAll()</code>\nbut that did not work, it still needed authorization for this URL.</p>\n<p>I assume it did not work due to query parameters. Can someone help as how to skip authorization / permit this api without authorization when url ends up exactly like above with those query param values?</p>\n"},{"tags":["java","variables","jexl"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1699021848,"post_id":77416198,"comment_id":136482193,"body_markdown":"I do not know Jexl, but a quick scan of documentation suggest using `new JexlBuilder().permissions(JexlPermissions.UNRESTRICTED)...` (for testing only) and making sure the class of `agentRef` and respective members are `public`","body":"I do not know Jexl, but a quick scan of documentation suggest using <code>new JexlBuilder().permissions(JexlPermissions.UNRESTRICTED)...</code> (for testing only) and making sure the class of <code>agentRef</code> and respective members are <code>public</code>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699026049,"post_id":77416198,"comment_id":136483241,"body_markdown":"Just tested it, I can confirm previous comment (also `agent.id` ends up calling the `getId()`, as long as the method is `public`)","body":"Just tested it, I can confirm previous comment (also <code>agent.id</code> ends up calling the <code>getId()</code>, as long as the method is <code>public</code>)"},{"owner":{"account_id":17380199,"reputation":21,"user_id":12592592,"display_name":"Rinke"},"score":0,"creation_date":1699034767,"post_id":77416198,"comment_id":136485041,"body_markdown":"Thanks for your comment. The class of agentRef and its getId() method is indeed public, so that is not the problem. However, your UNRESTRICTED permissions did solve the problem. So many thanks :-)","body":"Thanks for your comment. The class of agentRef and its getId() method is indeed public, so that is not the problem. However, your UNRESTRICTED permissions did solve the problem. So many thanks :-)"}],"answers":[{"tags":[],"owner":{"account_id":11845668,"reputation":187,"user_id":8668250,"display_name":"henrib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700282449,"creation_date":1700282449,"answer_id":77505717,"question_id":77416198,"body_markdown":"JEXL will only see/introspect public classes for which it is allowed to through permissions; your own classes/packages must be allowed (they aren&#39;t by default) and they must be public. \r\nTo learn how to create proper permissions and to avoid using JexlPermissions.UNRESTRICTED in production, see [JexlPermissions][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-jexl/apidocs/org/apache/commons/jexl3/introspection/JexlPermissions.html","title":"all Jexl objects in scripts return null on any method call","body":"<p>JEXL will only see/introspect public classes for which it is allowed to through permissions; your own classes/packages must be allowed (they aren't by default) and they must be public.\nTo learn how to create proper permissions and to avoid using JexlPermissions.UNRESTRICTED in production, see <a href=\"https://commons.apache.org/proper/commons-jexl/apidocs/org/apache/commons/jexl3/introspection/JexlPermissions.html\" rel=\"nofollow noreferrer\">JexlPermissions</a></p>\n"}],"owner":{"account_id":17380199,"reputation":21,"user_id":12592592,"display_name":"Rinke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700282449,"creation_date":1699009744,"question_id":77416198,"body_markdown":"I&#39;m trying to get a jexl script to work. \r\n\r\n\r\n```\r\n// arranging namespace Print\r\nMap&lt;String, Object&gt; ns = new HashMap&lt;&gt;(1);\r\nns.put(&quot;Print&quot;, System.out); // make System.out.println available in expressions\r\nJexlEngine je = new JexlBuilder().namespaces(ns).create();\r\n\r\n// arranging custom Map for accessible variable &#39;agent&#39; in script\r\nMap&lt;String, Object&gt; myMap = ....;\r\nmyMap.put(&quot;agent&quot;, agentRef);\r\nJexlContext jc = new MapContext(myMap);\r\n\r\n// arranging script\r\nJexlScript script = je.createScript(expression);\r\nObject result = script.execute(jc);\r\n\r\n```\r\n\r\nwith the expression being this: \r\n\r\n\r\n```\r\n{\r\n   Print:println(&quot;blabla&quot;);\r\n   const x = agent.getId();\r\n   Print:println(x);\r\n   return true;\r\n}\r\n```\r\n\r\nThe first command just prints &quot;blabla&quot; to the console, so the printing via System.out.println works flawless. \r\n\r\nHowever, for the variable agent: it does exist, because jexl doesn&#39;t report &quot;unsolvable variable&quot;. However, any method of the agent Object which I try to call, always returns null. \r\nI just get a null printed to the console. \r\nWhen I debug, the agentRef does have values other than null on its fields, just before I put it in the Map. So the fields are NOT null. \r\n\r\nAlso, when I call agent.id (which should be possible, it is just a POJO), I get &quot;undefined property &#39;id&#39;, assuming false&quot;. Whereas agent.getId() returns just null. \r\n\r\n\r\nAnyone any idea what could go wrong here? \r\n\r\n\r\nI tried other syntaxes, but to no avail. I tried using jc.set(&quot;agent&quot;, agentRef), but same result. \r\n\r\n","title":"all Jexl objects in scripts return null on any method call","body":"<p>I'm trying to get a jexl script to work.</p>\n<pre><code>// arranging namespace Print\nMap&lt;String, Object&gt; ns = new HashMap&lt;&gt;(1);\nns.put(&quot;Print&quot;, System.out); // make System.out.println available in expressions\nJexlEngine je = new JexlBuilder().namespaces(ns).create();\n\n// arranging custom Map for accessible variable 'agent' in script\nMap&lt;String, Object&gt; myMap = ....;\nmyMap.put(&quot;agent&quot;, agentRef);\nJexlContext jc = new MapContext(myMap);\n\n// arranging script\nJexlScript script = je.createScript(expression);\nObject result = script.execute(jc);\n\n</code></pre>\n<p>with the expression being this:</p>\n<pre><code>{\n   Print:println(&quot;blabla&quot;);\n   const x = agent.getId();\n   Print:println(x);\n   return true;\n}\n</code></pre>\n<p>The first command just prints &quot;blabla&quot; to the console, so the printing via System.out.println works flawless.</p>\n<p>However, for the variable agent: it does exist, because jexl doesn't report &quot;unsolvable variable&quot;. However, any method of the agent Object which I try to call, always returns null.\nI just get a null printed to the console.\nWhen I debug, the agentRef does have values other than null on its fields, just before I put it in the Map. So the fields are NOT null.</p>\n<p>Also, when I call agent.id (which should be possible, it is just a POJO), I get &quot;undefined property 'id', assuming false&quot;. Whereas agent.getId() returns just null.</p>\n<p>Anyone any idea what could go wrong here?</p>\n<p>I tried other syntaxes, but to no avail. I tried using jc.set(&quot;agent&quot;, agentRef), but same result.</p>\n"},{"tags":["java","http","axios","ssl-certificate"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1700296916,"post_id":77505693,"comment_id":136639245,"body_markdown":"(More or less) URL |--&gt; URLConnection |--&gt; Cast to HttpsURLConnection |--&gt; set doInput/output |--&gt; addRequestProperty (headers) |--&gt; getOutputStream |--&gt; write |--&gt; getInputStream |--&gt; read [ refer: https://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection ] Also refer: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html and follow the links to the classes","body":"(More or less) URL |--&gt; URLConnection |--&gt; Cast to HttpsURLConnection |--&gt; set doInput/output |--&gt; addRequestProperty (headers) |--&gt; getOutputStream |--&gt; write |--&gt; getInputStream |--&gt; read [ refer: <a href=\"https://stackoverflow.com/questions/12732422/adding-header-for-httpurlconnection\" title=\"adding header for httpurlconnection\">stackoverflow.com/questions/12732422/&hellip;</a> ] Also refer: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/net/URL.html</a> and follow the links to the classes"}],"owner":{"account_id":16710727,"reputation":23,"user_id":12078009,"display_name":"phamthainb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700281500,"creation_date":1700281500,"question_id":77505693,"body_markdown":"I&#39;m seeking guidance on converting an Axios Node.js HTTPS POST request to Java using HTTPURLConnection or a suitable Java library for handling HTTPS requests.\r\n\r\nHere is the Node.js code I&#39;m trying to convert:\r\n\r\n```javascript\r\nconst axios = require(&#39;axios&#39;);\r\nconst { readFileSync } = require(&#39;fs&#39;);\r\nconst https = require(&#39;https&#39;);\r\n\r\nlet data = JSON.stringify({\r\n    &quot;version&quot;: &quot;1.0&quot;,\r\n});\r\n\r\nlet config = {\r\n    method: &#39;post&#39;,\r\n    maxBodyLength: Infinity,\r\n    url: &#39;https://example.com/api/endpoint&#39;,\r\n    headers: {\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n        &#39;Authorization&#39;: &#39;Bearer token&#39;,\r\n    },\r\n    data: data,\r\n    httpsAgent: new https.Agent({\r\n        rejectUnauthorized: false,\r\n        cert: readFileSync(&#39;path/to/certificate.crt&#39;),\r\n        key: readFileSync(&#39;path/to/private_key.key&#39;),\r\n    })\r\n};\r\n\r\naxios.request(config)\r\n    .then((response) =&gt; {\r\n        console.log(JSON.stringify(response.data));\r\n    })\r\n    .catch((error) =&gt; {\r\n        console.log(error);\r\n    });\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve made attempts to research and convert this functionality to Java, exploring HTTPURLConnection and other libraries. However, I haven&#39;t been successful in replicating the HTTPS POST request functionality, especially handling headers and SSL configuration in Java.\r\n\r\nCould someone provide guidance or a Java code example demonstrating how to perform a similar HTTPS POST request securely in Java? Any help or insights would be greatly appreciated. Thank you for your assistance!","title":"Convert Axios Node.js HTTPS POST request to Java HTTPURLConnection","body":"<p>I'm seeking guidance on converting an Axios Node.js HTTPS POST request to Java using HTTPURLConnection or a suitable Java library for handling HTTPS requests.</p>\n<p>Here is the Node.js code I'm trying to convert:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const axios = require('axios');\nconst { readFileSync } = require('fs');\nconst https = require('https');\n\nlet data = JSON.stringify({\n    &quot;version&quot;: &quot;1.0&quot;,\n});\n\nlet config = {\n    method: 'post',\n    maxBodyLength: Infinity,\n    url: 'https://example.com/api/endpoint',\n    headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer token',\n    },\n    data: data,\n    httpsAgent: new https.Agent({\n        rejectUnauthorized: false,\n        cert: readFileSync('path/to/certificate.crt'),\n        key: readFileSync('path/to/private_key.key'),\n    })\n};\n\naxios.request(config)\n    .then((response) =&gt; {\n        console.log(JSON.stringify(response.data));\n    })\n    .catch((error) =&gt; {\n        console.log(error);\n    });\n</code></pre>\n<p>I've made attempts to research and convert this functionality to Java, exploring HTTPURLConnection and other libraries. However, I haven't been successful in replicating the HTTPS POST request functionality, especially handling headers and SSL configuration in Java.</p>\n<p>Could someone provide guidance or a Java code example demonstrating how to perform a similar HTTPS POST request securely in Java? Any help or insights would be greatly appreciated. Thank you for your assistance!</p>\n"},{"tags":["java","java-11","openjdk-11"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1626164244,"post_id":68358505,"comment_id":120813056,"body_markdown":"Why do you want to? It is a very large and complex software base and others have already done the work.","body":"Why do you want to? It is a very large and complex software base and others have already done the work."},{"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"score":3,"creation_date":1626164274,"post_id":68358505,"comment_id":120813072,"body_markdown":"Why do you want to build it yourself? There isn&#39;t even an AdoptOpenJDK build yet, so hacking this together on your own seems like asking for trouble. Fwiw the error most likely indicates you&#39;re trying to build for 32-bit ARM, m1 is ARM64.","body":"Why do you want to build it yourself? There isn&#39;t even an AdoptOpenJDK build yet, so hacking this together on your own seems like asking for trouble. Fwiw the error most likely indicates you&#39;re trying to build for 32-bit ARM, m1 is ARM64."},{"owner":{"account_id":1999698,"reputation":148,"user_id":1920108,"display_name":"bladefist"},"score":0,"creation_date":1658761439,"post_id":68358505,"comment_id":129125895,"body_markdown":"If the reason behind your question (or others like me coming here) is simply since Oracle does not have an M1 version of the jdk11, just download the linux version for arm (ARM 64 Compressed Archive). it worked for my M1 machine.\nHere&#39;s the link: https://download.oracle.com/otn/java/jdk/11.0.16%2B11/b8c39bd7f0064c2aa24e6002b391bd0f/jdk-11.0.16_linux-aarch64_bin.tar.gz","body":"If the reason behind your question (or others like me coming here) is simply since Oracle does not have an M1 version of the jdk11, just download the linux version for arm (ARM 64 Compressed Archive). it worked for my M1 machine. Here&#39;s the link: <a href=\"https://download.oracle.com/otn/java/jdk/11.0.16%2B11/b8c39bd7f0064c2aa24e6002b391bd0f/jdk-11.0.16_linux-aarch64_bin.tar.gz\" rel=\"nofollow noreferrer\">download.oracle.com/otn/java/jdk/11.0.16%2B11/&hellip;</a>"},{"owner":{"account_id":12183171,"reputation":914,"user_id":8894035,"display_name":"Wahab Khan Jadon"},"score":0,"creation_date":1664867933,"post_id":68358505,"comment_id":130562599,"body_markdown":"https://stackoverflow.com/questions/68358505/how-to-compile-openjdk-11-on-an-m1-macbook","body":"<a href=\"https://stackoverflow.com/questions/68358505/how-to-compile-openjdk-11-on-an-m1-macbook\" title=\"how to compile openjdk 11 on an m1 macbook\">stackoverflow.com/questions/68358505/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16455028,"reputation":155,"user_id":11887432,"display_name":"rainbowecho"},"score":1,"creation_date":1626777301,"post_id":68365677,"comment_id":120978344,"body_markdown":"Thank you very much! I will take some think","body":"Thank you very much! I will take some think"},{"owner":{"account_id":8502491,"reputation":3377,"user_id":6375041,"accept_rate":75,"display_name":"Sergei Rybalkin"},"score":1,"creation_date":1643196108,"post_id":68365677,"comment_id":125273800,"body_markdown":"With all respect, &quot;Do not try something&quot; is the worst advice possible. It&#39;s really complicated to build OpenJDK, agreed. But the complexity should not stop curiosity.","body":"With all respect, &quot;Do not try something&quot; is the worst advice possible. It&#39;s really complicated to build OpenJDK, agreed. But the complexity should not stop curiosity."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643201957,"post_id":68365677,"comment_id":125275800,"body_markdown":"@SergeiRybalkin I agree with your last sentence. Thats why I gave a couple of tips at the end of the Answer.","body":"@SergeiRybalkin I agree with your last sentence. Thats why I gave a couple of tips at the end of the Answer."},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":0,"creation_date":1676327027,"post_id":68365677,"comment_id":133111725,"body_markdown":"@BasilBourque Do you suggest using Rosetta 2? instead of installation of the JDK for Silicon specifically","body":"@BasilBourque Do you suggest using Rosetta 2? instead of installation of the JDK for Silicon specifically"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676335279,"post_id":68365677,"comment_id":133113031,"body_markdown":"@Dr.jacky I don&#39;t know what you mean. While I have heard that Java for Intel Macs runs well under [Rosetta 2](https://en.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2), **there is no need**. For optimal performance, on a Mac with Apple Silicon use a build of Java compiled for Apple Silicon (ARM, Aarch64). For a Mac with Intel chips, use a build of Java compiled for Intel. Vendors such as Azul Systems provide Apple Silicon builds for the current version 19 as well as the Long-Term Support (LTS) versions 8, 11, and 17.","body":"@Dr.jacky I don&#39;t know what you mean. While I have heard that Java for Intel Macs runs well under <a href=\"https://en.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\" rel=\"nofollow noreferrer\">Rosetta 2</a>, <b>there is no need</b>. For optimal performance, on a Mac with Apple Silicon use a build of Java compiled for Apple Silicon (ARM, Aarch64). For a Mac with Intel chips, use a build of Java compiled for Intel. Vendors such as Azul Systems provide Apple Silicon builds for the current version 19 as well as the Long-Term Support (LTS) versions 8, 11, and 17."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1700280962,"creation_date":1626191420,"answer_id":68365677,"question_id":68358505,"body_markdown":"# tl;dr\r\n\r\n&gt; target (64) differs  number of bits  in the target (32)\r\n\r\n[Apple Silicon][1] chips for [macOS][2] (M1, M2) are all [64-bit][3] architectures. Do not compile for [32-bit][4]. \r\n\r\n&gt; I want to compile jdk in M1 MacBook.\r\n\r\nDo not try to compile OpenJDK. Codebase is large and complicated. And no need, as **others provide binaries** &amp; installers. \r\n\r\nFor a Mac using [Apple Silicon][5] rather than [Intel x86-64][6], I suggest obtaining a distribution of Java 17 for *macOS/AArch64*, released 2021-09, from any of several vendors. \r\n\r\nOr, use a build of earlier versions of Java ported to Apple Silicon by various vendors. For example, Azul Systems [announced 2020-11][7] plans to ship builds of OpenJDK 8 and 11 for [Apple Silicon][5], [ARM][8]-based Macs. I see downloads [available now from that company for Java 11.0.13+8][9] on both Intel Macs and Apple Silicon Macs. \r\n\r\n# Details\r\n\r\nFew of us ever compile the very large and complicated codebase of OpenJDK. Instead, we look to any of several vendors providing builds and installers. If your goal is to be productive in Java programming, then compiling the Java JDK toolset is not the best use of your time.\r\n\r\n[Java 17][10] was released 2021-09. OpenJDK officially supports macOS on Apple Silicon: [*JEP 391: macOS/AArch64 Port*][11]. You have your choice of builds/installers from any of several vendors such as SAP, Red Hat/IBM, BellSoft, Azul Systems, Oracle, Adoptium/AdoptOpenJDK, Microsoft, Amazon, Pivotal, and more. These builds/installers will be based largely or entirely on the OpenJDK codebase. \r\n\r\nVendors such as Azul Systems provide Apple Silicon builds for the current version 19 as well as the [long-term support (LTS)][12] versions 8, 11, and 17. Java 17 is the latest LTS version, to be supported for many years. So I would suggest Java 17 for deployment.\r\n\r\nI myself have been using Java 17, 18, and 19, as well as early-access 20, on a couple of [M1 MacBook Pro][13] laptops with [IntelliJ][14] and [Maven][15] on [Big Sur][16] &amp; [Monterey][17]. Working well, no problems. \r\n\r\n**Update:** As of 2023-11, I would suggest the current version 21 for deployment, as it is the latest LTS version. Also, you can now obtain JDK binaries and installers from many vendors, including Amazon, Microsoft, Azul Systems, BellSoft, Oracle, Adoptium, SAP, IBM, Red Hat, Linux apt-get, FreeBSD Ports and Packages, and more. Most of these provide editions of their JDK products for both Intel Macs and Apple Silicon Macs.\r\n\r\n## Compiling Java\r\n\r\nAs [commented](https://stackoverflow.com/questions/68358505/how-to-compile-openjdk11-in-m1-macbook/68365677#comment120813072_68358505), your specific error is likely due to you compiling for [32-bit ARM][18] rather than 64-bit ARM architecture used by Apple for their [M1 chip][19] and [M2 chip][20] families.\r\n\r\nIf you are curious about, or have an academic interest in compiling Java from the [OpenJDK][21] codebase, I suggest examining the open-sourced tooling at [*Adoptium*][22] (formerly *AdoptOpenJDK*). The tooling for building early-access builds at the OpenJDK site may also be open-sourced but I dont know for certain. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apple_silicon\r\n  [2]: https://en.wikipedia.org/wiki/MacOS\r\n  [3]: https://en.wikipedia.org/wiki/64-bit_computing\r\n  [4]: https://en.wikipedia.org/wiki/32-bit_computing\r\n  [5]: https://en.wikipedia.org/wiki/Apple_Silicon\r\n  [6]: https://en.wikipedia.org/wiki/X86-64\r\n  [7]: https://www.azul.com/newsroom/azul-announces-support-of-java-builds-of-openjdk-for-apple-silicon/\r\n  [8]: https://en.wikipedia.org/wiki/ARM_architecture\r\n  [9]: https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;package=jdk\r\n  [10]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [11]: https://openjdk.java.net/jeps/391\r\n  [12]: https://en.wikipedia.org/wiki/Long-term_support\r\n  [13]: https://en.wikipedia.org/wiki/MacBook_Pro#Apple_silicon_revision\r\n  [14]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [15]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [16]: https://en.wikipedia.org/wiki/MacOS_Big_Sur\r\n  [17]: https://en.wikipedia.org/wiki/macOS_Monterey\r\n  [18]: https://en.wikipedia.org/wiki/ARM_architecture#32-bit_architecture\r\n  [19]: https://en.wikipedia.org/wiki/Apple_M1\r\n  [20]: https://en.wikipedia.org/wiki/Apple_M2\r\n  [21]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [22]: https://adoptium.net/","title":"How to compile OpenJDK 11 on an M1 Macbook?","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>target (64) differs  number of bits  in the target (32)</p>\n</blockquote>\n<p><a href=\"https://en.wikipedia.org/wiki/Apple_silicon\" rel=\"nofollow noreferrer\">Apple Silicon</a> chips for <a href=\"https://en.wikipedia.org/wiki/MacOS\" rel=\"nofollow noreferrer\">macOS</a> (M1, M2) are all <a href=\"https://en.wikipedia.org/wiki/64-bit_computing\" rel=\"nofollow noreferrer\">64-bit</a> architectures. Do not compile for <a href=\"https://en.wikipedia.org/wiki/32-bit_computing\" rel=\"nofollow noreferrer\">32-bit</a>.</p>\n<blockquote>\n<p>I want to compile jdk in M1 MacBook.</p>\n</blockquote>\n<p>Do not try to compile OpenJDK. Codebase is large and complicated. And no need, as <strong>others provide binaries</strong> &amp; installers.</p>\n<p>For a Mac using <a href=\"https://en.wikipedia.org/wiki/Apple_Silicon\" rel=\"nofollow noreferrer\">Apple Silicon</a> rather than <a href=\"https://en.wikipedia.org/wiki/X86-64\" rel=\"nofollow noreferrer\">Intel x86-64</a>, I suggest obtaining a distribution of Java 17 for <em>macOS/AArch64</em>, released 2021-09, from any of several vendors.</p>\n<p>Or, use a build of earlier versions of Java ported to Apple Silicon by various vendors. For example, Azul Systems <a href=\"https://www.azul.com/newsroom/azul-announces-support-of-java-builds-of-openjdk-for-apple-silicon/\" rel=\"nofollow noreferrer\">announced 2020-11</a> plans to ship builds of OpenJDK 8 and 11 for <a href=\"https://en.wikipedia.org/wiki/Apple_Silicon\" rel=\"nofollow noreferrer\">Apple Silicon</a>, <a href=\"https://en.wikipedia.org/wiki/ARM_architecture\" rel=\"nofollow noreferrer\">ARM</a>-based Macs. I see downloads <a href=\"https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;package=jdk\" rel=\"nofollow noreferrer\">available now from that company for Java 11.0.13+8</a> on both Intel Macs and Apple Silicon Macs.</p>\n<h1>Details</h1>\n<p>Few of us ever compile the very large and complicated codebase of OpenJDK. Instead, we look to any of several vendors providing builds and installers. If your goal is to be productive in Java programming, then compiling the Java JDK toolset is not the best use of your time.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a> was released 2021-09. OpenJDK officially supports macOS on Apple Silicon: <a href=\"https://openjdk.java.net/jeps/391\" rel=\"nofollow noreferrer\"><em>JEP 391: macOS/AArch64 Port</em></a>. You have your choice of builds/installers from any of several vendors such as SAP, Red Hat/IBM, BellSoft, Azul Systems, Oracle, Adoptium/AdoptOpenJDK, Microsoft, Amazon, Pivotal, and more. These builds/installers will be based largely or entirely on the OpenJDK codebase.</p>\n<p>Vendors such as Azul Systems provide Apple Silicon builds for the current version 19 as well as the <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">long-term support (LTS)</a> versions 8, 11, and 17. Java 17 is the latest LTS version, to be supported for many years. So I would suggest Java 17 for deployment.</p>\n<p>I myself have been using Java 17, 18, and 19, as well as early-access 20, on a couple of <a href=\"https://en.wikipedia.org/wiki/MacBook_Pro#Apple_silicon_revision\" rel=\"nofollow noreferrer\">M1 MacBook Pro</a> laptops with <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> and <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> on <a href=\"https://en.wikipedia.org/wiki/MacOS_Big_Sur\" rel=\"nofollow noreferrer\">Big Sur</a> &amp; <a href=\"https://en.wikipedia.org/wiki/macOS_Monterey\" rel=\"nofollow noreferrer\">Monterey</a>. Working well, no problems.</p>\n<p><strong>Update:</strong> As of 2023-11, I would suggest the current version 21 for deployment, as it is the latest LTS version. Also, you can now obtain JDK binaries and installers from many vendors, including Amazon, Microsoft, Azul Systems, BellSoft, Oracle, Adoptium, SAP, IBM, Red Hat, Linux apt-get, FreeBSD Ports and Packages, and more. Most of these provide editions of their JDK products for both Intel Macs and Apple Silicon Macs.</p>\n<h2>Compiling Java</h2>\n<p>As <a href=\"https://stackoverflow.com/questions/68358505/how-to-compile-openjdk11-in-m1-macbook/68365677#comment120813072_68358505\">commented</a>, your specific error is likely due to you compiling for <a href=\"https://en.wikipedia.org/wiki/ARM_architecture#32-bit_architecture\" rel=\"nofollow noreferrer\">32-bit ARM</a> rather than 64-bit ARM architecture used by Apple for their <a href=\"https://en.wikipedia.org/wiki/Apple_M1\" rel=\"nofollow noreferrer\">M1 chip</a> and <a href=\"https://en.wikipedia.org/wiki/Apple_M2\" rel=\"nofollow noreferrer\">M2 chip</a> families.</p>\n<p>If you are curious about, or have an academic interest in compiling Java from the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> codebase, I suggest examining the open-sourced tooling at <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\"><em>Adoptium</em></a> (formerly <em>AdoptOpenJDK</em>). The tooling for building early-access builds at the OpenJDK site may also be open-sourced but I dont know for certain.</p>\n"},{"comments":[{"owner":{"account_id":16914392,"reputation":111,"user_id":12232740,"display_name":"vkm"},"score":0,"creation_date":1683740479,"post_id":68651120,"comment_id":134414629,"body_markdown":"Need to compile jdk in debug mode. What could be the possible option to add? @ortamala","body":"Need to compile jdk in debug mode. What could be the possible option to add? @ortamala"}],"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629290240,"creation_date":1628079423,"answer_id":68651120,"question_id":68358505,"body_markdown":"You can build OpenJDK 11.0.12 on an M1 MacBook, with the help of Homebrew, by running:\r\n\r\n    brew install --build-from-source --verbose openjdk@11\r\n\r\nXcode is a prerequisite, you can download it from there https://developer.apple.com/download/more/ (Apple ID needed).\r\n\r\nYou probably also have to run:\r\n\r\n    xcode-select --install\r\n    sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer\r\n\r\nI&#39;ve tested it and it builds perfectly.","title":"How to compile OpenJDK 11 on an M1 Macbook?","body":"<p>You can build OpenJDK 11.0.12 on an M1 MacBook, with the help of Homebrew, by running:</p>\n<pre><code>brew install --build-from-source --verbose openjdk@11\n</code></pre>\n<p>Xcode is a prerequisite, you can download it from there <a href=\"https://developer.apple.com/download/more/\" rel=\"nofollow noreferrer\">https://developer.apple.com/download/more/</a> (Apple ID needed).</p>\n<p>You probably also have to run:</p>\n<pre><code>xcode-select --install\nsudo xcode-select --switch /Applications/Xcode.app/Contents/Developer\n</code></pre>\n<p>I've tested it and it builds perfectly.</p>\n"},{"tags":[],"owner":{"account_id":1440155,"reputation":1185,"user_id":1360535,"accept_rate":67,"display_name":"Anil Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635408258,"creation_date":1635408258,"answer_id":69750355,"question_id":68358505,"body_markdown":"I had install Android Studio Version, please see screenshot\r\n[![enter image description here][1]][1] \r\n\r\n\r\nI was getting issues (install JAVA ) while building the Flutter Application, So I had installed JDK 17 but it was not compatible.\r\n\r\nI had went [AZUL][2]\r\n\r\n\r\nI installed first .dmg file.\r\nPlease see screenshot\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/owChK.png\r\n  [2]: https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;package=jdk\r\n  [3]: https://i.stack.imgur.com/hwl7K.jpg\r\n\r\nIt will solve the issue for building Gradle and APK issue with M1 Mac\r\n","title":"How to compile OpenJDK 11 on an M1 Macbook?","body":"<p>I had install Android Studio Version, please see screenshot\n<a href=\"https://i.stack.imgur.com/owChK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/owChK.png\" alt=\"enter image description here\" /></a></p>\n<p>I was getting issues (install JAVA ) while building the Flutter Application, So I had installed JDK 17 but it was not compatible.</p>\n<p>I had went <a href=\"https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;package=jdk\" rel=\"nofollow noreferrer\">AZUL</a></p>\n<p>I installed first .dmg file.\nPlease see screenshot\n<a href=\"https://i.stack.imgur.com/hwl7K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hwl7K.jpg\" alt=\"enter image description here\" /></a></p>\n<p>It will solve the issue for building Gradle and APK issue with M1 Mac</p>\n"},{"tags":[],"owner":{"account_id":1868725,"reputation":107,"user_id":1691568,"display_name":"yoroto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650406368,"creation_date":1650406368,"answer_id":71931920,"question_id":68358505,"body_markdown":"You can try it now with OpenJDK 11.0.15 source code. Previously, M1 CPU would be detected as ARM32 (macosx-arm) and that&#39;s why you saw that error.","title":"How to compile OpenJDK 11 on an M1 Macbook?","body":"<p>You can try it now with OpenJDK 11.0.15 source code. Previously, M1 CPU would be detected as ARM32 (macosx-arm) and that's why you saw that error.</p>\n"}],"owner":{"account_id":16455028,"reputation":155,"user_id":11887432,"display_name":"rainbowecho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27882,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1700280962,"creation_date":1626162688,"question_id":68358505,"body_markdown":"I want to compile the OpenJDK 11 for an M1 MacBook.\r\n\r\nFirst, I tried to use the Zulu JDK, but I did not find out a way to compile it.\r\n\r\nThen, I tried to try compile OpenJDK on an M1, but this reports an error when I run `sh configure`.\r\n\r\nThe error is:\r\n\r\n&gt; configure: The tested number of bits in the target (64) differs from\r\n&gt; the number of bits expected to be found in the target (32) configure:\r\n&gt; error: Cannot continue.\r\n\r\nSo, how can I compile it?","title":"How to compile OpenJDK 11 on an M1 Macbook?","body":"<p>I want to compile the OpenJDK 11 for an M1 MacBook.</p>\n<p>First, I tried to use the Zulu JDK, but I did not find out a way to compile it.</p>\n<p>Then, I tried to try compile OpenJDK on an M1, but this reports an error when I run <code>sh configure</code>.</p>\n<p>The error is:</p>\n<blockquote>\n<p>configure: The tested number of bits in the target (64) differs from\nthe number of bits expected to be found in the target (32) configure:\nerror: Cannot continue.</p>\n</blockquote>\n<p>So, how can I compile it?</p>\n"},{"tags":["java","intellij-idea","arraylist"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700280206,"creation_date":1700280206,"answer_id":77505654,"question_id":77505638,"body_markdown":"```\r\nFichaUtente fichautente = new FichaUtente(getUtenteEspecifico(num_utente));\r\n        fichautente.adicionarMedicaoAux(m);\r\n```\r\n\r\nThis code:\r\n\r\n* Makes a new object of type FiuchaUtente and assigns to local variable `fichautente`\r\n* Calls a method on that.\r\n* __Then tosses it all straight into the garbage__.\r\n\r\nOnly that local var refers the newly created object, and local vars go into the garbage when a method ends.\r\n","title":"Using the &quot;add&quot; method to add object to ArrayList but it&#39;s not adding properly","body":"<pre><code>FichaUtente fichautente = new FichaUtente(getUtenteEspecifico(num_utente));\n        fichautente.adicionarMedicaoAux(m);\n</code></pre>\n<p>This code:</p>\n<ul>\n<li>Makes a new object of type FiuchaUtente and assigns to local variable <code>fichautente</code></li>\n<li>Calls a method on that.</li>\n<li><strong>Then tosses it all straight into the garbage</strong>.</li>\n</ul>\n<p>Only that local var refers the newly created object, and local vars go into the garbage when a method ends.</p>\n"}],"owner":{"account_id":29647129,"reputation":1,"user_id":22721911,"display_name":"Lu&#237;s Cunha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700290966,"answer_count":1,"score":-1,"last_activity_date":1700280206,"creation_date":1700279593,"question_id":77505638,"body_markdown":"As the title says, I was trying to add a class object instance to an ArrayList but apparently it isn&#39;t adding anything.\r\n\r\nI&#39;m trying to add an object to an ArrayList using the following syntax:\r\n\r\n```\r\n    public void adicionarMedicaoAux(Medicao m){this.medicoes.add(m); }\r\n```\r\n\r\nThis is the &quot;toString()&quot;:\r\n\r\n```\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Ficha de Utente\\n------------------\\n&quot; +\r\n                &quot;Utente: &quot; + utente + &quot; | &quot; +\r\n                &quot;Familiar(res) do utente: &quot; + familiarUtente + &quot; | &quot; +\r\n                &quot;Medi&#231;&#245;es: &quot; + medicoes + &quot; | &quot; +\r\n                &quot;Prescri&#231;&#245;es: &quot; + prescricoes + &quot; | &quot; +\r\n                &quot;Exames: &quot; + exames + &quot; | &quot; +\r\n                &quot;Consultas: &quot; + consultas;\r\n    }\r\n```\r\n\r\nThis method is then used here:\r\n\r\n```\r\npublic void AdicionarMedicao(String num_utente, LocalDate data, double peso, double altura, int tensao_arterial, int saturacao_oxigenio, int imc) throws RemoteException, UtenteNaoExiste {\r\n        c1+=1;\r\n        Medicao m = new Medicao(data, peso, altura, tensao_arterial, saturacao_oxigenio, imc);\r\n        medicoes.put(String.valueOf(c1),m);\r\n        FichaUtente fichautente = new FichaUtente(getUtenteEspecifico(num_utente));\r\n        fichautente.adicionarMedicaoAux(m);\r\n    }\r\n```\r\n\r\nFinally it gets called in the client:\r\n\r\n```\r\nSystem.out.println(&quot;Introduza o ID de utente seguido das medi&#231;&#245;es efetuadas (ID utente, peso,altura,tens&#227;o arterial, satura&#231;&#227;o de oxig&#233;nio): &quot;);\r\n                            String medicaonova = scanner.nextLine();\r\n                            String[] medicaopartes = medicaonova.split(&quot;,&quot;, -1);\r\n                            LocalDate data = LocalDate.now();\r\n                            Double peso = Double.parseDouble(medicaopartes[1]);\r\n                            Double altura = Double.parseDouble(medicaopartes[2]);\r\n                            Integer tens_art = Integer.parseInt(medicaopartes[3]);\r\n                            Integer sat_ox = Integer.parseInt(medicaopartes[4]);\r\n                            Double imc_d = peso / (altura*altura);\r\n                            Integer imc = imc_d.intValue();\r\n                            mi.AdicionarMedicao(medicaopartes[0],data,peso,altura,tens_art,sat_ox,imc);\r\n```\r\n\r\nThis is the final output:\r\n\r\n```\r\n001 - Ficha de Utente\r\n------------------\r\nUtente: Utente: Nome: Lu&#237;s | Nif: 241637341 | CC: 14422517 | Data de nascimento: 2002-06-18 | N&#250;mero do utente: 001 | Telefone: 910410666 | Telefone familiar: 914504925 | E-mail: luiscunhadrawings@gmail.com | Morada: Rua do Nascente n38 Gualtar Braga | Familiar(res) do utente: [] | Medi&#231;&#245;es: [] | Prescri&#231;&#245;es: [] | Exames: [] | Consultas: []\r\n```\r\n\r\nAs you can see the &quot;Medi&#231;&#245;es&quot; part shows a blank ArrayList instead of what was added.\r\n\r\nWhat is the problem here?","title":"Using the &quot;add&quot; method to add object to ArrayList but it&#39;s not adding properly","body":"<p>As the title says, I was trying to add a class object instance to an ArrayList but apparently it isn't adding anything.</p>\n<p>I'm trying to add an object to an ArrayList using the following syntax:</p>\n<pre><code>    public void adicionarMedicaoAux(Medicao m){this.medicoes.add(m); }\n</code></pre>\n<p>This is the &quot;toString()&quot;:</p>\n<pre><code>    @Override\n    public String toString() {\n        return &quot;Ficha de Utente\\n------------------\\n&quot; +\n                &quot;Utente: &quot; + utente + &quot; | &quot; +\n                &quot;Familiar(res) do utente: &quot; + familiarUtente + &quot; | &quot; +\n                &quot;Medies: &quot; + medicoes + &quot; | &quot; +\n                &quot;Prescries: &quot; + prescricoes + &quot; | &quot; +\n                &quot;Exames: &quot; + exames + &quot; | &quot; +\n                &quot;Consultas: &quot; + consultas;\n    }\n</code></pre>\n<p>This method is then used here:</p>\n<pre><code>public void AdicionarMedicao(String num_utente, LocalDate data, double peso, double altura, int tensao_arterial, int saturacao_oxigenio, int imc) throws RemoteException, UtenteNaoExiste {\n        c1+=1;\n        Medicao m = new Medicao(data, peso, altura, tensao_arterial, saturacao_oxigenio, imc);\n        medicoes.put(String.valueOf(c1),m);\n        FichaUtente fichautente = new FichaUtente(getUtenteEspecifico(num_utente));\n        fichautente.adicionarMedicaoAux(m);\n    }\n</code></pre>\n<p>Finally it gets called in the client:</p>\n<pre><code>System.out.println(&quot;Introduza o ID de utente seguido das medies efetuadas (ID utente, peso,altura,tenso arterial, saturao de oxignio): &quot;);\n                            String medicaonova = scanner.nextLine();\n                            String[] medicaopartes = medicaonova.split(&quot;,&quot;, -1);\n                            LocalDate data = LocalDate.now();\n                            Double peso = Double.parseDouble(medicaopartes[1]);\n                            Double altura = Double.parseDouble(medicaopartes[2]);\n                            Integer tens_art = Integer.parseInt(medicaopartes[3]);\n                            Integer sat_ox = Integer.parseInt(medicaopartes[4]);\n                            Double imc_d = peso / (altura*altura);\n                            Integer imc = imc_d.intValue();\n                            mi.AdicionarMedicao(medicaopartes[0],data,peso,altura,tens_art,sat_ox,imc);\n</code></pre>\n<p>This is the final output:</p>\n<pre><code>001 - Ficha de Utente\n------------------\nUtente: Utente: Nome: Lus | Nif: 241637341 | CC: 14422517 | Data de nascimento: 2002-06-18 | Nmero do utente: 001 | Telefone: 910410666 | Telefone familiar: 914504925 | E-mail: luiscunhadrawings@gmail.com | Morada: Rua do Nascente n38 Gualtar Braga | Familiar(res) do utente: [] | Medies: [] | Prescries: [] | Exames: [] | Consultas: []\n</code></pre>\n<p>As you can see the &quot;Medies&quot; part shows a blank ArrayList instead of what was added.</p>\n<p>What is the problem here?</p>\n"},{"tags":["java","reference","variable-assignment"],"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1323410956,"post_id":8441664,"comment_id":10433591,"body_markdown":"You can use `List.addAll`. But if you need to retain all the objects then clearing the temp list is not really going to clear a whole lot of memory. Because your are only trying to clear the references, as far as objects you are trying to keep them.","body":"You can use <code>List.addAll</code>. But if you need to retain all the objects then clearing the temp list is not really going to clear a whole lot of memory. Because your are only trying to clear the references, as far as objects you are trying to keep them."},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1323411441,"post_id":8441664,"comment_id":10433685,"body_markdown":"As far as I know this answer is still valid: http://stackoverflow.com/questions/715650/how-to-clone-arraylist-and-also-clone-its-contents","body":"As far as I know this answer is still valid: <a href=\"http://stackoverflow.com/questions/715650/how-to-clone-arraylist-and-also-clone-its-contents\" title=\"how to clone arraylist and also clone its contents\">stackoverflow.com/questions/715650/&hellip;</a>"},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":2,"creation_date":1323411904,"post_id":8441664,"comment_id":10433764,"body_markdown":"It&#39;s hard to interpret what you are really trying to achieve. You need to explain your situation.","body":"It&#39;s hard to interpret what you are really trying to achieve. You need to explain your situation."}],"answers":[{"comments":[{"owner":{"account_id":407544,"reputation":8001,"user_id":777689,"display_name":"PeterT"},"score":7,"creation_date":1323410910,"post_id":8441681,"comment_id":10433579,"body_markdown":"assign by value in Java is something that is reserved for primitive types (int, byte, char, etc.) and literals. Unless you explicitly tell Java to copy something that is derived from `Object` it&#39;ll always assign by reference. By the way `clone()` is a shallow copy and will not copy the contained `Objects` but rather references to them. If you want to make a deep-copy take a look at: http://stackoverflow.com/questions/64036/how-do-you-make-a-deep-copy-of-an-object-in-java","body":"assign by value in Java is something that is reserved for primitive types (int, byte, char, etc.) and literals. Unless you explicitly tell Java to copy something that is derived from <code>Object</code> it&#39;ll always assign by reference. By the way <code>clone()</code> is a shallow copy and will not copy the contained <code>Objects</code> but rather references to them. If you want to make a deep-copy take a look at: <a href=\"http://stackoverflow.com/questions/64036/how-do-you-make-a-deep-copy-of-an-object-in-java\" title=\"how do you make a deep copy of an object in java\">stackoverflow.com/questions/64036/&hellip;</a>"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1323411030,"post_id":8441681,"comment_id":10433613,"body_markdown":"@PeterT - Java is *only* call by and assign by value. Non-primitive type variables contain *reference values* which are assigned or passed.","body":"@PeterT - Java is <i>only</i> call by and assign by value. Non-primitive type variables contain <i>reference values</i> which are assigned or passed."},{"owner":{"account_id":8214564,"reputation":3867,"user_id":6181476,"accept_rate":66,"display_name":"X09"},"score":0,"creation_date":1495124082,"post_id":8441681,"comment_id":75131060,"body_markdown":"Please why can&#39;t I do `oldList = newList` ?","body":"Please why can&#39;t I do <code>oldList = newList</code> ?"},{"owner":{"account_id":1557723,"reputation":3383,"user_id":1448316,"accept_rate":40,"display_name":"Sreekanth Karumanaghat"},"score":2,"creation_date":1499161080,"post_id":8441681,"comment_id":76781752,"body_markdown":"@X09 oldList = newList will copy reference of the newList to oldList, any change in newList will be reflected in the oldList also. That is not the intended behaviour.","body":"@X09 oldList = newList will copy reference of the newList to oldList, any change in newList will be reflected in the oldList also. That is not the intended behaviour."}],"tags":[],"owner":{"account_id":1080121,"reputation":4357,"user_id":1077325,"display_name":"Artem"},"comment_count":4,"down_vote_count":0,"up_vote_count":152,"is_accepted":true,"score":152,"last_activity_date":1476429539,"creation_date":1323410512,"answer_id":8441681,"question_id":8441664,"body_markdown":"You can use such trick:\r\n\r\n    myObject = new ArrayList&lt;Object&gt;(myTempObject);\r\n\r\nor use \r\n\r\n    myObject = (ArrayList&lt;Object&gt;)myTempObject.clone();\r\n\r\nYou can get some information about clone() method [here](http://geekexplains.blogspot.com/2008/06/what-is-cloning-how-clone-method-works.html)\r\n\r\nBut you should remember, that all these ways will give you a copy of your **List**, not all of its elements. So if you change one of the elements in your copied List, it will also be changed in your original List.","title":"How do I copy the contents of one ArrayList into another?","body":"<p>You can use such trick:</p>\n\n<pre><code>myObject = new ArrayList&lt;Object&gt;(myTempObject);\n</code></pre>\n\n<p>or use </p>\n\n<pre><code>myObject = (ArrayList&lt;Object&gt;)myTempObject.clone();\n</code></pre>\n\n<p>You can get some information about clone() method <a href=\"http://geekexplains.blogspot.com/2008/06/what-is-cloning-how-clone-method-works.html\" rel=\"noreferrer\">here</a></p>\n\n<p>But you should remember, that all these ways will give you a copy of your <strong>List</strong>, not all of its elements. So if you change one of the elements in your copied List, it will also be changed in your original List.</p>\n"},{"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1323411341,"post_id":8441695,"comment_id":10433668,"body_markdown":"In this case it would work fine as calling `clear()` on the `ArrayList` `myTempObject` would have no effect on the objects contained therin. If he wanted new copies of the objects contained in the list, that&#39;s another story, but that&#39;s not what I interpreted this question as asking.","body":"In this case it would work fine as calling <code>clear()</code> on the <code>ArrayList</code> <code>myTempObject</code> would have no effect on the objects contained therin. If he wanted new copies of the objects contained in the list, that&#39;s another story, but that&#39;s not what I interpreted this question as asking."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1323412044,"post_id":8441695,"comment_id":10433789,"body_markdown":"You know I think you&#39;re right. *I* mis-interpreted the question. He was worried that clearing one would clear the other. Comment deleted.","body":"You know I think you&#39;re right. <i>I</i> mis-interpreted the question. He was worried that clearing one would clear the other. Comment deleted."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1323412224,"post_id":8441695,"comment_id":10433821,"body_markdown":"@Bohemian - I think it was a fair comment and I edited my post to reflect it. I didn&#39;t consider that might be the OP&#39;s intent when reading his question.","body":"@Bohemian - I think it was a fair comment and I edited my post to reflect it. I didn&#39;t consider that might be the OP&#39;s intent when reading his question."},{"owner":{"account_id":404441,"reputation":4630,"user_id":772761,"accept_rate":43,"display_name":"Arun PS"},"score":0,"creation_date":1437636657,"post_id":8441695,"comment_id":51115039,"body_markdown":"@BrianRoach How to take a copy of a ArrayList inside an ArrayList.","body":"@BrianRoach How to take a copy of a ArrayList inside an ArrayList."}],"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1323411584,"creation_date":1323410631,"answer_id":8441695,"question_id":8441664,"body_markdown":"There are no implicit copies made in java via the assignment operator. Variables contain a reference value (pointer) and when you use `=` you&#39;re only coping that value.\r\n\r\nIn order to preserve the contents of `myTempObject` you would need to make a copy of it.\r\n\r\nThis can be done by creating a new `ArrayList` using the constructor that takes another `ArrayList`:\r\n\r\n    ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;(myTempObject);\r\n\r\n**Edit:** As Bohemian points out in the comments below, is this what you&#39;re asking? By doing the above, both `ArrayList`s (`myTempObject` and `myObject`) would contain references to the *same* objects. If you actually want a new list that contains new copies of the objects contained in `myTempObject` then you would need to make a copy of each individual object in the original `ArrayList`","title":"How do I copy the contents of one ArrayList into another?","body":"<p>There are no implicit copies made in java via the assignment operator. Variables contain a reference value (pointer) and when you use <code>=</code> you're only coping that value.</p>\n\n<p>In order to preserve the contents of <code>myTempObject</code> you would need to make a copy of it.</p>\n\n<p>This can be done by creating a new <code>ArrayList</code> using the constructor that takes another <code>ArrayList</code>:</p>\n\n<pre><code>ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;(myTempObject);\n</code></pre>\n\n<p><strong>Edit:</strong> As Bohemian points out in the comments below, is this what you're asking? By doing the above, both <code>ArrayList</code>s (<code>myTempObject</code> and <code>myObject</code>) would contain references to the <em>same</em> objects. If you actually want a new list that contains new copies of the objects contained in <code>myTempObject</code> then you would need to make a copy of each individual object in the original <code>ArrayList</code></p>\n"},{"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":1,"creation_date":1486131727,"post_id":8441703,"comment_id":71226682,"body_markdown":"`Collections.copy ` is broken. First, it&#39;s misleading by saying that it copies elements, whereas it only references them in a new list. Second, you need to already have a destination list having the size not lower than the source list...","body":"<code>Collections.copy </code> is broken. First, it&#39;s misleading by saying that it copies elements, whereas it only references them in a new list. Second, you need to already have a destination list having the size not lower than the source list..."}],"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323411161,"creation_date":1323410750,"answer_id":8441703,"question_id":8441664,"body_markdown":"You need to `clone()` the individual object. `Constructor` and other methods perform shallow copy. You may try  [Collections.copy][1] method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29","title":"How do I copy the contents of one ArrayList into another?","body":"<p>You need to <code>clone()</code> the individual object. <code>Constructor</code> and other methods perform shallow copy. You may try  <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29\" rel=\"nofollow\">Collections.copy</a> method.</p>\n"},{"tags":[],"owner":{"account_id":3339247,"reputation":41,"user_id":2805863,"display_name":"Rakhi Jaligama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391757080,"creation_date":1391757080,"answer_id":21621456,"question_id":8441664,"body_markdown":"to copy one list into the other list, u can use the method called\r\nCollection.copy(myObject myTempObject).now after executing these line of code u can see all the list values in the myObject.","title":"How do I copy the contents of one ArrayList into another?","body":"<p>to copy one list into the other list, u can use the method called\nCollection.copy(myObject myTempObject).now after executing these line of code u can see all the list values in the myObject.</p>\n"},{"comments":[{"owner":{"account_id":1481997,"reputation":1559,"user_id":1391158,"accept_rate":51,"display_name":"Mahesh"},"score":1,"creation_date":1472808110,"post_id":29033799,"comment_id":65911566,"body_markdown":"How to stop affect to another list\nis there any other way we can handle this","body":"How to stop affect to another list is there any other way we can handle this"},{"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"score":0,"creation_date":1480513604,"post_id":29033799,"comment_id":68993573,"body_markdown":"@Mahesh - refer this http://stackoverflow.com/questions/715650/how-to-clone-arraylist-and-also-clone-its-contents","body":"@Mahesh - refer this <a href=\"http://stackoverflow.com/questions/715650/how-to-clone-arraylist-and-also-clone-its-contents\" title=\"how to clone arraylist and also clone its contents\">stackoverflow.com/questions/715650/&hellip;</a>"}],"tags":[],"owner":{"account_id":4710417,"reputation":1861,"user_id":3811068,"display_name":"Dhananjay M"},"comment_count":2,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1449818451,"creation_date":1426254171,"answer_id":29033799,"question_id":8441664,"body_markdown":"originalArrayList.**addAll**(copyArrayList);\r\n\r\n**Please Note**: When using the addAll() method to copy, the contents of both the array lists (originalArrayList and copyArrayList) refer to the same objects or contents. So if you modify any one of them the other will also reflect the same change.\r\n\r\nIf you don&#39;t wan&#39;t this then you need to copy each element from the originalArrayList to the copyArrayList, like using a for or while loop.","title":"How do I copy the contents of one ArrayList into another?","body":"<p>originalArrayList.<strong>addAll</strong>(copyArrayList);</p>\n\n<p><strong>Please Note</strong>: When using the addAll() method to copy, the contents of both the array lists (originalArrayList and copyArrayList) refer to the same objects or contents. So if you modify any one of them the other will also reflect the same change.</p>\n\n<p>If you don't wan't this then you need to copy each element from the originalArrayList to the copyArrayList, like using a for or while loop.</p>\n"},{"tags":[],"owner":{"account_id":6121176,"reputation":81,"user_id":4774661,"display_name":"PaulC"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1428685857,"creation_date":1428685857,"answer_id":29567057,"question_id":8441664,"body_markdown":"Came across this while facing the same issue myself.\r\n\r\nSaying arraylist1 = arraylist2 sets them both to point at the same place so if you alter either the data alters and thus both lists always stay the same.\r\n\r\nTo copy values into an independent list I just used foreach to copy the contents:\r\n\r\n    ArrayList list1 = new ArrayList();\r\n    ArrayList list2 = new ArrayList();\r\n\r\nfill list1 in whatever way you currently are.\r\n\r\n    foreach(&lt;type&gt; obj in list1)\r\n    {\r\n        list2.Add(obj);\r\n    }\r\n","title":"How do I copy the contents of one ArrayList into another?","body":"<p>Came across this while facing the same issue myself.</p>\n\n<p>Saying arraylist1 = arraylist2 sets them both to point at the same place so if you alter either the data alters and thus both lists always stay the same.</p>\n\n<p>To copy values into an independent list I just used foreach to copy the contents:</p>\n\n<pre><code>ArrayList list1 = new ArrayList();\nArrayList list2 = new ArrayList();\n</code></pre>\n\n<p>fill list1 in whatever way you currently are.</p>\n\n<pre><code>foreach(&lt;type&gt; obj in list1)\n{\n    list2.Add(obj);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3818561,"reputation":47,"user_id":6491794,"accept_rate":75,"display_name":"Michael"},"score":0,"creation_date":1615344823,"post_id":34642134,"comment_id":117660110,"body_markdown":"oldList and newList would still be dependent. If you were to remove an element from the newList, it would also remove it from the oldList. Did you even test this?","body":"oldList and newList would still be dependent. If you were to remove an element from the newList, it would also remove it from the oldList. Did you even test this?"}],"tags":[],"owner":{"account_id":5440121,"reputation":1551,"user_id":4537618,"accept_rate":100,"display_name":"Java Main"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452112060,"creation_date":1452112060,"answer_id":34642134,"question_id":8441664,"body_markdown":" Supopose you want to copy oldList into a new ArrayList object called newList\r\n\r\n    ArrayList&lt;Object&gt; newList = new ArrayList&lt;&gt;() ;\r\n\t\r\n\tfor (int i = 0 ; i&lt;oldList.size();i++){\r\n\t\tnewList.add(oldList.get(i)) ;\r\n\t}\r\n\r\nThese two lists are indepedant, changes to one are not reflected to the other one.","title":"How do I copy the contents of one ArrayList into another?","body":"<p>Supopose you want to copy oldList into a new ArrayList object called newList</p>\n\n<pre><code>ArrayList&lt;Object&gt; newList = new ArrayList&lt;&gt;() ;\n\nfor (int i = 0 ; i&lt;oldList.size();i++){\n    newList.add(oldList.get(i)) ;\n}\n</code></pre>\n\n<p>These two lists are indepedant, changes to one are not reflected to the other one.</p>\n"},{"tags":[],"owner":{"account_id":11433470,"reputation":69,"user_id":8381549,"display_name":"Nilam Rajaput"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700278949,"creation_date":1509081880,"answer_id":46968038,"question_id":8441664,"body_markdown":"Lets try the example\r\n\r\n    ArrayList&lt;String&gt; firstArrayList = new ArrayList&lt;&gt;();\r\n    firstArrayList.add(&quot;One&quot;);\r\n    firstArrayList.add(&quot;Two&quot;);\r\n    firstArrayList.add(&quot;Three&quot;);\r\n    firstArrayList.add(&quot;Four&quot;);\r\n    firstArrayList.add(&quot;Five&quot;);\r\n    firstArrayList.add(&quot;Six&quot;);\r\n    //copy array list content into another array list\r\n    ArrayList&lt;String&gt; secondArrayList=new ArrayList&lt;&gt;();\r\n    secondArrayList.addAll(firstArrayList);\r\n    //print all the content of array list\r\n    Iterator itr = secondArrayList.iterator();\r\n    while (itr.hasNext()) {\r\n        System.out.println(itr.next());\r\n    }\r\n\r\nIn print **output** as below\r\n\r\nOne  \r\nTwo  \r\nThree  \r\nFour  \r\nFive   \r\nSix\r\n\r\nWe can also do by using **clone()** method for which is used to create exact copy\r\n\r\nfor that try you can try as like\r\n      \r\n    ArrayList&lt;String&gt;secondArrayList = (ArrayList&lt;String&gt;) firstArrayList.clone();\r\n\r\nAnd then print by using iterator\r\n\r\n    Iterator itr = secondArrayList.iterator();\r\n    while (itr.hasNext()) {\r\n        System.out.println(itr.next());\r\n    }","title":"How do I copy the contents of one ArrayList into another?","body":"<p>Lets try the example</p>\n<pre><code>ArrayList&lt;String&gt; firstArrayList = new ArrayList&lt;&gt;();\nfirstArrayList.add(&quot;One&quot;);\nfirstArrayList.add(&quot;Two&quot;);\nfirstArrayList.add(&quot;Three&quot;);\nfirstArrayList.add(&quot;Four&quot;);\nfirstArrayList.add(&quot;Five&quot;);\nfirstArrayList.add(&quot;Six&quot;);\n//copy array list content into another array list\nArrayList&lt;String&gt; secondArrayList=new ArrayList&lt;&gt;();\nsecondArrayList.addAll(firstArrayList);\n//print all the content of array list\nIterator itr = secondArrayList.iterator();\nwhile (itr.hasNext()) {\n    System.out.println(itr.next());\n}\n</code></pre>\n<p>In print <strong>output</strong> as below</p>\n<p>One<br />\nTwo<br />\nThree<br />\nFour<br />\nFive<br />\nSix</p>\n<p>We can also do by using <strong>clone()</strong> method for which is used to create exact copy</p>\n<p>for that try you can try as like</p>\n<pre><code>ArrayList&lt;String&gt;secondArrayList = (ArrayList&lt;String&gt;) firstArrayList.clone();\n</code></pre>\n<p>And then print by using iterator</p>\n<pre><code>Iterator itr = secondArrayList.iterator();\nwhile (itr.hasNext()) {\n    System.out.println(itr.next());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11257586,"reputation":61,"user_id":8256829,"display_name":"Imran samed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510746803,"creation_date":1510746803,"answer_id":47306732,"question_id":8441664,"body_markdown":"    \r\n\r\n&gt; Copy of one list into second is quite simple , you can do that as below:-\r\n\r\n\r\n    ArrayList&lt;List1&gt; list1= new ArrayList&lt;&gt;();\r\n    ArrayList&lt;List1&gt; list2= new ArrayList&lt;&gt;();\r\n    //this will your copy your list1 into list2\r\n    list2.addAll(list1);","title":"How do I copy the contents of one ArrayList into another?","body":"<blockquote>\n  <p>Copy of one list into second is quite simple , you can do that as below:-</p>\n</blockquote>\n\n<pre><code>ArrayList&lt;List1&gt; list1= new ArrayList&lt;&gt;();\nArrayList&lt;List1&gt; list2= new ArrayList&lt;&gt;();\n//this will your copy your list1 into list2\nlist2.addAll(list1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3818561,"reputation":47,"user_id":6491794,"accept_rate":75,"display_name":"Michael"},"score":0,"creation_date":1615345329,"post_id":47448227,"comment_id":117660204,"body_markdown":"The two lists would still be dependent. Try using the remove method on the duplicate and print the original.","body":"The two lists would still be dependent. Try using the remove method on the duplicate and print the original."}],"tags":[],"owner":{"account_id":4218997,"reputation":119,"user_id":3454231,"display_name":"Chirag Khimani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511415133,"creation_date":1511415133,"answer_id":47448227,"question_id":8441664,"body_markdown":"Straightforward way to make deep copy of original list is to add all element from one list to another list.\r\n\r\n    ArrayList&lt;Object&gt; originalList = new ArrayList&lt;Object&gt;();\r\n    ArrayList&lt;Object&gt; duplicateList = new ArrayList&lt;Object&gt;();\r\n    \r\n    for(Object o : originalList) {\r\n    \tduplicateList.add(o);\r\n    }\r\n\r\nNow If you make any changes to originalList it will not impact duplicateList.","title":"How do I copy the contents of one ArrayList into another?","body":"<p>Straightforward way to make deep copy of original list is to add all element from one list to another list.</p>\n\n<pre><code>ArrayList&lt;Object&gt; originalList = new ArrayList&lt;Object&gt;();\nArrayList&lt;Object&gt; duplicateList = new ArrayList&lt;Object&gt;();\n\nfor(Object o : originalList) {\n    duplicateList.add(o);\n}\n</code></pre>\n\n<p>Now If you make any changes to originalList it will not impact duplicateList.</p>\n"},{"tags":[],"owner":{"account_id":15587578,"reputation":1,"user_id":11245626,"display_name":"Hassanen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700278866,"creation_date":1553307059,"answer_id":55309968,"question_id":8441664,"body_markdown":"Here is a workaround to copy all the objects from one arrayList to another:\r\n\r\n    ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;();\r\n    ArrayList&lt;Object&gt; myTempObject = new ArrayList&lt;Object&gt;();\r\n\r\n    myObject.addAll(myTempObject.subList(0, myTempObject.size()));\r\n\r\nsubList is intended to return a List with a range of data. so you can copy the whole arrayList or part of it.","title":"How do I copy the contents of one ArrayList into another?","body":"<p>Here is a workaround to copy all the objects from one arrayList to another:</p>\n<pre><code>ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;();\nArrayList&lt;Object&gt; myTempObject = new ArrayList&lt;Object&gt;();\n\nmyObject.addAll(myTempObject.subList(0, myTempObject.size()));\n</code></pre>\n<p>subList is intended to return a List with a range of data. so you can copy the whole arrayList or part of it.</p>\n"},{"tags":[],"owner":{"account_id":2547043,"reputation":671,"user_id":2211640,"accept_rate":43,"display_name":"Gyan Swaroop Awasthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564574007,"creation_date":1564566705,"answer_id":57287981,"question_id":8441664,"body_markdown":"Suppose you have two arraylist of String type .\r\nLike \r\n\r\n    ArrayList&lt;String&gt; firstArrayList ;//This array list is not having any data.\r\n\r\n    ArrayList&lt;String&gt; secondArrayList = new ArrayList&lt;&gt;();//Having some data.\r\n\r\nNow we have to copy the data of second array to first arraylist like this,\r\n\r\n    firstArrayList = new ArrayList&lt;&gt;(secondArrayList );\r\n\r\nDone!!","title":"How do I copy the contents of one ArrayList into another?","body":"<p>Suppose you have two arraylist of String type .\nLike </p>\n\n<pre><code>ArrayList&lt;String&gt; firstArrayList ;//This array list is not having any data.\n\nArrayList&lt;String&gt; secondArrayList = new ArrayList&lt;&gt;();//Having some data.\n</code></pre>\n\n<p>Now we have to copy the data of second array to first arraylist like this,</p>\n\n<pre><code>firstArrayList = new ArrayList&lt;&gt;(secondArrayList );\n</code></pre>\n\n<p>Done!!</p>\n"},{"tags":[],"owner":{"account_id":8220479,"reputation":615,"user_id":6185191,"display_name":"Neel Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621202520,"creation_date":1621202520,"answer_id":67561927,"question_id":8441664,"body_markdown":"The simplest way is: &lt;br&gt;\r\n \r\n \r\n    ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;();\r\n    // fill up data here\r\n    ArrayList&lt;Object&gt; myTempObject = new ArrayList(myObject);","title":"How do I copy the contents of one ArrayList into another?","body":"<p>The simplest way is: <br></p>\n<pre><code>ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;();\n// fill up data here\nArrayList&lt;Object&gt; myTempObject = new ArrayList(myObject);\n</code></pre>\n"}],"owner":{"account_id":376162,"reputation":43022,"user_id":727429,"accept_rate":90,"display_name":"CQM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290955,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":8441681,"answer_count":13,"score":95,"last_activity_date":1700278949,"creation_date":1323410398,"question_id":8441664,"body_markdown":"I have some data structures, and I would like to use one as a temporary, and another as not temporary.\r\n\r\n    ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;();\r\n    ArrayList&lt;Object&gt; myTempObject = new ArrayList&lt;Object&gt;();\r\n\r\n\r\n    //fill myTempObject here\r\n    ....\r\n\r\n    //make myObject contain the same values as myTempObject\r\n    myObject = myTempObject;\r\n\r\n    //free up memory by clearing myTempObject\r\n    myTempObject.clear();\r\n\r\nnow the problem with this of course is that `myObject` is really just pointing to `myTempObject`, and so once `myTempObject` is cleared, so is `myObject`.\r\n\r\nHow do I retain the values from `myTempObject` in `myObject` using java?","title":"How do I copy the contents of one ArrayList into another?","body":"<p>I have some data structures, and I would like to use one as a temporary, and another as not temporary.</p>\n\n<pre><code>ArrayList&lt;Object&gt; myObject = new ArrayList&lt;Object&gt;();\nArrayList&lt;Object&gt; myTempObject = new ArrayList&lt;Object&gt;();\n\n\n//fill myTempObject here\n....\n\n//make myObject contain the same values as myTempObject\nmyObject = myTempObject;\n\n//free up memory by clearing myTempObject\nmyTempObject.clear();\n</code></pre>\n\n<p>now the problem with this of course is that <code>myObject</code> is really just pointing to <code>myTempObject</code>, and so once <code>myTempObject</code> is cleared, so is <code>myObject</code>.</p>\n\n<p>How do I retain the values from <code>myTempObject</code> in <code>myObject</code> using java?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"score":0,"creation_date":1700264391,"post_id":77505082,"comment_id":136637313,"body_markdown":"Need more context, do you have the Intent? also result.getData().getSerializableExtra(&#39;key&#39;) you have single quotes instead of double quotes (I doubt thats it)","body":"Need more context, do you have the Intent? also result.getData().getSerializableExtra(&#39;key&#39;) you have single quotes instead of double quotes (I doubt thats it)"}],"answers":[{"comments":[{"owner":{"account_id":29930579,"reputation":1,"user_id":22937526,"display_name":"crispypants"},"score":0,"creation_date":1701163710,"post_id":77505586,"comment_id":136738317,"body_markdown":"I know the structure of the class. Is it possible to copy the class into my app and try to retrieve this class? I tried it but it is not working, not sure where I am going wrong","body":"I know the structure of the class. Is it possible to copy the class into my app and try to retrieve this class? I tried it but it is not working, not sure where I am going wrong"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701169366,"post_id":77505586,"comment_id":136739348,"body_markdown":"*&quot;I tried it but it is not working ...&quot;* - It should work.","body":"<i>&quot;I tried it but it is not working ...&quot;</i> - It should work."},{"owner":{"account_id":29930579,"reputation":1,"user_id":22937526,"display_name":"crispypants"},"score":0,"creation_date":1701259729,"post_id":77505586,"comment_id":136752989,"body_markdown":"I was supposed to copy the entire class as is and keep the package name as the original app package name as well. I was creating a local copy before. I was able to get the class and with some Java reflection got the methods as well. Thanks for the help anyway","body":"I was supposed to copy the entire class as is and keep the package name as the original app package name as well. I was creating a local copy before. I was able to get the class and with some Java reflection got the methods as well. Thanks for the help anyway"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700278849,"creation_date":1700277663,"answer_id":77505586,"question_id":77505082,"body_markdown":"&gt; How am I supposed to read the contents of this object? I know the structure of the class. \r\n\r\nYou need the actual class.  The deserialization code needs to to make an instance of that class, and it can&#39;t do it without the code.\r\n\r\n&gt; I simply tried `result.getData().getSerializableExtra(&#39;key&#39;)`\r\n&gt; \r\n&gt; It returns with an error saying `Parcelable` encountered `ClassNotFoundException` reading a `Serializable` object.\r\n\r\nObject deserialization requires the actual classes of all of the objects that you are deserializing.  Otherwise it cannot create instances of them.  All of the required classes need to be available *at runtime* so that the classloader can find them.  Because, the deserialization code is going to do the equivalent of `Class.forName(class_name)` for each class in the serialization.\r\n\r\nThe complete stacktrace should tell you the name of the missing class.\r\n\r\n------------------------\r\n\r\n&gt; I&#39;m doing a challenge where I have to interact with a system which has an inbuilt app which is sending my app a serialised object.\r\n\r\nIf part of the challenge is that you need to extract information from the serialized object without having its code ... that is indeed a challenge.\r\n\r\nWhat you would need to do is:\r\n\r\n1. Create a class with the same fully qualified name as the missing class and the sane `serialVersionUID`.\r\n\r\n2. Add fields to match all of the fields you want to extract from the serialized object.\r\n\r\n3. Implement a `readObject` method for the class.  It should call `ObjectInputStream.readFields()` to get the `ObjectInputStream.GetField` object for accessing the serialized fields by name.  Then you use that object to extract values of all of the serialized fields you need and then assign the the values to the the fields of the target object (i.e. `this`).\r\n\r\nIf this sounds complicated ... it is.  (This is &gt;your&lt; challenge!)\r\n\r\n","title":"Android: Unable to read serialized object","body":"<blockquote>\n<p>How am I supposed to read the contents of this object? I know the structure of the class.</p>\n</blockquote>\n<p>You need the actual class.  The deserialization code needs to to make an instance of that class, and it can't do it without the code.</p>\n<blockquote>\n<p>I simply tried <code>result.getData().getSerializableExtra('key')</code></p>\n<p>It returns with an error saying <code>Parcelable</code> encountered <code>ClassNotFoundException</code> reading a <code>Serializable</code> object.</p>\n</blockquote>\n<p>Object deserialization requires the actual classes of all of the objects that you are deserializing.  Otherwise it cannot create instances of them.  All of the required classes need to be available <em>at runtime</em> so that the classloader can find them.  Because, the deserialization code is going to do the equivalent of <code>Class.forName(class_name)</code> for each class in the serialization.</p>\n<p>The complete stacktrace should tell you the name of the missing class.</p>\n<hr />\n<blockquote>\n<p>I'm doing a challenge where I have to interact with a system which has an inbuilt app which is sending my app a serialised object.</p>\n</blockquote>\n<p>If part of the challenge is that you need to extract information from the serialized object without having its code ... that is indeed a challenge.</p>\n<p>What you would need to do is:</p>\n<ol>\n<li><p>Create a class with the same fully qualified name as the missing class and the sane <code>serialVersionUID</code>.</p>\n</li>\n<li><p>Add fields to match all of the fields you want to extract from the serialized object.</p>\n</li>\n<li><p>Implement a <code>readObject</code> method for the class.  It should call <code>ObjectInputStream.readFields()</code> to get the <code>ObjectInputStream.GetField</code> object for accessing the serialized fields by name.  Then you use that object to extract values of all of the serialized fields you need and then assign the the values to the the fields of the target object (i.e. <code>this</code>).</p>\n</li>\n</ol>\n<p>If this sounds complicated ... it is.  (This is &gt;your&lt; challenge!)</p>\n"}],"owner":{"account_id":29930579,"reputation":1,"user_id":22937526,"display_name":"crispypants"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700278849,"creation_date":1700263668,"question_id":77505082,"body_markdown":"I&#39;m doing a challenge where I have to interact with a system which has an inbuilt app which is sending my app a serialised object. \r\n\r\n\r\nHow am I supposed to read the contents of this object?\r\nI know the structure of the class. \r\nI simply tried\r\n`result.getData().getSerializableExtra(&#39;key&#39;)`\r\n\r\nIt returns with an error saying `Parcelable encountered ClassNotFoundException reading a Serializable object`\r\n\r\nCan you help me out?","title":"Android: Unable to read serialized object","body":"<p>I'm doing a challenge where I have to interact with a system which has an inbuilt app which is sending my app a serialised object.</p>\n<p>How am I supposed to read the contents of this object?\nI know the structure of the class.\nI simply tried\n<code>result.getData().getSerializableExtra('key')</code></p>\n<p>It returns with an error saying <code>Parcelable encountered ClassNotFoundException reading a Serializable object</code></p>\n<p>Can you help me out?</p>\n"},{"tags":["java","spring","spring-mvc","annotations","autowired"],"comments":[{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1386005168,"post_id":20333147,"comment_id":30349237,"body_markdown":"How are you loading beans.xml?","body":"How are you loading beans.xml?"},{"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"score":0,"creation_date":1386018246,"post_id":20333147,"comment_id":30355849,"body_markdown":"now how about to leave only one of `MailManagerInterface` and `IMailManager`? :)","body":"now how about to leave only one of <code>MailManagerInterface</code> and <code>IMailManager</code>? :)"},{"owner":{"account_id":2932444,"reputation":2407,"user_id":2512304,"accept_rate":47,"display_name":"Radzikowski"},"score":0,"creation_date":1386019954,"post_id":20333147,"comment_id":30356702,"body_markdown":"Sorry, I badly pasted code. In my program there is `IMailManager` everywhere.","body":"Sorry, I badly pasted code. In my program there is <code>IMailManager</code> everywhere."},{"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"score":0,"creation_date":1386021008,"post_id":20333147,"comment_id":30357232,"body_markdown":"ah, exactly.. add `&lt;import resource=&quot;classpath:/beans.xml&quot;/&gt;` to `mvc-dispatcher-servlet.xml`","body":"ah, exactly.. add <code>&lt;import resource=&quot;classpath:&#47;beans.xml&quot;&#47;&gt;</code> to <code>mvc-dispatcher-servlet.xml</code>"},{"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"score":0,"creation_date":1386021246,"post_id":20333147,"comment_id":30357366,"body_markdown":"By the way, did you try @emd decision?","body":"By the way, did you try @emd decision?"},{"owner":{"account_id":2932444,"reputation":2407,"user_id":2512304,"accept_rate":47,"display_name":"Radzikowski"},"score":0,"creation_date":1386029250,"post_id":20333147,"comment_id":30360629,"body_markdown":"Works great, thank you. With import works even without interfaces. And I will use emd suggestion during unit tests.","body":"Works great, thank you. With import works even without interfaces. And I will use emd suggestion during unit tests."}],"answers":[{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":1,"creation_date":1523618193,"post_id":20333352,"comment_id":86645636,"body_markdown":"How to do it if a am using Spring Boot?","body":"How to do it if a am using Spring Boot?"},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1600346144,"post_id":20333352,"comment_id":113062757,"body_markdown":"I forget about configuring component scan for maven dependencies and struggle with this like once a year.","body":"I forget about configuring component scan for maven dependencies and struggle with this like once a year."},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":1,"creation_date":1600346247,"post_id":20333352,"comment_id":113062816,"body_markdown":"If you&#39;re talking about the application itself and not integration tests, for Spring boot you can do it like this:  `@SpringBootApplication(scanBasePackages = { &quot;com.package.one&quot;, &quot;com.package.two&quot; })`","body":"If you&#39;re talking about the application itself and not integration tests, for Spring boot you can do it like this:  <code>@SpringBootApplication(scanBasePackages = { &quot;com.package.one&quot;, &quot;com.package.two&quot; })</code>"}],"tags":[],"owner":{"account_id":2503008,"reputation":740,"user_id":2177580,"display_name":"emd"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1386002562,"creation_date":1386002562,"answer_id":20333352,"question_id":20333147,"body_markdown":"The thing is that both the application context and the web application context are registered in the WebApplicationContext during server startup. When you run the test you must explicitly tell which contexts to load. \r\n\r\nTry this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {&quot;classpath:/beans.xml&quot;, &quot;/mvc-dispatcher-servlet.xml&quot;})","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>The thing is that both the application context and the web application context are registered in the WebApplicationContext during server startup. When you run the test you must explicitly tell which contexts to load. </p>\n\n<p>Try this:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {\"classpath:/beans.xml\", \"/mvc-dispatcher-servlet.xml\"})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2932444,"reputation":2407,"user_id":2512304,"accept_rate":47,"display_name":"Radzikowski"},"score":2,"creation_date":1386016728,"post_id":20333975,"comment_id":30355080,"body_markdown":"Thank you but it still doesn&#39;t work (same error). I added changes in post. Maybe I don&#39;t include / search something in my project properly?","body":"Thank you but it still doesn&#39;t work (same error). I added changes in post. Maybe I don&#39;t include / search something in my project properly?"},{"owner":{"account_id":3208177,"reputation":1188,"user_id":2708763,"accept_rate":80,"display_name":"WoLfPwNeR"},"score":0,"creation_date":1452211316,"post_id":20333975,"comment_id":57080563,"body_markdown":"I&#39;m wondering if there is a way to do something like `@Autowired AbstractManager[] abstractManagers` that contains all its implementations.","body":"I&#39;m wondering if there is a way to do something like <code>@Autowired AbstractManager[] abstractManagers</code> that contains all its implementations."},{"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"score":0,"creation_date":1452501086,"post_id":20333975,"comment_id":57179779,"body_markdown":"@WoLfPwNeR It should work exactly as you wrote. See [link](http://docs.spring.io/spring/docs/4.0.x/spring-framework-reference/html/beans.html#beans-autowired-annotation)","body":"@WoLfPwNeR It should work exactly as you wrote. See <a href=\"http://docs.spring.io/spring/docs/4.0.x/spring-framework-reference/html/beans.html#beans-autowired-annotation\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1523616907,"post_id":20333975,"comment_id":86644832,"body_markdown":"Why not `MailManager`?","body":"Why not <code>MailManager</code>?"},{"owner":{"account_id":1317994,"reputation":7696,"user_id":1264461,"accept_rate":66,"display_name":"xialin"},"score":1,"creation_date":1556220998,"post_id":20333975,"comment_id":98374361,"body_markdown":"I have two `@Service` classes implementing the same interface. Both are `@Autowired` in another class. Initially it caused the same problem as the original post when I used the specific class type. Following this answer, I changed to use Interface type with different `@Qualifier(&quot;myServiceA&quot;)` and `@Qualifier(&quot;myServiceB&quot;)`, and the problem was resolved. Thanks!","body":"I have two <code>@Service</code> classes implementing the same interface. Both are <code>@Autowired</code> in another class. Initially it caused the same problem as the original post when I used the specific class type. Following this answer, I changed to use Interface type with different <code>@Qualifier(&quot;myServiceA&quot;)</code> and <code>@Qualifier(&quot;myServiceB&quot;)</code>, and the problem was resolved. Thanks!"}],"tags":[],"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"comment_count":5,"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1386005073,"creation_date":1386004374,"answer_id":20333975,"question_id":20333147,"body_markdown":"You should autowire interface `AbstractManager` instead of class `MailManager`. If you have different implemetations of `AbstractManager` you can write `@Component(&quot;mailService&quot;)` and then `@Autowired @Qualifier(&quot;mailService&quot;)` combination to autowire specific class.\r\n\r\nThis is due to the fact that Spring creates and uses proxy objects based on the interfaces.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>You should autowire interface <code>AbstractManager</code> instead of class <code>MailManager</code>. If you have different implemetations of <code>AbstractManager</code> you can write <code>@Component(\"mailService\")</code> and then <code>@Autowired @Qualifier(\"mailService\")</code> combination to autowire specific class.</p>\n\n<p>This is due to the fact that Spring creates and uses proxy objects based on the interfaces.</p>\n"},{"tags":[],"owner":{"account_id":3582639,"reputation":1972,"user_id":2990458,"accept_rate":38,"display_name":"Abhishek Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429258913,"creation_date":1386004982,"answer_id":20334159,"question_id":20333147,"body_markdown":"Correct way shall be to autowire AbstractManager, as Max suggested, but this should work fine as well.\r\n\r\n    @Autowired\r\n    @Qualifier(value=&quot;mailService&quot;)\r\n    public MailManager mailManager;\r\n\r\nand\r\n\r\n    @Component(&quot;mailService&quot;)\r\n    @Transactional\r\n    public class MailManager extends AbstractManager {\r\n    }","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>Correct way shall be to autowire AbstractManager, as Max suggested, but this should work fine as well.</p>\n\n<pre><code>@Autowired\n@Qualifier(value=\"mailService\")\npublic MailManager mailManager;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Component(\"mailService\")\n@Transactional\npublic class MailManager extends AbstractManager {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093404,"reputation":3325,"user_id":2619091,"accept_rate":100,"display_name":"yamilmedina"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434556802,"creation_date":1386022940,"answer_id":20339106,"question_id":20333147,"body_markdown":"Can you try annotating only your concrete implementation with `@Component`? Maybe the following [answer][1] could help. It is kind of a similar problem. I usually put Spring annotations in the implementation classes.\r\n\r\nhttps://stackoverflow.com/a/10322456/2619091\r\n\r\n  [1]: https://stackoverflow.com/a/10322456/2619091","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>Can you try annotating only your concrete implementation with <code>@Component</code>? Maybe the following <a href=\"https://stackoverflow.com/a/10322456/2619091\">answer</a> could help. It is kind of a similar problem. I usually put Spring annotations in the implementation classes.</p>\n\n<p><a href=\"https://stackoverflow.com/a/10322456/2619091\">https://stackoverflow.com/a/10322456/2619091</a></p>\n"},{"comments":[{"owner":{"account_id":4745431,"reputation":4919,"user_id":3836923,"accept_rate":81,"display_name":"Japheth Ongeri - inkalimeva"},"score":1,"creation_date":1539241909,"post_id":23502682,"comment_id":92431859,"body_markdown":"You saved my day sir, this is so hard to detect!","body":"You saved my day sir, this is so hard to detect!"}],"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1399402292,"creation_date":1399402292,"answer_id":23502682,"question_id":20333147,"body_markdown":"Spent much of my time with this! My bad! Later found that the class on which I declared the annotation `Service` or `Component` was of type abstract. Had enabled debug logs on Springframework but no hint was received. Please check if the class if of abstract type. If then, the basic rule applied, can&#39;t instantiate an abstract class.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>Spent much of my time with this! My bad! Later found that the class on which I declared the annotation <code>Service</code> or <code>Component</code> was of type abstract. Had enabled debug logs on Springframework but no hint was received. Please check if the class if of abstract type. If then, the basic rule applied, can't instantiate an abstract class.</p>\n"},{"comments":[{"owner":{"account_id":218186,"reputation":783,"user_id":474377,"display_name":"Vijay Vepakomma"},"score":2,"creation_date":1467384684,"post_id":26580299,"comment_id":63726385,"body_markdown":"This worked for me. My tests failed when I refactored code to move to a new package name because I was using old package name in @ComponentScan.","body":"This worked for me. My tests failed when I refactored code to move to a new package name because I was using old package name in @ComponentScan."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":3,"creation_date":1523618094,"post_id":26580299,"comment_id":86645579,"body_markdown":"How to use `@Configuration` class from `src/main` in `src/test`?","body":"How to use <code>@Configuration</code> class from <code>src&#47;main</code> in <code>src&#47;test</code>?"}],"tags":[],"owner":{"account_id":70100,"reputation":4960,"user_id":203619,"accept_rate":43,"display_name":"mooreds"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1414409169,"creation_date":1414376794,"answer_id":26580299,"question_id":20333147,"body_markdown":"I had this happen because my tests were not in the same package as my components.  (I had renamed my component package, but not my test package.)  And I was using `@ComponentScan` in my test `@Configuration` class, so my tests weren&#39;t finding the components on which they relied.\r\n\r\nSo, double check that if you get this error.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>I had this happen because my tests were not in the same package as my components.  (I had renamed my component package, but not my test package.)  And I was using <code>@ComponentScan</code> in my test <code>@Configuration</code> class, so my tests weren't finding the components on which they relied.</p>\n\n<p>So, double check that if you get this error.</p>\n"},{"tags":[],"owner":{"account_id":114741,"reputation":212,"user_id":301573,"display_name":"LoBo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619178348,"creation_date":1435221870,"answer_id":31045382,"question_id":20333147,"body_markdown":"My guess is that here\r\n\r\n    &lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail&quot; use-default-filters=&quot;false&quot;&gt;\r\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot; /&gt;\r\n    &lt;/context:component-scan&gt;\r\n\r\nall annotations are first disabled by `use-default-filters=&quot;false&quot;` and then only `@Controller` annotation enabled. Thus, your `@Component` annotation is not enabled.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>My guess is that here</p>\n<pre><code>&lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail&quot; use-default-filters=&quot;false&quot;&gt;\n    &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot; /&gt;\n&lt;/context:component-scan&gt;\n</code></pre>\n<p>all annotations are first disabled by <code>use-default-filters=&quot;false&quot;</code> and then only <code>@Controller</code> annotation enabled. Thus, your <code>@Component</code> annotation is not enabled.</p>\n"},{"tags":[],"owner":{"account_id":276332,"reputation":501,"user_id":569708,"accept_rate":100,"display_name":"kazmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446415477,"creation_date":1446415477,"answer_id":33467750,"question_id":20333147,"body_markdown":"I ran in to this recently, and as it turned out, I&#39;ve imported the wrong annotation in my service class. Netbeans has an option to hide import statements, that&#39;s why I did not see it for some time.\r\n\r\nI&#39;ve used `@org.jvnet.hk2.annotations.Service` instead of `@org.springframework.stereotype.Service`.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>I ran in to this recently, and as it turned out, I've imported the wrong annotation in my service class. Netbeans has an option to hide import statements, that's why I did not see it for some time.</p>\n\n<p>I've used <code>@org.jvnet.hk2.annotations.Service</code> instead of <code>@org.springframework.stereotype.Service</code>.</p>\n"},{"tags":[],"owner":{"account_id":7625412,"reputation":2676,"user_id":5782043,"display_name":"Joao Luiz Cadore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467771373,"creation_date":1467771373,"answer_id":38215473,"question_id":20333147,"body_markdown":"If you are testing your controller.\r\nDon&#39;t forget to use @WebAppConfiguration on your test class.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>If you are testing your controller.\nDon't forget to use @WebAppConfiguration on your test class.</p>\n"},{"comments":[{"owner":{"account_id":1203544,"reputation":1930,"user_id":1173731,"accept_rate":79,"display_name":"AnthonyW"},"score":0,"creation_date":1510591082,"post_id":46253371,"comment_id":81489176,"body_markdown":"The `@Service` annotation contains `@Component`. Having both is redundant.","body":"The <code>@Service</code> annotation contains <code>@Component</code>. Having both is redundant."}],"tags":[],"owner":{"account_id":5605036,"reputation":2440,"user_id":4439996,"accept_rate":80,"display_name":"Akshay Pethani"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1619193680,"creation_date":1505561079,"answer_id":46253371,"question_id":20333147,"body_markdown":"This may help you:\r\n\r\nI have the same exception in my project. After searching while I found that I am missing the `@Service` annotation to the class where I am implementing the interface which I want to `@Autowired`.\r\n\r\nIn your code you can add the `@Service` annotation to `MailManager` class.\r\n\r\n    @Transactional\r\n    @Service\r\n    public class MailManager extends AbstractManager implements IMailManager {","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>This may help you:</p>\n<p>I have the same exception in my project. After searching while I found that I am missing the <code>@Service</code> annotation to the class where I am implementing the interface which I want to <code>@Autowired</code>.</p>\n<p>In your code you can add the <code>@Service</code> annotation to <code>MailManager</code> class.</p>\n<pre><code>@Transactional\n@Service\npublic class MailManager extends AbstractManager implements IMailManager {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4745793,"reputation":923,"user_id":3837201,"display_name":"zohreh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514989453,"creation_date":1514212204,"answer_id":47969516,"question_id":20333147,"body_markdown":" - One reason BeanB may not exist in the context \r\n - Another cause for the exception is the existence of two bean\r\n - Or definitions in the context  bean that isnt defined is requested by name from the Spring context\r\n\r\nsee more this url:\r\n\r\n[http://www.baeldung.com/spring-nosuchbeandefinitionexception][1]\r\n\r\n\r\n  [1]: http://www.baeldung.com/spring-nosuchbeandefinitionexception\r\n\r\n","title":"@Autowired - No qualifying bean of type found for dependency","body":"<ul>\n<li>One reason BeanB may not exist in the context </li>\n<li>Another cause for the exception is the existence of two bean</li>\n<li>Or definitions in the context  bean that isnt defined is requested by name from the Spring context</li>\n</ul>\n\n<p>see more this url:</p>\n\n<p><a href=\"http://www.baeldung.com/spring-nosuchbeandefinitionexception\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-nosuchbeandefinitionexception</a></p>\n"},{"tags":[],"owner":{"account_id":12227319,"reputation":21,"user_id":8924503,"display_name":"Ramanpreet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520761566,"creation_date":1520753657,"answer_id":49217720,"question_id":20333147,"body_markdown":"\r\n\r\n     &lt;context:component-scan base-package=&quot;com.*&quot; /&gt;\r\n\r\n\r\n\r\nsame issue arrived , i solved it by keeping the annotations intact and in dispatcher **servlet** :: keeping the base package scan as `com.*.` this worked for me.  \r\n ","title":"@Autowired - No qualifying bean of type found for dependency","body":"<pre><code> &lt;context:component-scan base-package=\"com.*\" /&gt;\n</code></pre>\n\n<p>same issue arrived , i solved it by keeping the annotations intact and in dispatcher <strong>servlet</strong> :: keeping the base package scan as <code>com.*.</code> this worked for me.  </p>\n"},{"tags":[],"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532452412,"creation_date":1532452412,"answer_id":51504228,"question_id":20333147,"body_markdown":"I had this happen because I added an autowired dependency to my service class but forgot to add it to the injected mocks in my service unit test.\r\n\r\nThe unit test exception appeared to report a problem in the service class when the problem was actually in the unit test. In retrospect, the error message told me exactly what the problem was.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>I had this happen because I added an autowired dependency to my service class but forgot to add it to the injected mocks in my service unit test.</p>\n\n<p>The unit test exception appeared to report a problem in the service class when the problem was actually in the unit test. In retrospect, the error message told me exactly what the problem was.</p>\n"},{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541084207,"creation_date":1532944704,"answer_id":51591438,"question_id":20333147,"body_markdown":"Instead of @Autowire MailManager mailManager, you can mock the bean as given below:\r\n\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n\r\n    ::\r\n    ::\r\n\r\n    @MockBean MailManager mailManager;\r\n\r\nAlso, you can configure `@MockBean MailManager mailManager;` separately in the `@SpringBootConfiguration` class and initialize like below:\r\n\r\n    @Autowire MailManager mailManager","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>Instead of @Autowire MailManager mailManager, you can mock the bean as given below:</p>\n\n<pre><code>import org.springframework.boot.test.mock.mockito.MockBean;\n\n::\n::\n\n@MockBean MailManager mailManager;\n</code></pre>\n\n<p>Also, you can configure <code>@MockBean MailManager mailManager;</code> separately in the <code>@SpringBootConfiguration</code> class and initialize like below:</p>\n\n<pre><code>@Autowire MailManager mailManager\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1172729,"reputation":5492,"user_id":1149528,"accept_rate":92,"display_name":"xav"},"score":0,"creation_date":1637935835,"post_id":54261552,"comment_id":123962558,"body_markdown":"Weirdly enough, I needed this when migrating from Hibernate v4.3/Spring v4.3 to Hibernate v5.4/Spring v5.3... the solution was either to add this `@Lazy`, or to enable the DEBUG logs for `org.springframework.data.repository` ?!? timing / race-condition issue I guess? (adding logs slowed things down enough to delay things to fix the issue?) sooo weird","body":"Weirdly enough, I needed this when migrating from Hibernate v4.3/Spring v4.3 to Hibernate v5.4/Spring v5.3... the solution was either to add this <code>@Lazy</code>, or to enable the DEBUG logs for <code>org.springframework.data.repository</code> ?!? timing / race-condition issue I guess? (adding logs slowed things down enough to delay things to fix the issue?) sooo weird"},{"owner":{"account_id":427450,"reputation":966,"user_id":809230,"accept_rate":97,"display_name":"pidabrow"},"score":0,"creation_date":1686729816,"post_id":54261552,"comment_id":134837644,"body_markdown":"How does using @Lazy solve this particular problem? I&#39;ve had the same problem and it helped - I just don&#39;t understand how.","body":"How does using @Lazy solve this particular problem? I&#39;ve had the same problem and it helped - I just don&#39;t understand how."}],"tags":[],"owner":{"account_id":12525128,"reputation":733,"user_id":9115220,"display_name":"Ved Singh"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1547846390,"creation_date":1547846390,"answer_id":54261552,"question_id":20333147,"body_markdown":"I was facing the same issue while auto-wiring the class from one of my jar file.\r\nI fixed the issue by using @Lazy annotation:\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Lazy;\r\n\r\n\t@Autowired\r\n\t@Lazy\r\n\tprivate IGalaxyCommand iGalaxyCommand;\r\n\r\n```","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>I was facing the same issue while auto-wiring the class from one of my jar file.\nI fixed the issue by using @Lazy annotation:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Lazy;\n\n    @Autowired\n    @Lazy\n    private IGalaxyCommand iGalaxyCommand;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6244573,"reputation":71,"user_id":8278498,"display_name":"Rajish Nair"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560842987,"creation_date":1560839479,"answer_id":56642937,"question_id":20333147,"body_markdown":"Faced the same issue in my spring boot application even though I had my package specific scans enabled like \r\n```java\r\n@SpringBootApplication(scanBasePackages={&quot;com.*&quot;})\r\n```\r\nBut, the issue was resolved by providing `@ComponentScan({&quot;com.*&quot;})` in my Application class. ","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>Faced the same issue in my spring boot application even though I had my package specific scans enabled like </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages={\"com.*\"})\n</code></pre>\n\n<p>But, the issue was resolved by providing <code>@ComponentScan({\"com.*\"})</code> in my Application class. </p>\n"},{"comments":[{"owner":{"account_id":14965942,"reputation":457,"user_id":10804175,"display_name":"VC2019"},"score":0,"creation_date":1617039285,"post_id":64865899,"comment_id":118184608,"body_markdown":"This was a lifesaver and resolved my issue. Incase it helps anyone, I was having same issue in my ControllerTest class with the jackson ObjectMapper dependency not being found, which I had as autowired. The above solution of adding the ObjectMapper with  @ContextConfiguration resolved my issue.","body":"This was a lifesaver and resolved my issue. Incase it helps anyone, I was having same issue in my ControllerTest class with the jackson ObjectMapper dependency not being found, which I had as autowired. The above solution of adding the ObjectMapper with  @ContextConfiguration resolved my issue."}],"tags":[],"owner":{"account_id":7864671,"reputation":452,"user_id":5943840,"display_name":"Raphael"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605561720,"creation_date":1605561720,"answer_id":64865899,"question_id":20333147,"body_markdown":"The solution that worked for me was to add all the relevant classes to the `@ContextConfiguration` annotation for the testing class.\r\n\r\nThe class to test, `MyClass.java`, had two autowired components: `AutowireA` and `AutowireB`. Here is my fix.\r\n\r\n```java\r\n@ContextConfiguration(classes = {MyClass.class, AutowireA.class, AutowireB.class})\r\npublic class MyClassTest {\r\n...\r\n}\r\n```","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>The solution that worked for me was to add all the relevant classes to the <code>@ContextConfiguration</code> annotation for the testing class.</p>\n<p>The class to test, <code>MyClass.java</code>, had two autowired components: <code>AutowireA</code> and <code>AutowireB</code>. Here is my fix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ContextConfiguration(classes = {MyClass.class, AutowireA.class, AutowireB.class})\npublic class MyClassTest {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13221925,"reputation":1,"user_id":9548372,"display_name":"sunny_singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619178278,"creation_date":1619090777,"answer_id":67212321,"question_id":20333147,"body_markdown":"I had faced the same problem,\r\nIssue SOlved using below steps: \r\n1. Check the class/Interface that you are auto wiring\r\n2. For Interface Business logic we should use `@service` when it extends the Interface method.\r\n3. For Dao that is a Database handling class we should use `@Repository`.\r\n\r\n&amp;rarr; We can use `@Service`, `@Repository` and `@Component` annotation effectively and solve this issue very fast. ","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>I had faced the same problem,\nIssue SOlved using below steps:</p>\n<ol>\n<li>Check the class/Interface that you are auto wiring</li>\n<li>For Interface Business logic we should use <code>@service</code> when it extends the Interface method.</li>\n<li>For Dao that is a Database handling class we should use <code>@Repository</code>.</li>\n</ol>\n<p> We can use <code>@Service</code>, <code>@Repository</code> and <code>@Component</code> annotation effectively and solve this issue very fast.</p>\n"},{"tags":[],"owner":{"account_id":14543237,"reputation":49,"user_id":10504247,"display_name":"Apolinaire Nguemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640896724,"creation_date":1631379799,"answer_id":69145085,"question_id":20333147,"body_markdown":"if you are testing the DAO layer you must use `@Autowire` annotation like this: \r\n```\r\n@Autowired\r\nprivate FournisseurDao fournisseurDao;\r\n```\r\nDon&#39;t inject a repository element in the constructor","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>if you are testing the DAO layer you must use <code>@Autowire</code> annotation like this:</p>\n<pre><code>@Autowired\nprivate FournisseurDao fournisseurDao;\n</code></pre>\n<p>Don't inject a repository element in the constructor</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645055934,"creation_date":1644551601,"answer_id":71075144,"question_id":20333147,"body_markdown":"I&#39;ve reproduced similar issue in multi-module project w/ `No qualifying bean of type` like:\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.stockclient.repository.StockPriceRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nand the reason for this error was missing annotation `@EnableJpaRepositories` in my specific use case. \r\n\r\n**To clarify:** this annotation needs to be added for enabling auto configuration support for `Spring Data JPA` required to know the path of `JPA` repositories. By default, it will scan only the main application package and its sub packages for detecting the `JPA` repositories. \r\n\r\nFor more details you can refer, for instance, to this [article][1].\r\n\r\n  [1]: https://chathurangat.wordpress.com/2017/11/13/what-are-the-uses-of-entityscan-and-enablejparepositories-annotations/","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>I've reproduced similar issue in multi-module project w/ <code>No qualifying bean of type</code> like:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.stockclient.repository.StockPriceRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>and the reason for this error was missing annotation <code>@EnableJpaRepositories</code> in my specific use case.</p>\n<p><strong>To clarify:</strong> this annotation needs to be added for enabling auto configuration support for <code>Spring Data JPA</code> required to know the path of <code>JPA</code> repositories. By default, it will scan only the main application package and its sub packages for detecting the <code>JPA</code> repositories.</p>\n<p>For more details you can refer, for instance, to this <a href=\"https://chathurangat.wordpress.com/2017/11/13/what-are-the-uses-of-entityscan-and-enablejparepositories-annotations/\" rel=\"nofollow noreferrer\">article</a>.</p>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660119981,"creation_date":1660119981,"answer_id":73303062,"question_id":20333147,"body_markdown":"This also happened to me when I had two methods with the same name marked `@Bean` in different `@Configuration` classes. It appears that one of the declarations was overriding the other.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>This also happened to me when I had two methods with the same name marked <code>@Bean</code> in different <code>@Configuration</code> classes. It appears that one of the declarations was overriding the other.</p>\n"},{"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674371602,"creation_date":1674371602,"answer_id":75198774,"question_id":20333147,"body_markdown":"Was configuring a non-SpringBoot, non-JPA, Hibernate application and the error was seen with injecting a DAO class implementation defined with `@Repository`. \r\n\r\nMoving the declaration from `@Repository` to `@Component` worked. Remember that you would lose some features as mentioned [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56199502/can-we-use-dao-without-repository-annotations-in-spring","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>Was configuring a non-SpringBoot, non-JPA, Hibernate application and the error was seen with injecting a DAO class implementation defined with <code>@Repository</code>.</p>\n<p>Moving the declaration from <code>@Repository</code> to <code>@Component</code> worked. Remember that you would lose some features as mentioned <a href=\"https://stackoverflow.com/questions/56199502/can-we-use-dao-without-repository-annotations-in-spring\">here</a></p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679988758,"creation_date":1679988758,"answer_id":75863466,"question_id":20333147,"body_markdown":"As an industrial standard or the best practice is to use Interfaces which are implemented by java classes, like Controller, service and repository. in my case i have @Autowired service class, that&#39;s what bringing the error.\r\n\r\nFixed by @Autowired service interface, instead of service class. \r\nand don&#39;t forget to add @Service for your service class.","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>As an industrial standard or the best practice is to use Interfaces which are implemented by java classes, like Controller, service and repository. in my case i have @Autowired service class, that's what bringing the error.</p>\n<p>Fixed by @Autowired service interface, instead of service class.\nand don't forget to add @Service for your service class.</p>\n"}],"owner":{"account_id":2932444,"reputation":2407,"user_id":2512304,"accept_rate":47,"display_name":"Radzikowski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824884,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"accepted_answer_id":20333975,"answer_count":23,"score":117,"last_activity_date":1700275514,"creation_date":1386002034,"question_id":20333147,"body_markdown":"I&#39;ve started my project by creating entities, services and JUnit tests for services using Spring and Hibernate. All of this works great.\r\nThen I&#39;ve added spring-mvc to make this web application using many different step-by-step tutorials, but when I&#39;m trying to make Controller with `@Autowired` annotation, I&#39;m getting errors from Glassfish during deployment. I guess that for some reason Spring doesn&#39;t see my services, but after many attempts I still can&#39;t handle it.\r\n\r\nTests for services with \r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {&quot;classpath:/beans.xml&quot;})\r\n\r\nand\r\n\r\n    @Autowired\r\n    MailManager mailManager;\r\n\r\nworks properly.\r\n\r\nControllers without `@Autowired` too, I can open my project in web browser without trouble.\r\n\r\n/src/main/resources/beans.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    \t   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \t   xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \t   xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n    \t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\r\n    \t\thttp://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;context:property-placeholder location=&quot;jdbc.properties&quot; /&gt;\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail&quot;&gt;\r\n    \t\t&lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot; /&gt;\r\n    \t&lt;/context:component-scan&gt;\r\n    \t\r\n    \t&lt;!--&lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail.service&quot; /&gt;--&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;!-- Persistance Unit Manager for persistance options managing --&gt;\r\n    \t&lt;bean id=&quot;persistenceUnitManager&quot; class=&quot;org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;defaultDataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Entity Manager Factory for creating/updating DB schema based on persistence files and entity classes --&gt;\r\n    \t&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitManager&quot; ref=&quot;persistenceUnitManager&quot;/&gt;\r\n    \t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;WebMailPU&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Hibernate Session Factory --&gt;\r\n    \t&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    \t\t&lt;!--&lt;property name=&quot;schemaUpdate&quot; value=&quot;true&quot; /&gt;--&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;pl.com.radzikowski.webmail.domain&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;!-- Hibernate Transaction Manager --&gt;\r\n    \t&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;!-- Activates annotation based transaction management --&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n/webapp/WEB-INF/web.xml\r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; id=&quot;WebApp_ID&quot; version=&quot;2.4&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n    \t&lt;display-name&gt;Spring Web MVC Application&lt;/display-name&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    &lt;/web-app&gt;\r\n\r\n/webapp/WEB-INF/mvc-dispatcher-servlet.xml\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \t   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \t   xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail&quot; use-default-filters=&quot;false&quot;&gt;\r\n    \t\t&lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot; /&gt;\r\n    \t&lt;/context:component-scan&gt;\r\n    \t\r\n    \t&lt;mvc:annotation-driven/&gt;\r\n    \t\r\n    \t&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\npl.com.radzikowski.webmail.service.AbstractManager\r\n\r\n    package pl.com.radzikowski.webmail.service;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    /**\r\n     * Master Manager class providing basic fields for services.\r\n     * @author Maciej Radzikowski &lt;maciej@radzikowski.com.pl&gt;\r\n     */\r\n    public class AbstractManager {\r\n    \r\n    \t@Autowired\r\n    \tprotected SessionFactory sessionFactory;\r\n    \r\n    \tprotected final Logger logger = Logger.getLogger(this.getClass());\r\n    \r\n    }\r\n\r\npl.com.radzikowski.webmail.service.MailManager\r\n\r\n    package pl.com.radzikowski.webmail.service;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    @Component\r\n    @Transactional\r\n    public class MailManager extends AbstractManager {\r\n        // some methods...\r\n    }\r\n\r\npl.com.radzikowski.webmail.HomeController\r\n\r\n    package pl.com.radzikowski.webmail.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import pl.com.radzikowski.webmail.service.MailManager;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class HomeController {\r\n    \r\n    \t@Autowired\r\n    \tpublic MailManager mailManager;\r\n    \r\n    \t@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    \tpublic String homepage(ModelMap model) {\r\n    \t\treturn &quot;homepage&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nError:\r\n\r\n&gt;    SEVERE:   Exception while loading the app\\\r\n&gt;    SEVERE:   Undeployment failed for context /WebMail\\\r\n&gt;    SEVERE:   Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;homeController&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: public pl.com.radzikowski.webmail.service.MailManager pl.com.radzikowski.webmail.controller.HomeController.mailManager; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [pl.com.radzikowski.webmail.service.MailManager] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\nSorry for a lot of code, but I don&#39;t know what can cause that error anymore.\r\n\r\n**Added**\r\n\r\nI&#39;ve created the interface:\r\n\r\n    @Component\r\n    public interface IMailManager {\r\n\r\nadded implements:\r\n\r\n    @Component\r\n    @Transactional\r\n    public class MailManager extends AbstractManager implements IMailManager {\r\n\r\nand changed autowired:\r\n\r\n    @Autowired\r\n    public IMailManager mailManager;\r\n\r\nBut it still throws errors (also when I&#39;ve tried with `@Qualifier`)\r\n\r\n&gt; ..Could not autowire field: public\r\n&gt; pl.com.radzikowski.webmail.service.IMailManager\r\n&gt; pl.com.radzikowski.webmail.controller.HomeController.mailManager...\r\n\r\nI&#39;ve tried with different combinations of `@Component` and `@Transactional` too.\r\n\r\nShouldn&#39;t I include beans.xml in web.xml somehow?","title":"@Autowired - No qualifying bean of type found for dependency","body":"<p>I've started my project by creating entities, services and JUnit tests for services using Spring and Hibernate. All of this works great.\nThen I've added spring-mvc to make this web application using many different step-by-step tutorials, but when I'm trying to make Controller with <code>@Autowired</code> annotation, I'm getting errors from Glassfish during deployment. I guess that for some reason Spring doesn't see my services, but after many attempts I still can't handle it.</p>\n<p>Tests for services with</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {&quot;classpath:/beans.xml&quot;})\n</code></pre>\n<p>and</p>\n<pre><code>@Autowired\nMailManager mailManager;\n</code></pre>\n<p>works properly.</p>\n<p>Controllers without <code>@Autowired</code> too, I can open my project in web browser without trouble.</p>\n<p>/src/main/resources/beans.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\n        http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;&gt;\n\n    &lt;context:property-placeholder location=&quot;jdbc.properties&quot; /&gt;\n    \n    &lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail&quot;&gt;\n        &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot; /&gt;\n    &lt;/context:component-scan&gt;\n    \n    &lt;!--&lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail.service&quot; /&gt;--&gt;\n    \n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\n        &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- Persistance Unit Manager for persistance options managing --&gt;\n    &lt;bean id=&quot;persistenceUnitManager&quot; class=&quot;org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager&quot;&gt;\n        &lt;property name=&quot;defaultDataSource&quot; ref=&quot;dataSource&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Entity Manager Factory for creating/updating DB schema based on persistence files and entity classes --&gt;\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;persistenceUnitManager&quot; ref=&quot;persistenceUnitManager&quot;/&gt;\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;WebMailPU&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Hibernate Session Factory --&gt;\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n        &lt;!--&lt;property name=&quot;schemaUpdate&quot; value=&quot;true&quot; /&gt;--&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;pl.com.radzikowski.webmail.domain&quot; /&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- Hibernate Transaction Manager --&gt;\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- Activates annotation based transaction management --&gt;\n    &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>/webapp/WEB-INF/web.xml</p>\n<pre><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; id=&quot;WebApp_ID&quot; version=&quot;2.4&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\n    &lt;display-name&gt;Spring Web MVC Application&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>/webapp/WEB-INF/mvc-dispatcher-servlet.xml</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\n    \n    &lt;context:component-scan base-package=&quot;pl.com.radzikowski.webmail&quot; use-default-filters=&quot;false&quot;&gt;\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot; /&gt;\n    &lt;/context:component-scan&gt;\n    \n    &lt;mvc:annotation-driven/&gt;\n    \n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>pl.com.radzikowski.webmail.service.AbstractManager</p>\n<pre><code>package pl.com.radzikowski.webmail.service;\n\nimport org.apache.log4j.Logger;\nimport org.hibernate.SessionFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n/**\n * Master Manager class providing basic fields for services.\n * @author Maciej Radzikowski &lt;maciej@radzikowski.com.pl&gt;\n */\npublic class AbstractManager {\n\n    @Autowired\n    protected SessionFactory sessionFactory;\n\n    protected final Logger logger = Logger.getLogger(this.getClass());\n\n}\n</code></pre>\n<p>pl.com.radzikowski.webmail.service.MailManager</p>\n<pre><code>package pl.com.radzikowski.webmail.service;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Component\n@Transactional\npublic class MailManager extends AbstractManager {\n    // some methods...\n}\n</code></pre>\n<p>pl.com.radzikowski.webmail.HomeController</p>\n<pre><code>package pl.com.radzikowski.webmail.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport pl.com.radzikowski.webmail.service.MailManager;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class HomeController {\n\n    @Autowired\n    public MailManager mailManager;\n\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n    public String homepage(ModelMap model) {\n        return &quot;homepage&quot;;\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>SEVERE:   Exception while loading the app<br />\nSEVERE:   Undeployment failed for context /WebMail<br />\nSEVERE:   Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'homeController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: public pl.com.radzikowski.webmail.service.MailManager pl.com.radzikowski.webmail.controller.HomeController.mailManager; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [pl.com.radzikowski.webmail.service.MailManager] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n</blockquote>\n<p>Sorry for a lot of code, but I don't know what can cause that error anymore.</p>\n<p><strong>Added</strong></p>\n<p>I've created the interface:</p>\n<pre><code>@Component\npublic interface IMailManager {\n</code></pre>\n<p>added implements:</p>\n<pre><code>@Component\n@Transactional\npublic class MailManager extends AbstractManager implements IMailManager {\n</code></pre>\n<p>and changed autowired:</p>\n<pre><code>@Autowired\npublic IMailManager mailManager;\n</code></pre>\n<p>But it still throws errors (also when I've tried with <code>@Qualifier</code>)</p>\n<blockquote>\n<p>..Could not autowire field: public\npl.com.radzikowski.webmail.service.IMailManager\npl.com.radzikowski.webmail.controller.HomeController.mailManager...</p>\n</blockquote>\n<p>I've tried with different combinations of <code>@Component</code> and <code>@Transactional</code> too.</p>\n<p>Shouldn't I include beans.xml in web.xml somehow?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"score":0,"creation_date":1700277169,"post_id":77505521,"comment_id":136638148,"body_markdown":"Have you tried running your app on a smartphone? Sometimes the layout of the emulator is slightly different from the layout on the smartphone.","body":"Have you tried running your app on a smartphone? Sometimes the layout of the emulator is slightly different from the layout on the smartphone."},{"owner":{"account_id":7118887,"reputation":543,"user_id":5444161,"accept_rate":29,"display_name":"Rahul Agrawal"},"score":2,"creation_date":1700277325,"post_id":77505521,"comment_id":136638157,"body_markdown":"Add code snippet instead of the image","body":"Add code snippet instead of the image"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1700291818,"post_id":77505521,"comment_id":136638876,"body_markdown":"For us to help we&#39;d need the entire layout of that part of the screen, including it&#39;s parent and whatever is beneath it.  There&#39;s not enough info from just what you posted to tell anything.  But its likely that your bias values are off, and very likely that&#39;s not the right way to do this.","body":"For us to help we&#39;d need the entire layout of that part of the screen, including it&#39;s parent and whatever is beneath it.  There&#39;s not enough info from just what you posted to tell anything.  But its likely that your bias values are off, and very likely that&#39;s not the right way to do this."}],"owner":{"account_id":29535379,"reputation":1,"user_id":22635075,"display_name":"DanPuUng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700275175,"creation_date":1700275175,"question_id":77505521,"body_markdown":"I want to make sure that all models are in the same position.\r\nHowever, the location changes for each model.\r\nWhat should I do?\r\n\r\n[Position set in xml](https://i.stack.imgur.com/5XlA4.png)\r\n[Emulator execution position (different for each type)](https://i.stack.imgur.com/wlJxx.png)\r\n\r\n[img code](https://i.stack.imgur.com/rUMBK.png)\r\n\r\n\r\nI don&#39;t know what to do","title":"Android App Development Image Location Question","body":"<p>I want to make sure that all models are in the same position.\nHowever, the location changes for each model.\nWhat should I do?</p>\n<p><a href=\"https://i.stack.imgur.com/5XlA4.png\" rel=\"nofollow noreferrer\">Position set in xml</a>\n<a href=\"https://i.stack.imgur.com/wlJxx.png\" rel=\"nofollow noreferrer\">Emulator execution position (different for each type)</a></p>\n<p><a href=\"https://i.stack.imgur.com/rUMBK.png\" rel=\"nofollow noreferrer\">img code</a></p>\n<p>I don't know what to do</p>\n"},{"tags":["java","concurrency","jvm","volatile"],"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1700274545,"post_id":77505487,"comment_id":136638028,"body_markdown":"It will eventually terminate because of the second volatile write.","body":"It will eventually terminate because of the second volatile write."},{"owner":{"account_id":4266212,"reputation":401,"user_id":3489275,"accept_rate":50,"display_name":"user3489275"},"score":0,"creation_date":1700274661,"post_id":77505487,"comment_id":136638037,"body_markdown":"@BurakSerdar so it is not possible that second volatile write will be optimized away under JMM rules?","body":"@BurakSerdar so it is not possible that second volatile write will be optimized away under JMM rules?"},{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":4,"creation_date":1700275680,"post_id":77505487,"comment_id":136638078,"body_markdown":"That&#39;s the point of volatile writes. They establish a happened-before relationship. The compiler knows not to reorder memory operations through volatile writes, and by definition, cannot optimize them.","body":"That&#39;s the point of volatile writes. They establish a happened-before relationship. The compiler knows not to reorder memory operations through volatile writes, and by definition, cannot optimize them."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1700280589,"post_id":77505487,"comment_id":136638292,"body_markdown":"The language specification says a write to a volatile value followed by a read of that same value.  It says nothing about what the data written actually is.  I didn&#39;t read through the spec again but I&#39;m sure Burak is correct, it should key-off the write, not the value.","body":"The language specification says a write to a volatile value followed by a read of that same value.  It says nothing about what the data written actually is.  I didn&#39;t read through the spec again but I&#39;m sure Burak is correct, it should key-off the write, not the value."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700291530,"post_id":77505487,"comment_id":136638857,"body_markdown":"What difference would it make either way? If the value isn&#39;t changing, how would you observe whether the write had taken effect or not? What is the actual question here?","body":"What difference would it make either way? If the value isn&#39;t changing, how would you observe whether the write had taken effect or not? What is the actual question here?"},{"owner":{"account_id":4266212,"reputation":401,"user_id":3489275,"accept_rate":50,"display_name":"user3489275"},"score":0,"creation_date":1700313061,"post_id":77505487,"comment_id":136640533,"body_markdown":"@user207421 the question exactly is, if I can&#39;t observe the (volatile) change of the value, is there guarantees that I will observe side-effects (i.e. releasing of previous writes) of this change?","body":"@user207421 the question exactly is, if I can&#39;t observe the (volatile) change of the value, is there guarantees that I will observe side-effects (i.e. releasing of previous writes) of this change?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1700327340,"post_id":77505487,"comment_id":136642077,"body_markdown":"@user207421, `volatile` isn&#39;t really about &quot;seeing the most up-to-date value&quot; of the `volatile` variable. That&#39;s just a side-benefit from the real purpose of `volatile` which is, to establish a &quot;happens before&quot; relationship between events in two different threads. In this case, the OP is asking whether it still establishes that relationship even in the case where the `volatile` assignment doesn&#39;t actually change the value of the variable.","body":"@user207421, <code>volatile</code> isn&#39;t really about &quot;seeing the most up-to-date value&quot; of the <code>volatile</code> variable. That&#39;s just a side-benefit from the real purpose of <code>volatile</code> which is, to establish a &quot;happens before&quot; relationship between events in two different threads. In this case, the OP is asking whether it still establishes that relationship even in the case where the <code>volatile</code> assignment doesn&#39;t actually change the value of the variable."}],"owner":{"account_id":4266212,"reputation":401,"user_id":3489275,"accept_rate":50,"display_name":"user3489275"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700274835,"creation_date":1700274095,"question_id":77505487,"body_markdown":"JMM have guarantees that when thread A writes to volatile variable V all other (non-volatile) writes become visible to thread B after it reads that V value.\r\n\r\nDoes that guarantee holds in presence of multiple volatile V overwrites **with the same value**?\r\n\r\nI.e. considering following code:\r\n```java\r\nint x = 0;\r\nint y = 0;\r\nvolatile int v = 0;\r\n\r\nvoid fromThreadA() {\r\n    x = 1;\r\n    v = 0;\r\n\r\n    y = 1;\r\n    v = 0; // note that both writes to v never actually change its value\r\n}\r\n\r\nvoid fromThreadB() {\r\n    while(v == 0) {\r\n      if (x == 1 &amp;&amp; y == 1) break;\r\n    }\r\n}\r\n```\r\nis there guarantees that caller of `fromThreadB` will eventually terminate?","title":"Does JMM guarantees that volatile overwrites with the same value will be eventually visible?","body":"<p>JMM have guarantees that when thread A writes to volatile variable V all other (non-volatile) writes become visible to thread B after it reads that V value.</p>\n<p>Does that guarantee holds in presence of multiple volatile V overwrites <strong>with the same value</strong>?</p>\n<p>I.e. considering following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = 0;\nint y = 0;\nvolatile int v = 0;\n\nvoid fromThreadA() {\n    x = 1;\n    v = 0;\n\n    y = 1;\n    v = 0; // note that both writes to v never actually change its value\n}\n\nvoid fromThreadB() {\n    while(v == 0) {\n      if (x == 1 &amp;&amp; y == 1) break;\n    }\n}\n</code></pre>\n<p>is there guarantees that caller of <code>fromThreadB</code> will eventually terminate?</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming","slf4j"],"owner":{"account_id":544012,"reputation":55,"user_id":4581011,"display_name":"Jorge Garcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700273020,"creation_date":1700273020,"question_id":77505452,"body_markdown":"I&#39;m working on a Spring Boot 3.1.5 project that uses WebFlux and SLF4J for logging. My goal is to include the application version number in all log entries generated throughout the application. To achieve this, I tried adding the version attribute to the Mapped Diagnostic Context (MDC) within a method annotated with `@PostConstruct` in the main application class. However, this approach only includes the version in logs produced by the main thread and not in those generated by other threads in the reactive context of the application.\r\n\r\nHow can I correctly register this version value in all logs produced by the application, ensuring it&#39;s included in logs from all threads, not just the main one? Is there a specific approach or configuration in Spring WebFlux that enables consistent MDC propagation across different threads?\r\n\r\nAny guidance or examples would be greatly appreciated.\r\n","title":"Persisting Application Version in Logs Across All Threads in Spring Boot 3.1.5 with WebFlux and SLF4J","body":"<p>I'm working on a Spring Boot 3.1.5 project that uses WebFlux and SLF4J for logging. My goal is to include the application version number in all log entries generated throughout the application. To achieve this, I tried adding the version attribute to the Mapped Diagnostic Context (MDC) within a method annotated with <code>@PostConstruct</code> in the main application class. However, this approach only includes the version in logs produced by the main thread and not in those generated by other threads in the reactive context of the application.</p>\n<p>How can I correctly register this version value in all logs produced by the application, ensuring it's included in logs from all threads, not just the main one? Is there a specific approach or configuration in Spring WebFlux that enables consistent MDC propagation across different threads?</p>\n<p>Any guidance or examples would be greatly appreciated.</p>\n"},{"tags":["java","sql-server","jpa","spring-boot"],"comments":[{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1476298135,"post_id":40005737,"comment_id":67290299,"body_markdown":"does your pom has \n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;xxxxx&lt;/version&gt;\n    &lt;/parent&gt;","body":"does your pom has  &lt;parent&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;         &lt;version&gt;xxxxx&lt;/version&gt;     &lt;/parent&gt;"},{"owner":{"account_id":9201600,"reputation":11,"user_id":6838323,"display_name":"Khang Nguyen"},"score":0,"creation_date":1476323383,"post_id":40005737,"comment_id":67299959,"body_markdown":"Yes my pom.xml had it.Before I worked with mySQL and it hadn&#39;t any exception or problem but when work with SQLServer I got there exception","body":"Yes my pom.xml had it.Before I worked with mySQL and it hadn&#39;t any exception or problem but when work with SQLServer I got there exception"}],"answers":[{"comments":[{"owner":{"account_id":13210072,"reputation":522,"user_id":9540608,"display_name":"Leslie"},"score":0,"creation_date":1641318064,"post_id":50325951,"comment_id":124772431,"body_markdown":"property spring.jpa.hibernate.dialect has been updated to spring.jpa.properties.hibernate.dialect","body":"property spring.jpa.hibernate.dialect has been updated to spring.jpa.properties.hibernate.dialect"}],"tags":[],"owner":{"account_id":3300561,"reputation":197,"user_id":2776847,"accept_rate":44,"display_name":"wolver"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526286349,"creation_date":1526286349,"answer_id":50325951,"question_id":40005737,"body_markdown":"From your dependencies you missed (check you java version you use):\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.5.2.jre8-preview&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand into the application properties correct this line:\r\n\r\n    spring.datasource.driver-class-  name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\nto\r\n\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n\r\n ","title":"Use JPA Spring boot with SQL Server","body":"<p>From your dependencies you missed (check you java version you use):</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;6.5.2.jre8-preview&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and into the application properties correct this line:</p>\n\n<pre><code>spring.datasource.driver-class-  name=com.microsoft.sqlserver.jdbc.SQLServerDriver\n</code></pre>\n\n<p>to</p>\n\n<pre><code>spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\n</code></pre>\n"}],"owner":{"account_id":9201600,"reputation":11,"user_id":6838323,"display_name":"Khang Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700272895,"creation_date":1476296518,"question_id":40005737,"body_markdown":"I want to use JPA in Spring boot with SQL Server by STS\r\nThis is my table: \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iovsc.png\r\n\r\nMAVEN\r\n\r\n    &lt;dependencies&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;com.hynnet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sqljdbc-chs&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.2206.100&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\napplication.properties\r\n\r\n    spring.datasource.driver-class-  name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=quanlybanhang\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=1\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.datasource.initialize=true\r\n    spring.jpa.database=SQL_SERVER\r\nModel.Account.class\r\n   \r\n\r\n      @Entity\r\n      @Table(name=&quot;taikhoan&quot;,uniqueConstraints=@UniqueConstraint(columnNames = {    &quot;tendangnhap&quot; }) )\r\n     public class Account {\r\n     @Id @GeneratedValue(strategy=GenerationType.AUTO)\r\n     private int id;\r\n\t @NotNull\r\n\t\r\n\tprivate String tendangnhap;\r\n\t@NotNull\r\n\tprivate String matkhau;\r\n\tpublic Account(String tendangnhap, String matkhau) {\r\n\t\tsuper();\r\n\t\tthis.tendangnhap = tendangnhap;\r\n     this.matkhau = matkhau;\r\n\t}\r\n\tpublic Account() {\r\n\t\tsuper();\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getTendangnhap() {\r\n\t\treturn tendangnhap;\r\n\t}\r\n\t\r\n\tpublic void setTendangnhap(String tendangnhap) {\r\n\t\tthis.tendangnhap = tendangnhap;\r\n\t}\r\n\tpublic String getMatkhau() {\r\n\t\treturn matkhau;\r\n\t}\r\n\tpublic void setMatkhau(String matkhau) {\r\n\t\tthis.matkhau = matkhau;\r\n\t}\t\r\n    }\r\ninterface AccountDAO\r\n\r\n    public interface AccountDAO extends JpaRepository&lt;Account, Integer&gt;{\r\n    \r\n    }\r\nServiceAccount.class\r\n\r\n    @Service\r\n    public class ServerAccount {\r\n    \t@Autowired\r\n    \tAccountDAO server;\r\n    \tpublic void them(Account acc){\r\n    \t\tserver.save(acc);\t\r\n    \t}\r\n    \tpublic List&lt;Account&gt; lietke(){\r\n    \t\t\r\n    \t\treturn server.findAll();\t\r\n    \t}\r\n    }\r\nServicesAccount.class\r\n\r\n    @Service\r\n    public class ServerAccount {\r\n    \t@Autowired\r\n    \tAccountDAO server;\r\n    \t\r\n    \tAccount acc=new Account(&quot;khang&quot;, &quot;1&quot;);\r\n        \r\n    \tpublic void addAccount(){\r\n    \t\tserver.save(acc);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic List&lt;Account&gt; lietke(){\r\n    \t\t\r\n    \t\treturn server.findAll();\t\r\n    \t}\r\n    \t\r\n    }\r\nI called method addAccount() in Controller and this is Exception I got \r\n\r\n&quot;java.lang.NoClassDefFoundError: org/springframework/orm/jpa/support/PersistenceAnnotationBeanPostProcessor&quot;\r\n\r\n&quot;Caused by: java.lang.ClassNotFoundException: org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot;\r\n\r\nPlease help me fix this exception. Thanks!!!\r\n\r\n\r\n\r\n","title":"Use JPA Spring boot with SQL Server","body":"<p>I want to use JPA in Spring boot with SQL Server by STS\nThis is my table: </p>\n\n<p><img src=\"https://i.stack.imgur.com/Iovsc.png\" alt=\"enter image description here\"></p>\n\n<p>MAVEN</p>\n\n<pre><code>&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;com.hynnet&lt;/groupId&gt;\n    &lt;artifactId&gt;sqljdbc-chs&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2206.100&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.datasource.driver-class-  name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=quanlybanhang\nspring.datasource.username=sa\nspring.datasource.password=1\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.initialize=true\nspring.jpa.database=SQL_SERVER\n</code></pre>\n\n<p>Model.Account.class</p>\n\n<pre><code>  @Entity\n  @Table(name=\"taikhoan\",uniqueConstraints=@UniqueConstraint(columnNames = {    \"tendangnhap\" }) )\n public class Account {\n @Id @GeneratedValue(strategy=GenerationType.AUTO)\n private int id;\n @NotNull\n\nprivate String tendangnhap;\n@NotNull\nprivate String matkhau;\npublic Account(String tendangnhap, String matkhau) {\n    super();\n    this.tendangnhap = tendangnhap;\n this.matkhau = matkhau;\n}\npublic Account() {\n    super();\n}\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getTendangnhap() {\n    return tendangnhap;\n}\n\npublic void setTendangnhap(String tendangnhap) {\n    this.tendangnhap = tendangnhap;\n}\npublic String getMatkhau() {\n    return matkhau;\n}\npublic void setMatkhau(String matkhau) {\n    this.matkhau = matkhau;\n}   \n}\n</code></pre>\n\n<p>interface AccountDAO</p>\n\n<pre><code>public interface AccountDAO extends JpaRepository&lt;Account, Integer&gt;{\n\n}\n</code></pre>\n\n<p>ServiceAccount.class</p>\n\n<pre><code>@Service\npublic class ServerAccount {\n    @Autowired\n    AccountDAO server;\n    public void them(Account acc){\n        server.save(acc);   \n    }\n    public List&lt;Account&gt; lietke(){\n\n        return server.findAll();    \n    }\n}\n</code></pre>\n\n<p>ServicesAccount.class</p>\n\n<pre><code>@Service\npublic class ServerAccount {\n    @Autowired\n    AccountDAO server;\n\n    Account acc=new Account(\"khang\", \"1\");\n\n    public void addAccount(){\n        server.save(acc);\n    }\n\n\n    public List&lt;Account&gt; lietke(){\n\n        return server.findAll();    \n    }\n\n}\n</code></pre>\n\n<p>I called method addAccount() in Controller and this is Exception I got </p>\n\n<p>\"java.lang.NoClassDefFoundError: org/springframework/orm/jpa/support/PersistenceAnnotationBeanPostProcessor\"</p>\n\n<p>\"Caused by: java.lang.ClassNotFoundException: org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\"</p>\n\n<p>Please help me fix this exception. Thanks!!!</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1700305086,"post_id":77505301,"comment_id":136639878,"body_markdown":"&quot;sasl.mechanism=PLAIN seems to contradict security.protocol=SASL_SSL. Did you want SASL_PLAINTEXT?&quot; it&#39;s what I&#39;ve been told to use by the kafka admin so I must raise that it&#39;s contradictory. It seems all these properties need to be set?\nspring.kafka.properties.ssl.truststore.location\nspring.kafka.properties.ssl.truststore.password\nspring.kafka.properties.ssl.keystore.location\nspring.kafka.properties.ssl.keystore.password\nspring.kafka.properties.ssl.key.password\nAlso they pointed me to a dozen of crt and p7c files, can I also use those file types ?","body":"&quot;sasl.mechanism=PLAIN seems to contradict security.protocol=SASL_SSL. Did you want SASL_PLAINTEXT?&quot; it&#39;s what I&#39;ve been told to use by the kafka admin so I must raise that it&#39;s contradictory. It seems all these properties need to be set? spring.kafka.properties.ssl.truststore.location spring.kafka.properties.ssl.truststore.password spring.kafka.properties.ssl.keystore.location spring.kafka.properties.ssl.keystore.password spring.kafka.properties.ssl.key.password Also they pointed me to a dozen of crt and p7c files, can I also use those file types ?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1700403854,"post_id":77505301,"comment_id":136647579,"body_markdown":"Without knowing how your Kafka server is setup, I cannot answer what properties are necessary. If you use ssl, then those all should be set, yes. For file types, refer Kafka documentation itself. I think only JKS, p12 and crt files are allowed","body":"Without knowing how your Kafka server is setup, I cannot answer what properties are necessary. If you use ssl, then those all should be set, yes. For file types, refer Kafka documentation itself. I think only JKS, p12 and crt files are allowed"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700270042,"creation_date":1700269323,"answer_id":77505301,"question_id":77503230,"body_markdown":"You need to prefix **all** kafka values with `spring.kafka`. [See docs](https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka).\r\n\r\nAlso, `sasl.mechanism=PLAIN` seems to contradict `security.protocol=SASL_SSL`. Did you want `SASL_PLAINTEXT`?\r\n\r\n---\r\n\r\nThe error simply means the bootstrap servers are unable to connect, and the producer is trying to connect to each of the 9 brokers in your values `broker-101`-`broker-109` for any initial connection. \r\n\r\nIt could also mean the SASL config is wrong (username/password). \r\n\r\nSince you are trying to use `SASL_SSL`, this means you also need to set values like `spring.kafka.properties[ssl.key.password]`, `spring.kafka.properties[ssl.keystore.location]`, etc.\r\n\r\nIt could also mean the `advertised.listeners` are incorrect on the server-side properties for the connection protocol you&#39;re using from the client.\r\n\r\n---\r\n\r\nYou should try to use `kafka-console-producer` with the same settings to verify the connection does work before moving onto Spring client.\r\n\r\n---\r\n\r\nHere&#39;s a tutorial from Confluent on configuration of Spring Boot for Confluent Cloud, or a local Kafka. \r\n\r\nhttps://developer.confluent.io/get-started/spring-boot/#introduction","title":"Kafka node disconnected - what do these high-frequency repeated errors mean and how to solve them?","body":"<p>You need to prefix <strong>all</strong> kafka values with <code>spring.kafka</code>. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">See docs</a>.</p>\n<p>Also, <code>sasl.mechanism=PLAIN</code> seems to contradict <code>security.protocol=SASL_SSL</code>. Did you want <code>SASL_PLAINTEXT</code>?</p>\n<hr />\n<p>The error simply means the bootstrap servers are unable to connect, and the producer is trying to connect to each of the 9 brokers in your values <code>broker-101</code>-<code>broker-109</code> for any initial connection.</p>\n<p>It could also mean the SASL config is wrong (username/password).</p>\n<p>Since you are trying to use <code>SASL_SSL</code>, this means you also need to set values like <code>spring.kafka.properties[ssl.key.password]</code>, <code>spring.kafka.properties[ssl.keystore.location]</code>, etc.</p>\n<p>It could also mean the <code>advertised.listeners</code> are incorrect on the server-side properties for the connection protocol you're using from the client.</p>\n<hr />\n<p>You should try to use <code>kafka-console-producer</code> with the same settings to verify the connection does work before moving onto Spring client.</p>\n<hr />\n<p>Here's a tutorial from Confluent on configuration of Spring Boot for Confluent Cloud, or a local Kafka.</p>\n<p><a href=\"https://developer.confluent.io/get-started/spring-boot/#introduction\" rel=\"nofollow noreferrer\">https://developer.confluent.io/get-started/spring-boot/#introduction</a></p>\n"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700270042,"creation_date":1700238790,"question_id":77503230,"body_markdown":"I use a Kafka producer within a Spring Boot application.\r\n\r\n```java\r\n@Component\r\npublic class MessageProducer {\r\n\r\n\t@Value(&quot;${topic.name}&quot;)\r\n\tprivate String topic;\r\n\r\n\t@Autowired\r\n\tprivate KafkaTemplate&lt;Integer, String&gt; kafkaTemplate;\r\n\r\n\tpublic void produceMessage(String msg) {\r\n\t\tkafkaTemplate.send(topic, msg);\r\n\t}\r\n}\r\n```\r\n\r\nI have configure the following properties in Spring boot configuration file `application.properties`:\r\n\r\n```\r\nspring.kafka.bootstrap-servers=...\r\ntopic.name=...\r\nsecurity.protocol=SASL_SSL\r\nsasl.mechanism=PLAIN\r\nspring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;...&quot; password=&quot;...&quot;;\r\n```\r\n\r\nWhen I call produceMessage, the log fills continuously with such messages:\r\n\r\n```\r\n2023-11-17T17:09:39.032+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -5 disconnected.\r\n2023-11-17T17:09:39.032+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 0 due to node -5 being disconnected (elapsed time since creation: 170ms, elapsed time since send: 170ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.032+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-105.server:9093 (id: -5 rack: null) disconnected\r\n2023-11-17T17:09:39.134+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -3 disconnected.\r\n2023-11-17T17:09:39.135+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -3 being disconnected (elapsed time since creation: 270ms, elapsed time since send: 270ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.135+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-103.server:9093 (id: -3 rack: null) disconnected\r\n2023-11-17T17:09:39.301+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -9 disconnected.\r\n2023-11-17T17:09:39.301+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 2 due to node -9 being disconnected (elapsed time since creation: 55ms, elapsed time since send: 55ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.301+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-109.server:9093 (id: -9 rack: null) disconnected\r\n2023-11-17T17:09:39.493+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-11-17T17:09:39.493+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 3 due to node -1 being disconnected (elapsed time since creation: 84ms, elapsed time since send: 84ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.493+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-101.server:9093 (id: -1 rack: null) disconnected\r\n2023-11-17T17:09:39.494+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -7 disconnected.\r\n2023-11-17T17:09:39.494+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 4 due to node -7 being disconnected (elapsed time since creation: 83ms, elapsed time since send: 83ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.494+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-107.server:9093 (id: -7 rack: null) disconnected\r\n2023-11-17T17:09:39.810+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -6 disconnected.\r\n2023-11-17T17:09:39.810+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 6 due to node -6 being disconnected (elapsed time since creation: 204ms, elapsed time since send: 204ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.810+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-106.server:9093 (id: -6 rack: null) disconnected\r\n2023-11-17T17:09:39.811+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -2 disconnected.\r\n2023-11-17T17:09:39.811+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 5 due to node -2 being disconnected (elapsed time since creation: 206ms, elapsed time since send: 206ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.811+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-102.server:9093 (id: -2 rack: null) disconnected\r\n2023-11-17T17:09:39.974+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -8 disconnected.\r\n2023-11-17T17:09:39.975+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 7 due to node -8 being disconnected (elapsed time since creation: 52ms, elapsed time since send: 52ms, request timeout: 30000ms)\r\n2023-11-17T17:09:39.975+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-108.server:9093 (id: -8 rack: null) disconnected\r\n2023-11-17T17:09:40.137+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -4 disconnected.\r\n2023-11-17T17:09:40.137+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 8 due to node -4 being disconnected (elapsed time since creation: 54ms, elapsed time since send: 54ms, request timeout: 30000ms)\r\n2023-11-17T17:09:40.137+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-104.server:9093 (id: -4 rack: null) disconnected\r\n2023-11-17T17:09:40.304+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -5 disconnected.\r\n2023-11-17T17:09:40.304+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 9 due to node -5 being disconnected (elapsed time since creation: 58ms, elapsed time since send: 58ms, request timeout: 30000ms)\r\n```\r\n","title":"Kafka node disconnected - what do these high-frequency repeated errors mean and how to solve them?","body":"<p>I use a Kafka producer within a Spring Boot application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MessageProducer {\n\n    @Value(&quot;${topic.name}&quot;)\n    private String topic;\n\n    @Autowired\n    private KafkaTemplate&lt;Integer, String&gt; kafkaTemplate;\n\n    public void produceMessage(String msg) {\n        kafkaTemplate.send(topic, msg);\n    }\n}\n</code></pre>\n<p>I have configure the following properties in Spring boot configuration file <code>application.properties</code>:</p>\n<pre><code>spring.kafka.bootstrap-servers=...\ntopic.name=...\nsecurity.protocol=SASL_SSL\nsasl.mechanism=PLAIN\nspring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;...&quot; password=&quot;...&quot;;\n</code></pre>\n<p>When I call produceMessage, the log fills continuously with such messages:</p>\n<pre><code>2023-11-17T17:09:39.032+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -5 disconnected.\n2023-11-17T17:09:39.032+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 0 due to node -5 being disconnected (elapsed time since creation: 170ms, elapsed time since send: 170ms, request timeout: 30000ms)\n2023-11-17T17:09:39.032+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-105.server:9093 (id: -5 rack: null) disconnected\n2023-11-17T17:09:39.134+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -3 disconnected.\n2023-11-17T17:09:39.135+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 1 due to node -3 being disconnected (elapsed time since creation: 270ms, elapsed time since send: 270ms, request timeout: 30000ms)\n2023-11-17T17:09:39.135+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-103.server:9093 (id: -3 rack: null) disconnected\n2023-11-17T17:09:39.301+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -9 disconnected.\n2023-11-17T17:09:39.301+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 2 due to node -9 being disconnected (elapsed time since creation: 55ms, elapsed time since send: 55ms, request timeout: 30000ms)\n2023-11-17T17:09:39.301+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-109.server:9093 (id: -9 rack: null) disconnected\n2023-11-17T17:09:39.493+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\n2023-11-17T17:09:39.493+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 3 due to node -1 being disconnected (elapsed time since creation: 84ms, elapsed time since send: 84ms, request timeout: 30000ms)\n2023-11-17T17:09:39.493+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-101.server:9093 (id: -1 rack: null) disconnected\n2023-11-17T17:09:39.494+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -7 disconnected.\n2023-11-17T17:09:39.494+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 4 due to node -7 being disconnected (elapsed time since creation: 83ms, elapsed time since send: 83ms, request timeout: 30000ms)\n2023-11-17T17:09:39.494+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-107.server:9093 (id: -7 rack: null) disconnected\n2023-11-17T17:09:39.810+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -6 disconnected.\n2023-11-17T17:09:39.810+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 6 due to node -6 being disconnected (elapsed time since creation: 204ms, elapsed time since send: 204ms, request timeout: 30000ms)\n2023-11-17T17:09:39.810+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-106.server:9093 (id: -6 rack: null) disconnected\n2023-11-17T17:09:39.811+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -2 disconnected.\n2023-11-17T17:09:39.811+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 5 due to node -2 being disconnected (elapsed time since creation: 206ms, elapsed time since send: 206ms, request timeout: 30000ms)\n2023-11-17T17:09:39.811+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-102.server:9093 (id: -2 rack: null) disconnected\n2023-11-17T17:09:39.974+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -8 disconnected.\n2023-11-17T17:09:39.975+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 7 due to node -8 being disconnected (elapsed time since creation: 52ms, elapsed time since send: 52ms, request timeout: 30000ms)\n2023-11-17T17:09:39.975+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-108.server:9093 (id: -8 rack: null) disconnected\n2023-11-17T17:09:40.137+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -4 disconnected.\n2023-11-17T17:09:40.137+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 8 due to node -4 being disconnected (elapsed time since creation: 54ms, elapsed time since send: 54ms, request timeout: 30000ms)\n2023-11-17T17:09:40.137+01:00  WARN 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker broker-104.server:9093 (id: -4 rack: null) disconnected\n2023-11-17T17:09:40.304+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -5 disconnected.\n2023-11-17T17:09:40.304+01:00  INFO 35184 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Cancelled in-flight API_VERSIONS request with correlation id 9 due to node -5 being disconnected (elapsed time since creation: 58ms, elapsed time since send: 58ms, request timeout: 30000ms)\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522806598,"creation_date":1522806598,"answer_id":49641519,"question_id":49641504,"body_markdown":"If you are using Java 8, you can do it in the following way:\r\n\r\n    Arrays.stream(arr).distinct().toArray();\r\n\r\n**[DEMO](https://ideone.com/WwdoV1)**","title":"How to get unique elements from an array and length of resulting array","body":"<p>If you are using Java 8, you can do it in the following way:</p>\n\n<pre><code>Arrays.stream(arr).distinct().toArray();\n</code></pre>\n\n<p><strong><a href=\"https://ideone.com/WwdoV1\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522806696,"creation_date":1522806696,"answer_id":49641533,"question_id":49641504,"body_markdown":"The easiest thing to do here might be to just add your array elements to a sorted set, e.g. `TreeSet`:\r\n\r\n    int[] array = new int[] {1, 1, 2, 3, 3, 4};\r\n    Set&lt;Integer&gt; set = new TreeSet&lt;&gt;();\r\n    for (int num : array) {\r\n        set.add(num);\r\n    }\r\n\r\nThis option would make good sense if your code also had a need to work with a set later on at some point.","title":"How to get unique elements from an array and length of resulting array","body":"<p>The easiest thing to do here might be to just add your array elements to a sorted set, e.g. <code>TreeSet</code>:</p>\n\n<pre><code>int[] array = new int[] {1, 1, 2, 3, 3, 4};\nSet&lt;Integer&gt; set = new TreeSet&lt;&gt;();\nfor (int num : array) {\n    set.add(num);\n}\n</code></pre>\n\n<p>This option would make good sense if your code also had a need to work with a set later on at some point.</p>\n"}],"owner":{"account_id":11774624,"reputation":344,"user_id":8616546,"display_name":"vamsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700269702,"creation_date":1522806452,"question_id":49641504,"body_markdown":"I have an sorted array consisting elements (1,1,2,3,3,4). I want to get unique elements from this array and length of the resulting array.\r\n\r\nOutput array should consists (1,2,3,4) and size = 4.","title":"How to get unique elements from an array and length of resulting array","body":"<p>I have an sorted array consisting elements (1,1,2,3,3,4). I want to get unique elements from this array and length of the resulting array.</p>\n\n<p>Output array should consists (1,2,3,4) and size = 4.</p>\n"},{"tags":["java","random","range","long-integer"],"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1269960379,"post_id":2546078,"comment_id":2547354,"body_markdown":"Related, may be useful: http://stackoverflow.com/questions/2290057/how-to-generate-a-random-biginteger-value-in-java","body":"Related, may be useful: <a href=\"http://stackoverflow.com/questions/2290057/how-to-generate-a-random-biginteger-value-in-java\" title=\"how to generate a random biginteger value in java\">stackoverflow.com/questions/2290057/&hellip;</a>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":2,"creation_date":1333890318,"post_id":2546078,"comment_id":12879018,"body_markdown":"Have you considered just getting your long random and taking the mod of your range?  (Of course, if the range is only 100 I&#39;d produce an int random and cast it to long.)","body":"Have you considered just getting your long random and taking the mod of your range?  (Of course, if the range is only 100 I&#39;d produce an int random and cast it to long.)"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1337173655,"post_id":2546078,"comment_id":13761064,"body_markdown":"`java.util.Random` only uses a 48 bit distribution (see implementation details), so it won&#39;t have a normal distribution.","body":"<code>java.util.Random</code> only uses a 48 bit distribution (see implementation details), so it won&#39;t have a normal distribution."},{"owner":{"account_id":1629443,"reputation":1299,"user_id":1504300,"accept_rate":71,"display_name":"reallynice"},"score":1,"creation_date":1441359750,"post_id":2546078,"comment_id":52658255,"body_markdown":"In the modern days one could consider using org.apache.commons.lang3.RandomUtils#nextLong.","body":"In the modern days one could consider using org.apache.commons.lang3.RandomUtils#nextLong."}],"answers":[{"comments":[{"owner":{"account_id":114845,"reputation":3728,"user_id":301829,"accept_rate":96,"display_name":"Vilius Normantas"},"score":6,"creation_date":1269979079,"post_id":2546158,"comment_id":2549679,"body_markdown":"My first idea was exactly this. But it seems to be a bit inelegant. And I&#39;m worried about uniformness of the distribution (it&#39;s not that I really need it, I just want to do it right)","body":"My first idea was exactly this. But it seems to be a bit inelegant. And I&#39;m worried about uniformness of the distribution (it&#39;s not that I really need it, I just want to do it right)"},{"owner":{"account_id":361030,"reputation":3779,"user_id":703382,"accept_rate":92,"display_name":"Navin"},"score":8,"creation_date":1451201887,"post_id":2546158,"comment_id":56698650,"body_markdown":"Please never use this. The output is not uniform at all.","body":"Please never use this. The output is not uniform at all."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1490446149,"post_id":2546158,"comment_id":73121488,"body_markdown":"The biggest problem is that rounding will make the lowest bit very nonuniform. Also, `bound` will have to be less than the largest integer that can be encoded in a double, 2^53.","body":"The biggest problem is that rounding will make the lowest bit very nonuniform. Also, <code>bound</code> will have to be less than the largest integer that can be encoded in a double, 2^53."}],"tags":[],"owner":{"account_id":111602,"reputation":8153,"user_id":294738,"accept_rate":67,"display_name":"M. Jessup"},"comment_count":3,"down_vote_count":7,"up_vote_count":83,"is_accepted":false,"score":76,"last_activity_date":1337384035,"creation_date":1269960714,"answer_id":2546158,"question_id":2546078,"body_markdown":"The standard method to generate a number (without a utility method) in a range is to just use the double with the range:\r\n\r\n    long range = 1234567L;\r\n    Random r = new Random()\r\n    long number = (long)(r.nextDouble()*range);\r\n\r\nwill give you a long between 0 (inclusive) and range (exclusive). Similarly if you want a number between x and y:\r\n\r\n    long x = 1234567L;\r\n    long y = 23456789L;\r\n    Random r = new Random()\r\n    long number = x+((long)(r.nextDouble()*(y-x)));\r\n\r\nwill give you a long from 1234567 (inclusive) through 123456789 (exclusive)\r\n\r\nNote: check parentheses, because casting to long has higher priority than multiplication.","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>The standard method to generate a number (without a utility method) in a range is to just use the double with the range:</p>\n\n<pre><code>long range = 1234567L;\nRandom r = new Random()\nlong number = (long)(r.nextDouble()*range);\n</code></pre>\n\n<p>will give you a long between 0 (inclusive) and range (exclusive). Similarly if you want a number between x and y:</p>\n\n<pre><code>long x = 1234567L;\nlong y = 23456789L;\nRandom r = new Random()\nlong number = x+((long)(r.nextDouble()*(y-x)));\n</code></pre>\n\n<p>will give you a long from 1234567 (inclusive) through 123456789 (exclusive)</p>\n\n<p>Note: check parentheses, because casting to long has higher priority than multiplication.</p>\n"},{"comments":[{"owner":{"account_id":114845,"reputation":3728,"user_id":301829,"accept_rate":96,"display_name":"Vilius Normantas"},"score":2,"creation_date":1269978310,"post_id":2546186,"comment_id":2549575,"body_markdown":"I&#39;m having some problems with &quot;2^x checking&quot; part. Any ideas?","body":"I&#39;m having some problems with &quot;2^x checking&quot; part. Any ideas?"},{"owner":{"account_id":79153,"reputation":513965,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":0,"creation_date":1269979639,"post_id":2546186,"comment_id":2549790,"body_markdown":"@Vilius: The 2^x checking just makes the generation faster because directly using `rng.nextLong() % n` will be give uniform values (assume all bits are good). You can ignore that part if you want.","body":"@Vilius: The 2^x checking just makes the generation faster because directly using <code>rng.nextLong() % n</code> will be give uniform values (assume all bits are good). You can ignore that part if you want."},{"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"score":0,"creation_date":1409263517,"post_id":2546186,"comment_id":39912169,"body_markdown":"If I want `m &lt;= x &lt;= n`, how would you modify your solution?","body":"If I want <code>m &lt;= x &lt;= n</code>, how would you modify your solution?"},{"owner":{"account_id":79153,"reputation":513965,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":6,"creation_date":1409301495,"post_id":2546186,"comment_id":39922836,"body_markdown":"@BJPeterDeLaCruz: A random number between `m` and `n` can be obtained with a random number between `0` and `n-m`, then add `m`.","body":"@BJPeterDeLaCruz: A random number between <code>m</code> and <code>n</code> can be obtained with a random number between <code>0</code> and <code>n-m</code>, then add <code>m</code>."}],"tags":[],"owner":{"account_id":79153,"reputation":513965,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"comment_count":4,"down_vote_count":1,"up_vote_count":186,"is_accepted":true,"score":185,"last_activity_date":1672349997,"creation_date":1269960920,"answer_id":2546186,"question_id":2546078,"body_markdown":"Starting from **Java 7** (or Android API Level 21 = 5.0+) you could directly use `ThreadLocalRandom.current().nextLong(n)` (for 0  x &lt; n) and `ThreadLocalRandom.current().nextLong(m, n)` (for m  x &lt; n). See [@Alex](https://stackoverflow.com/a/31682930/224671)&#39;s answer for detail.\r\n\r\n---\r\n\r\nIf you are stuck with **Java 6** (or Android 4.x) you need to use an external library (e.g. `org.apache.commons.math3.random.RandomDataGenerator.getRandomGenerator().nextLong(0, n-1)`, see [@mawaldne](https://stackoverflow.com/a/11747812/224671)&#39;s answer), or implement your own `nextLong(n)`.\r\n\r\nAccording to [`Random` documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html), `nextInt` is implemented as\r\n```java\r\n public int nextInt(int bound) {\r\n   if (bound &lt;= 0)\r\n     throw new IllegalArgumentException(&quot;bound must be positive&quot;);\r\n\r\n   if ((bound &amp; -bound) == bound)  // i.e., bound is a power of 2\r\n     return (int)((bound * (long)next(31)) &gt;&gt; 31);\r\n\r\n   int bits, val;\r\n   do {\r\n       bits = next(31);\r\n       val = bits % bound;\r\n   } while (bits - val + (bound-1) &lt; 0);\r\n   return val;\r\n }\r\n```\r\nSo we may modify this to perform `nextLong`:\r\n```java\r\nlong nextLong(Random rng, long bound) {\r\n    // error checking and 2^x checking removed for simplicity.\r\n    long bits, val;\r\n    do {\r\n        bits = (rng.nextLong() &lt;&lt; 1) &gt;&gt;&gt; 1;\r\n        val = bits % bound;\r\n    } while (bits-val+(bound-1) &lt; 0L);\r\n    return val;\r\n}\r\n```","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>Starting from <strong>Java 7</strong> (or Android API Level 21 = 5.0+) you could directly use <code>ThreadLocalRandom.current().nextLong(n)</code> (for 0  x &lt; n) and <code>ThreadLocalRandom.current().nextLong(m, n)</code> (for m  x &lt; n). See <a href=\"https://stackoverflow.com/a/31682930/224671\">@Alex</a>'s answer for detail.</p>\n<hr />\n<p>If you are stuck with <strong>Java 6</strong> (or Android 4.x) you need to use an external library (e.g. <code>org.apache.commons.math3.random.RandomDataGenerator.getRandomGenerator().nextLong(0, n-1)</code>, see <a href=\"https://stackoverflow.com/a/11747812/224671\">@mawaldne</a>'s answer), or implement your own <code>nextLong(n)</code>.</p>\n<p>According to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>Random</code> documentation</a>, <code>nextInt</code> is implemented as</p>\n<pre class=\"lang-java prettyprint-override\"><code> public int nextInt(int bound) {\n   if (bound &lt;= 0)\n     throw new IllegalArgumentException(&quot;bound must be positive&quot;);\n\n   if ((bound &amp; -bound) == bound)  // i.e., bound is a power of 2\n     return (int)((bound * (long)next(31)) &gt;&gt; 31);\n\n   int bits, val;\n   do {\n       bits = next(31);\n       val = bits % bound;\n   } while (bits - val + (bound-1) &lt; 0);\n   return val;\n }\n</code></pre>\n<p>So we may modify this to perform <code>nextLong</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long nextLong(Random rng, long bound) {\n    // error checking and 2^x checking removed for simplicity.\n    long bits, val;\n    do {\n        bits = (rng.nextLong() &lt;&lt; 1) &gt;&gt;&gt; 1;\n        val = bits % bound;\n    } while (bits-val+(bound-1) &lt; 0L);\n    return val;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":114845,"reputation":3728,"user_id":301829,"accept_rate":96,"display_name":"Vilius Normantas"},"score":2,"creation_date":1269978717,"post_id":2546188,"comment_id":2549623,"body_markdown":"But the documentation says &quot;All 2^64 possible long values are produced with (approximately) equal probability.&quot;\nSo apparently the nextLong() method should return all possible values.. Btw, how length of the seed is related to distribution of values?","body":"But the documentation says &quot;All 2^64 possible long values are produced with (approximately) equal probability.&quot; So apparently the nextLong() method should return all possible values.. Btw, how length of the seed is related to distribution of values?"}],"tags":[],"owner":{"account_id":106179,"reputation":2828,"user_id":282947,"display_name":"Phil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269960924,"creation_date":1269960924,"answer_id":2546188,"question_id":2546078,"body_markdown":"From the page on [Random][1]:\r\n\r\n&gt; The method nextLong is implemented by class Random  as if by:\r\n&gt;\r\n    public long nextLong() {\r\n       return ((long)next(32) &lt;&lt; 32) + next(32);\r\n    }\r\n&gt;   Because class Random uses a seed with only 48 bits, this algorithm will not return all possible long values.\r\n    \r\nSo if you want to get a `Long`, you&#39;re already not going to get the full 64 bit range.\r\n\r\nI would suggest that if you have a range that falls near a power of 2, you build up the `Long` as in that snippet, like this:\r\n\r\n    next(32) + ((long)nextInt(8) &lt;&lt; 3)\r\n\r\nto get a 35 bit range, for example.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Random.html#nextInt%28int%29","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>From the page on <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Random.html#nextInt%28int%29\" rel=\"nofollow noreferrer\">Random</a>:</p>\n\n<blockquote>\n  <p>The method nextLong is implemented by class Random  as if by:</p>\n\n<pre><code>public long nextLong() {\n   return ((long)next(32) &lt;&lt; 32) + next(32);\n}\n</code></pre>\n  \n  <p>Because class Random uses a seed with only 48 bits, this algorithm will not return all possible long values.</p>\n</blockquote>\n\n<p>So if you want to get a <code>Long</code>, you're already not going to get the full 64 bit range.</p>\n\n<p>I would suggest that if you have a range that falls near a power of 2, you build up the <code>Long</code> as in that snippet, like this:</p>\n\n<pre><code>next(32) + ((long)nextInt(8) &lt;&lt; 3)\n</code></pre>\n\n<p>to get a 35 bit range, for example.</p>\n"},{"tags":[],"owner":{"account_id":1388925,"reputation":59,"user_id":1320247,"display_name":"J Low"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1333888509,"creation_date":1333887537,"answer_id":10062735,"question_id":2546078,"body_markdown":"The methods using the `r.nextDouble()` should use:\r\n\r\n    long number = (long) (rand.nextDouble()*max);\r\n\r\n\r\n    long number = x+(((long)r.nextDouble())*(y-x));","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>The methods using the <code>r.nextDouble()</code> should use:</p>\n\n<pre><code>long number = (long) (rand.nextDouble()*max);\n\n\nlong number = x+(((long)r.nextDouble())*(y-x));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5099064,"reputation":939,"user_id":4089318,"accept_rate":75,"display_name":"Michael Tontchev"},"score":3,"creation_date":1430496685,"post_id":11747812,"comment_id":48100571,"body_markdown":"For posterity: RandomData is deprecated in 4.0. Use http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/random/RandomDataGenerator.html","body":"For posterity: RandomData is deprecated in 4.0. Use <a href=\"http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/random/RandomDataGenerator.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-math/apidocs/org/apache/&hellip;</a>"}],"tags":[],"owner":{"account_id":12524,"reputation":3919,"user_id":24717,"accept_rate":90,"display_name":"mawaldne"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1343765747,"creation_date":1343763894,"answer_id":11747812,"question_id":2546078,"body_markdown":"The methods above work great. If you&#39;re using apache commons (org.apache.commons.math.random)  check out RandomData. It has a method: nextLong(long lower, long upper) \r\n\r\nhttp://commons.apache.org/math/userguide/random.html\r\n\r\nhttp://commons.apache.org/math/api-1.1/org/apache/commons/math/random/RandomData.html#nextLong(long,%20long)\r\n\r\n","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>The methods above work great. If you're using apache commons (org.apache.commons.math.random)  check out RandomData. It has a method: nextLong(long lower, long upper) </p>\n\n<p><a href=\"http://commons.apache.org/math/userguide/random.html\" rel=\"noreferrer\">http://commons.apache.org/math/userguide/random.html</a></p>\n\n<p><a href=\"http://commons.apache.org/math/api-1.1/org/apache/commons/math/random/RandomData.html#nextLong(long,%20long)\" rel=\"noreferrer\">http://commons.apache.org/math/api-1.1/org/apache/commons/math/random/RandomData.html#nextLong(long,%20long)</a></p>\n"},{"comments":[{"owner":{"account_id":994007,"reputation":1469,"user_id":1010443,"accept_rate":80,"display_name":"khcpietro"},"score":0,"creation_date":1397142017,"post_id":19261487,"comment_id":35113040,"body_markdown":"This is nice, but you should check `if (max == min)`","body":"This is nice, but you should check <code>if (max == min)</code>"},{"owner":{"account_id":994007,"reputation":1469,"user_id":1010443,"accept_rate":80,"display_name":"khcpietro"},"score":0,"creation_date":1397143192,"post_id":19261487,"comment_id":35113875,"body_markdown":"And also check `if (nextLong() &gt;= 0)`","body":"And also check <code>if (nextLong() &gt;= 0)</code>"},{"owner":{"account_id":190285,"reputation":2831,"user_id":430154,"accept_rate":78,"display_name":"Nick"},"score":7,"creation_date":1432246196,"post_id":19261487,"comment_id":48859614,"body_markdown":"FYI: This doesn&#39;t always give a uniform distribution, and it&#39;s really bad for some large ranges. For example, if `min = 0` and `max = 2 * (MAX_LONG / 3)`, then you&#39;re twice as likely to get a value in `[0, MAX_LONG / 3]` as you are to get one in `[MAX_LONG / 3, 2 * (MAX_LONG / 3)]`.","body":"FYI: This doesn&#39;t always give a uniform distribution, and it&#39;s really bad for some large ranges. For example, if <code>min = 0</code> and <code>max = 2 * (MAX_LONG &#47; 3)</code>, then you&#39;re twice as likely to get a value in <code>[0, MAX_LONG &#47; 3]</code> as you are to get one in <code>[MAX_LONG &#47; 3, 2 * (MAX_LONG &#47; 3)]</code>."},{"owner":{"account_id":1077525,"reputation":7289,"user_id":1075341,"accept_rate":96,"display_name":"Arnaud"},"score":0,"creation_date":1432540415,"post_id":19261487,"comment_id":48950978,"body_markdown":"This code won&#39;t work. if `nextLong` returns a negative value, the remainder will be negative, and the value will be outside the range.","body":"This code won&#39;t work. if <code>nextLong</code> returns a negative value, the remainder will be negative, and the value will be outside the range."}],"tags":[],"owner":{"account_id":3410866,"reputation":135,"user_id":2860805,"display_name":"Septic Overflow"},"comment_count":4,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1397276012,"creation_date":1381282309,"answer_id":19261487,"question_id":2546078,"body_markdown":"Use the &#39;%&#39; operator\r\n\r\n    resultingNumber = (r.nextLong() % (maximum - minimum)) + minimum;\r\n\r\nBy using the &#39;%&#39; operator, we take the remainder when divided by your maximum value. This leaves us with only numbers from 0 (inclusive) to the divisor (exclusive).\r\n\r\nFor example:\r\n\r\n    public long randLong(long min, long max) {\r\n        return (new java.util.Random().nextLong() % (max - min)) + min;\r\n    }","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>Use the '%' operator</p>\n\n<pre><code>resultingNumber = (r.nextLong() % (maximum - minimum)) + minimum;\n</code></pre>\n\n<p>By using the '%' operator, we take the remainder when divided by your maximum value. This leaves us with only numbers from 0 (inclusive) to the divisor (exclusive).</p>\n\n<p>For example:</p>\n\n<pre><code>public long randLong(long min, long max) {\n    return (new java.util.Random().nextLong() % (max - min)) + min;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":1,"creation_date":1443791039,"post_id":31527515,"comment_id":53643417,"body_markdown":"This can be extremly inneficient. What if `n` is 1, or say 2? The loop will perform __many__ iterations.","body":"This can be extremly inneficient. What if <code>n</code> is 1, or say 2? The loop will perform <b>many</b> iterations."}],"tags":[],"owner":{"account_id":3142939,"reputation":31,"user_id":2658039,"display_name":"Valentinos Ioannou"},"comment_count":1,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1437431991,"creation_date":1437431991,"answer_id":31527515,"question_id":2546078,"body_markdown":"//use  system time as seed value to get a good random number            \r\n            \r\n       Random random = new Random(System.currentTimeMillis());\r\n\t\t          long x;\r\n\t\t         do{\r\n\t\t           \tx=random.nextLong();\r\n\t\t         }while(x&lt;0 &amp;&amp; x &gt; n); \r\n//Loop until get a number greater or equal to 0 and smaller than n","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>//use  system time as seed value to get a good random number            </p>\n\n<pre><code>   Random random = new Random(System.currentTimeMillis());\n              long x;\n             do{\n                x=random.nextLong();\n             }while(x&lt;0 &amp;&amp; x &gt; n); \n</code></pre>\n\n<p>//Loop until get a number greater or equal to 0 and smaller than n</p>\n"},{"comments":[{"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"score":8,"creation_date":1447167703,"post_id":31682930,"comment_id":55039405,"body_markdown":"This answer much simpler and therefore more useful than the most voted one.","body":"This answer much simpler and therefore more useful than the most voted one."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":2,"creation_date":1460040468,"post_id":31682930,"comment_id":60569472,"body_markdown":"For those developing for Android, notice that it&#39;s available only from API 21 (Lollipop , Android 5.0) : http://developer.android.com/reference/java/util/concurrent/ThreadLocalRandom.html","body":"For those developing for Android, notice that it&#39;s available only from API 21 (Lollipop , Android 5.0) : <a href=\"http://developer.android.com/reference/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":13786274,"reputation":358,"user_id":9950085,"display_name":"Falcon"},"score":0,"creation_date":1683617454,"post_id":31682930,"comment_id":134389855,"body_markdown":"ThreadLocalRandom is more secured than Random for concurrent programs. In &quot;Effective Java&quot; Joshua Bloch said that ThreadLocalRandom is also faster than Random.","body":"ThreadLocalRandom is more secured than Random for concurrent programs. In &quot;Effective Java&quot; Joshua Bloch said that ThreadLocalRandom is also faster than Random."}],"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"comment_count":3,"down_vote_count":0,"up_vote_count":111,"is_accepted":false,"score":111,"last_activity_date":1487976697,"creation_date":1438103413,"answer_id":31682930,"question_id":2546078,"body_markdown":"# `ThreadLocalRandom`\r\n\r\n[`ThreadLocalRandom`][1] has a [`nextLong(long bound)`][2] method.\r\n\r\n    long v = ThreadLocalRandom.current().nextLong(100);\r\n\r\nIt also has [`nextLong(long origin, long bound)`][3] if you need an origin other than 0. Pass the origin (inclusive) and the bound (exclusive).\r\n\r\n    long v = ThreadLocalRandom.current().nextLong(10,100); // For 2-digit integers, 10-99 inclusive.\r\n\r\n[`SplittableRandom`][4] has the same `nextLong` methods and allows you to choose a seed if you want a reproducible sequence of numbers.\r\n\r\n[1]:https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\r\n[2]:https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html#nextLong-long-\r\n[3]:https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html#nextLong-long-long-\r\n[4]:https://docs.oracle.com/javase/8/docs/api/java/util/SplittableRandom.html","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<h1><code>ThreadLocalRandom</code></h1>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"noreferrer\"><code>ThreadLocalRandom</code></a> has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html#nextLong-long-\" rel=\"noreferrer\"><code>nextLong(long bound)</code></a> method.</p>\n\n<pre><code>long v = ThreadLocalRandom.current().nextLong(100);\n</code></pre>\n\n<p>It also has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html#nextLong-long-long-\" rel=\"noreferrer\"><code>nextLong(long origin, long bound)</code></a> if you need an origin other than 0. Pass the origin (inclusive) and the bound (exclusive).</p>\n\n<pre><code>long v = ThreadLocalRandom.current().nextLong(10,100); // For 2-digit integers, 10-99 inclusive.\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/SplittableRandom.html\" rel=\"noreferrer\"><code>SplittableRandom</code></a> has the same <code>nextLong</code> methods and allows you to choose a seed if you want a reproducible sequence of numbers.</p>\n"},{"comments":[{"owner":{"account_id":7181466,"reputation":156,"user_id":9980659,"display_name":"E. Bishop"},"score":0,"creation_date":1590536586,"post_id":32906415,"comment_id":109715456,"body_markdown":"I know this is an old answer and unlikely to be used, but this part is demonstrably incorrect: `if ((bound &amp; m) == 0) { r = (bound * r) &gt;&gt; (Long.SIZE - 1); }`\n\nFirst, it&#39;s easy to show with unit tests that this does not actually produce numbers in the range [0, bound). Second, it&#39;s unnecessarily elaborate: `r = r &amp; m` would accomplish the desired result, and that is basically what the current Java 8 implementation does. It&#39;s possible that the implementation was different when this answer was written, but it can&#39;t have been what&#39;s shown.","body":"I know this is an old answer and unlikely to be used, but this part is demonstrably incorrect: <code>if ((bound &amp; m) == 0) { r = (bound * r) &gt;&gt; (Long.SIZE - 1); }</code>  First, it&#39;s easy to show with unit tests that this does not actually produce numbers in the range [0, bound). Second, it&#39;s unnecessarily elaborate: <code>r = r &amp; m</code> would accomplish the desired result, and that is basically what the current Java 8 implementation does. It&#39;s possible that the implementation was different when this answer was written, but it can&#39;t have been what&#39;s shown."}],"tags":[],"owner":{"account_id":2551144,"reputation":51,"user_id":2215201,"display_name":"Enrice"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443786073,"creation_date":1443786073,"answer_id":32906415,"question_id":2546078,"body_markdown":"Further improving kennytm&#39;s answer: A subclass implementation taking the actual implementation in Java 8 into account would be:\r\n\r\n    public class MyRandom extends Random {\r\n      public long nextLong(long bound) {\r\n        if (bound &lt;= 0) {\r\n          throw new IllegalArgumentException(&quot;bound must be positive&quot;);\r\n        }\r\n\r\n        long r = nextLong() &amp; Long.MAX_VALUE;\r\n        long m = bound - 1L;\r\n        if ((bound &amp; m) == 0) { // i.e., bound is a power of 2\r\n          r = (bound * r) &gt;&gt; (Long.SIZE - 1);\r\n        } else {\r\n          for (long u = r; u - (r = u % bound) + m &lt; 0L; u = nextLong() &amp; Long.MAX_VALUE);\r\n        }\r\n        return r;\r\n      }\r\n    }\r\n","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>Further improving kennytm's answer: A subclass implementation taking the actual implementation in Java 8 into account would be:</p>\n\n<pre><code>public class MyRandom extends Random {\n  public long nextLong(long bound) {\n    if (bound &lt;= 0) {\n      throw new IllegalArgumentException(\"bound must be positive\");\n    }\n\n    long r = nextLong() &amp; Long.MAX_VALUE;\n    long m = bound - 1L;\n    if ((bound &amp; m) == 0) { // i.e., bound is a power of 2\n      r = (bound * r) &gt;&gt; (Long.SIZE - 1);\n    } else {\n      for (long u = r; u - (r = u % bound) + m &lt; 0L; u = nextLong() &amp; Long.MAX_VALUE);\n    }\n    return r;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":959042,"reputation":1491,"user_id":983803,"accept_rate":65,"display_name":"3xCh1_23"},"score":0,"creation_date":1589590678,"post_id":36479487,"comment_id":109363511,"body_markdown":"Is alright, except the parts that belong to a framework (I guess).","body":"Is alright, except the parts that belong to a framework (I guess)."}],"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460040397,"creation_date":1460039926,"answer_id":36479487,"question_id":2546078,"body_markdown":"How about this:\r\n\r\n    public static long nextLong(@NonNull Random r, long min, long max) {\r\n        if (min &gt; max)\r\n            throw new IllegalArgumentException(&quot;min&gt;max&quot;);\r\n        if (min == max)\r\n            return min;\r\n        long n = r.nextLong();\r\n        //abs (use instead of Math.abs, which might return min value) :\r\n        n = n == Long.MIN_VALUE ? 0 : n &lt; 0 ? -n : n;\r\n        //limit to range:\r\n        n = n % (max - min);\r\n        return min + n;\r\n    }\r\n\r\n?","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>How about this:</p>\n\n<pre><code>public static long nextLong(@NonNull Random r, long min, long max) {\n    if (min &gt; max)\n        throw new IllegalArgumentException(\"min&gt;max\");\n    if (min == max)\n        return min;\n    long n = r.nextLong();\n    //abs (use instead of Math.abs, which might return min value) :\n    n = n == Long.MIN_VALUE ? 0 : n &lt; 0 ? -n : n;\n    //limit to range:\n    n = n % (max - min);\n    return min + n;\n}\n</code></pre>\n\n<p>?</p>\n"},{"comments":[{"owner":{"account_id":100987,"reputation":150,"user_id":271928,"display_name":"Bogu"},"score":1,"creation_date":1506179123,"post_id":37773033,"comment_id":79720218,"body_markdown":"You shouldn&#39;t create `Random` instances at hoc, you shouldn&#39;t catch `Throwable`s or other exceptions if not needed, you should log errors with some kind of logging framework (i.e. SLF4J) instead of using `printStackTrace`.","body":"You shouldn&#39;t create <code>Random</code> instances at hoc, you shouldn&#39;t catch <code>Throwable</code>s or other exceptions if not needed, you should log errors with some kind of logging framework (i.e. SLF4J) instead of using <code>printStackTrace</code>."}],"tags":[],"owner":{"account_id":968773,"reputation":9034,"user_id":991737,"accept_rate":94,"display_name":"XXX"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1465726304,"creation_date":1465726304,"answer_id":37773033,"question_id":2546078,"body_markdown":"    public static long randomLong(long min, long max)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tRandom\trandom\t= new Random();\r\n\t\t\tlong\tresult\t= min + (long) (random.nextDouble() * (max - min));\r\n\t\t\treturn\tresult;\r\n\t\t}\r\n\t\tcatch (Throwable t) {t.printStackTrace();}\r\n\t\treturn 0L;\r\n\t}","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<pre><code>public static long randomLong(long min, long max)\n{\n    try\n    {\n        Random  random  = new Random();\n        long    result  = min + (long) (random.nextDouble() * (max - min));\n        return  result;\n    }\n    catch (Throwable t) {t.printStackTrace();}\n    return 0L;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1194198,"reputation":2253,"user_id":1166266,"accept_rate":100,"display_name":"Allison"},"score":2,"creation_date":1544260268,"post_id":42777420,"comment_id":94219339,"body_markdown":"modulo is biased, do not use it for random https://stackoverflow.com/a/10984975/1166266","body":"modulo is biased, do not use it for random <a href=\"https://stackoverflow.com/a/10984975/1166266\">stackoverflow.com/a/10984975/1166266</a>"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1669750937,"post_id":42777420,"comment_id":131712839,"body_markdown":"Note that `System.out.println(Math.abs(Integer.MIN_VALUE));` prints **-2147483648**, meaning that if `rand.nextLong()` picks `Integer.MIN_VALUE`, a negative value is returned. This is misleading because `Math.abs` does not return a positive number in all cases.","body":"Note that <code>System.out.println(Math.abs(Integer.MIN_VALUE));</code> prints <b>-2147483648</b>, meaning that if <code>rand.nextLong()</code> picks <code>Integer.MIN_VALUE</code>, a negative value is returned. This is misleading because <code>Math.abs</code> does not return a positive number in all cases."}],"tags":[],"owner":{"account_id":8259388,"reputation":57,"user_id":6211424,"display_name":"TheGamePlayer 40"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1669751023,"creation_date":1489463099,"answer_id":42777420,"question_id":2546078,"body_markdown":"# WARNING\r\n\r\nNote that `System.out.println(Math.abs(Integer.MIN_VALUE));` prints **-2147483648**, meaning that if `rand.nextLong()` picks `Integer.MIN_VALUE`, a negative value is returned. This is misleading because `Math.abs()` does not return a positive number in all cases. \r\n\r\n---\r\n\r\nIf you want a uniformly distributed pseudorandom long in the range of [0,`m`), try using the modulo operator and the absolute value method combined with the `nextLong()` method as seen below:\r\n\r\n    Math.abs(rand.nextLong()) % m;\r\nWhere `rand` is your Random object.\r\n\r\nThe modulo operator divides two numbers and outputs the remainder of those numbers. For example, `3 % 2` is `1` because the remainder of 3 and 2 is 1.\r\n\r\nSince `nextLong()` generates a uniformly distributed pseudorandom long in the range of [-(2^48),2^48) (or somewhere in that range), you will need to take the absolute value of it. If you don&#39;t, the modulo of the `nextLong()` method has a 50% chance of returning a negative value, which is out of the range [0,`m`).\r\n\r\nWhat you initially requested was a uniformly distributed pseudorandom long in the range of [0,100). The following code does so:\r\n\r\n    Math.abs(rand.nextLong()) % 100;","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<h1>WARNING</h1>\n<p>Note that <code>System.out.println(Math.abs(Integer.MIN_VALUE));</code> prints <strong>-2147483648</strong>, meaning that if <code>rand.nextLong()</code> picks <code>Integer.MIN_VALUE</code>, a negative value is returned. This is misleading because <code>Math.abs()</code> does not return a positive number in all cases.</p>\n<hr />\n<p>If you want a uniformly distributed pseudorandom long in the range of [0,<code>m</code>), try using the modulo operator and the absolute value method combined with the <code>nextLong()</code> method as seen below:</p>\n<pre><code>Math.abs(rand.nextLong()) % m;\n</code></pre>\n<p>Where <code>rand</code> is your Random object.</p>\n<p>The modulo operator divides two numbers and outputs the remainder of those numbers. For example, <code>3 % 2</code> is <code>1</code> because the remainder of 3 and 2 is 1.</p>\n<p>Since <code>nextLong()</code> generates a uniformly distributed pseudorandom long in the range of [-(2^48),2^48) (or somewhere in that range), you will need to take the absolute value of it. If you don't, the modulo of the <code>nextLong()</code> method has a 50% chance of returning a negative value, which is out of the range [0,<code>m</code>).</p>\n<p>What you initially requested was a uniformly distributed pseudorandom long in the range of [0,100). The following code does so:</p>\n<pre><code>Math.abs(rand.nextLong()) % 100;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3268392,"reputation":203,"user_id":4987993,"accept_rate":18,"display_name":"Raj Rajen"},"score":0,"creation_date":1518489182,"post_id":44688289,"comment_id":84518164,"body_markdown":"When I reset \t\t\n\nlong min = 1L;\nlong max = 10L;\n\nThe resulting random number goes beyond the max Value !","body":"When I reset \t\t  long min = 1L; long max = 10L;  The resulting random number goes beyond the max Value !"},{"owner":{"account_id":10333363,"reputation":121,"user_id":7622397,"display_name":"Jay Jodiwal"},"score":0,"creation_date":1555913955,"post_id":44688289,"comment_id":98249652,"body_markdown":"It should be random.nextLong() % (max - min) + min;","body":"It should be random.nextLong() % (max - min) + min;"}],"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1518305102,"creation_date":1498091852,"answer_id":44688289,"question_id":2546078,"body_markdown":" The below Method will Return you a value between 10000000000 to 9999999999 \r\n     \r\n   \r\n\r\n    long min = 1000000000L\r\n    long max = 9999999999L    \r\n      \r\n    public static long getRandomNumber(long min, long max){\r\n        \r\n        Random random = new Random();    \t  \r\n        return random.nextLong() % (max - min) + max;\r\n            \t    \r\n    }\r\n        \r\n    ","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>The below Method will Return you a value between 10000000000 to 9999999999 </p>\n\n<pre><code>long min = 1000000000L\nlong max = 9999999999L    \n\npublic static long getRandomNumber(long min, long max){\n\n    Random random = new Random();         \n    return random.nextLong() % (max - min) + max;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382098,"reputation":416,"user_id":737127,"display_name":"Vitaliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539128483,"creation_date":1539128483,"answer_id":52730681,"question_id":2546078,"body_markdown":"From **Java 8** API \r\n\r\nIt could be easier to take actual implementation from **API doc** https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-\r\nthey are using it to generate longs stream. And your origin can be &quot;0&quot; like in the question.\r\n\r\n\r\n    long nextLong(long origin, long bound) {\r\n      long r = nextLong();\r\n      long n = bound - origin, m = n - 1;\r\n      if ((n &amp; m) == 0L)  // power of two\r\n        r = (r &amp; m) + origin;\r\n      else if (n &gt; 0L) {  // reject over-represented candidates\r\n        for (long u = r &gt;&gt;&gt; 1;            // ensure nonnegative\r\n             u + m - (r = u % n) &lt; 0L;    // rejection check\r\n             u = nextLong() &gt;&gt;&gt; 1) // retry\r\n            ;\r\n        r += origin;\r\n      }\r\n      else {              // range not representable as long\r\n        while (r &lt; origin || r &gt;= bound)\r\n          r = nextLong();\r\n      }\r\n      return r;\r\n    }\r\n","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>From <strong>Java 8</strong> API </p>\n\n<p>It could be easier to take actual implementation from <strong>API doc</strong> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-</a>\nthey are using it to generate longs stream. And your origin can be \"0\" like in the question.</p>\n\n<pre><code>long nextLong(long origin, long bound) {\n  long r = nextLong();\n  long n = bound - origin, m = n - 1;\n  if ((n &amp; m) == 0L)  // power of two\n    r = (r &amp; m) + origin;\n  else if (n &gt; 0L) {  // reject over-represented candidates\n    for (long u = r &gt;&gt;&gt; 1;            // ensure nonnegative\n         u + m - (r = u % n) &lt; 0L;    // rejection check\n         u = nextLong() &gt;&gt;&gt; 1) // retry\n        ;\n    r += origin;\n  }\n  else {              // range not representable as long\n    while (r &lt; origin || r &gt;= bound)\n      r = nextLong();\n  }\n  return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4988331,"reputation":1566,"user_id":4011289,"accept_rate":67,"display_name":"Sridhar Sg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571385386,"creation_date":1571385386,"answer_id":58446367,"question_id":2546078,"body_markdown":"If you can use java streams, you can try the following:\r\n\r\n\r\n    Random randomizeTimestamp = new Random();\r\n    Long min = ZonedDateTime.parse(&quot;2018-01-01T00:00:00.000Z&quot;).toInstant().toEpochMilli();\r\n    Long max = ZonedDateTime.parse(&quot;2019-01-01T00:00:00.000Z&quot;).toInstant().toEpochMilli();\r\n    randomizeTimestamp.longs(generatedEventListSize, min, max).forEach(timestamp -&gt; {\r\n      System.out.println(timestamp);\r\n    });\r\n\r\nThis will generate numbers in the given range for longs.","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>If you can use java streams, you can try the following:</p>\n\n<pre><code>Random randomizeTimestamp = new Random();\nLong min = ZonedDateTime.parse(\"2018-01-01T00:00:00.000Z\").toInstant().toEpochMilli();\nLong max = ZonedDateTime.parse(\"2019-01-01T00:00:00.000Z\").toInstant().toEpochMilli();\nrandomizeTimestamp.longs(generatedEventListSize, min, max).forEach(timestamp -&gt; {\n  System.out.println(timestamp);\n});\n</code></pre>\n\n<p>This will generate numbers in the given range for longs.</p>\n"},{"tags":[],"owner":{"account_id":18216805,"reputation":11,"user_id":13258341,"display_name":"Liash101"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592571878,"creation_date":1592570343,"answer_id":62470505,"question_id":2546078,"body_markdown":"    import java.util*;\r\n    \r\n        Random rnd = new Random ();\r\n        long name = Math.abs(rnd.nextLong());\r\n\t   \r\nThis should work ","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<pre><code>import java.util*;\n\n    Random rnd = new Random ();\n    long name = Math.abs(rnd.nextLong());\n</code></pre>\n\n<p>This should work </p>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668936557,"creation_date":1668936557,"answer_id":74506945,"question_id":2546078,"body_markdown":"    public static Long generate(int length) {\r\n        StringBuilder sb = new StringBuilder(&quot;1&quot;);\r\n        sb.setLength(length + 1);\r\n        String padded = sb.toString().replaceAll(&quot;[^0-9]&quot;, &quot;0&quot;);\r\n        long rand = 0;\r\n        try {\r\n          rand = (long) (Math.random()*Long.valueOf(padded));\r\n        } catch (Exception e) {\r\n        }\r\n        return rand;\r\n      }","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<pre><code>public static Long generate(int length) {\n    StringBuilder sb = new StringBuilder(&quot;1&quot;);\n    sb.setLength(length + 1);\n    String padded = sb.toString().replaceAll(&quot;[^0-9]&quot;, &quot;0&quot;);\n    long rand = 0;\n    try {\n      rand = (long) (Math.random()*Long.valueOf(padded));\n    } catch (Exception e) {\n    }\n    return rand;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700273006,"post_id":77505265,"comment_id":136637952,"body_markdown":"a 48 bit seed cannot generate all 64 bit values - the random number is a function from the seed and the next seed is also a function of the previous one. That means, that the composed random number is also a function of the seed, that is, one given seed will always generate the same composed number - if we have 2^48 seeds, we cannot have 2 ^64 results -- you probably meant that the *range* (min/max values) of the generated numbers is (roughly) the same as `long`&#39;s","body":"a 48 bit seed cannot generate all 64 bit values - the random number is a function from the seed and the next seed is also a function of the previous one. That means, that the composed random number is also a function of the seed, that is, one given seed will always generate the same composed number - if we have 2^48 seeds, we cannot have 2 ^64 results -- you probably meant that the <i>range</i> (min/max values) of the generated numbers is (roughly) the same as <code>long</code>&#39;s"},{"owner":{"account_id":29930862,"reputation":1,"user_id":22937746,"display_name":"arthurthecat"},"score":0,"creation_date":1700346659,"post_id":77505265,"comment_id":136643974,"body_markdown":"Part1: Indeed a 48bit seed cannot generate all 64 bit values.\nI appreciate the difference between  range and a full set of values.\nAs the java documentation and src for Random method  .nextInt() calls  protected int next(int bits)\n\n&quot;    /**Returns next pseudorandom uniformly distributed {@code int} value from this random number generator&#39;s sequence.\n     *  General contract of {@code nextInt} it returns one {@code int} value pseudorandomly generated.  All 2&lt;sup&gt;32&lt;/sup&gt; possible {@code int}\n     *  values are produced with (approx) equal probability.&quot;","body":"Part1: Indeed a 48bit seed cannot generate all 64 bit values. I appreciate the difference between  range and a full set of values. As the java documentation and src for Random method  .nextInt() calls  protected int next(int bits)  &quot;    /**Returns next pseudorandom uniformly distributed {@code int} value from this random number generator&#39;s sequence.      *  General contract of {@code nextInt} it returns one {@code int} value pseudorandomly generated.  All 2&lt;sup&gt;32&lt;/sup&gt; possible {@code int}      *  values are produced with (approx) equal probability.&quot;"},{"owner":{"account_id":29930862,"reputation":1,"user_id":22937746,"display_name":"arthurthecat"},"score":0,"creation_date":1700346742,"post_id":77505265,"comment_id":136643982,"body_markdown":"Part2:  public int nextInt(){   return next( 32 );  }&quot;\n\nnext(32) returns an int. It works by taking bits 48 to 16 from the 64bit long and the bits it uses are all random.\nIt does indeed return, eventually all possible int &amp;nbsp;&amp;nbsp;&amp;nbsp;\n  (int)FF FF FF FF (long)FF FF FF FF FF FF FF FF\n  48bit(long) mask -&gt; (long)00 00 [FF FF FF FF] FF FF -&gt; (int) from [....] -&gt; (int)FF FF FF FF  where each F can be [0-F]","body":"Part2:  public int nextInt(){   return next( 32 );  }&quot;  next(32) returns an int. It works by taking bits 48 to 16 from the 64bit long and the bits it uses are all random. It does indeed return, eventually all possible int &amp;nbsp;&amp;nbsp;&amp;nbsp;   (int)FF FF FF FF (long)FF FF FF FF FF FF FF FF   48bit(long) mask -&gt; (long)00 00 [FF FF FF FF] FF FF -&gt; (int) from [....] -&gt; (int)FF FF FF FF  where each F can be [0-F]"},{"owner":{"account_id":29930862,"reputation":1,"user_id":22937746,"display_name":"arthurthecat"},"score":0,"creation_date":1700346775,"post_id":77505265,"comment_id":136643984,"body_markdown":"Part 3: I think that the 48bit multiplier and 48bit mask do not affect  nextInt() it returns random int from full range of integer and all values will be returned if you continued for long enough, as the doc says &quot;All 2^32 possible int&quot;\n\nTurning to .nextLong() it uses -&gt; (  ( next(32) )&lt;&lt;32  )+next(32)  so formats a Long from two separately obtained int both of which come from a set of all values of integer. So again if you repeat method for long enough you will get all values of Long","body":"Part 3: I think that the 48bit multiplier and 48bit mask do not affect  nextInt() it returns random int from full range of integer and all values will be returned if you continued for long enough, as the doc says &quot;All 2^32 possible int&quot;  Turning to .nextLong() it uses -&gt; (  ( next(32) )&lt;&lt;32  )+next(32)  so formats a Long from two separately obtained int both of which come from a set of all values of integer. So again if you repeat method for long enough you will get all values of Long"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700347388,"post_id":77505265,"comment_id":136644054,"body_markdown":"apparently you did not understand what I wrote. 1) given one specific seed, the random generator will always create the same sequence; 2) given two specific integer values; the combination you propose will always *create* the same `long` value; 3) conclusion (1+2), given one specific seed and using that combination, will always result in the same `long`; 4) we have *only* 2^48 different seeds as input, we will *only* get 2^48 different results, not 2^64","body":"apparently you did not understand what I wrote. 1) given one specific seed, the random generator will always create the same sequence; 2) given two specific integer values; the combination you propose will always <i>create</i> the same <code>long</code> value; 3) conclusion (1+2), given one specific seed and using that combination, will always result in the same <code>long</code>; 4) we have <i>only</i> 2^48 different seeds as input, we will <i>only</i> get 2^48 different results, not 2^64"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700384236,"post_id":77505265,"comment_id":136646001,"body_markdown":"Please format the text above so anybody can read it good.","body":"Please format the text above so anybody can read it good."},{"owner":{"account_id":29930862,"reputation":1,"user_id":22937746,"display_name":"arthurthecat"},"score":0,"creation_date":1700406154,"post_id":77505265,"comment_id":136647810,"body_markdown":"Of course, the seed repeats, I&#39;m just a dumb cat and thinking of a mouse!","body":"Of course, the seed repeats, I&#39;m just a dumb cat and thinking of a mouse!"}],"tags":[],"owner":{"account_id":29930862,"reputation":1,"user_id":22937746,"display_name":"arthurthecat"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700268979,"creation_date":1700268305,"answer_id":77505265,"question_id":2546078,"body_markdown":"Came across this post when looking at using &amp;nbsp;&amp;nbsp; new Random(3142L).longNext()\r\n\r\nLooked at &amp;nbsp;&amp;nbsp; java &amp;nbsp;&amp;nbsp; jdk1.8.0_381 src  where the line \r\n&quot;...\r\n  *   Because class {@code Random} uses a seed with only 48 bits, this algorithm will not return all possible {@code long} values.\r\n...&quot;\r\n\r\nfrom\r\n\r\n&quot;  public long nextLong(){ &amp;nbsp;&amp;nbsp;  return(  (long)( next(32) )&lt;&lt;32  )+next( 32 ); &amp;nbsp;&amp;nbsp;  } &quot;\r\n\r\n concerned me but when I looked at src for &amp;nbsp;&amp;nbsp; Random(seed) &amp;nbsp;&amp;nbsp; and &amp;nbsp;&amp;nbsp; .nextLong()\r\n\r\nI came to think that though &amp;nbsp;&amp;nbsp; protected int next(bits) &amp;nbsp;&amp;nbsp; takes integer from Long only 48 bits of which is random bits, integer returned covers all value of an integer &amp;nbsp;&amp;nbsp; ie 0x0000-&gt;0xFFFF &amp;nbsp;&amp;nbsp;\r\n\r\nLong  returned by &amp;nbsp;&amp;nbsp; .nextLong() &amp;nbsp;&amp;nbsp; is constructed from two separate integers from &amp;nbsp;&amp;nbsp; .next() &amp;nbsp;&amp;nbsp; One placed as most significant int of Long and one placed as least significant int\r\n\r\nAs each  int  covers all values of integer I think all values of Long will be covered, though. So &amp;nbsp;&amp;nbsp; .nextLong() &amp;nbsp;&amp;nbsp; is adequate for returning all values of Long and better than   Random documentation suggests.\r\n\r\nAs to your problem, Long has no advantages over  int  when working with numbers from 0-100. &amp;nbsp;&amp;nbsp; Casting &amp;nbsp;&amp;nbsp; .nextInt(100) &amp;nbsp;&amp;nbsp;  to Long is probably the best solution \r\n\r\n    long[] aol=new long[0];\r\n    Random r=new Random();\r\n    long next(){  return (long)( r.nextInt(100) );  }\r\n    for(int i=0; i&lt;100; i++){  aol[i++]=this.next();  }\r\n\r\nYields random array of 100 Long values\r\n","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>Came across this post when looking at using  new Random(3142L).longNext()</p>\n<p>Looked at  java  jdk1.8.0_381 src  where the line\n&quot;...</p>\n<ul>\n<li>Because class {@code Random} uses a seed with only 48 bits, this algorithm will not return all possible {@code long} values.\n...&quot;</li>\n</ul>\n<p>from</p>\n<p>&quot;  public long nextLong(){   return(  (long)( next(32) )&lt;&lt;32  )+next( 32 );   } &quot;</p>\n<p>concerned me but when I looked at src for  Random(seed)  and  .nextLong()</p>\n<p>I came to think that though  protected int next(bits)  takes integer from Long only 48 bits of which is random bits, integer returned covers all value of an integer  ie 0x0000-&gt;0xFFFF </p>\n<p>Long  returned by  .nextLong()  is constructed from two separate integers from  .next()  One placed as most significant int of Long and one placed as least significant int</p>\n<p>As each  int  covers all values of integer I think all values of Long will be covered, though. So  .nextLong()  is adequate for returning all values of Long and better than   Random documentation suggests.</p>\n<p>As to your problem, Long has no advantages over  int  when working with numbers from 0-100.  Casting  .nextInt(100)   to Long is probably the best solution</p>\n<pre><code>long[] aol=new long[0];\nRandom r=new Random();\nlong next(){  return (long)( r.nextInt(100) );  }\nfor(int i=0; i&lt;100; i++){  aol[i++]=this.next();  }\n</code></pre>\n<p>Yields random array of 100 Long values</p>\n"}],"owner":{"account_id":114845,"reputation":3728,"user_id":301829,"accept_rate":96,"display_name":"Vilius Normantas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191720,"favorite_count":0,"down_vote_count":0,"up_vote_count":160,"accepted_answer_id":2546186,"answer_count":18,"score":160,"last_activity_date":1700268979,"creation_date":1269960081,"question_id":2546078,"body_markdown":"Random class has a method to generate random int in a given range. For example:\r\n\r\n    Random r = new Random(); \r\n    int x = r.nextInt(100);\r\n\r\nThis would generate an int number more or equal to 0 and less than 100. I&#39;d like to do exactly the same with long number.\r\n\r\n    long y = magicRandomLongGenerator(100);\r\n\r\nRandom class has only nextLong(), but it doesn&#39;t allow to set range.","title":"Java: random long number in 0 &lt;= x &lt; n range","body":"<p>Random class has a method to generate random int in a given range. For example:</p>\n\n<pre><code>Random r = new Random(); \nint x = r.nextInt(100);\n</code></pre>\n\n<p>This would generate an int number more or equal to 0 and less than 100. I'd like to do exactly the same with long number.</p>\n\n<pre><code>long y = magicRandomLongGenerator(100);\n</code></pre>\n\n<p>Random class has only nextLong(), but it doesn't allow to set range.</p>\n"},{"tags":["java","data-structures","set","graph-theory","hashset"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1700260281,"post_id":77504906,"comment_id":136636949,"body_markdown":"Check your node objects.  Since your `equals` method calls `Node.equals()`, the problem could be in that method.","body":"Check your node objects.  Since your <code>equals</code> method calls <code>Node.equals()</code>, the problem could be in that method."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":1,"creation_date":1700260769,"post_id":77504906,"comment_id":136636998,"body_markdown":"I don&#39;t remember for sure, but I think `Objects.hash()` returns the hash code for the object identities, not the object contents. I think that&#39;s more likely to result in equivalent objects having different hash codes, so probably not the cause of your problem.","body":"I don&#39;t remember for sure, but I think <code>Objects.hash()</code> returns the hash code for the object identities, not the object contents. I think that&#39;s more likely to result in equivalent objects having different hash codes, so probably not the cause of your problem."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":5,"creation_date":1700263938,"post_id":77504906,"comment_id":136637282,"body_markdown":"This code results in a stackoverflow exception because v1 has v2 as adjacent node and v2 has v1 as adjacent node, and thus the hashCode loops forever. The result you claim (which is all sorts of things, but not a StackoverflowError) __is impossible__. Please fix your question. Generally when posting a self contained test case, I strongly recommend actually running it first. Half the time you&#39;ve answered your own question, and coding is hard - it doesn&#39;t do what you think it does. Given that your real code doesn&#39;t have this hashCode impl, that&#39;s the problem, 99% sure.","body":"This code results in a stackoverflow exception because v1 has v2 as adjacent node and v2 has v1 as adjacent node, and thus the hashCode loops forever. The result you claim (which is all sorts of things, but not a StackoverflowError) <b>is impossible</b>. Please fix your question. Generally when posting a self contained test case, I strongly recommend actually running it first. Half the time you&#39;ve answered your own question, and coding is hard - it doesn&#39;t do what you think it does. Given that your real code doesn&#39;t have this hashCode impl, that&#39;s the problem, 99% sure."},{"owner":{"account_id":9294291,"reputation":9,"user_id":6901762,"display_name":"Kelavandoril"},"score":0,"creation_date":1700265017,"post_id":77504906,"comment_id":136637359,"body_markdown":"@rzwitserloot I updated the code example with a `toString()` in the `Node.java` class. For some reason, not having a `toString()` caused a StackOverflow in the test code I posted. I omitted it in the posted code because @JanezKuhar mentioned to exclude anything unrelated to the issue.","body":"@rzwitserloot I updated the code example with a <code>toString()</code> in the <code>Node.java</code> class. For some reason, not having a <code>toString()</code> caused a StackOverflow in the test code I posted. I omitted it in the posted code because @JanezKuhar mentioned to exclude anything unrelated to the issue."},{"owner":{"account_id":9294291,"reputation":9,"user_id":6901762,"display_name":"Kelavandoril"},"score":0,"creation_date":1700267428,"post_id":77504906,"comment_id":136637575,"body_markdown":"@markspace I set a breakpoint in the `equals()` for `Edge` and `Node` and it didn&#39;t seem to hit it. Doing a debugger evaluation, when `addEdge(n1, n2)` is called for the second time, `n1` is equal to the one already in the edge collection (same for n2) via `Node.equals()`.","body":"@markspace I set a breakpoint in the <code>equals()</code> for <code>Edge</code> and <code>Node</code> and it didn&#39;t seem to hit it. Doing a debugger evaluation, when <code>addEdge(n1, n2)</code> is called for the second time, <code>n1</code> is equal to the one already in the edge collection (same for n2) via <code>Node.equals()</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700270226,"post_id":77504906,"comment_id":136637804,"body_markdown":"For what types of `&lt;T&gt;` in `Node &lt;T&gt;` are you able to duplicate the problem?","body":"For what types of <code>&lt;T&gt;</code> in <code>Node &lt;T&gt;</code> are you able to duplicate the problem?"},{"owner":{"account_id":9294291,"reputation":9,"user_id":6901762,"display_name":"Kelavandoril"},"score":1,"creation_date":1700270841,"post_id":77504906,"comment_id":136637844,"body_markdown":"@OldDogProgrammer I&#39;ve tried `Integer`, `Character`, `String`, `Float`, `Double`, and `Long` getting the same result for each one.","body":"@OldDogProgrammer I&#39;ve tried <code>Integer</code>, <code>Character</code>, <code>String</code>, <code>Float</code>, <code>Double</code>, and <code>Long</code> getting the same result for each one."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1700271936,"post_id":77504906,"comment_id":136637904,"body_markdown":"Each time `graph.addEdge(g1, g2)` is called, the addEdge method calls `addAdjacentNode` on g1 and g2.  This modifies g1 and g2, and modifies their hashCodes, which breaks the HashSets that contain them.","body":"Each time <code>graph.addEdge(g1, g2)</code> is called, the addEdge method calls <code>addAdjacentNode</code> on g1 and g2.  This modifies g1 and g2, and modifies their hashCodes, which breaks the HashSets that contain them."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1700273474,"post_id":77504906,"comment_id":136637979,"body_markdown":"@Kelavandoril as you can see, the toString() __was__ relevant. It&#39;s good to exclude irrelevant things, but generally when you&#39;re asking questions, you are not 100% capable of determining what is and is not relevant. Most of all, don&#39;t say it is a self contained test case without running it to confirm you included all relevant parts. VGR (comment above) found the answer.","body":"@Kelavandoril as you can see, the toString() <b>was</b> relevant. It&#39;s good to exclude irrelevant things, but generally when you&#39;re asking questions, you are not 100% capable of determining what is and is not relevant. Most of all, don&#39;t say it is a self contained test case without running it to confirm you included all relevant parts. VGR (comment above) found the answer."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1700279291,"post_id":77504906,"comment_id":136638246,"body_markdown":"In practice, for the reasons discussed above, you can&#39;t include the adjacent nodes in a Node&#39;s hash code or equals if you structure things this way.","body":"In practice, for the reasons discussed above, you can&#39;t include the adjacent nodes in a Node&#39;s hash code or equals if you structure things this way."}],"owner":{"account_id":9294291,"reputation":9,"user_id":6901762,"display_name":"Kelavandoril"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1700283705,"answer_count":0,"score":-1,"last_activity_date":1700268515,"creation_date":1700259746,"question_id":77504906,"body_markdown":"I&#39;m writing a library for graphs (graph theory) and I&#39;m currently working on an undirected simple graph. As such, I want the edges in a Set since there shouldn&#39;t be any duplicates allowed. \r\n\r\nGraph.java\r\n```\r\npublic class Graph&lt;N extends Node&lt;?&gt;&gt; {\r\n    protected Collection&lt;N&gt; vertices;\r\n    protected Collection&lt;Edge&lt;N&gt;&gt; edges;\r\n\r\n    public Graph() {\r\n        this.vertices = new HashSet&lt;&gt;();\r\n        this.edges = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    public boolean addVertex(N n) {\r\n        return vertices.add(n);\r\n    }\r\n\r\n    public boolean addEdge(N n1, N n2) {\r\n        Edge&lt;N&gt; edge = new Edge&lt;&gt;(n1, n2);\r\n        n1.addAdjacentNode(n2);\r\n        n2.addAdjacentNode(n1);\r\n        return edges.add(edge);\r\n    }\r\n}\r\n```\r\nNode.java\r\n```\r\npublic class Node&lt;T&gt; {\r\n    private T data;\r\n    private Collection&lt;Node&lt;?&gt;&gt; adjacentNodes;\r\n\r\n    public Node(T data) {\r\n        this.data = data;\r\n        adjacentNodes = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    public void addAdjacentNode(Node&lt;?&gt; n) {\r\n        adjacentNodes.add(n);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if(!(o instanceof Node&lt;?&gt; other))\r\n            return false;\r\n\r\n        return other.data.equals(this.data) &amp;&amp; other.adjacentNodes.equals(this.adjacentNodes);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(data, adjacentNodes.toString());\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return data.toString();\r\n    }\r\n}\r\n```\r\nEdge.java\r\n```\r\npublic class Edge&lt;N extends Node&lt;?&gt;&gt; {\r\n\r\n    private N n1;\r\n    private N n2;\r\n\r\n    public Edge(N n1, N n2) {\r\n        this.n1 = n1;\r\n        this.n2 = n2;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if(!(o instanceof Edge&lt;?&gt; other))\r\n            return false;\r\n        return other.n1.equals(this.n1) &amp;&amp; other.n2.equals(this.n2);\r\n    }\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(n1, n2);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI created a unit test that looks like this:\r\n```\r\npublic class TestClass {\r\n    private Graph&lt;Node&lt;Integer&gt;&gt; graph;\r\n    private Node&lt;Integer&gt; g1;\r\n    private Node&lt;Integer&gt; g2;\r\n\r\n    @BeforeEach\r\n    public void setupEach() {\r\n        graph = new Graph&lt;&gt;();\r\n        g1 = new Node&lt;&gt;(1);\r\n        g2 = new Node&lt;&gt;(2);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void addVertex_Duplicates_DoesNotAddThem() {\r\n        assertEquals(0, graph.getVertices().size());\r\n        // Adding g1 twice to test if it appears twice\r\n        graph.addVertex(g1);\r\n        graph.addVertex(g1);\r\n        assertEquals(1, graph.getVertices().size());\r\n        // Adding g2 twice to test if it appears twice\r\n        graph.addVertex(g2);\r\n        graph.addVertex(g2);\r\n        assertEquals(2, graph.getVertices().size());\r\n    }\r\n\r\n    @Test\r\n    public void addEdge_Duplicates_DoesNotAddThem() {\r\n        graph.addVertex(g1);\r\n        graph.addVertex(g2);\r\n        assertEquals(2, graph.getVertices().size());\r\n        assertEquals(0, graph.getEdges().size());\r\n        // Adding two of the same edge to test if it appears twice\r\n        graph.addEdge(g1, g2);\r\n        graph.addEdge(g1, g2);\r\n        assertEquals(1, graph.getEdges().size());\r\n    }\r\n}\r\n```\r\n\r\nThe `addVertex_Duplicates_DoesNotAddThem()` test passes; it does not add two vertices. The `addEdge_Duplicates_DoesNotAddThem()` fails, however. For some reason, the same exact edge is being added into the `HashSet&lt;&gt;`. I did some investigation and found that `HashSet&lt;&gt;` detects duplicates by comparing hashcodes. Thinking for some reason that the hashcodes were somehow different, I then added print statements to output the hashcodes of the nodes in each edge. The hashcodes for the duplicate edges are the same. Just to make sure I wasn&#39;t going crazy, I ran the `equals()` on the edges and it returns `true`. I&#39;m at a loss as to how this is happening.\r\n","title":"Why is a HashSet allowing duplicates even though they&#39;re the same?","body":"<p>I'm writing a library for graphs (graph theory) and I'm currently working on an undirected simple graph. As such, I want the edges in a Set since there shouldn't be any duplicates allowed.</p>\n<p>Graph.java</p>\n<pre><code>public class Graph&lt;N extends Node&lt;?&gt;&gt; {\n    protected Collection&lt;N&gt; vertices;\n    protected Collection&lt;Edge&lt;N&gt;&gt; edges;\n\n    public Graph() {\n        this.vertices = new HashSet&lt;&gt;();\n        this.edges = new HashSet&lt;&gt;();\n    }\n\n    public boolean addVertex(N n) {\n        return vertices.add(n);\n    }\n\n    public boolean addEdge(N n1, N n2) {\n        Edge&lt;N&gt; edge = new Edge&lt;&gt;(n1, n2);\n        n1.addAdjacentNode(n2);\n        n2.addAdjacentNode(n1);\n        return edges.add(edge);\n    }\n}\n</code></pre>\n<p>Node.java</p>\n<pre><code>public class Node&lt;T&gt; {\n    private T data;\n    private Collection&lt;Node&lt;?&gt;&gt; adjacentNodes;\n\n    public Node(T data) {\n        this.data = data;\n        adjacentNodes = new HashSet&lt;&gt;();\n    }\n\n    public void addAdjacentNode(Node&lt;?&gt; n) {\n        adjacentNodes.add(n);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if(!(o instanceof Node&lt;?&gt; other))\n            return false;\n\n        return other.data.equals(this.data) &amp;&amp; other.adjacentNodes.equals(this.adjacentNodes);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(data, adjacentNodes.toString());\n    }\n    @Override\n    public String toString() {\n        return data.toString();\n    }\n}\n</code></pre>\n<p>Edge.java</p>\n<pre><code>public class Edge&lt;N extends Node&lt;?&gt;&gt; {\n\n    private N n1;\n    private N n2;\n\n    public Edge(N n1, N n2) {\n        this.n1 = n1;\n        this.n2 = n2;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if(!(o instanceof Edge&lt;?&gt; other))\n            return false;\n        return other.n1.equals(this.n1) &amp;&amp; other.n2.equals(this.n2);\n    }\n    @Override\n    public int hashCode() {\n        return Objects.hash(n1, n2);\n    }\n}\n</code></pre>\n<p>I created a unit test that looks like this:</p>\n<pre><code>public class TestClass {\n    private Graph&lt;Node&lt;Integer&gt;&gt; graph;\n    private Node&lt;Integer&gt; g1;\n    private Node&lt;Integer&gt; g2;\n\n    @BeforeEach\n    public void setupEach() {\n        graph = new Graph&lt;&gt;();\n        g1 = new Node&lt;&gt;(1);\n        g2 = new Node&lt;&gt;(2);\n    }\n\n\n    @Test\n    public void addVertex_Duplicates_DoesNotAddThem() {\n        assertEquals(0, graph.getVertices().size());\n        // Adding g1 twice to test if it appears twice\n        graph.addVertex(g1);\n        graph.addVertex(g1);\n        assertEquals(1, graph.getVertices().size());\n        // Adding g2 twice to test if it appears twice\n        graph.addVertex(g2);\n        graph.addVertex(g2);\n        assertEquals(2, graph.getVertices().size());\n    }\n\n    @Test\n    public void addEdge_Duplicates_DoesNotAddThem() {\n        graph.addVertex(g1);\n        graph.addVertex(g2);\n        assertEquals(2, graph.getVertices().size());\n        assertEquals(0, graph.getEdges().size());\n        // Adding two of the same edge to test if it appears twice\n        graph.addEdge(g1, g2);\n        graph.addEdge(g1, g2);\n        assertEquals(1, graph.getEdges().size());\n    }\n}\n</code></pre>\n<p>The <code>addVertex_Duplicates_DoesNotAddThem()</code> test passes; it does not add two vertices. The <code>addEdge_Duplicates_DoesNotAddThem()</code> fails, however. For some reason, the same exact edge is being added into the <code>HashSet&lt;&gt;</code>. I did some investigation and found that <code>HashSet&lt;&gt;</code> detects duplicates by comparing hashcodes. Thinking for some reason that the hashcodes were somehow different, I then added print statements to output the hashcodes of the nodes in each edge. The hashcodes for the duplicate edges are the same. Just to make sure I wasn't going crazy, I ran the <code>equals()</code> on the edges and it returns <code>true</code>. I'm at a loss as to how this is happening.</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":29930783,"reputation":11,"user_id":22937686,"display_name":"Risuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700266878,"creation_date":1700266878,"question_id":77505218,"body_markdown":"I&#39;m trying to draw a line between several coordinates in Minecraft, but the line is not displayed in the game, no matter what I do.\r\n\r\n```\r\npackage net.fabricmc.example;\r\n\r\nimport net.minecraft.client.MinecraftClient;\r\nimport net.minecraft.client.render.VertexConsumerProvider;\r\nimport net.minecraft.client.util.math.MatrixStack;\r\nimport net.minecraft.client.render.WorldRenderer;\r\nimport net.minecraft.util.math.Vec3d;\r\nimport net.minecraft.server.command.ServerCommandSource;\r\nimport net.minecraft.client.render.VertexConsumer;\r\nimport net.minecraft.client.render.RenderLayer;\r\nimport net.minecraft.text.LiteralText;\r\n\r\nimport java.util.List;\r\n\r\npublic class LineManager {\r\n\r\n    public static void createLines( List&lt;Vec3d&gt; points, ServerCommandSource source) {\r\n        MinecraftClient.getInstance().execute(() -&gt; renderLines(points, source));\r\n    }\r\n\r\n    private static void renderLines(List&lt;Vec3d&gt; points, ServerCommandSource source) {\r\n        MinecraftClient client = MinecraftClient.getInstance();\r\n        if (client.player == null || client.world == null) {\r\n            return;\r\n        }\r\n\r\n        MatrixStack matrixStack = new MatrixStack();\r\n        matrixStack.translate(-client.player.getX(), -client.player.getY(), -client.player.getZ());\r\n        VertexConsumerProvider.Immediate vertexConsumers = MinecraftClient.getInstance().getBufferBuilders().getEntityVertexConsumers();\r\n\r\n        for (int i = 0; i &lt; points.size() - 1; i++) {\r\n            Vec3d start = points.get(i);\r\n            Vec3d end = points.get(i + 1);\r\n\r\n            VertexConsumer vertexConsumer = vertexConsumers.getBuffer(RenderLayer.getLines());\r\n            matrixStack.push();\r\n            WorldRenderer.drawBox(matrixStack, vertexConsumer, (float) start.x, (float) start.y, (float) start.z, (float) end.x, (float) end.y, (float) end.z, 1.0f, 0.0f, 0.0f, 1.0f);\r\n            matrixStack.pop();\r\n            source.sendFeedback(new LiteralText(String.format(&quot;Point %d: X=%.3f, Y=%.3f, Z=%.3f&quot;, i + 1, start.x, start.y, start.z)), false);\r\n        }\r\n\r\n        vertexConsumers.draw();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve already spent many hours, but I still can&#39;t get the line to render. I&#39;m using fabric 1.18.2. Of course, I have the display of all particles turned on. I tried running the game with Optifine. Someone tell me in which direction to move or point out my error in the code and misunderstanding of any processes","title":"How can I get lines to be drawn in Minecraft 1.18.2?","body":"<p>I'm trying to draw a line between several coordinates in Minecraft, but the line is not displayed in the game, no matter what I do.</p>\n<pre><code>package net.fabricmc.example;\n\nimport net.minecraft.client.MinecraftClient;\nimport net.minecraft.client.render.VertexConsumerProvider;\nimport net.minecraft.client.util.math.MatrixStack;\nimport net.minecraft.client.render.WorldRenderer;\nimport net.minecraft.util.math.Vec3d;\nimport net.minecraft.server.command.ServerCommandSource;\nimport net.minecraft.client.render.VertexConsumer;\nimport net.minecraft.client.render.RenderLayer;\nimport net.minecraft.text.LiteralText;\n\nimport java.util.List;\n\npublic class LineManager {\n\n    public static void createLines( List&lt;Vec3d&gt; points, ServerCommandSource source) {\n        MinecraftClient.getInstance().execute(() -&gt; renderLines(points, source));\n    }\n\n    private static void renderLines(List&lt;Vec3d&gt; points, ServerCommandSource source) {\n        MinecraftClient client = MinecraftClient.getInstance();\n        if (client.player == null || client.world == null) {\n            return;\n        }\n\n        MatrixStack matrixStack = new MatrixStack();\n        matrixStack.translate(-client.player.getX(), -client.player.getY(), -client.player.getZ());\n        VertexConsumerProvider.Immediate vertexConsumers = MinecraftClient.getInstance().getBufferBuilders().getEntityVertexConsumers();\n\n        for (int i = 0; i &lt; points.size() - 1; i++) {\n            Vec3d start = points.get(i);\n            Vec3d end = points.get(i + 1);\n\n            VertexConsumer vertexConsumer = vertexConsumers.getBuffer(RenderLayer.getLines());\n            matrixStack.push();\n            WorldRenderer.drawBox(matrixStack, vertexConsumer, (float) start.x, (float) start.y, (float) start.z, (float) end.x, (float) end.y, (float) end.z, 1.0f, 0.0f, 0.0f, 1.0f);\n            matrixStack.pop();\n            source.sendFeedback(new LiteralText(String.format(&quot;Point %d: X=%.3f, Y=%.3f, Z=%.3f&quot;, i + 1, start.x, start.y, start.z)), false);\n        }\n\n        vertexConsumers.draw();\n    }\n}\n</code></pre>\n<p>I've already spent many hours, but I still can't get the line to render. I'm using fabric 1.18.2. Of course, I have the display of all particles turned on. I tried running the game with Optifine. Someone tell me in which direction to move or point out my error in the code and misunderstanding of any processes</p>\n"},{"tags":["java","android","android-studio","enums"],"answers":[{"tags":[],"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700266155,"creation_date":1700266155,"answer_id":77505195,"question_id":77411693,"body_markdown":"This ended up being a bug in Android Studio. Upgrading to the current release candidate resolved the issue. ","title":"Android project not recognizing enums in library","body":"<p>This ended up being a bug in Android Studio. Upgrading to the current release candidate resolved the issue.</p>\n"}],"owner":{"account_id":1404803,"reputation":573,"user_id":1332811,"display_name":"leros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77505195,"answer_count":1,"score":3,"last_activity_date":1700266155,"creation_date":1698946072,"question_id":77411693,"body_markdown":"I&#39;m consuming a Java library that contains numerous classes and a few enums. I am using this library in an Android project in Android Studio. The classes work just fine, but Android Studio does not recognize the enums. I can&#39;t import them or use them in Java or Kotlin files. I&#39;ve used these enums in a pure Java project in IntelliJ before. \r\n\r\n\r\nWhen I look at the &quot;External Dependencies&quot; in Android Studio and find this library, the classes show as just the class name (e.g. `MyClass`), but these enums include `.class` (e.g. `MyEnum.class`). Not sure if that&#39;s a clue. When I click in, I see the enum file contents just fine. \r\n\r\nSome of my Android project settings:\r\n\r\n - compile SDK = 33\r\n - min SDK = 21\r\n - source/target compatibility Java 1.8\r\n\r\n**Update**\r\n\r\nI found `INFO` level log messages corresponding to these enum classes in the Android Studio logs. \r\n\r\nI obfuscated the package name, but this is the error I&#39;m seeing:\r\n\r\n```\r\nINFO - #c.i.p.i.c.ClassFileStubBuilder - /Users/justin/.gradle/caches/modules-2/files-2.1/com.group/library-name/1.0.2/c5afbe59580f0678d1133deafc1d3d786e039b4b/library-name-1.0.2.jar!/com/group/library-name/FlagValueType.class: /Users/justin/.gradle/caches/modules-2/files-2.1/com.group/library-name/1.0.2/c5afbe59580f0678d1133deafc1d3d786e039b4b/library-name-1.0.2.jar!/com/group/FlagValueType.class: Cannot invoke &quot;String.length()&quot; because &quot;text&quot; is null\r\n\r\n```\r\n\r\nThe error at the end is:\r\n```\r\nCannot invoke &quot;String.length()&quot; because &quot;text&quot; is null\r\n```\r\n\r\nThis error must be preventing Android Studio from parsing this file correctly. ","title":"Android project not recognizing enums in library","body":"<p>I'm consuming a Java library that contains numerous classes and a few enums. I am using this library in an Android project in Android Studio. The classes work just fine, but Android Studio does not recognize the enums. I can't import them or use them in Java or Kotlin files. I've used these enums in a pure Java project in IntelliJ before.</p>\n<p>When I look at the &quot;External Dependencies&quot; in Android Studio and find this library, the classes show as just the class name (e.g. <code>MyClass</code>), but these enums include <code>.class</code> (e.g. <code>MyEnum.class</code>). Not sure if that's a clue. When I click in, I see the enum file contents just fine.</p>\n<p>Some of my Android project settings:</p>\n<ul>\n<li>compile SDK = 33</li>\n<li>min SDK = 21</li>\n<li>source/target compatibility Java 1.8</li>\n</ul>\n<p><strong>Update</strong></p>\n<p>I found <code>INFO</code> level log messages corresponding to these enum classes in the Android Studio logs.</p>\n<p>I obfuscated the package name, but this is the error I'm seeing:</p>\n<pre><code>INFO - #c.i.p.i.c.ClassFileStubBuilder - /Users/justin/.gradle/caches/modules-2/files-2.1/com.group/library-name/1.0.2/c5afbe59580f0678d1133deafc1d3d786e039b4b/library-name-1.0.2.jar!/com/group/library-name/FlagValueType.class: /Users/justin/.gradle/caches/modules-2/files-2.1/com.group/library-name/1.0.2/c5afbe59580f0678d1133deafc1d3d786e039b4b/library-name-1.0.2.jar!/com/group/FlagValueType.class: Cannot invoke &quot;String.length()&quot; because &quot;text&quot; is null\n\n</code></pre>\n<p>The error at the end is:</p>\n<pre><code>Cannot invoke &quot;String.length()&quot; because &quot;text&quot; is null\n</code></pre>\n<p>This error must be preventing Android Studio from parsing this file correctly.</p>\n"},{"tags":["java","maven","selenium","cucumber"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1534093420,"post_id":51810880,"comment_id":90576967,"body_markdown":"Does the problem occur only in IDE or maven install from console reports the same error?","body":"Does the problem occur only in IDE or maven install from console reports the same error?"},{"owner":{"account_id":14127094,"reputation":11,"user_id":10206012,"display_name":"kp1439"},"score":0,"creation_date":1534099474,"post_id":51810880,"comment_id":90578599,"body_markdown":"only in IDE. when i am trying to create the runner file for the cucumber .","body":"only in IDE. when i am trying to create the runner file for the cucumber ."}],"answers":[{"tags":[],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534138028,"creation_date":1534138028,"answer_id":51815682,"question_id":51810880,"body_markdown":"**1. You have added dependency of Cucumber-TestNG So you have to call Runner class with TestNG Runner syntax.**\r\n\r\nSyntax for Cucumber with TestNG:\r\n\r\n    @CucumberOptions(features = &quot;./src/main/java/cfeature&quot;, glue = {&quot;stepd&quot;}, monochrome = true,  plugin = { &quot;pretty&quot;,\t&quot;html:Reports/cucumber-pretty&quot; })\r\n    \r\n    public class runnerDemo extends AbstractTestNGCucumberTests {\t\r\n    \t\r\n    }\r\n\r\n*Its removing Junit annotation @RunWith and extends AbstractTestNGCucumberTests class.*\r\n\r\n**2. If you want to Run cucumber test with Junit, You need to replace Cucumber-testng depency with Cucumber-Junit. And your syntax will work fine.** \r\n\r\n","title":"@RunWith(Cucumber.class) error. The import cucumber.api.junit.Cucumber; cannot be resolved","body":"<p><strong>1. You have added dependency of Cucumber-TestNG So you have to call Runner class with TestNG Runner syntax.</strong></p>\n\n<p>Syntax for Cucumber with TestNG:</p>\n\n<pre><code>@CucumberOptions(features = \"./src/main/java/cfeature\", glue = {\"stepd\"}, monochrome = true,  plugin = { \"pretty\",  \"html:Reports/cucumber-pretty\" })\n\npublic class runnerDemo extends AbstractTestNGCucumberTests {   \n\n}\n</code></pre>\n\n<p><em>Its removing Junit annotation @RunWith and extends AbstractTestNGCucumberTests class.</em></p>\n\n<p><strong>2. If you want to Run cucumber test with Junit, You need to replace Cucumber-testng depency with Cucumber-Junit. And your syntax will work fine.</strong> </p>\n"},{"tags":[],"owner":{"account_id":24310024,"reputation":1,"user_id":18252189,"display_name":"user18252189"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645272429,"creation_date":1645272429,"answer_id":71184839,"question_id":51810880,"body_markdown":"cucumber-core\r\ncucumber-java\r\ncucumber-jUnit\r\nuse 1.2.6 version for all in pom.xml\r\nall these dependencies must be in same version in order to solve this issue\r\n","title":"@RunWith(Cucumber.class) error. The import cucumber.api.junit.Cucumber; cannot be resolved","body":"<p>cucumber-core\ncucumber-java\ncucumber-jUnit\nuse 1.2.6 version for all in pom.xml\nall these dependencies must be in same version in order to solve this issue</p>\n"}],"owner":{"account_id":14127094,"reputation":11,"user_id":10206012,"display_name":"kp1439"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700266000,"creation_date":1534092577,"question_id":51810880,"body_markdown":"I am having this issue on all the cucumber runner files. Using the following dependencies in `pom.xml`. Any help will be appreciated. \r\n\r\nI tried a clean and force update the project and restarted the IDE, \r\ndeleted repository folder in `.M2` and then clean and force update the projects but it is still not working.\r\n\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-core --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-html --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\r\n    &lt;version&gt;0.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-jvm-deps --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/gherkin --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-picocontainer --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- Extent Reports --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n    &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.freemarker/freemarker --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.26-incubating&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n    &lt;version&gt;3.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"@RunWith(Cucumber.class) error. The import cucumber.api.junit.Cucumber; cannot be resolved","body":"<p>I am having this issue on all the cucumber runner files. Using the following dependencies in <code>pom.xml</code>. Any help will be appreciated. </p>\n\n<p>I tried a clean and force update the project and restarted the IDE, \ndeleted repository folder in <code>.M2</code> and then clean and force update the projects but it is still not working.</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-core --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;info.cukes&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n&lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-html --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;info.cukes&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\n&lt;version&gt;0.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;info.cukes&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n&lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-jvm-deps --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;info.cukes&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n&lt;version&gt;1.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/gherkin --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;info.cukes&lt;/groupId&gt;\n&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n&lt;version&gt;2.12.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n&lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n&lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-picocontainer --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;info.cukes&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n&lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;info.cukes&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n&lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Extent Reports --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n&lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.freemarker/freemarker --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n&lt;version&gt;2.3.26-incubating&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n&lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\n&lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","netbeans","compilation"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1437976795,"post_id":31645827,"comment_id":51238022,"body_markdown":"I think that would be a maven setting...","body":"I think that would be a maven setting..."},{"owner":{"account_id":4153202,"reputation":619,"user_id":3405069,"accept_rate":38,"display_name":"NSGodMode"},"score":0,"creation_date":1437977062,"post_id":31645827,"comment_id":51238135,"body_markdown":"@MadProgrammer do you know how to do it? Or is there a way to do it with command prompt using javac?","body":"@MadProgrammer do you know how to do it? Or is there a way to do it with command prompt using javac?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1437977121,"post_id":31645827,"comment_id":51238146,"body_markdown":"Right click the project node, select `Clean and Build`.  They classes are generated in the `target/classes` directory of your project.  You really, really want to avoid having them generated in your source directory as this can generate contamination as the files are not removed between builds","body":"Right click the project node, select <code>Clean and Build</code>.  They classes are generated in the <code>target&#47;classes</code> directory of your project.  You really, really want to avoid having them generated in your source directory as this can generate contamination as the files are not removed between builds"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1437977172,"post_id":31645827,"comment_id":51238162,"body_markdown":"You&#39;re using a Maven based project, which is a dependency and and build system, you will want to keep using it to make sure that code is generated correctly","body":"You&#39;re using a Maven based project, which is a dependency and and build system, you will want to keep using it to make sure that code is generated correctly"}],"answers":[{"comments":[{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":1,"creation_date":1495728206,"post_id":44184689,"comment_id":75383839,"body_markdown":"This doesn&#39;t answer the question. He is trying to determine how to compile the java files into class files, not find where they are located after building.","body":"This doesn&#39;t answer the question. He is trying to determine how to compile the java files into class files, not find where they are located after building."}],"tags":[],"owner":{"account_id":10977980,"reputation":1,"user_id":8066097,"display_name":"jerin mathew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495727392,"creation_date":1495727392,"answer_id":44184689,"question_id":31645827,"body_markdown":"sir, please follow this steps...\r\nsearch for NetBeansProjects folder&gt;&gt;double click on project folder&gt;&gt;double click on build folder&gt;&gt;double click on classes folder&gt;&gt; Hear you can find .class files\r\nthanks...","title":"How to generate .class files in Netbeans","body":"<p>sir, please follow this steps...\nsearch for NetBeansProjects folder>>double click on project folder>>double click on build folder>>double click on classes folder>> Hear you can find .class files\nthanks...</p>\n"},{"tags":[],"owner":{"account_id":14112103,"reputation":1,"user_id":10194651,"display_name":"Juan Sanchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533695616,"creation_date":1533692239,"answer_id":51737472,"question_id":31645827,"body_markdown":"You can find the class files in the class folder inside of the build folder of your project. Go to your project&#39;s folder. You can get the Project&#39;s directory doing right click on the Project and then going to properties. Once you get the location, go into the folder and find the build folder. Look for the classes folder and click it. If your code is in a package, find the folder with the name of the package then inside of that folder, you should have the class files. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4SZYd.png","title":"How to generate .class files in Netbeans","body":"<p>You can find the class files in the class folder inside of the build folder of your project. Go to your project's folder. You can get the Project's directory doing right click on the Project and then going to properties. Once you get the location, go into the folder and find the build folder. Look for the classes folder and click it. If your code is in a package, find the folder with the name of the package then inside of that folder, you should have the class files. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4SZYd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4SZYd.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4153202,"reputation":619,"user_id":3405069,"accept_rate":38,"display_name":"NSGodMode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700266000,"creation_date":1437976544,"question_id":31645827,"body_markdown":"I need all these .java files to be compiled to .class files. so wherever a .java file is, i need to have their .class files generated there. How can i do it with netbeans.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lF7fs.png\r\n\r\n\r\nI just wanted to compile all these as i do in command prompt using javac. Please help. I need .class files for an assignment related to software metrics.","title":"How to generate .class files in Netbeans","body":"<p>I need all these .java files to be compiled to .class files. so wherever a .java file is, i need to have their .class files generated there. How can i do it with netbeans.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lF7fs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lF7fs.png\" alt=\"enter image description here\"></a></p>\n\n<p>I just wanted to compile all these as i do in command prompt using javac. Please help. I need .class files for an assignment related to software metrics.</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1435857541,"post_id":31190794,"comment_id":50386633,"body_markdown":"`nested exception is java.lang.NoSuchMethodError: org.springframework.data.util.ClassTypeInformation.from(Ljava/lang/Class;)Lorg/springframework/data/util/ClassTypeInformation;`\n\nYou aren&#39;t including a jar that has that class in it. Usually a version mismatch.","body":"<code>nested exception is java.lang.NoSuchMethodError: org.springframework.data.util.ClassTypeInformation.from(Ljav&zwnj;&#8203;a&#47;lang&#47;Class;)Lorg&#47;s&zwnj;&#8203;pringframework&#47;data&#47;&zwnj;&#8203;util&#47;ClassTypeInform&zwnj;&#8203;ation;</code>  You aren&#39;t including a jar that has that class in it. Usually a version mismatch."}],"answers":[{"comments":[{"owner":{"account_id":2567595,"reputation":11,"user_id":2227213,"display_name":"MegaStar50CroreHouse"},"score":0,"creation_date":1436022210,"post_id":31190919,"comment_id":50443973,"body_markdown":"i have the following in my pom.xml  still getiting the same error what are the right versions to work? &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.7.1.RELEASE&lt;/version&gt;\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;       &lt;artifactId&gt;spring-data-commons-core&lt;/artifactId&gt;\n\t       &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n\t\t\t&lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.7.1.RELEASE&lt;/version&gt;","body":"i have the following in my pom.xml  still getiting the same error what are the right versions to work? &lt;artifactId&gt;spring-core&lt;/artifactId&gt; \t\t\t&lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\t\t\t&lt;artifactId&gt;spring-dat&zwnj;&#8203;a-mongodb&lt;/artifactI&zwnj;&#8203;d&gt; \t\t\t&lt;version&gt;1.7.1.RELEASE&lt;/version&gt;\t\t&lt;artifactId&gt;spring-cont&zwnj;&#8203;ext&lt;/artifactId&gt;       &lt;artifactId&gt;spring-data-commons-core&lt;/artifactId&gt; \t       &lt;version&gt;1.4.1.RELEASE&lt;/version&gt; \t\t\t&lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\t\t\t&lt;artifactId&gt;mongo-java&zwnj;&#8203;-driver&lt;/artifactId&gt; \t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\t\t\t&lt;artifactId&gt;spring-data-mongod&zwnj;&#8203;b&lt;/artifactId&gt; \t\t\t&lt;version&gt;1.7.1.RELEASE&lt;/version&gt;"}],"tags":[],"owner":{"account_id":405157,"reputation":1298,"user_id":773883,"accept_rate":61,"display_name":"Amm Sokun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435857882,"creation_date":1435857882,"answer_id":31190919,"question_id":31190794,"body_markdown":"Check if you have the correct jar in your class path.\r\nYou would need spring-data-commons-core jar, here is the latest version:\r\nhttp://mvnrepository.com/artifact/org.springframework.data/spring-data-commons-core/1.4.1.RELEASE","title":"Error creating bean with name &#39;mongoTemplate&#39;","body":"<p>Check if you have the correct jar in your class path.\nYou would need spring-data-commons-core jar, here is the latest version:\n<a href=\"http://mvnrepository.com/artifact/org.springframework.data/spring-data-commons-core/1.4.1.RELEASE\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.springframework.data/spring-data-commons-core/1.4.1.RELEASE</a></p>\n"},{"tags":[],"owner":{"account_id":24297292,"reputation":1,"user_id":18241312,"display_name":"user18241312"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645168462,"creation_date":1645168462,"answer_id":71169626,"question_id":31190794,"body_markdown":"If the user name and password of your monogodb are empty, comment it out in the configuration file and debug it again.","title":"Error creating bean with name &#39;mongoTemplate&#39;","body":"<p>If the user name and password of your monogodb are empty, comment it out in the configuration file and debug it again.</p>\n"}],"owner":{"account_id":2567595,"reputation":11,"user_id":2227213,"display_name":"MegaStar50CroreHouse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700266000,"creation_date":1435857360,"question_id":31190794,"body_markdown":"&gt;org.springframework.beans.factory.BeanCreationException: Error creating     bean with name &#39;mongoTemplate&#39; \r\ndefined in class com.socketcruiter.config.SpringMongoConfig: Instantiation of bean failed; \r\nnested exception is org.springframework.beans.factory.BeanDefinitionStoreException: \r\nFactory method [public org.springframework.data.mongodb.core.MongoTemplate org.springframework.data.mongodb.config.AbstractMongoConfiguration.mongoTemplate() \r\nthrows java.lang.Exception] threw exception; nested exception is org.springframework.beans.factory.BeanCreationException:\r\n Error creating bean with name &#39;mappingMongoConverter&#39; defined in class com.socketcruiter.config.SpringMongoConfig: \r\n Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: \r\n Factory method [public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoConfiguration.mappingMongoConverter() \r\n throws java.lang.Exception] threw exception; nested exception is java.lang.NoSuchMethodError: \r\n org.springframework.data.util.ClassTypeInformation.from(Ljava/lang/Class;)Lorg/springframework/data/util/ClassTypeInformation;\r\n\r\n\r\ni have the following config\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\r\n\r\n\t&lt;mongo:mongo host=&quot;127.0.0.1&quot; port=&quot;27017&quot; /&gt;\r\n\t&lt;mongo:db-factory dbname=&quot;ssss&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;mongoDbFactory&quot; ref=&quot;mongoDbFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nand im using \r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Error creating bean with name &#39;mongoTemplate&#39;","body":"<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating     bean with name 'mongoTemplate' \n  defined in class com.socketcruiter.config.SpringMongoConfig: Instantiation of bean failed; \n  nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: \n  Factory method [public org.springframework.data.mongodb.core.MongoTemplate org.springframework.data.mongodb.config.AbstractMongoConfiguration.mongoTemplate() \n  throws java.lang.Exception] threw exception; nested exception is org.springframework.beans.factory.BeanCreationException:\n   Error creating bean with name 'mappingMongoConverter' defined in class com.socketcruiter.config.SpringMongoConfig: \n   Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: \n   Factory method [public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoConfiguration.mappingMongoConverter() \n   throws java.lang.Exception] threw exception; nested exception is java.lang.NoSuchMethodError: \n   org.springframework.data.util.ClassTypeInformation.from(Ljava/lang/Class;)Lorg/springframework/data/util/ClassTypeInformation;</p>\n</blockquote>\n\n<p>i have the following config\n    \n\n<pre><code>&lt;mongo:mongo host=\"127.0.0.1\" port=\"27017\" /&gt;\n&lt;mongo:db-factory dbname=\"ssss\" /&gt;\n\n&lt;bean id=\"mongoTemplate\" class=\"org.springframework.data.mongodb.core.MongoTemplate\"&gt;\n    &lt;constructor-arg name=\"mongoDbFactory\" ref=\"mongoDbFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and im using \n    \n            org.springframework.data\n            spring-data-mongodb\n            1.7.1.RELEASE\n        </p>\n"},{"tags":["java","arrays","json","parsing","nested"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700266077,"post_id":77505020,"comment_id":136637468,"body_markdown":"As written, your question is basically asking how to parse JSON in Java, something that has been asked and answered many times previously. Instead, consider showing what you&#39;ve done, and using that to help make the question more informative, specific, and helpful to future visitors. The [ask] and [tour] links can help you to improve the question as well and are worthwhile reads.","body":"As written, your question is basically asking how to parse JSON in Java, something that has been asked and answered many times previously. Instead, consider showing what you&#39;ve done, and using that to help make the question more informative, specific, and helpful to future visitors. The <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> links can help you to improve the question as well and are worthwhile reads."}],"owner":{"account_id":27095186,"reputation":1,"user_id":20642491,"display_name":"cyriac effanga"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1700265189,"answer_count":0,"score":-3,"last_activity_date":1700265938,"creation_date":1700262262,"question_id":77505020,"body_markdown":"I need to get specific value from nested json (&quot;main&quot;:Clouds)\r\n\r\nusing json simple library.\r\n\r\nbut its seems like nestedjson with  nested jsonarray and i found very difficult to parse out some values\r\n\r\n```lang-json\r\n{\r\n  &quot;coord&quot;: { &quot;lon&quot;: 14, &quot;lat&quot;: 49 },\r\n  &quot;weather&quot;: [\r\n    {\r\n      &quot;id&quot;: 804,\r\n      &quot;main&quot;: &quot;Clouds&quot;,\r\n      &quot;description&quot;: &quot;overcast clouds&quot;,\r\n      &quot;icon&quot;: &quot;04n&quot;\r\n    }\r\n  ],\r\n  &quot;base&quot;: &quot;stations&quot;,\r\n  &quot;main&quot;: {\r\n    &quot;temp&quot;: 2.68,\r\n    &quot;feels_like&quot;: -0.48,\r\n    &quot;temp_min&quot;: 0.63,\r\n    &quot;temp_max&quot;: 3.57,\r\n    &quot;pressure&quot;: 1021,\r\n    &quot;humidity&quot;: 83,\r\n    &quot;sea_level&quot;: 1021,\r\n    &quot;grnd_level&quot;: 942\r\n  },\r\n  &quot;visibility&quot;: 10000,\r\n  &quot;wind&quot;: { &quot;speed&quot;: 3.25, &quot;deg&quot;: 296, &quot;gust&quot;: 9.1 },\r\n  &quot;clouds&quot;: { &quot;all&quot;: 100 },\r\n  &quot;dt&quot;: 1700236823,\r\n  &quot;sys&quot;: {\r\n    &quot;type&quot;: 2,\r\n    &quot;id&quot;: 2001456,\r\n    &quot;country&quot;: &quot;CZ&quot;,\r\n    &quot;sunrise&quot;: 1700201758,\r\n    &quot;sunset&quot;: 1700234523\r\n  },\r\n  &quot;timezone&quot;: 3600,\r\n  &quot;id&quot;: 3067713,\r\n  &quot;name&quot;: &quot;Prachatice&quot;,\r\n  &quot;cod&quot;: 200\r\n}\r\n```\r\n\r\ni need to parse out of json nested jsonarray  spesific vaulue (&quot;main&quot;:Clouds)","title":"nested json json array to parse out","body":"<p>I need to get specific value from nested json (&quot;main&quot;:Clouds)</p>\n<p>using json simple library.</p>\n<p>but its seems like nestedjson with  nested jsonarray and i found very difficult to parse out some values</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;coord&quot;: { &quot;lon&quot;: 14, &quot;lat&quot;: 49 },\n  &quot;weather&quot;: [\n    {\n      &quot;id&quot;: 804,\n      &quot;main&quot;: &quot;Clouds&quot;,\n      &quot;description&quot;: &quot;overcast clouds&quot;,\n      &quot;icon&quot;: &quot;04n&quot;\n    }\n  ],\n  &quot;base&quot;: &quot;stations&quot;,\n  &quot;main&quot;: {\n    &quot;temp&quot;: 2.68,\n    &quot;feels_like&quot;: -0.48,\n    &quot;temp_min&quot;: 0.63,\n    &quot;temp_max&quot;: 3.57,\n    &quot;pressure&quot;: 1021,\n    &quot;humidity&quot;: 83,\n    &quot;sea_level&quot;: 1021,\n    &quot;grnd_level&quot;: 942\n  },\n  &quot;visibility&quot;: 10000,\n  &quot;wind&quot;: { &quot;speed&quot;: 3.25, &quot;deg&quot;: 296, &quot;gust&quot;: 9.1 },\n  &quot;clouds&quot;: { &quot;all&quot;: 100 },\n  &quot;dt&quot;: 1700236823,\n  &quot;sys&quot;: {\n    &quot;type&quot;: 2,\n    &quot;id&quot;: 2001456,\n    &quot;country&quot;: &quot;CZ&quot;,\n    &quot;sunrise&quot;: 1700201758,\n    &quot;sunset&quot;: 1700234523\n  },\n  &quot;timezone&quot;: 3600,\n  &quot;id&quot;: 3067713,\n  &quot;name&quot;: &quot;Prachatice&quot;,\n  &quot;cod&quot;: 200\n}\n</code></pre>\n<p>i need to parse out of json nested jsonarray  spesific vaulue (&quot;main&quot;:Clouds)</p>\n"},{"tags":["java","javadoc"],"owner":{"account_id":29927712,"reputation":11,"user_id":22935370,"display_name":"RTAGLIA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700265416,"creation_date":1700232952,"question_id":77502577,"body_markdown":"In the [new Javadoc api][1] `jdk.javadoc.doclet.*`, I cannot find a way to change the Javadoc comment. I want to change only few things in the comment and parameter method through a custom doclet. I do not want to change the whole process of generating HTML files that must remain.\r\n\r\nI tried something like this, but it depends on the previous Javadoc API `com.sun.source.doctree.*`\r\n\r\n```java\r\nprivate void modifyJavadocComment(MethodDoc method, String newComment) \r\n{\r\n    // Create a modified Javadoc comment and set it for the method\r\n    String modifiedComment = &quot;/**\\n * &quot; + newComment + &quot;\\n */&quot;;\r\n    method.setRawCommentText(modifiedComment);\r\n}\r\n```\r\n\r\nIt seems that `setRawCommentText()` does not exist in the new javadoc API. Can you publish some tutorial how to do it in the new API if existing?\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/221","title":"With the new Javadoc API, is it possible to update the javadoc comment by a custom doclet?","body":"<p>In the <a href=\"https://openjdk.org/jeps/221\" rel=\"nofollow noreferrer\">new Javadoc api</a> <code>jdk.javadoc.doclet.*</code>, I cannot find a way to change the Javadoc comment. I want to change only few things in the comment and parameter method through a custom doclet. I do not want to change the whole process of generating HTML files that must remain.</p>\n<p>I tried something like this, but it depends on the previous Javadoc API <code>com.sun.source.doctree.*</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void modifyJavadocComment(MethodDoc method, String newComment) \n{\n    // Create a modified Javadoc comment and set it for the method\n    String modifiedComment = &quot;/**\\n * &quot; + newComment + &quot;\\n */&quot;;\n    method.setRawCommentText(modifiedComment);\n}\n</code></pre>\n<p>It seems that <code>setRawCommentText()</code> does not exist in the new javadoc API. Can you publish some tutorial how to do it in the new API if existing?</p>\n"},{"tags":["java","android","kotlin","service","notifications"],"comments":[{"owner":{"account_id":23128584,"reputation":85,"user_id":17234028,"display_name":"Daniel Hern&#225;ndez"},"score":0,"creation_date":1700264534,"post_id":77504997,"comment_id":136637322,"body_markdown":"Have you tried [registering an application class in your manifest](https://stackoverflow.com/questions/2929562/register-application-class-in-manifest)? Maybe that helps","body":"Have you tried <a href=\"https://stackoverflow.com/questions/2929562/register-application-class-in-manifest\">registering an application class in your manifest</a>? Maybe that helps"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1700265024,"post_id":77504997,"comment_id":136637360,"body_markdown":"Like starting service inside applicatio class ? if so yeah i did but no effect","body":"Like starting service inside applicatio class ? if so yeah i did but no effect"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1700268645,"post_id":77504997,"comment_id":136637680,"body_markdown":"Installed apps are installed into a force stopped state.  They need to be manually run to be launched for a first time.  That requires an Activity.  The Activity doesn&#39;t need to do anything, but it needs to be run once.","body":"Installed apps are installed into a force stopped state.  They need to be manually run to be launched for a first time.  That requires an Activity.  The Activity doesn&#39;t need to do anything, but it needs to be run once."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700265209,"creation_date":1700265209,"answer_id":77505151,"question_id":77504997,"body_markdown":"You have several problems.\r\n\r\nFirst, while you have `&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;`, that is a runtime permission. On Android 13 and higher, you need to [request it at runtime](https://developer.android.com/training/permissions/requesting). That, in turn, will require an activity.\r\n\r\nSecond, you have:\r\n\r\n```\r\n       &lt;service android:name=&quot;.NetworkService&quot;\r\n           android:exported=&quot;true&quot;\r\n           android:enabled=&quot;true&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n               &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n               &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n               &lt;action android:name=&quot;com.example.action.START_FOREGROUND_SERVICE&quot; /&gt;\r\n           &lt;/intent-filter&gt;\r\n       &lt;/service&gt;\r\n```\r\n\r\nIt appears that you copied part of that `&lt;intent-filter&gt;` from an `&lt;activity&gt;` element. `&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;` in conjunction with `&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;` is used with activities, specifically those that should appear in the launcher. If you are expecting those lines to cause your service to run, you will be disappointed.\r\n\r\nThird, your service has:\r\n\r\n```java\r\n      Intent notificationIntent = new Intent(this, MainActivity.class);\r\n      PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n```\r\n\r\nThat points to an activity that you do not have.\r\n\r\nFourth, you have:\r\n\r\n```xml\r\n       &lt;receiver android:name=&quot;.NetworkChangeReceiver&quot;\r\n           android:exported=&quot;true&quot;\r\n           android:enabled=&quot;true&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n               &lt;action android:name=&quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n       &lt;/receiver&gt;\r\n```\r\n\r\nBroadcasts using an implicit `Intent`, such as just an action string, have largely been banned for several years. It is unclear what code will use an explicit `Intent` that would trigger your receiver.\r\n\r\n&gt; i need to trigger a simple notification without needing a launcher activity so basically an app without activity\r\n\r\nUnless you are:\r\n\r\n- Building your own hardware, or\r\n- Building your own Android firmware to install on some hardware, or\r\n- Are serving as a plugin for some other app, using some SDK that they supply\r\n\r\n...then your code will never run. And in those first two cases, you would need code or configuration elsewhere to arrange for your code to run.","title":"Starting a service without having a launcher activity in android","body":"<p>You have several problems.</p>\n<p>First, while you have <code>&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;</code>, that is a runtime permission. On Android 13 and higher, you need to <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">request it at runtime</a>. That, in turn, will require an activity.</p>\n<p>Second, you have:</p>\n<pre><code>       &lt;service android:name=&quot;.NetworkService&quot;\n           android:exported=&quot;true&quot;\n           android:enabled=&quot;true&quot;&gt;\n           &lt;intent-filter&gt;\n               &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n               &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n               &lt;action android:name=&quot;com.example.action.START_FOREGROUND_SERVICE&quot; /&gt;\n           &lt;/intent-filter&gt;\n       &lt;/service&gt;\n</code></pre>\n<p>It appears that you copied part of that <code>&lt;intent-filter&gt;</code> from an <code>&lt;activity&gt;</code> element. <code>&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;</code> in conjunction with <code>&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;</code> is used with activities, specifically those that should appear in the launcher. If you are expecting those lines to cause your service to run, you will be disappointed.</p>\n<p>Third, your service has:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      Intent notificationIntent = new Intent(this, MainActivity.class);\n      PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>That points to an activity that you do not have.</p>\n<p>Fourth, you have:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>       &lt;receiver android:name=&quot;.NetworkChangeReceiver&quot;\n           android:exported=&quot;true&quot;\n           android:enabled=&quot;true&quot;&gt;\n           &lt;intent-filter&gt;\n               &lt;action android:name=&quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;/&gt;\n           &lt;/intent-filter&gt;\n       &lt;/receiver&gt;\n</code></pre>\n<p>Broadcasts using an implicit <code>Intent</code>, such as just an action string, have largely been banned for several years. It is unclear what code will use an explicit <code>Intent</code> that would trigger your receiver.</p>\n<blockquote>\n<p>i need to trigger a simple notification without needing a launcher activity so basically an app without activity</p>\n</blockquote>\n<p>Unless you are:</p>\n<ul>\n<li>Building your own hardware, or</li>\n<li>Building your own Android firmware to install on some hardware, or</li>\n<li>Are serving as a plugin for some other app, using some SDK that they supply</li>\n</ul>\n<p>...then your code will never run. And in those first two cases, you would need code or configuration elsewhere to arrange for your code to run.</p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700265209,"creation_date":1700261704,"question_id":77504997,"body_markdown":"I have service where i need to trigger a simple notification without needing a launcher activity so basically an app without activity , but for some reason it is not working cause i also tried to run service from terminal it did not work , is there any to make this work , Thank you\r\n\r\n\r\n * This is my Service\r\n\r\n  ```\r\n\r\npublic class NetworkService extends android.app.Service {\r\n    \r\n    private NotificationManager notificationManager;\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        showNetworkChangeNotification();\r\n\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n    \r\n    private void showNetworkChangeNotification() {\r\n        notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;network_change_channel&quot;, &quot;Network Change Channel&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n\r\n        RemoteViews remoteViews = new RemoteViews(getPackageName(),R.layout.custom_ui_layout);\r\n        remoteViews.setTextViewText(R.id.text,&quot;This is a testing text&quot;);\r\n\r\n        \r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;network_change_channel&quot;)\r\n                .setContentTitle(&quot;Network &quot;)\r\n                .setContentText(&quot;Sample&quot;)\r\n                .setSmallIcon(R.drawable.baseline_circle_notifications_24)\r\n                .setContentIntent(pendingIntent)\r\n                .setContent(remoteViews)\r\n                .addAction(R.drawable.baseline_circle_notifications_24, &quot;Reset&quot;, getCancelPendingIntent())\r\n                .setAutoCancel(true);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            startForeground(1, notificationBuilder.build());\r\n        } else {\r\n            notificationManager.notify(1, notificationBuilder.build());\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    private PendingIntent getCancelPendingIntent() {\r\n        Intent intent = new Intent(this, NetworkChangeReceiver.class);\r\n        intent.setAction(&quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;);\r\n        return PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n    }\r\n    \r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        notificationManager.cancel(1);\r\n        stopSelf();\r\n    }\r\n}\r\n\r\n  ```\r\n\r\n  * This is my receiver\r\n\r\n ```\r\n\r\npublic class NetworkChangeReceiver extends BroadcastReceiver {\r\n    private TelephonyManager telephonyManager;\r\n    private NotificationManager notificationManager;\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Intent serviceIntent = new Intent(context, NetworkService.class);\r\n        if (intent != null &amp;&amp; &quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;.equals(intent.getAction())) {\r\n            Toast.makeText(context,&quot;Reset Clicked&quot;,Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n ```\r\n\r\n   * This is my Manifest File\r\n\r\n ```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.BaseApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.WidgetJava&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        \r\n\r\n        &lt;service android:name=&quot;.NetworkService&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:enabled=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;action android:name=&quot;com.example.action.START_FOREGROUND_SERVICE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;receiver android:name=&quot;.NetworkChangeReceiver&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:enabled=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n ```\r\n\r\n   * This is a screenshot from terminal ( it says service started but\r\n    nothing happens cause notification is supposed to fire up )\r\n    \r\n   [![enter image description here][1]][1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7m1ct.png","title":"Starting a service without having a launcher activity in android","body":"<p>I have service where i need to trigger a simple notification without needing a launcher activity so basically an app without activity , but for some reason it is not working cause i also tried to run service from terminal it did not work , is there any to make this work , Thank you</p>\n<ul>\n<li>This is my Service</li>\n</ul>\n<pre><code>\npublic class NetworkService extends android.app.Service {\n  \n  private NotificationManager notificationManager;\n  @Override\n  public void onCreate() {\n      super.onCreate();\n      showNetworkChangeNotification();\n\n  }\n\n  @Override\n  public IBinder onBind(Intent intent) {\n      return null;\n  }\n  \n  private void showNetworkChangeNotification() {\n      notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n          NotificationChannel channel = new NotificationChannel(&quot;network_change_channel&quot;, &quot;Network Change Channel&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n          notificationManager.createNotificationChannel(channel);\n      }\n\n      RemoteViews remoteViews = new RemoteViews(getPackageName(),R.layout.custom_ui_layout);\n      remoteViews.setTextViewText(R.id.text,&quot;This is a testing text&quot;);\n\n      \n      Intent notificationIntent = new Intent(this, MainActivity.class);\n      PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\n\n      NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;network_change_channel&quot;)\n              .setContentTitle(&quot;Network &quot;)\n              .setContentText(&quot;Sample&quot;)\n              .setSmallIcon(R.drawable.baseline_circle_notifications_24)\n              .setContentIntent(pendingIntent)\n              .setContent(remoteViews)\n              .addAction(R.drawable.baseline_circle_notifications_24, &quot;Reset&quot;, getCancelPendingIntent())\n              .setAutoCancel(true);\n\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n          startForeground(1, notificationBuilder.build());\n      } else {\n          notificationManager.notify(1, notificationBuilder.build());\n      }\n\n\n\n  }\n\n  private PendingIntent getCancelPendingIntent() {\n      Intent intent = new Intent(this, NetworkChangeReceiver.class);\n      intent.setAction(&quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;);\n      return PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n  }\n  \n\n  @Override\n  public void onDestroy() {\n      super.onDestroy();\n      notificationManager.cancel(1);\n      stopSelf();\n  }\n}\n\n</code></pre>\n<ul>\n<li>This is my receiver</li>\n</ul>\n<pre><code>\npublic class NetworkChangeReceiver extends BroadcastReceiver {\n   private TelephonyManager telephonyManager;\n   private NotificationManager notificationManager;\n   @SuppressLint(&quot;MissingPermission&quot;)\n   @Override\n   public void onReceive(Context context, Intent intent) {\n       Intent serviceIntent = new Intent(context, NetworkService.class);\n       if (intent != null &amp;&amp; &quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;.equals(intent.getAction())) {\n           Toast.makeText(context,&quot;Reset Clicked&quot;,Toast.LENGTH_LONG).show();\n       }\n   }\n\n}\n\n</code></pre>\n<ul>\n<li>This is my Manifest File</li>\n</ul>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n   \n\n   &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n\n   &lt;application\n       android:name=&quot;.BaseApplication&quot;\n       android:allowBackup=&quot;true&quot;\n       android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n       android:fullBackupContent=&quot;@xml/backup_rules&quot;\n       android:icon=&quot;@mipmap/ic_launcher&quot;\n       android:label=&quot;@string/app_name&quot;\n       android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n       android:supportsRtl=&quot;true&quot;\n       android:theme=&quot;@style/Theme.WidgetJava&quot;\n       tools:targetApi=&quot;31&quot;&gt;\n       \n\n       &lt;service android:name=&quot;.NetworkService&quot;\n           android:exported=&quot;true&quot;\n           android:enabled=&quot;true&quot;&gt;\n           &lt;intent-filter&gt;\n               &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n               &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n               &lt;action android:name=&quot;com.example.action.START_FOREGROUND_SERVICE&quot; /&gt;\n           &lt;/intent-filter&gt;\n       &lt;/service&gt;\n\n       &lt;receiver android:name=&quot;.NetworkChangeReceiver&quot;\n           android:exported=&quot;true&quot;\n           android:enabled=&quot;true&quot;&gt;\n           &lt;intent-filter&gt;\n               &lt;action android:name=&quot;com.z.widgets.networkChangeReceiver.actionCancelNotification&quot;/&gt;\n           &lt;/intent-filter&gt;\n       &lt;/receiver&gt;\n\n\n   &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<ul>\n<li>This is a screenshot from terminal ( it says service started but\nnothing happens cause notification is supposed to fire up )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/7m1ct.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7m1ct.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":9,"creation_date":1700246559,"post_id":77503951,"comment_id":136635150,"body_markdown":"It&#39;s not incrementing, it&#39;s just printing the current value of `count` in that specific call-frame. I suggest you use a [*debugger*](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems) to step through the code, step into the recursive calls, and see what really happens.","body":"It&#39;s not incrementing, it&#39;s just printing the current value of <code>count</code> in that specific call-frame. I suggest you use a <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\"><i>debugger</i></a> to step through the code, step into the recursive calls, and see what really happens."},{"owner":{"account_id":9363170,"reputation":1307,"user_id":6948900,"display_name":"Mikhail Antonov"},"score":0,"creation_date":1700246563,"post_id":77503951,"comment_id":136635151,"body_markdown":"First you get deeper and print decrementing numbers with each iteration. Then it goes back the call stack, continues function execution after the recursion point, and prints the &quot;original&quot; values of the parameter in reverse order","body":"First you get deeper and print decrementing numbers with each iteration. Then it goes back the call stack, continues function execution after the recursion point, and prints the &quot;original&quot; values of the parameter in reverse order"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1700246694,"post_id":77503951,"comment_id":136635171,"body_markdown":"The value of `count` itself never changes, and each call to the method outputs the value twice.  *Between* those outputs is another call to the same method, which passes a value of one less than `count`.  In *that* method call, its own `count` never changes and outputs twice.  And so on.","body":"The value of <code>count</code> itself never changes, and each call to the method outputs the value twice.  <i>Between</i> those outputs is another call to the same method, which passes a value of one less than <code>count</code>.  In <i>that</i> method call, its own <code>count</code> never changes and outputs twice.  And so on."},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1700246808,"post_id":77503951,"comment_id":136635187,"body_markdown":"The thing to keep in mind here is `sayHi` is invoked a total of 5 times, and each invocation will have its own independent `count` variable.","body":"The thing to keep in mind here is <code>sayHi</code> is invoked a total of 5 times, and each invocation will have its own independent <code>count</code> variable."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1700246865,"post_id":77503951,"comment_id":136635200,"body_markdown":"Remember that variables don&#39;t change unless you assign them.  `sayHi(count - 1)` does not change the value of `count`, because it is not assigned.  It does pass the *value* of `count-1` to the method, but that&#39;s all it does.","body":"Remember that variables don&#39;t change unless you assign them.  <code>sayHi(count - 1)</code> does not change the value of <code>count</code>, because it is not assigned.  It does pass the <i>value</i> of <code>count-1</code> to the method, but that&#39;s all it does."}],"answers":[{"comments":[{"owner":{"account_id":29929286,"reputation":13,"user_id":22936572,"display_name":"Flint"},"score":0,"creation_date":1700249090,"post_id":77504013,"comment_id":136635482,"body_markdown":"Thanks for the clear explanation, I see how recursion works now!","body":"Thanks for the clear explanation, I see how recursion works now!"}],"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700249234,"creation_date":1700247185,"answer_id":77504013,"question_id":77503951,"body_markdown":"The value of `count` is neither incrementing or decrementing inside the method. The variable is assigned to the value of `i` in the first line of your method. It stays at that value **for that specific method invocation**. This means when you call `sayHi(4)` you are executing the following pseudo code:\r\n\r\n    public static void sayHi(4) {\r\n        int count = 4;\r\n        System.out.println(4);\r\n        if(4 == 0) return; // which is &quot;false&quot;\r\n\r\n\r\n        System.out.println(&quot;hi!&quot;);\r\n        sayHi(3); // 4 - 1\r\n\r\n        System.out.println(4);\r\n\r\n        System.out.println(&quot;Hello.&quot;);\r\n\r\n    }\r\n\r\nSo at the start and at the end, the value `4` is printed, as you have such two `println()` statements (and you don&#39;t exit the method early at the `if()` statement). Due to the recursion, at some point you are calling `sayHi(0)`, which result in the following pseudo code execution:\r\n\r\n    public static void sayHi(0) {\r\n        int count = 0;\r\n        System.out.println(0);\r\n        if(0 == 0) return; // which is &quot;true&quot;\r\n\r\n\r\n        System.out.println(&quot;hi!&quot;);\r\n        sayHi(-1); // 0 - 1\r\n\r\n        System.out.println(0);\r\n\r\n        System.out.println(&quot;Hello.&quot;);\r\n    }\r\n\r\nThere are two `println(0);` calls, but since the `if()` condition is met, this method exits at that location early and the second `println()` statement isn&#39;t executed at all. That&#39;s why you have only one `0` printed in your output.","title":"Why does this recursion behave this way?","body":"<p>The value of <code>count</code> is neither incrementing or decrementing inside the method. The variable is assigned to the value of <code>i</code> in the first line of your method. It stays at that value <strong>for that specific method invocation</strong>. This means when you call <code>sayHi(4)</code> you are executing the following pseudo code:</p>\n<pre><code>public static void sayHi(4) {\n    int count = 4;\n    System.out.println(4);\n    if(4 == 0) return; // which is &quot;false&quot;\n\n\n    System.out.println(&quot;hi!&quot;);\n    sayHi(3); // 4 - 1\n\n    System.out.println(4);\n\n    System.out.println(&quot;Hello.&quot;);\n\n}\n</code></pre>\n<p>So at the start and at the end, the value <code>4</code> is printed, as you have such two <code>println()</code> statements (and you don't exit the method early at the <code>if()</code> statement). Due to the recursion, at some point you are calling <code>sayHi(0)</code>, which result in the following pseudo code execution:</p>\n<pre><code>public static void sayHi(0) {\n    int count = 0;\n    System.out.println(0);\n    if(0 == 0) return; // which is &quot;true&quot;\n\n\n    System.out.println(&quot;hi!&quot;);\n    sayHi(-1); // 0 - 1\n\n    System.out.println(0);\n\n    System.out.println(&quot;Hello.&quot;);\n}\n</code></pre>\n<p>There are two <code>println(0);</code> calls, but since the <code>if()</code> condition is met, this method exits at that location early and the second <code>println()</code> statement isn't executed at all. That's why you have only one <code>0</code> printed in your output.</p>\n"},{"comments":[{"owner":{"account_id":29929286,"reputation":13,"user_id":22936572,"display_name":"Flint"},"score":0,"creation_date":1700248856,"post_id":77504015,"comment_id":136635447,"body_markdown":"Thank you, your explanation was really helpful! It just confused me a bit but now I see that I was just overthinking it.","body":"Thank you, your explanation was really helpful! It just confused me a bit but now I see that I was just overthinking it."}],"tags":[],"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700247201,"creation_date":1700247201,"answer_id":77504015,"question_id":77503951,"body_markdown":"It&#39;s not incrementing, and in fact the value of `count` never changes at all. \r\n It&#39;s just being output twice:\r\n\r\n    int count = i;\r\n    System.out.println(count); // &lt;--- first here\r\n    if(count == 0) return;\r\n\r\n    System.out.println(&quot;hi!&quot;);\r\n    sayHi(count - 1);\r\n\r\n    System.out.println(count); // &lt;--- then here\r\n    System.out.println(&quot;Hello.&quot;);\r\n\r\n*In between* those two is where the recursion occurs.  So in the output:\r\n\r\n    4    // these\r\n    hi!  // are\r\n    3\r\n    hi!\r\n    2\r\n    hi!\r\n    1\r\n    hi!\r\n    0\r\n    1\r\n    Hello.\r\n    2\r\n    Hello.\r\n    3\r\n    Hello.\r\n    4      // the outermost\r\n    Hello. // method call\r\n\r\nand:\r\n\r\n    4\r\n    hi!\r\n    3    // these\r\n    hi!  // are\r\n    2\r\n    hi!\r\n    1\r\n    hi!\r\n    0\r\n    1\r\n    Hello.\r\n    2\r\n    Hello.\r\n    3      // the second outermost\r\n    Hello. // method call\r\n    4\r\n    Hello.\r\n\r\nUntil:\r\n\r\n    4\r\n    hi!\r\n    3\r\n    hi!\r\n    2\r\n    hi!\r\n    1\r\n    hi!\r\n    0    // this is the innermost method call\r\n    1\r\n    Hello.\r\n    2\r\n    Hello.\r\n    3\r\n    Hello.\r\n    4\r\n    Hello.\r\n\r\nThere&#39;s nothing special about recursion, and new developers tend to very much over-think it.  The method itself doesn&#39;t do anything particularly complex.  Ignore for a moment that it&#39;s recursive and just examine what it does:\r\n\r\n    int count = i;                // declare a value, which never changes\r\n    System.out.println(count);    // output that value\r\n    if(count == 0) return;        // conditionally return (the innermost does this)\r\n\r\n    System.out.println(&quot;hi!&quot;);    // output a string\r\n    sayHi(count - 1);             // call a method, which itself may generate lots of output\r\n\r\n    System.out.println(count);    // output the same value again\r\n    System.out.println(&quot;Hello.&quot;); // output another string\r\n\r\nSo, unless the value passed to the method is `0`, every call to the method will produce four lines of output:\r\n\r\n - the number that was passed to it\r\n - a string\r\n - the number that was passed to it again\r\n - another string\r\n\r\nSo for any call to the method where you don&#39;t pass the value `0`, you should expect to see the value that you do pass to it output twice.","title":"Why does this recursion behave this way?","body":"<p>It's not incrementing, and in fact the value of <code>count</code> never changes at all.\nIt's just being output twice:</p>\n<pre><code>int count = i;\nSystem.out.println(count); // &lt;--- first here\nif(count == 0) return;\n\nSystem.out.println(&quot;hi!&quot;);\nsayHi(count - 1);\n\nSystem.out.println(count); // &lt;--- then here\nSystem.out.println(&quot;Hello.&quot;);\n</code></pre>\n<p><em>In between</em> those two is where the recursion occurs.  So in the output:</p>\n<pre><code>4    // these\nhi!  // are\n3\nhi!\n2\nhi!\n1\nhi!\n0\n1\nHello.\n2\nHello.\n3\nHello.\n4      // the outermost\nHello. // method call\n</code></pre>\n<p>and:</p>\n<pre><code>4\nhi!\n3    // these\nhi!  // are\n2\nhi!\n1\nhi!\n0\n1\nHello.\n2\nHello.\n3      // the second outermost\nHello. // method call\n4\nHello.\n</code></pre>\n<p>Until:</p>\n<pre><code>4\nhi!\n3\nhi!\n2\nhi!\n1\nhi!\n0    // this is the innermost method call\n1\nHello.\n2\nHello.\n3\nHello.\n4\nHello.\n</code></pre>\n<p>There's nothing special about recursion, and new developers tend to very much over-think it.  The method itself doesn't do anything particularly complex.  Ignore for a moment that it's recursive and just examine what it does:</p>\n<pre><code>int count = i;                // declare a value, which never changes\nSystem.out.println(count);    // output that value\nif(count == 0) return;        // conditionally return (the innermost does this)\n\nSystem.out.println(&quot;hi!&quot;);    // output a string\nsayHi(count - 1);             // call a method, which itself may generate lots of output\n\nSystem.out.println(count);    // output the same value again\nSystem.out.println(&quot;Hello.&quot;); // output another string\n</code></pre>\n<p>So, unless the value passed to the method is <code>0</code>, every call to the method will produce four lines of output:</p>\n<ul>\n<li>the number that was passed to it</li>\n<li>a string</li>\n<li>the number that was passed to it again</li>\n<li>another string</li>\n</ul>\n<p>So for any call to the method where you don't pass the value <code>0</code>, you should expect to see the value that you do pass to it output twice.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700264626,"creation_date":1700252921,"answer_id":77504468,"question_id":77503951,"body_markdown":"&gt; _&quot;... I&#39;m learning about recursion ...&quot;_\r\n\r\nHere are some note-worthy texts.\r\n\r\nThe following book, by _[No Starch Press Publishing](https://en.wikipedia.org/wiki/No_Starch_Press)_, has some excellent examples of recursion, using _[JavaScript](https://en.wikipedia.org/wiki/JavaScript)_, and _[Python](https://en.wikipedia.org/wiki/Python_(programming_language))_.\\\r\n_[No Starch Press Publishing &amp;ndash; The Recursive Book of Recursion](https://nostarch.com/recursive-book-recursion)_.\r\n\r\nAdditionally, _Wikipedia_ provides a great article, covering the topic of _recursion_ in _computer science_.\\\r\n_[Wikipedia &amp;ndash; Recursion (computer science)](https://en.wikipedia.org/wiki/Recursion_(computer_science))_.\r\n\r\n&gt; _&quot;... Why is the count incrementing after the count was already set at 0? Is it going back to its original value after terminating the recursion? ...&quot;_\r\n\r\nUtilize the _[String#indent](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indent(int))_ method, to accent the stacking order of each _call_.\\\r\nYou can presume a _[LIFO](https://en.wikipedia.org/wiki/Stack_(abstract_data_type))_ order; which is _&quot;last-in, first-out&quot;_, meaning, the most recently added value, is the first to be removed.\\\r\nLike a stack of plates at a buffet, to paraphrase.\r\n\r\nHere is an example.\\\r\nWe&#39;ll decrease _i_, and increase _x_.\r\n\r\nOn _call 4_, where _i_ is _0_, we return, arriving after the invocation of _call 3_, and print _i_, _&quot;after, i = 1&quot;_.\r\n\r\n```java\r\nvoid f(int i, int x) {\r\n    System.out.print((&quot;call &quot; + x).indent(x));\r\n    System.out.print((&quot;before, i = &quot; + i).indent(x));\r\n    if (i == 0) return;\r\n    f(i - 1, x + 1);\r\n    System.out.print((&quot;call &quot; + x).indent(x));\r\n    System.out.print((&quot;after, i = &quot; + i).indent(x));\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ncall 0\r\nbefore, i = 4\r\n call 1\r\n before, i = 3\r\n  call 2\r\n  before, i = 2\r\n   call 3\r\n   before, i = 1\r\n    call 4\r\n    before, i = 0\r\n   call 3\r\n   after, i = 1\r\n  call 2\r\n  after, i = 2\r\n call 1\r\n after, i = 3\r\ncall 0\r\nafter, i = 4\r\n```","title":"Why does this recursion behave this way?","body":"<blockquote>\n<p><em>&quot;... I'm learning about recursion ...&quot;</em></p>\n</blockquote>\n<p>Here are some note-worthy texts.</p>\n<p>The following book, by <em><a href=\"https://en.wikipedia.org/wiki/No_Starch_Press\" rel=\"nofollow noreferrer\">No Starch Press Publishing</a></em>, has some excellent examples of recursion, using <em><a href=\"https://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow noreferrer\">JavaScript</a></em>, and <em><a href=\"https://en.wikipedia.org/wiki/Python_(programming_language)\" rel=\"nofollow noreferrer\">Python</a></em>.<br />\n<em><a href=\"https://nostarch.com/recursive-book-recursion\" rel=\"nofollow noreferrer\">No Starch Press Publishing  The Recursive Book of Recursion</a></em>.</p>\n<p>Additionally, <em>Wikipedia</em> provides a great article, covering the topic of <em>recursion</em> in <em>computer science</em>.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Recursion_(computer_science)\" rel=\"nofollow noreferrer\">Wikipedia  Recursion (computer science)</a></em>.</p>\n<blockquote>\n<p><em>&quot;... Why is the count incrementing after the count was already set at 0? Is it going back to its original value after terminating the recursion? ...&quot;</em></p>\n</blockquote>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#indent(int)\" rel=\"nofollow noreferrer\">String#indent</a></em> method, to accent the stacking order of each <em>call</em>.<br />\nYou can presume a <em><a href=\"https://en.wikipedia.org/wiki/Stack_(abstract_data_type)\" rel=\"nofollow noreferrer\">LIFO</a></em> order; which is <em>&quot;last-in, first-out&quot;</em>, meaning, the most recently added value, is the first to be removed.<br />\nLike a stack of plates at a buffet, to paraphrase.</p>\n<p>Here is an example.<br />\nWe'll decrease <em>i</em>, and increase <em>x</em>.</p>\n<p>On <em>call 4</em>, where <em>i</em> is <em>0</em>, we return, arriving after the invocation of <em>call 3</em>, and print <em>i</em>, <em>&quot;after, i = 1&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void f(int i, int x) {\n    System.out.print((&quot;call &quot; + x).indent(x));\n    System.out.print((&quot;before, i = &quot; + i).indent(x));\n    if (i == 0) return;\n    f(i - 1, x + 1);\n    System.out.print((&quot;call &quot; + x).indent(x));\n    System.out.print((&quot;after, i = &quot; + i).indent(x));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>call 0\nbefore, i = 4\n call 1\n before, i = 3\n  call 2\n  before, i = 2\n   call 3\n   before, i = 1\n    call 4\n    before, i = 0\n   call 3\n   after, i = 1\n  call 2\n  after, i = 2\n call 1\n after, i = 3\ncall 0\nafter, i = 4\n</code></pre>\n"}],"owner":{"account_id":29929286,"reputation":13,"user_id":22936572,"display_name":"Flint"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77504015,"answer_count":3,"score":1,"last_activity_date":1700264626,"creation_date":1700246353,"question_id":77503951,"body_markdown":"I&#39;m learning about recursion and I ran this function to track the &quot;count&quot; variable to see how it changes while the recursion is going through. After getting 4 strings of &quot;Hello.&quot; back after the count was already 0 I wanted to check what was happening to the count. I found that it was actually incrementing by one, but I don&#39;t know why it would. Why is the count incrementing after the count was already set at 0? Is it going back to its original value after terminating the recursion?\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n         \r\n        sayHi(4);\r\n    }\r\n\r\n    public static void sayHi(int i) {\r\n        int count = i;\r\n        System.out.println(count);\r\n        if(count == 0) return;\r\n\r\n\r\n        System.out.println(&quot;hi!&quot;);\r\n        sayHi(count - 1);\r\n\r\n        System.out.println(count);\r\n\r\n        System.out.println(&quot;Hello.&quot;);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is the output of the code:\r\n\r\n\r\n```\r\nOUTPUT: \r\n\r\n4\r\nhi!\r\n3\r\nhi!\r\n2\r\nhi!\r\n1\r\nhi!\r\n0\r\n1\r\nHello.\r\n2\r\nHello.\r\n3\r\nHello.\r\n4\r\nHello.\r\n\r\n```\r\n\r\n\r\n","title":"Why does this recursion behave this way?","body":"<p>I'm learning about recursion and I ran this function to track the &quot;count&quot; variable to see how it changes while the recursion is going through. After getting 4 strings of &quot;Hello.&quot; back after the count was already 0 I wanted to check what was happening to the count. I found that it was actually incrementing by one, but I don't know why it would. Why is the count incrementing after the count was already set at 0? Is it going back to its original value after terminating the recursion?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n         \n        sayHi(4);\n    }\n\n    public static void sayHi(int i) {\n        int count = i;\n        System.out.println(count);\n        if(count == 0) return;\n\n\n        System.out.println(&quot;hi!&quot;);\n        sayHi(count - 1);\n\n        System.out.println(count);\n\n        System.out.println(&quot;Hello.&quot;);\n\n\n    }\n}\n</code></pre>\n<p>This is the output of the code:</p>\n<pre><code>OUTPUT: \n\n4\nhi!\n3\nhi!\n2\nhi!\n1\nhi!\n0\n1\nHello.\n2\nHello.\n3\nHello.\n4\nHello.\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20793950,"reputation":23,"user_id":15271405,"display_name":"Sman"},"score":0,"creation_date":1700250989,"post_id":77504256,"comment_id":136635770,"body_markdown":"@Robert I am familiarizing myself with Java - there isn&#39;t a strong need/requirement here, just curious to see if it was possible to retrieve the nth value of a char-delimited string in one line that wasn&#39;t apparent to me at first sight. The objective was to do so dynamically, so a hard-coded index would not be an operable substitute.\n\nEdit: I think your first comment is the answer to this question","body":"@Robert I am familiarizing myself with Java - there isn&#39;t a strong need/requirement here, just curious to see if it was possible to retrieve the nth value of a char-delimited string in one line that wasn&#39;t apparent to me at first sight. The objective was to do so dynamically, so a hard-coded index would not be an operable substitute.  Edit: I think your first comment is the answer to this question"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700251380,"creation_date":1700251380,"answer_id":77504343,"question_id":77504256,"body_markdown":"Spontaneously I can&#39;t think of an elegant one except replacing using regex:\r\n\r\n    String lastPart = &quot;a.b.c&quot;.replaceAll(&quot;^.*?([^\\\\.]*)$&quot;,&quot;$1&quot;);\r\n\r\nor using lastindexOf\r\n\r\n    String lastPart = &quot;a.b.c&quot;.substring(&quot;a.b.c&quot;.lastIndexOf(&#39;.&#39;) + 1);","title":"Retrieve the nth value of a char-delimited string in one-line","body":"<p>Spontaneously I can't think of an elegant one except replacing using regex:</p>\n<pre><code>String lastPart = &quot;a.b.c&quot;.replaceAll(&quot;^.*?([^\\\\.]*)$&quot;,&quot;$1&quot;);\n</code></pre>\n<p>or using lastindexOf</p>\n<pre><code>String lastPart = &quot;a.b.c&quot;.substring(&quot;a.b.c&quot;.lastIndexOf('.') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700251836,"creation_date":1700251836,"answer_id":77504390,"question_id":77504256,"body_markdown":"`split` returns an array, and until it returns that, you cannot find its length, which you need to know to find the last element. There is no -1 index for the last array element in Java. So you could duplicate the `split` logic:\r\n\r\n```java\r\nString consolidated = &quot;a.b.c&quot;.split(&quot;\\\\.&quot;)[&quot;a.b.c&quot;.split(&quot;\\\\.&quot;).length - 1];\r\n```\r\n\r\nwhich is ugly and error prone, especially if the `split` argument gets more complex. You could pull that out into a variable, but then your original code would IMHO still be clearer.\r\n \r\nIf you know you always want the 3rd field, you could hard-code that as `&#39;a.b.c&#39;.split(&quot;\\\\.&quot;)[2];` but that may defeat the purpose of splitting in the first place.\r\n\r\nJava can feel heavily object-oriented compared to Python. But if you have some domain object (like an IP address or inventory number that follows a certain scheme), it may make sense to create a new class for this:\r\n\r\n```java\r\npublic class Split {\r\n    public static void main(String... args) {\r\n        Split s = new Split(&quot;a.b.c&quot;);\r\n        System.out.println(s.last());\r\n    }\r\n\r\n    private String[] values;\r\n\r\n    public Split(String input) {\r\n        values = input.split(&quot;\\\\.&quot;);\r\n    }\r\n\r\n    public String last() {\r\n        if (values.length == 0) {\r\n            return null;\r\n        }\r\n        return values[values.length - 1];\r\n    }\r\n}\r\n```\r\n\r\nNow the invocation is shorter, plus if you can come up with a clearer (i.e. more business-domainish) name than `last`, the code is also clearer than the pythonic splitting and negative indexing.\r\n","title":"Retrieve the nth value of a char-delimited string in one-line","body":"<p><code>split</code> returns an array, and until it returns that, you cannot find its length, which you need to know to find the last element. There is no -1 index for the last array element in Java. So you could duplicate the <code>split</code> logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String consolidated = &quot;a.b.c&quot;.split(&quot;\\\\.&quot;)[&quot;a.b.c&quot;.split(&quot;\\\\.&quot;).length - 1];\n</code></pre>\n<p>which is ugly and error prone, especially if the <code>split</code> argument gets more complex. You could pull that out into a variable, but then your original code would IMHO still be clearer.</p>\n<p>If you know you always want the 3rd field, you could hard-code that as <code>'a.b.c'.split(&quot;\\\\.&quot;)[2];</code> but that may defeat the purpose of splitting in the first place.</p>\n<p>Java can feel heavily object-oriented compared to Python. But if you have some domain object (like an IP address or inventory number that follows a certain scheme), it may make sense to create a new class for this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Split {\n    public static void main(String... args) {\n        Split s = new Split(&quot;a.b.c&quot;);\n        System.out.println(s.last());\n    }\n\n    private String[] values;\n\n    public Split(String input) {\n        values = input.split(&quot;\\\\.&quot;);\n    }\n\n    public String last() {\n        if (values.length == 0) {\n            return null;\n        }\n        return values[values.length - 1];\n    }\n}\n</code></pre>\n<p>Now the invocation is shorter, plus if you can come up with a clearer (i.e. more business-domainish) name than <code>last</code>, the code is also clearer than the pythonic splitting and negative indexing.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700264352,"creation_date":1700263953,"answer_id":77505090,"question_id":77504256,"body_markdown":"&gt; _&quot;... How can I retrieve the nth value of a char-delimited string in one line? ...&quot;_\r\n\r\nYou&#39;ll need two _Strings_; not that intuitive.\r\n\r\n```java\r\nString a, b = (a = &quot;a.b.c&quot;).substring(a.lastIndexOf(&#39;.&#39;) + 1);\r\n```\r\n\r\nOr, use a _regular expression pattern_, and the _[String#replaceAll](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_ method.\r\n\r\n```none\r\n.+\\.\r\n```\r\n\r\n```java\r\nString s = &quot;a.b.c&quot;.replaceAll(&quot;.+\\\\.&quot;, &quot;&quot;);\r\n```\r\n\r\n&gt; _&quot;... it doesn&#39;t seem like `this` is an operable way to refer to the preceeding result&#39;s return value, in one line. ...&quot;_\r\n\r\nThe _this_ keyword is similar to the _Python_ _[self](https://docs.python.org/3/tutorial/classes.html)_ keyword.\\\r\nIt provides a reference to the enclosing instance.\r\n\r\n_[Using the this Keyword (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html)_.","title":"Retrieve the nth value of a char-delimited string in one-line","body":"<blockquote>\n<p><em>&quot;... How can I retrieve the nth value of a char-delimited string in one line? ...&quot;</em></p>\n</blockquote>\n<p>You'll need two <em>Strings</em>; not that intuitive.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String a, b = (a = &quot;a.b.c&quot;).substring(a.lastIndexOf('.') + 1);\n</code></pre>\n<p>Or, use a <em>regular expression pattern</em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method.</p>\n<pre class=\"lang-none prettyprint-override\"><code>.+\\.\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;a.b.c&quot;.replaceAll(&quot;.+\\\\.&quot;, &quot;&quot;);\n</code></pre>\n<blockquote>\n<p><em>&quot;... it doesn't seem like <code>this</code> is an operable way to refer to the preceeding result's return value, in one line. ...&quot;</em></p>\n</blockquote>\n<p>The <em>this</em> keyword is similar to the <em>Python</em> <em><a href=\"https://docs.python.org/3/tutorial/classes.html\" rel=\"nofollow noreferrer\">self</a></em> keyword.<br />\nIt provides a reference to the enclosing instance.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\">Using the this Keyword (The Java Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700264385,"creation_date":1700264385,"answer_id":77505108,"question_id":77504256,"body_markdown":"```java\r\npublic static String getKthItem(String str, int k) {\r\n    return str.split(&quot;\\\\.&quot;)[k];\r\n}\r\n```","title":"Retrieve the nth value of a char-delimited string in one-line","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String getKthItem(String str, int k) {\n    return str.split(&quot;\\\\.&quot;)[k];\n}\n</code></pre>\n"}],"owner":{"account_id":20793950,"reputation":23,"user_id":15271405,"display_name":"Sman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77504343,"answer_count":4,"score":0,"last_activity_date":1700264385,"creation_date":1700250242,"question_id":77504256,"body_markdown":"How can I retrieve the nth value of a char-delimited string in one line?\r\n\r\nIf the string was `&#39;.&#39;` delimited, and I wanted to take a string `a.b.c` and retrieve `c` in Python, I would simply do:\r\n`&#39;a.b.c&#39;.split(&#39;.&#39;)[-1]`. \r\n\r\nSeemingly, the equivalent in Java is:\r\n```java\r\nString beforeSplit = &quot;a.b.c&quot;;\r\nString[] parts = beforeSplit.split(&quot;\\\\.&quot;);\r\nString afterSplit = parts[parts.length - 1];\r\n```\r\n\r\nIs there a way to consolidate this into a one-line expression without using intermediate variables/strings to store the `parts`? e.g.: \r\n\r\n```\r\nString consolidated = &#39;a.b.c&#39;.split(&quot;\\\\.&quot;)[this.length -1];\r\n``` \r\n\r\nAfter doing some experimenting, it doesn&#39;t seem like `this` is an operable way to refer to the preceeding result&#39;s return value, in one line.\r\n\r\nI suspect this would result in an ugly closure of some form but maybe there&#39;s an easier method that I am not aware of?\r\n ","title":"Retrieve the nth value of a char-delimited string in one-line","body":"<p>How can I retrieve the nth value of a char-delimited string in one line?</p>\n<p>If the string was <code>'.'</code> delimited, and I wanted to take a string <code>a.b.c</code> and retrieve <code>c</code> in Python, I would simply do:\n<code>'a.b.c'.split('.')[-1]</code>.</p>\n<p>Seemingly, the equivalent in Java is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String beforeSplit = &quot;a.b.c&quot;;\nString[] parts = beforeSplit.split(&quot;\\\\.&quot;);\nString afterSplit = parts[parts.length - 1];\n</code></pre>\n<p>Is there a way to consolidate this into a one-line expression without using intermediate variables/strings to store the <code>parts</code>? e.g.:</p>\n<pre><code>String consolidated = 'a.b.c'.split(&quot;\\\\.&quot;)[this.length -1];\n</code></pre>\n<p>After doing some experimenting, it doesn't seem like <code>this</code> is an operable way to refer to the preceeding result's return value, in one line.</p>\n<p>I suspect this would result in an ugly closure of some form but maybe there's an easier method that I am not aware of?</p>\n"},{"tags":["java","javafx","base64"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700210503,"post_id":77500259,"comment_id":136628719,"body_markdown":"base64 isn&#39;t an image encoding, it is an encoding of binary data as text.  But the binary data for an image could be encoded in many different formats.  What is binary encoding format of the data that you need (e.g. jpg, png, tiff, svg, bmp, etc, etc)?  Why do you need to encode the binary data of an image to base64? How will the encoded base64 data be used?  As a [data url](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs)? or something else? Please edit the question to explain.","body":"base64 isn&#39;t an image encoding, it is an encoding of binary data as text.  But the binary data for an image could be encoded in many different formats.  What is binary encoding format of the data that you need (e.g. jpg, png, tiff, svg, bmp, etc, etc)?  Why do you need to encode the binary data of an image to base64? How will the encoded base64 data be used?  As a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs\" rel=\"nofollow noreferrer\">data url</a>? or something else? Please edit the question to explain."},{"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"score":0,"creation_date":1700211204,"post_id":77500259,"comment_id":136628839,"body_markdown":"I know it&#39;s not an image encoding, but I want a lightweight method to save small screenshots as text in a databse (up to 100x100px)","body":"I know it&#39;s not an image encoding, but I want a lightweight method to save small screenshots as text in a databse (up to 100x100px)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700211425,"post_id":77500259,"comment_id":136628880,"body_markdown":"You don&#39;t want to &quot;get the bytes of a clipboard image&quot;.  [IMAGE data in the clipboard](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/DataFormat.html#IMAGE) is &quot;A special platform specific image type, such as is commonly used on the clipboard and interoperates widely with other applications. For example, on Mac this might ultimately be a TIFF while on Windows it might be a DIB (device independent bitmap).&quot;  None of which are handled by the JavaFX public image API, so you couldn&#39;t do anything with it even if you had the raw data.","body":"You don&#39;t want to &quot;get the bytes of a clipboard image&quot;.  <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/DataFormat.html#IMAGE\" rel=\"nofollow noreferrer\">IMAGE data in the clipboard</a> is &quot;A special platform specific image type, such as is commonly used on the clipboard and interoperates widely with other applications. For example, on Mac this might ultimately be a TIFF while on Windows it might be a DIB (device independent bitmap).&quot;  None of which are handled by the JavaFX public image API, so you couldn&#39;t do anything with it even if you had the raw data."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700211583,"post_id":77500259,"comment_id":136628914,"body_markdown":"The bytes you get from `getPixels` is just raw color data. It&#39;s not in an image file format like PNG or JPEG. You have to encode the pixels to an image file format and _then_ convert it to Base64 (though if you&#39;re going to store images in a database, why not just use a blob?).","body":"The bytes you get from <code>getPixels</code> is just raw color data. It&#39;s not in an image file format like PNG or JPEG. You have to encode the pixels to an image file format and <i>then</i> convert it to Base64 (though if you&#39;re going to store images in a database, why not just use a blob?)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700212118,"post_id":77500259,"comment_id":136628994,"body_markdown":"Do you want a lossy storage format (e.g. jpg) or lossless (e.g. png)? Any competent database can store [binary data](https://en.wikipedia.org/wiki/Binary_large_object) without base64 encoding. This does seem like an [xy problem](https://xyproblem.info/).","body":"Do you want a lossy storage format (e.g. jpg) or lossless (e.g. png)? Any competent database can store <a href=\"https://en.wikipedia.org/wiki/Binary_large_object\" rel=\"nofollow noreferrer\">binary data</a> without base64 encoding. This does seem like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700212123,"post_id":77500259,"comment_id":136628996,"body_markdown":"What you probably want to do is take the JavaFX image returned by the clipboard getImage call, convert it to a BufferedImage, use ImageIO to encode it as a png or jpg, then store that as a blob in your DB. JavaFX then take the binary encoded png or jpg read from the db and display it a JavaFX image.  You don&#39;t need a PIxelReader or base64 encoding/decoding for any of that.","body":"What you probably want to do is take the JavaFX image returned by the clipboard getImage call, convert it to a BufferedImage, use ImageIO to encode it as a png or jpg, then store that as a blob in your DB. JavaFX then take the binary encoded png or jpg read from the db and display it a JavaFX image.  You don&#39;t need a PIxelReader or base64 encoding/decoding for any of that."},{"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"score":0,"creation_date":1700214425,"post_id":77500259,"comment_id":136629377,"body_markdown":"I tried getting the bytes using SwingFXUtils, but SwingFXUtils can&#39;t be found. I already imported org.openjfx.javafx-swing in gradle. I also tried manually putting the pixel values in a BufferedImage, but how to I get the byte array from that to save it as a blob?","body":"I tried getting the bytes using SwingFXUtils, but SwingFXUtils can&#39;t be found. I already imported org.openjfx.javafx-swing in gradle. I also tried manually putting the pixel values in a BufferedImage, but how to I get the byte array from that to save it as a blob?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1700215612,"post_id":77500259,"comment_id":136629611,"body_markdown":"If you&#39;ve applied the [javafx-gradle-plugin](https://github.com/openjfx/javafx-gradle-plugin) then just add `&quot;javafx.swing&quot;` to the `modules` list. If you haven&#39;t applied the plugin, then add an `implementation(&quot;org.openjfx:javafx-swing:&lt;version&gt;:&lt;classifier&gt;&quot;)` dependency (unless something has changed recently, you have to manually specify the platform classifier and transitive dependencies when adding JavaFX to Gradle this way). My answer shows how to insert a blob via JDBC directly. If you&#39;re using a JDBC wrapper library or an ORM, look at its documentation for how to do the same.","body":"If you&#39;ve applied the <a href=\"https://github.com/openjfx/javafx-gradle-plugin\" rel=\"nofollow noreferrer\">javafx-gradle-plugin</a> then just add <code>&quot;javafx.swing&quot;</code> to the <code>modules</code> list. If you haven&#39;t applied the plugin, then add an <code>implementation(&quot;org.openjfx:javafx-swing:&lt;version&gt;:&lt;classifi&zwnj;&#8203;er&gt;&quot;)</code> dependency (unless something has changed recently, you have to manually specify the platform classifier and transitive dependencies when adding JavaFX to Gradle this way). My answer shows how to insert a blob via JDBC directly. If you&#39;re using a JDBC wrapper library or an ORM, look at its documentation for how to do the same."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1700215698,"post_id":77500259,"comment_id":136629628,"body_markdown":"Note that even if you forgo `SwingFXUtils` and instead manually &quot;transfer&quot; the pixels from the `Image` to a `BufferedImage`, you&#39;d still get the image file bytes the same wayvia `ImageIO`.","body":"Note that even if you forgo <code>SwingFXUtils</code> and instead manually &quot;transfer&quot; the pixels from the <code>Image</code> to a <code>BufferedImage</code>, you&#39;d still get the image file bytes the same wayvia <code>ImageIO</code>."}],"answers":[{"comments":[{"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"score":0,"creation_date":1700219604,"post_id":77500633,"comment_id":136630306,"body_markdown":"Ok but I get this error: java.lang.ClassNotFoundException: javafx.embed.swing.SwingFXUtils, although it&#39;s being recognized in the IDE. I haven&#39;t used the module-info file yet, do I have to put something there?","body":"Ok but I get this error: java.lang.ClassNotFoundException: javafx.embed.swing.SwingFXUtils, although it&#39;s being recognized in the IDE. I haven&#39;t used the module-info file yet, do I have to put something there?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700253883,"post_id":77500633,"comment_id":136636235,"body_markdown":"@Maxim If you don&#39;t have a module-info file, then your code is not modular.  javafx.swing is a module, it needs to be on the module path even if your code is not modular.  Information on setting up a non-modular project for various IDEs and gradle (which you mentioned you used in another comment) is at [openjfx.io](https://openjfx.io/openjfx-docs/).  That shows how to place other JavaFX modules like javafx.controls on the module path and use them.  The javafx.swing module is no different in setup, but you do need to do the setup and use the correct module names &amp; paths for the required modules","body":"@Maxim If you don&#39;t have a module-info file, then your code is not modular.  javafx.swing is a module, it needs to be on the module path even if your code is not modular.  Information on setting up a non-modular project for various IDEs and gradle (which you mentioned you used in another comment) is at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a>.  That shows how to place other JavaFX modules like javafx.controls on the module path and use them.  The javafx.swing module is no different in setup, but you do need to do the setup and use the correct module names &amp; paths for the required modules"}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700262319,"creation_date":1700214066,"answer_id":77500633,"question_id":77500259,"body_markdown":"The bytes you get from the `getPixels` call are just raw color/pixel data. It is not in an image file format like PNG or JPEG. If you want other software to be able to decode the Base64-encoded image, then you have to first encode the pixels to an actual image file format. For example:\r\n\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.UncheckedIOException;\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.scene.image.Image;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic final class ImageUtils {\r\n    \r\n    private ImageUtils() {}\r\n    \r\n    public static byte[] toImageFile(Image image, String format) {\r\n        var out = new ByteArrayOutputStream();\r\n        try {\r\n            ImageIO.write(SwingFXUtils.fromFXImage(image, null), format, out);\r\n        } catch (IOException ex) {\r\n            throw new UncheckedIOException(ex);\r\n        }\r\n        return out.toByteArray();\r\n    }\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** `SwingFXUtils` comes from the [`javafx.swing`][1] module.&lt;/sup&gt;\r\n\r\nOnce you have the image file, then you can Base64 encode the bytes:\r\n\r\n```java\r\nvar image = Clipboard.getSystemClipboard().getImage();\r\nvar bytes = ImageUtils.toImageFile(image, &quot;png&quot;);\r\nvar base64Str = Base64.getEncoder().encodeToString(bytes);\r\n```\r\n\r\n&lt;sup&gt;**Note:** PNG is a lossless format. If you want a smaller image file then you can use a lossy format like JPEG.&lt;/sup&gt;\r\n\r\nBut you mention saving this image to a database. If you&#39;re going to do that, then I recommend you just store the image as a blob. For example, if you&#39;re using JDBC directly:\r\n\r\n```java\r\nvar image = Clipboard.getSystemClipboard().getImage();\r\nvar bytes = ImageUtils.toImageFile(image, &quot;png&quot;);\r\ntry (var conn = DriverManager.getConnection(&quot;...&quot;)) {\r\n    try (var stat = conn.prepareStatement(&quot;INSERT INTO Foo (image) VALUES (?)&quot;)) {\r\n        stat.setBinaryStream(1, new ByteArrayInputStream(bytes));\r\n        stat.executeUpdate();\r\n    }\r\n}\r\n```\r\n\r\nYou can of course continue using Base64 encoding for other parts of your code if needed.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/21/javafx.swing/module-summary.html","title":"Encode an image from the clipboard as base64 in JavaFX","body":"<p>The bytes you get from the <code>getPixels</code> call are just raw color/pixel data. It is not in an image file format like PNG or JPEG. If you want other software to be able to decode the Base64-encoded image, then you have to first encode the pixels to an actual image file format. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.UncheckedIOException;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.image.Image;\nimport javax.imageio.ImageIO;\n\npublic final class ImageUtils {\n    \n    private ImageUtils() {}\n    \n    public static byte[] toImageFile(Image image, String format) {\n        var out = new ByteArrayOutputStream();\n        try {\n            ImageIO.write(SwingFXUtils.fromFXImage(image, null), format, out);\n        } catch (IOException ex) {\n            throw new UncheckedIOException(ex);\n        }\n        return out.toByteArray();\n    }\n}\n</code></pre>\n<p><sup><strong>Note:</strong> <code>SwingFXUtils</code> comes from the <a href=\"https://openjfx.io/javadoc/21/javafx.swing/module-summary.html\" rel=\"nofollow noreferrer\"><code>javafx.swing</code></a> module.</sup></p>\n<p>Once you have the image file, then you can Base64 encode the bytes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var image = Clipboard.getSystemClipboard().getImage();\nvar bytes = ImageUtils.toImageFile(image, &quot;png&quot;);\nvar base64Str = Base64.getEncoder().encodeToString(bytes);\n</code></pre>\n<p><sup><strong>Note:</strong> PNG is a lossless format. If you want a smaller image file then you can use a lossy format like JPEG.</sup></p>\n<p>But you mention saving this image to a database. If you're going to do that, then I recommend you just store the image as a blob. For example, if you're using JDBC directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var image = Clipboard.getSystemClipboard().getImage();\nvar bytes = ImageUtils.toImageFile(image, &quot;png&quot;);\ntry (var conn = DriverManager.getConnection(&quot;...&quot;)) {\n    try (var stat = conn.prepareStatement(&quot;INSERT INTO Foo (image) VALUES (?)&quot;)) {\n        stat.setBinaryStream(1, new ByteArrayInputStream(bytes));\n        stat.executeUpdate();\n    }\n}\n</code></pre>\n<p>You can of course continue using Base64 encoding for other parts of your code if needed.</p>\n"}],"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700262319,"creation_date":1700210101,"question_id":77500259,"body_markdown":"I have a JavaFX app where I&#39;m trying to read an image from the clipboard and encode it as base64 string to save it in a database (small screenshots with up to 100x100px). There are several examples to read an image file as byte array, but I can&#39;t find a method to get the bytes of a clipboard image. I tried this:\r\n\r\n    var image = Clipboard.getSystemClipboard().getImage();\r\n\t\tif(image != null) {\r\n\r\n\t\t\tint w = (int)image.getWidth();\r\n\t\t\tint h = (int)image.getHeight();\r\n\t\t\tbyte[] buf = new byte[w * h * 4];\r\n\r\n\t\t\timage.getPixelReader().getPixels(0, 0, w, h, PixelFormat.getByteBgraInstance(), buf, 0, w * 4);\r\n\r\n\t\t\treturn Base64.getEncoder().encodeToString(buf);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\r\nBut the String content that I get from this can&#39;t be decoded in any format (using several online tools).\r\n","title":"Encode an image from the clipboard as base64 in JavaFX","body":"<p>I have a JavaFX app where I'm trying to read an image from the clipboard and encode it as base64 string to save it in a database (small screenshots with up to 100x100px). There are several examples to read an image file as byte array, but I can't find a method to get the bytes of a clipboard image. I tried this:</p>\n<pre><code>var image = Clipboard.getSystemClipboard().getImage();\n    if(image != null) {\n\n        int w = (int)image.getWidth();\n        int h = (int)image.getHeight();\n        byte[] buf = new byte[w * h * 4];\n\n        image.getPixelReader().getPixels(0, 0, w, h, PixelFormat.getByteBgraInstance(), buf, 0, w * 4);\n\n        return Base64.getEncoder().encodeToString(buf);\n    }\n\n    return null;\n</code></pre>\n<p>But the String content that I get from this can't be decoded in any format (using several online tools).</p>\n"},{"tags":["java","eclipse","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":5,"creation_date":1700261614,"post_id":77504949,"comment_id":136637072,"body_markdown":"No, that&#39;s not Eclipse 2023-09. That&#39;s a pretty old version of Eclipse. See _Help &gt; About Eclipse IDE_","body":"No, that&#39;s not Eclipse 2023-09. That&#39;s a pretty old version of Eclipse. See <i>Help &gt; About Eclipse IDE</i>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1700262772,"post_id":77504949,"comment_id":136637179,"body_markdown":"Check if you have an old Java 15 support plugin installed - if so, remove it.","body":"Check if you have an old Java 15 support plugin installed - if so, remove it."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1700295521,"post_id":77504949,"comment_id":136639153,"body_markdown":"The list in that drop-down is hard coded in each Eclipse release. For 2023-09 it goes up to Java 20. So either you have an old release (2020-12 or 2021-03) or you have another plug-in installed which is replacing the page (such as an old Java version patch)","body":"The list in that drop-down is hard coded in each Eclipse release. For 2023-09 it goes up to Java 20. So either you have an old release (2020-12 or 2021-03) or you have another plug-in installed which is replacing the page (such as an old Java version patch)"}],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700260584,"creation_date":1700260584,"question_id":77504949,"body_markdown":"Why won&#39;t Eclipse let me select Java 17 compliance level even though I&#39;m using Java 17 as my JRE?\r\n\r\nI&#39;m using the newest version of Eclipse (2023-09).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NrteP.jpg\r\n  [2]: https://i.stack.imgur.com/CBVvq.png","title":"Why can&#39;t I use Java 17 compliance level in Eclipse?","body":"<p>Why won't Eclipse let me select Java 17 compliance level even though I'm using Java 17 as my JRE?</p>\n<p>I'm using the newest version of Eclipse (2023-09).</p>\n<p><a href=\"https://i.stack.imgur.com/NrteP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NrteP.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CBVvq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CBVvq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","servlets","filter","attributes"],"owner":{"account_id":17415025,"reputation":7,"user_id":12621555,"display_name":"Tri Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700260196,"creation_date":1700260196,"question_id":77504927,"body_markdown":"New to spring and trying to replicate some of the functionality we have on our current TomCat Server with filters.  On the legacy java code I check each request for a valid user specific JWT in a cookie.  Assuming it has a valid token I add the data to the HttpServletRequest by appending the attributes so it is available to the receiving request.  For the life of me I can&#39;t find a way to do that in Spring with the GlobalFilter or WebFilter.   \r\n\r\nI&#39;d punt and just toss the data in the header but there are times when it could be too large for that. Since I&#39;ve already done the work of resolving the JWT in the filter I&#39;d really prefer to not have to each application have to deal with it as well.   Any suggestions or ideas would be greatly appreciated.","title":"Passing Data From Spring GlobalFilter to Controller","body":"<p>New to spring and trying to replicate some of the functionality we have on our current TomCat Server with filters.  On the legacy java code I check each request for a valid user specific JWT in a cookie.  Assuming it has a valid token I add the data to the HttpServletRequest by appending the attributes so it is available to the receiving request.  For the life of me I can't find a way to do that in Spring with the GlobalFilter or WebFilter.</p>\n<p>I'd punt and just toss the data in the header but there are times when it could be too large for that. Since I've already done the work of resolving the JWT in the filter I'd really prefer to not have to each application have to deal with it as well.   Any suggestions or ideas would be greatly appreciated.</p>\n"},{"tags":["java","docker","google-chrome","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":21901647,"reputation":35,"user_id":16187251,"display_name":"user16187251"},"score":0,"creation_date":1700148919,"post_id":77491604,"comment_id":136621390,"body_markdown":"Thanks for the information, for the binary, do you mean I should download the chrome browser binary and set the path in the code to point to it?","body":"Thanks for the information, for the binary, do you mean I should download the chrome browser binary and set the path in the code to point to it?"},{"owner":{"account_id":22466615,"reputation":544,"user_id":18509670,"display_name":"0x00"},"score":0,"creation_date":1700159713,"post_id":77491604,"comment_id":136623478,"body_markdown":"`options.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);` is pointing to a Windows binary in your host system. But that binary won&#39;t exist inside the container so selenium won&#39;t find it. Even if you put it inside the container it won&#39;t work as you are running a Linux container. I don&#39;t know if selenium can just use whats in the PATH but you need to point it to the Chrome inside the container.","body":"<code>options.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);</code> is pointing to a Windows binary in your host system. But that binary won&#39;t exist inside the container so selenium won&#39;t find it. Even if you put it inside the container it won&#39;t work as you are running a Linux container. I don&#39;t know if selenium can just use whats in the PATH but you need to point it to the Chrome inside the container."},{"owner":{"account_id":21901647,"reputation":35,"user_id":16187251,"display_name":"user16187251"},"score":0,"creation_date":1700162203,"post_id":77491604,"comment_id":136623936,"body_markdown":"I have changed it to `options.setBinary(&quot;/usr/bin/google-chrome&quot;);`which is where the chrome binary located in container, but I still got the same error.","body":"I have changed it to <code>options.setBinary(&quot;&#47;usr&#47;bin&#47;google-chrome&quot;);</code>which is where the chrome binary located in container, but I still got the same error."},{"owner":{"account_id":22466615,"reputation":544,"user_id":18509670,"display_name":"0x00"},"score":0,"creation_date":1700183893,"post_id":77491604,"comment_id":136626455,"body_markdown":"What about `COPY chromedriver.exe /app/chromedriver`? Did you change it to the linux64 chrome driver?","body":"What about <code>COPY chromedriver.exe &#47;app&#47;chromedriver</code>? Did you change it to the linux64 chrome driver?"},{"owner":{"account_id":21901647,"reputation":35,"user_id":16187251,"display_name":"user16187251"},"score":0,"creation_date":1700270447,"post_id":77491604,"comment_id":136637821,"body_markdown":"Yea, I try to copy the linux chrome driver which is same directory as my dockerfile directly to the container `COPY chromedriver /app/ `, but it didn&#39;t works.","body":"Yea, I try to copy the linux chrome driver which is same directory as my dockerfile directly to the container <code>COPY chromedriver &#47;app&#47; </code>, but it didn&#39;t works."}],"tags":[],"owner":{"account_id":22466615,"reputation":544,"user_id":18509670,"display_name":"0x00"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700093285,"creation_date":1700093285,"answer_id":77491604,"question_id":77491049,"body_markdown":"The problem could be that the image you are using is a Linux distribution (Debian) and the driver you are copying to the container it appears to be the chrome driver for Windows (`chromedriver.exe`) you need to [download the chrome driver for Linux][1] (linux64)\r\n\r\nAlso make sure your java program points to the correct path for your binary inside your container. As you showed in your code, its currently pointing to a path in inside your windows machine.\r\n\r\n\r\n  [1]: https://googlechromelabs.github.io/chrome-for-testing/#stable","title":"Docker Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>The problem could be that the image you are using is a Linux distribution (Debian) and the driver you are copying to the container it appears to be the chrome driver for Windows (<code>chromedriver.exe</code>) you need to <a href=\"https://googlechromelabs.github.io/chrome-for-testing/#stable\" rel=\"nofollow noreferrer\">download the chrome driver for Linux</a> (linux64)</p>\n<p>Also make sure your java program points to the correct path for your binary inside your container. As you showed in your code, its currently pointing to a path in inside your windows machine.</p>\n"}],"owner":{"account_id":21901647,"reputation":35,"user_id":16187251,"display_name":"user16187251"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700260042,"creation_date":1700084642,"question_id":77491049,"body_markdown":"My Chrome browser version is 119.0.6045.160. My chrome driver version is 119.0.6045.105.\r\nMy Selenium java version is 4.8.3.\r\n\r\nI am doing web Scrapping with selenium. It runs without error in springboot. I have also set the binary path. \r\n```\r\n ChromeOptions options = new ChromeOptions();\r\n options.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\r\n\r\n\r\n WebDriver driver = new ChromeDriver(options);\r\n```\r\nHowever, when I run its docker image, I got the error :\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\nHost info: host: &#39;dd7e0e343e76&#39;, ip: &#39;172.17.0.2&#39;\r\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n        at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\r\n        at com.linggd.demo.Duldung2.myrun(Duldung2.java:64)\r\n        at com.linggd.demo.Htmltest3Application.main(Htmltest3Application.java:85)\r\n        ... 8 more\r\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\r\nBuild info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.16.3-microsoft-standard-WSL2&#39;, java.version: &#39;17.0.9&#39;\r\nDriver info: driver.version: ChromeDriver\r\n        at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:208)\r\n        at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:114)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n        ... 16 more\r\n```\r\nI think there might be some compatibility issue of chrome binary in docker with my chrome driver, so I specify the chrome version 119.0.6045.159-1 in my Dockerfile, but the error still exist.\r\nHere is my Dockerfile:\r\n``` \r\n FROM debian:bullseye-slim\r\n\r\nWORKDIR /app\r\n\r\nEXPOSE 8081\r\n\r\n# Install required dependencies\r\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-17-jre-headless libnss3 libxcb1\r\n\r\nRUN apt-get install -y wget libgdk-pixbuf2.0-0 libnss3 libatk-bridge2.0-0 libcups2 libdrm2 libxcomposite1 libxdamage1 libxfixes3 libxrandr2 libgbm1 libxkbcommon-x11-0 libpangocairo-1.0-0 libasound2\r\n\r\n\r\nENV CHROME_VERSION &quot;119.0.6045.159-1&quot;\r\n\r\nRUN set -ex &amp;&amp; \\\r\n  apt-get update -qqy &amp;&amp; \\\r\n  wget --no-check-certificate https://dl.google.com/linux/chrome/deb/pool/main/g/google-chrome-stable/google-chrome-stable_${CHROME_VERSION}_amd64.deb &amp;&amp; \\\r\n  apt-get install -qqyf ./google-chrome-stable_${CHROME_VERSION}_amd64.deb &amp;&amp; \\\r\n  rm google-chrome-stable_${CHROME_VERSION}_amd64.deb\r\n\r\n\r\nCOPY target/springboot-aws-exe.jar /app/\r\nCOPY chromedriver.exe /app/chromedriver \r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/springboot-aws-exe.jar&quot;]\r\n```\r\nWhat have I done wrong? Any help is appreciated.","title":"Docker Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>My Chrome browser version is 119.0.6045.160. My chrome driver version is 119.0.6045.105.\nMy Selenium java version is 4.8.3.</p>\n<p>I am doing web Scrapping with selenium. It runs without error in springboot. I have also set the binary path.</p>\n<pre><code> ChromeOptions options = new ChromeOptions();\n options.setBinary(&quot;C:\\\\Program Files\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);\n\n\n WebDriver driver = new ChromeDriver(options);\n</code></pre>\n<p>However, when I run its docker image, I got the error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nHost info: host: 'dd7e0e343e76', ip: '172.17.0.2'\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\n        at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n        at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n        at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n        at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\n        at com.linggd.demo.Duldung2.myrun(Duldung2.java:64)\n        at com.linggd.demo.Htmltest3Application.main(Htmltest3Application.java:85)\n        ... 8 more\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.16.3-microsoft-standard-WSL2', java.version: '17.0.9'\nDriver info: driver.version: ChromeDriver\n        at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:208)\n        at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:114)\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n        ... 16 more\n</code></pre>\n<p>I think there might be some compatibility issue of chrome binary in docker with my chrome driver, so I specify the chrome version 119.0.6045.159-1 in my Dockerfile, but the error still exist.\nHere is my Dockerfile:</p>\n<pre><code> FROM debian:bullseye-slim\n\nWORKDIR /app\n\nEXPOSE 8081\n\n# Install required dependencies\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-17-jre-headless libnss3 libxcb1\n\nRUN apt-get install -y wget libgdk-pixbuf2.0-0 libnss3 libatk-bridge2.0-0 libcups2 libdrm2 libxcomposite1 libxdamage1 libxfixes3 libxrandr2 libgbm1 libxkbcommon-x11-0 libpangocairo-1.0-0 libasound2\n\n\nENV CHROME_VERSION &quot;119.0.6045.159-1&quot;\n\nRUN set -ex &amp;&amp; \\\n  apt-get update -qqy &amp;&amp; \\\n  wget --no-check-certificate https://dl.google.com/linux/chrome/deb/pool/main/g/google-chrome-stable/google-chrome-stable_${CHROME_VERSION}_amd64.deb &amp;&amp; \\\n  apt-get install -qqyf ./google-chrome-stable_${CHROME_VERSION}_amd64.deb &amp;&amp; \\\n  rm google-chrome-stable_${CHROME_VERSION}_amd64.deb\n\n\nCOPY target/springboot-aws-exe.jar /app/\nCOPY chromedriver.exe /app/chromedriver \n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/springboot-aws-exe.jar&quot;]\n</code></pre>\n<p>What have I done wrong? Any help is appreciated.</p>\n"},{"tags":["java","jaxb"],"answers":[{"comments":[{"owner":{"account_id":886633,"reputation":4739,"user_id":925927,"accept_rate":75,"display_name":"EdgeCase"},"score":1,"creation_date":1382549536,"post_id":19548424,"comment_id":29006066,"body_markdown":"Every example I&#39;ve seen suggest that I should see the ObjectFactory create method.  But I just don&#39;t see one for createAmount, just the CardRequest class itself.  But your 1st solution worked perfectly!  I&#39;ll be sure to accept when the time expires.","body":"Every example I&#39;ve seen suggest that I should see the ObjectFactory create method.  But I just don&#39;t see one for createAmount, just the CardRequest class itself.  But your 1st solution worked perfectly!  I&#39;ll be sure to accept when the time expires."},{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1382549632,"post_id":19548424,"comment_id":29006118,"body_markdown":"@EdgeCase - If `amount` is an element that is very nested in the XML schema the create method may be called something longer.  Can you search your `ObjectFactory` for create methods that contain `amount`?","body":"@EdgeCase - If <code>amount</code> is an element that is very nested in the XML schema the create method may be called something longer.  Can you search your <code>ObjectFactory</code> for create methods that contain <code>amount</code>?"},{"owner":{"account_id":886633,"reputation":4739,"user_id":925927,"accept_rate":75,"display_name":"EdgeCase"},"score":1,"creation_date":1382549843,"post_id":19548424,"comment_id":29006248,"body_markdown":"Yep!  Exactly as you describe.  Found &quot;createCardRequestAmount()&quot;  Thanks a million.","body":"Yep!  Exactly as you describe.  Found &quot;createCardRequestAmount()&quot;  Thanks a million."},{"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"score":1,"creation_date":1487973774,"post_id":19548424,"comment_id":72041885,"body_markdown":"What is the package name for ObjectFactory? I find 10 different ObjectFactory&#39;s when attempting to import. Not sure what to use.","body":"What is the package name for ObjectFactory? I find 10 different ObjectFactory&#39;s when attempting to import. Not sure what to use."},{"owner":{"account_id":2515313,"reputation":256,"user_id":2186897,"accept_rate":50,"display_name":"Ivo van der Veeken"},"score":1,"creation_date":1488474396,"post_id":19548424,"comment_id":72257290,"body_markdown":"@randominstanceOfLivingThing There&#39;s an ObjectFactory for every package that was created by xjc, you need the ObjectFactory in the same package as the class you&#39;re trying to instantiate.","body":"@randominstanceOfLivingThing There&#39;s an ObjectFactory for every package that was created by xjc, you need the ObjectFactory in the same package as the class you&#39;re trying to instantiate."},{"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"score":1,"creation_date":1488477945,"post_id":19548424,"comment_id":72259495,"body_markdown":"@IvovanderVeeken, I figured it eventually. Thanks for pointing it though. Someone will benefit from this info for sure.","body":"@IvovanderVeeken, I figured it eventually. Thanks for pointing it though. Someone will benefit from this info for sure."}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":6,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1382549963,"creation_date":1382549240,"answer_id":19548424,"question_id":19548374,"body_markdown":"You can do the following:\r\n\r\n    JAXBElement&lt;String&gt; jaxbElement = \r\n        new JAXBElement(new QName(&quot;http://mycompany/services&quot;, &quot;amount&quot;), String.class, &quot;Hello World&quot;);\r\n\r\nThere should also be a create method on the generated `ObjectFactory` class that will create this instance of `JAXBElement` with the appropriate info for you.\r\n\r\n    ObjectFactory objectFactory = new ObjectFactory();\r\n    JAXBElement&lt;String&gt; jaxbElement = objectFactory.createAmount(&quot;Hello World&quot;);\r\n\r\n---\r\n\r\n## UPDATE\r\n\r\nIf the element definition is nested within your schema the name of the create method might be longer such as `createCardRequestAmount()`.","title":"Set a Value for JAXBElement&lt;String&gt;","body":"<p>You can do the following:</p>\n\n<pre><code>JAXBElement&lt;String&gt; jaxbElement = \n    new JAXBElement(new QName(\"http://mycompany/services\", \"amount\"), String.class, \"Hello World\");\n</code></pre>\n\n<p>There should also be a create method on the generated <code>ObjectFactory</code> class that will create this instance of <code>JAXBElement</code> with the appropriate info for you.</p>\n\n<pre><code>ObjectFactory objectFactory = new ObjectFactory();\nJAXBElement&lt;String&gt; jaxbElement = objectFactory.createAmount(\"Hello World\");\n</code></pre>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<p>If the element definition is nested within your schema the name of the create method might be longer such as <code>createCardRequestAmount()</code>.</p>\n"}],"owner":{"account_id":886633,"reputation":4739,"user_id":925927,"accept_rate":75,"display_name":"EdgeCase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66065,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":19548424,"answer_count":1,"score":25,"last_activity_date":1700260039,"creation_date":1382549114,"question_id":19548374,"body_markdown":"I have a generated class that looks like below.  I need to call setAmount() from a POJO, but I don&#39;t know what value to pass for the arg.   It takes type JAXBElement&lt;String&gt;, and I haven&#39;t found a way to instantiate that.\r\n\r\nI have an ObjectFactory, but it only creates the class CardRequest.\r\n\r\nCan anyone suggest a way?\r\n\r\n\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;amount&quot;,\r\n    })\r\n    @XmlRootElement(name = &quot;card-request&quot;)\r\n    public class CardRequest {\r\n\r\n        @XmlElementRef(name = &quot;amount&quot;, namespace = &quot;http://mycompany/services&quot;, type = JAXBElement.class)\r\n        protected JAXBElement&lt;String&gt; amount;\r\n\r\n        public JAXBElement&lt;String&gt; getAmount() {\r\n            return amount;\r\n        }\r\n\r\n        public void setAmount(JAXBElement&lt;String&gt; value) {\r\n            this.amount = ((JAXBElement&lt;String&gt; ) value);\r\n        }\r\n    }\r\n","title":"Set a Value for JAXBElement&lt;String&gt;","body":"<p>I have a generated class that looks like below.  I need to call setAmount() from a POJO, but I don't know what value to pass for the arg.   It takes type JAXBElement, and I haven't found a way to instantiate that.</p>\n\n<p>I have an ObjectFactory, but it only creates the class CardRequest.</p>\n\n<p>Can anyone suggest a way?</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\n    \"amount\",\n})\n@XmlRootElement(name = \"card-request\")\npublic class CardRequest {\n\n    @XmlElementRef(name = \"amount\", namespace = \"http://mycompany/services\", type = JAXBElement.class)\n    protected JAXBElement&lt;String&gt; amount;\n\n    public JAXBElement&lt;String&gt; getAmount() {\n        return amount;\n    }\n\n    public void setAmount(JAXBElement&lt;String&gt; value) {\n        this.amount = ((JAXBElement&lt;String&gt; ) value);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","pagination","criteriaquery"],"answers":[{"comments":[{"owner":{"account_id":21887631,"reputation":11,"user_id":16175084,"display_name":"Swetha"},"score":0,"creation_date":1700245601,"post_id":77502752,"comment_id":136635009,"body_markdown":"But since we are making 2 calls to mongo db its costing us more with respect to performance. What else can we do to improve performance if 2 calls to mongodb can&#39;t be avoided","body":"But since we are making 2 calls to mongo db its costing us more with respect to performance. What else can we do to improve performance if 2 calls to mongodb can&#39;t be avoided"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700248290,"post_id":77502752,"comment_id":136635368,"body_markdown":"I don&#39;t understand what&#39;s performance  you talking. Do you mean a query performance or database performance? For database 1 or 2 queries makes no difference, the database performance admit it. If you want optimize performance of query then look at your `explain()` and use indexes for fields in the where condition. You can read further [this](https://www.mongodb.com/docs/manual/tutorial/optimize-query-performance-with-indexes-and-projections/) is your guide.","body":"I don&#39;t understand what&#39;s performance  you talking. Do you mean a query performance or database performance? For database 1 or 2 queries makes no difference, the database performance admit it. If you want optimize performance of query then look at your <code>explain()</code> and use indexes for fields in the where condition. You can read further <a href=\"https://www.mongodb.com/docs/manual/tutorial/optimize-query-performance-with-indexes-and-projections/\" rel=\"nofollow noreferrer\">this</a> is your guide."},{"owner":{"account_id":21887631,"reputation":11,"user_id":16175084,"display_name":"Swetha"},"score":0,"creation_date":1700311186,"post_id":77502752,"comment_id":136640378,"body_markdown":"performance issue is code going to mongodb twice will increase the response time right, My only question is can we achieve paginantion as well as total result set count from a single mongodb call from code","body":"performance issue is code going to mongodb twice will increase the response time right, My only question is can we achieve paginantion as well as total result set count from a single mongodb call from code"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700313171,"post_id":77502752,"comment_id":136640541,"body_markdown":"It isn&#39;t an issue, and as I said in the answer you can&#39;t.","body":"It isn&#39;t an issue, and as I said in the answer you can&#39;t."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700235817,"creation_date":1700234404,"answer_id":77502752,"question_id":77502535,"body_markdown":"When pagination is performed, usually, use two queries: first query will count a total size, second query returns actual records using two parameters: `pageNumber` and `pageSize`. \r\n\r\nThese two queries are independent of each other and cannot be joined. So, it&#39;s impossible using CreteriaQuery API and in pagination themselves.\r\n","title":"Is it posible to use only one call to database when pagination in Java?","body":"<p>When pagination is performed, usually, use two queries: first query will count a total size, second query returns actual records using two parameters: <code>pageNumber</code> and <code>pageSize</code>.</p>\n<p>These two queries are independent of each other and cannot be joined. So, it's impossible using CreteriaQuery API and in pagination themselves.</p>\n"},{"comments":[{"owner":{"account_id":21887631,"reputation":11,"user_id":16175084,"display_name":"Swetha"},"score":0,"creation_date":1700311240,"post_id":77504861,"comment_id":136640384,"body_markdown":"Hi by any chance can you give me a java spring code please if possible","body":"Hi by any chance can you give me a java spring code please if possible"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700313449,"post_id":77504861,"comment_id":136640563,"body_markdown":"@Swetha it is not possible.","body":"@Swetha it is not possible."}],"tags":[],"owner":{"account_id":20092469,"reputation":12133,"user_id":14732669,"display_name":"ray"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700258842,"creation_date":1700258842,"answer_id":77504861,"question_id":77502535,"body_markdown":"It is possible to achieve the pagination in one call with `$facet`. Just be reminded not to have too large page size since it would fail due to [16MB MongoDB document size limit](https://www.mongodb.com/docs/manual/core/document/#document-size-limit).\r\n\r\n```js\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$facet&quot;: {\r\n      &quot;paginationMeta&quot;: [\r\n        {\r\n          &quot;$match&quot;: {\r\n            //your match criteria here\r\n            \r\n          }\r\n        },\r\n        {\r\n          &quot;$count&quot;: &quot;total_documents&quot;\r\n        }\r\n      ],\r\n      page: [\r\n        {\r\n          &quot;$match&quot;: {\r\n            //your match criteria here\r\n            \r\n          }\r\n        },\r\n        {\r\n          &quot;$sort&quot;: {\r\n            key: 1\r\n          }\r\n        },\r\n        {\r\n          &quot;$skip&quot;: 20\r\n        },\r\n        {\r\n          &quot;$limit&quot;: 10\r\n        }\r\n      ]\r\n    }\r\n  }\r\n])\r\n```\r\n[Mongo Playground](https://mongoplayground.net/p/Cqx9Y2wjsjP)\r\n","title":"Is it posible to use only one call to database when pagination in Java?","body":"<p>It is possible to achieve the pagination in one call with <code>$facet</code>. Just be reminded not to have too large page size since it would fail due to <a href=\"https://www.mongodb.com/docs/manual/core/document/#document-size-limit\" rel=\"nofollow noreferrer\">16MB MongoDB document size limit</a>.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n  {\n    &quot;$facet&quot;: {\n      &quot;paginationMeta&quot;: [\n        {\n          &quot;$match&quot;: {\n            //your match criteria here\n            \n          }\n        },\n        {\n          &quot;$count&quot;: &quot;total_documents&quot;\n        }\n      ],\n      page: [\n        {\n          &quot;$match&quot;: {\n            //your match criteria here\n            \n          }\n        },\n        {\n          &quot;$sort&quot;: {\n            key: 1\n          }\n        },\n        {\n          &quot;$skip&quot;: 20\n        },\n        {\n          &quot;$limit&quot;: 10\n        }\n      ]\n    }\n  }\n])\n</code></pre>\n<p><a href=\"https://mongoplayground.net/p/Cqx9Y2wjsjP\" rel=\"nofollow noreferrer\">Mongo Playground</a></p>\n"}],"owner":{"account_id":21887631,"reputation":11,"user_id":16175084,"display_name":"Swetha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700258842,"creation_date":1700232596,"question_id":77502535,"body_markdown":"\t\r\nIf the pagesize is 10 and `pageNumber` is 0, for the given condition, if I I get 50 documents from mongodb, then `total_documents` should be 50 and `msList` should have the details of 1st 10 documents(DTO&#39;s)(since the `pageNumber` is 0 i.e. pagination).\r\n\r\n```java\r\nQuery query = new Query();\r\nList&lt;Criteria&gt; criteria = new ArrayList&lt;&gt;();\r\ncriteria.add(Criteria.where(&quot;di.ai&quot;).in(new ArrayList&lt;&gt;(Arrays.asList(&quot;123&quot;))));\r\nquery.addCriteria(new Criteria().andOperator(criteria.toArray(new Criteria[criteria.size()])));\r\nLong total_documents = this.mongoTemplate.count(query, NSDTO.class, MONGODB_MESSAGE_COLLECTION);\r\nPageable pageable = PageRequest.of((pageNumber - 1), pageSize);\r\nquery.with(pageable);    \r\nList&lt;NSDTO&gt; nsList= this.mongoTemplate.find(query, NSDTO.class, MONGODB_MESSAGE_COLLECTION);&quot;\r\n```\t\t\r\n\t\r\nI am able to achieve this functionality using the above code, but the problem here is we are making mongodb calls 2 times. \r\n\r\nWould it be possible to achieve the same functionality using only one mongodb call?\r\n\r\nCould someone please help on this regard.\r\n\r\n\t","title":"Is it posible to use only one call to database when pagination in Java?","body":"<p>If the pagesize is 10 and <code>pageNumber</code> is 0, for the given condition, if I I get 50 documents from mongodb, then <code>total_documents</code> should be 50 and <code>msList</code> should have the details of 1st 10 documents(DTO's)(since the <code>pageNumber</code> is 0 i.e. pagination).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new Query();\nList&lt;Criteria&gt; criteria = new ArrayList&lt;&gt;();\ncriteria.add(Criteria.where(&quot;di.ai&quot;).in(new ArrayList&lt;&gt;(Arrays.asList(&quot;123&quot;))));\nquery.addCriteria(new Criteria().andOperator(criteria.toArray(new Criteria[criteria.size()])));\nLong total_documents = this.mongoTemplate.count(query, NSDTO.class, MONGODB_MESSAGE_COLLECTION);\nPageable pageable = PageRequest.of((pageNumber - 1), pageSize);\nquery.with(pageable);    \nList&lt;NSDTO&gt; nsList= this.mongoTemplate.find(query, NSDTO.class, MONGODB_MESSAGE_COLLECTION);&quot;\n</code></pre>\n<p>I am able to achieve this functionality using the above code, but the problem here is we are making mongodb calls 2 times.</p>\n<p>Would it be possible to achieve the same functionality using only one mongodb call?</p>\n<p>Could someone please help on this regard.</p>\n"},{"tags":["java","javascript","html","selenium"],"comments":[{"owner":{"account_id":3756662,"reputation":6790,"user_id":3122880,"accept_rate":50,"display_name":"Vikas Ojha"},"score":0,"creation_date":1433749742,"post_id":30703598,"comment_id":49465226,"body_markdown":"Please post what errors are you getting while trying the above codes. Also, could you post the url of the site page in question?","body":"Please post what errors are you getting while trying the above codes. Also, could you post the url of the site page in question?"},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433751215,"post_id":30703598,"comment_id":49465936,"body_markdown":"am gettiing errors while verifying the elements in the app configuration page.it will be opened by clicking the app configuration option from the documentation menu.so that step will fail.but clcking is not happening  and not redirected to configuration page","body":"am gettiing errors while verifying the elements in the app configuration page.it will be opened by clicking the app configuration option from the documentation menu.so that step will fail.but clcking is not happening  and not redirected to configuration page"},{"owner":{"account_id":3756662,"reputation":6790,"user_id":3122880,"accept_rate":50,"display_name":"Vikas Ojha"},"score":0,"creation_date":1433751395,"post_id":30703598,"comment_id":49466020,"body_markdown":"Could you post the site url?","body":"Could you post the site url?"},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433751818,"post_id":30703598,"comment_id":49466257,"body_markdown":"site url need to login first to validate these elements.","body":"site url need to login first to validate these elements."}],"answers":[{"comments":[{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433752082,"post_id":30704320,"comment_id":49466424,"body_markdown":"No in my webpage it contains multiple&#39;/docs/configuration href&#39;s thats y i used.","body":"No in my webpage it contains multiple&#39;/docs/configuration href&#39;s thats y i used."},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433752132,"post_id":30704320,"comment_id":49466453,"body_markdown":"if that index is not presnt then how mouse pointer will move to that element.that is happening now","body":"if that index is not presnt then how mouse pointer will move to that element.that is happening now"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1433752250,"post_id":30704320,"comment_id":49466517,"body_markdown":"can you post your website..?","body":"can you post your website..?"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1433753051,"post_id":30704320,"comment_id":49466964,"body_markdown":"Try to use this xpath: &quot; By.xpath(&quot;//li[@class=&#39;current&#39;]/a[text()=&#39;App Configuration&#39;]&quot;) .","body":"Try to use this xpath: &quot; By.xpath(&quot;//li[@class=&#39;current&#39;]/a[text()=&#39;App Configuration&#39;]&quot;) ."},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433754272,"post_id":30704320,"comment_id":49467697,"body_markdown":"org.openqa.selenium.NoSuchElementException: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//li[@class=&#39;open&#39;]/a[text()=&#39;App Configuration&#39;]&quot;}","body":"org.openqa.selenium.NoSuchElementException: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//li[@class=&#39;open&#39;]/a[text()=&#39;&zwnj;&#8203;App Configuration&#39;]&quot;}"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1433754476,"post_id":30704320,"comment_id":49467837,"body_markdown":"Please use this xpath: By.xpath(&quot;//nav[@id=&#39;topnav&#39;]/div/div/ul/li[2]/ul/li[3]/a&quot;);. Its working.","body":"Please use this xpath: By.xpath(&quot;//nav[@id=&#39;topnav&#39;]/div/div/ul/li[2]/ul/li[3]/a&quot;);&zwnj;&#8203;. Its working."},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433755395,"post_id":30704320,"comment_id":49468411,"body_markdown":"is it like `WebElement config = webdriver.findElement(By.xpath(&quot;By.xpath(&quot;//nav[@id=&#39;topnav&#39;]/div/div/ul/li[2]/ul/li[3]/a&quot;)));\naction.moveToElement(config).click().build.perform();`","body":"is it like <code>WebElement config = webdriver.findElement(By.xpath(&quot;By.xpath(&quot;&#47;&#47;nav[@id=&#39;topnav&#39;&zwnj;&#8203;]&#47;div&#47;div&#47;ul&#47;li[2]&#47;u&zwnj;&#8203;l&#47;li[3]&#47;a&quot;))); action.moveToElement(config).click().build.perform();</code>"},{"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"score":0,"creation_date":1433755607,"post_id":30704320,"comment_id":49468537,"body_markdown":"no need to perform mouse over. In your case its working na. That xpath is only for clicking purpose. webdriver.findElement(By.xpath(&quot;//nav[@id=&#39;topnav&#39;]/div/div/ul/li[2]/ul/li[3]/a&quot;)).click(); This will perform click action on APp Configuration.","body":"no need to perform mouse over. In your case its working na. That xpath is only for clicking purpose. webdriver.findElement(By.xpath(&quot;//nav[@id=&#39;topnav&#39;]/div/div/&zwnj;&#8203;ul/li[2]/ul/li[3]/&zwnj;&#8203;a&quot;)).click(); This will perform click action on APp Configuration."},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1433755884,"post_id":30704320,"comment_id":49468723,"body_markdown":"But it is not working.app config options is seems as selected but clik is not happening..i dont know...","body":"But it is not working.app config options is seems as selected but clik is not happening..i dont know..."}],"tags":[],"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433754472,"creation_date":1433751896,"answer_id":30704320,"question_id":30703598,"body_markdown":"No need to pass index in xpath, in html href is unique. so you can directly give xpath. like:\r\n\r\n       WebElement config = webdriver.findElement(By.xpath(&quot;//a[contains(@href,&#39;/docs/configuration&#39;)]&quot;));","title":"click a menu option using selenium","body":"<p>No need to pass index in xpath, in html href is unique. so you can directly give xpath. like:</p>\n\n<pre><code>   WebElement config = webdriver.findElement(By.xpath(\"//a[contains(@href,'/docs/configuration')]\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5879762,"reputation":4720,"user_id":4629534,"accept_rate":75,"display_name":"W&#252;rgspa&#223;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433770613,"creation_date":1433770613,"answer_id":30710616,"question_id":30703598,"body_markdown":"Call directly click on the WebElement (no need for `Actions`):\r\n\r\n    By loc = By.xpath(&quot;(//a[contains(@href,&#39;/docs/configuration&#39;)])[1]&quot;);\r\n    WebElement config = webdriver.findElement(loc);\r\n    config.click();\r\n\r\nWorks for me with selenium-java-2.44.0 (although &#39;/docs/configuration&#39; is not a valid target in my setup).","title":"click a menu option using selenium","body":"<p>Call directly click on the WebElement (no need for <code>Actions</code>):</p>\n\n<pre><code>By loc = By.xpath(\"(//a[contains(@href,'/docs/configuration')])[1]\");\nWebElement config = webdriver.findElement(loc);\nconfig.click();\n</code></pre>\n\n<p>Works for me with selenium-java-2.44.0 (although '/docs/configuration' is not a valid target in my setup).</p>\n"}],"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700258525,"creation_date":1433749266,"question_id":30703598,"body_markdown":"\r\n  I have  a menu dropdown like this.\r\n  Using selenium i need to move the mouse to menu item Documentation and click the option App Configuration from that.\r\n  mouse hover is working fine.But am not able to click the option element app Configuration.\r\n\t\r\n\t\r\n\r\n    \t&lt;li class=&quot;current&quot;&gt;\r\n        &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;\r\n        &lt;ul class=&quot;list-unstyled&quot;&gt;\r\n            &lt;li&gt;\r\n                &lt;a href=&quot;/docs&quot;&gt;API Reference&lt;/a&gt;\r\n            &lt;/li&gt;\r\n    \r\n            &lt;li&gt;&lt;a href=&quot;/docs/api/oauth2&quot;&gt;OAuth 2.0 Guide&lt;/a&gt;&lt;/li&gt;\r\n    \r\n    \r\n            &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;/docs/configuration&quot;&gt;App Configuration&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/docs/guidelines&quot;&gt;Tech Guidelines&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/docs/best-practices&quot;&gt;Best Practices&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/li&gt;\r\n    &lt;li class=&quot;&quot;&gt;\r\n        &lt;a href=&quot;/tools&quot;&gt;Tools&lt;/a&gt;\r\n        &lt;ul class=&quot;list-unstyled&quot;&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/tools/quickstart&quot;&gt;Quick Start&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/tools/testing&quot;&gt;Testing&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/tools/devbox&quot;&gt;Developer STB&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;/tools/reference&quot;&gt;Reference Apps&lt;/a&gt;&lt;/li&gt;\r\n    \r\n    \r\n        &lt;/ul&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n        &lt;a href=&quot;/updates&quot;&gt;Updates&lt;/a&gt;\r\n    &lt;/li&gt;\t\r\n\r\n\t\r\n              \r\nWhen i mouse over any of the menu links like Documentation or Tools  the    `&lt;li class=&quot;&quot;&gt; becomes  &lt;li class=&quot;open&quot;&gt;`\r\n\r\n\r\n   \r\nWhile i tried using below code mouse hover to Documentation link is happend!!\r\nAnd the mouse pointer moved to the &#39;App Configuration&#39; option .But click event is not happening.How it can possible\r\n\r\n    Actions action = new Actions(webdriver);\r\n    WebElement we = webdriver.findElement(By.xpath(&quot;//a[@href = &#39;/docs&#39;&quot;));\r\n    action.moveToElement(we).build.perform();\r\n    \r\n    WebElement config = webdriver.findElement(By.xpath(&quot;(//a[contains(@href,&#39;/docs/configuration&#39;)])[1]));\r\n    action.moveToElement(config).click().build.perform();\r\n\r\ni need to click the app configuration option","title":"click a menu option using selenium","body":"<p>I have  a menu dropdown like this.\n  Using selenium i need to move the mouse to menu item Documentation and click the option App Configuration from that.\n  mouse hover is working fine.But am not able to click the option element app Configuration.</p>\n\n<pre><code>    &lt;li class=\"current\"&gt;\n    &lt;a href=\"/docs\"&gt;Documentation&lt;/a&gt;\n    &lt;ul class=\"list-unstyled\"&gt;\n        &lt;li&gt;\n            &lt;a href=\"/docs\"&gt;API Reference&lt;/a&gt;\n        &lt;/li&gt;\n\n        &lt;li&gt;&lt;a href=\"/docs/api/oauth2\"&gt;OAuth 2.0 Guide&lt;/a&gt;&lt;/li&gt;\n\n\n        &lt;li class=\"current\"&gt;&lt;a href=\"/docs/configuration\"&gt;App Configuration&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/docs/guidelines\"&gt;Tech Guidelines&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/docs/best-practices\"&gt;Best Practices&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/li&gt;\n&lt;li class=\"\"&gt;\n    &lt;a href=\"/tools\"&gt;Tools&lt;/a&gt;\n    &lt;ul class=\"list-unstyled\"&gt;\n        &lt;li&gt;&lt;a href=\"/tools/quickstart\"&gt;Quick Start&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/tools/testing\"&gt;Testing&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/tools/devbox\"&gt;Developer STB&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"/tools/reference\"&gt;Reference Apps&lt;/a&gt;&lt;/li&gt;\n\n\n    &lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n    &lt;a href=\"/updates\"&gt;Updates&lt;/a&gt;\n&lt;/li&gt;   \n</code></pre>\n\n<p>When i mouse over any of the menu links like Documentation or Tools  the    <code>&lt;li class=\"\"&gt; becomes  &lt;li class=\"open\"&gt;</code></p>\n\n<p>While i tried using below code mouse hover to Documentation link is happend!!\nAnd the mouse pointer moved to the 'App Configuration' option .But click event is not happening.How it can possible</p>\n\n<pre><code>Actions action = new Actions(webdriver);\nWebElement we = webdriver.findElement(By.xpath(\"//a[@href = '/docs'\"));\naction.moveToElement(we).build.perform();\n\nWebElement config = webdriver.findElement(By.xpath(\"(//a[contains(@href,'/docs/configuration')])[1]));\naction.moveToElement(config).click().build.perform();\n</code></pre>\n\n<p>i need to click the app configuration option</p>\n"},{"tags":["java","php","javascript","actionscript","tostring"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1287195310,"post_id":3946529,"comment_id":4215794,"body_markdown":"Hint: an IDE like Eclipse can generate a `toString()`. Explore the *Source* menu. Timesaver!","body":"Hint: an IDE like Eclipse can generate a <code>toString()</code>. Explore the <i>Source</i> menu. Timesaver!"},{"owner":{"account_id":201678,"reputation":4538,"user_id":448287,"display_name":"Joony"},"score":1,"creation_date":1287214769,"post_id":3946529,"comment_id":4216629,"body_markdown":"I think a real timesaver would be to use a debugger.  You can just break execution at any point, then print all the information you need about the available objects, get a stack track, make any changes required, and then continue.  All without bloating your code with toString methods and traces.  Why bother then the debugger does it all for you, for every object?","body":"I think a real timesaver would be to use a debugger.  You can just break execution at any point, then print all the information you need about the available objects, get a stack track, make any changes required, and then continue.  All without bloating your code with toString methods and traces.  Why bother then the debugger does it all for you, for every object?"},{"owner":{"account_id":5372615,"reputation":1585,"user_id":7389293,"display_name":"carloswm85"},"score":0,"creation_date":1601503412,"post_id":3946529,"comment_id":113432539,"body_markdown":"Java SE7 documentation gives a pretty good description on what toString() should do. [Here](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()).","body":"Java SE7 documentation gives a pretty good description on what toString() should do. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">Here</a>."}],"answers":[{"comments":[{"owner":{"account_id":3405,"reputation":14683,"user_id":4913,"accept_rate":82,"display_name":"zigdon"},"score":12,"creation_date":1287182118,"post_id":3946561,"comment_id":4214741,"body_markdown":"I think `toString` should really aim to return a single line, so something like json might be overly verbose.","body":"I think <code>toString</code> should really aim to return a single line, so something like json might be overly verbose."},{"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"score":1,"creation_date":1287183510,"post_id":3946561,"comment_id":4214888,"body_markdown":"@zigdon - there&#39;s no reason you couldn&#39;t condense it into a single line","body":"@zigdon - there&#39;s no reason you couldn&#39;t condense it into a single line"},{"owner":{"account_id":3405,"reputation":14683,"user_id":4913,"accept_rate":82,"display_name":"zigdon"},"score":0,"creation_date":1287183960,"post_id":3946561,"comment_id":4214936,"body_markdown":"Right, but it would still be fairly verbose on large nested objects.","body":"Right, but it would still be fairly verbose on large nested objects."}],"tags":[],"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1287181203,"creation_date":1287181203,"answer_id":3946561,"question_id":3946529,"body_markdown":"json syntax seems to fit pretty well since it was designed specifically to represent complex objects as strings\r\n\r\n    Person = {\r\n        &quot;firstName&quot;: &quot;John&quot;,\r\n        &quot;lastName&quot;: &quot;Smith&quot;,\r\n        &quot;age&quot;: 25,\r\n        &quot;address&quot;: \r\n        {\r\n            &quot;streetAddress&quot;: &quot;21 2nd Street&quot;,\r\n            &quot;city&quot;: &quot;New York&quot;,\r\n            &quot;state&quot;: &quot;NY&quot;,\r\n            &quot;postalCode&quot;: &quot;10021&quot;\r\n        },\r\n        &quot;phoneNumber&quot;: \r\n        [\r\n            {\r\n                &quot;type&quot;: &quot;home&quot;,\r\n                &quot;number&quot;: &quot;212 555-1234&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;fax&quot;,\r\n                &quot;number&quot;: &quot;646 555-4567&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n","title":"What is the best standard style for a toString implementation?","body":"<p>json syntax seems to fit pretty well since it was designed specifically to represent complex objects as strings</p>\n\n<pre><code>Person = {\n    \"firstName\": \"John\",\n    \"lastName\": \"Smith\",\n    \"age\": 25,\n    \"address\": \n    {\n        \"streetAddress\": \"21 2nd Street\",\n        \"city\": \"New York\",\n        \"state\": \"NY\",\n        \"postalCode\": \"10021\"\n    },\n    \"phoneNumber\": \n    [\n        {\n            \"type\": \"home\",\n            \"number\": \"212 555-1234\"\n        },\n        {\n            \"type\": \"fax\",\n            \"number\": \"646 555-4567\"\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3405,"reputation":14683,"user_id":4913,"accept_rate":82,"display_name":"zigdon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287182253,"creation_date":1287182253,"answer_id":3946639,"question_id":3946529,"body_markdown":"If your objects have something that might be useful as an identifier, I&#39;d implement something like your second example:\r\n\r\n    [SimpleClassName:id] { prop1:value, prop2:[NestedObject:id] { prop3:value }}\r\n\r\nWhere the `id` is whatever makes sense for that object to be an identifier - the name for the canonical `Person` object, a primary key for an object from a database, etc.","title":"What is the best standard style for a toString implementation?","body":"<p>If your objects have something that might be useful as an identifier, I'd implement something like your second example:</p>\n\n<pre><code>[SimpleClassName:id] { prop1:value, prop2:[NestedObject:id] { prop3:value }}\n</code></pre>\n\n<p>Where the <code>id</code> is whatever makes sense for that object to be an identifier - the name for the canonical <code>Person</code> object, a primary key for an object from a database, etc.</p>\n"},{"comments":[{"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"score":0,"creation_date":1287183510,"post_id":3946690,"comment_id":4214887,"body_markdown":"I like it, but any idea how this meshes with toString used by various frameworks and other open source projects?","body":"I like it, but any idea how this meshes with toString used by various frameworks and other open source projects?"},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":1,"creation_date":1410417042,"post_id":3946690,"comment_id":40319632,"body_markdown":"+1, Good to know that eclipse by default generates `toString` method in that format.","body":"+1, Good to know that eclipse by default generates <code>toString</code> method in that format."},{"owner":{"account_id":1086850,"reputation":4124,"user_id":1082367,"accept_rate":47,"display_name":"Matthew Cornell"},"score":0,"creation_date":1463494584,"post_id":3946690,"comment_id":62082804,"body_markdown":"I like this one, though a variation I prefer is like the Java Tutorial where they do not put spaces after commas. While it&#39;s more dense, it has the advantage of being able to see strings without having to add quote chars, if that makes sense. Class.getSimpleName() is useful instead of hard-coding, as is Arrays.toString() for array-based variables.","body":"I like this one, though a variation I prefer is like the Java Tutorial where they do not put spaces after commas. While it&#39;s more dense, it has the advantage of being able to see strings without having to add quote chars, if that makes sense. Class.getSimpleName() is useful instead of hard-coding, as is Arrays.toString() for array-based variables."},{"owner":{"account_id":6406447,"reputation":3114,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"score":0,"creation_date":1593817895,"post_id":3946690,"comment_id":110920330,"body_markdown":"The linkt to *the default style* seems to be dead.","body":"The linkt to <i>the default style</i> seems to be dead."}],"tags":[],"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1700257970,"creation_date":1287182835,"answer_id":3946690,"question_id":3946529,"body_markdown":"Personally, I find the mix of `[]` and `{}` not so easy to get an immediate view of the hierarchy.\r\n\r\nI like this format (and I&#39;ve seen it being used in a number of places):\r\n\r\n    SimpleClassName[prop1=value, prop2=value]\r\n    SimpleClassName[prop1=value, prop2=NestedObject[prop3=value]]\r\n\r\nThere&#39;s also the possibility to add an identifier with `@`, for example [the default style][1] for the [commons-lang][2] `ToStringBuilder` does that (using its own example):\r\n\r\n    Person@182f0db[name=John Doe,age=33,smoker=false]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/ToStringStyle.html#DEFAULT_STYLE\r\n  [2]: http://commons.apache.org/lang/","title":"What is the best standard style for a toString implementation?","body":"<p>Personally, I find the mix of <code>[]</code> and <code>{}</code> not so easy to get an immediate view of the hierarchy.</p>\n<p>I like this format (and I've seen it being used in a number of places):</p>\n<pre><code>SimpleClassName[prop1=value, prop2=value]\nSimpleClassName[prop1=value, prop2=NestedObject[prop3=value]]\n</code></pre>\n<p>There's also the possibility to add an identifier with <code>@</code>, for example <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/ToStringStyle.html#DEFAULT_STYLE\" rel=\"nofollow noreferrer\">the default style</a> for the <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow noreferrer\">commons-lang</a> <code>ToStringBuilder</code> does that (using its own example):</p>\n<pre><code>Person@182f0db[name=John Doe,age=33,smoker=false]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287184188,"creation_date":1287184188,"answer_id":3946794,"question_id":3946529,"body_markdown":"Since you asked about what other open source projects to, here&#39;s how jEdit does it, which is similar to Wouter&#39;s:\r\n\r\n    BufferChanging[what=BUFFER_CHANGING,source=org.gjt.sp.jedit.EditPane[active,global]]\r\n","title":"What is the best standard style for a toString implementation?","body":"<p>Since you asked about what other open source projects to, here's how jEdit does it, which is similar to Wouter's:</p>\n\n<pre><code>BufferChanging[what=BUFFER_CHANGING,source=org.gjt.sp.jedit.EditPane[active,global]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219346,"reputation":21,"user_id":476193,"display_name":"rthrwht"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287186322,"creation_date":1287186322,"answer_id":3946918,"question_id":3946529,"body_markdown":"check out phps print_r($obj, true)\r\nor also serialize() could work, dont know exactly for what its needed for.\r\njsons is also a clean solution, especially if u want to import the data in javascript environbments","title":"What is the best standard style for a toString implementation?","body":"<p>check out phps print_r($obj, true)\nor also serialize() could work, dont know exactly for what its needed for.\njsons is also a clean solution, especially if u want to import the data in javascript environbments</p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1472136623,"creation_date":1287194670,"answer_id":3947358,"question_id":3946529,"body_markdown":"I think the format produced by [Guava][1]&#39;s [MoreObjects.toStringHelper()][2] is pretty nice, but it&#39;s mainly just good to have some consistent format that you use:\r\n\r\n    public String toString() {\r\n      return Objects.toStringHelper(this)\r\n          .add(&quot;prop1&quot;, prop1)\r\n          .add(&quot;prop2&quot;, prop2)\r\n          .toString();\r\n    }\r\n\r\n    // Produces &quot;SimpleClassName{prop1=foo, prop2=bar}&quot;\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/base/MoreObjects.java","title":"What is the best standard style for a toString implementation?","body":"<p>I think the format produced by <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>'s <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/base/MoreObjects.java\" rel=\"noreferrer\">MoreObjects.toStringHelper()</a> is pretty nice, but it's mainly just good to have some consistent format that you use:</p>\n\n<pre><code>public String toString() {\n  return Objects.toStringHelper(this)\n      .add(\"prop1\", prop1)\n      .add(\"prop2\", prop2)\n      .toString();\n}\n\n// Produces \"SimpleClassName{prop1=foo, prop2=bar}\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1615161140,"creation_date":1287214510,"answer_id":3948057,"question_id":3946529,"body_markdown":"&gt; Is there any standard, or simply just a best practice for a style?\r\n\r\nNo.  The &quot;best&quot; output for a `toString()` method is determined by what you want to use it for.  Is it for serializing the object state in a form that allows it to be deserialized?  Is it for creating debug messages?  Is it for rendering the object for display to end-users?  \r\n\r\n(Note that in Java, the `toString()` method can be used for either purpose.  Using `toString()` for / in end-user messages has problems ... but people do it anyway.)\r\n\r\nIf you want to develop an in-house style for your debug/logging `toString()` methods, that&#39;s fine.  But unless there was a requirement for this, I wouldn&#39;t bother.  IMO, it is effort that could better be spent elsewhere.","title":"What is the best standard style for a toString implementation?","body":"<blockquote>\n<p>Is there any standard, or simply just a best practice for a style?</p>\n</blockquote>\n<p>No.  The &quot;best&quot; output for a <code>toString()</code> method is determined by what you want to use it for.  Is it for serializing the object state in a form that allows it to be deserialized?  Is it for creating debug messages?  Is it for rendering the object for display to end-users?</p>\n<p>(Note that in Java, the <code>toString()</code> method can be used for either purpose.  Using <code>toString()</code> for / in end-user messages has problems ... but people do it anyway.)</p>\n<p>If you want to develop an in-house style for your debug/logging <code>toString()</code> methods, that's fine.  But unless there was a requirement for this, I wouldn't bother.  IMO, it is effort that could better be spent elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524218679,"creation_date":1452155185,"answer_id":34650381,"question_id":3946529,"body_markdown":"Not a direct answer to the question, however below would be a time saver during initial development:\r\n\r\nDisclaimer: Apache Commons library is used.\r\n\r\n 1. Add a new Eclipse template called `xreflect` in `Java &gt; Editor &gt; Templates`; Add below into its *pattern* textarea:\r\n\r\n\r\n&lt;!-- --&gt;\r\n\r\n    // ---------- template start ----------- //\r\n    ${:import(org.apache.commons.lang.builder.EqualsBuilder,org.apache.commons.lang.builder.HashCodeBuilder,org.apache.commons.lang.builder.ReflectionToStringBuilder)}\r\n    /*\r\n     * (non-Javadoc)\r\n    * @see java.lang.Object#equals(java.lang.Object)\r\n     */\r\n    @Override\r\n    public boolean equals(\r\n            final Object pObj) {\r\n        return EqualsBuilder.reflectionEquals(this, pObj);\r\n    }\r\n    \r\n    /*\r\n     * (non-Javadoc)\r\n     * @see java.lang.Object#toString()\r\n     */\r\n    @Override\r\n    public String toString() {\r\n        return ReflectionToStringBuilder.toString(this);\r\n    }\r\n    \r\n    /*\r\n     * (non-Javadoc)\r\n     * @see java.lang.Object#hashCode()\r\n     */\r\n    @Override\r\n    public int hashCode() {\r\n        return HashCodeBuilder.reflectionHashCode(this);\r\n    }\r\n    // ---------- template end ----------- //\r\n\r\n 2. Give `OK`, `OK`\r\n 3. Just go to the end of a Java class, type `xreflect` and press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Space&lt;/kbd&gt; to autofill equals(), toString() and hashCode() methods automatically.","title":"What is the best standard style for a toString implementation?","body":"<p>Not a direct answer to the question, however below would be a time saver during initial development:</p>\n\n<p>Disclaimer: Apache Commons library is used.</p>\n\n<ol>\n<li>Add a new Eclipse template called <code>xreflect</code> in <code>Java &gt; Editor &gt; Templates</code>; Add below into its <em>pattern</em> textarea:</li>\n</ol>\n\n\n\n<pre><code>// ---------- template start ----------- //\n${:import(org.apache.commons.lang.builder.EqualsBuilder,org.apache.commons.lang.builder.HashCodeBuilder,org.apache.commons.lang.builder.ReflectionToStringBuilder)}\n/*\n * (non-Javadoc)\n* @see java.lang.Object#equals(java.lang.Object)\n */\n@Override\npublic boolean equals(\n        final Object pObj) {\n    return EqualsBuilder.reflectionEquals(this, pObj);\n}\n\n/*\n * (non-Javadoc)\n * @see java.lang.Object#toString()\n */\n@Override\npublic String toString() {\n    return ReflectionToStringBuilder.toString(this);\n}\n\n/*\n * (non-Javadoc)\n * @see java.lang.Object#hashCode()\n */\n@Override\npublic int hashCode() {\n    return HashCodeBuilder.reflectionHashCode(this);\n}\n// ---------- template end ----------- //\n</code></pre>\n\n<ol start=\"2\">\n<li>Give <code>OK</code>, <code>OK</code></li>\n<li>Just go to the end of a Java class, type <code>xreflect</code> and press <kbd>Ctrl</kbd> + <kbd>Space</kbd> to autofill equals(), toString() and hashCode() methods automatically.</li>\n</ol>\n"}],"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20277,"favorite_count":0,"down_vote_count":1,"up_vote_count":44,"closed_date":1471928892,"accepted_answer_id":3946690,"answer_count":8,"score":43,"last_activity_date":1700257970,"creation_date":1287180921,"question_id":3946529,"body_markdown":"We have a lot of objects for which we like to implement a simple `toString` to output attributes of the object.  Some of these attributes may be complex objects themselves.\r\n\r\nIs there any standard, or simply just a best practice for a style?  I&#39;m thinking something like:\r\n\r\n    [SimpleClassName] { prop1:value, prop2:value }\r\n\r\nIn which case a nested value would look like:\r\n\r\n    [SimpleClassName] { prop1:value, prop2:[NestedObject] { prop3:value}}\r\n\r\nWe are using Java but I find myself asking the same question in most languages!","title":"What is the best standard style for a toString implementation?","body":"<p>We have a lot of objects for which we like to implement a simple <code>toString</code> to output attributes of the object.  Some of these attributes may be complex objects themselves.</p>\n\n<p>Is there any standard, or simply just a best practice for a style?  I'm thinking something like:</p>\n\n<pre><code>[SimpleClassName] { prop1:value, prop2:value }\n</code></pre>\n\n<p>In which case a nested value would look like:</p>\n\n<pre><code>[SimpleClassName] { prop1:value, prop2:[NestedObject] { prop3:value}}\n</code></pre>\n\n<p>We are using Java but I find myself asking the same question in most languages!</p>\n"},{"tags":["java","arrays","json","dataframe","jolt"],"answers":[{"comments":[{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":1,"creation_date":1700258413,"post_id":77504807,"comment_id":136636741,"body_markdown":"Hi. This answer seems to be untested, indeed it&#39;s wrong currently","body":"Hi. This answer seems to be untested, indeed it&#39;s wrong currently"}],"tags":[],"owner":{"account_id":12875559,"reputation":131,"user_id":9873257,"display_name":"saidtechnology"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1700257922,"creation_date":1700257922,"answer_id":77504807,"question_id":77504047,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: json hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n      &quot;operation&quot;: &quot;shift&quot;,\r\n      &quot;spec&quot;: {\r\n        &quot;destSiteName&quot;: {\r\n          &quot;unknown&quot;: null,\r\n          &quot;*&quot;: &quot;&amp;&quot;\r\n        },\r\n        &quot;*&quot;: &quot;&amp;&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;operation&quot;: &quot;remove&quot;,\r\n        &quot;spec&quot;: {\r\n          &quot;destSiteName&quot;: &quot;&quot;\r\n       }\r\n     }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"JOLT Remove based on value and keep rest of the json keys","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;operation&quot;: &quot;shift&quot;,\n  &quot;spec&quot;: {\n    &quot;destSiteName&quot;: {\n      &quot;unknown&quot;: null,\n      &quot;*&quot;: &quot;&amp;&quot;\n    },\n    &quot;*&quot;: &quot;&amp;&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;destSiteName&quot;: &quot;&quot;\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700257936,"creation_date":1700257936,"answer_id":77504809,"question_id":77504047,"body_markdown":"You might use a **shift** transformation which contains two conditionals \r\n\r\n - whether outermost attribute is **`&quot;destSiteName&quot;`** or not ( **`&quot;*&quot;`** )\r\n\r\nor\r\n\r\n - whether value of **`&quot;destSiteName&quot;`** is **`&quot;unknown&quot;`** or not ( **`&quot;*&quot;`** )\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;destSiteName&quot;: {\r\n        &quot;unknown&quot;: &quot;&quot;,\r\n        &quot;*&quot;: { &quot;@1&quot;: &quot;&amp;2&quot; }\r\n      },\r\n      &quot;*&quot;: &quot;&amp;&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"JOLT Remove based on value and keep rest of the json keys","body":"<p>You might use a <strong>shift</strong> transformation which contains two conditionals</p>\n<ul>\n<li>whether outermost attribute is <strong><code>&quot;destSiteName&quot;</code></strong> or not ( <strong><code>&quot;*&quot;</code></strong> )</li>\n</ul>\n<p>or</p>\n<ul>\n<li>whether value of <strong><code>&quot;destSiteName&quot;</code></strong> is <strong><code>&quot;unknown&quot;</code></strong> or not ( <strong><code>&quot;*&quot;</code></strong> )</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;destSiteName&quot;: {\n        &quot;unknown&quot;: &quot;&quot;,\n        &quot;*&quot;: { &quot;@1&quot;: &quot;&amp;2&quot; }\n      },\n      &quot;*&quot;: &quot;&amp;&quot;\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":8727884,"reputation":605,"user_id":6528988,"accept_rate":25,"display_name":"Malinda Peiris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77504809,"answer_count":2,"score":0,"last_activity_date":1700257936,"creation_date":1700247562,"question_id":77504047,"body_markdown":"Below is my JSON and i need JOLT to remove if destSiteName is unknown. Need to keep the rest of the object.\r\n```json\r\n{\r\n  &quot;destSiteName&quot;: &quot;unknown&quot;,\r\n  &quot;customer_code&quot;: &quot;code1&quot;\r\n}\r\n```","title":"JOLT Remove based on value and keep rest of the json keys","body":"<p>Below is my JSON and i need JOLT to remove if destSiteName is unknown. Need to keep the rest of the object.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;destSiteName&quot;: &quot;unknown&quot;,\n  &quot;customer_code&quot;: &quot;code1&quot;\n}\n</code></pre>\n"},{"tags":["java","tabs","docusignapi","composite"],"comments":[{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1700155045,"post_id":77494804,"comment_id":136622693,"body_markdown":"How are you adding the tabs? I don&#39;t see the code that adds the tabs, are they in the server template already?","body":"How are you adding the tabs? I don&#39;t see the code that adds the tabs, are they in the server template already?"},{"owner":{"account_id":29917553,"reputation":3,"user_id":22927439,"display_name":"surabhi chaurasia"},"score":0,"creation_date":1700245402,"post_id":77494804,"comment_id":136634983,"body_markdown":"Tabs are already in the server template","body":"Tabs are already in the server template"}],"answers":[{"comments":[{"owner":{"account_id":29917553,"reputation":3,"user_id":22927439,"display_name":"surabhi chaurasia"},"score":0,"creation_date":1700457328,"post_id":77504792,"comment_id":136652511,"body_markdown":"We are directly adding signing details like email in the signer obj -\nsigner.setEmail(); and then adding that in the recipient.","body":"We are directly adding signing details like email in the signer obj - signer.setEmail(); and then adding that in the recipient."},{"owner":{"account_id":14902361,"reputation":16,"user_id":10760835,"display_name":"Stephen D."},"score":0,"creation_date":1701458393,"post_id":77504792,"comment_id":136782472,"body_markdown":"I suggest creating a case with DocuSign support so they can review your logs in more detail","body":"I suggest creating a case with DocuSign support so they can review your logs in more detail"}],"tags":[],"owner":{"account_id":14902361,"reputation":16,"user_id":10760835,"display_name":"Stephen D."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700257608,"creation_date":1700257608,"answer_id":77504792,"question_id":77494804,"body_markdown":"Are you using auto-place (anchor strings) for your template tabs? Or are you using any Envelope Custom Fields that use auto-place? This is a common issue with auto-place if you are not using unique text strings on each document","title":"I have created a composite template , if i am adding 2 documents then 2 same tabs for signing are added but I want one signing tab for each document","body":"<p>Are you using auto-place (anchor strings) for your template tabs? Or are you using any Envelope Custom Fields that use auto-place? This is a common issue with auto-place if you are not using unique text strings on each document</p>\n"}],"owner":{"account_id":29917553,"reputation":3,"user_id":22927439,"display_name":"surabhi chaurasia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77504792,"answer_count":1,"score":0,"last_activity_date":1700257608,"creation_date":1700137792,"question_id":77494804,"body_markdown":"I have created a composite template. for every document added in the composite template , there is same signing tab is added in the document eg- 3 documents then 3 tabs one over above. I want one tab per document.\r\n           \r\n            List&lt;CompositeTemplate&gt; compositeTemplateList = new ArrayList&lt;&gt;();\r\n            for (no of documents) {\r\n             \r\n                for (no of templates) {\r\n                    CompositeTemplate cTemplate = new CompositeTemplate();\r\n                    ServerTemplate serverTemplate = new ServerTemplate();\r\n                    serverTemplate.setTemplateId();\r\n                    serverTemplate.setSequence();\r\n                    cTemplate.setServerTemplates(Arrays.asList(serverTemplate));\r\n                    cTemplate.setCompositeTemplateId();\r\n                    cTemplate.setDocument();\r\n                    InlineTemplate inlineTemplate = new InlineTemplate(); \r\n                    for(list of signers) {\r\n                        signer.setEmail();\r\n                        signer.setName(); \r\n                    }\r\n                    recipients.setSigner();\r\n                    inlineTemplate.setRecipients();\r\n                    inlineTemplate.setSequence();\r\n                    cTemplate.setInlineTemplates(Arrays.asList(inlineTemplate));\r\n                    compositeTemplateList.add(cTemplate);\r\n                }\r\n            }\r\n            env.setStatus(&quot;sent&quot;);\r\n            env.setCompositeTemplates(compositeTemplateList);\r\n            \r\n\r\nI tried adding email and mobile details only one time but that didn&#39;t work.","title":"I have created a composite template , if i am adding 2 documents then 2 same tabs for signing are added but I want one signing tab for each document","body":"<p>I have created a composite template. for every document added in the composite template , there is same signing tab is added in the document eg- 3 documents then 3 tabs one over above. I want one tab per document.</p>\n<pre><code>        List&lt;CompositeTemplate&gt; compositeTemplateList = new ArrayList&lt;&gt;();\n        for (no of documents) {\n         \n            for (no of templates) {\n                CompositeTemplate cTemplate = new CompositeTemplate();\n                ServerTemplate serverTemplate = new ServerTemplate();\n                serverTemplate.setTemplateId();\n                serverTemplate.setSequence();\n                cTemplate.setServerTemplates(Arrays.asList(serverTemplate));\n                cTemplate.setCompositeTemplateId();\n                cTemplate.setDocument();\n                InlineTemplate inlineTemplate = new InlineTemplate(); \n                for(list of signers) {\n                    signer.setEmail();\n                    signer.setName(); \n                }\n                recipients.setSigner();\n                inlineTemplate.setRecipients();\n                inlineTemplate.setSequence();\n                cTemplate.setInlineTemplates(Arrays.asList(inlineTemplate));\n                compositeTemplateList.add(cTemplate);\n            }\n        }\n        env.setStatus(&quot;sent&quot;);\n        env.setCompositeTemplates(compositeTemplateList);\n        \n</code></pre>\n<p>I tried adding email and mobile details only one time but that didn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":2,"creation_date":1700257409,"post_id":77504753,"comment_id":136636636,"body_markdown":"Don&#39;t use static list, make it a local variable instead (put initialization and assignment into the jump method; then pass it into the dfs), otherwise, it is re-used between the test runs on leetcode, which messes up its contents.","body":"Don&#39;t use static list, make it a local variable instead (put initialization and assignment into the jump method; then pass it into the dfs), otherwise, it is re-used between the test runs on leetcode, which messes up its contents."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1700258536,"post_id":77504753,"comment_id":136636756,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"owner":{"account_id":29929824,"reputation":11,"user_id":22936992,"display_name":"Jonathan Copeland"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700256945,"creation_date":1700256945,"question_id":77504753,"body_markdown":"I am trying to send a sollution, but i have the same problem every time: The code on my computer works good, but it doesnt work properly on LeetCode.\r\nThe task: https://leetcode.com/problems/jump-game-ii/description/\r\n\r\nMy code:\r\n\r\n```\r\nclass Solution {\r\n    public static ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    public int jump(int[] nums) {\r\n        dfs(nums, 0, 0);\r\n        int minStepsToFinish = list.stream().min(Integer::compare).get();\r\n        return minStepsToFinish;\r\n    }\r\n\r\n    public static void dfs(int[] nums, int current, int step) {\r\n        if(current == nums.length-1) {\r\n            list.add(step);\r\n            return;\r\n        }\r\n        step++;\r\n        for (int j = 1; j &lt;= nums[current]; j++) {\r\n            dfs(nums, current + j, step);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to check if my program returns incorrect answers, but it works good. For example: when input is [1,2] it returns 1, however LeetCode says that my return is 0.","title":"I can&#39;t solve a task on LeetCode, repeats me that i have a wrong answer and I tried to run it on my pc, the answer is right","body":"<p>I am trying to send a sollution, but i have the same problem every time: The code on my computer works good, but it doesnt work properly on LeetCode.\nThe task: <a href=\"https://leetcode.com/problems/jump-game-ii/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/jump-game-ii/description/</a></p>\n<p>My code:</p>\n<pre><code>class Solution {\n    public static ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    \n    public int jump(int[] nums) {\n        dfs(nums, 0, 0);\n        int minStepsToFinish = list.stream().min(Integer::compare).get();\n        return minStepsToFinish;\n    }\n\n    public static void dfs(int[] nums, int current, int step) {\n        if(current == nums.length-1) {\n            list.add(step);\n            return;\n        }\n        step++;\n        for (int j = 1; j &lt;= nums[current]; j++) {\n            dfs(nums, current + j, step);\n        }\n    }\n}\n</code></pre>\n<p>I tried to check if my program returns incorrect answers, but it works good. For example: when input is [1,2] it returns 1, however LeetCode says that my return is 0.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1700243315,"post_id":77503664,"comment_id":136634669,"body_markdown":"Are you asking about `import` statements? Or are you asking about obtaining a dependency library such as *Jackson*? Your question is not clear.","body":"Are you asking about <code>import</code> statements? Or are you asking about obtaining a dependency library such as <i>Jackson</i>? Your question is not clear."},{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1700243798,"post_id":77503664,"comment_id":136634740,"body_markdown":"`import` statements can be figured out from the Javadoc page. I am asking how do I figure out what dependency I need to add to my `pom.xml`. Has anyone not thought of adding this capability to JavaDoc tool? Why is this not something that is part of JavaDoc documentation for a package?","body":"<code>import</code> statements can be figured out from the Javadoc page. I am asking how do I figure out what dependency I need to add to my <code>pom.xml</code>. Has anyone not thought of adding this capability to JavaDoc tool? Why is this not something that is part of JavaDoc documentation for a package?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1700244575,"post_id":77503664,"comment_id":136634862,"body_markdown":"@morpheus There is no &quot;official&quot; standard for dependencies in Java. Maven is the un-official standard but there are other options, like Ivy, or no dependency management.","body":"@morpheus There is no &quot;official&quot; standard for dependencies in Java. Maven is the un-official standard but there are other options, like Ivy, or no dependency management."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1700244679,"post_id":77503664,"comment_id":136634879,"body_markdown":"@aled or Gradle.","body":"@aled or Gradle."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1700244759,"post_id":77503664,"comment_id":136634895,"body_markdown":"For Jackson specifically you are probably looking for [jackson-databind](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind).","body":"For Jackson specifically you are probably looking for <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\" rel=\"nofollow noreferrer\">jackson-databind</a>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700244968,"post_id":77503664,"comment_id":136634919,"body_markdown":"&quot;*come across some answer*&quot; -&gt; ask the author in a comment, this information would be useful in the answer (often it&#39;s not that easy, I know :-/ )","body":"&quot;<i>come across some answer</i>&quot; -&gt; ask the author in a comment, this information would be useful in the answer (often it&#39;s not that easy, I know :-/ )"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700245749,"post_id":77503664,"comment_id":136635029,"body_markdown":"@DavidConrad I didn&#39;t mention Gradle because it doesn&#39;t provide its own repository format for dependencies. It is compatible with Maven and Ivy repositories, along with different kinds of remote access protocols to files.","body":"@DavidConrad I didn&#39;t mention Gradle because it doesn&#39;t provide its own repository format for dependencies. It is compatible with Maven and Ivy repositories, along with different kinds of remote access protocols to files."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1700246747,"post_id":77503664,"comment_id":136635174,"body_markdown":"@aled that&#39;s a fair point.","body":"@aled that&#39;s a fair point."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1700328274,"post_id":77503664,"comment_id":136642176,"body_markdown":"There is not necessarily a single correct answer to which artifact to use to get a given class.    The advanced search here https://search.maven.org/search?q=fc:org.sonatype.nexus can be very useful.","body":"There is not necessarily a single correct answer to which artifact to use to get a given class.    The advanced search here <a href=\"https://search.maven.org/search?q=fc:org.sonatype.nexus\" rel=\"nofollow noreferrer\">search.maven.org/search?q=fc:org.sonatype.nexus</a> can be very useful."}],"answers":[{"comments":[{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1700245257,"post_id":77503828,"comment_id":136634960,"body_markdown":"isn&#39;t this a good opportunity for the community? I encounter this problem all the time. And I find myself spending a ton of time trying to figure out exactly what dependency I need to add to `pom.xml` in order to use a class. Searches on Maven Central often yield wrong results just like I showed in my question. I am not expert with build tools and doc generators. I am just a Java developer and feel this is a very common problem for Java developers.","body":"isn&#39;t this a good opportunity for the community? I encounter this problem all the time. And I find myself spending a ton of time trying to figure out exactly what dependency I need to add to <code>pom.xml</code> in order to use a class. Searches on Maven Central often yield wrong results just like I showed in my question. I am not expert with build tools and doc generators. I am just a Java developer and feel this is a very common problem for Java developers."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700245777,"post_id":77503828,"comment_id":136635036,"body_markdown":"Maybe but that is outside the scope of Stackoverflow.","body":"Maybe but that is outside the scope of Stackoverflow."},{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1700246191,"post_id":77503828,"comment_id":136635102,"body_markdown":"Build dependencies can be quite complex so I doubt that there could be a simple solutions that fits all cases. In the maven world, project documentation can be generated in a somewhat uniform way using the Maven site plugin. It&#39;s up to the projects how they structure the content though, so you can&#39;t be certain where to find setup instructions.","body":"Build dependencies can be quite complex so I doubt that there could be a simple solutions that fits all cases. In the maven world, project documentation can be generated in a somewhat uniform way using the Maven site plugin. It&#39;s up to the projects how they structure the content though, so you can&#39;t be certain where to find setup instructions."},{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1700246616,"post_id":77503828,"comment_id":136635157,"body_markdown":"You can however let some else do the dirty work of finding and reading setup instructions for you: ChatGPT. I just tried and asked it to give me the maven dependencies that I need if I want Jackson ObjectMapper and it gave me a correct answer (though it didn&#39;t use the latest version).","body":"You can however let some else do the dirty work of finding and reading setup instructions for you: ChatGPT. I just tried and asked it to give me the maven dependencies that I need if I want Jackson ObjectMapper and it gave me a correct answer (though it didn&#39;t use the latest version)."}],"tags":[],"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700246833,"creation_date":1700244759,"answer_id":77503828,"question_id":77503664,"body_markdown":"You are right that there is no standardized way to find out which artifacts you need to use a certain library. Most libraries have at least settled on being distributed through Maven, but there is no standardized process to map classes to artifacts.\r\n\r\nSome projects work if you to add a single dependency. Some projects are modular, so you need multiple dependencies for depending on which features you need. Some libraries are split into API and implementations artifacts. Some libraries require different artifacts on certain platforms. You usually can&#39;t know how a library is supposed to be setup just by looking at Maven artifacts.\r\n\r\nYour best bets it to find the project&#39;s (non-javadoc) documentation about how to setup the library and hope that the setup is explained there. Usually that&#39;s on the project website or readme file in the repository.\r\n\r\nYou can however let some else to the dirty work of finding and reading setup instructions for you: ChatGPT or similar tools. You should probably verify that the dependencies are not fake and likely need to correct the version, but generally those tools at good enough at giving you the right information or at least a starting point for further research.","title":"How do you find out what library you need to import in order to use a class in Java?","body":"<p>You are right that there is no standardized way to find out which artifacts you need to use a certain library. Most libraries have at least settled on being distributed through Maven, but there is no standardized process to map classes to artifacts.</p>\n<p>Some projects work if you to add a single dependency. Some projects are modular, so you need multiple dependencies for depending on which features you need. Some libraries are split into API and implementations artifacts. Some libraries require different artifacts on certain platforms. You usually can't know how a library is supposed to be setup just by looking at Maven artifacts.</p>\n<p>Your best bets it to find the project's (non-javadoc) documentation about how to setup the library and hope that the setup is explained there. Usually that's on the project website or readme file in the repository.</p>\n<p>You can however let some else to the dirty work of finding and reading setup instructions for you: ChatGPT or similar tools. You should probably verify that the dependencies are not fake and likely need to correct the version, but generally those tools at good enough at giving you the right information or at least a starting point for further research.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700256833,"creation_date":1700246078,"answer_id":77503924,"question_id":77503664,"body_markdown":"[IntelliJ][1] has a function to find an artifact. When it sees an unknown symbol, one of the solutions is &quot;Search for dependency...&quot;\r\n\r\n[![Search for dependency][2]][2]\r\n\r\nIn practice I don&#39;t find it to work very well, but maybe it will get better.\r\n\r\nThere is no relationship between package and Maven&#39;s groupId/artifactId. So aside from that, you&#39;re just left to do you best detective work on google or GitHub.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [2]: https://i.stack.imgur.com/PWail.png","title":"How do you find out what library you need to import in order to use a class in Java?","body":"<p><a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> has a function to find an artifact. When it sees an unknown symbol, one of the solutions is &quot;Search for dependency...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/PWail.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWail.png\" alt=\"Search for dependency\" /></a></p>\n<p>In practice I don't find it to work very well, but maybe it will get better.</p>\n<p>There is no relationship between package and Maven's groupId/artifactId. So aside from that, you're just left to do you best detective work on google or GitHub.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1700256833,"creation_date":1700243180,"question_id":77503664,"body_markdown":"A very frequently encountered problem in Java is that let&#39;s say you have a question. You search for answer on SO and come across some answer. The answers typically provide code but they don&#39;t provide details of what artifacts you need to import in order to be able to use the code in the answer. e.g., I was searching for how to load a json file and parse result into a class in Java and came across the `ObjectMapper`. I can look at its [Javadoc](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html). The Javadoc provides the namespace of the class but again doesn&#39;t tell what artifact one needs to import in order to use that class. How do people deal with this problem? It seems there is no structured way. Its just trial and error and doing random searches to find the answer. If I enter the class name or the namespace in Maven repository, very often it does not come up with relevant result. E.g., in case of `ObjectMapper` when I entered `com.fasterxml.jackson.databind` into Maven Central I got [this](https://mvnrepository.com/artifact/com.liferay/com.fasterxml.jackson.databind) which I don&#39;t think is the correct artifact. I am asking this question w.r.t. Maven.","title":"How do you find out what library you need to import in order to use a class in Java?","body":"<p>A very frequently encountered problem in Java is that let's say you have a question. You search for answer on SO and come across some answer. The answers typically provide code but they don't provide details of what artifacts you need to import in order to be able to use the code in the answer. e.g., I was searching for how to load a json file and parse result into a class in Java and came across the <code>ObjectMapper</code>. I can look at its <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">Javadoc</a>. The Javadoc provides the namespace of the class but again doesn't tell what artifact one needs to import in order to use that class. How do people deal with this problem? It seems there is no structured way. Its just trial and error and doing random searches to find the answer. If I enter the class name or the namespace in Maven repository, very often it does not come up with relevant result. E.g., in case of <code>ObjectMapper</code> when I entered <code>com.fasterxml.jackson.databind</code> into Maven Central I got <a href=\"https://mvnrepository.com/artifact/com.liferay/com.fasterxml.jackson.databind\" rel=\"nofollow noreferrer\">this</a> which I don't think is the correct artifact. I am asking this question w.r.t. Maven.</p>\n"},{"tags":["java","angular","typescript","jwt"],"comments":[{"owner":{"account_id":15894814,"reputation":19408,"user_id":11487196,"display_name":"Tony Ngo"},"score":0,"creation_date":1700340216,"post_id":77504724,"comment_id":136643429,"body_markdown":"Make sure the value you submit to BE is not empty. Did you see the username on the console.log ?","body":"Make sure the value you submit to BE is not empty. Did you see the username on the console.log ?"}],"owner":{"account_id":28619892,"reputation":11,"user_id":21913141,"display_name":"Elena Ortega"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700256370,"creation_date":1700256370,"question_id":77504724,"body_markdown":"Server-side:\r\n\r\nI have an app in Spring Boot on the server side and TypeScript with Angular on the client side. I am implementing a login, but when I send the data to the server, it doesn&#39;t capture the username from the JWT and sets it as undefined.\r\n\r\nThis is the server code that sends the username from the client, but it doesn&#39;t find it in the database even though it exists:\r\n\r\n```\r\npublic String getSessionUsername() {\r\n    if (oHttpServletRequest.getAttribute(&quot;username&quot;) instanceof String) {\r\n        return oHttpServletRequest.getAttribute(&quot;username&quot;).toString();\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n// This part of the code throws an exception that the user is not found\r\n\r\n```\r\npublic Boolean isAdmin() {\r\n    if (this.getSessionUsername() != null) {\r\n        UserEntity oUserEntityInSession = oUserRepository.findByUsername(this.getSessionUsername())\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User not found&quot;));\r\n        return Boolean.FALSE.equals(oUserEntityInSession.getRole());\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nClient-side:\r\n\r\nThe client-side code seems to capture the username correctly and indicates that I am logged in, but it doesn&#39;t do anything because the variable strUserName is empty:\r\n\r\n```\r\nonSubmit() {\r\n    if (this.loginForm.valid) {\r\n        console.log(&quot;Username:&quot;, this.loginForm.value.username);\r\n        this.oSessionService.login(this.loginForm.value.username, this.oCryptoService.getSHA256(this.loginForm.value.password)).subscribe({\r\n            next: (data: string) =&gt; {\r\n                console.log(this.loginForm.value.username);\r\n                this.oSessionService.setToken(data);\r\n                console.log(data);\r\n                this.oSessionService.emit({ type: &#39;login&#39; });\r\n                this.oMatSnackBar.open(&quot;Login successful.&quot;, &#39;&#39;, { duration: 2000 });\r\n                this.oRouter.navigate([&#39;/home&#39;]);\r\n            },\r\n            error: (error: HttpErrorResponse) =&gt; {\r\n                this.status = error;\r\n                this.oMatSnackBar.open(&quot;Error in login operation.&quot;, &#39;&#39;, { duration: 2000 });\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n// This code captures the username correctly, but the variable\r\n\r\n```\r\n`strUserName` remains empty\r\nthis.strUserName = this.oSessionService.getUsername();\r\nconsole.log(this.strUserName);\r\nthis.oUserAjaxService.getByUsername(this.oSessionService.getUsername()).subscribe({\r\n    next: (oUser: IUser) =&gt; {\r\n        this.oSessionUser = oUser;\r\n    },\r\n    error: (error: HttpErrorResponse) =&gt; {\r\n        console.log(error);\r\n    }\r\n});\r\n```\r\n\r\nThe getUsername function in the service is expected to return the username from the session:\r\n\r\n```\r\ngetUsername(): string {\r\n    if (this.isSessionActive()) {\r\n        let token: string | null = localStorage.getItem(&#39;token&#39;);\r\n        if (!token) {\r\n            return &quot;&quot;;\r\n        } else {\r\n            return this.parseJwt(token).name;\r\n        }\r\n    } else {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nLet me know if you need further assistance or clarification on any part of the code.\r\n\r\nIm trying to send a username to the server side but the program sent undefined","title":"JWT Exceptions on login, Username undefined","body":"<p>Server-side:</p>\n<p>I have an app in Spring Boot on the server side and TypeScript with Angular on the client side. I am implementing a login, but when I send the data to the server, it doesn't capture the username from the JWT and sets it as undefined.</p>\n<p>This is the server code that sends the username from the client, but it doesn't find it in the database even though it exists:</p>\n<pre><code>public String getSessionUsername() {\n    if (oHttpServletRequest.getAttribute(&quot;username&quot;) instanceof String) {\n        return oHttpServletRequest.getAttribute(&quot;username&quot;).toString();\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>// This part of the code throws an exception that the user is not found</p>\n<pre><code>public Boolean isAdmin() {\n    if (this.getSessionUsername() != null) {\n        UserEntity oUserEntityInSession = oUserRepository.findByUsername(this.getSessionUsername())\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User not found&quot;));\n        return Boolean.FALSE.equals(oUserEntityInSession.getRole());\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>Client-side:</p>\n<p>The client-side code seems to capture the username correctly and indicates that I am logged in, but it doesn't do anything because the variable strUserName is empty:</p>\n<pre><code>onSubmit() {\n    if (this.loginForm.valid) {\n        console.log(&quot;Username:&quot;, this.loginForm.value.username);\n        this.oSessionService.login(this.loginForm.value.username, this.oCryptoService.getSHA256(this.loginForm.value.password)).subscribe({\n            next: (data: string) =&gt; {\n                console.log(this.loginForm.value.username);\n                this.oSessionService.setToken(data);\n                console.log(data);\n                this.oSessionService.emit({ type: 'login' });\n                this.oMatSnackBar.open(&quot;Login successful.&quot;, '', { duration: 2000 });\n                this.oRouter.navigate(['/home']);\n            },\n            error: (error: HttpErrorResponse) =&gt; {\n                this.status = error;\n                this.oMatSnackBar.open(&quot;Error in login operation.&quot;, '', { duration: 2000 });\n            }\n        });\n    }\n}\n</code></pre>\n<p>// This code captures the username correctly, but the variable</p>\n<pre><code>`strUserName` remains empty\nthis.strUserName = this.oSessionService.getUsername();\nconsole.log(this.strUserName);\nthis.oUserAjaxService.getByUsername(this.oSessionService.getUsername()).subscribe({\n    next: (oUser: IUser) =&gt; {\n        this.oSessionUser = oUser;\n    },\n    error: (error: HttpErrorResponse) =&gt; {\n        console.log(error);\n    }\n});\n</code></pre>\n<p>The getUsername function in the service is expected to return the username from the session:</p>\n<pre><code>getUsername(): string {\n    if (this.isSessionActive()) {\n        let token: string | null = localStorage.getItem('token');\n        if (!token) {\n            return &quot;&quot;;\n        } else {\n            return this.parseJwt(token).name;\n        }\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Let me know if you need further assistance or clarification on any part of the code.</p>\n<p>Im trying to send a username to the server side but the program sent undefined</p>\n"},{"tags":["java","apple-silicon"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1700179457,"post_id":77498673,"comment_id":136626060,"body_markdown":"Can you explain the &quot;gluegen&quot; problem in your post, so folks don&#39;t need to follow that link to understand the reason here? Also to clarify: does this _have_ to be java 8, or is a later version fine, too (for instance, your point (3) installs java 11, not java 8)","body":"Can you explain the &quot;gluegen&quot; problem in your post, so folks don&#39;t need to follow that link to understand the reason here? Also to clarify: does this <i>have</i> to be java 8, or is a later version fine, too (for instance, your point (3) installs java 11, not java 8)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700182162,"post_id":77498673,"comment_id":136626313,"body_markdown":"On sister site AskDifferent.com I asked [*Force SDKMAN! to install for Intel versions on ARM (Apple Silicon) Macs?*](https://apple.stackexchange.com/q/466518/17907)","body":"On sister site AskDifferent.com I asked <a href=\"https://apple.stackexchange.com/q/466518/17907\"><i>Force SDKMAN! to install for Intel versions on ARM (Apple Silicon) Macs?</i></a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700182237,"post_id":77498673,"comment_id":136626319,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans  That discussion page says crashes result from gluegen_rt not containing an arm version in its [macos universal binary](https://en.wikipedia.org/wiki/Universal_binary).","body":"@Mike&#39;Pomax&#39;Kamermans  That discussion page says crashes result from gluegen_rt not containing an arm version in its <a href=\"https://en.wikipedia.org/wiki/Universal_binary\" rel=\"nofollow noreferrer\">macos universal binary</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700182751,"post_id":77498673,"comment_id":136626366,"body_markdown":"Perhaps it would be easier to skip SDKMAN! in this special case. Just download  a JDK installer for Intel macOS, and run the installer on your M1/M2/M3 Mac. Several vendors supply JDKs for macOS on Intel. These include Azul Systems, Microsoft, Adoptium, SAP, Amazon, IBM, Red Hat, Oracle, BellSoft, and more. If you don&#39;t have a favorite vendor, and don&#39;t need support, just go to [Adoptium](https://adoptium.net/) by the Eclipse Foundation. Navigate to find Intel Mac downloads.","body":"Perhaps it would be easier to skip SDKMAN! in this special case. Just download  a JDK installer for Intel macOS, and run the installer on your M1/M2/M3 Mac. Several vendors supply JDKs for macOS on Intel. These include Azul Systems, Microsoft, Adoptium, SAP, Amazon, IBM, Red Hat, Oracle, BellSoft, and more. If you don&#39;t have a favorite vendor, and don&#39;t need support, just go to <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a> by the Eclipse Foundation. Navigate to find Intel Mac downloads."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700187702,"post_id":77498673,"comment_id":136626771,"body_markdown":"https://adoptium.net/temurin/releases/?os=mac&amp;arch=x64&amp;version=8","body":"<a href=\"https://adoptium.net/temurin/releases/?os=mac&amp;arch=x64&amp;version=8\" rel=\"nofollow noreferrer\">adoptium.net/temurin/releases/&hellip;</a>"},{"owner":{"account_id":16259458,"reputation":488,"user_id":11741232,"display_name":"kevinlinxc"},"score":0,"creation_date":1700193953,"post_id":77498673,"comment_id":136627169,"body_markdown":"As I said, I did run the Intel installer on my Mac, it complains about the incorrect architecture and closes. If there is a way around this I&#39;d like to hear about it.","body":"As I said, I did run the Intel installer on my Mac, it complains about the incorrect architecture and closes. If there is a way around this I&#39;d like to hear about it."},{"owner":{"account_id":16259458,"reputation":488,"user_id":11741232,"display_name":"kevinlinxc"},"score":0,"creation_date":1700193990,"post_id":77498673,"comment_id":136627174,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I apologize, I meant install Java 11, not Java 8. I don&#39;t know why I get them mixed up quite often.","body":"@Mike&#39;Pomax&#39;Kamermans I apologize, I meant install Java 11, not Java 8. I don&#39;t know why I get them mixed up quite often."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700194940,"post_id":77498673,"comment_id":136627234,"body_markdown":"Do you have Rosetta 2 already installed?","body":"Do you have Rosetta 2 already installed?"},{"owner":{"account_id":16259458,"reputation":488,"user_id":11741232,"display_name":"kevinlinxc"},"score":0,"creation_date":1700195112,"post_id":77498673,"comment_id":136627246,"body_markdown":"@BasilBourque I ran `softwareupdate --install-rosetta --agree-to-license`, which should have installed it. Given I could make a copy of iTerm that runs with Rosetta I think it worked, but I could be wrong.","body":"@BasilBourque I ran <code>softwareupdate --install-rosetta --agree-to-license</code>, which should have installed it. Given I could make a copy of iTerm that runs with Rosetta I think it worked, but I could be wrong."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1700210885,"post_id":77498673,"comment_id":136628774,"body_markdown":"Re &quot; I did run the Intel installer on my Mac, ...&quot; At least [BellSoft&#39;s](https://bell-sw.com/pages/downloads/#jdk-11-lts) and Oracle&#39;s OpenJDK builds are available as TAR.GZ archives. Download and extract to a directory of your choice (`/Library/Java/JavaVirtualMachines/` is probably a good choice). No installer required.","body":"Re &quot; I did run the Intel installer on my Mac, ...&quot; At least <a href=\"https://bell-sw.com/pages/downloads/#jdk-11-lts\" rel=\"nofollow noreferrer\">BellSoft&#39;s</a> and Oracle&#39;s OpenJDK builds are available as TAR.GZ archives. Download and extract to a directory of your choice (<code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;</code> is probably a good choice). No installer required."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1700244093,"post_id":77498673,"comment_id":136634790,"body_markdown":"but remember that you&#39;ll have to set your JAVA_HOME environment variable manually, of course, and add the bin dir to your PATH.","body":"but remember that you&#39;ll have to set your JAVA_HOME environment variable manually, of course, and add the bin dir to your PATH."}],"answers":[{"tags":[],"owner":{"account_id":16259458,"reputation":488,"user_id":11741232,"display_name":"kevinlinxc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700256260,"creation_date":1700256260,"answer_id":77504718,"question_id":77498673,"body_markdown":"As Thomas Behr suggested, extracting the Java downloaded as a tar.gz from [https://jdk.java.net/archive/](https://jdk.java.net/archive/) seems to work for installing x86 Java on Apple Silicon. This did not solve my universal library issue, but that is out of scope at this point. Thanks for the help.","title":"How to install Intel Java 11 on M2 Macbook?","body":"<p>As Thomas Behr suggested, extracting the Java downloaded as a tar.gz from <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">https://jdk.java.net/archive/</a> seems to work for installing x86 Java on Apple Silicon. This did not solve my universal library issue, but that is out of scope at this point. Thanks for the help.</p>\n"}],"owner":{"account_id":16259458,"reputation":488,"user_id":11741232,"display_name":"kevinlinxc"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700256260,"creation_date":1700179182,"question_id":77498673,"body_markdown":"Because of a Java binary that only works on x86 architectures like [this](https://apple.stackexchange.com/questions/431573/how-to-handle-java-apps-lacking-arm-support-using-java-sdk-on-m1-mac), it seems I need to run the Intel versions of Java on my M2 Macbook using Rosetta.\r\n\r\nI tried looking up how to do this, and after trying SDKMAN, and just running the Intel installer from Oracle, nothing seems to work. \r\n\r\n\r\nDetails of what I tried with SDKMAN:\r\n1. Making a new terminal app that runs with Rosetta using [these](https://apple.stackexchange.com/a/428769) instructions.\r\n\r\nThis works as expected:\r\n\r\n```\r\n ~  arch                                                                                                                 \r\ni386\r\n\r\n ~  uname -m                                                                                                             \r\nx86_64\r\n```\r\n2. Edit `.sdkman/etc/config` to add `sdkman_rosetta2_compatible=false`\r\n(unsure if I should do this)\r\n\r\n3. `sdk install java 11.0.20-ms`\r\n(unsure if Microsoft is the provider I should be using)\r\n\r\n4. ``cat `which java` | file -``\r\n\r\nBut this always shows an arm64 version.\r\n\r\nHow do I install an intel version of Java?\r\n","title":"How to install Intel Java 11 on M2 Macbook?","body":"<p>Because of a Java binary that only works on x86 architectures like <a href=\"https://apple.stackexchange.com/questions/431573/how-to-handle-java-apps-lacking-arm-support-using-java-sdk-on-m1-mac\">this</a>, it seems I need to run the Intel versions of Java on my M2 Macbook using Rosetta.</p>\n<p>I tried looking up how to do this, and after trying SDKMAN, and just running the Intel installer from Oracle, nothing seems to work.</p>\n<p>Details of what I tried with SDKMAN:</p>\n<ol>\n<li>Making a new terminal app that runs with Rosetta using <a href=\"https://apple.stackexchange.com/a/428769\">these</a> instructions.</li>\n</ol>\n<p>This works as expected:</p>\n<pre><code> ~  arch                                                                                                                 \ni386\n\n ~  uname -m                                                                                                             \nx86_64\n</code></pre>\n<ol start=\"2\">\n<li><p>Edit <code>.sdkman/etc/config</code> to add <code>sdkman_rosetta2_compatible=false</code>\n(unsure if I should do this)</p>\n</li>\n<li><p><code>sdk install java 11.0.20-ms</code>\n(unsure if Microsoft is the provider I should be using)</p>\n</li>\n<li><p><code>cat `which java` | file -</code></p>\n</li>\n</ol>\n<p>But this always shows an arm64 version.</p>\n<p>How do I install an intel version of Java?</p>\n"},{"tags":["java","spring-boot","apache-camel","prometheus","micrometer"],"answers":[{"comments":[{"owner":{"display_name":"user18196814"},"score":0,"creation_date":1700133433,"post_id":77490271,"comment_id":136618435,"body_markdown":"I added properties but the problem is still present","body":"I added properties but the problem is still present"}],"tags":[],"owner":{"account_id":3608666,"reputation":11,"user_id":3010246,"display_name":"Sarang Pitale"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700074618,"creation_date":1700074618,"answer_id":77490271,"question_id":77488419,"body_markdown":"Try adding these properties to your app.property file\r\n\r\n - management.endpoint.health.show-details=always   \r\n - management.endpoints.web.exposure.include=*\r\n - management.endpoint.metrics.enabled=true\r\n - management.metrics.export.prometheus.enabled=true       \r\n - management.endpoint.prometheus.enabled=true","title":"Micrometer Component in Apache Camel - Metric not showing in /actuator/prometheus","body":"<p>Try adding these properties to your app.property file</p>\n<ul>\n<li>management.endpoint.health.show-details=always</li>\n<li>management.endpoints.web.exposure.include=*</li>\n<li>management.endpoint.metrics.enabled=true</li>\n<li>management.metrics.export.prometheus.enabled=true</li>\n<li>management.endpoint.prometheus.enabled=true</li>\n</ul>\n"},{"comments":[{"owner":{"display_name":"user18196814"},"score":0,"creation_date":1700318916,"post_id":77504719,"comment_id":136641097,"body_markdown":"it&#39;s only valid for spring boot version 3+ ! ?","body":"it&#39;s only valid for spring boot version 3+ ! ?"},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1700518308,"post_id":77504719,"comment_id":136662341,"body_markdown":"Yes. Fyi: Spring Boot 2.7 (2.x) has reach the end of its OSS support timeline so you should be on 3.x already: https://spring.io/projects/spring-boot#support","body":"Yes. Fyi: Spring Boot 2.7 (2.x) has reach the end of its OSS support timeline so you should be on 3.x already: <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a>"}],"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700256260,"creation_date":1700256260,"answer_id":77504719,"question_id":77488419,"body_markdown":"I would recommend using camel-observation instead:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;camel-observation-starter&lt;/artifactId&gt;\r\n  &lt;version&gt;x.x.x&lt;/version&gt;\r\n  &lt;!-- use the same version as your Camel core version --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou also need to annotate your main class with `@CamelObservation`.\r\n\r\nThis will provide you metrics using Micrometer and much more in case you need them (i.e.: distributed tracing).","title":"Micrometer Component in Apache Camel - Metric not showing in /actuator/prometheus","body":"<p>I would recommend using camel-observation instead:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n  &lt;artifactId&gt;camel-observation-starter&lt;/artifactId&gt;\n  &lt;version&gt;x.x.x&lt;/version&gt;\n  &lt;!-- use the same version as your Camel core version --&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You also need to annotate your main class with <code>@CamelObservation</code>.</p>\n<p>This will provide you metrics using Micrometer and much more in case you need them (i.e.: distributed tracing).</p>\n"}],"owner":{"display_name":"user18196814"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700256260,"creation_date":1700057478,"question_id":77488419,"body_markdown":"I am currently working with Apache Camel and using the **Micrometer** component for metrics. I have added the necessary dependency, but I am facing an issue where the metric is not showing up in the /actuator/prometheus endpoint.\r\n        \r\n        Spring boot version: 3.1.4.\r\n        Java version: 17.      \r\n        Apache camel spring boot dependency: \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-micrometer-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Micrometer Component in Apache Camel - Metric not showing in /actuator/prometheus","body":"<p>I am currently working with Apache Camel and using the <strong>Micrometer</strong> component for metrics. I have added the necessary dependency, but I am facing an issue where the metric is not showing up in the /actuator/prometheus endpoint.</p>\n<pre><code>    Spring boot version: 3.1.4.\n    Java version: 17.      \n    Apache camel spring boot dependency: \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-micrometer-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700569444,"post_id":77502711,"comment_id":136668438,"body_markdown":"@user1555190, if my answer was helpful and acceptable for you, click accept it as answer","body":"@user1555190, if my answer was helpful and acceptable for you, click accept it as answer"},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700749840,"post_id":77502711,"comment_id":136694679,"body_markdown":"@user1555190, was this answer useful for you? It&#39;s always good to leave at least some feedback, as this will show that you respect the community members who are helping YOU resolve YOUR issue","body":"@user1555190, was this answer useful for you? It&#39;s always good to leave at least some feedback, as this will show that you respect the community members who are helping YOU resolve YOUR issue"}],"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700234072,"creation_date":1700234072,"answer_id":77502711,"question_id":77502571,"body_markdown":"Yes, you can validate the contents of the file using the `InputStream` provided by `MultipartFile` to read the content and then perform your validation logic:\r\n\r\n```\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\n\r\nclass Validator {\r\n    public void validateFileContents(MultipartFile multipartFile) throws IOException {\r\n        try (InputStream inputStream = multipartFile.getInputStream();\r\n             BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\r\n\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                // Perform your validation logic for each line\r\n                if (!isValid(line)) {\r\n                    throw new IllegalArgumentException(&quot;Invalid content in the file&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean isValid(String line) {\r\n        // Your validation logic here\r\n        // For example, check if the line meets certain criteria\r\n        // Return true if valid, false otherwise\r\n        return true;\r\n    }\r\n}\r\n```","title":"Validating a multipart file on upload in spring","body":"<p>Yes, you can validate the contents of the file using the <code>InputStream</code> provided by <code>MultipartFile</code> to read the content and then perform your validation logic:</p>\n<pre><code>import org.springframework.web.multipart.MultipartFile;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\nclass Validator {\n    public void validateFileContents(MultipartFile multipartFile) throws IOException {\n        try (InputStream inputStream = multipartFile.getInputStream();\n             BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream))) {\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                // Perform your validation logic for each line\n                if (!isValid(line)) {\n                    throw new IllegalArgumentException(&quot;Invalid content in the file&quot;);\n                }\n            }\n        }\n    }\n\n    private boolean isValid(String line) {\n        // Your validation logic here\n        // For example, check if the line meets certain criteria\n        // Return true if valid, false otherwise\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700254367,"creation_date":1700254367,"answer_id":77504573,"question_id":77502571,"body_markdown":"You can try to create a validtor class like that:\r\n\r\n```\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\npublic class FileValidator {\r\n\r\n    public static boolean validateFile(MultipartFile file) {\r\n        // Perform your validation checks here\r\n        try {\r\n            // Read the file contents\r\n            byte[] fileBytes = file.getBytes();\r\n            String fileContent = new String(fileBytes);\r\n\r\n            // Example validation\r\n            if (fileContent.contains(&quot;invalidKeyword&quot;)) {\r\n                // File content is not valid\r\n                return false;\r\n            }\r\n\r\n            // Add more validation checks as needed\r\n\r\n        } catch (Exception e) {\r\n           // handel error\r\n           return false;\r\n        }\r\n\r\n        // File content is valid\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen use the FileValidator:\r\n\r\n```\r\npublic ResponseEntity&lt;Object&gt; saveEmployee( @RequestParam(&quot;file&quot;) final MultipartFile multipartFile) {\r\n\r\n\r\n      if (!FileValidator.validateFile(file)) {\r\n           return ResponseEntity.status(HttpStatus.BAD_REQUEST)\r\n                    .body(&quot;Invalid file content&quot;);\r\n        }\r\n\r\n     // Proceed with saving the file to S3 or perform other actions\r\n     employeeS3Service.save(multipartFile);\r\n      \r\n     return ResponseEntity.ok(&quot;File uploaded successfully&quot;);\r\n}\r\n```","title":"Validating a multipart file on upload in spring","body":"<p>You can try to create a validtor class like that:</p>\n<pre><code>import org.springframework.web.multipart.MultipartFile;\n\npublic class FileValidator {\n\n    public static boolean validateFile(MultipartFile file) {\n        // Perform your validation checks here\n        try {\n            // Read the file contents\n            byte[] fileBytes = file.getBytes();\n            String fileContent = new String(fileBytes);\n\n            // Example validation\n            if (fileContent.contains(&quot;invalidKeyword&quot;)) {\n                // File content is not valid\n                return false;\n            }\n\n            // Add more validation checks as needed\n\n        } catch (Exception e) {\n           // handel error\n           return false;\n        }\n\n        // File content is valid\n        return true;\n    }\n}\n\n</code></pre>\n<p>Then use the FileValidator:</p>\n<pre><code>public ResponseEntity&lt;Object&gt; saveEmployee( @RequestParam(&quot;file&quot;) final MultipartFile multipartFile) {\n\n\n      if (!FileValidator.validateFile(file)) {\n           return ResponseEntity.status(HttpStatus.BAD_REQUEST)\n                    .body(&quot;Invalid file content&quot;);\n        }\n\n     // Proceed with saving the file to S3 or perform other actions\n     employeeS3Service.save(multipartFile);\n      \n     return ResponseEntity.ok(&quot;File uploaded successfully&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700254367,"creation_date":1700232906,"question_id":77502571,"body_markdown":"I have a spring boot app that allows me to upload a file as follows:\r\n\r\n    public ResponseEntity&lt;Object&gt; saveEmployee( @RequestParam(&quot;file&quot;) final MultipartFile multipartFile) {\r\n        employeeS3Service.save(multipartFile);\r\n        return ResponseEntity.ok().build();\r\n    }\r\n\r\nWhat i want to do is before I save to s3, I want to validate its contens. Is there an easy way of doing this? so i read each line and check contents?","title":"Validating a multipart file on upload in spring","body":"<p>I have a spring boot app that allows me to upload a file as follows:</p>\n<pre><code>public ResponseEntity&lt;Object&gt; saveEmployee( @RequestParam(&quot;file&quot;) final MultipartFile multipartFile) {\n    employeeS3Service.save(multipartFile);\n    return ResponseEntity.ok().build();\n}\n</code></pre>\n<p>What i want to do is before I save to s3, I want to validate its contens. Is there an easy way of doing this? so i read each line and check contents?</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":25732732,"reputation":1,"user_id":19488067,"display_name":"yumyum321"},"score":0,"creation_date":1700498336,"post_id":77503989,"comment_id":136659089,"body_markdown":"What would ApiErrorResponse be? I don&#39;t have that","body":"What would ApiErrorResponse be? I don&#39;t have that"},{"owner":{"account_id":20053840,"reputation":13,"user_id":14701970,"display_name":"Paschan"},"score":0,"creation_date":1700847313,"post_id":77503989,"comment_id":136706914,"body_markdown":"it just basically response u are returning to client side, u can change that with your own response body @yumyum321","body":"it just basically response u are returning to client side, u can change that with your own response body @yumyum321"}],"tags":[],"owner":{"account_id":20053840,"reputation":13,"user_id":14701970,"display_name":"Paschan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700248161,"creation_date":1700246852,"answer_id":77503989,"question_id":77503887,"body_markdown":"Try this,\r\n\r\nExceptionHandler Class\r\n```\r\n@ControllerAdvice\r\npublic class ApiExceptionHandler {\r\n\r\n    @ExceptionHandler({NoHandlerFoundException.class})\r\n    public ResponseEntity&lt;ApiErrorResponse&gt; handleNoHandlerFoundException(\r\n            NoHandlerFoundException ex, HttpServletRequest httpServletRequest) {\r\n        ApiErrorResponse apiErrorResponse = new ApiErrorResponse(404, &quot;Resource not found&quot;);\r\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).contentType(MediaType.APPLICATION_JSON).body(apiErrorResponse);\r\n    }\r\n}\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.mvc.throw-exception-if-no-handler-found=true\r\n```\r\n\r\nAnd add\r\n@EnableWebMvc to main application class\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://bootcamptoprod.com/customizing-404-response-springboot/","title":"Apache Camel &amp; Springboot - 404 status - Response body blank when customer tries to reach an invalid/undefined endpoint","body":"<p>Try this,</p>\n<p>ExceptionHandler Class</p>\n<pre><code>@ControllerAdvice\npublic class ApiExceptionHandler {\n\n    @ExceptionHandler({NoHandlerFoundException.class})\n    public ResponseEntity&lt;ApiErrorResponse&gt; handleNoHandlerFoundException(\n            NoHandlerFoundException ex, HttpServletRequest httpServletRequest) {\n        ApiErrorResponse apiErrorResponse = new ApiErrorResponse(404, &quot;Resource not found&quot;);\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).contentType(MediaType.APPLICATION_JSON).body(apiErrorResponse);\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\n</code></pre>\n<p>And add\n@EnableWebMvc to main application class</p>\n<p><a href=\"https://bootcamptoprod.com/customizing-404-response-springboot/\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":25732732,"reputation":1,"user_id":19488067,"display_name":"yumyum321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700253253,"creation_date":1700245626,"question_id":77503887,"body_markdown":"I am trying to have a custom json response body indicate to the customer that they tried to reach an invalid route. When they are missing a parameter in their request for ex. localhost:8080/hello//is/my/path versus the correct path localhost:8080/hello/this/is/my/path camel gives 404 status but the response is blank. I can&#39;t seem to add a custom response as camel doesn&#39;t even read my code. It just gives 404 status without even an exception. Please help.\r\n\r\nI tried adding global exception handlers as well as default routes but none of this code is even read.","title":"Apache Camel &amp; Springboot - 404 status - Response body blank when customer tries to reach an invalid/undefined endpoint","body":"<p>I am trying to have a custom json response body indicate to the customer that they tried to reach an invalid route. When they are missing a parameter in their request for ex. localhost:8080/hello//is/my/path versus the correct path localhost:8080/hello/this/is/my/path camel gives 404 status but the response is blank. I can't seem to add a custom response as camel doesn't even read my code. It just gives 404 status without even an exception. Please help.</p>\n<p>I tried adding global exception handlers as well as default routes but none of this code is even read.</p>\n"},{"tags":["java","android","java-http-client"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1636355703,"post_id":69750452,"comment_id":123524604,"body_markdown":"As far as I can tell, the answer is &quot;you can&#39;t&quot; ... unless you are prepared to go to the effort of porting the relevant &quot;java.net.http&quot; classes to Android as a library.","body":"As far as I can tell, the answer is &quot;you can&#39;t&quot; ... unless you are prepared to go to the effort of porting the relevant &quot;java.net.http&quot; classes to Android as a library."},{"owner":{"account_id":10775834,"reputation":528,"user_id":9165920,"display_name":"Irfan Latif"},"score":0,"creation_date":1644879482,"post_id":69750452,"comment_id":125717820,"body_markdown":"We have to wait for [Java 11 APIs be made available through desugaring](https://developer.android.com/studio/write/java8-support-table).","body":"We have to wait for <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 11 APIs be made available through desugaring</a>."},{"owner":{"account_id":10775834,"reputation":528,"user_id":9165920,"display_name":"Irfan Latif"},"score":0,"creation_date":1646852928,"post_id":69750452,"comment_id":126229034,"body_markdown":"[OpenJDK 11 Updates](https://developer.android.com/about/versions/13/features#core-libraries) in Android 13 do not include HTTP packages.","body":"<a href=\"https://developer.android.com/about/versions/13/features#core-libraries\" rel=\"nofollow noreferrer\">OpenJDK 11 Updates</a> in Android 13 do not include HTTP packages."}],"answers":[{"comments":[{"owner":{"account_id":1894228,"reputation":370,"user_id":1711555,"display_name":"Nandhan Thiravia"},"score":0,"creation_date":1636451481,"post_id":69883204,"comment_id":123554280,"body_markdown":"Sad that I will not be able to use OpenJDK&#39;s HTTP Client. Thank you for pointing that OkHttpClient is the alternative.","body":"Sad that I will not be able to use OpenJDK&#39;s HTTP Client. Thank you for pointing that OkHttpClient is the alternative."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636373247,"creation_date":1636373247,"answer_id":69883204,"question_id":69750452,"body_markdown":"&gt; Today, I wish to write an Android Application in Java using the same packages but I somehow couldn&#39;t find them\r\n\r\nThe Android SDK does not include everything in any particular Java SDK, especially J2EE. And, at the present time, the Android SDK tops out at Java 8 &amp;mdash; classes, methods, and other items introduced after that are not in the Android SDK.\r\n\r\n&gt; I am keen on using OpenJDK&#39;s HTTPClient\r\n\r\nYou are welcome to attempt to backport HTTPClient to work on the Android SDK. A quick glance at the source code suggests that it depends too much on things that the Android SDK lacks, and so that backport would be tedious at best and may not succeed. It also will require you to license your app (or anything else that uses this backport) under the GPL, which you may or may not want to do.\r\n\r\nAlso, if other developers will work on this project, you should be making your decisions on what to use based on what is best for the team (and, if relevant, the company or other organization that your team belongs to). Investing in this backport effort may not be the best option, compared to using [OkHttp](https://square.github.io/okhttp/).","title":"How can I use JDK 11 HTTP packages in Android","body":"<blockquote>\n<p>Today, I wish to write an Android Application in Java using the same packages but I somehow couldn't find them</p>\n</blockquote>\n<p>The Android SDK does not include everything in any particular Java SDK, especially J2EE. And, at the present time, the Android SDK tops out at Java 8  classes, methods, and other items introduced after that are not in the Android SDK.</p>\n<blockquote>\n<p>I am keen on using OpenJDK's HTTPClient</p>\n</blockquote>\n<p>You are welcome to attempt to backport HTTPClient to work on the Android SDK. A quick glance at the source code suggests that it depends too much on things that the Android SDK lacks, and so that backport would be tedious at best and may not succeed. It also will require you to license your app (or anything else that uses this backport) under the GPL, which you may or may not want to do.</p>\n<p>Also, if other developers will work on this project, you should be making your decisions on what to use based on what is best for the team (and, if relevant, the company or other organization that your team belongs to). Investing in this backport effort may not be the best option, compared to using <a href=\"https://square.github.io/okhttp/\" rel=\"noreferrer\">OkHttp</a>.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700252938,"creation_date":1636949944,"answer_id":69969459,"question_id":69750452,"body_markdown":"The answer to your question is `no`. The top fully supported version of `Java` is `Java 8`.\r\n\r\nAs a complements, you can check the links below for more details and understanding.\r\n\r\n 1. [Use Java 8 language features and APIs][1]\r\n 2. [Java 8+ APIs available through desugaring][2]\r\n 3. [Does java 11 support android?][3]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support\r\n  [2]: https://developer.android.com/studio/write/java8-support-table\r\n  [3]: https://stackoverflow.com/questions/53456107/does-java-11-support-android\r\n  [4]: https://ahsensaeed.com/top-android-networking-libraries-dependencies/","title":"How can I use JDK 11 HTTP packages in Android","body":"<p>The answer to your question is <code>no</code>. The top fully supported version of <code>Java</code> is <code>Java 8</code>.</p>\n<p>As a complements, you can check the links below for more details and understanding.</p>\n<ol>\n<li><a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">Use Java 8 language features and APIs</a></li>\n<li><a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a></li>\n<li><a href=\"https://stackoverflow.com/questions/53456107/does-java-11-support-android\">Does java 11 support android?</a></li>\n</ol>\n"}],"owner":{"account_id":1894228,"reputation":370,"user_id":1711555,"display_name":"Nandhan Thiravia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1935,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1700252938,"creation_date":1635408595,"question_id":69750452,"body_markdown":"I am a Web Applications developer using J2EE Technology. I have made extensive use of Oracle&#39;s / OpenJDK&#39;s HTTP packages, as I find them more comfortable fo development.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\r\n\r\n```\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\n```\r\n\r\nToday, I wish to write an Android Application in Java using the same packages but I somehow couldn&#39;t find them. I could find OkHttpClient, Apache&#39;s HttpClient as well **but I am keen on using OpenJDK&#39;s HTTPClient**.\r\n\r\nThere are of course many suggesting to use Apache&#39;s HTTPClient but I am not looking for that.","title":"How can I use JDK 11 HTTP packages in Android","body":"<p>I am a Web Applications developer using J2EE Technology. I have made extensive use of Oracle's / OpenJDK's HTTP packages, as I find them more comfortable fo development.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html</a></p>\n<pre><code>import java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\n</code></pre>\n<p>Today, I wish to write an Android Application in Java using the same packages but I somehow couldn't find them. I could find OkHttpClient, Apache's HttpClient as well <strong>but I am keen on using OpenJDK's HTTPClient</strong>.</p>\n<p>There are of course many suggesting to use Apache's HTTPClient but I am not looking for that.</p>\n"},{"tags":["java","spring-boot","influxdb","open-telemetry"],"comments":[{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1700336828,"post_id":77504365,"comment_id":136643115,"body_markdown":"Does that help? https://github.com/influxdata/telegraf/blob/release-1.28/plugins/outputs/opentelemetry/README.md","body":"Does that help? <a href=\"https://github.com/influxdata/telegraf/blob/release-1.28/plugins/outputs/opentelemetry/README.md\" rel=\"nofollow noreferrer\">github.com/influxdata/telegraf/blob/release-1.28/plugins/&hellip;</a>"}],"owner":{"account_id":29464210,"reputation":11,"user_id":22578250,"display_name":"Lamming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700251533,"creation_date":1700251533,"question_id":77504365,"body_markdown":"I am new with OpenTelemetry.\r\n\r\nI have a Springboot App where I added opentelemetry boot-starter dependency:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.opentelemetry.instrumentation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opentelemetry-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.31.0-alpha&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n \r\n\r\nI want to send metrics directly to `InfluxDB` but I don&#39;t want to Install and Deploy `Collector`\r\n\r\nThere is not InfluxDb exporter that I could found.\r\n\r\n\r\nWhat are my options?\r\n\r\n ","title":"OpenTelemetry with InfluxDB and without Collectors","body":"<p>I am new with OpenTelemetry.</p>\n<p>I have a Springboot App where I added opentelemetry boot-starter dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentelemetry.instrumentation&lt;/groupId&gt;\n            &lt;artifactId&gt;opentelemetry-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.31.0-alpha&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>I want to send metrics directly to <code>InfluxDB</code> but I don't want to Install and Deploy <code>Collector</code></p>\n<p>There is not InfluxDb exporter that I could found.</p>\n<p>What are my options?</p>\n"},{"tags":["java","android","android-studio","java-compiler-api"],"comments":[{"owner":{"account_id":1029615,"reputation":1867,"user_id":1038194,"accept_rate":80,"display_name":"stevyhacker"},"score":0,"creation_date":1538484886,"post_id":52229987,"comment_id":92151562,"body_markdown":"I am having the same issue after updating a Java project to the latest Gradle version.","body":"I am having the same issue after updating a Java project to the latest Gradle version."},{"owner":{"account_id":3645899,"reputation":921,"user_id":3038899,"accept_rate":29,"display_name":"Nikhil"},"score":0,"creation_date":1538645400,"post_id":52229987,"comment_id":92218964,"body_markdown":"Does anyone found any solution?","body":"Does anyone found any solution?"},{"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"score":0,"creation_date":1538669937,"post_id":52229987,"comment_id":92234395,"body_markdown":"@Nikhil Not yet, It just works for me.....without doing anything","body":"@Nikhil Not yet, It just works for me.....without doing anything"},{"owner":{"account_id":3645899,"reputation":921,"user_id":3038899,"accept_rate":29,"display_name":"Nikhil"},"score":0,"creation_date":1538983561,"post_id":52229987,"comment_id":92321001,"body_markdown":"@Xianwei Same for me too. it is kind of weird but its working now without doing anything","body":"@Xianwei Same for me too. it is kind of weird but its working now without doing anything"},{"owner":{"account_id":3419645,"reputation":4841,"user_id":2867656,"accept_rate":82,"display_name":"Veener"},"score":0,"creation_date":1539606642,"post_id":52229987,"comment_id":92550881,"body_markdown":"I found a solution to examine the apk and should point you to the problem. See my answer below.","body":"I found a solution to examine the apk and should point you to the problem. See my answer below."},{"owner":{"account_id":5704484,"reputation":549,"user_id":4508504,"display_name":"Abdul Wahid"},"score":1,"creation_date":1589869301,"post_id":52229987,"comment_id":109455891,"body_markdown":"for me it was svg file that i used for icon generation in android image asset studio. when i cleared the path of that svg file and made my icon simple the error disappeared.","body":"for me it was svg file that i used for icon generation in android image asset studio. when i cleared the path of that svg file and made my icon simple the error disappeared."}],"answers":[{"comments":[{"owner":{"account_id":6542279,"reputation":550,"user_id":5059339,"accept_rate":25,"display_name":"Ghizlane Lotfi"},"score":4,"creation_date":1542625896,"post_id":52608833,"comment_id":93622606,"body_markdown":"I got this error, when I upgraded gradle from 3.1.3 to 3.2.0, i don&#39;t want to use the version below 3.2.0","body":"I got this error, when I upgraded gradle from 3.1.3 to 3.2.0, i don&#39;t want to use the version below 3.2.0"},{"owner":{"account_id":1751301,"reputation":3156,"user_id":1600332,"display_name":"Elletlar"},"score":2,"creation_date":1544207539,"post_id":52608833,"comment_id":94207702,"body_markdown":"I always get this error when attempting to add the stripe library &quot;com.stripe:stripe-android:6.1.2&quot; to any project including an empty one. I can sometimes get it go away by deleting the Gradle dirs and resyncing, but downgrading Gradle plugin seems to be the only reliable option to make it go away permanently [Gradle Plugin Versions](https://developer.android.com/studio/releases/gradle-plugin)","body":"I always get this error when attempting to add the stripe library &quot;com.stripe:stripe-android:6.1.2&quot; to any project including an empty one. I can sometimes get it go away by deleting the Gradle dirs and resyncing, but downgrading Gradle plugin seems to be the only reliable option to make it go away permanently <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">Gradle Plugin Versions</a>"},{"owner":{"account_id":1786722,"reputation":433,"user_id":1628052,"display_name":"Cosmin Radu"},"score":11,"creation_date":1544524242,"post_id":52608833,"comment_id":94297814,"body_markdown":"@Elletlar and anyone who had this problem because of Stripe SDK: Version 6.1.2 of the SDK includes a vector drawable with a very long path. That path is the one generating the error and that&#39;s what gets replaced with &quot;STRING_TOO_LARGE&quot;. They fixed it in this commit https://github.com/stripe/stripe-android/pull/547 so any version including this fix (7.0.0 upwards) makes the error go away. I&#39;m using 8.1.0 at the time of writing.","body":"@Elletlar and anyone who had this problem because of Stripe SDK: Version 6.1.2 of the SDK includes a vector drawable with a very long path. That path is the one generating the error and that&#39;s what gets replaced with &quot;STRING_TOO_LARGE&quot;. They fixed it in this commit <a href=\"https://github.com/stripe/stripe-android/pull/547\" rel=\"nofollow noreferrer\">github.com/stripe/stripe-android/pull/547</a> so any version including this fix (7.0.0 upwards) makes the error go away. I&#39;m using 8.1.0 at the time of writing."},{"owner":{"account_id":1751301,"reputation":3156,"user_id":1600332,"display_name":"Elletlar"},"score":0,"creation_date":1544538809,"post_id":52608833,"comment_id":94305985,"body_markdown":"Thanks that is a big help. I followed Stripe&#39;s integration guide: [Guide](https://stripe.com/docs/mobile/android). They still advocate to use &quot;implementation &#39;com.stripe:stripe-android:6.1.2&#39;&quot;. I suppose that no one is updating their guide...Regards.","body":"Thanks that is a big help. I followed Stripe&#39;s integration guide: <a href=\"https://stripe.com/docs/mobile/android\" rel=\"nofollow noreferrer\">Guide</a>. They still advocate to use &quot;implementation &#39;com.stripe:stripe-android:6.1.2&#39;&quot;. I suppose that no one is updating their guide...Regards."},{"owner":{"account_id":1042749,"reputation":3631,"user_id":1048418,"accept_rate":67,"display_name":"Dawid Hyzy"},"score":34,"creation_date":1556602663,"post_id":52608833,"comment_id":98483328,"body_markdown":"This is not a solution!","body":"This is not a solution!"},{"owner":{"account_id":3146665,"reputation":389,"user_id":2661028,"display_name":"Robin Hood"},"score":3,"creation_date":1557091318,"post_id":52608833,"comment_id":98640083,"body_markdown":"Downgrading seems a bit hacky to me.","body":"Downgrading seems a bit hacky to me."},{"owner":{"account_id":1374590,"reputation":3335,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"score":0,"creation_date":1574085974,"post_id":52608833,"comment_id":104094285,"body_markdown":"Doesn&#39;t work with Android Studio 3.5.2; get error &#39;ERROR: JAVA_LETTER_OR_DIGIT&#39;","body":"Doesn&#39;t work with Android Studio 3.5.2; get error &#39;ERROR: JAVA_LETTER_OR_DIGIT&#39;"},{"owner":{"account_id":1029615,"reputation":1867,"user_id":1038194,"accept_rate":80,"display_name":"stevyhacker"},"score":0,"creation_date":1588765964,"post_id":52608833,"comment_id":109023185,"body_markdown":"Of course this was not the solution, just a temporary workaround at the time.","body":"Of course this was not the solution, just a temporary workaround at the time."},{"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"score":0,"creation_date":1668516189,"post_id":52608833,"comment_id":131419486,"body_markdown":"@CosminRadu Having this problem again on 20.15.2 but not sure if it&#39;s related","body":"@CosminRadu Having this problem again on 20.15.2 but not sure if it&#39;s related"},{"owner":{"account_id":1095566,"reputation":543,"user_id":1089221,"display_name":"eric xu"},"score":0,"creation_date":1672901228,"post_id":52608833,"comment_id":132378336,"body_markdown":"Are we still going to use this method in 2023?","body":"Are we still going to use this method in 2023?"}],"tags":[],"owner":{"account_id":1029615,"reputation":1867,"user_id":1038194,"accept_rate":80,"display_name":"stevyhacker"},"comment_count":10,"down_vote_count":11,"up_vote_count":24,"is_accepted":true,"score":13,"last_activity_date":1538485055,"creation_date":1538485055,"answer_id":52608833,"question_id":52229987,"body_markdown":"For the time being, you can downgrade Gradle version to resolve this issue.\r\nUse gradle 3.1 version like 3.1.3 below.\r\n  \r\n\r\n      classpath &#39;com.android.tools.build:gradle:3.1.3&#39;\r\n\r\n","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>For the time being, you can downgrade Gradle version to resolve this issue.\nUse gradle 3.1 version like 3.1.3 below.</p>\n\n<pre><code>  classpath 'com.android.tools.build:gradle:3.1.3'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3532675,"reputation":772,"user_id":2951744,"display_name":"Vit Veres"},"score":1,"creation_date":1561455772,"post_id":52816708,"comment_id":100059945,"body_markdown":"This is the best way how to figure out which string is too long! Thank you.","body":"This is the best way how to figure out which string is too long! Thank you."},{"owner":{"account_id":4074459,"reputation":141,"user_id":3346491,"display_name":"Safety"},"score":5,"creation_date":1561553889,"post_id":52816708,"comment_id":100102253,"body_markdown":"Nothing appears when I use this command line. Does it mean, it does not come from a string?","body":"Nothing appears when I use this command line. Does it mean, it does not come from a string?"},{"owner":{"account_id":13557110,"reputation":659,"user_id":9780149,"display_name":"Csa77"},"score":0,"creation_date":1580063343,"post_id":52816708,"comment_id":105966153,"body_markdown":"I get nothing as well","body":"I get nothing as well"},{"owner":{"account_id":1965055,"reputation":584,"user_id":1765558,"accept_rate":67,"display_name":"Makks129"},"score":4,"creation_date":1583228113,"post_id":52816708,"comment_id":107036200,"body_markdown":"This is a great solution, however this command didn&#39;t work for me, so I just decompiled my apk (use any online decompiler) and then ran: `grep -r &quot;STRING_TOO_LARGE&quot; /decompiled_apk_folder`. In my case it pointed me directly to the problematic SVG file.","body":"This is a great solution, however this command didn&#39;t work for me, so I just decompiled my apk (use any online decompiler) and then ran: <code>grep -r &quot;STRING_TOO_LARGE&quot; &#47;decompiled_apk_folder</code>. In my case it pointed me directly to the problematic SVG file."}],"tags":[],"owner":{"account_id":3419645,"reputation":4841,"user_id":2867656,"accept_rate":82,"display_name":"Veener"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1539606176,"creation_date":1539606176,"answer_id":52816708,"question_id":52229987,"body_markdown":"You can use AAPT (from the android sdk/build-tools) to examine the APK and look for the offending string with the following command line (Linux):\r\n\r\n    // Linux/Mac\r\n    ./aapt dump --values resources MyAppName-regular-debug.apk | grep -B 1 &#39;STRING_TOO_LARGE&#39;\r\n\r\n    // Windows\r\n    aapt dump --values resources MyAppName-regular-debug.apk | grep -B 1 &#39;STRING_TOO_LARGE&#39;\r\n\r\n\r\nWhich should point you to the culprit. In my case it was:\r\n\r\n    resource 0x7f0f015a com.example.app:string/eula: t=0x03 d=0x00000f10 (s=0x0008 r=0x00)\r\n          (string8) &quot;STRING_TOO_LARGE&quot;\r\n","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>You can use AAPT (from the android sdk/build-tools) to examine the APK and look for the offending string with the following command line (Linux):</p>\n\n<pre><code>// Linux/Mac\n./aapt dump --values resources MyAppName-regular-debug.apk | grep -B 1 'STRING_TOO_LARGE'\n\n// Windows\naapt dump --values resources MyAppName-regular-debug.apk | grep -B 1 'STRING_TOO_LARGE'\n</code></pre>\n\n<p>Which should point you to the culprit. In my case it was:</p>\n\n<pre><code>resource 0x7f0f015a com.example.app:string/eula: t=0x03 d=0x00000f10 (s=0x0008 r=0x00)\n      (string8) \"STRING_TOO_LARGE\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3661982,"reputation":3096,"user_id":3051503,"display_name":"Muhaiminur Rahman"},"score":0,"creation_date":1542175008,"post_id":53081629,"comment_id":93468972,"body_markdown":"How can I do this from Android Studio?","body":"How can I do this from Android Studio?"},{"owner":{"account_id":4739482,"reputation":348,"user_id":3832773,"display_name":"Pritesh Vishwakarma"},"score":5,"creation_date":1542193028,"post_id":53081629,"comment_id":93477879,"body_markdown":"[Here is solution in Android Document](https://developer.android.com/studio/build/build-cache#clear_the_build_cache)   open android studio , select View &gt; Tool Windows &gt; Terminal from the menu bar and use one of the following commands:    (in windows )gradlew cleanBuildCache and  (in mac or linux) ./gradlew cleanBuildCache","body":"<a href=\"https://developer.android.com/studio/build/build-cache#clear_the_build_cache\" rel=\"nofollow noreferrer\">Here is solution in Android Document</a>   open android studio , select View &gt; Tool Windows &gt; Terminal from the menu bar and use one of the following commands:    (in windows )gradlew cleanBuildCache and  (in mac or linux) ./gradlew cleanBuildCache"},{"owner":{"account_id":9793535,"reputation":2283,"user_id":7257373,"display_name":"Chivorn"},"score":0,"creation_date":1565855744,"post_id":53081629,"comment_id":101480976,"body_markdown":"It is fixed for my issue","body":"It is fixed for my issue"},{"owner":{"account_id":12343062,"reputation":2301,"user_id":9005383,"accept_rate":83,"display_name":"Tamim Attafi"},"score":0,"creation_date":1669751043,"post_id":53081629,"comment_id":131712871,"body_markdown":"@PriteshVishwakarma\nTask &#39;cleanBuildCache&#39; not found in root project &#39;xxx&#39;.","body":"@PriteshVishwakarma Task &#39;cleanBuildCache&#39; not found in root project &#39;xxx&#39;."}],"tags":[],"owner":{"account_id":1534208,"reputation":1054,"user_id":1430669,"accept_rate":74,"display_name":"Kalu Khan Luhar"},"comment_count":4,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1540983097,"creation_date":1540983097,"answer_id":53081629,"question_id":52229987,"body_markdown":"I had encountered the same and fixed by [clear the build cache][1] .\r\n\r\n\r\n  [1]: https://developer.android.com/studio/build/build-cache#clear_the_build_cache","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>I had encountered the same and fixed by <a href=\"https://developer.android.com/studio/build/build-cache#clear_the_build_cache\" rel=\"noreferrer\">clear the build cache</a> .</p>\n"},{"comments":[{"owner":{"account_id":9291465,"reputation":495,"user_id":6899791,"display_name":"Umasankar"},"score":1,"creation_date":1547014910,"post_id":53844339,"comment_id":95040825,"body_markdown":"Perfect solution for my case","body":"Perfect solution for my case"}],"tags":[],"owner":{"account_id":9386055,"reputation":221,"user_id":10809041,"display_name":"ILMTL"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1558454930,"creation_date":1545191493,"answer_id":53844339,"question_id":52229987,"body_markdown":"I was stuck on this problem and read through this topic and no one provided a future solution. I did NOT want to revert back my Gradle. Therefore, here is the link to the updated dependencies [https://github.com/stripe/stripe-android][1]. Look for the &quot;Android Studio (or Gradle)&quot; section and you should see this `&quot;implementation &#39;com.stripe:stripe-android:8.1.0&#39;&quot;` also you might need to add `&quot;-keep class com.stripe.android.** { *; }&quot;` if you are enabling minification in your build.gradle file.\r\n\r\nOverall Stripe has stopped updating their own &quot;Stripe docs&quot; which can be found [here][2]. To give them credit their docs are helpful and should be read at least once, but be mindful that most of the docs are out date when I wrote this... \r\n\r\nHope this helps :)\r\n\r\n  [1]: https://github.com/stripe/stripe-android\r\n  [2]: https://stripe.com/docs","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>I was stuck on this problem and read through this topic and no one provided a future solution. I did NOT want to revert back my Gradle. Therefore, here is the link to the updated dependencies <a href=\"https://github.com/stripe/stripe-android\" rel=\"noreferrer\">https://github.com/stripe/stripe-android</a>. Look for the \"Android Studio (or Gradle)\" section and you should see this <code>\"implementation 'com.stripe:stripe-android:8.1.0'\"</code> also you might need to add <code>\"-keep class com.stripe.android.** { *; }\"</code> if you are enabling minification in your build.gradle file.</p>\n\n<p>Overall Stripe has stopped updating their own \"Stripe docs\" which can be found <a href=\"https://stripe.com/docs\" rel=\"noreferrer\">here</a>. To give them credit their docs are helpful and should be read at least once, but be mindful that most of the docs are out date when I wrote this... </p>\n\n<p>Hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":2892194,"reputation":6142,"user_id":2480714,"accept_rate":67,"display_name":"PGMacDesign"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547494476,"creation_date":1547494476,"answer_id":54188024,"question_id":52229987,"body_markdown":"None of the above solutions worked for me. What ended up being the cause of the problem was, as it states, a String that was too large. Specifically, in my **arrays.xml** file under the values directory, I had some SVG arrays that were used within my app and commenting them out solved the issue. \r\n\r\nIf you know for certain you have some longer Strings somewhere in your resource directories (*/res*), check for any large Strings that may be lurking. \r\n\r\nAlso, [this solution][1] may help others but was not linked to in this thread.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51936939/2480714","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>None of the above solutions worked for me. What ended up being the cause of the problem was, as it states, a String that was too large. Specifically, in my <strong>arrays.xml</strong> file under the values directory, I had some SVG arrays that were used within my app and commenting them out solved the issue. </p>\n\n<p>If you know for certain you have some longer Strings somewhere in your resource directories (<em>/res</em>), check for any large Strings that may be lurking. </p>\n\n<p>Also, <a href=\"https://stackoverflow.com/a/51936939/2480714\">this solution</a> may help others but was not linked to in this thread.</p>\n"},{"tags":[],"owner":{"account_id":9630757,"reputation":1055,"user_id":7148752,"display_name":"Masum Billah"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1568699387,"creation_date":1568699387,"answer_id":57968025,"question_id":52229987,"body_markdown":"just use `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;` before in your drawable file.\r\n\r\n**Example:** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;vector\r\n        android:autoMirrored=&quot;true&quot;\r\n        android:height=&quot;24dp&quot;\r\n        android:viewportHeight=&quot;490.282&quot;\r\n        android:viewportWidth=&quot;490.282&quot;\r\n        android:width=&quot;24dp&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;path\r\n            android:fillColor=&quot;#fff&quot;\r\n            android:pathData=&quot;M0.043,245.197c0.6,10.1 7.3,18.6 17,21.5l179.6,54.3l6.6,123.8c0.3,4.9 3.6,9.2 8.3,10.8c1.3,0.5 2.7,0.7 4,0.7c3.5,0 6.8,-1.4 9.2,-4.1l63.5,-70.3l90,62.3c4,2.8 8.7,4.3 13.6,4.3c11.3,0 21.1,-8 23.5,-19.2l74.7,-380.7c0.9,-4.4 -0.8,-9 -4.2,-11.8c-3.5,-2.9 -8.2,-3.6 -12.4,-1.9l-459,186.8C5.143,225.897 -0.557,235.097 0.043,245.197zM226.043,414.097l-4.1,-78.1l46,31.8L226.043,414.097zM391.443,423.597l-163.8,-113.4l229.7,-222.2L391.443,423.597zM432.143,78.197l-227.1,219.7l-179.4,-54.2L432.143,78.197z&quot;/&gt;\r\n    &lt;/vector&gt;","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>just use <code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</code> before in your drawable file.</p>\n\n<p><strong>Example:</strong> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;vector\n    android:autoMirrored=\"true\"\n    android:height=\"24dp\"\n    android:viewportHeight=\"490.282\"\n    android:viewportWidth=\"490.282\"\n    android:width=\"24dp\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;path\n        android:fillColor=\"#fff\"\n        android:pathData=\"M0.043,245.197c0.6,10.1 7.3,18.6 17,21.5l179.6,54.3l6.6,123.8c0.3,4.9 3.6,9.2 8.3,10.8c1.3,0.5 2.7,0.7 4,0.7c3.5,0 6.8,-1.4 9.2,-4.1l63.5,-70.3l90,62.3c4,2.8 8.7,4.3 13.6,4.3c11.3,0 21.1,-8 23.5,-19.2l74.7,-380.7c0.9,-4.4 -0.8,-9 -4.2,-11.8c-3.5,-2.9 -8.2,-3.6 -12.4,-1.9l-459,186.8C5.143,225.897 -0.557,235.097 0.043,245.197zM226.043,414.097l-4.1,-78.1l46,31.8L226.043,414.097zM391.443,423.597l-163.8,-113.4l229.7,-222.2L391.443,423.597zM432.143,78.197l-227.1,219.7l-179.4,-54.2L432.143,78.197z\"/&gt;\n&lt;/vector&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14534276,"reputation":2020,"user_id":10498159,"display_name":"Ven Ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572354018,"creation_date":1572354018,"answer_id":58607967,"question_id":52229987,"body_markdown":"clear your gradle in windows\r\n\r\n    gradlew cleanBuildCache\r\n\r\nin mac \r\n\r\n    ./gradlew cleanBuildCache\r\n\r\nthen building you apk if your project has problem it will be show you in the &#39;Messages&#39; \r\nview. location your problem and fix it. run agent.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X30Kq.jpg","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>clear your gradle in windows</p>\n\n<pre><code>gradlew cleanBuildCache\n</code></pre>\n\n<p>in mac </p>\n\n<pre><code>./gradlew cleanBuildCache\n</code></pre>\n\n<p>then building you apk if your project has problem it will be show you in the 'Messages' \nview. location your problem and fix it. run agent.</p>\n\n<p><a href=\"https://i.stack.imgur.com/X30Kq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X30Kq.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1374590,"reputation":3335,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574171951,"creation_date":1574171951,"answer_id":58935759,"question_id":52229987,"body_markdown":"In my case, the problem was due to the following lines in the manifest:\r\n\r\n        &lt;activity\r\n        android:name=&quot;com.facebook.FacebookActivity&quot;\r\n        android:configChanges=&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n        android:label=&quot;@string/app_name&quot;/&gt;\r\n\r\nOnce I deleted them, the build went fine.","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>In my case, the problem was due to the following lines in the manifest:</p>\n\n<pre><code>    &lt;activity\n    android:name=\"com.facebook.FacebookActivity\"\n    android:configChanges=\"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\n    android:label=\"@string/app_name\"/&gt;\n</code></pre>\n\n<p>Once I deleted them, the build went fine.</p>\n"},{"tags":[],"owner":{"account_id":5960106,"reputation":464,"user_id":4685534,"accept_rate":56,"display_name":"parvez rafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581489544,"creation_date":1581489544,"answer_id":60182481,"question_id":52229987,"body_markdown":"Just use gradlew cleanBuildCache in your Android studio terminal","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>Just use gradlew cleanBuildCache in your Android studio terminal</p>\n"},{"tags":[],"owner":{"account_id":10118864,"reputation":648,"user_id":7476567,"display_name":"Prashant Paliwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582028705,"creation_date":1582028705,"answer_id":60280854,"question_id":52229987,"body_markdown":"In my case, i deleted a view from xml but forgot to remove its references in my kotlin code. Make sure to check this before doing anything fancy.","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>In my case, i deleted a view from xml but forgot to remove its references in my kotlin code. Make sure to check this before doing anything fancy.</p>\n"},{"tags":[],"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598748463,"creation_date":1584202099,"answer_id":60684722,"question_id":52229987,"body_markdown":"I found an SVG file that had a very long `pathData`.  I commented it out and the error went away.  That very same vector (when called) at runtime would cause a crash (before it was commented out).","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>I found an SVG file that had a very long <code>pathData</code>.  I commented it out and the error went away.  That very same vector (when called) at runtime would cause a crash (before it was commented out).</p>\n"},{"tags":[],"owner":{"account_id":10940754,"reputation":1993,"user_id":8040697,"display_name":"Emad Razavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585309870,"creation_date":1585309870,"answer_id":60885431,"question_id":52229987,"body_markdown":"I found the answer from a duplicate question for Kotlin from [here][1]\r\n\r\nAdd `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;` to the top of any resource .xml file that is missing it. (check your layout xml files, specially)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51936939/8040697","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>I found the answer from a duplicate question for Kotlin from <a href=\"https://stackoverflow.com/a/51936939/8040697\">here</a></p>\n\n<p>Add <code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;</code> to the top of any resource .xml file that is missing it. (check your layout xml files, specially)</p>\n"},{"tags":[],"owner":{"account_id":5021269,"reputation":1618,"user_id":4034697,"accept_rate":100,"display_name":"Vahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589879550,"creation_date":1589879550,"answer_id":61887393,"question_id":52229987,"body_markdown":"In my case I declared a string variable in xml using data binding without assigning a value to it. by setting value to variable problem resolved","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>In my case I declared a string variable in xml using data binding without assigning a value to it. by setting value to variable problem resolved</p>\n"},{"tags":[],"owner":{"account_id":304046,"reputation":4564,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1590584712,"creation_date":1590584712,"answer_id":62043835,"question_id":52229987,"body_markdown":"I&#39;ve been hunting for the source of STRING_TOO_LARGE errors in our build for a long time and none of these solutions worked.  The reason none of them worked was that I had progaurd turned on in debug builds so when the string was replaced it didn&#39;t end up in the apk. When i disabled progaurd for debug builds, built the apk and then decompiled with apktool as suggested elsewhere\r\n\r\n    java -jar apktool_2.4.1.jar d debug.apk \r\n\r\nand found the xml file that was in another library but progaurd stripped out before:\r\n\r\n \r\n\r\n    grep -r &quot;STRING_TOO_LARGE&quot; ./debug\r\n\r\nHope that helps someone\r\n\r\n","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>I've been hunting for the source of STRING_TOO_LARGE errors in our build for a long time and none of these solutions worked.  The reason none of them worked was that I had progaurd turned on in debug builds so when the string was replaced it didn't end up in the apk. When i disabled progaurd for debug builds, built the apk and then decompiled with apktool as suggested elsewhere</p>\n\n<pre><code>java -jar apktool_2.4.1.jar d debug.apk \n</code></pre>\n\n<p>and found the xml file that was in another library but progaurd stripped out before:</p>\n\n<pre><code>grep -r \"STRING_TOO_LARGE\" ./debug\n</code></pre>\n\n<p>Hope that helps someone</p>\n"},{"tags":[],"owner":{"account_id":5725455,"reputation":131,"user_id":4522546,"display_name":"Sarah Mica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596163873,"creation_date":1596163873,"answer_id":63185081,"question_id":52229987,"body_markdown":"For me &quot;gradlew cleanBuildCache&quot; did not work, and running aapt dump --values resources MyAppName-regular-debug.apk | grep -B 1 &#39;STRING_TOO_LARGE&#39; did nothing either... \r\n\r\n**I ended up just deleting all my vector images since they were all pretty large and that fixed my build**.. So I guess I&#39;ll have to add those back in a way that does not throw the error again.. ","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>For me &quot;gradlew cleanBuildCache&quot; did not work, and running aapt dump --values resources MyAppName-regular-debug.apk | grep -B 1 'STRING_TOO_LARGE' did nothing either...</p>\n<p><strong>I ended up just deleting all my vector images since they were all pretty large and that fixed my build</strong>.. So I guess I'll have to add those back in a way that does not throw the error again..</p>\n"},{"comments":[{"owner":{"account_id":6833195,"reputation":629,"user_id":5256277,"display_name":"Manu"},"score":0,"creation_date":1604540241,"post_id":63519577,"comment_id":114380575,"body_markdown":"Yep!, in my case one of my vector asset file was &quot;too big&quot; and causing the app to crash.","body":"Yep!, in my case one of my vector asset file was &quot;too big&quot; and causing the app to crash."}],"tags":[],"owner":{"account_id":5579147,"reputation":2129,"user_id":4421627,"accept_rate":89,"display_name":"Flummox - don&#39;t be evil SE"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597999747,"creation_date":1597999747,"answer_id":63519577,"question_id":52229987,"body_markdown":"Windows 10 Solution\r\n---\r\n\r\nFinding the file with the error: use a **online decompiler** if it&#39;s not a problem is some one else sees your code. Download .zip file. Open up **notepad++** `search -&gt; Find in files -&gt; STRING_TOO_LARGE -&gt; Find all`.\r\n\r\n**If the problem file is a vector asset:**\r\n\r\n[Vikasdeep Singh has a great solution: avocado](https://stackoverflow.com/questions/51510558/simplying-vector-drawable-for-android). Avocado will make the vector file smaller.","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<h2>Windows 10 Solution</h2>\n<p>Finding the file with the error: use a <strong>online decompiler</strong> if it's not a problem is some one else sees your code. Download .zip file. Open up <strong>notepad++</strong> <code>search -&gt; Find in files -&gt; STRING_TOO_LARGE -&gt; Find all</code>.</p>\n<p><strong>If the problem file is a vector asset:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/51510558/simplying-vector-drawable-for-android\">Vikasdeep Singh has a great solution: avocado</a>. Avocado will make the vector file smaller.</p>\n"},{"tags":[],"owner":{"account_id":2607472,"reputation":153,"user_id":2258330,"display_name":"Xavier Caliz"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1610398586,"creation_date":1610393098,"answer_id":65673280,"question_id":52229987,"body_markdown":"It happens that I had an SVG too long (90Kb). So I&#39;ve opened de SVG in Adobe illustrator, simplified the path to a significant number of vector less so the new icon weight 3Kb and, finally, imported again in Android Studio.\r\n\r\nYou can have a look at your Project in Android Studio and watch if your SVG drawables are larger than needed for an icon. \r\n\r\n[![screenshot of project in Android Studio, showing the weight of drawables][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z1DBr.jpg","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>It happens that I had an SVG too long (90Kb). So I've opened de SVG in Adobe illustrator, simplified the path to a significant number of vector less so the new icon weight 3Kb and, finally, imported again in Android Studio.</p>\n<p>You can have a look at your Project in Android Studio and watch if your SVG drawables are larger than needed for an icon.</p>\n<p><a href=\"https://i.stack.imgur.com/Z1DBr.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Z1DBr.jpg\" alt=\"screenshot of project in Android Studio, showing the weight of drawables\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10618274,"reputation":853,"user_id":7820107,"display_name":"hardik parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619155314,"creation_date":1619155314,"answer_id":67224395,"question_id":52229987,"body_markdown":"In my case, I had renamed the package and the `output-metadata.json` contained the old package name. Renamed the package name there, and it was fixed.","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>In my case, I had renamed the package and the <code>output-metadata.json</code> contained the old package name. Renamed the package name there, and it was fixed.</p>\n"},{"comments":[{"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"score":0,"creation_date":1640741446,"post_id":68648046,"comment_id":124647986,"body_markdown":"wau ... should be deleted...","body":"wau ... should be deleted..."}],"tags":[],"owner":{"account_id":22377207,"reputation":1,"user_id":16591310,"display_name":"Cephas Yirobi"},"comment_count":1,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1628091883,"creation_date":1628066207,"answer_id":68648046,"question_id":52229987,"body_markdown":"**instead of this** \r\n\r\n    org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\n\r\nReplaced it with this in the **gradle.properties**\r\n\r\n    org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=STRING_TOO_LARGE","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p><strong>instead of this</strong></p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\n</code></pre>\n<p>Replaced it with this in the <strong>gradle.properties</strong></p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=STRING_TOO_LARGE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19500782,"reputation":30,"user_id":14266929,"display_name":"hafiz mohammad Danmanu"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1628962600,"creation_date":1628962600,"answer_id":68785637,"question_id":52229987,"body_markdown":"In my case I use Invalidate cache and restore\r\ngo to file/Invalidate cache and restore\r\n","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>In my case I use Invalidate cache and restore\ngo to file/Invalidate cache and restore</p>\n"},{"tags":[],"owner":{"account_id":11457854,"reputation":299,"user_id":8398315,"display_name":"Eric Ampire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638463271,"creation_date":1638463271,"answer_id":70203329,"question_id":52229987,"body_markdown":"I had this problem and clearing the cache or updating the Gradle plugin version was not a solution\r\n\r\nTo solve the problem I had to change the name of the longest XML file to make it a bit shorter, and right after doing that the problem was solved.","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>I had this problem and clearing the cache or updating the Gradle plugin version was not a solution</p>\n<p>To solve the problem I had to change the name of the longest XML file to make it a bit shorter, and right after doing that the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":18379557,"reputation":423,"user_id":13387867,"display_name":"Milan Maji"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1650534424,"creation_date":1648130517,"answer_id":71603892,"question_id":52229987,"body_markdown":"The issue is caused by the AAPT/AAPT2 (Android Asset Packaging Tool) which processes your apps resources and replaces them with the `STRING_TOO_LARGE` value when it finds a large string.\r\n\r\n**Find out for which one cause this problem. \r\nTo find out follow below steps:** \r\n\r\n**A. Best Way:**\r\n\r\n 1. Generate build APK\r\n 2. Decompile APK using any decompiler and download it.\r\n 3. Open it in any editor(Ex. VS Code)\r\n 4. Then search &quot;STRING_TOO_LARGE&quot; text globally and you will find affected files.\r\n[![enter image description here][1]][1]\r\n\r\n**B. Another Way**\r\n\r\n 1. The simplest way to find out, **Builds an APK and analyze it.** Select **Build &gt; Build Bundle(s) / APK(s) &gt; Build APK(s)**. When the build completes, a confirmation notification appears, providing a link to the APK file and a link to analyze it in the APK Analyzer.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n 2. If you take a look into the the **vector drawable** file affected by this issue, you will find something like this:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI found this solution from [Here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zuvAe.png\r\n  [2]: https://i.stack.imgur.com/18xnk.png\r\n  [3]: https://i.stack.imgur.com/m3ZWl.png\r\n  [4]: https://azabost.com/string-too-large-in-android-resources/","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>The issue is caused by the AAPT/AAPT2 (Android Asset Packaging Tool) which processes your apps resources and replaces them with the <code>STRING_TOO_LARGE</code> value when it finds a large string.</p>\n<p><strong>Find out for which one cause this problem.\nTo find out follow below steps:</strong></p>\n<p><strong>A. Best Way:</strong></p>\n<ol>\n<li>Generate build APK</li>\n<li>Decompile APK using any decompiler and download it.</li>\n<li>Open it in any editor(Ex. VS Code)</li>\n<li>Then search &quot;STRING_TOO_LARGE&quot; text globally and you will find affected files.\n<a href=\"https://i.stack.imgur.com/zuvAe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zuvAe.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p><strong>B. Another Way</strong></p>\n<ol>\n<li>The simplest way to find out, <strong>Builds an APK and analyze it.</strong> Select <strong>Build &gt; Build Bundle(s) / APK(s) &gt; Build APK(s)</strong>. When the build completes, a confirmation notification appears, providing a link to the APK file and a link to analyze it in the APK Analyzer.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/18xnk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/18xnk.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>If you take a look into the the <strong>vector drawable</strong> file affected by this issue, you will find something like this:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/m3ZWl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/m3ZWl.png\" alt=\"enter image description here\" /></a></p>\n<p>I found this solution from <a href=\"https://azabost.com/string-too-large-in-android-resources/\" rel=\"noreferrer\">Here</a></p>\n"},{"tags":[],"owner":{"account_id":24171155,"reputation":9,"user_id":18133209,"display_name":"sagardhadke"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680109186,"creation_date":1679807600,"answer_id":75846000,"question_id":52229987,"body_markdown":"Add this to Gradle.properties\r\n```\r\norg.gradle.unsafe.configuration-cache=true\r\n```","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>Add this to Gradle.properties</p>\n<pre><code>org.gradle.unsafe.configuration-cache=true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1700263212,"post_id":77504362,"comment_id":136637215,"body_markdown":"any affiliation? [/help/promotion](/help/promotion)","body":"any affiliation? <a href=\"/help/promotion\">/help/promotion</a>"}],"tags":[],"owner":{"account_id":3624811,"reputation":1401,"user_id":3022739,"accept_rate":50,"display_name":"br00"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700251520,"creation_date":1700251520,"answer_id":77504362,"question_id":52229987,"body_markdown":"If you struggle to find a solution in 2023 then try to reduce the size of your path in your xml vector drawable. You can use a tool like avocado [Avocado][1]\r\n\r\n\r\n  [1]: https://github.com/alexjlockwood/avocado","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>If you struggle to find a solution in 2023 then try to reduce the size of your path in your xml vector drawable. You can use a tool like avocado <a href=\"https://github.com/alexjlockwood/avocado\" rel=\"nofollow noreferrer\">Avocado</a></p>\n"}],"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93877,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":52608833,"answer_count":24,"score":53,"last_activity_date":1700251520,"creation_date":1536356837,"question_id":52229987,"body_markdown":"When I clean the android project in android studio, the error happens. \r\nI have backed to previous commit or different branch, which worked fine couple days ago, but has this error now.\r\n\r\nI have checked this question and there are no large images or strings added to my project. https://stackoverflow.com/questions/50271129/string-too-large-string-in-kotlin","title":"android studio with Java compiler error: string too large to encode using UTF-8 written instead as &#39;STRING_TOO_LARGE&#39;","body":"<p>When I clean the android project in android studio, the error happens.\nI have backed to previous commit or different branch, which worked fine couple days ago, but has this error now.</p>\n<p>I have checked this question and there are no large images or strings added to my project. <a href=\"https://stackoverflow.com/questions/50271129/string-too-large-string-in-kotlin\">STRING_TOO_LARGE String in Kotlin</a></p>\n"},{"tags":["java","spring","web-services","soap"],"comments":[{"owner":{"account_id":8497217,"reputation":37844,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1470122571,"post_id":38713629,"comment_id":64804937,"body_markdown":"You are pointing to the WSDL, not to the service. Your uri should look like this `service.setDefaultUri(&quot;http://localhost:7001/CustomerService);`","body":"You are pointing to the WSDL, not to the service. Your uri should look like this <code>service.setDefaultUri(&quot;http:&#47;&#47;localhost:7001&#47;CustomerService&zwnj;&#8203;);</code>"},{"owner":{"account_id":1345737,"reputation":355,"user_id":3548196,"accept_rate":82,"display_name":"user3548196"},"score":0,"creation_date":1470122963,"post_id":38713629,"comment_id":64805208,"body_markdown":"I have checked with that as well. That didn&#39;t worked. Still same error.","body":"I have checked with that as well. That didn&#39;t worked. Still same error."},{"owner":{"account_id":8497217,"reputation":37844,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"score":0,"creation_date":1470131459,"post_id":38713629,"comment_id":64810489,"body_markdown":"Please, include the full trace of the error","body":"Please, include the full trace of the error"},{"owner":{"account_id":6181892,"reputation":715,"user_id":4817108,"accept_rate":41,"display_name":"worrynerd"},"score":0,"creation_date":1507670444,"post_id":38713629,"comment_id":80300764,"body_markdown":"I am also facing the same issue. Any pointers on how to solve this?","body":"I am also facing the same issue. Any pointers on how to solve this?"}],"answers":[{"tags":[],"owner":{"account_id":9060510,"reputation":1,"user_id":6747181,"display_name":"Anh T&#250;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582532719,"creation_date":1582532719,"answer_id":60371927,"question_id":38713629,"body_markdown":"you should use @Autowired when you call your client that extends WebServiceGatewaySupport","title":"WebService default uri java.lang.IllegalArgumentException: &#39;uri&#39; must not be empty","body":"<p>you should use @Autowired when you call your client that extends WebServiceGatewaySupport</p>\n"},{"tags":[],"owner":{"account_id":3549888,"reputation":1,"user_id":2965012,"display_name":"user2965012"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601408751,"creation_date":1601408751,"answer_id":64126614,"question_id":38713629,"body_markdown":"Check that you don&#39;t have @Service annotation on the service.  ","title":"WebService default uri java.lang.IllegalArgumentException: &#39;uri&#39; must not be empty","body":"<p>Check that you don't have @Service annotation on the service.</p>\n"}],"owner":{"account_id":1345737,"reputation":355,"user_id":3548196,"accept_rate":82,"display_name":"user3548196"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700251260,"creation_date":1470120915,"question_id":38713629,"body_markdown":"I am consuming a Soap WebService using spring WebServiceTemplate &amp; below is the bean creation and my bean class but dont know why i am unable to get the value of Default Uri.\r\nCan someone please help with this thing.\r\n\r\nServiceContext.java\r\n\r\n    \t    @Bean\r\n\t    public Jaxb2Marshaller marshaller() {\r\n\t        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n\t        marshaller.setContextPath(&quot;com.canaldigital.tsi.schema.psd.psd_managecustomer.v2&quot;);        \r\n\t        return marshaller;\r\n\t    }\r\n\t \r\n\t    \r\n\t    @Bean\r\n\t    public SaajSoapMessageFactory messageFactory() {\r\n\t    SaajSoapMessageFactory factory=new SaajSoapMessageFactory();\r\n\t    \r\n\t    factory.setSoapVersion(SoapVersion.SOAP_12);\r\n\t        return factory;\r\n\t    }    \r\n\t \r\n\t     @Bean\r\n\t    public ManageService voucherService(Jaxb2Marshaller marshaller,SaajSoapMessageFactory messageFactory) {\r\n\t    \t ManageService service = new ManageService();\r\n\t    \t     \t \r\n\t    \tservice.setDefaultUri(&quot;http://localhost:7001/CustomerService?WSDL&quot;);\r\n\t    \tservice.setMarshaller(marshaller);\r\n\t    \tservice.setUnmarshaller(marshaller);\r\n\t        service.setMessageFactory(messageFactory);\r\n\t        return service;\r\n\t    }\r\n\r\n\r\nManageService.java \r\n\r\n    \t\t\r\n\t\tpublic class ManageService extends WebServiceGatewaySupport {\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;Finalyy calllingggg service: &quot;+getWebServiceTemplate());\t\r\n\t\tSystem.out.println(&quot;WebService template URI is: ---- &quot;+getWebServiceTemplate().getDefaultUri());\r\n\t\t\t\r\n\t\t\t\r\n\t\tJAXBElement&lt;GetCustomerInfoRequestType&gt; mustangRequst=new createGetCustomerInfoRequest(customer);\r\n\t\t\t\r\n\t\t\r\n\t\t (JAXBElement&lt;GetCustomerInfoResponseType&gt;) getWebServiceTemplate().marshalSendAndReceive(mustangRequst);\r\n\t\t\r\n\t\t\r\n\t\t}catch(Exception e){\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t\t }\r\n\t\t\r\n\t\t}\r\n\r\n","title":"WebService default uri java.lang.IllegalArgumentException: &#39;uri&#39; must not be empty","body":"<p>I am consuming a Soap WebService using spring WebServiceTemplate &amp; below is the bean creation and my bean class but dont know why i am unable to get the value of Default Uri.\nCan someone please help with this thing.</p>\n\n<p>ServiceContext.java</p>\n\n<pre><code>        @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setContextPath(\"com.canaldigital.tsi.schema.psd.psd_managecustomer.v2\");        \n        return marshaller;\n    }\n\n\n    @Bean\n    public SaajSoapMessageFactory messageFactory() {\n    SaajSoapMessageFactory factory=new SaajSoapMessageFactory();\n\n    factory.setSoapVersion(SoapVersion.SOAP_12);\n        return factory;\n    }    \n\n     @Bean\n    public ManageService voucherService(Jaxb2Marshaller marshaller,SaajSoapMessageFactory messageFactory) {\n         ManageService service = new ManageService();\n\n        service.setDefaultUri(\"http://localhost:7001/CustomerService?WSDL\");\n        service.setMarshaller(marshaller);\n        service.setUnmarshaller(marshaller);\n        service.setMessageFactory(messageFactory);\n        return service;\n    }\n</code></pre>\n\n<p>ManageService.java </p>\n\n<pre><code>    public class ManageService extends WebServiceGatewaySupport {\n\n    try{\n\n    System.out.println(\"Finalyy calllingggg service: \"+getWebServiceTemplate());    \n    System.out.println(\"WebService template URI is: ---- \"+getWebServiceTemplate().getDefaultUri());\n\n\n    JAXBElement&lt;GetCustomerInfoRequestType&gt; mustangRequst=new createGetCustomerInfoRequest(customer);\n\n\n     (JAXBElement&lt;GetCustomerInfoResponseType&gt;) getWebServiceTemplate().marshalSendAndReceive(mustangRequst);\n\n\n    }catch(Exception e){\n\n        e.printStackTrace();\n\n         }\n\n    }\n</code></pre>\n"},{"tags":["java","vector","quicksort"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1700189692,"post_id":77499110,"comment_id":136626902,"body_markdown":"I don&#39;t think your swap is going to work, as you not actually changing the values contained in the `Vector` (and unless you need synchronised access, would be better off using a `List` of some kind).","body":"I don&#39;t think your swap is going to work, as you not actually changing the values contained in the <code>Vector</code> (and unless you need synchronised access, would be better off using a <code>List</code> of some kind)."},{"owner":{"account_id":24907233,"reputation":43,"user_id":18777160,"display_name":"edgeworth miles"},"score":0,"creation_date":1700190009,"post_id":77499110,"comment_id":136626923,"body_markdown":"@MadProgrammer Sadly I cant just change to a list. This assignment requires the use of the vector as a prerequisite","body":"@MadProgrammer Sadly I cant just change to a list. This assignment requires the use of the vector as a prerequisite"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700190110,"post_id":77499110,"comment_id":136626933,"body_markdown":"Then the issue is still, you need to swap the elements in the list/vector, not the values","body":"Then the issue is still, you need to swap the elements in the list/vector, not the values"},{"owner":{"account_id":24907233,"reputation":43,"user_id":18777160,"display_name":"edgeworth miles"},"score":0,"creation_date":1700191319,"post_id":77499110,"comment_id":136627006,"body_markdown":"I just changed the lines to swap the elements bt it didnt work\n\nswap((int)vec.elementAt(i), (int)vec.elementAt(j)); \nto  \nswap(vec.elementAt(i), vec.elementAt(j));\n\nand the swap method to\n\npublic static void swap(Object object, Object object2) {\n\t    Object temp;\n\t    temp = object;\n\t    object=object2;\n\t    object2=temp;\n\t}","body":"I just changed the lines to swap the elements bt it didnt work  swap((int)vec.elementAt(i), (int)vec.elementAt(j));  to   swap(vec.elementAt(i), vec.elementAt(j));  and the swap method to  public static void swap(Object object, Object object2) { \t    Object temp; \t    temp = object; \t    object=object2; \t    object2=temp; \t}"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700191392,"post_id":77499110,"comment_id":136627010,"body_markdown":"Another issue is the `hi`/`lo` concept, these should represent the indices range (or the range you want to sort over), and shouldn&#39;t be new vectors.  The pivot would then be the middle pint between these two, this then acts as the comparison value for the result of your logic","body":"Another issue is the <code>hi</code>/<code>lo</code> concept, these should represent the indices range (or the range you want to sort over), and shouldn&#39;t be new vectors.  The pivot would then be the middle pint between these two, this then acts as the comparison value for the result of your logic"},{"owner":{"account_id":24907233,"reputation":43,"user_id":18777160,"display_name":"edgeworth miles"},"score":0,"creation_date":1700192717,"post_id":77499110,"comment_id":136627098,"body_markdown":"Ive made the modifications, but I only recvied an error in return regarding &quot;while ((int)vec.elementAt(i) &lt; p) {&quot;. Here is a paste bin link of the updated code, could fit all of it in  my comment.\nhttps://pastebin.com/esg6i3CK","body":"Ive made the modifications, but I only recvied an error in return regarding &quot;while ((int)vec.elementAt(i) &lt; p) {&quot;. Here is a paste bin link of the updated code, could fit all of it in  my comment. <a href=\"https://pastebin.com/esg6i3CK\" rel=\"nofollow noreferrer\">pastebin.com/esg6i3CK</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700192126,"creation_date":1700192126,"answer_id":77499213,"question_id":77499110,"body_markdown":"First, this...\r\n\r\n    swap((int)vec.elementAt(i), (int)vec.elementAt(j));\r\n    //...\r\n    public static void swap(int a, int b) {\r\n        int temp;\r\n        temp = a;\r\n        a=b;\r\n        b=temp;\r\n    }\r\n\r\nis wrong.  You swap the values, but you never swap the elements in the `Vector` and because of the way Java works, the swap is lost once the method exists\r\n\r\nInstead, it should be something more like...\r\n\r\n    protected void swap(MyVector vector, int index1, int index2) {\r\n        Integer value1 = vector.get(index1);\r\n        Integer value2 = vector.get(index2);\r\n        vector.set(index1, value2);\r\n        vector.set(index2, value1);\r\n    }\r\n\r\nNext, this...\r\n\r\n    MyVector lo = new MyVector();\r\n    MyVector hi = new MyVector();\r\n    int loSize = lo.size();\r\n    int hiSize = hi.size();\r\n    if (loSize &gt;= hiSize)\r\n        return;\r\n    int p = (int)vec.elementAt((loSize + hiSize) / 2);\r\n\r\nmakes no sense what so ever.  Why are you creating two new (I presume) empty vectors?  How are those going to help you??\r\n\r\nThe `lo(w)` and `hi(gh)` values should bracket the range over the `Vector` you want to search (ie, from index `lo` to index `hi`).\r\n\r\nThe `p(ivot)` then represents the &quot;base&quot; comparison value you want to use to determine how best to execute the core logic of the sort.\r\n\r\nI&#39;d rewrite it, but to be honest, the logic is wrong.  You should start with a `sort` method which accepts just the `Vector`, from this you then call a seperate `sort` method which takes the `Vector` AND the `lo` (defaulted to `0`) and `hi` (default to the `Vector#size - 1`) values - this forms the bases of your recursion.\r\n\r\nThis means that when you&#39;ve done a pass, you then determine the next phase of recursion doing something like...\r\n\r\n    if (low &lt; j) {\r\n        sort(vector, low, j);\r\n    }\r\n    if (i &lt; high) {\r\n        sort(vector, i, high);\r\n    }\r\n\r\nNow, to me, I would start with a simple class which could encapsulate this workflow and &quot;hide&quot; some of the implementation detail.  You don&#39;t &quot;have&quot; to, but it will make some of your work easier, as you don&#39;t need to continuously pass the `Vector` around.\r\n\r\nThe following example basically creates a `Vector`, fills it with some integers and randomise it.\r\n\r\nIt then sorts the values and prints the values.  Something you should note is that this DOES NOT do a &quot;in place&quot; replacement, that is, the sort will make a copy of the `Vector` first and then sort the copy, returning it to the caller.\r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.Random;\r\n    import java.util.Vector;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Random rnd = new Random();\r\n            Vector&lt;Integer&gt; master = new Vector&lt;&gt;(8);\r\n            for (int index = 0; index &lt; 8; index++) {\r\n                master.add(index);\r\n            }\r\n            Collections.shuffle(master);\r\n\r\n            Vector&lt;Integer&gt; sorted = QuickSort.sort(master);\r\n            System.out.println(&quot;Unsorted = &quot; + master);\r\n            System.out.println(&quot;  Sorted = &quot; + sorted);\r\n        }\r\n\r\n        public static class QuickSort {\r\n            private Vector&lt;Integer&gt; master;\r\n\r\n            private QuickSort(Vector&lt;Integer&gt; master) {\r\n                // Make a shallow copy\r\n                this.master = new Vector&lt;&gt;(master);\r\n            }\r\n\r\n            public static Vector&lt;Integer&gt; sort(Vector&lt;Integer&gt; master) {\r\n                QuickSort quickSort = new QuickSort(master);\r\n                return quickSort.sort();\r\n            }\r\n\r\n            protected Vector&lt;Integer&gt; sort() {\r\n                sort(0, master.size() - 1);\r\n                return master;\r\n            }\r\n\r\n            protected void sort(int low, int high) {\r\n                int i = low, j = high;\r\n\r\n                // Get the pivot element\r\n                int pivot = low + (high - low) / 2;\r\n                Integer value = master.get(pivot);\r\n\r\n                System.out.println(&quot;low = &quot; + low + &quot;; high = &quot; + high);\r\n                // Divide into two lists\r\n                while (i &lt;= j) {\r\n\r\n                    while (master.get(i) &lt; value) {\r\n                        i++;\r\n                    }\r\n\r\n                    while (master.get(j) &gt; value) {\r\n                        j--;\r\n                    }\r\n\r\n                    if (i &lt;= j) {\r\n                        System.out.println(&quot;Swap &quot; + master.get(i) + &quot; &lt;&gt; &quot; + master.get(j));\r\n                        swap(i, j);\r\n                        i++;\r\n                        j--;\r\n                    }\r\n                }\r\n\r\n                // Recursion\r\n                if (low &lt; j) {\r\n                    sort(low, j);\r\n                }\r\n                if (i &lt; high) {\r\n                    sort(i, high);\r\n                }\r\n            }\r\n\r\n            protected void swap(int index1, int index2) {\r\n                Integer value1 = master.get(index1);\r\n                Integer value2 = master.get(index2);\r\n                master.set(index1, value2);\r\n                master.set(index2, value1);\r\n            }\r\n        }\r\n    }\r\n\r\nI would consider taking a look at:\r\n\r\n* [QuickSort  Data Structure and Algorithm Tutorials](https://www.geeksforgeeks.org/quick-sort/)\r\n* [Quicksort Algorithm Implementation in Java](https://www.baeldung.com/java-quicksort)\r\n* [Quick Sort Algorithm](https://www.javatpoint.com/quick-sort)\r\n\r\nfor some more details about how quick sorts generally work","title":"My quicksort method is not working as intended","body":"<p>First, this...</p>\n<pre><code>swap((int)vec.elementAt(i), (int)vec.elementAt(j));\n//...\npublic static void swap(int a, int b) {\n    int temp;\n    temp = a;\n    a=b;\n    b=temp;\n}\n</code></pre>\n<p>is wrong.  You swap the values, but you never swap the elements in the <code>Vector</code> and because of the way Java works, the swap is lost once the method exists</p>\n<p>Instead, it should be something more like...</p>\n<pre><code>protected void swap(MyVector vector, int index1, int index2) {\n    Integer value1 = vector.get(index1);\n    Integer value2 = vector.get(index2);\n    vector.set(index1, value2);\n    vector.set(index2, value1);\n}\n</code></pre>\n<p>Next, this...</p>\n<pre><code>MyVector lo = new MyVector();\nMyVector hi = new MyVector();\nint loSize = lo.size();\nint hiSize = hi.size();\nif (loSize &gt;= hiSize)\n    return;\nint p = (int)vec.elementAt((loSize + hiSize) / 2);\n</code></pre>\n<p>makes no sense what so ever.  Why are you creating two new (I presume) empty vectors?  How are those going to help you??</p>\n<p>The <code>lo(w)</code> and <code>hi(gh)</code> values should bracket the range over the <code>Vector</code> you want to search (ie, from index <code>lo</code> to index <code>hi</code>).</p>\n<p>The <code>p(ivot)</code> then represents the &quot;base&quot; comparison value you want to use to determine how best to execute the core logic of the sort.</p>\n<p>I'd rewrite it, but to be honest, the logic is wrong.  You should start with a <code>sort</code> method which accepts just the <code>Vector</code>, from this you then call a seperate <code>sort</code> method which takes the <code>Vector</code> AND the <code>lo</code> (defaulted to <code>0</code>) and <code>hi</code> (default to the <code>Vector#size - 1</code>) values - this forms the bases of your recursion.</p>\n<p>This means that when you've done a pass, you then determine the next phase of recursion doing something like...</p>\n<pre><code>if (low &lt; j) {\n    sort(vector, low, j);\n}\nif (i &lt; high) {\n    sort(vector, i, high);\n}\n</code></pre>\n<p>Now, to me, I would start with a simple class which could encapsulate this workflow and &quot;hide&quot; some of the implementation detail.  You don't &quot;have&quot; to, but it will make some of your work easier, as you don't need to continuously pass the <code>Vector</code> around.</p>\n<p>The following example basically creates a <code>Vector</code>, fills it with some integers and randomise it.</p>\n<p>It then sorts the values and prints the values.  Something you should note is that this DOES NOT do a &quot;in place&quot; replacement, that is, the sort will make a copy of the <code>Vector</code> first and then sort the copy, returning it to the caller.</p>\n<pre><code>import java.util.Collections;\nimport java.util.Random;\nimport java.util.Vector;\n\npublic class Main {\n    public static void main(String[] args) {\n        Random rnd = new Random();\n        Vector&lt;Integer&gt; master = new Vector&lt;&gt;(8);\n        for (int index = 0; index &lt; 8; index++) {\n            master.add(index);\n        }\n        Collections.shuffle(master);\n\n        Vector&lt;Integer&gt; sorted = QuickSort.sort(master);\n        System.out.println(&quot;Unsorted = &quot; + master);\n        System.out.println(&quot;  Sorted = &quot; + sorted);\n    }\n\n    public static class QuickSort {\n        private Vector&lt;Integer&gt; master;\n\n        private QuickSort(Vector&lt;Integer&gt; master) {\n            // Make a shallow copy\n            this.master = new Vector&lt;&gt;(master);\n        }\n\n        public static Vector&lt;Integer&gt; sort(Vector&lt;Integer&gt; master) {\n            QuickSort quickSort = new QuickSort(master);\n            return quickSort.sort();\n        }\n\n        protected Vector&lt;Integer&gt; sort() {\n            sort(0, master.size() - 1);\n            return master;\n        }\n\n        protected void sort(int low, int high) {\n            int i = low, j = high;\n\n            // Get the pivot element\n            int pivot = low + (high - low) / 2;\n            Integer value = master.get(pivot);\n\n            System.out.println(&quot;low = &quot; + low + &quot;; high = &quot; + high);\n            // Divide into two lists\n            while (i &lt;= j) {\n\n                while (master.get(i) &lt; value) {\n                    i++;\n                }\n\n                while (master.get(j) &gt; value) {\n                    j--;\n                }\n\n                if (i &lt;= j) {\n                    System.out.println(&quot;Swap &quot; + master.get(i) + &quot; &lt;&gt; &quot; + master.get(j));\n                    swap(i, j);\n                    i++;\n                    j--;\n                }\n            }\n\n            // Recursion\n            if (low &lt; j) {\n                sort(low, j);\n            }\n            if (i &lt; high) {\n                sort(i, high);\n            }\n        }\n\n        protected void swap(int index1, int index2) {\n            Integer value1 = master.get(index1);\n            Integer value2 = master.get(index2);\n            master.set(index1, value2);\n            master.set(index2, value1);\n        }\n    }\n}\n</code></pre>\n<p>I would consider taking a look at:</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/quick-sort/\" rel=\"nofollow noreferrer\">QuickSort  Data Structure and Algorithm Tutorials</a></li>\n<li><a href=\"https://www.baeldung.com/java-quicksort\" rel=\"nofollow noreferrer\">Quicksort Algorithm Implementation in Java</a></li>\n<li><a href=\"https://www.javatpoint.com/quick-sort\" rel=\"nofollow noreferrer\">Quick Sort Algorithm</a></li>\n</ul>\n<p>for some more details about how quick sorts generally work</p>\n"}],"owner":{"account_id":24907233,"reputation":43,"user_id":18777160,"display_name":"edgeworth miles"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700251001,"creation_date":1700189479,"question_id":77499110,"body_markdown":"I trying make a quicksort method whose only parameter is  MyVector` (which is just a normal vector), but the method is not working as intended and I&#39;m not sure why.\r\n\r\nThe expected output is supposed to be\r\n\r\n    The element at index 0 is: 7\r\n    The element at index 0 is: 10\r\n    The element at index 0 is: 28\r\n\r\nBut what I got was\r\n\r\n    The element at index 0 is: 41524\r\n    The element at index 1 is: 26432\r\n    The element at index 2 is: 51244\r\n\r\nDriver Class (sample)\r\n\r\n        MySort.QuickSort(testing);\r\n\t\tSystem.out.println(&quot;The element at index 0 is: &quot;+testing.elementAt(0));\r\n\t\tSystem.out.println(&quot;The element at index 1 is: &quot;+testing.elementAt(1));\r\n\t\tSystem.out.println(&quot;The element at index 2 is: &quot;+testing.elementAt(2));\r\n\r\nMySort class\r\n\t\r\n\tpublic static void QuickSort(MyVector vec){\r\n\t\tMyVector lo = new MyVector();\r\n\t\tMyVector hi = new MyVector();\r\n\t\tint loSize = lo.size();\r\n\t\tint hiSize = hi.size();\r\n\t    if (loSize &gt;= hiSize)\r\n\t        return;\r\n\t    int p = (int)vec.elementAt((loSize + hiSize) / 2);   // set pivot, could use median of 3 here\r\n\t    int i = loSize-1;\r\n\t    int j = hiSize+1;\r\n\t    while (true){\r\n\t        while ((int)vec.elementAt(i) &lt; p) {\r\n\t        ++i;\r\n\t        }\r\n\t        while ((int)vec.elementAt(j) &gt; p) { ;    // decrease j until a[j] &lt;= pivot\r\n\t        --j;\r\n\t        }\r\n\t        if (i &gt;= j)             // break if indices meet or cross\r\n\t            break;\r\n\t        swap((int)vec.elementAt(i), (int)vec.elementAt(j));\r\n\t    }\r\n\t    QuickSort(lo);        \r\n\t    QuickSort(hi); \r\n\t\t  }\r\n    public static void swap(int a, int b) {\r\n\t\tint temp;\r\n\t\ttemp = a;\r\n\t\ta=b;\r\n\t\tb=temp;\r\n\t}\r\n\r\n","title":"My quicksort method is not working as intended","body":"<p>I trying make a quicksort method whose only parameter is  MyVector` (which is just a normal vector), but the method is not working as intended and I'm not sure why.</p>\n<p>The expected output is supposed to be</p>\n<pre><code>The element at index 0 is: 7\nThe element at index 0 is: 10\nThe element at index 0 is: 28\n</code></pre>\n<p>But what I got was</p>\n<pre><code>The element at index 0 is: 41524\nThe element at index 1 is: 26432\nThe element at index 2 is: 51244\n</code></pre>\n<p>Driver Class (sample)</p>\n<pre><code>    MySort.QuickSort(testing);\n    System.out.println(&quot;The element at index 0 is: &quot;+testing.elementAt(0));\n    System.out.println(&quot;The element at index 1 is: &quot;+testing.elementAt(1));\n    System.out.println(&quot;The element at index 2 is: &quot;+testing.elementAt(2));\n</code></pre>\n<p>MySort class</p>\n<pre><code>public static void QuickSort(MyVector vec){\n    MyVector lo = new MyVector();\n    MyVector hi = new MyVector();\n    int loSize = lo.size();\n    int hiSize = hi.size();\n    if (loSize &gt;= hiSize)\n        return;\n    int p = (int)vec.elementAt((loSize + hiSize) / 2);   // set pivot, could use median of 3 here\n    int i = loSize-1;\n    int j = hiSize+1;\n    while (true){\n        while ((int)vec.elementAt(i) &lt; p) {\n        ++i;\n        }\n        while ((int)vec.elementAt(j) &gt; p) { ;    // decrease j until a[j] &lt;= pivot\n        --j;\n        }\n        if (i &gt;= j)             // break if indices meet or cross\n            break;\n        swap((int)vec.elementAt(i), (int)vec.elementAt(j));\n    }\n    QuickSort(lo);        \n    QuickSort(hi); \n      }\npublic static void swap(int a, int b) {\n    int temp;\n    temp = a;\n    a=b;\n    b=temp;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1700250485,"post_id":77504258,"comment_id":136635698,"body_markdown":"Have you created a jar yet? Source code on its own is a `.java` file. You don&#39;t automatically get a `.jar` every time you write Java code.","body":"Have you created a jar yet? Source code on its own is a <code>.java</code> file. You don&#39;t automatically get a <code>.jar</code> every time you write Java code."}],"answers":[{"tags":[],"owner":{"account_id":29929711,"reputation":11,"user_id":22936904,"display_name":"nslo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700250760,"creation_date":1700250760,"answer_id":77504294,"question_id":77504258,"body_markdown":"you need to build it as a JAR file first (lookup how to do this for your IDE), then when you cd the folder with the .jar file you should be able to run &quot;java -jar test.jar&quot;... if you want to run your program without creating a .jar, you can always just type \r\n\r\n&gt; javac yourFile.java\r\n\r\n&gt; java yourFile\r\n\r\n in the terminal.","title":"How to run a .jar file","body":"<p>you need to build it as a JAR file first (lookup how to do this for your IDE), then when you cd the folder with the .jar file you should be able to run &quot;java -jar test.jar&quot;... if you want to run your program without creating a .jar, you can always just type</p>\n<blockquote>\n<p>javac yourFile.java</p>\n</blockquote>\n<blockquote>\n<p>java yourFile</p>\n</blockquote>\n<p>in the terminal.</p>\n"}],"owner":{"account_id":29929625,"reputation":1,"user_id":22936831,"display_name":"Yowzaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700252337,"answer_count":1,"score":-2,"last_activity_date":1700250760,"creation_date":1700250296,"question_id":77504258,"body_markdown":"I&#39;m new to programming and I just made a project that reverses a string.\r\nHere is the source code:\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass ReverseofaString\r\n{\r\n    public static void main(String[] arg)\r\n    {\r\n        ReverseofaString rev=new ReverseofaString();\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.print(&quot;Enter a string : &quot;);\r\n        String  str=sc.nextLine();\r\n        System.out.println(&quot;Reverse of a String  is : &quot;+rev.reverse(str));\r\n    }\r\n    static String reverse(String s)\r\n    {\r\n        String rev=&quot;&quot;;\r\n        for(int j=s.length();j&gt;0;--j)\r\n        {\r\n            rev=rev+(s.charAt(j-1));\r\n        }\r\n        return rev;\r\n    }\r\n}\r\n```\r\n\r\nHow do I run it as a jar?\r\n\r\nI tried\r\ndouble clicking the .jar file, nothing happened\r\nI also tried `java -jar test.jar` in cmd but it returned `Error: Unable to access jarfile test.jar`","title":"How to run a .jar file","body":"<p>I'm new to programming and I just made a project that reverses a string.\nHere is the source code:</p>\n<pre><code>import java.util.Scanner;\nclass ReverseofaString\n{\n    public static void main(String[] arg)\n    {\n        ReverseofaString rev=new ReverseofaString();\n        Scanner sc=new Scanner(System.in);\n        System.out.print(&quot;Enter a string : &quot;);\n        String  str=sc.nextLine();\n        System.out.println(&quot;Reverse of a String  is : &quot;+rev.reverse(str));\n    }\n    static String reverse(String s)\n    {\n        String rev=&quot;&quot;;\n        for(int j=s.length();j&gt;0;--j)\n        {\n            rev=rev+(s.charAt(j-1));\n        }\n        return rev;\n    }\n}\n</code></pre>\n<p>How do I run it as a jar?</p>\n<p>I tried\ndouble clicking the .jar file, nothing happened\nI also tried <code>java -jar test.jar</code> in cmd but it returned <code>Error: Unable to access jarfile test.jar</code></p>\n"},{"tags":["java","youtube","youtube-api","youtube-data-api"],"comments":[{"owner":{"account_id":9593777,"reputation":3971,"user_id":7123660,"display_name":"Benjamin Loison"},"score":0,"creation_date":1700253474,"post_id":77504255,"comment_id":136636169,"body_markdown":"[`pageInfo.totalResults`](https://developers.google.com/youtube/v3/docs/search/list#pageInfo.totalResults) *Please note that the value is an approximation and may not represent an exact value.*","body":"<a href=\"https://developers.google.com/youtube/v3/docs/search/list#pageInfo.totalResults\" rel=\"nofollow noreferrer\"><code>pageInfo.totalResults</code></a> <i>Please note that the value is an approximation and may not represent an exact value.</i>"}],"owner":{"account_id":17676716,"reputation":1,"user_id":12831529,"display_name":"Raneen Bsais"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700250238,"creation_date":1700250238,"question_id":77504255,"body_markdown":"we using this API: google-api-services-youtube-v3-rev20221108-2.0.0.jar\r\nto get the list of the channels:\r\nthis is the request we send:\r\n\r\n```\r\nYouTube.Search.List searchList =youtubeService.search().list(&quot;snippet&quot;);\r\nsearchList.setMaxResults(50);\r\nsearchList.setQ(&quot;channelName&quot;);\r\nsearchList.setType(Collections.singletonList(&quot;channel&quot;));\r\nsearchList.setPageToken(&quot;nextPageToken&quot;);\r\n```\r\n\r\nthe issue with the paging: for example: I get from the response: totalResult = 530should be 11 pages. But after 4 pages I get nextPageToken nullwhy? please can you give me the way for the paging in this API?\r\n\r\ntry to get the list of the channels,\r\nthe issue with the paging:\r\nfor example: i get from the response: totalResult = 530\r\nshould be 11 pages.\r\nBut after 4 pages I get nextPageToken null","title":"Youtube API - Paging issue","body":"<p>we using this API: google-api-services-youtube-v3-rev20221108-2.0.0.jar\nto get the list of the channels:\nthis is the request we send:</p>\n<pre><code>YouTube.Search.List searchList =youtubeService.search().list(&quot;snippet&quot;);\nsearchList.setMaxResults(50);\nsearchList.setQ(&quot;channelName&quot;);\nsearchList.setType(Collections.singletonList(&quot;channel&quot;));\nsearchList.setPageToken(&quot;nextPageToken&quot;);\n</code></pre>\n<p>the issue with the paging: for example: I get from the response: totalResult = 530should be 11 pages. But after 4 pages I get nextPageToken nullwhy? please can you give me the way for the paging in this API?</p>\n<p>try to get the list of the channels,\nthe issue with the paging:\nfor example: i get from the response: totalResult = 530\nshould be 11 pages.\nBut after 4 pages I get nextPageToken null</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1700249810,"creation_date":1700249810,"answer_id":77504218,"question_id":77504050,"body_markdown":"The JavaFX layout classes, such as `HBox`, `VBox`, and `BorderPane`, etc., are in the `javafx.scene.layout` package (not the `javafx.scene.control` package).\r\n\r\nHence when the `FXMLLoader` encounters `javafx.scene.control.HBox` it throws a `ClassNotFoundException`, because there is no such class.\r\n\r\nReplace \r\n\r\n```\r\n&lt;?import javafx.scene.control.HBox ?&gt;\r\n```\r\n\r\nwith\r\n\r\n```\r\n&lt;?import javafx.scene.layout.HBox ?&gt;\r\n```\r\n\r\nin the FXML file.","title":"Why is my JavaFX program using fxml getting the error &quot;Caused by: java.lang.ClassNotFoundException: javafx.scene.control.VBox&quot;?","body":"<p>The JavaFX layout classes, such as <code>HBox</code>, <code>VBox</code>, and <code>BorderPane</code>, etc., are in the <code>javafx.scene.layout</code> package (not the <code>javafx.scene.control</code> package).</p>\n<p>Hence when the <code>FXMLLoader</code> encounters <code>javafx.scene.control.HBox</code> it throws a <code>ClassNotFoundException</code>, because there is no such class.</p>\n<p>Replace</p>\n<pre><code>&lt;?import javafx.scene.control.HBox ?&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;?import javafx.scene.layout.HBox ?&gt;\n</code></pre>\n<p>in the FXML file.</p>\n"}],"owner":{"account_id":18259582,"reputation":11,"user_id":13292676,"display_name":"Jacob Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700249810,"creation_date":1700247610,"question_id":77504050,"body_markdown":"I have a program that was created with java swing, but I hit a point where using it without much online help with issues I ran into so I am starting to learn JavaFX and using fxml for the gui, so I tried to create the main window in JavaFX code. With only code, I was able to make it appear how I wanted. I then decided to switch it to fxml, so I created the fxml file, added the code in my java file to load it, but when i ran the program, I keep getting the error &quot;Caused by: java.lang.ClassNotFoundException: javafx.scene.control.VBox&quot;, or the same for HBox, depending on which I used. I tried figuring it out myself, also tried chatGpt, but but I couldn&#39;t find a solution. What confuses me is that when I first created the JavaFX project in VS Code, it used VBox in the fxml, but worked fine. I have copied all code that that used, just changed the fxml nodes. \r\nFor context, here is the module file, my code, and the fxml file.\r\n```\r\nmodule gearworks {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n\r\n    opens gearworks to javafx.fxml;\r\n    exports gearworks;\r\n}\r\n```\r\n\r\n```\r\npackage gearworks;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    private BorderPane root;\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/gearworks/BaseGui.fxml&quot;));\r\n        try {\r\n            root = loader.load();\r\n            System.out.println((root == null) + &quot; root is null&quot;);\r\n            if (root == null) {\r\n                throw new IOException(&quot;FXML root is null&quot;);\r\n                \r\n            }\r\n        } catch (IOException e) {\r\n            \r\n            e.printStackTrace();\r\n        }\r\n        Scene scene = new Scene(root, 1300, 600);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setTitle(&quot;Test Gui&quot;);\r\n        primaryStage.setOnCloseRequest(e -&gt; primaryStage.close());\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?fxml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.control.HBox?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n\r\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/8.0.171&quot;\r\n    xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n    fx:controller=&quot;gearworks.App&quot;&gt;\r\n    &lt;top&gt;\r\n        &lt;HBox&gt;\r\n            &lt;Children&gt;\r\n                &lt;Button text=&quot;button 1&quot; /&gt;\r\n                &lt;Label text=&quot;label 1&quot; /&gt;\r\n                &lt;Button text=&quot;button 2&quot; /&gt;\r\n            &lt;/Children&gt;\r\n        &lt;/HBox&gt;\r\n    &lt;/top&gt;\r\n&lt;/BorderPane&gt;\r\n\r\n```\r\nAlso, here is the directory setup\r\nsrc\r\n|-- main\r\n    |-- java\r\n    |   |-- gearworks\r\n    |       |-- App.java\r\n    |\r\n    |-- resources\r\n        |-- gearworks\r\n            |-- BasicGui.fxml\r\n\r\nThis is just the simple version of the program I am trying to make, I just kept shrinking the design, hoping that at some point it would work and I would go from there, but it never did.\r\n\r\nThis was the original code that worked before trying to use fxml, minus the imports\r\n\r\n```\r\npublic class App extends Application {\r\n\r\n    \r\n\r\n    private BorderPane root;\r\n    private HBox openFilePanel, saveFilePanel, dataManipulationPanel, jobSelectionPanel, displayPanel, bottomPanel,\r\n            jobFilterPanel;\r\n    private VBox bottom;\r\n    private Label openFilePathLabel, saveFilePathLabel, currentJob;\r\n    private Button chooseOpenFile, updateBidders, chooseSaveFolder, saveExcel, filterJobs, addPricing, previousJob,\r\n            nextJob;\r\n\r\n    private final Font TITLE_FONT = Font.font(&quot;Monospaced&quot;, FontWeight.BOLD, 50);\r\n    private final Font FONT = Font.font(&quot;Monospaced&quot;, FontWeight.NORMAL, 16);\r\n\r\n    private final String css = this.getClass().getResource(&quot;Element_Styles.css&quot;).toExternalForm();\r\n    // Dark Theme Colors\r\n    private final Color PRIMARY_FONT_COLOR = Color.rgb(0, 179, 189);\r\n    private final Color SECONDARY_FONT_COLOR = Color.rgb(55, 136, 186);\r\n    private final Color TERTIARY_FONT_COLOR = Color.rgb(192, 155, 82);\r\n    private final Color QUATERNARY_FONT_COLOR = Color.rgb(61, 86, 123);\r\n\r\n    private final Color PRIMARY_BACKGROUND = Color.rgb(13, 21, 33);\r\n    private final Color SECONDARY_BACKGROUND = Color.rgb(16, 26, 41);\r\n\r\n    private final Color TITLE_FONT_COLOR = TERTIARY_FONT_COLOR;\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n\r\n        root = new BorderPane();\r\n\r\n        openFilePanel = new HBox();\r\n        openFilePanel.setPadding(new Insets(10));\r\n        openFilePanel.setAlignment(Pos.CENTER_LEFT);\r\n\r\n        openFilePathLabel = new Label(&quot;File Path:  &quot;);\r\n        openFilePathLabel.setPadding(new Insets(10));\r\n        openFilePathLabel.setFont(FONT);\r\n        openFilePathLabel.setTextFill(QUATERNARY_FONT_COLOR);\r\n\r\n        chooseOpenFile = new Button(&quot;Open Bidding File...&quot;);\r\n\r\n        updateBidders = new Button(&quot;Add Update Bidders&quot;);\r\n        updateBidders.setDisable(true);\r\n\r\n        // Add spacer to push the label to the left\r\n        Region ofpSpacer = new Region();\r\n        HBox.setHgrow(ofpSpacer, Priority.ALWAYS);\r\n\r\n        openFilePanel.getChildren().addAll(chooseOpenFile, openFilePathLabel, ofpSpacer, updateBidders);\r\n\r\n        saveFilePanel = new HBox();\r\n        saveFilePanel.setPadding(new Insets(10));\r\n        saveFilePanel.setAlignment(Pos.CENTER_LEFT);\r\n\r\n        saveFilePathLabel = new Label(&quot;Directory Path:  &quot;);\r\n        saveFilePathLabel.setPadding(new Insets(10));\r\n        saveFilePathLabel.setFont(FONT);\r\n        saveFilePathLabel.setTextFill(QUATERNARY_FONT_COLOR);\r\n\r\n        chooseSaveFolder = new Button(&quot;Choose a Save Folder...&quot;);\r\n        saveExcel = new Button(&quot;Export Excel File&quot;);\r\n\r\n        // Add spacer to push the label to the left\r\n        Region sfpSpacer = new Region();\r\n        HBox.setHgrow(sfpSpacer, Priority.ALWAYS);\r\n\r\n        saveFilePanel.getChildren().addAll(chooseSaveFolder, saveFilePathLabel, sfpSpacer, saveExcel);\r\n\r\n        dataManipulationPanel = new HBox();\r\n        dataManipulationPanel.setPadding(new Insets(10, 10, 0, 10));\r\n\r\n        filterJobs = new Button(&quot;Confirm Selected Jobs&quot;);\r\n        addPricing = new Button(&quot;Add Pricing to Jobs&quot;);\r\n        jobFilterPanel = new HBox();\r\n        jobFilterPanel.setSpacing(10);\r\n        jobFilterPanel.getChildren().addAll(filterJobs, addPricing);\r\n\r\n        previousJob = new Button(&quot;&lt;&lt; Previous Job&quot;);\r\n        currentJob = new Label(&quot;(00/00)&quot;);\r\n        currentJob.setFont(FONT);\r\n        currentJob.setTextFill(QUATERNARY_FONT_COLOR);\r\n        nextJob = new Button(&quot;Next Job &gt;&gt;&quot;);\r\n        jobSelectionPanel = new HBox();\r\n        jobSelectionPanel.setSpacing(10);\r\n        jobSelectionPanel.setAlignment(Pos.CENTER);\r\n        HBox.setHgrow(jobSelectionPanel, Priority.ALWAYS); // Expand to fill available space\r\n        jobSelectionPanel.getChildren().addAll(previousJob, currentJob, nextJob);\r\n\r\n        dataManipulationPanel.getChildren().addAll(jobFilterPanel, jobSelectionPanel);\r\n\r\n        bottom = new VBox();\r\n        bottom.getChildren().addAll(dataManipulationPanel, saveFilePanel);\r\n\r\n        primaryStage.setTitle(&quot;Test Gui&quot;);\r\n\r\n        root.setTop(openFilePanel);\r\n\r\n        Label titleLabel = new Label(&quot;BIDDING PROGRAM&quot;);\r\n        titleLabel.setFont(TITLE_FONT);\r\n        titleLabel.setTextFill(TITLE_FONT_COLOR);\r\n\r\n        Label descriptionLabel = new Label(&quot;Click \\&quot;Open Bidding File\\&quot; To Get Started&quot;);\r\n        descriptionLabel.setFont(FONT);\r\n        descriptionLabel.setTextFill(SECONDARY_FONT_COLOR);\r\n\r\n        VBox displayBox = new VBox(titleLabel, descriptionLabel);\r\n        displayBox.setAlignment(Pos.CENTER);\r\n        displayBox.setSpacing(10);\r\n        displayBox.setBackground(new Background(new BackgroundFill(SECONDARY_BACKGROUND, null, null)));\r\n\r\n        root.setCenter(displayBox);\r\n\r\n        root.setBottom(bottom);\r\n        Scene scene = new Scene(root, 1300, 600);\r\n        primaryStage.setScene(scene);\r\n\r\n        scene.getStylesheets().add(css);\r\n        primaryStage.setOnCloseRequest(e -&gt; primaryStage.close());\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI started with a large gui design with more code, which didn&#39;t work, so what I tried was to make the code as small as possible, ending up the simple program said before. I expected that at some point, I would take a line of code that it didn&#39;t like, and then systematically adding it back until I found the issue.","title":"Why is my JavaFX program using fxml getting the error &quot;Caused by: java.lang.ClassNotFoundException: javafx.scene.control.VBox&quot;?","body":"<p>I have a program that was created with java swing, but I hit a point where using it without much online help with issues I ran into so I am starting to learn JavaFX and using fxml for the gui, so I tried to create the main window in JavaFX code. With only code, I was able to make it appear how I wanted. I then decided to switch it to fxml, so I created the fxml file, added the code in my java file to load it, but when i ran the program, I keep getting the error &quot;Caused by: java.lang.ClassNotFoundException: javafx.scene.control.VBox&quot;, or the same for HBox, depending on which I used. I tried figuring it out myself, also tried chatGpt, but but I couldn't find a solution. What confuses me is that when I first created the JavaFX project in VS Code, it used VBox in the fxml, but worked fine. I have copied all code that that used, just changed the fxml nodes.\nFor context, here is the module file, my code, and the fxml file.</p>\n<pre><code>module gearworks {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    opens gearworks to javafx.fxml;\n    exports gearworks;\n}\n</code></pre>\n<pre><code>package gearworks;\n\nimport java.io.IOException;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    private BorderPane root;\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/gearworks/BaseGui.fxml&quot;));\n        try {\n            root = loader.load();\n            System.out.println((root == null) + &quot; root is null&quot;);\n            if (root == null) {\n                throw new IOException(&quot;FXML root is null&quot;);\n                \n            }\n        } catch (IOException e) {\n            \n            e.printStackTrace();\n        }\n        Scene scene = new Scene(root, 1300, 600);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Test Gui&quot;);\n        primaryStage.setOnCloseRequest(e -&gt; primaryStage.close());\n        primaryStage.show();\n    }\n}\n</code></pre>\n<pre><code>&lt;?fxml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.control.HBox?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/8.0.171&quot;\n    xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n    fx:controller=&quot;gearworks.App&quot;&gt;\n    &lt;top&gt;\n        &lt;HBox&gt;\n            &lt;Children&gt;\n                &lt;Button text=&quot;button 1&quot; /&gt;\n                &lt;Label text=&quot;label 1&quot; /&gt;\n                &lt;Button text=&quot;button 2&quot; /&gt;\n            &lt;/Children&gt;\n        &lt;/HBox&gt;\n    &lt;/top&gt;\n&lt;/BorderPane&gt;\n\n</code></pre>\n<p>Also, here is the directory setup\nsrc\n|-- main\n|-- java\n|   |-- gearworks\n|       |-- App.java\n|\n|-- resources\n|-- gearworks\n|-- BasicGui.fxml</p>\n<p>This is just the simple version of the program I am trying to make, I just kept shrinking the design, hoping that at some point it would work and I would go from there, but it never did.</p>\n<p>This was the original code that worked before trying to use fxml, minus the imports</p>\n<pre><code>public class App extends Application {\n\n    \n\n    private BorderPane root;\n    private HBox openFilePanel, saveFilePanel, dataManipulationPanel, jobSelectionPanel, displayPanel, bottomPanel,\n            jobFilterPanel;\n    private VBox bottom;\n    private Label openFilePathLabel, saveFilePathLabel, currentJob;\n    private Button chooseOpenFile, updateBidders, chooseSaveFolder, saveExcel, filterJobs, addPricing, previousJob,\n            nextJob;\n\n    private final Font TITLE_FONT = Font.font(&quot;Monospaced&quot;, FontWeight.BOLD, 50);\n    private final Font FONT = Font.font(&quot;Monospaced&quot;, FontWeight.NORMAL, 16);\n\n    private final String css = this.getClass().getResource(&quot;Element_Styles.css&quot;).toExternalForm();\n    // Dark Theme Colors\n    private final Color PRIMARY_FONT_COLOR = Color.rgb(0, 179, 189);\n    private final Color SECONDARY_FONT_COLOR = Color.rgb(55, 136, 186);\n    private final Color TERTIARY_FONT_COLOR = Color.rgb(192, 155, 82);\n    private final Color QUATERNARY_FONT_COLOR = Color.rgb(61, 86, 123);\n\n    private final Color PRIMARY_BACKGROUND = Color.rgb(13, 21, 33);\n    private final Color SECONDARY_BACKGROUND = Color.rgb(16, 26, 41);\n\n    private final Color TITLE_FONT_COLOR = TERTIARY_FONT_COLOR;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        root = new BorderPane();\n\n        openFilePanel = new HBox();\n        openFilePanel.setPadding(new Insets(10));\n        openFilePanel.setAlignment(Pos.CENTER_LEFT);\n\n        openFilePathLabel = new Label(&quot;File Path:  &quot;);\n        openFilePathLabel.setPadding(new Insets(10));\n        openFilePathLabel.setFont(FONT);\n        openFilePathLabel.setTextFill(QUATERNARY_FONT_COLOR);\n\n        chooseOpenFile = new Button(&quot;Open Bidding File...&quot;);\n\n        updateBidders = new Button(&quot;Add Update Bidders&quot;);\n        updateBidders.setDisable(true);\n\n        // Add spacer to push the label to the left\n        Region ofpSpacer = new Region();\n        HBox.setHgrow(ofpSpacer, Priority.ALWAYS);\n\n        openFilePanel.getChildren().addAll(chooseOpenFile, openFilePathLabel, ofpSpacer, updateBidders);\n\n        saveFilePanel = new HBox();\n        saveFilePanel.setPadding(new Insets(10));\n        saveFilePanel.setAlignment(Pos.CENTER_LEFT);\n\n        saveFilePathLabel = new Label(&quot;Directory Path:  &quot;);\n        saveFilePathLabel.setPadding(new Insets(10));\n        saveFilePathLabel.setFont(FONT);\n        saveFilePathLabel.setTextFill(QUATERNARY_FONT_COLOR);\n\n        chooseSaveFolder = new Button(&quot;Choose a Save Folder...&quot;);\n        saveExcel = new Button(&quot;Export Excel File&quot;);\n\n        // Add spacer to push the label to the left\n        Region sfpSpacer = new Region();\n        HBox.setHgrow(sfpSpacer, Priority.ALWAYS);\n\n        saveFilePanel.getChildren().addAll(chooseSaveFolder, saveFilePathLabel, sfpSpacer, saveExcel);\n\n        dataManipulationPanel = new HBox();\n        dataManipulationPanel.setPadding(new Insets(10, 10, 0, 10));\n\n        filterJobs = new Button(&quot;Confirm Selected Jobs&quot;);\n        addPricing = new Button(&quot;Add Pricing to Jobs&quot;);\n        jobFilterPanel = new HBox();\n        jobFilterPanel.setSpacing(10);\n        jobFilterPanel.getChildren().addAll(filterJobs, addPricing);\n\n        previousJob = new Button(&quot;&lt;&lt; Previous Job&quot;);\n        currentJob = new Label(&quot;(00/00)&quot;);\n        currentJob.setFont(FONT);\n        currentJob.setTextFill(QUATERNARY_FONT_COLOR);\n        nextJob = new Button(&quot;Next Job &gt;&gt;&quot;);\n        jobSelectionPanel = new HBox();\n        jobSelectionPanel.setSpacing(10);\n        jobSelectionPanel.setAlignment(Pos.CENTER);\n        HBox.setHgrow(jobSelectionPanel, Priority.ALWAYS); // Expand to fill available space\n        jobSelectionPanel.getChildren().addAll(previousJob, currentJob, nextJob);\n\n        dataManipulationPanel.getChildren().addAll(jobFilterPanel, jobSelectionPanel);\n\n        bottom = new VBox();\n        bottom.getChildren().addAll(dataManipulationPanel, saveFilePanel);\n\n        primaryStage.setTitle(&quot;Test Gui&quot;);\n\n        root.setTop(openFilePanel);\n\n        Label titleLabel = new Label(&quot;BIDDING PROGRAM&quot;);\n        titleLabel.setFont(TITLE_FONT);\n        titleLabel.setTextFill(TITLE_FONT_COLOR);\n\n        Label descriptionLabel = new Label(&quot;Click \\&quot;Open Bidding File\\&quot; To Get Started&quot;);\n        descriptionLabel.setFont(FONT);\n        descriptionLabel.setTextFill(SECONDARY_FONT_COLOR);\n\n        VBox displayBox = new VBox(titleLabel, descriptionLabel);\n        displayBox.setAlignment(Pos.CENTER);\n        displayBox.setSpacing(10);\n        displayBox.setBackground(new Background(new BackgroundFill(SECONDARY_BACKGROUND, null, null)));\n\n        root.setCenter(displayBox);\n\n        root.setBottom(bottom);\n        Scene scene = new Scene(root, 1300, 600);\n        primaryStage.setScene(scene);\n\n        scene.getStylesheets().add(css);\n        primaryStage.setOnCloseRequest(e -&gt; primaryStage.close());\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>I started with a large gui design with more code, which didn't work, so what I tried was to make the code as small as possible, ending up the simple program said before. I expected that at some point, I would take a line of code that it didn't like, and then systematically adding it back until I found the issue.</p>\n"},{"tags":["java","sqlite","jdbc"],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699967553,"creation_date":1699967553,"answer_id":77480873,"question_id":77480517,"body_markdown":"Your problem is caused by this statement:\r\n\r\n```lang-java\r\npublic class SqliteDB {\r\n    SqliteDB program = new SqliteDB();\r\n    ...\r\n}\r\n```\r\n\r\nWhile the class SqliteDB gets instantiated, the field `program` is created and assigned to a new SqliteDB class, which has a field `program` which gets created and assigned to a new SqliteDB class, and so on until a stack overflow occurs.","title":"I tried to load the Location of the player and the player into the database when breaking the block, but it outputs an error","body":"<p>Your problem is caused by this statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SqliteDB {\n    SqliteDB program = new SqliteDB();\n    ...\n}\n</code></pre>\n<p>While the class SqliteDB gets instantiated, the field <code>program</code> is created and assigned to a new SqliteDB class, which has a field <code>program</code> which gets created and assigned to a new SqliteDB class, and so on until a stack overflow occurs.</p>\n"}],"owner":{"account_id":29886049,"reputation":1,"user_id":22913907,"display_name":"Dami 78"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1700249460,"creation_date":1699964027,"question_id":77480517,"body_markdown":"EventBlock\r\n\r\n```\r\npackage minecord.plugingenerin.Event;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DatabaseMetaData;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport org.bukkit.Location;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.World;\r\nimport org.bukkit.block.Block;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.block.BlockBreakEvent;\r\nimport org.bukkit.scheduler.BukkitScheduler;\r\nimport org.bukkit.scheduler.BukkitTask;\r\n\r\nimport javax.management.timer.Timer;\r\nimport java.util.concurrent.ExecutorService;\r\n\r\npublic class EventBlock implements Listener {\r\n\r\n\r\n    @EventHandler\r\n    public void onDestroy(BlockBreakEvent blockBreak) throws SQLException {\r\n        Player player = blockBreak.getPlayer(); // \r\n        Block block = blockBreak.getBlock();\r\n        Location loc = block.getLocation();\r\n        World world = block.getWorld();\r\n        Material material = block.getType();\r\n        player.sendMessage(&quot; &quot;);\r\n        SqliteDB db =new SqliteDB();\r\n        db.insert(loc,player);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nSqliteDB\r\n```\r\npackage minecord.plugingenerin.Event;\r\n\r\nimport org.bukkit.Location;\r\nimport org.bukkit.entity.Player;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class SqliteDB {\r\n    SqliteDB program = new SqliteDB();\r\n    Connection c = DriverManager.getConnection(&quot;jdbc:sqlite:memory:F:/Location.db&quot;);\r\n    Statement stmt = c.createStatement();\r\n    void insert(Location location, Player user) throws SQLException {\r\n        stmt.executeUpdate(&quot;insert LocatioInfo values(&#39;&quot;+location+&quot;&#39;,&#39;&quot;+user+&quot;&#39;)&quot;);\r\n        stmt.executeUpdate(&quot;backup to C:Users//Desktop/Server 1.20.1 paper/plugins/DB/backup.db&quot;);\r\n    }\r\n\r\n    public SqliteDB() throws SQLException {\r\n        stmt.executeUpdate(&quot;create table Location(Location Location, User TEXT)&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nerror\r\n\r\n&gt;[16:56:39 ERROR]: Could not pass event BlockBreakEvent to PluginGenerin v1.0\r\njava.lang.StackOverflowError: null  \r\n        at minecord.plugingenerin.Event.SqliteDB.&lt;init&gt;(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]  \r\n        at minecord.plugingenerin.Event.SqliteDB.&lt;init&gt;(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]  \r\n        at minecord.plugingenerin.Event.SqliteDB.&lt;init&gt;(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]  \r\n        at minecord.plugingenerin.Event.SqliteDB.&lt;init&gt;(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]  \r\n        at minecord.plugingenerin.Event.SqliteDB.&lt;init&gt;(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]  \r\n        at minecord.plugingenerin.Event.SqliteDB.&lt;init&gt;(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]\r\n\r\n\r\nI tried deleting \r\n```\r\nSqliteDB db =new SqliteDB();\r\ndb.insert(loc,player);\r\n```","title":"I tried to load the Location of the player and the player into the database when breaking the block, but it outputs an error","body":"<p>EventBlock</p>\n<pre><code>package minecord.plugingenerin.Event;\n\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport org.bukkit.Location;\nimport org.bukkit.Material;\nimport org.bukkit.World;\nimport org.bukkit.block.Block;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.block.BlockBreakEvent;\nimport org.bukkit.scheduler.BukkitScheduler;\nimport org.bukkit.scheduler.BukkitTask;\n\nimport javax.management.timer.Timer;\nimport java.util.concurrent.ExecutorService;\n\npublic class EventBlock implements Listener {\n\n\n    @EventHandler\n    public void onDestroy(BlockBreakEvent blockBreak) throws SQLException {\n        Player player = blockBreak.getPlayer(); // \n        Block block = blockBreak.getBlock();\n        Location loc = block.getLocation();\n        World world = block.getWorld();\n        Material material = block.getType();\n        player.sendMessage(&quot; &quot;);\n        SqliteDB db =new SqliteDB();\n        db.insert(loc,player);\n\n\n    }\n}\n</code></pre>\n<p>SqliteDB</p>\n<pre><code>package minecord.plugingenerin.Event;\n\nimport org.bukkit.Location;\nimport org.bukkit.entity.Player;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class SqliteDB {\n    SqliteDB program = new SqliteDB();\n    Connection c = DriverManager.getConnection(&quot;jdbc:sqlite:memory:F:/Location.db&quot;);\n    Statement stmt = c.createStatement();\n    void insert(Location location, Player user) throws SQLException {\n        stmt.executeUpdate(&quot;insert LocatioInfo values('&quot;+location+&quot;','&quot;+user+&quot;')&quot;);\n        stmt.executeUpdate(&quot;backup to C:Users//Desktop/Server 1.20.1 paper/plugins/DB/backup.db&quot;);\n    }\n\n    public SqliteDB() throws SQLException {\n        stmt.executeUpdate(&quot;create table Location(Location Location, User TEXT)&quot;);\n\n    }\n}\n</code></pre>\n<p>error</p>\n<blockquote>\n<p>[16:56:39 ERROR]: Could not pass event BlockBreakEvent to PluginGenerin v1.0\njava.lang.StackOverflowError: null<br />\nat minecord.plugingenerin.Event.SqliteDB.(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]<br />\nat minecord.plugingenerin.Event.SqliteDB.(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]<br />\nat minecord.plugingenerin.Event.SqliteDB.(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]<br />\nat minecord.plugingenerin.Event.SqliteDB.(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]<br />\nat minecord.plugingenerin.Event.SqliteDB.(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]<br />\nat minecord.plugingenerin.Event.SqliteDB.(SqliteDB.java:12) ~[original-PluginGenerin-1.0.jar:?]</p>\n</blockquote>\n<p>I tried deleting</p>\n<pre><code>SqliteDB db =new SqliteDB();\ndb.insert(loc,player);\n</code></pre>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1532306932,"post_id":51470345,"comment_id":89909041,"body_markdown":"`if (formattedToday.compareTo(formattedExpired) &gt; 0)` ?","body":"<code>if (formattedToday.compareTo(formattedExpired) &gt; 0)</code> ?"},{"owner":{"account_id":11425126,"reputation":2515,"user_id":8375503,"display_name":"kumesana"},"score":1,"creation_date":1532306956,"post_id":51470345,"comment_id":89909046,"body_markdown":"Why do you have hour components if you&#39;re comparing days? Why do you have lists of dates if you&#39;re checking a specific date? You should probably show the exact input you have, the exact output you expect, why, and a complete example of code we can run ourselves by copy/pasting it.","body":"Why do you have hour components if you&#39;re comparing days? Why do you have lists of dates if you&#39;re checking a specific date? You should probably show the exact input you have, the exact output you expect, why, and a complete example of code we can run ourselves by copy/pasting it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1532313662,"post_id":51470345,"comment_id":89910249,"body_markdown":"FYI, the troublesome old date-time classes such as `java.util.Date`, `java.util.Calendar`, and `java.text.SimpleDateFormat` are now legacy, supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes. Much of the *java.time*&#160;functionality is back-ported to Java 6 &amp; Java 7 in the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project. Further adapted for earlier Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).","body":"FYI, the troublesome old date-time classes such as <code>java.util.Date</code>, <code>java.util.Calendar</code>, and <code>java.text.SimpleDateFormat</code> are now legacy, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Much of the <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a> project. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP</i></a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1532330753,"post_id":51470345,"comment_id":89915260,"body_markdown":"The [second answer](https://stackoverflow.com/a/30207933/5772882) in the thread you tried (and the one with most votes) doesnt require any external libraries if youre programming for a new Android version (API level 26 or above).","body":"The <a href=\"https://stackoverflow.com/a/30207933/5772882\">second answer</a> in the thread you tried (and the one with most votes) doesnt require any external libraries if youre programming for a new Android version (API level 26 or above)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1532421061,"post_id":51470345,"comment_id":89956314,"body_markdown":"API level 25, youre *sooo* close. In that case I would apply for an exception, a permission to use [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP/blob/master/build.gradle) just until you move to API level 26. Once you do that you will just need to change your imports to the built-in java.time and discard ThreeTenABP again. I would consider this the future-proof, convenient and maintenance-friendly solution in every respect.","body":"API level 25, youre <i>sooo</i> close. In that case I would apply for an exception, a permission to use <a href=\"https://github.com/JakeWharton/ThreeTenABP/blob/master/build.gradle\" rel=\"nofollow noreferrer\">ThreeTenABP</a> just until you move to API level 26. Once you do that you will just need to change your imports to the built-in java.time and discard ThreeTenABP again. I would consider this the future-proof, convenient and maintenance-friendly solution in every respect."}],"answers":[{"comments":[{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1532307548,"post_id":51470409,"comment_id":89909151,"body_markdown":"I see I see. I thought of the same way too. But what I did was to get the today&#39;s date then minus 7 from it. Then, I used this to check if it is within the date from today to last week: testDate.after(startDate) &amp;&amp; testDate.before(endDate)","body":"I see I see. I thought of the same way too. But what I did was to get the today&#39;s date then minus 7 from it. Then, I used this to check if it is within the date from today to last week: testDate.after(startDate) &amp;&amp; testDate.before(endDate)"},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":0,"creation_date":1532307643,"post_id":51470409,"comment_id":89909170,"body_markdown":"Yes that will work too. It uses an extra `Date` object, which may involve extra date calculations, which aren&#39;t very cheap. But it might produce more readable code? Your call!","body":"Yes that will work too. It uses an extra <code>Date</code> object, which may involve extra date calculations, which aren&#39;t very cheap. But it might produce more readable code? Your call!"},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":0,"creation_date":1532307779,"post_id":51470409,"comment_id":89909192,"body_markdown":"Note: be careful with subtracting dates. Use `Calendar` for that, always (until you can use JodaTime / Java8). Anything else, and you have to deal with 1 January, 29 February, daylight savings, and many other gotcha-cases. You can&#39;t even subtract (7 * 24 * 60 * 60 * 1000) milliseconds.. that misses daylight savings!","body":"Note: be careful with subtracting dates. Use <code>Calendar</code> for that, always (until you can use JodaTime / Java8). Anything else, and you have to deal with 1 January, 29 February, daylight savings, and many other gotcha-cases. You can&#39;t even subtract (7 * 24 * 60 * 60 * 1000) milliseconds.. that misses daylight savings!"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1532308145,"post_id":51470409,"comment_id":89909236,"body_markdown":"I am getting incompatible types at step 2! The error message is Required: java.util.Calendar, Found: void","body":"I am getting incompatible types at step 2! The error message is Required: java.util.Calendar, Found: void"},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1532309583,"post_id":51470409,"comment_id":89909459,"body_markdown":"@hyperfkcb I&#39;ve provided you with a complete solution which will give you the result you wanted through a one liner from anywhere in your application. :)","body":"@hyperfkcb I&#39;ve provided you with a complete solution which will give you the result you wanted through a one liner from anywhere in your application. :)"}],"tags":[],"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1532309695,"creation_date":1532307286,"answer_id":51470409,"question_id":51470345,"body_markdown":"Using only `Date` and `Calendar` classes (and thus, compatible with any JVM from about 4-ish, I think?) you could try this sort of solution:\r\n\r\n1. Get today as a `Date`: `Date now = new Date()`\r\n2. Get one week ago from that, as a `Calendar`: `Calendar expected = Calendar.getInstance(); expected.setTime(now); lastWeek.add(Calendar.WEEK_OF_YEAR, -1);`\r\n3. Get your expired date as a `Calendar`: `Calendar actual = Calendar.getInstance().setTime(expiredDate);`\r\n4. Compare the year and day of year of the two calendars (you can compare other fields, but those two should be enough): `return (expected.get(Calendar.YEAR) == actual.get(Calendar.YEAR)) &amp;&amp; (expected.get(Calendar.WEEK_OF_YEAR) == actual.get(Calendar.WEEK_OF_YEAR));`\r\n\r\nUsing this, you should be able to come up with an even shorter snippet that subtracts a week from now and compares the long values of the two. Though obviously that wouldn&#39;t be comparing calendar dates, it would be comparing nanoseconds :)","title":"Check if date is one week before from today Java","body":"<p>Using only <code>Date</code> and <code>Calendar</code> classes (and thus, compatible with any JVM from about 4-ish, I think?) you could try this sort of solution:</p>\n\n<ol>\n<li>Get today as a <code>Date</code>: <code>Date now = new Date()</code></li>\n<li>Get one week ago from that, as a <code>Calendar</code>: <code>Calendar expected = Calendar.getInstance(); expected.setTime(now); lastWeek.add(Calendar.WEEK_OF_YEAR, -1);</code></li>\n<li>Get your expired date as a <code>Calendar</code>: <code>Calendar actual = Calendar.getInstance().setTime(expiredDate);</code></li>\n<li>Compare the year and day of year of the two calendars (you can compare other fields, but those two should be enough): <code>return (expected.get(Calendar.YEAR) == actual.get(Calendar.YEAR)) &amp;&amp; (expected.get(Calendar.WEEK_OF_YEAR) == actual.get(Calendar.WEEK_OF_YEAR));</code></li>\n</ol>\n\n<p>Using this, you should be able to come up with an even shorter snippet that subtracts a week from now and compares the long values of the two. Though obviously that wouldn't be comparing calendar dates, it would be comparing nanoseconds :)</p>\n"},{"comments":[{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":1,"creation_date":1532309580,"post_id":51470494,"comment_id":89909458,"body_markdown":"Thanks so much! This works too and it is much more simplified!","body":"Thanks so much! This works too and it is much more simplified!"},{"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"score":1,"creation_date":1532309713,"post_id":51470494,"comment_id":89909479,"body_markdown":"@hyperfkcb Glad to help you!","body":"@hyperfkcb Glad to help you!"},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":1,"creation_date":1532310031,"post_id":51470494,"comment_id":89909546,"body_markdown":"Very elegant. It doesn&#39;t account for daylight savings though. Not often important.","body":"Very elegant. It doesn&#39;t account for daylight savings though. Not often important."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1532313597,"post_id":51470494,"comment_id":89910238,"body_markdown":"There really is no need to use these terrible old classes. The *java.time* classes are built into Java 8 and later. Much of the *java.time*&#160;functionality is back-ported to Java 6 &amp; Java 7 in the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project. Further adapted for earlier Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).","body":"There really is no need to use these terrible old classes. The <i>java.time</i> classes are built into Java 8 and later. Much of the <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a> project. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP</i></a>."},{"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"score":0,"creation_date":1532314357,"post_id":51470494,"comment_id":89910392,"body_markdown":"@BasilBourque sorry I don&#39;t get you exactly but OP don&#39;t want to use Java 8 if I understand the question correctly. Is this answer not correct if yes could please help me to understand in more simplified language. thanks!","body":"@BasilBourque sorry I don&#39;t get you exactly but OP don&#39;t want to use Java 8 if I understand the question correctly. Is this answer not correct if yes could please help me to understand in more simplified language. thanks!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1532314619,"post_id":51470494,"comment_id":89910443,"body_markdown":"Reread the last half of my comment, about *ThreeTen-Backport* &amp; *ThreeTenABP*. Friends dont let friends use `Date`/`Calendar`/`SimpleDateFormat`.","body":"Reread the last half of my comment, about <i>ThreeTen-Backport</i> &amp; <i>ThreeTenABP</i>. Friends dont let friends use <code>Date</code>/<code>Calendar</code>/<code>SimpleDateFormat</code>."},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":1,"creation_date":1532314912,"post_id":51470494,"comment_id":89910493,"body_markdown":"OP isn&#39;t allowed use 3rd-party libraries or Java8+.  We know Calendar/Date are bad, but sometimes (often) your constraints prevent access to the good stuff...","body":"OP isn&#39;t allowed use 3rd-party libraries or Java8+.  We know Calendar/Date are bad, but sometimes (often) your constraints prevent access to the good stuff..."}],"tags":[],"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532309253,"creation_date":1532308438,"answer_id":51470494,"question_id":51470345,"body_markdown":"**Java 8 independent**\r\n\r\nHow about doing it in simple way i.e. get time from two dates and find the `difference`. Convert this `difference` into `days` to get difference between two dates in `days`. Below is working code :\r\n\r\n    Date formattedToday = new Date();\r\n    Date formattedExpired = new Date(&quot;06/12/2018 08:09 PM&quot;);\r\n\r\n    int diffInDays = (int)( (formattedToday.getTime() - formattedExpired.getTime())\r\n            / (1000 * 60 * 60 * 24) );\r\n\r\n    if (diffInDays &gt; 7) \r\n    Log.i(&quot;Expiration Status : &quot;, &quot;Expired&quot;);\r\n\r\nIt will give you difference between two dates in `days` and it can be `negative` if expiry date is of future and `positive` if expiry date is of past. ","title":"Check if date is one week before from today Java","body":"<p><strong>Java 8 independent</strong></p>\n\n<p>How about doing it in simple way i.e. get time from two dates and find the <code>difference</code>. Convert this <code>difference</code> into <code>days</code> to get difference between two dates in <code>days</code>. Below is working code :</p>\n\n<pre><code>Date formattedToday = new Date();\nDate formattedExpired = new Date(\"06/12/2018 08:09 PM\");\n\nint diffInDays = (int)( (formattedToday.getTime() - formattedExpired.getTime())\n        / (1000 * 60 * 60 * 24) );\n\nif (diffInDays &gt; 7) \nLog.i(\"Expiration Status : \", \"Expired\");\n</code></pre>\n\n<p>It will give you difference between two dates in <code>days</code> and it can be <code>negative</code> if expiry date is of future and <code>positive</code> if expiry date is of past. </p>\n"},{"comments":[{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1532322698,"post_id":51470523,"comment_id":89911974,"body_markdown":"@hyperfkcb Just curious: which solution did you end up going for?","body":"@hyperfkcb Just curious: which solution did you end up going for?"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1532325793,"post_id":51470523,"comment_id":89912891,"body_markdown":"I adopted @PaulHicks one as he posted first!","body":"I adopted @PaulHicks one as he posted first!"}],"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532309506,"creation_date":1532308773,"answer_id":51470523,"question_id":51470345,"body_markdown":"**Here is a complete solution:**\r\n\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n\r\n    /**\r\n     * @author Jeremi Grenier-Berthiaume\r\n     */\r\n    public class InternalDate {\r\n    \r\n        private int year = 0;\r\n        private int month = 0;\r\n        private int day = 0;\r\n    \r\n    \r\n        private InternalDate(int year, int month, int day){\r\n            this.year = year;\r\n            this.month = month;\r\n            this.day = day;\r\n        }\r\n    \r\n        private static InternalDate generateFromCalendar(Calendar calendar) {\r\n    \r\n            int lYear = calendar.get(Calendar.YEAR);\r\n            int lMonth = calendar.get(Calendar.MONTH) + 1; // January = 1st month\r\n            int lDay = calendar.get(Calendar.DAY_OF_MONTH);\r\n    \r\n            return new InternalDate(lYear, lMonth, lDay);\r\n        }\r\n    \r\n        /**\r\n         * Constructor for a textual format.\r\n         *\r\n         * @param text  Format &quot;DD/MM/YYYY&quot; followed by more chars which will be ignored if they are present.\r\n         * @return      Associated InternalDate\r\n         */\r\n        private static InternalDate generateDateFromText(String text) {\r\n    \r\n            int year, month, day;\r\n            char selectedChar = &#39;/&#39;;\r\n            text = text.substring(0,10); // to remove hours\r\n    \r\n            // Extract the data required to construct the InternalDate\r\n            String[] splitDateText = text.split(&quot;&quot;+selectedChar);\r\n            day = Integer.parseInt(splitDateText[0]);\r\n            month = Integer.parseInt(splitDateText[1]);\r\n            year = Integer.parseInt(splitDateText[2]);\r\n    \r\n            return new InternalDate(year, month, day);\r\n        }\r\n    \r\n        private static InternalDate getLastWeek() {\r\n    \r\n            // Get current date\r\n            Calendar tempCal = Calendar.getInstance();\r\n            tempCal.setTime(new Date());\r\n    \r\n            // 7 days ago\r\n            tempCal.add(Calendar.DAY_OF_MONTH, -7);\r\n    \r\n            return generateFromCalendar(tempCal);\r\n        }\r\n    \r\n        public static boolean isLastWeek(String compared) {\r\n    \r\n            int tmpDate = Integer.parseInt(InternalDate.getLastWeek().getComparableStringDate());\r\n            int tmpCompDate = Integer.parseInt(InternalDate.generateDateFromText(compared).getComparableStringDate());\r\n    \r\n            return tmpDate == tmpCompDate;\r\n        }\r\n    }\r\n\r\nForming the date that you want to verify as a string of the format `DD/MM/YYYY` and giving it in input to `InternalDate.isLastWeek(stringDate);` will give you an answer (it returns a boolean: `true` if it&#39;s a date from a week ago, `false` if not).\r\n\r\nA nice and simple one-liner that you can call from anywhere in your app. Feel free to mark as an answer if it did respond to your question properly. :)","title":"Check if date is one week before from today Java","body":"<p><strong>Here is a complete solution:</strong></p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\n/**\n * @author Jeremi Grenier-Berthiaume\n */\npublic class InternalDate {\n\n    private int year = 0;\n    private int month = 0;\n    private int day = 0;\n\n\n    private InternalDate(int year, int month, int day){\n        this.year = year;\n        this.month = month;\n        this.day = day;\n    }\n\n    private static InternalDate generateFromCalendar(Calendar calendar) {\n\n        int lYear = calendar.get(Calendar.YEAR);\n        int lMonth = calendar.get(Calendar.MONTH) + 1; // January = 1st month\n        int lDay = calendar.get(Calendar.DAY_OF_MONTH);\n\n        return new InternalDate(lYear, lMonth, lDay);\n    }\n\n    /**\n     * Constructor for a textual format.\n     *\n     * @param text  Format \"DD/MM/YYYY\" followed by more chars which will be ignored if they are present.\n     * @return      Associated InternalDate\n     */\n    private static InternalDate generateDateFromText(String text) {\n\n        int year, month, day;\n        char selectedChar = '/';\n        text = text.substring(0,10); // to remove hours\n\n        // Extract the data required to construct the InternalDate\n        String[] splitDateText = text.split(\"\"+selectedChar);\n        day = Integer.parseInt(splitDateText[0]);\n        month = Integer.parseInt(splitDateText[1]);\n        year = Integer.parseInt(splitDateText[2]);\n\n        return new InternalDate(year, month, day);\n    }\n\n    private static InternalDate getLastWeek() {\n\n        // Get current date\n        Calendar tempCal = Calendar.getInstance();\n        tempCal.setTime(new Date());\n\n        // 7 days ago\n        tempCal.add(Calendar.DAY_OF_MONTH, -7);\n\n        return generateFromCalendar(tempCal);\n    }\n\n    public static boolean isLastWeek(String compared) {\n\n        int tmpDate = Integer.parseInt(InternalDate.getLastWeek().getComparableStringDate());\n        int tmpCompDate = Integer.parseInt(InternalDate.generateDateFromText(compared).getComparableStringDate());\n\n        return tmpDate == tmpCompDate;\n    }\n}\n</code></pre>\n\n<p>Forming the date that you want to verify as a string of the format <code>DD/MM/YYYY</code> and giving it in input to <code>InternalDate.isLastWeek(stringDate);</code> will give you an answer (it returns a boolean: <code>true</code> if it's a date from a week ago, <code>false</code> if not).</p>\n\n<p>A nice and simple one-liner that you can call from anywhere in your app. Feel free to mark as an answer if it did respond to your question properly. :)</p>\n"},{"comments":[{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1532322602,"post_id":51471056,"comment_id":89911959,"body_markdown":"Quality post! Why can&#39;t I &quot;star&quot; it for future reference? Anyways, I have a question: Joda-Time&#39;s website mentions `Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.`; am I supposed to understand that `java.time` is superior to `Joda-Time`? (I have not spent time to learn Joda-Time, hence my question: should I concentrate on java-time instead?)","body":"Quality post! Why can&#39;t I &quot;star&quot; it for future reference? Anyways, I have a question: Joda-Time&#39;s website mentions <code>Note that from Java SE 8 onwards, users are asked to migrate to java.time (JSR-310) - a core part of the JDK which replaces this project.</code>; am I supposed to understand that <code>java.time</code> is superior to <code>Joda-Time</code>? (I have not spent time to learn Joda-Time, hence my question: should I concentrate on java-time instead?)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1532323196,"post_id":51471056,"comment_id":89912088,"body_markdown":"@payne The *Joda-Time* project was authored and led by Stephen Colebourne. He then took the lessons learned there to start from scratch in founding JSR 310 and writing its *java.time* implementation. He also led the *ThreeTen-Backport* project to bring most of that functionality to Java 6 &amp; 7 and Android. He also founded and leads the *ThreeTen-Extra* project, that adds more functionality to *java.time*. So, yes, *java.time* is superior to *Joda-Time*, as its official successor. Joda-Time continues to be actively updated for bugs and the *tzdata* file, but will have no more feature work done.","body":"@payne The <i>Joda-Time</i> project was authored and led by Stephen Colebourne. He then took the lessons learned there to start from scratch in founding JSR 310 and writing its <i>java.time</i> implementation. He also led the <i>ThreeTen-Backport</i> project to bring most of that functionality to Java 6 &amp; 7 and Android. He also founded and leads the <i>ThreeTen-Extra</i> project, that adds more functionality to <i>java.time</i>. So, yes, <i>java.time</i> is superior to <i>Joda-Time</i>, as its official successor. Joda-Time continues to be actively updated for bugs and the <i>tzdata</i> file, but will have no more feature work done."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532325262,"creation_date":1532314308,"answer_id":51471056,"question_id":51470345,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime\r\n    .now()                           // Captures current moment as seen by the wall-clock time of the JVMs current default time zone. Better to pass the optional `ZoneId` argument to specify explicitly the desired/expected time zone.\r\n    .minusWeeks( 1 )\r\n    .isAfter(\r\n        LocalDateTime\r\n        .parse( \r\n            &quot;09/12/2017 08:09 PM&quot; ,\r\n            DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu hh:mm a&quot; , Locale.US )\r\n        )\r\n        .atZone(\r\n            ZoneId.systemDefault()   // Better to pass explicitly the time zone known to have been intended for this input. See discussion below.\r\n        )\r\n    )\r\n\r\n\r\n\r\n# Using *java.time*\r\n\r\nThe modern solution uses the *java.time* classes. Much easier to work with that the terrible old legacy `Date`, `Calendar`, etc.\r\n\r\n&gt;Check if date is one week before from today Java\r\n\r\nDid you intend to work with just the dates, and ignore the time-of-day? I will assume not, as your inputs have a time-of-day.\r\n\r\nGet current moment in UTC.\r\n\r\n    Instant instant = Instant.now() ;  // Current moment in UTC.\r\n\r\nAdjust into the time zone implied as the context for you date-time input strings. Apply a `ZoneId` to get a `ZonedDateTime` object.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;      // Replace with the zone you know to have been intended for the input strings.\r\n    ZonedDateTime zdtNow = instant.atZone( z ) ;  // Adjust from UTC to a time zone.\r\n\r\nSubtract a week, a requirement you stated in the Question.\r\n\r\n    ZonedDateTime zdtWeekAgo = zdtNow.minusWeeks( 1 ) ; // Accounts for anomalies such as Daylight Saving Time (DST).\r\n\r\n\r\nParse your input strings as `LocalDateTime` objects because they lack any indicator of time zone or offset-from-UTC.\r\n\r\nTips: If at all possible, change those inputs to include their time zone. And change their formats to use the standard ISO 8601 formats rather than custom format.\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu hh:mm a&quot; , Locale.US ) ;\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;09/12/2017 08:09 PM&quot; , f ) ;\r\n\r\nAssign the time zone you know to have been intended for those input strings.\r\n\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\nCompare.\r\n\r\n    boolean moreThanWeekOld = zdt.isBefore( zdtWeekAgo ) ;\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).","title":"Check if date is one week before from today Java","body":"<h1>tl;dr</h1>\n\n<pre><code>ZonedDateTime\n.now()                           // Captures current moment as seen by the wall-clock time of the JVMs current default time zone. Better to pass the optional `ZoneId` argument to specify explicitly the desired/expected time zone.\n.minusWeeks( 1 )\n.isAfter(\n    LocalDateTime\n    .parse( \n        \"09/12/2017 08:09 PM\" ,\n        DateTimeFormatter.ofPattern( \"MM/dd/uuuu hh:mm a\" , Locale.US )\n    )\n    .atZone(\n        ZoneId.systemDefault()   // Better to pass explicitly the time zone known to have been intended for this input. See discussion below.\n    )\n)\n</code></pre>\n\n<h1>Using <em>java.time</em></h1>\n\n<p>The modern solution uses the <em>java.time</em> classes. Much easier to work with that the terrible old legacy <code>Date</code>, <code>Calendar</code>, etc.</p>\n\n<blockquote>\n  <p>Check if date is one week before from today Java</p>\n</blockquote>\n\n<p>Did you intend to work with just the dates, and ignore the time-of-day? I will assume not, as your inputs have a time-of-day.</p>\n\n<p>Get current moment in UTC.</p>\n\n<pre><code>Instant instant = Instant.now() ;  // Current moment in UTC.\n</code></pre>\n\n<p>Adjust into the time zone implied as the context for you date-time input strings. Apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code> object.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Africa/Tunis\" ) ;      // Replace with the zone you know to have been intended for the input strings.\nZonedDateTime zdtNow = instant.atZone( z ) ;  // Adjust from UTC to a time zone.\n</code></pre>\n\n<p>Subtract a week, a requirement you stated in the Question.</p>\n\n<pre><code>ZonedDateTime zdtWeekAgo = zdtNow.minusWeeks( 1 ) ; // Accounts for anomalies such as Daylight Saving Time (DST).\n</code></pre>\n\n<p>Parse your input strings as <code>LocalDateTime</code> objects because they lack any indicator of time zone or offset-from-UTC.</p>\n\n<p>Tips: If at all possible, change those inputs to include their time zone. And change their formats to use the standard ISO 8601 formats rather than custom format.</p>\n\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( \"MM/dd/uuuu hh:mm a\" , Locale.US ) ;\nLocalDateTime ldt = LocalDateTime.parse( \"09/12/2017 08:09 PM\" , f ) ;\n</code></pre>\n\n<p>Assign the time zone you know to have been intended for those input strings.</p>\n\n<pre><code>ZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n\n<p>Compare.</p>\n\n<pre><code>boolean moreThanWeekOld = zdt.isBefore( zdtWeekAgo ) ;\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700595262,"post_id":77504160,"comment_id":136673389,"body_markdown":"This code ignores time zones, and assumes 24-hour days. Time zones rules are defined by the whims of politicians. Changes to those rules mean a day may be longer or shorter than 24 hours. A day can be 23 hours long, or 25, or 23.5, or other numbers.","body":"This code ignores time zones, and assumes 24-hour days. Time zones rules are defined by the whims of politicians. Changes to those rules mean a day may be longer or shorter than 24 hours. A day can be 23 hours long, or 25, or 23.5, or other numbers."}],"tags":[],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700248951,"creation_date":1700248951,"answer_id":77504160,"question_id":51470345,"body_markdown":"Duration.between(new Date().toInstant(), Instant.now()).toDays() &lt; 7)","title":"Check if date is one week before from today Java","body":"<p>Duration.between(new Date().toInstant(), Instant.now()).toDays() &lt; 7)</p>\n"}],"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4268,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":51470409,"answer_count":5,"score":1,"last_activity_date":1700248951,"creation_date":1532306334,"question_id":51470345,"body_markdown":"I am trying to check if a particular date is one week before from today&#39;s date. I formatted my date into this format:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;MM/dd/yyyy hh:mm a&quot;);\r\n\r\nThen, I get the list of date from a for loop by these code:\r\n\r\n    Date formattedToday = formatter.parse(todayStr);\r\n    Date formattedExpired = formatter.parse(expiredDate);\r\n\r\nThe example of dates in the list are:\r\n\r\n    09/12/2017 08:09 PM\r\n    10/24/2015 02:09 AM\r\n    07/18/2018 03:10 AM\r\n\r\nI tried to follow [this thread][1] but I am not allowed to add in any external libraries. \r\n\r\nThe other solution that requires `Java 8` is not applicable for me also as my current min **API is 25** but [`ChronoUnit`][2] requires `API 26`. \r\n\r\nAny ideas? Thanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30207693/how-to-check-if-date-exceeds-more-than-seven-days\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html","title":"Check if date is one week before from today Java","body":"<p>I am trying to check if a particular date is one week before from today's date. I formatted my date into this format:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"MM/dd/yyyy hh:mm a\");\n</code></pre>\n\n<p>Then, I get the list of date from a for loop by these code:</p>\n\n<pre><code>Date formattedToday = formatter.parse(todayStr);\nDate formattedExpired = formatter.parse(expiredDate);\n</code></pre>\n\n<p>The example of dates in the list are:</p>\n\n<pre><code>09/12/2017 08:09 PM\n10/24/2015 02:09 AM\n07/18/2018 03:10 AM\n</code></pre>\n\n<p>I tried to follow <a href=\"https://stackoverflow.com/questions/30207693/how-to-check-if-date-exceeds-more-than-seven-days\">this thread</a> but I am not allowed to add in any external libraries. </p>\n\n<p>The other solution that requires <code>Java 8</code> is not applicable for me also as my current min <strong>API is 25</strong> but <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\"><code>ChronoUnit</code></a> requires <code>API 26</code>. </p>\n\n<p>Any ideas? Thanks!</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699891862,"post_id":77475113,"comment_id":136584826,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"score":0,"creation_date":1699893592,"post_id":77475113,"comment_id":136585168,"body_markdown":"for the color coding only sorry, Intellij dosen&#39;t copy the colors :(","body":"for the color coding only sorry, Intellij dosen&#39;t copy the colors :("},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1699894781,"post_id":77475113,"comment_id":136585396,"body_markdown":"Colors are not really needed to understand these logs. It is clear which line is a warning or error.","body":"Colors are not really needed to understand these logs. It is clear which line is a warning or error."},{"owner":{"account_id":2168226,"reputation":1449,"user_id":1920835,"display_name":"Robert Newton"},"score":0,"creation_date":1700005758,"post_id":77475113,"comment_id":136601347,"body_markdown":"Did you mention the version of GWT?","body":"Did you mention the version of GWT?"},{"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"score":0,"creation_date":1700062244,"post_id":77475113,"comment_id":136609020,"body_markdown":"all latest from maven pom  and  --add-opens java.base/java.lang=ALL-UNNAMED","body":"all latest from maven pom  and  --add-opens java.base/java.lang=ALL-UNNAMED"}],"answers":[{"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700248885,"creation_date":1700248885,"answer_id":77504153,"question_id":77475113,"body_markdown":"The GC error can be safely ignored, this is logged only when that method of fixing a memory leak no longer exists.\r\n\r\nHowever, you cannot change the DevMode classpath to use Jetty 11 instead of Jetty 9. Instead, if you want to use Jetty 11 to run your own application, run it separately from GWT `DevMode` and pass `-noserver` to DevMode, and use the `-war` argument to specify where to write compiled JS so that your own application server can serve it. Alternatively, use `CodeServer` instead of `DevMode` (and use `-launcherDir` instead of `-war` to specify where to send compiled JS.","title":"GWT Jetty 9 to 11 ? running Java 21 : sun.misc.GC moved : [ERROR] jreLeakPrevention.gcDaemonFail java.lang.ClassNotFoundException","body":"<p>The GC error can be safely ignored, this is logged only when that method of fixing a memory leak no longer exists.</p>\n<p>However, you cannot change the DevMode classpath to use Jetty 11 instead of Jetty 9. Instead, if you want to use Jetty 11 to run your own application, run it separately from GWT <code>DevMode</code> and pass <code>-noserver</code> to DevMode, and use the <code>-war</code> argument to specify where to write compiled JS so that your own application server can serve it. Alternatively, use <code>CodeServer</code> instead of <code>DevMode</code> (and use <code>-launcherDir</code> instead of <code>-war</code> to specify where to send compiled JS.</p>\n"}],"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700248885,"creation_date":1699890357,"question_id":77475113,"body_markdown":"is there any way to run it on jetty 11 ? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nReference https://stackoverflow.com/questions/58773486/jreleakprevention-gcdaemonfail-error-while-running-gwt-application\r\n\r\n(all is running fine on 9.4 only that well known GC message)\r\nI want to force him to jetty 11\r\nby adding\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n      &lt;version&gt;11.0.16&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand i get from LOG\r\n\r\n```\r\n    /Users/work2/Library/Java/JavaVirtualMachines/openjdk- \r\n 21.0.1/Contents/Home/bin/java - agentlib:jdwp=transport=dt_socket,address=127.0.0.1:52523,suspend=y,server=n -Dapple.awt.UIElement=true -Xmx8048m -javaagent:/Users/work2/lombok.jar=ECJ --add-opens java.base/java.lang=ALL-UNNAMED -javaagent:/Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/captureAgent/debugger-agent.jar -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;/Users/work2/.m2/repository/org/gwtproject/gwt-codeserver/2.10.0/gwt-codeserver-2.10.0.jar:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/target/generated-sources/gwt:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-addins/2.8.2/gwt-material-addins-2.8.2-sources.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-table/2.8.2/gwt-material-table-2.8.2-sources.jar:/Users/work2/Documents/GitHub/srr-all6/srr-entity/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-entity/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-util/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-util/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-util/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-common/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-common/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-common/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/target/ShopManager/WEB-INF/classes:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-server/11.0.16/jetty-server-11.0.16.jar:/Users/work2/.m2/repository/org/eclipse/jetty/toolchain/jetty-jakarta-servlet-api/5.0.2/jetty-jakarta-servlet-api-5.0.2.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-http/9.4.44.v20210927/jetty-http-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-util/9.4.44.v20210927/jetty-util-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-io/9.4.44.v20210927/jetty-io-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/gwtproject/gwt-user/2.10.0/gwt-user-2.10.0.jar:/Users/work2/.m2/repository/com/google/jsinterop/jsinterop-annotations/2.0.0/jsinterop-annotations-2.0.0.jar:/Users/work2/.m2/repository/javax/validation/validation-api/1.0.0.GA/validation-api-1.0.0.GA.jar:/Users/work2/.m2/repository/javax/validation/validation-api/1.0.0.GA/validation-api-1.0.0.GA-sources.jar:/Users/work2/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/work2/.m2/repository/org/w3c/css/sac/1.3/sac-1.3.jar:/Users/work2/.m2/repository/org/gwtproject/gwt-dev/2.10.0/gwt-dev-2.10.0.jar:/Users/work2/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/Users/work2/.m2/repository/com/google/code/gson/gson/2.6.2/gson-2.6.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-util/9.2/asm-util-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar:/Users/work2/.m2/repository/colt/colt/1.2.0/colt-1.2.0.jar:/Users/work2/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/work2/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/Users/work2/.m2/repository/com/ibm/icu/icu4j/63.1/icu4j-63.1.jar:/Users/work2/.m2/repository/tapestry/tapestry/4.0.2/tapestry-4.0.2.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit/2.19/htmlunit-2.19.jar:/Users/work2/.m2/repository/xalan/xalan/2.7.2/xalan-2.7.2.jar:/Users/work2/.m2/repository/xalan/serializer/2.7.2/serializer-2.7.2.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpmime/4.5.1/httpmime-4.5.1.jar:/Users/work2/.m2/repository/commons-codec/commons-codec/1.10/commons-codec-1.10.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit-core-js/2.17/htmlunit-core-js-2.17.jar:/Users/work2/.m2/repository/xerces/xercesImpl/2.11.0/xercesImpl-2.11.0.jar:/Users/work2/.m2/repository/xml-apis/xml-apis/1.4.01/xml-apis-1.4.01.jar:/Users/work2/.m2/repository/net/sourceforge/nekohtml/nekohtml/1.9.22/nekohtml-1.9.22.jar:/Users/work2/.m2/repository/net/sourceforge/cssparser/cssparser/0.9.18/cssparser-0.9.18.jar:/Users/work2/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-client/9.2.13.v20150730/websocket-client-9.2.13.v20150730.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-common/9.4.44.v20210927/websocket-common-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-api/9.4.44.v20210927/websocket-api-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-webapp/9.4.44.v20210927/jetty-webapp-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-xml/9.4.44.v20210927/jetty-xml-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.44.v20210927/jetty-servlet-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-security/9.4.44.v20210927/jetty-security-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-util-ajax/9.4.44.v20210927/jetty-util-ajax-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-servlets/9.4.44.v20210927/jetty-servlets-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-continuation/9.4.44.v20210927/jetty-continuation-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-annotations/9.4.44.v20210927/jetty-annotations-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-plus/9.4.44.v20210927/jetty-plus-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-jndi/9.4.44.v20210927/jetty-jndi-9.4.44.v20210927.jar:/Users/work2/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/Users/work2/.m2/repository/org/eclipse/jetty/apache-jsp/9.4.44.v20210927/apache-jsp-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/toolchain/jetty-schemas/3.1.2/jetty-schemas-3.1.2.jar:/Users/work2/.m2/repository/org/mortbay/jasper/apache-jsp/8.5.70/apache-jsp-8.5.70.jar:/Users/work2/.m2/repository/org/mortbay/jasper/apache-el/8.5.70/apache-el-8.5.70.jar:/Users/work2/.m2/repository/org/eclipse/jdt/ecj/3.19.0/ecj-3.19.0.jar:/Users/work2/.m2/repository/com/gwtplatform/gwtp-mvp-client/1.6/gwtp-mvp-client-1.6.jar:/Users/work2/.m2/repository/com/gwtplatform/gwtp-clients-common/1.6/gwtp-clients-common-1.6.jar:/Users/work2/.m2/repository/com/gwtplatform/gwtp-mvp-shared/1.6/gwtp-mvp-shared-1.6.jar:/Users/work2/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar:/Users/work2/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material/2.8.2/gwt-material-2.8.2.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-jquery/2.8.2/gwt-material-jquery-2.8.2.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-core/1.0.0-RC1/elemental2-core-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/jsinterop/base/1.0.0-RC1/base-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-promise/1.0.0-RC1/elemental2-promise-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-dom/1.0.0-RC1/elemental2-dom-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-media/1.0.0-RC1/elemental2-media-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-themes/2.8.2/gwt-material-themes-2.8.2.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-addins/2.8.2/gwt-material-addins-2.8.2.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-table/2.8.2/gwt-material-table-2.8.2.jar:/Users/work2/.m2/repository/com/google/gwt/inject/gin/2.1.2/gin-2.1.2.jar:/Users/work2/.m2/repository/com/google/inject/guice/3.0/guice-3.0.jar:/Users/work2/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/Users/work2/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/work2/.m2/repository/com/google/inject/extensions/guice-assistedinject/3.0/guice-assistedinject-3.0.jar:/Users/work2/.m2/repository/com/github/nmorel/gwtjackson/gwt-jackson/0.15.4/gwt-jackson-0.15.4.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.6/jackson-annotations-2.9.6.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.6/jackson-annotations-2.9.6-sources.jar:/Users/work2/.m2/repository/com/squareup/javapoet/1.0.0/javapoet-1.0.0.jar:/Users/work2/.m2/repository/com/ekotrope/gwt-completablefuture/1.0.0/gwt-completablefuture-1.0.0.jar:/Users/work2/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/Users/work2/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/work2/.m2/repository/org/projectlombok/lombok/1.18.30/lombok-1.18.30.jar:/Users/work2/.m2/repository/org/slf4j/slf4j-api/2.0.5/slf4j-api-2.0.5.jar:/Users/work2/.m2/repository/org/slf4j/slf4j-simple/2.0.5/slf4j-simple-2.0.5.jar:/Users/work2/.m2/repository/com/vertispan/shortcut/gwt-shortcut-trapper/1.0.0-alpha-1/gwt-shortcut-trapper-1.0.0-alpha-1.jar:/Users/work2/.m2/repository/org/ektorp/org.ektorp/1.5.0/org.ektorp-1.5.0.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpclient/4.3/httpclient-4.3.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpcore/4.3/httpcore-4.3.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpclient-cache/4.3/httpclient-cache-4.3.jar:/Users/work2/.m2/repository/org/slf4j/jcl-over-slf4j/1.6.4/jcl-over-slf4j-1.6.4.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.6.7/jackson-core-2.6.7.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.6.7/jackson-databind-2.6.7.jar:/Users/work2/.m2/repository/net/sourceforge/findbugs/annotations/1.3.2/annotations-1.3.2.jar:/Users/work2/Documents/GitHub/srr-all6/srr-entity/target/Entity/WEB-INF/classes:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/target/EntityDAO/WEB-INF/classes:/Users/work2/.m2/repository/javax/xml/bind/jaxb-api/2.4.0-b180830.0359/jaxb-api-2.4.0-b180830.0359.jar:/Users/work2/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-am4charts/2.8.2/gwt-material-am4charts-2.8.2.jar:/Users/work2/.m2/repository/org/fusesource/restygwt/restygwt/2.2.7/restygwt-2.2.7.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.6/jackson-databind-2.9.6-sources.jar:/Users/work2/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.1.1/javax.ws.rs-api-2.1.1.jar:/Users/work2/Documents/GitHub/srr-all6/srr-util/target/Util/WEB-INF/classes:/Users/work2/Documents/GitHub/srr-all6/srr-common/target/Commons/WEB-INF/classes:/Users/work2/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/target/Fiscal/WEB-INF/classes:/Users/work2/.m2/repository/org/realityforge/gwt/qr_code/gwt-qr-code/0.03/gwt-qr-code-0.03.jar:/Users/work2/.m2/repository/org/realityforge/braincheck/braincheck/1.9.0/braincheck-1.9.0.jar:/Users/work2/.m2/repository/org/realityforge/javax/annotation/javax.annotation/1.0.0/javax.annotation-1.0.0.jar:/Users/work2/.m2/repository/org/apache/maven/plugins/maven-resources-plugin/3.3.1/maven-resources-plugin-3.3.1.jar:/Users/work2/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.26/plexus-interpolation-1.26.jar:/Users/work2/.m2/repository/org/codehaus/plexus/plexus-utils/3.5.1/plexus-utils-3.5.1.jar:/Users/work2/.m2/repository/org/apache/maven/shared/maven-filtering/3.3.1/maven-filtering-3.3.1.jar:/Users/work2/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.7/plexus-build-api-0.0.7.jar:/Users/work2/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit/2.55.0/htmlunit-2.55.0.jar:/Users/work2/.m2/repository/org/apache/commons/commons-text/1.9/commons-text-1.9.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpmime/4.5.13/httpmime-4.5.13.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/Users/work2/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit-core-js/2.55.0/htmlunit-core-js-2.55.0.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/neko-htmlunit/2.55.0/neko-htmlunit-2.55.0.jar:/Users/work2/.m2/repository/xerces/xercesImpl/2.12.1/xercesImpl-2.12.1.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit-cssparser/1.10.0/htmlunit-cssparser-1.10.0.jar:/Users/work2/.m2/repository/commons-net/commons-net/3.8.0/commons-net-3.8.0.jar:/Users/work2/.m2/repository/org/brotli/dec/0.1.2/dec-0.1.2.jar:/Users/work2/.m2/repository/com/shapesecurity/salvation2/3.0.0/salvation2-3.0.0.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-client/9.4.44.v20210927/websocket-client-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-client/9.4.44.v20210927/jetty-client-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-server/9.4.44.v20210927/jetty-server-9.4.44.v20210927.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar&quot; com.google.gwt.dev.DevMode -superDevMode -war /Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/gwt/srr-shop-manager.cb9c165f/srr-shop-manager.5cafa7fa/run/www -sourceLevel 1.11 -remoteUI 7903:IntelliJIdea -startupUrl index.html com.srr.ShopManager\r\nConnected to the target VM, address: &#39;127.0.0.1:52523&#39;, transport: &#39;socket&#39;\r\nRunning CodeServer with parameters: [-noprecompile, -port, 9876, -sourceLevel, 1.11, -bindAddress, 127.0.0.1, -launcherDir, /Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/gwt/srr-shop-manager.cb9c165f/srr-shop-manager.5cafa7fa/run/www, -logLevel, INFO, -style, OBFUSCATED, com.srr.ShopManager]\r\nSuper Dev Mode starting up\r\n   workDir: /var/folders/vy/s37nw9k51md77vhjhxglhshc0000gp/T/gwt-codeserver-1183486925327792487.tmp\r\n   [WARN] Deactivated PrecompressLinker\r\n[main] INFO org.eclipse.jetty.util.log - Logging initialized @1001ms to org.eclipse.jetty.util.log.Slf4jLog\r\n   Loading Java files in com.srr.ShopManager.\r\n   Ignored 1 unit with compilation errors in first pass.\r\nCompile with -strict or with -logLevel set to TRACE or DEBUG to see all errors.\r\njava.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpURI$Mutable\r\n\tat com.google.gwt.dev.codeserver.WebServer.start(WebServer.java:121)\r\n\tat com.google.gwt.dev.codeserver.CodeServer.start(CodeServer.java:162)\r\n\tat com.google.gwt.dev.codeserver.CodeServer.main(CodeServer.java:104)\r\n\tat com.google.gwt.dev.codeserver.CodeServer.main(CodeServer.java:55)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat com.google.gwt.dev.shell.SuperDevListener.runCodeServer(SuperDevListener.java:112)\r\n\tat com.google.gwt.dev.shell.SuperDevListener.start(SuperDevListener.java:91)\r\n\tat com.google.gwt.dev.DevMode.ensureCodeServerListener(DevMode.java:666)\r\n\tat com.google.gwt.dev.DevModeBase.doStartup(DevModeBase.java:785)\r\n\tat com.google.gwt.dev.DevMode.doStartup(DevMode.java:551)\r\n\tat com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:888)\r\n\tat com.google.gwt.dev.DevModeBase.run(DevModeBase.java:705)\r\n\tat com.google.gwt.dev.DevMode.main(DevMode.java:432)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.http.HttpURI$Mutable\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\r\n\t... 14 more\r\n   Module setup completed in 12547 ms\r\n[ERROR] Error saving compilation unit to cache file: /Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/gwt/srr-shop-manager.cb9c165f/srr-shop-manager.5cafa7fa/run/gwt-unitCache/gwt-unitCache-7b9fbb59f8661539c34f46974ce5fb573aac79fc-18CAE75E829AF224BF18DEE97AC379EF-0000018BCC9F0CF9\r\njava.io.IOException: Stream Closed\r\n\tat java.base/java.io.RandomAccessFile.seek0(Native Method)\r\n\tat java.base/java.io.RandomAccessFile.seek(RandomAccessFile.java:636)\r\n\tat com.google.gwt.dev.util.DiskCache.transferToStream(DiskCache.java:161)\r\n\tat com.google.gwt.dev.util.DiskCacheToken.writeObject(DiskCacheToken.java:73)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1072)\r\n\tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1451)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1194)\r\n\tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1585)\r\n\tat java.base/java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:451)\r\n\tat com.google.gwt.dev.javac.CachedCompilationUnit.writeObject(CachedCompilationUnit.java:230)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1072)\r\n\tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529)\r\n\tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1451)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1194)\r\n\tat java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:358)\r\n\tat com.google.gwt.dev.javac.PersistentUnitCacheDir$OpenFile.writeUnit(PersistentUnitCacheDir.java:373)\r\n\tat com.google.gwt.dev.javac.PersistentUnitCacheDir.writeUnit(PersistentUnitCacheDir.java:194)\r\n\tat com.google.gwt.dev.javac.PersistentUnitCache$BackgroundService$6.run(PersistentUnitCache.java:444)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nDisconnected from the target VM, address: &#39;127.0.0.1:52523&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nI was wondering if you have any experience or insights into using Jetty 11 with GWT. ? (and sorry about my confusion)\r\n\r\n\r\nand GWT versions like\r\n[![Dependencies][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TrHOc.png\r\n  [2]: https://i.stack.imgur.com/Q8sxf.png","title":"GWT Jetty 9 to 11 ? running Java 21 : sun.misc.GC moved : [ERROR] jreLeakPrevention.gcDaemonFail java.lang.ClassNotFoundException","body":"<p>is there any way to run it on jetty 11 ?</p>\n<p><a href=\"https://i.stack.imgur.com/TrHOc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TrHOc.png\" alt=\"enter image description here\" /></a></p>\n<p>Reference <a href=\"https://stackoverflow.com/questions/58773486/jreleakprevention-gcdaemonfail-error-while-running-gwt-application\">jreLeakPrevention.gcDaemonFail Error while running GWT application</a></p>\n<p>(all is running fine on 9.4 only that well known GC message)\nI want to force him to jetty 11\nby adding</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n  &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n  &lt;version&gt;11.0.16&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and i get from LOG</p>\n<pre><code>    /Users/work2/Library/Java/JavaVirtualMachines/openjdk- \n 21.0.1/Contents/Home/bin/java - agentlib:jdwp=transport=dt_socket,address=127.0.0.1:52523,suspend=y,server=n -Dapple.awt.UIElement=true -Xmx8048m -javaagent:/Users/work2/lombok.jar=ECJ --add-opens java.base/java.lang=ALL-UNNAMED -javaagent:/Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/captureAgent/debugger-agent.jar -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;/Users/work2/.m2/repository/org/gwtproject/gwt-codeserver/2.10.0/gwt-codeserver-2.10.0.jar:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/target/generated-sources/gwt:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-addins/2.8.2/gwt-material-addins-2.8.2-sources.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-table/2.8.2/gwt-material-table-2.8.2-sources.jar:/Users/work2/Documents/GitHub/srr-all6/srr-entity/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-entity/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-util/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-util/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-util/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-common/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-common/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-common/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/src/main/java:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/target/generated-sources/annotations:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/target/generated-sources/gwt:/Users/work2/Documents/GitHub/srr-all6/srr-shop-manager/target/ShopManager/WEB-INF/classes:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-server/11.0.16/jetty-server-11.0.16.jar:/Users/work2/.m2/repository/org/eclipse/jetty/toolchain/jetty-jakarta-servlet-api/5.0.2/jetty-jakarta-servlet-api-5.0.2.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-http/9.4.44.v20210927/jetty-http-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-util/9.4.44.v20210927/jetty-util-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-io/9.4.44.v20210927/jetty-io-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/gwtproject/gwt-user/2.10.0/gwt-user-2.10.0.jar:/Users/work2/.m2/repository/com/google/jsinterop/jsinterop-annotations/2.0.0/jsinterop-annotations-2.0.0.jar:/Users/work2/.m2/repository/javax/validation/validation-api/1.0.0.GA/validation-api-1.0.0.GA.jar:/Users/work2/.m2/repository/javax/validation/validation-api/1.0.0.GA/validation-api-1.0.0.GA-sources.jar:/Users/work2/.m2/repository/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/work2/.m2/repository/org/w3c/css/sac/1.3/sac-1.3.jar:/Users/work2/.m2/repository/org/gwtproject/gwt-dev/2.10.0/gwt-dev-2.10.0.jar:/Users/work2/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/Users/work2/.m2/repository/com/google/code/gson/gson/2.6.2/gson-2.6.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-util/9.2/asm-util-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar:/Users/work2/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar:/Users/work2/.m2/repository/colt/colt/1.2.0/colt-1.2.0.jar:/Users/work2/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/work2/.m2/repository/commons-io/commons-io/2.4/commons-io-2.4.jar:/Users/work2/.m2/repository/com/ibm/icu/icu4j/63.1/icu4j-63.1.jar:/Users/work2/.m2/repository/tapestry/tapestry/4.0.2/tapestry-4.0.2.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit/2.19/htmlunit-2.19.jar:/Users/work2/.m2/repository/xalan/xalan/2.7.2/xalan-2.7.2.jar:/Users/work2/.m2/repository/xalan/serializer/2.7.2/serializer-2.7.2.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpmime/4.5.1/httpmime-4.5.1.jar:/Users/work2/.m2/repository/commons-codec/commons-codec/1.10/commons-codec-1.10.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit-core-js/2.17/htmlunit-core-js-2.17.jar:/Users/work2/.m2/repository/xerces/xercesImpl/2.11.0/xercesImpl-2.11.0.jar:/Users/work2/.m2/repository/xml-apis/xml-apis/1.4.01/xml-apis-1.4.01.jar:/Users/work2/.m2/repository/net/sourceforge/nekohtml/nekohtml/1.9.22/nekohtml-1.9.22.jar:/Users/work2/.m2/repository/net/sourceforge/cssparser/cssparser/0.9.18/cssparser-0.9.18.jar:/Users/work2/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-client/9.2.13.v20150730/websocket-client-9.2.13.v20150730.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-common/9.4.44.v20210927/websocket-common-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-api/9.4.44.v20210927/websocket-api-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-webapp/9.4.44.v20210927/jetty-webapp-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-xml/9.4.44.v20210927/jetty-xml-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-servlet/9.4.44.v20210927/jetty-servlet-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-security/9.4.44.v20210927/jetty-security-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-util-ajax/9.4.44.v20210927/jetty-util-ajax-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-servlets/9.4.44.v20210927/jetty-servlets-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-continuation/9.4.44.v20210927/jetty-continuation-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-annotations/9.4.44.v20210927/jetty-annotations-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-plus/9.4.44.v20210927/jetty-plus-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-jndi/9.4.44.v20210927/jetty-jndi-9.4.44.v20210927.jar:/Users/work2/.m2/repository/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/Users/work2/.m2/repository/org/eclipse/jetty/apache-jsp/9.4.44.v20210927/apache-jsp-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/toolchain/jetty-schemas/3.1.2/jetty-schemas-3.1.2.jar:/Users/work2/.m2/repository/org/mortbay/jasper/apache-jsp/8.5.70/apache-jsp-8.5.70.jar:/Users/work2/.m2/repository/org/mortbay/jasper/apache-el/8.5.70/apache-el-8.5.70.jar:/Users/work2/.m2/repository/org/eclipse/jdt/ecj/3.19.0/ecj-3.19.0.jar:/Users/work2/.m2/repository/com/gwtplatform/gwtp-mvp-client/1.6/gwtp-mvp-client-1.6.jar:/Users/work2/.m2/repository/com/gwtplatform/gwtp-clients-common/1.6/gwtp-clients-common-1.6.jar:/Users/work2/.m2/repository/com/gwtplatform/gwtp-mvp-shared/1.6/gwtp-mvp-shared-1.6.jar:/Users/work2/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar:/Users/work2/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material/2.8.2/gwt-material-2.8.2.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-jquery/2.8.2/gwt-material-jquery-2.8.2.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-core/1.0.0-RC1/elemental2-core-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/jsinterop/base/1.0.0-RC1/base-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-promise/1.0.0-RC1/elemental2-promise-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-dom/1.0.0-RC1/elemental2-dom-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/google/elemental2/elemental2-media/1.0.0-RC1/elemental2-media-1.0.0-RC1.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-themes/2.8.2/gwt-material-themes-2.8.2.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-addins/2.8.2/gwt-material-addins-2.8.2.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-table/2.8.2/gwt-material-table-2.8.2.jar:/Users/work2/.m2/repository/com/google/gwt/inject/gin/2.1.2/gin-2.1.2.jar:/Users/work2/.m2/repository/com/google/inject/guice/3.0/guice-3.0.jar:/Users/work2/.m2/repository/javax/inject/javax.inject/1/javax.inject-1.jar:/Users/work2/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/work2/.m2/repository/com/google/inject/extensions/guice-assistedinject/3.0/guice-assistedinject-3.0.jar:/Users/work2/.m2/repository/com/github/nmorel/gwtjackson/gwt-jackson/0.15.4/gwt-jackson-0.15.4.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.6/jackson-annotations-2.9.6.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.9.6/jackson-annotations-2.9.6-sources.jar:/Users/work2/.m2/repository/com/squareup/javapoet/1.0.0/javapoet-1.0.0.jar:/Users/work2/.m2/repository/com/ekotrope/gwt-completablefuture/1.0.0/gwt-completablefuture-1.0.0.jar:/Users/work2/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/Users/work2/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/work2/.m2/repository/org/projectlombok/lombok/1.18.30/lombok-1.18.30.jar:/Users/work2/.m2/repository/org/slf4j/slf4j-api/2.0.5/slf4j-api-2.0.5.jar:/Users/work2/.m2/repository/org/slf4j/slf4j-simple/2.0.5/slf4j-simple-2.0.5.jar:/Users/work2/.m2/repository/com/vertispan/shortcut/gwt-shortcut-trapper/1.0.0-alpha-1/gwt-shortcut-trapper-1.0.0-alpha-1.jar:/Users/work2/.m2/repository/org/ektorp/org.ektorp/1.5.0/org.ektorp-1.5.0.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpclient/4.3/httpclient-4.3.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpcore/4.3/httpcore-4.3.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpclient-cache/4.3/httpclient-cache-4.3.jar:/Users/work2/.m2/repository/org/slf4j/jcl-over-slf4j/1.6.4/jcl-over-slf4j-1.6.4.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.6.7/jackson-core-2.6.7.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.6.7/jackson-databind-2.6.7.jar:/Users/work2/.m2/repository/net/sourceforge/findbugs/annotations/1.3.2/annotations-1.3.2.jar:/Users/work2/Documents/GitHub/srr-all6/srr-entity/target/Entity/WEB-INF/classes:/Users/work2/Documents/GitHub/srr-all6/srr-entity-dao/target/EntityDAO/WEB-INF/classes:/Users/work2/.m2/repository/javax/xml/bind/jaxb-api/2.4.0-b180830.0359/jaxb-api-2.4.0-b180830.0359.jar:/Users/work2/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:/Users/work2/.m2/repository/com/github/gwtmaterialdesign/gwt-material-am4charts/2.8.2/gwt-material-am4charts-2.8.2.jar:/Users/work2/.m2/repository/org/fusesource/restygwt/restygwt/2.2.7/restygwt-2.2.7.jar:/Users/work2/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.9.6/jackson-databind-2.9.6-sources.jar:/Users/work2/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.1.1/javax.ws.rs-api-2.1.1.jar:/Users/work2/Documents/GitHub/srr-all6/srr-util/target/Util/WEB-INF/classes:/Users/work2/Documents/GitHub/srr-all6/srr-common/target/Commons/WEB-INF/classes:/Users/work2/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar:/Users/work2/Documents/GitHub/srr-all6/srr-fiscal/target/Fiscal/WEB-INF/classes:/Users/work2/.m2/repository/org/realityforge/gwt/qr_code/gwt-qr-code/0.03/gwt-qr-code-0.03.jar:/Users/work2/.m2/repository/org/realityforge/braincheck/braincheck/1.9.0/braincheck-1.9.0.jar:/Users/work2/.m2/repository/org/realityforge/javax/annotation/javax.annotation/1.0.0/javax.annotation-1.0.0.jar:/Users/work2/.m2/repository/org/apache/maven/plugins/maven-resources-plugin/3.3.1/maven-resources-plugin-3.3.1.jar:/Users/work2/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.26/plexus-interpolation-1.26.jar:/Users/work2/.m2/repository/org/codehaus/plexus/plexus-utils/3.5.1/plexus-utils-3.5.1.jar:/Users/work2/.m2/repository/org/apache/maven/shared/maven-filtering/3.3.1/maven-filtering-3.3.1.jar:/Users/work2/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.7/plexus-build-api-0.0.7.jar:/Users/work2/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit/2.55.0/htmlunit-2.55.0.jar:/Users/work2/.m2/repository/org/apache/commons/commons-text/1.9/commons-text-1.9.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpmime/4.5.13/httpmime-4.5.13.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpclient/4.5.13/httpclient-4.5.13.jar:/Users/work2/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/Users/work2/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit-core-js/2.55.0/htmlunit-core-js-2.55.0.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/neko-htmlunit/2.55.0/neko-htmlunit-2.55.0.jar:/Users/work2/.m2/repository/xerces/xercesImpl/2.12.1/xercesImpl-2.12.1.jar:/Users/work2/.m2/repository/net/sourceforge/htmlunit/htmlunit-cssparser/1.10.0/htmlunit-cssparser-1.10.0.jar:/Users/work2/.m2/repository/commons-net/commons-net/3.8.0/commons-net-3.8.0.jar:/Users/work2/.m2/repository/org/brotli/dec/0.1.2/dec-0.1.2.jar:/Users/work2/.m2/repository/com/shapesecurity/salvation2/3.0.0/salvation2-3.0.0.jar:/Users/work2/.m2/repository/org/eclipse/jetty/websocket/websocket-client/9.4.44.v20210927/websocket-client-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-client/9.4.44.v20210927/jetty-client-9.4.44.v20210927.jar:/Users/work2/.m2/repository/org/eclipse/jetty/jetty-server/9.4.44.v20210927/jetty-server-9.4.44.v20210927.jar:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar&quot; com.google.gwt.dev.DevMode -superDevMode -war /Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/gwt/srr-shop-manager.cb9c165f/srr-shop-manager.5cafa7fa/run/www -sourceLevel 1.11 -remoteUI 7903:IntelliJIdea -startupUrl index.html com.srr.ShopManager\nConnected to the target VM, address: '127.0.0.1:52523', transport: 'socket'\nRunning CodeServer with parameters: [-noprecompile, -port, 9876, -sourceLevel, 1.11, -bindAddress, 127.0.0.1, -launcherDir, /Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/gwt/srr-shop-manager.cb9c165f/srr-shop-manager.5cafa7fa/run/www, -logLevel, INFO, -style, OBFUSCATED, com.srr.ShopManager]\nSuper Dev Mode starting up\n   workDir: /var/folders/vy/s37nw9k51md77vhjhxglhshc0000gp/T/gwt-codeserver-1183486925327792487.tmp\n   [WARN] Deactivated PrecompressLinker\n[main] INFO org.eclipse.jetty.util.log - Logging initialized @1001ms to org.eclipse.jetty.util.log.Slf4jLog\n   Loading Java files in com.srr.ShopManager.\n   Ignored 1 unit with compilation errors in first pass.\nCompile with -strict or with -logLevel set to TRACE or DEBUG to see all errors.\njava.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpURI$Mutable\n    at com.google.gwt.dev.codeserver.WebServer.start(WebServer.java:121)\n    at com.google.gwt.dev.codeserver.CodeServer.start(CodeServer.java:162)\n    at com.google.gwt.dev.codeserver.CodeServer.main(CodeServer.java:104)\n    at com.google.gwt.dev.codeserver.CodeServer.main(CodeServer.java:55)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at com.google.gwt.dev.shell.SuperDevListener.runCodeServer(SuperDevListener.java:112)\n    at com.google.gwt.dev.shell.SuperDevListener.start(SuperDevListener.java:91)\n    at com.google.gwt.dev.DevMode.ensureCodeServerListener(DevMode.java:666)\n    at com.google.gwt.dev.DevModeBase.doStartup(DevModeBase.java:785)\n    at com.google.gwt.dev.DevMode.doStartup(DevMode.java:551)\n    at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:888)\n    at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:705)\n    at com.google.gwt.dev.DevMode.main(DevMode.java:432)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.http.HttpURI$Mutable\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    ... 14 more\n   Module setup completed in 12547 ms\n[ERROR] Error saving compilation unit to cache file: /Users/work2/Library/Caches/JetBrains/IntelliJIdea2023.2/gwt/srr-shop-manager.cb9c165f/srr-shop-manager.5cafa7fa/run/gwt-unitCache/gwt-unitCache-7b9fbb59f8661539c34f46974ce5fb573aac79fc-18CAE75E829AF224BF18DEE97AC379EF-0000018BCC9F0CF9\njava.io.IOException: Stream Closed\n    at java.base/java.io.RandomAccessFile.seek0(Native Method)\n    at java.base/java.io.RandomAccessFile.seek(RandomAccessFile.java:636)\n    at com.google.gwt.dev.util.DiskCache.transferToStream(DiskCache.java:161)\n    at com.google.gwt.dev.util.DiskCacheToken.writeObject(DiskCacheToken.java:73)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1072)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1451)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1194)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1585)\n    at java.base/java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:451)\n    at com.google.gwt.dev.javac.CachedCompilationUnit.writeObject(CachedCompilationUnit.java:230)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at java.base/java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1072)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1529)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1451)\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1194)\n    at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:358)\n    at com.google.gwt.dev.javac.PersistentUnitCacheDir$OpenFile.writeUnit(PersistentUnitCacheDir.java:373)\n    at com.google.gwt.dev.javac.PersistentUnitCacheDir.writeUnit(PersistentUnitCacheDir.java:194)\n    at com.google.gwt.dev.javac.PersistentUnitCache$BackgroundService$6.run(PersistentUnitCache.java:444)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nDisconnected from the target VM, address: '127.0.0.1:52523', transport: 'socket'\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>I was wondering if you have any experience or insights into using Jetty 11 with GWT. ? (and sorry about my confusion)</p>\n<p>and GWT versions like\n<a href=\"https://i.stack.imgur.com/Q8sxf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q8sxf.png\" alt=\"Dependencies\" /></a></p>\n"},{"tags":["java","class","nested","processing","instantiation"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700238897,"post_id":77503172,"comment_id":136633809,"body_markdown":"Please provide a [mre] that is consistent with the question you&#39;re asking. Static classes can only exist nested in other classes, yet the `Functions` class you show is not nested in another class. Also the error you show and the code you mention call an `ellipse` method, yet none of the code you show _defines_ that method.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that is consistent with the question you&#39;re asking. Static classes can only exist nested in other classes, yet the <code>Functions</code> class you show is not nested in another class. Also the error you show and the code you mention call an <code>ellipse</code> method, yet none of the code you show <i>defines</i> that method."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700238974,"post_id":77503172,"comment_id":136633822,"body_markdown":"Also, how is the title relevant to your question?","body":"Also, how is the title relevant to your question?"},{"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"score":0,"creation_date":1700241391,"post_id":77503172,"comment_id":136634308,"body_markdown":"The ellipse method is part of Processings API. I believe every class in Processing is inside the PApplet class but I havent been able to find clear info about this. Also the title got messed up somehow. Thats NOT what the title was when I reviewed my question","body":"The ellipse method is part of Processings API. I believe every class in Processing is inside the PApplet class but I havent been able to find clear info about this. Also the title got messed up somehow. Thats NOT what the title was when I reviewed my question"},{"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"score":0,"creation_date":1700242497,"post_id":77503172,"comment_id":136634519,"body_markdown":"I believe the Functions class inherits from the PApplet class. Processing tries to make things simple for you, but sometimes makes it more complicated because it hides how the classes are structured","body":"I believe the Functions class inherits from the PApplet class. Processing tries to make things simple for you, but sometimes makes it more complicated because it hides how the classes are structured"},{"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"score":0,"creation_date":1700244547,"post_id":77503172,"comment_id":136634857,"body_markdown":"@MarkRotteveel I spent an hour trying to figure out how to word my question in a way that makes sense, leaving every bit of code you&#39;d need to figure out the problem without making it complicated. I also searched Google for the answer for over two hours today and I explained what I found and why the answers in those posts did not answer my question. I can add more to this if you like but I thought it would only make it more complicated","body":"@MarkRotteveel I spent an hour trying to figure out how to word my question in a way that makes sense, leaving every bit of code you&#39;d need to figure out the problem without making it complicated. I also searched Google for the answer for over two hours today and I explained what I found and why the answers in those posts did not answer my question. I can add more to this if you like but I thought it would only make it more complicated"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700245776,"post_id":77503172,"comment_id":136635035,"body_markdown":"the `Datum` class must be `static`; the `drawDatum` method moved (and adapted) to somewhere else, e.g. main program - Otherwise the *functions* must receive an additional parameter: a `Supplier` or similar that can create a `Datum` || thinking a bit more, why not have the functions on `Datum` itself? (*kind of inconsistent* to have `drawDatum` on it, but other operation somewhere else)","body":"the <code>Datum</code> class must be <code>static</code>; the <code>drawDatum</code> method moved (and adapted) to somewhere else, e.g. main program - Otherwise the <i>functions</i> must receive an additional parameter: a <code>Supplier</code> or similar that can create a <code>Datum</code> || thinking a bit more, why not have the functions on <code>Datum</code> itself? (<i>kind of inconsistent</i> to have <code>drawDatum</code> on it, but other operation somewhere else)"},{"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"score":0,"creation_date":1700246835,"post_id":77503172,"comment_id":136635191,"body_markdown":"@user85421 I just added a method inside the Datum class that returns a new Datum. I may not do everything correctly, but I try my best to learn and improve. I watch the Coding Train on youtube and he always adds a `show()` method inside classes so he can easily just call the method and the drawing is done behind the scenes.","body":"@user85421 I just added a method inside the Datum class that returns a new Datum. I may not do everything correctly, but I try my best to learn and improve. I watch the Coding Train on youtube and he always adds a <code>show()</code> method inside classes so he can easily just call the method and the drawing is done behind the scenes."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700247718,"post_id":77503172,"comment_id":136635307,"body_markdown":"but I would still prefer having `crossProduct` and similar declared on `Datum` itself... I also do not like a data class like `Datum` knowing about the main program; maybe change the draw method to receive the `GeometryView` instance (like is done with Java Swing) || (( and I do not thrust most **video** tutorials about programing ))","body":"but I would still prefer having <code>crossProduct</code> and similar declared on <code>Datum</code> itself... I also do not like a data class like <code>Datum</code> knowing about the main program; maybe change the draw method to receive the <code>GeometryView</code> instance (like is done with Java Swing) || (( and I do not thrust most <b>video</b> tutorials about programing ))"},{"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"score":0,"creation_date":1700247819,"post_id":77503172,"comment_id":136635322,"body_markdown":"@user85421 Thanks! I will implement that. Not sure why I didn&#39;t think about that.","body":"@user85421 Thanks! I will implement that. Not sure why I didn&#39;t think about that."},{"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"score":0,"creation_date":1700248338,"post_id":77503172,"comment_id":136635374,"body_markdown":"@user85421 I&#39;m willing to learn whatever I can. How would I keep the data class separate? what implications does it have to leave it the way it is? What is the data type of the `GeometryView` instance for passing it into my method?","body":"@user85421 I&#39;m willing to learn whatever I can. How would I keep the data class separate? what implications does it have to leave it the way it is? What is the data type of the <code>GeometryView</code> instance for passing it into my method?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700248543,"post_id":77503172,"comment_id":136635403,"body_markdown":"sorry, I do not know Processing - I am here only because the question is marked with the [tag:java] tag. I thought, from your question, that `GeometryView` is the (type of) the main program... but if it &quot;extends the PApplet&quot;, maybe you can use `PApplet` (if it has the drawing methods)","body":"sorry, I do not know Processing - I am here only because the question is marked with the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag. I thought, from your question, that <code>GeometryView</code> is the (type of) the main program... but if it &quot;extends the PApplet&quot;, maybe you can use <code>PApplet</code> (if it has the drawing methods)"}],"answers":[{"comments":[{"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"score":0,"creation_date":1700246334,"post_id":77503333,"comment_id":136635121,"body_markdown":"Perfect answer! I do have one more question. another part of my code needs something similar. I created a reference using:  `GeometryView gv = new GeometryView();` Does that create a copy of my program in memory or just a reference to it?","body":"Perfect answer! I do have one more question. another part of my code needs something similar. I created a reference using:  <code>GeometryView gv = new GeometryView();</code> Does that create a copy of my program in memory or just a reference to it?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1700273627,"post_id":77503333,"comment_id":136637985,"body_markdown":"You don&#39;t want a _new_ view. `new`, as the word suggests, always creates a new reference. That&#39;s not a full copy, (only a block of memory to contain the values of the fields, you don&#39;t make copies of code with that, that&#39;d be pointless, think about it) but, still not what you want (it gets a fresh version of all fields). `GeometryView gv = new GeometryView()` just isn&#39;t the answer. Each non-static class has a GV ref (`GeometryView gv = GeometryView.this;` will get you that in a variable you can then pass around).","body":"You don&#39;t want a <i>new</i> view. <code>new</code>, as the word suggests, always creates a new reference. That&#39;s not a full copy, (only a block of memory to contain the values of the fields, you don&#39;t make copies of code with that, that&#39;d be pointless, think about it) but, still not what you want (it gets a fresh version of all fields). <code>GeometryView gv = new GeometryView()</code> just isn&#39;t the answer. Each non-static class has a GV ref (<code>GeometryView gv = GeometryView.this;</code> will get you that in a variable you can then pass around)."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700239625,"creation_date":1700239625,"answer_id":77503333,"question_id":77503172,"body_markdown":"You can call `expressionOfTypeGeometryView.new Datum()` to get rid of that error, but opens a new question: How do you get _that_. Well, Datum instances have such a reference - non-static inner classes have a secret hidden field of its outer type (and there IS an outer type here, but processing is hiding, that too - there&#39;s a lot of voodoo magic going on here which makes this unfortunately a bit complicated).\r\n\r\nTo end up with code that isn&#39;t an utter disaster to read, though, I suggest this alternative take. Add to your Datum class:\r\n\r\n```\r\npublic Datum newDatum(int x, int y) {\r\n  return new Datum(x, y);\r\n}\r\n```\r\n\r\nThis does work because Datum does have that hidden field - it can therefore make new Datum objects &#39;out of the box&#39; without needing the weird `expr.new Datum` syntax. It means you need an instance of Datum to make new Datum objects - but you do have an instance.\r\n\r\nAlternatively, for even nicer API, try:\r\n\r\n```\r\npublic Datum subtract(Datum other) {\r\n  return new Datum(x - other.x, y - other.y);\r\n}\r\n```\r\n\r\nand replace `Datum ab = new Datum(b.x - a.x, b.y - a.y);` in your code with `Datum ab = b.subtract(a);` which strikes me as just more readable in general - the code now describes intent better.\r\n","title":"How can I instantiate an object within a static class without creating an instance of the main class in Processing","body":"<p>You can call <code>expressionOfTypeGeometryView.new Datum()</code> to get rid of that error, but opens a new question: How do you get <em>that</em>. Well, Datum instances have such a reference - non-static inner classes have a secret hidden field of its outer type (and there IS an outer type here, but processing is hiding, that too - there's a lot of voodoo magic going on here which makes this unfortunately a bit complicated).</p>\n<p>To end up with code that isn't an utter disaster to read, though, I suggest this alternative take. Add to your Datum class:</p>\n<pre><code>public Datum newDatum(int x, int y) {\n  return new Datum(x, y);\n}\n</code></pre>\n<p>This does work because Datum does have that hidden field - it can therefore make new Datum objects 'out of the box' without needing the weird <code>expr.new Datum</code> syntax. It means you need an instance of Datum to make new Datum objects - but you do have an instance.</p>\n<p>Alternatively, for even nicer API, try:</p>\n<pre><code>public Datum subtract(Datum other) {\n  return new Datum(x - other.x, y - other.y);\n}\n</code></pre>\n<p>and replace <code>Datum ab = new Datum(b.x - a.x, b.y - a.y);</code> in your code with <code>Datum ab = b.subtract(a);</code> which strikes me as just more readable in general - the code now describes intent better.</p>\n"}],"owner":{"account_id":15152640,"reputation":39,"user_id":13133485,"display_name":"Andrew Cline"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700241677,"accepted_answer_id":77503333,"answer_count":1,"score":-1,"last_activity_date":1700248085,"creation_date":1700238340,"question_id":77503172,"body_markdown":"I am writing a program in Java (Processing 4).\r\n\r\nProcessing hides some stuff in the background which makes this more complicated. The main program &quot;GeometryView&quot; extends the PApplet class and has the usual functions. (This is the first tab that is created when creating a project in Processing)\r\n```\r\nArrayList&lt;Datum&gt; datums = new ArrayList&lt;Datum&gt;();\r\n\r\nvoid setup(){\r\n  size(1400, 900);\r\n  surface.setResizable(true);\r\n  //fullScreen();\r\n  frameRate(120);\r\n  datums.add(new Datum(0,0));\r\n  datums.add(new Datum(1,2));\r\n  datums.add(new Datum(3,4));\r\n}\r\n\r\nvoid draw() {\r\n  background(30);\r\n  stroke(220);\r\n  if(Functions.convex(datums.get(0),datums.get(1),datums.get(2))){\r\n    println(&quot;These points are part of a convex corner of geometry&quot;);\r\n  }\r\n}\r\n  \r\n```\r\n\r\nI have a class that I use to hold X and Y values named &quot;Datum&quot;. This is a separate tab in Processing.\r\n```\r\nclass Datum {\r\n  float x;\r\n  float y;\r\n  \r\n  Datum(float x, float y){\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  void drawDatum(int size){\r\n    //print(&quot;X = &quot; + this.x + &quot;, Y = &quot; + this.y);\r\n    ellipse(this.x, -this.y, size, size);\r\n  }\r\n  \r\n  Datum clone(){\r\n    return new Datum(x,y);\r\n  }\r\n  \r\n}\r\n```\r\n\r\nUnder a separate tab &quot;Functions&quot;, I have a static class I use to hold different functions. This is to simplify the main parts of the program because I can call these functions without having to instantiate the class. (This may not be the correct way to do this, but it works for now. I just have to call &quot;Functions.funcName();&quot; This may also be a clue as to what my issue is)\r\n```\r\nstatic class Functions{\r\n //...\r\n //other functions\r\n //...\r\n\r\n  static float crossproduct(Datum a, Datum b) {\r\n    return a.x * b.y - a.y * b.x;\r\n  }\r\n\r\n  static boolean convex(Datum a, Datum b, Datum c) {\r\n    Datum ab = new Datum(b.x - a.x, b.y - a.y); // Error here on &quot;new Datum(x,y)&quot;\r\n    Datum bc = new Datum(c.x - b.x, c.y - b.y);\r\n  \r\n    return crossproduct(ab, bc) &gt; 0;\r\n  }\r\n}\r\n```\r\nOn the line with \r\n```\r\nDatum ab = new Datum(b.x - a.x, b.y - a.y);\r\n```\r\nI am getting an error that says\r\n&gt;&quot;No enclosing instance of type GeometryView is accessible. Must qualify the allocation with an enclosing instance of type GeometryView.&quot; (GeometryView is the name of the main class and project).\r\n\r\nI read some other posts that mentioned making the Datum class static, but then I can&#39;t access the built-in Processing functions like ellipse() and I get this error.\r\n&gt;&quot;Cannot make a static reference to the non-static method ellipse(float, float, float, float) from the type PApplet&quot;\r\n\r\n```\r\nvoid drawDatum(int size){\r\n    //print(&quot;X = &quot; + this.x + &quot;, Y = &quot; + this.y);\r\n    ellipse(this.x, -this.y, size, size); // &lt;---- Error is here\r\n  }\r\n```\r\n\r\nAnother solution was to create another instance of the main class to access the Datum class. Maybe that would work, but seems like it could be a performance issue to instantiate the entire program again just to access a simple class.\r\n\r\nHow can I use &quot;new Datum(x,y)&quot; inside my Functions class without breaking other parts of my program? Will creating a reference to my main class potentially cause memory issues or is it just creating a reference?","title":"How can I instantiate an object within a static class without creating an instance of the main class in Processing","body":"<p>I am writing a program in Java (Processing 4).</p>\n<p>Processing hides some stuff in the background which makes this more complicated. The main program &quot;GeometryView&quot; extends the PApplet class and has the usual functions. (This is the first tab that is created when creating a project in Processing)</p>\n<pre><code>ArrayList&lt;Datum&gt; datums = new ArrayList&lt;Datum&gt;();\n\nvoid setup(){\n  size(1400, 900);\n  surface.setResizable(true);\n  //fullScreen();\n  frameRate(120);\n  datums.add(new Datum(0,0));\n  datums.add(new Datum(1,2));\n  datums.add(new Datum(3,4));\n}\n\nvoid draw() {\n  background(30);\n  stroke(220);\n  if(Functions.convex(datums.get(0),datums.get(1),datums.get(2))){\n    println(&quot;These points are part of a convex corner of geometry&quot;);\n  }\n}\n  \n</code></pre>\n<p>I have a class that I use to hold X and Y values named &quot;Datum&quot;. This is a separate tab in Processing.</p>\n<pre><code>class Datum {\n  float x;\n  float y;\n  \n  Datum(float x, float y){\n    this.x = x;\n    this.y = y;\n  }\n\n  void drawDatum(int size){\n    //print(&quot;X = &quot; + this.x + &quot;, Y = &quot; + this.y);\n    ellipse(this.x, -this.y, size, size);\n  }\n  \n  Datum clone(){\n    return new Datum(x,y);\n  }\n  \n}\n</code></pre>\n<p>Under a separate tab &quot;Functions&quot;, I have a static class I use to hold different functions. This is to simplify the main parts of the program because I can call these functions without having to instantiate the class. (This may not be the correct way to do this, but it works for now. I just have to call &quot;Functions.funcName();&quot; This may also be a clue as to what my issue is)</p>\n<pre><code>static class Functions{\n //...\n //other functions\n //...\n\n  static float crossproduct(Datum a, Datum b) {\n    return a.x * b.y - a.y * b.x;\n  }\n\n  static boolean convex(Datum a, Datum b, Datum c) {\n    Datum ab = new Datum(b.x - a.x, b.y - a.y); // Error here on &quot;new Datum(x,y)&quot;\n    Datum bc = new Datum(c.x - b.x, c.y - b.y);\n  \n    return crossproduct(ab, bc) &gt; 0;\n  }\n}\n</code></pre>\n<p>On the line with</p>\n<pre><code>Datum ab = new Datum(b.x - a.x, b.y - a.y);\n</code></pre>\n<p>I am getting an error that says</p>\n<blockquote>\n<p>&quot;No enclosing instance of type GeometryView is accessible. Must qualify the allocation with an enclosing instance of type GeometryView.&quot; (GeometryView is the name of the main class and project).</p>\n</blockquote>\n<p>I read some other posts that mentioned making the Datum class static, but then I can't access the built-in Processing functions like ellipse() and I get this error.</p>\n<blockquote>\n<p>&quot;Cannot make a static reference to the non-static method ellipse(float, float, float, float) from the type PApplet&quot;</p>\n</blockquote>\n<pre><code>void drawDatum(int size){\n    //print(&quot;X = &quot; + this.x + &quot;, Y = &quot; + this.y);\n    ellipse(this.x, -this.y, size, size); // &lt;---- Error is here\n  }\n</code></pre>\n<p>Another solution was to create another instance of the main class to access the Datum class. Maybe that would work, but seems like it could be a performance issue to instantiate the entire program again just to access a simple class.</p>\n<p>How can I use &quot;new Datum(x,y)&quot; inside my Functions class without breaking other parts of my program? Will creating a reference to my main class potentially cause memory issues or is it just creating a reference?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1528789211,"post_id":50809116,"comment_id":88628728,"body_markdown":"You need an `ApplicationContextInitializer` to add property sources to the environment. Your attempt is futile as it will be added too late and thus not taken into account for the `@ConditionalOnProperty`. I would also suggest that instead of rolling your own to use [Spring Cloud Config Consul](https://github.com/spring-cloud/spring-cloud-consul) which does this already for you.","body":"You need an <code>ApplicationContextInitializer</code> to add property sources to the environment. Your attempt is futile as it will be added too late and thus not taken into account for the <code>@ConditionalOnProperty</code>. I would also suggest that instead of rolling your own to use <a href=\"https://github.com/spring-cloud/spring-cloud-consul\" rel=\"nofollow noreferrer\">Spring Cloud Config Consul</a> which does this already for you."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":0,"creation_date":1528821116,"post_id":50809116,"comment_id":88648873,"body_markdown":"@M.Deinum as I mentioned, this is legacy code. I made a simple description to explain the question. If only I could use spring cloud config consul, all problem is solved for me. but unfortunately I cannot. can you give a hint on how can I leverage `ApplicationContextInitializer` to add properties. Thanks!!","body":"@M.Deinum as I mentioned, this is legacy code. I made a simple description to explain the question. If only I could use spring cloud config consul, all problem is solved for me. but unfortunately I cannot. can you give a hint on how can I leverage <code>ApplicationContextInitializer</code> to add properties. Thanks!!"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1528868167,"post_id":50809116,"comment_id":88663622,"body_markdown":"Not sure what the fact that something is legacy (already existing in my world) would prevent you from adding an additional dependency. Implement the `ApplicationCOntextInitializer` and create a property source instance that loads the properties from consul and add it to the environment.","body":"Not sure what the fact that something is legacy (already existing in my world) would prevent you from adding an additional dependency. Implement the <code>ApplicationCOntextInitializer</code> and create a property source instance that loads the properties from consul and add it to the environment."},{"owner":{"account_id":16078449,"reputation":1,"user_id":11605073,"display_name":"Jazhandis"},"score":0,"creation_date":1559750589,"post_id":50809116,"comment_id":99519906,"body_markdown":"Might be the same as this: https://stackoverflow.com/questions/53297465/spring-conditionalonproperty-annotation-not-working-as-expected","body":"Might be the same as this: <a href=\"https://stackoverflow.com/questions/53297465/spring-conditionalonproperty-annotation-not-working-as-expected\" title=\"spring conditionalonproperty annotation not working as expected\">stackoverflow.com/questions/53297465/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5562424,"reputation":1023,"user_id":4411047,"display_name":"Roland Roos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649604624,"creation_date":1649604142,"answer_id":71817984,"question_id":50809116,"body_markdown":"This did the work for me (Kotlin, but Java works exactly the same)\r\n\r\n    @Configuration\r\n    class ConditionalBeanConfig {\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(name=[&quot;modbus.modbushelper&quot;], havingValue=&quot;simulate&quot;)\r\n    fun conditionalModBusHelper(): ModBusApi {\r\n       return  ModBusSimulatorImpl()\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(name=[&quot;modbus.modbushelper&quot;],     \r\n    havingValue=&quot;normal&quot;,matchIfMissing = true)\r\n    fun conditionalModBus(): ModBusApi {\r\n       var modBusImpl:ModBusApi =  ModBusHelperImpl(Helper())\r\n        return modBusImpl\r\n    }\r\n\r\n    }\r\n\r\n    interface ModBusApi {\r\n\r\n        fun getModbusRegisterValue(startingAddress: Int, quantity: Int): String?\r\n\r\n        fun setModbusSingleRegisterValue(startingAddress: Int, value: Int)\r\n\r\n    }  \r\n  \r\n    class ModBusSimulatorImpl : ModBusApi {\r\n\r\n     override fun getModbusRegisterValue(startingAddress: Int, quantity: Int): String? \r\n    \r\n       ...\r\n\r\n    override fun setModbusSingleRegisterValue(startingAddress: Int, value: Int){\r\n      \r\n    ....\r\n\r\nin combi with application.properties:\r\n\r\n    #simulate, normal\r\n    modbus.modbushelper=simulate\r\n\r\n\r\nMake sure, you have, like always, your packaging in good health:\r\n\r\n-Application starts with rootpackage.App\r\n\r\n-All your objects/modules start with rootpackage.....\r\n\r\nSpring CDI @ComponentScan is is very picky on that, and follows security Java conventions. If you dont, you can experience wide variety of CDI problems.","title":"@ConditionalOnProperty annotation not working in spring boot project","body":"<p>This did the work for me (Kotlin, but Java works exactly the same)</p>\n<pre><code>@Configuration\nclass ConditionalBeanConfig {\n\n@Bean\n@ConditionalOnProperty(name=[&quot;modbus.modbushelper&quot;], havingValue=&quot;simulate&quot;)\nfun conditionalModBusHelper(): ModBusApi {\n   return  ModBusSimulatorImpl()\n}\n\n@Bean\n@ConditionalOnProperty(name=[&quot;modbus.modbushelper&quot;],     \nhavingValue=&quot;normal&quot;,matchIfMissing = true)\nfun conditionalModBus(): ModBusApi {\n   var modBusImpl:ModBusApi =  ModBusHelperImpl(Helper())\n    return modBusImpl\n}\n\n}\n\ninterface ModBusApi {\n\n    fun getModbusRegisterValue(startingAddress: Int, quantity: Int): String?\n\n    fun setModbusSingleRegisterValue(startingAddress: Int, value: Int)\n\n}  \n\nclass ModBusSimulatorImpl : ModBusApi {\n\n override fun getModbusRegisterValue(startingAddress: Int, quantity: Int): String? \n\n   ...\n\noverride fun setModbusSingleRegisterValue(startingAddress: Int, value: Int){\n  \n....\n</code></pre>\n<p>in combi with application.properties:</p>\n<pre><code>#simulate, normal\nmodbus.modbushelper=simulate\n</code></pre>\n<p>Make sure, you have, like always, your packaging in good health:</p>\n<p>-Application starts with rootpackage.App</p>\n<p>-All your objects/modules start with rootpackage.....</p>\n<p>Spring CDI @ComponentScan is is very picky on that, and follows security Java conventions. If you dont, you can experience wide variety of CDI problems.</p>\n"}],"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700247720,"creation_date":1528776568,"question_id":50809116,"body_markdown":"I want to conditionally create a spring bean. I figured  `@ConditionalOnProperty` would serve that purpose.  I used it in my service class but I do not see the bean being created. \r\n\r\nHere is my bean that I want to be conditionally created\r\n\r\n    @Service\r\n    @ConditionalOnProperty(value = &quot;polling.enabled&quot;, havingValue = &quot;true&quot;)\r\n    public class MessageQueueService {\r\n    \r\n    @Scheduled(fixedDelay = INTERVAL_MS)\r\n        public void execute() {\r\n         //sysout\r\n        }\r\n    }\r\n\r\ncouple of thing to note.\r\n\r\n --  our service loads properties directly from consul(due to legacy reasons) and not through spring environment\r\n\r\n-- I hacked RestTemplate bean (below) to add custom propertyResource into environment. I did not know how to do it without creating another PropertySource bean instance.\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n    @Autowired\r\n    ConfigurableEnvironment env;\r\n    \r\n    @Bean(name = &quot;consulProps&quot;)\r\n     public Properties properties() {\r\n         Properties consulProperties = new ConsulDriver(env.getConsulUrl()).loadProperties();\r\n        return properties;\r\n     }\r\n    \r\n    @Bean\r\n    @Autowired\r\n    public RestTemplate restTemplate(@Qualifier(consulProps) Properties props) {\r\n        MutablePropertySources sources = env.getPropertySources();\r\n        sources.addFirst(pollingEnabled(props));\r\n        return new RestTemplate();\r\n        }\r\n    \r\n    private MapPropertySource pollingEnabled(Properties props) {\r\n         String enabled = props.getProperty(&quot;polling.enabled&quot;); // line 25\r\n         Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n         if (StringUtils.isNotBlank(enabled)) {\r\n               map.put(&quot;polling.enabled&quot;, enabled);\r\n         }\r\n         else {\r\n              map.put(&quot;polling.enabled&quot;, &quot;false&quot;);\r\n         }\r\n           return new MapPropertySource(&quot;polling&quot;, map);\r\n        }\r\n    \r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertyConfigIn() {\r\n            return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n    }\r\n\r\n\r\nwhen I run the service, it starts up. I have set up `polling.enabled` is `true` in consul. while debugging, I confirmed the value is set correctly in line 25. However, the bean is NOT created.\r\nif I comment-out the `@ConditionalOnProperty` from the class, bean is created and the scheduled Method is called.\r\n\r\nAny help to fix this is highly appreciated!!\r\nThanks in advance\r\n","title":"@ConditionalOnProperty annotation not working in spring boot project","body":"<p>I want to conditionally create a spring bean. I figured  <code>@ConditionalOnProperty</code> would serve that purpose.  I used it in my service class but I do not see the bean being created. </p>\n\n<p>Here is my bean that I want to be conditionally created</p>\n\n<pre><code>@Service\n@ConditionalOnProperty(value = \"polling.enabled\", havingValue = \"true\")\npublic class MessageQueueService {\n\n@Scheduled(fixedDelay = INTERVAL_MS)\n    public void execute() {\n     //sysout\n    }\n}\n</code></pre>\n\n<p>couple of thing to note.</p>\n\n<p>--  our service loads properties directly from consul(due to legacy reasons) and not through spring environment</p>\n\n<p>-- I hacked RestTemplate bean (below) to add custom propertyResource into environment. I did not know how to do it without creating another PropertySource bean instance.</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n@Autowired\nConfigurableEnvironment env;\n\n@Bean(name = \"consulProps\")\n public Properties properties() {\n     Properties consulProperties = new ConsulDriver(env.getConsulUrl()).loadProperties();\n    return properties;\n }\n\n@Bean\n@Autowired\npublic RestTemplate restTemplate(@Qualifier(consulProps) Properties props) {\n    MutablePropertySources sources = env.getPropertySources();\n    sources.addFirst(pollingEnabled(props));\n    return new RestTemplate();\n    }\n\nprivate MapPropertySource pollingEnabled(Properties props) {\n     String enabled = props.getProperty(\"polling.enabled\"); // line 25\n     Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n     if (StringUtils.isNotBlank(enabled)) {\n           map.put(\"polling.enabled\", enabled);\n     }\n     else {\n          map.put(\"polling.enabled\", \"false\");\n     }\n       return new MapPropertySource(\"polling\", map);\n    }\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertyConfigIn() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n\n<p>when I run the service, it starts up. I have set up <code>polling.enabled</code> is <code>true</code> in consul. while debugging, I confirmed the value is set correctly in line 25. However, the bean is NOT created.\nif I comment-out the <code>@ConditionalOnProperty</code> from the class, bean is created and the scheduled Method is called.</p>\n\n<p>Any help to fix this is highly appreciated!!\nThanks in advance</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1700143800,"post_id":77495448,"comment_id":136620321,"body_markdown":"autowired and final? Let me guess you are also using Lombok to generate constructors.","body":"autowired and final? Let me guess you are also using Lombok to generate constructors."},{"owner":{"account_id":952025,"reputation":593,"user_id":977959,"display_name":"danipenaperez"},"score":0,"creation_date":1700148539,"post_id":77495448,"comment_id":136621311,"body_markdown":"Maybe need more info (the KclConfig class). Seems that scan works because Spring detects the two KinesisAsyncClient beans. The problem is what to use.","body":"Maybe need more info (the KclConfig class). Seems that scan works because Spring detects the two KinesisAsyncClient beans. The problem is what to use."}],"answers":[{"tags":[],"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700247500,"creation_date":1700247500,"answer_id":77504044,"question_id":77495448,"body_markdown":"My problem was a missing configuration in Lombok, which I&#39;m using to generate the constructors. For me, creating this file solved the problem:\r\n\r\nlombok.config\r\n\r\n    # see https://github.com/rzwitserloot/lombok/issues/745\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\r\n\r\nThe annotations:\r\n\r\nAws config:\r\n\r\n    @Bean(name = &quot;localStreamsKinesisClient&quot;)\r\n    public KinesisAsyncClient localStreamsKinesisClient() {}\r\n\r\nKcl config:\r\n\r\n    @Qualifier(&quot;localStreamsKinesisClient&quot;) private final KinesisAsyncClient localStreamsKinesisClient;\r\n\r\nI also kept the `@ComponentScan` annotation in the KclConfig class, pointing to the package in which both these classes are in.\r\n\r\nPS: I got the lead from another SO answer, which I lost the link for. If I find it I&#39;ll give credit.","title":"@Bean and @Qualifier apparently not working","body":"<p>My problem was a missing configuration in Lombok, which I'm using to generate the constructors. For me, creating this file solved the problem:</p>\n<p>lombok.config</p>\n<pre><code># see https://github.com/rzwitserloot/lombok/issues/745\nlombok.copyableAnnotations += org.springframework.beans.factory.annotation.Qualifier\nlombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\n</code></pre>\n<p>The annotations:</p>\n<p>Aws config:</p>\n<pre><code>@Bean(name = &quot;localStreamsKinesisClient&quot;)\npublic KinesisAsyncClient localStreamsKinesisClient() {}\n</code></pre>\n<p>Kcl config:</p>\n<pre><code>@Qualifier(&quot;localStreamsKinesisClient&quot;) private final KinesisAsyncClient localStreamsKinesisClient;\n</code></pre>\n<p>I also kept the <code>@ComponentScan</code> annotation in the KclConfig class, pointing to the package in which both these classes are in.</p>\n<p>PS: I got the lead from another SO answer, which I lost the link for. If I find it I'll give credit.</p>\n"}],"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77504044,"answer_count":1,"score":-1,"last_activity_date":1700247500,"creation_date":1700143061,"question_id":77495448,"body_markdown":"I have a scenario in which I consume from two different Kinesis streams in two separate AWS accounts. Therefore, using KCL, I&#39;m creating two schedulers with different Kinesis/Dynamo/Cloudwatch beans. I&#39;m trying to assign each bean to its corresponding scheduler using @Bean and @Qualifier. But so far it has not worked and I&#39;m not sure why.\r\n\r\nThese is one of my beans:\r\n\r\n    @Bean(name = &quot;localStreamsKinesisClient&quot;)\r\n    public KinesisAsyncClient localStreamsKinesisClient() {\r\n\r\n        final NettyNioAsyncHttpClient.Builder asyncHttpClientBuilder = NettyNioAsyncHttpClient.builder()\r\n                .maxConcurrency(Integer.MAX_VALUE)\r\n                .http2Configuration(Http2Configuration.builder()\r\n                        .initialWindowSize(INITIAL_WINDOW_SIZE_BYTES)\r\n                        .healthCheckPingPeriod(Duration.ofMillis(HEALTH_CHECK_PING_PERIOD_MILLIS)).build())\r\n                .protocol(Protocol.HTTP2)\r\n                .readTimeout(Duration.ofSeconds(300));\r\n\r\n        return KinesisAsyncClient.builder()\r\n                .region(Region.of(awsRegion))\r\n                .httpClientBuilder(asyncHttpClientBuilder)\r\n                .credentialsProvider(fileCredentialsProvider)\r\n                .build();\r\n    }\r\n\r\nI have also already tried annotating with:\r\n\r\n    @Bean\r\n    @Qualifier(&quot;&quot;)\r\n    \r\n    @Bean\r\n    public KinesisAsyncClient nameOfMyBean () {}\r\n    \r\n    @Bean(&quot;&quot;)\r\n\r\nAnd this is where I want to qualify the bean:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;localStreamsKinesisClient&quot;)\r\n    private KinesisAsyncClient localStreamsKinesisClient;\r\n\r\nMy latest attempt was this one, using @Autowired. I have also already tried:\r\n\r\n    @Qualifier(&quot;localStreamsKinesisClient&quot;)\r\n    private final KinesisAsyncClient localStreamsKinesisClient;\r\n\r\n    \r\n    private final @Qualifier(&quot;localStreamsKinesisClient&quot;) KinesisAsyncClient localStreamsKinesisClient;\r\n\r\nThis is the error I keep getting: \r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 3 of constructor in com.allpago.docgen.configuration.KclConfig required a single bean, but 2 were found:\r\n    \t- localStreamsKinesisClient: defined by method &#39;localStreamsKinesisClient&#39; in class path resource [com/allpago/docgen/configuration/AwsConfig.class]\r\n    \t- crossAccountStreamsKinesisClient: defined by method &#39;crossAccountStreamsKinesisClient&#39; in class path resource [com/allpago/docgen/configuration/AwsConfig.class]\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nAt some point I noticed that maybe the beans were not being properly scanned, so I added this annotation to the file in which I try to qualify the bean:\r\n\r\n    @ComponentScan(basePackages = { &quot;com.allpago.docgen.configuration&quot; })\r\n\r\nBoth files are in the same package. What is wrong here? It seems like it should work, I tried several possibilities, and I think I&#39;m missing something simple.\r\n","title":"@Bean and @Qualifier apparently not working","body":"<p>I have a scenario in which I consume from two different Kinesis streams in two separate AWS accounts. Therefore, using KCL, I'm creating two schedulers with different Kinesis/Dynamo/Cloudwatch beans. I'm trying to assign each bean to its corresponding scheduler using @Bean and @Qualifier. But so far it has not worked and I'm not sure why.</p>\n<p>These is one of my beans:</p>\n<pre><code>@Bean(name = &quot;localStreamsKinesisClient&quot;)\npublic KinesisAsyncClient localStreamsKinesisClient() {\n\n    final NettyNioAsyncHttpClient.Builder asyncHttpClientBuilder = NettyNioAsyncHttpClient.builder()\n            .maxConcurrency(Integer.MAX_VALUE)\n            .http2Configuration(Http2Configuration.builder()\n                    .initialWindowSize(INITIAL_WINDOW_SIZE_BYTES)\n                    .healthCheckPingPeriod(Duration.ofMillis(HEALTH_CHECK_PING_PERIOD_MILLIS)).build())\n            .protocol(Protocol.HTTP2)\n            .readTimeout(Duration.ofSeconds(300));\n\n    return KinesisAsyncClient.builder()\n            .region(Region.of(awsRegion))\n            .httpClientBuilder(asyncHttpClientBuilder)\n            .credentialsProvider(fileCredentialsProvider)\n            .build();\n}\n</code></pre>\n<p>I have also already tried annotating with:</p>\n<pre><code>@Bean\n@Qualifier(&quot;&quot;)\n\n@Bean\npublic KinesisAsyncClient nameOfMyBean () {}\n\n@Bean(&quot;&quot;)\n</code></pre>\n<p>And this is where I want to qualify the bean:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;localStreamsKinesisClient&quot;)\nprivate KinesisAsyncClient localStreamsKinesisClient;\n</code></pre>\n<p>My latest attempt was this one, using @Autowired. I have also already tried:</p>\n<pre><code>@Qualifier(&quot;localStreamsKinesisClient&quot;)\nprivate final KinesisAsyncClient localStreamsKinesisClient;\n\n\nprivate final @Qualifier(&quot;localStreamsKinesisClient&quot;) KinesisAsyncClient localStreamsKinesisClient;\n</code></pre>\n<p>This is the error I keep getting:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 3 of constructor in com.allpago.docgen.configuration.KclConfig required a single bean, but 2 were found:\n    - localStreamsKinesisClient: defined by method 'localStreamsKinesisClient' in class path resource [com/allpago/docgen/configuration/AwsConfig.class]\n    - crossAccountStreamsKinesisClient: defined by method 'crossAccountStreamsKinesisClient' in class path resource [com/allpago/docgen/configuration/AwsConfig.class]\n\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n<p>At some point I noticed that maybe the beans were not being properly scanned, so I added this annotation to the file in which I try to qualify the bean:</p>\n<pre><code>@ComponentScan(basePackages = { &quot;com.allpago.docgen.configuration&quot; })\n</code></pre>\n<p>Both files are in the same package. What is wrong here? It seems like it should work, I tried several possibilities, and I think I'm missing something simple.</p>\n"},{"tags":["java","user-interface","swing","button","size"],"answers":[{"comments":[{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1269856415,"post_id":2536920,"comment_id":2536971,"body_markdown":"Compiler writes that it cannot find method called `setPreferredSize`.","body":"Compiler writes that it cannot find method called <code>setPreferredSize</code>."}],"tags":[],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1269881512,"creation_date":1269855401,"answer_id":2536920,"question_id":2536873,"body_markdown":"Try with &lt;code&gt;setPreferredSize&lt;/code&gt; instead of &lt;code&gt;setSize&lt;/code&gt;.\r\n\r\n&lt;b&gt;UPDATE:&lt;/b&gt; `GridLayout` take up all space in its container, and `BoxLayout` seams to take up all the width in its container, so I added some glue-panels that are invisible and just take up space when the user stretches the window. I have just done this horizontally, and not vertically, but you could implement that in the same way if you want it.\r\n\r\nSince `GridLayout` make all cells in the same size, it doesn&#39;t matter if they have a specified size. You have to specify a size for its container instead, as I have done.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class PanelModel {\r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame(&quot;Colored Trails&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JPanel mainPanel = new JPanel();\r\n            mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\r\n    \r\n            JPanel firstPanel = new JPanel(new GridLayout(4, 4));\r\n            firstPanel.setPreferredSize(new Dimension(4*100, 4*100));\r\n            for (int i=1; i&lt;=4; i++) {\r\n                for (int j=1; j&lt;=4; j++) {\r\n                    firstPanel.add(new JButton());\r\n                }\r\n            }\r\n            \r\n            JPanel firstGluePanel = new JPanel(new BorderLayout());\r\n            firstGluePanel.add(firstPanel, BorderLayout.WEST);\r\n            firstGluePanel.add(Box.createHorizontalGlue(), BorderLayout.CENTER);\r\n            firstGluePanel.add(Box.createVerticalGlue(), BorderLayout.SOUTH);\r\n    \r\n            JPanel secondPanel = new JPanel(new GridLayout(13, 5));\r\n            secondPanel.setPreferredSize(new Dimension(5*40, 13*40));\r\n            for (int i=1; i&lt;=5; i++) {\r\n                for (int j=1; j&lt;=13; j++) {\r\n                    secondPanel.add(new JButton());\r\n                }\r\n            }\r\n    \r\n            JPanel secondGluePanel = new JPanel(new BorderLayout());\r\n            secondGluePanel.add(secondPanel, BorderLayout.WEST);\r\n            secondGluePanel.add(Box.createHorizontalGlue(), BorderLayout.CENTER);\r\n            secondGluePanel.add(Box.createVerticalGlue(), BorderLayout.SOUTH);\r\n            \r\n            mainPanel.add(firstGluePanel);\r\n            mainPanel.add(secondGluePanel);\r\n            frame.getContentPane().add(mainPanel);\r\n    \r\n            //frame.setSize(400,600);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    }","title":"How can I set size of a button?","body":"<p>Try with <code>setPreferredSize</code> instead of <code>setSize</code>.</p>\n\n<p><b>UPDATE:</b> <code>GridLayout</code> take up all space in its container, and <code>BoxLayout</code> seams to take up all the width in its container, so I added some glue-panels that are invisible and just take up space when the user stretches the window. I have just done this horizontally, and not vertically, but you could implement that in the same way if you want it.</p>\n\n<p>Since <code>GridLayout</code> make all cells in the same size, it doesn't matter if they have a specified size. You have to specify a size for its container instead, as I have done.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class PanelModel {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(\"Colored Trails\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\n\n        JPanel firstPanel = new JPanel(new GridLayout(4, 4));\n        firstPanel.setPreferredSize(new Dimension(4*100, 4*100));\n        for (int i=1; i&lt;=4; i++) {\n            for (int j=1; j&lt;=4; j++) {\n                firstPanel.add(new JButton());\n            }\n        }\n\n        JPanel firstGluePanel = new JPanel(new BorderLayout());\n        firstGluePanel.add(firstPanel, BorderLayout.WEST);\n        firstGluePanel.add(Box.createHorizontalGlue(), BorderLayout.CENTER);\n        firstGluePanel.add(Box.createVerticalGlue(), BorderLayout.SOUTH);\n\n        JPanel secondPanel = new JPanel(new GridLayout(13, 5));\n        secondPanel.setPreferredSize(new Dimension(5*40, 13*40));\n        for (int i=1; i&lt;=5; i++) {\n            for (int j=1; j&lt;=13; j++) {\n                secondPanel.add(new JButton());\n            }\n        }\n\n        JPanel secondGluePanel = new JPanel(new BorderLayout());\n        secondGluePanel.add(secondPanel, BorderLayout.WEST);\n        secondGluePanel.add(Box.createHorizontalGlue(), BorderLayout.CENTER);\n        secondGluePanel.add(Box.createVerticalGlue(), BorderLayout.SOUTH);\n\n        mainPanel.add(firstGluePanel);\n        mainPanel.add(secondGluePanel);\n        frame.getContentPane().add(mainPanel);\n\n        //frame.setSize(400,600);\n        frame.pack();\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"score":0,"creation_date":1269862284,"post_id":2537024,"comment_id":2537546,"body_markdown":"I tried this code. It works. But if I try to implement the same idea in my program, it does not work. I think that the reason is that I include my JPanel (with the GridLayout) to another JPanel (with BoxLayout.Y_AXIS).","body":"I tried this code. It works. But if I try to implement the same idea in my program, it does not work. I think that the reason is that I include my JPanel (with the GridLayout) to another JPanel (with BoxLayout.Y_AXIS)."},{"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"score":0,"creation_date":1269865028,"post_id":2537024,"comment_id":2537832,"body_markdown":"@Roman If you want more specific help you&#39;ll need to post some sample code!","body":"@Roman If you want more specific help you&#39;ll need to post some sample code!"},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1452157209,"post_id":2537024,"comment_id":57047015,"body_markdown":"Why not share one `new Dimension(40, 40)` between all buttons instead of instantiating 16 of them?","body":"Why not share one <code>new Dimension(40, 40)</code> between all buttons instead of instantiating 16 of them?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1485934806,"post_id":2537024,"comment_id":71126526,"body_markdown":"See [Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?](http://stackoverflow.com/q/7229226/418556)  (Yes.)","body":"See <a href=\"http://stackoverflow.com/q/7229226/418556\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a>  (Yes.)"}],"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"comment_count":4,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1465760238,"creation_date":1269856509,"answer_id":2537024,"question_id":2536873,"body_markdown":"The following bit of code does what you ask for. Just make sure that you assign enough space so that the text on the button becomes visible\r\n\r\n\tJFrame frame = new JFrame(&quot;test&quot;);\r\n\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\tJPanel panel = new JPanel(new GridLayout(4,4,4,4));\r\n\t\r\n\tfor(int i=0 ; i&lt;16 ; i++){\r\n\t\tJButton btn = new JButton(String.valueOf(i));\r\n\t\tbtn.setPreferredSize(new Dimension(40, 40));\r\n\t\tpanel.add(btn);\r\n\t}\r\n\tframe.setContentPane(panel);\r\n\tframe.pack();\r\n\tframe.setVisible(true);\r\n\r\nThe X and Y (two first parameters of the GridLayout constructor) specify the number of rows and columns in the grid (respectively). You may leave one of them as 0 if you want that value to be unbounded.\r\n\r\n\r\n**Edit**\r\n\r\nI&#39;ve modified the provided code and I believe it now conforms to what is desired:\r\n\r\n    JFrame frame = new JFrame(&quot;Colored Trails&quot;);\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    JPanel mainPanel = new JPanel();\r\n    mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\r\n\r\n    JPanel firstPanel = new JPanel();\r\n    firstPanel.setLayout(new GridLayout(4, 4));\r\n    firstPanel.setMaximumSize(new Dimension(400, 400));\r\n    JButton btn;\r\n    for (int i=1; i&lt;=4; i++) {\r\n        for (int j=1; j&lt;=4; j++) {\r\n            btn = new JButton();\r\n            btn.setPreferredSize(new Dimension(100, 100));\r\n            firstPanel.add(btn);\r\n        }\r\n    }\r\n\r\n    JPanel secondPanel = new JPanel();\r\n    secondPanel.setLayout(new GridLayout(5, 13));\r\n    secondPanel.setMaximumSize(new Dimension(520, 200));\r\n    for (int i=1; i&lt;=5; i++) {\r\n        for (int j=1; j&lt;=13; j++) {\r\n            btn = new JButton();\r\n            btn.setPreferredSize(new Dimension(40, 40));\r\n            secondPanel.add(btn);\r\n        }\r\n    }\r\n\r\n    mainPanel.add(firstPanel);\r\n    mainPanel.add(secondPanel);\r\n    frame.setContentPane(mainPanel);\r\n\r\n    frame.setSize(520,600);\r\n    frame.setMinimumSize(new Dimension(520,600));\r\n    frame.setVisible(true);\r\n\r\nBasically I now set the preferred size of the panels and a minimum size for the frame.\r\n","title":"How can I set size of a button?","body":"<p>The following bit of code does what you ask for. Just make sure that you assign enough space so that the text on the button becomes visible</p>\n\n<pre><code>JFrame frame = new JFrame(\"test\");\nframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\nJPanel panel = new JPanel(new GridLayout(4,4,4,4));\n\nfor(int i=0 ; i&lt;16 ; i++){\n    JButton btn = new JButton(String.valueOf(i));\n    btn.setPreferredSize(new Dimension(40, 40));\n    panel.add(btn);\n}\nframe.setContentPane(panel);\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n\n<p>The X and Y (two first parameters of the GridLayout constructor) specify the number of rows and columns in the grid (respectively). You may leave one of them as 0 if you want that value to be unbounded.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I've modified the provided code and I believe it now conforms to what is desired:</p>\n\n<pre><code>JFrame frame = new JFrame(\"Colored Trails\");\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\nJPanel mainPanel = new JPanel();\nmainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\n\nJPanel firstPanel = new JPanel();\nfirstPanel.setLayout(new GridLayout(4, 4));\nfirstPanel.setMaximumSize(new Dimension(400, 400));\nJButton btn;\nfor (int i=1; i&lt;=4; i++) {\n    for (int j=1; j&lt;=4; j++) {\n        btn = new JButton();\n        btn.setPreferredSize(new Dimension(100, 100));\n        firstPanel.add(btn);\n    }\n}\n\nJPanel secondPanel = new JPanel();\nsecondPanel.setLayout(new GridLayout(5, 13));\nsecondPanel.setMaximumSize(new Dimension(520, 200));\nfor (int i=1; i&lt;=5; i++) {\n    for (int j=1; j&lt;=13; j++) {\n        btn = new JButton();\n        btn.setPreferredSize(new Dimension(40, 40));\n        secondPanel.add(btn);\n    }\n}\n\nmainPanel.add(firstPanel);\nmainPanel.add(secondPanel);\nframe.setContentPane(mainPanel);\n\nframe.setSize(520,600);\nframe.setMinimumSize(new Dimension(520,600));\nframe.setVisible(true);\n</code></pre>\n\n<p>Basically I now set the preferred size of the panels and a minimum size for the frame.</p>\n"},{"tags":[],"owner":{"account_id":89551,"reputation":6751,"user_id":247003,"accept_rate":74,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1269856686,"creation_date":1269856686,"answer_id":2537051,"question_id":2536873,"body_markdown":"GridLayout is often not the best choice for buttons, although it might be for your application. A good reference is the [tutorial on using Layout Managers][1]. If you look at the GridLayout example, you&#39;ll see the buttons look a little silly -- way too big. \r\n\r\nA better idea might be to use a FlowLayout for your buttons, or if you know exactly what you want, perhaps a GroupLayout. (Sun/Oracle [recommend][2] that GroupLayout or GridBag layout are better than GridLayout when hand-coding.)\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/layout/index.html\r\n  [2]: http://java.sun.com/docs/books/tutorial/uiswing/layout/grid.html","title":"How can I set size of a button?","body":"<p>GridLayout is often not the best choice for buttons, although it might be for your application. A good reference is the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">tutorial on using Layout Managers</a>. If you look at the GridLayout example, you'll see the buttons look a little silly -- way too big. </p>\n\n<p>A better idea might be to use a FlowLayout for your buttons, or if you know exactly what you want, perhaps a GroupLayout. (Sun/Oracle <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">recommend</a> that GroupLayout or GridBag layout are better than GridLayout when hand-coding.)</p>\n"},{"tags":[],"owner":{"account_id":13836777,"reputation":91,"user_id":9988114,"display_name":"Tanvir Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700247145,"creation_date":1529916691,"answer_id":51019542,"question_id":2536873,"body_markdown":"This is how I did it. \r\n```\r\nJFrame.setDefaultLookAndFeelDecorated(true);\r\nJDialog.setDefaultLookAndFeelDecorated(true);\r\nJFrame frame = new JFrame(&quot;SAP Multiple Entries&quot;);\r\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\nJPanel panel = new JPanel(new GridLayout(10,10,10,10));\r\nframe.setLayout(new FlowLayout());\r\n\t\t\t    \r\nframe.setSize(512, 512);\r\nJButton button = new JButton(&quot;Select File&quot;);\r\nbutton.setPreferredSize(new Dimension(256, 256));\r\npanel.add(button);\r\n\t\r\nbutton.addActionListener(new ActionListener() {\r\n\tpublic void actionPerformed(ActionEvent ae) {\r\n\t\tJFileChooser fileChooser = new JFileChooser();\r\n\t    int returnValue = fileChooser.showOpenDialog(null);\r\n\r\n\t    if (returnValue == JFileChooser.APPROVE_OPTION) {\r\n\t        File selectedFile = fileChooser.getSelectedFile();\r\n\t\r\n\t\t\tkeep = selectedFile.getAbsolutePath();\r\n\t\t\t            \r\n\t\t\t                \r\n\t\t\t// System.out.println(keep);\r\n\t\t\t//out.println(file.flag); \r\n\r\n\t\t\tif (file.flag==true) {\r\n\t\t\t    JOptionPane.showMessageDialog(null, &quot;It is done! \\nLocation: &quot; + file.path , &quot;Success Message&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\t\t\t} else {\r\n\t\t\t    JOptionPane.showMessageDialog(null, &quot;failure&quot;, &quot;not okay&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\t        }\r\n\t    }\r\n    }\r\n});\r\n\r\nframe.add(button);\r\nframe.pack();\r\nframe.setVisible(true);\r\n```\r\n\t","title":"How can I set size of a button?","body":"<p>This is how I did it.</p>\n<pre><code>JFrame.setDefaultLookAndFeelDecorated(true);\nJDialog.setDefaultLookAndFeelDecorated(true);\nJFrame frame = new JFrame(&quot;SAP Multiple Entries&quot;);\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nJPanel panel = new JPanel(new GridLayout(10,10,10,10));\nframe.setLayout(new FlowLayout());\n                \nframe.setSize(512, 512);\nJButton button = new JButton(&quot;Select File&quot;);\nbutton.setPreferredSize(new Dimension(256, 256));\npanel.add(button);\n    \nbutton.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent ae) {\n        JFileChooser fileChooser = new JFileChooser();\n        int returnValue = fileChooser.showOpenDialog(null);\n\n        if (returnValue == JFileChooser.APPROVE_OPTION) {\n            File selectedFile = fileChooser.getSelectedFile();\n    \n            keep = selectedFile.getAbsolutePath();\n                        \n                            \n            // System.out.println(keep);\n            //out.println(file.flag); \n\n            if (file.flag==true) {\n                JOptionPane.showMessageDialog(null, &quot;It is done! \\nLocation: &quot; + file.path , &quot;Success Message&quot;, JOptionPane.INFORMATION_MESSAGE);\n            } else {\n                JOptionPane.showMessageDialog(null, &quot;failure&quot;, &quot;not okay&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        }\n    }\n});\n\nframe.add(button);\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431554,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":2537024,"answer_count":4,"score":38,"last_activity_date":1700247145,"creation_date":1269854880,"question_id":2536873,"body_markdown":"I put my buttons in a JPane with GridLayout. Then I put JPanel into another JPanel with BoxLayout.Y_AXIS. I want buttons in the GridLayout to be square. I use tmp.setSize(30,30) and it does not work. I also try to use `new GridLayout(X, Y, 4, 4)` but I cannot figure out what X and Y are. So, what is the correct way to do this stuff?\r\n\r\n**ADDED:**\r\n\r\nI still cannot solve the problem. Here is the code of what I am trying to do:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class PanelModel {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJFrame frame = new JFrame(&quot;Colored Trails&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tJPanel mainPanel = new JPanel();\r\n    \t\tmainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\r\n    \t\t\r\n    \t\tJPanel firstPanel = new JPanel();\r\n    \t\tfirstPanel.setLayout(new GridLayout(4, 4));\r\n    \t\tJButton btn;\r\n    \t\tfor (int i=1; i&lt;=4; i++) {\r\n    \t\t\tfor (int j=1; j&lt;=4; j++) {\r\n    \t\t\t\tbtn = new JButton();\r\n    \t\t\t\tbtn.setPreferredSize(new Dimension(100, 100));\r\n    \t\t\t\tfirstPanel.add(btn);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tJPanel secondPanel = new JPanel();\r\n    \t\tsecondPanel.setLayout(new GridLayout(5, 13));\r\n    \t\tfor (int i=1; i&lt;=5; i++) {\r\n    \t\t\tfor (int j=1; j&lt;=13; j++) {\r\n    \t\t\t\tbtn = new JButton();\r\n    \t\t\t\tbtn.setPreferredSize(new Dimension(40, 40));\r\n    \t\t\t\tsecondPanel.add(btn);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tmainPanel.add(firstPanel);\r\n    \t\tmainPanel.add(secondPanel);\r\n    \t\tframe.add(mainPanel);\r\n    \t\t\r\n    \t\tframe.setSize(400,600);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nThe problem is that Java tries to make width of the `firstPanel` and `secondPanel` equal! Moreover, Java tries to to fill all height of the window. How can I remove this behavior? ","title":"How can I set size of a button?","body":"<p>I put my buttons in a JPane with GridLayout. Then I put JPanel into another JPanel with BoxLayout.Y_AXIS. I want buttons in the GridLayout to be square. I use tmp.setSize(30,30) and it does not work. I also try to use <code>new GridLayout(X, Y, 4, 4)</code> but I cannot figure out what X and Y are. So, what is the correct way to do this stuff?</p>\n\n<p><strong>ADDED:</strong></p>\n\n<p>I still cannot solve the problem. Here is the code of what I am trying to do:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class PanelModel {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(\"Colored Trails\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\n\n        JPanel firstPanel = new JPanel();\n        firstPanel.setLayout(new GridLayout(4, 4));\n        JButton btn;\n        for (int i=1; i&lt;=4; i++) {\n            for (int j=1; j&lt;=4; j++) {\n                btn = new JButton();\n                btn.setPreferredSize(new Dimension(100, 100));\n                firstPanel.add(btn);\n            }\n        }\n\n        JPanel secondPanel = new JPanel();\n        secondPanel.setLayout(new GridLayout(5, 13));\n        for (int i=1; i&lt;=5; i++) {\n            for (int j=1; j&lt;=13; j++) {\n                btn = new JButton();\n                btn.setPreferredSize(new Dimension(40, 40));\n                secondPanel.add(btn);\n            }\n        }\n\n        mainPanel.add(firstPanel);\n        mainPanel.add(secondPanel);\n        frame.add(mainPanel);\n\n        frame.setSize(400,600);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>The problem is that Java tries to make width of the <code>firstPanel</code> and <code>secondPanel</code> equal! Moreover, Java tries to to fill all height of the window. How can I remove this behavior? </p>\n"},{"tags":["java","game-development","javasound"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700237875,"post_id":77503110,"comment_id":136633619,"body_markdown":"We can&#39;t duplicate this because we don&#39;t have the file `&quot;short-success.wav&quot;`.  Is there a way you could simplify this so it reproduces the problem without external files?","body":"We can&#39;t duplicate this because we don&#39;t have the file <code>&quot;short-success.wav&quot;</code>.  Is there a way you could simplify this so it reproduces the problem without external files?"},{"owner":{"account_id":23742558,"reputation":1,"user_id":17760432,"display_name":"  "},"score":0,"creation_date":1700239861,"post_id":77503110,"comment_id":136634003,"body_markdown":"I will try a way iwill see if it work","body":"I will try a way iwill see if it work"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700252207,"post_id":77503110,"comment_id":136635950,"body_markdown":"well, posted code is terminating before the audio can even start... try with a `Thread.sleep(2000)` or similar after starting the audio -- even better call `clip.drain()` which blocks until all data was *consumed*","body":"well, posted code is terminating before the audio can even start... try with a <code>Thread.sleep(2000)</code> or similar after starting the audio -- even better call <code>clip.drain()</code> which blocks until all data was <i>consumed</i>"},{"owner":{"account_id":23742558,"reputation":1,"user_id":17760432,"display_name":"  "},"score":0,"creation_date":1700289227,"post_id":77503110,"comment_id":136638728,"body_markdown":"Is not working I tried both i think no one of programer can solve it &#129394;its hard to solve &#128517;","body":"Is not working I tried both i think no one of programer can solve it its hard to solve "},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700643451,"post_id":77503110,"comment_id":136678627,"body_markdown":"I tested posted code with either the changes I proposed, worked in both cases; obviously using a valid WAV at the correct location! Not so hard to solve.","body":"I tested posted code with either the changes I proposed, worked in both cases; obviously using a valid WAV at the correct location! Not so hard to solve."}],"owner":{"account_id":23742558,"reputation":1,"user_id":17760432,"display_name":"  "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700247045,"creation_date":1700237717,"question_id":77503110,"body_markdown":"i creted Sound folder in SourcePackages and have sound files wave format in that folder and this is my code when i run my code is not working sound is there any problem and why and i use apache nedbeans 19 ide:\r\n```\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\n\r\npublic class Java1 {\r\n   \r\n      private void playSound(String fileName) {\r\n        try {\r\n            // Load sound file from resources\r\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(getClass().getResource(&quot;/Sound/&quot; + fileName));\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(audioInputStream);\r\n            clip.start();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\nprivate void gameOver(){\r\n playSound(&quot;negative_beeps.wav&quot;);\r\n}\r\nprivate void victory(){playSound(&quot;success-fanfare.wav&quot;);}\r\n}\r\n```","title":"Sound of project","body":"<p>i creted Sound folder in SourcePackages and have sound files wave format in that folder and this is my code when i run my code is not working sound is there any problem and why and i use apache nedbeans 19 ide:</p>\n<pre><code>import javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\n\npublic class Java1 {\n   \n      private void playSound(String fileName) {\n        try {\n            // Load sound file from resources\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(getClass().getResource(&quot;/Sound/&quot; + fileName));\n            Clip clip = AudioSystem.getClip();\n            clip.open(audioInputStream);\n            clip.start();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\nprivate void gameOver(){\n playSound(&quot;negative_beeps.wav&quot;);\n}\nprivate void victory(){playSound(&quot;success-fanfare.wav&quot;);}\n}\n</code></pre>\n"},{"tags":["java","jar","application.properties"],"answers":[{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700247004,"creation_date":1700059394,"answer_id":77488667,"question_id":77487003,"body_markdown":"The solution I adopted is copying the external `application.properties` inside the `.jar` file, using this command:\r\n\r\n    jar uf App.jar /path/to/application.properties\r\n\r\nWorks flawlessly.","title":"Using different application.properties in java -jar without Spring","body":"<p>The solution I adopted is copying the external <code>application.properties</code> inside the <code>.jar</code> file, using this command:</p>\n<pre><code>jar uf App.jar /path/to/application.properties\n</code></pre>\n<p>Works flawlessly.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77488667,"answer_count":1,"score":2,"last_activity_date":1700247020,"creation_date":1700044598,"question_id":77487003,"body_markdown":"I have to deploy a simple `.jar` file in a production environment. For security reasons, I&#39;m not able to write production credentials inside the `application.properties`.\r\n\r\nI retrieve properties like so:\r\n\r\n    Properties properties = new Properties();\r\n    InputStream is = PropertiesLoader.class.getResourceAsStream(&quot;/application.properties&quot;);\r\n    properties.load(is);\r\n\r\nSince the `.jar` contains `/application.properties` at its root directory, it will be read correctly. I need to outsource this `application.properties` and I was wondering if there was a way simply by adding a parameter for the `java -jar App.jar` command. \r\n\r\nI only found parameters for a Spring project ([here][1]), which are not for me because this `.jar` is plain JDBC Java. \r\n\r\nI would like to avoid using a `FileInputStream` and giving the file path as parameter, like so:\r\n    \r\n    Properties properties = new Properties();\r\n    String applicationPropertiesPath = args[0];\r\n    FileInputStream fis = new FileInputStream(applicationPropertiesPath);\r\n    properties.load(fis);    \r\n    \r\nAnd then launching the `.jar` with `java -jar App.jar /path/to/application.properties`.. But I will, if there are no other options.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62952711/11961036","title":"Using different application.properties in java -jar without Spring","body":"<p>I have to deploy a simple <code>.jar</code> file in a production environment. For security reasons, I'm not able to write production credentials inside the <code>application.properties</code>.</p>\n<p>I retrieve properties like so:</p>\n<pre><code>Properties properties = new Properties();\nInputStream is = PropertiesLoader.class.getResourceAsStream(&quot;/application.properties&quot;);\nproperties.load(is);\n</code></pre>\n<p>Since the <code>.jar</code> contains <code>/application.properties</code> at its root directory, it will be read correctly. I need to outsource this <code>application.properties</code> and I was wondering if there was a way simply by adding a parameter for the <code>java -jar App.jar</code> command.</p>\n<p>I only found parameters for a Spring project (<a href=\"https://stackoverflow.com/a/62952711/11961036\">here</a>), which are not for me because this <code>.jar</code> is plain JDBC Java.</p>\n<p>I would like to avoid using a <code>FileInputStream</code> and giving the file path as parameter, like so:</p>\n<pre><code>Properties properties = new Properties();\nString applicationPropertiesPath = args[0];\nFileInputStream fis = new FileInputStream(applicationPropertiesPath);\nproperties.load(fis);    \n</code></pre>\n<p>And then launching the <code>.jar</code> with <code>java -jar App.jar /path/to/application.properties</code>.. But I will, if there are no other options.</p>\n"},{"tags":["javascript","java","jenkins","jenkins-plugins","cicd"],"answers":[{"tags":[],"owner":{"account_id":26493418,"reputation":1,"user_id":20131533,"display_name":"rus_99_pk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665045692,"creation_date":1665045692,"answer_id":73970893,"question_id":73910691,"body_markdown":"Removing the deprecated **Job Direct Mail Plugin** helped","title":"&quot;Add&quot; button dont working in Jenkins System settings","body":"<p>Removing the deprecated <strong>Job Direct Mail Plugin</strong> helped</p>\n"},{"tags":[],"owner":{"account_id":29886414,"reputation":1,"user_id":22903783,"display_name":"Umesh Achanta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700245685,"creation_date":1700245685,"answer_id":77503893,"question_id":73910691,"body_markdown":"Hack - populate few values like &#39;name&#39;, &#39;url&#39; etc. and then save it. Load the page. Now try adding the token again.","title":"&quot;Add&quot; button dont working in Jenkins System settings","body":"<p>Hack - populate few values like 'name', 'url' etc. and then save it. Load the page. Now try adding the token again.</p>\n"}],"owner":{"account_id":26493418,"reputation":1,"user_id":20131533,"display_name":"rus_99_pk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1700245685,"creation_date":1664550287,"question_id":73910691,"body_markdown":"Please help colleagues. Jenkins 2.361.1.\r\n\r\nFound a problem when clicking the &quot;**Add**&quot; button in **Manage Jenkins --&gt; Configure system**. Nothing happens when pressed.\r\n\r\nThe Jenkins logs are empty, in the Browser console too.\r\n\r\nMoreover, the buttons located in the **Global Pipeline Libraries** block do not work. I tried to update this plugin but it is already outdated, **Pipeline: Groovy Libraries** came in his place. Nothing has changed since installing it.\r\n[GIF with a problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AyDlr.gif","title":"&quot;Add&quot; button dont working in Jenkins System settings","body":"<p>Please help colleagues. Jenkins 2.361.1.</p>\n<p>Found a problem when clicking the &quot;<strong>Add</strong>&quot; button in <strong>Manage Jenkins --&gt; Configure system</strong>. Nothing happens when pressed.</p>\n<p>The Jenkins logs are empty, in the Browser console too.</p>\n<p>Moreover, the buttons located in the <strong>Global Pipeline Libraries</strong> block do not work. I tried to update this plugin but it is already outdated, <strong>Pipeline: Groovy Libraries</strong> came in his place. Nothing has changed since installing it.\n<a href=\"https://i.stack.imgur.com/AyDlr.gif\" rel=\"nofollow noreferrer\">GIF with a problem</a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","postman"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1700183650,"post_id":77498482,"comment_id":136626441,"body_markdown":"you can add a ```httpReuqest``` with host + api path , if you deploy application locally , you can try this ```127.0.0.1:8080/pessoa``` , fix the 8080 as your port and this is request should be GET method  aim to invoke ```public List&lt;Pessoa&gt; all() ```","body":"you can add a <code>httpReuqest</code> with host + api path , if you deploy application locally , you can try this <code>127.0.0.1:8080&#47;pessoa</code> , fix the 8080 as your port and this is request should be GET method  aim to invoke <code>public List&lt;Pessoa&gt; all() </code>"}],"answers":[{"tags":[],"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700185233,"creation_date":1700185233,"answer_id":77498930,"question_id":77498482,"body_markdown":"If you have successfully tested the other requests, then you know the base path of the application. You probably run Spring locally, and the address will be `localhost:8080`. \r\n\r\nAt this address, the method delete is mapped with\r\n`/{id}` resulting, for example, in `localhost:8080/1`  to delete the element with the id equal to 1.\r\n\r\nIn Postman, make sure to create a DELETE request. Perhaps the reason it&#39;s not working for you is that you left it as a POST or another method.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/46Ipc.png","title":"How can I recover this delete endpoint, and initialize it within postman","body":"<p>If you have successfully tested the other requests, then you know the base path of the application. You probably run Spring locally, and the address will be <code>localhost:8080</code>.</p>\n<p>At this address, the method delete is mapped with\n<code>/{id}</code> resulting, for example, in <code>localhost:8080/1</code>  to delete the element with the id equal to 1.</p>\n<p>In Postman, make sure to create a DELETE request. Perhaps the reason it's not working for you is that you left it as a POST or another method.</p>\n<p><a href=\"https://i.stack.imgur.com/46Ipc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/46Ipc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29927871,"reputation":36,"user_id":22935490,"display_name":"NapoleonDynamite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700236556,"creation_date":1700233994,"answer_id":77502701,"question_id":77498482,"body_markdown":"Please write your code in English language, because it is more readable for everyone if you need to share your code. \r\n\r\nYour put method:\r\n\r\n    @PutMapping\r\n    public void put(@RequestBody Pessoa pessoa) {\r\n        if (pessoa.getId() &gt; 0) {\r\n            pessoaRepository.save(pessoa);\r\n        }\r\n    }\r\n\r\nUsually you should check that your entity is not null aside from what you are doing, something like this:\r\n\r\n    @PutMapping\r\n    public void put(@RequestBody Pessoa pessoa) {\r\n        if (pessoa.getId() != null &amp;&amp; pessoa.getId() &gt; 0) {\r\n            pessoaRepository.save(pessoa);\r\n        }\r\n    }\r\n\r\nWhen it comes to the delete method, it seems fine, you will need to give us more info on what is not working properly.\r\n\r\nFor learning Postman please check out their very well done documentation:\r\n[postman documentation][1]\r\n\r\n  [1]: https://learning.postman.com/docs/introduction/overview/","title":"How can I recover this delete endpoint, and initialize it within postman","body":"<p>Please write your code in English language, because it is more readable for everyone if you need to share your code.</p>\n<p>Your put method:</p>\n<pre><code>@PutMapping\npublic void put(@RequestBody Pessoa pessoa) {\n    if (pessoa.getId() &gt; 0) {\n        pessoaRepository.save(pessoa);\n    }\n}\n</code></pre>\n<p>Usually you should check that your entity is not null aside from what you are doing, something like this:</p>\n<pre><code>@PutMapping\npublic void put(@RequestBody Pessoa pessoa) {\n    if (pessoa.getId() != null &amp;&amp; pessoa.getId() &gt; 0) {\n        pessoaRepository.save(pessoa);\n    }\n}\n</code></pre>\n<p>When it comes to the delete method, it seems fine, you will need to give us more info on what is not working properly.</p>\n<p>For learning Postman please check out their very well done documentation:\n<a href=\"https://learning.postman.com/docs/introduction/overview/\" rel=\"nofollow noreferrer\">postman documentation</a></p>\n"}],"owner":{"account_id":29913422,"reputation":1,"user_id":22924214,"display_name":"Robert Wilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700245003,"creation_date":1700175762,"question_id":77498482,"body_markdown":"```\r\nI&#39;m developing a Spring Boot application to manage CRUD operations for a &quot;Pessoa&quot; entity. The entity is mapped to a table named &quot;Test&quot; in the database. I have created a Pessoa entity class with the associated getters and setters, a PessoaController class to handle HTTP requests, and a PessoaRepository interface that extends JpaRepository for database operations.\r\n```\r\n\r\nEntity:\r\n\r\nConstructs a Pessoa with the given parameters.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Test&quot;)\r\npublic class Pessoa {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;nome&quot;, length = 60, nullable = false)\r\n    private String nome;\r\n\r\n    @Column(name = &quot;doc&quot;, length = 14)\r\n    private String documento;\r\n\r\n    public Pessoa(Long id, String nome, String documento) {\r\n        this.id = id;\r\n        this.nome = nome;\r\n        this.documento = documento;\r\n    }\r\n\r\n    public Pessoa() {\r\n    }\r\n\r\n    // Getters and Setters...\r\n}\r\n```\r\n\r\nController:\r\n\r\nRetrieves a list of all pessoas.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/pessoa&quot;)\r\npublic class PessoaController {\r\n\r\n    @Autowired\r\n    private PessoaRepository pessoaRepository;\r\n\r\n    @GetMapping\r\n    public List&lt;Pessoa&gt; all() {\r\n        return pessoaRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Pessoa getById(@PathVariable Long id) {\r\n        return pessoaRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @PostMapping\r\n    public Pessoa create(@RequestBody Pessoa nova) {\r\n        return pessoaRepository.save(nova);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void delete(@PathVariable Long id) {\r\n        pessoaRepository.deleteById(id);\r\n    }\r\n\r\n    @PutMapping\r\n    public void put(@RequestBody Pessoa pessoa) {\r\n        if (pessoa.getId() &gt; 0) {\r\n            pessoaRepository.save(pessoa);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRepository:\r\n\r\nAdditional methods for database operations if needed\r\n\r\n```\r\n@Repository\r\npublic interface PessoaRepository extends JpaRepository&lt;Pessoa, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nCrudApplication:\r\n\r\nMain method to run the Spring Boot application and initialize every crud application.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class CrudApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(CrudApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m facing an issue with the delete endpoint; it doesn&#39;t seem to work as expected. Additionally, I&#39;m unsure how to connect and test this CRUD application using Postman. Any insights or guidance would be greatly appreciated!","title":"How can I recover this delete endpoint, and initialize it within postman","body":"<pre><code>I'm developing a Spring Boot application to manage CRUD operations for a &quot;Pessoa&quot; entity. The entity is mapped to a table named &quot;Test&quot; in the database. I have created a Pessoa entity class with the associated getters and setters, a PessoaController class to handle HTTP requests, and a PessoaRepository interface that extends JpaRepository for database operations.\n</code></pre>\n<p>Entity:</p>\n<p>Constructs a Pessoa with the given parameters.</p>\n<pre><code>@Entity\n@Table(name = &quot;Test&quot;)\npublic class Pessoa {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;nome&quot;, length = 60, nullable = false)\n    private String nome;\n\n    @Column(name = &quot;doc&quot;, length = 14)\n    private String documento;\n\n    public Pessoa(Long id, String nome, String documento) {\n        this.id = id;\n        this.nome = nome;\n        this.documento = documento;\n    }\n\n    public Pessoa() {\n    }\n\n    // Getters and Setters...\n}\n</code></pre>\n<p>Controller:</p>\n<p>Retrieves a list of all pessoas.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/pessoa&quot;)\npublic class PessoaController {\n\n    @Autowired\n    private PessoaRepository pessoaRepository;\n\n    @GetMapping\n    public List&lt;Pessoa&gt; all() {\n        return pessoaRepository.findAll();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Pessoa getById(@PathVariable Long id) {\n        return pessoaRepository.findById(id).orElse(null);\n    }\n\n    @PostMapping\n    public Pessoa create(@RequestBody Pessoa nova) {\n        return pessoaRepository.save(nova);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void delete(@PathVariable Long id) {\n        pessoaRepository.deleteById(id);\n    }\n\n    @PutMapping\n    public void put(@RequestBody Pessoa pessoa) {\n        if (pessoa.getId() &gt; 0) {\n            pessoaRepository.save(pessoa);\n        }\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<p>Additional methods for database operations if needed</p>\n<pre><code>@Repository\npublic interface PessoaRepository extends JpaRepository&lt;Pessoa, Long&gt; {\n\n}\n</code></pre>\n<p>CrudApplication:</p>\n<p>Main method to run the Spring Boot application and initialize every crud application.</p>\n<pre><code>@SpringBootApplication\npublic class CrudApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CrudApplication.class, args);\n    }\n}\n</code></pre>\n<p>I'm facing an issue with the delete endpoint; it doesn't seem to work as expected. Additionally, I'm unsure how to connect and test this CRUD application using Postman. Any insights or guidance would be greatly appreciated!</p>\n"},{"tags":["java","user-interface","swing","layout","jpanel"],"answers":[{"comments":[{"owner":{"account_id":214500,"reputation":10290,"user_id":468508,"accept_rate":96,"display_name":"bluefoot"},"score":3,"creation_date":1364221020,"post_id":2510425,"comment_id":22150726,"body_markdown":"Or, if you are not tied to `GridLayout`, you can use [`GridBagLayout`](http://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html)","body":"Or, if you are not tied to <code>GridLayout</code>, you can use <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a>"}],"tags":[],"owner":{"account_id":112197,"reputation":2812,"user_id":296055,"display_name":"Rob Heiser"},"comment_count":1,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1269455584,"creation_date":1269455584,"answer_id":2510425,"question_id":2510159,"body_markdown":"No, you can&#39;t add components at a specific cell. What you can do is add empty JPanel objects and hold on to references to them in an array, then add components to them in any order you want.\r\n\r\nSomething like:\r\n\r\n\r\n    int i = 3;\r\n    int j = 4;\r\n    JPanel[][] panelHolder = new JPanel[i][j];    \r\n    setLayout(new GridLayout(i,j));\r\n    \r\n    for(int m = 0; m &lt; i; m++) {\r\n       for(int n = 0; n &lt; j; n++) {\r\n          panelHolder[m][n] = new JPanel();\r\n          add(panelHolder[m][n]);\r\n       }\r\n    }\r\n\r\n\r\nThen later, you can add directly to one of the JPanel objects:\r\n\r\n    panelHolder[2][3].add(new JButton(&quot;Foo&quot;));\r\n\r\n","title":"Can I add a component to a specific grid cell when a GridLayout is used?","body":"<p>No, you can't add components at a specific cell. What you can do is add empty JPanel objects and hold on to references to them in an array, then add components to them in any order you want.</p>\n\n<p>Something like:</p>\n\n<pre><code>int i = 3;\nint j = 4;\nJPanel[][] panelHolder = new JPanel[i][j];    \nsetLayout(new GridLayout(i,j));\n\nfor(int m = 0; m &lt; i; m++) {\n   for(int n = 0; n &lt; j; n++) {\n      panelHolder[m][n] = new JPanel();\n      add(panelHolder[m][n]);\n   }\n}\n</code></pre>\n\n<p>Then later, you can add directly to one of the JPanel objects:</p>\n\n<pre><code>panelHolder[2][3].add(new JButton(\"Foo\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"score":4,"creation_date":1575541336,"post_id":38800227,"comment_id":104604479,"body_markdown":"Regarding both examples if i use `panel.add(component, 1,1 );` I get `Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: illegal component position`","body":"Regarding both examples if i use <code>panel.add(component, 1,1 );</code> I get <code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: illegal component position</code>"},{"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"score":0,"creation_date":1577673925,"post_id":38800227,"comment_id":105221159,"body_markdown":"it still works fine for me.. what version of java are you using?","body":"it still works fine for me.. what version of java are you using?"},{"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"score":1,"creation_date":1577674318,"post_id":38800227,"comment_id":105221230,"body_markdown":"see https://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html\nmake sure your GridLayout is from awt","body":"see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html</a> make sure your GridLayout is from awt"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700247230,"post_id":38800227,"comment_id":136635242,"body_markdown":"the second parameter (`constraints`) is ignored, the third parameter (`index`) determines the index at which it will be inserted (same ordering as elements are added using the 1-argument `add`) (( `panel.add(component, 1, 1)` do the same as `panel.add(component, null, 1)` or `panel.add(component, 99, 1)` ))","body":"the second parameter (<code>constraints</code>) is ignored, the third parameter (<code>index</code>) determines the index at which it will be inserted (same ordering as elements are added using the 1-argument <code>add</code>) (( <code>panel.add(component, 1, 1)</code> do the same as <code>panel.add(component, null, 1)</code> or <code>panel.add(component, 99, 1)</code> ))"},{"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"score":0,"creation_date":1700251488,"post_id":38800227,"comment_id":136635848,"body_markdown":"the documentation link posted is for the GridLayout. to see the docs for JPanel you can use this link https://docs.oracle.com/javase/8/docs/api/javax/swing/JPanel.html","body":"the documentation link posted is for the GridLayout. to see the docs for JPanel you can use this link <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JPanel.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/swing/JPanel.html</a>"}],"tags":[],"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1700244600,"creation_date":1470453532,"answer_id":38800227,"question_id":2510159,"body_markdown":"Yes\r\n\r\n        import java.awt.GridLayout //Grid layout from awt docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html\r\n\r\n    \tJPanel panel = new JPanel();\r\n\t\tpanel.setLayout(new GridLayout(2,2,1,1));\r\n        JButton component= new JButton(&quot;Component&quot;);\r\n        panel.add(component, 0,0 );\r\n\r\n&lt;strong&gt;Create your panel and set its layout.&lt;/strong&gt;&lt;br&gt;\r\n&lt;i&gt;new GridLayout(numberOfRows,numberOfColums,HorizontalGap,VerticalGap)&lt;/i&gt;&lt;br&gt;&lt;br&gt;\r\n(new GridLayout(2,2,1,1)) &amp;nbsp;=&gt; here i want 2 rows, 2 columns, &lt;br&gt; - if any horizontal gaps (HGap), they should be 1px (1unit)&lt;br&gt; - I also want the same for vertical gaps so i do same as vertical gaps(VGap). i.e 1 unit\r\n&lt;br&gt; - In this case; gaps &amp;nbsp;=&gt;  spacing/margins/padding --in that sense. \r\n\r\n&lt;strong&gt;Create your components and add them to the panel&lt;/strong&gt;\r\n&lt;br&gt; - (component, 0,0 ) &amp;nbsp;=&gt; 0,0 is the row and column.. (like a 2d array). @row 0 &amp; @column 0 or at intersection of row 0 and column 0\r\n&lt;br&gt;specify where your component goes by putting the row and column where it should go. &lt;br&gt;each cell has a location == [row][column]\r\n\r\nOr you can do it without hgaps and vgaps:\r\n\r\n        JPanel panel = new JPanel();        \r\n\t\tpanel.setLayout(new GridLayout(2,2));\r\n        JButton component= new JButton(&quot;Component&quot;);\r\n        panel.add(component, 0,0 );\r\n\r\n","title":"Can I add a component to a specific grid cell when a GridLayout is used?","body":"<p>Yes</p>\n<pre><code>    import java.awt.GridLayout //Grid layout from awt docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html\n\n    JPanel panel = new JPanel();\n    panel.setLayout(new GridLayout(2,2,1,1));\n    JButton component= new JButton(&quot;Component&quot;);\n    panel.add(component, 0,0 );\n</code></pre>\n<p><strong>Create your panel and set its layout.</strong><br>\n<i>new GridLayout(numberOfRows,numberOfColums,HorizontalGap,VerticalGap)</i><br><br>\n(new GridLayout(2,2,1,1)) =&gt; here i want 2 rows, 2 columns, <br> - if any horizontal gaps (HGap), they should be 1px (1unit)<br> - I also want the same for vertical gaps so i do same as vertical gaps(VGap). i.e 1 unit\n<br> - In this case; gaps =&gt;  spacing/margins/padding --in that sense.</p>\n<p><strong>Create your components and add them to the panel</strong>\n<br> - (component, 0,0 ) =&gt; 0,0 is the row and column.. (like a 2d array). @row 0 &amp; @column 0 or at intersection of row 0 and column 0\n<br>specify where your component goes by putting the row and column where it should go. <br>each cell has a location == [row][column]</p>\n<p>Or you can do it without hgaps and vgaps:</p>\n<pre><code>    JPanel panel = new JPanel();        \n    panel.setLayout(new GridLayout(2,2));\n    JButton component= new JButton(&quot;Component&quot;);\n    panel.add(component, 0,0 );\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91359,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2510425,"answer_count":2,"score":31,"last_activity_date":1700244600,"creation_date":1269453117,"question_id":2510159,"body_markdown":"When I set the GridLayout to the JPanel and then add something, it is added subsequently in the &quot;text order&quot; (from left to right, from top to bottom). But I want to add an element to a specific cell (in the i-th row in the j-th column). Is it possible?","title":"Can I add a component to a specific grid cell when a GridLayout is used?","body":"<p>When I set the GridLayout to the JPanel and then add something, it is added subsequently in the \"text order\" (from left to right, from top to bottom). But I want to add an element to a specific cell (in the i-th row in the j-th column). Is it possible?</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1450169241,"post_id":34283829,"comment_id":56310614,"body_markdown":"You need to upgrade. 1.5 came out a decade ago.","body":"You need to upgrade. 1.5 came out a decade ago."},{"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"score":1,"creation_date":1450170419,"post_id":34283829,"comment_id":56311363,"body_markdown":"That is very true. But right now there&#39;s a big workaround there for that. So, I&#39;m looking for solution in current version","body":"That is very true. But right now there&#39;s a big workaround there for that. So, I&#39;m looking for solution in current version"},{"owner":{"account_id":2495030,"reputation":448,"user_id":2171713,"accept_rate":80,"display_name":"BryKKan"},"score":1,"creation_date":1495729508,"post_id":34283829,"comment_id":75384549,"body_markdown":"The answers to this question may be relevant:\nhttps://superuser.com/questions/747377/enable-tls-1-1-and-1-2-for-clients-on-java-7\nOf note is the Oracle documentation, which shows that while TLS1.2 is supported on Java 1.7, it is disabled by default for client connections.","body":"The answers to this question may be relevant: <a href=\"https://superuser.com/questions/747377/enable-tls-1-1-and-1-2-for-clients-on-java-7\" title=\"enable tls 1 1 and 1 2 for clients on java 7\">superuser.com/questions/747377/&hellip;</a> Of note is the Oracle documentation, which shows that while TLS1.2 is supported on Java 1.7, it is disabled by default for client connections."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1509500759,"post_id":34283829,"comment_id":81041271,"body_markdown":"The ByteArrayOutputStream is a waste of time and space here.","body":"The ByteArrayOutputStream is a waste of time and space here."},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1647973438,"post_id":34283829,"comment_id":126504705,"body_markdown":"How does one enable the protocols NOT enabled in JAVA 7? (i do not want to force their use... just enable them). Is this the correct way? System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1,TLSv1.1,TLSv1.2&quot;);","body":"How does one enable the protocols NOT enabled in JAVA 7? (i do not want to force their use... just enable them). Is this the correct way? System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1,TLSv1.1,TLSv1.2&quot;);"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1689893065,"post_id":34283829,"comment_id":135281579,"body_markdown":"@marcolopes Those protocols are either enabled or completely absent. No amount of system-property-setting can change that.","body":"@marcolopes Those protocols are either enabled or completely absent. No amount of system-property-setting can change that."}],"answers":[{"comments":[{"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"score":0,"creation_date":1450177910,"post_id":34286836,"comment_id":56316723,"body_markdown":"But, then it uses the https.protocol default to the jdk version right? I mean, in this case, when I try to connect to the third party system that requires higher https protocol  (eg : TLSv1.2) it will not supported since my java version is not higher enough. reference : https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https","body":"But, then it uses the https.protocol default to the jdk version right? I mean, in this case, when I try to connect to the third party system that requires higher https protocol  (eg : TLSv1.2) it will not supported since my java version is not higher enough. reference : <a href=\"https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https\" rel=\"nofollow noreferrer\">blogs.oracle.com/java-platform-group/entry/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1450179598,"post_id":34286836,"comment_id":56317959,"body_markdown":"It negotiates the highest protocol common to both peers. I already said that. If your Java version doesn&#39;t support what the peer requires, no amount of setting system properties is going to change that.","body":"It negotiates the highest protocol common to both peers. I already said that. If your Java version doesn&#39;t support what the peer requires, no amount of setting system properties is going to change that."},{"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"score":0,"creation_date":1450180068,"post_id":34286836,"comment_id":56318238,"body_markdown":"Yes I noted that EJP. But practically we have encountered some issues when it is not mentioned. So, you are saying that it is no use of  mentioning https.protocols higher than the java version? (We can use it to connect via  a lower protocol?). I really appreciate your comments.","body":"Yes I noted that EJP. But practically we have encountered some issues when it is not mentioned. So, you are saying that it is no use of  mentioning https.protocols higher than the java version? (We can use it to connect via  a lower protocol?). I really appreciate your comments."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1450180130,"post_id":34286836,"comment_id":56318285,"body_markdown":"That&#39;s exactly what I said. You will certainly encounter issues if the peer requires a higher version than your Java supports, but that has nothing to do with mentioning the system property. If you need TLS 1.2 support your only choice is to upgrade your Java version.","body":"That&#39;s exactly what I said. You will certainly encounter issues if the peer requires a higher version than your Java supports, but that has nothing to do with mentioning the system property. If you need TLS 1.2 support your only choice is to upgrade your Java version."},{"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"score":2,"creation_date":1450181135,"post_id":34286836,"comment_id":56318960,"body_markdown":"I understand what you are saying. But think about a situation where I have a client application called &quot;x&quot; and another client application called &quot;y&quot; that uses my implementation. Suppose my java version is 1.7. Application x needs TLSv1.2 to connect third party, So, it doesn&#39;t connect when there&#39;s no protocol mentioned since it the default for JAVA 1.7 is TLSv1. When we set the http.protocols as TLSv1.2 it works. But it effects to other client application &quot;y&quot; that needs another protocol to connect. If we don&#39;t mention the https.protocol it uses the DEFAULT one right? Not the BEST one.","body":"I understand what you are saying. But think about a situation where I have a client application called &quot;x&quot; and another client application called &quot;y&quot; that uses my implementation. Suppose my java version is 1.7. Application x needs TLSv1.2 to connect third party, So, it doesn&#39;t connect when there&#39;s no protocol mentioned since it the default for JAVA 1.7 is TLSv1. When we set the http.protocols as TLSv1.2 it works. But it effects to other client application &quot;y&quot; that needs another protocol to connect. If we don&#39;t mention the https.protocol it uses the DEFAULT one right? Not the BEST one."},{"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"score":1,"creation_date":1450181451,"post_id":34286836,"comment_id":56319198,"body_markdown":"I updated the question with Protocols and algorithms supported in each JDK version as mentioned in blogs.oracle.com.","body":"I updated the question with Protocols and algorithms supported in each JDK version as mentioned in blogs.oracle.com."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1450182746,"post_id":34286836,"comment_id":56320103,"body_markdown":"Your question says your Java version is 1.5, which doesn&#39;t support TLS 1.2, so why are we now talking about 1.7, which does? And doesn&#39;t have any problem talking to a peer that requires it? What is your actual question?","body":"Your question says your Java version is 1.5, which doesn&#39;t support TLS 1.2, so why are we now talking about 1.7, which does? And doesn&#39;t have any problem talking to a peer that requires it? What is your actual question?"},{"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"score":0,"creation_date":1450189383,"post_id":34286836,"comment_id":56324601,"body_markdown":"Yes the version where I got the issue is in java 1.5. But I&#39;m looking for a solution considering other java version also not only 1.5. And I got your answer on specifying higher protocol on lower version. It is clear and thank you very much for it. But I want to clarify this considering other versions too. Because it is (and it will be) currently using by many other versions also. If I completely remove that https.protocols from the application I want to know what will happen for above like scenarios.","body":"Yes the version where I got the issue is in java 1.5. But I&#39;m looking for a solution considering other java version also not only 1.5. And I got your answer on specifying higher protocol on lower version. It is clear and thank you very much for it. But I want to clarify this considering other versions too. Because it is (and it will be) currently using by many other versions also. If I completely remove that https.protocols from the application I want to know what will happen for above like scenarios."},{"owner":{"account_id":3653292,"reputation":1236,"user_id":3044904,"accept_rate":61,"display_name":"Salman"},"score":1,"creation_date":1472117282,"post_id":34286836,"comment_id":65627272,"body_markdown":"I am using Java 1.7 which is supporting (TLS1 , TLS1.1, TLS1.2 and SSLv3). After enabling SSl debug on the client side. I found the following `*** ClientHello, TLSv1` Can we say - based on your answer - that the strongest protocol available at the server side is TLS1.0 ?","body":"I am using Java 1.7 which is supporting (TLS1 , TLS1.1, TLS1.2 and SSLv3). After enabling SSl debug on the client side. I found the following <code>*** ClientHello, TLSv1</code> Can we say - based on your answer - that the strongest protocol available at the server side is TLS1.0 ?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1509501027,"post_id":34286836,"comment_id":81041339,"body_markdown":"What will happen in any scenario and in any version of Java is that TLS will negotiate the highest common protocol. Nothing you&#39;ve said changes anything, and your statement that &#39;it uses the default protocol&#39; is *false*. You can&#39;t tell the server version from the ClientHello message.","body":"What will happen in any scenario and in any version of Java is that TLS will negotiate the highest common protocol. Nothing you&#39;ve said changes anything, and your statement that &#39;it uses the default protocol&#39; is <i>false</i>. You can&#39;t tell the server version from the ClientHello message."},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1647973098,"post_id":34286836,"comment_id":126504589,"body_markdown":"Not true! I have JAVA 7 and a SOAP webservice. The server needs TLS 1.2 and the only way i can make it work is by forcing with System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;), but i don&#39;t want to force a &quot;system&quot; property because this service needs it!","body":"Not true! I have JAVA 7 and a SOAP webservice. The server needs TLS 1.2 and the only way i can make it work is by forcing with System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2&quot;), but i don&#39;t want to force a &quot;system&quot; property because this service needs it!"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":11,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1450175619,"creation_date":1450175619,"answer_id":34286836,"question_id":34283829,"body_markdown":"I suggest you don&#39;t set it at all. Just let the system negotiate with the peer. It will negotiate the strongest shared protocol.","title":"Issues with setting https.protocols System Property for HTTPS connections","body":"<p>I suggest you don't set it at all. Just let the system negotiate with the peer. It will negotiate the strongest shared protocol.</p>\n"}],"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35790,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":1,"score":7,"last_activity_date":1700244220,"creation_date":1450166581,"question_id":34283829,"body_markdown":"I have a Java Implementation which used by various client applications to connects to to the third party systems. These third party systems supports different protocols over http/https. In this case, all client applications are hosted in the same server where my Java Implementation hosted. So,in this case, various client applications set various https protocols to the System properties (eg: `System.setProperty(&quot;https.protocols&quot;, &quot;SSLv3&quot;)` , `System.setProperty(&quot;https.protocols&quot;, &quot;TLS&quot;)` when they are using this to connect to those third party systems.\r\n\r\nHere, the System properties are shared among all the applications in that environment. So, modifying a System property leads to many problems. So, I want to know,\r\n\r\n 1. Is there any way to get this done without using System properties?\r\n 2. Is there any way to set all the possible https.protocols so that it\r\n    supports any http or https connection made to the third party\r\n    systems supports various protocols?\r\n\r\nProtocols and algorithms supported in each JDK version as mentioned in [blogs.oracle.com][1]:\r\n[![enter image description here][2]][2]\r\n\r\n**Code :** \r\n\r\n    String responseStr = null;\r\n    \r\n    System.setProperty(&quot;https.protocols&quot;,http-protocol); // This is set by the client applications. Previously, there was one by one (eg : &quot;SSLv3&quot;. Then I changed it to &quot;TLSv1.2,TLSv1.1,TLSv1,SSLv3&quot; assuming it will enable all) \r\n    \r\n    byteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    byteArrayOutputStream.write(requestStr.getBytes());\r\n    \r\n    URL mUrl = new URL(proxy_url);\r\n    HttpURLConnection con = (HttpURLConnection) mUrl.openConnection(); // It works fine for the HttpURLConnection when there&#39;s no (s)\r\n    \r\n    con.setRequestMethod(&quot;POST&quot;);\r\n    con.setDoOutput(true);\r\n    con.setUseCaches(false);\r\n    con.setDoInput(true);\r\n    \r\n    con.setRequestProperty(&quot;user-agent&quot;,&quot;Mozilla(MSIE)&quot;);\r\n    con.setRequestProperty(&quot;Accept-Encoding&quot;,&quot;gzip,deflate&quot;);\r\n    \r\n    byteArrayOutputStream.writeTo(con.getOutputStream());\r\n    \r\n    String encodingHeader = con.getHeaderField(&quot;Content-Encoding&quot;);\r\n    InputStream inputStream = null;\r\n    \r\n    if(encodingHeader != null &amp;&amp; encodingHeader.toLowerCase().indexOf(&quot;gzip&quot;) != -1){\r\n    \tinputStream = new GZIPInputStream(con.getInputStream());\r\n    }else {\r\n    \tinputStream = con.getInputStream();\r\n    \t\r\n    }\r\n    \r\n    if (inputStream != null) {\r\n            \r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n           byte[] buffer = new byte[4096];\r\n           int length = 0;\r\n            \r\n           while ((length = inputStream.read(buffer)) != -1) {\r\n               baos.write(buffer, 0, length);\r\n           }\r\n           \r\n        responseStr = new String(baos.toByteArray());\r\n        baos.close();\r\n        \t\r\n     }\r\n\r\nMy Java version : 1.5\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https\r\n  [2]: http://i.stack.imgur.com/0Th5x.png","title":"Issues with setting https.protocols System Property for HTTPS connections","body":"<p>I have a Java Implementation which used by various client applications to connects to to the third party systems. These third party systems supports different protocols over http/https. In this case, all client applications are hosted in the same server where my Java Implementation hosted. So,in this case, various client applications set various https protocols to the System properties (eg: <code>System.setProperty(\"https.protocols\", \"SSLv3\")</code> , <code>System.setProperty(\"https.protocols\", \"TLS\")</code> when they are using this to connect to those third party systems.</p>\n\n<p>Here, the System properties are shared among all the applications in that environment. So, modifying a System property leads to many problems. So, I want to know,</p>\n\n<ol>\n<li>Is there any way to get this done without using System properties?</li>\n<li>Is there any way to set all the possible https.protocols so that it\nsupports any http or https connection made to the third party\nsystems supports various protocols?</li>\n</ol>\n\n<p>Protocols and algorithms supported in each JDK version as mentioned in <a href=\"https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https\" rel=\"noreferrer\">blogs.oracle.com</a>:\n<a href=\"https://i.stack.imgur.com/0Th5x.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0Th5x.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Code :</strong> </p>\n\n<pre><code>String responseStr = null;\n\nSystem.setProperty(\"https.protocols\",http-protocol); // This is set by the client applications. Previously, there was one by one (eg : \"SSLv3\". Then I changed it to \"TLSv1.2,TLSv1.1,TLSv1,SSLv3\" assuming it will enable all) \n\nbyteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\nbyteArrayOutputStream.write(requestStr.getBytes());\n\nURL mUrl = new URL(proxy_url);\nHttpURLConnection con = (HttpURLConnection) mUrl.openConnection(); // It works fine for the HttpURLConnection when there's no (s)\n\ncon.setRequestMethod(\"POST\");\ncon.setDoOutput(true);\ncon.setUseCaches(false);\ncon.setDoInput(true);\n\ncon.setRequestProperty(\"user-agent\",\"Mozilla(MSIE)\");\ncon.setRequestProperty(\"Accept-Encoding\",\"gzip,deflate\");\n\nbyteArrayOutputStream.writeTo(con.getOutputStream());\n\nString encodingHeader = con.getHeaderField(\"Content-Encoding\");\nInputStream inputStream = null;\n\nif(encodingHeader != null &amp;&amp; encodingHeader.toLowerCase().indexOf(\"gzip\") != -1){\n    inputStream = new GZIPInputStream(con.getInputStream());\n}else {\n    inputStream = con.getInputStream();\n\n}\n\nif (inputStream != null) {\n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n       byte[] buffer = new byte[4096];\n       int length = 0;\n\n       while ((length = inputStream.read(buffer)) != -1) {\n           baos.write(buffer, 0, length);\n       }\n\n    responseStr = new String(baos.toByteArray());\n    baos.close();\n\n }\n</code></pre>\n\n<p>My Java version : 1.5</p>\n"},{"tags":["java","spring","rest","jwt"],"answers":[{"comments":[{"owner":{"account_id":12135514,"reputation":423,"user_id":8861099,"display_name":"cUser"},"score":0,"creation_date":1700043697,"post_id":77475648,"comment_id":136605518,"body_markdown":"that is a great answer. I kind have to stick with spring security. I am just wondering if actually for the first solution if is something more needed in application yaml maybe ? I updated the question with what I added so far","body":"that is a great answer. I kind have to stick with spring security. I am just wondering if actually for the first solution if is something more needed in application yaml maybe ? I updated the question with what I added so far"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700046101,"post_id":77475648,"comment_id":136605922,"body_markdown":"My starter uses Spring Security. It does no more than helping to configure it. Follow [the link to my repo](https://github.com/ch4mpy/spring-addons/#ease-openid-configuration--tests-in-spring-boot-3), you&#39;ll find pros / cons and explanation of how it works (plus the source, of course)","body":"My starter uses Spring Security. It does no more than helping to configure it. Follow <a href=\"https://github.com/ch4mpy/spring-addons/#ease-openid-configuration--tests-in-spring-boot-3\" rel=\"nofollow noreferrer\">the link to my repo</a>, you&#39;ll find pros / cons and explanation of how it works (plus the source, of course)"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700046789,"post_id":77475648,"comment_id":136606043,"body_markdown":"No, with just `spring-boot-stater-oauth2-resource-server`, you don&#39;t need more properties than those you already have (not much is configurable for OAuth2 with official starter). As stated in the comment of the yaml in my answer, replace it only if using `spring-addons-starter-oidc` (reason is that you can&#39;t configure static multi-tenancy with Boot official properties syntax but my starter allows it). Just try exactly what I answered, both should work (without my starter, updated Java conf and same properties; or with my starter, cleared Java security conf and replaced properties)","body":"No, with just <code>spring-boot-stater-oauth2-resource-server</code>, you don&#39;t need more properties than those you already have (not much is configurable for OAuth2 with official starter). As stated in the comment of the yaml in my answer, replace it only if using <code>spring-addons-starter-oidc</code> (reason is that you can&#39;t configure static multi-tenancy with Boot official properties syntax but my starter allows it). Just try exactly what I answered, both should work (without my starter, updated Java conf and same properties; or with my starter, cleared Java security conf and replaced properties)"},{"owner":{"account_id":12135514,"reputation":423,"user_id":8861099,"display_name":"cUser"},"score":0,"creation_date":1700058151,"post_id":77475648,"comment_id":136608161,"body_markdown":"if I remove the     \noauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: https://id.test.io/\n          jwk-set-uri: https://id.test.io/.well-known/jwks.json\n\nand use your first approach I am getting soething like this Using generated security password: 761d965a-8738-4c2d-8e76-91352247d458  remove before production","body":"if I remove the      oauth2:       resourceserver:         jwt:           issuer-uri: <a href=\"https://id.test.io/\" rel=\"nofollow noreferrer\">id.test.io</a>           jwk-set-uri: <a href=\"https://id.test.io/.well-known/jwks.json\" rel=\"nofollow noreferrer\">id.test.io/.well-known/jwks.json</a>  and use your first approach I am getting soething like this Using generated security password: 761d965a-8738-4c2d-8e76-91352247d458  remove before production"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700061437,"post_id":77475648,"comment_id":136608843,"body_markdown":"Sure you are. You can&#39;t mix the solutions. The &quot;official&quot; starter doesn&#39;t know about &quot;add-ons&quot; properties. Read my comment or answer again, **these are two distinct solutions**","body":"Sure you are. You can&#39;t mix the solutions. The &quot;official&quot; starter doesn&#39;t know about &quot;add-ons&quot; properties. Read my comment or answer again, <b>these are two distinct solutions</b>"},{"owner":{"account_id":12135514,"reputation":423,"user_id":8861099,"display_name":"cUser"},"score":0,"creation_date":1700129462,"post_id":77475648,"comment_id":136617705,"body_markdown":"Unfortunately is not possible to use the add on due to some restrictions. I am allowed to use only the &quot;official&quot; implementaiton. However I can not make the endpoint to not get unauthorized. DO you think you can help with a solution that includes also a valid token ? Maybe I am misconfiguring something. Thank you very much for your support. In any other context I would use add ons but now I need to find a solution without","body":"Unfortunately is not possible to use the add on due to some restrictions. I am allowed to use only the &quot;official&quot; implementaiton. However I can not make the endpoint to not get unauthorized. DO you think you can help with a solution that includes also a valid token ? Maybe I am misconfiguring something. Thank you very much for your support. In any other context I would use add ons but now I need to find a solution without"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1700135682,"post_id":77475648,"comment_id":136618811,"body_markdown":"I gave it: it is labeled solution 1 in the answer. I you can&#39;t get it working because of other misconfigurations than those I already pointed, then you figured out why it can be safer to use my starter too configure `spring-security` for you when you&#39;re not quite sure of what you&#39;re doing.","body":"I gave it: it is labeled solution 1 in the answer. I you can&#39;t get it working because of other misconfigurations than those I already pointed, then you figured out why it can be safer to use my starter too configure <code>spring-security</code> for you when you&#39;re not quite sure of what you&#39;re doing."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700244150,"creation_date":1699895628,"answer_id":77475648,"question_id":77474707,"body_markdown":"You should remove remove  your `GrantedAuthoritiesMapper` bean, it duplicates what you already configured on the `JwtAuthenticationConverter`.\r\n\r\nWhen using `.hasAnyRole(&quot;User1&quot;, &quot;Admin3&quot;,&quot;TestDataUploader&quot;)`, you expect the authentication to contain one of `ROLE_User1`, `ROLE_Admin3` or `ROLE_TestDataUploader` authorities, but you map the `&quot;role&quot;: [ &quot;Admin&quot;, &quot;Approve&quot; ]` claim without a prefix =&gt; authorities are `Admin` and  `Approve` =&gt; **no match  because of missing `ROLE_` prefix and because expected role is `Admin3`** (not `Admin` as contained in your claims). Three options:\r\n- change access control rule to `.hasAnyAuthority(&quot;User1&quot;, &quot;Admin&quot;,&quot;TestDataUploader&quot;)`\r\n- change access control rule to `.hasAnyRole(&quot;User1&quot;, &quot;Admin&quot;,&quot;TestDataUploader&quot;)` and update your `JwtAuthenticationConverter` with `grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);`\r\n- change the role name on your authorization server from `Admin` to `ROLE_Admin3` (the claim in the token would be `&quot;role&quot;: [ &quot;ROLE_Admin3&quot;, &quot;ROLE_Approve&quot; ]`)\r\n\r\n#### Solution 1: with only &quot;official&quot; Boot starters\r\n`spring-boot-starter-oauth2-resource-server` is enough, you don&#39;t need to explicitly depend on `spring-boot-starter-security`\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nUpdate your Java conf as follow (implementation of the second bullet point above):\r\n```java\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\n@AllArgsConstructor\r\npublic class SecurityOAuth2Config {\r\n    \r\n      private static final Logger LOGGER = LogManager.getLogger(SecurityOAuth2Config.class);\r\n    \r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http, JwtAuthenticationConverter jwtAuthenticationConverter) throws Exception {\r\n        http\r\n          .cors(AbstractHttpConfigurer::disable)\r\n          .headers(header -&gt; header.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\r\n          .csrf(AbstractHttpConfigurer::disable)\r\n          .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n          .authorizeHttpRequests(req -&gt; req\r\n            .requestMatchers(antMatcher(&quot;/actuator/health&quot;)).permitAll()\r\n            .requestMatchers(antMatcher(&quot;/actuator/info&quot;)).permitAll()\r\n            .requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\r\n            // Invoked internally inside the kubernetes cluster\r\n            .requestMatchers(antMatcher(&quot;/internal/api/**&quot;)).permitAll()\r\n            .requestMatchers(antMatcher(&quot;/api/**&quot;))\r\n            .hasAnyRole(&quot;Admin&quot;, &quot;User1&quot;, &quot;TestDataUploader&quot;)\r\n            .anyRequest().permitAll()\r\n          )\r\n          .oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(jwtConfigurer -&gt;\r\n            jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter)));\r\n\r\n        return http.getOrBuild();\r\n    }\r\n    \r\n    @Bean\r\n    public JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n        var grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n        grantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;role&quot;);\r\n        grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\r\n        var jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\r\n        return jwtAuthenticationConverter;\r\n    }\r\n}\r\n```\r\nKeep the same properties (optionally remove `jwk-set-uri` which is most probably redundant in your case):\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: https://id.test.io/\r\n          # jwk-set-uri is not needed when \r\n          # - the resource server can reach .well-known/openid-configuration using issuer-uri\r\n          # - the iss claim in access tokens is exactly the value of issuer-uri (including case and trailing slash if any)\r\n          # jwk-set-uri: https://id.test.io/.well-known/jwks.json\r\n```\r\n\r\n#### Solution 2: using [my starter](https://github.com/ch4mpy/spring-addons/#ease-openid-configuration--tests-in-spring-boot-3) &amp; method security\r\n\r\nThis would probably make your life easier.\r\n\r\nOne more dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.1.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nReplace `spring.security.oauth2.resourceserver.*` with the following:\r\n```yaml\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      oidc:\r\n        ops:\r\n        - iss: https://id.test.io/\r\n          username-claim: upn\r\n          authorities:\r\n          - path: $.roles\r\n            prefix: ROLE_\r\n        resourceserver:\r\n          permit-all:\r\n          - /actuator/health\r\n          - /actuator/info\r\n          - /h2-console/**\r\n          - /internal/api/**\r\n          cors:\r\n```\r\nClear your Java security conf and add `@EnableMethodSecurity`\r\n```java\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\n@EnableMethodSecurity\r\npublic class SecurityOAuth2Config {\r\n}\r\n```\r\nYes, that simple, the stateless resource server filter-chain is created for you,  based on the application properties above.\r\n\r\nYour controller becomes (mind the `@PreAuthorize(&quot;hasAnyRole(&#39;Admin&#39;, &#39;User1&#39;, &#39;TestDataUploader&#39;)&quot;)`):\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\n@AllArgsConstructor\r\npublic class ApplicationListController {\r\n    private ServiceApp serviceApp;\r\n\r\n    @GetMapping(&quot;/app&quot;)\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;Admin&#39;, &#39;User1&#39;, &#39;TestDataUploader&#39;)&quot;)\r\n    public Collection&lt;Response&gt; getApplications() {\r\n        return serviceApp.loadResponse();\r\n    }\r\n}\r\n```","title":"How to get access to the REST endpoints based on roles that are coming from payload claim JWT","body":"<p>You should remove remove  your <code>GrantedAuthoritiesMapper</code> bean, it duplicates what you already configured on the <code>JwtAuthenticationConverter</code>.</p>\n<p>When using <code>.hasAnyRole(&quot;User1&quot;, &quot;Admin3&quot;,&quot;TestDataUploader&quot;)</code>, you expect the authentication to contain one of <code>ROLE_User1</code>, <code>ROLE_Admin3</code> or <code>ROLE_TestDataUploader</code> authorities, but you map the <code>&quot;role&quot;: [ &quot;Admin&quot;, &quot;Approve&quot; ]</code> claim without a prefix =&gt; authorities are <code>Admin</code> and  <code>Approve</code> =&gt; <strong>no match  because of missing <code>ROLE_</code> prefix and because expected role is <code>Admin3</code></strong> (not <code>Admin</code> as contained in your claims). Three options:</p>\n<ul>\n<li>change access control rule to <code>.hasAnyAuthority(&quot;User1&quot;, &quot;Admin&quot;,&quot;TestDataUploader&quot;)</code></li>\n<li>change access control rule to <code>.hasAnyRole(&quot;User1&quot;, &quot;Admin&quot;,&quot;TestDataUploader&quot;)</code> and update your <code>JwtAuthenticationConverter</code> with <code>grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);</code></li>\n<li>change the role name on your authorization server from <code>Admin</code> to <code>ROLE_Admin3</code> (the claim in the token would be <code>&quot;role&quot;: [ &quot;ROLE_Admin3&quot;, &quot;ROLE_Approve&quot; ]</code>)</li>\n</ul>\n<h4>Solution 1: with only &quot;official&quot; Boot starters</h4>\n<p><code>spring-boot-starter-oauth2-resource-server</code> is enough, you don't need to explicitly depend on <code>spring-boot-starter-security</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Update your Java conf as follow (implementation of the second bullet point above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity(debug = true)\n@AllArgsConstructor\npublic class SecurityOAuth2Config {\n    \n      private static final Logger LOGGER = LogManager.getLogger(SecurityOAuth2Config.class);\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http, JwtAuthenticationConverter jwtAuthenticationConverter) throws Exception {\n        http\n          .cors(AbstractHttpConfigurer::disable)\n          .headers(header -&gt; header.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\n          .csrf(AbstractHttpConfigurer::disable)\n          .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n          .authorizeHttpRequests(req -&gt; req\n            .requestMatchers(antMatcher(&quot;/actuator/health&quot;)).permitAll()\n            .requestMatchers(antMatcher(&quot;/actuator/info&quot;)).permitAll()\n            .requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\n            // Invoked internally inside the kubernetes cluster\n            .requestMatchers(antMatcher(&quot;/internal/api/**&quot;)).permitAll()\n            .requestMatchers(antMatcher(&quot;/api/**&quot;))\n            .hasAnyRole(&quot;Admin&quot;, &quot;User1&quot;, &quot;TestDataUploader&quot;)\n            .anyRequest().permitAll()\n          )\n          .oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(jwtConfigurer -&gt;\n            jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter)));\n\n        return http.getOrBuild();\n    }\n    \n    @Bean\n    public JwtAuthenticationConverter jwtAuthenticationConverter() {\n        var grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n        grantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;role&quot;);\n        grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\n        var jwtAuthenticationConverter = new JwtAuthenticationConverter();\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\n        return jwtAuthenticationConverter;\n    }\n}\n</code></pre>\n<p>Keep the same properties (optionally remove <code>jwk-set-uri</code> which is most probably redundant in your case):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: https://id.test.io/\n          # jwk-set-uri is not needed when \n          # - the resource server can reach .well-known/openid-configuration using issuer-uri\n          # - the iss claim in access tokens is exactly the value of issuer-uri (including case and trailing slash if any)\n          # jwk-set-uri: https://id.test.io/.well-known/jwks.json\n</code></pre>\n<h4>Solution 2: using <a href=\"https://github.com/ch4mpy/spring-addons/#ease-openid-configuration--tests-in-spring-boot-3\" rel=\"nofollow noreferrer\">my starter</a> &amp; method security</h4>\n<p>This would probably make your life easier.</p>\n<p>One more dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n    &lt;version&gt;7.1.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Replace <code>spring.security.oauth2.resourceserver.*</code> with the following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>com:\n  c4-soft:\n    springaddons:\n      oidc:\n        ops:\n        - iss: https://id.test.io/\n          username-claim: upn\n          authorities:\n          - path: $.roles\n            prefix: ROLE_\n        resourceserver:\n          permit-all:\n          - /actuator/health\n          - /actuator/info\n          - /h2-console/**\n          - /internal/api/**\n          cors:\n</code></pre>\n<p>Clear your Java security conf and add <code>@EnableMethodSecurity</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity(debug = true)\n@EnableMethodSecurity\npublic class SecurityOAuth2Config {\n}\n</code></pre>\n<p>Yes, that simple, the stateless resource server filter-chain is created for you,  based on the application properties above.</p>\n<p>Your controller becomes (mind the <code>@PreAuthorize(&quot;hasAnyRole('Admin', 'User1', 'TestDataUploader')&quot;)</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api&quot;)\n@AllArgsConstructor\npublic class ApplicationListController {\n    private ServiceApp serviceApp;\n\n    @GetMapping(&quot;/app&quot;)\n    @PreAuthorize(&quot;hasAnyRole('Admin', 'User1', 'TestDataUploader')&quot;)\n    public Collection&lt;Response&gt; getApplications() {\n        return serviceApp.loadResponse();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25667539,"reputation":1,"user_id":19432251,"display_name":"Aloysius Tri Sulistyo Putranto"},"score":0,"creation_date":1699933696,"post_id":77478086,"comment_id":136590114,"body_markdown":"in my case now `ROLE` Not Dynamic, im using dynamic with `PERMISSION`","body":"in my case now <code>ROLE</code> Not Dynamic, im using dynamic with <code>PERMISSION</code>"}],"tags":[],"owner":{"account_id":25667539,"reputation":1,"user_id":19432251,"display_name":"Aloysius Tri Sulistyo Putranto"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699933598,"creation_date":1699933557,"answer_id":77478086,"question_id":77474707,"body_markdown":"Give Access Ur Controller with `@PreAuthorize(&quot;hasAnyAuthority(&#39;role&#39;)&quot;)`\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @AllArgsConstructor\r\n    public class ApplicationListController {\r\n        private ServiceApp serviceApp;\r\n    \r\n        @GetMapping(&quot;/app&quot;)\r\n        @PreAuthorize(&quot;hasAnyAuthority(&#39;Admin&#39;,&#39;Approve&#39;)&quot;)\r\n        public Collection&lt;Response&gt; getApplications() {\r\n            return serviceApp.loadResponse();\r\n        }\r\n    }","title":"How to get access to the REST endpoints based on roles that are coming from payload claim JWT","body":"<p>Give Access Ur Controller with <code>@PreAuthorize(&quot;hasAnyAuthority('role')&quot;)</code></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\n@AllArgsConstructor\npublic class ApplicationListController {\n    private ServiceApp serviceApp;\n\n    @GetMapping(&quot;/app&quot;)\n    @PreAuthorize(&quot;hasAnyAuthority('Admin','Approve')&quot;)\n    public Collection&lt;Response&gt; getApplications() {\n        return serviceApp.loadResponse();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12135514,"reputation":423,"user_id":8861099,"display_name":"cUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77475648,"answer_count":2,"score":-1,"last_activity_date":1700244150,"creation_date":1699886605,"question_id":77474707,"body_markdown":"I am trying to authenticate myself based on roles that I get in my claims. Basically I want to be able to connect to my application only if the specific roles are part of the claim  \r\n\r\nDependencies :\r\n```xml\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.4&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.4&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.4&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThis is my security class :\r\n\r\n \r\n```java\r\n    @Configuration\r\n    @EnableWebSecurity(debug = true)\r\n    @AllArgsConstructor\r\n    public class SecurityOAuth2Config {\r\n    \r\n      private static final Logger LOGGER = LogManager.getLogger(SecurityOAuth2Config.class);\r\n    \r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n        http\r\n          .cors(AbstractHttpConfigurer::disable)\r\n          .headers(header -&gt; header.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\r\n          .csrf(AbstractHttpConfigurer::disable)\r\n          .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n          .authorizeHttpRequests(req -&gt; req\r\n            .requestMatchers(antMatcher(&quot;/actuator/health&quot;)).permitAll()\r\n            .requestMatchers(antMatcher(&quot;/actuator/info&quot;)).permitAll()\r\n            .requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\r\n            // Invoked internally inside the kubernetes cluster\r\n            .requestMatchers(antMatcher(&quot;/internal/api/**&quot;)).permitAll()\r\n            .requestMatchers(antMatcher(&quot;/api/**&quot;))\r\n            .hasAnyRole(&quot;User1&quot;, &quot;Admin3&quot;,&quot;TestDataUploader&quot;)\r\n            .anyRequest().permitAll()\r\n          )\r\n          .oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(jwtConfigurer -&gt;\r\n            jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter())));\r\n    \r\n    \r\n        return http.getOrBuild();\r\n      }\r\n    \r\n      @Bean\r\n      public JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n        var grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n        grantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;role&quot;);\r\n        grantedAuthoritiesConverter.setAuthorityPrefix(&quot;&quot;);\r\n        var jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\r\n        return jwtAuthenticationConverter;\r\n      }\r\n    \r\n      @Bean\r\n      public GrantedAuthoritiesMapper userAuthoritiesMapper() {\r\n        return (authorities) -&gt; {\r\n          Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\r\n          LOGGER.info(&quot;AUTHORITIES &quot; +  authorities);\r\n          authorities.forEach(authority -&gt; {\r\n            if (authority instanceof OidcUserAuthority oidcAuth) {\r\n              oidcAuth.getUserInfo().getClaimAsStringList(&quot;role&quot;).forEach(\r\n                role -&gt; mappedAuthorities.add(new SimpleGrantedAuthority(&quot;&quot; + role)));\r\n            }\r\n          });\r\n          mappedAuthorities.addAll(authorities);\r\n    \r\n          return mappedAuthorities;\r\n        };\r\n      }\r\n    }\r\n```\r\n\r\nI all the time get unauthorized \r\n\r\n\r\nBearer token example \r\n```json\r\n{\r\n  &quot;sub&quot;: &quot;1234567890&quot;,\r\n  &quot;name&quot;: &quot;John Doe&quot;,\r\n  &quot;iat&quot;: 1699881658,\r\n  &quot;iss&quot;: &quot;https://id.test.io/&quot;,\r\n  &quot;upn&quot;: &quot;Jon&quot;,\r\n  &quot;role&quot;: [\r\n    &quot;Admin&quot;,\r\n    &quot;Approve&quot;\r\n  ]\r\n}\r\n```\r\n\r\nController endpoint example\r\n\r\n```java\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @AllArgsConstructor\r\n    public class ApplicationListController {\r\n      private ServiceApp serviceApp;\r\n\r\n     @GetMapping(&quot;/app&quot;)\r\n     public Collection&lt;Response&gt; getApplications() {\r\n       return serviceApp.loadResponse();\r\n    }\r\n   }\r\n```\r\n\r\nApplication yaml file \r\n\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n            jwt:\r\n              issuer-uri: https://id.test.io/\r\n              jwk-set-uri: https://id.test.io/.well-known/jwks.json\r\n\r\n","title":"How to get access to the REST endpoints based on roles that are coming from payload claim JWT","body":"<p>I am trying to authenticate myself based on roles that I get in my claims. Basically I want to be able to connect to my application only if the specific roles are part of the claim</p>\n<p>Dependencies :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n          &lt;version&gt;3.1.4&lt;/version&gt;\n          &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n          &lt;version&gt;3.1.4&lt;/version&gt;\n          &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n          &lt;version&gt;3.1.4&lt;/version&gt;\n          &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This is my security class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    @EnableWebSecurity(debug = true)\n    @AllArgsConstructor\n    public class SecurityOAuth2Config {\n    \n      private static final Logger LOGGER = LogManager.getLogger(SecurityOAuth2Config.class);\n    \n      @Bean\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    \n        http\n          .cors(AbstractHttpConfigurer::disable)\n          .headers(header -&gt; header.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\n          .csrf(AbstractHttpConfigurer::disable)\n          .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n          .authorizeHttpRequests(req -&gt; req\n            .requestMatchers(antMatcher(&quot;/actuator/health&quot;)).permitAll()\n            .requestMatchers(antMatcher(&quot;/actuator/info&quot;)).permitAll()\n            .requestMatchers(antMatcher(&quot;/h2-console/**&quot;)).permitAll()\n            // Invoked internally inside the kubernetes cluster\n            .requestMatchers(antMatcher(&quot;/internal/api/**&quot;)).permitAll()\n            .requestMatchers(antMatcher(&quot;/api/**&quot;))\n            .hasAnyRole(&quot;User1&quot;, &quot;Admin3&quot;,&quot;TestDataUploader&quot;)\n            .anyRequest().permitAll()\n          )\n          .oauth2ResourceServer((oauth2) -&gt; oauth2.jwt(jwtConfigurer -&gt;\n            jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter())));\n    \n    \n        return http.getOrBuild();\n      }\n    \n      @Bean\n      public JwtAuthenticationConverter jwtAuthenticationConverter() {\n        var grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n        grantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;role&quot;);\n        grantedAuthoritiesConverter.setAuthorityPrefix(&quot;&quot;);\n        var jwtAuthenticationConverter = new JwtAuthenticationConverter();\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\n        return jwtAuthenticationConverter;\n      }\n    \n      @Bean\n      public GrantedAuthoritiesMapper userAuthoritiesMapper() {\n        return (authorities) -&gt; {\n          Set&lt;GrantedAuthority&gt; mappedAuthorities = new HashSet&lt;&gt;();\n          LOGGER.info(&quot;AUTHORITIES &quot; +  authorities);\n          authorities.forEach(authority -&gt; {\n            if (authority instanceof OidcUserAuthority oidcAuth) {\n              oidcAuth.getUserInfo().getClaimAsStringList(&quot;role&quot;).forEach(\n                role -&gt; mappedAuthorities.add(new SimpleGrantedAuthority(&quot;&quot; + role)));\n            }\n          });\n          mappedAuthorities.addAll(authorities);\n    \n          return mappedAuthorities;\n        };\n      }\n    }\n</code></pre>\n<p>I all the time get unauthorized</p>\n<p>Bearer token example</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;sub&quot;: &quot;1234567890&quot;,\n  &quot;name&quot;: &quot;John Doe&quot;,\n  &quot;iat&quot;: 1699881658,\n  &quot;iss&quot;: &quot;https://id.test.io/&quot;,\n  &quot;upn&quot;: &quot;Jon&quot;,\n  &quot;role&quot;: [\n    &quot;Admin&quot;,\n    &quot;Approve&quot;\n  ]\n}\n</code></pre>\n<p>Controller endpoint example</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RestController\n    @RequestMapping(&quot;/api&quot;)\n    @AllArgsConstructor\n    public class ApplicationListController {\n      private ServiceApp serviceApp;\n\n     @GetMapping(&quot;/app&quot;)\n     public Collection&lt;Response&gt; getApplications() {\n       return serviceApp.loadResponse();\n    }\n   }\n</code></pre>\n<p>Application yaml file</p>\n<pre><code>  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: https://id.test.io/\n          jwk-set-uri: https://id.test.io/.well-known/jwks.json\n</code></pre>\n"},{"tags":["java","cucumber","wiremock"],"comments":[{"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"score":0,"creation_date":1700394408,"post_id":77503751,"comment_id":136646811,"body_markdown":"Use &quot;https&quot; schema, and ensure port (mandatory field) is changed: `mockServerClient = new WireMock(&quot;https&quot;, baseUrl, 443);` I&#39;m still not sure why I can hit the non-https endpoint via Postman with no issues though. Replicated redirect issue with RestAssured&#39;s RequestSpecificationBuilder. And logging and using that same request via Postman still works...","body":"Use &quot;https&quot; schema, and ensure port (mandatory field) is changed: <code>mockServerClient = new WireMock(&quot;https&quot;, baseUrl, 443);</code> I&#39;m still not sure why I can hit the non-https endpoint via Postman with no issues though. Replicated redirect issue with RestAssured&#39;s RequestSpecificationBuilder. And logging and using that same request via Postman still works..."}],"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700244025,"creation_date":1700244025,"question_id":77503751,"body_markdown":"I&#39;m running the two following commands in the debugger:\r\n```\r\nmockServerClient.register(put(urlEqualTo(&quot;apiEndpoint&quot;)).willReturn(ok()));\r\nmockServerClient.getStubMapping(UUID.fromString(&quot;d8fb42c5-927d-476b-bbb3-20f92a31bd05&quot;/* \r\nUUID copied from register response  */));\r\n```\r\nConstruction of wire mock client:\r\n```\r\nvar mockServerClient = new WireMock(&quot;mock-server.ourInternalDomain.com&quot;, 80);\r\n```\r\n\r\nThe `register` call returns a full object (copied from debugger, and yes, different UUID from above as different instance of call):\r\n```\r\n{\r\n  &quot;id&quot; : &quot;50434254-76db-45c6-8601-60399544833b&quot;,\r\n  &quot;request&quot; : {\r\n    &quot;url&quot; : &quot;apiEndpoint&quot;,\r\n    &quot;method&quot; : &quot;PUT&quot;\r\n  },\r\n  &quot;response&quot; : {\r\n    &quot;status&quot; : 200\r\n  },\r\n  &quot;uuid&quot; : &quot;50434254-76db-45c6-8601-60399544833b&quot;\r\n}\r\n```\r\nBut the following `getStubMapping` call returns a 308 permanent redirect response:\r\n```\r\n{\r\n  &quot;errors&quot; : [ {\r\n    &quot;code&quot; : 10,\r\n    &quot;source&quot; : { },\r\n    &quot;title&quot; : &quot;Error parsing JSON&quot;,\r\n    &quot;detail&quot; : &quot;Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\\n at [Source: (String)\\&quot;&lt;html&gt;\\r\\n&lt;head&gt;&lt;title&gt;308 Permanent Redirect&lt;/title&gt;&lt;/head&gt;\\r\\n&lt;body&gt;\\r\\n&lt;center&gt;&lt;h1&gt;308 Permanent Redirect&lt;/h1&gt;&lt;/center&gt;\\r\\n&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;\\r\\n\\&quot;; line: 1, column: 2]&quot;\r\n  } ]\r\n}\r\n```\r\n\r\nCalling the mock server via Postman yields valid results, so can&#39;t repro the issue.\r\nWhy am I getting valid response for `register` but not for `getStubMapping`?\r\n\r\nJava17, Cucumber","title":"WireMock client throws JsonException on HTTP 308 permanent redirect response from server","body":"<p>I'm running the two following commands in the debugger:</p>\n<pre><code>mockServerClient.register(put(urlEqualTo(&quot;apiEndpoint&quot;)).willReturn(ok()));\nmockServerClient.getStubMapping(UUID.fromString(&quot;d8fb42c5-927d-476b-bbb3-20f92a31bd05&quot;/* \nUUID copied from register response  */));\n</code></pre>\n<p>Construction of wire mock client:</p>\n<pre><code>var mockServerClient = new WireMock(&quot;mock-server.ourInternalDomain.com&quot;, 80);\n</code></pre>\n<p>The <code>register</code> call returns a full object (copied from debugger, and yes, different UUID from above as different instance of call):</p>\n<pre><code>{\n  &quot;id&quot; : &quot;50434254-76db-45c6-8601-60399544833b&quot;,\n  &quot;request&quot; : {\n    &quot;url&quot; : &quot;apiEndpoint&quot;,\n    &quot;method&quot; : &quot;PUT&quot;\n  },\n  &quot;response&quot; : {\n    &quot;status&quot; : 200\n  },\n  &quot;uuid&quot; : &quot;50434254-76db-45c6-8601-60399544833b&quot;\n}\n</code></pre>\n<p>But the following <code>getStubMapping</code> call returns a 308 permanent redirect response:</p>\n<pre><code>{\n  &quot;errors&quot; : [ {\n    &quot;code&quot; : 10,\n    &quot;source&quot; : { },\n    &quot;title&quot; : &quot;Error parsing JSON&quot;,\n    &quot;detail&quot; : &quot;Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\\n at [Source: (String)\\&quot;&lt;html&gt;\\r\\n&lt;head&gt;&lt;title&gt;308 Permanent Redirect&lt;/title&gt;&lt;/head&gt;\\r\\n&lt;body&gt;\\r\\n&lt;center&gt;&lt;h1&gt;308 Permanent Redirect&lt;/h1&gt;&lt;/center&gt;\\r\\n&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;\\r\\n&lt;/body&gt;\\r\\n&lt;/html&gt;\\r\\n\\&quot;; line: 1, column: 2]&quot;\n  } ]\n}\n</code></pre>\n<p>Calling the mock server via Postman yields valid results, so can't repro the issue.\nWhy am I getting valid response for <code>register</code> but not for <code>getStubMapping</code>?</p>\n<p>Java17, Cucumber</p>\n"},{"tags":["java","date","datetime","simpledateformat"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":3,"creation_date":1700232907,"post_id":77502530,"comment_id":136632717,"body_markdown":"`LocalDateTime` should be used instead of `Date`, and should make it easier.","body":"<code>LocalDateTime</code> should be used instead of <code>Date</code>, and should make it easier."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700233515,"post_id":77502530,"comment_id":136632826,"body_markdown":"I may consider using `LocalDateTime`, but still, I&#39;m manually setting hours, minutes etc. I just don&#39;t understand why it&#39;s not working as intended. I&#39;m not a newbie.","body":"I may consider using <code>LocalDateTime</code>, but still, I&#39;m manually setting hours, minutes etc. I just don&#39;t understand why it&#39;s not working as intended. I&#39;m not a newbie."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1700234783,"post_id":77502530,"comment_id":136633035,"body_markdown":"[java.time](https://docs.oracle.com/javase/tutorial/datetime/index.html) package was added because classes `Date` and `Calendar` are problematic. Why do you prefer to use `Date` and `Calendar` (and `SimpleDateFormat`) rather than `LocalDateTime` and `DateTimeFormatter`?","body":"<a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time</a> package was added because classes <code>Date</code> and <code>Calendar</code> are problematic. Why do you prefer to use <code>Date</code> and <code>Calendar</code> (and <code>SimpleDateFormat</code>) rather than <code>LocalDateTime</code> and <code>DateTimeFormatter</code>?"},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700234973,"post_id":77502530,"comment_id":136633061,"body_markdown":"Because, before this, I didn&#39;t know `Calendar` and `Date` were so inconsistent. I learned something.","body":"Because, before this, I didn&#39;t know <code>Calendar</code> and <code>Date</code> were so inconsistent. I learned something."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1700235156,"post_id":77502530,"comment_id":136633098,"body_markdown":"You are getting 12:00:00 because you are using Calendar.HOUR, which represents an AM/PM time.  You need to use Calendar.HOUR_OF_DAY instead.","body":"You are getting 12:00:00 because you are using Calendar.HOUR, which represents an AM/PM time.  You need to use Calendar.HOUR_OF_DAY instead."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700326670,"post_id":77502530,"comment_id":136641997,"body_markdown":"@VGR thank you so much! This is the answer I was looking for!","body":"@VGR thank you so much! This is the answer I was looking for!"}],"answers":[{"comments":[{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":1,"creation_date":1700234401,"post_id":77502732,"comment_id":136632972,"body_markdown":"Trying ASAP! Thank you for the effort","body":"Trying ASAP! Thank you for the effort"},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700234472,"post_id":77502732,"comment_id":136632988,"body_markdown":"`uuuu-MM-dd HH:mm:ss.SSS`, is `uuuu` a typo or is it actually a pattern?","body":"<code>uuuu-MM-dd HH:mm:ss.SSS</code>, is <code>uuuu</code> a typo or is it actually a pattern?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1700234546,"post_id":77502732,"comment_id":136633003,"body_markdown":"It&#39;s not a typo, there&#39;s `yyyy`, too, in `java.time`, but it&#39;s year of era there No need to mess with era ;-) But the difference would rarely impact the result in your case, I think.","body":"It&#39;s not a typo, there&#39;s <code>yyyy</code>, too, in <code>java.time</code>, but it&#39;s year of era there No need to mess with era ;-) But the difference would rarely impact the result in your case, I think."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700234648,"post_id":77502732,"comment_id":136633016,"body_markdown":"The string I&#39;m generating will be inserted in a SQL Server `PreparedStatement`. Do you think `uuuu` format is more errorproof?","body":"The string I&#39;m generating will be inserted in a SQL Server <code>PreparedStatement</code>. Do you think <code>uuuu</code> format is more errorproof?"},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":1,"creation_date":1700234919,"post_id":77502732,"comment_id":136633049,"body_markdown":"Works smooth! Thank you so much again for your precious.. time!","body":"Works smooth! Thank you so much again for your precious.. time!"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1700235129,"post_id":77502732,"comment_id":136633090,"body_markdown":"Yes. `TemporalAdjusters` is the way to go.","body":"Yes. <code>TemporalAdjusters</code> is the way to go."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700236415,"post_id":77502732,"comment_id":136633330,"body_markdown":"@deHaar, you have a typo in your arrow entity!  ... `&amp;rArr`.","body":"@deHaar, you have a typo in your arrow entity!  ... <code>&amp;rArr</code>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700240442,"post_id":77502732,"comment_id":136634127,"body_markdown":"@Marco if that is intended for SQL, it is recommended to use the respective date/time objects and not Strings","body":"@Marco if that is intended for SQL, it is recommended to use the respective date/time objects and not Strings"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1700243807,"post_id":77502732,"comment_id":136634743,"body_markdown":"@Reilas Thanks, I forgot the `;` now it&#39;s correct.","body":"@Reilas Thanks, I forgot the <code>;</code> now it&#39;s correct."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700243775,"creation_date":1700234252,"answer_id":77502732,"question_id":77502530,"body_markdown":"You say *any help is highly appreciated*, so here&#39;s an example that uses `java.time`, which uses *today* as base and calculates the two desired results as follows:\r\n\r\n##### First of current month in the last year\r\n- subtract a year from today (`2023-11-17` &amp;rArr; `2022-11-17`)\r\n- take the first of that month (`2022-11-17` &amp;rArr; `2022-11-01`)\r\n- involve the start of the day (`2022-11-01` &amp;rArr; `2022-11-01 00:00:00.000`)\r\n\r\n##### Last day of last month at the end of the day\r\n- subtract a month from today (`2023-11-17` &amp;rArr; `2023-10-17`)\r\n- go to the last day of that month (`2023-10-17` &amp;rArr; `2023-10-31`)\r\n- append the maximum time of day (`2023-10-31` &amp;rArr; `2023-10-31 23:59:59.999`)\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tLocalDateTime lastYearSameMonthFirstDay\r\n\t\t\t\t\t\t// today (without time of day)\r\n\t\t\t\t\t\t= LocalDate.now()\r\n\t\t\t\t\t\t\t\t   // subtract 1 from the year\r\n\t\t\t\t\t\t\t\t   .minusYears(1)\r\n\t\t\t\t\t\t\t\t   // go to the first day of month \r\n\t\t\t\t\t\t\t\t   .with(TemporalAdjusters.firstDayOfMonth())\r\n\t\t\t\t\t\t\t\t   // append the start of the day\r\n\t\t\t\t\t\t\t\t   .atStartOfDay();\r\n\t\r\n\tLocalDateTime lastDayOfPreviousMonth\r\n\t\t\t\t\t\t// today (date only as above)\r\n\t\t\t\t\t\t= LocalDate.now()\r\n\t\t\t\t\t\t\t\t   // subract 1 from the month value\r\n\t\t\t\t\t\t\t\t   .minusMonths(1)\r\n\t\t\t\t\t\t\t\t   // go to the last day of that month\r\n\t\t\t\t\t\t\t\t   .with(TemporalAdjusters.lastDayOfMonth())\r\n\t\t\t\t\t\t\t\t   // append the end of the day\r\n\t\t\t\t\t\t\t\t   .atTime(LocalTime.MAX);\r\n\t// prepare a formatter for the output\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS&quot;);\r\n\t// and print both LocalDateTimes formatted as desired\r\n\tSystem.out.println(lastYearSameMonthFirstDay.format(dtf));\r\n\tSystem.out.println(lastDayOfPreviousMonth.format(dtf));\r\n}\r\n```\r\n\r\nOutput (execution date 2023-11-17):\r\n```none\r\n2022-11-01 00:00:00.000\r\n2023-10-31 23:59:59.999\r\n```","title":"Date Pattern starting from 12 hours","body":"<p>You say <em>any help is highly appreciated</em>, so here's an example that uses <code>java.time</code>, which uses <em>today</em> as base and calculates the two desired results as follows:</p>\n<h5>First of current month in the last year</h5>\n<ul>\n<li>subtract a year from today (<code>2023-11-17</code>  <code>2022-11-17</code>)</li>\n<li>take the first of that month (<code>2022-11-17</code>  <code>2022-11-01</code>)</li>\n<li>involve the start of the day (<code>2022-11-01</code>  <code>2022-11-01 00:00:00.000</code>)</li>\n</ul>\n<h5>Last day of last month at the end of the day</h5>\n<ul>\n<li>subtract a month from today (<code>2023-11-17</code>  <code>2023-10-17</code>)</li>\n<li>go to the last day of that month (<code>2023-10-17</code>  <code>2023-10-31</code>)</li>\n<li>append the maximum time of day (<code>2023-10-31</code>  <code>2023-10-31 23:59:59.999</code>)</li>\n</ul>\n<pre><code>public static void main(String[] args) {\n    LocalDateTime lastYearSameMonthFirstDay\n                        // today (without time of day)\n                        = LocalDate.now()\n                                   // subtract 1 from the year\n                                   .minusYears(1)\n                                   // go to the first day of month \n                                   .with(TemporalAdjusters.firstDayOfMonth())\n                                   // append the start of the day\n                                   .atStartOfDay();\n    \n    LocalDateTime lastDayOfPreviousMonth\n                        // today (date only as above)\n                        = LocalDate.now()\n                                   // subract 1 from the month value\n                                   .minusMonths(1)\n                                   // go to the last day of that month\n                                   .with(TemporalAdjusters.lastDayOfMonth())\n                                   // append the end of the day\n                                   .atTime(LocalTime.MAX);\n    // prepare a formatter for the output\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS&quot;);\n    // and print both LocalDateTimes formatted as desired\n    System.out.println(lastYearSameMonthFirstDay.format(dtf));\n    System.out.println(lastDayOfPreviousMonth.format(dtf));\n}\n</code></pre>\n<p>Output (execution date 2023-11-17):</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-11-01 00:00:00.000\n2023-10-31 23:59:59.999\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700326450,"post_id":77502947,"comment_id":136641955,"body_markdown":"I appreciate your help, but your code is just like mine. I used the same functions to achieve the same goal. I don&#39;t receive the output I need (and that you specified), which is exactly the purpose of this question: why is this not working properly? Anyway, I solved using LocalDateTime. Thanks again for your help.","body":"I appreciate your help, but your code is just like mine. I used the same functions to achieve the same goal. I don&#39;t receive the output I need (and that you specified), which is exactly the purpose of this question: why is this not working properly? Anyway, I solved using LocalDateTime. Thanks again for your help."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700328991,"post_id":77502947,"comment_id":136642267,"body_markdown":"@MarcoFragDelleMonache, possibly a different version of _Java_?  I don&#39;t see why, otherwise.","body":"@MarcoFragDelleMonache, possibly a different version of <i>Java</i>?  I don&#39;t see why, otherwise."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700469432,"post_id":77502947,"comment_id":136653871,"body_markdown":"I&#39;m using Java 8, but probably the only difference is that you use `Calendar.HOUR_OF_DAY` instead of `Calendar.HOUR`","body":"I&#39;m using Java 8, but probably the only difference is that you use <code>Calendar.HOUR_OF_DAY</code> instead of <code>Calendar.HOUR</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700494998,"post_id":77502947,"comment_id":136658445,"body_markdown":"@MarcoFragDelleMonache, one of your requirements was to have a value of, _&quot;2023-10-31 23:59:59.999&quot;_.  This requires _HOUR_OF_DAY_, and not _HOUR_.  I believe, unless I&#39;ve overlooked something.","body":"@MarcoFragDelleMonache, one of your requirements was to have a value of, <i>&quot;2023-10-31 23:59:59.999&quot;</i>.  This requires <i>HOUR_OF_DAY</i>, and not <i>HOUR</i>.  I believe, unless I&#39;ve overlooked something."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1700502098,"post_id":77502947,"comment_id":136659878,"body_markdown":"Indeed, yours it the right way to do that","body":"Indeed, yours it the right way to do that"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700236191,"creation_date":1700236191,"answer_id":77502947,"question_id":77502530,"body_markdown":"&gt; _&quot;... I need to retrieve two dates:_\r\n&gt;\r\n&gt; - _Last year, same month, day 1, 00:00:00.000_\r\n&gt; - _Last day of previous month, 23:59:59.999 ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\nimport static java.util.Calendar.*;\r\n```\r\n\r\n```java\r\nCalendar a, b;\r\na = GregorianCalendar.getInstance();\r\na.set(YEAR, a.get(YEAR) - 1);\r\na.set(DAY_OF_MONTH, 1);\r\na.set(HOUR, 0);\r\na.set(MINUTE, 0);\r\na.set(SECOND, 0);\r\na.set(MILLISECOND, 0);\r\nb = GregorianCalendar.getInstance();\r\nb.add(MONTH, -1);\r\nb.set(DAY_OF_MONTH, b.getActualMaximum(DAY_OF_MONTH));\r\nb.set(HOUR_OF_DAY, 23);\r\nb.set(MINUTE, 59);\r\nb.set(SECOND, 59);\r\nb.set(MILLISECOND, 999);\r\n```\r\n\r\n&gt; _&quot;... Also, I can&#39;t retrieve the last day of the previous month. As I have read here, all I keep getting is the first day of the next month. ...&quot;_\r\n\r\nUse the _[getActualMaximum](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Calendar.html#getActualMaximum(int))_ method.\r\n\r\n&gt; _&quot;... I&#39;m trying to convert two dates into this pattern: `yyyy-MM-dd HH:mm:ss.SSS`. ...&quot;_\r\n\r\nOptionally, you can use basic format specifiers here.\\\r\nThere is a full list in the _[Formatter](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html#ddt)_ _JavaDoc_.\r\n\r\n```java\r\nSystem.out.printf(&quot;%tF %&lt;tT.%&lt;tL%n&quot;, a.getTime());\r\nSystem.out.printf(&quot;%tF %&lt;tT.%&lt;tL%n&quot;, b.getTime());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n2022-11-01 00:00:00.000\r\n2023-10-31 23:59:59.999\r\n```","title":"Date Pattern starting from 12 hours","body":"<blockquote>\n<p><em>&quot;... I need to retrieve two dates:</em></p>\n<ul>\n<li><em>Last year, same month, day 1, 00:00:00.000</em></li>\n<li><em>Last day of previous month, 23:59:59.999 ...&quot;</em></li>\n</ul>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.Calendar.*;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar a, b;\na = GregorianCalendar.getInstance();\na.set(YEAR, a.get(YEAR) - 1);\na.set(DAY_OF_MONTH, 1);\na.set(HOUR, 0);\na.set(MINUTE, 0);\na.set(SECOND, 0);\na.set(MILLISECOND, 0);\nb = GregorianCalendar.getInstance();\nb.add(MONTH, -1);\nb.set(DAY_OF_MONTH, b.getActualMaximum(DAY_OF_MONTH));\nb.set(HOUR_OF_DAY, 23);\nb.set(MINUTE, 59);\nb.set(SECOND, 59);\nb.set(MILLISECOND, 999);\n</code></pre>\n<blockquote>\n<p><em>&quot;... Also, I can't retrieve the last day of the previous month. As I have read here, all I keep getting is the first day of the next month. ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Calendar.html#getActualMaximum(int)\" rel=\"nofollow noreferrer\">getActualMaximum</a></em> method.</p>\n<blockquote>\n<p><em>&quot;... I'm trying to convert two dates into this pattern: <code>yyyy-MM-dd HH:mm:ss.SSS</code>. ...&quot;</em></p>\n</blockquote>\n<p>Optionally, you can use basic format specifiers here.<br />\nThere is a full list in the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html#ddt\" rel=\"nofollow noreferrer\">Formatter</a></em> <em>JavaDoc</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%tF %&lt;tT.%&lt;tL%n&quot;, a.getTime());\nSystem.out.printf(&quot;%tF %&lt;tT.%&lt;tL%n&quot;, b.getTime());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-11-01 00:00:00.000\n2023-10-31 23:59:59.999\n</code></pre>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77502732,"answer_count":2,"score":2,"last_activity_date":1700243775,"creation_date":1700232567,"question_id":77502530,"body_markdown":"I&#39;m trying to convert two dates into this pattern: `yyyy-MM-dd HH:mm:ss.SSS`.\r\n\r\nI need to retrieve two dates:\r\n\r\n- Last year, same month, day 1, 00:00:00.000\r\n- Last day of previous month, 23:59:59.999\r\n\r\nSo, as of today, I need these two values:\r\n\r\n- `2022-11-01 00:00:00.000`\r\n- `2023-10-31 23:59:59.999`\r\n\r\nThe problem is: I get `2022-11-01 12:00:00.000`.\r\n\r\nThis is the code that generates last year&#39;s date.\r\n\r\n    private String getLastYear() {\r\n        DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n        Date date = new Date();\r\n        Calendar c = Calendar.getInstance();\r\n        c.setTime(date);\r\n        c.add(Calendar.YEAR, -1);\r\n        c.set(Calendar.DAY_OF_MONTH, 1);\r\n        c.set(Calendar.HOUR, 0);\r\n        c.set(Calendar.MINUTE, 0);\r\n        c.set(Calendar.SECOND, 0);\r\n        c.set(Calendar.MILLISECOND, 0);\r\n        return format.format(c.getTime());\r\n    }\r\n\r\nIf I try adding one hour, the output will be: `2022-11-01 13:00:00.000`.\r\n\r\nAlso, I can&#39;t retrieve the last day of the previous month. As I have read [here][1], all I keep getting is the first day of the next month.\r\n\r\nHere&#39;s the code.\r\n\r\n    private String getPreviousMonth() {\r\n        DateFormat format = new SimpleDateFormat(DATE_PATTERN);\r\n        Calendar c = Calendar.getInstance();\r\n        Date date = new Date();\r\n        c.setTime(date);\r\n        c.add(Calendar.MONTH, -1);\r\n        c.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n        c.set(Calendar.HOUR, 23);\r\n        c.set(Calendar.MINUTE, 59);\r\n        c.set(Calendar.SECOND, 59);\r\n        c.set(Calendar.MILLISECOND, 999);\r\n        return format.format(c.getTime());\r\n    }\r\n\r\nThere is something I&#39;m missing.\r\nAny help is highly appreciated!\r\n\r\n  [1]: https://stackoverflow.com/a/34076758/11961036","title":"Date Pattern starting from 12 hours","body":"<p>I'm trying to convert two dates into this pattern: <code>yyyy-MM-dd HH:mm:ss.SSS</code>.</p>\n<p>I need to retrieve two dates:</p>\n<ul>\n<li>Last year, same month, day 1, 00:00:00.000</li>\n<li>Last day of previous month, 23:59:59.999</li>\n</ul>\n<p>So, as of today, I need these two values:</p>\n<ul>\n<li><code>2022-11-01 00:00:00.000</code></li>\n<li><code>2023-10-31 23:59:59.999</code></li>\n</ul>\n<p>The problem is: I get <code>2022-11-01 12:00:00.000</code>.</p>\n<p>This is the code that generates last year's date.</p>\n<pre><code>private String getLastYear() {\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n    Date date = new Date();\n    Calendar c = Calendar.getInstance();\n    c.setTime(date);\n    c.add(Calendar.YEAR, -1);\n    c.set(Calendar.DAY_OF_MONTH, 1);\n    c.set(Calendar.HOUR, 0);\n    c.set(Calendar.MINUTE, 0);\n    c.set(Calendar.SECOND, 0);\n    c.set(Calendar.MILLISECOND, 0);\n    return format.format(c.getTime());\n}\n</code></pre>\n<p>If I try adding one hour, the output will be: <code>2022-11-01 13:00:00.000</code>.</p>\n<p>Also, I can't retrieve the last day of the previous month. As I have read <a href=\"https://stackoverflow.com/a/34076758/11961036\">here</a>, all I keep getting is the first day of the next month.</p>\n<p>Here's the code.</p>\n<pre><code>private String getPreviousMonth() {\n    DateFormat format = new SimpleDateFormat(DATE_PATTERN);\n    Calendar c = Calendar.getInstance();\n    Date date = new Date();\n    c.setTime(date);\n    c.add(Calendar.MONTH, -1);\n    c.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));\n    c.set(Calendar.HOUR, 23);\n    c.set(Calendar.MINUTE, 59);\n    c.set(Calendar.SECOND, 59);\n    c.set(Calendar.MILLISECOND, 999);\n    return format.format(c.getTime());\n}\n</code></pre>\n<p>There is something I'm missing.\nAny help is highly appreciated!</p>\n"},{"tags":["java","android","xml","qr-code","zxing"],"answers":[{"comments":[{"owner":{"account_id":10587143,"reputation":85,"user_id":7799087,"display_name":"Lone Coder"},"score":0,"creation_date":1492696420,"post_id":43518664,"comment_id":74096429,"body_markdown":"Application crashes it gives &#39;Application has stopped&#39;","body":"Application crashes it gives &#39;Application has stopped&#39;"},{"owner":{"account_id":10587143,"reputation":85,"user_id":7799087,"display_name":"Lone Coder"},"score":0,"creation_date":1492756447,"post_id":43518664,"comment_id":74123075,"body_markdown":"please check the Logcat i had posted","body":"please check the Logcat i had posted"},{"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"score":2,"creation_date":1492756732,"post_id":43518664,"comment_id":74123262,"body_markdown":"remove   `setContentView(mScannerView); ` from your java file","body":"remove   <code>setContentView(mScannerView); </code> from your java file"},{"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"score":1,"creation_date":1492757067,"post_id":43518664,"comment_id":74123486,"body_markdown":"replace  `mScannerView = new ZXingScannerView(this); ` with  `mScannerView= (ZXingScannerView) findViewById(R.id.zxscan);`","body":"replace  <code>mScannerView = new ZXingScannerView(this); </code> with  <code>mScannerView= (ZXingScannerView) findViewById(R.id.zxscan);</code>"},{"owner":{"account_id":10587143,"reputation":85,"user_id":7799087,"display_name":"Lone Coder"},"score":1,"creation_date":1492757422,"post_id":43518664,"comment_id":74123699,"body_markdown":"ZXingScannerView zscanner = (ZXingScannerView) findViewById(R.id.zxscan);                                            \nmScannerView = new ZXingScannerView(this);   // Programmatically initialize the scanner view\nzscanner.addView(mScannerView); i&#39;m using this and its working , is it ok ?","body":"ZXingScannerView zscanner = (ZXingScannerView) findViewById(R.id.zxscan);                                             mScannerView = new ZXingScannerView(this);   // Programmatically initialize the scanner view zscanner.addView(mScannerView); i&#39;m using this and its working , is it ok ?"},{"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"score":0,"creation_date":1492758410,"post_id":43518664,"comment_id":74124304,"body_markdown":"no need to initialize second time.. here `zscanner` and `mScannerView` are same...","body":"no need to initialize second time.. here <code>zscanner</code> and <code>mScannerView</code> are same..."},{"owner":{"account_id":7651408,"reputation":339,"user_id":5800000,"accept_rate":17,"display_name":"amit bansode"},"score":0,"creation_date":1507093951,"post_id":43518664,"comment_id":80068658,"body_markdown":"Thanks, it works, but it takes too much time and clicks to open camera on second time. after closing app","body":"Thanks, it works, but it takes too much time and clicks to open camera on second time. after closing app"},{"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"score":0,"creation_date":1515668653,"post_id":43518664,"comment_id":83392070,"body_markdown":"@LoneCoder : it should be accepted answer , if it is correct one","body":"@LoneCoder : it should be accepted answer , if it is correct one"},{"owner":{"account_id":8093251,"reputation":372,"user_id":6098550,"accept_rate":0,"display_name":"RoHiT"},"score":0,"creation_date":1522905859,"post_id":43518664,"comment_id":86339061,"body_markdown":"I need to use Scanner view in half screen... but I am using same layout that shows above but camera view not opened... display white screen.. plz help me","body":"I need to use Scanner view in half screen... but I am using same layout that shows above but camera view not opened... display white screen.. plz help me"},{"owner":{"account_id":8093251,"reputation":372,"user_id":6098550,"accept_rate":0,"display_name":"RoHiT"},"score":0,"creation_date":1522906361,"post_id":43518664,"comment_id":86339234,"body_markdown":"Sorry bro.. Got my error.. Forgot to open start camera..Thanks","body":"Sorry bro.. Got my error.. Forgot to open start camera..Thanks"},{"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"score":0,"creation_date":1522906539,"post_id":43518664,"comment_id":86339323,"body_markdown":"@LoneCoder : plz accept this answer if it is correct one ..so other can easily recognize it..","body":"@LoneCoder : plz accept this answer if it is correct one ..so other can easily recognize it.."}],"tags":[],"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"comment_count":11,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1700243492,"creation_date":1492688843,"answer_id":43518664,"question_id":43518388,"body_markdown":"Use `RelativeLayout` for it like this:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;me.dm7.barcodescanner.zxing.ZXingScannerView\r\n        android:id=&quot;@+id/zxscan&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n       /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/btn_flash&quot;\r\n        android:layout_marginBottom=&quot;15dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:src=&quot;@drawable/flash_100&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\nIt looks like:\r\n\r\n[![zxing scanner][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MAfJW.png","title":"How do I add buttons in Zxing Scanner Camera View?","body":"<p>Use <code>RelativeLayout</code> for it like this:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n&lt;me.dm7.barcodescanner.zxing.ZXingScannerView\n    android:id=&quot;@+id/zxscan&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n   /&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/btn_flash&quot;\n    android:layout_marginBottom=&quot;15dp&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:src=&quot;@drawable/flash_100&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n\n<p>It looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/MAfJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MAfJW.png\" alt=\"zxing scanner\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7184343,"reputation":850,"user_id":5486945,"display_name":"yOshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700243371,"creation_date":1700162208,"answer_id":77497497,"question_id":43518388,"body_markdown":"I tried to add buttons and text directly by code but they were never displayed on the screen.\r\n\r\nSo what I did was create an activity activity_barcode.xml.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\r\n    \r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab_action&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|end&quot;\r\n            android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\r\n            android:contentDescription=&quot;@string/add_claim&quot;\r\n            android:src=&quot;@drawable/ic_add_white_24dp&quot;\r\n            android:tint=&quot;@android:color/white&quot;\r\n            app:backgroundTint=&quot;@color/colorAccent&quot;\r\n            app:elevation=&quot;6dp&quot;\r\n            app:pressedTranslationZ=&quot;12dp&quot;\r\n            app:layout_behavior=&quot;com.google.android.material.behavior.HideBottomViewOnScrollBehavior&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:tint=&quot;@android:color/white&quot; /&gt;\r\n    \r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/content_frame&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nThis is my BracodeActivity\r\n\r\n    public class BarcodeActivity extends BaseActivity {\r\n    \r\n        private FloatingActionButton fab;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_barcode);\r\n            fab = findViewById(R.id.fab_action);\r\n    \r\n            fab.setOnClickListener(v -&gt; Toast.makeText(this, &quot;Excellent!!!&quot;, Toast.LENGTH_SHORT).show());\r\n    \r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    \r\n            setupToolbar(getResources().getString(R.string.app_name), DEFAULT);\r\n    \r\n            BarcodeFragment barcodeFragment = new BarcodeFragment();\r\n    \r\n            getSupportFragmentManager().beginTransaction()\r\n                    .replace(R.id.content_frame, barcodeFragment)\r\n                    .commit();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            if (item.getItemId() == android.R.id.home) {\r\n                finish();\r\n                return true;\r\n            } else {\r\n                return super.onOptionsItemSelected(item);\r\n            }\r\n        }\r\n    }\r\n\r\nand the library was added in a fragment BacodeFragment\r\n\r\n    public class BarcodeFragment extends Fragment implements ZXingScannerView.ResultHandler {\r\n    \r\n        private ZXingScannerView mScannerView;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            mScannerView.setResultHandler(this);\r\n            mScannerView.startCamera();\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            mScannerView = new ZXingScannerView(getActivity());\r\n            return mScannerView;\r\n        }\r\n    \r\n        @Override\r\n        public void handleResult(Result rawResult) {\r\n            String result = rawResult.getText();\r\n            Intent data = new Intent();\r\n    \r\n            if (result == null || result.isEmpty()) {\r\n                getActivity().setResult(RESULT_CANCELED);\r\n            } else {\r\n                data.putExtra(SCAN_RESULT, result);\r\n                getActivity().setResult(CommonStatusCodes.SUCCESS, data);\r\n            }\r\n    \r\n            getActivity().finish();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J8i1M.png","title":"How do I add buttons in Zxing Scanner Camera View?","body":"<p>I tried to add buttons and text directly by code but they were never displayed on the screen.</p>\n<p>So what I did was create an activity activity_barcode.xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot; /&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab_action&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|end&quot;\n        android:layout_marginEnd=&quot;@dimen/fab_margin&quot;\n        android:contentDescription=&quot;@string/add_claim&quot;\n        android:src=&quot;@drawable/ic_add_white_24dp&quot;\n        android:tint=&quot;@android:color/white&quot;\n        app:backgroundTint=&quot;@color/colorAccent&quot;\n        app:elevation=&quot;6dp&quot;\n        app:pressedTranslationZ=&quot;12dp&quot;\n        app:layout_behavior=&quot;com.google.android.material.behavior.HideBottomViewOnScrollBehavior&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:tint=&quot;@android:color/white&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/content_frame&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>This is my BracodeActivity</p>\n<pre><code>public class BarcodeActivity extends BaseActivity {\n\n    private FloatingActionButton fab;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_barcode);\n        fab = findViewById(R.id.fab_action);\n\n        fab.setOnClickListener(v -&gt; Toast.makeText(this, &quot;Excellent!!!&quot;, Toast.LENGTH_SHORT).show());\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        setupToolbar(getResources().getString(R.string.app_name), DEFAULT);\n\n        BarcodeFragment barcodeFragment = new BarcodeFragment();\n\n        getSupportFragmentManager().beginTransaction()\n                .replace(R.id.content_frame, barcodeFragment)\n                .commit();\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == android.R.id.home) {\n            finish();\n            return true;\n        } else {\n            return super.onOptionsItemSelected(item);\n        }\n    }\n}\n</code></pre>\n<p>and the library was added in a fragment BacodeFragment</p>\n<pre><code>public class BarcodeFragment extends Fragment implements ZXingScannerView.ResultHandler {\n\n    private ZXingScannerView mScannerView;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mScannerView.setResultHandler(this);\n        mScannerView.startCamera();\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        mScannerView = new ZXingScannerView(getActivity());\n        return mScannerView;\n    }\n\n    @Override\n    public void handleResult(Result rawResult) {\n        String result = rawResult.getText();\n        Intent data = new Intent();\n\n        if (result == null || result.isEmpty()) {\n            getActivity().setResult(RESULT_CANCELED);\n        } else {\n            data.putExtra(SCAN_RESULT, result);\n            getActivity().setResult(CommonStatusCodes.SUCCESS, data);\n        }\n\n        getActivity().finish();\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/J8i1M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J8i1M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10587143,"reputation":85,"user_id":7799087,"display_name":"Lone Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9446,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1700243492,"creation_date":1492687993,"question_id":43518388,"body_markdown":"My current Zxing scanner screen looks like this,\r\n\r\n[![][1]][1]\r\n\r\nI want to add a textview and couple of buttons on it, I had tried many procedures but nothing worked can anyone guide me, I will be humbly looking forward for your kind help\r\n\r\nHere&#39;s the Code\r\n\r\nJava file:\r\n\r\n\r\n        private ZXingScannerView mScannerView;\r\n        @Override\r\n        public void onCreate(Bundle state) {\r\n            super.onCreate(state);\r\n            setContentView(R.layout.activity_qrresult);\r\n            mScannerView = new ZXingScannerView(this); \r\n            setContentView(mScannerView);              \r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            mScannerView.setResultHandler(this); \r\n            mScannerView.startCamera();          \r\n            Toast.makeText(getApplicationContext(),&quot;Scan QR code to Send \r\n         Money&quot;,Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n            mScannerView.stopCamera();           // Stop camera on pause\r\n        }\r\n\r\n        @Override\r\n        public void handleResult(Result rawResult) {\r\n            // Do something with the result here\r\n            if(rawResult.getText().toString().equals(&quot;Test Ewallet Test&quot;)){\r\n                Toast.makeText(getApplicationContext(), rawResult.getText(), \r\n        Toast.LENGTH_SHORT).show();\r\n                Intent go = new Intent(qrresult.this,sendmoney.class);\r\n                startActivity(go);\r\n\r\n            }else {\r\n                Toast.makeText(getApplicationContext(), &quot;Couldn&#39;t scan the \r\n         QRcode, Please Try again &quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                mScannerView.resumeCameraPreview(this);\r\n            }\r\n\r\n\r\n\r\n            // mScannerView.resumeCameraPreview(this);\r\n\r\n            // If you would like to resume scanning, call this method below:\r\n            //mScannerView.resumeCameraPreview(this);\r\n        }\r\n    }\r\n\r\nheres xml file\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.example.tajveezrehman.applicationtest.yourqr&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/flashlight&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0.8&quot;\r\n            android:text=&quot;Button&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/open image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;0.8&quot;\r\n            android:text=&quot;Button&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/camtxt&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_weight=&quot;0.8&quot;\r\n            android:text=&quot;@string/scanner&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n      &lt;/LinearLayout&gt;\r\n\r\n     &lt;/RelativeLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iogXO.jpg","title":"How do I add buttons in Zxing Scanner Camera View?","body":"<p>My current Zxing scanner screen looks like this,</p>\n<p><a href=\"https://i.stack.imgur.com/iogXO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iogXO.jpg\" alt=\"\" /></a></p>\n<p>I want to add a textview and couple of buttons on it, I had tried many procedures but nothing worked can anyone guide me, I will be humbly looking forward for your kind help</p>\n<p>Here's the Code</p>\n<p>Java file:</p>\n<pre><code>    private ZXingScannerView mScannerView;\n    @Override\n    public void onCreate(Bundle state) {\n        super.onCreate(state);\n        setContentView(R.layout.activity_qrresult);\n        mScannerView = new ZXingScannerView(this); \n        setContentView(mScannerView);              \n\n\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mScannerView.setResultHandler(this); \n        mScannerView.startCamera();          \n        Toast.makeText(getApplicationContext(),&quot;Scan QR code to Send \n     Money&quot;,Toast.LENGTH_LONG).show();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        mScannerView.stopCamera();           // Stop camera on pause\n    }\n\n    @Override\n    public void handleResult(Result rawResult) {\n        // Do something with the result here\n        if(rawResult.getText().toString().equals(&quot;Test Ewallet Test&quot;)){\n            Toast.makeText(getApplicationContext(), rawResult.getText(), \n    Toast.LENGTH_SHORT).show();\n            Intent go = new Intent(qrresult.this,sendmoney.class);\n            startActivity(go);\n\n        }else {\n            Toast.makeText(getApplicationContext(), &quot;Couldn't scan the \n     QRcode, Please Try again &quot;, Toast.LENGTH_SHORT).show();\n\n            mScannerView.resumeCameraPreview(this);\n        }\n\n\n\n        // mScannerView.resumeCameraPreview(this);\n\n        // If you would like to resume scanning, call this method below:\n        //mScannerView.resumeCameraPreview(this);\n    }\n}\n</code></pre>\n<p>heres xml file</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;com.example.tajveezrehman.applicationtest.yourqr&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_alignParentLeft=&quot;true&quot;\n    android:layout_alignParentStart=&quot;true&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/flashlight&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0.8&quot;\n        android:text=&quot;Button&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/open image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;0.8&quot;\n        android:text=&quot;Button&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/camtxt&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_weight=&quot;0.8&quot;\n        android:text=&quot;@string/scanner&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n  &lt;/LinearLayout&gt;\n\n &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","design-patterns"],"comments":[{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":1,"creation_date":1551804530,"post_id":55007690,"comment_id":96770533,"body_markdown":"Well what I would do is to use an ApplicationContextAware and then return the right object by getBean method","body":"Well what I would do is to use an ApplicationContextAware and then return the right object by getBean method"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1551805041,"post_id":55007690,"comment_id":96770806,"body_markdown":"Is Stage an interface? Is it a bean? Is there only one? What determines whether it will be A or B?","body":"Is Stage an interface? Is it a bean? Is there only one? What determines whether it will be A or B?"},{"owner":{"account_id":14568748,"reputation":95,"user_id":10522653,"display_name":"Andrey Tararaksin"},"score":0,"creation_date":1551805788,"post_id":55007690,"comment_id":96771222,"body_markdown":"Stage is neither an interface nor a bean. It&#39;s an entity. StageType determines which processor to use.","body":"Stage is neither an interface nor a bean. It&#39;s an entity. StageType determines which processor to use."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1551806998,"post_id":55007690,"comment_id":96771862,"body_markdown":"You misunderstood. What determines whether `stage.getType()` will be A or B?","body":"You misunderstood. What determines whether <code>stage.getType()</code> will be A or B?"},{"owner":{"account_id":14568748,"reputation":95,"user_id":10522653,"display_name":"Andrey Tararaksin"},"score":0,"creation_date":1551860191,"post_id":55007690,"comment_id":96790395,"body_markdown":"It&#39;s just business data, persisted to the DB earlier.","body":"It&#39;s just business data, persisted to the DB earlier."}],"answers":[{"comments":[{"owner":{"account_id":14568748,"reputation":95,"user_id":10522653,"display_name":"Andrey Tararaksin"},"score":0,"creation_date":1551861135,"post_id":55007906,"comment_id":96790909,"body_markdown":"That&#39;s definitely cleaner design. I will use it, complemented by @GabiM &#39;s ideas. As for field injection, that&#39;s just for cleaner prototype code, I will stick to constructor injection in real code. Thank you!","body":"That&#39;s definitely cleaner design. I will use it, complemented by @GabiM &#39;s ideas. As for field injection, that&#39;s just for cleaner prototype code, I will stick to constructor injection in real code. Thank you!"}],"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551804970,"creation_date":1551804970,"answer_id":55007906,"question_id":55007690,"body_markdown":"This depends a bit on the specifics of your case. In many instances, stages aren&#39;t actually hard-coded as in an enum but configurable for various systems. Additionally, the more potential stages you have, the more it pays off to have a slightly more verbose setup but avoid repetition.\r\n\r\nIn general, I would recommend Spring&#39;s resolver pattern here. Code looks something like this, where `KeyType` is usually an enum or a string. The general idea is that each implementation tells you what sorts of things (stages, types, parameters, etc.) it can handle, and then you look up the match. (A variant where there&#39;s not a direct mapping lookup is to have a `boolean canHandle(something)` and iterate until you find one.)\r\n\r\n    interface StageProcessor {\r\n        OutputType process(Stage stage);\r\n        KeyType stageKey();\r\n    }\r\n\r\n    @Service\r\n    class StageProcessors {\r\n        Map&lt;KeyType, StageProcessor&gt; stageProcessors;\r\n\r\n        StageProcessors(Collection&lt;StageProcessor&gt; processors) {\r\n            stageProcessors = processors.stream().collect(groupingBy(StageProcessor::stageKey));\r\n            assert stageProcessors.size() == expectedNumberOfProcessors;\r\n        }\r\n\r\n        StageProcessor getProcessor(KeyType stage) {\r\n            // although usually your service would take care of dispatching directly\r\n            return stageProcessors.get(stage);\r\n        }\r\n    }\r\n\r\n\r\n(And as a note: [Avoid field injection.](https://www.vojtechruzicka.com/field-dependency-injection-considered-harmful/))","title":"Select Spring bean according to enum param","body":"<p>This depends a bit on the specifics of your case. In many instances, stages aren't actually hard-coded as in an enum but configurable for various systems. Additionally, the more potential stages you have, the more it pays off to have a slightly more verbose setup but avoid repetition.</p>\n\n<p>In general, I would recommend Spring's resolver pattern here. Code looks something like this, where <code>KeyType</code> is usually an enum or a string. The general idea is that each implementation tells you what sorts of things (stages, types, parameters, etc.) it can handle, and then you look up the match. (A variant where there's not a direct mapping lookup is to have a <code>boolean canHandle(something)</code> and iterate until you find one.)</p>\n\n<pre><code>interface StageProcessor {\n    OutputType process(Stage stage);\n    KeyType stageKey();\n}\n\n@Service\nclass StageProcessors {\n    Map&lt;KeyType, StageProcessor&gt; stageProcessors;\n\n    StageProcessors(Collection&lt;StageProcessor&gt; processors) {\n        stageProcessors = processors.stream().collect(groupingBy(StageProcessor::stageKey));\n        assert stageProcessors.size() == expectedNumberOfProcessors;\n    }\n\n    StageProcessor getProcessor(KeyType stage) {\n        // although usually your service would take care of dispatching directly\n        return stageProcessors.get(stage);\n    }\n}\n</code></pre>\n\n<p>(And as a note: <a href=\"https://www.vojtechruzicka.com/field-dependency-injection-considered-harmful/\" rel=\"nofollow noreferrer\">Avoid field injection.</a>)</p>\n"},{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1551807141,"creation_date":1551807141,"answer_id":55008487,"question_id":55007690,"body_markdown":"This is totally based on @chrylis idea just there&#39;s no need for the processors to change their API for this, you can just do it with an annotation. Also, there&#39;s the case when you have multiple processors for one type.\r\n\r\n    interface StageProcessor {\r\n    \tOutputType process(Stage stage);\r\n    }\r\n    \r\n    @Component\r\n    @Processes(StageType.A)\r\n    class StageProcessorA implements StageProcessor{\r\n          OutputType process(Stage stage){\r\n            //validate stage is StageType.A\r\n          }\r\n    }\r\n    \r\n    @interface Processes{\r\n    \tStageType type;\r\n    \tStageType getType(){\r\n    \t\treturn type;\r\n    \t}\r\n    }\r\n    \r\n    @Component\r\n    @Processes(StageType.B)\r\n    class StageProcessorB implements StageProcessor{\r\n    \r\n    }\r\n    \r\n    @Service\r\n    class StageProcessors {\r\n    \tMap&lt;StageType, List&lt;StageProcessor&gt;&gt; stageProcessors;\r\n    \r\n    \tStageProcessors(Collection&lt;StageProcessor&gt; processors) {\r\n    \t\tMap&lt;StageType, List&lt;StageProcessor&gt;&gt; map = new HashMap&lt;&gt;();\r\n    \t\tfor (StageProcessor processor : processors) {\r\n    \t\t\tStageType stageType = processor.getClass().getAnnotation(Processes.class).getType();\r\n    \t\t\tmap.computeIfAbsent(stageType, k -&gt; new ArrayList&lt;&gt;()).add(processor);\r\n    \t\t}\r\n    \t\tstageProcessors = map;\r\n    \t\tassert stageProcessors.size() == expectedNumberOfProcessors;\r\n    \t}\r\n    \r\n    \tList&lt;StageProcessor&gt; getProcessors(StageType stage) {\r\n    \t\treturn stageProcessors.get(stage);\r\n    \t}\r\n    }\r\n\r\n","title":"Select Spring bean according to enum param","body":"<p>This is totally based on @chrylis idea just there's no need for the processors to change their API for this, you can just do it with an annotation. Also, there's the case when you have multiple processors for one type.</p>\n\n<pre><code>interface StageProcessor {\n    OutputType process(Stage stage);\n}\n\n@Component\n@Processes(StageType.A)\nclass StageProcessorA implements StageProcessor{\n      OutputType process(Stage stage){\n        //validate stage is StageType.A\n      }\n}\n\n@interface Processes{\n    StageType type;\n    StageType getType(){\n        return type;\n    }\n}\n\n@Component\n@Processes(StageType.B)\nclass StageProcessorB implements StageProcessor{\n\n}\n\n@Service\nclass StageProcessors {\n    Map&lt;StageType, List&lt;StageProcessor&gt;&gt; stageProcessors;\n\n    StageProcessors(Collection&lt;StageProcessor&gt; processors) {\n        Map&lt;StageType, List&lt;StageProcessor&gt;&gt; map = new HashMap&lt;&gt;();\n        for (StageProcessor processor : processors) {\n            StageType stageType = processor.getClass().getAnnotation(Processes.class).getType();\n            map.computeIfAbsent(stageType, k -&gt; new ArrayList&lt;&gt;()).add(processor);\n        }\n        stageProcessors = map;\n        assert stageProcessors.size() == expectedNumberOfProcessors;\n    }\n\n    List&lt;StageProcessor&gt; getProcessors(StageType stage) {\n        return stageProcessors.get(stage);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18486228,"reputation":13,"user_id":13467124,"display_name":"Mihai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700242455,"creation_date":1700242455,"answer_id":77503601,"question_id":55007690,"body_markdown":"Maybe a more straightforward solution: if the relationship between `StageType` and `StageProcessor` is one-to-one or many-to-one, you can directly use a `Map&lt;String, StageProcessor&gt;` in your class for Spring to inject the components, as long as on your `StageProcessor` Spring classes you specify the `value` attribute in the `@Component` annotation. \r\n\r\nFor example:\r\n\r\n```Java\r\n@Component(value = &quot;StageTypeA&quot;)\r\npublic class StageProcessorA{}\r\n\r\n@Component(value = &quot;StageTypeB&quot;)\r\npublic class StageProcessorB{}\r\n```\r\n\r\nThen you can just retrieve the required bean from the `Map` by calling `get()`.","title":"Select Spring bean according to enum param","body":"<p>Maybe a more straightforward solution: if the relationship between <code>StageType</code> and <code>StageProcessor</code> is one-to-one or many-to-one, you can directly use a <code>Map&lt;String, StageProcessor&gt;</code> in your class for Spring to inject the components, as long as on your <code>StageProcessor</code> Spring classes you specify the <code>value</code> attribute in the <code>@Component</code> annotation.</p>\n<p>For example:</p>\n<pre><code>@Component(value = &quot;StageTypeA&quot;)\npublic class StageProcessorA{}\n\n@Component(value = &quot;StageTypeB&quot;)\npublic class StageProcessorB{}\n</code></pre>\n<p>Then you can just retrieve the required bean from the <code>Map</code> by calling <code>get()</code>.</p>\n"}],"owner":{"account_id":14568748,"reputation":95,"user_id":10522653,"display_name":"Andrey Tararaksin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55008487,"answer_count":3,"score":4,"last_activity_date":1700242455,"creation_date":1551804259,"question_id":55007690,"body_markdown":"In my Spring Boot app I have a notion of `Stage` and `StageProcessor` which processes the `Stage`. `Stage` has a `StageType` enum property. I have different implementations of `StageProcessor` interface, and these implementations are Spring beans. Now, I have another Spring bean, `WorkflowProcessor`, which needs to invoke appropriate `StageProcessor` depending on `StageType` of the `Stage`. So far I have come up with the following:\r\n\r\n    @Service\r\n    public class StageConfig {\r\n        @Autowired\r\n        private StageProcessorA stageProcessorA;\r\n        @Autowired\r\n        private StageProcessorB stageProcessorB;\r\n    \r\n        public StageProcessor getProcessor(Stage stage) {\r\n            switch(stage.getType()) {\r\n                case A:\r\n                    return stageProcessorA;\r\n                    break;\r\n                case B:\r\n                    return stageProcessorB;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\nI wonder if I am missing any design pattern, or Spring mechanism. Any ideas of a better design?","title":"Select Spring bean according to enum param","body":"<p>In my Spring Boot app I have a notion of <code>Stage</code> and <code>StageProcessor</code> which processes the <code>Stage</code>. <code>Stage</code> has a <code>StageType</code> enum property. I have different implementations of <code>StageProcessor</code> interface, and these implementations are Spring beans. Now, I have another Spring bean, <code>WorkflowProcessor</code>, which needs to invoke appropriate <code>StageProcessor</code> depending on <code>StageType</code> of the <code>Stage</code>. So far I have come up with the following:</p>\n\n<pre><code>@Service\npublic class StageConfig {\n    @Autowired\n    private StageProcessorA stageProcessorA;\n    @Autowired\n    private StageProcessorB stageProcessorB;\n\n    public StageProcessor getProcessor(Stage stage) {\n        switch(stage.getType()) {\n            case A:\n                return stageProcessorA;\n                break;\n            case B:\n                return stageProcessorB;\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>I wonder if I am missing any design pattern, or Spring mechanism. Any ideas of a better design?</p>\n"},{"tags":["java","python","telegram","telegram-bot"],"comments":[{"owner":{"account_id":1082506,"reputation":3218,"user_id":1079103,"accept_rate":79,"display_name":"Ali Hashemi"},"score":1,"creation_date":1544439071,"post_id":53703764,"comment_id":94262842,"body_markdown":"Check if @yourbot is in any message and if yes then reply.","body":"Check if @yourbot is in any message and if yes then reply."}],"answers":[{"tags":[],"owner":{"account_id":13911458,"reputation":818,"user_id":10044533,"display_name":"marcopiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556212748,"creation_date":1556212748,"answer_id":55854593,"question_id":53703764,"body_markdown":"When a message contains a mention by username then the Message object contains a [MessageEntity][1] with `MessageEntity.type` equals to `&#39;mention&#39;` (since bots always have username).\r\nYou can check `MessageEntity.offset` to get the position of the entity in the text of the message, then parse the text of the message to check if the username mentioned is you bot&#39;s username.\r\n\r\nConsider that by default bots run in [privacy mode][2]\r\n\r\n&gt; A bot running in privacy mode will not receive all messages that\r\n&gt; people send to the group. Instead, it will only receive:\r\n&gt; \r\n&gt; - Messages that start with a slash /\r\n&gt; - Replies to the bot&#39;s own messages\r\n&gt; - Service messages (people added or removed from the group, etc.)\r\n&gt; - Messages from channels where it&#39;s a member\r\n\r\n\r\n  [1]: https://core.telegram.org/bots/api#messageentity\r\n  [2]: https://core.telegram.org/bots#privacy-mode","title":"Telegram Bot check whether the bot is mentioned in Group","body":"<p>When a message contains a mention by username then the Message object contains a <a href=\"https://core.telegram.org/bots/api#messageentity\" rel=\"noreferrer\">MessageEntity</a> with <code>MessageEntity.type</code> equals to <code>'mention'</code> (since bots always have username).\nYou can check <code>MessageEntity.offset</code> to get the position of the entity in the text of the message, then parse the text of the message to check if the username mentioned is you bot's username.</p>\n\n<p>Consider that by default bots run in <a href=\"https://core.telegram.org/bots#privacy-mode\" rel=\"noreferrer\">privacy mode</a></p>\n\n<blockquote>\n  <p>A bot running in privacy mode will not receive all messages that\n  people send to the group. Instead, it will only receive:</p>\n  \n  <ul>\n  <li>Messages that start with a slash /</li>\n  <li>Replies to the bot's own messages</li>\n  <li>Service messages (people added or removed from the group, etc.)</li>\n  <li>Messages from channels where it's a member</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11341764,"reputation":11,"user_id":8315579,"display_name":"Alex Andreychuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700241777,"creation_date":1700241652,"answer_id":77503533,"question_id":53703764,"body_markdown":"Just expanding the answer given by [@marcopiii][1] - check code may look, for example, this way:\r\n\r\n```python\r\ncontext.bot.name in [update.message.text[mention.offset:mention.offset + mention.length] for mention in\r\n                            update.message.entities if mention[&#39;type&#39;] == &#39;mention&#39;]\r\n```\r\n\r\nwhere `update` and `context` are default message handler arguments\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/10044533/marcopiii","title":"Telegram Bot check whether the bot is mentioned in Group","body":"<p>Just expanding the answer given by <a href=\"https://stackoverflow.com/users/10044533/marcopiii\">@marcopiii</a> - check code may look, for example, this way:</p>\n<pre class=\"lang-py prettyprint-override\"><code>context.bot.name in [update.message.text[mention.offset:mention.offset + mention.length] for mention in\n                            update.message.entities if mention['type'] == 'mention']\n</code></pre>\n<p>where <code>update</code> and <code>context</code> are default message handler arguments</p>\n"}],"owner":{"account_id":2066123,"reputation":1920,"user_id":1841601,"accept_rate":93,"display_name":"esthrim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2528,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1700241777,"creation_date":1544437782,"question_id":53703764,"body_markdown":"If I have a bot in a group, and I want to make the bot respond only if it was mentioned in the message, is there any way to achieve this? ","title":"Telegram Bot check whether the bot is mentioned in Group","body":"<p>If I have a bot in a group, and I want to make the bot respond only if it was mentioned in the message, is there any way to achieve this? </p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":298012,"reputation":4275,"user_id":603807,"display_name":"dyslexicanaboko"},"score":11,"creation_date":1343002760,"post_id":3395286,"comment_id":15362786,"body_markdown":"If by joining strings you mean &quot;string concatenation&quot;, it depends on the number of strings and their lengths. Using a string builder is more efficient if you are going to be hammering in a lot of strings regardless of their size since strings are immutable. Every time you concatenate strings together you are creating a new resultant string (which is really a char array). String builders are essentially a list of char that doesn&#39;t become an immutable string until you call the toString() method.","body":"If by joining strings you mean &quot;string concatenation&quot;, it depends on the number of strings and their lengths. Using a string builder is more efficient if you are going to be hammering in a lot of strings regardless of their size since strings are immutable. Every time you concatenate strings together you are creating a new resultant string (which is really a char array). String builders are essentially a list of char that doesn&#39;t become an immutable string until you call the toString() method."},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":7,"creation_date":1436555121,"post_id":3395286,"comment_id":50680238,"body_markdown":"If you&#39;re using Java 8, just use `StringJoiner`: http://stackoverflow.com/a/29169233/901641","body":"If you&#39;re using Java 8, just use <code>StringJoiner</code>: <a href=\"http://stackoverflow.com/a/29169233/901641\">stackoverflow.com/a/29169233/901641</a>"}],"answers":[{"comments":[{"owner":{"account_id":333393,"reputation":886,"user_id":659238,"accept_rate":50,"display_name":"alianos-"},"score":45,"creation_date":1348052727,"post_id":3395299,"comment_id":16810555,"body_markdown":"This gets upvoted too much but its not efficient, it does a system.arraycopy. What @Rohit Reddy Korrapolu said.","body":"This gets upvoted too much but its not efficient, it does a system.arraycopy. What @Rohit Reddy Korrapolu said."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1426706962,"post_id":3395299,"comment_id":46487713,"body_markdown":"Is this safe with surrogate pair characters at play?","body":"Is this safe with surrogate pair characters at play?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1509450399,"post_id":3395299,"comment_id":81015353,"body_markdown":"Assuming that the last character is the comma separator (as per the example), then surrogates make no difference.  If you need to generalize then subtract `separator.length()` instead of 1.","body":"Assuming that the last character is the comma separator (as per the example), then surrogates make no difference.  If you need to generalize then subtract <code>separator.length()</code> instead of 1."}],"tags":[],"owner":{"account_id":92026,"reputation":35060,"user_id":1977903,"accept_rate":96,"display_name":"bragboy"},"comment_count":3,"down_vote_count":5,"up_vote_count":227,"is_accepted":false,"score":222,"last_activity_date":1580117061,"creation_date":1280828607,"answer_id":3395299,"question_id":3395286,"body_markdown":"    if(sb.length() &gt; 0){\r\n        sb.deleteCharAt(sb.length() - 1);\r\n    }","title":"Remove last character of a StringBuilder?","body":"<pre><code>if(sb.length() &gt; 0){\n    sb.deleteCharAt(sb.length() - 1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"score":33,"creation_date":1346940798,"post_id":3395329,"comment_id":16505251,"body_markdown":"Very nice solution. Lowest impact on performance and least code required :)","body":"Very nice solution. Lowest impact on performance and least code required :)"},{"owner":{"account_id":6192930,"reputation":131,"user_id":4825148,"accept_rate":62,"display_name":"Manu Jose"},"score":1,"creation_date":1603196896,"post_id":3395329,"comment_id":113954700,"body_markdown":"@Stephen C @ Alain O&#39;Dea Not able to understand the performance gain here , Its doing an array copy internally selLenghth() -&gt; ensureCapacityInternal() -&gt; Arrays.copyOf -&gt; System.arraycopy()","body":"@Stephen C @ Alain O&#39;Dea Not able to understand the performance gain here , Its doing an array copy internally selLenghth() -&gt; ensureCapacityInternal() -&gt; Arrays.copyOf -&gt; System.arraycopy()"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1603197895,"post_id":3395329,"comment_id":113955216,"body_markdown":"@ManuJose - Read the code carefully.  If `setLength` is reducing the length, `ensureCapacityInternal` will not call `Arrays.copy`.  (I am looking at the Java 11 code, but I think this holds for all versions.)","body":"@ManuJose - Read the code carefully.  If <code>setLength</code> is reducing the length, <code>ensureCapacityInternal</code> will not call <code>Arrays.copy</code>.  (I am looking at the Java 11 code, but I think this holds for all versions.)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":1,"up_vote_count":548,"is_accepted":false,"score":547,"last_activity_date":1416523521,"creation_date":1280828852,"answer_id":3395329,"question_id":3395286,"body_markdown":"Another simple solution is:\r\n\r\n    sb.setLength(sb.length() - 1);\r\n\r\n----------------\r\n\r\nA more complicated solution:\r\n\r\nThe above solution assumes that `sb.length() &gt; 0` ... i.e. there is a &quot;last character&quot; to remove.  If you can&#39;t make that assumption, and/or you can&#39;t deal with the exception that would ensue if the assumption is incorrect, then check the StringBuilder&#39;s length first; e.g.\r\n\r\n    // Readable version\r\n    if (sb.length() &gt; 0) {\r\n       sb.setLength(sb.length() - 1);\r\n    }\r\n\r\nor \r\n\r\n    // Concise but harder-to-read version of the above.\r\n    sb.setLength(Math.max(sb.length() - 1, 0));\r\n","title":"Remove last character of a StringBuilder?","body":"<p>Another simple solution is:</p>\n\n<pre><code>sb.setLength(sb.length() - 1);\n</code></pre>\n\n<hr>\n\n<p>A more complicated solution:</p>\n\n<p>The above solution assumes that <code>sb.length() &gt; 0</code> ... i.e. there is a \"last character\" to remove.  If you can't make that assumption, and/or you can't deal with the exception that would ensue if the assumption is incorrect, then check the StringBuilder's length first; e.g.</p>\n\n<pre><code>// Readable version\nif (sb.length() &gt; 0) {\n   sb.setLength(sb.length() - 1);\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>// Concise but harder-to-read version of the above.\nsb.setLength(Math.max(sb.length() - 1, 0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112054,"reputation":4536,"user_id":295716,"accept_rate":62,"display_name":"Antoine"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1341907071,"creation_date":1280828911,"answer_id":3395338,"question_id":3395286,"body_markdown":"\t\t\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;abcdef&quot;);\r\n    sb.deleteCharAt(sb.length() - 1);\r\n    assertEquals(&quot;abcde&quot;,sb.toString());\r\n    // true\r\n\r\n\r\n\r\n    ","title":"Remove last character of a StringBuilder?","body":"<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"abcdef\");\nsb.deleteCharAt(sb.length() - 1);\nassertEquals(\"abcde\",sb.toString());\n// true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":78807,"reputation":17867,"user_id":224004,"accept_rate":93,"display_name":"Amy B"},"score":0,"creation_date":1282949688,"post_id":3395345,"comment_id":3765434,"body_markdown":"Can&#39;t `&quot;&quot;` and `&quot;,&quot;` be `char`s? If StringBuilder is mainly used for performance, why not go all the way?","body":"Can&#39;t <code>&quot;&quot;</code> and <code>&quot;,&quot;</code> be <code>char</code>s? If StringBuilder is mainly used for performance, why not go all the way?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1282987727,"post_id":3395345,"comment_id":3767189,"body_markdown":"@Coronatus: No, because &quot;&quot; is the *absence* of any characters, not a single character.","body":"@Coronatus: No, because &quot;&quot; is the <i>absence</i> of any characters, not a single character."},{"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"score":42,"creation_date":1319451044,"post_id":3395345,"comment_id":9607546,"body_markdown":"won&#39;t executing prefix=&quot;,&quot;; every loop cycle affect performance?","body":"won&#39;t executing prefix=&quot;,&quot;; every loop cycle affect performance?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":25,"creation_date":1319451247,"post_id":3395345,"comment_id":9607603,"body_markdown":"@Harish: Possibly, a tiny, tiny bit - very unlikely to be significant though.","body":"@Harish: Possibly, a tiny, tiny bit - very unlikely to be significant though."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1346077727,"post_id":3395345,"comment_id":16246241,"body_markdown":"@Harish - and possibly not at all, if the optimizer unrolls the first loop iteration.","body":"@Harish - and possibly not at all, if the optimizer unrolls the first loop iteration."},{"owner":{"account_id":223810,"reputation":1772,"user_id":483257,"accept_rate":60,"display_name":"Bane"},"score":1,"creation_date":1365807558,"post_id":3395345,"comment_id":22784360,"body_markdown":"At first I was going to disagree with Jon Skeet&#39;s response that this wouldn&#39;t really affect performance; then I remembered that the JVM caches String literals so indeed it wouldn&#39;t make much difference.  See this link about that: http://stackoverflow.com/a/334580/483257  Though, I&#39;m still not sold this as readable as using deleteCharAt() but pretty minor difference I think.","body":"At first I was going to disagree with Jon Skeet&#39;s response that this wouldn&#39;t really affect performance; then I remembered that the JVM caches String literals so indeed it wouldn&#39;t make much difference.  See this link about that: <a href=\"http://stackoverflow.com/a/334580/483257\">stackoverflow.com/a/334580/483257</a>  Though, I&#39;m still not sold this as readable as using deleteCharAt() but pretty minor difference I think."},{"owner":{"account_id":1917370,"reputation":1041,"user_id":1729686,"accept_rate":88,"display_name":"Liam"},"score":2,"creation_date":1379442050,"post_id":3395345,"comment_id":27824373,"body_markdown":"@Bane I agree that the `deleteCharAt()` approach is more readable than the otherwise clever one offered by Jon Skeet. That said, his second suggestion is probably the most readable of all. The whole thing becomes declaring the joiner: `Joiner joiner = Joiner.on(&quot;,&quot;).useForNull(&quot;null&quot;);` and then using it like so: `String result = joiner.join(serverIds);`.","body":"@Bane I agree that the <code>deleteCharAt()</code> approach is more readable than the otherwise clever one offered by Jon Skeet. That said, his second suggestion is probably the most readable of all. The whole thing becomes declaring the joiner: <code>Joiner joiner = Joiner.on(&quot;,&quot;).useForNull(&quot;null&quot;);</code> and then using it like so: <code>String result = joiner.join(serverIds);</code>."},{"owner":{"account_id":429611,"reputation":5213,"user_id":812598,"accept_rate":80,"display_name":"GoRoS"},"score":7,"creation_date":1380387050,"post_id":3395345,"comment_id":28186108,"body_markdown":"Apache Commons does have another alternative to Guava&#39;s `Joiner` too in their `StringUtils`. http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.lang.Object[], java.lang.String)","body":"Apache Commons does have another alternative to Guava&#39;s <code>Joiner</code> too in their <code>StringUtils</code>. <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#join(java.lang.Object[]\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a>, java.lang.String)"},{"owner":{"account_id":223810,"reputation":1772,"user_id":483257,"accept_rate":60,"display_name":"Bane"},"score":1,"creation_date":1380654463,"post_id":3395345,"comment_id":28280106,"body_markdown":"@Liam very good point, thank you for highlighting that for me.  :)  Though, I would argue (all things being equal), GoRoS&#39; suggestion might be even better just because, well, it&#39;s ApacheCommons.  ;)","body":"@Liam very good point, thank you for highlighting that for me.  :)  Though, I would argue (all things being equal), GoRoS&#39; suggestion might be even better just because, well, it&#39;s ApacheCommons.  ;)"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":2,"creation_date":1418284432,"post_id":3395345,"comment_id":43278911,"body_markdown":"@JonSkeet - Smart. I am curious to know if what lead you to think this way. Was it an instant thought or did you take some seconds to reason it out. I can imagine that you might have thought about it like this - lets try printing ,a,b,c so that there is no comma at the end. Now, how do I get rid of the first comma ? What if the first comma was a nothing ? But, after the first iteration, I want the nothing to become a comma. Hence my code...makes sense ?","body":"@JonSkeet - Smart. I am curious to know if what lead you to think this way. Was it an instant thought or did you take some seconds to reason it out. I can imagine that you might have thought about it like this - lets try printing ,a,b,c so that there is no comma at the end. Now, how do I get rid of the first comma ? What if the first comma was a nothing ? But, after the first iteration, I want the nothing to become a comma. Hence my code...makes sense ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1418286100,"post_id":3395345,"comment_id":43279629,"body_markdown":"@BoratSagdiyev: I suspect I saw someone else do it, to be honest. Sorry not to be more inspiring!","body":"@BoratSagdiyev: I suspect I saw someone else do it, to be honest. Sorry not to be more inspiring!"},{"owner":{"account_id":2236272,"reputation":1923,"user_id":1972564,"accept_rate":73,"display_name":"Antoine Martin"},"score":0,"creation_date":1552050331,"post_id":3395345,"comment_id":96875541,"body_markdown":"and would `prefix = &quot;,&quot;;` create a new instance of String every iteration? We should create a `comaString = &quot;,&quot;;` before the loop and do `prefix = comaString;` in the loop.","body":"and would <code>prefix = &quot;,&quot;;</code> create a new instance of String every iteration? We should create a <code>comaString = &quot;,&quot;;</code> before the loop and do <code>prefix = comaString;</code> in the loop."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1552064399,"post_id":3395345,"comment_id":96882907,"body_markdown":"@AntoineMartin: No, that doesn&#39;t create a new string on each iteration. There&#39;s no need to add an extra variable beforehand to try to micro-optimize.","body":"@AntoineMartin: No, that doesn&#39;t create a new string on each iteration. There&#39;s no need to add an extra variable beforehand to try to micro-optimize."},{"owner":{"account_id":2236272,"reputation":1923,"user_id":1972564,"accept_rate":73,"display_name":"Antoine Martin"},"score":0,"creation_date":1552166194,"post_id":3395345,"comment_id":96909752,"body_markdown":"@JonSkeet, ah yes I see now. This because of the string constant pool.","body":"@JonSkeet, ah yes I see now. This because of the string constant pool."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":14,"down_vote_count":5,"up_vote_count":746,"is_accepted":true,"score":741,"last_activity_date":1624460427,"creation_date":1280828987,"answer_id":3395345,"question_id":3395286,"body_markdown":"Others have pointed out the `deleteCharAt` method, but here&#39;s another alternative approach:\r\n\r\n    String prefix = &quot;&quot;;\r\n    for (String serverId : serverIds) {\r\n      sb.append(prefix);\r\n      prefix = &quot;,&quot;;\r\n      sb.append(serverId);\r\n    }\r\n\r\nAlternatively, use the [`Joiner`][1] class from [Guava][2] :)\r\n\r\nAs of Java 8, [`StringJoiner`][3] is part of the standard JRE.\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Joiner.html\r\n  [2]: https://github.com/google/guava\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html","title":"Remove last character of a StringBuilder?","body":"<p>Others have pointed out the <code>deleteCharAt</code> method, but here's another alternative approach:</p>\n<pre><code>String prefix = &quot;&quot;;\nfor (String serverId : serverIds) {\n  sb.append(prefix);\n  prefix = &quot;,&quot;;\n  sb.append(serverId);\n}\n</code></pre>\n<p>Alternatively, use the <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Joiner.html\" rel=\"noreferrer\"><code>Joiner</code></a> class from <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> :)</p>\n<p>As of Java 8, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\"><code>StringJoiner</code></a> is part of the standard JRE.</p>\n"},{"comments":[{"owner":{"account_id":167505,"reputation":950,"user_id":392348,"accept_rate":94,"display_name":"anthonyms"},"score":0,"creation_date":1319621292,"post_id":3395350,"comment_id":9646070,"body_markdown":"Usable as you can add a &quot;.&quot; at the end.","body":"Usable as you can add a &quot;.&quot; at the end."}],"tags":[],"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531300951,"creation_date":1280829088,"answer_id":3395350,"question_id":3395286,"body_markdown":"Alternatively,\r\n\r\n    StringBuilder result = new StringBuilder();\r\n    for(String string : collection) {\r\n        result.append(string);\r\n        result.append(&#39;,&#39;);\r\n    }\r\n    return result.substring(0, result.length() - 1) ;","title":"Remove last character of a StringBuilder?","body":"<p>Alternatively,</p>\n\n<pre><code>StringBuilder result = new StringBuilder();\nfor(String string : collection) {\n    result.append(string);\n    result.append(',');\n}\nreturn result.substring(0, result.length() - 1) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":571,"reputation":8829,"user_id":737,"accept_rate":80,"display_name":"Jason Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1280835187,"creation_date":1280835187,"answer_id":3396045,"question_id":3395286,"body_markdown":"Yet another alternative:\r\n\r\n    public String join(Collection&lt;String&gt; collection, String seperator) {\r\n        if (collection.isEmpty()) return &quot;&quot;;\r\n    \r\n        Iterator&lt;String&gt; iter = collection.iterator();\r\n        StringBuilder sb = new StringBuilder(iter.next());\r\n        while (iter.hasNext()) {\r\n            sb.append(seperator);\r\n            sb.append(iter.next());\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n        ","title":"Remove last character of a StringBuilder?","body":"<p>Yet another alternative:</p>\n\n<pre><code>public String join(Collection&lt;String&gt; collection, String seperator) {\n    if (collection.isEmpty()) return \"\";\n\n    Iterator&lt;String&gt; iter = collection.iterator();\n    StringBuilder sb = new StringBuilder(iter.next());\n    while (iter.hasNext()) {\n        sb.append(seperator);\n        sb.append(iter.next());\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":59422,"reputation":3286,"user_id":177790,"accept_rate":80,"display_name":"slott"},"score":3,"creation_date":1374058872,"post_id":8634449,"comment_id":25787704,"body_markdown":"Should be better than removing the last char as this requires size calculations. Unless removing the first char causes data to be moved around...","body":"Should be better than removing the last char as this requires size calculations. Unless removing the first char causes data to be moved around..."}],"tags":[],"owner":{"account_id":451553,"reputation":2000,"user_id":847501,"accept_rate":82,"display_name":"Rafiq"},"comment_count":1,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1343949820,"creation_date":1324891730,"answer_id":8634449,"question_id":3395286,"body_markdown":"Another alternative\r\n\r\n    for(String serverId : serverIds) {\r\n       sb.append(&quot;,&quot;);\r\n       sb.append(serverId); \r\n    }\r\n    sb.deleteCharAt(0);\r\n\r\n   \r\n","title":"Remove last character of a StringBuilder?","body":"<p>Another alternative</p>\n\n<pre><code>for(String serverId : serverIds) {\n   sb.append(\",\");\n   sb.append(serverId); \n}\nsb.deleteCharAt(0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1348053815,"post_id":10131077,"comment_id":16810997,"body_markdown":"The `setLength` call is not assigning anything to the last value.  Java string buffers are not null/zero terminated.  In fact, `setLength` is simply updating a `length` field.","body":"The <code>setLength</code> call is not assigning anything to the last value.  Java string buffers are not null/zero terminated.  In fact, <code>setLength</code> is simply updating a <code>length</code> field."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1383483874,"post_id":10131077,"comment_id":29353578,"body_markdown":"@Rohit Reddy Korrapolu: But the `arraycopy` copies 0 elements, so I guess it can get optimized away.","body":"@Rohit Reddy Korrapolu: But the <code>arraycopy</code> copies 0 elements, so I guess it can get optimized away."},{"owner":{"account_id":15754,"reputation":8442,"user_id":33622,"accept_rate":88,"display_name":"fglez"},"score":2,"creation_date":1389325626,"post_id":10131077,"comment_id":31624194,"body_markdown":"_If the newLength argument is greater than or equal to the current length, sufficient null characters (&#39;\\u0000&#39;) are appended so that length becomes the newLength argument._ Which is not the case.","body":"<i>If the newLength argument is greater than or equal to the current length, sufficient null characters (&#39;\\u0000&#39;) are appended so that length becomes the newLength argument.</i> Which is not the case."}],"tags":[],"owner":{"account_id":1299535,"reputation":409,"user_id":1249751,"display_name":"Rohit Reddy Korrapolu"},"comment_count":3,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1334261600,"creation_date":1334261600,"answer_id":10131077,"question_id":3395286,"body_markdown":"In this case,\r\n\r\n    sb.setLength(sb.length() - 1);\r\n\r\nis preferable as it just assign the last value to `&#39;\\0&#39;` whereas deleting last character does `System.arraycopy`","title":"Remove last character of a StringBuilder?","body":"<p>In this case,</p>\n\n<pre><code>sb.setLength(sb.length() - 1);\n</code></pre>\n\n<p>is preferable as it just assign the last value to <code>'\\0'</code> whereas deleting last character does <code>System.arraycopy</code></p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1526648763,"post_id":29169233,"comment_id":87839439,"body_markdown":"nvm edited for you if you don&#39;t mind, removed my comment also","body":"nvm edited for you if you don&#39;t mind, removed my comment also"},{"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"score":0,"creation_date":1526656491,"post_id":29169233,"comment_id":87844542,"body_markdown":"@Eugene - I rewrote the answer completely to focus on `String.join` instead of `StringJoiner`.","body":"@Eugene - I rewrote the answer completely to focus on <code>String.join</code> instead of <code>StringJoiner</code>."}],"tags":[],"owner":{"account_id":485360,"reputation":20815,"user_id":901641,"accept_rate":78,"display_name":"ArtOfWarfare"},"comment_count":2,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1526649004,"creation_date":1426862602,"answer_id":29169233,"question_id":3395286,"body_markdown":"As of Java 8, the String class has a static method [`join`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-). The first argument is a string that you want between each pair of strings, and the second is an `Iterable&lt;CharSequence&gt;` (which are both interfaces, so something like `List&lt;String&gt;` works. So you can just do this:\r\n\r\n    String.join(&quot;,&quot;, serverIds);\r\n\r\nAlso in Java 8, you could use the new [`StringJoiner`](https://docs.oracle.com/javase/8/docs/api/index.html?java/util/StringJoiner.html) class, for scenarios where you want to start constructing the string before you have the full list of elements to put in it.","title":"Remove last character of a StringBuilder?","body":"<p>As of Java 8, the String class has a static method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"noreferrer\"><code>join</code></a>. The first argument is a string that you want between each pair of strings, and the second is an <code>Iterable&lt;CharSequence&gt;</code> (which are both interfaces, so something like <code>List&lt;String&gt;</code> works. So you can just do this:</p>\n\n<pre><code>String.join(\",\", serverIds);\n</code></pre>\n\n<p>Also in Java 8, you could use the new <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/StringJoiner.html\" rel=\"noreferrer\"><code>StringJoiner</code></a> class, for scenarios where you want to start constructing the string before you have the full list of elements to put in it.</p>\n"},{"tags":[],"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529632323,"creation_date":1428310167,"answer_id":29468059,"question_id":3395286,"body_markdown":"I am doing something like below:\r\n\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        for (int i = 0; i &lt; value.length; i++) {\r\n            stringBuilder.append(values[i]);\r\n            if (value.length-1) {\r\n                stringBuilder.append(&quot;, &quot;);\r\n            }\r\n        }","title":"Remove last character of a StringBuilder?","body":"<p>I am doing something like below:</p>\n\n<pre><code>    StringBuilder stringBuilder = new StringBuilder();\n    for (int i = 0; i &lt; value.length; i++) {\n        stringBuilder.append(values[i]);\n        if (value.length-1) {\n            stringBuilder.append(\", \");\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3019788,"reputation":1449,"user_id":2561091,"display_name":"Reuel Ribeiro"},"score":1,"creation_date":1509454497,"post_id":33104582,"comment_id":81018102,"body_markdown":"You&#39;ll be sure that the last character is a `,` because it was the last statement of the `for loop`. The `lastInfexOf` is more for readability and to make it a no-brainer if you don&#39;t want to remember if it is 0-indexed or not. Further, you don&#39;t need to meddle with the stringbuilder length. It&#39;s just for the convenience.","body":"You&#39;ll be sure that the last character is a <code>,</code> because it was the last statement of the <code>for loop</code>. The <code>lastInfexOf</code> is more for readability and to make it a no-brainer if you don&#39;t want to remember if it is 0-indexed or not. Further, you don&#39;t need to meddle with the stringbuilder length. It&#39;s just for the convenience."}],"tags":[],"owner":{"account_id":3019788,"reputation":1449,"user_id":2561091,"display_name":"Reuel Ribeiro"},"comment_count":1,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1554843251,"creation_date":1444744465,"answer_id":33104582,"question_id":3395286,"body_markdown":"Just get the position of the last character occurrence.\r\n\r\n\r\n    for(String serverId : serverIds) {\r\n     sb.append(serverId);\r\n     sb.append(&quot;,&quot;);\r\n    }\r\n    sb.deleteCharAt(sb.lastIndexOf(&quot;,&quot;));\r\n\r\n\r\nSince `lastIndexOf` will perform a reverse search, and you know that it will find at the first try, performance won&#39;t be an issue here.\r\n\r\n**EDIT**\r\n\r\nSince I keep getting ups on my answer (thanks folks &#128522;), it is worth regarding that:\r\n\r\nOn ***Java 8*** onward it would just be more legible and explicit to use [StringJoiner][1].\r\nIt has one method for a simple separator, and an overload for prefix and suffix.\r\n\r\nExamples taken from here: [example][2]\r\n\r\n***Example using simple separator:***\r\n\r\n&gt;         StringJoiner mystring = new StringJoiner(&quot;-&quot;);    \r\n&gt;           \r\n&gt;         // Joining multiple strings by using add() method  \r\n&gt;         mystring.add(&quot;Logan&quot;);  \r\n&gt;         mystring.add(&quot;Magneto&quot;);  \r\n&gt;         mystring.add(&quot;Rogue&quot;);  \r\n&gt;         mystring.add(&quot;Storm&quot;);  \r\n&gt;                   \r\n&gt;         System.out.println(mystring);\r\n\r\nOutput:\r\n\r\n&gt; Logan-Magneto-Rogue-Storm\r\n\r\n\r\n\r\n***Example with suffix and prefix:***\r\n\r\n\r\n&gt;         StringJoiner mystring = new StringJoiner(&quot;,&quot;, &quot;(&quot;, &quot;)&quot;);    \r\n&gt;           \r\n&gt;         // Joining multiple strings by using add() method  \r\n&gt;         mystring.add(&quot;Negan&quot;);  \r\n&gt;         mystring.add(&quot;Rick&quot;);  \r\n&gt;         mystring.add(&quot;Maggie&quot;);  \r\n&gt;         mystring.add(&quot;Daryl&quot;);  \r\n&gt;                   \r\n&gt;         System.out.println(mystring);\r\n\r\nOutput\r\n\r\n&gt; (Negan,Rick,Maggie,Daryl)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\r\n  [2]: https://beginnersbook.com/2017/10/java-8-stringjoiner/","title":"Remove last character of a StringBuilder?","body":"<p>Just get the position of the last character occurrence.</p>\n\n<pre><code>for(String serverId : serverIds) {\n sb.append(serverId);\n sb.append(\",\");\n}\nsb.deleteCharAt(sb.lastIndexOf(\",\"));\n</code></pre>\n\n<p>Since <code>lastIndexOf</code> will perform a reverse search, and you know that it will find at the first try, performance won't be an issue here.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Since I keep getting ups on my answer (thanks folks ), it is worth regarding that:</p>\n\n<p>On <strong><em>Java 8</em></strong> onward it would just be more legible and explicit to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\">StringJoiner</a>.\nIt has one method for a simple separator, and an overload for prefix and suffix.</p>\n\n<p>Examples taken from here: <a href=\"https://beginnersbook.com/2017/10/java-8-stringjoiner/\" rel=\"noreferrer\">example</a></p>\n\n<p><strong><em>Example using simple separator:</em></strong></p>\n\n<blockquote>\n<pre><code>    StringJoiner mystring = new StringJoiner(\"-\");    \n\n    // Joining multiple strings by using add() method  \n    mystring.add(\"Logan\");  \n    mystring.add(\"Magneto\");  \n    mystring.add(\"Rogue\");  \n    mystring.add(\"Storm\");  \n\n    System.out.println(mystring);\n</code></pre>\n</blockquote>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Logan-Magneto-Rogue-Storm</p>\n</blockquote>\n\n<p><strong><em>Example with suffix and prefix:</em></strong></p>\n\n<blockquote>\n<pre><code>    StringJoiner mystring = new StringJoiner(\",\", \"(\", \")\");    \n\n    // Joining multiple strings by using add() method  \n    mystring.add(\"Negan\");  \n    mystring.add(\"Rick\");  \n    mystring.add(\"Maggie\");  \n    mystring.add(\"Daryl\");  \n\n    System.out.println(mystring);\n</code></pre>\n</blockquote>\n\n<p>Output</p>\n\n<blockquote>\n  <p>(Negan,Rick,Maggie,Daryl)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1451190588,"creation_date":1451190588,"answer_id":34477571,"question_id":3395286,"body_markdown":"With `Java-8` you can use static method of `String` class,\r\n\r\n[`String#join(CharSequence delimiter,Iterable&lt;? extends CharSequence&gt; elements)`.][1]\r\n\r\n----------\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n            List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    \t    names.add(&quot;James&quot;);\r\n    \t    names.add(&quot;Harry&quot;);\r\n    \t    names.add(&quot;Roy&quot;);\r\n    \t    System.out.println(String.join(&quot;,&quot;, names));\r\n        }\r\n    }\r\n\r\n**OUTPUT**\r\n\r\n    James,Harry,Roy\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-","title":"Remove last character of a StringBuilder?","body":"<p>With <code>Java-8</code> you can use static method of <code>String</code> class,</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"noreferrer\"><code>String#join(CharSequence delimiter,Iterable&lt;? extends CharSequence&gt; elements)</code>.</a></p>\n\n<hr>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; names = new ArrayList&lt;&gt;();\n        names.add(\"James\");\n        names.add(\"Harry\");\n        names.add(\"Roy\");\n        System.out.println(String.join(\",\", names));\n    }\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>James,Harry,Roy\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2520686,"reputation":763,"user_id":2191131,"accept_rate":73,"display_name":"Markus"},"score":0,"creation_date":1466143065,"post_id":35647652,"comment_id":63204041,"body_markdown":"What kind of package does TestUtils belong to?","body":"What kind of package does TestUtils belong to?"},{"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"score":0,"creation_date":1466155714,"post_id":35647652,"comment_id":63210979,"body_markdown":"@Markus android.text.TextUtils","body":"@Markus android.text.TextUtils"}],"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456478047,"creation_date":1456478047,"answer_id":35647652,"question_id":3395286,"body_markdown":"To avoid reinit(affect performance) of  `prefix ` use TextUtils.isEmpty:\r\n\r\n                String prefix = &quot;&quot;;\r\n                for (String item : list) {\r\n                    sb.append(prefix);\r\n                    if (TextUtils.isEmpty(prefix))\r\n                        prefix = &quot;,&quot;;\r\n                    sb.append(item);\r\n                }","title":"Remove last character of a StringBuilder?","body":"<p>To avoid reinit(affect performance) of  <code>prefix</code> use TextUtils.isEmpty:</p>\n\n<pre><code>            String prefix = \"\";\n            for (String item : list) {\n                sb.append(prefix);\n                if (TextUtils.isEmpty(prefix))\n                    prefix = \",\";\n                sb.append(item);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066266,"reputation":2101,"user_id":3341089,"display_name":"oguzhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467381565,"creation_date":1467381565,"answer_id":38147351,"question_id":3395286,"body_markdown":"You may try to use &#39;Joiner&#39; class instead of removing the last character from your generated text;\r\n                    \r\n                    List&lt;String&gt; textList = new ArrayList&lt;&gt;();\r\n                    textList.add(&quot;text1&quot;);\r\n                    textList.add(&quot;text2&quot;);\r\n                    textList.add(&quot;text3&quot;);\r\n\r\n                    Joiner joiner = Joiner.on(&quot;,&quot;).useForNull(&quot;null&quot;);\r\n                    String output = joiner.join(textList);\r\n\r\n                   //output : &quot;text1,text2,text3&quot;","title":"Remove last character of a StringBuilder?","body":"<p>You may try to use 'Joiner' class instead of removing the last character from your generated text;</p>\n\n<pre><code>                List&lt;String&gt; textList = new ArrayList&lt;&gt;();\n                textList.add(\"text1\");\n                textList.add(\"text2\");\n                textList.add(\"text3\");\n\n                Joiner joiner = Joiner.on(\",\").useForNull(\"null\");\n                String output = joiner.join(textList);\n\n               //output : \"text1,text2,text3\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1509450151,"post_id":41282608,"comment_id":81015201,"body_markdown":"But anyway, this is just a small variant on Zaki&#39;s solution from 2010.","body":"But anyway, this is just a small variant on Zaki&#39;s solution from 2010."}],"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482407619,"creation_date":1482407619,"answer_id":41282608,"question_id":3395286,"body_markdown":"Here is another solution:\r\n\r\n    for(String serverId : serverIds) {\r\n       sb.append(&quot;,&quot;);\r\n       sb.append(serverId); \r\n    }\r\n\r\n    String resultingString = &quot;&quot;;\r\n    if ( sb.length() &gt; 1 ) {\r\n        resultingString = sb.substring(1);\r\n    }","title":"Remove last character of a StringBuilder?","body":"<p>Here is another solution:</p>\n\n<pre><code>for(String serverId : serverIds) {\n   sb.append(\",\");\n   sb.append(serverId); \n}\n\nString resultingString = \"\";\nif ( sb.length() &gt; 1 ) {\n    resultingString = sb.substring(1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1617939945,"post_id":60144114,"comment_id":118456266,"body_markdown":"There is no `remove` method.  And `Length` (or `length`) is not field.  It is a method.","body":"There is no <code>remove</code> method.  And <code>Length</code> (or <code>length</code>) is not field.  It is a method."},{"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"score":0,"creation_date":1657982180,"post_id":60144114,"comment_id":128941462,"body_markdown":"I think this may be C#","body":"I think this may be C#"}],"tags":[],"owner":{"account_id":12784912,"reputation":75,"user_id":9251463,"display_name":"Mohamed Farook Mohamed Fazrin"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1581309152,"creation_date":1581309152,"answer_id":60144114,"question_id":3395286,"body_markdown":"stringBuilder.Remove(stringBuilder.Length - 1, 1);","title":"Remove last character of a StringBuilder?","body":"<p>stringBuilder.Remove(stringBuilder.Length - 1, 1);</p>\n"},{"comments":[{"owner":{"account_id":3875331,"reputation":3564,"user_id":3209523,"display_name":"canbax"},"score":0,"creation_date":1628845756,"post_id":66947106,"comment_id":121534985,"body_markdown":"did you try removing the last char. For me, it looks more performant since removing the last char can be done outside the `for` loop","body":"did you try removing the last char. For me, it looks more performant since removing the last char can be done outside the <code>for</code> loop"}],"tags":[],"owner":{"account_id":1061472,"reputation":11336,"user_id":1062992,"accept_rate":94,"display_name":"egerardus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617592980,"creation_date":1617583739,"answer_id":66947106,"question_id":3395286,"body_markdown":"I found myself doing this quite a bit so I wrote a benchmark for the 3 main append delimiter techniques: \r\n&lt;br&gt;&lt;br&gt;(benchmark with proper warmup and 100 rounds of 100,000 iterations)\r\n\r\n**&quot;Append After&quot;**\r\n\r\n    static void appendAfter()\r\n    {\r\n        sb.append(&#39;{&#39;);\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n            sb.append(&#39;&quot;&#39;);\r\n            sb.append(i);\r\n            sb.append(&#39;&quot;&#39;);\r\n            sb.append(&#39;:&#39;);\r\n            sb.append(i);\r\n            sb.append(&#39;,&#39;);\r\n        }\r\n        sb.setLength(sb.length() - 1);\r\n        sb.append(&#39;}&#39;);\r\n    }\r\n\r\n**&quot;Append Before&quot;**\r\n\r\n    static void appendBefore()\r\n    {\r\n        sb.append(&#39;{&#39;);\r\n        String delimiter = &quot;&quot;;\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n            sb.append(delimiter);\r\n            sb.append(&#39;&quot;&#39;);\r\n            sb.append(i);\r\n            sb.append(&#39;&quot;&#39;);\r\n            sb.append(&#39;:&#39;);\r\n            sb.append(i);\r\n            delimiter = &quot;,&quot;;\r\n        }\r\n        sb.append(&#39;}&#39;);\r\n    }\r\n\r\n**&quot;Append Maybe&quot;**\r\n\r\n    static void appendMaybe()\r\n    {\r\n        sb.append(&#39;{&#39;);\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n            sb.append(&#39;&quot;&#39;);\r\n            sb.append(i);\r\n            sb.append(&#39;&quot;&#39;);\r\n            sb.append(&#39;:&#39;);\r\n            sb.append(i);\r\n            if (i &lt; 9)\r\n            {\r\n                sb.append(&#39;,&#39;);\r\n            }\r\n        }\r\n        sb.append(&#39;}&#39;);\r\n    }\r\n\r\nI got the following results:\r\n\r\n|Platform|Append After|Append Before|Append Maybe|\r\n|-------|------------|-------------|------------|\r\n|Windows Server 2016, Java 11 - Hotspot|26ms|40ms|26ms|\r\n|Windows Server 2016, Java 8 - Hotspot|27ms|36ms|21ms|\r\n|Windows Server 2016, Java 11 - OpenJ9|63ms|81ms|59ms|\r\n|Windows Server 2016, Java 8 - OpenJ9|66ms|64ms|55ms|\r\n\r\n\r\nAside from being the fastest, I am of the opinion that the &quot;Append Maybe&quot; implementation shows the intent of the code the best. That is usually more important than the fraction of nanoseconds gained per iteration.\r\n\r\nI left the benchmark code [here](https://gist.github.com/egerardus/f5e3b0252dbd6b5ee836d7c9a9642006) in case anyone wanted to try it on their platform. Please contribute your results above if you do so!","title":"Remove last character of a StringBuilder?","body":"<p>I found myself doing this quite a bit so I wrote a benchmark for the 3 main append delimiter techniques:\n<br><br>(benchmark with proper warmup and 100 rounds of 100,000 iterations)</p>\n<p><strong>&quot;Append After&quot;</strong></p>\n<pre><code>static void appendAfter()\n{\n    sb.append('{');\n    for (int i = 0; i &lt; 10; i++)\n    {\n        sb.append('&quot;');\n        sb.append(i);\n        sb.append('&quot;');\n        sb.append(':');\n        sb.append(i);\n        sb.append(',');\n    }\n    sb.setLength(sb.length() - 1);\n    sb.append('}');\n}\n</code></pre>\n<p><strong>&quot;Append Before&quot;</strong></p>\n<pre><code>static void appendBefore()\n{\n    sb.append('{');\n    String delimiter = &quot;&quot;;\n    for (int i = 0; i &lt; 10; i++)\n    {\n        sb.append(delimiter);\n        sb.append('&quot;');\n        sb.append(i);\n        sb.append('&quot;');\n        sb.append(':');\n        sb.append(i);\n        delimiter = &quot;,&quot;;\n    }\n    sb.append('}');\n}\n</code></pre>\n<p><strong>&quot;Append Maybe&quot;</strong></p>\n<pre><code>static void appendMaybe()\n{\n    sb.append('{');\n    for (int i = 0; i &lt; 10; i++)\n    {\n        sb.append('&quot;');\n        sb.append(i);\n        sb.append('&quot;');\n        sb.append(':');\n        sb.append(i);\n        if (i &lt; 9)\n        {\n            sb.append(',');\n        }\n    }\n    sb.append('}');\n}\n</code></pre>\n<p>I got the following results:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Platform</th>\n<th>Append After</th>\n<th>Append Before</th>\n<th>Append Maybe</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Windows Server 2016, Java 11 - Hotspot</td>\n<td>26ms</td>\n<td>40ms</td>\n<td>26ms</td>\n</tr>\n<tr>\n<td>Windows Server 2016, Java 8 - Hotspot</td>\n<td>27ms</td>\n<td>36ms</td>\n<td>21ms</td>\n</tr>\n<tr>\n<td>Windows Server 2016, Java 11 - OpenJ9</td>\n<td>63ms</td>\n<td>81ms</td>\n<td>59ms</td>\n</tr>\n<tr>\n<td>Windows Server 2016, Java 8 - OpenJ9</td>\n<td>66ms</td>\n<td>64ms</td>\n<td>55ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Aside from being the fastest, I am of the opinion that the &quot;Append Maybe&quot; implementation shows the intent of the code the best. That is usually more important than the fraction of nanoseconds gained per iteration.</p>\n<p>I left the benchmark code <a href=\"https://gist.github.com/egerardus/f5e3b0252dbd6b5ee836d7c9a9642006\" rel=\"nofollow noreferrer\">here</a> in case anyone wanted to try it on their platform. Please contribute your results above if you do so!</p>\n"},{"tags":[],"owner":{"account_id":9975535,"reputation":101,"user_id":7380277,"display_name":"Bernard Agbemadon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700041699,"creation_date":1700041699,"answer_id":77486663,"question_id":3395286,"body_markdown":"If you don&#39;t want to use [`StringJoiner`][1], here&#39;s a small improvement on the @superpupervlad technique (with a good gain for large lists), which reduces the number of assignments.\r\n\r\n    char prefix = &#39;\\0&#39;; // same as &quot;&quot;\r\n    for (String serverId : serverIds) {\r\n      sb.append(prefix);\r\n      if (prefix == &#39;\\0&#39;) prefix = &#39;,&#39;;\r\n      sb.append(serverId);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html","title":"Remove last character of a StringBuilder?","body":"<p>If you don't want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a>, here's a small improvement on the @superpupervlad technique (with a good gain for large lists), which reduces the number of assignments.</p>\n<pre><code>char prefix = '\\0'; // same as &quot;&quot;\nfor (String serverId : serverIds) {\n  sb.append(prefix);\n  if (prefix == '\\0') prefix = ',';\n  sb.append(serverId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1388706,"reputation":506,"user_id":1320066,"display_name":"NickD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700241508,"creation_date":1700241508,"answer_id":77503520,"question_id":3395286,"body_markdown":"A much more simple and compact solution just requires a small modification to your code.\r\n\r\n    for (String serverId : serverIds) {\r\n      if (!sb.isEmpty()) sb.append(&quot;,&quot;)\r\n      sb.append(serverId);\r\n    }","title":"Remove last character of a StringBuilder?","body":"<p>A much more simple and compact solution just requires a small modification to your code.</p>\n<pre><code>for (String serverId : serverIds) {\n  if (!sb.isEmpty()) sb.append(&quot;,&quot;)\n  sb.append(serverId);\n}\n</code></pre>\n"}],"owner":{"account_id":119353,"reputation":11048,"user_id":310991,"accept_rate":84,"display_name":"Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457597,"favorite_count":0,"down_vote_count":0,"up_vote_count":529,"accepted_answer_id":3395345,"answer_count":19,"score":529,"last_activity_date":1700241508,"creation_date":1280828487,"question_id":3395286,"body_markdown":"When you have to loop through a collection and make a string of each data separated by a delimiter, you always end up with an extra delimiter at the end, e.g.\r\n\r\n    for (String serverId : serverIds) {\r\n      sb.append(serverId);\r\n       sb.append(&quot;,&quot;);\r\n    }\r\n\r\nGives something like : **serverId_1, serverId_2, serverId_3,**\r\n\r\nI would like to delete the last character in the StringBuilder (without converting it because I still need it after this loop).","title":"Remove last character of a StringBuilder?","body":"<p>When you have to loop through a collection and make a string of each data separated by a delimiter, you always end up with an extra delimiter at the end, e.g.</p>\n\n<pre><code>for (String serverId : serverIds) {\n  sb.append(serverId);\n   sb.append(\",\");\n}\n</code></pre>\n\n<p>Gives something like : <strong>serverId_1, serverId_2, serverId_3,</strong></p>\n\n<p>I would like to delete the last character in the StringBuilder (without converting it because I still need it after this loop).</p>\n"},{"tags":["java","javafx","rendering","mesh","fxyz3d"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":2,"creation_date":1700245437,"post_id":77503496,"comment_id":136634986,"body_markdown":"From the answer you mentioned: `Under the hood, the Polygon mesh uses a triangle mesh, and internally converts the polygons you provide to triangles.`.  For every final edge, a very long and narrow triangle is used to create the visible effect of a line, so the internal triangleMesh is the collection of these triangles. But if you zoom close enough to the vertex, you can indeed see the real triangle. If you check the [code](https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/shapes/polygon/PolygonMeshView.java#L331), that is the tiny offset used to define the triangle.","body":"From the answer you mentioned: <code>Under the hood, the Polygon mesh uses a triangle mesh, and internally converts the polygons you provide to triangles.</code>.  For every final edge, a very long and narrow triangle is used to create the visible effect of a line, so the internal triangleMesh is the collection of these triangles. But if you zoom close enough to the vertex, you can indeed see the real triangle. If you check the <a href=\"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/shapes/polygon/PolygonMeshView.java#L331\" rel=\"nofollow noreferrer\">code</a>, that is the tiny offset used to define the triangle."},{"owner":{"account_id":28671278,"reputation":1,"user_id":21954294,"display_name":"ttthodd"},"score":0,"creation_date":1700326561,"post_id":77503496,"comment_id":136641977,"body_markdown":"Thank you for the answer. So am I right than that it is with javafx impossible to render a polygon with four or more edges in a 3D subscene in a clean way? This is a little disappointing, but it seems that it cannot be changed :(","body":"Thank you for the answer. So am I right than that it is with javafx impossible to render a polygon with four or more edges in a 3D subscene in a clean way? This is a little disappointing, but it seems that it cannot be changed :("}],"owner":{"account_id":28671278,"reputation":1,"user_id":21954294,"display_name":"ttthodd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700241294,"creation_date":1700241294,"question_id":77503496,"body_markdown":"I am currently in the process of writing a program in which I read in various 3D meshes and continue working with them. The meshes usually contain triangles and quadrilaterals. I therefore wanted to use PolygonMesh from JavaFX(yz)3D so that the quadrilaterals do not have to be divided into two triangles and I can see directly in the GUI where triangles and quadrilaterals are.\r\nNow I have tried out some simple examples and came across a problem that I could not find anywhere on the Internet. \r\n\r\nJava does not render the PolygonMesh cleanly for me. At each edge of each created surface a tiny triangle appears, which does not seem to belong there. The phenomenon only occurs in DrawMode.LINE (below is a screenshot of the problem). The code is exactly from the answer under this question (without texture): https://stackoverflow.com/questions/52554535/problem-with-adding-multiple-triangle-meshes-to-a-scene-in-javafx\r\n\r\n[the rendered wireframe from the site mentioned intext](https://i.stack.imgur.com/ZRyRh.png)\r\n[zoom in to one front edge](https://i.stack.imgur.com/D9otr.png)\r\n\r\nAm I missing something fundamental?\r\n\r\n\r\n\r\nThe phenomenon occurs even with a single rendered surface. Is this a known bug or what can I do?","title":"Rendering problem with PolygonMesh in JavaFX(yz)","body":"<p>I am currently in the process of writing a program in which I read in various 3D meshes and continue working with them. The meshes usually contain triangles and quadrilaterals. I therefore wanted to use PolygonMesh from JavaFX(yz)3D so that the quadrilaterals do not have to be divided into two triangles and I can see directly in the GUI where triangles and quadrilaterals are.\nNow I have tried out some simple examples and came across a problem that I could not find anywhere on the Internet.</p>\n<p>Java does not render the PolygonMesh cleanly for me. At each edge of each created surface a tiny triangle appears, which does not seem to belong there. The phenomenon only occurs in DrawMode.LINE (below is a screenshot of the problem). The code is exactly from the answer under this question (without texture): <a href=\"https://stackoverflow.com/questions/52554535/problem-with-adding-multiple-triangle-meshes-to-a-scene-in-javafx\">Problem with adding multiple triangle meshes to a scene in javafx</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZRyRh.png\" rel=\"nofollow noreferrer\">the rendered wireframe from the site mentioned intext</a>\n<a href=\"https://i.stack.imgur.com/D9otr.png\" rel=\"nofollow noreferrer\">zoom in to one front edge</a></p>\n<p>Am I missing something fundamental?</p>\n<p>The phenomenon occurs even with a single rendered surface. Is this a known bug or what can I do?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700242357,"post_id":77503483,"comment_id":136634496,"body_markdown":"Which author, and what page?","body":"Which author, and what page?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1700242687,"post_id":77503483,"comment_id":136634560,"body_markdown":"trivially you can just remove `residual` and mess with `money` instead - you don&#39;t need that variable&#39;s value to survive. So just `money -= price;` instead of `int residual = money - price;`, and `price -= coin;` instead of `residual = residual - coin&#39;` (`x -= y` is short for `x = x - y`). Your question is too vague however; I have no idea if this is what you&#39;re looking for. VTC.","body":"trivially you can just remove <code>residual</code> and mess with <code>money</code> instead - you don&#39;t need that variable&#39;s value to survive. So just <code>money -= price;</code> instead of <code>int residual = money - price;</code>, and <code>price -= coin;</code> instead of <code>residual = residual - coin&#39;</code> (<code>x -= y</code> is short for <code>x = x - y</code>). Your question is too vague however; I have no idea if this is what you&#39;re looking for. VTC."},{"owner":{"account_id":29755083,"reputation":1,"user_id":22803987,"display_name":"As Da"},"score":0,"creation_date":1700297626,"post_id":77503483,"comment_id":136639289,"body_markdown":"Thank you @rzwitserloot! Right code for me was:\npublic static int[] change(int money, int price) {\n        int[] coins = {10, 5, 2, 1};\n        int[] rsl = new int[100];\n        int size = 0;\n        money -= price;\n        for (int coin : coins) {\n            while (money &gt;= coin) {\n                money -= coin;\n                rsl[size] = coin;\n                size++;\n            }\n        }\n        return Arrays.copyOf(rsl, size);\n    }","body":"Thank you @rzwitserloot! Right code for me was: public static int[] change(int money, int price) {         int[] coins = {10, 5, 2, 1};         int[] rsl = new int[100];         int size = 0;         money -= price;         for (int coin : coins) {             while (money &gt;= coin) {                 money -= coin;                 rsl[size] = coin;                 size++;             }         }         return Arrays.copyOf(rsl, size);     }"},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1700587213,"post_id":77503483,"comment_id":136671979,"body_markdown":"Welcome to StackOverflow! :D\nWhich variable do you want to get rid of? Or is the task just to get rid of ANY var?","body":"Welcome to StackOverflow! :D Which variable do you want to get rid of? Or is the task just to get rid of ANY var?"},{"owner":{"account_id":29755083,"reputation":1,"user_id":22803987,"display_name":"As Da"},"score":0,"creation_date":1701287472,"post_id":77503483,"comment_id":136758389,"body_markdown":"The right code optimization was in the last comment before you. Now it looks simple )","body":"The right code optimization was in the last comment before you. Now it looks simple )"}],"owner":{"account_id":29755083,"reputation":1,"user_id":22803987,"display_name":"As Da"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700241147,"creation_date":1700241147,"question_id":77503483,"body_markdown":"Cant find solution in the next educational example in JAVA for beginners. Code works, but it can be solved without variable.\r\n\r\n    public static int[] change(int money, int price) {\r\n        int[] coins = {10, 5, 2, 1};\r\n        int[] rsl = new int[100];\r\n        int size = 0;\r\n        int residual = money - price;\r\n        for (int coin : coins) {\r\n            while (residual &gt;= coin) {\r\n                residual = residual - coin;\r\n                rsl[size] = coin;\r\n                size++;\r\n            }\r\n        }\r\n        return Arrays.copyOf(rsl, size);\r\n    }","title":"how is it possible to remove variable residual?","body":"<p>Cant find solution in the next educational example in JAVA for beginners. Code works, but it can be solved without variable.</p>\n<pre><code>public static int[] change(int money, int price) {\n    int[] coins = {10, 5, 2, 1};\n    int[] rsl = new int[100];\n    int size = 0;\n    int residual = money - price;\n    for (int coin : coins) {\n        while (residual &gt;= coin) {\n            residual = residual - coin;\n            rsl[size] = coin;\n            size++;\n        }\n    }\n    return Arrays.copyOf(rsl, size);\n}\n</code></pre>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700237350,"post_id":77503019,"comment_id":136633509,"body_markdown":"Your `Host.contains` always returns `false`.","body":"Your <code>Host.contains</code> always returns <code>false</code>."},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1700239698,"post_id":77503019,"comment_id":136633965,"body_markdown":"@k314159\nThanks \n\nmade the changes . See the updated Host.java \nStill the issue . Pleaser suggest","body":"@k314159 Thanks   made the changes . See the updated Host.java  Still the issue . Pleaser suggest"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700240371,"post_id":77503019,"comment_id":136634110,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700241143,"creation_date":1700240154,"answer_id":77503388,"question_id":77503019,"body_markdown":"The issue in your code is in the contains method of the `Host` class. You are using == for string comparison, which checks for reference equality, not content equality. You should use the equals method for string comparison.\r\n\r\nHere&#39;s the corrected contains method:\r\n\r\n```\r\npublic boolean contains(Object obj) {\r\n    if (!(obj instanceof Host)) {\r\n        return false;\r\n    }\r\n\r\n    Host otherHost = (Host) obj;\r\n    return this.host.equals(otherHost.getHost()); // here was the problem\r\n}\r\n```\r\nBut actually this `contains` method is weird and unnecessary here, we can simple use getter for each host:\r\n```\r\nfor (Host element : data.getRoute().getHosts()) {\r\n            if (element.getHost().equals(&quot;goa.dev.abc.com&quot;)) {\r\n                System.out.println(element);\r\n                System.out.println(&quot;test&quot;);\r\n            }\r\n        }\r\n```","title":"find the string in YAML file using ArrayList","body":"<p>The issue in your code is in the contains method of the <code>Host</code> class. You are using == for string comparison, which checks for reference equality, not content equality. You should use the equals method for string comparison.</p>\n<p>Here's the corrected contains method:</p>\n<pre><code>public boolean contains(Object obj) {\n    if (!(obj instanceof Host)) {\n        return false;\n    }\n\n    Host otherHost = (Host) obj;\n    return this.host.equals(otherHost.getHost()); // here was the problem\n}\n</code></pre>\n<p>But actually this <code>contains</code> method is weird and unnecessary here, we can simple use getter for each host:</p>\n<pre><code>for (Host element : data.getRoute().getHosts()) {\n            if (element.getHost().equals(&quot;goa.dev.abc.com&quot;)) {\n                System.out.println(element);\n                System.out.println(&quot;test&quot;);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700240599,"creation_date":1700240599,"answer_id":77503433,"question_id":77503019,"body_markdown":"Your `Host.contains` method returns true only when it is passed a Host, but you are actually passing it a String. You need something like this:\r\n\r\n    public boolean contains(String host)\r\n        return this.host.equals(host);\r\n    }\r\n","title":"find the string in YAML file using ArrayList","body":"<p>Your <code>Host.contains</code> method returns true only when it is passed a Host, but you are actually passing it a String. You need something like this:</p>\n<pre><code>public boolean contains(String host)\n    return this.host.equals(host);\n}\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77503388,"answer_count":2,"score":0,"last_activity_date":1700241143,"creation_date":1700236838,"question_id":77503019,"body_markdown":"we have YAML file where we need to find out whether specific host entry is available or not .\r\n \r\nfollowing is code \r\n\r\n    public class ListTest {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\Automation\\\\values.yaml&quot;));\r\n    \r\n    \t\tYaml yaml = new Yaml(new Constructor(Values1.class));\r\n    \r\n    \t\tValues1 data = yaml.load(inputStream);\r\n    \r\n    \t\tdata.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\r\n    \r\n    \t\tfor (Host element : data.getRoute().getHosts()) {\r\n    \t\t\tif (element.contains(&quot;goa.dev.abc.com&quot;)) {\r\n    \t\t\t\tSystem.out.println(element);\r\n    \t\t\t\tSystem.out.println(&quot;test&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**Values1.java**\r\n\r\n    public class Values1 {\r\n    \t\r\n    \tprivate Route route;\r\n    \tprivate Ingress ingress;\r\n    \t\r\n    \tpublic Ingress getIngress() {\r\n    \t\treturn ingress;\r\n    \t}\r\n    \tpublic void setIngress(Ingress ingress) {\r\n    \t\tthis.ingress = ingress;\r\n    \t}\r\n    \tpublic Route getRoute() {\r\n    \t\treturn route;\r\n    \t}\r\n    \tpublic void setRoute(Route route) {\r\n    \t\tthis.route = route;\r\n    \t}\r\n    \r\n    }\r\n\r\n**Host.java**\r\n\r\n  \r\npublic class Host {\r\n\t\r\n\t  private String host;\r\n\t    public String getHost() {\r\n\t        return host;\r\n\t    }\r\n\t    public void setHost(String host) {\r\n\t        this.host = host;\r\n\t    }\r\n\t\tpublic boolean contains(Object obj) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t\t  if(!(obj instanceof Host)) {\r\n\t\t\t         return false;\r\n\t\t\t      }\r\n\t\t\t  \r\n\t\t\t  Host host = (Host)obj;\r\n\t\t      return this.host == host.getHost();\r\n\t\t   }\r\n\t\t}\r\n\r\n**Values.yaml** \r\n\r\n    ingress: {backendServiceName: serv-deployment, cluster_issuer: lt-eks,\r\n      ingressClassName: nginx-lr1, tls_acme: &#39;true&#39;}\r\n    route:\r\n      hosts:\r\n      - {host: goa.dev.abc.com}\r\n\r\n\r\nNow, we just want to check if , entry, &quot;goa.dev.abc.com&quot; exists or not in the list\r\n\r\nPlease suggest what is missing  ","title":"find the string in YAML file using ArrayList","body":"<p>we have YAML file where we need to find out whether specific host entry is available or not .</p>\n<p>following is code</p>\n<pre><code>public class ListTest {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        // TODO Auto-generated method stub\n\n        InputStream inputStream = new FileInputStream(new File(&quot;C:\\\\Automation\\\\values.yaml&quot;));\n\n        Yaml yaml = new Yaml(new Constructor(Values1.class));\n\n        Values1 data = yaml.load(inputStream);\n\n        data.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\n\n        for (Host element : data.getRoute().getHosts()) {\n            if (element.contains(&quot;goa.dev.abc.com&quot;)) {\n                System.out.println(element);\n                System.out.println(&quot;test&quot;);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>Values1.java</strong></p>\n<pre><code>public class Values1 {\n    \n    private Route route;\n    private Ingress ingress;\n    \n    public Ingress getIngress() {\n        return ingress;\n    }\n    public void setIngress(Ingress ingress) {\n        this.ingress = ingress;\n    }\n    public Route getRoute() {\n        return route;\n    }\n    public void setRoute(Route route) {\n        this.route = route;\n    }\n\n}\n</code></pre>\n<p><strong>Host.java</strong></p>\n<p>public class Host {</p>\n<pre><code>  private String host;\n    public String getHost() {\n        return host;\n    }\n    public void setHost(String host) {\n        this.host = host;\n    }\n    public boolean contains(Object obj) {\n        // TODO Auto-generated method stub\n        \n          if(!(obj instanceof Host)) {\n                 return false;\n              }\n          \n          Host host = (Host)obj;\n          return this.host == host.getHost();\n       }\n    }\n</code></pre>\n<p><strong>Values.yaml</strong></p>\n<pre><code>ingress: {backendServiceName: serv-deployment, cluster_issuer: lt-eks,\n  ingressClassName: nginx-lr1, tls_acme: 'true'}\nroute:\n  hosts:\n  - {host: goa.dev.abc.com}\n</code></pre>\n<p>Now, we just want to check if , entry, &quot;goa.dev.abc.com&quot; exists or not in the list</p>\n<p>Please suggest what is missing</p>\n"},{"tags":["java","spring-boot","hibernate","jackson","hibernate-spatial"],"comments":[{"owner":{"account_id":4577330,"reputation":761,"user_id":3715449,"display_name":"Karel Maesen"},"score":0,"creation_date":1700511778,"post_id":77503404,"comment_id":136661406,"body_markdown":"Internally Hibernate Spatial uses the Geolatte library for spatial/geometry types. Your domain model uses JTS, however. For JPQL, Hibernate will automatically translate to JTS. It can do that because it has knowledge of the application model. In the case of a native query, this information is not available and Spring Data simply assumes that what is returned by Hibernate is of the appropriate type.","body":"Internally Hibernate Spatial uses the Geolatte library for spatial/geometry types. Your domain model uses JTS, however. For JPQL, Hibernate will automatically translate to JTS. It can do that because it has knowledge of the application model. In the case of a native query, this information is not available and Spring Data simply assumes that what is returned by Hibernate is of the appropriate type."}],"owner":{"account_id":10101958,"reputation":348,"user_id":7465804,"display_name":"Simonas Petkeviius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700240903,"creation_date":1700240298,"question_id":77503404,"body_markdown":"I have two queries in my Spring Data JPA repository, one written in JPQL and another in native SQL. The JPQL query works flawlessly, while the native query throws a HttpMessageNotWritableException. Both queries are nearly identical in terms of the selected fields and conditions.\r\n\r\nHere are the queries:\r\n\r\nNative Query:\r\n\r\n```\r\n@Query(value = &quot;SELECT &quot; +\r\n        &quot;o.geometry\\\\:\\\\:geometry as geometry, &quot; +\r\n        &quot;o.center\\\\:\\\\:geometry as center, &quot; +\r\n        &quot;FROM overlay as o &quot; +\r\n        &quot;JOIN company_layer as cl on cl.id = o.layer_id &quot; +\r\n        &quot;WHERE o.ts_overlaytext @@ to_tsquery(:searchString) AND o.disabled = false&quot;,\r\n        nativeQuery = true)\r\nList&lt;MyProjection&gt; findWithNativeQuery(@Param(&quot;searchString&quot;) String searchString);\r\n```\r\n\r\nJPQL Query:\r\n\r\n```\r\n@Query(&quot;SELECT &quot; +\r\n        &quot;o.geometry as geometry, &quot; +\r\n        &quot;o.center as center, &quot; +\r\n        &quot;FROM Overlay o &quot; +\r\n        &quot;WHERE o.layer.id = :layerId AND o.disabled = false AND o.layer.company.id = :companyId&quot;)\r\nList&lt;MyProjection&gt; findWithJPQLQuery(@Param(&quot;layerId&quot;) Long layerId, @Param(&quot;companyId&quot;) Long companyId);\r\n```\r\nBoth queries aim to select data from the Overlay entity, and the only significant difference is the usage of native SQL in the first one.\r\n\r\nThe JPQL query works as expected, but when I execute the native query, and try to send data to the frontend from the controller, I get the following exception:\r\n\r\n```\r\norg.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Cannot project org.geolatte.geom.Polygon to org.locationtech.jts.geom.Geometry; Target type is not an interface and no matching Converter found\r\n```\r\n\r\nWhat could be causing this issue specifically in the context of the native query?\r\n\r\nAny insights or suggestions on resolving this issue would be greatly appreciated. Thank you!","title":"Native Query with PostGIS Throws HttpMessageNotWritableException","body":"<p>I have two queries in my Spring Data JPA repository, one written in JPQL and another in native SQL. The JPQL query works flawlessly, while the native query throws a HttpMessageNotWritableException. Both queries are nearly identical in terms of the selected fields and conditions.</p>\n<p>Here are the queries:</p>\n<p>Native Query:</p>\n<pre><code>@Query(value = &quot;SELECT &quot; +\n        &quot;o.geometry\\\\:\\\\:geometry as geometry, &quot; +\n        &quot;o.center\\\\:\\\\:geometry as center, &quot; +\n        &quot;FROM overlay as o &quot; +\n        &quot;JOIN company_layer as cl on cl.id = o.layer_id &quot; +\n        &quot;WHERE o.ts_overlaytext @@ to_tsquery(:searchString) AND o.disabled = false&quot;,\n        nativeQuery = true)\nList&lt;MyProjection&gt; findWithNativeQuery(@Param(&quot;searchString&quot;) String searchString);\n</code></pre>\n<p>JPQL Query:</p>\n<pre><code>@Query(&quot;SELECT &quot; +\n        &quot;o.geometry as geometry, &quot; +\n        &quot;o.center as center, &quot; +\n        &quot;FROM Overlay o &quot; +\n        &quot;WHERE o.layer.id = :layerId AND o.disabled = false AND o.layer.company.id = :companyId&quot;)\nList&lt;MyProjection&gt; findWithJPQLQuery(@Param(&quot;layerId&quot;) Long layerId, @Param(&quot;companyId&quot;) Long companyId);\n</code></pre>\n<p>Both queries aim to select data from the Overlay entity, and the only significant difference is the usage of native SQL in the first one.</p>\n<p>The JPQL query works as expected, but when I execute the native query, and try to send data to the frontend from the controller, I get the following exception:</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Cannot project org.geolatte.geom.Polygon to org.locationtech.jts.geom.Geometry; Target type is not an interface and no matching Converter found\n</code></pre>\n<p>What could be causing this issue specifically in the context of the native query?</p>\n<p>Any insights or suggestions on resolving this issue would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","netbeans","derby"],"answers":[{"comments":[{"owner":{"account_id":4056415,"reputation":33,"user_id":3334266,"accept_rate":75,"display_name":"Rimwis"},"score":1,"creation_date":1414591226,"post_id":26631573,"comment_id":41872613,"body_markdown":"OK after i started derby network server i get this : (The connection was refused because the database sample was not found)","body":"OK after i started derby network server i get this : (The connection was refused because the database sample was not found)"},{"owner":{"account_id":185859,"reputation":1758,"user_id":422842,"accept_rate":33,"display_name":"f01"},"score":0,"creation_date":1414591677,"post_id":26631573,"comment_id":41872913,"body_markdown":"This might help you solve that part http://stackoverflow.com/questions/17375504/database-not-found-error-when-connecting-to-derby-network-server","body":"This might help you solve that part <a href=\"http://stackoverflow.com/questions/17375504/database-not-found-error-when-connecting-to-derby-network-server\" title=\"database not found error when connecting to derby network server\">stackoverflow.com/questions/17375504/&hellip;</a>"},{"owner":{"account_id":4056415,"reputation":33,"user_id":3334266,"accept_rate":75,"display_name":"Rimwis"},"score":0,"creation_date":1414592870,"post_id":26631573,"comment_id":41873677,"body_markdown":"Okey... i dont really get it how to solve it :/ (new to this stuff)","body":"Okey... i dont really get it how to solve it :/ (new to this stuff)"}],"tags":[],"owner":{"account_id":185859,"reputation":1758,"user_id":422842,"accept_rate":33,"display_name":"f01"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414589094,"creation_date":1414589094,"answer_id":26631573,"question_id":26631473,"body_markdown":"Did you already try the hint from here http://wiki.netbeans.org/JavaDB_grant_permissions\r\n\r\nJDK 7u51 comes with some security improvements which are causing problems with starting Java DB on this Java version.\r\n\r\nWhen you try to start DB from NetBeans you will probably get the Exception:\r\n\r\n     java.security.AccessControlException: access denied (&quot;java.net.SocketPermission&quot; &quot;localhost:1527&quot; &quot;listen,resolve&quot;)\r\n\r\nThe same exception you will get while starting using script &lt;JDK 7u51 location&gt;/db/bin/startNetworkServer\r\n\r\nBecause there is no suitable way to fix it on the NetBeans side and this should be fixed on the side of the Java DB.\r\n\r\nThere are several ways how to deal with this problem. I will mention only the easiest way. You have to start DB manually from command line.\r\n\r\nStart Java DB with -noSecurityManager argument.\r\n\r\n      &lt;JDK 7u51 location&gt;/db/bin/startNetworkServer -noSecurityManager","title":"Netbeans 7.3.1 Cannot establish a connection to jdbc:derby","body":"<p>Did you already try the hint from here <a href=\"http://wiki.netbeans.org/JavaDB_grant_permissions\" rel=\"nofollow\">http://wiki.netbeans.org/JavaDB_grant_permissions</a></p>\n\n<p>JDK 7u51 comes with some security improvements which are causing problems with starting Java DB on this Java version.</p>\n\n<p>When you try to start DB from NetBeans you will probably get the Exception:</p>\n\n<pre><code> java.security.AccessControlException: access denied (\"java.net.SocketPermission\" \"localhost:1527\" \"listen,resolve\")\n</code></pre>\n\n<p>The same exception you will get while starting using script /db/bin/startNetworkServer</p>\n\n<p>Because there is no suitable way to fix it on the NetBeans side and this should be fixed on the side of the Java DB.</p>\n\n<p>There are several ways how to deal with this problem. I will mention only the easiest way. You have to start DB manually from command line.</p>\n\n<p>Start Java DB with -noSecurityManager argument.</p>\n\n<pre><code>  &lt;JDK 7u51 location&gt;/db/bin/startNetworkServer -noSecurityManager\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6316585,"reputation":1,"user_id":4906304,"display_name":"Thanh T&#224;i Trn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460565519,"creation_date":1460565519,"answer_id":36604588,"question_id":26631473,"body_markdown":"you need to add start page in project property.\r\nOpen Project property. Then choose tab run. Then add your project start page to relative URL text box. Mine is &quot;/index.jsp&quot;.\r\n\r\nSorry if i have some mistake in english grammar. ","title":"Netbeans 7.3.1 Cannot establish a connection to jdbc:derby","body":"<p>you need to add start page in project property.\nOpen Project property. Then choose tab run. Then add your project start page to relative URL text box. Mine is \"/index.jsp\".</p>\n\n<p>Sorry if i have some mistake in english grammar. </p>\n"}],"owner":{"account_id":4056415,"reputation":33,"user_id":3334266,"accept_rate":75,"display_name":"Rimwis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700240620,"creation_date":1414588825,"question_id":26631473,"body_markdown":"Recently I&#39;m working on this little project with Java EE and I need to use derby database , but every time I go to service-&gt;Database and try to connect to my jdbc:derby I get this error : \r\n\r\nUnable to connect. Cannot establish a connection to jdbc:derby://localhost:1527//sample using org.apache.derby.jdbc.ClientDriver (java.netConnectException : Error connecting to server localhost on port 1527 with message Connection refused: connect.).\r\n\r\n\r\nand this exception :\r\n\r\n    Wed Oct 29 15:05:26 EET 2014 : access denied (&quot;java.net.SocketPermission&quot; &quot;localhost:1527&quot; &quot;listen,resolve&quot;)\r\n    java.security.AccessControlException: access denied (&quot;java.net.SocketPermission&quot; &quot;localhost:1527&quot; &quot;listen,resolve&quot;)\r\n    \tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:457)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:884)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat java.lang.SecurityManager.checkListen(SecurityManager.java:1131)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:374)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\r\n    \tat javax.net.DefaultServerSocketFactory.createServerSocket(ServerSocketFactory.java:231)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.createServerSocket(Unknown Source)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.access$000(Unknown Source)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl$1.run(Unknown Source)\r\n    \tat java.security.AccessControWed Oct 29 15:05:26 EET 2014 : access denied (&quot;java.net.SocketPermission&quot; &quot;localhost:1527&quot; &quot;listen,resolve&quot;)\r\n    java.security.AccessControlException: access denied (&quot;java.net.SocketPermission&quot; &quot;localhost:1527&quot; &quot;listen,resolve&quot;)\r\n    \tat java.security.AccessContrller.doPrivileged(Native Method)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.blockingStart(Unknown Source)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.executeWork(Unknown Source)\r\n    \tat org.apache.derby.drda.NetworkServerControl.maiolContext.checkPermission(AccessControlContext.java:457)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:884)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat java.lang.SecurityManager.checkListen(SecurityManager.java:1131)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:374)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\r\n    \tat javax.net.DefaultServerSocketFactory.createServerSocket(ServerSocketFactory.java:231)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.createServerSocket(Unknown Source)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.access$000(Unknown Source)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.blockingStart(Unknown Source)\r\n    \tat org.apache.derby.impl.drda.NetworkServerControlImpl.executeWork(Unknown Source)\r\n    \tat org.apache.derby.drda.NetworkServerControl.main(Unknown Source)\r\n    n(Unknown Source)\r\n\r\nAny ideas how to fix it?","title":"Netbeans 7.3.1 Cannot establish a connection to jdbc:derby","body":"<p>Recently I'm working on this little project with Java EE and I need to use derby database , but every time I go to service->Database and try to connect to my jdbc:derby I get this error : </p>\n\n<p>Unable to connect. Cannot establish a connection to jdbc:derby://localhost:1527//sample using org.apache.derby.jdbc.ClientDriver (java.netConnectException : Error connecting to server localhost on port 1527 with message Connection refused: connect.).</p>\n\n<p>and this exception :</p>\n\n<pre><code>Wed Oct 29 15:05:26 EET 2014 : access denied (\"java.net.SocketPermission\" \"localhost:1527\" \"listen,resolve\")\njava.security.AccessControlException: access denied (\"java.net.SocketPermission\" \"localhost:1527\" \"listen,resolve\")\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:457)\n    at java.security.AccessController.checkPermission(AccessController.java:884)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at java.lang.SecurityManager.checkListen(SecurityManager.java:1131)\n    at java.net.ServerSocket.bind(ServerSocket.java:374)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\n    at javax.net.DefaultServerSocketFactory.createServerSocket(ServerSocketFactory.java:231)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.createServerSocket(Unknown Source)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.access$000(Unknown Source)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl$1.run(Unknown Source)\n    at java.security.AccessControWed Oct 29 15:05:26 EET 2014 : access denied (\"java.net.SocketPermission\" \"localhost:1527\" \"listen,resolve\")\njava.security.AccessControlException: access denied (\"java.net.SocketPermission\" \"localhost:1527\" \"listen,resolve\")\n    at java.security.AccessContrller.doPrivileged(Native Method)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.blockingStart(Unknown Source)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.executeWork(Unknown Source)\n    at org.apache.derby.drda.NetworkServerControl.maiolContext.checkPermission(AccessControlContext.java:457)\n    at java.security.AccessController.checkPermission(AccessController.java:884)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at java.lang.SecurityManager.checkListen(SecurityManager.java:1131)\n    at java.net.ServerSocket.bind(ServerSocket.java:374)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\n    at javax.net.DefaultServerSocketFactory.createServerSocket(ServerSocketFactory.java:231)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.createServerSocket(Unknown Source)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.access$000(Unknown Source)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.blockingStart(Unknown Source)\n    at org.apache.derby.impl.drda.NetworkServerControlImpl.executeWork(Unknown Source)\n    at org.apache.derby.drda.NetworkServerControl.main(Unknown Source)\nn(Unknown Source)\n</code></pre>\n\n<p>Any ideas how to fix it?</p>\n"},{"tags":["java","json","jackson","deserialization","json-deserialization"],"answers":[{"comments":[{"owner":{"account_id":4364428,"reputation":169,"user_id":3560643,"display_name":"Anho"},"score":0,"creation_date":1700477554,"post_id":77503374,"comment_id":136655194,"body_markdown":"The `Person`-class is final and I can not extend from it.","body":"The <code>Person</code>-class is final and I can not extend from it."}],"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700240001,"creation_date":1700240001,"answer_id":77503374,"question_id":77454649,"body_markdown":"I think your code can be more simple:\r\nWhat you need is a Wrapper of Person class since you can&#39;t edit it.\r\n\r\nPerson:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Person {\r\n    \r\n        private String firstName;\r\n        \r\n        private String surname;\r\n        \r\n        private int age;\r\n    \r\n    }\r\n\r\nPerson Wrapper\r\n\r\n    public class PersonWrapper extends Person {\r\n    \t \r\n    \tprivate String name;\r\n    \t\r\n        public PersonWrapper() {\r\n            super();\r\n        }\r\n    \r\n    \tpublic PersonWrapper(String firstName, String surname, int age) {\r\n    \t\tsuper(firstName, surname, age);\r\n    \t\tname = getName();\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\tthis.name = getFirstName() + &quot; &quot; + getSurname();\r\n    \t\treturn name;\r\n    \t}\r\n    \t\r\n        public void setName(final String name) {\r\n            final String[] s = name.split(&quot; &quot;);\r\n            setFirstName(s[0]);\r\n            setSurname(s[1]);\r\n        }\r\n        \r\n    }\r\n\r\nPersonMixIn:\r\n\r\n    public abstract class PersonMixIn {\r\n    \r\n        @JsonIgnore \r\n        String firstName;\r\n        \r\n        @JsonIgnore \r\n        String surname;\r\n        \r\n    }\r\n\r\nTEST:\r\n\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) throws JsonProcessingException {\r\n    \t\t\r\n    \t\tfinal ObjectMapper mapper = new ObjectMapper().addMixIn(PersonWrapper.class, PersonMixIn.class);\r\n            final PersonWrapper alex = new PersonWrapper(&quot;Alex&quot;, &quot;Doe&quot;, 22);\r\n            final String s = mapper.writeValueAsString(alex);\r\n            System.out.println(s);\r\n    \r\n            final Person newAlex = mapper.readValue(s, PersonWrapper.class);\r\n            System.out.println(String.format(\r\n                &quot;firstName: %s, surname: %s, age: %d&quot;,\r\n                newAlex.getFirstName(),\r\n                newAlex.getSurname(),\r\n                newAlex.getAge()\r\n            ));\r\n            \r\n    \t}\r\n    \r\n    }\r\n\r\nresult:\r\n\r\nSerialization: {&quot;age&quot;:22,&quot;name&quot;:&quot;Alex Doe&quot;}\r\n\r\nDeserialization: firstName: Alex, surname: Doe, age: 22\r\n\r\n","title":"Deserialize JSON created using custom getter and unwrapped object using Jackson","body":"<p>I think your code can be more simple:\nWhat you need is a Wrapper of Person class since you can't edit it.</p>\n<p>Person:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person {\n\n    private String firstName;\n    \n    private String surname;\n    \n    private int age;\n\n}\n</code></pre>\n<p>Person Wrapper</p>\n<pre><code>public class PersonWrapper extends Person {\n     \n    private String name;\n    \n    public PersonWrapper() {\n        super();\n    }\n\n    public PersonWrapper(String firstName, String surname, int age) {\n        super(firstName, surname, age);\n        name = getName();\n    }\n\n    public String getName() {\n        this.name = getFirstName() + &quot; &quot; + getSurname();\n        return name;\n    }\n    \n    public void setName(final String name) {\n        final String[] s = name.split(&quot; &quot;);\n        setFirstName(s[0]);\n        setSurname(s[1]);\n    }\n    \n}\n</code></pre>\n<p>PersonMixIn:</p>\n<pre><code>public abstract class PersonMixIn {\n\n    @JsonIgnore \n    String firstName;\n    \n    @JsonIgnore \n    String surname;\n    \n}\n</code></pre>\n<p>TEST:</p>\n<pre><code>public class Application {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        \n        final ObjectMapper mapper = new ObjectMapper().addMixIn(PersonWrapper.class, PersonMixIn.class);\n        final PersonWrapper alex = new PersonWrapper(&quot;Alex&quot;, &quot;Doe&quot;, 22);\n        final String s = mapper.writeValueAsString(alex);\n        System.out.println(s);\n\n        final Person newAlex = mapper.readValue(s, PersonWrapper.class);\n        System.out.println(String.format(\n            &quot;firstName: %s, surname: %s, age: %d&quot;,\n            newAlex.getFirstName(),\n            newAlex.getSurname(),\n            newAlex.getAge()\n        ));\n        \n    }\n\n}\n</code></pre>\n<p>result:</p>\n<p>Serialization: {&quot;age&quot;:22,&quot;name&quot;:&quot;Alex Doe&quot;}</p>\n<p>Deserialization: firstName: Alex, surname: Doe, age: 22</p>\n"}],"owner":{"account_id":4364428,"reputation":169,"user_id":3560643,"display_name":"Anho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700240001,"creation_date":1699545682,"question_id":77454649,"body_markdown":"This is a follow up question of an answer to Jackson [custom getters](https://stackoverflow.com/a/9140202/3560643).\r\n\r\nThe solution works and creates proper JSON. The problem is deserialization. I have an unwrapped object with some attributes not shown in JSON but instead replaced by a new attribute (e.g. firstname+surname =&gt; name).\r\n\r\nThis is correctly serialized to\r\n\r\n`{&quot;age&quot;:22,&quot;name&quot;:&quot;Alex Doe&quot;}`\r\n\r\nThis class can not be edited, so we rely on mixin.\r\n\r\nThe problem on deserialization is, that `PersonSerializer.setFullname()` is called before `PersonSerializer.setPerson()`, probably because attributes are deserialized before subobjects. Which forces me to have a `Person`-object created when `PersonSerializer` is created by the `ObjectMapper`. This `Person`-object is overwritten when age is deserialized with an `Person`-object only containing the age:\r\n\r\n`firstName: null, surname: null, age: 22`\r\n\r\nI could store `fullname` in `setFullname()` and fill it into `person` when `setPerson()` is called but this feels incorrect.\r\n\r\nWhat is the proper way to solve this problem?\r\n\r\nCode:\r\n\r\n```\r\npublic final class Person {\r\n\r\n    private String firstName;\r\n    private String surname;\r\n    private int age;\r\n\r\n    public Person() {\r\n        super();\r\n    }\r\n\r\n    Person(final String firstName, final String surname, final int age) {\r\n        super();\r\n        this.firstName = firstName;\r\n        this.surname = surname;\r\n        this.age = age;\r\n    }\r\n //getter and setter\r\n}\r\n```\r\n\r\nSerialization helper and mixin based on the answer:\r\n\r\n```\r\npublic class PersonSerializer {\r\n\r\n    private Person person;\r\n\r\n    public PersonSerializer() {\r\n        super();\r\n        person = new Person(); //needed, otherwise NPE in setFullname()\r\n    }\r\n\r\n    @JsonUnwrapped\r\n    Person getPerson() {\r\n        return person;\r\n    }\r\n\r\n    //customer getter to join firstname and surname\r\n    @JsonGetter(&quot;name&quot;)\r\n    String fullName() {\r\n        return person.getFirstName() + &quot; &quot; + person.getSurname();\r\n    }\r\n\r\n    @JsonSetter(&quot;name&quot;)\r\n    public void setFullname(final String fullName) {\r\n        final String[] s = fullName.split(&quot; &quot;);\r\n        person.setFirstName(s[0]);\r\n        person.setSurname(s[1]);\r\n    }\r\n\r\n    public void setPerson(Person p) {\r\n        person = p;\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\nabstract class PersonMixin {\r\n\r\n    @JsonIgnore String firstName;\r\n    @JsonIgnore String surname;\r\n}\r\n```\r\n\r\nTestcode:\r\n```\r\npublic static void main(String[] args)\r\n\r\n        throws JsonProcessingException {\r\n\r\n        final ObjectMapper mapper = new ObjectMapper().addMixIn(Person.class, PersonMixin.class);\r\n        mapper.setVisibility(PropertyAccessor.GETTER, JsonAutoDetect.Visibility.ANY);\r\n        final PersonSerializer alex = new PersonSerializer();\r\n        alex.setPerson(new Person(&quot;Alex&quot;, &quot;Doe&quot;, 22));\r\n        final String s = mapper.writeValueAsString(alex);\r\n        out.println(s);\r\n\r\n        final Person newAlex = mapper.readValue(s, PersonSerializer.class).getPerson();\r\n        out.println(String.format(\r\n            &quot;firstName: %s, surname: %s, age: %d&quot;,\r\n            newAlex.getFirstName(),\r\n            newAlex.getSurname(),\r\n            newAlex.getAge()\r\n        ));\r\n    }\r\n```\r\n\r\nI searched for examples, documentation and StackOverflow but to no avail.","title":"Deserialize JSON created using custom getter and unwrapped object using Jackson","body":"<p>This is a follow up question of an answer to Jackson <a href=\"https://stackoverflow.com/a/9140202/3560643\">custom getters</a>.</p>\n<p>The solution works and creates proper JSON. The problem is deserialization. I have an unwrapped object with some attributes not shown in JSON but instead replaced by a new attribute (e.g. firstname+surname =&gt; name).</p>\n<p>This is correctly serialized to</p>\n<p><code>{&quot;age&quot;:22,&quot;name&quot;:&quot;Alex Doe&quot;}</code></p>\n<p>This class can not be edited, so we rely on mixin.</p>\n<p>The problem on deserialization is, that <code>PersonSerializer.setFullname()</code> is called before <code>PersonSerializer.setPerson()</code>, probably because attributes are deserialized before subobjects. Which forces me to have a <code>Person</code>-object created when <code>PersonSerializer</code> is created by the <code>ObjectMapper</code>. This <code>Person</code>-object is overwritten when age is deserialized with an <code>Person</code>-object only containing the age:</p>\n<p><code>firstName: null, surname: null, age: 22</code></p>\n<p>I could store <code>fullname</code> in <code>setFullname()</code> and fill it into <code>person</code> when <code>setPerson()</code> is called but this feels incorrect.</p>\n<p>What is the proper way to solve this problem?</p>\n<p>Code:</p>\n<pre><code>public final class Person {\n\n    private String firstName;\n    private String surname;\n    private int age;\n\n    public Person() {\n        super();\n    }\n\n    Person(final String firstName, final String surname, final int age) {\n        super();\n        this.firstName = firstName;\n        this.surname = surname;\n        this.age = age;\n    }\n //getter and setter\n}\n</code></pre>\n<p>Serialization helper and mixin based on the answer:</p>\n<pre><code>public class PersonSerializer {\n\n    private Person person;\n\n    public PersonSerializer() {\n        super();\n        person = new Person(); //needed, otherwise NPE in setFullname()\n    }\n\n    @JsonUnwrapped\n    Person getPerson() {\n        return person;\n    }\n\n    //customer getter to join firstname and surname\n    @JsonGetter(&quot;name&quot;)\n    String fullName() {\n        return person.getFirstName() + &quot; &quot; + person.getSurname();\n    }\n\n    @JsonSetter(&quot;name&quot;)\n    public void setFullname(final String fullName) {\n        final String[] s = fullName.split(&quot; &quot;);\n        person.setFirstName(s[0]);\n        person.setSurname(s[1]);\n    }\n\n    public void setPerson(Person p) {\n        person = p;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>abstract class PersonMixin {\n\n    @JsonIgnore String firstName;\n    @JsonIgnore String surname;\n}\n</code></pre>\n<p>Testcode:</p>\n<pre><code>public static void main(String[] args)\n\n        throws JsonProcessingException {\n\n        final ObjectMapper mapper = new ObjectMapper().addMixIn(Person.class, PersonMixin.class);\n        mapper.setVisibility(PropertyAccessor.GETTER, JsonAutoDetect.Visibility.ANY);\n        final PersonSerializer alex = new PersonSerializer();\n        alex.setPerson(new Person(&quot;Alex&quot;, &quot;Doe&quot;, 22));\n        final String s = mapper.writeValueAsString(alex);\n        out.println(s);\n\n        final Person newAlex = mapper.readValue(s, PersonSerializer.class).getPerson();\n        out.println(String.format(\n            &quot;firstName: %s, surname: %s, age: %d&quot;,\n            newAlex.getFirstName(),\n            newAlex.getSurname(),\n            newAlex.getAge()\n        ));\n    }\n</code></pre>\n<p>I searched for examples, documentation and StackOverflow but to no avail.</p>\n"},{"tags":["java","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1493581748,"post_id":43710634,"comment_id":74465255,"body_markdown":"your program work fine with me it print `World is changed to Hello \nHello is changed to World`!","body":"your program work fine with me it print <code>World is changed to Hello  Hello is changed to World</code>!"}],"answers":[{"tags":[],"owner":{"account_id":4557100,"reputation":2191,"user_id":3700524,"display_name":"Mohsen_Fatemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493582050,"creation_date":1493582050,"answer_id":43710697,"question_id":43710634,"body_markdown":"first of all this is not a good design for writing such program , looks like spagetti code , first write a `ExchangerRunnable` class :\r\n\r\n    public class ExchangerRunnable implements Runnable{\r\n    \r\n        Exchanger exchanger = null;\r\n        Object    object    = null;\r\n    \r\n        public ExchangerRunnable(Exchanger exchanger, Object object) {\r\n            this.exchanger = exchanger;\r\n            this.object = object;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                Object previous = this.object;\r\n    \r\n                this.object = this.exchanger.exchange(this.object);\r\n    \r\n                System.out.println(\r\n                        Thread.currentThread().getName() +\r\n                        &quot; exchanged &quot; + previous + &quot; for &quot; + this.object\r\n                );\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\nthen you can use it as written bellow :\r\n\r\n    Exchanger exchanger = new Exchanger();\r\n    \r\n    ExchangerRunnable exchangerRunnable1 =\r\n            new ExchangerRunnable(exchanger, &quot;Hello&quot;);\r\n    \r\n    ExchangerRunnable exchangerRunnable2 =\r\n            new ExchangerRunnable(exchanger, &quot;World&quot;);\r\n    \r\n    new Thread(exchangerRunnable1).start();\r\n    new Thread(exchangerRunnable2).start();\r\nthe output will be :\r\n\r\n    Thread-0 exchanged Hello for World\r\n    Thread-1 exchanged World for Hello\r\nany problems ?","title":"Java Exchanger example not working","body":"<p>first of all this is not a good design for writing such program , looks like spagetti code , first write a <code>ExchangerRunnable</code> class :</p>\n\n<pre><code>public class ExchangerRunnable implements Runnable{\n\n    Exchanger exchanger = null;\n    Object    object    = null;\n\n    public ExchangerRunnable(Exchanger exchanger, Object object) {\n        this.exchanger = exchanger;\n        this.object = object;\n    }\n\n    public void run() {\n        try {\n            Object previous = this.object;\n\n            this.object = this.exchanger.exchange(this.object);\n\n            System.out.println(\n                    Thread.currentThread().getName() +\n                    \" exchanged \" + previous + \" for \" + this.object\n            );\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>then you can use it as written bellow :</p>\n\n<pre><code>Exchanger exchanger = new Exchanger();\n\nExchangerRunnable exchangerRunnable1 =\n        new ExchangerRunnable(exchanger, \"Hello\");\n\nExchangerRunnable exchangerRunnable2 =\n        new ExchangerRunnable(exchanger, \"World\");\n\nnew Thread(exchangerRunnable1).start();\nnew Thread(exchangerRunnable2).start();\n</code></pre>\n\n<p>the output will be :</p>\n\n<pre><code>Thread-0 exchanged Hello for World\nThread-1 exchanged World for Hello\n</code></pre>\n\n<p>any problems ?</p>\n"},{"tags":[],"owner":{"account_id":29751742,"reputation":1,"user_id":22801497,"display_name":"guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700239897,"creation_date":1700239897,"answer_id":77503364,"question_id":43710634,"body_markdown":"In this quiz your main doesn&#39;t wait for background threads, and they can be interrupted before exchanges. Add this:\r\n\r\n    thread1.join();\r\n    thread2.join();\r\n\r\n","title":"Java Exchanger example not working","body":"<p>In this quiz your main doesn't wait for background threads, and they can be interrupted before exchanges. Add this:</p>\n<pre><code>thread1.join();\nthread2.join();\n</code></pre>\n"}],"owner":{"account_id":3808596,"reputation":1,"user_id":3160243,"display_name":"Rajesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700239897,"creation_date":1493581614,"question_id":43710634,"body_markdown":"I have following code.The code creates two runnables with messages &quot;Hello&quot; and &quot;World&quot; respectively. \r\nI expect this to exchange &quot;Hello&quot; with &quot;World&quot;, but it does not work. The code gets stuck and the exchange never happens\r\n\r\nChanged the code as follows. It works now\r\n\r\n    public class ExchangerExample {\r\n\r\n    public static void main(String[] args) {\r\n        Exchanger&lt;String&gt; exchanger = new Exchanger();\r\n\r\n        new Thread(() -&gt; {\r\n            try {\r\n                String message = &quot;Hello&quot;;\r\n                Object previous = message;\r\n                message = exchanger.exchange(message);\r\n                System.out.println(previous + &quot; is changed to &quot; + message);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n\r\n        new Thread(() -&gt; {\r\n            try {\r\n                String message = &quot;World&quot;;\r\n                Object previous = message;\r\n                message = exchanger.exchange(message);\r\n                System.out.println(previous + &quot; is changed to &quot; + message);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n}","title":"Java Exchanger example not working","body":"<p>I have following code.The code creates two runnables with messages \"Hello\" and \"World\" respectively. \nI expect this to exchange \"Hello\" with \"World\", but it does not work. The code gets stuck and the exchange never happens</p>\n\n<p>Changed the code as follows. It works now</p>\n\n<pre><code>public class ExchangerExample {\n\npublic static void main(String[] args) {\n    Exchanger&lt;String&gt; exchanger = new Exchanger();\n\n    new Thread(() -&gt; {\n        try {\n            String message = \"Hello\";\n            Object previous = message;\n            message = exchanger.exchange(message);\n            System.out.println(previous + \" is changed to \" + message);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }).start();\n\n    new Thread(() -&gt; {\n        try {\n            String message = \"World\";\n            Object previous = message;\n            message = exchanger.exchange(message);\n            System.out.println(previous + \" is changed to \" + message);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }).start();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring"],"owner":{"account_id":28272249,"reputation":11,"user_id":21615245,"display_name":"kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700239835,"creation_date":1700239835,"question_id":77503359,"body_markdown":"After migrating to Spring 3.1.5, RequestMapping HandlerMapping occurs repeatedly. I don&#39;t think it&#39;s a normal situation, can I ask you for your opinion?\r\n\r\nBelow is the log immediately after API call.\r\n\r\nI don&#39;t think it&#39;s a browser problem because I&#39;m doing it as a postman\r\n\r\nI&#39;m not sure why getHandler continues to traverse in log-level debug mode or higher, resulting in a total of 9 logs.\r\n\r\nI&#39;m studying individually, but this part bothers me a lot. Please help me \\_\r\n\r\n```\r\n2023-11-18T01:43:47.678+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.679+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.679+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.679+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.681+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n2023-11-18T01:43:47.681+09:00 DEBUG 89627 --- [p-nio-80-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/member/info&quot;, parameters={}\r\n2023-11-18T01:43:47.681+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\r\n```\r\n\r\nIs it a filter problem?","title":"SpringBoot3.1.5 - RequestMappingHandlerMapping Repetition","body":"<p>After migrating to Spring 3.1.5, RequestMapping HandlerMapping occurs repeatedly. I don't think it's a normal situation, can I ask you for your opinion?</p>\n<p>Below is the log immediately after API call.</p>\n<p>I don't think it's a browser problem because I'm doing it as a postman</p>\n<p>I'm not sure why getHandler continues to traverse in log-level debug mode or higher, resulting in a total of 9 logs.</p>\n<p>I'm studying individually, but this part bothers me a lot. Please help me _</p>\n<pre><code>2023-11-18T01:43:47.678+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.679+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.679+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.679+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.680+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.681+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n2023-11-18T01:43:47.681+09:00 DEBUG 89627 --- [p-nio-80-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/member/info&quot;, parameters={}\n2023-11-18T01:43:47.681+09:00 DEBUG 89627 --- [p-nio-80-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.template.server.domain.member.controller.MemberController#getMemberInfo(Authentication)\n</code></pre>\n<p>Is it a filter problem?</p>\n"},{"tags":["java","querydsl"],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700239319,"creation_date":1700239319,"answer_id":77503292,"question_id":77502768,"body_markdown":"So, in the first example:\r\n\r\n```\r\nJPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\r\nquery = query.method1().method2().method3();\r\n```\r\n\r\nEach `method1()`, `method2()`, and `method3()` call returns a new `JPAQuery&lt;Member&gt;` object, allowing you to chain these methods together.\r\n\r\nIf you have methods from superclasses that do not return the actual class, the chaining still works as long as the methods return an object with the same or compatible interface.\r\n\r\nIn your second example:\r\n\r\n```\r\nJPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\r\nquery.method1();\r\nquery.method2();\r\nquery.method3();\r\n```\r\n\r\nThis wouldn&#39;t work as intended because each method call operates on the **original query object**, and you&#39;re not capturing the modified instances that the methods return. \r\n\r\nIf you ever need to break the chain for some reason (e.g., conditionally apply certain methods), you can assign the intermediate result to a separate variable:\r\n\r\n```\r\nJPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\r\nJPAQuery&lt;Member&gt; intermediateResult = query.method1();\r\nif (someCondition) {\r\n    intermediateResult = intermediateResult.method2();\r\n}\r\nquery = intermediateResult.method3();\r\n```\r\n\r\nThis allows you to conditionally apply methods and then continue the chain based on your logic.","title":"QueryDSL Code Style: return value from Query methods","body":"<p>So, in the first example:</p>\n<pre><code>JPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\nquery = query.method1().method2().method3();\n</code></pre>\n<p>Each <code>method1()</code>, <code>method2()</code>, and <code>method3()</code> call returns a new <code>JPAQuery&lt;Member&gt;</code> object, allowing you to chain these methods together.</p>\n<p>If you have methods from superclasses that do not return the actual class, the chaining still works as long as the methods return an object with the same or compatible interface.</p>\n<p>In your second example:</p>\n<pre><code>JPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\nquery.method1();\nquery.method2();\nquery.method3();\n</code></pre>\n<p>This wouldn't work as intended because each method call operates on the <strong>original query object</strong>, and you're not capturing the modified instances that the methods return.</p>\n<p>If you ever need to break the chain for some reason (e.g., conditionally apply certain methods), you can assign the intermediate result to a separate variable:</p>\n<pre><code>JPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\nJPAQuery&lt;Member&gt; intermediateResult = query.method1();\nif (someCondition) {\n    intermediateResult = intermediateResult.method2();\n}\nquery = intermediateResult.method3();\n</code></pre>\n<p>This allows you to conditionally apply methods and then continue the chain based on your logic.</p>\n"}],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77503292,"answer_count":1,"score":0,"last_activity_date":1700239319,"creation_date":1700234550,"question_id":77502768,"body_markdown":"I&#39;m learning QueryDSL.\r\n\r\nAll the code I see looks something like:\r\n\r\n    JPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\r\n    query = query.method1().method2().method3();\r\n\r\nDo the various methods that let you chain like this actually return a different object? Or could I write it like:\r\n\r\n    JPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\r\n    query.method1();\r\n    query.method2();\r\n    query.method3();\r\n\r\n(The basic issue is that some methods are on the superclasses, so they don&#39;t return the actual class.)\r\n\r\nClearly, I prefer the first way when it works -- it&#39;s clean and clear.\r\n\r\n","title":"QueryDSL Code Style: return value from Query methods","body":"<p>I'm learning QueryDSL.</p>\n<p>All the code I see looks something like:</p>\n<pre><code>JPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\nquery = query.method1().method2().method3();\n</code></pre>\n<p>Do the various methods that let you chain like this actually return a different object? Or could I write it like:</p>\n<pre><code>JPAQuery&lt;Member&gt; query = queryFactory.selectFrom(member);\nquery.method1();\nquery.method2();\nquery.method3();\n</code></pre>\n<p>(The basic issue is that some methods are on the superclasses, so they don't return the actual class.)</p>\n<p>Clearly, I prefer the first way when it works -- it's clean and clear.</p>\n"},{"tags":["java","spring","web-services","ssl"],"answers":[{"comments":[{"owner":{"account_id":288660,"reputation":341,"user_id":589207,"accept_rate":0,"display_name":"SetNug"},"score":2,"creation_date":1472120014,"post_id":31055227,"comment_id":65629133,"body_markdown":"The above snippet will not work if you deploy it into Weblogic since WL will return instance of weblogic.net.http.SOAPHttpsURLConnection for HTTPS connection instead of javax.net.ssl.HttpsURLConnection expected by Spring-WS. To overcome this you have to tell WL to use Sun&#39;s HTTP handler instead by setting -DUseSunHttpHandler=true","body":"The above snippet will not work if you deploy it into Weblogic since WL will return instance of weblogic.net.http.SOAPHttpsURLConnection for HTTPS connection instead of javax.net.ssl.HttpsURLConnection expected by Spring-WS. To overcome this you have to tell WL to use Sun&#39;s HTTP handler instead by setting -DUseSunHttpHandler=true"}],"tags":[],"owner":{"account_id":2333997,"reputation":825,"user_id":2046738,"accept_rate":0,"display_name":"Neil Stevens"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1435247813,"creation_date":1435247813,"answer_id":31055227,"question_id":31055226,"body_markdown":"\r\n\tclass UnTrustworthyTrustManager\r\n\t\t\timplements X509TrustManager\r\n\t{\r\n\t\tpublic void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {}\r\n\t\tpublic void checkServerTrusted(X509Certificate[] arg0, String arg1)throws CertificateException {}\r\n\t\tpublic X509Certificate[] getAcceptedIssuers() { return null; }\r\n\t}\r\n\r\nand then\r\n\r\n\r\n\r\n    setDefaultUri(&quot;https://myServer/soapws/ws/&quot;);\r\n    Source requestSource = new ResourceSource(new ClassPathResource(&quot;MyRequest.xml&quot;));\r\n    StringResult result = new StringResult();\r\n    WebServiceTemplate template = getWebServiceTemplate();\r\n\r\n    HttpsUrlConnectionMessageSender sender = new HttpsUrlConnectionMessageSender();\r\n    sender.setTrustManagers(new TrustManager[] { new UnTrustworthyTrustManager() });\r\n    template.setMessageSender(sender);\r\n\r\n    template.sendSourceAndReceiveToResult(requestSource, result);\r\n    System.out.println(result);\r\n\r\n\r\n \r\n(requires spring-ws-support)\r\n\r\n","title":"How to disable SSL certificate checking with Spring WebServiceTemplate?","body":"<pre><code>class UnTrustworthyTrustManager\n        implements X509TrustManager\n{\n    public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {}\n    public void checkServerTrusted(X509Certificate[] arg0, String arg1)throws CertificateException {}\n    public X509Certificate[] getAcceptedIssuers() { return null; }\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>setDefaultUri(\"https://myServer/soapws/ws/\");\nSource requestSource = new ResourceSource(new ClassPathResource(\"MyRequest.xml\"));\nStringResult result = new StringResult();\nWebServiceTemplate template = getWebServiceTemplate();\n\nHttpsUrlConnectionMessageSender sender = new HttpsUrlConnectionMessageSender();\nsender.setTrustManagers(new TrustManager[] { new UnTrustworthyTrustManager() });\ntemplate.setMessageSender(sender);\n\ntemplate.sendSourceAndReceiveToResult(requestSource, result);\nSystem.out.println(result);\n</code></pre>\n\n<p>(requires spring-ws-support)</p>\n"}],"owner":{"account_id":2333997,"reputation":825,"user_id":2046738,"accept_rate":0,"display_name":"Neil Stevens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11462,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1700239283,"creation_date":1435247813,"question_id":31055226,"body_markdown":"For testing purposes in a development environment, I want to ignore `https` certificate problems with my development servers.\r\n\r\nMy Web Service Client was getting :-\r\n\r\n`PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target`\r\n\r\nThere are a number of similar Questions which helped me find the solution, but I thought I would post the answer to this specific question here for anyone who needs it....\r\n","title":"How to disable SSL certificate checking with Spring WebServiceTemplate?","body":"<p>For testing purposes in a development environment, I want to ignore <code>https</code> certificate problems with my development servers.</p>\n\n<p>My Web Service Client was getting :-</p>\n\n<p><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>\n\n<p>There are a number of similar Questions which helped me find the solution, but I thought I would post the answer to this specific question here for anyone who needs it....</p>\n"},{"tags":["java","spring","mocking","mockito","jmockit"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1700234176,"post_id":77502642,"comment_id":136632937,"body_markdown":"What does _did not work out_ mean?  Based on the mismatch of method parameter types, does this even compile?","body":"What does <i>did not work out</i> mean?  Based on the mismatch of method parameter types, does this even compile?"},{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":0,"creation_date":1700235093,"post_id":77502642,"comment_id":136633083,"body_markdown":"Alternatively does B need to extend A? could B use composition and have a member of A?","body":"Alternatively does B need to extend A? could B use composition and have a member of A?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1700235095,"post_id":77502642,"comment_id":136633085,"body_markdown":"So you are mocking the object that you are testing? What is the expectation of such a test?","body":"So you are mocking the object that you are testing? What is the expectation of such a test?"},{"owner":{"account_id":5674062,"reputation":66,"user_id":4487887,"display_name":"Dyjah"},"score":0,"creation_date":1700237830,"post_id":77502642,"comment_id":136633604,"body_markdown":"Class B IS_A Class A, so the `someMethod` is a method from Class B, it&#39;s inherited, so you are trying to mock a method from the class that is under test, which is weird. Like @scigs suggested, maybe you should swap to composition.","body":"Class B IS_A Class A, so the <code>someMethod</code> is a method from Class B, it&#39;s inherited, so you are trying to mock a method from the class that is under test, which is weird. Like @scigs suggested, maybe you should swap to composition."}],"answers":[{"tags":[],"owner":{"account_id":29927871,"reputation":36,"user_id":22935490,"display_name":"NapoleonDynamite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700236062,"creation_date":1700236062,"answer_id":77502933,"question_id":77502642,"body_markdown":"might be me but this:\r\n\r\n    @Test\r\n    public void testSomeMethodFromB() throws Exception {\r\n         ContextData contextData = mock(ContextData.class);\r\n    \r\n         SomeObject obj = mock(SomeObject.class);\r\n    \r\n         when(a.someMethod(obj, contextData, false)).thenReturn(obj);\r\n    \r\n         b.someMethodFromB(someAnotherObj, contextData, Optional.of(&quot;someString&quot;));\r\n    \r\n        }\r\n\r\nmakes no sense to me, what are SomeObject.class and SomeAnotherObj? SomeAnotherObj gets passed as a parameter but is never defined?\r\nYou mock SomeObject.class but never mention it, is it just something you need for test, unrelated to the question?\r\nI think you could do something like this:\r\n\r\n    public class BTest {\r\n    \r\n        @Mock\r\n        private A a;\r\n        @InjectMocks\r\n        private B b; \r\n    \r\n        @Test\r\n        public void testSomeMethodFromB() {\r\n    \r\n            when(a.someMethod(something)).thenReturn(something);\r\n    \r\n    \r\n            int result = b.someMethodFromB(something);\r\n    \r\n            Assert.assertEquals(expected, result);\r\n        }\r\n\r\nagain, maybe im mistaken, its been a long day at work, but i dont quite understand the examples\r\nGood luck anyhow!","title":"Unable to test with mockito for inheritance method","body":"<p>might be me but this:</p>\n<pre><code>@Test\npublic void testSomeMethodFromB() throws Exception {\n     ContextData contextData = mock(ContextData.class);\n\n     SomeObject obj = mock(SomeObject.class);\n\n     when(a.someMethod(obj, contextData, false)).thenReturn(obj);\n\n     b.someMethodFromB(someAnotherObj, contextData, Optional.of(&quot;someString&quot;));\n\n    }\n</code></pre>\n<p>makes no sense to me, what are SomeObject.class and SomeAnotherObj? SomeAnotherObj gets passed as a parameter but is never defined?\nYou mock SomeObject.class but never mention it, is it just something you need for test, unrelated to the question?\nI think you could do something like this:</p>\n<pre><code>public class BTest {\n\n    @Mock\n    private A a;\n    @InjectMocks\n    private B b; \n\n    @Test\n    public void testSomeMethodFromB() {\n\n        when(a.someMethod(something)).thenReturn(something);\n\n\n        int result = b.someMethodFromB(something);\n\n        Assert.assertEquals(expected, result);\n    }\n</code></pre>\n<p>again, maybe im mistaken, its been a long day at work, but i dont quite understand the examples\nGood luck anyhow!</p>\n"},{"tags":[],"owner":{"account_id":5674062,"reputation":66,"user_id":4487887,"display_name":"Dyjah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700238946,"creation_date":1700238946,"answer_id":77503254,"question_id":77502642,"body_markdown":"I tried a simplified version of what you are trying to do and it worked:\r\n\r\n```\r\npublic class A {\r\n\r\n    public int someMethod(int value) {\r\n        return 2 * value;\r\n    }\r\n}\r\n```\r\n```\r\nclass B extends A {\r\n  public int someMethodFromB(int value) {\r\n    return someMethod(value);\r\n  }\r\n}\r\n```\r\n```\r\nclass BTest {\r\n\r\n  @Test\r\n   void myTest() {\r\n     B spyB = spy(new B());\r\n    \r\n     doReturn(5).when(spyB).someMethod(8);\r\n\r\n     assertEquals(5, spyB.someMethodFromB(8));\r\n  }\r\n}\r\n```\r\nSo my guess is that the parameters that you are passing to `someMethod` in the test are not exactly the same the code is receiving when calling it.\r\n\r\nFor example if I change the parameter of `someMethod` to `6`, the test fails, because when the code runs it receives the value `8` and not `6`, so the spy does not apply:\r\n```\r\n  @Test\r\n   void myTest() {\r\n    B spyB = Mockito.spy(new B());\r\n\r\n    Mockito.doReturn(5).when(spyB).someMethod(6);\r\n\r\n    assertEquals(5, spyB.someMethodFromB(8));\r\n  }\r\n```\r\n\r\n\r\nDebug your test and check what are the parameters when `someMethod` will be called to make sure they are the ones you are passing in the test at the `doReturn...` call.\r\n\r\n","title":"Unable to test with mockito for inheritance method","body":"<p>I tried a simplified version of what you are trying to do and it worked:</p>\n<pre><code>public class A {\n\n    public int someMethod(int value) {\n        return 2 * value;\n    }\n}\n</code></pre>\n<pre><code>class B extends A {\n  public int someMethodFromB(int value) {\n    return someMethod(value);\n  }\n}\n</code></pre>\n<pre><code>class BTest {\n\n  @Test\n   void myTest() {\n     B spyB = spy(new B());\n    \n     doReturn(5).when(spyB).someMethod(8);\n\n     assertEquals(5, spyB.someMethodFromB(8));\n  }\n}\n</code></pre>\n<p>So my guess is that the parameters that you are passing to <code>someMethod</code> in the test are not exactly the same the code is receiving when calling it.</p>\n<p>For example if I change the parameter of <code>someMethod</code> to <code>6</code>, the test fails, because when the code runs it receives the value <code>8</code> and not <code>6</code>, so the spy does not apply:</p>\n<pre><code>  @Test\n   void myTest() {\n    B spyB = Mockito.spy(new B());\n\n    Mockito.doReturn(5).when(spyB).someMethod(6);\n\n    assertEquals(5, spyB.someMethodFromB(8));\n  }\n</code></pre>\n<p>Debug your test and check what are the parameters when <code>someMethod</code> will be called to make sure they are the ones you are passing in the test at the <code>doReturn...</code> call.</p>\n"}],"owner":{"account_id":16407066,"reputation":142,"user_id":11851377,"display_name":"Mohd Abdul Azeem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700238946,"creation_date":1700233504,"question_id":77502642,"body_markdown":"I have the below code\r\n\r\n```\r\nclass A {\r\n    public int someMethod(int someParameters....) {\r\n        ........// some implementation \r\n    }\r\n}\r\n\r\nclass B extends A {\r\n    public int someMethodFromB(int someParameters....) {\r\n        ........// some implementation \r\n        return someMethod(someParameters....);\r\n    }\r\n}\r\n```\r\n\r\nI am writing test for class B for someMethodFromB and I want to mock someMethod which we are returning the value. How can I test the code as B is extending A.\r\n\r\nI have tried the below 2 approaches but did not work out\r\n\r\n```\r\n@Test\r\npublic void testSomeMethodFromB() throws Exception {\r\n      ContextData contextData = mock(ContextData.class);\r\n\r\n      SomeObject obj = mock(SomeObject.class);\r\n\r\n      B b = spy(new B());\r\n\r\n      doReturn(obj).when(b).someMethod(obj, contextData, false);\r\n\r\n      Assert.assertNotNull(b.someMethodFromB(someAnotherObj, contextData, Optional.of(&quot;someString&quot;)));\r\n\r\n    }\r\n```\r\n\r\nand this one too\r\n\r\n```\r\n@Mock\r\nprivate A a;\r\n\r\n@InjectMock\r\nprivate B b;\r\n\r\n@Before\r\npublic void setUp() {\r\n   MockitoAnnotations.initMocks(this);\r\n}\r\n\r\n@Test\r\npublic void testSomeMethodFromB() throws Exception {\r\n     ContextData contextData = mock(ContextData.class);\r\n\r\n     SomeObject obj = mock(SomeObject.class);\r\n\r\n     when(a.someMethod(obj, contextData, false)).thenReturn(obj);\r\n\r\n     b.someMethodFromB(someAnotherObj, contextData, Optional.of(&quot;someString&quot;));\r\n\r\n    }","title":"Unable to test with mockito for inheritance method","body":"<p>I have the below code</p>\n<pre><code>class A {\n    public int someMethod(int someParameters....) {\n        ........// some implementation \n    }\n}\n\nclass B extends A {\n    public int someMethodFromB(int someParameters....) {\n        ........// some implementation \n        return someMethod(someParameters....);\n    }\n}\n</code></pre>\n<p>I am writing test for class B for someMethodFromB and I want to mock someMethod which we are returning the value. How can I test the code as B is extending A.</p>\n<p>I have tried the below 2 approaches but did not work out</p>\n<pre><code>@Test\npublic void testSomeMethodFromB() throws Exception {\n      ContextData contextData = mock(ContextData.class);\n\n      SomeObject obj = mock(SomeObject.class);\n\n      B b = spy(new B());\n\n      doReturn(obj).when(b).someMethod(obj, contextData, false);\n\n      Assert.assertNotNull(b.someMethodFromB(someAnotherObj, contextData, Optional.of(&quot;someString&quot;)));\n\n    }\n</code></pre>\n<p>and this one too</p>\n<pre><code>@Mock\nprivate A a;\n\n@InjectMock\nprivate B b;\n\n@Before\npublic void setUp() {\n   MockitoAnnotations.initMocks(this);\n}\n\n@Test\npublic void testSomeMethodFromB() throws Exception {\n     ContextData contextData = mock(ContextData.class);\n\n     SomeObject obj = mock(SomeObject.class);\n\n     when(a.someMethod(obj, contextData, false)).thenReturn(obj);\n\n     b.someMethodFromB(someAnotherObj, contextData, Optional.of(&quot;someString&quot;));\n\n    }\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9863,"page":54,"page_size":100}
