{"items":[{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651497056,"creation_date":1651497056,"answer_id":72087228,"question_id":72087087,"body_markdown":"I think you&#39;re confused about what `Thread`&#39;s `start()` method does.\r\n\r\nIn your code:\r\n\r\n&gt; ```java\r\n&gt; Thread send = new Thread(new send());\r\n&gt; Thread recieve = new Thread(new recieve());\r\n&gt; ```\r\n\r\nYou create exactly one thread (`send`) for sending, and exactly one (`recieve` - note you have a typo, it&#39;s &quot;receive&quot;. English is weird) for receiving.\r\n\r\nYou then:\r\n\r\n&gt; ```java\r\n&gt; while(true)\r\n&gt; {\r\n&gt;   send.start();\r\n&gt;   recieve.start();\r\n&gt; }\r\n&gt; ```\r\n\r\n__repeatedly__ (while loop) invoke `.start()` on these single threads.\r\n\r\nThat&#39;s not how it works: You can only start a Thread object __once__, ever. If you invoke `.start()` the second time, you get `IllegalThreadStateException`, because the state is &#39;STARTED&#39; and you can&#39;t call `.start()` on such a thread.\r\n\r\nWhat&#39;s not quite clear is your intent. Were you intending to continually start threads? Then you&#39;d have to create a new thread object every time and then start it, i.e. move the `Thread send = ...;` code inside the while loop. However, I can&#39;t imagine you want that: If you stick that in a `while(true)` the system will create an infinite amount of threads, starts them, and, naturally, crashes very very quickly and very definitely if you try that.\r\n\r\nIf your intent is simply to keep that one send and one receive thread from continuing to run - there is no need to repeatedly invoke `.start()` or do anything else from the `main` method - your receive and send runnables _already_ have loops (they both have a `while(true)` loop of their own).\r\n\r\nIf you intent is to restart any thread that somehow stopped itself, &#39;just in case&#39; - that&#39;s not how it works. Once a thread ends you can&#39;t start it again - you&#39;d have to make a new one. And as discussed before, just making an endless amount of threads is just going to lead to a swift crash. You CAN ask a thread if it is no longer running, and then create a new thread and start the new one, but you shouldn&#39;t defensively program.\r\n\r\nLet me clarify that, because the term &#39;defensive programming&#39; is overloaded: You should not write code to deal with situations that are not understood. In this case, the situation is: &quot;I dont quite know how, but lets just imagine the send thread is somehow stopped. I want to restart it if this happens&quot;. The reason that kind of defensive programming is bad, is: By definition you don&#39;t really know what happened (after all, you have no idea how some state COULD happen, therefore it is likely that you&#39;re missing rather crucial understanding about what&#39;s going on when the to you impossible situation does evidently occur), so the odds that you&#39;re doing the right thing (that &#39;just restart it&#39; is the right answer to &#39;huh, weird, that thread stopped and I do not understand why&#39;) are low.\r\n\r\nMost likely, the situation you can&#39;t fathom happening can, in fact, never happen, so you wrote a bunch of code that never ever runs. This leads to the biggest problem of defensive programming: The code is untestable, _and_ rarely (often never) runs, which means any bugs in it go completely unnoticed. So you now have useless code that if it ever becomes useful, doesn&#39;t work at all.\r\n\r\nIt is _FAR_ better to just hard-crash out with an exception in such impossible cases. At least then, if it does occur, you have a lead on investigating. Only after you understand can you write code that deals with the situation.\r\n","title":"IllegalThreadStateException Error on Simple Chat Application using Socket Programmin, Code bellow","body":"<p>I think you're confused about what <code>Thread</code>'s <code>start()</code> method does.</p>\n<p>In your code:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Thread send = new Thread(new send());\nThread recieve = new Thread(new recieve());\n</code></pre>\n</blockquote>\n<p>You create exactly one thread (<code>send</code>) for sending, and exactly one (<code>recieve</code> - note you have a typo, it's &quot;receive&quot;. English is weird) for receiving.</p>\n<p>You then:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>while(true)\n{\n  send.start();\n  recieve.start();\n}\n</code></pre>\n</blockquote>\n<p><strong>repeatedly</strong> (while loop) invoke <code>.start()</code> on these single threads.</p>\n<p>That's not how it works: You can only start a Thread object <strong>once</strong>, ever. If you invoke <code>.start()</code> the second time, you get <code>IllegalThreadStateException</code>, because the state is 'STARTED' and you can't call <code>.start()</code> on such a thread.</p>\n<p>What's not quite clear is your intent. Were you intending to continually start threads? Then you'd have to create a new thread object every time and then start it, i.e. move the <code>Thread send = ...;</code> code inside the while loop. However, I can't imagine you want that: If you stick that in a <code>while(true)</code> the system will create an infinite amount of threads, starts them, and, naturally, crashes very very quickly and very definitely if you try that.</p>\n<p>If your intent is simply to keep that one send and one receive thread from continuing to run - there is no need to repeatedly invoke <code>.start()</code> or do anything else from the <code>main</code> method - your receive and send runnables <em>already</em> have loops (they both have a <code>while(true)</code> loop of their own).</p>\n<p>If you intent is to restart any thread that somehow stopped itself, 'just in case' - that's not how it works. Once a thread ends you can't start it again - you'd have to make a new one. And as discussed before, just making an endless amount of threads is just going to lead to a swift crash. You CAN ask a thread if it is no longer running, and then create a new thread and start the new one, but you shouldn't defensively program.</p>\n<p>Let me clarify that, because the term 'defensive programming' is overloaded: You should not write code to deal with situations that are not understood. In this case, the situation is: &quot;I dont quite know how, but lets just imagine the send thread is somehow stopped. I want to restart it if this happens&quot;. The reason that kind of defensive programming is bad, is: By definition you don't really know what happened (after all, you have no idea how some state COULD happen, therefore it is likely that you're missing rather crucial understanding about what's going on when the to you impossible situation does evidently occur), so the odds that you're doing the right thing (that 'just restart it' is the right answer to 'huh, weird, that thread stopped and I do not understand why') are low.</p>\n<p>Most likely, the situation you can't fathom happening can, in fact, never happen, so you wrote a bunch of code that never ever runs. This leads to the biggest problem of defensive programming: The code is untestable, <em>and</em> rarely (often never) runs, which means any bugs in it go completely unnoticed. So you now have useless code that if it ever becomes useful, doesn't work at all.</p>\n<p>It is <em>FAR</em> better to just hard-crash out with an exception in such impossible cases. At least then, if it does occur, you have a lead on investigating. Only after you understand can you write code that deals with the situation.</p>\n"}],"owner":{"account_id":24121195,"reputation":21,"user_id":18090346,"display_name":"Vedant Bhosale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72087228,"answer_count":1,"score":0,"last_activity_date":1651734408,"creation_date":1651496368,"question_id":72087087,"body_markdown":"Client code:\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOError;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\n\r\nimport javax.swing.*;\r\nimport java.io.*;\r\n\r\npublic class messages_client\r\n{\r\n    static BufferedReader in;\r\n    static  Scanner sc;\r\n    static PrintWriter out;\r\n\r\n    public static void main(String args[])\r\n    {\r\n        try{\r\n            JFrame frame=new JFrame();\r\n            Socket client=new Socket(&quot;localhost&quot;,59001);\r\n            in=new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n            out=new PrintWriter(client.getOutputStream(),true);\r\n            sc=new Scanner(System.in);\r\n            boolean running=false;\r\n            \r\n            String input=in.readLine();\r\n            System.out.println(input);\r\n            String name=sc.next();\r\n            out.println(name);\r\n            running=true;\r\n    \r\n            Thread send=new Thread(new send());\r\n\r\n            Thread recieve=new Thread(new recieve());\r\n            \r\n            if(running == true)\r\n            {\r\n            while(true)\r\n            {\r\n             send.start();\r\n             recieve.start();   \r\n            }\r\n            }\r\n\r\n        } catch(IOException e){}\r\n\r\n    }\r\n    \r\n    public static class send implements Runnable\r\n    {\r\n        @Override\r\n        public void run()\r\n        {\r\n            String message=sc.nextLine();\r\n            out.println(message);\r\n        }\r\n\r\n    }\r\n\r\n    public static class recieve implements Runnable\r\n    {\r\n        @Override\r\n                public void run()\r\n                {\r\n                    try {\r\n                        String input=in.readLine();\r\n                        System.out.println(input);\r\n                        \r\n                    } catch (IOException e) {\r\n                    }\r\n                }\r\n    }\r\n}\r\n```\r\nServer code:\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class messages_server\r\n{\r\n    private static ServerSocket server;\r\n    private static Set&lt;PrintWriter&gt; printwriters=new HashSet&lt;&gt;();\r\n\r\n    public static void main(String args[])\r\n    {\r\n        try{\r\n        server=new ServerSocket(59001);\r\n        var pool=Executors.newFixedThreadPool(5);\r\n        System.out.println(&quot;Server is running&quot;);\r\n        while(true)\r\n        {\r\n            pool.execute(new ClientHandler(server.accept()));\r\n        }\r\n        } catch(IOException e)\r\n        {\r\n        } finally\r\n        {\r\n            try{\r\n             server.close();\r\n            } catch(IOException e){}\r\n        }\r\n    }\r\n\r\n    private static class ClientHandler implements Runnable\r\n    {\r\n        private Socket client;\r\n        private static PrintWriter out;\r\n        private static BufferedReader in;\r\n        private static String message;\r\n        private static String name;\r\n\r\n        ClientHandler(Socket client)\r\n        {\r\n            this.client=client;\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n            try{\r\n            out=new PrintWriter(client.getOutputStream(),true);\r\n            in=new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n\r\n            send(&quot;Name: &quot;);\r\n            name=in.readLine();\r\n            System.out.println(name);\r\n            out.println(&quot;1&quot;);\r\n            broadcast(name+&quot; has joined the chat&quot;);\r\n            \r\n\r\n            while(true)\r\n            {\r\n              message=in.readLine();\r\n              broadcast(name+&quot;:&quot;+message);\r\n            }\r\n\r\n            } catch(IOException e){}finally\r\n            {\r\n                if(in != null)\r\n                {\r\n                    printwriters.remove(out);\r\n                    broadcast(name+&quot; has left the chat&quot;);\r\n                }\r\n\r\n                try{\r\n                client.close();\r\n                }catch(IOException e){}\r\n            }\r\n        }\r\n\r\n        public void broadcast(String message)\r\n        {\r\n            for(PrintWriter printwriter:printwriters)\r\n            {\r\n                printwriter.println(message);\r\n            }\r\n    \r\n        }\r\n    \r\n        public void send(String message)\r\n        {\r\n            out.println(message);\r\n        }\r\n    }\r\n}\r\n```\r\nI have created this simple Chat Application where multiple users can join a common chat.The Server creates a different thread for each client and continuously recieves and broadcasts data.The client to has two threads: &quot;send&quot; &quot;recieve&quot; which send and recieve data continuosly.\r\n\r\n\r\nThe Server works fine but when I run the client after typing in my name there shows ```IllegalThreadStateException```. \r\n\r\nPlease help and suggest if there is anyway I can improve this code too.","title":"IllegalThreadStateException Error on Simple Chat Application using Socket Programmin, Code bellow","body":"<p>Client code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOError;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.*;\nimport java.util.Scanner;\n\nimport javax.swing.*;\nimport java.io.*;\n\npublic class messages_client\n{\n    static BufferedReader in;\n    static  Scanner sc;\n    static PrintWriter out;\n\n    public static void main(String args[])\n    {\n        try{\n            JFrame frame=new JFrame();\n            Socket client=new Socket(&quot;localhost&quot;,59001);\n            in=new BufferedReader(new InputStreamReader(client.getInputStream()));\n            out=new PrintWriter(client.getOutputStream(),true);\n            sc=new Scanner(System.in);\n            boolean running=false;\n            \n            String input=in.readLine();\n            System.out.println(input);\n            String name=sc.next();\n            out.println(name);\n            running=true;\n    \n            Thread send=new Thread(new send());\n\n            Thread recieve=new Thread(new recieve());\n            \n            if(running == true)\n            {\n            while(true)\n            {\n             send.start();\n             recieve.start();   \n            }\n            }\n\n        } catch(IOException e){}\n\n    }\n    \n    public static class send implements Runnable\n    {\n        @Override\n        public void run()\n        {\n            String message=sc.nextLine();\n            out.println(message);\n        }\n\n    }\n\n    public static class recieve implements Runnable\n    {\n        @Override\n                public void run()\n                {\n                    try {\n                        String input=in.readLine();\n                        System.out.println(input);\n                        \n                    } catch (IOException e) {\n                    }\n                }\n    }\n}\n</code></pre>\n<p>Server code:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\nimport java.util.concurrent.Executors;\n\npublic class messages_server\n{\n    private static ServerSocket server;\n    private static Set&lt;PrintWriter&gt; printwriters=new HashSet&lt;&gt;();\n\n    public static void main(String args[])\n    {\n        try{\n        server=new ServerSocket(59001);\n        var pool=Executors.newFixedThreadPool(5);\n        System.out.println(&quot;Server is running&quot;);\n        while(true)\n        {\n            pool.execute(new ClientHandler(server.accept()));\n        }\n        } catch(IOException e)\n        {\n        } finally\n        {\n            try{\n             server.close();\n            } catch(IOException e){}\n        }\n    }\n\n    private static class ClientHandler implements Runnable\n    {\n        private Socket client;\n        private static PrintWriter out;\n        private static BufferedReader in;\n        private static String message;\n        private static String name;\n\n        ClientHandler(Socket client)\n        {\n            this.client=client;\n        }\n\n        @Override\n        public void run()\n        {\n            try{\n            out=new PrintWriter(client.getOutputStream(),true);\n            in=new BufferedReader(new InputStreamReader(client.getInputStream()));\n\n            send(&quot;Name: &quot;);\n            name=in.readLine();\n            System.out.println(name);\n            out.println(&quot;1&quot;);\n            broadcast(name+&quot; has joined the chat&quot;);\n            \n\n            while(true)\n            {\n              message=in.readLine();\n              broadcast(name+&quot;:&quot;+message);\n            }\n\n            } catch(IOException e){}finally\n            {\n                if(in != null)\n                {\n                    printwriters.remove(out);\n                    broadcast(name+&quot; has left the chat&quot;);\n                }\n\n                try{\n                client.close();\n                }catch(IOException e){}\n            }\n        }\n\n        public void broadcast(String message)\n        {\n            for(PrintWriter printwriter:printwriters)\n            {\n                printwriter.println(message);\n            }\n    \n        }\n    \n        public void send(String message)\n        {\n            out.println(message);\n        }\n    }\n}\n</code></pre>\n<p>I have created this simple Chat Application where multiple users can join a common chat.The Server creates a different thread for each client and continuously recieves and broadcasts data.The client to has two threads: &quot;send&quot; &quot;recieve&quot; which send and recieve data continuosly.</p>\n<p>The Server works fine but when I run the client after typing in my name there shows <code>IllegalThreadStateException</code>.</p>\n<p>Please help and suggest if there is anyway I can improve this code too.</p>\n"},{"tags":["python","java","regex","text"],"answers":[{"tags":[],"owner":{"account_id":24462860,"reputation":231,"user_id":18383672,"display_name":"Vignesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651688174,"creation_date":1651688174,"answer_id":72117682,"question_id":72117175,"body_markdown":"`(?s)` for new line characters, check this [regex-match-all-characters-between-two-strings](https://stackoverflow.com/questions/6109882/regex-match-all-characters-between-two-strings)\r\n```\r\nimport re\r\n\r\nprint(re.findall(&#39;RIASWIX(?s)(.*?)Sky Access&#39;, str1))\r\n```","title":"Regex Help for text/pattern between two keywords","body":"<p><code>(?s)</code> for new line characters, check this <a href=\"https://stackoverflow.com/questions/6109882/regex-match-all-characters-between-two-strings\">regex-match-all-characters-between-two-strings</a></p>\n<pre><code>import re\n\nprint(re.findall('RIASWIX(?s)(.*?)Sky Access', str1))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651734189,"creation_date":1651689730,"answer_id":72117981,"question_id":72117175,"body_markdown":"You added to your question `Python` and `Java` as tags. I can answer you regarding Java.\r\n\r\nRegex implementation:\r\n\r\n- If you need to exclude the keywords at the beginning and at the end of every matched occurrence, you need to use a positive lookbehind and a positive lookahead to match and exclude `RIASWIX` and `Sky Access`. \r\n\r\n- Then, you should use a reluctant quantifier to only match the text in between a pair of keywords, or else you would match the whole text between the first and last keyword. \r\n\r\n- Finally, your regex should enable the `DOTALL` flag in order to match the text across multiple lines.\r\n\r\n&lt;h4&gt;Implementation with keywords excluded&lt;/h4&gt;\r\n\r\nhttps://regex101.com/r/6Lnm5i/1\r\n\r\n```\r\nString text = &quot;... your text to parse ....&quot;;\r\n\r\n//Creating a regex with the DOTALL mode enabled. Eventually you could add the flag within your regex by adding at the beginning (?s)\r\nPattern regex = Pattern.compile(&quot;(?&lt;=RIASWIX).*?(?=Sky Access)&quot;, Pattern.DOTALL);\r\n\r\n//Creating a matcher built on your regex and the text to parse\r\nMatcher matcher = regex.matcher(text);\r\n\r\n//While there are still occurrences\r\nwhile(matcher.find()){\r\n    //Printing the occurrence\r\n    System.out.println(matcher.group());\r\n}\r\n```\r\n\r\n&lt;h4&gt;Implementation with keywords included&lt;/h4&gt;\r\n\r\nhttps://regex101.com/r/6RYTYf/1\r\n\r\n```\r\nString text = &quot;... your text to parse ....&quot;;\r\n\r\n//Creating a regex with the DOTALL mode enabled. Eventually you could add the flag within your regex by adding at the beginning (?s)\r\nPattern regex = Pattern.compile(&quot;RIASWIX.*?Sky Access&quot;, Pattern.DOTALL);\r\n\r\n//Creating a matcher built on your regex and the text to parse\r\nMatcher matcher = regex.matcher(text);\r\n\r\n//While there are still occurrences\r\nwhile(matcher.find()){\r\n    //Printing the occurrence\r\n    System.out.println(matcher.group());\r\n}\r\n```","title":"Regex Help for text/pattern between two keywords","body":"<p>You added to your question <code>Python</code> and <code>Java</code> as tags. I can answer you regarding Java.</p>\n<p>Regex implementation:</p>\n<ul>\n<li><p>If you need to exclude the keywords at the beginning and at the end of every matched occurrence, you need to use a positive lookbehind and a positive lookahead to match and exclude <code>RIASWIX</code> and <code>Sky Access</code>.</p>\n</li>\n<li><p>Then, you should use a reluctant quantifier to only match the text in between a pair of keywords, or else you would match the whole text between the first and last keyword.</p>\n</li>\n<li><p>Finally, your regex should enable the <code>DOTALL</code> flag in order to match the text across multiple lines.</p>\n</li>\n</ul>\n<h4>Implementation with keywords excluded</h4>\n<p><a href=\"https://regex101.com/r/6Lnm5i/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/6Lnm5i/1</a></p>\n<pre><code>String text = &quot;... your text to parse ....&quot;;\n\n//Creating a regex with the DOTALL mode enabled. Eventually you could add the flag within your regex by adding at the beginning (?s)\nPattern regex = Pattern.compile(&quot;(?&lt;=RIASWIX).*?(?=Sky Access)&quot;, Pattern.DOTALL);\n\n//Creating a matcher built on your regex and the text to parse\nMatcher matcher = regex.matcher(text);\n\n//While there are still occurrences\nwhile(matcher.find()){\n    //Printing the occurrence\n    System.out.println(matcher.group());\n}\n</code></pre>\n<h4>Implementation with keywords included</h4>\n<p><a href=\"https://regex101.com/r/6RYTYf/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/6RYTYf/1</a></p>\n<pre><code>String text = &quot;... your text to parse ....&quot;;\n\n//Creating a regex with the DOTALL mode enabled. Eventually you could add the flag within your regex by adding at the beginning (?s)\nPattern regex = Pattern.compile(&quot;RIASWIX.*?Sky Access&quot;, Pattern.DOTALL);\n\n//Creating a matcher built on your regex and the text to parse\nMatcher matcher = regex.matcher(text);\n\n//While there are still occurrences\nwhile(matcher.find()){\n    //Printing the occurrence\n    System.out.println(matcher.group());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651721687,"creation_date":1651721687,"answer_id":72121633,"question_id":72117175,"body_markdown":"Alternative regex:\r\n\r\n    &quot;^RIASWIX.*?\\\\bSky Access\\\\b&quot;\r\n\r\nRegex in context and testbench:\r\n\r\n    public static void main(String[] args) {\r\n        String input = getInput();\r\n\r\n        Matcher matcher = Pattern\r\n                .compile(&quot;^RIASWIX.*?\\\\bSky Access\\\\b&quot;, Pattern.MULTILINE | Pattern.DOTALL)\r\n                .matcher(input);\r\n\r\n        while(matcher.find()) {\r\n            System.out.println(&quot;=== === === START === ==== ===&quot;);\r\n            System.out.println(matcher.group());\r\n            System.out.println(&quot;=== === === END === ==== ===\\n&quot;);\r\n        }\r\n    }\r\n\r\nThe input from document:\r\n\r\n    private static String getInput() {\r\n        return &quot;----Document Start-------\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;Paragraph*\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;RIASWIX.*                                 ABCDEF1   NONE\\n&quot; +\r\n                &quot;   WORKING:  HELLO(READ)\\n&quot; +\r\n                &quot;   BOOLEAN Access:  SADGRE3, VJFKES3, JGJKEWW, IS4DWF44(A), DFEAWE2(G),\\n&quot; +\r\n                &quot;     DW4444W, IHFK3MF3\\n&quot; +\r\n                &quot;   BAZAAR Access:  No resource with BAZAAR Access\\n&quot; +\r\n                &quot;   GHAR Access:  No resource with GHAR Access\\n&quot; +\r\n                &quot;   WATER Access:  ADMINDDD(A), GEDDE33\\n&quot; +\r\n                &quot;   SKY None:  No Resource with Sky Access\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;RIASWIX.@7483NFJ.*                                 HFDFDF3   NONE\\n&quot; +\r\n                &quot;   WORKING:  BYE(READ)\\n&quot; +\r\n                &quot;   BOOLEAN Access:  GRREGGG, GREFEFF, GFGGGG, FDFDFDF(A), RERERE3(G),\\n&quot; +\r\n                &quot;     GFFWEF44, FFRF44F\\n&quot; +\r\n                &quot;   BAZAAR Access:  No resource with BAZAAR Access\\n&quot; +\r\n                &quot;   GHAR Access:  No resource with GHAR Access\\n&quot; +\r\n                &quot;   WATER Access:  ADMINEWW(A), FFRFRGR\\n&quot; +\r\n                &quot;   SKY None:  No Resource with Sky Access\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;RIASWIX.@7483KXX.*                                 HFDFDF3   NONE\\n&quot; +\r\n                &quot;   WORKING:  TATA(READ)\\n&quot; +\r\n                &quot;   BOOLEAN Access:  GRDSD33, FASDE, GFGGGG, RWERW33(A), NMUYHT4(G),\\n&quot; +\r\n                &quot;   BAZAAR Access:  XCDFEFE3, FREFE33R\\n&quot; +\r\n                &quot;   GHAR Access:  No resource with GHAR Access\\n&quot; +\r\n                &quot;   WATER Access:  DASDEFG(A), SJMFEIOE(P)\\n&quot; +\r\n                &quot;   SKY None:  No Resource with Sky Access\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;*Text\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;----Document End-------&quot;;\r\n    }\r\n\r\nOutput:\r\n\r\n\t=== === === START === ==== ===\r\n\tRIASWIX.*                                 ABCDEF1   NONE\r\n\t   WORKING:  HELLO(READ)\r\n\t   BOOLEAN Access:  SADGRE3, VJFKES3, JGJKEWW, IS4DWF44(A), DFEAWE2(G),\r\n\t\t DW4444W, IHFK3MF3\r\n\t   BAZAAR Access:  No resource with BAZAAR Access\r\n\t   GHAR Access:  No resource with GHAR Access\r\n\t   WATER Access:  ADMINDDD(A), GEDDE33\r\n\t   SKY None:  No Resource with Sky Access\r\n\t=== === === END === ==== ===\r\n\r\n\t=== === === START === ==== ===\r\n\tRIASWIX.@7483NFJ.*                                 HFDFDF3   NONE\r\n\t   WORKING:  BYE(READ)\r\n\t   BOOLEAN Access:  GRREGGG, GREFEFF, GFGGGG, FDFDFDF(A), RERERE3(G),\r\n\t\t GFFWEF44, FFRF44F\r\n\t   BAZAAR Access:  No resource with BAZAAR Access\r\n\t   GHAR Access:  No resource with GHAR Access\r\n\t   WATER Access:  ADMINEWW(A), FFRFRGR\r\n\t   SKY None:  No Resource with Sky Access\r\n\t=== === === END === ==== ===\r\n\r\n\t=== === === START === ==== ===\r\n\tRIASWIX.@7483KXX.*                                 HFDFDF3   NONE\r\n\t   WORKING:  TATA(READ)\r\n\t   BOOLEAN Access:  GRDSD33, FASDE, GFGGGG, RWERW33(A), NMUYHT4(G),\r\n\t   BAZAAR Access:  XCDFEFE3, FREFE33R\r\n\t   GHAR Access:  No resource with GHAR Access\r\n\t   WATER Access:  DASDEFG(A), SJMFEIOE(P)\r\n\t   SKY None:  No Resource with Sky Access\r\n\t=== === === END === ==== ===\r\n\r\n","title":"Regex Help for text/pattern between two keywords","body":"<p>Alternative regex:</p>\n<pre><code>&quot;^RIASWIX.*?\\\\bSky Access\\\\b&quot;\n</code></pre>\n<p>Regex in context and testbench:</p>\n<pre><code>public static void main(String[] args) {\n    String input = getInput();\n\n    Matcher matcher = Pattern\n            .compile(&quot;^RIASWIX.*?\\\\bSky Access\\\\b&quot;, Pattern.MULTILINE | Pattern.DOTALL)\n            .matcher(input);\n\n    while(matcher.find()) {\n        System.out.println(&quot;=== === === START === ==== ===&quot;);\n        System.out.println(matcher.group());\n        System.out.println(&quot;=== === === END === ==== ===\\n&quot;);\n    }\n}\n</code></pre>\n<p>The input from document:</p>\n<pre><code>private static String getInput() {\n    return &quot;----Document Start-------\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;Paragraph*\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;RIASWIX.*                                 ABCDEF1   NONE\\n&quot; +\n            &quot;   WORKING:  HELLO(READ)\\n&quot; +\n            &quot;   BOOLEAN Access:  SADGRE3, VJFKES3, JGJKEWW, IS4DWF44(A), DFEAWE2(G),\\n&quot; +\n            &quot;     DW4444W, IHFK3MF3\\n&quot; +\n            &quot;   BAZAAR Access:  No resource with BAZAAR Access\\n&quot; +\n            &quot;   GHAR Access:  No resource with GHAR Access\\n&quot; +\n            &quot;   WATER Access:  ADMINDDD(A), GEDDE33\\n&quot; +\n            &quot;   SKY None:  No Resource with Sky Access\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;RIASWIX.@7483NFJ.*                                 HFDFDF3   NONE\\n&quot; +\n            &quot;   WORKING:  BYE(READ)\\n&quot; +\n            &quot;   BOOLEAN Access:  GRREGGG, GREFEFF, GFGGGG, FDFDFDF(A), RERERE3(G),\\n&quot; +\n            &quot;     GFFWEF44, FFRF44F\\n&quot; +\n            &quot;   BAZAAR Access:  No resource with BAZAAR Access\\n&quot; +\n            &quot;   GHAR Access:  No resource with GHAR Access\\n&quot; +\n            &quot;   WATER Access:  ADMINEWW(A), FFRFRGR\\n&quot; +\n            &quot;   SKY None:  No Resource with Sky Access\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;RIASWIX.@7483KXX.*                                 HFDFDF3   NONE\\n&quot; +\n            &quot;   WORKING:  TATA(READ)\\n&quot; +\n            &quot;   BOOLEAN Access:  GRDSD33, FASDE, GFGGGG, RWERW33(A), NMUYHT4(G),\\n&quot; +\n            &quot;   BAZAAR Access:  XCDFEFE3, FREFE33R\\n&quot; +\n            &quot;   GHAR Access:  No resource with GHAR Access\\n&quot; +\n            &quot;   WATER Access:  DASDEFG(A), SJMFEIOE(P)\\n&quot; +\n            &quot;   SKY None:  No Resource with Sky Access\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;*Text\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;----Document End-------&quot;;\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>=== === === START === ==== ===\nRIASWIX.*                                 ABCDEF1   NONE\n   WORKING:  HELLO(READ)\n   BOOLEAN Access:  SADGRE3, VJFKES3, JGJKEWW, IS4DWF44(A), DFEAWE2(G),\n     DW4444W, IHFK3MF3\n   BAZAAR Access:  No resource with BAZAAR Access\n   GHAR Access:  No resource with GHAR Access\n   WATER Access:  ADMINDDD(A), GEDDE33\n   SKY None:  No Resource with Sky Access\n=== === === END === ==== ===\n\n=== === === START === ==== ===\nRIASWIX.@7483NFJ.*                                 HFDFDF3   NONE\n   WORKING:  BYE(READ)\n   BOOLEAN Access:  GRREGGG, GREFEFF, GFGGGG, FDFDFDF(A), RERERE3(G),\n     GFFWEF44, FFRF44F\n   BAZAAR Access:  No resource with BAZAAR Access\n   GHAR Access:  No resource with GHAR Access\n   WATER Access:  ADMINEWW(A), FFRFRGR\n   SKY None:  No Resource with Sky Access\n=== === === END === ==== ===\n\n=== === === START === ==== ===\nRIASWIX.@7483KXX.*                                 HFDFDF3   NONE\n   WORKING:  TATA(READ)\n   BOOLEAN Access:  GRDSD33, FASDE, GFGGGG, RWERW33(A), NMUYHT4(G),\n   BAZAAR Access:  XCDFEFE3, FREFE33R\n   GHAR Access:  No resource with GHAR Access\n   WATER Access:  DASDEFG(A), SJMFEIOE(P)\n   SKY None:  No Resource with Sky Access\n=== === === END === ==== ===\n</code></pre>\n"}],"owner":{"account_id":25105896,"reputation":39,"user_id":18956080,"display_name":"walkingbird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72117682,"answer_count":3,"score":1,"last_activity_date":1651734189,"creation_date":1651685452,"question_id":72117175,"body_markdown":"I am  trying to extract text between two words. \r\nThe below pattern repeats itself with modifications in between &#39;start keyword&#39; and &#39;end keyword&#39; across the text document.\r\nThe document has paragraphs and text before and after the following patterns, which i don&#39;t want to extract. \r\nCan anyone help me with the regex for the following ? which would extract all occurrences.\r\n\r\nStart keyword- RIASWIX\r\nEnd keyword - Sky Access\r\n\r\n    ----Document Start-------\r\n    \r\n    Paragraph*\r\n    \r\n    RIASWIX.*                                 ABCDEF1   NONE\r\n       WORKING:  HELLO(READ)\r\n       BOOLEAN Access:  SADGRE3, VJFKES3, JGJKEWW, IS4DWF44(A), DFEAWE2(G),\r\n         DW4444W, IHFK3MF3\r\n       BAZAAR Access:  No resource with BAZAAR Access\r\n       GHAR Access:  No resource with GHAR Access\r\n       WATER Access:  ADMINDDD(A), GEDDE33\r\n       SKY None:  No Resource with Sky Access\r\n    \r\n    RIASWIX.@7483NFJ.*                                 HFDFDF3   NONE\r\n       WORKING:  BYE(READ)\r\n       BOOLEAN Access:  GRREGGG, GREFEFF, GFGGGG, FDFDFDF(A), RERERE3(G),\r\n         GFFWEF44, FFRF44F\r\n       BAZAAR Access:  No resource with BAZAAR Access\r\n       GHAR Access:  No resource with GHAR Access\r\n       WATER Access:  ADMINEWW(A), FFRFRGR\r\n       SKY None:  No Resource with Sky Access\r\n    \r\n    RIASWIX.@7483KXX.*                                 HFDFDF3   NONE\r\n       WORKING:  TATA(READ)\r\n       BOOLEAN Access:  GRDSD33, FASDE, GFGGGG, RWERW33(A), NMUYHT4(G),\r\n       BAZAAR Access:  XCDFEFE3, FREFE33R\r\n       GHAR Access:  No resource with GHAR Access\r\n       WATER Access:  DASDEFG(A), SJMFEIOE(P)\r\n       SKY None:  No Resource with Sky Access\r\n    \r\n    *Text\r\n    \r\n    ----Document End-------\r\n\r\n","title":"Regex Help for text/pattern between two keywords","body":"<p>I am  trying to extract text between two words.\nThe below pattern repeats itself with modifications in between 'start keyword' and 'end keyword' across the text document.\nThe document has paragraphs and text before and after the following patterns, which i don't want to extract.\nCan anyone help me with the regex for the following ? which would extract all occurrences.</p>\n<p>Start keyword- RIASWIX\nEnd keyword - Sky Access</p>\n<pre><code>----Document Start-------\n\nParagraph*\n\nRIASWIX.*                                 ABCDEF1   NONE\n   WORKING:  HELLO(READ)\n   BOOLEAN Access:  SADGRE3, VJFKES3, JGJKEWW, IS4DWF44(A), DFEAWE2(G),\n     DW4444W, IHFK3MF3\n   BAZAAR Access:  No resource with BAZAAR Access\n   GHAR Access:  No resource with GHAR Access\n   WATER Access:  ADMINDDD(A), GEDDE33\n   SKY None:  No Resource with Sky Access\n\nRIASWIX.@7483NFJ.*                                 HFDFDF3   NONE\n   WORKING:  BYE(READ)\n   BOOLEAN Access:  GRREGGG, GREFEFF, GFGGGG, FDFDFDF(A), RERERE3(G),\n     GFFWEF44, FFRF44F\n   BAZAAR Access:  No resource with BAZAAR Access\n   GHAR Access:  No resource with GHAR Access\n   WATER Access:  ADMINEWW(A), FFRFRGR\n   SKY None:  No Resource with Sky Access\n\nRIASWIX.@7483KXX.*                                 HFDFDF3   NONE\n   WORKING:  TATA(READ)\n   BOOLEAN Access:  GRDSD33, FASDE, GFGGGG, RWERW33(A), NMUYHT4(G),\n   BAZAAR Access:  XCDFEFE3, FREFE33R\n   GHAR Access:  No resource with GHAR Access\n   WATER Access:  DASDEFG(A), SJMFEIOE(P)\n   SKY None:  No Resource with Sky Access\n\n*Text\n\n----Document End-------\n</code></pre>\n"},{"tags":["java","arrays","max","double"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1651686571,"post_id":72117337,"comment_id":127424393,"body_markdown":"why not sort the array and return the last element?","body":"why not sort the array and return the last element?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1651686709,"post_id":72117337,"comment_id":127424441,"body_markdown":"why do you need to have nested loops to find min-max? store the first element in your min/max variable, then compare each following element to that and replace if it is smaller/larger accordingly. After the last iteration you would have your min or max accordingly","body":"why do you need to have nested loops to find min-max? store the first element in your min/max variable, then compare each following element to that and replace if it is smaller/larger accordingly. After the last iteration you would have your min or max accordingly"},{"owner":{"account_id":16194716,"reputation":11,"user_id":19035754,"display_name":"Lorenz Hack"},"score":0,"creation_date":1651686731,"post_id":72117337,"comment_id":127424453,"body_markdown":"@Stultuske  ok, that might be easier, but what exactly is wrong here?","body":"@Stultuske  ok, that might be easier, but what exactly is wrong here?"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1651686734,"post_id":72117337,"comment_id":127424454,"body_markdown":"@Stultuske sorting is not required to get the min or max value and will in general be slower than just looping throug the array once and finding min and max values. Nevertheless, everything OP wants do do can be done in one simple loop.","body":"@Stultuske sorting is not required to get the min or max value and will in general be slower than just looping throug the array once and finding min and max values. Nevertheless, everything OP wants do do can be done in one simple loop."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1651686867,"post_id":72117337,"comment_id":127424490,"body_markdown":"@Mushroomator i think what he means is that instead of filling array from arraylist then finding min/max, just sort the arraylist, out put index 0 and the index at arraylist.size() -1","body":"@Mushroomator i think what he means is that instead of filling array from arraylist then finding min/max, just sort the arraylist, out put index 0 and the index at arraylist.size() -1"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651687531,"post_id":72117337,"comment_id":127424705,"body_markdown":"Just musing about any possible difference in precision between `&lt;` and `Double.compare` ...","body":"Just musing about any possible difference in precision between <code>&lt;</code> and <code>Double.compare</code> ..."},{"owner":{"account_id":16194716,"reputation":11,"user_id":19035754,"display_name":"Lorenz Hack"},"score":0,"creation_date":1651688207,"post_id":72117337,"comment_id":127424941,"body_markdown":"ah right, the nested loops are useless as experiment unit says","body":"ah right, the nested loops are useless as experiment unit says"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1651690927,"post_id":72117337,"comment_id":127425808,"body_markdown":"@Mushroomator nothing is required, there &#39;ll always be another way. but as for easy and understandable code, using a one-liner might very well make it harder to make mistakes in","body":"@Mushroomator nothing is required, there &#39;ll always be another way. but as for easy and understandable code, using a one-liner might very well make it harder to make mistakes in"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651687034,"creation_date":1651687034,"answer_id":72117489,"question_id":72117337,"body_markdown":"Method to do the checks yourself\r\n\r\n    public static double findMax(double[] data) {\r\n\t\tdouble max = Double.MIN_VALUE;\r\n\t\tfor (double val : data) {\r\n\t\t\tif (val &gt; max) {\r\n\t\t\t\tmax = val;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn max;\r\n\t}\r\n\t\r\nUsing the Math utility\r\n\r\n\tpublic static double findMax2(double[] data) {\r\n\t\tdouble max = Double.MIN_VALUE;\r\n\t\tfor (double val : data) {\r\n\t\t\tmax = Math.max(val, max);\r\n\t\t}\r\n\t\t\r\n\t\treturn max;\r\n\t}\r\n\r\nUsing streams\r\n\r\n\tpublic static double findMax3(double[] data) {\r\n\t\treturn Arrays.stream(data).max().getAsDouble();\r\n\t}\r\n\r\nDoing your own checks\r\n\t\r\n\tpublic static double findMin(double[] data) {\r\n\t\tdouble min = Double.MAX_VALUE;\r\n\t\tfor (double val : data) {\r\n\t\t\tif (val &lt; min) {\r\n\t\t\t\tmin = val;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn min;\r\n\t}\r\n\t\r\nUsing Math utility\r\n\r\n\tpublic static double findMin2(double[] data) {\r\n\t\tdouble min = Double.MAX_VALUE;\r\n\t\tfor (double val : data) {\r\n\t\t\tmin = Math.min(val, min);\r\n\t\t}\r\n\t\t\r\n\t\treturn min;\r\n\t}\r\n\r\nUsing streams\r\n\t\r\n\tpublic static double findMin3(double[] data) {\r\n\t\treturn Arrays.stream(data).min().getAsDouble();\r\n\t}","title":"find maximum double in an array in java","body":"<p>Method to do the checks yourself</p>\n<pre><code>public static double findMax(double[] data) {\n    double max = Double.MIN_VALUE;\n    for (double val : data) {\n        if (val &gt; max) {\n            max = val;\n        }\n    }\n    \n    return max;\n}\n</code></pre>\n<p>Using the Math utility</p>\n<pre><code>public static double findMax2(double[] data) {\n    double max = Double.MIN_VALUE;\n    for (double val : data) {\n        max = Math.max(val, max);\n    }\n    \n    return max;\n}\n</code></pre>\n<p>Using streams</p>\n<pre><code>public static double findMax3(double[] data) {\n    return Arrays.stream(data).max().getAsDouble();\n}\n</code></pre>\n<p>Doing your own checks</p>\n<pre><code>public static double findMin(double[] data) {\n    double min = Double.MAX_VALUE;\n    for (double val : data) {\n        if (val &lt; min) {\n            min = val;\n        }\n    }\n    \n    return min;\n}\n</code></pre>\n<p>Using Math utility</p>\n<pre><code>public static double findMin2(double[] data) {\n    double min = Double.MAX_VALUE;\n    for (double val : data) {\n        min = Math.min(val, min);\n    }\n    \n    return min;\n}\n</code></pre>\n<p>Using streams</p>\n<pre><code>public static double findMin3(double[] data) {\n    return Arrays.stream(data).min().getAsDouble();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25185723,"reputation":11,"user_id":19035214,"display_name":"Lars"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651734079,"creation_date":1651687924,"answer_id":72117638,"question_id":72117337,"body_markdown":"You do not need to use nested loops for getMax or getMin functions.\r\n\r\n```java\r\n    public static double getMax(double[] acc){\r\n        double max = Double.MIN_VALUE;\r\n        for (double value : acc) {\r\n            if( value &gt; max) max = value;\r\n        }\r\n        return max;\r\n    }\r\n```\r\n\r\nif you want to sort the list anyway:\r\n\r\n```java\r\n    public static void miniMaxSum(ArrayList&lt;Integer&gt; arr) {\r\n        if(arr.size() &gt; 0) {\r\n            Collections.sort(arr);\r\n            System.out.println(arr.get(0));\r\n            System.out.println(arr.get(arr.size() - 1));\r\n        }\r\n    }\r\n```\r\n","title":"find maximum double in an array in java","body":"<p>You do not need to use nested loops for getMax or getMin functions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static double getMax(double[] acc){\n        double max = Double.MIN_VALUE;\n        for (double value : acc) {\n            if( value &gt; max) max = value;\n        }\n        return max;\n    }\n</code></pre>\n<p>if you want to sort the list anyway:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void miniMaxSum(ArrayList&lt;Integer&gt; arr) {\n        if(arr.size() &gt; 0) {\n            Collections.sort(arr);\n            System.out.println(arr.get(0));\n            System.out.println(arr.get(arr.size() - 1));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651689231,"creation_date":1651688337,"answer_id":72117719,"question_id":72117337,"body_markdown":"You can do everything you want do do in a single loop. First calculate the sum for each value and then check for that sum if it is a new maximum and/ or minimum value. If any of these option is true, update the respective maximum or minimum value.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        var test = new double[]{10d, 4.43d, 5.3d, -6.8d, 7.1d, 8.7d, 8.1d, 234d, -3.9d, -455.3d};\r\n        minMaxSum(test);\r\n    }\r\n\r\n    public static void minMaxSum(double[] arr) {\r\n        double acc = 0;\r\n        // initialize the minimal value with the maximal value\r\n        double min = Double.MAX_VALUE;\r\n        // initialize the biggest value with the smallest possible value\r\n        double max = Double.MIN_VALUE;\r\n        var sum = new double[arr.length];\r\n        // a single for loop\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            var cur = arr[i];\r\n            // sum up adding the current value\r\n            acc += cur;\r\n            // save the current value in new array so we can verify the result (not actually required for the algorithm)\r\n            sum[i] = acc;\r\n            // if something is smaller than what we&#39;ve already encountered =&gt; set new smallest value\r\n            if(acc &lt; min) min = acc;\r\n            // if something is bigger than what we&#39;ve already encountered =&gt; set new biggest value\r\n            if(acc &lt; max) max = acc;\r\n        }\r\n        System.out.printf(&quot;&quot;&quot;\r\n                Original:   %s\r\n                Prefix-sum: %s\r\n                Min: %s\r\n                Max: %s\r\n                &quot;&quot;&quot;, Arrays.toString(arr), Arrays.toString(sum), min, max);\r\n    }\r\n\r\n}\r\n```\r\n\r\nExpected output:\r\n```\r\nOriginal:   [10.0, 4.43, 5.3, -6.8, 7.1, 8.7, 8.1, 234.0, -3.9, -455.3]\r\nPrefix-sum: [10.0, 14.43, 19.73, 12.93, 20.03, 28.73, 36.83, 270.83, 266.93, -188.37]\r\nMin: -188.37\r\nMax: 270.83\r\n```\r\nAs many people recommended sorting as a viable approach, here some remarks on sorting. First, yes, it would give you a correct result but there is a price to pay which is speed and well it is just an unnecessarily complex solution.\r\n \r\nSorting based on comparisons and without any pre-conditions [cannot be done faster than in `O(n log n)`](https://www.geeksforgeeks.org/lower-bound-on-comparison-based-sorting-algorithms/). It is obvious that the solution above needs `O(n)` time thus is a complexity class faster. Also the constants (which are ignored in big-O notation) are quite small in the above solution, so even if some pre-conditions were met and you could use a special sorting algorithm like [Map sort](https://en.wikipedia.org/wiki/Proxmap_sort) (or alike) which run in `O(n)` (again: under certain conditions) the above solution would still be faster and, not to mention, much simpler. So don&#39;t make your life harder than it needs to be.","title":"find maximum double in an array in java","body":"<p>You can do everything you want do do in a single loop. First calculate the sum for each value and then check for that sum if it is a new maximum and/ or minimum value. If any of these option is true, update the respective maximum or minimum value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        var test = new double[]{10d, 4.43d, 5.3d, -6.8d, 7.1d, 8.7d, 8.1d, 234d, -3.9d, -455.3d};\n        minMaxSum(test);\n    }\n\n    public static void minMaxSum(double[] arr) {\n        double acc = 0;\n        // initialize the minimal value with the maximal value\n        double min = Double.MAX_VALUE;\n        // initialize the biggest value with the smallest possible value\n        double max = Double.MIN_VALUE;\n        var sum = new double[arr.length];\n        // a single for loop\n        for (int i = 0; i &lt; arr.length; i++) {\n            var cur = arr[i];\n            // sum up adding the current value\n            acc += cur;\n            // save the current value in new array so we can verify the result (not actually required for the algorithm)\n            sum[i] = acc;\n            // if something is smaller than what we've already encountered =&gt; set new smallest value\n            if(acc &lt; min) min = acc;\n            // if something is bigger than what we've already encountered =&gt; set new biggest value\n            if(acc &lt; max) max = acc;\n        }\n        System.out.printf(&quot;&quot;&quot;\n                Original:   %s\n                Prefix-sum: %s\n                Min: %s\n                Max: %s\n                &quot;&quot;&quot;, Arrays.toString(arr), Arrays.toString(sum), min, max);\n    }\n\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>Original:   [10.0, 4.43, 5.3, -6.8, 7.1, 8.7, 8.1, 234.0, -3.9, -455.3]\nPrefix-sum: [10.0, 14.43, 19.73, 12.93, 20.03, 28.73, 36.83, 270.83, 266.93, -188.37]\nMin: -188.37\nMax: 270.83\n</code></pre>\n<p>As many people recommended sorting as a viable approach, here some remarks on sorting. First, yes, it would give you a correct result but there is a price to pay which is speed and well it is just an unnecessarily complex solution.</p>\n<p>Sorting based on comparisons and without any pre-conditions <a href=\"https://www.geeksforgeeks.org/lower-bound-on-comparison-based-sorting-algorithms/\" rel=\"nofollow noreferrer\">cannot be done faster than in <code>O(n log n)</code></a>. It is obvious that the solution above needs <code>O(n)</code> time thus is a complexity class faster. Also the constants (which are ignored in big-O notation) are quite small in the above solution, so even if some pre-conditions were met and you could use a special sorting algorithm like <a href=\"https://en.wikipedia.org/wiki/Proxmap_sort\" rel=\"nofollow noreferrer\">Map sort</a> (or alike) which run in <code>O(n)</code> (again: under certain conditions) the above solution would still be faster and, not to mention, much simpler. So don't make your life harder than it needs to be.</p>\n"}],"owner":{"account_id":16194716,"reputation":11,"user_id":19035754,"display_name":"Lorenz Hack"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651734079,"creation_date":1651686243,"question_id":72117337,"body_markdown":"Here is the code, I keep not getting the correct output from the getMax method. \r\nI fill an array with the sum of the int values of an ArrayList, then check which one of them is the smallest and the biggest, finally outputting them and pruning away the decimal places, which might cause errors maybe?\r\nCode might be bad, I&#39;m a noob: \r\n\r\n\r\n\r\n    public static void miniMaxSum(ArrayList&lt;Integer&gt; arr) {\r\n        \r\n        double[] acc = new double[arr.size()]; \r\n        for (int i=0; i&lt;arr.size(); i++){\r\n            for (int j=0; j&lt;arr.size(); j++){\r\n                acc[i] += arr.get(j);\r\n                }\r\n            acc[i] -= arr.get(i);\r\n            }\r\n                 \r\n        //double min = acc[arr.size()-1];\r\n        //double max = acc[0];\r\n        System.out.printf(&quot;%.0f&quot;, getMin(acc));\r\n        System.out.print(&quot; &quot;);\r\n        System.out.printf(&quot;%.0f&quot;, getMax(acc));     \r\n        }             \r\n \r\n    public static double getMin(double[] acc){\r\n        double min = 0;\r\n        for (int j=0; j&lt;acc.length; j++){\r\n            for (int i=0; i&lt;acc.length; i++){\r\n                if (acc[i] &gt; acc[j]){\r\n                    min = acc[j];\r\n                } else {\r\n                    min = acc[i];\r\n                }\r\n                \r\n            }\r\n        }     \r\n        return min; \r\n    }\r\n    public static double getMax(double[] acc){\r\n        double max = 0;\r\n        for (int j=0; j&lt;acc.length; j++){\r\n            for (int i=0; i&lt;acc.length; i++){\r\n                if (acc[i] &gt; acc[j]){\r\n                    max = acc[i];\r\n                    System.out.println(max);\r\n                } \r\n                else {\r\n                    max = acc[j];\r\n                }\r\n                \r\n            }\r\n        }     \r\n        return max; \r\n    }\r\n           \r\n","title":"find maximum double in an array in java","body":"<p>Here is the code, I keep not getting the correct output from the getMax method.\nI fill an array with the sum of the int values of an ArrayList, then check which one of them is the smallest and the biggest, finally outputting them and pruning away the decimal places, which might cause errors maybe?\nCode might be bad, I'm a noob:</p>\n<pre><code>public static void miniMaxSum(ArrayList&lt;Integer&gt; arr) {\n    \n    double[] acc = new double[arr.size()]; \n    for (int i=0; i&lt;arr.size(); i++){\n        for (int j=0; j&lt;arr.size(); j++){\n            acc[i] += arr.get(j);\n            }\n        acc[i] -= arr.get(i);\n        }\n             \n    //double min = acc[arr.size()-1];\n    //double max = acc[0];\n    System.out.printf(&quot;%.0f&quot;, getMin(acc));\n    System.out.print(&quot; &quot;);\n    System.out.printf(&quot;%.0f&quot;, getMax(acc));     \n    }             \n\npublic static double getMin(double[] acc){\n    double min = 0;\n    for (int j=0; j&lt;acc.length; j++){\n        for (int i=0; i&lt;acc.length; i++){\n            if (acc[i] &gt; acc[j]){\n                min = acc[j];\n            } else {\n                min = acc[i];\n            }\n            \n        }\n    }     \n    return min; \n}\npublic static double getMax(double[] acc){\n    double max = 0;\n    for (int j=0; j&lt;acc.length; j++){\n        for (int i=0; i&lt;acc.length; i++){\n            if (acc[i] &gt; acc[j]){\n                max = acc[i];\n                System.out.println(max);\n            } \n            else {\n                max = acc[j];\n            }\n            \n        }\n    }     \n    return max; \n}\n       \n</code></pre>\n"},{"tags":["java","classloader"],"owner":{"account_id":25114195,"reputation":11,"user_id":18963446,"display_name":"zhangchangchun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651734033,"creation_date":1651723029,"question_id":72121764,"body_markdown":"I am able to use this class loader to load the right class separately, though I get a `ClassNotFoundException` when it is indirectly loaded by other class. Why does this happen?\r\n\r\n[stacktrace][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KKJRf.png\r\n```\r\nD:\\programming\\github\\scm\\scm.web\\jar\\tt\\repack&gt;java -Dspring.profiles.active=dev -XX:-OmitStackTraceInFastThrow -jar scm.web.jar\r\nLaunchedURLClassLoader loadClass org.apache.catalina.LifecycleException\r\nLaunchedURLClassLoader load  org.apache.catalina.LifecycleException by parent sun.misc.Launcher$AppClassLoader@7852e922\r\nLaunchedURLClassLoader load by self org.apache.catalina.LifecycleException\r\nLaunchedURLClassLoader try find class org.apache.catalina.LifecycleException\r\nLaunchedURLClassLoader loadClass java.lang.Exception\r\nLaunchedURLClassLoader load  java.lang.Exception by parent sun.misc.Launcher$AppClassLoader@7852e922\r\nLaunchedURLClassLoader loadClass pers.zcc.scm.web.launch.AppBootstrap\r\nLaunchedURLClassLoader load  pers.zcc.scm.web.launch.AppBootstrap by parent sun.misc.Launcher$AppClassLoader@7852e922\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/catalina/LifecycleException\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at pers.zcc.scm.web.launch.MainMethodRunner.run(MainMethodRunner.java:32)\r\n        at pers.zcc.scm.web.launch.Launcher.launch(Launcher.java:70)\r\n        at pers.zcc.scm.web.launch.Launcher.launch(Launcher.java:34)\r\n        at pers.zcc.scm.web.launch.JarLauncher.main(JarLauncher.java:55)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.catalina.LifecycleException\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 6 more\r\n```\r\n\r\nthe class loader is LaunchedURLClassLoader in springboot loader package. i am trying to use it to load my app bootstrap class. another question is why the ClassNotFoundException wasn&#39;t caught when \r\nfailed to load the referenecd class, as if it was&#39;t loaded by the LaunchedURLClassLoader\r\n\r\nLaunchedURLClassLoader:\r\n```\r\n@Override\r\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\r\n        System.out.println(&quot;LaunchedURLClassLoader loadClass &quot; + name);\r\n        Handler.setUseFastConnectionExceptions(true);\r\n        try {\r\n            try {\r\n                definePackageIfNecessary(name);\r\n            } catch (IllegalArgumentException ex) {\r\n                // Tolerate race condition due to being parallel capable\r\n                if (getPackage(name) == null) {\r\n                    // This should never happen as the IllegalArgumentException indicates\r\n                    // that the package has already been defined and, therefore,\r\n                    // getPackage(name) should not return null.\r\n                    throw new AssertionError(\r\n                            &quot;Package &quot; + name + &quot; has already been &quot; + &quot;defined but it could not be found&quot;);\r\n                }\r\n            }\r\n            synchronized (getClassLoadingLock(name)) {\r\n                // First, check if the class has already been loaded\r\n                Class&lt;?&gt; c = findLoadedClass(name);\r\n                if (c == null) {\r\n                    long t0 = System.nanoTime();\r\n                    try {\r\n                        ClassLoader parent = this.getParent();\r\n                        if (parent != null) {\r\n                            System.out.println(&quot;LaunchedURLClassLoader load  &quot; + name + &quot; by parent &quot; + parent);\r\n                            c = parent.loadClass(name);\r\n                        } else {\r\n\r\n                        }\r\n                    } catch (ClassNotFoundException e) {\r\n                        // ClassNotFoundException thrown if class not found\r\n                        // from the non-null parent class loader\r\n                    }\r\n\r\n                    if (c == null) {\r\n                        // If still not found, then invoke findClass in order\r\n                        // to find the class.\r\n                        long t1 = System.nanoTime();\r\n                        System.out.println(&quot;LaunchedURLClassLoader load by self &quot; + name);\r\n                        c = findClass(name);\r\n\r\n                        // this is the defining class loader; record the stats\r\n                        sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0);\r\n                        sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1);\r\n                        sun.misc.PerfCounter.getFindClasses().increment();\r\n                    }\r\n                }\r\n                if (resolve) {\r\n                    resolveClass(c);\r\n                }\r\n                return c;\r\n            }\r\n        } finally {\r\n            Handler.setUseFastConnectionExceptions(false);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n        System.out.println(&quot;LaunchedURLClassLoader try find class &quot; + name);\r\n        return super.findClass(name);\r\n    }\r\n```\r\nrunner class:\r\n```\r\npublic class MainMethodRunner {\r\n\r\n    private final String mainClassName;\r\n\r\n    private final String[] args;\r\n\r\n    /**\r\n     * Create a new {@link MainMethodRunner} instance.\r\n     * @param mainClass the main class\r\n     * @param args incoming arguments\r\n     */\r\n    public MainMethodRunner(String mainClass, String[] args) {\r\n        this.mainClassName = mainClass;\r\n        this.args = (args != null) ? args.clone() : null;\r\n    }\r\n\r\n    public void run() throws Exception {\r\n//        Class&lt;?&gt; mainClass = Thread.currentThread().getContextClassLoader().loadClass(this.mainClassName);\r\n//        Method mainMethod = mainClass.getDeclaredMethod(&quot;main&quot;, String[].class);\r\n//        mainMethod.invoke(null, new Object[] { this.args });\r\n        ClassLoader cl = Thread.currentThread().getContextClassLoader();\r\n        Class.forName(&quot;org.apache.catalina.LifecycleException&quot;, true, cl);\r\n        Class.forName(mainClassName, true, cl);\r\n    }\r\n\r\n}\r\n\r\n```","title":"Why am I getting a ClassNotFoundException when class is indirectly loaded by other class?","body":"<p>I am able to use this class loader to load the right class separately, though I get a <code>ClassNotFoundException</code> when it is indirectly loaded by other class. Why does this happen?</p>\n<p><a href=\"https://i.stack.imgur.com/KKJRf.png\" rel=\"nofollow noreferrer\">stacktrace</a></p>\n<pre><code>D:\\programming\\github\\scm\\scm.web\\jar\\tt\\repack&gt;java -Dspring.profiles.active=dev -XX:-OmitStackTraceInFastThrow -jar scm.web.jar\nLaunchedURLClassLoader loadClass org.apache.catalina.LifecycleException\nLaunchedURLClassLoader load  org.apache.catalina.LifecycleException by parent sun.misc.Launcher$AppClassLoader@7852e922\nLaunchedURLClassLoader load by self org.apache.catalina.LifecycleException\nLaunchedURLClassLoader try find class org.apache.catalina.LifecycleException\nLaunchedURLClassLoader loadClass java.lang.Exception\nLaunchedURLClassLoader load  java.lang.Exception by parent sun.misc.Launcher$AppClassLoader@7852e922\nLaunchedURLClassLoader loadClass pers.zcc.scm.web.launch.AppBootstrap\nLaunchedURLClassLoader load  pers.zcc.scm.web.launch.AppBootstrap by parent sun.misc.Launcher$AppClassLoader@7852e922\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/catalina/LifecycleException\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at pers.zcc.scm.web.launch.MainMethodRunner.run(MainMethodRunner.java:32)\n        at pers.zcc.scm.web.launch.Launcher.launch(Launcher.java:70)\n        at pers.zcc.scm.web.launch.Launcher.launch(Launcher.java:34)\n        at pers.zcc.scm.web.launch.JarLauncher.main(JarLauncher.java:55)\nCaused by: java.lang.ClassNotFoundException: org.apache.catalina.LifecycleException\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 6 more\n</code></pre>\n<p>the class loader is LaunchedURLClassLoader in springboot loader package. i am trying to use it to load my app bootstrap class. another question is why the ClassNotFoundException wasn't caught when\nfailed to load the referenecd class, as if it was't loaded by the LaunchedURLClassLoader</p>\n<p>LaunchedURLClassLoader:</p>\n<pre><code>@Override\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\n        System.out.println(&quot;LaunchedURLClassLoader loadClass &quot; + name);\n        Handler.setUseFastConnectionExceptions(true);\n        try {\n            try {\n                definePackageIfNecessary(name);\n            } catch (IllegalArgumentException ex) {\n                // Tolerate race condition due to being parallel capable\n                if (getPackage(name) == null) {\n                    // This should never happen as the IllegalArgumentException indicates\n                    // that the package has already been defined and, therefore,\n                    // getPackage(name) should not return null.\n                    throw new AssertionError(\n                            &quot;Package &quot; + name + &quot; has already been &quot; + &quot;defined but it could not be found&quot;);\n                }\n            }\n            synchronized (getClassLoadingLock(name)) {\n                // First, check if the class has already been loaded\n                Class&lt;?&gt; c = findLoadedClass(name);\n                if (c == null) {\n                    long t0 = System.nanoTime();\n                    try {\n                        ClassLoader parent = this.getParent();\n                        if (parent != null) {\n                            System.out.println(&quot;LaunchedURLClassLoader load  &quot; + name + &quot; by parent &quot; + parent);\n                            c = parent.loadClass(name);\n                        } else {\n\n                        }\n                    } catch (ClassNotFoundException e) {\n                        // ClassNotFoundException thrown if class not found\n                        // from the non-null parent class loader\n                    }\n\n                    if (c == null) {\n                        // If still not found, then invoke findClass in order\n                        // to find the class.\n                        long t1 = System.nanoTime();\n                        System.out.println(&quot;LaunchedURLClassLoader load by self &quot; + name);\n                        c = findClass(name);\n\n                        // this is the defining class loader; record the stats\n                        sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0);\n                        sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1);\n                        sun.misc.PerfCounter.getFindClasses().increment();\n                    }\n                }\n                if (resolve) {\n                    resolveClass(c);\n                }\n                return c;\n            }\n        } finally {\n            Handler.setUseFastConnectionExceptions(false);\n        }\n    }\n\n    @Override\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n        System.out.println(&quot;LaunchedURLClassLoader try find class &quot; + name);\n        return super.findClass(name);\n    }\n</code></pre>\n<p>runner class:</p>\n<pre><code>public class MainMethodRunner {\n\n    private final String mainClassName;\n\n    private final String[] args;\n\n    /**\n     * Create a new {@link MainMethodRunner} instance.\n     * @param mainClass the main class\n     * @param args incoming arguments\n     */\n    public MainMethodRunner(String mainClass, String[] args) {\n        this.mainClassName = mainClass;\n        this.args = (args != null) ? args.clone() : null;\n    }\n\n    public void run() throws Exception {\n//        Class&lt;?&gt; mainClass = Thread.currentThread().getContextClassLoader().loadClass(this.mainClassName);\n//        Method mainMethod = mainClass.getDeclaredMethod(&quot;main&quot;, String[].class);\n//        mainMethod.invoke(null, new Object[] { this.args });\n        ClassLoader cl = Thread.currentThread().getContextClassLoader();\n        Class.forName(&quot;org.apache.catalina.LifecycleException&quot;, true, cl);\n        Class.forName(mainClassName, true, cl);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","jsonpath"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1620507625,"post_id":67451735,"comment_id":119223038,"body_markdown":"Deleted the XPath tag as this question appears to have nothing to do with XPath.","body":"Deleted the XPath tag as this question appears to have nothing to do with XPath."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1620509226,"post_id":67451735,"comment_id":119223379,"body_markdown":"The error message `No results for path: $[&#39;symbol&#39;]` doesn&#39;t appear to match what I would expect to see - which is `No results for path: $[&#39;symbols&#39;]`. Does the code in the question align with the stack trace? There is no item called `symbols` in the JSON.","body":"The error message <code>No results for path: $[&#39;symbol&#39;]</code> doesn&#39;t appear to match what I would expect to see - which is <code>No results for path: $[&#39;symbols&#39;]</code>. Does the code in the question align with the stack trace? There is no item called <code>symbols</code> in the JSON."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1620509512,"post_id":67451735,"comment_id":119223442,"body_markdown":"Instead of `List&lt;Object&gt; dataObject = JsonPath.parse(jsonString).read(&quot;symbols&quot;);`, use `List&lt;Map&lt;String, String&gt;&gt; items = JsonPath.parse(jsonString).read(&quot;filters&quot;);`. then you will have a list of maps that you can iterate through much more easily than trying to manipulate strings.","body":"Instead of <code>List&lt;Object&gt; dataObject = JsonPath.parse(jsonString).read(&quot;symbols&quot;);</code>, use <code>List&lt;Map&lt;String, String&gt;&gt; items = JsonPath.parse(jsonString).read(&quot;filters&quot;);</code>. then you will have a list of maps that you can iterate through much more easily than trying to manipulate strings."},{"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":0,"creation_date":1620510493,"post_id":67451735,"comment_id":119223621,"body_markdown":"@andrewjames thanks, I&#39;m posting an answer.","body":"@andrewjames thanks, I&#39;m posting an answer."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1620510855,"post_id":67451735,"comment_id":119223677,"body_markdown":"Glad you have a solution. I don&#39;t know how that works, because there is no `symbols` in the JSON.","body":"Glad you have a solution. I don&#39;t know how that works, because there is no <code>symbols</code> in the JSON."},{"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":1,"creation_date":1620511112,"post_id":67451735,"comment_id":119223726,"body_markdown":"@symbols is in the rest payload response, I posted a snippet of the response.","body":"@symbols is in the rest payload response, I posted a snippet of the response."}],"answers":[{"tags":[],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620510589,"creation_date":1620510589,"answer_id":67452457,"question_id":67451735,"body_markdown":"I may not need to cast to Object on the return type (for example List&lt;Map&lt;String, Object&gt;&gt;) and use Map instead but this works :\r\n\r\n    import com.jayway.jsonpath.JsonPath;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class ParseJson {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                URL url = new URL(&quot;https://api.binance.com/api/v3/exchangeInfo&quot;);\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                String inputLine;\r\n                StringBuffer content = new StringBuffer();\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    content.append(inputLine);\r\n                }\r\n                in.close();\r\n    \r\n                final String jsonString = content.toString();\r\n                List&lt;Map&lt;String, Object&gt;&gt; items = JsonPath.parse(jsonString).read(&quot;symbols&quot;);\r\n                items.forEach(m -&gt; {\r\n                    if (m.get(&quot;symbol&quot;).toString().toUpperCase().equalsIgnoreCase(&quot;BTCEUR&quot;)) {\r\n                        List&lt;Map&lt;String, Object&gt;&gt; m3 = (List&lt;Map&lt;String, Object&gt;&gt;) m.get(&quot;filters&quot;);\r\n                        m3.forEach(m2 -&gt; {\r\n                            if (m2.get(&quot;filterType&quot;).toString().equalsIgnoreCase(&quot;LOT_SIZE&quot;)) {\r\n                                System.out.println(&quot;Stepsize &quot; + m2.get(&quot;stepSize&quot;));\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nPrints : \r\n\r\n    22:47:25.070 [main] DEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $[&#39;symbols&#39;]\r\n    Stepsize 0.00000100\r\n\r\n","title":"Accessing json value using jsonpath?","body":"<p>I may not need to cast to Object on the return type (for example List&lt;Map&lt;String, Object&gt;&gt;) and use Map instead but this works :</p>\n<pre><code>import com.jayway.jsonpath.JsonPath;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.List;\nimport java.util.Map;\n\npublic class ParseJson {\n\n    public static void main(String[] args) {\n\n        try {\n            URL url = new URL(&quot;https://api.binance.com/api/v3/exchangeInfo&quot;);\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\n            con.setRequestMethod(&quot;GET&quot;);\n            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            String inputLine;\n            StringBuffer content = new StringBuffer();\n            while ((inputLine = in.readLine()) != null) {\n                content.append(inputLine);\n            }\n            in.close();\n\n            final String jsonString = content.toString();\n            List&lt;Map&lt;String, Object&gt;&gt; items = JsonPath.parse(jsonString).read(&quot;symbols&quot;);\n            items.forEach(m -&gt; {\n                if (m.get(&quot;symbol&quot;).toString().toUpperCase().equalsIgnoreCase(&quot;BTCEUR&quot;)) {\n                    List&lt;Map&lt;String, Object&gt;&gt; m3 = (List&lt;Map&lt;String, Object&gt;&gt;) m.get(&quot;filters&quot;);\n                    m3.forEach(m2 -&gt; {\n                        if (m2.get(&quot;filterType&quot;).toString().equalsIgnoreCase(&quot;LOT_SIZE&quot;)) {\n                            System.out.println(&quot;Stepsize &quot; + m2.get(&quot;stepSize&quot;));\n                        }\n                    });\n                }\n            });\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n}\n</code></pre>\n<p>Prints :</p>\n<pre><code>22:47:25.070 [main] DEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $['symbols']\nStepsize 0.00000100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20563947,"reputation":26,"user_id":15093808,"display_name":"Dmytro Dmytrenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620573096,"creation_date":1620565465,"answer_id":67458035,"question_id":67451735,"body_markdown":"From https://jsonpath.herokuapp.com/\r\n```\r\n$.filters[?(@.filterType==&#39;LOT_SIZE&#39;)].stepSize\r\n```","title":"Accessing json value using jsonpath?","body":"<p>From <a href=\"https://jsonpath.herokuapp.com/\" rel=\"nofollow noreferrer\">https://jsonpath.herokuapp.com/</a></p>\n<pre><code>$.filters[?(@.filterType=='LOT_SIZE')].stepSize\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20563947,"reputation":26,"user_id":15093808,"display_name":"Dmytro Dmytrenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620595826,"creation_date":1620568946,"answer_id":67458578,"question_id":67451735,"body_markdown":"Your origin question:\r\n\r\n    Object read = JsonPath.read(jsonString, &quot;$.filters[?(@.filterType==&#39;LOT_SIZE&#39;)].stepSize&quot;);\r\n\r\nJSON from &quot;https://api.binance.com/api/v3/exchangeInfo&quot;:\r\n\r\n    Object read = JsonPath.read(jsonString, &quot;$.symbols[?(@.symbol==&#39;BTCEUR&#39;)].filters[?(@.filterType==&#39;LOT_SIZE&#39;)].stepSize&quot;);\r\n\r\nIn case you still want to use streams, ur second generic is Object so we do need to cast explisitly (List&lt;Map&lt;String, Object&gt;&gt;) :\r\n\r\n    String stepSize = items\r\n            .stream()\r\n            .filter(map -&gt; &quot;BTCEUR&quot;.equalsIgnoreCase(map.get(&quot;symbol&quot;).toString()))\r\n            .map(map -&gt; (List&lt;Map&lt;String, Object&gt;&gt;) map.get(&quot;filters&quot;))\r\n            .findFirst()\r\n            .orElseThrow()\r\n            .stream()\r\n            .filter(map -&gt; &quot;LOT_SIZE&quot;.equalsIgnoreCase(map.get(&quot;filterType&quot;).toString()))\r\n            .findFirst()\r\n            .orElseThrow()\r\n            .get(&quot;stepSize&quot;)\r\n            .toString();\r\n    \r\n    System.out.println(stepSize);","title":"Accessing json value using jsonpath?","body":"<p>Your origin question:</p>\n<pre><code>Object read = JsonPath.read(jsonString, &quot;$.filters[?(@.filterType=='LOT_SIZE')].stepSize&quot;);\n</code></pre>\n<p>JSON from &quot;https://api.binance.com/api/v3/exchangeInfo&quot;:</p>\n<pre><code>Object read = JsonPath.read(jsonString, &quot;$.symbols[?(@.symbol=='BTCEUR')].filters[?(@.filterType=='LOT_SIZE')].stepSize&quot;);\n</code></pre>\n<p>In case you still want to use streams, ur second generic is Object so we do need to cast explisitly (List&lt;Map&lt;String, Object&gt;&gt;) :</p>\n<pre><code>String stepSize = items\n        .stream()\n        .filter(map -&gt; &quot;BTCEUR&quot;.equalsIgnoreCase(map.get(&quot;symbol&quot;).toString()))\n        .map(map -&gt; (List&lt;Map&lt;String, Object&gt;&gt;) map.get(&quot;filters&quot;))\n        .findFirst()\n        .orElseThrow()\n        .stream()\n        .filter(map -&gt; &quot;LOT_SIZE&quot;.equalsIgnoreCase(map.get(&quot;filterType&quot;).toString()))\n        .findFirst()\n        .orElseThrow()\n        .get(&quot;stepSize&quot;)\n        .toString();\n\nSystem.out.println(stepSize);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25095701,"reputation":11,"user_id":18946901,"display_name":"LeoTaylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651733621,"creation_date":1651733621,"answer_id":72123050,"question_id":67451735,"body_markdown":"Your job is to find the value of stepSize where the symbols value is TRXEUR and filterType value is LOT_SIZE. But the code will be long and complicated if you use Java to do it.\r\n\r\nSuggest you using SPL, an open-source Java package. Coding will be really easy and you only need one line:\r\n\r\n||A|\r\n|:-|:-|\r\n|1|=json(httpfile(&quot;https://api.binance.com/api/v3/exchangeInfo&quot;).read()).&lt;br&gt;symbols.select(symbol==&quot;TRXEUR&quot;).filters.select(~.filterType==&quot;LOT_SIZE&quot;).stepSize|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as getvalue.splx and invoke it in a Java application as you call a stored procedure:\r\n```\r\n…\r\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\nst = con.prepareCall(&quot;call getvalue()&quot;);\r\nst.execute();\r\n…\r\n```","title":"Accessing json value using jsonpath?","body":"<p>Your job is to find the value of stepSize where the symbols value is TRXEUR and filterType value is LOT_SIZE. But the code will be long and complicated if you use Java to do it.</p>\n<p>Suggest you using SPL, an open-source Java package. Coding will be really easy and you only need one line:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">=json(httpfile(&quot;https://api.binance.com/api/v3/exchangeInfo&quot;).read()).<br>symbols.select(symbol==&quot;TRXEUR&quot;).filters.select(~.filterType==&quot;LOT_SIZE&quot;).stepSize</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as getvalue.splx and invoke it in a Java application as you call a stored procedure:</p>\n<pre><code>…\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\nst = con.prepareCall(&quot;call getvalue()&quot;);\nst.execute();\n…\n</code></pre>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67458035,"answer_count":4,"score":0,"last_activity_date":1651733621,"creation_date":1620504634,"question_id":67451735,"body_markdown":"I&#39;m following the tutorial for using jsonpath (https://www.baeldung.com/guide-to-jayway-jsonpath) and using the endpoint https://api.binance.com/api/v3/exchangeInfo I&#39;m attempting to parse the value LOT_SIZE, stepSize for the symbol TRXEUR. The specific piece of JSON contained in the returned payload is contained in: \r\n\r\n    {\r\n    &quot;symbol&quot;: &quot;TRXEUR&quot;,\r\n    &quot;status&quot;: &quot;TRADING&quot;,\r\n    &quot;baseAsset&quot;: &quot;TRX&quot;,\r\n    &quot;baseAssetPrecision&quot;: 8,\r\n    &quot;quoteAsset&quot;: &quot;EUR&quot;,\r\n    &quot;quotePrecision&quot;: 8,\r\n    &quot;quoteAssetPrecision&quot;: 8,\r\n    &quot;baseCommissionPrecision&quot;: 8,\r\n    &quot;quoteCommissionPrecision&quot;: 8,\r\n    &quot;orderTypes&quot;: [\r\n    &quot;LIMIT&quot;,\r\n    &quot;LIMIT_MAKER&quot;,\r\n    &quot;MARKET&quot;,\r\n    &quot;STOP_LOSS_LIMIT&quot;,\r\n    &quot;TAKE_PROFIT_LIMIT&quot;\r\n    ],\r\n    &quot;icebergAllowed&quot;: true,\r\n    &quot;ocoAllowed&quot;: true,\r\n    &quot;quoteOrderQtyMarketAllowed&quot;: true,\r\n    &quot;isSpotTradingAllowed&quot;: true,\r\n    &quot;isMarginTradingAllowed&quot;: false,\r\n    &quot;filters&quot;: [\r\n    {\r\n    &quot;filterType&quot;: &quot;PRICE_FILTER&quot;,\r\n    &quot;minPrice&quot;: &quot;0.00010000&quot;,\r\n    &quot;maxPrice&quot;: &quot;1000.00000000&quot;,\r\n    &quot;tickSize&quot;: &quot;0.00010000&quot;\r\n    },\r\n    {\r\n    &quot;filterType&quot;: &quot;PERCENT_PRICE&quot;,\r\n    &quot;multiplierUp&quot;: &quot;5&quot;,\r\n    &quot;multiplierDown&quot;: &quot;0.2&quot;,\r\n    &quot;avgPriceMins&quot;: 5\r\n    },\r\n    {\r\n    &quot;filterType&quot;: &quot;LOT_SIZE&quot;,\r\n    &quot;minQty&quot;: &quot;1.00000000&quot;,\r\n    &quot;maxQty&quot;: &quot;90000000.00000000&quot;,\r\n    &quot;stepSize&quot;: &quot;1.00000000&quot;\r\n    },\r\n    {\r\n    &quot;filterType&quot;: &quot;MIN_NOTIONAL&quot;,\r\n    &quot;minNotional&quot;: &quot;10.00000000&quot;,\r\n    &quot;applyToMarket&quot;: true,\r\n    &quot;avgPriceMins&quot;: 5\r\n    },\r\n    {\r\n    &quot;filterType&quot;: &quot;ICEBERG_PARTS&quot;,\r\n    &quot;limit&quot;: 10\r\n    },\r\n    {\r\n    &quot;filterType&quot;: &quot;MARKET_LOT_SIZE&quot;,\r\n    &quot;minQty&quot;: &quot;0.00000000&quot;,\r\n    &quot;maxQty&quot;: &quot;904859.10069444&quot;,\r\n    &quot;stepSize&quot;: &quot;0.00000000&quot;\r\n    },\r\n    {\r\n    &quot;filterType&quot;: &quot;MAX_NUM_ORDERS&quot;,\r\n    &quot;maxNumOrders&quot;: 200\r\n    },\r\n    {\r\n    &quot;filterType&quot;: &quot;MAX_NUM_ALGO_ORDERS&quot;,\r\n    &quot;maxNumAlgoOrders&quot;: 5\r\n    }\r\n    ],\r\n    &quot;permissions&quot;: [\r\n    &quot;SPOT&quot;\r\n    ]\r\n    }\r\n\r\nMore specifically how to extract `1.00000000` from :\r\n\r\n    {\r\n    &quot;filterType&quot;: &quot;LOT_SIZE&quot;,\r\n    &quot;minQty&quot;: &quot;1.00000000&quot;,\r\n    &quot;maxQty&quot;: &quot;90000000.00000000&quot;,\r\n    &quot;stepSize&quot;: &quot;1.00000000&quot;\r\n    }\r\n\r\nHere is what I&#39;ve written :  \r\n\r\n    public class ParseJson {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                URL url = new URL(&quot;https://api.binance.com/api/v3/exchangeInfo&quot;);\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                String inputLine;\r\n                StringBuffer content = new StringBuffer();\r\n                while ((inputLine = in.readLine()) != null) {\r\n                    content.append(inputLine);\r\n                }\r\n                in.close();\r\n    \r\n                final String jsonString = content.toString();\r\n                List&lt;Object&gt; dataObject = JsonPath.parse(jsonString).read(&quot;symbols&quot;);\r\n                dataObject.forEach(x -&gt; {\r\n                            if (x.toString().toUpperCase().contains(&quot;TRXEUR&quot;)) {\r\n                                List&lt;Object&gt; lo = JsonPath.parse(x.toString()).read(&quot;symbol&quot;);\r\n    \r\n                            }\r\n                        }\r\n    \r\n                );\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nWhich returns : \r\n\r\n    20:52:10.428 [main] DEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $[&#39;symbols&#39;]\r\n    20:52:10.469 [main] DEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $[&#39;symbol&#39;]\r\n    Exception in thread &quot;main&quot; com.jayway.jsonpath.PathNotFoundException: No results for path: $[&#39;symbol&#39;]\r\n    \tat com.jayway.jsonpath.internal.path.EvaluationContextImpl.getValue(EvaluationContextImpl.java:133)\r\n    \tat com.jayway.jsonpath.JsonPath.read(JsonPath.java:187)\r\n    \tat com.jayway.jsonpath.internal.JsonContext.read(JsonContext.java:102)\r\n    \tat com.jayway.jsonpath.internal.JsonContext.read(JsonContext.java:89)\r\n    \tat com.reactive.api.scenarios.ParseJson.lambda$main$0(ParseJson.java:37)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat com.reactive.api.scenarios.ParseJson.main(ParseJson.java:34)\r\n    \r\n    Process finished with exit code 1\r\n\r\nI can access the symbol `TRXEUR` and `symbols` is parsed but how to extract `1.00000000` from :\r\n\r\n    {\r\n    &quot;filterType&quot;: &quot;LOT_SIZE&quot;,\r\n    &quot;minQty&quot;: &quot;1.00000000&quot;,\r\n    &quot;maxQty&quot;: &quot;90000000.00000000&quot;,\r\n    &quot;stepSize&quot;: &quot;1.00000000&quot;\r\n    }\r\n\r\n?\r\n","title":"Accessing json value using jsonpath?","body":"<p>I'm following the tutorial for using jsonpath (<a href=\"https://www.baeldung.com/guide-to-jayway-jsonpath\" rel=\"nofollow noreferrer\">https://www.baeldung.com/guide-to-jayway-jsonpath</a>) and using the endpoint <a href=\"https://api.binance.com/api/v3/exchangeInfo\" rel=\"nofollow noreferrer\">https://api.binance.com/api/v3/exchangeInfo</a> I'm attempting to parse the value LOT_SIZE, stepSize for the symbol TRXEUR. The specific piece of JSON contained in the returned payload is contained in:</p>\n<pre><code>{\n&quot;symbol&quot;: &quot;TRXEUR&quot;,\n&quot;status&quot;: &quot;TRADING&quot;,\n&quot;baseAsset&quot;: &quot;TRX&quot;,\n&quot;baseAssetPrecision&quot;: 8,\n&quot;quoteAsset&quot;: &quot;EUR&quot;,\n&quot;quotePrecision&quot;: 8,\n&quot;quoteAssetPrecision&quot;: 8,\n&quot;baseCommissionPrecision&quot;: 8,\n&quot;quoteCommissionPrecision&quot;: 8,\n&quot;orderTypes&quot;: [\n&quot;LIMIT&quot;,\n&quot;LIMIT_MAKER&quot;,\n&quot;MARKET&quot;,\n&quot;STOP_LOSS_LIMIT&quot;,\n&quot;TAKE_PROFIT_LIMIT&quot;\n],\n&quot;icebergAllowed&quot;: true,\n&quot;ocoAllowed&quot;: true,\n&quot;quoteOrderQtyMarketAllowed&quot;: true,\n&quot;isSpotTradingAllowed&quot;: true,\n&quot;isMarginTradingAllowed&quot;: false,\n&quot;filters&quot;: [\n{\n&quot;filterType&quot;: &quot;PRICE_FILTER&quot;,\n&quot;minPrice&quot;: &quot;0.00010000&quot;,\n&quot;maxPrice&quot;: &quot;1000.00000000&quot;,\n&quot;tickSize&quot;: &quot;0.00010000&quot;\n},\n{\n&quot;filterType&quot;: &quot;PERCENT_PRICE&quot;,\n&quot;multiplierUp&quot;: &quot;5&quot;,\n&quot;multiplierDown&quot;: &quot;0.2&quot;,\n&quot;avgPriceMins&quot;: 5\n},\n{\n&quot;filterType&quot;: &quot;LOT_SIZE&quot;,\n&quot;minQty&quot;: &quot;1.00000000&quot;,\n&quot;maxQty&quot;: &quot;90000000.00000000&quot;,\n&quot;stepSize&quot;: &quot;1.00000000&quot;\n},\n{\n&quot;filterType&quot;: &quot;MIN_NOTIONAL&quot;,\n&quot;minNotional&quot;: &quot;10.00000000&quot;,\n&quot;applyToMarket&quot;: true,\n&quot;avgPriceMins&quot;: 5\n},\n{\n&quot;filterType&quot;: &quot;ICEBERG_PARTS&quot;,\n&quot;limit&quot;: 10\n},\n{\n&quot;filterType&quot;: &quot;MARKET_LOT_SIZE&quot;,\n&quot;minQty&quot;: &quot;0.00000000&quot;,\n&quot;maxQty&quot;: &quot;904859.10069444&quot;,\n&quot;stepSize&quot;: &quot;0.00000000&quot;\n},\n{\n&quot;filterType&quot;: &quot;MAX_NUM_ORDERS&quot;,\n&quot;maxNumOrders&quot;: 200\n},\n{\n&quot;filterType&quot;: &quot;MAX_NUM_ALGO_ORDERS&quot;,\n&quot;maxNumAlgoOrders&quot;: 5\n}\n],\n&quot;permissions&quot;: [\n&quot;SPOT&quot;\n]\n}\n</code></pre>\n<p>More specifically how to extract <code>1.00000000</code> from :</p>\n<pre><code>{\n&quot;filterType&quot;: &quot;LOT_SIZE&quot;,\n&quot;minQty&quot;: &quot;1.00000000&quot;,\n&quot;maxQty&quot;: &quot;90000000.00000000&quot;,\n&quot;stepSize&quot;: &quot;1.00000000&quot;\n}\n</code></pre>\n<p>Here is what I've written :</p>\n<pre><code>public class ParseJson {\n\n    public static void main(String[] args) {\n\n        try {\n            URL url = new URL(&quot;https://api.binance.com/api/v3/exchangeInfo&quot;);\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\n            con.setRequestMethod(&quot;GET&quot;);\n            BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n            String inputLine;\n            StringBuffer content = new StringBuffer();\n            while ((inputLine = in.readLine()) != null) {\n                content.append(inputLine);\n            }\n            in.close();\n\n            final String jsonString = content.toString();\n            List&lt;Object&gt; dataObject = JsonPath.parse(jsonString).read(&quot;symbols&quot;);\n            dataObject.forEach(x -&gt; {\n                        if (x.toString().toUpperCase().contains(&quot;TRXEUR&quot;)) {\n                            List&lt;Object&gt; lo = JsonPath.parse(x.toString()).read(&quot;symbol&quot;);\n\n                        }\n                    }\n\n            );\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n}\n</code></pre>\n<p>Which returns :</p>\n<pre><code>20:52:10.428 [main] DEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $['symbols']\n20:52:10.469 [main] DEBUG com.jayway.jsonpath.internal.path.CompiledPath - Evaluating path: $['symbol']\nException in thread &quot;main&quot; com.jayway.jsonpath.PathNotFoundException: No results for path: $['symbol']\n    at com.jayway.jsonpath.internal.path.EvaluationContextImpl.getValue(EvaluationContextImpl.java:133)\n    at com.jayway.jsonpath.JsonPath.read(JsonPath.java:187)\n    at com.jayway.jsonpath.internal.JsonContext.read(JsonContext.java:102)\n    at com.jayway.jsonpath.internal.JsonContext.read(JsonContext.java:89)\n    at com.reactive.api.scenarios.ParseJson.lambda$main$0(ParseJson.java:37)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at com.reactive.api.scenarios.ParseJson.main(ParseJson.java:34)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I can access the symbol <code>TRXEUR</code> and <code>symbols</code> is parsed but how to extract <code>1.00000000</code> from :</p>\n<pre><code>{\n&quot;filterType&quot;: &quot;LOT_SIZE&quot;,\n&quot;minQty&quot;: &quot;1.00000000&quot;,\n&quot;maxQty&quot;: &quot;90000000.00000000&quot;,\n&quot;stepSize&quot;: &quot;1.00000000&quot;\n}\n</code></pre>\n<p>?</p>\n"},{"tags":["java","eclipse","weblogic","weblogic12c","eclipse-photon"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":0,"creation_date":1634107233,"post_id":69533827,"comment_id":122933804,"body_markdown":"Did you install Eclipse IDE for Enterprise Java and Web Developers ?","body":"Did you install Eclipse IDE for Enterprise Java and Web Developers ?"}],"answers":[{"tags":[],"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634019841,"creation_date":1634019841,"answer_id":69535955,"question_id":69533827,"body_markdown":"The WebLogc Home Folder must set to point to your WebLogic installation and not to a domain folder (as you did). Locate the wlserver folder under your WebLogic installation and set it up in Eclipse.","title":"Connect Weblogic server to Eclipse Error: &quot;does not contain a valid WebLogic Server install or the installed version is not supported&quot;","body":"<p>The WebLogc Home Folder must set to point to your WebLogic installation and not to a domain folder (as you did). Locate the wlserver folder under your WebLogic installation and set it up in Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":25187597,"reputation":1,"user_id":19028253,"display_name":"JuanZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651733594,"creation_date":1651733594,"answer_id":72123045,"question_id":69533827,"body_markdown":"You have to look to the &quot;wlserver&quot; folder, I just got it fixed, also with Oracle 12c.\r\nThe Server I linked was: C:\\WL\\wls12213\\wlserver\r\n\r\nAnd then you can continue, also the configuration guide will ask you for the domain, that you have to had already configured. \r\nIn my case: C:\\WL\\weblogic_server_12.2.1\r\n\r\nI&#39;m using Spring Tools Studio 4.6.1","title":"Connect Weblogic server to Eclipse Error: &quot;does not contain a valid WebLogic Server install or the installed version is not supported&quot;","body":"<p>You have to look to the &quot;wlserver&quot; folder, I just got it fixed, also with Oracle 12c.\nThe Server I linked was: C:\\WL\\wls12213\\wlserver</p>\n<p>And then you can continue, also the configuration guide will ask you for the domain, that you have to had already configured.\nIn my case: C:\\WL\\weblogic_server_12.2.1</p>\n<p>I'm using Spring Tools Studio 4.6.1</p>\n"}],"owner":{"account_id":22991736,"reputation":13,"user_id":17117110,"display_name":"StepZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651733594,"creation_date":1633998843,"question_id":69533827,"body_markdown":"I&#39;m trying to connect a weblogic server to my eclipse (photon) and I keep getting this error message:\r\n\r\n[Error][1]\r\n&quot;does not contain a valid WebLogic Server install or the installed version is not supported&quot;\r\n\r\nI&#39;ve tried installing 3 different types of eclipse (Photon, Eclipse IDE for Java Developers - 2021-09 and Eclipse IDE for Enterprise Java and Web Developers - 2021-09) but I have the same error on all of them.\r\n\r\nI know that I have configured the weblogic server correctly because I can access it as shown:\r\n[Weblogic Server][2]\r\n\r\nShouldn&#39;t it be looking for the startWebLogic file or something? Because that&#39;s where I&#39;m pointing it at.\r\n\r\nI have tried doing what other threads do but they don&#39;t work for me.\r\n\r\nBasically I have 2 questions: \r\n- How do I fix this error?\r\n- What file does this pop-up is looking for?\r\n\r\n  [1]: https://i.stack.imgur.com/JqF7c.png\r\n  [2]: https://i.stack.imgur.com/Rkaei.png","title":"Connect Weblogic server to Eclipse Error: &quot;does not contain a valid WebLogic Server install or the installed version is not supported&quot;","body":"<p>I'm trying to connect a weblogic server to my eclipse (photon) and I keep getting this error message:</p>\n<p><a href=\"https://i.stack.imgur.com/JqF7c.png\" rel=\"nofollow noreferrer\">Error</a>\n&quot;does not contain a valid WebLogic Server install or the installed version is not supported&quot;</p>\n<p>I've tried installing 3 different types of eclipse (Photon, Eclipse IDE for Java Developers - 2021-09 and Eclipse IDE for Enterprise Java and Web Developers - 2021-09) but I have the same error on all of them.</p>\n<p>I know that I have configured the weblogic server correctly because I can access it as shown:\n<a href=\"https://i.stack.imgur.com/Rkaei.png\" rel=\"nofollow noreferrer\">Weblogic Server</a></p>\n<p>Shouldn't it be looking for the startWebLogic file or something? Because that's where I'm pointing it at.</p>\n<p>I have tried doing what other threads do but they don't work for me.</p>\n<p>Basically I have 2 questions:</p>\n<ul>\n<li>How do I fix this error?</li>\n<li>What file does this pop-up is looking for?</li>\n</ul>\n"},{"tags":["java","spring","wicket"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651733108,"creation_date":1651733108,"answer_id":72122961,"question_id":72122347,"body_markdown":"Wicket 7.x uses Spring 4.1.x - https://github.com/apache/wicket/blob/wicket-7.x/pom.xml#L135\r\n\r\n\r\nWicket 8.x uses Spring 4.3.x - https://github.com/apache/wicket/blob/wicket-8.x/pom.xml#L137\r\n\r\nWicket 9.x uses Spring 5.3.x - https://github.com/apache/wicket/blob/wicket-9.x/pom.xml#L174\r\n\r\nWicket 10.x will use Spring 6.x - https://github.com/apache/wicket/blob/80726e2dae60e5893be0621761883f2dec20cac0/pom.xml#L185\r\n\r\nYou can manage the Spring version in your pom.xml and it may work or not depending on which Spring APIs you use in your application. Wicket&#39;s usage of Spring APIs is rather minimal and most probably you won&#39;t face problems.\r\n","title":"Apache Wicket with Spring version dependencies","body":"<p>Wicket 7.x uses Spring 4.1.x - <a href=\"https://github.com/apache/wicket/blob/wicket-7.x/pom.xml#L135\" rel=\"nofollow noreferrer\">https://github.com/apache/wicket/blob/wicket-7.x/pom.xml#L135</a></p>\n<p>Wicket 8.x uses Spring 4.3.x - <a href=\"https://github.com/apache/wicket/blob/wicket-8.x/pom.xml#L137\" rel=\"nofollow noreferrer\">https://github.com/apache/wicket/blob/wicket-8.x/pom.xml#L137</a></p>\n<p>Wicket 9.x uses Spring 5.3.x - <a href=\"https://github.com/apache/wicket/blob/wicket-9.x/pom.xml#L174\" rel=\"nofollow noreferrer\">https://github.com/apache/wicket/blob/wicket-9.x/pom.xml#L174</a></p>\n<p>Wicket 10.x will use Spring 6.x - <a href=\"https://github.com/apache/wicket/blob/80726e2dae60e5893be0621761883f2dec20cac0/pom.xml#L185\" rel=\"nofollow noreferrer\">https://github.com/apache/wicket/blob/80726e2dae60e5893be0621761883f2dec20cac0/pom.xml#L185</a></p>\n<p>You can manage the Spring version in your pom.xml and it may work or not depending on which Spring APIs you use in your application. Wicket's usage of Spring APIs is rather minimal and most probably you won't face problems.</p>\n"}],"owner":{"account_id":10157839,"reputation":242,"user_id":7502330,"display_name":"Kari Sarsila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72122961,"answer_count":1,"score":1,"last_activity_date":1651733108,"creation_date":1651728709,"question_id":72122347,"body_markdown":"Is there any known version dependencies between Apache Wicket and Spring? Couldn&#39;t find any from the Wicket or Wicket-Spring bridge documentation .\r\n\r\nFor example can Wicket 7 be run with Spring 5, Wicket 9 with Spring 4 and so on.  ","title":"Apache Wicket with Spring version dependencies","body":"<p>Is there any known version dependencies between Apache Wicket and Spring? Couldn't find any from the Wicket or Wicket-Spring bridge documentation .</p>\n<p>For example can Wicket 7 be run with Spring 5, Wicket 9 with Spring 4 and so on.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":2387299,"reputation":10346,"user_id":2088000,"accept_rate":92,"display_name":"Vimal Bera"},"score":0,"creation_date":1452492887,"post_id":34715177,"comment_id":57176473,"body_markdown":"If you are returning only two values, why don&#39;t you use String array? I assume it will be easy.","body":"If you are returning only two values, why don&#39;t you use String array? I assume it will be easy."},{"owner":{"account_id":5268225,"reputation":682,"user_id":4207399,"accept_rate":70,"display_name":"Shamseer"},"score":0,"creation_date":1452493357,"post_id":34715177,"comment_id":57176638,"body_markdown":"@VimalBera, Thanks for your quick response. Will it return JSON without any additional changes?","body":"@VimalBera, Thanks for your quick response. Will it return JSON without any additional changes?"},{"owner":{"account_id":2387299,"reputation":10346,"user_id":2088000,"accept_rate":92,"display_name":"Vimal Bera"},"score":1,"creation_date":1452493646,"post_id":34715177,"comment_id":57176759,"body_markdown":"it should return as per http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-responsebody","body":"it should return as per <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-responsebody\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":5268225,"reputation":682,"user_id":4207399,"accept_rate":70,"display_name":"Shamseer"},"score":0,"creation_date":1452494089,"post_id":34715177,"comment_id":57176907,"body_markdown":"It returns as [&quot;2015-01-02,2015-10-04&quot;]. Not a valid JSON. I have similar queries with multiple aggregated functions more. I dont want any additional class just for aggregated queries, but domain class can be modified to add any columns if required.","body":"It returns as [&quot;2015-01-02,2015-10-04&quot;]. Not a valid JSON. I have similar queries with multiple aggregated functions more. I dont want any additional class just for aggregated queries, but domain class can be modified to add any columns if required."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":1,"creation_date":1452513003,"post_id":34715177,"comment_id":57187182,"body_markdown":"@Shamseer `[&quot;2015-01-02,2015-10-04&quot;]` is a valid JSON - it&#39;s an array with **one** String element - `2015-01-02,2015-10-04`... But I believe it was a typo only (in your comment) and it returned two strings, right? Can you share code for `Expense` class?","body":"@Shamseer <code>[&quot;2015-01-02,2015-10-04&quot;]</code> is a valid JSON - it&#39;s an array with <b>one</b> String element - <code>2015-01-02,2015-10-04</code>... But I believe it was a typo only (in your comment) and it returned two strings, right? Can you share code for <code>Expense</code> class?"},{"owner":{"account_id":5268225,"reputation":682,"user_id":4207399,"accept_rate":70,"display_name":"Shamseer"},"score":0,"creation_date":1452519284,"post_id":34715177,"comment_id":57191400,"body_markdown":"Thanks, It resolved my req... \nI have rewritten the method like this. Iterable&lt;Date&gt; getAvlRptDates(); This will return the JSON.  [[&quot;2015-01-02&quot;,&quot;2015-10-04&quot;]]. The code which consumes it, takes the value of index[0]. So that it can be iterated in a loop.","body":"Thanks, It resolved my req...  I have rewritten the method like this. Iterable&lt;Date&gt; getAvlRptDates(); This will return the JSON.  [[&quot;2015-01-02&quot;,&quot;2015-10-04&quot;]]. The code which consumes it, takes the value of index[0]. So that it can be iterated in a loop."}],"answers":[{"tags":[],"owner":{"account_id":8175549,"reputation":176,"user_id":6154409,"display_name":"Joe Mwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567679516,"creation_date":1567679516,"answer_id":57803501,"question_id":34715177,"body_markdown":"Change this: \r\n\r\n    @Repository\r\n    public interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\r\n        @Query(&quot;SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense&quot;)\r\n        Iterable&lt;Expense&gt; getAvlRptDates();\r\n    }\r\n\r\nTo the following changing Iterable to Optional which returns a list of Jsons:\r\n\r\n    @Repository\r\n    public interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\r\n        @Query(&quot;SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense&quot;)\r\n        Optional&lt;Expense&gt; getAvlRptDates();\r\n    }\r\n\r\nNow, you will get some sort of JSON but not the kind of json that meets official standards.\r\n\r\nSo my recommendation is to do:\r\n\r\n    @Repository\r\n    public interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\r\n        @Query(&quot;SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense&quot;)\r\n        Expense[] getAvlRptDates();\r\n    }\r\n\r\nWhere it return a single iterable, then convert the contents of the iterable to json one by one. See below link: \r\n\r\nhttps://stackoverflow.com/questions/15332733/how-to-convert-list-data-into-json-in-java\r\n\r\nHope it helps.","title":"Spring JPA Custom Query to return JSON","body":"<p>Change this: </p>\n\n<pre><code>@Repository\npublic interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\n    @Query(\"SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense\")\n    Iterable&lt;Expense&gt; getAvlRptDates();\n}\n</code></pre>\n\n<p>To the following changing Iterable to Optional which returns a list of Jsons:</p>\n\n<pre><code>@Repository\npublic interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\n    @Query(\"SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense\")\n    Optional&lt;Expense&gt; getAvlRptDates();\n}\n</code></pre>\n\n<p>Now, you will get some sort of JSON but not the kind of json that meets official standards.</p>\n\n<p>So my recommendation is to do:</p>\n\n<pre><code>@Repository\npublic interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\n    @Query(\"SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense\")\n    Expense[] getAvlRptDates();\n}\n</code></pre>\n\n<p>Where it return a single iterable, then convert the contents of the iterable to json one by one. See below link: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/15332733/how-to-convert-list-data-into-json-in-java\">How to convert list data into json in java</a></p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":22706066,"reputation":11,"user_id":16872775,"display_name":"Акрам Азизмуродов"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651732933,"creation_date":1651732933,"answer_id":72122936,"question_id":34715177,"body_markdown":"This will makes json, dependent on class attributes. \r\n\r\n    @GetMapping(value = &quot;/...&quot;)\r\n    @Query(&quot;SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense&quot;)\r\n    Expense[] getAvlRptDates();\r\n\r\n","title":"Spring JPA Custom Query to return JSON","body":"<p>This will makes json, dependent on class attributes.</p>\n<pre><code>@GetMapping(value = &quot;/...&quot;)\n@Query(&quot;SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense&quot;)\nExpense[] getAvlRptDates();\n</code></pre>\n"}],"owner":{"account_id":5268225,"reputation":682,"user_id":4207399,"accept_rate":70,"display_name":"Shamseer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651732933,"creation_date":1452492557,"question_id":34715177,"body_markdown":"I am using Spring hibernate with JPA Repository to return the values as JSON. It works fine for all default cases. I am having a problem with custom query in my CrudRepository to return aggregated values as JSON.\r\n\r\nCrudRepository\r\n\r\n    @Repository\r\n    public interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\r\n    \t@Query(&quot;SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense&quot;)\r\n    \tIterable&lt;Expense&gt; getAvlRptDates();\r\n    }\r\n\r\nNOTE: I have tried with and without Alias, List&lt;Date&gt; etc as well.\r\n\r\nController\r\n\r\n\r\n\t@ResponseBody\r\n\t@RequestMapping(value=&quot;/getAvlExpMonthYear&quot;,method=RequestMethod.GET)\r\n\tpublic Iterable&lt;Expense&gt; getAvlRptDates(){\r\n\t\t//String test = testRepo.findAll().toString();\r\n\t\treturn expRepo.getAvlRptDates();\r\n\t}\r\n\r\nI tried with List&lt;Date&gt; as well. I know that converting to JSON with custom code or additional dto classes.\r\n\r\nPlease let me know if there any easy way without creating additional domain class or dto classes just for two fields.","title":"Spring JPA Custom Query to return JSON","body":"<p>I am using Spring hibernate with JPA Repository to return the values as JSON. It works fine for all default cases. I am having a problem with custom query in my CrudRepository to return aggregated values as JSON.</p>\n\n<p>CrudRepository</p>\n\n<pre><code>@Repository\npublic interface ExpenseRepository extends CrudRepository&lt;Expense, Integer&gt;{\n    @Query(\"SELECT min(dtDate) as dtDate ,Max(dtDate) as dtDate FROM Expense\")\n    Iterable&lt;Expense&gt; getAvlRptDates();\n}\n</code></pre>\n\n<p>NOTE: I have tried with and without Alias, List etc as well.</p>\n\n<p>Controller</p>\n\n<pre><code>@ResponseBody\n@RequestMapping(value=\"/getAvlExpMonthYear\",method=RequestMethod.GET)\npublic Iterable&lt;Expense&gt; getAvlRptDates(){\n    //String test = testRepo.findAll().toString();\n    return expRepo.getAvlRptDates();\n}\n</code></pre>\n\n<p>I tried with List as well. I know that converting to JSON with custom code or additional dto classes.</p>\n\n<p>Please let me know if there any easy way without creating additional domain class or dto classes just for two fields.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1651729195,"post_id":72122369,"comment_id":127433017,"body_markdown":"How would you like to log remotely? Log4j2 supports a plethora of network logging protocols from the basic SocketAppender to JMS to SMTP. But you need to send data _somewhere_ - so what’s receiving the remote data?","body":"How would you like to log remotely? Log4j2 supports a plethora of network logging protocols from the basic SocketAppender to JMS to SMTP. But you need to send data <i>somewhere</i> - so what’s receiving the remote data?"},{"owner":{"account_id":1175943,"reputation":1938,"user_id":1151983,"display_name":"Tim Br&#252;ckner"},"score":0,"creation_date":1651729379,"post_id":72122369,"comment_id":127436365,"body_markdown":"SocketAppender might be what you are looking for: https://logging.apache.org/log4j/log4j-2.0/manual/appenders.html#SocketAppender","body":"SocketAppender might be what you are looking for: <a href=\"https://logging.apache.org/log4j/log4j-2.0/manual/appenders.html#SocketAppender\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/log4j-2.0/manual/&hellip;</a>"}],"owner":{"account_id":2282565,"reputation":1515,"user_id":2007325,"accept_rate":73,"display_name":"Praveen Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651732808,"creation_date":1651728887,"question_id":72122369,"body_markdown":"I have a use case where Log4J2 needs to be used to log to a file on a remote storage (windows/Linux)\r\n\r\nI looked through documentation online and haven&#39;t found anything relevant.\r\nCurrently not sure if this is even possible using Log4J2\r\n\r\nAny idea if this is supported in Log4J2?","title":"logging to a remote storage using log4j2","body":"<p>I have a use case where Log4J2 needs to be used to log to a file on a remote storage (windows/Linux)</p>\n<p>I looked through documentation online and haven't found anything relevant.\nCurrently not sure if this is even possible using Log4J2</p>\n<p>Any idea if this is supported in Log4J2?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651731999,"creation_date":1651731545,"answer_id":72122731,"question_id":72122624,"body_markdown":"\r\nDo you use the correct chromedriver.exe for your installed Chrome version?\r\n\r\nSome time ago, this was the solution when I encountered this problem.\r\n\r\nTake a look at this page:\r\n\r\nhttps://chromedriver.chromium.org/downloads\r\n\r\n&gt; If you are using Chrome version 102, please download ChromeDriver\r\n&gt; 102.0.5005.27\r\n&gt; \r\n&gt; If you are using Chrome version 101, please download ChromeDriver\r\n&gt; 101.0.4951.41\r\n&gt; \r\n&gt; If you are using Chrome version 100, please download ChromeDriver\r\n&gt; 100.0.4896.60","title":"I can&#39;t work out why &quot;this.driver is null&quot; when running an assertion","body":"<p>Do you use the correct chromedriver.exe for your installed Chrome version?</p>\n<p>Some time ago, this was the solution when I encountered this problem.</p>\n<p>Take a look at this page:</p>\n<p><a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<blockquote>\n<p>If you are using Chrome version 102, please download ChromeDriver\n102.0.5005.27</p>\n<p>If you are using Chrome version 101, please download ChromeDriver\n101.0.4951.41</p>\n<p>If you are using Chrome version 100, please download ChromeDriver\n100.0.4896.60</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651732763,"creation_date":1651732763,"answer_id":72122914,"question_id":72122624,"body_markdown":"Your `SecureAreaPage` contains a field `private WebDriver driver;` that you never initialize (in the constructor you call `super(driver);` but you never initialize the field in `SecureAreaPage`).\r\n\r\nIn the method `getBannerText()` you call `driver.findElement(loginBanner)` which accesses the field from `SecureAreaPage`.\r\n\r\nSince every subclass of `BasePage` has access to the `driver` field in `BasePage` you do not need hat field. Remove it and everything should work.\r\n\r\nThe principle behind this is that the field `driver` of the class `SecureAreaPage` &quot;shadows&quot; the field `driver` of the class `BasePage`.","title":"I can&#39;t work out why &quot;this.driver is null&quot; when running an assertion","body":"<p>Your <code>SecureAreaPage</code> contains a field <code>private WebDriver driver;</code> that you never initialize (in the constructor you call <code>super(driver);</code> but you never initialize the field in <code>SecureAreaPage</code>).</p>\n<p>In the method <code>getBannerText()</code> you call <code>driver.findElement(loginBanner)</code> which accesses the field from <code>SecureAreaPage</code>.</p>\n<p>Since every subclass of <code>BasePage</code> has access to the <code>driver</code> field in <code>BasePage</code> you do not need hat field. Remove it and everything should work.</p>\n<p>The principle behind this is that the field <code>driver</code> of the class <code>SecureAreaPage</code> &quot;shadows&quot; the field <code>driver</code> of the class <code>BasePage</code>.</p>\n"}],"owner":{"account_id":25200993,"reputation":85,"user_id":19039859,"display_name":"Keiggo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72122914,"answer_count":2,"score":0,"last_activity_date":1651732763,"creation_date":1651730725,"question_id":72122624,"body_markdown":"First time poster so apologies if I&#39;m breaking some guidelines.\r\n\r\nI&#39;m teaching myself Java/Selenium/Chromedriver and I&#39;ve hit the first problem that I haven&#39;t been able to work out myself. I&#39;ll do my best to represent it below but please ask for more info if I haven&#39;t included what I needed to! Here is the test:\r\n\r\n        @Test\r\n    public void loginAsTomSmith(){\r\n        LoginPage loginPage = homePage.clickFormAuthentication();\r\n        loginPage.enterUsername(&quot;tomsmith&quot;);\r\n        loginPage.enterPassword(&quot;SuperSecretPassword!&quot;);\r\n        SecureAreaPage secureAreaPage = loginPage.clickLogin();\r\n        secureAreaPage.getBannerText();\r\n\r\n        assertTrue(secureAreaPage.getBannerText()\r\n                        .contains(&quot;You logged into a secure area!&quot;),&quot;Incorrect message displayed&quot;);\r\n    }\r\n\r\nAs you can see, I pass the driver from the homepage right over to the login page in my first step (I *think*). I then eventually pass it over to the secureareapage and it&#39;s *there* that I get the following error when I run the assertion:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\r\n\r\nIt&#39;s notable that I&#39;ve been following an online course but I&#39;m going rogue for this specific project and doing a few things that I wasn&#39;t taught. For example, in the course every page object is a distinct class whereas I&#39;ve decided to have all pages be an extension of a base page class so they can share basic methods more easily. I&#39;m starting to worry that there have been consequences of that decision that I didn&#39;t understand.\r\n\r\nAnyway, since the project is so small it probably makes sense to post it in full. Thanks in advance for your help. Huge fan of your work!\r\n\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class BasePage{\r\n    protected WebDriver driver;\r\n\r\n    protected BasePage(WebDriver driver){\r\n        this.driver = driver;\r\n    }\r\n\r\n    protected void clickLink(By linkTextBy){\r\n        driver.findElement(linkTextBy).click();\r\n    }\r\n\r\n    protected void populateTextField(By textFieldBy, String inputText){\r\n        driver.findElement(textFieldBy).sendKeys(inputText);\r\n\r\n    }\r\n\r\n    protected void clickButton(By buttonBy){\r\n        driver.findElement(buttonBy).click();\r\n\r\n    }\r\n}\r\n\r\n```\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class HomePage extends BasePage{\r\n//    private WebDriver driver;\r\n    private By formAuthenticationLink = By.linkText(&quot;Form Authentication&quot;);\r\n\r\n    public HomePage(WebDriver driver){\r\n        super(driver);\r\n    }\r\n\r\n    public LoginPage clickFormAuthentication(){\r\n        clickLink(formAuthenticationLink);\r\n        return new LoginPage(driver);\r\n    }\r\n\r\n}\r\n```\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class LoginPage extends BasePage{\r\n    private By usernameTextField= By.id(&quot;username&quot;);\r\n    private By passwordTextField = By.id(&quot;password&quot;);\r\n    private By loginButton = By.className(&quot;radius&quot;);\r\n\r\n\r\n    public LoginPage(WebDriver driver){\r\n        super(driver);\r\n    }\r\n\r\n    public void enterUsername(String username){\r\n        populateTextField(usernameTextField, username);\r\n    }\r\n\r\n    public void enterPassword(String password){\r\n        populateTextField(passwordTextField, password);\r\n    }\r\n\r\n    public SecureAreaPage clickLogin(){\r\n        clickButton(loginButton);\r\n        return new SecureAreaPage(driver);\r\n    }\r\n}\r\n```\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class SecureAreaPage extends BasePage {\r\n    private WebDriver driver;\r\n    private By loginBanner = By.id(&quot;flash&quot;);\r\n\r\n    public SecureAreaPage(WebDriver driver){\r\n        super(driver);\r\n    }\r\n\r\n    public String getBannerText(){\r\n        return driver.findElement(loginBanner).getText();\r\n    }\r\n\r\n}\r\n```\r\n```\r\npackage base;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.BeforeClass;\r\nimport pages.HomePage;\r\n\r\npublic class BaseTests {\r\n    private WebDriver driver;\r\n\r\n        protected HomePage homePage;\r\n\r\n        @BeforeClass\r\n        public void setUp(){\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;resources/chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n            driver.get(&quot;https://the-internet.herokuapp.com/&quot;);\r\n\r\n            homePage = new HomePage(driver);\r\n        }\r\n\r\n        @AfterClass\r\n        public void tearDown(){\r\n            driver.quit();\r\n        }\r\n}\r\n```\r\n```\r\npackage base;\r\n\r\nimport static org.testng.Assert.*;\r\n\r\nimport org.testng.annotations.Test;\r\nimport pages.LoginPage;\r\nimport pages.SecureAreaPage;\r\n\r\npublic class LoginTests extends BaseTests {\r\n\r\n    @Test\r\n    public void loginAsTomSmith(){\r\n        LoginPage loginPage = homePage.clickFormAuthentication();\r\n        loginPage.enterUsername(&quot;tomsmith&quot;);\r\n        loginPage.enterPassword(&quot;SuperSecretPassword!&quot;);\r\n        SecureAreaPage secureAreaPage = loginPage.clickLogin();\r\n        secureAreaPage.getBannerText();\r\n\r\n        assertTrue(secureAreaPage.getBannerText()\r\n                        .contains(&quot;You logged into a secure area!&quot;),&quot;Incorrect message displayed&quot;);\r\n    }\r\n}\r\n```","title":"I can&#39;t work out why &quot;this.driver is null&quot; when running an assertion","body":"<p>First time poster so apologies if I'm breaking some guidelines.</p>\n<p>I'm teaching myself Java/Selenium/Chromedriver and I've hit the first problem that I haven't been able to work out myself. I'll do my best to represent it below but please ask for more info if I haven't included what I needed to! Here is the test:</p>\n<pre><code>    @Test\npublic void loginAsTomSmith(){\n    LoginPage loginPage = homePage.clickFormAuthentication();\n    loginPage.enterUsername(&quot;tomsmith&quot;);\n    loginPage.enterPassword(&quot;SuperSecretPassword!&quot;);\n    SecureAreaPage secureAreaPage = loginPage.clickLogin();\n    secureAreaPage.getBannerText();\n\n    assertTrue(secureAreaPage.getBannerText()\n                    .contains(&quot;You logged into a secure area!&quot;),&quot;Incorrect message displayed&quot;);\n}\n</code></pre>\n<p>As you can see, I pass the driver from the homepage right over to the login page in my first step (I <em>think</em>). I then eventually pass it over to the secureareapage and it's <em>there</em> that I get the following error when I run the assertion:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\n</code></pre>\n<p>It's notable that I've been following an online course but I'm going rogue for this specific project and doing a few things that I wasn't taught. For example, in the course every page object is a distinct class whereas I've decided to have all pages be an extension of a base page class so they can share basic methods more easily. I'm starting to worry that there have been consequences of that decision that I didn't understand.</p>\n<p>Anyway, since the project is so small it probably makes sense to post it in full. Thanks in advance for your help. Huge fan of your work!</p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\npublic class BasePage{\n    protected WebDriver driver;\n\n    protected BasePage(WebDriver driver){\n        this.driver = driver;\n    }\n\n    protected void clickLink(By linkTextBy){\n        driver.findElement(linkTextBy).click();\n    }\n\n    protected void populateTextField(By textFieldBy, String inputText){\n        driver.findElement(textFieldBy).sendKeys(inputText);\n\n    }\n\n    protected void clickButton(By buttonBy){\n        driver.findElement(buttonBy).click();\n\n    }\n}\n\n</code></pre>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\npublic class HomePage extends BasePage{\n//    private WebDriver driver;\n    private By formAuthenticationLink = By.linkText(&quot;Form Authentication&quot;);\n\n    public HomePage(WebDriver driver){\n        super(driver);\n    }\n\n    public LoginPage clickFormAuthentication(){\n        clickLink(formAuthenticationLink);\n        return new LoginPage(driver);\n    }\n\n}\n</code></pre>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\npublic class LoginPage extends BasePage{\n    private By usernameTextField= By.id(&quot;username&quot;);\n    private By passwordTextField = By.id(&quot;password&quot;);\n    private By loginButton = By.className(&quot;radius&quot;);\n\n\n    public LoginPage(WebDriver driver){\n        super(driver);\n    }\n\n    public void enterUsername(String username){\n        populateTextField(usernameTextField, username);\n    }\n\n    public void enterPassword(String password){\n        populateTextField(passwordTextField, password);\n    }\n\n    public SecureAreaPage clickLogin(){\n        clickButton(loginButton);\n        return new SecureAreaPage(driver);\n    }\n}\n</code></pre>\n<pre><code>package pages;\n\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.WebDriver;\n\npublic class SecureAreaPage extends BasePage {\n    private WebDriver driver;\n    private By loginBanner = By.id(&quot;flash&quot;);\n\n    public SecureAreaPage(WebDriver driver){\n        super(driver);\n    }\n\n    public String getBannerText(){\n        return driver.findElement(loginBanner).getText();\n    }\n\n}\n</code></pre>\n<pre><code>package base;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport pages.HomePage;\n\npublic class BaseTests {\n    private WebDriver driver;\n\n        protected HomePage homePage;\n\n        @BeforeClass\n        public void setUp(){\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;resources/chromedriver.exe&quot;);\n            driver = new ChromeDriver();\n            driver.get(&quot;https://the-internet.herokuapp.com/&quot;);\n\n            homePage = new HomePage(driver);\n        }\n\n        @AfterClass\n        public void tearDown(){\n            driver.quit();\n        }\n}\n</code></pre>\n<pre><code>package base;\n\nimport static org.testng.Assert.*;\n\nimport org.testng.annotations.Test;\nimport pages.LoginPage;\nimport pages.SecureAreaPage;\n\npublic class LoginTests extends BaseTests {\n\n    @Test\n    public void loginAsTomSmith(){\n        LoginPage loginPage = homePage.clickFormAuthentication();\n        loginPage.enterUsername(&quot;tomsmith&quot;);\n        loginPage.enterPassword(&quot;SuperSecretPassword!&quot;);\n        SecureAreaPage secureAreaPage = loginPage.clickLogin();\n        secureAreaPage.getBannerText();\n\n        assertTrue(secureAreaPage.getBannerText()\n                        .contains(&quot;You logged into a secure area!&quot;),&quot;Incorrect message displayed&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","email"],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445416666,"creation_date":1445364323,"answer_id":33243711,"question_id":33243450,"body_markdown":"It looks like the problem in how you do the session part...\r\n\r\ntry doing this: \r\n\r\n    private Properties emailPorperties;\r\n...\r\n...\r\n\r\n        emailPorperties = new Properties();\r\n        emailPorperties.put(&quot;mail.smtp.host&quot;, &quot;your host&quot;);\r\n        emailPorperties.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;your port&quot;);\r\n        emailPorperties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        emailPorperties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        emailPorperties.put(&quot;mail.smtp.port&quot;, &quot;your port&quot;);\r\n        emailPorperties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n        emailSession = Session.getInstance(emailPorperties, new Authenticator() {\r\n    \r\n                @Override\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    System.out.println(&quot;Authenticating&quot;);\r\n                    return new PasswordAuthentication(USER_NAME, PASSWORD);\r\n                }\r\n    \r\n            });","title":"javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>It looks like the problem in how you do the session part...</p>\n\n<p>try doing this: </p>\n\n<pre><code>private Properties emailPorperties;\n</code></pre>\n\n<p>...\n...</p>\n\n<pre><code>    emailPorperties = new Properties();\n    emailPorperties.put(\"mail.smtp.host\", \"your host\");\n    emailPorperties.put(\"mail.smtp.socketFactory.port\", \"your port\");\n    emailPorperties.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n    emailPorperties.put(\"mail.smtp.auth\", \"true\");\n    emailPorperties.put(\"mail.smtp.port\", \"your port\");\n    emailPorperties.put(\"mail.smtp.ssl.enable\", \"true\");\n    emailSession = Session.getInstance(emailPorperties, new Authenticator() {\n\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                System.out.println(\"Authenticating\");\n                return new PasswordAuthentication(USER_NAME, PASSWORD);\n            }\n\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2605303,"reputation":744,"user_id":2256575,"display_name":"Mannekenpix"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1463734135,"creation_date":1463734135,"answer_id":37342134,"question_id":33243450,"body_markdown":"Had the same issue. It&#39;s an MS Exchange error that you receive. You are probably not allowed to use your email to send an email via a relay. The administrator of the Exchange server needs to give the rights to do that. \r\n\r\nIt has nothing to do with a configuration problem on the Java side.","title":"javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>Had the same issue. It's an MS Exchange error that you receive. You are probably not allowed to use your email to send an email via a relay. The administrator of the Exchange server needs to give the rights to do that. </p>\n\n<p>It has nothing to do with a configuration problem on the Java side.</p>\n"},{"tags":[],"owner":{"account_id":10421299,"reputation":11,"user_id":7683889,"accept_rate":40,"display_name":"idiagne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535061163,"creation_date":1524221100,"answer_id":49939881,"question_id":33243450,"body_markdown":"Hello i&#39;ve got the same issue in the past.\r\nSo to solve it i have to connect on the webmail of my outlook or exchage and i noticed that these connexions were stopped by the server so inside i confirm that these transactions was mine.\r\nSo u have also to do it usually every 2 month in my case.\r\n\r\nThe problem is not in the code. The problem occurs because something is wrong with the configuration of the mailboxes I believe.","title":"javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>Hello i've got the same issue in the past.\nSo to solve it i have to connect on the webmail of my outlook or exchage and i noticed that these connexions were stopped by the server so inside i confirm that these transactions was mine.\nSo u have also to do it usually every 2 month in my case.</p>\n\n<p>The problem is not in the code. The problem occurs because something is wrong with the configuration of the mailboxes I believe.</p>\n"},{"tags":[],"owner":{"account_id":18056572,"reputation":1,"user_id":13124886,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585168665,"creation_date":1585168665,"answer_id":60857018,"question_id":33243450,"body_markdown":"Same issue resolve by enabling IMAP of the sender email account in Exchange Control Panel (ECP) of outlook mail admin.","title":"javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>Same issue resolve by enabling IMAP of the sender email account in Exchange Control Panel (ECP) of outlook mail admin.</p>\n"},{"tags":[],"owner":{"account_id":3511610,"reputation":3120,"user_id":2935802,"display_name":"Sudhakar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1606400898,"creation_date":1606400898,"answer_id":65023962,"question_id":33243450,"body_markdown":"Go to your Microsoft admin account and **turn off the multi-factor authentication**. \r\n\r\nBy default it is enabled. Once you disable the multi-factor authentication then it works fine for me.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0KXro.png","title":"javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>Go to your Microsoft admin account and <strong>turn off the multi-factor authentication</strong>.</p>\n<p>By default it is enabled. Once you disable the multi-factor authentication then it works fine for me.\n<a href=\"https://i.stack.imgur.com/0KXro.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KXro.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14878647,"reputation":1,"user_id":10743997,"display_name":"Sai Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651732431,"creation_date":1651732431,"answer_id":72122855,"question_id":33243450,"body_markdown":"I had a similar issue and in my case, the issue was &#39;outlook password got expired&#39;.\r\nAs I had it logged in default I did not have any issue while logging in to my mail.\r\n\r\nI tried logging in to incognito mode and see if my logging asked for an additional layer for logging like multi-factor auth, And when logged in from the incognito tab it asked to change the password with a popup stating &#39;password got expired&#39;.\r\n\r\nI then updated the new password and it started to work fine !!","title":"javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>I had a similar issue and in my case, the issue was 'outlook password got expired'.\nAs I had it logged in default I did not have any issue while logging in to my mail.</p>\n<p>I tried logging in to incognito mode and see if my logging asked for an additional layer for logging like multi-factor auth, And when logged in from the incognito tab it asked to change the password with a popup stating 'password got expired'.</p>\n<p>I then updated the new password and it started to work fine !!</p>\n"}],"owner":{"account_id":6764816,"reputation":317,"user_id":5210128,"accept_rate":12,"display_name":"Mukesh Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85268,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1651732431,"creation_date":1445363434,"question_id":33243450,"body_markdown":"I am sending e email using an SMTP error . I am getting Authentication unsuccessful. The username and password are correct. Am I doing something wrong.\r\n\r\nThe error logs are\r\n\r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    public class EmailSender{\r\n    \r\n        public static void main(String args[]) {\r\n            String to = &quot;ssss@xxx.om&quot;;            // sender email\r\n            String from = &quot;dddd@xxx.com&quot;;       // receiver email\r\n            String host = &quot;dkdkdd.xxx.com&quot;;                   // mail server host\r\n    \r\n            String login=&quot;dkkdkd&quot;;\r\n            String pass=&quot;dkkdkd&quot;;\r\n           Properties properties = System.getProperties();\r\n            properties.setProperty(&quot;mail.smtp.host&quot;, host);\r\n            properties.setProperty(&quot;mail.smtp.user&quot;, login);\r\n            properties.setProperty(&quot;mail.smtp.password&quot;, pass);\r\n            properties.setProperty(&quot;mail.smtps.ssl.enable&quot;, &quot;true&quot;);\r\n           // properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;); \r\n    \r\n            Session session = Session.getDefaultInstance(properties); // default session\r\n    \r\n            try {\r\n                MimeMessage message = new MimeMessage(session);        // email message\r\n                message.setFrom(new InternetAddress(from));                    // setting header fields\r\n                message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n                message.setSubject(&quot;Test Mail from Java Program&quot;); // subject line\r\n    \r\n                // actual mail body\r\n                message.setText(&quot;You can send mail from Java program by using&quot;);\r\n    \r\n                // Send message\r\n                Transport transport = session.getTransport(&quot;smtp&quot;);\r\n                transport.connect(host, login, pass);\r\n                Transport.send(message);\r\n                System.out.println(&quot;Email Sent successfully....&quot;);\r\n            } catch (MessagingException mex) {\r\n                mex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n \r\n\r\nThe error is\r\n\r\nDEBUG SMTP: AUTH NTLM failed\r\nException in thread &quot;main&quot; javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:826)\r\n\tat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:761)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:685)\r\n\tat javax.mail.Service.connect(Service.java:317)\r\n\tat javax.mail.Service.connect(Service.java:176)\r\n\tat javax.mail.Service.connect(Service.java:125)\r\n\tat javax.mail.Transport.send0(Transport.java:194)\r\n\tat javax.mail.Transport.send(Transport.java:124)","title":"javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>I am sending e email using an SMTP error . I am getting Authentication unsuccessful. The username and password are correct. Am I doing something wrong.</p>\n\n<p>The error logs are</p>\n\n<pre><code>import java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\npublic class EmailSender{\n\n    public static void main(String args[]) {\n        String to = \"ssss@xxx.om\";            // sender email\n        String from = \"dddd@xxx.com\";       // receiver email\n        String host = \"dkdkdd.xxx.com\";                   // mail server host\n\n        String login=\"dkkdkd\";\n        String pass=\"dkkdkd\";\n       Properties properties = System.getProperties();\n        properties.setProperty(\"mail.smtp.host\", host);\n        properties.setProperty(\"mail.smtp.user\", login);\n        properties.setProperty(\"mail.smtp.password\", pass);\n        properties.setProperty(\"mail.smtps.ssl.enable\", \"true\");\n       // properties.setProperty(\"mail.smtp.auth\", \"true\"); \n\n        Session session = Session.getDefaultInstance(properties); // default session\n\n        try {\n            MimeMessage message = new MimeMessage(session);        // email message\n            message.setFrom(new InternetAddress(from));                    // setting header fields\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(\"Test Mail from Java Program\"); // subject line\n\n            // actual mail body\n            message.setText(\"You can send mail from Java program by using\");\n\n            // Send message\n            Transport transport = session.getTransport(\"smtp\");\n            transport.connect(host, login, pass);\n            Transport.send(message);\n            System.out.println(\"Email Sent successfully....\");\n        } catch (MessagingException mex) {\n            mex.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>The error is</p>\n\n<p>DEBUG SMTP: AUTH NTLM failed\nException in thread \"main\" javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful</p>\n\n<pre><code>at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:826)\nat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:761)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:685)\nat javax.mail.Service.connect(Service.java:317)\nat javax.mail.Service.connect(Service.java:176)\nat javax.mail.Service.connect(Service.java:125)\nat javax.mail.Transport.send0(Transport.java:194)\nat javax.mail.Transport.send(Transport.java:124)\n</code></pre>\n"},{"tags":["java","spring-boot","soap","apache-camel","cxf"],"answers":[{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651732318,"creation_date":1651732318,"answer_id":72122834,"question_id":72110815,"body_markdown":"You are using an interceptor used by apache cxf, I don&#39;t think there is such a use in camel. can you check out https://camel.apache.org/components/3.16.x/eips/intercept.html","title":"How to create an interceptor for Apache Camel Route in Spring boot application","body":"<p>You are using an interceptor used by apache cxf, I don't think there is such a use in camel. can you check out <a href=\"https://camel.apache.org/components/3.16.x/eips/intercept.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.16.x/eips/intercept.html</a></p>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651732318,"creation_date":1651657022,"question_id":72110815,"body_markdown":"I have a simple route defined and for this route I want to define an outgoing interceptor so that on any request done, I would invoke an enricher that sets specific header.\r\n\r\n````\r\nfrom(&quot;direct:remoteService&quot;)\r\n  .routeId(&quot;direct-route&quot;)\r\n  .tracing()\r\n  .log(&quot;&gt;&gt;&gt; ${body.id}&quot;)\r\n  .log(&quot;&gt;&gt;&gt; ${body.name}&quot;)\r\n  .process(new Processor() {\r\n      @Override\r\n      public void process(Exchange exchange) throws Exception {\r\n          MyBean bodyIn = (MyBean) exchange.getIn().getBody();\r\n          ExampleServices.example(bodyIn);\r\n          exchange.getIn().setBody(bodyIn);\r\n      }\r\n  })\r\n  .setHeader(Exchange.HTTP_RESPONSE_CODE, constant(200));\r\n````\r\n\r\nI&#39;ve tried to define an implementation of AbstractPhaseInterceptor&lt;Message&gt; but it is not invoked. What am I doing wrong? \r\n\r\n````\r\n@OutInterceptors\r\npublic class HeaderEnricherInterceptor extends AbstractPhaseInterceptor&lt;Message&gt; {\r\n\r\n\r\n    public HeaderEnricherInterceptor() {\r\n        super(Phase.POST_PROTOCOL);\r\n    }\r\n\r\n    @Override\r\n    public void handleMessage(Message message) {\r\n        log.debug(&quot;Message interceptor start enrichment...&quot;);\r\n    }\r\n}\r\n````","title":"How to create an interceptor for Apache Camel Route in Spring boot application","body":"<p>I have a simple route defined and for this route I want to define an outgoing interceptor so that on any request done, I would invoke an enricher that sets specific header.</p>\n<pre><code>from(&quot;direct:remoteService&quot;)\n  .routeId(&quot;direct-route&quot;)\n  .tracing()\n  .log(&quot;&gt;&gt;&gt; ${body.id}&quot;)\n  .log(&quot;&gt;&gt;&gt; ${body.name}&quot;)\n  .process(new Processor() {\n      @Override\n      public void process(Exchange exchange) throws Exception {\n          MyBean bodyIn = (MyBean) exchange.getIn().getBody();\n          ExampleServices.example(bodyIn);\n          exchange.getIn().setBody(bodyIn);\n      }\n  })\n  .setHeader(Exchange.HTTP_RESPONSE_CODE, constant(200));\n</code></pre>\n<p>I've tried to define an implementation of AbstractPhaseInterceptor but it is not invoked. What am I doing wrong?</p>\n<pre><code>@OutInterceptors\npublic class HeaderEnricherInterceptor extends AbstractPhaseInterceptor&lt;Message&gt; {\n\n\n    public HeaderEnricherInterceptor() {\n        super(Phase.POST_PROTOCOL);\n    }\n\n    @Override\n    public void handleMessage(Message message) {\n        log.debug(&quot;Message interceptor start enrichment...&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","facebook","android-intent"],"answers":[{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651732203,"creation_date":1651732203,"answer_id":72122818,"question_id":72122646,"body_markdown":"### Open facebook url\r\n\r\n\r\n        private void openFacebookApp() {\r\n        String facebookUrl = &quot;www.facebook.com/XXXXXXXXXX&quot;;\r\n        String facebookID = &quot;XXXXXXXXX&quot;;\r\n\r\n        try {\r\n            int versionCode = getActivity().getApplicationContext().getPackageManager().getPackageInfo(&quot;com.facebook.katana&quot;, 0).versionCode;\r\n\r\n            if(!facebookID.isEmpty()) {\r\n                // open the Facebook app using facebookID \r\n    (fb://profile/facebookID or fb://page/facebookID)\r\n                Uri uri = Uri.parse(&quot;fb://page/&quot; + facebookID);\r\n                startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n            } else if (versionCode &gt;= 3002850 &amp;&amp; !facebookUrl.isEmpty()) {\r\n                // open Facebook app using facebook url\r\n                Uri uri = Uri.parse(&quot;fb://facewebmodal/f?href=&quot; + facebookUrl);\r\n                startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n            } else {\r\n                // Facebook is not installed. Open the browser\r\n                Uri uri = Uri.parse(facebookUrl);\r\n                startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n            }\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            // Facebook is not installed. Open the browser\r\n            Uri uri = Uri.parse(facebookUrl);\r\n            startActivity(new Intent(Intent.ACTION_VIEW, uri));\r\n        }\r\n    }\r\n\r\n\r\n### Add query in manifest\r\n\r\n\r\n        &lt;queries&gt;\r\n        &lt;package android:name=&quot;com.google.android.gm&quot; /&gt;\r\n        &lt;package android:name=&quot;com.facebook.katana&quot; /&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;data android:scheme=&quot;https&quot; /&gt;\r\n        &lt;/intent&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\r\n            &lt;data android:scheme=&quot;tel&quot; /&gt;\r\n        &lt;/intent&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n            &lt;data android:mimeType=&quot;*/*&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\n\r\n","title":"Is there any new way to open fb url directly in fb not browser?","body":"<h3>Open facebook url</h3>\n<pre><code>    private void openFacebookApp() {\n    String facebookUrl = &quot;www.facebook.com/XXXXXXXXXX&quot;;\n    String facebookID = &quot;XXXXXXXXX&quot;;\n\n    try {\n        int versionCode = getActivity().getApplicationContext().getPackageManager().getPackageInfo(&quot;com.facebook.katana&quot;, 0).versionCode;\n\n        if(!facebookID.isEmpty()) {\n            // open the Facebook app using facebookID \n(fb://profile/facebookID or fb://page/facebookID)\n            Uri uri = Uri.parse(&quot;fb://page/&quot; + facebookID);\n            startActivity(new Intent(Intent.ACTION_VIEW, uri));\n        } else if (versionCode &gt;= 3002850 &amp;&amp; !facebookUrl.isEmpty()) {\n            // open Facebook app using facebook url\n            Uri uri = Uri.parse(&quot;fb://facewebmodal/f?href=&quot; + facebookUrl);\n            startActivity(new Intent(Intent.ACTION_VIEW, uri));\n        } else {\n            // Facebook is not installed. Open the browser\n            Uri uri = Uri.parse(facebookUrl);\n            startActivity(new Intent(Intent.ACTION_VIEW, uri));\n        }\n    } catch (PackageManager.NameNotFoundException e) {\n        // Facebook is not installed. Open the browser\n        Uri uri = Uri.parse(facebookUrl);\n        startActivity(new Intent(Intent.ACTION_VIEW, uri));\n    }\n}\n</code></pre>\n<h3>Add query in manifest</h3>\n<pre><code>    &lt;queries&gt;\n    &lt;package android:name=&quot;com.google.android.gm&quot; /&gt;\n    &lt;package android:name=&quot;com.facebook.katana&quot; /&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;data android:scheme=&quot;https&quot; /&gt;\n    &lt;/intent&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n        &lt;data android:scheme=&quot;tel&quot; /&gt;\n    &lt;/intent&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n        &lt;data android:mimeType=&quot;*/*&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n"}],"owner":{"account_id":23538847,"reputation":33,"user_id":17583382,"display_name":"Youssef Reda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72122818,"answer_count":1,"score":1,"last_activity_date":1651732203,"creation_date":1651730889,"question_id":72122646,"body_markdown":"```\r\n public static Intent getOpenFacebookIntent(Context context,String url) {\r\n\r\n        try {\r\n            context.getPackageManager().getPackageInfo(&quot;com.facebook.katana&quot;, 0);\r\n            return new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n        } catch (Exception e) {\r\n            return new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n        }\r\n    }\r\n```\r\nI used this code and it was working but now it does not.\r\nI need any intent to open a url in Facebook directly.\r\nThis post helped me, https://stackoverflow.com/questions/4810803/open-facebook-page-from-android-app","title":"Is there any new way to open fb url directly in fb not browser?","body":"<pre><code> public static Intent getOpenFacebookIntent(Context context,String url) {\n\n        try {\n            context.getPackageManager().getPackageInfo(&quot;com.facebook.katana&quot;, 0);\n            return new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n        } catch (Exception e) {\n            return new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n        }\n    }\n</code></pre>\n<p>I used this code and it was working but now it does not.\nI need any intent to open a url in Facebook directly.\nThis post helped me, <a href=\"https://stackoverflow.com/questions/4810803/open-facebook-page-from-android-app\">Open Facebook page from Android app?</a></p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1651726080,"post_id":72121978,"comment_id":127432490,"body_markdown":"In that case you can catch the exception and proceed further. Or write your own custom rest Template","body":"In that case you can catch the exception and proceed further. Or write your own custom rest Template"}],"answers":[{"tags":[],"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651732090,"creation_date":1651732090,"answer_id":72122806,"question_id":72121978,"body_markdown":"There are multiple other way, you can handle exception, You can try below \r\n\r\n```\r\ntry {\r\n    restTemplate.exchange(...);\r\n} catch (HttpStatusCodeException exception) {\r\n    int statusCode = exception.getStatusCode().value();\r\n    ...\r\n}\r\n```\r\n\r\nExplanation:\r\nwhenever exception occurs, it will be caught and we can get `statusCode` from `HttpStatusCodeException`\r\n\r\n[click][1] here to check multiple other way\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38093388/spring-resttemplate-exception-handling","title":"How do I get error response codes instead of exception in spring boot?","body":"<p>There are multiple other way, you can handle exception, You can try below</p>\n<pre><code>try {\n    restTemplate.exchange(...);\n} catch (HttpStatusCodeException exception) {\n    int statusCode = exception.getStatusCode().value();\n    ...\n}\n</code></pre>\n<p>Explanation:\nwhenever exception occurs, it will be caught and we can get <code>statusCode</code> from <code>HttpStatusCodeException</code></p>\n<p><a href=\"https://stackoverflow.com/questions/38093388/spring-resttemplate-exception-handling\">click</a> here to check multiple other way</p>\n"}],"owner":{"account_id":25200529,"reputation":1,"user_id":19039445,"display_name":"Bharat Kumar Shukla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651732090,"creation_date":1651725527,"question_id":72121978,"body_markdown":"I have 2 microservices lets call them A and B. Every request and response from B needs to go through A which is then shown on the front end. Everything works fine for 2xx response codes but when I get any error response code such as 5xx itself, the calling of API B throws an exception and I am unable to retrieve the response code. \r\n\r\nHow do I get the error response code instead of exceptions?\r\n\r\n\r\n`ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, request, String.class);`\r\n\r\nThis is what I am using to make the call to API B from A.","title":"How do I get error response codes instead of exception in spring boot?","body":"<p>I have 2 microservices lets call them A and B. Every request and response from B needs to go through A which is then shown on the front end. Everything works fine for 2xx response codes but when I get any error response code such as 5xx itself, the calling of API B throws an exception and I am unable to retrieve the response code.</p>\n<p>How do I get the error response code instead of exceptions?</p>\n<p><code>ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, request, String.class);</code></p>\n<p>This is what I am using to make the call to API B from A.</p>\n"},{"tags":["java","spring-boot","modelmapper"],"comments":[{"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"score":0,"creation_date":1651148564,"post_id":72043387,"comment_id":127297611,"body_markdown":"It seems like your DTO is a duplication of Entity. Duplication is always  evil. Would you really like to apply this pattern? or just remain one of them?","body":"It seems like your DTO is a duplication of Entity. Duplication is always  evil. Would you really like to apply this pattern? or just remain one of them?"},{"owner":{"account_id":14677860,"reputation":11,"user_id":18974736,"display_name":"Shubham Bhosale."},"score":0,"creation_date":1651212860,"post_id":72043387,"comment_id":127314762,"body_markdown":"Right now in my case both Entity&#39;s and DTO&#39;s are the same but eventually DTO&#39;s will have some extra fields than entities. So currently I am focusing on object conversion part with model mapper.","body":"Right now in my case both Entity&#39;s and DTO&#39;s are the same but eventually DTO&#39;s will have some extra fields than entities. So currently I am focusing on object conversion part with model mapper."},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1651234142,"post_id":72043387,"comment_id":127321474,"body_markdown":"How does it behave when you use the standard MatchingStrategy?","body":"How does it behave when you use the standard MatchingStrategy?"},{"owner":{"account_id":14677860,"reputation":11,"user_id":18974736,"display_name":"Shubham Bhosale."},"score":0,"creation_date":1651234699,"post_id":72043387,"comment_id":127321695,"body_markdown":"@Smile , Getting null for referenced fields (for address &amp; product) in userDTO with standard MatchingStrategy.","body":"@Smile , Getting null for referenced fields (for address &amp; product) in userDTO with standard MatchingStrategy."}],"answers":[{"tags":[],"owner":{"account_id":14677860,"reputation":11,"user_id":18974736,"display_name":"Shubham Bhosale."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651731149,"creation_date":1651731149,"answer_id":72122681,"question_id":72043387,"body_markdown":"Here I found solution for nested DTO to Entity and vice versa conversions, I was missing some ModelMapper configurations that I have added below.\r\n\r\n    mapper.getConfiguration()\r\n\t\t  .setFieldMatchingEnabled(true)\r\n\t\t  .setFieldAccessLevel(AccessLevel.PRIVATE)\r\n\t\t  .setMatchingStrategy(MatchingStrategies.STANDARD);\r\n\r\n","title":"How to convert nested objects into nested DTOs using ModelMapper?","body":"<p>Here I found solution for nested DTO to Entity and vice versa conversions, I was missing some ModelMapper configurations that I have added below.</p>\n<pre><code>mapper.getConfiguration()\n      .setFieldMatchingEnabled(true)\n      .setFieldAccessLevel(AccessLevel.PRIVATE)\n      .setMatchingStrategy(MatchingStrategies.STANDARD);\n</code></pre>\n"}],"owner":{"account_id":14677860,"reputation":11,"user_id":18974736,"display_name":"Shubham Bhosale."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651731149,"creation_date":1651147551,"question_id":72043387,"body_markdown":"I am facing issue when I am trying to use ModelMapper to convert nested java objects into nested DTO&#39;s. Getting null for child dto&#39;s in parent dto object. Following are the code snippets.\r\n\r\n**Entity Classes :**\r\n\r\n    public class User {\r\n    \tprivate String name;\r\n    \tprivate Address address;\r\n    \tprivate Product product;\r\n    }\r\n\r\n    public class Address { \r\n    \tprivate String area;\r\n    \tprivate String city;\r\n    }\r\n\r\n    public class Product {\r\n\t    private Integer productId;\r\n\t    private String productName;\r\n\t    private Double productPrice;\r\n     } \r\n\r\n**DTO&#39;s Classes :**\r\n\r\n    public class UserDTO {\r\n\t   private String name;\r\n\t   private AddressDTO address;\r\n\t   private ProductDTO product;\r\n\t}\r\n\t\r\n\tpublic class AddressDTO {\r\n\t   private String area;\r\n\t   private String city;\r\n\t}\r\n\t\r\n\tpublic class ProductDTO {\r\n\t   private Integer productId;\r\n\t   private String productName;\r\n\t   private Double productPrice;\r\n\t}\r\n\r\n**here is the mapper code :** \r\n\r\n    ModelMapper mapper = new ModelMapper();\r\n\tmapper.getConfiguration().setMatchingStrategy(MatchingStrategies.LOOSE);\r\n\tUserDTO userDTO = mapper.map(user, UserDTO.class);\r\n    System.out.println(&quot;Output User DTO : &quot; + userDTO );\r\n\r\n**Output :** \r\n\r\n**Output User DTO : UserDTO [name=xyz, address=null, product=null]**\r\n\r\nHere I want to convert User entity into UserDTO dto. \r\nI am getting null values for address and product DTO&#39;s. What exactly I am missing here ? Does anyone have any idea ?\r\n\r\n*Note : I have added getters, Setters and toString() methods in entity and DTO&#39;s.*","title":"How to convert nested objects into nested DTOs using ModelMapper?","body":"<p>I am facing issue when I am trying to use ModelMapper to convert nested java objects into nested DTO's. Getting null for child dto's in parent dto object. Following are the code snippets.</p>\n<p><strong>Entity Classes :</strong></p>\n<pre><code>public class User {\n    private String name;\n    private Address address;\n    private Product product;\n}\n\npublic class Address { \n    private String area;\n    private String city;\n}\n\npublic class Product {\n    private Integer productId;\n    private String productName;\n    private Double productPrice;\n } \n</code></pre>\n<p><strong>DTO's Classes :</strong></p>\n<pre><code>public class UserDTO {\n   private String name;\n   private AddressDTO address;\n   private ProductDTO product;\n}\n\npublic class AddressDTO {\n   private String area;\n   private String city;\n}\n\npublic class ProductDTO {\n   private Integer productId;\n   private String productName;\n   private Double productPrice;\n}\n</code></pre>\n<p><strong>here is the mapper code :</strong></p>\n<pre><code>ModelMapper mapper = new ModelMapper();\nmapper.getConfiguration().setMatchingStrategy(MatchingStrategies.LOOSE);\nUserDTO userDTO = mapper.map(user, UserDTO.class);\nSystem.out.println(&quot;Output User DTO : &quot; + userDTO );\n</code></pre>\n<p><strong>Output :</strong></p>\n<p><strong>Output User DTO : UserDTO [name=xyz, address=null, product=null]</strong></p>\n<p>Here I want to convert User entity into UserDTO dto.\nI am getting null values for address and product DTO's. What exactly I am missing here ? Does anyone have any idea ?</p>\n<p><em>Note : I have added getters, Setters and toString() methods in entity and DTO's.</em></p>\n"},{"tags":["java","spring","mongodb","spring-mongodb","spring-mongo"],"comments":[{"owner":{"account_id":5148464,"reputation":27,"user_id":4123694,"display_name":"ashit juneja"},"score":0,"creation_date":1578044920,"post_id":59575511,"comment_id":105319260,"body_markdown":"Hi, There was some dependency conflict problem because of which it was not happening. After resolving that, I am able to insert the documents now.","body":"Hi, There was some dependency conflict problem because of which it was not happening. After resolving that, I am able to insert the documents now."}],"answers":[{"tags":[],"owner":{"account_id":5148464,"reputation":27,"user_id":4123694,"display_name":"ashit juneja"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1578044962,"creation_date":1578044962,"answer_id":59576319,"question_id":59575511,"body_markdown":"There was some dependency conflict problem because of which it was not happening. After resolving that, I am able to insert the documents now.","title":"Getting java.lang.NoSuchMethodError: org.springframework.cglib.core.ReflectUtils.defineClass while inserting data in mongo using Spring MongoTemplate","body":"<p>There was some dependency conflict problem because of which it was not happening. After resolving that, I am able to insert the documents now.</p>\n"},{"tags":[],"owner":{"account_id":21132392,"reputation":1,"user_id":15536447,"display_name":"zzzyzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651731034,"creation_date":1651731034,"answer_id":72122667,"question_id":59575511,"body_markdown":"I also encountered this problem and removed the spring-core dependency.","title":"Getting java.lang.NoSuchMethodError: org.springframework.cglib.core.ReflectUtils.defineClass while inserting data in mongo using Spring MongoTemplate","body":"<p>I also encountered this problem and removed the spring-core dependency.</p>\n"}],"owner":{"account_id":5148464,"reputation":27,"user_id":4123694,"display_name":"ashit juneja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651731034,"creation_date":1578041347,"question_id":59575511,"body_markdown":"I am trying to insert some data (List of Objects) into mongoDB using Spring MongoTemplate and I am getting an exception:\r\n```\r\n14:08:04.430 [main] DEBUG org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator - Analyzing class class Child1 for index information.\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: org.springframework.cglib.core.ReflectUtils.defineClass(Ljava/lang/String;[BLjava/lang/ClassLoader;Ljava/security/ProtectionDomain;Ljava/lang/Class;)Ljava/lang/Class;\r\n\tat org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory$PropertyAccessorClassGenerator.generateCustomAccessorClass(ClassGeneratingPropertyAccessorFactory.java:324)\r\n\tat org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory.createAccessorClass(ClassGeneratingPropertyAccessorFactory.java:198)\r\n\tat org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory.potentiallyCreateAndRegisterPersistentPropertyAccessorClass(ClassGeneratingPropertyAccessorFactory.java:184)\r\n\tat org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory.getPropertyAccessor(ClassGeneratingPropertyAccessorFactory.java:92)\r\n\tat org.springframework.data.mapping.model.BasicPersistentEntity.getPropertyAccessor(BasicPersistentEntity.java:455)\r\n\tat org.springframework.data.mongodb.core.EntityOperations$AdaptibleMappedEntity.of(EntityOperations.java:592)\r\n\tat org.springframework.data.mongodb.core.EntityOperations$AdaptibleMappedEntity.access$100(EntityOperations.java:570)\r\n\tat org.springframework.data.mongodb.core.EntityOperations.forEntity(EntityOperations.java:106)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.doInsertBatch(MongoTemplate.java:1321)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1268)\r\n```\r\n\r\n \r\nData is actually an Object which is created using builder pattern something like:\r\n```java\r\nabstract public class Parent &lt;? extends Parent&lt;?&gt;&gt; {\r\n      private String parentId;\r\n\t  public String getParentId(){\r\n\t\treturn parentId;\r\n\t  }\r\n\t  public B setParentId(String parentId){\r\n\t\tthis.parentId=parentId;\r\n\t  }\r\n\t  abstract B self() {};\r\n}\r\n```\r\n\r\nChild class:\r\n```java\r\npublic class Child1 extends Parent&lt;Child1&gt; {\r\n      private String childId;\r\n\t  public String getChildId(){\r\n\t\treturn childId;\r\n\t  }\r\n\t  public Child1 setChildId(String childId){\r\n\t\tthis.childId=childId;\r\n\t  }\r\n\t  public Child1 self() {\r\n\t\treturn this;\r\n\t  };\r\n}\t  \r\n```\r\n\r\nSecond Child class:\r\n```java\r\npublic class Child2 extends Parent&lt;Child2&gt; {\r\n    private String childId;\r\n\tprivate String childValue;\r\n\t\r\n    public String getChildId(){\r\n\t    return childId;\r\n\t}\r\n\t\r\n    public Child2 setChildId(String childId){\r\n\t    this.childId=childId;\r\n\t}\r\n\t\r\n    public String getChildValue(){\r\n\t\treturn childValue;\r\n    }\r\n\r\n    public Child2 setChildValue(String childValue){\r\n\t\tthis.childValue=childValue;\r\n\t}\r\n\t  \r\n\tpublic Child2 self() {\r\n\t    return this;\r\n    }\r\n}\r\n```\r\n\r\nMongoUtil and Main class:\r\n\r\n```java\r\npublic class MongoUtil {\r\n\r\n    @Autowired\r\n    MongoTemplate mongoTemplate;\r\n\r\n    public static void persistToMongo(List&lt;? extends Parent&lt;?&gt;&gt; listOfObjects, String collectionName) {\r\n\r\n\t    //Here the exception is thrown.\r\n    \tmongoTemplate.insert(listOfObjects, collectionName);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Child1 child1 = new Child1().setChildId(&quot;id1&quot;).setParentId(&quot;parentId1&quot;);\r\n        List&lt;Child1&gt; child1List = new ArrayList&lt;&gt;();\r\n        child1List.add(child1);\r\n\r\n        MongoUtil.persistToMongo(child1List, &quot;someCollection&quot;);\r\n\r\n        Child2 child2 = new Child2().setChildId(&quot;id2&quot;).setParentId(&quot;parentId2&quot;).setChildValue(&quot;val2&quot;);\r\n        List&lt;Child1&gt; child2List = new ArrayList&lt;&gt;();\r\n        child2List.add(child1);\r\n\r\n        MongoUtil.persistToMongo(child2List, &quot;someCollection&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\nIf I try with normal extends class without any Generics, it works fine but then I will have to trade off with builder pattern and in my class I have way too many members and builder pattern makes using them easily.\r\nMoreover, I don&#39;t want to create separate methods of `persistToMongo` to take `List&lt;Child1&gt;` and `List&lt;Child2&gt;` separately.\r\n \r\nAny help will be appreciated!.\r\n\r\nThanks,\r\nAshit\r\n \r\n      \r\n      ","title":"Getting java.lang.NoSuchMethodError: org.springframework.cglib.core.ReflectUtils.defineClass while inserting data in mongo using Spring MongoTemplate","body":"<p>I am trying to insert some data (List of Objects) into mongoDB using Spring MongoTemplate and I am getting an exception:</p>\n\n<pre><code>14:08:04.430 [main] DEBUG org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator - Analyzing class class Child1 for index information.\nException in thread \"main\" java.lang.NoSuchMethodError: org.springframework.cglib.core.ReflectUtils.defineClass(Ljava/lang/String;[BLjava/lang/ClassLoader;Ljava/security/ProtectionDomain;Ljava/lang/Class;)Ljava/lang/Class;\n    at org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory$PropertyAccessorClassGenerator.generateCustomAccessorClass(ClassGeneratingPropertyAccessorFactory.java:324)\n    at org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory.createAccessorClass(ClassGeneratingPropertyAccessorFactory.java:198)\n    at org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory.potentiallyCreateAndRegisterPersistentPropertyAccessorClass(ClassGeneratingPropertyAccessorFactory.java:184)\n    at org.springframework.data.mapping.model.ClassGeneratingPropertyAccessorFactory.getPropertyAccessor(ClassGeneratingPropertyAccessorFactory.java:92)\n    at org.springframework.data.mapping.model.BasicPersistentEntity.getPropertyAccessor(BasicPersistentEntity.java:455)\n    at org.springframework.data.mongodb.core.EntityOperations$AdaptibleMappedEntity.of(EntityOperations.java:592)\n    at org.springframework.data.mongodb.core.EntityOperations$AdaptibleMappedEntity.access$100(EntityOperations.java:570)\n    at org.springframework.data.mongodb.core.EntityOperations.forEntity(EntityOperations.java:106)\n    at org.springframework.data.mongodb.core.MongoTemplate.doInsertBatch(MongoTemplate.java:1321)\n    at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1268)\n</code></pre>\n\n<p>Data is actually an Object which is created using builder pattern something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>abstract public class Parent &lt;? extends Parent&lt;?&gt;&gt; {\n      private String parentId;\n      public String getParentId(){\n        return parentId;\n      }\n      public B setParentId(String parentId){\n        this.parentId=parentId;\n      }\n      abstract B self() {};\n}\n</code></pre>\n\n<p>Child class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Child1 extends Parent&lt;Child1&gt; {\n      private String childId;\n      public String getChildId(){\n        return childId;\n      }\n      public Child1 setChildId(String childId){\n        this.childId=childId;\n      }\n      public Child1 self() {\n        return this;\n      };\n}     \n</code></pre>\n\n<p>Second Child class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Child2 extends Parent&lt;Child2&gt; {\n    private String childId;\n    private String childValue;\n\n    public String getChildId(){\n        return childId;\n    }\n\n    public Child2 setChildId(String childId){\n        this.childId=childId;\n    }\n\n    public String getChildValue(){\n        return childValue;\n    }\n\n    public Child2 setChildValue(String childValue){\n        this.childValue=childValue;\n    }\n\n    public Child2 self() {\n        return this;\n    }\n}\n</code></pre>\n\n<p>MongoUtil and Main class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MongoUtil {\n\n    @Autowired\n    MongoTemplate mongoTemplate;\n\n    public static void persistToMongo(List&lt;? extends Parent&lt;?&gt;&gt; listOfObjects, String collectionName) {\n\n        //Here the exception is thrown.\n        mongoTemplate.insert(listOfObjects, collectionName);\n    }\n\n    public static void main(String[] args) {\n        Child1 child1 = new Child1().setChildId(\"id1\").setParentId(\"parentId1\");\n        List&lt;Child1&gt; child1List = new ArrayList&lt;&gt;();\n        child1List.add(child1);\n\n        MongoUtil.persistToMongo(child1List, \"someCollection\");\n\n        Child2 child2 = new Child2().setChildId(\"id2\").setParentId(\"parentId2\").setChildValue(\"val2\");\n        List&lt;Child1&gt; child2List = new ArrayList&lt;&gt;();\n        child2List.add(child1);\n\n        MongoUtil.persistToMongo(child2List, \"someCollection\");\n\n    }\n}\n</code></pre>\n\n<p>If I try with normal extends class without any Generics, it works fine but then I will have to trade off with builder pattern and in my class I have way too many members and builder pattern makes using them easily.\nMoreover, I don't want to create separate methods of <code>persistToMongo</code> to take <code>List&lt;Child1&gt;</code> and <code>List&lt;Child2&gt;</code> separately.</p>\n\n<p>Any help will be appreciated!.</p>\n\n<p>Thanks,\nAshit</p>\n"},{"tags":["java","json","list"],"comments":[{"owner":{"account_id":5334857,"reputation":426,"user_id":4254239,"display_name":"Maksym Prokhorenko"},"score":0,"creation_date":1490431461,"post_id":43013921,"comment_id":73117480,"body_markdown":"I&#39;ve tried above code with oracle jdk 1.8 and jackson-databind 2.6.5 and it works well for me. Could you provide more details about your environment.","body":"I&#39;ve tried above code with oracle jdk 1.8 and jackson-databind 2.6.5 and it works well for me. Could you provide more details about your environment."}],"answers":[{"tags":[],"owner":{"account_id":5334857,"reputation":426,"user_id":4254239,"display_name":"Maksym Prokhorenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490466595,"creation_date":1490466595,"answer_id":43020284,"question_id":43013921,"body_markdown":"Exception message tells you have &#39;nul&#39; instead of null/true/false/NaN values in your input:\r\n\r\n    [{&quot;logedInUserName&quot;:&quot;forum-admin&quot;,&quot;actionDate&quot;:nul\r\n    ..\r\n    [{&quot;logedInUserName&quot;:&quot;forum-admin&quot;,&quot;actionDate&quot;:nul\r\n\r\nSo, pareser just can&#39;t map this value to actionDate property in your DTO. Check input on artificial symbols.","title":"Unrecognized token error while converting JSON String to Java Object List","body":"<p>Exception message tells you have 'nul' instead of null/true/false/NaN values in your input:</p>\n\n<pre><code>[{\"logedInUserName\":\"forum-admin\",\"actionDate\":nul\n..\n[{\"logedInUserName\":\"forum-admin\",\"actionDate\":nul\n</code></pre>\n\n<p>So, pareser just can't map this value to actionDate property in your DTO. Check input on artificial symbols.</p>\n"},{"tags":[],"owner":{"account_id":16198346,"reputation":212,"user_id":11695367,"display_name":"Feezan Khattak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651730584,"creation_date":1651730584,"answer_id":72122600,"question_id":43013921,"body_markdown":"The One way you can do, is to make the wrapper class and then extract data from wrapper one and put it in the original one.","title":"Unrecognized token error while converting JSON String to Java Object List","body":"<p>The One way you can do, is to make the wrapper class and then extract data from wrapper one and put it in the original one.</p>\n"}],"owner":{"account_id":10095761,"reputation":203,"user_id":7461186,"accept_rate":25,"display_name":"glen maxwell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651730584,"creation_date":1490428350,"question_id":43013921,"body_markdown":"here is the `JSON` string which I want to convert as java object List.\r\n\r\n    String manuallyVerificationRemarks = &quot;[{\r\n     \t&quot;logedInUserName&quot;: &quot;forum-admin&quot;,\r\n     \t&quot;actionDate&quot;: null,\r\n     \t&quot;action&quot;: null,\r\n     \t&quot;remarksText&quot;: &quot;done by admin...&quot;\r\n     }, {\r\n     \t&quot;logedInUserName&quot;: null,\r\n     \t&quot;actionDate&quot;: null,\r\n     \t&quot;action&quot;: null,\r\n     \t&quot;remarksText&quot;: null\r\n     }]&quot;;\r\n\r\nAnd here is how I am converting string to object .\r\n        \r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n    try{\r\n\t\tremarksDtoList = objectMapper.readValue(manuallyVerificationRemarks, new TypeReference&lt;List&lt;RemarksDTO&gt;&gt;() {});\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\nAnd here is Target DTO \r\n\r\n    public class RemarksDTO implements Serializable {\r\n    \r\n    \t/**\r\n    \t * serialVersionUID\r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate String logedInUserName;\r\n    \t\r\n    \tprivate Date actionDate;\r\n    \t\r\n    \tprivate String action;\r\n    \t\r\n    \tprivate String remarksText;\r\n    \t\r\n    \tRemarksDTO(){\r\n    \t\tsuper();\r\n    \t}\r\n    \tpublic RemarksDTO(String remarks,String userName){\r\n    \t\tthis.remarksText = remarks;\r\n    \t\tthis.logedInUserName=userName;\r\n    \t}\r\n    \tpublic RemarksDTO(String userName,Date actionDate,String action,String remarks){\r\n    \t\tthis.logedInUserName =userName;\r\n    \t\tthis.action=action;\r\n    \t\tthis.remarksText = remarks;\r\n    \t\tthis.actionDate = actionDate;\r\n    \t\t\r\n    \t}\r\n    \tpublic String getLogedInUserName() {\r\n    \t\treturn logedInUserName;\r\n    \t}\r\n    \r\n    \tpublic void setLogedInUserName(String logedInUserName) {\r\n    \t\tthis.logedInUserName = logedInUserName;\r\n    \t}\r\n    \r\n    \tpublic String getRemarksText() {\r\n    \t\treturn remarksText;\r\n    \t}\r\n    \r\n    \tpublic void setRemarksText(String remarksText) {\r\n    \t\tthis.remarksText = remarksText;\r\n    \t}\r\n    \tpublic RemarksDTO(String remarks){\r\n    \t\tthis.remarksText = remarks;\r\n    \t}\r\n    \t\t\r\n    \tpublic Date getActionDate() {\r\n    \t\treturn actionDate;\r\n    \t}\r\n    \tpublic void setActionDate(Date actionDate) {\r\n    \t\tthis.actionDate = actionDate;\r\n    \t}\r\n    \tpublic String getAction() {\r\n    \t\treturn action;\r\n    \t}\r\n    \tpublic void setAction(String action) {\r\n    \t\tthis.action = action;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn &quot;RemarksDTO [logedInUserName=&quot; + logedInUserName + &quot;, remarksText=&quot; + remarksText + &quot;]&quot;;\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nI am getting following errors : anonymous type declaration cannot be used in an evaluation expression  `and here is error trace....     com.fasterxml.jackson.databind.JsonMappingException: Unrecognized token &#39;nul&#39;: was expecting &#39;null&#39;, &#39;true&#39;, &#39;false&#39; or NaN\r\n at [Source: [{&quot;logedInUserName&quot;:&quot;forum-admin&quot;,&quot;actionDate&quot;:nul\r\nl,&quot;action&quot;:null,&quot;remarksText&quot;:&quot;new simple Test is abused done by admin.&quot;},{&quot;logedInUserName&quot;:null,&quot;actionDate&quot;:null,&quot;action&quot;:null,&quot;remarksText&quot;:null}]; line: 1, column: 51]\r\n at [Source: [{&quot;logedInUserName&quot;:&quot;forum-admin&quot;,&quot;actionDate&quot;:nul\r\nl,&quot;action&quot;:null,&quot;remarksText&quot;:&quot;new simple Test is abused done by admin.&quot;},{&quot;logedInUserName&quot;:null,&quot;actionDate&quot;:null,&quot;action&quot;:null,&quot;remarksText&quot;:null}]; line: 1, column: 35] (through reference chain: java.util.ArrayList[0])`","title":"Unrecognized token error while converting JSON String to Java Object List","body":"<p>here is the <code>JSON</code> string which I want to convert as java object List.</p>\n\n<pre><code>String manuallyVerificationRemarks = \"[{\n    \"logedInUserName\": \"forum-admin\",\n    \"actionDate\": null,\n    \"action\": null,\n    \"remarksText\": \"done by admin...\"\n }, {\n    \"logedInUserName\": null,\n    \"actionDate\": null,\n    \"action\": null,\n    \"remarksText\": null\n }]\";\n</code></pre>\n\n<p>And here is how I am converting string to object .</p>\n\n<pre><code>private ObjectMapper objectMapper = new ObjectMapper();\ntry{\n    remarksDtoList = objectMapper.readValue(manuallyVerificationRemarks, new TypeReference&lt;List&lt;RemarksDTO&gt;&gt;() {});\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>And here is Target DTO </p>\n\n<pre><code>public class RemarksDTO implements Serializable {\n\n    /**\n     * serialVersionUID\n     */\n    private static final long serialVersionUID = 1L;\n\n    private String logedInUserName;\n\n    private Date actionDate;\n\n    private String action;\n\n    private String remarksText;\n\n    RemarksDTO(){\n        super();\n    }\n    public RemarksDTO(String remarks,String userName){\n        this.remarksText = remarks;\n        this.logedInUserName=userName;\n    }\n    public RemarksDTO(String userName,Date actionDate,String action,String remarks){\n        this.logedInUserName =userName;\n        this.action=action;\n        this.remarksText = remarks;\n        this.actionDate = actionDate;\n\n    }\n    public String getLogedInUserName() {\n        return logedInUserName;\n    }\n\n    public void setLogedInUserName(String logedInUserName) {\n        this.logedInUserName = logedInUserName;\n    }\n\n    public String getRemarksText() {\n        return remarksText;\n    }\n\n    public void setRemarksText(String remarksText) {\n        this.remarksText = remarksText;\n    }\n    public RemarksDTO(String remarks){\n        this.remarksText = remarks;\n    }\n\n    public Date getActionDate() {\n        return actionDate;\n    }\n    public void setActionDate(Date actionDate) {\n        this.actionDate = actionDate;\n    }\n    public String getAction() {\n        return action;\n    }\n    public void setAction(String action) {\n        this.action = action;\n    }\n    @Override\n    public String toString(){\n        return \"RemarksDTO [logedInUserName=\" + logedInUserName + \", remarksText=\" + remarksText + \"]\";\n\n    }\n}\n</code></pre>\n\n<p>I am getting following errors : anonymous type declaration cannot be used in an evaluation expression  <code>and here is error trace....     com.fasterxml.jackson.databind.JsonMappingException: Unrecognized token 'nul': was expecting 'null', 'true', 'false' or NaN\n at [Source: [{\"logedInUserName\":\"forum-admin\",\"actionDate\":nul\nl,\"action\":null,\"remarksText\":\"new simple Test is abused done by admin.\"},{\"logedInUserName\":null,\"actionDate\":null,\"action\":null,\"remarksText\":null}]; line: 1, column: 51]\n at [Source: [{\"logedInUserName\":\"forum-admin\",\"actionDate\":nul\nl,\"action\":null,\"remarksText\":\"new simple Test is abused done by admin.\"},{\"logedInUserName\":null,\"actionDate\":null,\"action\":null,\"remarksText\":null}]; line: 1, column: 35] (through reference chain: java.util.ArrayList[0])</code></p>\n"},{"tags":["java","http","httpclient","sun"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1651730355,"post_id":72122530,"comment_id":127433281,"body_markdown":"it&#39;s quite possible that some packages were renamed or removed. This is one of the reasons why you shouldn&#39;t make such huge updates. From 8 to 11, that I might understand, but from 8 straight to 18? This means there are 10 version changes that all may have such removals/renames to deal with&#181;","body":"it&#39;s quite possible that some packages were renamed or removed. This is one of the reasons why you shouldn&#39;t make such huge updates. From 8 to 11, that I might understand, but from 8 straight to 18? This means there are 10 version changes that all may have such removals/renames to deal with&#181;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1651732356,"post_id":72122530,"comment_id":127433737,"body_markdown":"There has been a warning in the Javadoc for at least 26 years telling you not to use `sun.*` classes. You should use [`java.net.http.HttpClient`](https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html) since Java 11, and no code should ever have used `sun.net.* directly: it was never necessary.","body":"There has been a warning in the Javadoc for at least 26 years telling you not to use <code>sun.*</code> classes. You should use <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\"><code>java.net.http.HttpClient</code></a> since Java 11, and no code should ever have used `sun.net.* directly: it was never necessary."},{"owner":{"account_id":25201022,"reputation":13,"user_id":19039884,"display_name":"Ron Hernandez"},"score":0,"creation_date":1652162344,"post_id":72122530,"comment_id":127532613,"body_markdown":"Thank you, I&#39;m new to Java and have a project to migrate a web app written on 2006 to the latest Java version. This is the first time that I was made aware of this.","body":"Thank you, I&#39;m new to Java and have a project to migrate a web app written on 2006 to the latest Java version. This is the first time that I was made aware of this."}],"answers":[{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651730515,"creation_date":1651730515,"answer_id":72122587,"question_id":72122530,"body_markdown":"Quote from Oracle:\r\n\r\n&gt; A Java program that directly calls into sun.* packages is not guaranteed to work on all Java-compatible platforms. In fact, such a program is not guaranteed to work even in future versions on the same platform.\r\n\r\nTo solve the issue, you will have to find the alternative to each missing class and replace it.\r\n\r\nSource:\r\n[Why Developers Should Not Write Programs That Call &#39;sun&#39; Packages][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/faq-sun-packages.html","title":"Cannot Import sun.net.*","body":"<p>Quote from Oracle:</p>\n<blockquote>\n<p>A Java program that directly calls into sun.* packages is not guaranteed to work on all Java-compatible platforms. In fact, such a program is not guaranteed to work even in future versions on the same platform.</p>\n</blockquote>\n<p>To solve the issue, you will have to find the alternative to each missing class and replace it.</p>\n<p>Source:\n<a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">Why Developers Should Not Write Programs That Call 'sun' Packages</a></p>\n"}],"owner":{"account_id":25201022,"reputation":13,"user_id":19039884,"display_name":"Ron Hernandez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651732404,"accepted_answer_id":72122587,"answer_count":1,"score":0,"last_activity_date":1651730515,"creation_date":1651730151,"question_id":72122530,"body_markdown":"I&#39;m trying to compile a java code from Java 1.8 to Java 18 but I&#39;m getting the error *the type sun.net is not accessible*\r\n\r\nI&#39;ve read some stuff online that sun.* cannot be used anymore. Is this related to this problem? If not are there any workarounds on this error?\r\n\r\nP.S.\r\nI&#39;m trying to use the HttpClient class","title":"Cannot Import sun.net.*","body":"<p>I'm trying to compile a java code from Java 1.8 to Java 18 but I'm getting the error <em>the type sun.net is not accessible</em></p>\n<p>I've read some stuff online that sun.* cannot be used anymore. Is this related to this problem? If not are there any workarounds on this error?</p>\n<p>P.S.\nI'm trying to use the HttpClient class</p>\n"},{"tags":["java","maven","tomcat","log4j","log4j2"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1645598707,"post_id":71232150,"comment_id":125911186,"body_markdown":"Please add more information for example the pom file...Which Maven version are you using? Which Struts version etc.","body":"Please add more information for example the pom file...Which Maven version are you using? Which Struts version etc."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1645633789,"post_id":71232150,"comment_id":125925921,"body_markdown":"This is a large project and starting with a Java version that was first released 18 years ago makes it very difficult.  I fear that there will not be a simple answer.  I would push back a bit to see if you can move the entire stack to the current technology (JDK 17, Tomcat 10, etc.).  If that&#39;s not possible you need at least Java 8 for the newest log4j and, with it, Tomcat 8.5 or above.","body":"This is a large project and starting with a Java version that was first released 18 years ago makes it very difficult.  I fear that there will not be a simple answer.  I would push back a bit to see if you can move the entire stack to the current technology (JDK 17, Tomcat 10, etc.).  If that&#39;s not possible you need at least Java 8 for the newest log4j and, with it, Tomcat 8.5 or above."},{"owner":{"account_id":1524759,"reputation":7,"user_id":1423483,"display_name":"Hitesh Tambe"},"score":0,"creation_date":1646114465,"post_id":71232150,"comment_id":126037982,"body_markdown":"@khmarbaise\nI was negotiating with my manager on possibility to share pom.xml, but that has not been approved. It is a huge pom.xml, I have tried removing the sensitive data, but still not getting it approved. \n\nStill in discussions, I will see if I can share it. \n\nMeanwhile, is there any specific section of pom.xml that you wish to look at?","body":"@khmarbaise I was negotiating with my manager on possibility to share pom.xml, but that has not been approved. It is a huge pom.xml, I have tried removing the sensitive data, but still not getting it approved.   Still in discussions, I will see if I can share it.   Meanwhile, is there any specific section of pom.xml that you wish to look at?"},{"owner":{"account_id":1524759,"reputation":7,"user_id":1423483,"display_name":"Hitesh Tambe"},"score":0,"creation_date":1646115995,"post_id":71232150,"comment_id":126038286,"body_markdown":"@stdunbar\nThanks for the suggestion. As a long term solution we will definitely discuss that with customer.\nBut I will still have to get this sorted in a short term outlook.","body":"@stdunbar Thanks for the suggestion. As a long term solution we will definitely discuss that with customer. But I will still have to get this sorted in a short term outlook."},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1655980285,"post_id":71232150,"comment_id":128463025,"body_markdown":"Is log4j working ok after adding it to `jarstoskip`? In my case it prevents log4j jars from loading and the application does not log anything","body":"Is log4j working ok after adding it to <code>jarstoskip</code>? In my case it prevents log4j jars from loading and the application does not log anything"}],"answers":[{"tags":[],"owner":{"account_id":25201107,"reputation":1,"user_id":19039959,"display_name":"user19039959"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651730426,"creation_date":1651730426,"answer_id":72122572,"question_id":71232150,"body_markdown":"You should add dependencies for log4j-core and log4j-jc and secondly (in my case) move log4j.properties to log4j2.properties","title":"Multiple issues in Log4J Upgrade for old Java Servlet ( Struts ) based application","body":"<p>You should add dependencies for log4j-core and log4j-jc and secondly (in my case) move log4j.properties to log4j2.properties</p>\n"}],"owner":{"account_id":1524759,"reputation":7,"user_id":1423483,"display_name":"Hitesh Tambe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651730426,"creation_date":1645597045,"question_id":71232150,"body_markdown":"**Current Situation**\r\n\r\nJava Application development version: a Struts based GUI application developed in Java 1.5\r\nJDK used for Compilation: 1.7\r\nTomcat Server: Application is hosted on tomcat 6.\r\nCurrent Log4J version: 2.3\r\nBuild Tool: Maven 3\r\n\r\n**Aim**\r\n\r\nUpgrade Log4J to latest version.\r\n\r\n\r\n\r\n\r\n**Problem Description**\r\n\r\nI have tried multiple ways while upgrading but all various combinations of tomcat and Java. But I am encountering different issues.\r\nBelow is the list of issues.\r\n\r\n\r\n\r\n**JDK 7, Log4j-2.3 Tomcat 6  ( Current Situation) **\r\n\r\nAble to build war file, application gets deployed and runs smoothly.\r\n\r\n\r\n\r\n**JDK 7 and Tomcat 6 , Log4j- 2.17.1**\r\n\r\nThe war file generated is not having all the classes from the application. ( Quite surprising ).\r\nI enabled the debug logs for maven but did not find any surprising entry.\r\nI reverted the Log4j version back to 2.3, and things came back to normal.\r\nTried multiple iterations of this, but still the same issue. \r\n\r\n\r\n\r\n**JDK 8 and Tomcat 6 , Log4j- 2.17.1**\r\n\r\nI am able to build war file successfully ( with all the classes) , and deploy it to tomcat. But when I open the landing page of webapp, I am presented with an error:\r\n*The type java.io.ObjectInputStream cannot be resolved. It is indirectly referenced from required .class files*\r\n\r\nOn investigating I understood that it is not really a bug with JDK 8 as mentioned in many posts, and it is recommended to upgrade the Tomcat version.\r\n\r\n\r\n\r\n\r\n**JDK 8 and Tomcat 8 , Log4j- 2.17.1**\r\n\r\nSuccessfully able to build war file. \r\nWhile deploying it to Tomcat we get below error:\r\n\r\nSEVERE [localhost-startStop-1] org.apache.catalina.startup.ContextConfig.processAnnotationsJar Unable to process Jar entry [xxxxxxxx.class] from Jar [jar:file:/C:/xxxx/xxx/xxxx.war!/WEB-INF/lib/client-1.1.jar] for annotations\r\norg.apache.tomcat.util.bcel.classfile.ClassFormatException: Invalid byte tag in constant pool: 60\r\n\r\n\r\nBased on investigation and various posts, we skipped jar scanning for this jar, by adding JarsToSkip in tomcat’s configuration catalina.properties file.\r\n\r\n\r\n\r\n\r\n**JDK 8 and Tomcat 8 , Log4j- 2.17.1, catalina.properties with jarsToSkip entry for problematic Jar**\r\n\r\n\r\nAble to build war file, and deploy it to Tomcat. \r\nLogin page opens successfully.\r\n\r\nWhen I submit the login form, application encounters below error:\r\n*java.lang.NoSuchMethodError: org.apache.catalina.core.StandardContext.findApplicationParameters()[Lorg/apache/catalina/deploy/ApplicationParameter;*\r\n\r\nLooking at the documentation and code, everything looks fine with method&#39;s signature. \r\nQuite surprising to have this error.\r\n\r\nTomcat also has catalina.jar, servlet-api.jar files at the right location.\r\n\r\nTrying with higher tomcat version.\r\n\r\n\r\n**JDK 8, Tomcat 9, Log4j- 2.17.1, catalina.properties with jarsToSkip entry for problematic Jar**\r\n\r\nagain presented with same error:\r\n*java.lang.NoSuchMethodError: org.apache.catalina.core.StandardContext.findApplicationParameters()[Lorg/apache/catalina/deploy/ApplicationParameter;*\r\n\r\n\r\n** Tried with Tomcat 10 this time **\r\n\r\nNow with this version of tomcat servlet apis are packaged in jakarta.servlet.* package instead of javax.servlet.*\r\n\r\nThis will need lot of code changes and testing, thus I am avoiding it.\r\n\r\n\r\n\r\n\r\n**What I am looking for**\r\n\r\n1. Can you help me understand if the overall process I tried is correct or what should be changed?\r\n2. Which combination of JDK, and Tomcat should I use to be able to use log4J-2.17.1\r\n3. There have been different errors at different combinations, which error should I focus first and try to avoid, to be able to solve this situation.\r\n4. Any suggestions on how this error can be solved.\r\n\r\nPlease let me know if you need any more details around this, to be able to help.\r\n\r\n\r\nP.S.:\r\n\r\nI am fairly new in Java, Struts, Maven, Tomcat tools, and I may have missed some solutions which may seem basic. I am open for various suggestions.\r\n\r\nThanks.","title":"Multiple issues in Log4J Upgrade for old Java Servlet ( Struts ) based application","body":"<p><strong>Current Situation</strong></p>\n<p>Java Application development version: a Struts based GUI application developed in Java 1.5\nJDK used for Compilation: 1.7\nTomcat Server: Application is hosted on tomcat 6.\nCurrent Log4J version: 2.3\nBuild Tool: Maven 3</p>\n<p><strong>Aim</strong></p>\n<p>Upgrade Log4J to latest version.</p>\n<p><strong>Problem Description</strong></p>\n<p>I have tried multiple ways while upgrading but all various combinations of tomcat and Java. But I am encountering different issues.\nBelow is the list of issues.</p>\n<p>**JDK 7, Log4j-2.3 Tomcat 6  ( Current Situation) **</p>\n<p>Able to build war file, application gets deployed and runs smoothly.</p>\n<p><strong>JDK 7 and Tomcat 6 , Log4j- 2.17.1</strong></p>\n<p>The war file generated is not having all the classes from the application. ( Quite surprising ).\nI enabled the debug logs for maven but did not find any surprising entry.\nI reverted the Log4j version back to 2.3, and things came back to normal.\nTried multiple iterations of this, but still the same issue.</p>\n<p><strong>JDK 8 and Tomcat 6 , Log4j- 2.17.1</strong></p>\n<p>I am able to build war file successfully ( with all the classes) , and deploy it to tomcat. But when I open the landing page of webapp, I am presented with an error:\n<em>The type java.io.ObjectInputStream cannot be resolved. It is indirectly referenced from required .class files</em></p>\n<p>On investigating I understood that it is not really a bug with JDK 8 as mentioned in many posts, and it is recommended to upgrade the Tomcat version.</p>\n<p><strong>JDK 8 and Tomcat 8 , Log4j- 2.17.1</strong></p>\n<p>Successfully able to build war file.\nWhile deploying it to Tomcat we get below error:</p>\n<p>SEVERE [localhost-startStop-1] org.apache.catalina.startup.ContextConfig.processAnnotationsJar Unable to process Jar entry [xxxxxxxx.class] from Jar [jar:file:/C:/xxxx/xxx/xxxx.war!/WEB-INF/lib/client-1.1.jar] for annotations\norg.apache.tomcat.util.bcel.classfile.ClassFormatException: Invalid byte tag in constant pool: 60</p>\n<p>Based on investigation and various posts, we skipped jar scanning for this jar, by adding JarsToSkip in tomcat’s configuration catalina.properties file.</p>\n<p><strong>JDK 8 and Tomcat 8 , Log4j- 2.17.1, catalina.properties with jarsToSkip entry for problematic Jar</strong></p>\n<p>Able to build war file, and deploy it to Tomcat.\nLogin page opens successfully.</p>\n<p>When I submit the login form, application encounters below error:\n<em>java.lang.NoSuchMethodError: org.apache.catalina.core.StandardContext.findApplicationParameters()[Lorg/apache/catalina/deploy/ApplicationParameter;</em></p>\n<p>Looking at the documentation and code, everything looks fine with method's signature.\nQuite surprising to have this error.</p>\n<p>Tomcat also has catalina.jar, servlet-api.jar files at the right location.</p>\n<p>Trying with higher tomcat version.</p>\n<p><strong>JDK 8, Tomcat 9, Log4j- 2.17.1, catalina.properties with jarsToSkip entry for problematic Jar</strong></p>\n<p>again presented with same error:\n<em>java.lang.NoSuchMethodError: org.apache.catalina.core.StandardContext.findApplicationParameters()[Lorg/apache/catalina/deploy/ApplicationParameter;</em></p>\n<p>** Tried with Tomcat 10 this time **</p>\n<p>Now with this version of tomcat servlet apis are packaged in jakarta.servlet.* package instead of javax.servlet.*</p>\n<p>This will need lot of code changes and testing, thus I am avoiding it.</p>\n<p><strong>What I am looking for</strong></p>\n<ol>\n<li>Can you help me understand if the overall process I tried is correct or what should be changed?</li>\n<li>Which combination of JDK, and Tomcat should I use to be able to use log4J-2.17.1</li>\n<li>There have been different errors at different combinations, which error should I focus first and try to avoid, to be able to solve this situation.</li>\n<li>Any suggestions on how this error can be solved.</li>\n</ol>\n<p>Please let me know if you need any more details around this, to be able to help.</p>\n<p>P.S.:</p>\n<p>I am fairly new in Java, Struts, Maven, Tomcat tools, and I may have missed some solutions which may seem basic. I am open for various suggestions.</p>\n<p>Thanks.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1291365757,"creation_date":1291365757,"answer_id":4343780,"question_id":4343760,"body_markdown":"run time when class is loaded.\r\n - [Have a look at initialization ][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/javaOO/initial.html","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>run time when class is loaded.\n - <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"noreferrer\">Have a look at initialization </a></p>\n"},{"tags":[],"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291365830,"creation_date":1291365830,"answer_id":4343790,"question_id":4343760,"body_markdown":"How would you load a variable at compile time? The variable is _initialized_ when the corresponding class is loaded. See the [JVMS][1].\r\n\r\n [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#32316","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>How would you load a variable at compile time? The variable is <em>initialized</em> when the corresponding class is loaded. See the <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#32316\" rel=\"nofollow\">JVMS</a>.</p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1291365876,"creation_date":1291365876,"answer_id":4343796,"question_id":4343760,"body_markdown":"They are loaded at runtime. \r\n\r\nStatic means: that the variable belong to the class, and not to instances of the class. So there is only one value of each static variable, and not n values if you have n instances of the class.","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>They are loaded at runtime. </p>\n\n<p>Static means: that the variable belong to the class, and not to instances of the class. So there is only one value of each static variable, and not n values if you have n instances of the class.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1515589223,"creation_date":1291367580,"answer_id":4343991,"question_id":4343760,"body_markdown":"The compiler optimizes inlineable **static final** fields by embedding the value in the bytecode instead of computing the value at runtime. \r\n\r\nWhen you fire up a JVM and load a class for the first time (this is done by the classloader when the class is first referenced in any way) any static blocks or fields are &#39;loaded&#39; into the JVM and become accessible. \r\n\r\nA demonstration: \r\n\r\n    public class StaticDemo {\r\n    \r\n     // a static initialization block, executed once when the class is loaded\r\n     static {\r\n      System.out.println(&quot;Class StaticDemo loading...&quot;);\r\n     }\r\n    \r\n     // a constant\r\n     static final long ONE_DAY_IN_MILLIS = 24 * 60 * 60 * 1000;\r\n    \r\n     // a static field\r\n     static int instanceCounter;\r\n    \r\n     // a second static initialization block\r\n     // static members are processed in the order they appear in the class\r\n     static {\r\n      // we can now acces the static fields initialized above\r\n      System.out.println(&quot;ONE_DAY_IN_MILLIS=&quot; + ONE_DAY_IN_MILLIS\r\n        + &quot; instanceCounter=&quot; + instanceCounter);\r\n     }\r\n    \r\n     // an instance initialization block\r\n     // instance blocks are executed each time a class instance is created,\r\n     // after the parent constructor, but before any own constructors (as remarked by Ahmed Hegazy)\r\n     {\r\n      StaticDemo.instanceCounter++;\r\n      System.out.println(&quot;instanceCounter=&quot; + instanceCounter);\r\n     }\r\n    \r\n     public static void main(String[] args) {\r\n      System.out.println(&quot;Starting StaticDemo&quot;);\r\n      new StaticDemo();\r\n      new StaticDemo();\r\n      new StaticDemo();\r\n     }\r\n    \r\n     static {\r\n      System.out.println(&quot;Class StaticDemo loaded&quot;);\r\n     }\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Class StaticDemo loading...\r\n    ONE_DAY_IN_MILLIS=86400000 instanceCounter=0\r\n    Class StaticDemo loaded\r\n    Starting StaticDemo\r\n    instanceCounter=1\r\n    instanceCounter=2\r\n    instanceCounter=3\r\n\r\nNotice how &#39;Starting StaticDemo&#39; does not appear as the first line of output. This is because the class must be loaded **before** the main method can be executed, which means all static fields and blocks are processed in order.","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>The compiler optimizes inlineable <strong>static final</strong> fields by embedding the value in the bytecode instead of computing the value at runtime. </p>\n\n<p>When you fire up a JVM and load a class for the first time (this is done by the classloader when the class is first referenced in any way) any static blocks or fields are 'loaded' into the JVM and become accessible. </p>\n\n<p>A demonstration: </p>\n\n<pre><code>public class StaticDemo {\n\n // a static initialization block, executed once when the class is loaded\n static {\n  System.out.println(\"Class StaticDemo loading...\");\n }\n\n // a constant\n static final long ONE_DAY_IN_MILLIS = 24 * 60 * 60 * 1000;\n\n // a static field\n static int instanceCounter;\n\n // a second static initialization block\n // static members are processed in the order they appear in the class\n static {\n  // we can now acces the static fields initialized above\n  System.out.println(\"ONE_DAY_IN_MILLIS=\" + ONE_DAY_IN_MILLIS\n    + \" instanceCounter=\" + instanceCounter);\n }\n\n // an instance initialization block\n // instance blocks are executed each time a class instance is created,\n // after the parent constructor, but before any own constructors (as remarked by Ahmed Hegazy)\n {\n  StaticDemo.instanceCounter++;\n  System.out.println(\"instanceCounter=\" + instanceCounter);\n }\n\n public static void main(String[] args) {\n  System.out.println(\"Starting StaticDemo\");\n  new StaticDemo();\n  new StaticDemo();\n  new StaticDemo();\n }\n\n static {\n  System.out.println(\"Class StaticDemo loaded\");\n }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Class StaticDemo loading...\nONE_DAY_IN_MILLIS=86400000 instanceCounter=0\nClass StaticDemo loaded\nStarting StaticDemo\ninstanceCounter=1\ninstanceCounter=2\ninstanceCounter=3\n</code></pre>\n\n<p>Notice how 'Starting StaticDemo' does not appear as the first line of output. This is because the class must be loaded <strong>before</strong> the main method can be executed, which means all static fields and blocks are processed in order.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291368472,"creation_date":1291368472,"answer_id":4344116,"question_id":4343760,"body_markdown":"Loading is a runtime operation. Everything is loaded at runtime.","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>Loading is a runtime operation. Everything is loaded at runtime.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508026421,"creation_date":1291372514,"answer_id":4344675,"question_id":4343760,"body_markdown":"The static fields are loaded when the class is loaded.  This usually happens which the file object of a class is created, but it can be earlier if the class is used another way.\r\n\r\nThe static initialiser is thread safe and you can access the class in multiple threads safely.  This is useful as a way to create a thread safe singleton without having to use a lock.\r\n\r\nNote: the class can be loaded (and its static intialisation block run) more than once if multiple class loaders are used.  Generally, loading the same class in multiple class loaders can be confusing and is avoided, but it is supported and does work.","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>The static fields are loaded when the class is loaded.  This usually happens which the file object of a class is created, but it can be earlier if the class is used another way.</p>\n\n<p>The static initialiser is thread safe and you can access the class in multiple threads safely.  This is useful as a way to create a thread safe singleton without having to use a lock.</p>\n\n<p>Note: the class can be loaded (and its static intialisation block run) more than once if multiple class loaders are used.  Generally, loading the same class in multiple class loaders can be confusing and is avoided, but it is supported and does work.</p>\n"},{"tags":[],"owner":{"account_id":1777302,"reputation":11,"user_id":1620832,"display_name":"Ben Tennyson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348767447,"creation_date":1345750230,"answer_id":12098736,"question_id":4343760,"body_markdown":"When you type `java ClassName` then class loads into JVM with static variables, so you don&#39;t need an object for it.\r\n\r\nWhere as instance variable loaded by JVM when the object is created.","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>When you type <code>java ClassName</code> then class loads into JVM with static variables, so you don't need an object for it.</p>\n\n<p>Where as instance variable loaded by JVM when the object is created.</p>\n"},{"tags":[],"owner":{"account_id":20276345,"reputation":27,"user_id":14871277,"display_name":"Deepak Silver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651729926,"creation_date":1651729926,"answer_id":72122500,"question_id":4343760,"body_markdown":"Static fields gets loaded at the time of class loading in JVM.","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>Static fields gets loaded at the time of class loading in JVM.</p>\n"}],"owner":{"account_id":55660,"reputation":1441,"user_id":166731,"accept_rate":76,"display_name":"suprasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42081,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":4343796,"answer_count":8,"score":36,"last_activity_date":1651729926,"creation_date":1291365630,"question_id":4343760,"body_markdown":"When is static variable loaded, runtime or compile time? Can someone please explain it.\r\n\r\nI would really appreciate the help.\r\n\r\nThank you.","title":"when is static variable loaded in java, runtime or compile time?","body":"<p>When is static variable loaded, runtime or compile time? Can someone please explain it.</p>\n\n<p>I would really appreciate the help.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","firebase","firebase-realtime-database","google-cloud-platform","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":16737430,"reputation":2604,"user_id":12098106,"display_name":"Dabbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651679362,"creation_date":1651678190,"answer_id":72115625,"question_id":72115426,"body_markdown":"The `Realtime Database` is not the same as `Authentication`.\r\n\r\nDeleting the user in Authentication will do the trick:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tSK1e.png","title":"Firebase - User still exist after delete","body":"<p>The <code>Realtime Database</code> is not the same as <code>Authentication</code>.</p>\n<p>Deleting the user in Authentication will do the trick:</p>\n<p><a href=\"https://i.stack.imgur.com/tSK1e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tSK1e.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15912478,"reputation":886,"user_id":11482176,"display_name":"Chaotic Pechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651680658,"creation_date":1651680658,"answer_id":72116164,"question_id":72115426,"body_markdown":"As the mentioned comment above, deleting from Database is not same as authentication.\r\n\r\nSo to do this you may use the firebase admin SDK.\r\nYou can see an example here: https://firebase.google.com/docs/auth/android/manage-users.\r\n\r\nSo basically what you can do is to delete the user from the DB, then from the Firebase Auth to avoid having that kind of issues; example:\r\n\r\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n    \r\n    user.delete()\r\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Log.d(TAG, &quot;User account deleted.&quot;);\r\n                    }\r\n                }\r\n            });","title":"Firebase - User still exist after delete","body":"<p>As the mentioned comment above, deleting from Database is not same as authentication.</p>\n<p>So to do this you may use the firebase admin SDK.\nYou can see an example here: <a href=\"https://firebase.google.com/docs/auth/android/manage-users\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/manage-users</a>.</p>\n<p>So basically what you can do is to delete the user from the DB, then from the Firebase Auth to avoid having that kind of issues; example:</p>\n<pre><code>FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\nuser.delete()\n        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (task.isSuccessful()) {\n                    Log.d(TAG, &quot;User account deleted.&quot;);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651729775,"creation_date":1651729775,"answer_id":72122476,"question_id":72115426,"body_markdown":"While @Dabbel solution indicates removing the user from the Console, it will indeed solve the problem, but please note that this operation might not be feasible in the case of a large number of users.\r\n\r\nSo the best option that you have is to remove the user from the Firebase Auth programmatically by calling [FirebaseUser#delete()][1] which:\r\n\r\n&gt; Deletes the user record from your Firebase project&#39;s database.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#delete()","title":"Firebase - User still exist after delete","body":"<p>While @Dabbel solution indicates removing the user from the Console, it will indeed solve the problem, but please note that this operation might not be feasible in the case of a large number of users.</p>\n<p>So the best option that you have is to remove the user from the Firebase Auth programmatically by calling <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#delete()\" rel=\"nofollow noreferrer\">FirebaseUser#delete()</a> which:</p>\n<blockquote>\n<p>Deletes the user record from your Firebase project's database.</p>\n</blockquote>\n"}],"owner":{"account_id":24967093,"reputation":39,"user_id":18830542,"display_name":"Doublementi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72115625,"answer_count":3,"score":0,"last_activity_date":1651729832,"creation_date":1651677347,"question_id":72115426,"body_markdown":"When I deleted the user from the Realtime Database by clicking the bin next to it, the user disappears, its okay, but I can still log in by his email and password, and when the login is successful, the UUID of this user reappears when I write some values to subtables in the database, but without his values defined while registering. \r\n\r\nI thought that it should be fine after 1 hour and I could have still registered him as a new user, but I can&#39;t. I deleted him 2 days ago. What is wrong, how i can delete a user permanently - not by blocking him?\r\n\r\nPart of my main code:\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n...\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        //textview,buttons,progress bars, etc...\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        forgotPassword = (TextView) findViewById(R.id.forgotPassword);\r\n        forgotPassword.setOnClickListener(this);\r\n    }\r\n...\r\n    //Onclicks, textview value correctness etc...\r\n\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        \r\n\r\n        mAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                if(task.isSuccessful()){\r\n                    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n                    if(user.isEmailVerified()){\r\n                        // redirect to user profile\r\n                        progressBar.setVisibility(View.GONE);\r\n\r\n\r\n                        startActivity(new Intent(MainActivity.this, ProfileDashboard.class));\r\n                    }else {\r\n                        progressBar.setVisibility(View.GONE);\r\n                        user.sendEmailVerification();\r\n                        Toast.makeText(MainActivity.this,&quot;Check your email to verify your account!&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n\r\n                }else{\r\n                    progressBar.setVisibility(View.GONE);\r\n                    Toast.makeText(MainActivity.this, &quot;Failed to login! Please check your credentials&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```","title":"Firebase - User still exist after delete","body":"<p>When I deleted the user from the Realtime Database by clicking the bin next to it, the user disappears, its okay, but I can still log in by his email and password, and when the login is successful, the UUID of this user reappears when I write some values to subtables in the database, but without his values defined while registering.</p>\n<p>I thought that it should be fine after 1 hour and I could have still registered him as a new user, but I can't. I deleted him 2 days ago. What is wrong, how i can delete a user permanently - not by blocking him?</p>\n<p>Part of my main code:</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n...\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        //textview,buttons,progress bars, etc...\n        mAuth = FirebaseAuth.getInstance();\n\n        forgotPassword = (TextView) findViewById(R.id.forgotPassword);\n        forgotPassword.setOnClickListener(this);\n    }\n...\n    //Onclicks, textview value correctness etc...\n\n        progressBar.setVisibility(View.VISIBLE);\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        \n\n        mAuth.signInWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                if(task.isSuccessful()){\n                    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\n                    if(user.isEmailVerified()){\n                        // redirect to user profile\n                        progressBar.setVisibility(View.GONE);\n\n\n                        startActivity(new Intent(MainActivity.this, ProfileDashboard.class));\n                    }else {\n                        progressBar.setVisibility(View.GONE);\n                        user.sendEmailVerification();\n                        Toast.makeText(MainActivity.this,&quot;Check your email to verify your account!&quot;, Toast.LENGTH_LONG).show();\n                    }\n\n\n                }else{\n                    progressBar.setVisibility(View.GONE);\n                    Toast.makeText(MainActivity.this, &quot;Failed to login! Please check your credentials&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","loops","nested-loops","interpreter","brainfuck"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651161519,"creation_date":1651161519,"answer_id":72046844,"question_id":72046454,"body_markdown":"The most challenging part, I suppose, is finding the matching brackets. After you find where the matching bracket is, you can just check `tape[indexPointer]`&#39;s value, and set `i` to the position after it, which should be rather easy to do.\r\n\r\nGiven an opening bracket at index `i` in `code`, to find its matching close bracket, you just need to go to the right of `i` in `code`. You start with an stack with a single `[` in it - this is the `[` at `i`. Every time you encounter a new `[`, you push it onto the stack. Every time you encounter a `]`, you pop a `[` from the stack - this `]` you encountered matches the `[` you popped! When you popped the last `[` from the stack (i.e. when the stack becomes empty), you know you have found the matching close bracket of the open bracket at `i`.\r\n\r\nIn code, you don&#39;t even need a `Stack`. You can just use an `int` to encode how many elements are in the stack - increment it when you push, decrement it when you pop.\r\n\r\n    private static int findMatchingCloseBracketAfterOpenBracket(char[] code, int openBracketIndex) {\r\n        // parameter validations omitted\r\n        int stack = 1;\r\n        for (int i = openBracketIndex + 1; i &lt; code.length ; i++) {\r\n            if (code[i] == &#39;[&#39;) {\r\n                stack++;\r\n            } else if (code[i] == &#39;]&#39;) {\r\n                stack--;\r\n            }\r\n            if (stack == 0) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1; // brackets not balanced!\r\n    }\r\n\r\nTo find the matching `[` of a `]`, the idea is same, except you go the other direction, and reverse the push and pop actions.\r\n\r\n    private static int findMatchingOpenBracketBeforeCloseBracket(char[] code, int closeBracketIndex) {\r\n        // parameter validations omitted\r\n        int stack = 1;\r\n        for (int i = closeBracketIndex - 1; i &gt;= 0 ; i--) {\r\n            if (code[i] == &#39;[&#39;) {\r\n                stack--;\r\n            } else if (code[i] == &#39;]&#39;) {\r\n                stack++;\r\n            }\r\n            if (stack == 0) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1; // brackets not balanced!\r\n    }\r\n\r\n(Refactoring the code duplication here is left as an exercise for the reader)","title":"How do I implement the looping functionality in my BrainFuck Interpreter?","body":"<p>The most challenging part, I suppose, is finding the matching brackets. After you find where the matching bracket is, you can just check <code>tape[indexPointer]</code>'s value, and set <code>i</code> to the position after it, which should be rather easy to do.</p>\n<p>Given an opening bracket at index <code>i</code> in <code>code</code>, to find its matching close bracket, you just need to go to the right of <code>i</code> in <code>code</code>. You start with an stack with a single <code>[</code> in it - this is the <code>[</code> at <code>i</code>. Every time you encounter a new <code>[</code>, you push it onto the stack. Every time you encounter a <code>]</code>, you pop a <code>[</code> from the stack - this <code>]</code> you encountered matches the <code>[</code> you popped! When you popped the last <code>[</code> from the stack (i.e. when the stack becomes empty), you know you have found the matching close bracket of the open bracket at <code>i</code>.</p>\n<p>In code, you don't even need a <code>Stack</code>. You can just use an <code>int</code> to encode how many elements are in the stack - increment it when you push, decrement it when you pop.</p>\n<pre><code>private static int findMatchingCloseBracketAfterOpenBracket(char[] code, int openBracketIndex) {\n    // parameter validations omitted\n    int stack = 1;\n    for (int i = openBracketIndex + 1; i &lt; code.length ; i++) {\n        if (code[i] == '[') {\n            stack++;\n        } else if (code[i] == ']') {\n            stack--;\n        }\n        if (stack == 0) {\n            return i;\n        }\n    }\n    return -1; // brackets not balanced!\n}\n</code></pre>\n<p>To find the matching <code>[</code> of a <code>]</code>, the idea is same, except you go the other direction, and reverse the push and pop actions.</p>\n<pre><code>private static int findMatchingOpenBracketBeforeCloseBracket(char[] code, int closeBracketIndex) {\n    // parameter validations omitted\n    int stack = 1;\n    for (int i = closeBracketIndex - 1; i &gt;= 0 ; i--) {\n        if (code[i] == '[') {\n            stack--;\n        } else if (code[i] == ']') {\n            stack++;\n        }\n        if (stack == 0) {\n            return i;\n        }\n    }\n    return -1; // brackets not balanced!\n}\n</code></pre>\n<p>(Refactoring the code duplication here is left as an exercise for the reader)</p>\n"},{"tags":[],"owner":{"account_id":3593379,"reputation":395,"user_id":5180920,"display_name":"Daniel Cristofani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651729802,"creation_date":1651206368,"answer_id":72052806,"question_id":72046454,"body_markdown":"Updated: here&#39;s example code. Before the main execution loop you scan the whole program for matches and store them in an array:\r\n\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n        int[] targets = new int[code.length];\r\n        for (int i = 0, j; i &lt; code.length; i++) {\r\n            if (code[i] == &#39;[&#39;) {\r\n                stack.push(i);\r\n            } else if (code[i] == &#39;]&#39;) {\r\n                if (stack.empty()) {\r\n                    System.err.println(&quot;Unmatched &#39;]&#39; at byte &quot; + (i + 1) + &quot;.&quot;);\r\n                    System.exit(1);\r\n                } else {\r\n                    j = stack.pop();\r\n                    targets[i]=j;\r\n                    targets[j]=i;\r\n                }\r\n            }\r\n        }\r\n        if (!stack.empty()) {\r\n            System.err.println(&quot;Unmatched &#39;[&#39; at byte &quot; + (stack.peek() + 1) + &quot;.&quot;);\r\n            System.exit(1);\r\n        }\r\n\r\nAnd then inside the main execution loop you just jump to the precomputed location:\r\n\r\n                case &#39;[&#39;:\r\n                    if (tape[indexPointer] == 0) {\r\n                        i = targets[i];\r\n                    }\r\n                    break;\r\n                    \r\n                case &#39;]&#39;:\r\n                    if (tape[indexPointer] != 0) {\r\n                        i = targets[i];\r\n                    }\r\n                    break;\r\n\r\n(Note, we jump to the matching bracket, but the for loop will still autoincrement i as usual, so the next instruction that gets executed is the one after the matching bracket, as it should be.)\r\n\r\nThis is much faster than having to scan through a bunch of code looking for the matching bracket every time a bracket gets executed. \r\n\r\nI notice also: you probably want to convert code into an array once, and not once per instruction you execute. You probably want to run your &quot;for&quot; loop while i &lt; codelength, not 12000, and you also probably want to compute codelength only once. \r\n\r\nDefinitely &#39;.&#39; should output only one character, not add a newline as well. Also, 12000 bytes of array is too small. 30000 is the minimum, and much larger is better.\r\n\r\nGood luck!","title":"How do I implement the looping functionality in my BrainFuck Interpreter?","body":"<p>Updated: here's example code. Before the main execution loop you scan the whole program for matches and store them in an array:</p>\n<pre><code>    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n    int[] targets = new int[code.length];\n    for (int i = 0, j; i &lt; code.length; i++) {\n        if (code[i] == '[') {\n            stack.push(i);\n        } else if (code[i] == ']') {\n            if (stack.empty()) {\n                System.err.println(&quot;Unmatched ']' at byte &quot; + (i + 1) + &quot;.&quot;);\n                System.exit(1);\n            } else {\n                j = stack.pop();\n                targets[i]=j;\n                targets[j]=i;\n            }\n        }\n    }\n    if (!stack.empty()) {\n        System.err.println(&quot;Unmatched '[' at byte &quot; + (stack.peek() + 1) + &quot;.&quot;);\n        System.exit(1);\n    }\n</code></pre>\n<p>And then inside the main execution loop you just jump to the precomputed location:</p>\n<pre><code>            case '[':\n                if (tape[indexPointer] == 0) {\n                    i = targets[i];\n                }\n                break;\n                \n            case ']':\n                if (tape[indexPointer] != 0) {\n                    i = targets[i];\n                }\n                break;\n</code></pre>\n<p>(Note, we jump to the matching bracket, but the for loop will still autoincrement i as usual, so the next instruction that gets executed is the one after the matching bracket, as it should be.)</p>\n<p>This is much faster than having to scan through a bunch of code looking for the matching bracket every time a bracket gets executed.</p>\n<p>I notice also: you probably want to convert code into an array once, and not once per instruction you execute. You probably want to run your &quot;for&quot; loop while i &lt; codelength, not 12000, and you also probably want to compute codelength only once.</p>\n<p>Definitely '.' should output only one character, not add a newline as well. Also, 12000 bytes of array is too small. 30000 is the minimum, and much larger is better.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72046844,"answer_count":2,"score":3,"last_activity_date":1651729802,"creation_date":1651159719,"question_id":72046454,"body_markdown":"There&#39;s multiple questions here already, but I&#39;ll still proceed. This is a simple BrainFuck interpreter. I figured out all the other symbols, but I can&#39;t figure out how to implement loops. Can anyone help?\r\n\r\n```lang-java\r\npackage com.lang.bfinterpreter;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\n\r\nimport com.lang.exceptions.TapeSizeExceededException;\r\n\r\n\r\npublic class Interpreter {\r\n\r\n\tprivate Interpreter() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tprivate static String getCode(final String inputFile) throws IOException {\r\n\t\tString code = &quot;&quot;;\r\n\t\t\r\n\t\t// store the entire code\r\n\t\tfinal BufferedReader br = new BufferedReader(new FileReader(inputFile));\r\n\t\tfor (String line = br.readLine(); line != null; line = br.readLine()) {\r\n\t\t\tcode += line;\r\n\t\t}\r\n\t\tbr.close();\r\n\r\n\t\treturn code;\r\n\t}\r\n\t\r\n\tpublic static void interpret(final String inputFile) throws IOException,TapeSizeExceededException,IndexOutOfBoundsException {\r\n\t\t// get the program as a string\r\n\t\tfinal String code = getCode(inputFile);\r\n\r\n\t\t// create the Turing tape (static size)\r\n\t\tCharacter[] tape = new Character[12000];\r\n\t\tInteger indexPointer = 0;\r\n\t\tfor (int i = 0; i != 12000; i++) {\r\n\t\t\tswitch (code.toCharArray()[i]) {\r\n\t\t\t\tcase &#39;,&#39;:\r\n\t\t\t\t\ttape[indexPointer] = (char) System.in.read();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase &#39;.&#39;:\r\n\t\t\t\t\tSystem.out.println(tape[indexPointer]);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;+&#39;:\r\n\t\t\t\t\ttape[indexPointer]++;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;-&#39;:\r\n\t\t\t\t\ttape[indexPointer]--;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;&gt;&#39;:\r\n\t\t\t\t\tif (indexPointer == 11999) {\r\n\t\t\t\t\t\tthrow new IndexOutOfBoundsException();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tindexPointer++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;&lt;&#39;:\r\n\t\t\t\t\tif (indexPointer == 0) {\r\n\t\t\t\t\t\tthrow new IndexOutOfBoundsException();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tindexPointer--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &#39;[&#39;:\r\n\t\t\t\t\t// I have a feeling I&#39;ll need stack to store nested loops\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase &#39;]&#39;:\r\n\t\t\t\t\t// I have a feeling I&#39;ll need stack to store nested loops\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} \r\n}\r\n```\r\n\r\nI have a feeling that I will need to use Stack, but I just can&#39;t seem to figure out how. I have constructed expression evaluators before... will this require the same logic?","title":"How do I implement the looping functionality in my BrainFuck Interpreter?","body":"<p>There's multiple questions here already, but I'll still proceed. This is a simple BrainFuck interpreter. I figured out all the other symbols, but I can't figure out how to implement loops. Can anyone help?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.lang.bfinterpreter;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\n\nimport com.lang.exceptions.TapeSizeExceededException;\n\n\npublic class Interpreter {\n\n    private Interpreter() {\n        super();\n    }\n\n    private static String getCode(final String inputFile) throws IOException {\n        String code = &quot;&quot;;\n        \n        // store the entire code\n        final BufferedReader br = new BufferedReader(new FileReader(inputFile));\n        for (String line = br.readLine(); line != null; line = br.readLine()) {\n            code += line;\n        }\n        br.close();\n\n        return code;\n    }\n    \n    public static void interpret(final String inputFile) throws IOException,TapeSizeExceededException,IndexOutOfBoundsException {\n        // get the program as a string\n        final String code = getCode(inputFile);\n\n        // create the Turing tape (static size)\n        Character[] tape = new Character[12000];\n        Integer indexPointer = 0;\n        for (int i = 0; i != 12000; i++) {\n            switch (code.toCharArray()[i]) {\n                case ',':\n                    tape[indexPointer] = (char) System.in.read();\n                    break;\n                \n                case '.':\n                    System.out.println(tape[indexPointer]);\n                    break;\n\n                case '+':\n                    tape[indexPointer]++;\n                    break;\n\n                case '-':\n                    tape[indexPointer]--;\n                    break;\n\n                case '&gt;':\n                    if (indexPointer == 11999) {\n                        throw new IndexOutOfBoundsException();\n                    }\n                    else {\n                        indexPointer++;\n                    }\n                    break;\n\n                case '&lt;':\n                    if (indexPointer == 0) {\n                        throw new IndexOutOfBoundsException();\n                    }\n                    else {\n                        indexPointer--;\n                    }\n                    break;\n                    \n                case '[':\n                    // I have a feeling I'll need stack to store nested loops   \n                    break;\n                    \n                    case ']':\n                    // I have a feeling I'll need stack to store nested loops   \n                    break;\n                    \n                default:\n                    break;\n            }\n        }\n\n    } \n}\n</code></pre>\n<p>I have a feeling that I will need to use Stack, but I just can't seem to figure out how. I have constructed expression evaluators before... will this require the same logic?</p>\n"},{"tags":["java","selenium","wait","webdriverwait"],"comments":[{"owner":{"account_id":3043203,"reputation":1034,"user_id":2579652,"accept_rate":77,"display_name":"Dhru &#39;soni"},"score":0,"creation_date":1651325400,"post_id":72051896,"comment_id":127340592,"body_markdown":"you can use while loop use counters up to 10 or whatever number you used Than put thread.sleep() inside while loop, and check until that file is present on that desired folder.","body":"you can use while loop use counters up to 10 or whatever number you used Than put thread.sleep() inside while loop, and check until that file is present on that desired folder."}],"answers":[{"tags":[],"owner":{"account_id":329854,"reputation":7189,"user_id":653622,"accept_rate":84,"display_name":"Sreedhar Danturthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651728920,"creation_date":1651728920,"answer_id":72122371,"question_id":72051896,"body_markdown":"The following code which involves **do while** is working fine where it checks if the file is not directory and file names doesn&#39;t contain temporary filename **crdownload** prior to deleting the file. Before the delete file command is executed it keeps on checking for the above 2 conditions.\r\n\r\n                        do {\r\n    \t\t\t\t\t\tfor (File file : dir.listFiles()) {\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tif (!file.isDirectory() &amp;&amp; !file.getName().contains(&quot;crdownload&quot;)) {\r\n    \t\t\t\t\t\t\t\tThread.sleep(100);\r\n    \t\t\t\t\t\t\t\tfile.delete();\r\n    \t\t\t\t\t\t\t\tSystem.out.println(reportName + &quot; &quot; + file.getName() + &quot; deleted successfully&quot;);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}    \r\n    \t\t\t\t\t} while (dir.listFiles().length != 0);","title":"How to wait until file is downloaded and also wait until the file is deleted from folder in Selenium Java","body":"<p>The following code which involves <strong>do while</strong> is working fine where it checks if the file is not directory and file names doesn't contain temporary filename <strong>crdownload</strong> prior to deleting the file. Before the delete file command is executed it keeps on checking for the above 2 conditions.</p>\n<pre><code>                    do {\n                        for (File file : dir.listFiles()) {\n                            \n                            if (!file.isDirectory() &amp;&amp; !file.getName().contains(&quot;crdownload&quot;)) {\n                                Thread.sleep(100);\n                                file.delete();\n                                System.out.println(reportName + &quot; &quot; + file.getName() + &quot; deleted successfully&quot;);\n                            }\n                        }    \n                    } while (dir.listFiles().length != 0);\n</code></pre>\n"}],"owner":{"account_id":329854,"reputation":7189,"user_id":653622,"accept_rate":84,"display_name":"Sreedhar Danturthi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651728920,"creation_date":1651196232,"question_id":72051896,"body_markdown":"Have to download a file in multiple formats xls, pdf, rtf, csv, txt. But I have to check all these file formats are downloaded one after another\r\n\r\nSo I have written below code which gets executed after **Download** button is clicked. But I want the system to wait until the file is downloaded completely and also wait until the file is deleted from folder. Only after file is deleted I want to click **Download** button again\r\n\r\n    File dir = new File(folderPath);\r\n    dirContents = dir.listFiles();\r\n    int dirContentsSize = dirContents.length;\r\n    \r\n    for (int k = 0; k &lt; dirContents.length; k++) \r\n    {\r\n    \tString fileName = dirContents[k].getName();\r\n    \tSystem.out.println(fileName + &quot; identified&quot;);\r\n    \tdirContentsSize = dirContents.length;\r\n    \tboolean isFileDeleted = dirContents[k].delete();\r\n    \tif (isFileDeleted)\r\n    \tSystem.out.println(fileName + &quot; successfully deleted file&quot;);\r\n    }\r\n\r\nKindly help\r\n\r\n","title":"How to wait until file is downloaded and also wait until the file is deleted from folder in Selenium Java","body":"<p>Have to download a file in multiple formats xls, pdf, rtf, csv, txt. But I have to check all these file formats are downloaded one after another</p>\n<p>So I have written below code which gets executed after <strong>Download</strong> button is clicked. But I want the system to wait until the file is downloaded completely and also wait until the file is deleted from folder. Only after file is deleted I want to click <strong>Download</strong> button again</p>\n<pre><code>File dir = new File(folderPath);\ndirContents = dir.listFiles();\nint dirContentsSize = dirContents.length;\n\nfor (int k = 0; k &lt; dirContents.length; k++) \n{\n    String fileName = dirContents[k].getName();\n    System.out.println(fileName + &quot; identified&quot;);\n    dirContentsSize = dirContents.length;\n    boolean isFileDeleted = dirContents[k].delete();\n    if (isFileDeleted)\n    System.out.println(fileName + &quot; successfully deleted file&quot;);\n}\n</code></pre>\n<p>Kindly help</p>\n"},{"tags":["java","javafx","checkbox","gridpane"],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1564287834,"creation_date":1564287448,"answer_id":57237898,"question_id":57237656,"body_markdown":"\r\n`getNodeByRowColumnIndex` returns a `Node`. You need to cast it to `CheckBox` :\r\n\r\n    Node node = getNodeByRowColumnIndex(y,x,this.Grid);\r\n\t\tif(node instanceof CheckBox){\r\n\t\t\t  boolean bln = ((CheckBox)node).isSelected();\r\n              //todo use bln\r\n    }\r\n\r\nSide note 1 : It is not clear why you want to check `isSelected` for a `CheckBox` you just added. &lt;br/&gt;\r\nSide note 2: as per [java naming conventions](https://www.geeksforgeeks.org/java-naming-conventions/) use `GridPane grid`.","title":"How do I see if a specific CheckBox is selected within a GridPane?","body":"<p><code>getNodeByRowColumnIndex</code> returns a <code>Node</code>. You need to cast it to <code>CheckBox</code> :</p>\n\n<pre><code>Node node = getNodeByRowColumnIndex(y,x,this.Grid);\n    if(node instanceof CheckBox){\n          boolean bln = ((CheckBox)node).isSelected();\n          //todo use bln\n}\n</code></pre>\n\n<p>Side note 1 : It is not clear why you want to check <code>isSelected</code> for a <code>CheckBox</code> you just added. <br/>\nSide note 2: as per <a href=\"https://www.geeksforgeeks.org/java-naming-conventions/\" rel=\"nofollow noreferrer\">java naming conventions</a> use <code>GridPane grid</code>.</p>\n"},{"tags":[],"owner":{"account_id":15187876,"reputation":1,"user_id":10959282,"display_name":"Dusik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651728088,"creation_date":1651723398,"answer_id":72121795,"question_id":57237656,"body_markdown":"Please refer to the source code below.\r\n\r\n@FXML\r\nprivate GridPane imageGridPane;\r\n\r\nimageGridPane.addEventFilter(MouseEvent.MOUSE_CLICKED, new EventHandler&lt;MouseEvent&gt;() {\r\n\r\n\t@Override\r\n\tpublic void handle(MouseEvent e) {\r\n\t\tNode clickedNode = (Node) e.getTarget();\r\n\t\tif (clickedNode != imageGridPane) {\r\n\t\t\tNode parent = clickedNode.getParent();\r\n\t\t\twhile (parent != imageGridPane) {\r\n\t\t\t\tclickedNode = parent;\r\n\t\t\t\tparent = clickedNode.getParent();\r\n\t\t\t}\r\n\t\t\tInteger colIndex = GridPane.getColumnIndex(clickedNode);\r\n\t\t\tInteger rowIndex = GridPane.getRowIndex(clickedNode);\r\n\t\t\tSystem.out.println(&quot;Mouse clicked cell: &quot; + colIndex + &quot; And: &quot; + rowIndex);\r\n\t\t\tCheckBox itemNoCheckBox = (CheckBox) ((BorderPane) clickedNode).getTop();\r\n\t\t\tSystem.out.println(&quot;itemNo: &quot; + itemNoCheckBox.getText());\r\n\t\t\tif (itemNoCheckBox.isSelected()) {\r\n\t\t\t\tSystem.out.println(&quot;Selected&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Deselected&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});","title":"How do I see if a specific CheckBox is selected within a GridPane?","body":"<p>Please refer to the source code below.</p>\n<p>@FXML\nprivate GridPane imageGridPane;</p>\n<p>imageGridPane.addEventFilter(MouseEvent.MOUSE_CLICKED, new EventHandler() {</p>\n<pre><code>@Override\npublic void handle(MouseEvent e) {\n    Node clickedNode = (Node) e.getTarget();\n    if (clickedNode != imageGridPane) {\n        Node parent = clickedNode.getParent();\n        while (parent != imageGridPane) {\n            clickedNode = parent;\n            parent = clickedNode.getParent();\n        }\n        Integer colIndex = GridPane.getColumnIndex(clickedNode);\n        Integer rowIndex = GridPane.getRowIndex(clickedNode);\n        System.out.println(&quot;Mouse clicked cell: &quot; + colIndex + &quot; And: &quot; + rowIndex);\n        CheckBox itemNoCheckBox = (CheckBox) ((BorderPane) clickedNode).getTop();\n        System.out.println(&quot;itemNo: &quot; + itemNoCheckBox.getText());\n        if (itemNoCheckBox.isSelected()) {\n            System.out.println(&quot;Selected&quot;);\n        } else {\n            System.out.println(&quot;Deselected&quot;);\n        }\n    }\n}\n</code></pre>\n<p>});</p>\n"}],"owner":{"account_id":13398398,"reputation":75,"user_id":9912417,"display_name":"Felix H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":57237898,"answer_count":2,"score":-1,"last_activity_date":1651728088,"creation_date":1564283545,"question_id":57237656,"body_markdown":"I&#39;ve created a 10x10 GridPane of CheckBoxes. I need to see whether a specific CheckBox is selected, but the GridPane is made up of nodes. So If I access a particular node using a function from [another thread](https://stackoverflow.com/questions/20825935/javafx-get-node-by-row-and-column), I can&#39;t use *isSelected* because it is the wrong type.\r\n\r\nI&#39;ve tried modifying the function getNodeByRowColumnIndex or forcing the type to be CheckBox but I&#39;m not sure how.\r\n\r\n```java\r\n@FXML\r\nprivate GridPane Grid;\r\n\r\n@FXML\r\npublic void initialize() {\r\n\tfor (int x = 0; x &lt; 10; x++) {\r\n\t\tfor (int y = 0; y &lt; 10; y++) {\r\n\t\t\tthis.Grid.add(new CheckBox(), x, y);\r\n            //Problem here\r\n\t\t\tboolean bln = getNodeByRowColumnIndex(y,x,this.Grid).isSelected();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How do I see if a specific CheckBox is selected within a GridPane?","body":"<p>I've created a 10x10 GridPane of CheckBoxes. I need to see whether a specific CheckBox is selected, but the GridPane is made up of nodes. So If I access a particular node using a function from <a href=\"https://stackoverflow.com/questions/20825935/javafx-get-node-by-row-and-column\">another thread</a>, I can't use <em>isSelected</em> because it is the wrong type.</p>\n\n<p>I've tried modifying the function getNodeByRowColumnIndex or forcing the type to be CheckBox but I'm not sure how.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\nprivate GridPane Grid;\n\n@FXML\npublic void initialize() {\n    for (int x = 0; x &lt; 10; x++) {\n        for (int y = 0; y &lt; 10; y++) {\n            this.Grid.add(new CheckBox(), x, y);\n            //Problem here\n            boolean bln = getNodeByRowColumnIndex(y,x,this.Grid).isSelected();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":8110312,"reputation":54,"user_id":14123402,"display_name":"pvs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651726607,"creation_date":1651726607,"answer_id":72122091,"question_id":72121757,"body_markdown":"     Map&lt;Integer, List&lt;String&gt;&gt; map = Stream.of(&quot;hello&quot;, &quot;hell&quot;, &quot;gun&quot;, &quot;chicken&quot;, &quot;building&quot;, &quot;process&quot;, &quot;world&quot;)\r\n                .filter(pred -&gt; pred.length() &gt; 4)\r\n                .collect(Collectors.groupingBy(String::length));","title":"Split lines from stream into words to map their length and value","body":"<pre><code> Map&lt;Integer, List&lt;String&gt;&gt; map = Stream.of(&quot;hello&quot;, &quot;hell&quot;, &quot;gun&quot;, &quot;chicken&quot;, &quot;building&quot;, &quot;process&quot;, &quot;world&quot;)\n            .filter(pred -&gt; pred.length() &gt; 4)\n            .collect(Collectors.groupingBy(String::length));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651727239,"creation_date":1651727239,"answer_id":72122185,"question_id":72121757,"body_markdown":"Notes after the code.\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Tester {\r\n    private static Map&lt;Integer, List&lt;String&gt;&gt; byLines(String filePath) throws IOException {\r\n        Path path = Paths.get(filePath);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            return lines.flatMap(line -&gt; Arrays.stream(line.split(&quot;\\\\s+&quot;)))\r\n                        .filter(word -&gt; word.length() &gt; 4)\r\n                        .collect(Collectors.groupingBy(word -&gt; word.length()));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Map&lt;Integer, List&lt;String&gt;&gt; map = byLines(&quot;random.txt&quot;);\r\n            map.forEach((key, value) -&gt; System.out.printf(&quot;%d: %s%n&quot;, key, value));\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nYou need to call method `flatMap` to create a `Stream` that concatenates all the words from each line, thus converting a `Stream` of lines of text to a stream of words.\r\n\r\nMethod `split` (of class `String`) returns an array.  \r\nMethod `stream` (of class `Arrays`) creates a `Stream` from an array.  \r\nMethod `flatMap` concatenates all the words from all the lines and creates a `Stream` containing all the individual words in file *random.txt*.  \r\nThen you keep all words that contain more than 4 characters.  \r\nThen you collect the words according to your requirements, i.e. a `Map` where the [map] key is the length and the [map] value is a `List` containing all the words having the same length.\r\n","title":"Split lines from stream into words to map their length and value","body":"<p>Notes after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Tester {\n    private static Map&lt;Integer, List&lt;String&gt;&gt; byLines(String filePath) throws IOException {\n        Path path = Paths.get(filePath);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            return lines.flatMap(line -&gt; Arrays.stream(line.split(&quot;\\\\s+&quot;)))\n                        .filter(word -&gt; word.length() &gt; 4)\n                        .collect(Collectors.groupingBy(word -&gt; word.length()));\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            Map&lt;Integer, List&lt;String&gt;&gt; map = byLines(&quot;random.txt&quot;);\n            map.forEach((key, value) -&gt; System.out.printf(&quot;%d: %s%n&quot;, key, value));\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>You need to call method <code>flatMap</code> to create a <code>Stream</code> that concatenates all the words from each line, thus converting a <code>Stream</code> of lines of text to a stream of words.</p>\n<p>Method <code>split</code> (of class <code>String</code>) returns an array.<br />\nMethod <code>stream</code> (of class <code>Arrays</code>) creates a <code>Stream</code> from an array.<br />\nMethod <code>flatMap</code> concatenates all the words from all the lines and creates a <code>Stream</code> containing all the individual words in file <em>random.txt</em>.<br />\nThen you keep all words that contain more than 4 characters.<br />\nThen you collect the words according to your requirements, i.e. a <code>Map</code> where the [map] key is the length and the [map] value is a <code>List</code> containing all the words having the same length.</p>\n"}],"owner":{"account_id":25200098,"reputation":3,"user_id":19039072,"display_name":"Elo Melo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72122185,"answer_count":2,"score":0,"last_activity_date":1651727239,"creation_date":1651723001,"question_id":72121757,"body_markdown":"From given text, by using stream operations, I need to create a Map where word length is a key and List of words is a value. I need to filter out words that are no longer than 4 characters.\r\n\r\n    String text = &quot;random.txt&quot;;\r\n    Stream&lt;String&gt; lines = Files.lines(Paths.get(text))\r\n    Map&lt;Integer,List&lt;String&gt;&gt; map = lines.map(line -&gt; line.split(&quot;[\\\\s]+&quot;))\r\n                                    .filter(word -&gt; word.length &gt; 4)\r\n                                    .collect(Collectors.groupingBy(\r\n                                        word -&gt; Integer.valueOf(word[0].length()),\r\n                                        Collectors.mapping(word -&gt; word[0], Collectors.toList()))\r\n                                     );\r\n            \t\t\r\nI must be understanding something wrong, the way I used filter is not working - throws IndexOutOfBoundsException. How should i go about excluding words that are less than 4 characters long?\r\n\r\nI was only able to figure out how to map the first word from each line. What should I change to map \r\nevery word?\r\nThanks!","title":"Split lines from stream into words to map their length and value","body":"<p>From given text, by using stream operations, I need to create a Map where word length is a key and List of words is a value. I need to filter out words that are no longer than 4 characters.</p>\n<pre><code>String text = &quot;random.txt&quot;;\nStream&lt;String&gt; lines = Files.lines(Paths.get(text))\nMap&lt;Integer,List&lt;String&gt;&gt; map = lines.map(line -&gt; line.split(&quot;[\\\\s]+&quot;))\n                                .filter(word -&gt; word.length &gt; 4)\n                                .collect(Collectors.groupingBy(\n                                    word -&gt; Integer.valueOf(word[0].length()),\n                                    Collectors.mapping(word -&gt; word[0], Collectors.toList()))\n                                 );\n                \n</code></pre>\n<p>I must be understanding something wrong, the way I used filter is not working - throws IndexOutOfBoundsException. How should i go about excluding words that are less than 4 characters long?</p>\n<p>I was only able to figure out how to map the first word from each line. What should I change to map\nevery word?\nThanks!</p>\n"},{"tags":["java","tomcat","content-length","chunked"],"comments":[{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1545061229,"post_id":53782953,"comment_id":94485306,"body_markdown":"Why are you setting the buffer size to be double the size of your file? Also, try removing the explicit call to `flush` on the output stream.","body":"Why are you setting the buffer size to be double the size of your file? Also, try removing the explicit call to <code>flush</code> on the output stream."},{"owner":{"account_id":5767684,"reputation":167,"user_id":4552105,"display_name":"Арсен Мирзаян"},"score":0,"creation_date":1545084720,"post_id":53782953,"comment_id":94496260,"body_markdown":"I did not know if buffer used only for response body or it contains headers as well. So I set buffer size that is enough for both.","body":"I did not know if buffer used only for response body or it contains headers as well. So I set buffer size that is enough for both."},{"owner":{"account_id":5767684,"reputation":167,"user_id":4552105,"display_name":"Арсен Мирзаян"},"score":0,"creation_date":1545084885,"post_id":53782953,"comment_id":94496328,"body_markdown":"removing flush does not helps. My debug shows that call of write method invokes writing to SocketChannel.","body":"removing flush does not helps. My debug shows that call of write method invokes writing to SocketChannel."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1545085003,"post_id":53782953,"comment_id":94496380,"body_markdown":"Hmm. Usually chunked-encoding only happens when you try to do &quot;extra&quot; stuff like calling `flush()` or `close()` on the `OutputStream`. If you set the `Content-Length` and then dump the file yourself to the output stream, Tomcat really should respect your code. Tomcat version? Any reverse-proxy between your client and Tomcat?","body":"Hmm. Usually chunked-encoding only happens when you try to do &quot;extra&quot; stuff like calling <code>flush()</code> or <code>close()</code> on the <code>OutputStream</code>. If you set the <code>Content-Length</code> and then dump the file yourself to the output stream, Tomcat really should respect your code. Tomcat version? Any reverse-proxy between your client and Tomcat?"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1545085162,"post_id":53782953,"comment_id":94496430,"body_markdown":"The buffer size is for the response in general. There is usually no reason to set the response buffer size unless you are having some odd performance problem. Changing the response buffer size ends up permanently changing the response buffer for that (re-used) response object, so if you have a few large files being returned, you might end up wasting large amounts of heap with buffers that *stay large*.","body":"The buffer size is for the response in general. There is usually no reason to set the response buffer size unless you are having some odd performance problem. Changing the response buffer size ends up permanently changing the response buffer for that (re-used) response object, so if you have a few large files being returned, you might end up wasting large amounts of heap with buffers that <i>stay large</i>."},{"owner":{"account_id":5767684,"reputation":167,"user_id":4552105,"display_name":"Арсен Мирзаян"},"score":0,"creation_date":1545085364,"post_id":53782953,"comment_id":94496505,"body_markdown":"I&#39;m debbuging this code at the moment and made some updates to ticket. Looks like magic happening somewhere in Windows socket implementation.","body":"I&#39;m debbuging this code at the moment and made some updates to ticket. Looks like magic happening somewhere in Windows socket implementation."},{"owner":{"account_id":5767684,"reputation":167,"user_id":4552105,"display_name":"Арсен Мирзаян"},"score":0,"creation_date":1545085476,"post_id":53782953,"comment_id":94496554,"body_markdown":"I&#39;m testing on Tomcat 7 and Jetty 9 with Intellig Idea integration. And send requests direct to Tomcat/Jetty without any intermediate Apache or Nginx.","body":"I&#39;m testing on Tomcat 7 and Jetty 9 with Intellig Idea integration. And send requests direct to Tomcat/Jetty without any intermediate Apache or Nginx."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1545087279,"post_id":53782953,"comment_id":94497198,"body_markdown":"Tomcat has no agent-specific behavior AFAIK. Something else is going on.","body":"Tomcat has no agent-specific behavior AFAIK. Something else is going on."}],"owner":{"account_id":5767684,"reputation":167,"user_id":4552105,"display_name":"Арсен Мирзаян"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1651727169,"creation_date":1544802638,"question_id":53782953,"body_markdown":"I want to compress response body in javax.servlet.Filter. Here is my code\r\n\r\n    byte[] bytes =  // compressing response body\r\n    response.addHeader(&quot;Content-Encoding&quot;, &quot;gzip&quot;);\r\n    response.addHeader(&quot;Content-Length&quot;, String.valueOf(bytes.length));\r\n    response.setContentLength(bytes.length);\r\n    response.setBufferSize(bytes.length * 2);\r\n    ServletOutputStream output = response.getOutputStream();\r\n    output.write(bytes);\r\n    output.flush();\r\n    output.close();\r\n\r\nBut actual response I see in Chrome Dev Tool is \r\n\r\n    Accept-Ranges: bytes\r\n    Cache-Control: max-age=2592000\r\n    Content-Type: application/javascript;charset=UTF-8\r\n    Date: Fri, 14 Dec 2018 15:34:25 GMT\r\n    Last-Modified: Tue, 09 Oct 2018 13:42:54 GMT\r\n    Server: Apache-Coyote/1.1\r\n    Transfer-Encoding: chunked\r\n\r\nI do not expect Transfer-Encoding: chunked, because I declare &quot;Content-Length&quot;. I wrote a simple test on java\r\n\r\n   \r\n\r\n    URLConnection connection = new URL(&quot;http://127.0.0.1:8081/js/ads.js&quot;).openConnection();\r\n    connection.addRequestProperty(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&quot;);\r\n    connection.addRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\r\n    connection.addRequestProperty(&quot;Accept-Language&quot;, &quot;ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7&quot;);\r\n    connection.addRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    connection.addRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n    connection.addRequestProperty(&quot;Host&quot;, &quot;127.0.0.1:8081&quot;);\r\n    connection.addRequestProperty(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n    connection.addRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n    connection.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36&quot;); \r\n    connection.connect();\r\n    connection.getHeaderFields().forEach((s, strings) -&gt;\r\n            System.out.println(s + &quot;:&quot; + String.join(&quot;,&quot;, strings)));\r\n\r\nand here is what I found: \r\n\r\n - if I comment setting &quot;User-Agent&quot; header or change &quot;User-Agent&quot; to any other value then I get response with &quot;Content-Length&quot;\r\n - if &quot;User-Agent&quot; points on Chrome then I get Transfer-Encoding: chunked.\r\n\r\nI debugged up to sun.nio.ch.SocketChannel#write method and it gets correct ByteBuffers with Content-Length header values. \r\n\r\nI cant undestand where is this magic transormation to chunked happening? \r\n\r\n**Update** \r\n\r\nThe strange thing is that I write gziped bytes into Socket (I&#39;m sure as I debugged up to call of native method write in SocketChannel implementation). But URLConnection returns my **unzipped** byte array with Chrome&#39;s User-Agent and correct gziped byte array if I dont specify User-Agent header or put some random string. \r\nSO seems like magic happening somewhere in Windows socket implementation.","title":"Servlet ignores Content-Length and uses Transfer-Encoding: chunked based on User-Agent","body":"<p>I want to compress response body in javax.servlet.Filter. Here is my code</p>\n\n<pre><code>byte[] bytes =  // compressing response body\nresponse.addHeader(\"Content-Encoding\", \"gzip\");\nresponse.addHeader(\"Content-Length\", String.valueOf(bytes.length));\nresponse.setContentLength(bytes.length);\nresponse.setBufferSize(bytes.length * 2);\nServletOutputStream output = response.getOutputStream();\noutput.write(bytes);\noutput.flush();\noutput.close();\n</code></pre>\n\n<p>But actual response I see in Chrome Dev Tool is </p>\n\n<pre><code>Accept-Ranges: bytes\nCache-Control: max-age=2592000\nContent-Type: application/javascript;charset=UTF-8\nDate: Fri, 14 Dec 2018 15:34:25 GMT\nLast-Modified: Tue, 09 Oct 2018 13:42:54 GMT\nServer: Apache-Coyote/1.1\nTransfer-Encoding: chunked\n</code></pre>\n\n<p>I do not expect Transfer-Encoding: chunked, because I declare \"Content-Length\". I wrote a simple test on java</p>\n\n<pre><code>URLConnection connection = new URL(\"http://127.0.0.1:8081/js/ads.js\").openConnection();\nconnection.addRequestProperty(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\");\nconnection.addRequestProperty(\"Accept-Encoding\", \"gzip, deflate\");\nconnection.addRequestProperty(\"Accept-Language\", \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\");\nconnection.addRequestProperty(\"Cache-Control\", \"no-cache\");\nconnection.addRequestProperty(\"Connection\", \"keep-alive\");\nconnection.addRequestProperty(\"Host\", \"127.0.0.1:8081\");\nconnection.addRequestProperty(\"Pragma\", \"no-cache\");\nconnection.addRequestProperty(\"Upgrade-Insecure-Requests\", \"1\");\nconnection.addRequestProperty(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36\"); \nconnection.connect();\nconnection.getHeaderFields().forEach((s, strings) -&gt;\n        System.out.println(s + \":\" + String.join(\",\", strings)));\n</code></pre>\n\n<p>and here is what I found: </p>\n\n<ul>\n<li>if I comment setting \"User-Agent\" header or change \"User-Agent\" to any other value then I get response with \"Content-Length\"</li>\n<li>if \"User-Agent\" points on Chrome then I get Transfer-Encoding: chunked.</li>\n</ul>\n\n<p>I debugged up to sun.nio.ch.SocketChannel#write method and it gets correct ByteBuffers with Content-Length header values. </p>\n\n<p>I cant undestand where is this magic transormation to chunked happening? </p>\n\n<p><strong>Update</strong> </p>\n\n<p>The strange thing is that I write gziped bytes into Socket (I'm sure as I debugged up to call of native method write in SocketChannel implementation). But URLConnection returns my <strong>unzipped</strong> byte array with Chrome's User-Agent and correct gziped byte array if I dont specify User-Agent header or put some random string. \nSO seems like magic happening somewhere in Windows socket implementation.</p>\n"},{"tags":["java","performance"],"answers":[{"tags":[],"owner":{"account_id":18824026,"reputation":219,"user_id":13729386,"display_name":"Navneet agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651726865,"creation_date":1651685164,"answer_id":72117111,"question_id":72116987,"body_markdown":"You can use Json Map flattener (Spring Vault) :- \r\n\r\n        final Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); // your original map\r\n        Map&lt;String, String&gt; keyMap = JsonMapFlattener.flattenToStringMap(map);\r\n        //Input\r\n\r\n        {&quot;key&quot;: {&quot;nest&quot;: 1}, &quot;key2&quot;: [&quot;1&quot;, &quot;2&quot;] }\r\n\r\n        //Output\r\n\r\n        key.nest=1\r\n        key2[0]=&quot;1&quot;\r\n        key2[1]=&quot;2&quot;","title":"Flatten Java Map that contains nested Maps as well in single Map","body":"<p>You can use Json Map flattener (Spring Vault) :-</p>\n<pre><code>    final Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); // your original map\n    Map&lt;String, String&gt; keyMap = JsonMapFlattener.flattenToStringMap(map);\n    //Input\n\n    {&quot;key&quot;: {&quot;nest&quot;: 1}, &quot;key2&quot;: [&quot;1&quot;, &quot;2&quot;] }\n\n    //Output\n\n    key.nest=1\n    key2[0]=&quot;1&quot;\n    key2[1]=&quot;2&quot;\n</code></pre>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72117111,"answer_count":1,"score":1,"last_activity_date":1651726865,"creation_date":1651684480,"question_id":72116987,"body_markdown":"I have a Java `Map&lt;String, Object&gt;` that results from `Jackson`&#39;s `convertValue(CustomType, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() { })`.\r\n\r\n`CustomType` have nested objects that can be complex as well — and these could contain others in the same way.\r\n\r\nI&#39;m trying to find a library to flatten that Java `Map` into something like this:\r\n\r\n```shell\r\n# This would be a Map&lt;String, Object&gt;\r\nroot_field1: value1\r\nroot_field2: value2\r\nnested1.field1: value3\r\nnested1.field2: value4\r\nnested2.field1: value5\r\nnested2.field2: value6\r\nroot_field3: value7\r\n```\r\n\r\nThe problem I&#39;m facing is that I would need to use `JSONPath` later to update some of these values in a persistence engine, so I prefer to have everything in a collection because it&#39;s easier to traverse than `Map`s.\r\n\r\nI&#39;ve tried to implement this using the `Stream API`, but it becomes messy really quick — same with recursion. I wonder if there is a library to accomplish this in an easy, straightforward fashion...because so far, I haven&#39;t find anything.","title":"Flatten Java Map that contains nested Maps as well in single Map","body":"<p>I have a Java <code>Map&lt;String, Object&gt;</code> that results from <code>Jackson</code>'s <code>convertValue(CustomType, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() { })</code>.</p>\n<p><code>CustomType</code> have nested objects that can be complex as well — and these could contain others in the same way.</p>\n<p>I'm trying to find a library to flatten that Java <code>Map</code> into something like this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code># This would be a Map&lt;String, Object&gt;\nroot_field1: value1\nroot_field2: value2\nnested1.field1: value3\nnested1.field2: value4\nnested2.field1: value5\nnested2.field2: value6\nroot_field3: value7\n</code></pre>\n<p>The problem I'm facing is that I would need to use <code>JSONPath</code> later to update some of these values in a persistence engine, so I prefer to have everything in a collection because it's easier to traverse than <code>Map</code>s.</p>\n<p>I've tried to implement this using the <code>Stream API</code>, but it becomes messy really quick — same with recursion. I wonder if there is a library to accomplish this in an easy, straightforward fashion...because so far, I haven't find anything.</p>\n"},{"tags":["java","chronicle","chronicle-bytes"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651726817,"creation_date":1651726817,"answer_id":72122131,"question_id":72019611,"body_markdown":"The underlying implementation uses whatever is the native byte order of the CPU. i.e. little-endian on amd64 and ARM, big-endian on Sparc.\r\n\r\nYou can swap the order with\r\n\r\n    Bytes&lt;?&gt; buf = Bytes.elasticHeapByteBuffer(MAX_SIZE);\r\n    buf.writeLong(Long.reverseLong(l));\r\n\r\n    long l2 = Long.reverseLong(buf.readLong(l));\r\n\r\nMost computers these days are little-endian so it&#39;s only an issue when sharing data with a big-endian system.\r\n\r\n","title":"Chronicle Bytes: How to write bytes in big endian order on a little endian machine?","body":"<p>The underlying implementation uses whatever is the native byte order of the CPU. i.e. little-endian on amd64 and ARM, big-endian on Sparc.</p>\n<p>You can swap the order with</p>\n<pre><code>Bytes&lt;?&gt; buf = Bytes.elasticHeapByteBuffer(MAX_SIZE);\nbuf.writeLong(Long.reverseLong(l));\n\nlong l2 = Long.reverseLong(buf.readLong(l));\n</code></pre>\n<p>Most computers these days are little-endian so it's only an issue when sharing data with a big-endian system.</p>\n"}],"owner":{"account_id":24652740,"reputation":91,"user_id":18549678,"display_name":"ccnlui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72122131,"answer_count":1,"score":1,"last_activity_date":1651726817,"creation_date":1651001885,"question_id":72019611,"body_markdown":"I&#39;m using the `Bytes&lt;U&gt;` interface from [here](https://javadoc.io/doc/net.openhft/chronicle-bytes/latest/index.html). The underlying buffer is created as follow:\r\n\r\n```\r\nBytes&lt;?&gt; buf = Bytes.elasticHeapByteBuffer(MAX_SIZE);\r\nbuf.writeLong(l);   // writes in little endian\r\n```\r\n\r\nGiven my machine byte order is little endian, how can I write the bytes in big endian instead?\r\n\r\nThank you.\r\n\r\nEdit:\r\nAccording to this [chart](https://github.com/OpenHFT/Chronicle-Bytes#comparison-of-access-to-native-memory), it seems like chronicle bytes does not support this function.","title":"Chronicle Bytes: How to write bytes in big endian order on a little endian machine?","body":"<p>I'm using the <code>Bytes&lt;U&gt;</code> interface from <a href=\"https://javadoc.io/doc/net.openhft/chronicle-bytes/latest/index.html\" rel=\"nofollow noreferrer\">here</a>. The underlying buffer is created as follow:</p>\n<pre><code>Bytes&lt;?&gt; buf = Bytes.elasticHeapByteBuffer(MAX_SIZE);\nbuf.writeLong(l);   // writes in little endian\n</code></pre>\n<p>Given my machine byte order is little endian, how can I write the bytes in big endian instead?</p>\n<p>Thank you.</p>\n<p>Edit:\nAccording to this <a href=\"https://github.com/OpenHFT/Chronicle-Bytes#comparison-of-access-to-native-memory\" rel=\"nofollow noreferrer\">chart</a>, it seems like chronicle bytes does not support this function.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-mllib","apache-spark-ml"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651673351,"creation_date":1651673351,"answer_id":72114423,"question_id":72113431,"body_markdown":"Most of the code in spark is written in Scala.  All of it compiles down to java, so you can totally write Java, just might be a little translation.\r\n\r\nYou can make your own custom Estimator class.  Here&#39;s an [example of one that&#39;s been created in Scala][1].\r\n\r\n\r\n  [1]: https://github.com/apache/spark/blob/0494dc90af48ce7da0625485a4dc6917a244d580/mllib/src/main/scala/org/apache/spark/ml/Predictor.scala","title":"Can we create custom Estimators","body":"<p>Most of the code in spark is written in Scala.  All of it compiles down to java, so you can totally write Java, just might be a little translation.</p>\n<p>You can make your own custom Estimator class.  Here's an <a href=\"https://github.com/apache/spark/blob/0494dc90af48ce7da0625485a4dc6917a244d580/mllib/src/main/scala/org/apache/spark/ml/Predictor.scala\" rel=\"nofollow noreferrer\">example of one that's been created in Scala</a>.</p>\n"}],"owner":{"account_id":24741800,"reputation":51,"user_id":18628457,"display_name":"ngi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651726557,"creation_date":1651669350,"question_id":72113431,"body_markdown":"I want to create my own Estimator for Spark ml pipeline purpose so that I can use my own custom business logic.\r\n\r\nIf any one can guide me in this using Java will be very helpful.\r\n\r\n**Update:** &lt;br&gt;\r\nI created one Estimator after Matt suggestion but not sure I am doing in proper way or not please suggest.&lt;br&gt;\r\n\r\n    public class CustomPredictors extends Predictor&lt;Vector, LogisticRegression, LogisticRegressionModel&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = -6860916159403147252L;\r\n    \t\r\n        private String uid;\r\n    \r\n        public String getUid() {\r\n        \tif(uid==null) {\r\n        \t\tuid=Identifiable.randomUID(&quot;CustomPredictors&quot;);\r\n        \t}\r\n    \t\treturn uid;\r\n    \t}\r\n    \r\n        @Override\r\n        public String uid() {\r\n        \treturn getUid();\r\n        }\r\n    \r\n        public static MLReader&lt;CustomPredictors&gt; read() {\r\n            return new DefaultParamsReader&lt;&gt;();\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic LogisticRegression copy(ParamMap extra) {\r\n    \t\treturn defaultCopy(extra);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic LogisticRegressionModel train(Dataset&lt;?&gt; dataset) {\r\n            System.out.println(&quot;CustomPredictors&quot;);\r\n            //TODO put business logic\r\n    \t\treturn null;\r\n    \t}\t\r\n    }","title":"Can we create custom Estimators","body":"<p>I want to create my own Estimator for Spark ml pipeline purpose so that I can use my own custom business logic.</p>\n<p>If any one can guide me in this using Java will be very helpful.</p>\n<p><strong>Update:</strong> <br>\nI created one Estimator after Matt suggestion but not sure I am doing in proper way or not please suggest.<br></p>\n<pre><code>public class CustomPredictors extends Predictor&lt;Vector, LogisticRegression, LogisticRegressionModel&gt; {\n\n    private static final long serialVersionUID = -6860916159403147252L;\n    \n    private String uid;\n\n    public String getUid() {\n        if(uid==null) {\n            uid=Identifiable.randomUID(&quot;CustomPredictors&quot;);\n        }\n        return uid;\n    }\n\n    @Override\n    public String uid() {\n        return getUid();\n    }\n\n    public static MLReader&lt;CustomPredictors&gt; read() {\n        return new DefaultParamsReader&lt;&gt;();\n    }\n\n    @Override\n    public LogisticRegression copy(ParamMap extra) {\n        return defaultCopy(extra);\n    }\n\n    @Override\n    public LogisticRegressionModel train(Dataset&lt;?&gt; dataset) {\n        System.out.println(&quot;CustomPredictors&quot;);\n        //TODO put business logic\n        return null;\n    }   \n}\n</code></pre>\n"},{"tags":["java","json","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644803847,"creation_date":1644803847,"answer_id":71106419,"question_id":71101525,"body_markdown":"Step 1: Create POJO to mapping\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic static class Product {\r\n    @JsonProperty(&quot;default_term&quot;)\r\n    private int default_term;\r\n    @JsonProperty(&quot;max_available_loan_amount&quot;)\r\n    private double max_available_loan_amount;\r\n}\r\n```\r\nStep 2: Extract response and deserialize to object.\r\n\r\n```\r\nProduct product = ...jsonPath().getObject(&quot;data[0].products.find {it.product_code == 2}&quot;, Product.class);\r\nSystem.out.println(product);\r\n//Product(default_term=15, max_available_loan_amount=2000.0)\r\n```","title":"How to get value from json using restassured","body":"<p>Step 1: Create POJO to mapping</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\n\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic static class Product {\n    @JsonProperty(&quot;default_term&quot;)\n    private int default_term;\n    @JsonProperty(&quot;max_available_loan_amount&quot;)\n    private double max_available_loan_amount;\n}\n</code></pre>\n<p>Step 2: Extract response and deserialize to object.</p>\n<pre><code>Product product = ...jsonPath().getObject(&quot;data[0].products.find {it.product_code == 2}&quot;, Product.class);\nSystem.out.println(product);\n//Product(default_term=15, max_available_loan_amount=2000.0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8294505,"reputation":41,"user_id":6235123,"display_name":"vijay atm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651726335,"creation_date":1651726335,"answer_id":72122057,"question_id":71101525,"body_markdown":"This could work\r\n\r\n    List&lt;Integer&gt; li_defaultTerm = response.getBody().jsonPath().get(&quot;$..products[?(@.product_code==&#39;2&#39;)].default_term&quot;);\r\n    System.out.println(li_defaultTerm.get(0));\r\n    //15\r\n\r\n    List&lt;Double&gt; li_MaxAvailLoanAmount = response.getBody().jsonPath().get(&quot;$..products[?(@.product_code==&#39;2&#39;)].max_available_loan_amount&quot;);\r\n    System.out.println(li_MaxAvailLoanAmount.get(0));\r\n    //2000.0\r\n\r\n","title":"How to get value from json using restassured","body":"<p>This could work</p>\n<pre><code>List&lt;Integer&gt; li_defaultTerm = response.getBody().jsonPath().get(&quot;$..products[?(@.product_code=='2')].default_term&quot;);\nSystem.out.println(li_defaultTerm.get(0));\n//15\n\nList&lt;Double&gt; li_MaxAvailLoanAmount = response.getBody().jsonPath().get(&quot;$..products[?(@.product_code=='2')].max_available_loan_amount&quot;);\nSystem.out.println(li_MaxAvailLoanAmount.get(0));\n//2000.0\n</code></pre>\n"}],"owner":{"account_id":18956225,"reputation":15,"user_id":16426632,"display_name":"Ivasia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71106419,"answer_count":2,"score":0,"last_activity_date":1651726335,"creation_date":1644762003,"question_id":71101525,"body_markdown":"I have json and there is array of &#39;products&#39;.\r\n```\r\n{\r\n  &quot;data&quot;: [\r\n    {\r\n      &quot;contact_id&quot;: &quot;...&quot;,\r\n      &quot;email&quot;: &quot;...&quot;,\r\n      &quot;first_name&quot;: &quot;...&quot;,\r\n      &quot;hash_campaign&quot;: &quot;&quot;,\r\n      &quot;hash_campaign_valid_to_date&quot;: null,\r\n      &quot;hash_password&quot;: &quot;&quot;,\r\n      &quot;last_name&quot;: &quot;...&quot;,\r\n      &quot;loans&quot;: [\r\n        \r\n      ],\r\n      &quot;max_available_loan_amount&quot;: 2000.00,\r\n      &quot;middle_name&quot;: &quot;P&quot;,\r\n      &quot;mobile&quot;: &quot;...&quot;,\r\n      &quot;personal_id&quot;: &quot;...&quot;,\r\n      &quot;product_code&quot;: 2,\r\n      &quot;products&quot;: [\r\n        {\r\n          &quot;available_loan_terms&quot;: [\r\n            15,\r\n            21,\r\n            30,\r\n            7,\r\n            45\r\n          ],\r\n          &quot;default_amount&quot;: 0,\r\n          &quot;default_term&quot;: 15,\r\n          &quot;document_required&quot;: 0,\r\n          &quot;max_available_loan_amount&quot;: 2000.00,\r\n          &quot;max_loan_amount&quot;: 0,\r\n          &quot;max_monthly_payment&quot;: 0.00,\r\n          &quot;product_code&quot;: 2\r\n        },\r\n        {\r\n          &quot;available_loan_terms&quot;: [\r\n            3,\r\n            6,\r\n            4,\r\n            5\r\n          ],\r\n          &quot;default_amount&quot;: 0,\r\n          &quot;default_term&quot;: 0,\r\n          &quot;document_required&quot;: 0,\r\n          &quot;max_available_loan_amount&quot;: 4000.00,\r\n          &quot;max_loan_amount&quot;: 0,\r\n          &quot;max_monthly_payment&quot;: 1300.00,\r\n          &quot;product_code&quot;: 101\r\n        },\r\n        {\r\n          &quot;available_loan_terms&quot;: [\r\n            3,\r\n            6,\r\n            4,\r\n            5\r\n          ],\r\n          &quot;default_amount&quot;: 0,\r\n          &quot;default_term&quot;: 0,\r\n          &quot;document_required&quot;: 0,\r\n          &quot;max_available_loan_amount&quot;: 3000.00,\r\n          &quot;max_loan_amount&quot;: 0,\r\n          &quot;max_monthly_payment&quot;: 1510.00,\r\n          &quot;product_code&quot;: 100\r\n        }\r\n      ],\r\n      &quot;scoring_through_zoral&quot;: &quot;0&quot;\r\n    }\r\n  ],\r\n  &quot;description&quot;: &quot;...&quot;,\r\n  &quot;requestId&quot;: &quot;...&quot;,\r\n  &quot;status&quot;: 8888\r\n}\r\n```\r\n\r\nI would like to get values of fields &#39;default_term&#39; and &#39;max_available_loan_amount&#39; only for product with code 2.\r\nI use restassured\r\nI&#39;ve tried \r\n\r\n     List&lt;List&gt; lists = response.body().jsonPath().getList(&quot;data.products&quot;);\r\n\r\nbut this code returns list with only one item, I mean all products in one item...\r\nhow can I get information for first item in products array from this json ???","title":"How to get value from json using restassured","body":"<p>I have json and there is array of 'products'.</p>\n<pre><code>{\n  &quot;data&quot;: [\n    {\n      &quot;contact_id&quot;: &quot;...&quot;,\n      &quot;email&quot;: &quot;...&quot;,\n      &quot;first_name&quot;: &quot;...&quot;,\n      &quot;hash_campaign&quot;: &quot;&quot;,\n      &quot;hash_campaign_valid_to_date&quot;: null,\n      &quot;hash_password&quot;: &quot;&quot;,\n      &quot;last_name&quot;: &quot;...&quot;,\n      &quot;loans&quot;: [\n        \n      ],\n      &quot;max_available_loan_amount&quot;: 2000.00,\n      &quot;middle_name&quot;: &quot;P&quot;,\n      &quot;mobile&quot;: &quot;...&quot;,\n      &quot;personal_id&quot;: &quot;...&quot;,\n      &quot;product_code&quot;: 2,\n      &quot;products&quot;: [\n        {\n          &quot;available_loan_terms&quot;: [\n            15,\n            21,\n            30,\n            7,\n            45\n          ],\n          &quot;default_amount&quot;: 0,\n          &quot;default_term&quot;: 15,\n          &quot;document_required&quot;: 0,\n          &quot;max_available_loan_amount&quot;: 2000.00,\n          &quot;max_loan_amount&quot;: 0,\n          &quot;max_monthly_payment&quot;: 0.00,\n          &quot;product_code&quot;: 2\n        },\n        {\n          &quot;available_loan_terms&quot;: [\n            3,\n            6,\n            4,\n            5\n          ],\n          &quot;default_amount&quot;: 0,\n          &quot;default_term&quot;: 0,\n          &quot;document_required&quot;: 0,\n          &quot;max_available_loan_amount&quot;: 4000.00,\n          &quot;max_loan_amount&quot;: 0,\n          &quot;max_monthly_payment&quot;: 1300.00,\n          &quot;product_code&quot;: 101\n        },\n        {\n          &quot;available_loan_terms&quot;: [\n            3,\n            6,\n            4,\n            5\n          ],\n          &quot;default_amount&quot;: 0,\n          &quot;default_term&quot;: 0,\n          &quot;document_required&quot;: 0,\n          &quot;max_available_loan_amount&quot;: 3000.00,\n          &quot;max_loan_amount&quot;: 0,\n          &quot;max_monthly_payment&quot;: 1510.00,\n          &quot;product_code&quot;: 100\n        }\n      ],\n      &quot;scoring_through_zoral&quot;: &quot;0&quot;\n    }\n  ],\n  &quot;description&quot;: &quot;...&quot;,\n  &quot;requestId&quot;: &quot;...&quot;,\n  &quot;status&quot;: 8888\n}\n</code></pre>\n<p>I would like to get values of fields 'default_term' and 'max_available_loan_amount' only for product with code 2.\nI use restassured\nI've tried</p>\n<pre><code> List&lt;List&gt; lists = response.body().jsonPath().getList(&quot;data.products&quot;);\n</code></pre>\n<p>but this code returns list with only one item, I mean all products in one item...\nhow can I get information for first item in products array from this json ???</p>\n"},{"tags":["java","spring-boot","spring-kafka","spring-cloud-stream"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1651067450,"post_id":72023045,"comment_id":127274242,"body_markdown":"Those threads are created by `kafka-streams` and have nothing to do with Spring.","body":"Those threads are created by <code>kafka-streams</code> and have nothing to do with Spring."},{"owner":{"account_id":2228434,"reputation":422,"user_id":2951414,"accept_rate":64,"display_name":"Erieze Lagera"},"score":0,"creation_date":1651114325,"post_id":72023045,"comment_id":127287351,"body_markdown":"Hi @GaryRussell, I&#39;ve used `spring-cloud-stream-binder-kafka-streams` as the binder, so it does manage by Spring. But it is also possible that you&#39;re right. But in any case, just wanted to look for a way to customize the thread name, Spring or Kafka approach.","body":"Hi @GaryRussell, I&#39;ve used <code>spring-cloud-stream-binder-kafka-streams</code> as the binder, so it does manage by Spring. But it is also possible that you&#39;re right. But in any case, just wanted to look for a way to customize the thread name, Spring or Kafka approach."},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1651127479,"post_id":72023045,"comment_id":127289877,"body_markdown":"When you say &quot;I can&#39;t get any good documentation&quot;, what exactly do you mean by this? We have reference documentation - https://docs.spring.io/spring-cloud-stream/docs/3.2.2/reference/html/ and if you believe there is something missing please be a bit more specific so we can update or even better; raise an issue https://github.com/spring-cloud/spring-cloud-stream/issues","body":"When you say &quot;I can&#39;t get any good documentation&quot;, what exactly do you mean by this? We have reference documentation - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/3.2.2/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/docs/3.2.2/reference/html</a> and if you believe there is something missing please be a bit more specific so we can update or even better; raise an issue <a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/issues</a>"},{"owner":{"account_id":2228434,"reputation":422,"user_id":2951414,"accept_rate":64,"display_name":"Erieze Lagera"},"score":0,"creation_date":1651725152,"post_id":72023045,"comment_id":127432360,"body_markdown":"Hello @GaryRussell, thanks for giving me insight about Spring and `kafka-streams`. It turns out there&#39;s a separate config for Kafka-related config which is outside the Spring Cloud Stream, and `clientId` is one of them.","body":"Hello @GaryRussell, thanks for giving me insight about Spring and <code>kafka-streams</code>. It turns out there&#39;s a separate config for Kafka-related config which is outside the Spring Cloud Stream, and <code>clientId</code> is one of them."},{"owner":{"account_id":2228434,"reputation":422,"user_id":2951414,"accept_rate":64,"display_name":"Erieze Lagera"},"score":0,"creation_date":1651725202,"post_id":72023045,"comment_id":127432367,"body_markdown":"@OlegZhurakousky, thanks for this link! I&#39;ll add whenever I stumbled again into some issue where I cannot find any documentation. Thanks again!","body":"@OlegZhurakousky, thanks for this link! I&#39;ll add whenever I stumbled again into some issue where I cannot find any documentation. Thanks again!"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651166837,"creation_date":1651067866,"answer_id":72030096,"question_id":72023045,"body_markdown":"Are you sure that you use plain Kafka binder, but not Kafka Streams binder? That `StreamThread` gets its name like `final String threadId = clientId + &quot;-StreamThread-&quot; + threadIdx;`. See `StreamThread` source code. So, you need to be sure what is that `clientId` propagated down to Kafka Streams.\r\n\r\nSee `StreamsConfig.CLIENT_ID_CONFIG` which you can configure via `spring.cloud.stream.kafka.streams.binder.applicationId` property.\r\n\r\n\r\n**UPDATE**\r\n\r\nOK. I found the logic in the `KafkaStreams`:\r\n\r\n        // The application ID is a required config and hence should always have value\r\n        final String userClientId = config.getString(StreamsConfig.CLIENT_ID_CONFIG);\r\n        final String applicationId = config.getString(StreamsConfig.APPLICATION_ID_CONFIG);\r\n        if (userClientId.length() &lt;= 0) {\r\n            clientId = applicationId + &quot;-&quot; + processId;\r\n        } else {\r\n            clientId = userClientId;\r\n        }\r\n       ...\r\n       final String baseName = clientId + &quot;-StreamThread-&quot;;\r\nSo, the final thread name is based on that `clientId` exactly.\r\n\r\nIf that `StreamsConfig.CLIENT_ID_CONFIG` is empty, then it is based on the `applicationId` plus that `processId`. which might be indeed a GUID  you mention. \r\n\r\nTherefore consider to set that `StreamsConfig.CLIENT_ID_CONFIG` instead of an `applicationId`.","title":"Spring Cloud Stream - Is there a way to customize the StreamThread thread name?","body":"<p>Are you sure that you use plain Kafka binder, but not Kafka Streams binder? That <code>StreamThread</code> gets its name like <code>final String threadId = clientId + &quot;-StreamThread-&quot; + threadIdx;</code>. See <code>StreamThread</code> source code. So, you need to be sure what is that <code>clientId</code> propagated down to Kafka Streams.</p>\n<p>See <code>StreamsConfig.CLIENT_ID_CONFIG</code> which you can configure via <code>spring.cloud.stream.kafka.streams.binder.applicationId</code> property.</p>\n<p><strong>UPDATE</strong></p>\n<p>OK. I found the logic in the <code>KafkaStreams</code>:</p>\n<pre><code>    // The application ID is a required config and hence should always have value\n    final String userClientId = config.getString(StreamsConfig.CLIENT_ID_CONFIG);\n    final String applicationId = config.getString(StreamsConfig.APPLICATION_ID_CONFIG);\n    if (userClientId.length() &lt;= 0) {\n        clientId = applicationId + &quot;-&quot; + processId;\n    } else {\n        clientId = userClientId;\n    }\n   ...\n   final String baseName = clientId + &quot;-StreamThread-&quot;;\n</code></pre>\n<p>So, the final thread name is based on that <code>clientId</code> exactly.</p>\n<p>If that <code>StreamsConfig.CLIENT_ID_CONFIG</code> is empty, then it is based on the <code>applicationId</code> plus that <code>processId</code>. which might be indeed a GUID  you mention.</p>\n<p>Therefore consider to set that <code>StreamsConfig.CLIENT_ID_CONFIG</code> instead of an <code>applicationId</code>.</p>\n"}],"owner":{"account_id":2228434,"reputation":422,"user_id":2951414,"accept_rate":64,"display_name":"Erieze Lagera"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72030096,"answer_count":1,"score":1,"last_activity_date":1651725359,"creation_date":1651031455,"question_id":72023045,"body_markdown":"I&#39;m using Spring Cloud Stream (Kafka as the binder) in my current project and the default thread name for `StreamThread` keeps me bothered as it is very long.\r\n\r\nHere&#39;s what it looks like:\r\n```\r\n&lt;applicationId&gt;-&lt;GUID&gt;-StreamThread-1\r\nsomeEvent-578fb764-3fba-4a54-9a34-ea9796053530-StreamThread-1\r\n```\r\n\r\nWith this long thread name, it is hard to see the actual log message.\r\n\r\nWould like to know if there&#39;s a way to configure the thread name.\r\n\r\nI already tried the one below but it is not working:\r\n```\r\n@Bean\r\npublic ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;?, ?&gt;&gt; listenerCustomizer() {\r\n    return (container, destinationName, group) -&gt; {\r\n        // Format to &quot;[group].[destination]\r\n        container.setBeanName(String.format(&quot;%s.%s&quot;, group, destinationName));\r\n    };\r\n}\r\n```\r\n\r\nMaybe I&#39;m in the wrong config?\r\n\r\nSide note: I enjoy using Spring Cloud Stream, and it is quite popular from what I see. But it keeps me wondering why I can&#39;t get any good documentation.\r\n\r\nEdit:\r\nSolved the issue by adding `spring.kafka.client-id` in `application.properties`.\r\n\r\nHaving the `client-id` present, `KafkaStreams` will use the user-defined `client-id` as the thread name.","title":"Spring Cloud Stream - Is there a way to customize the StreamThread thread name?","body":"<p>I'm using Spring Cloud Stream (Kafka as the binder) in my current project and the default thread name for <code>StreamThread</code> keeps me bothered as it is very long.</p>\n<p>Here's what it looks like:</p>\n<pre><code>&lt;applicationId&gt;-&lt;GUID&gt;-StreamThread-1\nsomeEvent-578fb764-3fba-4a54-9a34-ea9796053530-StreamThread-1\n</code></pre>\n<p>With this long thread name, it is hard to see the actual log message.</p>\n<p>Would like to know if there's a way to configure the thread name.</p>\n<p>I already tried the one below but it is not working:</p>\n<pre><code>@Bean\npublic ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;?, ?&gt;&gt; listenerCustomizer() {\n    return (container, destinationName, group) -&gt; {\n        // Format to &quot;[group].[destination]\n        container.setBeanName(String.format(&quot;%s.%s&quot;, group, destinationName));\n    };\n}\n</code></pre>\n<p>Maybe I'm in the wrong config?</p>\n<p>Side note: I enjoy using Spring Cloud Stream, and it is quite popular from what I see. But it keeps me wondering why I can't get any good documentation.</p>\n<p>Edit:\nSolved the issue by adding <code>spring.kafka.client-id</code> in <code>application.properties</code>.</p>\n<p>Having the <code>client-id</code> present, <code>KafkaStreams</code> will use the user-defined <code>client-id</code> as the thread name.</p>\n"},{"tags":["java","json","response","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650465686,"creation_date":1650450946,"answer_id":71938175,"question_id":71937818,"body_markdown":"All you need is just to parse your Json. This could be done very simply. You can parse your given Json to a `List&lt;Map&gt;` or you can create a simple class lets call it `MyClassInfo`and parse your Json to a `List&lt;MyClassInfo&gt;`. Your `MyClassInfo` would look like this:\r\n\r\n    public class MyClassInfo {\r\n      @JsonProperty(&quot;class&quot;)\r\n      private String myClass;\r\n      private Integer id;\r\n      private Integer variable;\r\n      // Add setters and getters here\r\n    }\r\nNow you can easily parse it using Json Jackson library:\r\nForMaps:\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; myList;\r\n    ObjectMapper = new ObjectMapper();\r\n    //Add setters for ObjectMapper configuration here if you want a specific config\r\n    try {\r\n      myList = objectMapper.readValue(myJsonString, List.class);\r\n    } catch(IOException ioe) {\r\n    ...\r\n    }\r\nAnd for `MyClassInfo` class\r\n\r\n    List&lt;MyClassInfo&gt; myList;\r\n    ObjectMapper = new ObjectMapper();\r\n    //Add setters for ObjectMapper configuration here if you want a specific config\r\n    try {\r\n      myList = objectMapper.readValue(myJsonString, List.class);\r\n    } catch(IOException ioe) {\r\n    ...\r\n    }\r\n\r\nNow you can just go through your list and extract from each `map` or `MyClassInfo` the required id.\r\n\r\nJust to simplify it a bit more you can do parsing with `JsonUtils` class from MgntUtils library written by me. Here is the code with `JsonUtils` class (just for `MyClassInfo` class:\r\n```\r\n    List&lt;MyClassInfo&gt; myList;\r\n    try {\r\n      myList = JsonUtils.readObjectFromJsonString(myJsonString, List.class);\r\n    } catch(IOException ioe) {\r\n    ...\r\n    }\r\n```\r\nNote that in this case you won&#39;t have to instantiate and configure `ObjectMapper` instance as `readObjectFromJsonString` is a static method. Anyway if you are interested in using my library you can find maven artifacts [here][1] and The library itself with source code and javadoc is on Github [here][2]. Javadoc for `JsonUtils` class is [here][3]\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [2]: https://github.com/michaelgantman/Mgnt/releases\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n\r\n","title":"Extract a value in a json response with a variable","body":"<p>All you need is just to parse your Json. This could be done very simply. You can parse your given Json to a <code>List&lt;Map&gt;</code> or you can create a simple class lets call it <code>MyClassInfo</code>and parse your Json to a <code>List&lt;MyClassInfo&gt;</code>. Your <code>MyClassInfo</code> would look like this:</p>\n<pre><code>public class MyClassInfo {\n  @JsonProperty(&quot;class&quot;)\n  private String myClass;\n  private Integer id;\n  private Integer variable;\n  // Add setters and getters here\n}\n</code></pre>\n<p>Now you can easily parse it using Json Jackson library:\nForMaps:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; myList;\nObjectMapper = new ObjectMapper();\n//Add setters for ObjectMapper configuration here if you want a specific config\ntry {\n  myList = objectMapper.readValue(myJsonString, List.class);\n} catch(IOException ioe) {\n...\n}\n</code></pre>\n<p>And for <code>MyClassInfo</code> class</p>\n<pre><code>List&lt;MyClassInfo&gt; myList;\nObjectMapper = new ObjectMapper();\n//Add setters for ObjectMapper configuration here if you want a specific config\ntry {\n  myList = objectMapper.readValue(myJsonString, List.class);\n} catch(IOException ioe) {\n...\n}\n</code></pre>\n<p>Now you can just go through your list and extract from each <code>map</code> or <code>MyClassInfo</code> the required id.</p>\n<p>Just to simplify it a bit more you can do parsing with <code>JsonUtils</code> class from MgntUtils library written by me. Here is the code with <code>JsonUtils</code> class (just for <code>MyClassInfo</code> class:</p>\n<pre><code>    List&lt;MyClassInfo&gt; myList;\n    try {\n      myList = JsonUtils.readObjectFromJsonString(myJsonString, List.class);\n    } catch(IOException ioe) {\n    ...\n    }\n</code></pre>\n<p>Note that in this case you won't have to instantiate and configure <code>ObjectMapper</code> instance as <code>readObjectFromJsonString</code> is a static method. Anyway if you are interested in using my library you can find maven artifacts <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a> and The library itself with source code and javadoc is on Github <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a>. Javadoc for <code>JsonUtils</code> class is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650465624,"creation_date":1650465624,"answer_id":71941632,"question_id":71937818,"body_markdown":"Quick solution here, query by condition with GPath syntax.\r\n\r\n```\r\nint id = response.jsonPath().get(&quot;find {it.variable == 87}.id&quot;);\r\n```","title":"Extract a value in a json response with a variable","body":"<p>Quick solution here, query by condition with GPath syntax.</p>\n<pre><code>int id = response.jsonPath().get(&quot;find {it.variable == 87}.id&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8294505,"reputation":41,"user_id":6235123,"display_name":"vijay atm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651725189,"creation_date":1651725189,"answer_id":72121939,"question_id":71937818,"body_markdown":"We can use jsonpath to get a list of objects matching our criteria and return a list or map.\r\n\r\n    Response response = given()\r\n                    .config(config)\r\n                    .header(&quot;accept&quot;,&quot;application&quot;)\r\n                    .when()\r\n                    .get(&quot;requestID&quot;)\r\n                    .then()\r\n                    .extract().response();\r\n\r\nHere I&#39;m assuming the variable is `class=&#39;test 1&#39;`. You can give any criteria to match against. \r\n\r\n    List&lt;Integer&gt; ids = response.jsonpath().get(&quot;*[?(@.class==&#39;test 1&#39;)]..id&quot;);\r\n\r\n    System.out.println(ids.get(0));\r\n\r\nRefer: https://github.com/json-path/JsonPath\r\n","title":"Extract a value in a json response with a variable","body":"<p>We can use jsonpath to get a list of objects matching our criteria and return a list or map.</p>\n<pre><code>Response response = given()\n                .config(config)\n                .header(&quot;accept&quot;,&quot;application&quot;)\n                .when()\n                .get(&quot;requestID&quot;)\n                .then()\n                .extract().response();\n</code></pre>\n<p>Here I'm assuming the variable is <code>class='test 1'</code>. You can give any criteria to match against.</p>\n<pre><code>List&lt;Integer&gt; ids = response.jsonpath().get(&quot;*[?(@.class=='test 1')]..id&quot;);\n\nSystem.out.println(ids.get(0));\n</code></pre>\n<p>Refer: <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath</a></p>\n"}],"owner":{"account_id":23698915,"reputation":36,"user_id":17722317,"display_name":"raskoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651725189,"creation_date":1650449431,"question_id":71937818,"body_markdown":"I am trying to return the id of a declared variable from a json file: i want my java code to search for the previous variable in the json response and once it is found -&gt; return the corresponding id.\r\nI am using RestAssured in java.\r\n\r\nJson file response example: \r\n\r\n    [\r\n     {\r\n      &quot;class&quot; : &quot;test 1&quot;,\r\n      &quot;id&quot;    : 5,\r\n      &quot;variable&quot; : 87\r\n      },\r\n     {\r\n      &quot;class&quot; : &quot;test 2&quot;,\r\n      &quot;id&quot;    : 7,\r\n      &quot;variable&quot; : 76\r\n      }\r\n    ]\r\n\r\n\r\nNow, i do something like that but i have no idea: \r\n\r\n    Response response = given()\r\n                    .config(config)\r\n                    .header(&quot;accept&quot;,&quot;application&quot;)\r\n                    .when()\r\n                    .get(&quot;requestID&quot;)\r\n                    .then()\r\n                    .extract().response();\r\n    \r\n    String id = String.valueOf(response.\r\n                    body().\r\n                    jsonPath().\r\n                    get(&quot;id&quot;).toString().contains(variable));\r\n\r\n\r\n\r\nThank you\r\n\r\n","title":"Extract a value in a json response with a variable","body":"<p>I am trying to return the id of a declared variable from a json file: i want my java code to search for the previous variable in the json response and once it is found -&gt; return the corresponding id.\nI am using RestAssured in java.</p>\n<p>Json file response example:</p>\n<pre><code>[\n {\n  &quot;class&quot; : &quot;test 1&quot;,\n  &quot;id&quot;    : 5,\n  &quot;variable&quot; : 87\n  },\n {\n  &quot;class&quot; : &quot;test 2&quot;,\n  &quot;id&quot;    : 7,\n  &quot;variable&quot; : 76\n  }\n]\n</code></pre>\n<p>Now, i do something like that but i have no idea:</p>\n<pre><code>Response response = given()\n                .config(config)\n                .header(&quot;accept&quot;,&quot;application&quot;)\n                .when()\n                .get(&quot;requestID&quot;)\n                .then()\n                .extract().response();\n\nString id = String.valueOf(response.\n                body().\n                jsonPath().\n                get(&quot;id&quot;).toString().contains(variable));\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","jframe","jpasswordfield"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1500842082,"post_id":45269543,"comment_id":77502125,"body_markdown":"But isnt that what a JPasswordField is supposed to be ? An entry hiding your text using * ? I think you&#39;ll have to use a JLabel, as shown here : https://java-tutorial.org/jpasswordfield.html","body":"But isnt that what a JPasswordField is supposed to be ? An entry hiding your text using * ? I think you&#39;ll have to use a JLabel, as shown here : <a href=\"https://java-tutorial.org/jpasswordfield.html\" rel=\"nofollow noreferrer\">java-tutorial.org/jpasswordfield.html</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1500851355,"post_id":45269543,"comment_id":77504260,"body_markdown":"You might want to have look at [Java - placeholder on textfield](https://stackoverflow.com/questions/13033600/java-placeholder-on-textfield/13036762#13036762) - there&#39;s an API which will do what you&#39;re trying to do","body":"You might want to have look at <a href=\"https://stackoverflow.com/questions/13033600/java-placeholder-on-textfield/13036762#13036762\">Java - placeholder on textfield</a> - there&#39;s an API which will do what you&#39;re trying to do"}],"answers":[{"tags":[],"owner":{"account_id":21372606,"reputation":21,"user_id":15739904,"display_name":"Simran Chelani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619448992,"creation_date":1619103590,"answer_id":67215816,"question_id":45269543,"body_markdown":"What i did for my login code was add a checkbox that &quot;shows password&quot; and in the jframe i added this statement:\r\n\r\n    //Setting checkbox selected to true so the word &quot;password&quot; is seen when program runs\r\n     passCheckBox.setSelected(true);\r\n        if(passCheckBox.isSelected())\r\n        {\r\n            PasswordField.setEchoChar((char)0);\r\n        }`\r\n\r\nCode for password checkbox:\r\n\r\n    if(passCheckBox.isSelected())\r\n            {\r\n                PasswordField.setEchoChar((char)0);\r\n            }else{\r\n                \r\n                PasswordField.setEchoChar(&#39;*&#39;);\r\n            }\r\n\r\n\r\nCode for Password Field Focus Gained:\r\n\r\n    private void PasswordFieldFocusGained(java.awt.event.FocusEvent evt) {                                          \r\n        passCheckBox.setSelected(false);\r\n        PasswordField.setEchoChar(&#39;*&#39;);\r\n        String password = String.valueOf(PasswordField.getPassword());\r\n        \r\n        if(password.toLowerCase().equals(&quot;password&quot;))\r\n        {\r\n            PasswordField.setText(&quot;&quot;);\r\n            PasswordField.setForeground(Color.black);\r\n        }\r\n        \r\n    }     \r\n\r\n     \r\nCode for Password Field focus lost:\r\n\r\n    private void PasswordFieldFocusLost(java.awt.event.FocusEvent evt) {                                        \r\n         \r\n        String password = String.valueOf(PasswordField.getPassword());\r\n        \r\n        \r\n        if(password.toLowerCase().equals(&quot;password&quot;) || password.toLowerCase().equals(&quot;&quot;) )\r\n        {\r\n            PasswordField.setText(&quot;Password&quot;);\r\n            PasswordField.setEchoChar((char)0);\r\n            PasswordField.setForeground(new Color(153, 153, 153));\r\n        }\r\n    }                \r\n\r\n\r\nI kinda did half of this on my own and took some bits from videos i hope this helps :&gt;","title":"Set PlaceHolder on JPasswordField","body":"<p>What i did for my login code was add a checkbox that &quot;shows password&quot; and in the jframe i added this statement:</p>\n<pre><code>//Setting checkbox selected to true so the word &quot;password&quot; is seen when program runs\n passCheckBox.setSelected(true);\n    if(passCheckBox.isSelected())\n    {\n        PasswordField.setEchoChar((char)0);\n    }`\n</code></pre>\n<p>Code for password checkbox:</p>\n<pre><code>if(passCheckBox.isSelected())\n        {\n            PasswordField.setEchoChar((char)0);\n        }else{\n            \n            PasswordField.setEchoChar('*');\n        }\n</code></pre>\n<p>Code for Password Field Focus Gained:</p>\n<pre><code>private void PasswordFieldFocusGained(java.awt.event.FocusEvent evt) {                                          \n    passCheckBox.setSelected(false);\n    PasswordField.setEchoChar('*');\n    String password = String.valueOf(PasswordField.getPassword());\n    \n    if(password.toLowerCase().equals(&quot;password&quot;))\n    {\n        PasswordField.setText(&quot;&quot;);\n        PasswordField.setForeground(Color.black);\n    }\n    \n}     \n\n \n</code></pre>\n<p>Code for Password Field focus lost:</p>\n<pre><code>private void PasswordFieldFocusLost(java.awt.event.FocusEvent evt) {                                        \n     \n    String password = String.valueOf(PasswordField.getPassword());\n    \n    \n    if(password.toLowerCase().equals(&quot;password&quot;) || password.toLowerCase().equals(&quot;&quot;) )\n    {\n        PasswordField.setText(&quot;Password&quot;);\n        PasswordField.setEchoChar((char)0);\n        PasswordField.setForeground(new Color(153, 153, 153));\n    }\n}                \n</code></pre>\n<p>I kinda did half of this on my own and took some bits from videos i hope this helps :&gt;</p>\n"},{"tags":[],"owner":{"account_id":23973821,"reputation":9,"user_id":17962151,"display_name":"wavydeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651724133,"creation_date":1651724133,"answer_id":72121851,"question_id":45269543,"body_markdown":"Here is my method for getting the placeholders\r\n\r\n\r\n    private void getPlaceholders(JTextField text) {\r\n\r\n    \t\tString temp = text.getText();\r\n\r\n    \t\ttext.addFocusListener(new FocusListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void focusGained(FocusEvent e) {\r\n    \t\t\t\ttext.setText(&quot;&quot;);\r\n    \t\t\t\ttext.setForeground(Color.BLACK);\r\n\r\n    \t\t\t}\r\n\r\n    \t\t\t@Override\r\n    \t\t\tpublic void focusLost(FocusEvent e) {\r\n    \t\t\t\tif (text.getText().isEmpty()) {\r\n    \t\t\t\t\ttext.setForeground(Color.GRAY);\r\n    \t\t\t\t\ttext.setText(temp);\r\n    \t\t\t\t}\r\n\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n\r\n\r\nHere is how i implemented it. \r\n\r\n\r\n    // \t\tPassword Field\r\n    \t\tpasswordField = new JPasswordField();\r\n    \t\tpasswordField.setBounds(48, 340, 288, 32);\r\n    \t\troundedPanel.add(passwordField);\r\n    \t\tpasswordField.setText(&quot;Password&quot;);\r\n    \t\tpasswordField.setEchoChar((char) 0);\r\n    \t\tgetPlaceholders(passwordField);\r\n\r\nwhat allows you to see placeholders in passwordFields is \r\n\r\n\r\npasswordField.setEchoChar((char) 0);\r\n\r\nyou can take it out to use in regular text fields\r\n\r\n","title":"Set PlaceHolder on JPasswordField","body":"<p>Here is my method for getting the placeholders</p>\n<pre><code>private void getPlaceholders(JTextField text) {\n\n        String temp = text.getText();\n\n        text.addFocusListener(new FocusListener() {\n            @Override\n            public void focusGained(FocusEvent e) {\n                text.setText(&quot;&quot;);\n                text.setForeground(Color.BLACK);\n\n            }\n\n            @Override\n            public void focusLost(FocusEvent e) {\n                if (text.getText().isEmpty()) {\n                    text.setForeground(Color.GRAY);\n                    text.setText(temp);\n                }\n\n            }\n        });\n    }\n</code></pre>\n<p>Here is how i implemented it.</p>\n<pre><code>//      Password Field\n        passwordField = new JPasswordField();\n        passwordField.setBounds(48, 340, 288, 32);\n        roundedPanel.add(passwordField);\n        passwordField.setText(&quot;Password&quot;);\n        passwordField.setEchoChar((char) 0);\n        getPlaceholders(passwordField);\n</code></pre>\n<p>what allows you to see placeholders in passwordFields is</p>\n<p>passwordField.setEchoChar((char) 0);</p>\n<p>you can take it out to use in regular text fields</p>\n"}],"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651724133,"creation_date":1500841154,"question_id":45269543,"body_markdown":"I am developing a system with Java (using NetBeans) and, to make it more &quot;professional&quot;, I&#39;ve added some cool functions, such as **Placeholders** (Yes, I know, it&#39;s from HTML).  \r\n\r\nFor ALL the **JTextField**s I have, I&#39;ve used the following code to generate their placeholders (The name of the JTextField in this example is &quot;tfUser&quot;) :\r\n\r\n    private void tfUserFocusGained(java.awt.event.FocusEvent evt) {\r\n        if (tfUser.getText().equals(&quot;Your User Name...&quot;)) {\r\n            tfUser.setText(&quot;&quot;);\r\n            tfUser.setForeground(Color.BLACK);\r\n        }\r\n    }\r\n\r\n    private void tfUserFocusLost(java.awt.event.FocusEvent evt) {                                    \r\n        if (tfUser.getText().equals(&quot;&quot;)) {\r\n            tfUser.setText(&quot;Your User Name...&quot;);\r\n            tfUser.setForeground(Color.GRAY);\r\n        }\r\n    }\r\n\r\nIt&#39;s a &quot;focus match&quot;:\r\nThe Text Field has initially the text &quot;Your User Name...&quot;, with a &quot;GRAY&quot; foreground.  Every time this text field gains the focus, it verifies its text: if the text.equals(&quot;Your User Name...&quot;), its text is set to &quot;&quot; (An empty String) and the Foreground is set to BLACK (default). On the other hand, if the text.equals(&quot;Anything else...&quot;), it means that the user has probably inserted the user name, so, do not do anything with this code.  \r\n\r\nEvery time the text field loses the focus, it verifies its text: if the text.equals(&quot;&quot;) (An empty String again), its text is set back to &quot;Your User Name...&quot; and the Foreground is set to GRAY. And again, if the text.equals(&quot;Anything else...&quot;), it means that the user has probably inserted the user name, so, do not do anything with this code.  \r\n\r\nThis code is working perfectly with the JTextFields **But**, when I do the same with ***JPasswordFields***, I get the following result:    \r\n\r\n    ****************  \r\n(It should be &quot;Your Password...&quot;)\r\n\r\nCan anyone help me to add a placeholder to this JPasswordField? Thanks in advance.","title":"Set PlaceHolder on JPasswordField","body":"<p>I am developing a system with Java (using NetBeans) and, to make it more \"professional\", I've added some cool functions, such as <strong>Placeholders</strong> (Yes, I know, it's from HTML).  </p>\n\n<p>For ALL the <strong>JTextField</strong>s I have, I've used the following code to generate their placeholders (The name of the JTextField in this example is \"tfUser\") :</p>\n\n<pre><code>private void tfUserFocusGained(java.awt.event.FocusEvent evt) {\n    if (tfUser.getText().equals(\"Your User Name...\")) {\n        tfUser.setText(\"\");\n        tfUser.setForeground(Color.BLACK);\n    }\n}\n\nprivate void tfUserFocusLost(java.awt.event.FocusEvent evt) {                                    \n    if (tfUser.getText().equals(\"\")) {\n        tfUser.setText(\"Your User Name...\");\n        tfUser.setForeground(Color.GRAY);\n    }\n}\n</code></pre>\n\n<p>It's a \"focus match\":\nThe Text Field has initially the text \"Your User Name...\", with a \"GRAY\" foreground.  Every time this text field gains the focus, it verifies its text: if the text.equals(\"Your User Name...\"), its text is set to \"\" (An empty String) and the Foreground is set to BLACK (default). On the other hand, if the text.equals(\"Anything else...\"), it means that the user has probably inserted the user name, so, do not do anything with this code.  </p>\n\n<p>Every time the text field loses the focus, it verifies its text: if the text.equals(\"\") (An empty String again), its text is set back to \"Your User Name...\" and the Foreground is set to GRAY. And again, if the text.equals(\"Anything else...\"), it means that the user has probably inserted the user name, so, do not do anything with this code.  </p>\n\n<p>This code is working perfectly with the JTextFields <strong>But</strong>, when I do the same with <strong><em>JPasswordFields</em></strong>, I get the following result:    </p>\n\n<pre><code>****************  \n</code></pre>\n\n<p>(It should be \"Your Password...\")</p>\n\n<p>Can anyone help me to add a placeholder to this JPasswordField? Thanks in advance.</p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651721731,"post_id":72121489,"comment_id":127431864,"body_markdown":"No, you don&#39;t have to set a `Content-length` header, and if you do it will be ignored and overridden. Just set chunked transfer mode instead, or fixed-length transfer mode.","body":"No, you don&#39;t have to set a <code>Content-length</code> header, and if you do it will be ignored and overridden. Just set chunked transfer mode instead, or fixed-length transfer mode."},{"owner":{"account_id":5123837,"reputation":2156,"user_id":4106624,"accept_rate":100,"display_name":"user007"},"score":0,"creation_date":1651723158,"post_id":72121489,"comment_id":127432087,"body_markdown":"@user207421 Why and how will this be overridden??","body":"@user207421 Why and how will this be overridden??"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651723672,"post_id":72121489,"comment_id":127432162,"body_markdown":"By the process you mentioned in your question. It doesn&#39;t care that you set a `Content-length` header: it goes ahead and sets its own, unless you change the transfer mode. Given your requirement to show progress at the receiver I suggest fixed-length transfer mode. NB This is a transfer *mode*, not &#39;transfer encoding&#39;.","body":"By the process you mentioned in your question. It doesn&#39;t care that you set a <code>Content-length</code> header: it goes ahead and sets its own, unless you change the transfer mode. Given your requirement to show progress at the receiver I suggest fixed-length transfer mode. NB This is a transfer <i>mode</i>, not &#39;transfer encoding&#39;."},{"owner":{"account_id":5123837,"reputation":2156,"user_id":4106624,"accept_rate":100,"display_name":"user007"},"score":0,"creation_date":1651725386,"post_id":72121489,"comment_id":127432396,"body_markdown":"@user207421 I can see a fixed-length at  https://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#fixedContentLength but how do I set a `fixed-length` mode to Response? Also, once this is set, how are the other headers of `Content-Length` and `Transfer-Encoding` impacted?","body":"@user207421 I can see a fixed-length at  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html#fixedContentLength\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/&hellip;</a> but how do I set a <code>fixed-length</code> mode to Response? Also, once this is set, how are the other headers of <code>Content-Length</code> and <code>Transfer-Encoding</code> impacted?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651727108,"post_id":72121489,"comment_id":127432627,"body_markdown":"I&#39;m sorry, I was thinking in terms of a client. According to the `HttpServlet` documentation you *should* set the `Content-length` header.","body":"I&#39;m sorry, I was thinking in terms of a client. According to the <code>HttpServlet</code> documentation you <i>should</i> set the <code>Content-length</code> header."},{"owner":{"account_id":5123837,"reputation":2156,"user_id":4106624,"accept_rate":100,"display_name":"user007"},"score":0,"creation_date":1651727881,"post_id":72121489,"comment_id":127432776,"body_markdown":"@user207421 But then the original question comes back, right? If I set `Content-Length` then `Transfer-Encoding` does not get set, so how is such a big message buffered and sent?","body":"@user207421 But then the original question comes back, right? If I set <code>Content-Length</code> then <code>Transfer-Encoding</code> does not get set, so how is such a big message buffered and sent?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651729371,"post_id":72121489,"comment_id":127433052,"body_markdown":"Sorry, I&#39;m wrong again, you should call `setContentLength()`. See the Javadoc for `HttpServlet`. If there is no `Transfer-encoding` there is no buffering and it all gets sent direct to the wire, i.e. in fixed-length streaming mode.","body":"Sorry, I&#39;m wrong again, you should call <code>setContentLength()</code>. See the Javadoc for <code>HttpServlet</code>. If there is no <code>Transfer-encoding</code> there is no buffering and it all gets sent direct to the wire, i.e. in fixed-length streaming mode."},{"owner":{"account_id":5123837,"reputation":2156,"user_id":4106624,"accept_rate":100,"display_name":"user007"},"score":0,"creation_date":1651730290,"post_id":72121489,"comment_id":127433259,"body_markdown":"@user207421 Thanks for the information. I just wanted to understand what sending directly to the wire means here. Is it no repeated 8KB buffering and it will just write all of my response in one go, which the client can then read with `fixed-length` stream? Are there any performance implications for this?","body":"@user207421 Thanks for the information. I just wanted to understand what sending directly to the wire means here. Is it no repeated 8KB buffering and it will just write all of my response in one go, which the client can then read with <code>fixed-length</code> stream? Are there any performance implications for this?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651731897,"post_id":72121489,"comment_id":127433621,"body_markdown":"Not at all, it&#39;s actually quicker because there is no buffering latency. It&#39;s irritating that the `HttpServletResponse` API doesn&#39;t mirror `HttpURLConnection` in this matter.","body":"Not at all, it&#39;s actually quicker because there is no buffering latency. It&#39;s irritating that the <code>HttpServletResponse</code> API doesn&#39;t mirror <code>HttpURLConnection</code> in this matter."}],"owner":{"account_id":5123837,"reputation":2156,"user_id":4106624,"accept_rate":100,"display_name":"user007"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651723637,"creation_date":1651720316,"question_id":72121489,"body_markdown":"I have a use case where I have HTTP responses that need to be sent out. The default behaviour as I understand is, that if the servlet engine is able buffer the whole response into it&#39;s buffer, it sets the `Content-Length` header equal to the size of the message, but in case it cannot, it goes ahead and sets `Transfer-Encoding` equal to `Chunked`. The size limit on which this is done is `8KB`. So, messages less than 8KB have `Content-Length` and others have `Transfer-Encoding`.\r\n\r\nNow, I have a case where the HTTP response can be of 100s of MBs and I need to set `Content-Length` correctly, in order for the receiver to show a progress bar. So, my question is:\r\n\r\nIf the servlet buffer size is 8KB and for a 100MB response I set &quot;Content-Length&quot;, does the servlet buffer the complete 100MB in memory before sending out the HTTP response? How is such a big message sent out when `chunked` is not set? Since, my current understanding is that both `Content-Length` and `chunked` cannot coexist.","title":"Setting &quot;Content-Length&quot; header for large HTTP responses","body":"<p>I have a use case where I have HTTP responses that need to be sent out. The default behaviour as I understand is, that if the servlet engine is able buffer the whole response into it's buffer, it sets the <code>Content-Length</code> header equal to the size of the message, but in case it cannot, it goes ahead and sets <code>Transfer-Encoding</code> equal to <code>Chunked</code>. The size limit on which this is done is <code>8KB</code>. So, messages less than 8KB have <code>Content-Length</code> and others have <code>Transfer-Encoding</code>.</p>\n<p>Now, I have a case where the HTTP response can be of 100s of MBs and I need to set <code>Content-Length</code> correctly, in order for the receiver to show a progress bar. So, my question is:</p>\n<p>If the servlet buffer size is 8KB and for a 100MB response I set &quot;Content-Length&quot;, does the servlet buffer the complete 100MB in memory before sending out the HTTP response? How is such a big message sent out when <code>chunked</code> is not set? Since, my current understanding is that both <code>Content-Length</code> and <code>chunked</code> cannot coexist.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4305734,"reputation":1195,"user_id":3518134,"accept_rate":83,"display_name":"flopcoder"},"score":0,"creation_date":1540997938,"post_id":53085945,"comment_id":93069497,"body_markdown":"Can you share your database table data type for Id column?","body":"Can you share your database table data type for Id column?"}],"answers":[{"tags":[],"owner":{"account_id":14643701,"reputation":24,"user_id":10575658,"display_name":"Marco Burla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540997858,"creation_date":1540997858,"answer_id":53086316,"question_id":53085945,"body_markdown":"You can remove    @JoinColumn annotation\r\nLook at this article:\r\nhttps://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","title":"Java Spring-boot caused by: org.springframework.data.mapping.PropertyReferenceException: No property id found for type","body":"<p>You can remove    @JoinColumn annotation\nLook at this article:\n<a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/</a></p>\n"},{"tags":[],"owner":{"display_name":"user10527814"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1540998882,"creation_date":1540998475,"answer_id":53086531,"question_id":53085945,"body_markdown":"You get the error because you don&#39;t have the property id on City entity.\r\n\r\nUse this:\r\n\r\n    @Repository\r\n    public interface PhotoRepository extends JpaRepository&lt;Photo, UUID&gt; {\r\n    Page&lt;Photo&gt; findByCity_CityId( UUID cityId, Pageable pageable);\r\n\r\nSince you have a foreign key in Photo, the rule to create repository find method is:\r\n\r\n**findBy + (the foreign key member of Photo class with first letter Upper) + underscore + the data member of City Class with first letter UpperCase +(...arguments);**","title":"Java Spring-boot caused by: org.springframework.data.mapping.PropertyReferenceException: No property id found for type","body":"<p>You get the error because you don't have the property id on City entity.</p>\n\n<p>Use this:</p>\n\n<pre><code>@Repository\npublic interface PhotoRepository extends JpaRepository&lt;Photo, UUID&gt; {\nPage&lt;Photo&gt; findByCity_CityId( UUID cityId, Pageable pageable);\n</code></pre>\n\n<p>Since you have a foreign key in Photo, the rule to create repository find method is:</p>\n\n<p><strong>findBy + (the foreign key member of Photo class with first letter Upper) + underscore + the data member of City Class with first letter UpperCase +(...arguments);</strong></p>\n"},{"tags":[],"owner":{"account_id":4839919,"reputation":429,"user_id":3905233,"display_name":"Zephaniah Irvine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651722947,"creation_date":1651722947,"answer_id":72121752,"question_id":53085945,"body_markdown":"I came across a similar issue. \r\n\r\nI defined a function below in the repository class. It kept throwing exception `org.springframework.data.mapping.PropertyReferenceException: No property &#39;id&#39; found for type &#39;Transaction&#39;!`\r\n\r\n```java\r\npublic interface TransactionRepository extends Repository&lt;Transaction, Integer&gt; {\r\n    Page&lt;Transaction&gt; findAllByState(State state, Pageable pageable);\r\n}\r\n``` \r\n\r\nThis issue was resolved by adding `@Query` annotation to customize the query, rather than using the pre-defined abstract method.\r\n\r\n```java\r\npublic interface TransactionRepository extends Repository&lt;Transaction, Integer&gt; {\r\n    @Query(&quot;SELECT t FROM Transaction t WHERE t.state = :state&quot;)\r\n    Page&lt;Transaction&gt; findAllByState(State state, Pageable pageable);\r\n}\r\n```","title":"Java Spring-boot caused by: org.springframework.data.mapping.PropertyReferenceException: No property id found for type","body":"<p>I came across a similar issue.</p>\n<p>I defined a function below in the repository class. It kept throwing exception <code>org.springframework.data.mapping.PropertyReferenceException: No property 'id' found for type 'Transaction'!</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TransactionRepository extends Repository&lt;Transaction, Integer&gt; {\n    Page&lt;Transaction&gt; findAllByState(State state, Pageable pageable);\n}\n</code></pre>\n<p>This issue was resolved by adding <code>@Query</code> annotation to customize the query, rather than using the pre-defined abstract method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TransactionRepository extends Repository&lt;Transaction, Integer&gt; {\n    @Query(&quot;SELECT t FROM Transaction t WHERE t.state = :state&quot;)\n    Page&lt;Transaction&gt; findAllByState(State state, Pageable pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":14658544,"reputation":53,"user_id":10586474,"display_name":"queenEl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19056,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53086531,"answer_count":3,"score":4,"last_activity_date":1651722947,"creation_date":1540996735,"question_id":53085945,"body_markdown":" I can&#39;t understand where is the problem\r\n\r\nRepository class:\r\n   \r\n    @Repository\r\n    public interface PhotoRepository extends JpaRepository&lt;Photo, UUID&gt; {\r\n    Page&lt;Photo&gt; findByCityId( UUID cityId, Pageable pageable);\r\n\r\n\r\nEntity class:\r\n\r\n    @Entity\r\n    @Table (name=&quot;photos&quot;)\r\n    public class Photo {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private UUID idPhoto;\r\n\r\n    private String name;\r\n\r\n    private double longitude;\r\n\r\n    private double latitude;\r\n\r\n    private byte[] image;\r\n\r\n    private byte[] thumbnail;\r\n\r\n    @ManyToOne(fetch= FetchType.LAZY)\r\n    @JoinColumn(name=&quot;cityId&quot;,referencedColumnName = &quot;cityId&quot;)\r\n    private City city;\r\n\r\n\r\n    @Entity\r\n    @Table (name=&quot;cities&quot;)\r\n    public class City {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private UUID cityId;\r\n\r\n    private String name;\r\n\r\n    private double longitude;\r\n\r\n    private double latitude;\r\n\r\n    private int photoCount;\r\n\r\n\r\n\r\n    @RestController\r\n    public class PhotoController {\r\n\r\n    @Autowired\r\n    private PhotoRepository photoRepository;\r\n\r\n    @Autowired\r\n    private CityRepository cityRepository;\r\n\r\n    @GetMapping(&quot;/cities/{cityId}/photos&quot;)\r\n    public Page&lt;Photo&gt; getPhotosByCityId(@PathVariable(value = &quot;cityId&quot;) UUID cityId,\r\n                                         Pageable pageable)\r\n    {\r\n        return photoRepository.findByCityId(cityId,pageable);\r\n    }\r\n\r\n\r\nError:\r\n\r\n     Error starting ApplicationContext. To display the conditions report re-run \r\n     your application with &#39;debug&#39; enabled.\r\n    2018-10-31 16:26:51.733 ERROR 11112 --- [           main] \r\n    o.s.boot.SpringApplication               : Application run failed\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error \r\n    creating bean with name &#39;photoController&#39;: Unsatisfied dependency expressed \r\n    through field &#39;photoRepository&#39;; nested exception is \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean \r\n    with name &#39;photoRepository&#39;: Invocation of init method failed; nested \r\n    exception is java.lang.IllegalArgumentException: Failed to create query for \r\n    method public abstract org.springframework.data.domain.Page \r\n    \r\n    com.example.travelg.Repository.PhotoRepository.findByCityId(java.util.UUID,org.springframework.data.domain.Pageable)! No property id found for type City! Traversed path: Photo.city.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:373) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat com.example.travelg.TravelgApplication.main(TravelgApplication.java:11) [classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;photoRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page com.example.travelg.Repository.PhotoRepository.findByCityId(java.util.UUID,org.springframework.data.domain.Pageable)! No property id found for type City! Traversed path: Photo.city.\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:584) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page com.example.travelg.Repository.PhotoRepository.findByCityId(java.util.UUID,org.springframework.data.domain.Pageable)! No property id found for type City! Traversed path: Photo.city.\r\n    \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:82) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:103) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:208) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:553) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:546) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1050) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:548) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:538) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat java.base/java.util.Optional.map(Optional.java:254) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:538) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$3(RepositoryFactoryBeanSupport.java:287) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:141) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:63) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:290) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:102) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \t... 29 common frames omitted\r\n    Caused by: org.springframework.data.mapping.PropertyReferenceException: No property id found for type City! Traversed path: Photo.city.\r\n    \tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:92) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:356) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:332) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:366) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:390) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:332) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:285) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n    \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:267) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:250) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:251) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:380) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:381) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:96) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:76) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\r\n    \t... 55 common frames omitted\r\n\r\n\r\n","title":"Java Spring-boot caused by: org.springframework.data.mapping.PropertyReferenceException: No property id found for type","body":"<p>I can't understand where is the problem</p>\n\n<p>Repository class:</p>\n\n<pre><code>@Repository\npublic interface PhotoRepository extends JpaRepository&lt;Photo, UUID&gt; {\nPage&lt;Photo&gt; findByCityId( UUID cityId, Pageable pageable);\n</code></pre>\n\n<p>Entity class:</p>\n\n<pre><code>@Entity\n@Table (name=\"photos\")\npublic class Photo {\n@Id\n@GeneratedValue(strategy= GenerationType.AUTO)\nprivate UUID idPhoto;\n\nprivate String name;\n\nprivate double longitude;\n\nprivate double latitude;\n\nprivate byte[] image;\n\nprivate byte[] thumbnail;\n\n@ManyToOne(fetch= FetchType.LAZY)\n@JoinColumn(name=\"cityId\",referencedColumnName = \"cityId\")\nprivate City city;\n\n\n@Entity\n@Table (name=\"cities\")\npublic class City {\n\n@Id\n@GeneratedValue(strategy= GenerationType.AUTO)\nprivate UUID cityId;\n\nprivate String name;\n\nprivate double longitude;\n\nprivate double latitude;\n\nprivate int photoCount;\n\n\n\n@RestController\npublic class PhotoController {\n\n@Autowired\nprivate PhotoRepository photoRepository;\n\n@Autowired\nprivate CityRepository cityRepository;\n\n@GetMapping(\"/cities/{cityId}/photos\")\npublic Page&lt;Photo&gt; getPhotosByCityId(@PathVariable(value = \"cityId\") UUID cityId,\n                                     Pageable pageable)\n{\n    return photoRepository.findByCityId(cityId,pageable);\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code> Error starting ApplicationContext. To display the conditions report re-run \n your application with 'debug' enabled.\n2018-10-31 16:26:51.733 ERROR 11112 --- [           main] \no.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error \ncreating bean with name 'photoController': Unsatisfied dependency expressed \nthrough field 'photoRepository'; nested exception is \norg.springframework.beans.factory.BeanCreationException: Error creating bean \nwith name 'photoRepository': Invocation of init method failed; nested \nexception is java.lang.IllegalArgumentException: Failed to create query for \nmethod public abstract org.springframework.data.domain.Page \n\ncom.example.travelg.Repository.PhotoRepository.findByCityId(java.util.UUID,org.springframework.data.domain.Pageable)! No property id found for type City! Traversed path: Photo.city.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:587) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:373) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:578) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at com.example.travelg.TravelgApplication.main(TravelgApplication.java:11) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'photoRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page com.example.travelg.Repository.PhotoRepository.findByCityId(java.util.UUID,org.springframework.data.domain.Pageable)! No property id found for type City! Traversed path: Photo.city.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:584) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract org.springframework.data.domain.Page com.example.travelg.Repository.PhotoRepository.findByCityId(java.util.UUID,org.springframework.data.domain.Pageable)! No property id found for type City! Traversed path: Photo.city.\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:82) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:103) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:208) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:553) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:546) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1050) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:548) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:538) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at java.base/java.util.Optional.map(Optional.java:254) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:538) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$3(RepositoryFactoryBeanSupport.java:287) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:141) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.util.Lazy.get(Lazy.java:63) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:290) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:102) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) ~[spring-beans-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    ... 29 common frames omitted\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property id found for type City! Traversed path: Photo.city.\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:92) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:356) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:332) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:366) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:390) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:332) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:285) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:267) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:250) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:251) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:380) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:381) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:96) ~[spring-data-commons-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:76) ~[spring-data-jpa-2.0.6.RELEASE.jar:2.0.6.RELEASE]\n    ... 55 common frames omitted\n</code></pre>\n"},{"tags":["java","arrays","arraylist","char","java.util.scanner"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1651721864,"post_id":72120236,"comment_id":127431885,"body_markdown":"&quot;Does not work&quot; is not a problem description. Try again. Exception? Stack trace? NB &quot;I have to use a file reader&quot;: well, you aren&#39;t, you are using a `Scanner`.","body":"&quot;Does not work&quot; is not a problem description. Try again. Exception? Stack trace? NB &quot;I have to use a file reader&quot;: well, you aren&#39;t, you are using a <code>Scanner</code>."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1651717864,"creation_date":1651717864,"answer_id":72121287,"question_id":72120236,"body_markdown":"It&#39;s always nice to have sample file data to see what&#39;s in being read because at this point...I would only be guessing. If the file content looks like this:\r\n```\r\nxx xxxxxxx\r\nxx  xxxxxx\r\nxxx xxxxxx\r\nxxxx    xx\r\nxxxxx x xx\r\nxxxx  x  x\r\nxxxx xxx x\r\nxxxxxx   x\r\nxxxxx  xxx\r\nxxxxx xxxx\r\n``` \r\nthen you don&#39;t need a char[] array, you can just store each line into the ArrayList which would then be an ArrayList of String (`ArrayList&lt;String&gt;`). Now it&#39;s just a matter of printing each element within the array list to the console window. I just don&#39;t know, so...we&#39;ll just **assume** it&#39;s like the above but we&#39;ll take each line and convert it to a char[] array because you seem to want to do this with Characters. With this in mind...\r\n\r\nWhat needs to be done:\r\n\r\n 1. Read the file line by line.\r\n 2. Take each line read in and convert it to a `char` array.\r\n 3. Take this array an add it to the `mazeArray` ArrayList.\r\n 4. Print the contents of the ArrayList (`mazeArray`) to the console\r\n    window.\r\n\r\n```\r\n// ArrayList to hold the Maze from file.\r\nArrayList&lt;char[]&gt; mazeArray = new ArrayList&lt;&gt;();\r\n\r\n// `Try With Resources` used here to auto-close reader and free resources.\r\ntry (Scanner fileReader = new Scanner(new File(&quot;maze.txt&quot;))) {\r\n            \r\n    // String variable to hold each line read in\r\n    String line;\r\n    // Loop through the whole file line by line...\r\n    while (fileReader.hasNextLine()) {\r\n                \r\n        // Task 1: Apply current line read to the `line` variable.\r\n        line = fileReader.nextLine().trim(); // Remove any leading/trailing spaces as well.\r\n                \r\n        // Make sure the line isn&#39;t blank (if any). You don&#39;t want those.\r\n        if (line.isEmpty()) {\r\n            continue;  // Go to the top of loop and read in next line.\r\n        }\r\n                \r\n        // Task #2: Convert the String in the variable `line` to a char[] array.\r\n        char[] chars = line.toCharArray();\r\n                \r\n        // Task #3: Add the `chars` character array to the `mazeArray` ArrayList.\r\n        mazeArray.add(chars);\r\n    }\r\n}\r\ncatch (FileNotFoundException ex) {\r\n    Logger.getLogger(yourClassName.class.getName()).log(Level.SEVERE, null, ex);\r\n}\r\n\r\n/* Task #4: Print the maze contained within the `mazeArray` ArrayList\r\n   to the Console Window.       */\r\n// Outer loop to get each char[] array within the ArrayList.\r\nfor (char[] characters : mazeArray) {\r\n    // Inner loop to get each character within the current char[] array.\r\n    for (char c : characters) {\r\n        System.out.print(c); //Print each character on the same console row.\r\n    }\r\n    System.out.println(); // Start a new line in console.\r\n} \r\n```","title":"java.util.scanner with chars","body":"<p>It's always nice to have sample file data to see what's in being read because at this point...I would only be guessing. If the file content looks like this:</p>\n<pre><code>xx xxxxxxx\nxx  xxxxxx\nxxx xxxxxx\nxxxx    xx\nxxxxx x xx\nxxxx  x  x\nxxxx xxx x\nxxxxxx   x\nxxxxx  xxx\nxxxxx xxxx\n</code></pre>\n<p>then you don't need a char[] array, you can just store each line into the ArrayList which would then be an ArrayList of String (<code>ArrayList&lt;String&gt;</code>). Now it's just a matter of printing each element within the array list to the console window. I just don't know, so...we'll just <strong>assume</strong> it's like the above but we'll take each line and convert it to a char[] array because you seem to want to do this with Characters. With this in mind...</p>\n<p>What needs to be done:</p>\n<ol>\n<li>Read the file line by line.</li>\n<li>Take each line read in and convert it to a <code>char</code> array.</li>\n<li>Take this array an add it to the <code>mazeArray</code> ArrayList.</li>\n<li>Print the contents of the ArrayList (<code>mazeArray</code>) to the console\nwindow.</li>\n</ol>\n<pre><code>// ArrayList to hold the Maze from file.\nArrayList&lt;char[]&gt; mazeArray = new ArrayList&lt;&gt;();\n\n// `Try With Resources` used here to auto-close reader and free resources.\ntry (Scanner fileReader = new Scanner(new File(&quot;maze.txt&quot;))) {\n            \n    // String variable to hold each line read in\n    String line;\n    // Loop through the whole file line by line...\n    while (fileReader.hasNextLine()) {\n                \n        // Task 1: Apply current line read to the `line` variable.\n        line = fileReader.nextLine().trim(); // Remove any leading/trailing spaces as well.\n                \n        // Make sure the line isn't blank (if any). You don't want those.\n        if (line.isEmpty()) {\n            continue;  // Go to the top of loop and read in next line.\n        }\n                \n        // Task #2: Convert the String in the variable `line` to a char[] array.\n        char[] chars = line.toCharArray();\n                \n        // Task #3: Add the `chars` character array to the `mazeArray` ArrayList.\n        mazeArray.add(chars);\n    }\n}\ncatch (FileNotFoundException ex) {\n    Logger.getLogger(yourClassName.class.getName()).log(Level.SEVERE, null, ex);\n}\n\n/* Task #4: Print the maze contained within the `mazeArray` ArrayList\n   to the Console Window.       */\n// Outer loop to get each char[] array within the ArrayList.\nfor (char[] characters : mazeArray) {\n    // Inner loop to get each character within the current char[] array.\n    for (char c : characters) {\n        System.out.print(c); //Print each character on the same console row.\n    }\n    System.out.println(); // Start a new line in console.\n} \n</code></pre>\n"}],"owner":{"account_id":20873659,"reputation":21,"user_id":15333003,"display_name":"Chris Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1651747587,"accepted_answer_id":72121287,"answer_count":1,"score":-1,"last_activity_date":1651721939,"creation_date":1651704585,"question_id":72120236,"body_markdown":"I am trying to create a maze finding algorithm using object-oriented programming. I have the mazes stored in a file and I want the file to read the mazes and print them out before solving them (IK it is easier to do it other ways but I have to use a file reader). But, my charAt function does not work and I am not sure how to make the fileReader read chars. If any one could offer a solution that would be great:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static Maze maze;\r\n        public static void main(String[] args) {\r\n            ArrayList&lt;char[]&gt; mazeArray = new ArrayList&lt;char[]&gt;();\r\n            try {\r\n                File myMaze = new File(&quot;maze.txt&quot;);\r\n                Scanner fileReader = new Scanner(myMaze);\r\n                while (fileReader.hasNextLine()) {\r\n                    char[] mazeLayout = new char[(int) myMaze.length()];\r\n                    for (int i = 0; i &lt; Integer.MAX_VALUE; i++){\r\n                        for (int j = 1; j &lt; myMaze.length(); j++){\r\n                            mazeLayout[i] = fileReader.next().charAt(j);\r\n                            mazeArray.add(mazeLayout);\r\n                        }\r\n                    }\r\n                }\r\n                fileReader.close();\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;File does not exist.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            maze = new Maze(mazeArray);\r\n            maze.print();\r\n        }\r\n    }","title":"java.util.scanner with chars","body":"<p>I am trying to create a maze finding algorithm using object-oriented programming. I have the mazes stored in a file and I want the file to read the mazes and print them out before solving them (IK it is easier to do it other ways but I have to use a file reader). But, my charAt function does not work and I am not sure how to make the fileReader read chars. If any one could offer a solution that would be great:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\npublic class Main {\n    public static Maze maze;\n    public static void main(String[] args) {\n        ArrayList&lt;char[]&gt; mazeArray = new ArrayList&lt;char[]&gt;();\n        try {\n            File myMaze = new File(&quot;maze.txt&quot;);\n            Scanner fileReader = new Scanner(myMaze);\n            while (fileReader.hasNextLine()) {\n                char[] mazeLayout = new char[(int) myMaze.length()];\n                for (int i = 0; i &lt; Integer.MAX_VALUE; i++){\n                    for (int j = 1; j &lt; myMaze.length(); j++){\n                        mazeLayout[i] = fileReader.next().charAt(j);\n                        mazeArray.add(mazeLayout);\n                    }\n                }\n            }\n            fileReader.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File does not exist.&quot;);\n            e.printStackTrace();\n        }\n        maze = new Maze(mazeArray);\n        maze.print();\n    }\n}\n</code></pre>\n"},{"tags":["java","robotium"],"comments":[{"owner":{"account_id":1833680,"reputation":664,"user_id":1664472,"accept_rate":80,"display_name":"Will"},"score":0,"creation_date":1385871579,"post_id":18095998,"comment_id":30304513,"body_markdown":"I was newer to programming then. What actually helped me was learning inheritance and creating a framework that can extend from the BaseClass","body":"I was newer to programming then. What actually helped me was learning inheritance and creating a framework that can extend from the BaseClass"}],"answers":[{"tags":[],"owner":{"account_id":1918845,"reputation":543,"user_id":1730799,"accept_rate":40,"display_name":"kamal_prd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1375857088,"creation_date":1375857088,"answer_id":18096191,"question_id":18095998,"body_markdown":"Don&#39;t create **testcase** with name `testLoggingin()` . Instead of that creat a **class** having **function** `login()`. So that, whenever its needed you can import it and can call the function to login. And you can check conditions using `assert`.","title":"How to call a method in another class using robotium","body":"<p>Don't create <strong>testcase</strong> with name <code>testLoggingin()</code> . Instead of that creat a <strong>class</strong> having <strong>function</strong> <code>login()</code>. So that, whenever its needed you can import it and can call the function to login. And you can check conditions using <code>assert</code>.</p>\n"}],"owner":{"account_id":1833680,"reputation":664,"user_id":1664472,"accept_rate":80,"display_name":"Will"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18096191,"answer_count":1,"score":1,"last_activity_date":1651721193,"creation_date":1375856398,"question_id":18095998,"body_markdown":"Using Robotium for my Android automation I find myself creating the same steps for each test case.\r\n\r\nI always need to &quot;Login&quot; and &quot;Logout&quot;, I&#39;ve been trying to create a FunctionsTestClass so I can simply call rLogin(); and rLogout();\r\n\r\nHere is an example:\r\n\r\nAdding my complete files.\r\n\r\n    &#39;package com.myproject.mobile.test;\r\n\r\n    import android.test.ActivityInstrumentationTestCase2;\r\n    import android.app.Activity;\r\n    import junit.framework.AssertionFailedError;\r\n\r\n    import com.bitbar.recorder.extensions.ExtSolo;\r\n    import com.jayway.android.robotium.solo.By;\r\n\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n\r\n    &#39;public class Logout extends ActivityInstrumentationTestCase2&lt;Activity&gt; {\r\n\r\n\tprivate static final String LAUNCHER_ACTIVITY_CLASSNAME = &quot;com.myproject.mobile.MainActivity&quot;;\r\n\tprivate static Class&lt;?&gt; launchActivityClass;\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\tlaunchActivityClass = Class.forName(LAUNCHER_ACTIVITY_CLASSNAME);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\tprivate static ExtSolo solo; // ExtSolo is an extension of Robotium Solo that helps\r\n\t\t\t\t\t\t\t// collecting better test execution data during test\r\n\t\t\t\t\t\t\t// runs\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic Logout() {\r\n\t\tsuper((Class&lt;Activity&gt;) launchActivityClass);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setUp() throws Exception {\r\n\t\tsuper.setUp();\r\n\t\tsolo = new ExtSolo(getInstrumentation(), getActivity(), this.getClass()\r\n\t\t\t\t.getCanonicalName(), getName());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void tearDown() throws Exception {\r\n\t\tsolo.finishOpenedActivities();\r\n\t\tsolo.tearDown();\r\n\t\tsuper.tearDown();\r\n\t}\r\n\r\n\t\r\n\tpublic static void logginin() throws Exception {\r\n\t\ttry {\r\n\t\t//enter username\r\n\t\t\tsolo.sleep(17000);\r\n\r\n\t\t\tthrow e;\r\n\t\t} catch (Exception e) {\r\n\t\t\tsolo.fail(\r\n\t\t\t\t\t&quot;com.myproject.mobile.test.MainActivityTest.testRecorded_scr_fail&quot;,\r\n\t\t\t\t\te);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n    }&#39;\r\n\r\nAdding my second file\r\n\r\n\r\n\r\n    package com.mypackage.mobile.test;\r\n\r\n    import android.test.ActivityInstrumentationTestCase2;\r\n    import android.app.Activity;\r\n    import junit.framework.AssertionFailedError;\r\n\r\n    import com.bitbar.recorder.extensions.ExtSolo;\r\n    import com.jayway.android.robotium.solo.By;\r\n    import com.mypackage.mobile.test.*;\r\n\r\n\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n\r\n    &#39;public class Test extends ActivityInstrumentationTestCase2&lt;Activity&gt; {\r\n\r\n\tprivate static final String LAUNCHER_ACTIVITY_CLASSNAME =     &quot;com.mypackage.mobile.MainActivity&quot;;\r\n\tprivate static Class&lt;?&gt; launchActivityClass;\r\n\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\tlaunchActivityClass = Class.forName(LAUNCHER_ACTIVITY_CLASSNAME);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\tprivate static ExtSolo solo; // ExtSolo is an extension of Robotium Solo that helps\r\n\t\t\t\t\t\t\t// collecting better test execution data during test\r\n\t\t\t\t\t\t\t// runs\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic Test() {\r\n\t\tsuper((Class&lt;Activity&gt;) launchActivityClass);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setUp() throws Exception {\r\n\t\tsuper.setUp();\r\n\t\tsolo = new ExtSolo(getInstrumentation(), getActivity(), this.getClass()\r\n\t\t\t\t.getCanonicalName(), getName());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void tearDown() throws Exception {\r\n\t\tsolo.finishOpenedActivities();\r\n\t\tsolo.tearDown();\r\n\t\tsuper.tearDown();\r\n\t}\r\n\r\n\t\r\n\t\r\n\tpublic void testRecorded() throws Exception {\r\n\t\ttry {\r\n\t\t\r\n\t\t\tLogout.logginin();\r\n\r\n\r\n\t\t} catch (AssertionFailedError e) {\r\n\t\t\tsolo.fail(\r\n\t\t\t\t\t&quot;com.mypackage.name.MainActivityTest.testRecorded_scr_fail&quot;,\r\n\t\t\t\t\te);\r\n\t\t\tthrow e;\r\n\t\t} catch (Exception e) {\r\n\t\t\tsolo.fail(\r\n\t\t\t\t\t            &quot;com.mypackage.name.MainActivityTest.testRecorded_scr_fail&quot;,\r\n\t\t\t\t\te);\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n        }\r\n\r\n\r\nUpdated the bottom two code to reflect my project.\r\n","title":"How to call a method in another class using robotium","body":"<p>Using Robotium for my Android automation I find myself creating the same steps for each test case.</p>\n<p>I always need to &quot;Login&quot; and &quot;Logout&quot;, I've been trying to create a FunctionsTestClass so I can simply call rLogin(); and rLogout();</p>\n<p>Here is an example:</p>\n<p>Adding my complete files.</p>\n<pre><code>'package com.myproject.mobile.test;\n\nimport android.test.ActivityInstrumentationTestCase2;\nimport android.app.Activity;\nimport junit.framework.AssertionFailedError;\n\nimport com.bitbar.recorder.extensions.ExtSolo;\nimport com.jayway.android.robotium.solo.By;\n\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\n\n'public class Logout extends ActivityInstrumentationTestCase2&lt;Activity&gt; {\n\nprivate static final String LAUNCHER_ACTIVITY_CLASSNAME = &quot;com.myproject.mobile.MainActivity&quot;;\nprivate static Class&lt;?&gt; launchActivityClass;\nstatic {\n    try {\n        launchActivityClass = Class.forName(LAUNCHER_ACTIVITY_CLASSNAME);\n    } catch (ClassNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n}\nprivate static ExtSolo solo; // ExtSolo is an extension of Robotium Solo that helps\n                        // collecting better test execution data during test\n                        // runs\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic Logout() {\n    super((Class&lt;Activity&gt;) launchActivityClass);\n}\n\n@Override\npublic void setUp() throws Exception {\n    super.setUp();\n    solo = new ExtSolo(getInstrumentation(), getActivity(), this.getClass()\n            .getCanonicalName(), getName());\n}\n\n@Override\npublic void tearDown() throws Exception {\n    solo.finishOpenedActivities();\n    solo.tearDown();\n    super.tearDown();\n}\n\n\npublic static void logginin() throws Exception {\n    try {\n    //enter username\n        solo.sleep(17000);\n\n        throw e;\n    } catch (Exception e) {\n        solo.fail(\n                &quot;com.myproject.mobile.test.MainActivityTest.testRecorded_scr_fail&quot;,\n                e);\n        throw e;\n    }\n}\n\n}'\n</code></pre>\n<p>Adding my second file</p>\n<pre><code>package com.mypackage.mobile.test;\n\nimport android.test.ActivityInstrumentationTestCase2;\nimport android.app.Activity;\nimport junit.framework.AssertionFailedError;\n\nimport com.bitbar.recorder.extensions.ExtSolo;\nimport com.jayway.android.robotium.solo.By;\nimport com.mypackage.mobile.test.*;\n\n\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\n\n'public class Test extends ActivityInstrumentationTestCase2&lt;Activity&gt; {\n\nprivate static final String LAUNCHER_ACTIVITY_CLASSNAME =     &quot;com.mypackage.mobile.MainActivity&quot;;\nprivate static Class&lt;?&gt; launchActivityClass;\n\nstatic {\n    try {\n        launchActivityClass = Class.forName(LAUNCHER_ACTIVITY_CLASSNAME);\n    } catch (ClassNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n}\nprivate static ExtSolo solo; // ExtSolo is an extension of Robotium Solo that helps\n                        // collecting better test execution data during test\n                        // runs\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic Test() {\n    super((Class&lt;Activity&gt;) launchActivityClass);\n}\n\n@Override\npublic void setUp() throws Exception {\n    super.setUp();\n    solo = new ExtSolo(getInstrumentation(), getActivity(), this.getClass()\n            .getCanonicalName(), getName());\n}\n\n@Override\npublic void tearDown() throws Exception {\n    solo.finishOpenedActivities();\n    solo.tearDown();\n    super.tearDown();\n}\n\n\n\npublic void testRecorded() throws Exception {\n    try {\n    \n        Logout.logginin();\n\n\n    } catch (AssertionFailedError e) {\n        solo.fail(\n                &quot;com.mypackage.name.MainActivityTest.testRecorded_scr_fail&quot;,\n                e);\n        throw e;\n    } catch (Exception e) {\n        solo.fail(\n                            &quot;com.mypackage.name.MainActivityTest.testRecorded_scr_fail&quot;,\n                e);\n        throw e;\n    }\n}\n\n    }\n</code></pre>\n<p>Updated the bottom two code to reflect my project.</p>\n"},{"tags":["java","apache-kafka","avro","apache-kafka-streams","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2302601,"reputation":896,"user_id":2022579,"display_name":"Pedro Bacchini"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629376739,"creation_date":1629376739,"answer_id":68848050,"question_id":56622707,"body_markdown":"You are using kafka&#39;s configuration to require a specific schema in this case the consumed schema must exist in your class path so that it is possible to parse it, if not, configure to use GenericRecord \r\n\r\n    props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);\r\n\r\n","title":"Unable to deserialize Kafka stream to pojo. Could not find class specified in writer&#39;s schema","body":"<p>You are using kafka's configuration to require a specific schema in this case the consumed schema must exist in your class path so that it is possible to parse it, if not, configure to use GenericRecord</p>\n<pre><code>props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);\n</code></pre>\n"}],"owner":{"account_id":8168592,"reputation":173,"user_id":6149947,"display_name":"Yogesh Kumar Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8912,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1651720612,"creation_date":1560719922,"question_id":56622707,"body_markdown":"    \r\n\r\n&gt; Getting exception while reading from kafka topic: Caused by:\r\n&gt; org.apache.kafka.common.errors.SerializationException: Error\r\n&gt; deserializing Avro message for id 1 Caused by:\r\n&gt; org.apache.kafka.common.errors.SerializationException: Could not find\r\n&gt; class USERS specified in writer&#39;s schema whilst finding reader&#39;s\r\n&gt; schema for a SpecificRecord.\r\n\r\n\r\nI think deserialising is not correct and i am not able to find any proper example also.\r\n\r\n\t\r\n\r\n\t\tProperties props = new Properties();\r\n\t\t\r\n\t\tprops.put(StreamsConfig.APPLICATION_ID_CONFIG , &quot;TEST&quot;);\r\n\t\tprops.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:9092&quot;);\r\n\t\t\r\n\t\tprops.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;);\r\n\t\t\t\tprops.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG,Serdes.String().getClass().getName());\r\n\t\t\t\t\t\tprops.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG,SpecificAvroSerde.class);\r\n\t\t\r\n\t\t\t\t\t\tprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n\t\t\t\t\t\tprops.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\r\n\t\tStreamsBuilder builder = new StreamsBuilder();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tKStream&lt;String,USERS&gt; valid = builder.stream(&quot;testUSERS&quot;);\r\n\t\r\n\tvalid.foreach((k,v)-&gt; System.out.println(&quot;v =&quot;+v.getUSERNAME()));\r\n\tvalid.foreach((k,v)-&gt; System.out.println(&quot;k =&quot;+k));\r\n\t\r\n\tKafkaStreams streams = new KafkaStreams(builder.build(),props);\r\n\t\r\n\tstreams.cleanUp();\r\n\t\r\n\tstreams.start();","title":"Unable to deserialize Kafka stream to pojo. Could not find class specified in writer&#39;s schema","body":"<blockquote>\n  <p>Getting exception while reading from kafka topic: Caused by:\n  org.apache.kafka.common.errors.SerializationException: Error\n  deserializing Avro message for id 1 Caused by:\n  org.apache.kafka.common.errors.SerializationException: Could not find\n  class USERS specified in writer's schema whilst finding reader's\n  schema for a SpecificRecord.</p>\n</blockquote>\n\n<p>I think deserialising is not correct and i am not able to find any proper example also.</p>\n\n<pre><code>    Properties props = new Properties();\n\n    props.put(StreamsConfig.APPLICATION_ID_CONFIG , \"TEST\");\n    props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG,\"localhost:9092\");\n\n    props.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, \"http://localhost:8081\");\n            props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG,Serdes.String().getClass().getName());\n                    props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG,SpecificAvroSerde.class);\n\n                    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n                    props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n    StreamsBuilder builder = new StreamsBuilder();\n\n\n\n\n    KStream&lt;String,USERS&gt; valid = builder.stream(\"testUSERS\");\n\nvalid.foreach((k,v)-&gt; System.out.println(\"v =\"+v.getUSERNAME()));\nvalid.foreach((k,v)-&gt; System.out.println(\"k =\"+k));\n\nKafkaStreams streams = new KafkaStreams(builder.build(),props);\n\nstreams.cleanUp();\n\nstreams.start();\n</code></pre>\n"},{"tags":["java","2d","game-development"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1651673941,"post_id":72114427,"comment_id":127419503,"body_markdown":"Your code could use a lot of refactoring, right now it&#39;s very hard to read through. Could you describe the problem in more details, please? Do I understand the situation correctly: you are inside a narrow corridor and want to move to the left into a big room through a door. However, you press the &quot;up&quot; key and get inside the upper wall and can&#39;t move anymore. Expected behavior: you press the &quot;up&quot; key, but the collision with the wall is detected, the player is not allowed to get inside the wall and got stuck, so you can keep going left/right through the door. Do I understand it correctly?","body":"Your code could use a lot of refactoring, right now it&#39;s very hard to read through. Could you describe the problem in more details, please? Do I understand the situation correctly: you are inside a narrow corridor and want to move to the left into a big room through a door. However, you press the &quot;up&quot; key and get inside the upper wall and can&#39;t move anymore. Expected behavior: you press the &quot;up&quot; key, but the collision with the wall is detected, the player is not allowed to get inside the wall and got stuck, so you can keep going left/right through the door. Do I understand it correctly?"},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1651674145,"post_id":72114427,"comment_id":127419609,"body_markdown":"Or maybe you are in a big room to the left and trying to get into a narrow corridor to the right. You press the &quot;right&quot; key but the player is not aligned with the corridor, so he just got stuck in the wall to the right. It&#39;s hard to get inside the corridor because it&#39;s so narrow and you are not allowed to get into unless you are perfectly aligned with the corridor vertically?","body":"Or maybe you are in a big room to the left and trying to get into a narrow corridor to the right. You press the &quot;right&quot; key but the player is not aligned with the corridor, so he just got stuck in the wall to the right. It&#39;s hard to get inside the corridor because it&#39;s so narrow and you are not allowed to get into unless you are perfectly aligned with the corridor vertically?"},{"owner":{"account_id":24253202,"reputation":11,"user_id":18203980,"display_name":"Lightnin6"},"score":0,"creation_date":1651679854,"post_id":72114427,"comment_id":127421973,"body_markdown":"@AlexSveshnikov so i edited the post to try and clarify what my problem is. also what do you mean by refactor and could you give an example?","body":"@AlexSveshnikov so i edited the post to try and clarify what my problem is. also what do you mean by refactor and could you give an example?"}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651720330,"creation_date":1651694252,"answer_id":72118774,"question_id":72114427,"body_markdown":"Answering your question about refactoring: there are many places where your code can be made much cleaner and efficient. For example, consider this part from KeyHandler.java:\r\n```java\r\nif(!u)\r\n{\r\n   u = true;\r\n}\r\nelse if(u)\r\n{\r\n   u2 = true;\r\n}\r\n\r\nif(u &amp;&amp; u2)\r\n{\r\n   if(!gp.devMode)\r\n   {\r\n       gp.devMode = true;\r\n   }\r\n   else if(gp.devMode)\r\n   {\r\n       gp.devMode = false;\r\n   }\r\n}\r\n```\r\nTake a look on the first if-statement. If `u` is false, you enter the first branch and set it to true. Otherwise `u` is true and you enter the second branch. In this second branch you have a test `if(u)`. But you can enter this branch only if `u` is true! It means that you don&#39;t need to check it again and it can be simplified to\r\n```java\r\nif (!u) {\r\n   u = true;\r\n} else {\r\n   u2 = true;\r\n}\r\n```\r\nNow, you can see that after execution of this if-statement the value of `u` will always be true (because it was either true from the start, or it was set to true in the first branch). Thus, it can be simplified even more:\r\n```java\r\nif (u) {\r\n   u2 = true;\r\n}\r\nu = true;\r\n```\r\nAfter that the next if-statement follows. The condition is `if (u &amp;&amp; u2)`. However, as we have seen just now the value of `u` at this point is always true. So the condition can be simplified to just `if (u2)`. What is inside the if-statement? The following code:\r\n```java\r\nif(!gp.devMode)\r\n{\r\n    gp.devMode = true;\r\n}\r\nelse if(gp.devMode)\r\n{\r\n    gp.devMode = false;\r\n}\r\n```\r\nHere you again perform the same excessive test as before with the `u` variable: there is no need for the second `if(gp.devMode)` check, because in order to get in this branch `gp.devMode` must be already true. The whole meaning of this if-statement is to toggle the value of `gp.devMode`: if it is true then set it to false and vice versa. You can achieve this with a simple assignment:\r\n```java\r\ngp.devMode = !gp.devMode;\r\n```\r\nSo, the second if-statement can be reduced to just \r\n```java\r\nif (u2) {\r\n   gp.devMode = !gp.devMode;\r\n}\r\n```\r\nAnd the whole block of code from which we started is reduced to\r\n```java\r\nif (u) {\r\n  u2 = true;\r\n}\r\nu = true;\r\nif (u2) {\r\n  gp.devMode = !gp.devMode;\r\n}\r\n```\r\nThis is just a simplification of the code, while maintaining the same logic. In many places the logic can be simplified or changed as well. \r\n\r\nAlso, the code right now is very prone to errors appearing from simple typos. For example, to specify the direction of the motion you use strings. What happens if in one of the places you accidentally type &quot;rigth&quot; instead of &quot;right&quot;? The program will compile and run, but it will not work correctly and it can be very difficult to spot the error. Much better solution in such cases is to use enumerations. So, you create a new file Direction.java:\r\n```java\r\npublic enum Direction {\r\n  UP,\r\n  DOWN,\r\n  LEFT,\r\n  RIGHT\r\n}\r\n```\r\nThen in your Entity class you replace the declaration\r\n```java\r\npublic String direction;\r\n```\r\nwith \r\n```java\r\npublic Direction direction;\r\n```\r\nWhen you need to use it you replace a string with the corresponding enumeration value, for example:\r\n```java\r\nswitch(direction) {\r\n    case Direction.UP:\r\n            worldY -= speed;\r\n            break;\r\n    case Direction.DOWN:\r\n            worldY += speed;\r\n            break;\r\n    case Direction.LEFT:\r\n            worldX -= speed;\r\n            break;\r\n    case Direction.RIGHT:\r\n            worldX += speed;\r\n            break;\r\n}\r\n```\r\nThis is more efficient and less error-prone. If you make a typo and write `Direction.RIGTH`, then the code will not compile. The compiler can also warn you now if you forget to specify all the cases in your switch statement, etc.\r\n\r\nThere are many other places where improvements can be done (e.g. you consistently break encapsulation), but let&#39;s return to your main question about collisions. It&#39;s hard to tell from the information you provided, but I think the collision box for your player looks something like the red rectangle on the following picture:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow, consider the player is a bit to the left and up of the door, and the player wants to move to the right:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn your code for collision detection you have the following:\r\n```java\r\ncase &quot;right&quot;:\r\n       entityRightCol = (entityRightWorldX + entity.speed) / gp.tileSize;\r\n       tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\r\n       tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\r\n\r\n       if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\r\n       {\r\n          entity.collisionOn = true;\r\n       }\r\n       break;\r\n```\r\nIt says, that you calculate the position which is a bit to the right of the player&#39;s right side, and then check the left-top and the right-bottom tiles, i.e. tiles shown by green color on the previous picture. Do you see the problem now? You should check the **right**-top and the right-bottom tiles. However, because of your mistake the collision of the right-top corner with the wall is not detected and the player is allowed to move further, inside the wall.\r\n\r\nNow you get this situation:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nLet&#39;s say you press a down key now. The check is the following:\r\n```java\r\ncase &quot;down&quot;:\r\n     entityBottemRow = (entityBottemWorldY + entity.speed) / gp.tileSize;\r\n     tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\r\n     tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\r\n\r\n     if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\r\n     {\r\n         entity.collisionOn = true;\r\n     }\r\n     break;\r\n``` \r\nYou again check the left-top and the right-bottom corners. The right-bottom corner is free, but the left-top is stuck in the wall and you can&#39;t move. The same is true for all other directions except for movement to the left.\r\n\r\nIn order to fix this you need to check in each case the two tiles which are lying in the direction of the desired movement:\r\n```text\r\ncase UP:    check left-top and right-top;\r\ncase DOWN:  check left-bottom and right-bottom;\r\ncase LEFT:  check left-top and left-bottom;\r\ncase RIGHT: check right-top and right-bottom;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/OEDS1.png\r\n  [2]: https://i.stack.imgur.com/xWPPA.png\r\n  [3]: https://i.stack.imgur.com/ITGcx.png","title":"How Would I fix the player collision so they aren&#39;t constantly getting stuck","body":"<p>Answering your question about refactoring: there are many places where your code can be made much cleaner and efficient. For example, consider this part from KeyHandler.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(!u)\n{\n   u = true;\n}\nelse if(u)\n{\n   u2 = true;\n}\n\nif(u &amp;&amp; u2)\n{\n   if(!gp.devMode)\n   {\n       gp.devMode = true;\n   }\n   else if(gp.devMode)\n   {\n       gp.devMode = false;\n   }\n}\n</code></pre>\n<p>Take a look on the first if-statement. If <code>u</code> is false, you enter the first branch and set it to true. Otherwise <code>u</code> is true and you enter the second branch. In this second branch you have a test <code>if(u)</code>. But you can enter this branch only if <code>u</code> is true! It means that you don't need to check it again and it can be simplified to</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!u) {\n   u = true;\n} else {\n   u2 = true;\n}\n</code></pre>\n<p>Now, you can see that after execution of this if-statement the value of <code>u</code> will always be true (because it was either true from the start, or it was set to true in the first branch). Thus, it can be simplified even more:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (u) {\n   u2 = true;\n}\nu = true;\n</code></pre>\n<p>After that the next if-statement follows. The condition is <code>if (u &amp;&amp; u2)</code>. However, as we have seen just now the value of <code>u</code> at this point is always true. So the condition can be simplified to just <code>if (u2)</code>. What is inside the if-statement? The following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(!gp.devMode)\n{\n    gp.devMode = true;\n}\nelse if(gp.devMode)\n{\n    gp.devMode = false;\n}\n</code></pre>\n<p>Here you again perform the same excessive test as before with the <code>u</code> variable: there is no need for the second <code>if(gp.devMode)</code> check, because in order to get in this branch <code>gp.devMode</code> must be already true. The whole meaning of this if-statement is to toggle the value of <code>gp.devMode</code>: if it is true then set it to false and vice versa. You can achieve this with a simple assignment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>gp.devMode = !gp.devMode;\n</code></pre>\n<p>So, the second if-statement can be reduced to just</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (u2) {\n   gp.devMode = !gp.devMode;\n}\n</code></pre>\n<p>And the whole block of code from which we started is reduced to</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (u) {\n  u2 = true;\n}\nu = true;\nif (u2) {\n  gp.devMode = !gp.devMode;\n}\n</code></pre>\n<p>This is just a simplification of the code, while maintaining the same logic. In many places the logic can be simplified or changed as well.</p>\n<p>Also, the code right now is very prone to errors appearing from simple typos. For example, to specify the direction of the motion you use strings. What happens if in one of the places you accidentally type &quot;rigth&quot; instead of &quot;right&quot;? The program will compile and run, but it will not work correctly and it can be very difficult to spot the error. Much better solution in such cases is to use enumerations. So, you create a new file Direction.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Direction {\n  UP,\n  DOWN,\n  LEFT,\n  RIGHT\n}\n</code></pre>\n<p>Then in your Entity class you replace the declaration</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String direction;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Direction direction;\n</code></pre>\n<p>When you need to use it you replace a string with the corresponding enumeration value, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch(direction) {\n    case Direction.UP:\n            worldY -= speed;\n            break;\n    case Direction.DOWN:\n            worldY += speed;\n            break;\n    case Direction.LEFT:\n            worldX -= speed;\n            break;\n    case Direction.RIGHT:\n            worldX += speed;\n            break;\n}\n</code></pre>\n<p>This is more efficient and less error-prone. If you make a typo and write <code>Direction.RIGTH</code>, then the code will not compile. The compiler can also warn you now if you forget to specify all the cases in your switch statement, etc.</p>\n<p>There are many other places where improvements can be done (e.g. you consistently break encapsulation), but let's return to your main question about collisions. It's hard to tell from the information you provided, but I think the collision box for your player looks something like the red rectangle on the following picture:</p>\n<p><a href=\"https://i.stack.imgur.com/OEDS1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEDS1.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, consider the player is a bit to the left and up of the door, and the player wants to move to the right:</p>\n<p><a href=\"https://i.stack.imgur.com/xWPPA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWPPA.png\" alt=\"enter image description here\" /></a></p>\n<p>In your code for collision detection you have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>case &quot;right&quot;:\n       entityRightCol = (entityRightWorldX + entity.speed) / gp.tileSize;\n       tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\n       tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\n\n       if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\n       {\n          entity.collisionOn = true;\n       }\n       break;\n</code></pre>\n<p>It says, that you calculate the position which is a bit to the right of the player's right side, and then check the left-top and the right-bottom tiles, i.e. tiles shown by green color on the previous picture. Do you see the problem now? You should check the <strong>right</strong>-top and the right-bottom tiles. However, because of your mistake the collision of the right-top corner with the wall is not detected and the player is allowed to move further, inside the wall.</p>\n<p>Now you get this situation:</p>\n<p><a href=\"https://i.stack.imgur.com/ITGcx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITGcx.png\" alt=\"enter image description here\" /></a></p>\n<p>Let's say you press a down key now. The check is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>case &quot;down&quot;:\n     entityBottemRow = (entityBottemWorldY + entity.speed) / gp.tileSize;\n     tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\n     tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\n\n     if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\n     {\n         entity.collisionOn = true;\n     }\n     break;\n</code></pre>\n<p>You again check the left-top and the right-bottom corners. The right-bottom corner is free, but the left-top is stuck in the wall and you can't move. The same is true for all other directions except for movement to the left.</p>\n<p>In order to fix this you need to check in each case the two tiles which are lying in the direction of the desired movement:</p>\n<pre><code>case UP:    check left-top and right-top;\ncase DOWN:  check left-bottom and right-bottom;\ncase LEFT:  check left-top and left-bottom;\ncase RIGHT: check right-top and right-bottom;\n</code></pre>\n"}],"owner":{"account_id":24253202,"reputation":11,"user_id":18203980,"display_name":"Lightnin6"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651720330,"creation_date":1651673365,"question_id":72114427,"body_markdown":"I am making my first 2d game and when i move up and collide with a tile it stops and i can still move left and right but it is difficult to move through a doorway.\r\n\r\nthe image below shows where the player gets stuck they cant move right or down they also can&#39;t move up but that is intended\r\n\r\nSorry if i left something important out this is my first time posting a question.\r\n\r\n- Edit\r\n\r\nto try to clarify\r\nmy collision box is set a bit smaller than my player so that the player will overlap the wall tiles a bit so when attempting to walk through a doorway to the right if the top of the player collision Box collides with the bottom of the tiles collision box it does stop the player from moving up but if the player tries to keep moving right the player would be stopped\r\n\r\n[an image of where the player is getting stuck][1]\r\n\r\n- CollisionHandler.java (Handles all collisions)\r\n```\r\npackage game.handlers;\r\n\r\nimport game.GamePanel;\r\nimport game.entities.Entity;\r\n\r\nimport game.items.Item;\r\nimport game.items.objects.*;\r\nimport game.items.misc.*;\r\n\r\npublic class CollisionHandler\r\n{\r\n    GamePanel gp;\r\n\r\n    public CollisionHandler(GamePanel gp)\r\n    {\r\n        this.gp = gp;\r\n    }\r\n\r\n    public void checkTile(Entity entity)\r\n    {\r\n        int entityLeftWorldX = entity.worldX + entity.collisionBox.x;\r\n        int entityRightWorldX = entity.worldX + entity.collisionBox.x + entity.collisionBox.width;\r\n        int entityTopWorldY = entity.worldY + entity.collisionBox.y;\r\n        int entityBottemWorldY = entity.worldY + entity.collisionBox.y + entity.collisionBox.height;\r\n\r\n        int entityLeftCol = entityLeftWorldX / gp.tileSize;\r\n        int entityRightCol = entityRightWorldX / gp.tileSize;\r\n        int entityTopRow = entityTopWorldY / gp.tileSize;\r\n        int entityBottemRow = entityBottemWorldY / gp.tileSize;\r\n\r\n        int tileNum1, tileNum2;\r\n        \r\n        switch(entity.direction)\r\n        {\r\n            case &quot;up&quot;:\r\n                entityTopRow = (entityTopWorldY - entity.speed) / gp.tileSize;\r\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\r\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\r\n\r\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\r\n                {\r\n                    entity.collisionOn = true;\r\n                }\r\n\r\n                break;\r\n            case &quot;down&quot;:\r\n                entityBottemRow = (entityBottemWorldY + entity.speed) / gp.tileSize;\r\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\r\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\r\n\r\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\r\n                {\r\n                    entity.collisionOn = true;\r\n                }\r\n\r\n                break;\r\n            case &quot;left&quot;:\r\n                entityLeftCol = (entityLeftWorldX - entity.speed) / gp.tileSize;\r\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\r\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\r\n\r\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\r\n                {\r\n                    entity.collisionOn = true;\r\n                }\r\n\r\n                break;\r\n            case &quot;right&quot;:\r\n                entityRightCol = (entityRightWorldX + entity.speed) / gp.tileSize;\r\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\r\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\r\n\r\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\r\n                {\r\n                    entity.collisionOn = true;\r\n                }\r\n                \r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    public int checkItem(Entity entity, boolean player)\r\n    {\r\n        int index = 999;\r\n\r\n        for(Item item: gp.items)\r\n        {\r\n            if(item != null)\r\n            {\r\n                entity.collisionBox.x = entity.worldX + entity.collisionBox.x;\r\n                entity.collisionBox.y = entity.worldY + entity.collisionBox.y;\r\n\r\n                item.collisionBox.x = item.worldX + item.collisionBox.x;\r\n                item.collisionBox.y = item.worldY + item.collisionBox.y;\r\n\r\n                switch(entity.direction)\r\n                {\r\n                    case &quot;up&quot;:\r\n                        entity.collisionBox.y -= entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                            if(item.hasCollision)\r\n                            {\r\n                                entity.collisionOn = true;\r\n                            }\r\n                            if(player)\r\n                            {\r\n                                index = gp.items.indexOf(item);\r\n                            }\r\n                        \r\n                        }\r\n                        break;\r\n                    case &quot;down&quot;:\r\n                        entity.collisionBox.y += entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                           if(item.hasCollision)\r\n                            {\r\n                                entity.collisionOn = true;\r\n                            }\r\n                            if(player)\r\n                            {\r\n                                index = gp.items.indexOf(item);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;left&quot;:\r\n                        entity.collisionBox.x -= entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                            if(item.hasCollision)\r\n                            {\r\n                                entity.collisionOn = true;\r\n                            }\r\n                            if(player)\r\n                            {\r\n                                index = gp.items.indexOf(item);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;right&quot;:\r\n                        entity.collisionBox.x += entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                            if(item.hasCollision)\r\n                            {\r\n                                entity.collisionOn = true;\r\n                            }\r\n                            if(player)\r\n                            {\r\n                                index = gp.items.indexOf(item);\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n                /*switch(entity.direction)\r\n                {\r\n                    case &quot;up&quot;:\r\n                        entity.collisionBox.y -= entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                            if(item instanceof SObject)\r\n                            {\r\n                                SObject object = (SObject)item;\r\n                                object.interact(gp);\r\n\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                            else \r\n                            {\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                        \r\n                        }\r\n                        break;\r\n                    case &quot;down&quot;:\r\n                        entity.collisionBox.y += entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                            if(item instanceof SObject)\r\n                            {\r\n                                SObject object = (SObject)item;\r\n                                object.interact(gp);\r\n\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                            else \r\n                            {\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;left&quot;:\r\n                        entity.collisionBox.x -= entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                            if(item instanceof SObject)\r\n                            {\r\n                                SObject object = (SObject)item;\r\n                                object.interact(gp);\r\n\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                            else \r\n                            {\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    case &quot;right&quot;:\r\n                        entity.collisionBox.x += entity.speed;\r\n                        if(entity.collisionBox.intersects(item.collisionBox))\r\n                        {\r\n                            if(item instanceof SObject)\r\n                            {\r\n                                SObject object = (SObject)item;\r\n                                object.interact(gp);\r\n\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                            else \r\n                            {\r\n                                if(item.hasCollision)\r\n                                {\r\n                                    entity.collisionOn = true;\r\n                                }\r\n                                if(player)\r\n                                {\r\n                                    index = gp.items.indexOf(item);\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                }*/\r\n                entity.collisionBox.x = entity.defaultCollisionBoxX;\r\n                entity.collisionBox.y = entity.defaultCollisionBoxY;\r\n\r\n                item.collisionBox.x = item.defaultCollisionBoxX;\r\n                item.collisionBox.y = item.defaultCollisionBoxY;\r\n            }\r\n        }\r\n\r\n        return index;\r\n    }\r\n\r\n    public void interact(Entity entity, int index)\r\n    {\r\n        Item item = gp.items.get(index);\r\n                \r\n        if(item != null)\r\n        {\r\n            entity.collisionBox.x = entity.worldX + entity.collisionBox.x;\r\n            entity.collisionBox.y = entity.worldY + entity.collisionBox.y;\r\n\r\n            item.collisionBox.x = item.worldX + item.collisionBox.x;\r\n            item.collisionBox.y = item.worldY + item.collisionBox.y;\r\n\r\n            switch(entity.direction)\r\n            {\r\n                case &quot;up&quot;:\r\n                    entity.collisionBox.y -= entity.speed;\r\n                    if(entity.collisionBox.intersects(item.collisionBox))\r\n                    {\r\n                        if(item.hasCollision)\r\n                        {\r\n                            entity.collisionOn = true;\r\n                        }\r\n                    \r\n                    }\r\n                    break;\r\n                case &quot;down&quot;:\r\n                    entity.collisionBox.y += entity.speed;\r\n                    if(entity.collisionBox.intersects(item.collisionBox))\r\n                    {\r\n                        if(item.hasCollision)\r\n                        {\r\n                            entity.collisionOn = true;\r\n                        }\r\n                    }\r\n                    break;\r\n                case &quot;left&quot;:\r\n                    entity.collisionBox.x -= entity.speed;\r\n                    if(entity.collisionBox.intersects(item.collisionBox))\r\n                    {\r\n                        if(item.hasCollision)\r\n                        {\r\n                            entity.collisionOn = true;\r\n                        }\r\n                    }\r\n                    break;\r\n                case &quot;right&quot;:\r\n                    entity.collisionBox.x += entity.speed;\r\n                    if(entity.collisionBox.intersects(item.collisionBox))\r\n                    {\r\n                        if(item.hasCollision)\r\n                        {\r\n                            entity.collisionOn = true;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            entity.collisionBox.x = entity.defaultCollisionBoxX;\r\n            entity.collisionBox.y = entity.defaultCollisionBoxY;\r\n\r\n            item.collisionBox.x = item.defaultCollisionBoxX;\r\n            item.collisionBox.y = item.defaultCollisionBoxY;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n- Entity.java (the class i extend all other entities from player, enemies, npcs, exc...)\r\n```\r\npackage game.entities;\r\n\r\nimport game.util.Inventory;\r\nimport game.items.Item;\r\n\r\nimport java.awt.image.*;\r\nimport java.awt.Rectangle;\r\nimport java.util.ArrayList;\r\n\r\npublic abstract class Entity\r\n{\r\n    public int health;\r\n    public int maxHealth;\r\n\r\n    public int worldX, worldY;\r\n    public int speed;\r\n\r\n    public BufferedImage up1, up2, down1, down2, left1, left2, right1, right2;\r\n    public String direction;\r\n\r\n    public int spriteCounter = 0;\r\n    public int spriteNumber = 1;\r\n\r\n    public Rectangle collisionBox;\r\n    public int defaultCollisionBoxX, defaultCollisionBoxY;\r\n    public boolean collisionOn = false;\r\n\r\n    public Inventory inv = new Inventory(this);\r\n\r\n    public Item equiped;\r\n\r\n    public ArrayList&lt;String&gt; diialogues = new ArrayList&lt;String&gt;();\r\n\r\n    public void heal(int amountToHeal)\r\n    {\r\n        health += amountToHeal;\r\n        if(health &gt; maxHealth)\r\n        {\r\n            health = maxHealth;\r\n        }\r\n    }\r\n\r\n    public void damage(int amountToDamage)\r\n    {\r\n        health -= amountToDamage;\r\n        if(health &lt; 0)\r\n        {\r\n            health = 0;\r\n        }\r\n    }\r\n}\r\n```\r\n- Player.java (The class containing the player of the game)\r\n```\r\npackage game.entities;\r\n\r\nimport game.handlers.KeyHandler;\r\nimport game.items.Item;\r\nimport game.items.objects.SObject;\r\nimport game.GamePanel;\r\n\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Color;\r\nimport java.awt.Rectangle;\r\nimport java.awt.image.*;\r\nimport java.io.*;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class Player extends Entity\r\n{\r\n    GamePanel gp;\r\n    KeyHandler kh;\r\n\r\n    public final int screenX;\r\n    public final int screenY;\r\n\r\n    public Player(GamePanel gp, KeyHandler kh)\r\n    {\r\n        this.gp = gp;\r\n        this.kh = kh;\r\n\r\n        screenX = gp.screenWidth/2 - (gp.tileSize/2);\r\n        screenY = gp.screenHeight/2 - (gp.tileSize/2);\r\n\r\n        collisionBox = new Rectangle(8, 16, 32, 32);\r\n\r\n        defaultCollisionBoxX = collisionBox.x;\r\n        defaultCollisionBoxY = collisionBox.y;\r\n\r\n        worldX = gp.tileSize * 22;\r\n        worldY = gp.tileSize * 46; //46\r\n        \r\n        speed = 4;\r\n\r\n        direction = &quot;down&quot;;\r\n\r\n        health = 50;\r\n        maxHealth = 100;\r\n\r\n        getPlayerImage();\r\n    }\r\n\r\n    public void getPlayerImage()\r\n    {\r\n        try \r\n        {\r\n            up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_up_1.png&quot;));\r\n            up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_up_2.png&quot;));\r\n\r\n            down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_down_1.png&quot;));\r\n            down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_down_2.png&quot;));\r\n\r\n            left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_left_1.png&quot;));\r\n            left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_left_2.png&quot;));\r\n\r\n            right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_right_1.png&quot;));\r\n            right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_right_2.png&quot;));\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void interactObject(int index)\r\n    {\r\n        if(gp.kh.ePressed)\r\n        {\r\n            if(index != 999)\r\n            {\r\n                SObject object = (SObject)gp.items.get(index);\r\n                object.interact(gp);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void pickUpItem(int index)\r\n    {\r\n        if(index != 999)\r\n        {\r\n           if(gp.items.get(index) instanceof SObject)\r\n           {\r\n           }\r\n           else \r\n           {\r\n                //inv.items.add(gp.items.get(index));\r\n                gp.items.set(index, null);\r\n           }\r\n        }\r\n    }\r\n\r\n    public void interactNPC(int index)\r\n    {}\r\n\r\n    public void update()\r\n    {\r\n        if(kh.downPressed || kh.upPressed || kh.leftPressed || kh.rightPressed)\r\n        {\r\n            if(kh.upPressed)\r\n            {\r\n                direction = &quot;up&quot;;\r\n            }\r\n\r\n            if(kh.downPressed)\r\n            {\r\n                direction = &quot;down&quot;;\r\n            }\r\n\r\n            if(kh.leftPressed)\r\n            {\r\n                direction = &quot;left&quot;;\r\n            }\r\n\r\n            if(kh.rightPressed)\r\n            {\r\n                direction = &quot;right&quot;;\r\n            }\r\n\r\n            collisionOn = false;\r\n            gp.ch.checkTile(this);\r\n\r\n            int itemIndex = gp.ch.checkItem(this, true);\r\n            pickUpItem(itemIndex);\r\n\r\n            if(!collisionOn)\r\n            {\r\n                switch(direction)\r\n                {\r\n                    case &quot;up&quot;:\r\n                        worldY -= speed;\r\n                        break;\r\n                    case &quot;down&quot;:\r\n                        worldY += speed;\r\n                        break;\r\n                    case &quot;left&quot;:\r\n                        worldX -= speed;\r\n                        break;\r\n                    case &quot;right&quot;:\r\n                        worldX += speed;\r\n                        break;\r\n                }\r\n            }\r\n            \r\n            //int objectIndex = gp.ch.checkItem(this, true);\r\n            //interactObject(objectIndex);\r\n\r\n            gp.kh.ePressed = false;\r\n\r\n            spriteCounter++;\r\n            if(spriteCounter &gt; 12)\r\n            {\r\n                if(spriteNumber == 1)\r\n                {\r\n                    spriteNumber = 2;\r\n                }\r\n                else if(spriteNumber == 2)\r\n                {\r\n                    spriteNumber = 1;\r\n                }\r\n                spriteCounter = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void draw(Graphics2D g2d)\r\n    {\r\n        BufferedImage image = null;\r\n\r\n        switch(direction)\r\n        {\r\n            case &quot;up&quot;:\r\n                if(spriteNumber == 1)\r\n                {\r\n                    image = up1;\r\n                }\r\n                else if(spriteNumber == 2)\r\n                {\r\n                    image = up2;\r\n                }\r\n                break;\r\n            case &quot;down&quot;:\r\n                if(spriteNumber == 1)\r\n                {\r\n                    image = down1;\r\n                }\r\n                else if(spriteNumber == 2)\r\n                {\r\n                    image = down2;\r\n                }\r\n                break;\r\n            case &quot;left&quot;:\r\n                if(spriteNumber == 1)\r\n                {\r\n                    image = left1;\r\n                }\r\n                else if(spriteNumber == 2)\r\n                {\r\n                    image = left2;\r\n                }\r\n                break;\r\n            case &quot;right&quot;:\r\n                if(spriteNumber == 1)\r\n                {\r\n                    image = right1;\r\n                }\r\n                else if(spriteNumber == 2)\r\n                {\r\n                    image = right2;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        int x = screenX;\r\n        int y = screenY;\r\n\r\n        if(screenX &gt; worldX)\r\n        {\r\n            x = worldX;\r\n        }\r\n\r\n        if(screenY &gt; worldY)\r\n        {\r\n            y = worldY;\r\n        }\r\n\r\n        int rightOffset = gp.screenWidth - gp.player.screenX;\r\n        if(rightOffset &gt; gp.worldWidth - gp.player.worldX)\r\n        {\r\n            x = gp.screenWidth - (gp.worldWidth - worldX);\r\n        }\r\n\r\n        int bottemOffset = gp.screenHeight - gp.player.screenY;\r\n        if(bottemOffset &gt; gp.worldHeight - gp.player.worldY)\r\n        {\r\n            y = gp.screenHeight -(gp.worldHeight - worldY);\r\n        }\r\n\r\n        g2d.drawImage(image, x, y, gp.tileSize, gp.tileSize, null);\r\n    }\r\n}\r\n```\r\n\r\n- KeyHandler.java (handles all my key imputs)\r\n```\r\npackage game.handlers;\r\n\r\nimport game.GamePanel;\r\n\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class KeyHandler implements KeyListener\r\n{\r\n    GamePanel gp;\r\n\r\n    public boolean upPressed, leftPressed, downPressed, rightPressed;\r\n    public boolean ePressed, enterPressed;\r\n\r\n    private boolean u, u2, d, d2, l, r, l2, r2;\r\n\r\n    public KeyHandler(GamePanel gp)\r\n    {\r\n        this.gp = gp;\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e)\r\n    {}\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e)\r\n    {\r\n        int input = e.getKeyCode();\r\n\r\n        if(gp.gameState == gp.playState)\r\n        {\r\n            if(input == KeyEvent.VK_W)\r\n            {\r\n                upPressed = true;\r\n            }\r\n\r\n            if(input == KeyEvent.VK_A)\r\n            {\r\n                leftPressed = true;\r\n            }\r\n\r\n            if(input == KeyEvent.VK_S)\r\n            {\r\n                downPressed = true;\r\n            }\r\n\r\n            if(input == KeyEvent.VK_D)\r\n            {\r\n                rightPressed = true;\r\n            }\r\n\r\n            //interact key\r\n            if(input == KeyEvent.VK_E)\r\n            {\r\n                ePressed = true;\r\n            }\r\n\r\n            //Dev mode\r\n            if(input == KeyEvent.VK_UP)\r\n            {\r\n                if(!u)\r\n                {\r\n                    u = true;\r\n                }\r\n                else if(u)\r\n                {\r\n                    u2 = true;\r\n                }\r\n\r\n                if(u &amp;&amp; u2)\r\n                {\r\n                    if(!gp.devMode)\r\n                    {\r\n                        gp.devMode = true;\r\n                    }\r\n                    else if(gp.devMode)\r\n                    {\r\n                        gp.devMode = false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(gp.devMode)\r\n            {\r\n                if(input == KeyEvent.VK_T)\r\n                {\r\n                    gp.player.heal(5);\r\n                }\r\n\r\n                if(input == KeyEvent.VK_Y)\r\n                {\r\n                    gp.player.damage(5);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(gp.gameState == gp.playState || gp.gameState == gp.pauseState)\r\n        {\r\n            //Toggle Pause Menu\r\n            if(input == KeyEvent.VK_P)\r\n            {\r\n                if(gp.gameState == gp.playState)\r\n                {\r\n                    gp.gameState = gp.pauseState;\r\n                }\r\n                else if(gp.gameState == gp.pauseState)\r\n                {\r\n                    gp.gameState = gp.playState;\r\n                }\r\n            }\r\n        }\r\n\r\n        if(gp.gameState == gp.textState)\r\n        {\r\n            if(input == KeyEvent.VK_ENTER)\r\n            {\r\n                enterPressed = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e)\r\n    {\r\n        int input = e.getKeyCode();\r\n\r\n        if(input == KeyEvent.VK_W)\r\n        {\r\n            upPressed = false;\r\n        }\r\n\r\n        if(input == KeyEvent.VK_A)\r\n        {\r\n            leftPressed = false;\r\n        }\r\n\r\n        if(input == KeyEvent.VK_S)\r\n        {\r\n            downPressed = false;\r\n        }\r\n\r\n        if(input == KeyEvent.VK_D)\r\n        {\r\n            rightPressed = false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI would greatly appreciate any help that can be given along with any suggestions\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/32IEo.png","title":"How Would I fix the player collision so they aren&#39;t constantly getting stuck","body":"<p>I am making my first 2d game and when i move up and collide with a tile it stops and i can still move left and right but it is difficult to move through a doorway.</p>\n<p>the image below shows where the player gets stuck they cant move right or down they also can't move up but that is intended</p>\n<p>Sorry if i left something important out this is my first time posting a question.</p>\n<ul>\n<li>Edit</li>\n</ul>\n<p>to try to clarify\nmy collision box is set a bit smaller than my player so that the player will overlap the wall tiles a bit so when attempting to walk through a doorway to the right if the top of the player collision Box collides with the bottom of the tiles collision box it does stop the player from moving up but if the player tries to keep moving right the player would be stopped</p>\n<p><a href=\"https://i.stack.imgur.com/32IEo.png\" rel=\"nofollow noreferrer\">an image of where the player is getting stuck</a></p>\n<ul>\n<li>CollisionHandler.java (Handles all collisions)</li>\n</ul>\n<pre><code>package game.handlers;\n\nimport game.GamePanel;\nimport game.entities.Entity;\n\nimport game.items.Item;\nimport game.items.objects.*;\nimport game.items.misc.*;\n\npublic class CollisionHandler\n{\n    GamePanel gp;\n\n    public CollisionHandler(GamePanel gp)\n    {\n        this.gp = gp;\n    }\n\n    public void checkTile(Entity entity)\n    {\n        int entityLeftWorldX = entity.worldX + entity.collisionBox.x;\n        int entityRightWorldX = entity.worldX + entity.collisionBox.x + entity.collisionBox.width;\n        int entityTopWorldY = entity.worldY + entity.collisionBox.y;\n        int entityBottemWorldY = entity.worldY + entity.collisionBox.y + entity.collisionBox.height;\n\n        int entityLeftCol = entityLeftWorldX / gp.tileSize;\n        int entityRightCol = entityRightWorldX / gp.tileSize;\n        int entityTopRow = entityTopWorldY / gp.tileSize;\n        int entityBottemRow = entityBottemWorldY / gp.tileSize;\n\n        int tileNum1, tileNum2;\n        \n        switch(entity.direction)\n        {\n            case &quot;up&quot;:\n                entityTopRow = (entityTopWorldY - entity.speed) / gp.tileSize;\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\n\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\n                {\n                    entity.collisionOn = true;\n                }\n\n                break;\n            case &quot;down&quot;:\n                entityBottemRow = (entityBottemWorldY + entity.speed) / gp.tileSize;\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\n\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\n                {\n                    entity.collisionOn = true;\n                }\n\n                break;\n            case &quot;left&quot;:\n                entityLeftCol = (entityLeftWorldX - entity.speed) / gp.tileSize;\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\n\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\n                {\n                    entity.collisionOn = true;\n                }\n\n                break;\n            case &quot;right&quot;:\n                entityRightCol = (entityRightWorldX + entity.speed) / gp.tileSize;\n                tileNum1 = gp.tm.mapTileNum[entityLeftCol] [entityTopRow];\n                tileNum2 = gp.tm.mapTileNum[entityRightCol] [entityBottemRow];\n\n                if(gp.tm.tile[tileNum1].hasCollision || gp.tm.tile[tileNum2].hasCollision)\n                {\n                    entity.collisionOn = true;\n                }\n                \n                break;\n            default:\n                break;\n        }\n    }\n\n    public int checkItem(Entity entity, boolean player)\n    {\n        int index = 999;\n\n        for(Item item: gp.items)\n        {\n            if(item != null)\n            {\n                entity.collisionBox.x = entity.worldX + entity.collisionBox.x;\n                entity.collisionBox.y = entity.worldY + entity.collisionBox.y;\n\n                item.collisionBox.x = item.worldX + item.collisionBox.x;\n                item.collisionBox.y = item.worldY + item.collisionBox.y;\n\n                switch(entity.direction)\n                {\n                    case &quot;up&quot;:\n                        entity.collisionBox.y -= entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                            if(item.hasCollision)\n                            {\n                                entity.collisionOn = true;\n                            }\n                            if(player)\n                            {\n                                index = gp.items.indexOf(item);\n                            }\n                        \n                        }\n                        break;\n                    case &quot;down&quot;:\n                        entity.collisionBox.y += entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                           if(item.hasCollision)\n                            {\n                                entity.collisionOn = true;\n                            }\n                            if(player)\n                            {\n                                index = gp.items.indexOf(item);\n                            }\n                        }\n                        break;\n                    case &quot;left&quot;:\n                        entity.collisionBox.x -= entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                            if(item.hasCollision)\n                            {\n                                entity.collisionOn = true;\n                            }\n                            if(player)\n                            {\n                                index = gp.items.indexOf(item);\n                            }\n                        }\n                        break;\n                    case &quot;right&quot;:\n                        entity.collisionBox.x += entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                            if(item.hasCollision)\n                            {\n                                entity.collisionOn = true;\n                            }\n                            if(player)\n                            {\n                                index = gp.items.indexOf(item);\n                            }\n                        }\n                        break;\n                }\n                /*switch(entity.direction)\n                {\n                    case &quot;up&quot;:\n                        entity.collisionBox.y -= entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                            if(item instanceof SObject)\n                            {\n                                SObject object = (SObject)item;\n                                object.interact(gp);\n\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                            else \n                            {\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                        \n                        }\n                        break;\n                    case &quot;down&quot;:\n                        entity.collisionBox.y += entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                            if(item instanceof SObject)\n                            {\n                                SObject object = (SObject)item;\n                                object.interact(gp);\n\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                            else \n                            {\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                        }\n                        break;\n                    case &quot;left&quot;:\n                        entity.collisionBox.x -= entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                            if(item instanceof SObject)\n                            {\n                                SObject object = (SObject)item;\n                                object.interact(gp);\n\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                            else \n                            {\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                        }\n                        break;\n                    case &quot;right&quot;:\n                        entity.collisionBox.x += entity.speed;\n                        if(entity.collisionBox.intersects(item.collisionBox))\n                        {\n                            if(item instanceof SObject)\n                            {\n                                SObject object = (SObject)item;\n                                object.interact(gp);\n\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                            else \n                            {\n                                if(item.hasCollision)\n                                {\n                                    entity.collisionOn = true;\n                                }\n                                if(player)\n                                {\n                                    index = gp.items.indexOf(item);\n                                }\n                            }\n                        }\n                        break;\n                }*/\n                entity.collisionBox.x = entity.defaultCollisionBoxX;\n                entity.collisionBox.y = entity.defaultCollisionBoxY;\n\n                item.collisionBox.x = item.defaultCollisionBoxX;\n                item.collisionBox.y = item.defaultCollisionBoxY;\n            }\n        }\n\n        return index;\n    }\n\n    public void interact(Entity entity, int index)\n    {\n        Item item = gp.items.get(index);\n                \n        if(item != null)\n        {\n            entity.collisionBox.x = entity.worldX + entity.collisionBox.x;\n            entity.collisionBox.y = entity.worldY + entity.collisionBox.y;\n\n            item.collisionBox.x = item.worldX + item.collisionBox.x;\n            item.collisionBox.y = item.worldY + item.collisionBox.y;\n\n            switch(entity.direction)\n            {\n                case &quot;up&quot;:\n                    entity.collisionBox.y -= entity.speed;\n                    if(entity.collisionBox.intersects(item.collisionBox))\n                    {\n                        if(item.hasCollision)\n                        {\n                            entity.collisionOn = true;\n                        }\n                    \n                    }\n                    break;\n                case &quot;down&quot;:\n                    entity.collisionBox.y += entity.speed;\n                    if(entity.collisionBox.intersects(item.collisionBox))\n                    {\n                        if(item.hasCollision)\n                        {\n                            entity.collisionOn = true;\n                        }\n                    }\n                    break;\n                case &quot;left&quot;:\n                    entity.collisionBox.x -= entity.speed;\n                    if(entity.collisionBox.intersects(item.collisionBox))\n                    {\n                        if(item.hasCollision)\n                        {\n                            entity.collisionOn = true;\n                        }\n                    }\n                    break;\n                case &quot;right&quot;:\n                    entity.collisionBox.x += entity.speed;\n                    if(entity.collisionBox.intersects(item.collisionBox))\n                    {\n                        if(item.hasCollision)\n                        {\n                            entity.collisionOn = true;\n                        }\n                    }\n                    break;\n            }\n            entity.collisionBox.x = entity.defaultCollisionBoxX;\n            entity.collisionBox.y = entity.defaultCollisionBoxY;\n\n            item.collisionBox.x = item.defaultCollisionBoxX;\n            item.collisionBox.y = item.defaultCollisionBoxY;\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Entity.java (the class i extend all other entities from player, enemies, npcs, exc...)</li>\n</ul>\n<pre><code>package game.entities;\n\nimport game.util.Inventory;\nimport game.items.Item;\n\nimport java.awt.image.*;\nimport java.awt.Rectangle;\nimport java.util.ArrayList;\n\npublic abstract class Entity\n{\n    public int health;\n    public int maxHealth;\n\n    public int worldX, worldY;\n    public int speed;\n\n    public BufferedImage up1, up2, down1, down2, left1, left2, right1, right2;\n    public String direction;\n\n    public int spriteCounter = 0;\n    public int spriteNumber = 1;\n\n    public Rectangle collisionBox;\n    public int defaultCollisionBoxX, defaultCollisionBoxY;\n    public boolean collisionOn = false;\n\n    public Inventory inv = new Inventory(this);\n\n    public Item equiped;\n\n    public ArrayList&lt;String&gt; diialogues = new ArrayList&lt;String&gt;();\n\n    public void heal(int amountToHeal)\n    {\n        health += amountToHeal;\n        if(health &gt; maxHealth)\n        {\n            health = maxHealth;\n        }\n    }\n\n    public void damage(int amountToDamage)\n    {\n        health -= amountToDamage;\n        if(health &lt; 0)\n        {\n            health = 0;\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Player.java (The class containing the player of the game)</li>\n</ul>\n<pre><code>package game.entities;\n\nimport game.handlers.KeyHandler;\nimport game.items.Item;\nimport game.items.objects.SObject;\nimport game.GamePanel;\n\nimport java.awt.Graphics2D;\nimport java.awt.Color;\nimport java.awt.Rectangle;\nimport java.awt.image.*;\nimport java.io.*;\nimport javax.imageio.ImageIO;\n\npublic class Player extends Entity\n{\n    GamePanel gp;\n    KeyHandler kh;\n\n    public final int screenX;\n    public final int screenY;\n\n    public Player(GamePanel gp, KeyHandler kh)\n    {\n        this.gp = gp;\n        this.kh = kh;\n\n        screenX = gp.screenWidth/2 - (gp.tileSize/2);\n        screenY = gp.screenHeight/2 - (gp.tileSize/2);\n\n        collisionBox = new Rectangle(8, 16, 32, 32);\n\n        defaultCollisionBoxX = collisionBox.x;\n        defaultCollisionBoxY = collisionBox.y;\n\n        worldX = gp.tileSize * 22;\n        worldY = gp.tileSize * 46; //46\n        \n        speed = 4;\n\n        direction = &quot;down&quot;;\n\n        health = 50;\n        maxHealth = 100;\n\n        getPlayerImage();\n    }\n\n    public void getPlayerImage()\n    {\n        try \n        {\n            up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_up_1.png&quot;));\n            up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_up_2.png&quot;));\n\n            down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_down_1.png&quot;));\n            down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_down_2.png&quot;));\n\n            left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_left_1.png&quot;));\n            left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_left_2.png&quot;));\n\n            right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_right_1.png&quot;));\n            right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/Resources/Entities/Player/boy_right_2.png&quot;));\n        }\n        catch(IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public void interactObject(int index)\n    {\n        if(gp.kh.ePressed)\n        {\n            if(index != 999)\n            {\n                SObject object = (SObject)gp.items.get(index);\n                object.interact(gp);\n            }\n        }\n    }\n\n    public void pickUpItem(int index)\n    {\n        if(index != 999)\n        {\n           if(gp.items.get(index) instanceof SObject)\n           {\n           }\n           else \n           {\n                //inv.items.add(gp.items.get(index));\n                gp.items.set(index, null);\n           }\n        }\n    }\n\n    public void interactNPC(int index)\n    {}\n\n    public void update()\n    {\n        if(kh.downPressed || kh.upPressed || kh.leftPressed || kh.rightPressed)\n        {\n            if(kh.upPressed)\n            {\n                direction = &quot;up&quot;;\n            }\n\n            if(kh.downPressed)\n            {\n                direction = &quot;down&quot;;\n            }\n\n            if(kh.leftPressed)\n            {\n                direction = &quot;left&quot;;\n            }\n\n            if(kh.rightPressed)\n            {\n                direction = &quot;right&quot;;\n            }\n\n            collisionOn = false;\n            gp.ch.checkTile(this);\n\n            int itemIndex = gp.ch.checkItem(this, true);\n            pickUpItem(itemIndex);\n\n            if(!collisionOn)\n            {\n                switch(direction)\n                {\n                    case &quot;up&quot;:\n                        worldY -= speed;\n                        break;\n                    case &quot;down&quot;:\n                        worldY += speed;\n                        break;\n                    case &quot;left&quot;:\n                        worldX -= speed;\n                        break;\n                    case &quot;right&quot;:\n                        worldX += speed;\n                        break;\n                }\n            }\n            \n            //int objectIndex = gp.ch.checkItem(this, true);\n            //interactObject(objectIndex);\n\n            gp.kh.ePressed = false;\n\n            spriteCounter++;\n            if(spriteCounter &gt; 12)\n            {\n                if(spriteNumber == 1)\n                {\n                    spriteNumber = 2;\n                }\n                else if(spriteNumber == 2)\n                {\n                    spriteNumber = 1;\n                }\n                spriteCounter = 0;\n            }\n        }\n    }\n\n    public void draw(Graphics2D g2d)\n    {\n        BufferedImage image = null;\n\n        switch(direction)\n        {\n            case &quot;up&quot;:\n                if(spriteNumber == 1)\n                {\n                    image = up1;\n                }\n                else if(spriteNumber == 2)\n                {\n                    image = up2;\n                }\n                break;\n            case &quot;down&quot;:\n                if(spriteNumber == 1)\n                {\n                    image = down1;\n                }\n                else if(spriteNumber == 2)\n                {\n                    image = down2;\n                }\n                break;\n            case &quot;left&quot;:\n                if(spriteNumber == 1)\n                {\n                    image = left1;\n                }\n                else if(spriteNumber == 2)\n                {\n                    image = left2;\n                }\n                break;\n            case &quot;right&quot;:\n                if(spriteNumber == 1)\n                {\n                    image = right1;\n                }\n                else if(spriteNumber == 2)\n                {\n                    image = right2;\n                }\n                break;\n            default:\n                break;\n        }\n\n        int x = screenX;\n        int y = screenY;\n\n        if(screenX &gt; worldX)\n        {\n            x = worldX;\n        }\n\n        if(screenY &gt; worldY)\n        {\n            y = worldY;\n        }\n\n        int rightOffset = gp.screenWidth - gp.player.screenX;\n        if(rightOffset &gt; gp.worldWidth - gp.player.worldX)\n        {\n            x = gp.screenWidth - (gp.worldWidth - worldX);\n        }\n\n        int bottemOffset = gp.screenHeight - gp.player.screenY;\n        if(bottemOffset &gt; gp.worldHeight - gp.player.worldY)\n        {\n            y = gp.screenHeight -(gp.worldHeight - worldY);\n        }\n\n        g2d.drawImage(image, x, y, gp.tileSize, gp.tileSize, null);\n    }\n}\n</code></pre>\n<ul>\n<li>KeyHandler.java (handles all my key imputs)</li>\n</ul>\n<pre><code>package game.handlers;\n\nimport game.GamePanel;\n\nimport java.awt.event.KeyListener;\nimport java.awt.event.KeyEvent;\n\npublic class KeyHandler implements KeyListener\n{\n    GamePanel gp;\n\n    public boolean upPressed, leftPressed, downPressed, rightPressed;\n    public boolean ePressed, enterPressed;\n\n    private boolean u, u2, d, d2, l, r, l2, r2;\n\n    public KeyHandler(GamePanel gp)\n    {\n        this.gp = gp;\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e)\n    {}\n\n    @Override\n    public void keyPressed(KeyEvent e)\n    {\n        int input = e.getKeyCode();\n\n        if(gp.gameState == gp.playState)\n        {\n            if(input == KeyEvent.VK_W)\n            {\n                upPressed = true;\n            }\n\n            if(input == KeyEvent.VK_A)\n            {\n                leftPressed = true;\n            }\n\n            if(input == KeyEvent.VK_S)\n            {\n                downPressed = true;\n            }\n\n            if(input == KeyEvent.VK_D)\n            {\n                rightPressed = true;\n            }\n\n            //interact key\n            if(input == KeyEvent.VK_E)\n            {\n                ePressed = true;\n            }\n\n            //Dev mode\n            if(input == KeyEvent.VK_UP)\n            {\n                if(!u)\n                {\n                    u = true;\n                }\n                else if(u)\n                {\n                    u2 = true;\n                }\n\n                if(u &amp;&amp; u2)\n                {\n                    if(!gp.devMode)\n                    {\n                        gp.devMode = true;\n                    }\n                    else if(gp.devMode)\n                    {\n                        gp.devMode = false;\n                    }\n                }\n            }\n\n            if(gp.devMode)\n            {\n                if(input == KeyEvent.VK_T)\n                {\n                    gp.player.heal(5);\n                }\n\n                if(input == KeyEvent.VK_Y)\n                {\n                    gp.player.damage(5);\n                }\n            }\n        }\n\n        if(gp.gameState == gp.playState || gp.gameState == gp.pauseState)\n        {\n            //Toggle Pause Menu\n            if(input == KeyEvent.VK_P)\n            {\n                if(gp.gameState == gp.playState)\n                {\n                    gp.gameState = gp.pauseState;\n                }\n                else if(gp.gameState == gp.pauseState)\n                {\n                    gp.gameState = gp.playState;\n                }\n            }\n        }\n\n        if(gp.gameState == gp.textState)\n        {\n            if(input == KeyEvent.VK_ENTER)\n            {\n                enterPressed = true;\n            }\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e)\n    {\n        int input = e.getKeyCode();\n\n        if(input == KeyEvent.VK_W)\n        {\n            upPressed = false;\n        }\n\n        if(input == KeyEvent.VK_A)\n        {\n            leftPressed = false;\n        }\n\n        if(input == KeyEvent.VK_S)\n        {\n            downPressed = false;\n        }\n\n        if(input == KeyEvent.VK_D)\n        {\n            rightPressed = false;\n        }\n    }\n}\n</code></pre>\n<p>I would greatly appreciate any help that can be given along with any suggestions</p>\n"},{"tags":["java","scala","apache-spark","types"],"answers":[{"tags":[],"owner":{"account_id":25199892,"reputation":11,"user_id":19038896,"display_name":"Songv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651719802,"creation_date":1651719802,"answer_id":72121452,"question_id":53074721,"body_markdown":"If you must store as numeric type:\r\n- `cast(value as Double)` (possible loss of precision) \r\n- `cast(value as Decimal(38, 18))` (possible overflow)\r\n\r\nIf your data doesn&#39;t need to be involved in the calculation, you can transform them to `String`.\r\n","title":"How to use spark with large decimal numbers?","body":"<p>If you must store as numeric type:</p>\n<ul>\n<li><code>cast(value as Double)</code> (possible loss of precision)</li>\n<li><code>cast(value as Decimal(38, 18))</code> (possible overflow)</li>\n</ul>\n<p>If your data doesn't need to be involved in the calculation, you can transform them to <code>String</code>.</p>\n"}],"owner":{"account_id":9124595,"reputation":1320,"user_id":6788869,"accept_rate":100,"display_name":"cozyss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1651719802,"creation_date":1540946305,"question_id":53074721,"body_markdown":"My database has `numeric` value, which is up to 256-bit unsigned integer. However, spark&#39;s `decimalType` has a limit of Decimal(38,18).\r\n\r\nWhen I try to do calculations on the column, exceptions are thrown.\r\n\r\n&gt; java.lang.IllegalArgumentException: requirement failed: Decimal precision 39 exceeds max precision 38&quot;.\r\n\r\nIs there any third-party library or workarounds that solve this issue? Or Spark is designed for numbers smaller than Decimal(38,18)?","title":"How to use spark with large decimal numbers?","body":"<p>My database has <code>numeric</code> value, which is up to 256-bit unsigned integer. However, spark's <code>decimalType</code> has a limit of Decimal(38,18).</p>\n\n<p>When I try to do calculations on the column, exceptions are thrown.</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: requirement failed: Decimal precision 39 exceeds max precision 38\".</p>\n</blockquote>\n\n<p>Is there any third-party library or workarounds that solve this issue? Or Spark is designed for numbers smaller than Decimal(38,18)?</p>\n"},{"tags":["java","android","android-studio","methods","while-loop"],"comments":[{"owner":{"account_id":12154289,"reputation":4017,"user_id":8873644,"accept_rate":50,"display_name":"Hasan Bou Taam"},"score":2,"creation_date":1588274923,"post_id":61531207,"comment_id":108844116,"body_markdown":"why do you need a while loop?","body":"why do you need a while loop?"},{"owner":{"account_id":18432640,"reputation":23,"user_id":13427366,"display_name":"Fernando SLG"},"score":0,"creation_date":1588275204,"post_id":61531207,"comment_id":108844250,"body_markdown":"@HasanBouTaam I need it to fill my arraylist of float values that the user introduces with an EditText one by one","body":"@HasanBouTaam I need it to fill my arraylist of float values that the user introduces with an EditText one by one"},{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1588275207,"post_id":61531207,"comment_id":108844252,"body_markdown":"When you set a listener, there is a loop run anyways. You don&#39;t need to make your own. You can put all your logic into the listener, and when that is triggered, you do what you need to do","body":"When you set a listener, there is a loop run anyways. You don&#39;t need to make your own. You can put all your logic into the listener, and when that is triggered, you do what you need to do"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1588276597,"post_id":61531207,"comment_id":108844860,"body_markdown":"I suggest that you learn about Android&#39;s event system. You never need to make a loop that waits for something to happen. Android already has this loop and there is always a way to register a function that will be called the thing happens that you want to respond to.","body":"I suggest that you learn about Android&#39;s event system. You never need to make a loop that waits for something to happen. Android already has this loop and there is always a way to register a function that will be called the thing happens that you want to respond to."}],"answers":[{"tags":[],"owner":{"account_id":16999473,"reputation":189,"user_id":12297200,"display_name":"Amirhossein"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588275099,"creation_date":1588275099,"answer_id":61531308,"question_id":61531207,"body_markdown":"You said that you wanted to tell your app when a button is pressed, do something. There&#39;s no need to use isPressed() method. Just do it like this.\r\n   \r\n\r\n     bot.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View bot) {     \r\n                //When you press this button (bot), codes here will be executed.\r\n                MeterMedida();\r\n                \r\n            }\r\n        });","title":"How can I program a while loop that waits for my input in Android?","body":"<p>You said that you wanted to tell your app when a button is pressed, do something. There's no need to use isPressed() method. Just do it like this.</p>\n\n<pre><code> bot.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View bot) {     \n            //When you press this button (bot), codes here will be executed.\n            MeterMedida();\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12154289,"reputation":4017,"user_id":8873644,"accept_rate":50,"display_name":"Hasan Bou Taam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588275927,"creation_date":1588275568,"answer_id":61531413,"question_id":61531207,"body_markdown":"**You don&#39;t need a `while` loop:**\r\n\r\n        //a list to keep all the entered floats\r\n        private List&lt;Float&gt; floats = new ArrayList&lt;Float&gt;();\r\n\r\n        //each time you click the listener is invoked\r\n        bot.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View bot) {\r\n                    \r\n                    //every time the button is clicked, fill the current typed float\r\n                    \r\n                    \r\n                 floats.add(Float.parseFloat(ET2.getText().toString()));\r\n                 ET2.setText(&quot;&quot;);\r\n                \r\n            }\r\n        });","title":"How can I program a while loop that waits for my input in Android?","body":"<p><strong>You don't need a <code>while</code> loop:</strong></p>\n\n<pre><code>    //a list to keep all the entered floats\n    private List&lt;Float&gt; floats = new ArrayList&lt;Float&gt;();\n\n    //each time you click the listener is invoked\n    bot.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View bot) {\n\n                //every time the button is clicked, fill the current typed float\n\n\n             floats.add(Float.parseFloat(ET2.getText().toString()));\n             ET2.setText(\"\");\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588275945,"creation_date":1588275945,"answer_id":61531507,"question_id":61531207,"body_markdown":"Well, I’m not gonna give complete answer. Just a few hints for yourself to figure out.\n\n 1. Declare `int contador = 0;` in class level\n 2. Remove `while ( contador &lt;= tam)`\n 3. Remove `if(bot.isPressed())`\n 4. Remove `contador++;` in your `onCreate`\n 5. Inside `MeterMedida()` check for `if(contador &lt;= tam)`. If `true`, add to `ArrayList` and increment `contador`. Else show error `Toast`.","title":"How can I program a while loop that waits for my input in Android?","body":"<p>Well, I’m not gonna give complete answer. Just a few hints for yourself to figure out.</p>\n\n<ol>\n<li>Declare <code>int contador = 0;</code> in class level</li>\n<li>Remove <code>while ( contador &lt;= tam)</code></li>\n<li>Remove <code>if(bot.isPressed())</code></li>\n<li>Remove <code>contador++;</code> in your <code>onCreate</code></li>\n<li>Inside <code>MeterMedida()</code> check for <code>if(contador &lt;= tam)</code>. If <code>true</code>, add to <code>ArrayList</code> and increment <code>contador</code>. Else show error <code>Toast</code>.</li>\n</ol>\n"}],"owner":{"account_id":18432640,"reputation":23,"user_id":13427366,"display_name":"Fernando SLG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61531413,"answer_count":3,"score":2,"last_activity_date":1651719500,"creation_date":1588274685,"question_id":61531207,"body_markdown":"My question is simple. What method can I use to tell my program that a button is pressed? I&#39;m trying some codelines but its not really working (I tryed with isPressed). in my logs I can read the line --&gt; TAMA&#209;O DEL CONTADOR: &lt; the numbers until it reaches max.&gt; before I can I even place a value, so I understand the loop doesnt wait for my inputs.\r\n\r\nHere is my code:\r\n\r\n    public class navegador extends AppCompatActivity {\r\n\r\n    public String Sdat;\r\n    public EditText ET2;\r\n    int tam;\r\n\r\n    ArrayList&lt;String&gt; Medidas;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_navegador);\r\n\r\n        ET2 = findViewById(R.id.ET1);\r\n        Button bot = findViewById(R.id.bot);\r\n\r\n        tam = getIntent().getIntExtra(&quot;numero&quot;,0);\r\n\r\n        Medidas = new ArrayList&lt;&gt;();\r\n        int contador = 0;\r\n\r\n        System.out.println(&quot;TAMA&#209;O DEL ARRAY: &quot;+ tam);\r\n\r\n        while ( contador &lt;= tam){\r\n\r\n            System.out.println(&quot;TAMA&#209;O DEL CONTADOR: &quot; + contador);\r\n\r\n            bot.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View bot) {\r\n                    if(bot.isPressed()){\r\n                        MeterMedida();\r\n                    }\r\n                }\r\n            });\r\n            contador++;\r\n            \r\n            if(contador == tam){\r\n\r\n                Toast.makeText(this, &quot;Distancia m&#225;xima alcanzada. Toca Crear tabla.&quot;, Toast.LENGTH_SHORT).show();\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    public void MeterMedida(){\r\n\r\n        Sdat = ET2.getText().toString();\r\n        Medidas.add(Sdat);\r\n        ET2.setText(&quot;&quot;);\r\n\r\n    }\r\n\r\n    public void LanzarLista (View view){\r\n\r\n        Intent A = new Intent(this, Lista.class);\r\n        A.putStringArrayListExtra(&quot;Lista&quot;, Medidas);\r\n        startActivity(A);\r\n    }\r\n    }\r\n\r\nThanks a lot, ask me for more information if you think you need it.\r\n\r\n## EDIT ##\r\n\r\nAs usual, less is more, I removed the while, and contador variable, now it works like I wanted and its pretty much simple. Thank you so much.\r\n","title":"How can I program a while loop that waits for my input in Android?","body":"<p>My question is simple. What method can I use to tell my program that a button is pressed? I'm trying some codelines but its not really working (I tryed with isPressed). in my logs I can read the line --> TAMAÑO DEL CONTADOR: &lt; the numbers until it reaches max.> before I can I even place a value, so I understand the loop doesnt wait for my inputs.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class navegador extends AppCompatActivity {\n\npublic String Sdat;\npublic EditText ET2;\nint tam;\n\nArrayList&lt;String&gt; Medidas;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_navegador);\n\n    ET2 = findViewById(R.id.ET1);\n    Button bot = findViewById(R.id.bot);\n\n    tam = getIntent().getIntExtra(\"numero\",0);\n\n    Medidas = new ArrayList&lt;&gt;();\n    int contador = 0;\n\n    System.out.println(\"TAMAÑO DEL ARRAY: \"+ tam);\n\n    while ( contador &lt;= tam){\n\n        System.out.println(\"TAMAÑO DEL CONTADOR: \" + contador);\n\n        bot.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View bot) {\n                if(bot.isPressed()){\n                    MeterMedida();\n                }\n            }\n        });\n        contador++;\n\n        if(contador == tam){\n\n            Toast.makeText(this, \"Distancia máxima alcanzada. Toca Crear tabla.\", Toast.LENGTH_SHORT).show();\n\n        }\n    }\n}\n\npublic void MeterMedida(){\n\n    Sdat = ET2.getText().toString();\n    Medidas.add(Sdat);\n    ET2.setText(\"\");\n\n}\n\npublic void LanzarLista (View view){\n\n    Intent A = new Intent(this, Lista.class);\n    A.putStringArrayListExtra(\"Lista\", Medidas);\n    startActivity(A);\n}\n}\n</code></pre>\n\n<p>Thanks a lot, ask me for more information if you think you need it.</p>\n\n<h2>EDIT</h2>\n\n<p>As usual, less is more, I removed the while, and contador variable, now it works like I wanted and its pretty much simple. Thank you so much.</p>\n"},{"tags":["java","android","android-fragments","filter","searchview"],"answers":[{"tags":[],"owner":{"account_id":5101714,"reputation":92,"user_id":4091149,"display_name":"prasunnair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450242154,"creation_date":1450239527,"answer_id":34303861,"question_id":33516621,"body_markdown":"Just to understand the question better. \r\n1. You have a search view in the Action Bar\r\n2. You have multiple Fragments (from your image Advisory/TopAdvisors...)\r\n3. Within each of these there are multiple Fragments for each Tab (example Equity ... etc)\r\n4. You want all list views in the fragments to filter their data based on the search content\r\n\r\nRight??\r\n\r\nIn your current implementation what is the status? Is the list view which is current being displayed getting filtered? \r\n\r\nOr even that is not working? Then you need to check notifydatasetChanged is propagating correctly to the adapter. Meaning it should be on the UIThread itself. \r\n\r\nFor updates to all fragments, meaning once which were not on screen when you were typing the search text, you need to consider the Fragment lifecycle and include code in onResume of the fragment to make sure list is filtered before it is used to initialise the adapter. This is for scenario where you have typed search text already and now are moving between tabs/fragments. So fragments would go on and off screen hence the need for onResume. \r\n\r\nUpdate:\r\nInclude checking search box for text, and if it has something calling adapter.filter2(&lt;searchbox text&gt;) in onResume, because that is basically what is filtering your list. .\r\n","title":"SearchView doesn&#39;t filter in each child Tab of TabLayout","body":"<p>Just to understand the question better. \n1. You have a search view in the Action Bar\n2. You have multiple Fragments (from your image Advisory/TopAdvisors...)\n3. Within each of these there are multiple Fragments for each Tab (example Equity ... etc)\n4. You want all list views in the fragments to filter their data based on the search content</p>\n\n<p>Right??</p>\n\n<p>In your current implementation what is the status? Is the list view which is current being displayed getting filtered? </p>\n\n<p>Or even that is not working? Then you need to check notifydatasetChanged is propagating correctly to the adapter. Meaning it should be on the UIThread itself. </p>\n\n<p>For updates to all fragments, meaning once which were not on screen when you were typing the search text, you need to consider the Fragment lifecycle and include code in onResume of the fragment to make sure list is filtered before it is used to initialise the adapter. This is for scenario where you have typed search text already and now are moving between tabs/fragments. So fragments would go on and off screen hence the need for onResume. </p>\n\n<p>Update:\nInclude checking search box for text, and if it has something calling adapter.filter2() in onResume, because that is basically what is filtering your list. .</p>\n"},{"tags":[],"owner":{"account_id":451597,"reputation":9982,"user_id":847575,"accept_rate":93,"display_name":"Vinay W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450271326,"creation_date":1450245896,"answer_id":34304981,"question_id":33516621,"body_markdown":" - the problem is  - when you launch a fragment, it &quot;takes over&quot; the activity&#39;s searchView and whatever you type AFTER this fragment is launched invokes the onQueryTextChange listener of JUST THIS fragment.. Hence, the search doesnt take place in any other fragment..\r\n - You want your fragments to check for the last search query (posted by any other fragment) when they are launched and perform a search in itself for that query. Also, any change in the search query must also be posted to the activity&#39;s search view so other fragments can read it when they are launched.\r\n\r\nI&#39;m assuming your viewpager/tabs are implemented in a way that whenever you switch the visible fragments, they get destroyed.\r\n\r\nMake the following changes (read the comments)\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    final SearchView searchView; //make searchView a class variable/field\r\n     @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        searchView = (SearchView) MenuItemCompat.getActionView(menu.findItem(R.id.action_search));\r\n        SearchManager searchManager = (SearchManager) getSystemService(SEARCH_SERVICE);\r\n        searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\r\n        changeSearchViewTextColor(searchView);\r\n        return true;\r\n    }\r\n    }\r\n\r\n\r\n\r\nNow, in all your fragments do this - \r\n\r\n\r\n\r\n            @Override\r\n        public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n            inflater.inflate(R.menu.main, menu); // removed to not double the menu items\r\n            MenuItem item = menu.findItem(R.id.action_search);\r\n            SearchView sv = new SearchView(((MainActivity) getActivity()).getSupportActionBar().getThemedContext());\r\n            changeSearchViewTextColor(sv);\r\n            MenuItemCompat.setShowAsAction(item, MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\r\n            MenuItemCompat.setActionView(item, sv);\r\n            sv.setOnQueryTextListener(this);\r\n            sv.setIconifiedByDefault(false);\r\n            sv.setQuery(((MainActivity)getActivity()).searchView.getQuery()); // set the main activity&#39;s search view query in the fragment&#39;s search view\r\n            super.onCreateOptionsMenu(menu, inflater);\r\n        }\r\n    \r\n    \r\nAlso, in your SearchView.OnQueryTextListener in the fragments, do this\r\n    \r\n    SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    search(query); // this is your usual adapter filtering stuff, which you are already doing\r\n                    ((MainActivity)getActivity()).searchView.setQuery(query);//sync activity&#39;s searchview query with fragment&#39;s searchview query, so other fragments can read from the activity&#39;s search query when they launch.\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    search(newText);// this is your usual adapter filtering stuff, which you are already doing\r\n                    ((MainActivity)getActivity()).searchView.setQuery(query);//sync activity&#39;s searchview query with fragment&#39;s searchview query\r\n                    return false;\r\n                }\r\n            });\r\n\r\n\r\n\r\nI hope you get the general idea\r\n\r\n - You have different search view instances in each of your fragments and the activity\r\n - you need to sync the search queries among each of them, make each of them aware of what the other instances have.. \r\n\r\nI don&#39;t recommend this design though, what i would rather do is \r\n\r\n - just use the activity&#39;s search view and in the onQueryTextChange listener of activity&#39;s search view.\r\n - i would notify all the fragments which are alive from onQueryTextChange in the activity (the fragments would register and deregister onQueryTextChange listeners with the activity in their onResume &amp; onPause of the respective fragments). [Side note - This design pattern is called the [Observer][1] pattern]\r\n\r\n\r\n  [1]: http://www.vogella.com/tutorials/DesignPatternObserver/article.html","title":"SearchView doesn&#39;t filter in each child Tab of TabLayout","body":"<ul>\n<li>the problem is  - when you launch a fragment, it \"takes over\" the activity's searchView and whatever you type AFTER this fragment is launched invokes the onQueryTextChange listener of JUST THIS fragment.. Hence, the search doesnt take place in any other fragment..</li>\n<li>You want your fragments to check for the last search query (posted by any other fragment) when they are launched and perform a search in itself for that query. Also, any change in the search query must also be posted to the activity's search view so other fragments can read it when they are launched.</li>\n</ul>\n\n<p>I'm assuming your viewpager/tabs are implemented in a way that whenever you switch the visible fragments, they get destroyed.</p>\n\n<p>Make the following changes (read the comments)</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\nfinal SearchView searchView; //make searchView a class variable/field\n @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.menu_main, menu);\n    searchView = (SearchView) MenuItemCompat.getActionView(menu.findItem(R.id.action_search));\n    SearchManager searchManager = (SearchManager) getSystemService(SEARCH_SERVICE);\n    searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\n    changeSearchViewTextColor(searchView);\n    return true;\n}\n}\n</code></pre>\n\n<p>Now, in all your fragments do this - </p>\n\n<pre><code>        @Override\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.main, menu); // removed to not double the menu items\n        MenuItem item = menu.findItem(R.id.action_search);\n        SearchView sv = new SearchView(((MainActivity) getActivity()).getSupportActionBar().getThemedContext());\n        changeSearchViewTextColor(sv);\n        MenuItemCompat.setShowAsAction(item, MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\n        MenuItemCompat.setActionView(item, sv);\n        sv.setOnQueryTextListener(this);\n        sv.setIconifiedByDefault(false);\n        sv.setQuery(((MainActivity)getActivity()).searchView.getQuery()); // set the main activity's search view query in the fragment's search view\n        super.onCreateOptionsMenu(menu, inflater);\n    }\n</code></pre>\n\n<p>Also, in your SearchView.OnQueryTextListener in the fragments, do this</p>\n\n<pre><code>SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                search(query); // this is your usual adapter filtering stuff, which you are already doing\n                ((MainActivity)getActivity()).searchView.setQuery(query);//sync activity's searchview query with fragment's searchview query, so other fragments can read from the activity's search query when they launch.\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                search(newText);// this is your usual adapter filtering stuff, which you are already doing\n                ((MainActivity)getActivity()).searchView.setQuery(query);//sync activity's searchview query with fragment's searchview query\n                return false;\n            }\n        });\n</code></pre>\n\n<p>I hope you get the general idea</p>\n\n<ul>\n<li>You have different search view instances in each of your fragments and the activity</li>\n<li>you need to sync the search queries among each of them, make each of them aware of what the other instances have.. </li>\n</ul>\n\n<p>I don't recommend this design though, what i would rather do is </p>\n\n<ul>\n<li>just use the activity's search view and in the onQueryTextChange listener of activity's search view.</li>\n<li>i would notify all the fragments which are alive from onQueryTextChange in the activity (the fragments would register and deregister onQueryTextChange listeners with the activity in their onResume &amp; onPause of the respective fragments). [Side note - This design pattern is called the <a href=\"http://www.vogella.com/tutorials/DesignPatternObserver/article.html\" rel=\"nofollow\">Observer</a> pattern]</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3155667,"reputation":11911,"user_id":2668136,"accept_rate":80,"display_name":"Blo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1450385338,"creation_date":1450301019,"answer_id":34322364,"question_id":33516621,"body_markdown":"You can manage the filter on nested list by **using an Observable/Observer pattern**, this will update each nested list from one [Observable parent][1]. I fixed [all troubles][2] and it works well now to achieve the right behaviour.\r\n\r\nTherefore, here&#39;s what I did to achieve it: \r\n\r\n1. Using one parent `SearchView` in `Activity`\r\n2. (optional) Create a `Filter` class (*android.widget.Filter*) in nested list `Adapter`\r\n3. Then, using an `Observable`/`Observer` pattern for nested `Fragment` with `Activity`\r\n\r\n-----\r\n\r\n**Background:** When I tried your code, I had three problems:\r\n\r\n- I cannot do a search using the ActionBar: `onQueryTextChange` seems to be never called in `Fragment`s. When I tap on search icon, it seems to me that `SearchView` (edittext, icon, etc) is not attached with the search widget (but attached to the activity&#39;s widget).\r\n- I cannot run the custom method `filter2`: I mean, when I resolved the previous point, this method doesn&#39;t work. Indeed, I have to play with custom class extending by `Filter` and its two methods: `performFiltering` and `publishResults`. Without it, I got a blank screen when I tap a word in search bar. However, this could be only my code and maybe `filter2()` works perfectly for you...\r\n- I cannot have a persistent search between fragments: for each child fragment a new `SearchView` is created. It seems to me that you repeatedly call this line `SearchView sv = new SearchView(...);` in nested fragment. So each time I switch to the next fragment, the expanded searchview removes its previous text value.\r\n\r\nAnyway, after some researches, I found [this answer][3] on SO about implementing a [Search fragment][4]. Almost the same code as yours, except that you &quot;duplicate&quot; the options menu code in parent activity and in fragments. You shouldn&#39;t do it - I think it&#39;s the cause of my first problem in previous points.  \r\nBesides, the pattern used in the answer&#39;s link (one search in one fragment) might not be adapted to yours (one search for multiple fragments). You should call one `SearchView` in the parent `Activity` for all nested `Fragment`.\r\n\r\n--------\r\n\r\n**Solution:** This is how I managed it:\r\n\r\n**#1 Using a parent `SearchView`:**\r\n\r\nIt will avoid duplicate functions and let the parent activity supervise all its children. Futhermore, this will avoid your duplication icon in the menu.  \r\nThis is the main parent `Activity` class:\r\n\r\n    public class ActivityName extends AppCompatActivity implements SearchView.OnQueryTextListener {\r\n        \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n\r\n            MenuItem item = menu.findItem(R.id.action_search);\r\n            SearchView searchview = new SearchView(this);\r\n            SearchManager searchManager = (SearchManager) getSystemService(SEARCH_SERVICE);\r\n            searchview.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\r\n            ...\r\n            MenuItemCompat.setShowAsAction(item, \r\n                    MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | \r\n                    MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\r\n            MenuItemCompat.setActionView(item, searchview);\r\n            searchview.setOnQueryTextListener(this);\r\n            searchview.setIconifiedByDefault(false);\r\n\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n\r\n        private void changeSearchViewTextColor(View view) { ... }\r\n\r\n        @Override\r\n        public boolean onQueryTextSubmit(String query) { return false; }\r\n\r\n        @Override\r\n        public boolean onQueryTextChange(String newText) {\r\n            // update the observer here (aka nested fragments)\r\n            return true;\r\n        }\r\n    }\r\n\r\n**#2 (optional) Create a `Filter` widget:**\r\n\r\nLike I said previously, I cannot get it work with `filter2()`, so I create a `Filter` class as any example on the web.   \r\nIt quickly looks like, in the adapter of nested fragment, as follows:\r\n\r\n    private ArrayList&lt;String&gt; originalList; // I used String objects in my tests\r\n    private ArrayList&lt;String&gt; filteredList;\r\n    private ListFilter filter = new ListFilter();\r\n    \r\n    @Override\r\n    public int getCount() {\r\n        return filteredList.size();\r\n    }\r\n    \r\n    public Filter getFilter() {\r\n        return filter;\r\n    }\r\n    \r\n    private class ListFilter extends Filter {\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n            FilterResults results = new FilterResults();\r\n            if (constraint != null &amp;&amp; constraint.length() &gt; 0) {\r\n                constraint = constraint.toString().toLowerCase();\r\n                final List&lt;String&gt; list = originalList;\r\n                int count = list.size();\r\n\r\n                final ArrayList&lt;String&gt; nlist = new ArrayList&lt;&gt;(count);\r\n                String filterableString;\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    filterableString = list.get(i);\r\n                    if (filterableString.toLowerCase().contains(constraint)) {\r\n                        nlist.add(filterableString);\r\n                    }\r\n                }\r\n\r\n                results.values = nlist;\r\n                results.count = nlist.size();\r\n            } else {\r\n                synchronized(this) {\r\n                    results.values = originalList;\r\n                    results.count = originalList.size();\r\n                }\r\n            }\r\n            return results;\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            if (results.count == 0) {\r\n                notifyDataSetInvalidated();\r\n                return;\r\n            }\r\n\r\n            filteredList = (ArrayList&lt;String&gt;) results.values;\r\n            notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n**#3 Using an `Observable`/`Observer` pattern:**\r\n\r\nThe activity - with the searchview - is the `Observable` object and the nested fragments are the `Observer`s ([see Observer pattern][5]). Basically, when the `onQueryTextChange` will be called, it will trigger the `update()` method in the existant observers.  \r\nHere&#39;s the declaration in parent `Activity`:\r\n\r\n    private static ActivityName instance;\r\n    private FilterManager filterManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ...\r\n        instance = this;\r\n        filterManager = new FilterManager();\r\n    }\r\n\r\n    public static FilterManager getFilterManager() {\r\n        return instance.filterManager; // return the observable class\r\n    }\r\n    \r\n    @Override\r\n    public boolean onQueryTextChange(String newText) {\r\n        filterManager.setQuery(newText); // update the observable value\r\n        return true;\r\n    }\r\n \r\nThis is the `Observable` class which will listen and &quot;pass&quot; the updated data:\r\n\r\n    public class FilterManager extends Observable {\r\n        private String query;\r\n\r\n        public void setQuery(String query) {\r\n            this.query = query;\r\n            setChanged();\r\n            notifyObservers();\r\n        }\r\n\r\n        public String getQuery() {\r\n            return query;\r\n        }\r\n    }\r\n\r\nIn order to add the observer fragments to listen the searchview value, I do it when they are initialized in the `FragmentStatePagerAdapter`.  \r\nSo in the parent fragment, I create the content tabs by passing the `FilterManager`:\r\n\r\n    private ViewPager pager;\r\n    private ViewPagerAdapter pagerAdapter;\r\n\r\n    @Override\r\n    public View onCreateView(...) {\r\n        ...\r\n        pagerAdapter = new ViewPagerAdapter(\r\n             getActivity(),                    // pass the context,\r\n             getChildFragmentManager(),        // the fragment manager\r\n             MainActivity.getFilterManager()   // and the filter manager\r\n        );\r\n    }\r\n\r\nThe adapter will [add the observer][6] to the parent observable and remove it when the child fragments are destroyed.  \r\nHere&#39;s the `ViewPagerAdapter` of parent fragment:\r\n\r\n    public class ViewPagerAdapter extends FragmentStatePagerAdapter {\r\n\r\n        private Context context;\r\n        private FilterManager filterManager;\r\n\r\n        public ViewPagerAdapter(FragmentManager fm) {\r\n            super(fm);\r\n        }\r\n\r\n        public ViewPagerAdapter(Context context, FragmentManager fm, \r\n                   FilterManager filterManager) {\r\n            super(fm);\r\n            this.context = context;\r\n            this.filterManager = filterManager;\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int i) {\r\n            NestedFragment fragment = new NestedFragment(); // see (*)\r\n            filterManager.addObserver(fragment); // add the observer\r\n            return fragment;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return 10;\r\n        }\r\n\r\n        @Override\r\n        public void destroyItem(ViewGroup container, int position, Object object) {\r\n            NestedFragment fragment = (NestedFragment) object; // see (*)\r\n            filterManager.deleteObserver(fragment); // remove the observer\r\n            super.destroyItem(container, position, object);\r\n        }\r\n    }\r\n\r\nFinally, when `filterManager.setQuery()` in activity is called with `onQueryTextChange()`, this will be received in nested fragment in `update()` method which are implementing `Observer`.   \r\nThis is the nested fragments with the `ListView` to filter:\r\n\r\n    public class NestedFragment extends Fragment implements Observer {\r\n        private boolean listUpdated = false; // init the update checking value\r\n        ...\r\n        // setup the listview and the list adapter\r\n        ...\r\n        // use onResume to filter the list if it&#39;s not already done\r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            // get the filter value\r\n            final String query = MainActivity.getFilterManager().getQuery();\r\n            if (listview != null &amp;&amp; adapter != null \r\n                         &amp;&amp; query != null &amp;&amp; !listUpdated) {\r\n                // update the list with filter value\r\n                listview.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        listUpdated = true; // set the update checking value\r\n                        adapter.getFilter().filter(query);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        ...\r\n        // automatically triggered when setChanged() and notifyObservers() are called\r\n        public void update(Observable obs, Object obj) {\r\n            if (obs instanceof FilterManager) {\r\n                String result = ((FilterManager) obs).getQuery(); // retrieve the search value\r\n                if (listAdapter != null) {\r\n                    listUpdated = true; // set the update checking value\r\n                    listAdapter.getFilter().filter(result); // filter the list (with #2)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**#4 Conclusion:**\r\n\r\nThis works well, the lists in all nested fragments are updated as expected by just one searchview. However, there is an incovenient in my above code that you should be aware of: \r\n \r\n- _(see improvements below)_  &lt;strike&gt;I cannot call `Fragment` general object and add it to being an observer. Indeed, I have to cast and init with the specific fragment class (here `NestedFragment`); there might be a simple solution, but I didn&#39;t find it for now.&lt;/strike&gt;\r\n\r\nDespite this, I get the right behaviour and - I think - it might be a good pattern by keeping one search widget at the top, in activity. So with this solution, you could get a clue, a right direction, to achieve what you want. I hope you&#39;ll enjoy.\r\n\r\n-------\r\n\r\n**#5 Improvements (edit):**\r\n\r\n- __(see *)__ You can add the observers by keeping a global `Fragment` class extension on all nested fragments. This how I instantiate my fragments to the `ViewPager`:\r\n\r\n        @Override\r\n        public Fragment getItem(int index) {\r\n            Fragment frag = null;\r\n            switch (index) {\r\n                case 0:\r\n                    frag = new FirstNestedFragment();\r\n                    break;\r\n                case 1:\r\n                    frag = new SecondFragment();\r\n                    break;\r\n                ...\r\n            }\r\n            return frag;\r\n        }\r\n\r\n        @Override\r\n        public Object instantiateItem(ViewGroup container, int position) {\r\n            ObserverFragment fragment = \r\n                    (ObserverFragment) super.instantiateItem(container, position);\r\n            filterManager.addObserver(fragment); // add the observer\r\n            return fragment;\r\n        }\r\n\r\n        @Override\r\n        public void destroyItem(ViewGroup container, int position, Object object) {\r\n            filterManager.deleteObserver((ObserverFragment) object); // delete the observer\r\n            super.destroyItem(container, position, object);\r\n        }\r\nBy creating the `ObserverFragment` class as follows:\r\n\r\n        public class ObserverFragment extends Fragment implements Observer {\r\n            public void update(Observable obs, Object obj) { /* do nothing here */ }\r\n        }\r\nAnd then, by extending and overriding `update()` in the nested fragments:\r\n\r\n        public class FirstNestedFragment extends ObserverFragment {\r\n            @Override\r\n            public void update(Observable obs, Object obj) { }\r\n        }    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\r\n  [2]: https://stackoverflow.com/revisions/34322364/3\r\n  [3]: https://stackoverflow.com/a/10479208/2668136\r\n  [4]: https://stackoverflow.com/questions/7230893/android-search-with-fragments\r\n  [5]: http://www.javaworld.com/article/2077258/learn-java/observer-and-observable.html\r\n  [6]: http://www.tutorialspoint.com/java/util/observable_addobserver.htm","title":"SearchView doesn&#39;t filter in each child Tab of TabLayout","body":"<p>You can manage the filter on nested list by <strong>using an Observable/Observer pattern</strong>, this will update each nested list from one <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Observable.html\" rel=\"nofollow noreferrer\">Observable parent</a>. I fixed <a href=\"https://stackoverflow.com/revisions/34322364/3\">all troubles</a> and it works well now to achieve the right behaviour.</p>\n\n<p>Therefore, here's what I did to achieve it: </p>\n\n<ol>\n<li>Using one parent <code>SearchView</code> in <code>Activity</code></li>\n<li>(optional) Create a <code>Filter</code> class (<em>android.widget.Filter</em>) in nested list <code>Adapter</code></li>\n<li>Then, using an <code>Observable</code>/<code>Observer</code> pattern for nested <code>Fragment</code> with <code>Activity</code></li>\n</ol>\n\n<hr>\n\n<p><strong>Background:</strong> When I tried your code, I had three problems:</p>\n\n<ul>\n<li>I cannot do a search using the ActionBar: <code>onQueryTextChange</code> seems to be never called in <code>Fragment</code>s. When I tap on search icon, it seems to me that <code>SearchView</code> (edittext, icon, etc) is not attached with the search widget (but attached to the activity's widget).</li>\n<li>I cannot run the custom method <code>filter2</code>: I mean, when I resolved the previous point, this method doesn't work. Indeed, I have to play with custom class extending by <code>Filter</code> and its two methods: <code>performFiltering</code> and <code>publishResults</code>. Without it, I got a blank screen when I tap a word in search bar. However, this could be only my code and maybe <code>filter2()</code> works perfectly for you...</li>\n<li>I cannot have a persistent search between fragments: for each child fragment a new <code>SearchView</code> is created. It seems to me that you repeatedly call this line <code>SearchView sv = new SearchView(...);</code> in nested fragment. So each time I switch to the next fragment, the expanded searchview removes its previous text value.</li>\n</ul>\n\n<p>Anyway, after some researches, I found <a href=\"https://stackoverflow.com/a/10479208/2668136\">this answer</a> on SO about implementing a <a href=\"https://stackoverflow.com/questions/7230893/android-search-with-fragments\">Search fragment</a>. Almost the same code as yours, except that you \"duplicate\" the options menu code in parent activity and in fragments. You shouldn't do it - I think it's the cause of my first problem in previous points.<br>\nBesides, the pattern used in the answer's link (one search in one fragment) might not be adapted to yours (one search for multiple fragments). You should call one <code>SearchView</code> in the parent <code>Activity</code> for all nested <code>Fragment</code>.</p>\n\n<hr>\n\n<p><strong>Solution:</strong> This is how I managed it:</p>\n\n<p><strong>#1 Using a parent <code>SearchView</code>:</strong></p>\n\n<p>It will avoid duplicate functions and let the parent activity supervise all its children. Futhermore, this will avoid your duplication icon in the menu.<br>\nThis is the main parent <code>Activity</code> class:</p>\n\n<pre><code>public class ActivityName extends AppCompatActivity implements SearchView.OnQueryTextListener {\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n\n        MenuItem item = menu.findItem(R.id.action_search);\n        SearchView searchview = new SearchView(this);\n        SearchManager searchManager = (SearchManager) getSystemService(SEARCH_SERVICE);\n        searchview.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\n        ...\n        MenuItemCompat.setShowAsAction(item, \n                MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | \n                MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\n        MenuItemCompat.setActionView(item, searchview);\n        searchview.setOnQueryTextListener(this);\n        searchview.setIconifiedByDefault(false);\n\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    private void changeSearchViewTextColor(View view) { ... }\n\n    @Override\n    public boolean onQueryTextSubmit(String query) { return false; }\n\n    @Override\n    public boolean onQueryTextChange(String newText) {\n        // update the observer here (aka nested fragments)\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>#2 (optional) Create a <code>Filter</code> widget:</strong></p>\n\n<p>Like I said previously, I cannot get it work with <code>filter2()</code>, so I create a <code>Filter</code> class as any example on the web.<br>\nIt quickly looks like, in the adapter of nested fragment, as follows:</p>\n\n<pre><code>private ArrayList&lt;String&gt; originalList; // I used String objects in my tests\nprivate ArrayList&lt;String&gt; filteredList;\nprivate ListFilter filter = new ListFilter();\n\n@Override\npublic int getCount() {\n    return filteredList.size();\n}\n\npublic Filter getFilter() {\n    return filter;\n}\n\nprivate class ListFilter extends Filter {\n    @Override\n    protected FilterResults performFiltering(CharSequence constraint) {\n        FilterResults results = new FilterResults();\n        if (constraint != null &amp;&amp; constraint.length() &gt; 0) {\n            constraint = constraint.toString().toLowerCase();\n            final List&lt;String&gt; list = originalList;\n            int count = list.size();\n\n            final ArrayList&lt;String&gt; nlist = new ArrayList&lt;&gt;(count);\n            String filterableString;\n            for (int i = 0; i &lt; count; i++) {\n                filterableString = list.get(i);\n                if (filterableString.toLowerCase().contains(constraint)) {\n                    nlist.add(filterableString);\n                }\n            }\n\n            results.values = nlist;\n            results.count = nlist.size();\n        } else {\n            synchronized(this) {\n                results.values = originalList;\n                results.count = originalList.size();\n            }\n        }\n        return results;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    protected void publishResults(CharSequence constraint, FilterResults results) {\n        if (results.count == 0) {\n            notifyDataSetInvalidated();\n            return;\n        }\n\n        filteredList = (ArrayList&lt;String&gt;) results.values;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n\n<p><strong>#3 Using an <code>Observable</code>/<code>Observer</code> pattern:</strong></p>\n\n<p>The activity - with the searchview - is the <code>Observable</code> object and the nested fragments are the <code>Observer</code>s (<a href=\"http://www.javaworld.com/article/2077258/learn-java/observer-and-observable.html\" rel=\"nofollow noreferrer\">see Observer pattern</a>). Basically, when the <code>onQueryTextChange</code> will be called, it will trigger the <code>update()</code> method in the existant observers.<br>\nHere's the declaration in parent <code>Activity</code>:</p>\n\n<pre><code>private static ActivityName instance;\nprivate FilterManager filterManager;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n    instance = this;\n    filterManager = new FilterManager();\n}\n\npublic static FilterManager getFilterManager() {\n    return instance.filterManager; // return the observable class\n}\n\n@Override\npublic boolean onQueryTextChange(String newText) {\n    filterManager.setQuery(newText); // update the observable value\n    return true;\n}\n</code></pre>\n\n<p>This is the <code>Observable</code> class which will listen and \"pass\" the updated data:</p>\n\n<pre><code>public class FilterManager extends Observable {\n    private String query;\n\n    public void setQuery(String query) {\n        this.query = query;\n        setChanged();\n        notifyObservers();\n    }\n\n    public String getQuery() {\n        return query;\n    }\n}\n</code></pre>\n\n<p>In order to add the observer fragments to listen the searchview value, I do it when they are initialized in the <code>FragmentStatePagerAdapter</code>.<br>\nSo in the parent fragment, I create the content tabs by passing the <code>FilterManager</code>:</p>\n\n<pre><code>private ViewPager pager;\nprivate ViewPagerAdapter pagerAdapter;\n\n@Override\npublic View onCreateView(...) {\n    ...\n    pagerAdapter = new ViewPagerAdapter(\n         getActivity(),                    // pass the context,\n         getChildFragmentManager(),        // the fragment manager\n         MainActivity.getFilterManager()   // and the filter manager\n    );\n}\n</code></pre>\n\n<p>The adapter will <a href=\"http://www.tutorialspoint.com/java/util/observable_addobserver.htm\" rel=\"nofollow noreferrer\">add the observer</a> to the parent observable and remove it when the child fragments are destroyed.<br>\nHere's the <code>ViewPagerAdapter</code> of parent fragment:</p>\n\n<pre><code>public class ViewPagerAdapter extends FragmentStatePagerAdapter {\n\n    private Context context;\n    private FilterManager filterManager;\n\n    public ViewPagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    public ViewPagerAdapter(Context context, FragmentManager fm, \n               FilterManager filterManager) {\n        super(fm);\n        this.context = context;\n        this.filterManager = filterManager;\n    }\n\n    @Override\n    public Fragment getItem(int i) {\n        NestedFragment fragment = new NestedFragment(); // see (*)\n        filterManager.addObserver(fragment); // add the observer\n        return fragment;\n    }\n\n    @Override\n    public int getCount() {\n        return 10;\n    }\n\n    @Override\n    public void destroyItem(ViewGroup container, int position, Object object) {\n        NestedFragment fragment = (NestedFragment) object; // see (*)\n        filterManager.deleteObserver(fragment); // remove the observer\n        super.destroyItem(container, position, object);\n    }\n}\n</code></pre>\n\n<p>Finally, when <code>filterManager.setQuery()</code> in activity is called with <code>onQueryTextChange()</code>, this will be received in nested fragment in <code>update()</code> method which are implementing <code>Observer</code>.<br>\nThis is the nested fragments with the <code>ListView</code> to filter:</p>\n\n<pre><code>public class NestedFragment extends Fragment implements Observer {\n    private boolean listUpdated = false; // init the update checking value\n    ...\n    // setup the listview and the list adapter\n    ...\n    // use onResume to filter the list if it's not already done\n    @Override\n    public void onResume() {\n        super.onResume();\n        // get the filter value\n        final String query = MainActivity.getFilterManager().getQuery();\n        if (listview != null &amp;&amp; adapter != null \n                     &amp;&amp; query != null &amp;&amp; !listUpdated) {\n            // update the list with filter value\n            listview.post(new Runnable() {\n                @Override\n                public void run() {\n                    listUpdated = true; // set the update checking value\n                    adapter.getFilter().filter(query);\n                }\n            });\n        }\n    }\n    ...\n    // automatically triggered when setChanged() and notifyObservers() are called\n    public void update(Observable obs, Object obj) {\n        if (obs instanceof FilterManager) {\n            String result = ((FilterManager) obs).getQuery(); // retrieve the search value\n            if (listAdapter != null) {\n                listUpdated = true; // set the update checking value\n                listAdapter.getFilter().filter(result); // filter the list (with #2)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>#4 Conclusion:</strong></p>\n\n<p>This works well, the lists in all nested fragments are updated as expected by just one searchview. However, there is an incovenient in my above code that you should be aware of: </p>\n\n<ul>\n<li><em>(see improvements below)</em>  <strike>I cannot call <code>Fragment</code> general object and add it to being an observer. Indeed, I have to cast and init with the specific fragment class (here <code>NestedFragment</code>); there might be a simple solution, but I didn't find it for now.</strike></li>\n</ul>\n\n<p>Despite this, I get the right behaviour and - I think - it might be a good pattern by keeping one search widget at the top, in activity. So with this solution, you could get a clue, a right direction, to achieve what you want. I hope you'll enjoy.</p>\n\n<hr>\n\n<p><strong>#5 Improvements (edit):</strong></p>\n\n<ul>\n<li><p><strong>(see *)</strong> You can add the observers by keeping a global <code>Fragment</code> class extension on all nested fragments. This how I instantiate my fragments to the <code>ViewPager</code>:</p>\n\n<pre><code>@Override\npublic Fragment getItem(int index) {\n    Fragment frag = null;\n    switch (index) {\n        case 0:\n            frag = new FirstNestedFragment();\n            break;\n        case 1:\n            frag = new SecondFragment();\n            break;\n        ...\n    }\n    return frag;\n}\n\n@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    ObserverFragment fragment = \n            (ObserverFragment) super.instantiateItem(container, position);\n    filterManager.addObserver(fragment); // add the observer\n    return fragment;\n}\n\n@Override\npublic void destroyItem(ViewGroup container, int position, Object object) {\n    filterManager.deleteObserver((ObserverFragment) object); // delete the observer\n    super.destroyItem(container, position, object);\n}\n</code></pre>\n\n<p>By creating the <code>ObserverFragment</code> class as follows:</p>\n\n<pre><code>public class ObserverFragment extends Fragment implements Observer {\n    public void update(Observable obs, Object obj) { /* do nothing here */ }\n}\n</code></pre>\n\n<p>And then, by extending and overriding <code>update()</code> in the nested fragments:</p>\n\n<pre><code>public class FirstNestedFragment extends ObserverFragment {\n    @Override\n    public void update(Observable obs, Object obj) { }\n}    \n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":2794865,"reputation":2078,"user_id":2404262,"accept_rate":67,"display_name":"Anshul Tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9408,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":34322364,"answer_count":3,"score":22,"last_activity_date":1651718672,"creation_date":1446624276,"question_id":33516621,"body_markdown":"Here, I have a `toolbar` in an `Activity` which contains a `SearchView`. And that activity has multiple fragments. One main fragment out of them have 10 more fragments inside itself. All 10 fragments are showing data in listviews. Now I&#39;m trying to filter all the lists of fragments by `SearchView` of `MainActivity`. But it never filters list of each fragment. Now I show you how I implemented it all.\r\n\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n     @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        final SearchView searchView = (SearchView) MenuItemCompat.getActionView(menu.findItem(R.id.action_search));\r\n        SearchManager searchManager = (SearchManager) getSystemService(SEARCH_SERVICE);\r\n        searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\r\n        changeSearchViewTextColor(searchView);\r\n        return true;\r\n    }\r\n    }\r\n\r\n\r\nFragment.java\r\n\r\n    public class CurrencyFragment2 extends android.support.v4.app.Fragment implements SearchView.OnQueryTextListener {\r\n\r\n        @Override\r\n    public void setMenuVisibility(boolean menuVisible) {\r\n        super.setMenuVisibility(menuVisible);\r\n        if (menuVisible &amp;&amp; getActivity() != null) {\r\n            SharedPreferences pref = getActivity().getPreferences(0);\r\n            int id = pref.getInt(&quot;viewpager_id&quot;, 0);\r\n            if (id == 2)\r\n                setHasOptionsMenu(true);\r\n     }\r\n     }\r\n        @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n        inflater.inflate(R.menu.main, menu); // removed to not double the menu items\r\n        MenuItem item = menu.findItem(R.id.action_search);\r\n        SearchView sv = new SearchView(((MainActivity) getActivity()).getSupportActionBar().getThemedContext());\r\n        changeSearchViewTextColor(sv);\r\n        MenuItemCompat.setShowAsAction(item, MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\r\n        MenuItemCompat.setActionView(item, sv);\r\n        sv.setOnQueryTextListener(this);\r\n        sv.setIconifiedByDefault(false);\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    private void changeSearchViewTextColor(View view) {\r\n        if (view != null) {\r\n            if (view instanceof TextView) {\r\n                ((TextView) view).setTextColor(Color.WHITE);\r\n                ((TextView) view).setHintTextColor(Color.WHITE);\r\n                ((TextView) view).setCursorVisible(true);\r\n                return;\r\n            } else if (view instanceof ViewGroup) {\r\n                ViewGroup viewGroup = (ViewGroup) view;\r\n                for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\r\n                    changeSearchViewTextColor(viewGroup.getChildAt(i));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onQueryTextSubmit(String query) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onQueryTextChange(String newText) {\r\n        if (adapter != null) {\r\n            adapter.filter2(newText);\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nFilter method inside Adapter class.\r\n\r\n    // Filter Class\r\n    public void filter2(String charText) {\r\n        charText = charText.toLowerCase(Locale.getDefault());\r\n        items.clear();\r\n        if (charText.length() == 0) {\r\n            items.addAll(arraylist);\r\n        } else {\r\n            for (EquityDetails wp : arraylist) {\r\n                if (wp.getExpert_title().toLowerCase(Locale.getDefault()).contains(charText)) {\r\n                    items.add(wp);\r\n                }\r\n            }\r\n        }\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/knRLY.png","title":"SearchView doesn&#39;t filter in each child Tab of TabLayout","body":"<p>Here, I have a <code>toolbar</code> in an <code>Activity</code> which contains a <code>SearchView</code>. And that activity has multiple fragments. One main fragment out of them have 10 more fragments inside itself. All 10 fragments are showing data in listviews. Now I'm trying to filter all the lists of fragments by <code>SearchView</code> of <code>MainActivity</code>. But it never filters list of each fragment. Now I show you how I implemented it all.</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n @Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.menu_main, menu);\n    final SearchView searchView = (SearchView) MenuItemCompat.getActionView(menu.findItem(R.id.action_search));\n    SearchManager searchManager = (SearchManager) getSystemService(SEARCH_SERVICE);\n    searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()));\n    changeSearchViewTextColor(searchView);\n    return true;\n}\n}\n</code></pre>\n\n<p>Fragment.java</p>\n\n<pre><code>public class CurrencyFragment2 extends android.support.v4.app.Fragment implements SearchView.OnQueryTextListener {\n\n    @Override\npublic void setMenuVisibility(boolean menuVisible) {\n    super.setMenuVisibility(menuVisible);\n    if (menuVisible &amp;&amp; getActivity() != null) {\n        SharedPreferences pref = getActivity().getPreferences(0);\n        int id = pref.getInt(\"viewpager_id\", 0);\n        if (id == 2)\n            setHasOptionsMenu(true);\n }\n }\n    @Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    inflater.inflate(R.menu.main, menu); // removed to not double the menu items\n    MenuItem item = menu.findItem(R.id.action_search);\n    SearchView sv = new SearchView(((MainActivity) getActivity()).getSupportActionBar().getThemedContext());\n    changeSearchViewTextColor(sv);\n    MenuItemCompat.setShowAsAction(item, MenuItemCompat.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | MenuItemCompat.SHOW_AS_ACTION_IF_ROOM);\n    MenuItemCompat.setActionView(item, sv);\n    sv.setOnQueryTextListener(this);\n    sv.setIconifiedByDefault(false);\n    super.onCreateOptionsMenu(menu, inflater);\n}\n\nprivate void changeSearchViewTextColor(View view) {\n    if (view != null) {\n        if (view instanceof TextView) {\n            ((TextView) view).setTextColor(Color.WHITE);\n            ((TextView) view).setHintTextColor(Color.WHITE);\n            ((TextView) view).setCursorVisible(true);\n            return;\n        } else if (view instanceof ViewGroup) {\n            ViewGroup viewGroup = (ViewGroup) view;\n            for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\n                changeSearchViewTextColor(viewGroup.getChildAt(i));\n            }\n        }\n    }\n}\n\n@Override\npublic boolean onQueryTextSubmit(String query) {\n    return true;\n}\n\n@Override\npublic boolean onQueryTextChange(String newText) {\n    if (adapter != null) {\n        adapter.filter2(newText);\n    }\n    return true;\n}\n</code></pre>\n\n<p>Filter method inside Adapter class.</p>\n\n<pre><code>// Filter Class\npublic void filter2(String charText) {\n    charText = charText.toLowerCase(Locale.getDefault());\n    items.clear();\n    if (charText.length() == 0) {\n        items.addAll(arraylist);\n    } else {\n        for (EquityDetails wp : arraylist) {\n            if (wp.getExpert_title().toLowerCase(Locale.getDefault()).contains(charText)) {\n                items.add(wp);\n            }\n        }\n    }\n    notifyDataSetChanged();\n}\n</code></pre>\n"},{"tags":["java","json","post","rest","gpath"],"answers":[{"tags":[],"owner":{"account_id":271557,"reputation":12418,"user_id":562154,"accept_rate":75,"display_name":"Xiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651718542,"creation_date":1651718542,"answer_id":72121348,"question_id":69224478,"body_markdown":"As the `users` node and `data` node are all list type, you need use two loop:\r\n \r\n\r\n\r\n    import groovy.json.JsonSlurper\r\n    // text is your json response text\r\n    def result = new JsonSlurper().parseText(text)\r\n    result.body.users.each{it.data.each{it.remove(&quot;firstName&quot;);it.remove(&quot;lastName&quot;)}}\r\n    // result is the what you wanted\r\n    println(result)   \r\n    ","title":"I need to send the request correctly, but I don&#39;t know how to get the required values from objects","body":"<p>As the <code>users</code> node and <code>data</code> node are all list type, you need use two loop:</p>\n<pre><code>import groovy.json.JsonSlurper\n// text is your json response text\ndef result = new JsonSlurper().parseText(text)\nresult.body.users.each{it.data.each{it.remove(&quot;firstName&quot;);it.remove(&quot;lastName&quot;)}}\n// result is the what you wanted\nprintln(result)   \n</code></pre>\n"}],"owner":{"account_id":18450722,"reputation":3,"user_id":14370900,"display_name":"vVv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651718542,"creation_date":1631886223,"question_id":69224478,"body_markdown":"How to get a new list from the list of objects?\r\nI need a new list of objects to POST request\r\n\r\nthis list of objects i get from response:\r\n\r\n    { \r\n     &quot;success&quot;: true,\r\n      &quot;body&quot;: {\r\n          &quot;users&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;unknown&quot;,\r\n                &quot;data&quot;: [\r\n                    {\r\n                        &quot;id&quot;: &quot;8&quot;,\r\n                        &quot;firstName&quot;: &quot;Jackson&quot;,\r\n                        &quot;lastName&quot;: &quot;Baker&quot;,\r\n                        &quot;group&quot;: &quot;false&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: &quot;11&quot;,\r\n                        &quot;firstName&quot;: &quot;Charlotte&quot;,\r\n                        &quot;lastName&quot;: &quot;Garcia&quot;,\r\n                        &quot;group&quot;: &quot;false&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: &quot;7&quot;,\r\n                        &quot;firstName&quot;: &quot;Henry&quot;,\r\n                        &quot;lastName&quot;: &quot;Thompson&quot;,\r\n                        &quot;group&quot;: &quot;false&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: &quot;24&quot;,\r\n                        &quot;firstName&quot;: &quot;Elijah&quot;,\r\n                        &quot;lastName&quot;: &quot;Miller&quot;,\r\n                        &quot;group&quot;: &quot;false&quot;\r\n                      }\r\n                    \r\n                  ]\r\n               }  \r\n            ]\r\n          }\r\n       }\r\n\r\n\r\n\r\nI need to form a new object from response:\r\n\r\n\r\n    { \r\n      &quot;success&quot;: true,\r\n        &quot;body&quot;: {\r\n           &quot;users&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;unknown&quot;,\r\n                &quot;data&quot;: [\r\n                    {\r\n                        &quot;id&quot;: &quot;8&quot;,                   \r\n                        &quot;group&quot;: &quot;false&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: &quot;11&quot;,\r\n                        &quot;group&quot;: &quot;false&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: &quot;7&quot;,\r\n                        &quot;group&quot;: &quot;false&quot;\r\n                    },\r\n                    {\r\n                        &quot;id&quot;: &quot;24&quot;,\r\n                        &quot;group&quot;: &quot;false&quot;\r\n                    }\r\n                    \r\n                  ]\r\n               }  \r\n            ]\r\n          }\r\n       }\r\n\r\nThis new list of object I need to post a request.\r\nI have a JSON Schema, but i don&#39;t know how i can make this structure.\r\nMy problem is that I can&#39;t get the values from fields. I&#39;m using the path &quot;body.users.data.find {it.id} .id&quot; but it finds the id array but I need a users list with values from two fields.","title":"I need to send the request correctly, but I don&#39;t know how to get the required values from objects","body":"<p>How to get a new list from the list of objects?\nI need a new list of objects to POST request</p>\n<p>this list of objects i get from response:</p>\n<pre><code>{ \n &quot;success&quot;: true,\n  &quot;body&quot;: {\n      &quot;users&quot;: [\n        {\n            &quot;type&quot;: &quot;unknown&quot;,\n            &quot;data&quot;: [\n                {\n                    &quot;id&quot;: &quot;8&quot;,\n                    &quot;firstName&quot;: &quot;Jackson&quot;,\n                    &quot;lastName&quot;: &quot;Baker&quot;,\n                    &quot;group&quot;: &quot;false&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;11&quot;,\n                    &quot;firstName&quot;: &quot;Charlotte&quot;,\n                    &quot;lastName&quot;: &quot;Garcia&quot;,\n                    &quot;group&quot;: &quot;false&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;7&quot;,\n                    &quot;firstName&quot;: &quot;Henry&quot;,\n                    &quot;lastName&quot;: &quot;Thompson&quot;,\n                    &quot;group&quot;: &quot;false&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;24&quot;,\n                    &quot;firstName&quot;: &quot;Elijah&quot;,\n                    &quot;lastName&quot;: &quot;Miller&quot;,\n                    &quot;group&quot;: &quot;false&quot;\n                  }\n                \n              ]\n           }  \n        ]\n      }\n   }\n</code></pre>\n<p>I need to form a new object from response:</p>\n<pre><code>{ \n  &quot;success&quot;: true,\n    &quot;body&quot;: {\n       &quot;users&quot;: [\n        {\n            &quot;type&quot;: &quot;unknown&quot;,\n            &quot;data&quot;: [\n                {\n                    &quot;id&quot;: &quot;8&quot;,                   \n                    &quot;group&quot;: &quot;false&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;11&quot;,\n                    &quot;group&quot;: &quot;false&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;7&quot;,\n                    &quot;group&quot;: &quot;false&quot;\n                },\n                {\n                    &quot;id&quot;: &quot;24&quot;,\n                    &quot;group&quot;: &quot;false&quot;\n                }\n                \n              ]\n           }  \n        ]\n      }\n   }\n</code></pre>\n<p>This new list of object I need to post a request.\nI have a JSON Schema, but i don't know how i can make this structure.\nMy problem is that I can't get the values from fields. I'm using the path &quot;body.users.data.find {it.id} .id&quot; but it finds the id array but I need a users list with values from two fields.</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":6457106,"reputation":1,"user_id":5002129,"display_name":"Senthil R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651718502,"creation_date":1651718502,"answer_id":72121343,"question_id":72121067,"body_markdown":"Looking at the Unit test snippet, the service class and its behavior is not mocked. That should&#39;ve resulted in NPE. Can you share stack trace if that&#39;s not the case? Cant figure out what caused NPE.\r\n\r\nHere is [an example](https://stackoverflow.com/a/29489610/5002129) of how to mock Mvc Controller\r\n\r\n[This one](https://stackoverflow.com/questions/7879620/how-to-unit-test-file-uploads-with-mockhttpservletrequest) does multi part\r\n","title":"Testing Multipartfile in spring boot Nullpointerexception due to MockMultipartFile","body":"<p>Looking at the Unit test snippet, the service class and its behavior is not mocked. That should've resulted in NPE. Can you share stack trace if that's not the case? Cant figure out what caused NPE.</p>\n<p>Here is <a href=\"https://stackoverflow.com/a/29489610/5002129\">an example</a> of how to mock Mvc Controller</p>\n<p><a href=\"https://stackoverflow.com/questions/7879620/how-to-unit-test-file-uploads-with-mockhttpservletrequest\">This one</a> does multi part</p>\n"}],"owner":{"account_id":25198758,"reputation":11,"user_id":19037906,"display_name":"A_J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651718502,"creation_date":1651714869,"question_id":72121067,"body_markdown":"I have a controller that accepts a csv file and read information from file. The controller passes information to service layer to extract the required data.\r\n\r\nThe issue I am facing is when I upload a file using postman I get no issues. The information is read form file and all good. But when I am testing it I get  NullPointerException. I have to prepare a test case where the whole controller has to be tested but I am stuck at the NullPointerException. I am not sure, but I think it is due to MockMultipartFile.\r\n\r\nThe controller is \r\n\r\n```\r\n@PostMapping(&quot;/validate-csv-file&quot;)\r\n  public Flux&lt;FormInstanceDTO&gt; validateCsvFile(@RequestParam(&quot;file&quot;) MultipartFile file)\r\n      throws Exception {\r\n    if (file.isEmpty()) {\r\n      return null;\r\n    }\r\n\r\n    String headerLine = fileValidationService.readHeaderOfFile(file); //  ***NULLPOINTERREXCEPTION*** \r\n   //this line passes information to service where i read the columns headers\r\n   // above line is where test fails due to Nullpointerexception using MockMultipartFile. \r\n   //  But when I upload a csv file using postman, there is no error and the string headerline holds data\r\n    String[] headerColumns = headerLine.split(&quot;,&quot;);\r\n\r\n    String csvContent = fileValidationService.prepareDownloadCsvFile(file);\r\n\r\n    Reader reader = new BufferedReader(new InputStreamReader(file.getInputStream(), StandardCharsets.UTF_8));\r\n\r\n\r\n    CsvToBean&lt;ReferralCSV&gt; csvToBean =\r\n        new CsvToBeanBuilder(reader)\r\n            .withType(ReferralCSV.class)\r\n            .withIgnoreLeadingWhiteSpace(true)\r\n            .build();\r\n\r\n    List&lt;ReferralCSV&gt; referalCSVList = csvToBean.parse();\r\n\r\n\r\n    Boolean passValidation = fileValidationService.validateReferral(referalCSVList);\r\n    if (passValidation) {\r\n      ReferralHeaderMetaData headerMetaData =\r\n          fileValidationService.createHeaderMetaData(headerColumns);\r\n      String clientCode = &quot;123&quot;;\r\n      FileValidationDTO dto = formService.getLatestFileValidationDTO(referralFormId, clientCode);\r\n      //      dto.setHeaderMetaData(headerMetaData.toString());\r\n      dto.setCsvContent(csvContent);\r\n      Flux&lt;FormInstanceDTO&gt; formInstanceDTOFlux =\r\n          formService.createFormInstance(referralFormId, dto);\r\n      return formInstanceDTOFlux;\r\n    }\r\n\r\n    return null;\r\n\r\n\r\n  }\r\n```\r\n\r\nand test is \r\n\r\n```\r\n@Test\r\n  void status200WhenUploadingCSV() throws Exception {\r\n    String path = String.valueOf(new ClassPathResource(&quot;referral-test.csv&quot;).getInputStream());\r\n    ClassLoader classLoader = this.getClass().getClassLoader();\r\n    File file = new File(classLoader.getResource(&quot;referral-test.csv&quot;).getFile());\r\n\r\n   MockMultipartFile mockMultipartFile =\r\n        new MockMultipartFile(\r\n            &quot;file&quot;,\r\n            &quot;referral-test.csv&quot;,\r\n            &quot;text/csv&quot;,\r\n            new ClassPathResource(&quot;referral-test.csv&quot;).getInputStream());\r\n\r\n\r\n    mockMvc\r\n        .perform(MockMvcRequestBuilders.multipart(&quot;/rev/api/debt/v1/validate-csv-file/referral&quot;).file(mockMultipartFile))\r\n        .andExpect(status().isOk());\r\n  }\r\n```\r\n\r\nI do not have expertise in testing and spring boot and not sure how this will have to be solved.","title":"Testing Multipartfile in spring boot Nullpointerexception due to MockMultipartFile","body":"<p>I have a controller that accepts a csv file and read information from file. The controller passes information to service layer to extract the required data.</p>\n<p>The issue I am facing is when I upload a file using postman I get no issues. The information is read form file and all good. But when I am testing it I get  NullPointerException. I have to prepare a test case where the whole controller has to be tested but I am stuck at the NullPointerException. I am not sure, but I think it is due to MockMultipartFile.</p>\n<p>The controller is</p>\n<pre><code>@PostMapping(&quot;/validate-csv-file&quot;)\n  public Flux&lt;FormInstanceDTO&gt; validateCsvFile(@RequestParam(&quot;file&quot;) MultipartFile file)\n      throws Exception {\n    if (file.isEmpty()) {\n      return null;\n    }\n\n    String headerLine = fileValidationService.readHeaderOfFile(file); //  ***NULLPOINTERREXCEPTION*** \n   //this line passes information to service where i read the columns headers\n   // above line is where test fails due to Nullpointerexception using MockMultipartFile. \n   //  But when I upload a csv file using postman, there is no error and the string headerline holds data\n    String[] headerColumns = headerLine.split(&quot;,&quot;);\n\n    String csvContent = fileValidationService.prepareDownloadCsvFile(file);\n\n    Reader reader = new BufferedReader(new InputStreamReader(file.getInputStream(), StandardCharsets.UTF_8));\n\n\n    CsvToBean&lt;ReferralCSV&gt; csvToBean =\n        new CsvToBeanBuilder(reader)\n            .withType(ReferralCSV.class)\n            .withIgnoreLeadingWhiteSpace(true)\n            .build();\n\n    List&lt;ReferralCSV&gt; referalCSVList = csvToBean.parse();\n\n\n    Boolean passValidation = fileValidationService.validateReferral(referalCSVList);\n    if (passValidation) {\n      ReferralHeaderMetaData headerMetaData =\n          fileValidationService.createHeaderMetaData(headerColumns);\n      String clientCode = &quot;123&quot;;\n      FileValidationDTO dto = formService.getLatestFileValidationDTO(referralFormId, clientCode);\n      //      dto.setHeaderMetaData(headerMetaData.toString());\n      dto.setCsvContent(csvContent);\n      Flux&lt;FormInstanceDTO&gt; formInstanceDTOFlux =\n          formService.createFormInstance(referralFormId, dto);\n      return formInstanceDTOFlux;\n    }\n\n    return null;\n\n\n  }\n</code></pre>\n<p>and test is</p>\n<pre><code>@Test\n  void status200WhenUploadingCSV() throws Exception {\n    String path = String.valueOf(new ClassPathResource(&quot;referral-test.csv&quot;).getInputStream());\n    ClassLoader classLoader = this.getClass().getClassLoader();\n    File file = new File(classLoader.getResource(&quot;referral-test.csv&quot;).getFile());\n\n   MockMultipartFile mockMultipartFile =\n        new MockMultipartFile(\n            &quot;file&quot;,\n            &quot;referral-test.csv&quot;,\n            &quot;text/csv&quot;,\n            new ClassPathResource(&quot;referral-test.csv&quot;).getInputStream());\n\n\n    mockMvc\n        .perform(MockMvcRequestBuilders.multipart(&quot;/rev/api/debt/v1/validate-csv-file/referral&quot;).file(mockMultipartFile))\n        .andExpect(status().isOk());\n  }\n</code></pre>\n<p>I do not have expertise in testing and spring boot and not sure how this will have to be solved.</p>\n"},{"tags":["java","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":1,"up_vote_count":81,"is_accepted":true,"score":80,"last_activity_date":1436129012,"creation_date":1285575487,"answer_id":3802093,"question_id":3802054,"body_markdown":"**[EDIT]**\r\n\r\nThis has been fixed in Logback 1.0.4. You can now use `-Dlogback.debug=true` to enable debugging of the logback setup.\r\n\r\n-- Old Answer --\r\n\r\nUnfortunately, there is no way to enable debugging via a System property. You have to use `&lt;configuration debug=&quot;true&quot;&gt;` in the `logback.xml`. Please submit a feature request.","title":"Run Logback in Debug","body":"<p><strong>[EDIT]</strong></p>\n\n<p>This has been fixed in Logback 1.0.4. You can now use <code>-Dlogback.debug=true</code> to enable debugging of the logback setup.</p>\n\n<p>-- Old Answer --</p>\n\n<p>Unfortunately, there is no way to enable debugging via a System property. You have to use <code>&lt;configuration debug=\"true\"&gt;</code> in the <code>logback.xml</code>. Please submit a feature request.</p>\n"},{"tags":[],"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1491204469,"creation_date":1304517235,"answer_id":5884505,"question_id":3802054,"body_markdown":"This is how I do it.  I set a system property called &#39;log.level&#39;, then I reference it in logback.xml.\r\n\r\nEdit: &lt;s&gt;The downside is that you MUST have &#39;log.level&#39; always set.  The way I deal with this is to check in my main method and set it to INFO if not already set, be sure to do this before you first logging calls.  Then I can override on the command line, and have a sensible default. &lt;/s&gt;\r\n\r\nHere is how it looks in my logback.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;logger name=&quot;com.mycompany.project&quot; level=&quot;${log.level}&quot; /&gt;\r\n    \t&lt;logger name=&quot;httpclient&quot; level=&quot;WARN&quot; /&gt;\r\n    \t&lt;logger name=&quot;org.apache&quot; level=&quot;WARN&quot; /&gt;\r\n    \t&lt;logger name=&quot;org.hibernate&quot; level=&quot;WARN&quot; /&gt;\r\n    \t&lt;logger name=&quot;org.hibernate.cfg.AnnotationBinder&quot; level=&quot;WARN&quot; /&gt;\r\n    \t&lt;logger name=&quot;org.hibernate.cfg.annotations&quot; level=&quot;WARN&quot; /&gt;\r\n    \t&lt;logger name=&quot;org.quartz&quot; level=&quot;WARN&quot; /&gt;\r\n    \t&lt;logger name=&quot;org.springframework&quot; level=&quot;WARN&quot; /&gt;\r\n    \r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%-16thread] %-5level %-35.35logger{30} - %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \t&lt;root level=&quot;${log.level:-INFO}&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    &lt;/configuration&gt;","title":"Run Logback in Debug","body":"<p>This is how I do it.  I set a system property called 'log.level', then I reference it in logback.xml.</p>\n\n<p>Edit: <s>The downside is that you MUST have 'log.level' always set.  The way I deal with this is to check in my main method and set it to INFO if not already set, be sure to do this before you first logging calls.  Then I can override on the command line, and have a sensible default. </s></p>\n\n<p>Here is how it looks in my logback.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;logger name=\"com.mycompany.project\" level=\"${log.level}\" /&gt;\n    &lt;logger name=\"httpclient\" level=\"WARN\" /&gt;\n    &lt;logger name=\"org.apache\" level=\"WARN\" /&gt;\n    &lt;logger name=\"org.hibernate\" level=\"WARN\" /&gt;\n    &lt;logger name=\"org.hibernate.cfg.AnnotationBinder\" level=\"WARN\" /&gt;\n    &lt;logger name=\"org.hibernate.cfg.annotations\" level=\"WARN\" /&gt;\n    &lt;logger name=\"org.quartz\" level=\"WARN\" /&gt;\n    &lt;logger name=\"org.springframework\" level=\"WARN\" /&gt;\n\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%-16thread] %-5level %-35.35logger{30} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=\"${log.level:-INFO}\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939519,"reputation":1200,"user_id":3779941,"accept_rate":44,"display_name":"AixNPanes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1475074535,"creation_date":1475074535,"answer_id":39751054,"question_id":3802054,"body_markdown":"In eclipse you can have multiple run configurations. Open your main class. Go to Debug dropdown on eclipse toolbar and select Debug configurations. Click the New launch configuration icon at the top left. Give your launch configuration a better name. Click the Arguments tab under the name and enter -Dlog.level=debug or whatever you want. Click Close or Debug\r\n\r\nYou can do this again and specify -Dlog.level=warn for example.","title":"Run Logback in Debug","body":"<p>In eclipse you can have multiple run configurations. Open your main class. Go to Debug dropdown on eclipse toolbar and select Debug configurations. Click the New launch configuration icon at the top left. Give your launch configuration a better name. Click the Arguments tab under the name and enter -Dlog.level=debug or whatever you want. Click Close or Debug</p>\n\n<p>You can do this again and specify -Dlog.level=warn for example.</p>\n"},{"tags":[],"owner":{"account_id":2376243,"reputation":1090,"user_id":2079513,"accept_rate":86,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493920847,"creation_date":1493920847,"answer_id":43789819,"question_id":3802054,"body_markdown":"I could not make it work using the chosen answer. However, the following worked:\r\n\r\n    java -Dlogback.configurationFile=/path/to/config-debug.xml com.domain.Main\r\n\r\nJust add a file (`config-debug.xml` in this example) somewhere on your server and leave it there when you need to debug. Like the following.\r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;!-- encoders are assigned the type\r\n                 ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{dd-MMM-yyyy HH:mm:ss.SSS} %-5level [%thread] %logger{36} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;root level=&quot;debug&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nRun your application using the afore mentioned `-D` parameter.\r\n\r\nWhen things are back to normal, remove the `-D` parameter and restart your application.\r\n\r\n\r\nSource: [Chapter 3: Logback configuration](https://logback.qos.ch/manual/configuration.html)\r\n","title":"Run Logback in Debug","body":"<p>I could not make it work using the chosen answer. However, the following worked:</p>\n\n<pre><code>java -Dlogback.configurationFile=/path/to/config-debug.xml com.domain.Main\n</code></pre>\n\n<p>Just add a file (<code>config-debug.xml</code> in this example) somewhere on your server and leave it there when you need to debug. Like the following.</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;!-- encoders are assigned the type\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{dd-MMM-yyyy HH:mm:ss.SSS} %-5level [%thread] %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=\"debug\"&gt;\n        &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Run your application using the afore mentioned <code>-D</code> parameter.</p>\n\n<p>When things are back to normal, remove the <code>-D</code> parameter and restart your application.</p>\n\n<p>Source: <a href=\"https://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">Chapter 3: Logback configuration</a></p>\n"},{"tags":[],"owner":{"account_id":9543909,"reputation":487,"user_id":7090808,"accept_rate":55,"display_name":"deve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509529010,"creation_date":1509529010,"answer_id":47051897,"question_id":3802054,"body_markdown":"You can set the status listener class via system property:\r\n\r\n\tjava -Dlogback.statusListenerClass=ch.qos.logback.core.status.OnConsoleStatusListener ...\r\n\r\nSee: [Logback manual][1]\r\n\r\n\r\n  [1]: https://logback.qos.ch/manual/configuration.html#logback.statusLC","title":"Run Logback in Debug","body":"<p>You can set the status listener class via system property:</p>\n\n<pre><code>java -Dlogback.statusListenerClass=ch.qos.logback.core.status.OnConsoleStatusListener ...\n</code></pre>\n\n<p>See: <a href=\"https://logback.qos.ch/manual/configuration.html#logback.statusLC\" rel=\"nofollow noreferrer\">Logback manual</a></p>\n"},{"tags":[],"owner":{"display_name":"user10022877"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651716782,"creation_date":1651716782,"answer_id":72121195,"question_id":3802054,"body_markdown":"Well, It&#39;s pretty easy. Either you can use \r\n\r\n    log.level = debug\r\n\r\ninside the application.properties of Spring boot.\r\n\r\nor you can also set this in the configuration file of logback.xml\r\n\r\n    &lt;root level=&quot;${log.level}&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ANY_APPENDER&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n","title":"Run Logback in Debug","body":"<p>Well, It's pretty easy. Either you can use</p>\n<pre><code>log.level = debug\n</code></pre>\n<p>inside the application.properties of Spring boot.</p>\n<p>or you can also set this in the configuration file of logback.xml</p>\n<pre><code>&lt;root level=&quot;${log.level}&quot;&gt;\n    &lt;appender-ref ref=&quot;ANY_APPENDER&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59270,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":3802093,"answer_count":6,"score":55,"last_activity_date":1651716782,"creation_date":1285575146,"question_id":3802054,"body_markdown":"I&#39;ve recently switched from log4j to logback and am wondering if there is an easy way to run logback in debug mode, similar to log4j&#39;s `log4j.debug` property. I need to see where it is picking up my `logback.xml` from.\r\n\r\nThe docs mention using a `StatusPrinter` to print out logback&#39;s internal status, but that would require code changes.","title":"Run Logback in Debug","body":"<p>I've recently switched from log4j to logback and am wondering if there is an easy way to run logback in debug mode, similar to log4j's <code>log4j.debug</code> property. I need to see where it is picking up my <code>logback.xml</code> from.</p>\n\n<p>The docs mention using a <code>StatusPrinter</code> to print out logback's internal status, but that would require code changes.</p>\n"},{"tags":["java","mongodb","heroku","dagger"],"comments":[{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1651428748,"post_id":72078318,"comment_id":127358147,"body_markdown":"What happens when you try to save data?","body":"What happens when you try to save data?"},{"owner":{"account_id":1408255,"reputation":179,"user_id":1335384,"accept_rate":60,"display_name":"lucyh"},"score":0,"creation_date":1651443986,"post_id":72078318,"comment_id":127360986,"body_markdown":"Heroku said build successfully, but nothing happened in MongoBD.","body":"Heroku said build successfully, but nothing happened in MongoBD."},{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1651444047,"post_id":72078318,"comment_id":127360994,"body_markdown":"Okay, well, building doesn&#39;t generally do anything to your database. What do you expect to see there?","body":"Okay, well, building doesn&#39;t generally do anything to your database. What do you expect to see there?"},{"owner":{"account_id":1408255,"reputation":179,"user_id":1335384,"accept_rate":60,"display_name":"lucyh"},"score":0,"creation_date":1651539190,"post_id":72078318,"comment_id":127383459,"body_markdown":"I had mock data in Java and expected to see them stored in MongoDB. When we tested locally, new tables were created in the DB.","body":"I had mock data in Java and expected to see them stored in MongoDB. When we tested locally, new tables were created in the DB."},{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1651539330,"post_id":72078318,"comment_id":127383484,"body_markdown":"You&#39;re going to have to provide a lot more information. I suggest you start by adding the [tag:java] tag and either a [mre] or enough information about the libraries you are using so a Java developer might understand. Right now you&#39;re getting attention from Heroku and MongoDB folks, only.","body":"You&#39;re going to have to provide a lot more information. I suggest you start by adding the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag and either a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or enough information about the libraries you are using so a Java developer might understand. Right now you&#39;re getting attention from Heroku and MongoDB folks, only."},{"owner":{"account_id":1408255,"reputation":179,"user_id":1335384,"accept_rate":60,"display_name":"lucyh"},"score":0,"creation_date":1651712251,"post_id":72078318,"comment_id":127430702,"body_markdown":"I finally found out the error: &quot; Error: Unable to access jarfile ./build/libs/myApp.jar&quot;. How can I fix it? Thanks.","body":"I finally found out the error: &quot; Error: Unable to access jarfile ./build/libs/myApp.jar&quot;. How can I fix it? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1408255,"reputation":179,"user_id":1335384,"accept_rate":60,"display_name":"lucyh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651716391,"creation_date":1651716391,"answer_id":72121172,"question_id":72078318,"body_markdown":"Need to set up the right procfile, e.g., web: java -jar ./build/libs/myApp-all.jar","title":"heroku deployed successfully but MongoDB did not store any data","body":"<p>Need to set up the right procfile, e.g., web: java -jar ./build/libs/myApp-all.jar</p>\n"}],"owner":{"account_id":1408255,"reputation":179,"user_id":1335384,"accept_rate":60,"display_name":"lucyh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651716391,"creation_date":1651420700,"question_id":72078318,"body_markdown":"We used heroku to host an app, which was built by using java and dagger. Even though heroku deployment was successful, but none of the data (in the java code for testing) was stored in MongoDB atlas. We tried the following ways, but cannot find out a solution. \r\n\r\n1. We test running build locally. The data were stored in MongoDB successfully. \r\n2. We opened up the ip access with anywhere.\r\n3. We run heroku log -tails, and everything seems fine. \r\n\r\nWhat possible problems did we encounter? How can we fix them? Thank you. ","title":"heroku deployed successfully but MongoDB did not store any data","body":"<p>We used heroku to host an app, which was built by using java and dagger. Even though heroku deployment was successful, but none of the data (in the java code for testing) was stored in MongoDB atlas. We tried the following ways, but cannot find out a solution.</p>\n<ol>\n<li>We test running build locally. The data were stored in MongoDB successfully.</li>\n<li>We opened up the ip access with anywhere.</li>\n<li>We run heroku log -tails, and everything seems fine.</li>\n</ol>\n<p>What possible problems did we encounter? How can we fix them? Thank you.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1651715918,"post_id":72121043,"comment_id":127431136,"body_markdown":"The easiest is to add a negative lookahead at the beginning, add a whitespace to the character class and remove `[\\s]{0,3}`: `^(?!(?:.*\\s){4})[a-zA-Z0-9\\s]{3,50}$`. Incidentally, `[\\s]` is the same as `\\s`.","body":"The easiest is to add a negative lookahead at the beginning, add a whitespace to the character class and remove <code>[\\s]{0,3}</code>: <code>^(?!(?:.*\\s){4})[a-zA-Z0-9\\s]{3,50}$</code>. Incidentally, <code>[\\s]</code> is the same as <code>\\s</code>."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":2,"creation_date":1651716434,"post_id":72121043,"comment_id":127431214,"body_markdown":"I&#39;d recommend to use `(?!(?:\\S*\\s){4})` in the lookahead part, it cause less effort.","body":"I&#39;d recommend to use <code>(?!(?:\\S*\\s){4})</code> in the lookahead part, it cause less effort."},{"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"score":0,"creation_date":1651716435,"post_id":72121043,"comment_id":127431215,"body_markdown":"@Cary Sorry if I stole your solution :D but when I started writing my answer, your comment only mentioned the Lookahead and didn&#39;t include the full pattern.","body":"@Cary Sorry if I stole your solution :D but when I started writing my answer, your comment only mentioned the Lookahead and didn&#39;t include the full pattern."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1651716479,"post_id":72121043,"comment_id":127431223,"body_markdown":"@41686d6564standsw.Palestine, not a problem. I had no plans to submit an answer.","body":"@41686d6564standsw.Palestine, not a problem. I had no plans to submit an answer."}],"answers":[{"tags":[],"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651716253,"creation_date":1651716253,"answer_id":72121166,"question_id":72121043,"body_markdown":"As [Cary Swoveland][1] has suggested [in the comments][2], you may use a negative Lookahead to ensure that the string doesn&#39;t have more than 3 whitespace characters. The full pattern would be something like this:\r\n\r\n    ^(?!(?:.*\\h){4})[A-Za-z0-9\\h]{3,50}$\r\n\r\n**[Demo][3]**.\r\n\r\nNote that I used `\\h` instead of `\\s` here in order to only match horizontal whitespace characters.\r\n\r\nIf you need to prevent whitespace characters from appearing at the beginning/end of the string, you could adjust the Lookahead and add a negative Lookbehind at the end:\r\n\r\n    ^(?!\\h|(?:.*\\h){4})[A-Za-z0-9\\h]{3,50}(?&lt;!\\h)$\r\n\r\n**[Demo][4]**.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/256970/cary-swoveland\r\n  [2]: https://stackoverflow.com/questions/72121043/limiting-the-occurence-of-one-character-across-a-whole-regex-string#comment127431136_72121043\r\n  [3]: https://regex101.com/r/6dxjeu/1\r\n  [4]: https://regex101.com/r/G2tN8F/1","title":"limiting the occurence of one character across a whole regex string","body":"<p>As <a href=\"https://stackoverflow.com/users/256970/cary-swoveland\">Cary Swoveland</a> has suggested <a href=\"https://stackoverflow.com/questions/72121043/limiting-the-occurence-of-one-character-across-a-whole-regex-string#comment127431136_72121043\">in the comments</a>, you may use a negative Lookahead to ensure that the string doesn't have more than 3 whitespace characters. The full pattern would be something like this:</p>\n<pre><code>^(?!(?:.*\\h){4})[A-Za-z0-9\\h]{3,50}$\n</code></pre>\n<p><strong><a href=\"https://regex101.com/r/6dxjeu/1\" rel=\"nofollow noreferrer\">Demo</a></strong>.</p>\n<p>Note that I used <code>\\h</code> instead of <code>\\s</code> here in order to only match horizontal whitespace characters.</p>\n<p>If you need to prevent whitespace characters from appearing at the beginning/end of the string, you could adjust the Lookahead and add a negative Lookbehind at the end:</p>\n<pre><code>^(?!\\h|(?:.*\\h){4})[A-Za-z0-9\\h]{3,50}(?&lt;!\\h)$\n</code></pre>\n<p><strong><a href=\"https://regex101.com/r/G2tN8F/1\" rel=\"nofollow noreferrer\">Demo</a></strong>.</p>\n"}],"owner":{"account_id":252496,"reputation":495,"user_id":530576,"accept_rate":100,"display_name":"Rick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72121166,"answer_count":1,"score":1,"last_activity_date":1651716253,"creation_date":1651714561,"question_id":72121043,"body_markdown":"I want an alphanumeric (not a word) string between 3 and 50 characters long.  It can have no more that 3 whitespaces in it.  The best I&#39;ve come up with is:\r\n```^[a-zA-Z0-9]{3,50}[\\s]{0,3}$ ```\r\nbut this doesn&#39;t work.  \r\nCan someone please point me in the right direction?","title":"limiting the occurence of one character across a whole regex string","body":"<p>I want an alphanumeric (not a word) string between 3 and 50 characters long.  It can have no more that 3 whitespaces in it.  The best I've come up with is:\n<code>^[a-zA-Z0-9]{3,50}[\\s]{0,3}$ </code>\nbut this doesn't work.<br />\nCan someone please point me in the right direction?</p>\n"},{"tags":["java","palindrome"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1651715987,"post_id":72121121,"comment_id":127431145,"body_markdown":"`String original = word;` &lt;- this saves a copy (run this BEFORE `.replaceAll`, of course), then you can print that.","body":"<code>String original = word;</code> &lt;- this saves a copy (run this BEFORE <code>.replaceAll</code>, of course), then you can print that."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1651716311,"post_id":72121121,"comment_id":127431200,"body_markdown":"Does this answer your question? [Check string for palindrome](https://stackoverflow.com/questions/4138827/check-string-for-palindrome)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4138827/check-string-for-palindrome\">Check string for palindrome</a>"}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651716023,"creation_date":1651716023,"answer_id":72121151,"question_id":72121121,"body_markdown":"You can store the copy of the original word in a variable ( say copyWord) and print that variable in the print statements. \r\n\r\nThe reason why the original string is not getting printed is because you are modifying it and storing the updated word( in word.replaceAll()) \r\n\r\n    public class Fin4 {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Enter a word to check if it is a palindrome: &quot;);\r\n            String word = in.nextLine();\r\n            String copyWord = word;\r\n            word = word.replaceAll(&quot;[{}!@#$%^&amp;.,&#39; ]&quot;, &quot;&quot;);\r\n            word = word.substring(0);\r\n            String reverse = &quot;&quot;;\r\n            for (int i = word.length() - 1; i &gt;= 0; i--)\r\n                reverse += word.charAt(i);\r\n    \r\n            if (word.equalsIgnoreCase(reverse))\r\n                System.out.print(copyWord + &quot; is a palindrome.&quot;);\r\n            else\r\n                System.out.print(copyWord + &quot; is not a palindrome.&quot;);\r\n        }\r\n    }\r\nand the output is \r\n\r\n    Enter a word to check if it is a palindrome: Madam, I&#39;m adam\r\n    Madam, I&#39;m adam is a palindrome.\r\n\r\n","title":"How can I print the special character but still I can compare it if its a palindrome or not","body":"<p>You can store the copy of the original word in a variable ( say copyWord) and print that variable in the print statements.</p>\n<p>The reason why the original string is not getting printed is because you are modifying it and storing the updated word( in word.replaceAll())</p>\n<pre><code>public class Fin4 {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        System.out.print(&quot;Enter a word to check if it is a palindrome: &quot;);\n        String word = in.nextLine();\n        String copyWord = word;\n        word = word.replaceAll(&quot;[{}!@#$%^&amp;.,' ]&quot;, &quot;&quot;);\n        word = word.substring(0);\n        String reverse = &quot;&quot;;\n        for (int i = word.length() - 1; i &gt;= 0; i--)\n            reverse += word.charAt(i);\n\n        if (word.equalsIgnoreCase(reverse))\n            System.out.print(copyWord + &quot; is a palindrome.&quot;);\n        else\n            System.out.print(copyWord + &quot; is not a palindrome.&quot;);\n    }\n}\n</code></pre>\n<p>and the output is</p>\n<pre><code>Enter a word to check if it is a palindrome: Madam, I'm adam\nMadam, I'm adam is a palindrome.\n</code></pre>\n"}],"owner":{"display_name":"user18451561"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72121151,"answer_count":1,"score":0,"last_activity_date":1651716023,"creation_date":1651715663,"question_id":72121121,"body_markdown":"```\r\nimport java.util.*;\r\npublic class Fin4 {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        \r\n        System.out.print(&quot;Enter a word to check if it is a palindrome: &quot;);\r\n        String word = in.nextLine();\r\n        \r\n        word = word.replaceAll(&quot;[{}!@#$%^&amp;.,&#39; ]&quot;, &quot;&quot;);\r\n        word = word.substring(0);\r\n        String reverse = &quot;&quot;;\r\n        for(int i=word.length()-1;i&gt;=0;i--)\r\n        \treverse+=word.charAt(i);\r\n        \t\r\n        if(word.equalsIgnoreCase(reverse))\r\n        \tSystem.out.print(word + &quot; is a palindrome.&quot;);\r\n        else\r\n        \tSystem.out.print(word + &quot; is not a palindrome.&quot;);\r\n    }\r\n}\r\n\r\n```\r\nFor example \r\nEnter a word to check if it is a palindrome: Madam, I&#39;m adam\r\nThe output should be -&gt; Madam, I&#39;m adam is a palindrome\r\nbut my output is -&gt; MadamImadam is a palindrome\r\n","title":"How can I print the special character but still I can compare it if its a palindrome or not","body":"<pre><code>import java.util.*;\npublic class Fin4 {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter a word to check if it is a palindrome: &quot;);\n        String word = in.nextLine();\n        \n        word = word.replaceAll(&quot;[{}!@#$%^&amp;.,' ]&quot;, &quot;&quot;);\n        word = word.substring(0);\n        String reverse = &quot;&quot;;\n        for(int i=word.length()-1;i&gt;=0;i--)\n            reverse+=word.charAt(i);\n            \n        if(word.equalsIgnoreCase(reverse))\n            System.out.print(word + &quot; is a palindrome.&quot;);\n        else\n            System.out.print(word + &quot; is not a palindrome.&quot;);\n    }\n}\n\n</code></pre>\n<p>For example\nEnter a word to check if it is a palindrome: Madam, I'm adam\nThe output should be -&gt; Madam, I'm adam is a palindrome\nbut my output is -&gt; MadamImadam is a palindrome</p>\n"},{"tags":["java","arrays","list","java-stream"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1651691840,"post_id":72118172,"comment_id":127426120,"body_markdown":"that is an array of array, not a list of array. Is that what you want?","body":"that is an array of array, not a list of array. Is that what you want?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1651692573,"post_id":72118172,"comment_id":127426382,"body_markdown":"You shouldn&#39;t be using arrays as keys in Map because arrays don&#39;t override `equals()` method and inherit it from java.lang.Object. This means they are rely on `==` to check if two arrays are equal and `==` will only return `true` for *same* array object.","body":"You shouldn&#39;t be using arrays as keys in Map because arrays don&#39;t override <code>equals()</code> method and inherit it from java.lang.Object. This means they are rely on <code>==</code> to check if two arrays are equal and <code>==</code> will only return <code>true</code> for <i>same</i> array object."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1651713977,"post_id":72118172,"comment_id":127430891,"body_markdown":"By saying *duplicate*, you mean an array that in that is present in *both lists*? Or an error that has a number of occurrences greater than one and might be present only one of these lists?","body":"By saying <i>duplicate</i>, you mean an array that in that is present in <i>both lists</i>? Or an error that has a number of occurrences greater than one and might be present only one of these lists?"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651692517,"creation_date":1651692517,"answer_id":72118479,"question_id":72118172,"body_markdown":"Given your two lists:\r\n\r\n    List&lt;int[]&gt; keys = // ....\r\n    List&lt;int[]&gt; phaseKey = //...\r\n\r\nYou just need to filter to find common arrays in both lists:\r\n\r\n    List&lt;int[]&gt; duplicates = keys.stream()\r\n            .filter(k -&gt; phaseKey.stream().anyMatch(p -&gt; Arrays.equals(p,k)))\r\n            .collect(Collectors.toList());\r\n","title":"Find duplicates in two lists List&lt;int[]&gt; using Streams","body":"<p>Given your two lists:</p>\n<pre><code>List&lt;int[]&gt; keys = // ....\nList&lt;int[]&gt; phaseKey = //...\n</code></pre>\n<p>You just need to filter to find common arrays in both lists:</p>\n<pre><code>List&lt;int[]&gt; duplicates = keys.stream()\n        .filter(k -&gt; phaseKey.stream().anyMatch(p -&gt; Arrays.equals(p,k)))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651715941,"creation_date":1651712764,"answer_id":72120909,"question_id":72118172,"body_markdown":"As @Pshemo has already pointed out in the comment, arrays have no proper implementation of the `equals()` and `hashCode()` methods. Which are crucial if for every object that is going to be utilized as a key in a map. \r\n\r\nArrays in Java are very special. They are not being created by instantiating a class, but they are objects, and they derive all methods from the `java.lang.Object` class. Hence, `equals()` and `hashCode()` that are accessible on with arrays could be used to establish uniqueness, i.e. whether the two arrays are represented by the same object in memory.\r\n\r\nIn order to determine if the contents of the two array is identical you need to use static methods `equals()` and `hashCode()` provided by the `Arrays` utility class. To be able to make use this functionality you can create a class that wraps over an array implement `equals/hashCode` contract base on the array contents.\r\n\r\nI&#39;ve chosen to implement this wrapper as a Java 16 `record` to make it leaner, but you can change it to be a regular class.\r\n\r\n```\r\npublic record ArrayWrapper(int[] arr) {\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ArrayWrapper other = (ArrayWrapper) o;\r\n        return Arrays.equals(arr, other.arr);\r\n    }\r\n    \r\n    @Override\r\n    public int hashCode() {\r\n        return Arrays.hashCode(arr);\r\n    }\r\n}\r\n```\r\n\r\nNow any array wrapped by this record is good to go to be used with hash-based data structures.\r\n\r\nBecause your example is ambiguous, below I&#39;ve listed two different implementation.\r\n\r\n&lt;h3&gt;Selecting arrays that are present in both lists&lt;/h3&gt;\r\n\r\nIn order to make the process of checking whether a particular array contained in the `phaseKey` list is also present in the `keys` list, we create a `HashSet` of `ArrayWrapper` objects and then perform checks against this set. That will allow addressing this task in a **linear time**, performing only a **single pass** though each of the lists.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;int[]&gt; keys = List.of(new int[]{1, 1, 0}, new int[]{0, 0, 1}, new int[]{1, 2, 1},\r\n                                   new int[]{1, 3, 1}, new int[]{1, 3, 2});\r\n        List&lt;int[]&gt; phaseKey = List.of(new int[]{1, 3, 2}, new int[]{1, 2, 1}, new int[]{0, 0, 2},\r\n                                   new int[]{1, 2, 3}, new int[]{1, 0, 3});\r\n    \r\n        Set&lt;ArrayWrapper&gt; wrappedKeys = keys.stream().map(ArrayWrapper::new).collect(Collectors.toSet());\r\n        \r\n        List&lt;int[]&gt; result = phaseKey.stream()\r\n            .map(ArrayWrapper::new)\r\n            .filter(wrappedKeys::contains)\r\n            .distinct()                    // to ensure that each array will be present in the array only once\r\n            .map(ArrayWrapper::arr)\r\n            .collect(Collectors.toList()); // toList() with Java 16+\r\n        \r\n        result.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\r\n    }\r\n\r\n&lt;h3&gt;Fetching arrays having a number of occurrences more than one&lt;/h3&gt;\r\n\r\nTo find out if a particular array appears more than once in one of the given lists (or in both) we can create an intermediate map `Map&lt;ArrayWrapper,Boolean&gt;` by assigning the initial value for any key as `false` (not a duplicate), and returning `true` from the `mergeFunction` that is meant to resolve duplicates.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;int[]&gt; keys = List.of(new int[]{1, 1, 0}, new int[]{0, 0, 1}, new int[]{1, 2, 1},\r\n            new int[]{1, 3, 1}, new int[]{1, 3, 2});\r\n        List&lt;int[]&gt; phaseKey = List.of(new int[]{1, 3, 2}, new int[]{1, 2, 1}, new int[]{0, 0, 2},\r\n            new int[]{1, 2, 3}, new int[]{1, 0, 3});\r\n        \r\n        List&lt;int[]&gt; result = Stream.of(keys, phaseKey)\r\n            .flatMap(List::stream)\r\n            .map(ArrayWrapper::new)\r\n            .collect(Collectors.toMap(    // creates an intermediate map Map&lt;ArrayWrapper, Boolean&gt;\r\n                Function.identity(),\r\n                next -&gt; false,            // first occurrence\r\n                (left, right) -&gt; true))   // all subsequent occurrences\r\n            .entrySet().stream()\r\n            .filter(Map.Entry::getValue)\r\n            .map(Map.Entry::getKey)\r\n            .map(ArrayWrapper::arr)\r\n            .collect(Collectors.toList()); // toList() with Java 16+\r\n        \r\n        result.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\r\n    }\r\n\r\n**Output**\r\n```\r\n[1, 3, 2]\r\n[1, 2, 1]\r\n```","title":"Find duplicates in two lists List&lt;int[]&gt; using Streams","body":"<p>As @Pshemo has already pointed out in the comment, arrays have no proper implementation of the <code>equals()</code> and <code>hashCode()</code> methods. Which are crucial if for every object that is going to be utilized as a key in a map.</p>\n<p>Arrays in Java are very special. They are not being created by instantiating a class, but they are objects, and they derive all methods from the <code>java.lang.Object</code> class. Hence, <code>equals()</code> and <code>hashCode()</code> that are accessible on with arrays could be used to establish uniqueness, i.e. whether the two arrays are represented by the same object in memory.</p>\n<p>In order to determine if the contents of the two array is identical you need to use static methods <code>equals()</code> and <code>hashCode()</code> provided by the <code>Arrays</code> utility class. To be able to make use this functionality you can create a class that wraps over an array implement <code>equals/hashCode</code> contract base on the array contents.</p>\n<p>I've chosen to implement this wrapper as a Java 16 <code>record</code> to make it leaner, but you can change it to be a regular class.</p>\n<pre><code>public record ArrayWrapper(int[] arr) {\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ArrayWrapper other = (ArrayWrapper) o;\n        return Arrays.equals(arr, other.arr);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Arrays.hashCode(arr);\n    }\n}\n</code></pre>\n<p>Now any array wrapped by this record is good to go to be used with hash-based data structures.</p>\n<p>Because your example is ambiguous, below I've listed two different implementation.</p>\n<h3>Selecting arrays that are present in both lists</h3>\n<p>In order to make the process of checking whether a particular array contained in the <code>phaseKey</code> list is also present in the <code>keys</code> list, we create a <code>HashSet</code> of <code>ArrayWrapper</code> objects and then perform checks against this set. That will allow addressing this task in a <strong>linear time</strong>, performing only a <strong>single pass</strong> though each of the lists.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;int[]&gt; keys = List.of(new int[]{1, 1, 0}, new int[]{0, 0, 1}, new int[]{1, 2, 1},\n                               new int[]{1, 3, 1}, new int[]{1, 3, 2});\n    List&lt;int[]&gt; phaseKey = List.of(new int[]{1, 3, 2}, new int[]{1, 2, 1}, new int[]{0, 0, 2},\n                               new int[]{1, 2, 3}, new int[]{1, 0, 3});\n\n    Set&lt;ArrayWrapper&gt; wrappedKeys = keys.stream().map(ArrayWrapper::new).collect(Collectors.toSet());\n    \n    List&lt;int[]&gt; result = phaseKey.stream()\n        .map(ArrayWrapper::new)\n        .filter(wrappedKeys::contains)\n        .distinct()                    // to ensure that each array will be present in the array only once\n        .map(ArrayWrapper::arr)\n        .collect(Collectors.toList()); // toList() with Java 16+\n    \n    result.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\n}\n</code></pre>\n<h3>Fetching arrays having a number of occurrences more than one</h3>\n<p>To find out if a particular array appears more than once in one of the given lists (or in both) we can create an intermediate map <code>Map&lt;ArrayWrapper,Boolean&gt;</code> by assigning the initial value for any key as <code>false</code> (not a duplicate), and returning <code>true</code> from the <code>mergeFunction</code> that is meant to resolve duplicates.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;int[]&gt; keys = List.of(new int[]{1, 1, 0}, new int[]{0, 0, 1}, new int[]{1, 2, 1},\n        new int[]{1, 3, 1}, new int[]{1, 3, 2});\n    List&lt;int[]&gt; phaseKey = List.of(new int[]{1, 3, 2}, new int[]{1, 2, 1}, new int[]{0, 0, 2},\n        new int[]{1, 2, 3}, new int[]{1, 0, 3});\n    \n    List&lt;int[]&gt; result = Stream.of(keys, phaseKey)\n        .flatMap(List::stream)\n        .map(ArrayWrapper::new)\n        .collect(Collectors.toMap(    // creates an intermediate map Map&lt;ArrayWrapper, Boolean&gt;\n            Function.identity(),\n            next -&gt; false,            // first occurrence\n            (left, right) -&gt; true))   // all subsequent occurrences\n        .entrySet().stream()\n        .filter(Map.Entry::getValue)\n        .map(Map.Entry::getKey)\n        .map(ArrayWrapper::arr)\n        .collect(Collectors.toList()); // toList() with Java 16+\n    \n    result.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[1, 3, 2]\n[1, 2, 1]\n</code></pre>\n"}],"owner":{"account_id":25196922,"reputation":47,"user_id":19036319,"display_name":"vasdas dasda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2776,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72118479,"answer_count":2,"score":2,"last_activity_date":1651715941,"creation_date":1651690820,"question_id":72118172,"body_markdown":"Find duplicates in two lists List&lt;int[]&gt; with streams\r\n\r\nI have a *list* of int arrays. I need to find duplicates of these arrays using `2` lists of int arrays. \r\n\r\nI did try to implement it, but I&#39;m getting an empty array.\r\n```\r\nkeys = [[1,1,0], [0,0,1], [1,2,1], [1,3,1], [1,3,2]];\r\nphaseKey = [[1,3,2], [1,2,1], [0,0,2], [1,2,3], [1,0,3]];\r\ndesired result: [[[1,3,2]], [1,2,1]];\r\n```\r\n*My code:*\r\n```\r\nStream.concat(Stream.of(keys.stream().flatMapToInt(Arrays::stream)),                     \r\n        Stream.of(phaseKey.stream().flatMapToInt(Arrays::stream)))\r\n                            .collect(Collectors.groupingBy(\r\n                                    Function.identity(),\r\n                                    Collectors.counting()))\r\n                            .entrySet()\r\n                            .stream()\r\n                            .filter(m -&gt; m.getValue() &gt; 1)\r\n                            .map(Map.Entry::getKey)\r\n                            .toArray();\r\n```\r\n","title":"Find duplicates in two lists List&lt;int[]&gt; using Streams","body":"<p>Find duplicates in two lists List&lt;int[]&gt; with streams</p>\n<p>I have a <em>list</em> of int arrays. I need to find duplicates of these arrays using <code>2</code> lists of int arrays.</p>\n<p>I did try to implement it, but I'm getting an empty array.</p>\n<pre><code>keys = [[1,1,0], [0,0,1], [1,2,1], [1,3,1], [1,3,2]];\nphaseKey = [[1,3,2], [1,2,1], [0,0,2], [1,2,3], [1,0,3]];\ndesired result: [[[1,3,2]], [1,2,1]];\n</code></pre>\n<p><em>My code:</em></p>\n<pre><code>Stream.concat(Stream.of(keys.stream().flatMapToInt(Arrays::stream)),                     \n        Stream.of(phaseKey.stream().flatMapToInt(Arrays::stream)))\n                            .collect(Collectors.groupingBy(\n                                    Function.identity(),\n                                    Collectors.counting()))\n                            .entrySet()\n                            .stream()\n                            .filter(m -&gt; m.getValue() &gt; 1)\n                            .map(Map.Entry::getKey)\n                            .toArray();\n</code></pre>\n"},{"tags":["java","regex","string","replace"],"answers":[{"tags":[],"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651715410,"creation_date":1651714605,"answer_id":72121047,"question_id":72121000,"body_markdown":"You may use the following pattern:\r\n\r\n```regex\r\n\\&quot;(?!key\\&quot;)(.+?)\\&quot;\r\n```\r\n\r\nAnd replace with `$1`\r\n\r\n**Details:**\r\n\r\n- `\\&quot;` - Match a double quotation mark character.\r\n- `(?!key\\&quot;)` - Negative Lookahead (not followed by the word &quot;key&quot; and another double quotation mark).\r\n- `(.+?)` - Match one or more characters (lazy) and capture them in group 1.\r\n- `\\&quot;` - Match another double quotation mark character.\r\n\r\n- _Substitution:_ `$1` - back reference to whatever was matched in group 1.\r\n\r\n**[Regex demo][1]**.\r\n\r\nHere&#39;s a full example:\r\n\r\n```java\r\nString str = &quot;\\&quot;person\\&quot;,\\&quot;hobby\\&quot;,\\&quot;key\\&quot;&quot;;\r\nString pattern = &quot;\\&quot;(?!key\\&quot;)(.+?)\\&quot;&quot;;\r\nString result = str.replaceAll(pattern, &quot;$1&quot;);\r\n\r\nSystem.out.println(result);  // person,hobby,&quot;key&quot;\r\n```\r\n\r\n**[Try it online][2]**.\r\n\r\n\r\n  [1]: https://regex101.com/r/jnCojC/2\r\n  [2]: https://rextester.com/OEE57928\r\n\r\n","title":"Java regex, replace certain characters except if it matches a pattern","body":"<p>You may use the following pattern:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\&quot;(?!key\\&quot;)(.+?)\\&quot;\n</code></pre>\n<p>And replace with <code>$1</code></p>\n<p><strong>Details:</strong></p>\n<ul>\n<li><p><code>\\&quot;</code> - Match a double quotation mark character.</p>\n</li>\n<li><p><code>(?!key\\&quot;)</code> - Negative Lookahead (not followed by the word &quot;key&quot; and another double quotation mark).</p>\n</li>\n<li><p><code>(.+?)</code> - Match one or more characters (lazy) and capture them in group 1.</p>\n</li>\n<li><p><code>\\&quot;</code> - Match another double quotation mark character.</p>\n</li>\n<li><p><em>Substitution:</em> <code>$1</code> - back reference to whatever was matched in group 1.</p>\n</li>\n</ul>\n<p><strong><a href=\"https://regex101.com/r/jnCojC/2\" rel=\"nofollow noreferrer\">Regex demo</a></strong>.</p>\n<p>Here's a full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;\\&quot;person\\&quot;,\\&quot;hobby\\&quot;,\\&quot;key\\&quot;&quot;;\nString pattern = &quot;\\&quot;(?!key\\&quot;)(.+?)\\&quot;&quot;;\nString result = str.replaceAll(pattern, &quot;$1&quot;);\n\nSystem.out.println(result);  // person,hobby,&quot;key&quot;\n</code></pre>\n<p><strong><a href=\"https://rextester.com/OEE57928\" rel=\"nofollow noreferrer\">Try it online</a></strong>.</p>\n"}],"owner":{"account_id":21823305,"reputation":13,"user_id":16119204,"display_name":"Ziad-Mid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72121047,"answer_count":1,"score":1,"last_activity_date":1651715410,"creation_date":1651714041,"question_id":72121000,"body_markdown":"I have this string ``` &quot;person&quot;,&quot;hobby&quot;,&quot;key&quot; ``` and I want to remove ``` &quot; &quot; ``` for all words except for ```key```  so the output will be ``` person,hobby,&quot;key&quot; ``` \r\n\r\n\r\n``` \r\nString str = &quot;\\&quot;person\\&quot;,\\&quot;hobby\\&quot;,\\&quot;key\\&quot;&quot;;\r\nSystem.out.println(str+&quot;\\n&quot;);\r\n\r\nstr=str.replaceAll(&quot;/*regex*/&quot;,&quot;&quot;);\r\n\r\nSystem.out.println(str); //person,hobby,&quot;key&quot;\r\n``` ","title":"Java regex, replace certain characters except if it matches a pattern","body":"<p>I have this string <code>&quot;person&quot;,&quot;hobby&quot;,&quot;key&quot;</code> and I want to remove <code>&quot; &quot;</code> for all words except for <code>key</code>  so the output will be <code>person,hobby,&quot;key&quot;</code></p>\n<pre><code>String str = &quot;\\&quot;person\\&quot;,\\&quot;hobby\\&quot;,\\&quot;key\\&quot;&quot;;\nSystem.out.println(str+&quot;\\n&quot;);\n\nstr=str.replaceAll(&quot;/*regex*/&quot;,&quot;&quot;);\n\nSystem.out.println(str); //person,hobby,&quot;key&quot;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":5225768,"reputation":1139,"user_id":4177869,"accept_rate":50,"display_name":"Mohamed Sweelam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651715299,"creation_date":1649615261,"answer_id":71819438,"question_id":71819356,"body_markdown":"***The short answer is No, you don&#39;t have to use it.***\r\n\r\nThe long answer is &quot;it depends&quot;; if you want to do some validation on Kafka message, `@Payload` will help you with this; like the following from [spring doc][1]\r\n\r\n&gt; To configure the @KafkaListener to handle null payloads, you must use the @Payload annotation with required = false. If it is a tombstone message for a compacted log, you usually also need the key so that your application can determine which key was “deleted”. The following example shows such a configuration:\r\n\r\nI would prefer to use a normal String instead, this way you are away from some known parsing issues like [Poison Pill][2] by offloading the responsibility to the application side instead of the built-in way handled by Spring.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/#kafka-validation\r\n  [2]: https://www.confluent.io/blog/spring-kafka-can-your-kafka-consumers-handle-a-poison-pill/","title":"Do I have to use @Payload spring annotation to read Kafka message","body":"<p><em><strong>The short answer is No, you don't have to use it.</strong></em></p>\n<p>The long answer is &quot;it depends&quot;; if you want to do some validation on Kafka message, <code>@Payload</code> will help you with this; like the following from <a href=\"https://docs.spring.io/spring-kafka/reference/html/#kafka-validation\" rel=\"nofollow noreferrer\">spring doc</a></p>\n<blockquote>\n<p>To configure the @KafkaListener to handle null payloads, you must use the @Payload annotation with required = false. If it is a tombstone message for a compacted log, you usually also need the key so that your application can determine which key was “deleted”. The following example shows such a configuration:</p>\n</blockquote>\n<p>I would prefer to use a normal String instead, this way you are away from some known parsing issues like <a href=\"https://www.confluent.io/blog/spring-kafka-can-your-kafka-consumers-handle-a-poison-pill/\" rel=\"nofollow noreferrer\">Poison Pill</a> by offloading the responsibility to the application side instead of the built-in way handled by Spring.</p>\n"}],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71819438,"answer_count":1,"score":0,"last_activity_date":1651715299,"creation_date":1649614731,"question_id":71819356,"body_markdown":"Spring for Apache Kafka 2.8.4 under [https://docs.spring.io/spring-kafka/reference/html][1] shows some of the listener methods with ```@Payload``` annotation next to the message and some do not. For example:\r\n```java\r\n@KafkaListener(id = &quot;cat&quot;, topics = &quot;myTopic&quot;,\r\n          containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;)\r\npublic void listen(String data, Acknowledgment ack) {\r\n    ...\r\n    ack.acknowledge();\r\n}\r\n\r\n```\r\nand\r\n\r\n```java\r\n@KafkaListener(id = &quot;qux&quot;, topicPattern = &quot;myTopic1&quot;)\r\npublic void listen(@Payload String foo,\r\n        @Header(name = KafkaHeaders.RECEIVED_MESSAGE_KEY, required = false) Integer key,\r\n        @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\r\n        @Header(KafkaHeaders.RECEIVED_TOPIC) String topic,\r\n        @Header(KafkaHeaders.RECEIVED_TIMESTAMP) long ts\r\n        ) {\r\n    ...\r\n}\r\n```\r\nWhat approach is correct? I am testing both and see no diference.\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/\r\n  [2]: https://docs.spring.io/spring-kafka/reference/html/#consumer-record-metadata","title":"Do I have to use @Payload spring annotation to read Kafka message","body":"<p>Spring for Apache Kafka 2.8.4 under <a href=\"https://docs.spring.io/spring-kafka/reference/html/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html</a> shows some of the listener methods with <code>@Payload</code> annotation next to the message and some do not. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(id = &quot;cat&quot;, topics = &quot;myTopic&quot;,\n          containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;)\npublic void listen(String data, Acknowledgment ack) {\n    ...\n    ack.acknowledge();\n}\n\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(id = &quot;qux&quot;, topicPattern = &quot;myTopic1&quot;)\npublic void listen(@Payload String foo,\n        @Header(name = KafkaHeaders.RECEIVED_MESSAGE_KEY, required = false) Integer key,\n        @Header(KafkaHeaders.RECEIVED_PARTITION_ID) int partition,\n        @Header(KafkaHeaders.RECEIVED_TOPIC) String topic,\n        @Header(KafkaHeaders.RECEIVED_TIMESTAMP) long ts\n        ) {\n    ...\n}\n</code></pre>\n<p>What approach is correct? I am testing both and see no diference.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1651587788,"post_id":72100626,"comment_id":127395448,"body_markdown":"I think you should make sure that the JDK version matches the JavaFX version. Your code runs fine for me on Windows 10 with Oracle JDK 18.0.1 and OpenJFX 18.0.1 (all three are 64 bit). Note that there are JDKs that include JavaFX such as [Azul Zulu](https://www.azul.com/downloads/?package=jdk)","body":"I think you should make sure that the JDK version matches the JavaFX version. Your code runs fine for me on Windows 10 with Oracle JDK 18.0.1 and OpenJFX 18.0.1 (all three are 64 bit). Note that there are JDKs that include JavaFX such as <a href=\"https://www.azul.com/downloads/?package=jdk\" rel=\"nofollow noreferrer\">Azul Zulu</a>"},{"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"score":0,"creation_date":1651588134,"post_id":72100626,"comment_id":127395574,"body_markdown":"Hey @Abra, i edited the Question and added the full java -version command output. Could you tell me if that ZULU Version includes JavaFX. And if yes, what are the next steps then?","body":"Hey @Abra, i edited the Question and added the full java -version command output. Could you tell me if that ZULU Version includes JavaFX. And if yes, what are the next steps then?"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":3,"creation_date":1651593307,"post_id":72100626,"comment_id":127397762,"body_markdown":"Javafx 18 requires java 11+ https://github.com/openjdk/jfx/blob/jfx18/doc-files/release-notes-18.md","body":"Javafx 18 requires java 11+ <a href=\"https://github.com/openjdk/jfx/blob/jfx18/doc-files/release-notes-18.md\" rel=\"nofollow noreferrer\">github.com/openjdk/jfx/blob/jfx18/doc-files/release-notes-18&zwnj;&#8203;.md</a>"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1651593608,"post_id":72100626,"comment_id":127397889,"body_markdown":"Besides if you use jdk8 you don&#39;t need any `jpms` manipulations like `module-info` and vm-args with module path","body":"Besides if you use jdk8 you don&#39;t need any <code>jpms</code> manipulations like <code>module-info</code> and vm-args with module path"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1651610756,"post_id":72100626,"comment_id":127403710,"body_markdown":"The Zulu builds with JavaFX are recent ones (e.g. 18.0.1) and in the download, you must choose `JDK FX`, not `JDK`, for the &quot;Java Package&quot; as Zulu calls it.  The prepackaged system is an alternative to depending on JavaFX via downloaded mods, JavaFX SDK or build system (maven/gradle) JavaFX dependencies. It does not require specific module settings for the VM runtime and compilation steps.  It is a reasonable option for getting started quickly for a project you develop on your own. For a shared project, it is probably better to have JavaFX dependent modules in a maven or gradle build.","body":"The Zulu builds with JavaFX are recent ones (e.g. 18.0.1) and in the download, you must choose <code>JDK FX</code>, not <code>JDK</code>, for the &quot;Java Package&quot; as Zulu calls it.  The prepackaged system is an alternative to depending on JavaFX via downloaded mods, JavaFX SDK or build system (maven/gradle) JavaFX dependencies. It does not require specific module settings for the VM runtime and compilation steps.  It is a reasonable option for getting started quickly for a project you develop on your own. For a shared project, it is probably better to have JavaFX dependent modules in a maven or gradle build."},{"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"score":0,"creation_date":1651645920,"post_id":72100626,"comment_id":127409549,"body_markdown":"@Alex are you sure? The module-info gave me new Errors so i agree with that. But after i added the vm-args it fixed a Error i hat before.","body":"@Alex are you sure? The module-info gave me new Errors so i agree with that. But after i added the vm-args it fixed a Error i hat before."},{"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"score":0,"creation_date":1651645951,"post_id":72100626,"comment_id":127409554,"body_markdown":"@trashgod what Text do you need?","body":"@trashgod what Text do you need?"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":2,"creation_date":1651646520,"post_id":72100626,"comment_id":127409699,"body_markdown":"Lets start with that you are trying to use incompatible libs. As mentioned before - javafx 18 requires java 11+. It won&#39;t work with java 8 at all","body":"Lets start with that you are trying to use incompatible libs. As mentioned before - javafx 18 requires java 11+. It won&#39;t work with java 8 at all"},{"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"score":0,"creation_date":1651646832,"post_id":72100626,"comment_id":127409795,"body_markdown":"@Alex the thing is that this Pc is one of my Company, so the Java Version is pre installed and normaly not changable cause of restrictions. So my Question is, which Version of JavaFX do i need to make it work with Java 8, and would i loose access to much features cause of that downgrade?","body":"@Alex the thing is that this Pc is one of my Company, so the Java Version is pre installed and normaly not changable cause of restrictions. So my Question is, which Version of JavaFX do i need to make it work with Java 8, and would i loose access to much features cause of that downgrade?"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1651647821,"post_id":72100626,"comment_id":127410066,"body_markdown":"You can use openjfx 11 https://gluonhq.com/products/javafx/ for java 8","body":"You can use openjfx 11 <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">gluonhq.com/products/javafx</a> for java 8"},{"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"score":0,"creation_date":1651651325,"post_id":72100626,"comment_id":127411184,"body_markdown":"@Alex i tried it out with JavaFX 11, 11.0.1 and 11.0.2. None of them Changed anything. Still the same Error. So what to do now?","body":"@Alex i tried it out with JavaFX 11, 11.0.1 and 11.0.2. None of them Changed anything. Still the same Error. So what to do now?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1651657060,"post_id":72100626,"comment_id":127413211,"body_markdown":"then you have to go the other way round and use javafx8 - there is no way to mix","body":"then you have to go the other way round and use javafx8 - there is no way to mix"},{"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"score":0,"creation_date":1651657200,"post_id":72100626,"comment_id":127413248,"body_markdown":"@kleopatra so i cant use (like Alex mentioned above) Fx 11 for Java 8? It is needed that both are in the exact same Version? (Like: Java 8 and Fx 8)","body":"@kleopatra so i cant use (like Alex mentioned above) Fx 11 for Java 8? It is needed that both are in the exact same Version? (Like: Java 8 and Fx 8)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1651657301,"post_id":72100626,"comment_id":127413286,"body_markdown":"in your case, yes (all versions javafx &gt;= 11 can be run with jdk11)","body":"in your case, yes (all versions javafx &gt;= 11 can be run with jdk11)"},{"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"score":0,"creation_date":1651657551,"post_id":72100626,"comment_id":127413371,"body_markdown":"@kleopatra so where i Find JavaFx 8? At the official JavaFx Website (openjfx.io) I only find JavaFx 11-18 but no Version under 11.","body":"@kleopatra so where i Find JavaFx 8? At the official JavaFx Website (openjfx.io) I only find JavaFx 11-18 but no Version under 11."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1651657998,"post_id":72100626,"comment_id":127413518,"body_markdown":"JavaFX 8 is in Oracle JDK 8, which you don&#39;t have, you have Zulu 8 which (apparently) doesn&#39;t include JavaFX.  There is no download or install to add JavaFX to Zulu 8.  You could find an old OpenJFX source branch and try to [build a binary version that would run with Zulu 8](https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX), but I definitely would not at all recommend that . . . don&#39;t even try.","body":"JavaFX 8 is in Oracle JDK 8, which you don&#39;t have, you have Zulu 8 which (apparently) doesn&#39;t include JavaFX.  There is no download or install to add JavaFX to Zulu 8.  You could find an old OpenJFX source branch and try to <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\" rel=\"nofollow noreferrer\">build a binary version that would run with Zulu 8</a>, but I definitely would not at all recommend that . . . don&#39;t even try."}],"owner":{"account_id":22264126,"reputation":148,"user_id":16495165,"display_name":"SenpaiDev"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1197,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1651714480,"creation_date":1651586586,"question_id":72100626,"body_markdown":"Beginning Info:\r\n- JavaFX 18.0.1 (x64 sdk)\r\n- Opdenjdk 1.8.0_322\r\n- Operating System: Windows\r\n- Using Visual Studio Code\r\n\r\nI&#39;m creating my first JavaFX Project right now. And i&#39;m facing an error\r\n\r\n&gt; Graphics Device initialization failed for :  d3d, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\n\r\nfor a few hours now. I read most other SO posts about that problem and tried various solutions including:\r\n\r\n1. Reinstalling the JavaFX jdk\r\n\r\n2. Tryout to install JavaFX jmods instead of JDK\r\n\r\n3. Make sure that it is the x64 instead of x86 and for the right operating system\r\n\r\n4. Creating a module-info.java which gave me a new error\r\n\r\n        javafx.graphics cannot be resolved to a module\r\n \r\nThat should not be there because I added all libraries in the correct way for `VisualStudio` (I think so). This error is gone with removing the `module-info.java`.\r\n\r\n[![Modules][1]][1]\r\n\r\n 5. Adding a line ```launch.json``` (Was to solve a other problem though)\r\n\r\n```\r\n&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-18.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n```\r\n\r\nAnd some other, which I forgot what it was.\r\n\r\nBut nothing of the things mentioned above helped. Someone got ideas?\r\n\r\n**--UPDATE--**\r\n\r\nI may know now what the Problem is. But not how to solve it.\r\n\r\nIf i change the Referenced Libraries from JavaFX 18.0.1 to any other Version, the Error keeps saying that the problems come from 18.0.1 Files. Even if those were removed from the Project. I tried to create a new Project and only Reference JavaFX 11, but the Error still talks about Errors in FX 18.0.1 Files, even if those arent even added to that Project in any way.\r\n\r\n[![Wrong Version of FX][2]][2]\r\n\r\nCould that be the Problem? If yes, how can I fix it?\r\n\r\nApp.java\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n \r\npublic class App extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button btn = new Button();\r\n        btn.setText(&quot;Say &#39;Hello World&#39;&quot;);\r\n        \r\n        StackPane root = new StackPane();\r\n        root.getChildren().add(btn);\r\n  \r\n  Scene scene = new Scene(root, 300, 250);\r\n  \r\n  primaryStage.setTitle(&quot;Hello World!&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n \r\n public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nmodule-info.java\r\n```\r\nmodule FirstJavaFXProject_bacc5c93 {\r\n\r\n    requires javafx.graphics;\r\n    requires javafx.controls;\r\n    requires javafx.media;\r\n    requires javafx.base;\r\n    requires javafx.web;\r\n    requires javafx.swing;\r\n    requires javafx.fxml;\r\n\r\n    opens App;\r\n}\r\n```\r\nlaunch.json\r\n```\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;Java&quot;,\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;stopOnEntry&quot;: true,\r\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\r\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\r\n            &quot;classpath&quot;: [\r\n                &quot;.&quot;,\r\n                &quot;${fileDirname}&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Java Console App&quot;,\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;stopOnEntry&quot;: true,\r\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\r\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\r\n            &quot;classpath&quot;: [\r\n                &quot;.&quot;,\r\n                &quot;${fileDirname}&quot;\r\n            ],\r\n            &quot;externalConsole&quot;: true\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;App&quot;,\r\n            &quot;projectName&quot;: &quot;FirstJavaFXProject_bacc5c93&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-18.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n    $ java -version\r\n    openidk version &quot;1.8.0 322&quot;\r\n    OpenJDK Runtime Environment (Zulu 8.60.0.21-CA-win64) (build 1.8.0 322-b06)\r\n    OpenJDK 64-Bit Server VM (Zulu 8.60.0.21-CA-win64) (build 25.322-b06, mixed\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jh7fC.png\r\n  [2]: https://i.stack.imgur.com/tdP6z.jpg","title":"JavaFX QuantumRenderer initializing Error","body":"<p>Beginning Info:</p>\n<ul>\n<li>JavaFX 18.0.1 (x64 sdk)</li>\n<li>Opdenjdk 1.8.0_322</li>\n<li>Operating System: Windows</li>\n<li>Using Visual Studio Code</li>\n</ul>\n<p>I'm creating my first JavaFX Project right now. And i'm facing an error</p>\n<blockquote>\n<p>Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found</p>\n</blockquote>\n<p>for a few hours now. I read most other SO posts about that problem and tried various solutions including:</p>\n<ol>\n<li><p>Reinstalling the JavaFX jdk</p>\n</li>\n<li><p>Tryout to install JavaFX jmods instead of JDK</p>\n</li>\n<li><p>Make sure that it is the x64 instead of x86 and for the right operating system</p>\n</li>\n<li><p>Creating a module-info.java which gave me a new error</p>\n<pre><code> javafx.graphics cannot be resolved to a module\n</code></pre>\n</li>\n</ol>\n<p>That should not be there because I added all libraries in the correct way for <code>VisualStudio</code> (I think so). This error is gone with removing the <code>module-info.java</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/jh7fC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jh7fC.png\" alt=\"Modules\" /></a></p>\n<ol start=\"5\">\n<li>Adding a line <code>launch.json</code> (Was to solve a other problem though)</li>\n</ol>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-18.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n</code></pre>\n<p>And some other, which I forgot what it was.</p>\n<p>But nothing of the things mentioned above helped. Someone got ideas?</p>\n<p><strong>--UPDATE--</strong></p>\n<p>I may know now what the Problem is. But not how to solve it.</p>\n<p>If i change the Referenced Libraries from JavaFX 18.0.1 to any other Version, the Error keeps saying that the problems come from 18.0.1 Files. Even if those were removed from the Project. I tried to create a new Project and only Reference JavaFX 11, but the Error still talks about Errors in FX 18.0.1 Files, even if those arent even added to that Project in any way.</p>\n<p><a href=\"https://i.stack.imgur.com/tdP6z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdP6z.jpg\" alt=\"Wrong Version of FX\" /></a></p>\n<p>Could that be the Problem? If yes, how can I fix it?</p>\n<p>App.java</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n \npublic class App extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        Button btn = new Button();\n        btn.setText(&quot;Say 'Hello World'&quot;);\n        \n        StackPane root = new StackPane();\n        root.getChildren().add(btn);\n  \n  Scene scene = new Scene(root, 300, 250);\n  \n  primaryStage.setTitle(&quot;Hello World!&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n \n public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>module-info.java</p>\n<pre><code>module FirstJavaFXProject_bacc5c93 {\n\n    requires javafx.graphics;\n    requires javafx.controls;\n    requires javafx.media;\n    requires javafx.base;\n    requires javafx.web;\n    requires javafx.swing;\n    requires javafx.fxml;\n\n    opens App;\n}\n</code></pre>\n<p>launch.json</p>\n<pre><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;name&quot;: &quot;Java&quot;,\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;stopOnEntry&quot;: true,\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\n            &quot;classpath&quot;: [\n                &quot;.&quot;,\n                &quot;${fileDirname}&quot;\n            ]\n        },\n        {\n            &quot;name&quot;: &quot;Java Console App&quot;,\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;stopOnEntry&quot;: true,\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\n            &quot;classpath&quot;: [\n                &quot;.&quot;,\n                &quot;${fileDirname}&quot;\n            ],\n            &quot;externalConsole&quot;: true\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;App&quot;,\n            &quot;projectName&quot;: &quot;FirstJavaFXProject_bacc5c93&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Java/javafx-sdk-18.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n        }\n    ]\n}\n</code></pre>\n<pre><code>$ java -version\nopenidk version &quot;1.8.0 322&quot;\nOpenJDK Runtime Environment (Zulu 8.60.0.21-CA-win64) (build 1.8.0 322-b06)\nOpenJDK 64-Bit Server VM (Zulu 8.60.0.21-CA-win64) (build 25.322-b06, mixed\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1459471459,"post_id":36346133,"comment_id":60313803,"body_markdown":"What is the difference between the user pressing [Enter] while editing the field and the user selecting an item from the drop down?","body":"What is the difference between the user pressing [Enter] while editing the field and the user selecting an item from the drop down?"},{"owner":{"account_id":6102522,"reputation":53,"user_id":6121005,"display_name":"Kilgore"},"score":0,"creation_date":1459472246,"post_id":36346133,"comment_id":60313995,"body_markdown":"@MadProgrammer The user might want to enter something in other search fields by tabbing to these before the search should be carried out. It comes natural for most people to hit [Enter] when selecting an option with the arrow keys (although you could press [Tab]). The application isn&#39;t meant for using the mouse.","body":"@MadProgrammer The user might want to enter something in other search fields by tabbing to these before the search should be carried out. It comes natural for most people to hit [Enter] when selecting an option with the arrow keys (although you could press [Tab]). The application isn&#39;t meant for using the mouse."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651714263,"creation_date":1459473814,"answer_id":36346513,"question_id":36346133,"body_markdown":"Okay, this is a little heavy handed, but what this does is replaces the `KeyEvent.VK_ENTER` `Action` with our own `Action`\r\n\r\nSo basically, when the user presses the &lt;kbd&gt;Enter&lt;/kbd&gt; key, our `Action` is notified, but the combo box is not (so the `JComboBox` won&#39;t trigger an `ActionEvent` for it - but will for selection changes) \r\n\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.ComboBoxEditor;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                final JComboBox&lt;String&gt; cb = new JComboBox&lt;&gt;(new String[]{&quot;Apples&quot;, &quot;Bananas&quot;, &quot;Pears&quot;});\r\n                cb.setEditable(true);\r\n                SimpleComboBoxEditor editor = new SimpleComboBoxEditor();\r\n                InputMap im = editor.getInputMap();\r\n                ActionMap am = editor.getActionMap();\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0), &quot;enter&quot;);\r\n                am.put(&quot;enter&quot;, new AbstractAction() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (!cb.isPopupVisible()) {\r\n                            System.out.println(&quot;Editor did action&quot;);\r\n                        }\r\n                        cb.hidePopup();\r\n                    }\r\n                });\r\n                cb.setEditor(editor);\r\n                cb.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;Combobox did action&quot;);\r\n                    }\r\n                });\r\n                add(cb);\r\n            }\r\n\r\n            public class SimpleComboBoxEditor extends JTextField implements ComboBoxEditor {\r\n\r\n                @Override\r\n                public Component getEditorComponent() {\r\n                    return this;\r\n                }\r\n\r\n                @Override\r\n                public void setItem(Object anObject) {\r\n                    if (anObject != null) {\r\n                        setText(anObject.toString());\r\n                    } else {\r\n                        setText(null);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public Object getItem() {\r\n                    return getText();\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n&gt; Thanks for the effort! It doesn&#39;t really work as I want it to though. It still fires the event with &quot;comboBoxEdited&quot; when [Enter] is pressed to choose the highlighted item instead of just closing the drop down leaving the chosen text in the editor. It should only fire the event when the drop down is closed and the user presses [Enter]. So [Enter] to choose an item, [Enter] again to fire the action.\r\n\r\nSo, I finally got to run the code on a Windows machine and basically, in the `Action` for the key binding, I made a check for `isPopupVisible`, when it&#39;s not, it will print the &quot;editor did action&quot; event, otherwise it does nothing","title":"Editable JComboBox: Determining whether enter is pressed while ignoring it in drop down selection?","body":"<p>Okay, this is a little heavy handed, but what this does is replaces the <code>KeyEvent.VK_ENTER</code> <code>Action</code> with our own <code>Action</code></p>\n<p>So basically, when the user presses the <kbd>Enter</kbd> key, our <code>Action</code> is notified, but the combo box is not (so the <code>JComboBox</code> won't trigger an <code>ActionEvent</code> for it - but will for selection changes)</p>\n<pre><code>import java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.ComboBoxEditor;\nimport javax.swing.InputMap;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            final JComboBox&lt;String&gt; cb = new JComboBox&lt;&gt;(new String[]{&quot;Apples&quot;, &quot;Bananas&quot;, &quot;Pears&quot;});\n            cb.setEditable(true);\n            SimpleComboBoxEditor editor = new SimpleComboBoxEditor();\n            InputMap im = editor.getInputMap();\n            ActionMap am = editor.getActionMap();\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0), &quot;enter&quot;);\n            am.put(&quot;enter&quot;, new AbstractAction() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (!cb.isPopupVisible()) {\n                        System.out.println(&quot;Editor did action&quot;);\n                    }\n                    cb.hidePopup();\n                }\n            });\n            cb.setEditor(editor);\n            cb.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;Combobox did action&quot;);\n                }\n            });\n            add(cb);\n        }\n\n        public class SimpleComboBoxEditor extends JTextField implements ComboBoxEditor {\n\n            @Override\n            public Component getEditorComponent() {\n                return this;\n            }\n\n            @Override\n            public void setItem(Object anObject) {\n                if (anObject != null) {\n                    setText(anObject.toString());\n                } else {\n                    setText(null);\n                }\n            }\n\n            @Override\n            public Object getItem() {\n                return getText();\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Thanks for the effort! It doesn't really work as I want it to though. It still fires the event with &quot;comboBoxEdited&quot; when [Enter] is pressed to choose the highlighted item instead of just closing the drop down leaving the chosen text in the editor. It should only fire the event when the drop down is closed and the user presses [Enter]. So [Enter] to choose an item, [Enter] again to fire the action.</p>\n</blockquote>\n<p>So, I finally got to run the code on a Windows machine and basically, in the <code>Action</code> for the key binding, I made a check for <code>isPopupVisible</code>, when it's not, it will print the &quot;editor did action&quot; event, otherwise it does nothing</p>\n"},{"tags":[],"owner":{"account_id":6102522,"reputation":53,"user_id":6121005,"display_name":"Kilgore"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1459479896,"creation_date":1459479896,"answer_id":36347312,"question_id":36346133,"body_markdown":"There is actually a rather simple and elegant solution:\r\n\r\n    combo.getEditor().getEditorComponent().addKeyListener(new KeyAdapter() {\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            if (e.getKeyCode()==KeyEvent.VK_ENTER &amp;&amp; !combo.isPopupVisible()) {\r\n                System.out.println(&quot;SEARCH!&quot;);\r\n            }\r\n        }\r\n    });\r\n\r\nNote that the `KeyListener` won&#39;t work if added to the `JComboBox` directly, but has to be added to its `EditorComponent`.","title":"Editable JComboBox: Determining whether enter is pressed while ignoring it in drop down selection?","body":"<p>There is actually a rather simple and elegant solution:</p>\n\n<pre><code>combo.getEditor().getEditorComponent().addKeyListener(new KeyAdapter() {\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode()==KeyEvent.VK_ENTER &amp;&amp; !combo.isPopupVisible()) {\n            System.out.println(\"SEARCH!\");\n        }\n    }\n});\n</code></pre>\n\n<p>Note that the <code>KeyListener</code> won't work if added to the <code>JComboBox</code> directly, but has to be added to its <code>EditorComponent</code>.</p>\n"}],"owner":{"account_id":6102522,"reputation":53,"user_id":6121005,"display_name":"Kilgore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":965,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36346513,"answer_count":2,"score":0,"last_activity_date":1651714263,"creation_date":1459470953,"question_id":36346133,"body_markdown":"I have a panel with a couple of text fields and an editable `JComboBox` used to perform a search. I want all of these to act as if I press the search button underneath when I press the enter key. This works fine for a `JTextField` with an `ActionListener`. However, I only want the `JComboBox` to start the search when enter is pressed and the drop down list isn&#39;t shown. I.e. if the user presses enter to select an option in the drop down nothing should happen.\r\n\r\nHow would I go about achieving this behaviour?\r\n\r\nI tried checking `getActionCommand()` and it either shows `&quot;comboBoxEdited&quot;` or `&quot;comboBoxChanged&quot;` when the event is fired. `&quot;comboBoxEdited&quot;` is fired when enter is pressed after selecting an option as well as when pressing enter in the editable field. `&quot;comboBoxChanged&quot;` is fired when moving between options, as well as just before `&quot;comboBoxEdited&quot;` when enter is pressed after editing the text.\r\n\r\nI tried an ugly hack where I store the previous `ActionCommand`, but it isn&#39;t perfect as the user will have to press enter twice after entering text manually.\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getActionCommand().equals(&quot;comboBoxEdited&quot;) &amp;&amp;\r\n            !combohack.equals(&quot;comboBoxChanged&quot;)) {\r\n\r\n            combohack=&quot;&quot;;\r\n            //PERFORM SEARCH!\r\n        }\r\n        combohack=e.getActionCommand();\r\n    }\r\n\r\nI furthermore tried to make my hack even uglier by adding a `KeyListener` as well to reset the string when actual letters where pressed, but that didn&#39;t help.\r\n\r\nAny ideas?","title":"Editable JComboBox: Determining whether enter is pressed while ignoring it in drop down selection?","body":"<p>I have a panel with a couple of text fields and an editable <code>JComboBox</code> used to perform a search. I want all of these to act as if I press the search button underneath when I press the enter key. This works fine for a <code>JTextField</code> with an <code>ActionListener</code>. However, I only want the <code>JComboBox</code> to start the search when enter is pressed and the drop down list isn't shown. I.e. if the user presses enter to select an option in the drop down nothing should happen.</p>\n\n<p>How would I go about achieving this behaviour?</p>\n\n<p>I tried checking <code>getActionCommand()</code> and it either shows <code>\"comboBoxEdited\"</code> or <code>\"comboBoxChanged\"</code> when the event is fired. <code>\"comboBoxEdited\"</code> is fired when enter is pressed after selecting an option as well as when pressing enter in the editable field. <code>\"comboBoxChanged\"</code> is fired when moving between options, as well as just before <code>\"comboBoxEdited\"</code> when enter is pressed after editing the text.</p>\n\n<p>I tried an ugly hack where I store the previous <code>ActionCommand</code>, but it isn't perfect as the user will have to press enter twice after entering text manually.</p>\n\n<pre><code>public void actionPerformed(ActionEvent e) {\n    if (e.getActionCommand().equals(\"comboBoxEdited\") &amp;&amp;\n        !combohack.equals(\"comboBoxChanged\")) {\n\n        combohack=\"\";\n        //PERFORM SEARCH!\n    }\n    combohack=e.getActionCommand();\n}\n</code></pre>\n\n<p>I furthermore tried to make my hack even uglier by adding a <code>KeyListener</code> as well to reset the string when actual letters where pressed, but that didn't help.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","php","url"],"answers":[{"tags":[],"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494235885,"creation_date":1494235885,"answer_id":43844212,"question_id":43843928,"body_markdown":"Check the HTTP proxy if you are running the code in your organization. Browser might already have the proxy.\r\n\r\nYou can use the System properties to provide proxy host and port. (There are other ways to do that as well)\r\n\r\n    -Dhttp.proxyHost=yourProxyHost -Dhttp.proxyPort=yourProxyPort -Dhttps.proxyHost=yourProxyHost -Dhttps.proxyPort=yourProxyPort","title":"java URL working on browser but not in client program","body":"<p>Check the HTTP proxy if you are running the code in your organization. Browser might already have the proxy.</p>\n\n<p>You can use the System properties to provide proxy host and port. (There are other ways to do that as well)</p>\n\n<pre><code>-Dhttp.proxyHost=yourProxyHost -Dhttp.proxyPort=yourProxyPort -Dhttps.proxyHost=yourProxyHost -Dhttps.proxyPort=yourProxyPort\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494238600,"creation_date":1494238600,"answer_id":43845093,"question_id":43843928,"body_markdown":"The Java code &quot;connects&quot; to the URL but does not attempt to read the content, or even check the status code.\r\n\r\nIf all you are trying to do is to connect, then the code works.  If not ... will you need to add code to do the rest of ... whatever it is that you are trying to do.\r\n\r\nThere are numerous examples on the web of reading from a URL in Java.  For example:\r\n\r\n  - https://stackoverflow.com/questions/4328711/read-url-to-string-in-few-lines-of-java-code\r\n","title":"java URL working on browser but not in client program","body":"<p>The Java code \"connects\" to the URL but does not attempt to read the content, or even check the status code.</p>\n\n<p>If all you are trying to do is to connect, then the code works.  If not ... will you need to add code to do the rest of ... whatever it is that you are trying to do.</p>\n\n<p>There are numerous examples on the web of reading from a URL in Java.  For example:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4328711/read-url-to-string-in-few-lines-of-java-code\">Read url to string in few lines of java code</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651713820,"creation_date":1651713820,"answer_id":72120984,"question_id":43843928,"body_markdown":"Spent several hours trying to solve the problem, and it turns out that I had to change the **&quot;User-Agent&quot;** header sent from Request. For instance,\r\n\r\n```\r\nHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(&quot;https://example.com&quot;))\r\n\t\t\t\t.headers(&quot;User-Agent&quot;,&quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36&quot;)\t\t\r\n\t\t\t\t.POST(HttpRequest.BodyPublishers.noBody())\r\n\t\t\t\t.build();\r\n```\r\n\r\n","title":"java URL working on browser but not in client program","body":"<p>Spent several hours trying to solve the problem, and it turns out that I had to change the <strong>&quot;User-Agent&quot;</strong> header sent from Request. For instance,</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://example.com&quot;))\n                .headers(&quot;User-Agent&quot;,&quot;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36&quot;)      \n                .POST(HttpRequest.BodyPublishers.noBody())\n                .build();\n</code></pre>\n"}],"owner":{"account_id":5262133,"reputation":134,"user_id":4203367,"accept_rate":0,"display_name":"Shahrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651713820,"creation_date":1494235008,"question_id":43843928,"body_markdown":"Client JAVA Program part :\r\n\r\n        try\r\n                                {\r\n                                                                \r\n                                 String downloadUrl1=&quot;https://www......&amp;downloaded=1&quot;;\r\n                                 url = new URL(downloadUrl1);\r\n                                 URLConnection myURLConnection = url.openConnection();\r\n                                 myURLConnection.connect();\r\n                                 updateMsg.setText(&quot;Success&quot;);\r\n                                 logger.debug(downloadUrl1);\r\n                                }\r\n                                catch (MalformedURLException e) {                              \r\n                                    // new URL() failed\r\n                                    logger.debug(e);\r\n                                } \r\n                                catch (IOException e) {   \r\n                                    // openConnection() failed\r\n                                    logger.debug(e);\r\n                                }\r\n\r\nThe Success Message is shown , the url is also printed in log file , no Exception is thrown .\r\n\r\nServer side Program Part :\r\n\r\n    $downloaded_status_by_clnt = Sanitize::escape ( $_GET [&#39;downloaded&#39;] );\r\n    \r\n     if($downloaded_status_by_clnt==&#39;1&#39;)\r\n     {\r\n         // Do some update                             \r\n     }\r\n     else\r\n     {\r\n        // Some file reading code\r\n     }\r\n    \r\n     exit(0);\r\n\r\nThe update is working when I paste the URL in browser , but not working through program.\r\n\r\nCan Anyone please suggest a solution ? \t\t\t\t\r\n\r\n","title":"java URL working on browser but not in client program","body":"<p>Client JAVA Program part :</p>\n\n<pre><code>    try\n                            {\n\n                             String downloadUrl1=\"https://www......&amp;downloaded=1\";\n                             url = new URL(downloadUrl1);\n                             URLConnection myURLConnection = url.openConnection();\n                             myURLConnection.connect();\n                             updateMsg.setText(\"Success\");\n                             logger.debug(downloadUrl1);\n                            }\n                            catch (MalformedURLException e) {                              \n                                // new URL() failed\n                                logger.debug(e);\n                            } \n                            catch (IOException e) {   \n                                // openConnection() failed\n                                logger.debug(e);\n                            }\n</code></pre>\n\n<p>The Success Message is shown , the url is also printed in log file , no Exception is thrown .</p>\n\n<p>Server side Program Part :</p>\n\n<pre><code>$downloaded_status_by_clnt = Sanitize::escape ( $_GET ['downloaded'] );\n\n if($downloaded_status_by_clnt=='1')\n {\n     // Do some update                             \n }\n else\n {\n    // Some file reading code\n }\n\n exit(0);\n</code></pre>\n\n<p>The update is working when I paste the URL in browser , but not working through program.</p>\n\n<p>Can Anyone please suggest a solution ?              </p>\n"},{"tags":["java","spring-boot","cloud-foundry"],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651713248,"creation_date":1651713248,"answer_id":72120950,"question_id":72119307,"body_markdown":"When you `cf push` an application, the cli will upload all files under the specified path. By default, the path is the current directory. You can set a custom path with `--path` or `-p`.\r\n\r\nThe `--path` and `-p` argument may also point to zip files or jar files, for Java apps. In that case, the contents of the archive are uploaded.\r\n\r\nThe only exceptions:\r\n\r\n1. Files [listed here](https://docs.cloudfoundry.org/devguide/deploy-apps/prepare-to-deploy.html#exclude).\r\n\r\n    - `.cfignore`\r\n    - `_darcs`\r\n    - `.DS_Store`\r\n    - `.git`\r\n    - `.gitignore`\r\n    - `.hg`\r\n    - `manifest.yml`\r\n    - `.svn`\r\n\r\n2. If you have a `.cfignore` file (same syntax as `.gitignore`), anything matched is not uploaded.\r\n\r\nTo troubleshoot issues:\r\n\r\n1. Check your path. Make sure it&#39;s correct and includes your files.\r\n2. Make sure the files are not being ignored.\r\n3. Run `cf ssh` to your app and check if the files exist.\r\n4. Ensure you&#39;re using the correct path to files in the container, use `$HOME` or `/home/vcap/app` which are the root for your application files.","title":"How to upload resources files with app to cloud foundry","body":"<p>When you <code>cf push</code> an application, the cli will upload all files under the specified path. By default, the path is the current directory. You can set a custom path with <code>--path</code> or <code>-p</code>.</p>\n<p>The <code>--path</code> and <code>-p</code> argument may also point to zip files or jar files, for Java apps. In that case, the contents of the archive are uploaded.</p>\n<p>The only exceptions:</p>\n<ol>\n<li><p>Files <a href=\"https://docs.cloudfoundry.org/devguide/deploy-apps/prepare-to-deploy.html#exclude\" rel=\"nofollow noreferrer\">listed here</a>.</p>\n<ul>\n<li><code>.cfignore</code></li>\n<li><code>_darcs</code></li>\n<li><code>.DS_Store</code></li>\n<li><code>.git</code></li>\n<li><code>.gitignore</code></li>\n<li><code>.hg</code></li>\n<li><code>manifest.yml</code></li>\n<li><code>.svn</code></li>\n</ul>\n</li>\n<li><p>If you have a <code>.cfignore</code> file (same syntax as <code>.gitignore</code>), anything matched is not uploaded.</p>\n</li>\n</ol>\n<p>To troubleshoot issues:</p>\n<ol>\n<li>Check your path. Make sure it's correct and includes your files.</li>\n<li>Make sure the files are not being ignored.</li>\n<li>Run <code>cf ssh</code> to your app and check if the files exist.</li>\n<li>Ensure you're using the correct path to files in the container, use <code>$HOME</code> or <code>/home/vcap/app</code> which are the root for your application files.</li>\n</ol>\n"}],"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651713248,"creation_date":1651697254,"question_id":72119307,"body_markdown":"My project needs to read several files as resource (krb5.conf, truststore, keytab). they are in project directory. e.g. C:\\Users\\WorkSpace\\MyProject\\krb5.conf.\r\n\r\nHowever, when I upload my project to cloud foundry, the app cannot find my resource files when running.\r\n\r\nThis is my first time deploy app on cloud foundry. Is there anyway to upload resources files like text file, image jpg to cloud foundry with project? so app can read those files when running on cloud foundry","title":"How to upload resources files with app to cloud foundry","body":"<p>My project needs to read several files as resource (krb5.conf, truststore, keytab). they are in project directory. e.g. C:\\Users\\WorkSpace\\MyProject\\krb5.conf.</p>\n<p>However, when I upload my project to cloud foundry, the app cannot find my resource files when running.</p>\n<p>This is my first time deploy app on cloud foundry. Is there anyway to upload resources files like text file, image jpg to cloud foundry with project? so app can read those files when running on cloud foundry</p>\n"},{"tags":["java","graphics","paint","paintcomponent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1651655459,"post_id":72109125,"comment_id":127412631,"body_markdown":"Keep the data in some kind of model which allows for multiple plots, repaint the each plot on each paint pass. Paint the plots to a `BufferedImage` and paint the image","body":"Keep the data in some kind of model which allows for multiple plots, repaint the each plot on each paint pass. Paint the plots to a <code>BufferedImage</code> and paint the image"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1651672177,"post_id":72109125,"comment_id":127418700,"body_markdown":"See [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for the two common ways to do this.","body":"See <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for the two common ways to do this."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651713195,"creation_date":1651703604,"answer_id":72120129,"question_id":72109125,"body_markdown":"There are a number of ways you might do this, one way would be to seperate each series into its own model, then have the panel paint each model, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        private Color[] masterColors = new Color[]{\r\n            Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY,\r\n            Color.GREEN, Color.MAGENTA, Color.ORANGE, Color.PINK,\r\n            Color.RED, Color.WHITE, Color.YELLOW\r\n        };\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    TestDrawSinus sinusPane = new TestDrawSinus();\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(sinusPane);\r\n\r\n                    JButton button1 = new JButton();\r\n                    button1.setText(&quot;plot&quot;);\r\n                    frame.add(button1, BorderLayout.SOUTH);\r\n\r\n                    button1.addActionListener(new ActionListener() {\r\n                        private List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\r\n                        private int freq = 0;\r\n\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            sinusPane.addSinusPlot(generateSinus(++freq, nextColor()));\r\n                            sinusPane.addSinusPlot(generateSinus(++freq, nextColor()));\r\n                            sinusPane.addSinusPlot(generateSinus(++freq, nextColor()));\r\n                        }\r\n\r\n                        protected Color nextColor() {\r\n                            if (colors.isEmpty()) {\r\n                                colors.addAll(Arrays.asList(masterColors));\r\n                                Collections.shuffle(colors);\r\n                            }\r\n                            return colors.remove(0);\r\n                        }\r\n\r\n                    });\r\n\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        private Random rnd = new Random();\r\n\r\n        private SinusPlot generateSinus(int freq, Color color) {\r\n            double[] x = new double[200];\r\n            double[] y = new double[200];\r\n            for (int i = 0; i &lt; 200; i++) {\r\n                x[i] = (double) i;\r\n                y[i] = 100 * Math.sin(2d * Math.PI * freq * i / 200d);\r\n            }\r\n            return new SinusPlot(x, y, color);\r\n        }\r\n\r\n        public class SinusPlot {\r\n            private double[] x;\r\n            private double[] y;\r\n            private Color color;\r\n\r\n            public SinusPlot(double[] x, double[] y, Color color) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.color = color;\r\n            }\r\n\r\n            public int getSize() {\r\n                return x.length;\r\n            }\r\n\r\n            public double getXAt(int index) {\r\n                return x[index];\r\n            }\r\n\r\n            public double getYAt(int index) {\r\n                return y[index];\r\n            }\r\n\r\n            public Color getColor() {\r\n                return color;\r\n            }\r\n\r\n        }\r\n\r\n        public class TestDrawSinus extends JPanel {\r\n            private List&lt;SinusPlot&gt; plots = new ArrayList&lt;&gt;(8);\r\n\r\n            public void addSinusPlot(SinusPlot plot) {\r\n                plots.add(plot);\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 600);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                for (SinusPlot plot : plots) {\r\n                    System.out.println(plot.getColor());\r\n                    g2d.setColor(plot.getColor());\r\n                    for (int i = 0; i &lt; plot.getSize(); i++) {\r\n                        Ellipse2D dot = new Ellipse2D.Double(((getWidth() - plot.getSize()) / 2) + plot.getXAt(i), plot.getYAt(i) + getHeight() / 2, 10, 10);\r\n                        g2d.fill(dot);\r\n                    }\r\n                }\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FkiEO.png\r\n\r\n`null` layouts aren&#39;t going to help you, take the time to learn understand how the layout management system works, it will save you lot of time and effort.  See [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details.\r\n\r\n`static` is not your friend (especially in this context), make the effort to understand how to live without it (and when to use it)","title":"How to achieve non-destructive painting in Java?","body":"<p>There are a number of ways you might do this, one way would be to seperate each series into its own model, then have the panel paint each model, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/FkiEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FkiEO.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    private Color[] masterColors = new Color[]{\n        Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY,\n        Color.GREEN, Color.MAGENTA, Color.ORANGE, Color.PINK,\n        Color.RED, Color.WHITE, Color.YELLOW\n    };\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                TestDrawSinus sinusPane = new TestDrawSinus();\n\n                JFrame frame = new JFrame();\n                frame.add(sinusPane);\n\n                JButton button1 = new JButton();\n                button1.setText(&quot;plot&quot;);\n                frame.add(button1, BorderLayout.SOUTH);\n\n                button1.addActionListener(new ActionListener() {\n                    private List&lt;Color&gt; colors = new ArrayList&lt;&gt;();\n                    private int freq = 0;\n\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        sinusPane.addSinusPlot(generateSinus(++freq, nextColor()));\n                        sinusPane.addSinusPlot(generateSinus(++freq, nextColor()));\n                        sinusPane.addSinusPlot(generateSinus(++freq, nextColor()));\n                    }\n\n                    protected Color nextColor() {\n                        if (colors.isEmpty()) {\n                            colors.addAll(Arrays.asList(masterColors));\n                            Collections.shuffle(colors);\n                        }\n                        return colors.remove(0);\n                    }\n\n                });\n\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    private Random rnd = new Random();\n\n    private SinusPlot generateSinus(int freq, Color color) {\n        double[] x = new double[200];\n        double[] y = new double[200];\n        for (int i = 0; i &lt; 200; i++) {\n            x[i] = (double) i;\n            y[i] = 100 * Math.sin(2d * Math.PI * freq * i / 200d);\n        }\n        return new SinusPlot(x, y, color);\n    }\n\n    public class SinusPlot {\n        private double[] x;\n        private double[] y;\n        private Color color;\n\n        public SinusPlot(double[] x, double[] y, Color color) {\n            this.x = x;\n            this.y = y;\n            this.color = color;\n        }\n\n        public int getSize() {\n            return x.length;\n        }\n\n        public double getXAt(int index) {\n            return x[index];\n        }\n\n        public double getYAt(int index) {\n            return y[index];\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n    }\n\n    public class TestDrawSinus extends JPanel {\n        private List&lt;SinusPlot&gt; plots = new ArrayList&lt;&gt;(8);\n\n        public void addSinusPlot(SinusPlot plot) {\n            plots.add(plot);\n            repaint();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 600);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            for (SinusPlot plot : plots) {\n                System.out.println(plot.getColor());\n                g2d.setColor(plot.getColor());\n                for (int i = 0; i &lt; plot.getSize(); i++) {\n                    Ellipse2D dot = new Ellipse2D.Double(((getWidth() - plot.getSize()) / 2) + plot.getXAt(i), plot.getYAt(i) + getHeight() / 2, 10, 10);\n                    g2d.fill(dot);\n                }\n            }\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n<p><code>null</code> layouts aren't going to help you, take the time to learn understand how the layout management system works, it will save you lot of time and effort.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details.</p>\n<p><code>static</code> is not your friend (especially in this context), make the effort to understand how to live without it (and when to use it)</p>\n"}],"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72120129,"answer_count":1,"score":0,"last_activity_date":1651713195,"creation_date":1651648160,"question_id":72109125,"body_markdown":"I want to plot many sinusoids with different frequencies on a panel, but because painting is destructive, I cannot achieve this. I can only see the last sinusoid plotted. \r\n\r\nIn the code, the generateSinus() method is called only three times, but it might be called many times and I don&#39;t want to call g.fillOval() method for each sinusoid in the paintComponent() method.\r\n\r\nIs there a way to achieve non-destructive painting and see all sinusioids with different frequencies?\r\n\r\nPlease see the code below: \r\n\r\n```\r\npackage testdrawsinus;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JButton;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class TestDrawSinus extends JPanel \r\n{\r\n   private static double[] x;\r\n   private static double[] y;\r\n   private static boolean buttonClicked = false;\r\n   private static JPanel panel = new TestDrawSinus();\r\n   \r\n   @Override\r\n   public void paintComponent(Graphics g) \r\n   {\r\n      super.paintComponent(g);\r\n      g.setColor(Color.GREEN);\r\n      if (buttonClicked)\r\n      {          \r\n          for (int i=0; i&lt;x.length; i++)\r\n          {                   \r\n             g.fillOval((int)x[i] + panel.getWidth()/2, -1*((int)y[i]) + panel.getHeight()/2, 10, 10);                          \r\n          }\r\n          buttonClicked = false;\r\n      }\r\n   }\r\n\r\n   private static void generateSinus(int freq)\r\n   {\r\n      x = new double[200];\r\n      y = new double[200];\r\n      for (int i=0; i&lt;=199; i++)\r\n      {\r\n         x[i]= (double)i;\r\n         y[i] = 100*Math.sin(2*Math.PI*freq*i/200);\r\n              \r\n      }\r\n   }\r\n\r\n   public static void main(String[] args) \r\n   {\r\n      JFrame frame = new JFrame();  \r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setLayout(null);\r\n      frame.setSize(800, 600);\r\n      frame.setLocationRelativeTo(null);\r\n      frame.setVisible(true);\r\n\r\n      panel.setLayout(null);\r\n      panel.setBounds(20,20, 700,400);\r\n      panel.setBackground(Color.BLACK);\r\n      frame.add(panel);\r\n\r\n      JButton button1 = new JButton();\r\n      button1.setText(&quot;plot&quot;);\r\n      button1.setBounds(300, 500, 150, 50);\r\n      frame.add(button1);\r\n\r\n      button1.addActionListener(new ActionListener() \r\n      {\r\n         @Override\r\n         public void actionPerformed(ActionEvent e) \r\n         {                   \r\n           buttonClicked = true; \r\n           generateSinus(1);\r\n           panel.repaint();\r\n           generateSinus(2);\r\n           panel.repaint();\r\n           generateSinus(3);\r\n           panel.repaint();\r\n         }\r\n               \r\n      });              \r\n   }\r\n}\r\n```\r\nThanks for your help.","title":"How to achieve non-destructive painting in Java?","body":"<p>I want to plot many sinusoids with different frequencies on a panel, but because painting is destructive, I cannot achieve this. I can only see the last sinusoid plotted.</p>\n<p>In the code, the generateSinus() method is called only three times, but it might be called many times and I don't want to call g.fillOval() method for each sinusoid in the paintComponent() method.</p>\n<p>Is there a way to achieve non-destructive painting and see all sinusioids with different frequencies?</p>\n<p>Please see the code below:</p>\n<pre><code>package testdrawsinus;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class TestDrawSinus extends JPanel \n{\n   private static double[] x;\n   private static double[] y;\n   private static boolean buttonClicked = false;\n   private static JPanel panel = new TestDrawSinus();\n   \n   @Override\n   public void paintComponent(Graphics g) \n   {\n      super.paintComponent(g);\n      g.setColor(Color.GREEN);\n      if (buttonClicked)\n      {          \n          for (int i=0; i&lt;x.length; i++)\n          {                   \n             g.fillOval((int)x[i] + panel.getWidth()/2, -1*((int)y[i]) + panel.getHeight()/2, 10, 10);                          \n          }\n          buttonClicked = false;\n      }\n   }\n\n   private static void generateSinus(int freq)\n   {\n      x = new double[200];\n      y = new double[200];\n      for (int i=0; i&lt;=199; i++)\n      {\n         x[i]= (double)i;\n         y[i] = 100*Math.sin(2*Math.PI*freq*i/200);\n              \n      }\n   }\n\n   public static void main(String[] args) \n   {\n      JFrame frame = new JFrame();  \n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.setLayout(null);\n      frame.setSize(800, 600);\n      frame.setLocationRelativeTo(null);\n      frame.setVisible(true);\n\n      panel.setLayout(null);\n      panel.setBounds(20,20, 700,400);\n      panel.setBackground(Color.BLACK);\n      frame.add(panel);\n\n      JButton button1 = new JButton();\n      button1.setText(&quot;plot&quot;);\n      button1.setBounds(300, 500, 150, 50);\n      frame.add(button1);\n\n      button1.addActionListener(new ActionListener() \n      {\n         @Override\n         public void actionPerformed(ActionEvent e) \n         {                   \n           buttonClicked = true; \n           generateSinus(1);\n           panel.repaint();\n           generateSinus(2);\n           panel.repaint();\n           generateSinus(3);\n           panel.repaint();\n         }\n               \n      });              \n   }\n}\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15935,"reputation":346512,"user_id":34211,"accept_rate":83,"display_name":"Andrew Hare"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1268582186,"creation_date":1268581628,"answer_id":2442679,"question_id":2442675,"body_markdown":"You are trying to print the result of `printPoint` which doesn&#39;t return anything.  You will need to change your code to do either of these two things:\r\n\r\n    class obj\r\n    {\r\n        public static void printPoint (Point p) \r\n        { \r\n            System.out.println (&quot;(&quot; + p.x + &quot;, &quot; + p.y + &quot;)&quot;); \r\n        }\r\n        public static void main (String[]arg)\r\n        {\r\n            Point blank = new Point (3,4) ; \r\n            printPoint (blank) ;\r\n        }\r\n    }\r\n\r\nor this:\r\n\r\n    class obj\r\n    {\r\n        public static String printPoint (Point p) \r\n        { \r\n            return &quot;(&quot; + p.x + &quot;, &quot; + p.y + &quot;)&quot;; \r\n        }\r\n        public static void main (String[]arg)\r\n        {\r\n            Point blank = new Point (3,4) ; \r\n            System.out.println (printPoint (blank)) ;\r\n        }\r\n    }\r\n","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<p>You are trying to print the result of <code>printPoint</code> which doesn't return anything.  You will need to change your code to do either of these two things:</p>\n\n<pre><code>class obj\n{\n    public static void printPoint (Point p) \n    { \n        System.out.println (\"(\" + p.x + \", \" + p.y + \")\"); \n    }\n    public static void main (String[]arg)\n    {\n        Point blank = new Point (3,4) ; \n        printPoint (blank) ;\n    }\n}\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>class obj\n{\n    public static String printPoint (Point p) \n    { \n        return \"(\" + p.x + \", \" + p.y + \")\"; \n    }\n    public static void main (String[]arg)\n    {\n        Point blank = new Point (3,4) ; \n        System.out.println (printPoint (blank)) ;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268581638,"creation_date":1268581638,"answer_id":2442680,"question_id":2442675,"body_markdown":"You are passing the result of `printPoint()` - which is void - to the `println()` function.","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<p>You are passing the result of <code>printPoint()</code> - which is void - to the <code>println()</code> function.</p>\n"},{"tags":[],"owner":{"account_id":35717,"reputation":131899,"user_id":101258,"accept_rate":100,"display_name":"Justin Ethier"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1268581705,"creation_date":1268581705,"answer_id":2442685,"question_id":2442675,"body_markdown":"If a method returns `void` then there is nothing to print, hence this error message. Since printPoint already prints data to the console, you should just call it directly:\r\n\r\n    printPoint (blank); ","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<p>If a method returns <code>void</code> then there is nothing to print, hence this error message. Since printPoint already prints data to the console, you should just call it directly:</p>\n\n<pre><code>printPoint (blank); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":27678,"reputation":70338,"user_id":73297,"accept_rate":90,"display_name":"Ben Zotto"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1268581719,"creation_date":1268581719,"answer_id":2442687,"question_id":2442675,"body_markdown":"The type problem is that `println` takes a String to print, but instead of a string, you&#39;re calling the `printPoint` method which is returning `void`. \r\n\r\nYou can just call `printPoint(blank);` in your main function and leave it at that.\r\n\r\n","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<p>The type problem is that <code>println</code> takes a String to print, but instead of a string, you're calling the <code>printPoint</code> method which is returning <code>void</code>. </p>\n\n<p>You can just call <code>printPoint(blank);</code> in your main function and leave it at that.</p>\n"},{"tags":[],"owner":{"account_id":17288,"reputation":3592,"user_id":38561,"accept_rate":100,"display_name":"ggf31416"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391961434,"creation_date":1268582026,"answer_id":2442705,"question_id":2442675,"body_markdown":"`printPoint` prints by itself rather than returning a string. To fix that call `printPoint` (blank) without the `System.out.println`.\r\n\r\nA better alternative may be: make `printPoint(Point p)` return a string (and change its name to something like `FormatPoint`), that way the method may be used to format a point for the console, GUI, print, etc rather than being tied to the console.","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<p><code>printPoint</code> prints by itself rather than returning a string. To fix that call <code>printPoint</code> (blank) without the <code>System.out.println</code>.</p>\n\n<p>A better alternative may be: make <code>printPoint(Point p)</code> return a string (and change its name to something like <code>FormatPoint</code>), that way the method may be used to format a point for the console, GUI, print, etc rather than being tied to the console.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268582111,"creation_date":1268582111,"answer_id":2442711,"question_id":2442675,"body_markdown":"You probably wanted to do : `printPoint (blank);`. Looks like you are trying to print twice; once inside `printPoint()` and once inside `main()`.","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<p>You probably wanted to do : <code>printPoint (blank);</code>. Looks like you are trying to print twice; once inside <code>printPoint()</code> and once inside <code>main()</code>.</p>\n"},{"tags":[],"owner":{"account_id":21991656,"reputation":7,"user_id":16264918,"display_name":"Rohan Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651712578,"creation_date":1651712578,"answer_id":72120898,"question_id":2442675,"body_markdown":"    import java.awt.* ;\r\n     \r\n    class Main\r\n    {\r\n        public static void printPoint (Point p) \r\n        { \r\n            System.out.println (&quot;(&quot; + p.x + &quot;, &quot; + p.y + &quot;)&quot;); \r\n        }\r\n        public static void main (String[]arg)\r\n        {\r\n            Point blank = new Point (3,4) ; \r\n             printPoint (blank) ;\r\n        }\r\n    }\r\n//you can&#39;t print the value while its not returnring anything in function try this one","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<pre><code>import java.awt.* ;\n \nclass Main\n{\n    public static void printPoint (Point p) \n    { \n        System.out.println (&quot;(&quot; + p.x + &quot;, &quot; + p.y + &quot;)&quot;); \n    }\n    public static void main (String[]arg)\n    {\n        Point blank = new Point (3,4) ; \n         printPoint (blank) ;\n    }\n}\n</code></pre>\n<p>//you can't print the value while its not returnring anything in function try this one</p>\n"}],"owner":{"account_id":105891,"reputation":14627,"user_id":282315,"accept_rate":82,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141376,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":2442685,"answer_count":7,"score":21,"last_activity_date":1651712578,"creation_date":1268581523,"question_id":2442675,"body_markdown":"When I try to compile this: \r\n\r\n    import java.awt.* ;\r\n        \r\n        class obj\r\n        {\r\n        \tpublic static void printPoint (Point p) \r\n        \t{ \r\n        \t\tSystem.out.println (&quot;(&quot; + p.x + &quot;, &quot; + p.y + &quot;)&quot;); \r\n        \t}\r\n        \tpublic static void main (String[]arg)\r\n        \t{\r\n        \t\tPoint blank = new Point (3,4) ; \r\n        \t\tSystem.out.println (printPoint (blank)) ;\r\n        \t}\r\n        }\r\n\r\nI get this error: \r\n\r\n    obj.java:12: &#39;void&#39; type not allowed here\r\n    \t\tSystem.out.println (printPoint (blank)) ; \r\n                                                   ^\r\n    1 error\r\n\r\n\r\nI don&#39;t really know how to start asking about this other than to ask:  \r\n\r\n - What went wrong here?    \r\n - What does this error message mean?","title":"What causes &quot;&#39;void&#39; type not allowed here&quot; error","body":"<p>When I try to compile this: </p>\n\n<pre><code>import java.awt.* ;\n\n    class obj\n    {\n        public static void printPoint (Point p) \n        { \n            System.out.println (\"(\" + p.x + \", \" + p.y + \")\"); \n        }\n        public static void main (String[]arg)\n        {\n            Point blank = new Point (3,4) ; \n            System.out.println (printPoint (blank)) ;\n        }\n    }\n</code></pre>\n\n<p>I get this error: </p>\n\n<pre><code>obj.java:12: 'void' type not allowed here\n        System.out.println (printPoint (blank)) ; \n                                               ^\n1 error\n</code></pre>\n\n<p>I don't really know how to start asking about this other than to ask:  </p>\n\n<ul>\n<li>What went wrong here?    </li>\n<li>What does this error message mean?</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":4,"creation_date":1651707474,"post_id":72120509,"comment_id":127430018,"body_markdown":"See https://stackoverflow.com/questions/588004/is-floating-point-math-broken for a discussion of how computers work with floating point numbers.","body":"See <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\" title=\"is floating point math broken\">stackoverflow.com/questions/588004/&hellip;</a> for a discussion of how computers work with floating point numbers."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1651708079,"post_id":72120509,"comment_id":127430123,"body_markdown":"Hint: Whenever you use floating point arithmetics, chances are high that numbers will be slightly &#39;off&#39;, because they&#39;re based on fractions. Solution #1: create your own data type that stores an int or long, and its `toString()` method inserts a dot. Solution #2: keep using float or double, but whenever you output the number, always use one of the rounding methods: BigInteger, (x*100)/100, printf(), DecimalFormat. Solution 3: write your own class, which contains a double value, and you implement its `toString()` method to format the double with one of the four methods above.","body":"Hint: Whenever you use floating point arithmetics, chances are high that numbers will be slightly &#39;off&#39;, because they&#39;re based on fractions. Solution #1: create your own data type that stores an int or long, and its <code>toString()</code> method inserts a dot. Solution #2: keep using float or double, but whenever you output the number, always use one of the rounding methods: BigInteger, (x*100)/100, printf(), DecimalFormat. Solution 3: write your own class, which contains a double value, and you implement its <code>toString()</code> method to format the double with one of the four methods above."},{"owner":{"account_id":14849189,"reputation":63,"user_id":10723706,"display_name":"Spoonology"},"score":0,"creation_date":1651708987,"post_id":72120509,"comment_id":127430251,"body_markdown":"I get it now! Thanks for your help guys. It&#39;s much appreciated!","body":"I get it now! Thanks for your help guys. It&#39;s much appreciated!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1651711629,"post_id":72120509,"comment_id":127430620,"body_markdown":"If you&#39;ve read my answer in your first citation you should have seen that what you are attempting is impossible *a priori,* with proof.","body":"If you&#39;ve read my answer in your first citation you should have seen that what you are attempting is impossible <i>a priori,</i> with proof."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651711258,"creation_date":1651708511,"answer_id":72120605,"question_id":72120509,"body_markdown":"If you&#39;re going to do calculations with your decimal values, you really need to use `BigDecimal` throughout.  Never trust `double` or `float` to give accurate answers to calculations involving decimal values.\r\n\r\nAlso, when you create a `BigDecimal` from a `double`, don&#39;t use `new BigDecimal(yourDouble)`, because that just puts the floating point error that&#39;s already in your `double` into the `BigDecimal`.  It&#39;s generally much better to use `BigDecimal.valueOf(yourDouble)`, which gives you the decimal value with the least number of decimal places that your `double` is close enough to.  That sounds bad, but it&#39;s actually good, because you typically get the value that was used to create the `double` initially.\r\n\r\nFor example,\r\n\r\n    System.out.println(new BigDecimal(0.1)); // prints 0.1000000000000000055511151231257827021181583404541015625\r\n    System.out.println(BigDecimal.valueOf(0.1)); // prints 0.1","title":"Problems rounding to 2 decimal places","body":"<p>If you're going to do calculations with your decimal values, you really need to use <code>BigDecimal</code> throughout.  Never trust <code>double</code> or <code>float</code> to give accurate answers to calculations involving decimal values.</p>\n<p>Also, when you create a <code>BigDecimal</code> from a <code>double</code>, don't use <code>new BigDecimal(yourDouble)</code>, because that just puts the floating point error that's already in your <code>double</code> into the <code>BigDecimal</code>.  It's generally much better to use <code>BigDecimal.valueOf(yourDouble)</code>, which gives you the decimal value with the least number of decimal places that your <code>double</code> is close enough to.  That sounds bad, but it's actually good, because you typically get the value that was used to create the <code>double</code> initially.</p>\n<p>For example,</p>\n<pre><code>System.out.println(new BigDecimal(0.1)); // prints 0.1000000000000000055511151231257827021181583404541015625\nSystem.out.println(BigDecimal.valueOf(0.1)); // prints 0.1\n</code></pre>\n"}],"owner":{"account_id":14849189,"reputation":63,"user_id":10723706,"display_name":"Spoonology"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651710661,"accepted_answer_id":72120605,"answer_count":1,"score":0,"last_activity_date":1651711548,"creation_date":1651707181,"question_id":72120509,"body_markdown":"I&#39;ve used these posts as reference: \r\n\r\n 1. [How to round a number to n decimal places in Java][1]\r\n 2. [round up to 2 decimal places in java? [duplicate]][2]\r\n\r\nAfter reading through the solutions to these question, I&#39;m still having trouble rounding up to the hundredths place.\r\nHere are what I&#39;ve tried along with their outputs:\r\n\r\n`BigDecimal`\r\n\r\n```\r\nimport java.math.BigDecimal;\r\nimport java.math.RoundingMode;\r\n\r\npublic class RaceCarThread extends Thread {\r\n\r\n\tprivate static boolean raceNow = false;\r\n\tprivate int iterations;\r\n\tprivate double lapsCompleted;\r\n\tprivate boolean crash;\r\n\tprivate int nbrOfCrashes;\r\n\t\r\n\t// Default constructor\r\n\tpublic RaceCarThread() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t// Constructor for custom name\r\n\tpublic RaceCarThread(String name) {\r\n\t\tsuper(name);\r\n\t\traceNow = true;\r\n\t\tlapsCompleted = 0;\r\n\t\tcrash = false;\r\n\t\tnbrOfCrashes = 0;\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\t\r\n\t\twhile (!(lapsCompleted &gt;= 17)) {\r\n\t\t\tdouble randomNum = Math.random();\r\n\t\t\tBigDecimal bd = new BigDecimal(randomNum).setScale(2, RoundingMode.HALF_EVEN);\r\n\t\t\trandomNum = bd.doubleValue();\r\n\t\t\tlapsCompleted = lapsCompleted + randomNum;\r\n\t\t\tSystem.out.println(lapsCompleted);\r\n\t\t}\r\n\t}\t\r\n}\r\n```\r\n\r\n```\r\n10.31\r\n10.5\r\n11.13\r\n11.850000000000001\r\n12.810000000000002\r\n13.570000000000002\r\n14.200000000000003\r\n15.080000000000004\r\n15.800000000000004\r\n16.200000000000003\r\n16.790000000000003\r\n17.430000000000003\r\n```\r\n\r\n`Math.round(randomNum*100d) / 100d`\r\n\r\n```\r\npublic class RaceCarThread extends Thread {\r\n\r\n\tprivate static boolean raceNow = false;\r\n\tprivate int iterations;\r\n\tprivate double lapsCompleted;\r\n\tprivate boolean crash;\r\n\tprivate int nbrOfCrashes;\r\n\t\r\n\t// Default constructor\r\n\tpublic RaceCarThread() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t// Constructor for custom name\r\n\tpublic RaceCarThread(String name) {\r\n\t\tsuper(name);\r\n\t\traceNow = true;\r\n\t\tlapsCompleted = 0;\r\n\t\tcrash = false;\r\n\t\tnbrOfCrashes = 0;\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\t\r\n\t\twhile (!(lapsCompleted &gt;= 17)) {\r\n\t\t\tdouble randomNum = Math.random();\r\n\t\t\tlapsCompleted = lapsCompleted + (Math.round(randomNum * 100d) / 100d);\r\n\t\t\tSystem.out.println(lapsCompleted);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n11.020000000000003\r\n11.730000000000004\r\n12.720000000000004\r\n13.430000000000003\r\n13.930000000000003\r\n14.020000000000003\r\n14.300000000000002\r\n15.210000000000003\r\n15.250000000000002\r\n15.500000000000002\r\n16.32\r\n17.080000000000002\r\n```\r\n\r\nI&#39;m unable to use `DecimalFormat` due to using the number in calculations.\r\n\r\nEdit: The `System.out.println(lapsCompleted)` is just for checking the values and will be removed once I fix the decimals\r\n\r\n  [1]: https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\r\n  [2]: https://stackoverflow.com/questions/11701399/round-up-to-2-decimal-places-in-java","title":"Problems rounding to 2 decimal places","body":"<p>I've used these posts as reference:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\">How to round a number to n decimal places in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11701399/round-up-to-2-decimal-places-in-java\">round up to 2 decimal places in java? [duplicate]</a></li>\n</ol>\n<p>After reading through the solutions to these question, I'm still having trouble rounding up to the hundredths place.\nHere are what I've tried along with their outputs:</p>\n<p><code>BigDecimal</code></p>\n<pre><code>import java.math.BigDecimal;\nimport java.math.RoundingMode;\n\npublic class RaceCarThread extends Thread {\n\n    private static boolean raceNow = false;\n    private int iterations;\n    private double lapsCompleted;\n    private boolean crash;\n    private int nbrOfCrashes;\n    \n    // Default constructor\n    public RaceCarThread() {\n        super();\n    }\n    \n    // Constructor for custom name\n    public RaceCarThread(String name) {\n        super(name);\n        raceNow = true;\n        lapsCompleted = 0;\n        crash = false;\n        nbrOfCrashes = 0;\n    }\n    \n    public void run() {\n        \n        while (!(lapsCompleted &gt;= 17)) {\n            double randomNum = Math.random();\n            BigDecimal bd = new BigDecimal(randomNum).setScale(2, RoundingMode.HALF_EVEN);\n            randomNum = bd.doubleValue();\n            lapsCompleted = lapsCompleted + randomNum;\n            System.out.println(lapsCompleted);\n        }\n    }   \n}\n</code></pre>\n<pre><code>10.31\n10.5\n11.13\n11.850000000000001\n12.810000000000002\n13.570000000000002\n14.200000000000003\n15.080000000000004\n15.800000000000004\n16.200000000000003\n16.790000000000003\n17.430000000000003\n</code></pre>\n<p><code>Math.round(randomNum*100d) / 100d</code></p>\n<pre><code>public class RaceCarThread extends Thread {\n\n    private static boolean raceNow = false;\n    private int iterations;\n    private double lapsCompleted;\n    private boolean crash;\n    private int nbrOfCrashes;\n    \n    // Default constructor\n    public RaceCarThread() {\n        super();\n    }\n    \n    // Constructor for custom name\n    public RaceCarThread(String name) {\n        super(name);\n        raceNow = true;\n        lapsCompleted = 0;\n        crash = false;\n        nbrOfCrashes = 0;\n    }\n    \n    public void run() {\n        \n        while (!(lapsCompleted &gt;= 17)) {\n            double randomNum = Math.random();\n            lapsCompleted = lapsCompleted + (Math.round(randomNum * 100d) / 100d);\n            System.out.println(lapsCompleted);\n        }\n    }\n}\n</code></pre>\n<pre><code>11.020000000000003\n11.730000000000004\n12.720000000000004\n13.430000000000003\n13.930000000000003\n14.020000000000003\n14.300000000000002\n15.210000000000003\n15.250000000000002\n15.500000000000002\n16.32\n17.080000000000002\n</code></pre>\n<p>I'm unable to use <code>DecimalFormat</code> due to using the number in calculations.</p>\n<p>Edit: The <code>System.out.println(lapsCompleted)</code> is just for checking the values and will be removed once I fix the decimals</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data","eclipse-collections"],"comments":[{"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"score":3,"creation_date":1587060039,"post_id":61215497,"comment_id":108367905,"body_markdown":"Anything is possible, but I&#39;m not sure if this is easy or a lot of work. Have you tried looking to see if JPA supports extensions for custom collections? I haven&#39;t used Spring Data JPA. A long time ago I looked at the possibility of implementing custom collections for Hibernate for Eclipse Collections. It looked possible, but this would likely be a full project on its own. I never had a need to implement it myself, so I haven&#39;t spent any time trying to code it. I&#39;d be happy if someone wanted to build out the support for it .","body":"Anything is possible, but I&#39;m not sure if this is easy or a lot of work. Have you tried looking to see if JPA supports extensions for custom collections? I haven&#39;t used Spring Data JPA. A long time ago I looked at the possibility of implementing custom collections for Hibernate for Eclipse Collections. It looked possible, but this would likely be a full project on its own. I never had a need to implement it myself, so I haven&#39;t spent any time trying to code it. I&#39;d be happy if someone wanted to build out the support for it ."}],"answers":[{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651708950,"creation_date":1651499182,"answer_id":72087663,"question_id":61215497,"body_markdown":"I don&#39;t believe this is possible today. Providing support for Immutable Collection types from different libraries has been discussed in an issue on the spring-data-commons project.\r\n\r\nhttps://github.com/spring-projects/spring-data-commons/issues/1817\r\n\r\nThe issue was assigned in Dec. 2020.\r\n\r\n**Update (May 4th)**: There have been some updates in the past couple of days on the GitHub issue:\r\n\r\nhttps://github.com/spring-projects/spring-data-commons/issues/1817#issuecomment-1117257169\r\n\r\nIt sounds like perhaps this question will eventually have a positive answer.","title":"Integration Eclipse Collections with Spring Data JPA","body":"<p>I don't believe this is possible today. Providing support for Immutable Collection types from different libraries has been discussed in an issue on the spring-data-commons project.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-commons/issues/1817\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/issues/1817</a></p>\n<p>The issue was assigned in Dec. 2020.</p>\n<p><strong>Update (May 4th)</strong>: There have been some updates in the past couple of days on the GitHub issue:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-commons/issues/1817#issuecomment-1117257169\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/issues/1817#issuecomment-1117257169</a></p>\n<p>It sounds like perhaps this question will eventually have a positive answer.</p>\n"}],"owner":{"account_id":10856637,"reputation":189,"user_id":7982801,"display_name":"Felix Ricardo Gilioli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1651708950,"creation_date":1586891934,"question_id":61215497,"body_markdown":"is it possible integration eclipse collections with spring data jpa + hibernate?\r\n\r\nfor example:\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.eclipse.collections.api.list.ImmutableList;\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n        ImmutableList&lt;User&gt; findByActiveTrue();\r\n   \r\n    }\r\n","title":"Integration Eclipse Collections with Spring Data JPA","body":"<p>is it possible integration eclipse collections with spring data jpa + hibernate?</p>\n\n<p>for example:</p>\n\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.eclipse.collections.api.list.ImmutableList;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    ImmutableList&lt;User&gt; findByActiveTrue();\n\n}\n</code></pre>\n"},{"tags":["java","json","serialization","jackson","jodatime"],"comments":[{"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"score":0,"creation_date":1651535911,"post_id":72093555,"comment_id":127383038,"body_markdown":"It&#39;s also worth noting that `mapper.canSerialize(IllegalFieldValueException.class)` returns `true`","body":"It&#39;s also worth noting that <code>mapper.canSerialize(IllegalFieldValueException.class)</code> returns <code>true</code>"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1651568888,"post_id":72093555,"comment_id":127388771,"body_markdown":"I am also facing a similar issue, if you have found an answer can you please provide it? I have posted my question: https://stackoverflow.com/q/72089765/7584240, if you get a chance can you please have a look and provide some suggestions?","body":"I am also facing a similar issue, if you have found an answer can you please provide it? I have posted my question: <a href=\"https://stackoverflow.com/q/72089765/7584240\">stackoverflow.com/q/72089765/7584240</a>, if you get a chance can you please have a look and provide some suggestions?"}],"answers":[{"tags":[],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651708402,"creation_date":1651708402,"answer_id":72120597,"question_id":72093555,"body_markdown":"The short answer is that Jackson basically broke this behavior with this commit: https://github.com/FasterXML/jackson-databind/commit/85c9c8544f0c4f01e88241acc1573746df4f755d\r\n\r\nIronically, there&#39;s actually a comment from one of the developers here (tatu) who asks whether they should add an override option allow force-POJO serialization: https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/ser/BeanSerializerFactory.java#L891\r\n\r\nUnfortunately, this comment from tatu was apparently disregarded, because there&#39;s no way to override or disable this check.  Even in the latest version of Jackson, it still has this same bad behavior.\r\n\r\nThe good news is that, as you can see in the implementation of the [checkUnsupportedType()][1] method, it only throws this error when attempting to serializing classes under the `java.time` or `org.joda.time` packages.  That means you don&#39;t need to worry about getting this exception thrown when trying to serialize anything else.  The bad news is that even if you add the [JodaModule][2] to your Jackson mapper, the JodaModule doesn&#39;t actually include exception types, so you&#39;ll still get this same error.\r\n\r\nIn the long term, the ideal fix would be for Jackson to add a configurable serialization option to force POJO serialization for time-related types, and/or for the JodaModule to be updated to include the exception types.  But for now, you can fix this behavior by creating a subclass of the `BeanSerializerFactory`:\r\n```\r\npublic class CustomBeanSerializerFactory extends BeanSerializerFactory {\r\n    public CustomBeanSerializerFactory(SerializerFactoryConfig config) {\r\n        super(config);\r\n    }\r\n    @Override\r\n    protected JsonSerializer&lt;?&gt; _findUnsupportedTypeSerializer(SerializerProvider ctxt, JavaType type, BeanDescription beanDesc) throws JsonMappingException {\r\n        return null;\r\n    }\r\n    @Override\r\n    public SerializerFactory withConfig(SerializerFactoryConfig config) {\r\n        if (_factoryConfig == config) return this;\r\n        return new CustomBeanSerializerFactory(config);\r\n    }\r\n}\r\n```\r\n\r\nThen set your ObjectMapper to use this factory instead:\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.setSerializerFactory(new CustomBeanSerializerFactory(null));\r\nmapper.enableDefaultTyping(DefaultTyping.NON_FINAL);\r\nmapper.valueToTree(new org.joda.time.IllegalFieldValueException(&quot;testName&quot;, &quot;testValue&quot;)); // no error anymore - yay!\r\n```\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/2.12/src/main/java/com/fasterxml/jackson/databind/util/BeanUtil.java#L297\r\n  [2]: https://github.com/FasterXML/jackson-datatype-joda","title":"Jackson serialization failing when upgrading from 2.10 (InvalidDefinitionException: Type id handling not implemented for type java.lang.Object)","body":"<p>The short answer is that Jackson basically broke this behavior with this commit: <a href=\"https://github.com/FasterXML/jackson-databind/commit/85c9c8544f0c4f01e88241acc1573746df4f755d\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/commit/85c9c8544f0c4f01e88241acc1573746df4f755d</a></p>\n<p>Ironically, there's actually a comment from one of the developers here (tatu) who asks whether they should add an override option allow force-POJO serialization: <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/ser/BeanSerializerFactory.java#L891\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/ser/BeanSerializerFactory.java#L891</a></p>\n<p>Unfortunately, this comment from tatu was apparently disregarded, because there's no way to override or disable this check.  Even in the latest version of Jackson, it still has this same bad behavior.</p>\n<p>The good news is that, as you can see in the implementation of the <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.12/src/main/java/com/fasterxml/jackson/databind/util/BeanUtil.java#L297\" rel=\"nofollow noreferrer\">checkUnsupportedType()</a> method, it only throws this error when attempting to serializing classes under the <code>java.time</code> or <code>org.joda.time</code> packages.  That means you don't need to worry about getting this exception thrown when trying to serialize anything else.  The bad news is that even if you add the <a href=\"https://github.com/FasterXML/jackson-datatype-joda\" rel=\"nofollow noreferrer\">JodaModule</a> to your Jackson mapper, the JodaModule doesn't actually include exception types, so you'll still get this same error.</p>\n<p>In the long term, the ideal fix would be for Jackson to add a configurable serialization option to force POJO serialization for time-related types, and/or for the JodaModule to be updated to include the exception types.  But for now, you can fix this behavior by creating a subclass of the <code>BeanSerializerFactory</code>:</p>\n<pre><code>public class CustomBeanSerializerFactory extends BeanSerializerFactory {\n    public CustomBeanSerializerFactory(SerializerFactoryConfig config) {\n        super(config);\n    }\n    @Override\n    protected JsonSerializer&lt;?&gt; _findUnsupportedTypeSerializer(SerializerProvider ctxt, JavaType type, BeanDescription beanDesc) throws JsonMappingException {\n        return null;\n    }\n    @Override\n    public SerializerFactory withConfig(SerializerFactoryConfig config) {\n        if (_factoryConfig == config) return this;\n        return new CustomBeanSerializerFactory(config);\n    }\n}\n</code></pre>\n<p>Then set your ObjectMapper to use this factory instead:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setSerializerFactory(new CustomBeanSerializerFactory(null));\nmapper.enableDefaultTyping(DefaultTyping.NON_FINAL);\nmapper.valueToTree(new org.joda.time.IllegalFieldValueException(&quot;testName&quot;, &quot;testValue&quot;)); // no error anymore - yay!\n</code></pre>\n"}],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72120597,"answer_count":1,"score":2,"last_activity_date":1651708402,"creation_date":1651535800,"question_id":72093555,"body_markdown":"I&#39;m upgrading from Jackson 2.10 to 2.12, and suddenly this simple test (which was working fine before) is now failing:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.enableDefaultTyping(DefaultTyping.NON_FINAL);\r\nmapper.valueToTree(new org.joda.time.IllegalFieldValueException(&quot;testName&quot;, &quot;testValue&quot;)); // causes error\r\n```\r\n\r\n```\r\njava.lang.IllegalArgumentException: Type id handling not implemented for type java.lang.Object (by serializer of type com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.valueToTree(ObjectMapper.java:3312)\r\n\tat com.amazon.ets.util.exception.ExceptionSerializationTest.shouldSerializeException(ExceptionSerializationTest.java:77)\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not implemented for type java.lang.Object (by serializer of type com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer)\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n\tat com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160)\r\n\tat com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3126)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.valueToTree(ObjectMapper.java:3307)\r\n\t... 24 more\r\n```\r\n\r\nI&#39;ve gleaned from other similar posts like [this one][1] and [this one][2] that Jackson can struggle *deserializing* polymorphic types, but this is erroring on **serialization** not deserialization.  Additionally, when I just try creating my own Exception subclass and try serializing it, it works just fine.  I&#39;m trying to use this as a general purpose serializer, so I don&#39;t want to have to manually add custom serializers for every object type -- I don&#39;t even know why IllegalFieldValueException in particular seems to be the only class that fails to serialize.  So I have two main questions:\r\n\r\n1) Why is this suddenly failing when I upgrade from Jackson 2.10 to a later version?  I didn&#39;t change anything else!  Is there a configuration option I can use to have it replicate the earlier version&#39;s behavior?\r\n2) Why is IllegalFieldValueException the only type that seems to be failing to serialize?  When I try serializing other exception subclasses or polymorphic types I don&#39;t see this error.  What&#39;s so special about this particular class?  (And are there any other classes that might cause the same behavior?)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27876027/json-jackson-exception-when-serializing-a-polymorphic-class-with-custom-serial\r\n  [2]: https://stackoverflow.com/questions/26672297/how-to-trigger-calls-to-serializewithtype-of-a-class-implementing-jsonseriali","title":"Jackson serialization failing when upgrading from 2.10 (InvalidDefinitionException: Type id handling not implemented for type java.lang.Object)","body":"<p>I'm upgrading from Jackson 2.10 to 2.12, and suddenly this simple test (which was working fine before) is now failing:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enableDefaultTyping(DefaultTyping.NON_FINAL);\nmapper.valueToTree(new org.joda.time.IllegalFieldValueException(&quot;testName&quot;, &quot;testValue&quot;)); // causes error\n</code></pre>\n<pre><code>java.lang.IllegalArgumentException: Type id handling not implemented for type java.lang.Object (by serializer of type com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer)\n    at com.fasterxml.jackson.databind.ObjectMapper.valueToTree(ObjectMapper.java:3312)\n    at com.amazon.ets.util.exception.ExceptionSerializationTest.shouldSerializeException(ExceptionSerializationTest.java:77)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not implemented for type java.lang.Object (by serializer of type com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer)\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1276)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n    at com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160)\n    at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3126)\n    at com.fasterxml.jackson.databind.ObjectMapper.valueToTree(ObjectMapper.java:3307)\n    ... 24 more\n</code></pre>\n<p>I've gleaned from other similar posts like <a href=\"https://stackoverflow.com/questions/27876027/json-jackson-exception-when-serializing-a-polymorphic-class-with-custom-serial\">this one</a> and <a href=\"https://stackoverflow.com/questions/26672297/how-to-trigger-calls-to-serializewithtype-of-a-class-implementing-jsonseriali\">this one</a> that Jackson can struggle <em>deserializing</em> polymorphic types, but this is erroring on <strong>serialization</strong> not deserialization.  Additionally, when I just try creating my own Exception subclass and try serializing it, it works just fine.  I'm trying to use this as a general purpose serializer, so I don't want to have to manually add custom serializers for every object type -- I don't even know why IllegalFieldValueException in particular seems to be the only class that fails to serialize.  So I have two main questions:</p>\n<ol>\n<li>Why is this suddenly failing when I upgrade from Jackson 2.10 to a later version?  I didn't change anything else!  Is there a configuration option I can use to have it replicate the earlier version's behavior?</li>\n<li>Why is IllegalFieldValueException the only type that seems to be failing to serialize?  When I try serializing other exception subclasses or polymorphic types I don't see this error.  What's so special about this particular class?  (And are there any other classes that might cause the same behavior?)</li>\n</ol>\n"},{"tags":["java","arrays","debugging"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1651704786,"post_id":72120229,"comment_id":127429519,"body_markdown":"The `[]` need a value between them. Also, look closer at the braces. Also, look closer at the print command.","body":"The <code>[]</code> need a value between them. Also, look closer at the braces. Also, look closer at the print command."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1651704794,"post_id":72120229,"comment_id":127429520,"body_markdown":"Is there something else wrong? Are there compiler errors? Please see the [How to Ask](https://stackoverflow.com/help/how-to-ask), [How do I ask and answer homework questions](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions), and an [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems).","body":"Is there something else wrong? Are there compiler errors? Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>, <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask and answer homework questions</a>, and an <a href=\"https://softwareengineering.meta.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems\">Open letter to students with homework problems</a>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1651704828,"post_id":72120229,"comment_id":127429527,"body_markdown":"Tangential, but don&#39;t blockquote the code--just format it as code.","body":"Tangential, but don&#39;t blockquote the code--just format it as code."}],"answers":[{"tags":[],"owner":{"account_id":25195616,"reputation":65,"user_id":19035201,"display_name":"Rafael Bento"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651705091,"creation_date":1651705003,"answer_id":72120283,"question_id":72120229,"body_markdown":"Try this:\r\n\r\n```java\r\nval += array[zx];\r\n```\r\n\r\nYou have to use the index of the array.\r\n","title":"How do I debug arrays?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val += array[zx];\n</code></pre>\n<p>You have to use the index of the array.</p>\n"},{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651707791,"creation_date":1651705251,"answer_id":72120304,"question_id":72120229,"body_markdown":"In addition to Rafael&#39;s answer, be careful with braces and where you&#39;d like to system out.\r\n\r\n\r\n      public static void rain(String[] args) {\r\n      int val = 0;  // initialize val to 0.\r\n      int[] array = new int[3];   // create an array of 3 integers.\r\n        array[0] = 1;\r\n        array[1] = 2;\r\n        array[2] = 3;\r\n    \r\n        //add up the values in the array.\r\n        for(int zx = 0;zx &lt; array.length ;zx++){\r\n            val += array[zx];\r\n            }\r\n    \r\n    \r\n            System.out.println(val);\r\n           }\r\n\r\nAbove code will increment val with each value inside the array and sum inside val variable. Print is done afterwards.\r\n\r\nThere were some issues with your array initialization and use of arrays and indexes. I suggest you read a bit more on this because this is important on programming \r\n\r\nFinally, a better name for the index variable would be i or index instead of zx.\r\n","title":"How do I debug arrays?","body":"<p>In addition to Rafael's answer, be careful with braces and where you'd like to system out.</p>\n<pre><code>  public static void rain(String[] args) {\n  int val = 0;  // initialize val to 0.\n  int[] array = new int[3];   // create an array of 3 integers.\n    array[0] = 1;\n    array[1] = 2;\n    array[2] = 3;\n\n    //add up the values in the array.\n    for(int zx = 0;zx &lt; array.length ;zx++){\n        val += array[zx];\n        }\n\n\n        System.out.println(val);\n       }\n</code></pre>\n<p>Above code will increment val with each value inside the array and sum inside val variable. Print is done afterwards.</p>\n<p>There were some issues with your array initialization and use of arrays and indexes. I suggest you read a bit more on this because this is important on programming</p>\n<p>Finally, a better name for the index variable would be i or index instead of zx.</p>\n"}],"owner":{"account_id":25198401,"reputation":11,"user_id":19037597,"display_name":"louis-129"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1651723381,"accepted_answer_id":72120304,"answer_count":2,"score":-1,"last_activity_date":1651707791,"creation_date":1651704545,"question_id":72120229,"body_markdown":"I have this assignment that I am having trouble on. I&#39;m supposed to fix syntax error in the code to produce the desired number. I fixed the amount of arrays from 4 to 3 and added &quot;[]&quot; to the end of array in the for loop. I don&#39;t know what else there is to fix. Can anyone help?\r\n\r\n\r\n    \r\n\r\n    //\r\n    // Fix the compiler errors.  The program should display the value 6.\r\n    //\r\n    package debug5;\r\n    \r\n    public class debug5 {\r\n    \r\n        public static void rain(String[] args) {}\r\n            int val = 0;  // initialize val to 0.\r\n            int array[] = new int[3];  // create an array of 3 integers.\r\n            array[0] = 1;\r\n            array[1] = 2;\r\n            array[2] = 3;\r\n            array[3] = 4;\r\n    \r\n            // add up the values in the array.\r\n            for (int zx = 0;zx &lt; array.length;zx++)\r\n            }\r\n                val += array;\r\n            {\r\n    \r\n            system.out.println(val);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nMy version :\r\n\r\n    //\r\n    // Fix the compiler errors.  The program should display the value 6.\r\n    //\r\n    \r\n    package debug5;\r\n\r\n    public class debug5 {\r\n    \r\n        public static void rain(String[] args) {}\r\n            int val = 0;  // initialize val to 0.\r\n            int array[] = new int[3];  // create an array of 3 integers.\r\n            array[0] = 1;\r\n            array[1] = 2;\r\n            array[2] = 3;\r\n\r\n            // add up the values in the array.\r\n            for (int zx = 0;zx &lt; array.length;zx++)\r\n            }\r\n                val += array[];\r\n            {\r\n            \r\n            system.out.println(val);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I debug arrays?","body":"<p>I have this assignment that I am having trouble on. I'm supposed to fix syntax error in the code to produce the desired number. I fixed the amount of arrays from 4 to 3 and added &quot;[]&quot; to the end of array in the for loop. I don't know what else there is to fix. Can anyone help?</p>\n<pre><code>//\n// Fix the compiler errors.  The program should display the value 6.\n//\npackage debug5;\n\npublic class debug5 {\n\n    public static void rain(String[] args) {}\n        int val = 0;  // initialize val to 0.\n        int array[] = new int[3];  // create an array of 3 integers.\n        array[0] = 1;\n        array[1] = 2;\n        array[2] = 3;\n        array[3] = 4;\n\n        // add up the values in the array.\n        for (int zx = 0;zx &lt; array.length;zx++)\n        }\n            val += array;\n        {\n\n        system.out.println(val);\n    }\n\n}\n</code></pre>\n<p>My version :</p>\n<pre><code>//\n// Fix the compiler errors.  The program should display the value 6.\n//\n\npackage debug5;\n\npublic class debug5 {\n\n    public static void rain(String[] args) {}\n        int val = 0;  // initialize val to 0.\n        int array[] = new int[3];  // create an array of 3 integers.\n        array[0] = 1;\n        array[1] = 2;\n        array[2] = 3;\n\n        // add up the values in the array.\n        for (int zx = 0;zx &lt; array.length;zx++)\n        }\n            val += array[];\n        {\n        \n        system.out.println(val);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","inheritance","static"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1651706935,"post_id":72120463,"comment_id":127429907,"body_markdown":"You have nested classes where they have references back to the parent class but you&#39;re instantiating them without a parent. Make the nested classes static. Or put all classes at same level in file so none are nested.","body":"You have nested classes where they have references back to the parent class but you&#39;re instantiating them without a parent. Make the nested classes static. Or put all classes at same level in file so none are nested."},{"owner":{"account_id":25159273,"reputation":23,"user_id":19003703,"display_name":"rhian"},"score":0,"creation_date":1651707894,"post_id":72120463,"comment_id":127430089,"body_markdown":"Oh I didn&#39;t think nested classes would make difference @NathanHughes","body":"Oh I didn&#39;t think nested classes would make difference @NathanHughes"}],"owner":{"account_id":25159273,"reputation":23,"user_id":19003703,"display_name":"rhian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651707216,"answer_count":0,"score":0,"last_activity_date":1651707183,"creation_date":1651706701,"question_id":72120463,"body_markdown":"Google says to call any non-static method or variable in a static context, you need to construct the object first. This is exactly what I did here but I am still getting an error:\r\n\r\n        \r\n    public class Example\r\n    {\r\n     \r\n    public static void main(String args[]){\r\n        One one = new Two(&quot;Lovelace&quot;);\r\n        one.methodA();\r\n        one.methodB();\r\n    }\r\n    \r\n    public class One\r\n    {\r\n        public One(){\r\n            System.out.println(&quot;Turing&quot;);\r\n        }\r\n        \r\n        public void methodA(){\r\n            System.out.println(&quot;zuse&quot;);\r\n        }\r\n        \r\n        public void methodB(){\r\n            methodA();\r\n        }\r\n    }\r\n    \r\n    public class Two extends One {\r\n        public  Two(String s){\r\n            System.out.println(s);\r\n        }\r\n        \r\n        public void methodA(){\r\n            System.out.println(&quot;Von Neumann&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI am getting an error on `One one = new Two(&quot;Lovelace&quot;);` it says non static variable cannot be referenced from a static context but I literally created a new object so whats happening?","title":"How to call a constructor of child class in a main static method? (Java)","body":"<p>Google says to call any non-static method or variable in a static context, you need to construct the object first. This is exactly what I did here but I am still getting an error:</p>\n<pre><code>public class Example\n{\n \npublic static void main(String args[]){\n    One one = new Two(&quot;Lovelace&quot;);\n    one.methodA();\n    one.methodB();\n}\n\npublic class One\n{\n    public One(){\n        System.out.println(&quot;Turing&quot;);\n    }\n    \n    public void methodA(){\n        System.out.println(&quot;zuse&quot;);\n    }\n    \n    public void methodB(){\n        methodA();\n    }\n}\n\npublic class Two extends One {\n    public  Two(String s){\n        System.out.println(s);\n    }\n    \n    public void methodA(){\n        System.out.println(&quot;Von Neumann&quot;);\n    }\n}\n</code></pre>\n<p>I am getting an error on <code>One one = new Two(&quot;Lovelace&quot;);</code> it says non static variable cannot be referenced from a static context but I literally created a new object so whats happening?</p>\n"},{"tags":["java","bazel"],"answers":[{"tags":[],"owner":{"account_id":15806,"reputation":19577,"user_id":33795,"display_name":"Benjamin Peterson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651707142,"creation_date":1651707142,"answer_id":72120505,"question_id":72119814,"body_markdown":"Bazel guesses that the the root of the Java package hierarchy is the `src` folder and therefore tries to load `handlers.MyHttpHandlerTest`. So, either change the package to actually be `handlers` or override Bazel&#39;s heuristic with the `test_class` attribute:\r\n```\r\njava_test(\r\n    name = &quot;MyHttpHandlerTest&quot;,\r\n    srcs = [\r\n        &quot;MyHttpHandler.java&quot;,\r\n        &quot;MyHttpHandlerTest.java&quot;,\r\n    ],\r\n    deps = [\r\n        &quot;//:java_test_deps&quot;,\r\n        &quot;//src/messages&quot;,\r\n    ],\r\n    test_class = &quot;src.handlers.MyHttpHandlerTest&quot;,\r\n)\r\n```","title":"Why can&#39;t Bazel find my test class when running bazel test on a java_test rule?","body":"<p>Bazel guesses that the the root of the Java package hierarchy is the <code>src</code> folder and therefore tries to load <code>handlers.MyHttpHandlerTest</code>. So, either change the package to actually be <code>handlers</code> or override Bazel's heuristic with the <code>test_class</code> attribute:</p>\n<pre><code>java_test(\n    name = &quot;MyHttpHandlerTest&quot;,\n    srcs = [\n        &quot;MyHttpHandler.java&quot;,\n        &quot;MyHttpHandlerTest.java&quot;,\n    ],\n    deps = [\n        &quot;//:java_test_deps&quot;,\n        &quot;//src/messages&quot;,\n    ],\n    test_class = &quot;src.handlers.MyHttpHandlerTest&quot;,\n)\n</code></pre>\n"}],"owner":{"account_id":20352480,"reputation":3,"user_id":16236665,"display_name":"Travis Cramer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72120505,"answer_count":1,"score":0,"last_activity_date":1651707142,"creation_date":1651700795,"question_id":72119814,"body_markdown":"I have a test class defined in `src/handlers/MyHttpHandlerTest.java` (sorry, I know it&#39;s best practice to put tests in a `tests` directory).\r\n\r\nHere is my `src/handlers/BUILD` file:\r\n```\r\njava_test(\r\n    name = &quot;MyHttpHandlerTest&quot;,\r\n    srcs = [\r\n        &quot;MyHttpHandler.java&quot;,\r\n        &quot;MyHttpHandlerTest.java&quot;,\r\n    ],\r\n    deps = [\r\n        &quot;//:java_test_deps&quot;,\r\n        &quot;//src/messages&quot;,\r\n    ],\r\n)\r\n```\r\nMy test class is defined in `src/handlers/MyHttpHandlerTest.java` as follows (It currently doesn&#39;t assert anything -- I&#39;m just trying to test out my installation of junit and Mockito):\r\n```\r\npackage src.handlers;\r\n\r\nimport com.sun.net.httpserver.HttpExchange;\r\nimport src.messages.Message;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\nimport java.io.IOException;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyHttpHandlerTest {\r\n\r\n    @Mock\r\n    Message message;\r\n\r\n    @Mock\r\n    HttpExchange exchange;\r\n\r\n    @Test\r\n    public void testGetMessage() throws IOException {\r\n        MyHttpHandler handler = new MyHttpHandler();\r\n        when(message.getMessage()).thenReturn(&quot;Hello world!&quot;);\r\n        handler.setMessage(message);\r\n        handler.handle(exchange);\r\n    }\r\n}\r\n```\r\nWhen I run `bazel test //src/handlers:MyHttpHandlerTest`, it successfully compiles the source files, but then returns the error:\r\n```\r\nClass not found: [handlers.MyHttpHandlerTest]\r\n```\r\nWhy can&#39;t bazel find this class?","title":"Why can&#39;t Bazel find my test class when running bazel test on a java_test rule?","body":"<p>I have a test class defined in <code>src/handlers/MyHttpHandlerTest.java</code> (sorry, I know it's best practice to put tests in a <code>tests</code> directory).</p>\n<p>Here is my <code>src/handlers/BUILD</code> file:</p>\n<pre><code>java_test(\n    name = &quot;MyHttpHandlerTest&quot;,\n    srcs = [\n        &quot;MyHttpHandler.java&quot;,\n        &quot;MyHttpHandlerTest.java&quot;,\n    ],\n    deps = [\n        &quot;//:java_test_deps&quot;,\n        &quot;//src/messages&quot;,\n    ],\n)\n</code></pre>\n<p>My test class is defined in <code>src/handlers/MyHttpHandlerTest.java</code> as follows (It currently doesn't assert anything -- I'm just trying to test out my installation of junit and Mockito):</p>\n<pre><code>package src.handlers;\n\nimport com.sun.net.httpserver.HttpExchange;\nimport src.messages.Message;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\nimport static org.mockito.Mockito.when;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.io.IOException;\n\n@ExtendWith(MockitoExtension.class)\npublic class MyHttpHandlerTest {\n\n    @Mock\n    Message message;\n\n    @Mock\n    HttpExchange exchange;\n\n    @Test\n    public void testGetMessage() throws IOException {\n        MyHttpHandler handler = new MyHttpHandler();\n        when(message.getMessage()).thenReturn(&quot;Hello world!&quot;);\n        handler.setMessage(message);\n        handler.handle(exchange);\n    }\n}\n</code></pre>\n<p>When I run <code>bazel test //src/handlers:MyHttpHandlerTest</code>, it successfully compiles the source files, but then returns the error:</p>\n<pre><code>Class not found: [handlers.MyHttpHandlerTest]\n</code></pre>\n<p>Why can't bazel find this class?</p>\n"},{"tags":["java","android","admob","ads","banner"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1651735389,"post_id":72106299,"comment_id":127434745,"body_markdown":"attach your code snippet here","body":"attach your code snippet here"}],"owner":{"account_id":25187667,"reputation":11,"user_id":19028305,"display_name":"USHIO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651705596,"creation_date":1651618992,"question_id":72106299,"body_markdown":"when I refresh my AdMob banner it duplicates itself so my question is how I can clear the banner when refreshing and generate a new one?\r\nhere is an image for more clarifications.[here][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MKemp.png","title":"Admob banner duplicating when refreshing","body":"<p>when I refresh my AdMob banner it duplicates itself so my question is how I can clear the banner when refreshing and generate a new one?\nhere is an image for more clarifications.<a href=\"https://i.stack.imgur.com/MKemp.png\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"score":3,"creation_date":1649384759,"post_id":71790988,"comment_id":126867521,"body_markdown":"What have you tried? Where are you getting stuck?","body":"What have you tried? Where are you getting stuck?"}],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651705319,"creation_date":1649385565,"answer_id":71791080,"question_id":71790988,"body_markdown":"Though I am not entirely sure where you are stuck, this example expression may be your best friend:\r\n     \r\n        String exampleString = &quot;Example String&quot;;\r\n        char exampleChar = example.charAt(3);\r\nThis statement is true:\r\n\r\n        exampleChar == &#39;m&#39;\r\n**EDIT FOR ADDITIONS**\r\n\r\nTo read the user input, you would need to read different types of characters. To read a number using the Scanner class, you would use **.nextInt()** or **.nextDouble()** to check for spaces and symbols, using **.next()** only reads till the next break. Please elaborate where you are getting stuck/where we can be more specific :)","title":"JAVA How do I read an input from the user containing math operators and numbers in one expression?","body":"<p>Though I am not entirely sure where you are stuck, this example expression may be your best friend:</p>\n<pre><code>    String exampleString = &quot;Example String&quot;;\n    char exampleChar = example.charAt(3);\n</code></pre>\n<p>This statement is true:</p>\n<pre><code>    exampleChar == 'm'\n</code></pre>\n<p><strong>EDIT FOR ADDITIONS</strong></p>\n<p>To read the user input, you would need to read different types of characters. To read a number using the Scanner class, you would use <strong>.nextInt()</strong> or <strong>.nextDouble()</strong> to check for spaces and symbols, using <strong>.next()</strong> only reads till the next break. Please elaborate where you are getting stuck/where we can be more specific :)</p>\n"}],"owner":{"account_id":23323190,"reputation":1,"user_id":17400726,"display_name":"lilostich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1651705319,"creation_date":1649384636,"question_id":71790988,"body_markdown":"I have an assignment that asks me to create a Basic calculator, by taking an input from the user in one expressions as in &quot;4 - 1&quot; or &quot;5 + 3&quot;, and I need to check each number(1-9) and the operator (+,-,*,/) to see whether it is applicable. My question is how do I check whether the expression has a valid operator and spaces in between numbers and operator? (I&#39;m a beginner in Java, and thank you in advance to whoever answers)","title":"JAVA How do I read an input from the user containing math operators and numbers in one expression?","body":"<p>I have an assignment that asks me to create a Basic calculator, by taking an input from the user in one expressions as in &quot;4 - 1&quot; or &quot;5 + 3&quot;, and I need to check each number(1-9) and the operator (+,-,*,/) to see whether it is applicable. My question is how do I check whether the expression has a valid operator and spaces in between numbers and operator? (I'm a beginner in Java, and thank you in advance to whoever answers)</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1334769553,"post_id":10214418,"comment_id":13119455,"body_markdown":"I don&#39;t have an answer, but you don&#39;t *need* to call this constructor from the HQL query. You just need 3 lines of Java code to call the constructor explicitely, and have code that will be refactorable as an added bonus.","body":"I don&#39;t have an answer, but you don&#39;t <i>need</i> to call this constructor from the HQL query. You just need 3 lines of Java code to call the constructor explicitely, and have code that will be refactorable as an added bonus."},{"owner":{"account_id":945505,"reputation":1726,"user_id":972830,"accept_rate":60,"display_name":"dim1902"},"score":0,"creation_date":1334770178,"post_id":10214418,"comment_id":13119686,"body_markdown":"Actually I need. I have to pass HQL String and this wrapper must be constructed in this string","body":"Actually I need. I have to pass HQL String and this wrapper must be constructed in this string"}],"answers":[{"tags":[],"owner":{"account_id":1419314,"reputation":723,"user_id":1344273,"display_name":"Bradford2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334848827,"creation_date":1334848827,"answer_id":10231335,"question_id":10214418,"body_markdown":"I&#39;m not 100% sure, but I think that you might need to use a Boolean object instead of the boolean primitive.","title":"How to pass boolean parameter to HQL new constructor","body":"<p>I'm not 100% sure, but I think that you might need to use a Boolean object instead of the boolean primitive.</p>\n"}],"owner":{"account_id":945505,"reputation":1726,"user_id":972830,"accept_rate":60,"display_name":"dim1902"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1651704585,"creation_date":1334769000,"question_id":10214418,"body_markdown":"**Situation**: I have an object **SubjectRow** that wraps object **Subject** (object Subject is persistable entity). I need to create new wrapper object directly in HQL. \r\n\r\n    public class SubjectRow{\r\n        Subject subject;\r\n        String myString;\r\n        boolean myBoolean;\r\n\r\n        public SubjectRow(SubjectSch subject, String myString) {\r\n            this.subject = subject;\r\n            this.myString = myString;\r\n        }\r\n   \r\n        public SubjectRow(SubjectSch subject, boolean myBoolean) {\r\n            this.subject = subject;\r\n            this.myBoolean = myBoolean;\r\n        }\r\n\r\n\r\n    }\r\n\r\n**HQL for constructor with string (and it works like it should):**\r\n\r\n    SELECT new package.SubjectRow(s, &#39;myString&#39;) FROM Subject s\r\n\r\n**Problem**. The problem that sometimes I need to call another constructor of this wrapper that accepts boolean instead of string. I tried the same approach\r\n\r\n    SELECT new package.SubjectRow(s, true) FROM Subject s\r\n\r\nBut Hibernate complains that it can&#39;t find appropriate constructor in class SubjectRow. Of course, I could pass string and then just make appropriate casting - but its too ugly. \r\n\r\n**Question**: how should I change my HQL and/or constructor to pass this boolean parameter directly (it is possible to use Boolean instead)?\r\n\r\n\r\n\r\n**&quot;Solution&quot;**. Because I was unable to find how to pass boolean correctly I have to rework my domain objects little bit. I just remove this boolean property from SubjectRow and instead create SubjectRowFalse and SubjectRowTrue classes that are children of original object. And now just using two HQL\r\n\r\n    SELECT new package.SubjectRowTrue(s) FROM Subject s\r\n\r\n    SELECT new package.SubjectRowFalse(s) FROM Subject s\r\n\r\nOf course, it is just a workaround and not solution for the original problem","title":"How to pass boolean parameter to HQL new constructor","body":"<p><strong>Situation</strong>: I have an object <strong>SubjectRow</strong> that wraps object <strong>Subject</strong> (object Subject is persistable entity). I need to create new wrapper object directly in HQL.</p>\n<pre><code>public class SubjectRow{\n    Subject subject;\n    String myString;\n    boolean myBoolean;\n\n    public SubjectRow(SubjectSch subject, String myString) {\n        this.subject = subject;\n        this.myString = myString;\n    }\n\n    public SubjectRow(SubjectSch subject, boolean myBoolean) {\n        this.subject = subject;\n        this.myBoolean = myBoolean;\n    }\n\n\n}\n</code></pre>\n<p><strong>HQL for constructor with string (and it works like it should):</strong></p>\n<pre><code>SELECT new package.SubjectRow(s, 'myString') FROM Subject s\n</code></pre>\n<p><strong>Problem</strong>. The problem that sometimes I need to call another constructor of this wrapper that accepts boolean instead of string. I tried the same approach</p>\n<pre><code>SELECT new package.SubjectRow(s, true) FROM Subject s\n</code></pre>\n<p>But Hibernate complains that it can't find appropriate constructor in class SubjectRow. Of course, I could pass string and then just make appropriate casting - but its too ugly.</p>\n<p><strong>Question</strong>: how should I change my HQL and/or constructor to pass this boolean parameter directly (it is possible to use Boolean instead)?</p>\n<p><strong>&quot;Solution&quot;</strong>. Because I was unable to find how to pass boolean correctly I have to rework my domain objects little bit. I just remove this boolean property from SubjectRow and instead create SubjectRowFalse and SubjectRowTrue classes that are children of original object. And now just using two HQL</p>\n<pre><code>SELECT new package.SubjectRowTrue(s) FROM Subject s\n\nSELECT new package.SubjectRowFalse(s) FROM Subject s\n</code></pre>\n<p>Of course, it is just a workaround and not solution for the original problem</p>\n"},{"tags":["java","swing","sockets","actionlistener","distributed-system"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1651702825,"post_id":72119982,"comment_id":127429166,"body_markdown":"Swing threading may be contributing to some problems, but the NullPointerException issue remains difficult for any of us to help with, without your posting the stacktrace and indicating which line throws the exception (as per *most* NPE questions -- please read: [What is a NullPointerException, and how do I fix it?](http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)).","body":"Swing threading may be contributing to some problems, but the NullPointerException issue remains difficult for any of us to help with, without your posting the stacktrace and indicating which line throws the exception (as per <i>most</i> NPE questions -- please read: <a href=\"http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>)."},{"owner":{"account_id":25197840,"reputation":1,"user_id":19037126,"display_name":"John"},"score":0,"creation_date":1651703363,"post_id":72119982,"comment_id":127429275,"body_markdown":"I added the stacktrace and I&#39;m reading the post about NPE!","body":"I added the stacktrace and I&#39;m reading the post about NPE!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1651703457,"post_id":72119982,"comment_id":127429286,"body_markdown":"So, the key question is: *what line is `Client.java:39`*? The first line from the stack trace that shows the error emanating from your code is: `at network.Client.login(Client.java:39)`","body":"So, the key question is: <i>what line is <code>Client.java:39</code></i>? The first line from the stack trace that shows the error emanating from your code is: <code>at network.Client.login(Client.java:39)</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1651703680,"post_id":72119982,"comment_id":127429326,"body_markdown":"Side note: you don&#39;t appear to be using your Logger library to its full extent. You should be logging much more information, especially in the code *before* the NPE is thrown to see what the state of the key variables are in the code. You can always change the logging level when you no longer have this error.","body":"Side note: you don&#39;t appear to be using your Logger library to its full extent. You should be logging much more information, especially in the code <i>before</i> the NPE is thrown to see what the state of the key variables are in the code. You can always change the logging level when you no longer have this error."},{"owner":{"account_id":25197840,"reputation":1,"user_id":19037126,"display_name":"John"},"score":0,"creation_date":1651703942,"post_id":72119982,"comment_id":127429376,"body_markdown":"Line 39 is jsonObject = new JSONObject(line); @HovercraftFullOfEels ,I  will try to implement the Logger library to get more information about the error","body":"Line 39 is jsonObject = new JSONObject(line); @HovercraftFullOfEels ,I  will try to implement the Logger library to get more information about the error"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1651704012,"post_id":72119982,"comment_id":127429387,"body_markdown":"so `line` is likely null on that line. Now you should do some debugging to find out why.","body":"so <code>line</code> is likely null on that line. Now you should do some debugging to find out why."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651704250,"post_id":72119982,"comment_id":127429425,"body_markdown":"So, I removed all the &quot;network&quot; related code and your code works &quot;fine&quot;, without error, so the issue is with the response from server, instead of doing `jsonObject = new JSONObject(line);` immediately, I&#39;d recommend dumping `line` to stdout to see what is been returned","body":"So, I removed all the &quot;network&quot; related code and your code works &quot;fine&quot;, without error, so the issue is with the response from server, instead of doing <code>jsonObject = new JSONObject(line);</code> immediately, I&#39;d recommend dumping <code>line</code> to stdout to see what is been returned"},{"owner":{"account_id":25197840,"reputation":1,"user_id":19037126,"display_name":"John"},"score":0,"creation_date":1651704799,"post_id":72119982,"comment_id":127429523,"body_markdown":"I just tested it and indeed `String line = reader.readLine();` is returning null.\nI will analyze the server, apparently his response never arrives for the Client to read.","body":"I just tested it and indeed <code>String line = reader.readLine();</code> is returning null. I will analyze the server, apparently his response never arrives for the Client to read."}],"owner":{"account_id":25197840,"reputation":1,"user_id":19037126,"display_name":"John"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651704297,"answer_count":0,"score":0,"last_activity_date":1651703251,"creation_date":1651702270,"question_id":72119982,"body_markdown":"I&#39;m making an echo server in java, I have two buttons one for registration and one for login, I can login OR register but after that to use the other function I need to reopen the program.\r\n\r\nWhen I create an account &amp; try to log in with it I get the following error:\r\n`Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;s&quot; is null`.\r\n\r\nI tried to debug the program to find where &quot;s&quot; is null, but without success.\r\nI can&#39;t understand why functions work if used only once and stop working if used together\r\n\r\nMy functions:\r\n\r\n\r\n```\r\n public static void main(String[] args) throws IOException {\r\n        createInterface();       \r\n    }\r\n```\r\n\r\n```\r\npublic static void createInterface() throws IOException{\r\n        \r\n        var ip = &quot;localhost&quot;;\r\n        var port = 8080;\r\n        Socket socket = new Socket(ip, port);\r\n        OutputStreamWriter writer = new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\r\n        BufferedReader reader = new BufferedReader (new InputStreamReader(socket.getInputStream(), &quot;UTF-8&quot;));\r\n        \r\n        \r\n        JFrame f = new JFrame();\r\n        JLabel login = new JLabel(&quot;  Login&quot;);\r\n        JLabel username = new JLabel(&quot;User:&quot;);\r\n        JLabel password = new JLabel(&quot;Pass:&quot;);\r\n        JTextPane usernameBox = new JTextPane();\r\n        JPasswordField passwordBox = new JPasswordField();\r\n        JButton botaoCadastro = new JButton(&quot;Register&quot;);\r\n        JButton botaoLogin = new JButton(&quot;Login&quot;);\r\n        \r\n        \r\n        botaoLogin.setBounds(100, 140, 100, 40);\r\n        botaoCadastro.setBounds(100, 190, 100, 40);\r\n        usernameBox.setBounds(110, 55, 75, 25);  \r\n        passwordBox.setBounds(110, 95, 75, 25);  \r\n        login.setBounds(110, 1, 75, 75);\r\n        username.setBounds(60, 55, 75, 25);\r\n        password.setBounds(68, 95, 75, 25);\r\n        login.setFont(new Font(&quot;Times New Roman&quot;,Font.BOLD,20));\r\n        \r\n        \r\n        f.add(botaoLogin);\r\n        f.add(botaoCadastro);\r\n        f.add(login);\r\n        f.add(username);\r\n        f.add(password);        \r\n        f.add(usernameBox);          \r\n        f.add(passwordBox);\r\n        \r\n        botaoLogin.addActionListener((ActionListener) new ActionListener() {\r\n            @Override\r\n            @SuppressWarnings(&quot;empty-statement&quot;)\r\n                    public void actionPerformed(ActionEvent e) {try {;\r\n                        String username = usernameBox.getText(); \r\n                        char[] passwordChar = passwordBox.getPassword(); \r\n                        String password = String.valueOf(passwordChar);\r\n                        \r\n                        boolean success = login(writer, reader, username, password);\r\n                        if (success){\r\n                            JOptionPane.showMessageDialog(null, &quot;login authorized&quot;, &quot;Login&quot;, 1);\r\n                        }else{\r\n                            JOptionPane.showMessageDialog(null, &quot;Incorrect username or password&quot;, &quot;Login&quot;, 1);\r\n                        }\r\n                        \r\n                      \r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        });\r\n        \r\n        botaoCadastro.addActionListener((ActionListener) new ActionListener(){\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    String username = usernameBox.getText(); \r\n                    char[] passwordChar = passwordBox.getPassword(); \r\n                    String password = String.valueOf(passwordChar); \r\n                    \r\n                    int success = register(writer, reader, username, password);\r\n                    switch (success) {\r\n                        case 0 -&gt; JOptionPane.showMessageDialog(null, &quot;registration done&quot;, &quot;Register&quot;, 1);\r\n                        case 1 -&gt; JOptionPane.showMessageDialog(null, &quot;User already exists&quot;, &quot;Register&quot;, 1);\r\n                        case 2 -&gt; JOptionPane.showMessageDialog(null, &quot;blank user field&quot;, &quot;Register&quot;, 1);\r\n                        default -&gt; JOptionPane.showMessageDialog(null, &quot;?????&quot;, &quot;Register&quot;, 1);\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n                    \r\n        });\r\n        \r\n        f.setSize(300,300);  \r\n        f.setLayout(null); \r\n        f.setVisible(true);  \r\n   \r\n    }\r\n```\r\n```\r\npublic static boolean login(OutputStreamWriter writer,BufferedReader reader, String username, String password) throws IOException{\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;protocolo&quot;, &quot;100&quot;);\r\n        jsonObject.put(&quot;username&quot;, username); \r\n        jsonObject.put(&quot;password&quot;, password); \r\n        writer.write(jsonObject.toString() + &quot;\\n&quot;);\r\n        writer.flush();\r\n        String line = reader.readLine();\r\n        jsonObject = new JSONObject(line);\r\n        System.out.println(&quot;[LOGIN] sent to server: &quot; + jsonObject.toString(2));\r\n        String loginLine = reader.readLine();\r\n        JSONObject loginAnswer = new JSONObject(loginLine);\r\n        reader.readLine();\r\n        System.out.println(loginAnswer);\r\n        if (loginAnswer.getString(&quot;protocolo&quot;).equals(&quot;101&quot;)) { \r\n            System.out.println(&quot;Login successful&quot;);\r\n            return true;\r\n        }else{\r\n            System.out.println(&quot;login not authorized, username or password incorrect&quot;);\r\n            return false;\r\n        }\r\n    }\r\n    \r\n        public static int register(OutputStreamWriter writer,BufferedReader reader, String username, String password) throws IOException{\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;protocolo&quot;, &quot;300&quot;);\r\n        jsonObject.put(&quot;username&quot;, username); \r\n        jsonObject.put(&quot;password&quot;, password); \r\n        writer.write(jsonObject.toString() + &quot;\\n&quot;);\r\n        writer.flush();\r\n        String line2 = reader.readLine();\r\n        jsonObject = new JSONObject(line2);\r\n        System.out.println(&quot;[REGISTER] sent to server: &quot; + jsonObject.toString(2));\r\n        String registerLine = reader.readLine();\r\n        JSONObject registerAnswer = new JSONObject(registerLine);\r\n        reader.readLine();\r\n        System.out.println(registerAnswer);\r\n        \r\n        if (registerAnswer.getString(&quot;protocolo&quot;).equals(&quot;301&quot;)) {\r\n            System.out.println(&quot;register successful&quot;);\r\n            return 0;\r\n        }else if (registerAnswer.getString(&quot;protocolo&quot;).equals(&quot;302&quot;)) {\r\n            System.out.println(&quot;user already exists&quot;);\r\n            return 1;\r\n        }else if (registerAnswer.getString(&quot;protocolo&quot;).equals(&quot;303&quot;)) {\r\n            System.out.println(&quot;field empty&quot;);\r\n            return 2;\r\n        }else{\r\n            System.out.println(&quot;unk protocol&quot;);\r\n            return -1;\r\n        }\r\n    }\r\n```\r\n\r\n**any** help is welcome :))\r\n\r\nEdit: full error \r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;s&quot; is null\r\n\tat java.base/java.io.StringReader.&lt;init&gt;(StringReader.java:51)\r\n\tat org.json.JSONTokener.&lt;init&gt;(JSONTokener.java:94)\r\n\tat org.json.JSONObject.&lt;init&gt;(JSONObject.java:421)\r\n\tat network.Client.login(Client.java:39)\r\n\tat network.Client$1.actionPerformed(Client.java:129)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```","title":"ActionListener buttons only works for login or register, not both","body":"<p>I'm making an echo server in java, I have two buttons one for registration and one for login, I can login OR register but after that to use the other function I need to reopen the program.</p>\n<p>When I create an account &amp; try to log in with it I get the following error:\n<code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;s&quot; is null</code>.</p>\n<p>I tried to debug the program to find where &quot;s&quot; is null, but without success.\nI can't understand why functions work if used only once and stop working if used together</p>\n<p>My functions:</p>\n<pre><code> public static void main(String[] args) throws IOException {\n        createInterface();       \n    }\n</code></pre>\n<pre><code>public static void createInterface() throws IOException{\n        \n        var ip = &quot;localhost&quot;;\n        var port = 8080;\n        Socket socket = new Socket(ip, port);\n        OutputStreamWriter writer = new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\n        BufferedReader reader = new BufferedReader (new InputStreamReader(socket.getInputStream(), &quot;UTF-8&quot;));\n        \n        \n        JFrame f = new JFrame();\n        JLabel login = new JLabel(&quot;  Login&quot;);\n        JLabel username = new JLabel(&quot;User:&quot;);\n        JLabel password = new JLabel(&quot;Pass:&quot;);\n        JTextPane usernameBox = new JTextPane();\n        JPasswordField passwordBox = new JPasswordField();\n        JButton botaoCadastro = new JButton(&quot;Register&quot;);\n        JButton botaoLogin = new JButton(&quot;Login&quot;);\n        \n        \n        botaoLogin.setBounds(100, 140, 100, 40);\n        botaoCadastro.setBounds(100, 190, 100, 40);\n        usernameBox.setBounds(110, 55, 75, 25);  \n        passwordBox.setBounds(110, 95, 75, 25);  \n        login.setBounds(110, 1, 75, 75);\n        username.setBounds(60, 55, 75, 25);\n        password.setBounds(68, 95, 75, 25);\n        login.setFont(new Font(&quot;Times New Roman&quot;,Font.BOLD,20));\n        \n        \n        f.add(botaoLogin);\n        f.add(botaoCadastro);\n        f.add(login);\n        f.add(username);\n        f.add(password);        \n        f.add(usernameBox);          \n        f.add(passwordBox);\n        \n        botaoLogin.addActionListener((ActionListener) new ActionListener() {\n            @Override\n            @SuppressWarnings(&quot;empty-statement&quot;)\n                    public void actionPerformed(ActionEvent e) {try {;\n                        String username = usernameBox.getText(); \n                        char[] passwordChar = passwordBox.getPassword(); \n                        String password = String.valueOf(passwordChar);\n                        \n                        boolean success = login(writer, reader, username, password);\n                        if (success){\n                            JOptionPane.showMessageDialog(null, &quot;login authorized&quot;, &quot;Login&quot;, 1);\n                        }else{\n                            JOptionPane.showMessageDialog(null, &quot;Incorrect username or password&quot;, &quot;Login&quot;, 1);\n                        }\n                        \n                      \n                } catch (IOException ex) {\n                    Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n        \n        botaoCadastro.addActionListener((ActionListener) new ActionListener(){\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    String username = usernameBox.getText(); \n                    char[] passwordChar = passwordBox.getPassword(); \n                    String password = String.valueOf(passwordChar); \n                    \n                    int success = register(writer, reader, username, password);\n                    switch (success) {\n                        case 0 -&gt; JOptionPane.showMessageDialog(null, &quot;registration done&quot;, &quot;Register&quot;, 1);\n                        case 1 -&gt; JOptionPane.showMessageDialog(null, &quot;User already exists&quot;, &quot;Register&quot;, 1);\n                        case 2 -&gt; JOptionPane.showMessageDialog(null, &quot;blank user field&quot;, &quot;Register&quot;, 1);\n                        default -&gt; JOptionPane.showMessageDialog(null, &quot;?????&quot;, &quot;Register&quot;, 1);\n                    }\n                } catch (IOException ex) {\n                    Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n                    \n        });\n        \n        f.setSize(300,300);  \n        f.setLayout(null); \n        f.setVisible(true);  \n   \n    }\n</code></pre>\n<pre><code>public static boolean login(OutputStreamWriter writer,BufferedReader reader, String username, String password) throws IOException{\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;protocolo&quot;, &quot;100&quot;);\n        jsonObject.put(&quot;username&quot;, username); \n        jsonObject.put(&quot;password&quot;, password); \n        writer.write(jsonObject.toString() + &quot;\\n&quot;);\n        writer.flush();\n        String line = reader.readLine();\n        jsonObject = new JSONObject(line);\n        System.out.println(&quot;[LOGIN] sent to server: &quot; + jsonObject.toString(2));\n        String loginLine = reader.readLine();\n        JSONObject loginAnswer = new JSONObject(loginLine);\n        reader.readLine();\n        System.out.println(loginAnswer);\n        if (loginAnswer.getString(&quot;protocolo&quot;).equals(&quot;101&quot;)) { \n            System.out.println(&quot;Login successful&quot;);\n            return true;\n        }else{\n            System.out.println(&quot;login not authorized, username or password incorrect&quot;);\n            return false;\n        }\n    }\n    \n        public static int register(OutputStreamWriter writer,BufferedReader reader, String username, String password) throws IOException{\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;protocolo&quot;, &quot;300&quot;);\n        jsonObject.put(&quot;username&quot;, username); \n        jsonObject.put(&quot;password&quot;, password); \n        writer.write(jsonObject.toString() + &quot;\\n&quot;);\n        writer.flush();\n        String line2 = reader.readLine();\n        jsonObject = new JSONObject(line2);\n        System.out.println(&quot;[REGISTER] sent to server: &quot; + jsonObject.toString(2));\n        String registerLine = reader.readLine();\n        JSONObject registerAnswer = new JSONObject(registerLine);\n        reader.readLine();\n        System.out.println(registerAnswer);\n        \n        if (registerAnswer.getString(&quot;protocolo&quot;).equals(&quot;301&quot;)) {\n            System.out.println(&quot;register successful&quot;);\n            return 0;\n        }else if (registerAnswer.getString(&quot;protocolo&quot;).equals(&quot;302&quot;)) {\n            System.out.println(&quot;user already exists&quot;);\n            return 1;\n        }else if (registerAnswer.getString(&quot;protocolo&quot;).equals(&quot;303&quot;)) {\n            System.out.println(&quot;field empty&quot;);\n            return 2;\n        }else{\n            System.out.println(&quot;unk protocol&quot;);\n            return -1;\n        }\n    }\n</code></pre>\n<p><strong>any</strong> help is welcome :))</p>\n<p>Edit: full error</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;s&quot; is null\n    at java.base/java.io.StringReader.&lt;init&gt;(StringReader.java:51)\n    at org.json.JSONTokener.&lt;init&gt;(JSONTokener.java:94)\n    at org.json.JSONObject.&lt;init&gt;(JSONObject.java:421)\n    at network.Client.login(Client.java:39)\n    at network.Client$1.actionPerformed(Client.java:129)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","junit","mockito","final"],"comments":[{"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"score":0,"creation_date":1651668131,"post_id":72113060,"comment_id":127416937,"body_markdown":"Are you not injecting the mock in to the class that you are actually testing?","body":"Are you not injecting the mock in to the class that you are actually testing?"},{"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"score":0,"creation_date":1651668374,"post_id":72113060,"comment_id":127417036,"body_markdown":"I did using  @InjectMocks in myTestClass","body":"I did using  @InjectMocks in myTestClass"},{"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"score":0,"creation_date":1651668501,"post_id":72113060,"comment_id":127417078,"body_markdown":"I think it would be easier to help if you would provide us with some more info","body":"I think it would be easier to help if you would provide us with some more info"},{"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"score":0,"creation_date":1651668720,"post_id":72113060,"comment_id":127417166,"body_markdown":"ok. I&#39;ll modify the question with more details.","body":"ok. I&#39;ll modify the question with more details."},{"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"score":0,"creation_date":1651670525,"post_id":72113060,"comment_id":127417960,"body_markdown":"Added more details to the question and hope it&#39;ll helpful.","body":"Added more details to the question and hope it&#39;ll helpful."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1651677913,"post_id":72113060,"comment_id":127421212,"body_markdown":"Show all of ServiceClassB; specifically, how do you set serviceClassA.  The code you included can neither run nor compile; the final is never initialized.","body":"Show all of ServiceClassB; specifically, how do you set serviceClassA.  The code you included can neither run nor compile; the final is never initialized."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":2,"creation_date":1651678046,"post_id":72113060,"comment_id":127421263,"body_markdown":"@InjectMocks is not magic.  Since the serviceClassA member of ServiceClassB is not annotated as either Autowired or Inject, it will always be ignored by InjectMocks.  Consider reading https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html","body":"@InjectMocks is not magic.  Since the serviceClassA member of ServiceClassB is not annotated as either Autowired or Inject, it will always be ignored by InjectMocks.  Consider reading <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/InjectMocks.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651702852,"creation_date":1651702852,"answer_id":72120054,"question_id":72113060,"body_markdown":"The problem there is that you are using [@RunWith(MockitoJUnitRunner.class)][1] together with [MockitoAnnotations.initMocks(this)][2]. They are conflicting. \r\n&lt;br&gt;Use something one `MockitoJUnitRunner` or `MockitoAnnotations.initMocks`.\r\n\r\n&gt; MockitoJUnitRunner Initializes mocks annotated with Mock, so that\r\n&gt; explicit usage of MockitoAnnotations.initMocks(Object) is not\r\n&gt; necessary. Mocks are initialized before each test method.\r\n\r\nWorking test:\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ServiceClassBTest {\r\n    \r\n    @InjectMocks\r\n    private ServiceClassB serviceClassB;\r\n\r\n    @Mock\r\n    private ServiceClassA serviceClassA;\r\n        \r\n    @Test\r\n    public void methodB_success(){\r\n        String result = &quot;SUCCESS&quot;;\r\n        \r\n        when(serviceClassA.callingMethod(Mockito.anyString(), Mockito.anyString())).thenReturn(result);\r\n\r\n        serviceClassB.methodB();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://www.javadoc.io/static/org.mockito/mockito-core/2.2.28/org/mockito/junit/MockitoJUnitRunner.html\r\n  [2]: https://www.javadoc.io/static/org.mockito/mockito-core/2.2.28/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)","title":"Mocking method with final arguments","body":"<p>The problem there is that you are using <a href=\"https://www.javadoc.io/static/org.mockito/mockito-core/2.2.28/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"nofollow noreferrer\">@RunWith(MockitoJUnitRunner.class)</a> together with <a href=\"https://www.javadoc.io/static/org.mockito/mockito-core/2.2.28/org/mockito/MockitoAnnotations.html#initMocks(java.lang.Object)\" rel=\"nofollow noreferrer\">MockitoAnnotations.initMocks(this)</a>. They are conflicting.\n<br>Use something one <code>MockitoJUnitRunner</code> or <code>MockitoAnnotations.initMocks</code>.</p>\n<blockquote>\n<p>MockitoJUnitRunner Initializes mocks annotated with Mock, so that\nexplicit usage of MockitoAnnotations.initMocks(Object) is not\nnecessary. Mocks are initialized before each test method.</p>\n</blockquote>\n<p>Working test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceClassBTest {\n    \n    @InjectMocks\n    private ServiceClassB serviceClassB;\n\n    @Mock\n    private ServiceClassA serviceClassA;\n        \n    @Test\n    public void methodB_success(){\n        String result = &quot;SUCCESS&quot;;\n        \n        when(serviceClassA.callingMethod(Mockito.anyString(), Mockito.anyString())).thenReturn(result);\n\n        serviceClassB.methodB();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72120054,"answer_count":1,"score":1,"last_activity_date":1651702852,"creation_date":1651667535,"question_id":72113060,"body_markdown":"I have some method which use final String arguments in ServiceClassA.\r\n\r\n    @Service\r\n    public class ServiceClassA {\r\n    \r\n    \tpublic String callingMethod(final String argOne, final String argTwo) {\r\n    \t\t//Implementation here\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd its call within another method in another class ServiceClassB.\r\n\r\n    @Service\r\n    public class ServiceClassB {\r\n        private final ServiceClassA serviceClassA;\r\n    \t\r\n    \tpublic MyResponse methodB() {\r\n    \t\tString inputOne = &quot;111&quot;;\r\n    \t\tString inputTwo = MyEnum.AAA.getDescription();\r\n    \t\t\r\n    \t\tfinal String result = serviceClassA.callingMethod(inputOne,inputTwo);\r\n    \t\t\r\n    \t\t//some implementations\r\n    \t\t\r\n    \t\tMyResponse response = new MyResponse();\r\n    \t\t//set values to response\r\n    \t\t\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\nAlso there is a enum.\r\n\r\n    public enum MyEnum {\r\n    \tAAA(1, &quot;AAA&quot;), BBB(2,&quot;BBB&quot;);\r\n    \t\r\n    \tprivate static final Map&lt;Integer, MyEnum&gt; MYENUM_MAP = new HashMap&lt;&gt;();\r\n    \t\r\n    \tstatic {\r\n    \t\tfor (MyEnum myEnum : values()) {\r\n    \t\t\tMYENUM_MAP.put(myEnum.getValue(), myEnum);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate final int value;\r\n    \tprivate final String description;\r\n    \r\n    \tprivate MyEnum(int value, String description) {\r\n    \t\tthis.value = value;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic int getValue() {\r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n\r\nI&#39;m testing ServiceClassB using mockito and JUnit. When I try to mock callingMethod in ServiceClassA it returns null instead of the &quot;SUCCESS&quot;.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ServiceClassBTest {\r\n    \t\r\n    \t@InjectMocks\r\n    \tprivate ServiceClassB serviceClassB;\r\n    \r\n    \t@Mock\r\n    \tprivate ServiceClassA serviceClassA;\r\n    \t\r\n    \t@Before\r\n        public void init() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \t\t\r\n    \t@Test\r\n    \tpublic void methodB_success(){\r\n    \t\tString result = &quot;SUCCESS&quot;;\r\n    \t\t\r\n    \t\twhen(serviceClassA.callingMethod(Mockito.anyString(), Mockito.anyString())).thenReturn(result);\t\r\n    \t}\r\n    }\r\n\r\nI tried several ways as below and always it returns null. But I want to get SUCCESS as the result.\r\n\r\n    when(myService.callingMethod(Mockito.anyString(), Mockito.anyString())).thenReturn(result); //return null\r\n    when(myService.callingMethod(Mockito.any(), Mockito.any())).thenReturn(result); //return null\r\n    when(myService.callingMethod(ArgumentMatchers.anyString(), ArgumentMatchers.anyString())).thenReturn(result); //return null\r\n    doReturn(result).when(myService).callingMethod(Mockito.anyString(), Mockito.anyString()); //return null","title":"Mocking method with final arguments","body":"<p>I have some method which use final String arguments in ServiceClassA.</p>\n<pre><code>@Service\npublic class ServiceClassA {\n\n    public String callingMethod(final String argOne, final String argTwo) {\n        //Implementation here\n    }\n    \n}\n</code></pre>\n<p>And its call within another method in another class ServiceClassB.</p>\n<pre><code>@Service\npublic class ServiceClassB {\n    private final ServiceClassA serviceClassA;\n    \n    public MyResponse methodB() {\n        String inputOne = &quot;111&quot;;\n        String inputTwo = MyEnum.AAA.getDescription();\n        \n        final String result = serviceClassA.callingMethod(inputOne,inputTwo);\n        \n        //some implementations\n        \n        MyResponse response = new MyResponse();\n        //set values to response\n        \n        return response;\n    }\n}\n</code></pre>\n<p>Also there is a enum.</p>\n<pre><code>public enum MyEnum {\n    AAA(1, &quot;AAA&quot;), BBB(2,&quot;BBB&quot;);\n    \n    private static final Map&lt;Integer, MyEnum&gt; MYENUM_MAP = new HashMap&lt;&gt;();\n    \n    static {\n        for (MyEnum myEnum : values()) {\n            MYENUM_MAP.put(myEnum.getValue(), myEnum);\n        }\n    }\n    \n    private final int value;\n    private final String description;\n\n    private MyEnum(int value, String description) {\n        this.value = value;\n        this.description = description;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public int getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>I'm testing ServiceClassB using mockito and JUnit. When I try to mock callingMethod in ServiceClassA it returns null instead of the &quot;SUCCESS&quot;.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceClassBTest {\n    \n    @InjectMocks\n    private ServiceClassB serviceClassB;\n\n    @Mock\n    private ServiceClassA serviceClassA;\n    \n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n        \n    @Test\n    public void methodB_success(){\n        String result = &quot;SUCCESS&quot;;\n        \n        when(serviceClassA.callingMethod(Mockito.anyString(), Mockito.anyString())).thenReturn(result); \n    }\n}\n</code></pre>\n<p>I tried several ways as below and always it returns null. But I want to get SUCCESS as the result.</p>\n<pre><code>when(myService.callingMethod(Mockito.anyString(), Mockito.anyString())).thenReturn(result); //return null\nwhen(myService.callingMethod(Mockito.any(), Mockito.any())).thenReturn(result); //return null\nwhen(myService.callingMethod(ArgumentMatchers.anyString(), ArgumentMatchers.anyString())).thenReturn(result); //return null\ndoReturn(result).when(myService).callingMethod(Mockito.anyString(), Mockito.anyString()); //return null\n</code></pre>\n"},{"tags":["java","imagej","fiji"],"answers":[{"tags":[],"owner":{"account_id":2981463,"reputation":845,"user_id":2531336,"display_name":"thecarpy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651270704,"creation_date":1651270704,"answer_id":72064186,"question_id":72063939,"body_markdown":"According to the JavaDocs on [ImagePlus][1], `getProcessor()` returns an [ImageProcessor][2] on which you can perform a `convertToByteProcessor()` to get a `ByteProcessor`, you have other converters on `ImageProcessor` for other subclasses.\r\n\r\n  [1]: https://imagej.nih.gov/ij/developer/api/ij/ij/ImagePlus.html\r\n  [2]: https://imagej.nih.gov/ij/developer/api/ij/ij/process/ImageProcessor.html","title":"Read/Write BigTIFF using BioFormat","body":"<p>According to the JavaDocs on <a href=\"https://imagej.nih.gov/ij/developer/api/ij/ij/ImagePlus.html\" rel=\"nofollow noreferrer\">ImagePlus</a>, <code>getProcessor()</code> returns an <a href=\"https://imagej.nih.gov/ij/developer/api/ij/ij/process/ImageProcessor.html\" rel=\"nofollow noreferrer\">ImageProcessor</a> on which you can perform a <code>convertToByteProcessor()</code> to get a <code>ByteProcessor</code>, you have other converters on <code>ImageProcessor</code> for other subclasses.</p>\n"}],"owner":{"account_id":6833683,"reputation":5657,"user_id":5256563,"accept_rate":71,"display_name":"FiReTiTi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651702721,"creation_date":1651268411,"question_id":72063939,"body_markdown":"I need to I/O large images in `TIFF` format, so I need to use the `BigTIFF` format. I tried to use `BioFormats` (`bioformats_package.jar`) last version to read an image, using:\r\n\r\n    ImagePlus[] images = images = BF.openImagePlus(io) ;\r\n\r\nThen, I wanted to access the Processor `images[0].getProcessor()` to modify/access the pixel values, but the result appears to not be any of the classical ImageJ processor: `ByteProcessor`, `ColorProcessor`, `FloatProcessor`, and `ShortProcessor`. I tested ALL of them using `instanceof`.\r\n\r\nAny idea what type of `Processor` it could be?\r\n\r\nOr how I would access the pixel values?\r\n\r\n[EDIT] I still don&#39;t know what type of ImageProcessor the result is, but I found out that the saved pixels are encoded using Float, so 32 bits.\r\n\r\nThis is not ideal as I saved an image using Integer encoding, so there is a loss of precision when values are bigger than 20 millions.\r\n","title":"Read/Write BigTIFF using BioFormat","body":"<p>I need to I/O large images in <code>TIFF</code> format, so I need to use the <code>BigTIFF</code> format. I tried to use <code>BioFormats</code> (<code>bioformats_package.jar</code>) last version to read an image, using:</p>\n<pre><code>ImagePlus[] images = images = BF.openImagePlus(io) ;\n</code></pre>\n<p>Then, I wanted to access the Processor <code>images[0].getProcessor()</code> to modify/access the pixel values, but the result appears to not be any of the classical ImageJ processor: <code>ByteProcessor</code>, <code>ColorProcessor</code>, <code>FloatProcessor</code>, and <code>ShortProcessor</code>. I tested ALL of them using <code>instanceof</code>.</p>\n<p>Any idea what type of <code>Processor</code> it could be?</p>\n<p>Or how I would access the pixel values?</p>\n<p>[EDIT] I still don't know what type of ImageProcessor the result is, but I found out that the saved pixels are encoded using Float, so 32 bits.</p>\n<p>This is not ideal as I saved an image using Integer encoding, so there is a loss of precision when values are bigger than 20 millions.</p>\n"},{"tags":["java","string","substring","indexoutofboundsexception"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1651702098,"post_id":72119937,"comment_id":127428985,"body_markdown":"I think what you&#39;re doing is basically the only way.  Slightly shorter: `text.substring(start, end &gt; text.length() ? text.length() : end)`","body":"I think what you&#39;re doing is basically the only way.  Slightly shorter: <code>text.substring(start, end &gt; text.length() ? text.length() : end)</code>"}],"answers":[{"tags":[],"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651702590,"creation_date":1651702590,"answer_id":72120019,"question_id":72119937,"body_markdown":"Similar approach but with Math.min to tackle it in a shorter way:\r\n```\r\ntext.substring(start, Math.min(end, text.length()));\r\n```","title":"Substring method to return start to string.length() if the end index is out of bounds?","body":"<p>Similar approach but with Math.min to tackle it in a shorter way:</p>\n<pre><code>text.substring(start, Math.min(end, text.length()));\n</code></pre>\n"}],"owner":{"account_id":19348270,"reputation":41,"user_id":14146290,"display_name":"Jamie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651702590,"creation_date":1651701916,"question_id":72119937,"body_markdown":"Basically the title.\r\n\r\n```\r\nString text = &quot;abcdef&quot;;\r\nString pattern = &quot;defg&quot;;\r\nint start = 3;\r\nint end = 3 + pattern.length();\r\nSystem.out.println(text.substring(start,end));\r\n```\r\n\r\nNow that throws index out of bounds error but is there some API that can work around this.\r\nRight now I&#39;m just doing \r\n\r\n```\r\nif (end &gt; text.length()){\r\nend = text.length();\r\n}\r\n```","title":"Substring method to return start to string.length() if the end index is out of bounds?","body":"<p>Basically the title.</p>\n<pre><code>String text = &quot;abcdef&quot;;\nString pattern = &quot;defg&quot;;\nint start = 3;\nint end = 3 + pattern.length();\nSystem.out.println(text.substring(start,end));\n</code></pre>\n<p>Now that throws index out of bounds error but is there some API that can work around this.\nRight now I'm just doing</p>\n<pre><code>if (end &gt; text.length()){\nend = text.length();\n}\n</code></pre>\n"},{"tags":["java","sorting","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651701359,"creation_date":1651695042,"answer_id":72118923,"question_id":72118729,"body_markdown":"&gt; Does the entire sort() happen first then gets passed to filter() ?\r\n&gt; \r\n&gt; Then isn&#39;t that a violation of what streams are suppose to do ?\r\n\r\nNo, it isn&#39;t. Take a look at the [documentation of the Stream IPA](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps):\r\n\r\n&gt; Intermediate operations are further divided into stateless and\r\n&gt; stateful operations. **Stateless operations**, such as **filter** and **map**,\r\n&gt; **retain no state** from **previously seen element** when processing a new\r\n&gt; element -- each element can be processed independently of operations\r\n&gt; on other elements. **Stateful operations**, such as **distinct** and **sorted**,\r\n&gt; may **incorporate state** from **previously seen elements** when **processing\r\n&gt; new elements**.\r\n&gt; \r\n&gt; **Stateful operations** may need to **process** the **entire input before\r\n&gt; producing a result**. For example, one cannot produce any results from\r\n&gt; sorting a stream until one has seen all elements of the stream. As a\r\n&gt; result, under parallel computation, some pipelines containing stateful\r\n&gt; intermediate operations may require multiple passes on the data or may\r\n&gt; need to buffer significant data. Pipelines containing exclusively\r\n&gt; stateless intermediate operations can be processed in a single pass,\r\n&gt; whether sequential or parallel, with minimal data buffering. \r\n\r\nThat means `sorted` is aware of all previously encountered elements, i.e. it&#39;s *stateful*. But `map` and `filter` don&#39;t need this information, they are *stateless* and *lazy*, these operations always process elements from the stream source one at a time.\r\n\r\nAnd it&#39;s technically impossible to sort the contents of a pipeline by looking at a single element in isolation. `sorted` operates on **all** elements &quot;at once&quot; and hands out a sorted stream to the next operation. You might think of `sorted` as if it becomes a new source of the stream.\r\n\r\nLet&#39;s take a look at the following stream and analyze how it will be processed:\r\n```\r\nStream.of(&quot;foo&quot;, &quot;bar&quot;, &quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;)\r\n    .filter(str -&gt; !str.contains(&quot;r&quot;)) // lazy processing\r\n    .peek(System.out::println)\r\n    .map(String::toUpperCase)          // lazy processing\r\n    .peek(System.out::println)\r\n    .sorted()                          // &lt;--- all data is being dumped into memory\r\n    .peek(System.out::println)\r\n    .filter(str -&gt; str.length() &gt; 3)   // lazy processing\r\n    .peek(System.out::println)\r\n    .findFirst();                      // &lt;--- the terminal operation\r\n```\r\nOperations `filter` and `map` that precede `sorted` will get applied lazily on each element from the source of the stream and only when it&#39;s needed. I.e. *filter* will be applied on the `&quot;foo&quot;`, it successfully passes the *filter* and gets transformed by the *map* operation. Then *filter* gets applied on the `&quot;bar&quot;` and it will not reach the *map*. Then it will be `&quot;Alice&quot;`&#39;s turn to pass the *filter*, and then the *map* will get executed on that string. And so on. \r\n\r\nKeep in mind that `sorted()` requires all the data to do its job, so the *first filter* will get executed for all elements from the source and the *map* will be applied on every element that passed the filter.\r\n\r\nThen `sorted()` operation will dump all the contents of the stream into memory and will sort the elements that have passed the first filter.\r\n\r\nAnd after the *sorting*, again all elements will be processed *lazily one at a time*. Hence, the *second filter* will be applied **only once** (although `3` element have passed the first filter and were sorted). `&quot;Alice&quot;` will pass the *second filter* and reach the terminal operation `findFirst()` that will return this string.\r\n\r\nTake a look at the debugging output from the `peek()` make that the process of execution is happening as described above.","title":"Stream API - How does sorted() operation works if a filter() is placed right after it?","body":"<blockquote>\n<p>Does the entire sort() happen first then gets passed to filter() ?</p>\n<p>Then isn't that a violation of what streams are suppose to do ?</p>\n</blockquote>\n<p>No, it isn't. Take a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">documentation of the Stream IPA</a>:</p>\n<blockquote>\n<p>Intermediate operations are further divided into stateless and\nstateful operations. <strong>Stateless operations</strong>, such as <strong>filter</strong> and <strong>map</strong>,\n<strong>retain no state</strong> from <strong>previously seen element</strong> when processing a new\nelement -- each element can be processed independently of operations\non other elements. <strong>Stateful operations</strong>, such as <strong>distinct</strong> and <strong>sorted</strong>,\nmay <strong>incorporate state</strong> from <strong>previously seen elements</strong> when <strong>processing\nnew elements</strong>.</p>\n<p><strong>Stateful operations</strong> may need to <strong>process</strong> the <strong>entire input before\nproducing a result</strong>. For example, one cannot produce any results from\nsorting a stream until one has seen all elements of the stream. As a\nresult, under parallel computation, some pipelines containing stateful\nintermediate operations may require multiple passes on the data or may\nneed to buffer significant data. Pipelines containing exclusively\nstateless intermediate operations can be processed in a single pass,\nwhether sequential or parallel, with minimal data buffering.</p>\n</blockquote>\n<p>That means <code>sorted</code> is aware of all previously encountered elements, i.e. it's <em>stateful</em>. But <code>map</code> and <code>filter</code> don't need this information, they are <em>stateless</em> and <em>lazy</em>, these operations always process elements from the stream source one at a time.</p>\n<p>And it's technically impossible to sort the contents of a pipeline by looking at a single element in isolation. <code>sorted</code> operates on <strong>all</strong> elements &quot;at once&quot; and hands out a sorted stream to the next operation. You might think of <code>sorted</code> as if it becomes a new source of the stream.</p>\n<p>Let's take a look at the following stream and analyze how it will be processed:</p>\n<pre><code>Stream.of(&quot;foo&quot;, &quot;bar&quot;, &quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;)\n    .filter(str -&gt; !str.contains(&quot;r&quot;)) // lazy processing\n    .peek(System.out::println)\n    .map(String::toUpperCase)          // lazy processing\n    .peek(System.out::println)\n    .sorted()                          // &lt;--- all data is being dumped into memory\n    .peek(System.out::println)\n    .filter(str -&gt; str.length() &gt; 3)   // lazy processing\n    .peek(System.out::println)\n    .findFirst();                      // &lt;--- the terminal operation\n</code></pre>\n<p>Operations <code>filter</code> and <code>map</code> that precede <code>sorted</code> will get applied lazily on each element from the source of the stream and only when it's needed. I.e. <em>filter</em> will be applied on the <code>&quot;foo&quot;</code>, it successfully passes the <em>filter</em> and gets transformed by the <em>map</em> operation. Then <em>filter</em> gets applied on the <code>&quot;bar&quot;</code> and it will not reach the <em>map</em>. Then it will be <code>&quot;Alice&quot;</code>'s turn to pass the <em>filter</em>, and then the <em>map</em> will get executed on that string. And so on.</p>\n<p>Keep in mind that <code>sorted()</code> requires all the data to do its job, so the <em>first filter</em> will get executed for all elements from the source and the <em>map</em> will be applied on every element that passed the filter.</p>\n<p>Then <code>sorted()</code> operation will dump all the contents of the stream into memory and will sort the elements that have passed the first filter.</p>\n<p>And after the <em>sorting</em>, again all elements will be processed <em>lazily one at a time</em>. Hence, the <em>second filter</em> will be applied <strong>only once</strong> (although <code>3</code> element have passed the first filter and were sorted). <code>&quot;Alice&quot;</code> will pass the <em>second filter</em> and reach the terminal operation <code>findFirst()</code> that will return this string.</p>\n<p>Take a look at the debugging output from the <code>peek()</code> make that the process of execution is happening as described above.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72118923,"answer_count":1,"score":3,"last_activity_date":1651701359,"creation_date":1651693967,"question_id":72118729,"body_markdown":"Take the following code, which is sorting a List and then filtering on it :\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;Integer&gt; list = List.of(3,2,1);\r\n    \t\t\r\n    \t\tList&lt;Integer&gt; filtered =  list.stream()\r\n    \t\t\t\t.sorted() // Does sorted() sort the entire array first ? Then pass the entire sorted output to filter ?\r\n    \t\t\t\t.filter(x -&gt; x &lt; 3)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t\t\r\n    \t\tSystem.out.println(filtered);\r\n    \t}\r\n\r\nDoes the entire `sort()` happen first, then gets passed to `filter()` ?\r\n\r\nThen isn&#39;t that a violation of what streams are supposed to do?\r\n\r\nI mean, they are supposed to process **one element at a time**.","title":"Stream API - How does sorted() operation works if a filter() is placed right after it?","body":"<p>Take the following code, which is sorting a List and then filtering on it :</p>\n<pre><code>public static void main(String[] args) {\n        List&lt;Integer&gt; list = List.of(3,2,1);\n        \n        List&lt;Integer&gt; filtered =  list.stream()\n                .sorted() // Does sorted() sort the entire array first ? Then pass the entire sorted output to filter ?\n                .filter(x -&gt; x &lt; 3)\n                .collect(Collectors.toList());\n        \n        System.out.println(filtered);\n    }\n</code></pre>\n<p>Does the entire <code>sort()</code> happen first, then gets passed to <code>filter()</code> ?</p>\n<p>Then isn't that a violation of what streams are supposed to do?</p>\n<p>I mean, they are supposed to process <strong>one element at a time</strong>.</p>\n"},{"tags":["java","html"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651701114,"creation_date":1651701114,"answer_id":72119851,"question_id":72119068,"body_markdown":"I would tend to stick to CSS2. This approach works for me:\r\n\r\n      String html = &quot;&quot;&quot;\r\n        &lt;html&gt;\r\n        &lt;p style=&quot;font-family: Times New Roman;font-size: 20px&quot;&gt;Times New Roman&lt;/p&gt;\r\n        &lt;p style=&quot;font-family: Verdana;font-size: 16px&quot;&gt;Verdana &lt;span style=&quot;font-weight: bold;font-style:italic&quot;&gt;bold&lt;/span&gt;&lt;/p&gt;\r\n        &lt;/html&gt;\r\n        &quot;&quot;&quot;\r\n\r\n","title":"Setting font of JLabel or JOptionPane with html","body":"<p>I would tend to stick to CSS2. This approach works for me:</p>\n<pre><code>  String html = &quot;&quot;&quot;\n    &lt;html&gt;\n    &lt;p style=&quot;font-family: Times New Roman;font-size: 20px&quot;&gt;Times New Roman&lt;/p&gt;\n    &lt;p style=&quot;font-family: Verdana;font-size: 16px&quot;&gt;Verdana &lt;span style=&quot;font-weight: bold;font-style:italic&quot;&gt;bold&lt;/span&gt;&lt;/p&gt;\n    &lt;/html&gt;\n    &quot;&quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72119851,"answer_count":1,"score":0,"last_activity_date":1651701114,"creation_date":1651695800,"question_id":72119068,"body_markdown":"I tried to set/change the font of a JLabel and the message of a JOptionPane with this code:\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class SetFontViaHtml extends JFrame {\r\n\r\n  String html= &quot;&quot;&quot;\r\n\t&lt;html&gt;Default &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Arial&gt;Arial &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Dialog&gt;Dialog &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Monospaced&gt;Monospaced &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Courier&gt;Courier &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Courier New&gt;Courier New &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Liberation Sans&gt;Liberation Sans &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Segoe UI&gt;Segoe UI &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Times New Roman&gt;Times New Roman &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;font face=Verdana&gt;Verdana &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\r\n\t&lt;p style=font-family:Monospaced&gt;Monospaced &lt;b&gt;bold&lt;/b&gt; off&lt;/p&gt;\r\n\t&lt;p style=font-family:Arial&gt;Arial &lt;b&gt;bold&lt;/b&gt; off&lt;/p&gt;\r\n\t&lt;p style=font-family:Dialog&gt;Dialog &lt;b&gt;bold&lt;/b&gt; off&lt;/p&gt;\r\n\t&lt;/html&gt;&quot;&quot;&quot;,\r\n    html2= html.replace(&quot;\\n&quot;, &quot;&quot;);\r\n\r\n  public SetFontViaHtml() {\r\n    setSize(300,300);\r\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    setLocationRelativeTo(null);\r\n\r\n    JButton b= new JButton(&quot;Show option pane&quot;);\r\n    b.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent evt) {\r\n        String title= &quot;Html OptionPane&quot;;\r\n        JOptionPane.showMessageDialog(SetFontViaHtml.this, html2, title,\r\n\t\t\t\t\tJOptionPane.INFORMATION_MESSAGE);\r\n      }\r\n    });\r\n    add(new JLabel(html), BorderLayout.CENTER);\r\n    add(b, BorderLayout.SOUTH);\r\n    setVisible(true);\r\n }\r\n\r\n  public static void main(String args[]) {\r\n    EventQueue.invokeLater(SetFontViaHtml::new);\r\n  }   \r\n}\r\n```\r\nAll these fonts are installed in my os (Win10), but except for Monospaced and Verdana all the requested fonts are displayed in the default font of Dialog.bold. I also didn&#39;t find a way to at least switch off the &#39;bold&#39; attribute. Any idea how to achieve this?&lt;br&gt;\r\nThis is how it looks like at my site.&lt;br&gt;\r\n[![Result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/84mxs.jpg","title":"Setting font of JLabel or JOptionPane with html","body":"<p>I tried to set/change the font of a JLabel and the message of a JOptionPane with this code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class SetFontViaHtml extends JFrame {\n\n  String html= &quot;&quot;&quot;\n    &lt;html&gt;Default &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Arial&gt;Arial &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Dialog&gt;Dialog &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Monospaced&gt;Monospaced &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Courier&gt;Courier &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Courier New&gt;Courier New &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Liberation Sans&gt;Liberation Sans &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Segoe UI&gt;Segoe UI &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Times New Roman&gt;Times New Roman &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;font face=Verdana&gt;Verdana &lt;b&gt;bold&lt;/b&gt; off&lt;/font&gt;&lt;br&gt;\n    &lt;p style=font-family:Monospaced&gt;Monospaced &lt;b&gt;bold&lt;/b&gt; off&lt;/p&gt;\n    &lt;p style=font-family:Arial&gt;Arial &lt;b&gt;bold&lt;/b&gt; off&lt;/p&gt;\n    &lt;p style=font-family:Dialog&gt;Dialog &lt;b&gt;bold&lt;/b&gt; off&lt;/p&gt;\n    &lt;/html&gt;&quot;&quot;&quot;,\n    html2= html.replace(&quot;\\n&quot;, &quot;&quot;);\n\n  public SetFontViaHtml() {\n    setSize(300,300);\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    setLocationRelativeTo(null);\n\n    JButton b= new JButton(&quot;Show option pane&quot;);\n    b.addActionListener(new ActionListener() {\n      public void actionPerformed(ActionEvent evt) {\n        String title= &quot;Html OptionPane&quot;;\n        JOptionPane.showMessageDialog(SetFontViaHtml.this, html2, title,\n                    JOptionPane.INFORMATION_MESSAGE);\n      }\n    });\n    add(new JLabel(html), BorderLayout.CENTER);\n    add(b, BorderLayout.SOUTH);\n    setVisible(true);\n }\n\n  public static void main(String args[]) {\n    EventQueue.invokeLater(SetFontViaHtml::new);\n  }   \n}\n</code></pre>\n<p>All these fonts are installed in my os (Win10), but except for Monospaced and Verdana all the requested fonts are displayed in the default font of Dialog.bold. I also didn't find a way to at least switch off the 'bold' attribute. Any idea how to achieve this?<br>\nThis is how it looks like at my site.<br>\n<a href=\"https://i.stack.imgur.com/84mxs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/84mxs.jpg\" alt=\"Result\" /></a></p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1651695606,"post_id":72118312,"comment_id":127427315,"body_markdown":"You seem to already be determining the `progress` value. What isn&#39;t working about it? If you get an error message, what is the exact message? Is there a stack trace?","body":"You seem to already be determining the <code>progress</code> value. What isn&#39;t working about it? If you get an error message, what is the exact message? Is there a stack trace?"},{"owner":{"account_id":25150358,"reputation":33,"user_id":18995724,"display_name":"hamza"},"score":0,"creation_date":1651696677,"post_id":72118312,"comment_id":127427588,"body_markdown":"msg : Cannot resolve method &#39;addOnProgressListener&#39; in &#39;Task&#39;","body":"msg : Cannot resolve method &#39;addOnProgressListener&#39; in &#39;Task&#39;"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651700776,"creation_date":1651700776,"answer_id":72119811,"question_id":72118312,"body_markdown":"From what I can see you may have defined `uploadTask` as a `Task`.\r\n\r\nTo be able to call `addOnProgressListener `,you&#39;ll want to declare it as an `UploadTask`.","title":"implementing addOnProgressListener In Firebase","body":"<p>From what I can see you may have defined <code>uploadTask</code> as a <code>Task</code>.</p>\n<p>To be able to call <code>addOnProgressListener </code>,you'll want to declare it as an <code>UploadTask</code>.</p>\n"}],"owner":{"account_id":25150358,"reputation":33,"user_id":18995724,"display_name":"hamza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651700776,"creation_date":1651691533,"question_id":72118312,"body_markdown":"In my code i want to add `OnProgressListener`, but can&#39;t work. It gives me a syntax error.\r\nCannot resolve method &#39;addOnProgressListener&#39; in &#39;Task&#39;\r\n\r\nHow i can do this?\r\nPlease rewrite the code for me.\r\n\r\n\r\nI Want to show progress dialog percentage.\r\nFor example:  &quot;uploading video  98%&quot;\r\n\r\n    private void uploadImage_10() {\r\n        final ProgressDialog pd = new ProgressDialog(this);\r\n        pd.setMessage(&quot;Posting....&quot;);\r\n        pd.show();\r\n        if (video_url != null) {\r\n            final StorageReference fileReference = storageRef.child(System.currentTimeMillis()\r\n                    + &quot;.&quot; + getFileExtension(video_url));\r\n\r\n            uploadTask = fileReference.putFile(video_url);\r\n\r\n            String desc = description.getText().toString();\r\n            if (desc.length() &lt; 20) {\r\n                description.setError(&quot;Please Insert Document to long&quot;);\r\n                if (TextUtils.isEmpty(desc)) {\r\n                    description.setError(&quot;Please insert Description&quot;);\r\n                    Toast.makeText(this, &quot;Please Insert Description&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                pd.dismiss();\r\n            } else {\r\n                uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                    @Override\r\n                    public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                        if (!task.isSuccessful()) {\r\n                            throw task.getException();\r\n                        }\r\n                        return fileReference.getDownloadUrl();\r\n                    }\r\n                }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            Uri downloadUri = task.getResult();\r\n                            miUrlOk = downloadUri.toString();\r\n\r\n                            DatabaseReference reference = FirebaseDatabase.getInstance(&quot;https://pineka-social-media-mast-da52a-default-rtdb.firebaseio.com/&quot;\r\n                            ).getReference(&quot;Posts_video&quot;);\r\n\r\n                            String postid = reference.push().getKey();\r\n\r\n                            HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n                            hashMap.put(&quot;postid&quot;, postid);\r\n                            hashMap.put(&quot;time_post&quot;, ServerValue.TIMESTAMP);\r\n\r\n                            hashMap.put(&quot;postvideo&quot;, miUrlOk);\r\n                            hashMap.put(&quot;description&quot;, description.getText().toString());\r\n                            hashMap.put(&quot;category&quot;, category.getSelectedItem().toString());\r\n                            hashMap.put(&quot;publisher&quot;, FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n\r\n                            reference.child(postid).setValue(hashMap);\r\n\r\n                            pd.dismiss();\r\n\r\n                            startActivity(new Intent(PostActivityvideo.this, MainActivity.class));\r\n                            finish();\r\n\r\n                        } else {\r\n                            Toast.makeText(PostActivityvideo.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(PostActivityvideo.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\r\n                        double progress = (100.0 * taskSnapshot.getBytesTransferred()) / taskSnapshot.getTotalByteCount();\r\n                        progressDialog.setMessage((int) progress + &quot;&quot;);\r\n                    }\r\n                });\r\n                \r\n                \r\n                \r\n                \r\n                \r\n            }\r\n        } else {\r\n            Toast.makeText(PostActivityvideo.this, &quot;No image selected&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n","title":"implementing addOnProgressListener In Firebase","body":"<p>In my code i want to add <code>OnProgressListener</code>, but can't work. It gives me a syntax error.\nCannot resolve method 'addOnProgressListener' in 'Task'</p>\n<p>How i can do this?\nPlease rewrite the code for me.</p>\n<p>I Want to show progress dialog percentage.\nFor example:  &quot;uploading video  98%&quot;</p>\n<pre><code>private void uploadImage_10() {\n    final ProgressDialog pd = new ProgressDialog(this);\n    pd.setMessage(&quot;Posting....&quot;);\n    pd.show();\n    if (video_url != null) {\n        final StorageReference fileReference = storageRef.child(System.currentTimeMillis()\n                + &quot;.&quot; + getFileExtension(video_url));\n\n        uploadTask = fileReference.putFile(video_url);\n\n        String desc = description.getText().toString();\n        if (desc.length() &lt; 20) {\n            description.setError(&quot;Please Insert Document to long&quot;);\n            if (TextUtils.isEmpty(desc)) {\n                description.setError(&quot;Please insert Description&quot;);\n                Toast.makeText(this, &quot;Please Insert Description&quot;, Toast.LENGTH_SHORT).show();\n            }\n            pd.dismiss();\n        } else {\n            uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n                @Override\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                    if (!task.isSuccessful()) {\n                        throw task.getException();\n                    }\n                    return fileReference.getDownloadUrl();\n                }\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                    if (task.isSuccessful()) {\n                        Uri downloadUri = task.getResult();\n                        miUrlOk = downloadUri.toString();\n\n                        DatabaseReference reference = FirebaseDatabase.getInstance(&quot;https://pineka-social-media-mast-da52a-default-rtdb.firebaseio.com/&quot;\n                        ).getReference(&quot;Posts_video&quot;);\n\n                        String postid = reference.push().getKey();\n\n                        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n                        hashMap.put(&quot;postid&quot;, postid);\n                        hashMap.put(&quot;time_post&quot;, ServerValue.TIMESTAMP);\n\n                        hashMap.put(&quot;postvideo&quot;, miUrlOk);\n                        hashMap.put(&quot;description&quot;, description.getText().toString());\n                        hashMap.put(&quot;category&quot;, category.getSelectedItem().toString());\n                        hashMap.put(&quot;publisher&quot;, FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n                        reference.child(postid).setValue(hashMap);\n\n                        pd.dismiss();\n\n                        startActivity(new Intent(PostActivityvideo.this, MainActivity.class));\n                        finish();\n\n                    } else {\n                        Toast.makeText(PostActivityvideo.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(PostActivityvideo.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\n                    double progress = (100.0 * taskSnapshot.getBytesTransferred()) / taskSnapshot.getTotalByteCount();\n                    progressDialog.setMessage((int) progress + &quot;&quot;);\n                }\n            });\n            \n            \n            \n            \n            \n        }\n    } else {\n        Toast.makeText(PostActivityvideo.this, &quot;No image selected&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","sorting","arraylist"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1651624098,"post_id":72106724,"comment_id":127406307,"body_markdown":"What is the output when you run this program? What should the output actually be? Have you done any debugging? If not, I recommend [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for some tips to get you started.","body":"What is the output when you run this program? What should the output actually be? Have you done any debugging? If not, I recommend <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for some tips to get you started."},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1651700979,"post_id":72106724,"comment_id":127428709,"body_markdown":"Is the count supposed to reset to **1** if it does not match?","body":"Is the count supposed to reset to <b>1</b> if it does not match?"}],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651700766,"creation_date":1651638317,"answer_id":72107931,"question_id":72106724,"body_markdown":"Here is some pseudocode **(NOT FULL)** that may be helpful to &quot;**count a frequency of a number in arraylist**&quot;\r\n\r\n    int runningCount = 0;\r\n    for(the list of numbers)\r\n    {\r\n        if(it is the number)\r\n        {\r\n            runningCount++;\r\n        }\r\n        System.out.println(&quot;Numero &quot; + num2 + &quot; &quot; + runningCount + &quot; X&quot;);\r\n    }\r\n    frequency = runningCount / total numbers;\r\n**EDIT for clarification:** this would be in place of the giant chunk that has \r\n\r\n    if(it is equal) set to true;\r\n    if(it is not false) doThis;\r\n    if(it is false) doThat;\r\nIn fact, when you trigger the **false** condition, it currently resets the count with **cont=1**, regardless of how many there already were.","title":"how to count a frequency of a number in arraylist java without Collections.frequency","body":"<p>Here is some pseudocode <strong>(NOT FULL)</strong> that may be helpful to &quot;<strong>count a frequency of a number in arraylist</strong>&quot;</p>\n<pre><code>int runningCount = 0;\nfor(the list of numbers)\n{\n    if(it is the number)\n    {\n        runningCount++;\n    }\n    System.out.println(&quot;Numero &quot; + num2 + &quot; &quot; + runningCount + &quot; X&quot;);\n}\nfrequency = runningCount / total numbers;\n</code></pre>\n<p><strong>EDIT for clarification:</strong> this would be in place of the giant chunk that has</p>\n<pre><code>if(it is equal) set to true;\nif(it is not false) doThis;\nif(it is false) doThat;\n</code></pre>\n<p>In fact, when you trigger the <strong>false</strong> condition, it currently resets the count with <strong>cont=1</strong>, regardless of how many there already were.</p>\n"}],"owner":{"account_id":25188028,"reputation":1,"user_id":19028608,"display_name":"Luk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651700766,"creation_date":1651623830,"question_id":72106724,"body_markdown":"I&#39;m doing and exercise for college and for some reason, the second for index is not increasing and when I the console recive a new input with a different number it doens&#39;t count.\r\nSorry for any grammar mistakes\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\nimport java.util.*;\r\n\r\n\r\npublic class Atividade999 {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    ArrayList&lt;Integer&gt; valor = new ArrayList&lt;&gt;();\r\n\r\n    int num2 = 0;\r\n    int cont = 0;\r\n    int rcont = 0;\r\n    int num = Integer.parseInt(JOptionPane.showInputDialog(&quot;Informe a frequencia: &quot;));\r\n    for (int i = 0;i &lt; num; i++)\r\n      {\r\n        num2 = Integer.parseInt(JOptionPane.showInputDialog(&quot;Informe o valor: &quot;));\r\n        valor.add(num2);\r\n        for (int j = 0; j &lt; num; j++){\r\n            boolean igual = false;\r\n            if(Objects.equals(valor.get(i), valor.get(j))){\r\n                igual = true;\r\n            }\r\n            \r\n            if(igual != false){\r\n                cont++;\r\n                System.out.println(&quot;Numero &quot;+num2+&quot; &quot;+cont+&quot; X&quot;);\r\n            }\r\n            if(igual == false){\r\n                cont=1;\r\n                System.out.println(&quot;Numero &quot;+num2+&quot; &quot;+cont+&quot; X&quot;);\r\n               \r\n            }\r\n            break;\r\n        }   \r\n      }\r\n    System.out.println(&quot;A lista completa: &quot; + valor);\r\n  }\r\n}\r\n```","title":"how to count a frequency of a number in arraylist java without Collections.frequency","body":"<p>I'm doing and exercise for college and for some reason, the second for index is not increasing and when I the console recive a new input with a different number it doens't count.\nSorry for any grammar mistakes</p>\n<pre><code>import javax.swing.JOptionPane;\nimport java.util.*;\n\n\npublic class Atividade999 {\n\n  public static void main(String[] args) {\n\n    ArrayList&lt;Integer&gt; valor = new ArrayList&lt;&gt;();\n\n    int num2 = 0;\n    int cont = 0;\n    int rcont = 0;\n    int num = Integer.parseInt(JOptionPane.showInputDialog(&quot;Informe a frequencia: &quot;));\n    for (int i = 0;i &lt; num; i++)\n      {\n        num2 = Integer.parseInt(JOptionPane.showInputDialog(&quot;Informe o valor: &quot;));\n        valor.add(num2);\n        for (int j = 0; j &lt; num; j++){\n            boolean igual = false;\n            if(Objects.equals(valor.get(i), valor.get(j))){\n                igual = true;\n            }\n            \n            if(igual != false){\n                cont++;\n                System.out.println(&quot;Numero &quot;+num2+&quot; &quot;+cont+&quot; X&quot;);\n            }\n            if(igual == false){\n                cont=1;\n                System.out.println(&quot;Numero &quot;+num2+&quot; &quot;+cont+&quot; X&quot;);\n               \n            }\n            break;\n        }   \n      }\n    System.out.println(&quot;A lista completa: &quot; + valor);\n  }\n}\n</code></pre>\n"},{"tags":["java","discord","bots","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":12843211,"reputation":822,"user_id":9290563,"display_name":"Danny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651700669,"creation_date":1651699476,"answer_id":72119628,"question_id":72117910,"body_markdown":"In my opinion, it&#39;s easier to check for the command using the existing if-clause - just slightly modified - and then adding the mentioned role:\r\n\r\n    if (event.getMessage().getContentRaw().split(&quot; &quot;).get(0).equals(&quot;get&quot;)) {\r\n            event.getGuild().addRoleToMember(event.getMember(), role).queue();\r\n    }\r\n\r\nIn the if-clause, we now split the message by spaces to get an array of words. The first word will be the command, in your case &quot;get&quot;.","title":"jda: if i do get @aRole nothing happens, in very stuck at this part :/","body":"<p>In my opinion, it's easier to check for the command using the existing if-clause - just slightly modified - and then adding the mentioned role:</p>\n<pre><code>if (event.getMessage().getContentRaw().split(&quot; &quot;).get(0).equals(&quot;get&quot;)) {\n        event.getGuild().addRoleToMember(event.getMember(), role).queue();\n}\n</code></pre>\n<p>In the if-clause, we now split the message by spaces to get an array of words. The first word will be the command, in your case &quot;get&quot;.</p>\n"}],"owner":{"account_id":24543369,"reputation":1,"user_id":18453559,"display_name":"Zushee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651700669,"creation_date":1651689452,"question_id":72117910,"body_markdown":"```\r\npackage com.zushee.The_Zushee_Server;\r\nimport net.dv8tion.jda.api.entities.Role;\r\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\npublic class Welcome2 extends ListenerAdapter {\r\n\r\n    public void onMessageReceived(MessageReceivedEvent event) {\r\n        \r\n\r\n        Role role = event.getMessage().getMentionedRoles().get(0);\r\n\r\n        if (event.getMessage().getContentRaw().equals(&quot;get&quot; + role)) {\r\n            event.getGuild().addRoleToMember(&quot;myusername#6942&quot;, role).queue();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nthe username and role have no errors so i dont know why it doesnt work","title":"jda: if i do get @aRole nothing happens, in very stuck at this part :/","body":"<pre><code>package com.zushee.The_Zushee_Server;\nimport net.dv8tion.jda.api.entities.Role;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class Welcome2 extends ListenerAdapter {\n\n    public void onMessageReceived(MessageReceivedEvent event) {\n        \n\n        Role role = event.getMessage().getMentionedRoles().get(0);\n\n        if (event.getMessage().getContentRaw().equals(&quot;get&quot; + role)) {\n            event.getGuild().addRoleToMember(&quot;myusername#6942&quot;, role).queue();\n        }\n    }\n}\n</code></pre>\n<p>the username and role have no errors so i dont know why it doesnt work</p>\n"},{"tags":["java","stringindexoutofbounds"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1651137155,"post_id":72041002,"comment_id":127293430,"body_markdown":"`StringIndexOutOfBoundsException` because you&#39;re reading one character past the length of the word? Wouldn&#39;t have to guess if your question had included the error and the stacktrace.","body":"<code>StringIndexOutOfBoundsException</code> because you&#39;re reading one character past the length of the word? Wouldn&#39;t have to guess if your question had included the error and the stacktrace."},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1651137437,"post_id":72041002,"comment_id":127293537,"body_markdown":"Use for (int i = 0; i &lt; word.length(); i++) { instead of your for (int i = 0; i &lt;= word.length(); i++) {","body":"Use for (int i = 0; i &lt; word.length(); i++) { instead of your for (int i = 0; i &lt;= word.length(); i++) {"},{"owner":{"account_id":24526693,"reputation":3,"user_id":18439060,"display_name":"Emir Can"},"score":0,"creation_date":1651137701,"post_id":72041002,"comment_id":127293670,"body_markdown":"@RobbyCornelissen What should I do","body":"@RobbyCornelissen What should I do"},{"owner":{"account_id":394969,"reputation":5307,"user_id":757695,"accept_rate":57,"display_name":"Rudy Vissers"},"score":1,"creation_date":1651137809,"post_id":72041002,"comment_id":127293722,"body_markdown":"Not very welcoming to downvote a newcomer...","body":"Not very welcoming to downvote a newcomer..."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1651138082,"post_id":72041002,"comment_id":127293844,"body_markdown":"@RudyVissers Aren&#39;t up, down, and close-votes supposed to be handed out based exclusively on the quality of the question itself? Should a bad question be up-voted because a user is new? If so, what other criteria should be taken into account when voting?","body":"@RudyVissers Aren&#39;t up, down, and close-votes supposed to be handed out based exclusively on the quality of the question itself? Should a bad question be up-voted because a user is new? If so, what other criteria should be taken into account when voting?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651138277,"post_id":72041002,"comment_id":127293941,"body_markdown":"Does this answer your question? [String index out of bounds? (Java, substring loop)](https://stackoverflow.com/questions/1569868/string-index-out-of-bounds-java-substring-loop). Search for more.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1569868/string-index-out-of-bounds-java-substring-loop\">String index out of bounds? (Java, substring loop)</a>. Search for more."},{"owner":{"account_id":394969,"reputation":5307,"user_id":757695,"accept_rate":57,"display_name":"Rudy Vissers"},"score":0,"creation_date":1651212530,"post_id":72041002,"comment_id":127314701,"body_markdown":"@RobbyCornelissen I didn&#39;t say &#39;upvoted&#39;. I have written, &#39;downvoted&#39;. I found that a bit harsh. My feeling is that asking good questions is a learning. When you start using SO, you could ask a few questions that do not reach the quality we want on the website.\nThe quality I want. But we can comment and ask for clarity/helping to rephrase/correcting the spelling. Even asking to close the question. I prefer comments to downvotes for new contributors. But this is subjective.","body":"@RobbyCornelissen I didn&#39;t say &#39;upvoted&#39;. I have written, &#39;downvoted&#39;. I found that a bit harsh. My feeling is that asking good questions is a learning. When you start using SO, you could ask a few questions that do not reach the quality we want on the website. The quality I want. But we can comment and ask for clarity/helping to rephrase/correcting the spelling. Even asking to close the question. I prefer comments to downvotes for new contributors. But this is subjective."}],"answers":[{"tags":[],"owner":{"account_id":12993243,"reputation":152,"user_id":9391811,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651138313,"creation_date":1651137656,"answer_id":72041153,"question_id":72041002,"body_markdown":"Change this line, you are exceeding the word length\r\n\r\nRewrite:\r\n\r\n    for (int i=0;i&lt;=word.length();i++)\r\n\r\ninto\r\n\r\n    for (int i=0;i&lt;word.length();i++)","title":"StringIndexOutOfBoundsException when trying to count &#39;a&#39;s in the entered word in Java","body":"<p>Change this line, you are exceeding the word length</p>\n<p>Rewrite:</p>\n<pre><code>for (int i=0;i&lt;=word.length();i++)\n</code></pre>\n<p>into</p>\n<pre><code>for (int i=0;i&lt;word.length();i++)\n</code></pre>\n"}],"owner":{"account_id":24526693,"reputation":3,"user_id":18439060,"display_name":"Emir Can"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72041153,"answer_count":1,"score":-1,"last_activity_date":1651700628,"creation_date":1651137047,"question_id":72041002,"body_markdown":"        \r\n    public class methods {\r\n    \tpublic static int howMany(String word) {\r\n    \t\tchar character = &#39;a&#39;;\r\n    \t\tint a = 0;\r\n    \t\tfor (int i=0;i&lt;=word.length();i++) {\r\n    \t\t\tif (word.charAt(i)==character) {\r\n    \t\t\t\ta++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn a;\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(howMany(&quot;afdfaf&quot;));\r\n    \t}\r\n    }\r\n\r\ncode gives error.\r\nplease help.\r\nI couldn&#39;t find where is the error.\r\n\r\nExpected output:\r\n\r\n    2\r\n\r\nObserved error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 6\r\n\r\nThe exception happens in this line:\r\n\r\n        if (word.charAt(i)==character) {\r\n","title":"StringIndexOutOfBoundsException when trying to count &#39;a&#39;s in the entered word in Java","body":"<pre><code>public class methods {\n    public static int howMany(String word) {\n        char character = 'a';\n        int a = 0;\n        for (int i=0;i&lt;=word.length();i++) {\n            if (word.charAt(i)==character) {\n                a++;\n            }\n        }\n        return a;\n    }\n    public static void main(String[] args) {\n        System.out.println(howMany(&quot;afdfaf&quot;));\n    }\n}\n</code></pre>\n<p>code gives error.\nplease help.\nI couldn't find where is the error.</p>\n<p>Expected output:</p>\n<pre><code>2\n</code></pre>\n<p>Observed error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 6\n</code></pre>\n<p>The exception happens in this line:</p>\n<pre><code>    if (word.charAt(i)==character) {\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":5,"creation_date":1651691351,"post_id":72118231,"comment_id":127425959,"body_markdown":"Hint: when you dont understand what your code is doing, then A) learn how to use a debugger or B) simply add print statements. Start with a pen and a piece of paper. &quot;Run&quot; the code mentally, then compare what many many print statements tell you what happens. Turning to *other* people to explain your code to you of course works ... but takes away like 50% of the learning experience YOU need to make.","body":"Hint: when you dont understand what your code is doing, then A) learn how to use a debugger or B) simply add print statements. Start with a pen and a piece of paper. &quot;Run&quot; the code mentally, then compare what many many print statements tell you what happens. Turning to <i>other</i> people to explain your code to you of course works ... but takes away like 50% of the learning experience YOU need to make."},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1651692091,"post_id":72118231,"comment_id":127426207,"body_markdown":"@GhostCatm, I tried that, the problem is in lines `if (dfs(grid, visited, x1, y1, i+1, str)){return true;}`, it is not checking the remaining cells to get correct count. When I tried to navigate other cells without returning, I am getting output as 15 instead of 5.","body":"@GhostCatm, I tried that, the problem is in lines <code>if (dfs(grid, visited, x1, y1, i+1, str)){return true;}</code>, it is not checking the remaining cells to get correct count. When I tried to navigate other cells without returning, I am getting output as 15 instead of 5."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1651692281,"post_id":72118231,"comment_id":127426281,"body_markdown":"Hint: Start by deleting `visited`","body":"Hint: Start by deleting <code>visited</code>"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651700456,"creation_date":1651693881,"answer_id":72118705,"question_id":72118231,"body_markdown":"Start at 0,0 work across the columns and down the rows.\r\nCreate a method ```boolean check(String word, int startRow, int startCol, int dRow, int dCol)```  it will return true if the word is found beginning at ```startRow```,```startCol``` incrementing the column by ```dCol``` and the row by ```dRow``` after finding each letter. It can return ```false``` immediately if the letter being checked doesn&#39;t match or if the row or column would be out of bounds.\r\nCall it three times in the loop, first with ```dRow = 0``` and ```dCol = 1```, then with both set to 1, then with ```dRow = 1``` and ```dCol = 0```.\r\n\r\nName your methods better ```dfs``` is not a good name.\r\n\r\nHere&#39;s my version, not exactly as described above.  I&#39;ve decided to return an int rather than a boolean so I can easily add the result to the total.  I&#39;ve hard-coded a grid of letters just to simplify the example.\r\n\r\n```\r\npublic class FindWord {\r\n    static char [][] grid = {\r\n        {&#39;b&#39;,&#39;a&#39;,&#39;d&#39;},\r\n        {&#39;o&#39;,&#39;a&#39;,&#39;k&#39;},\r\n        {&#39;d&#39;,&#39;a&#39;,&#39;d&#39;}\r\n    };\r\n    static final int cols = grid[0].length;\r\n    static final int rows = grid.length;\r\n\r\n    public static void main(String[] args) {\r\n        countWords(&quot;bad&quot;);\r\n        countWords(&quot;dad&quot;);\r\n        countWords(&quot;oak&quot;);\r\n        countWords(&quot;bod&quot;);\r\n        countWords(&quot;bid&quot;);\r\n        countWords(&quot;aaa&quot;);\r\n        countWords(&quot;aa&quot;);\r\n        countWords(&quot;d&quot;);\r\n    }\r\n\r\n    private static void countWords(String word) {\r\n        int total = 0;\r\n        for (int r = 0; r &lt; rows; r++) {\r\n            for (int c = 0; c &lt; cols; c++) {\r\n                total += find(word,r,c,0,1) // across\r\n                    + find(word,r,c,1,1) // diagonal\r\n                    + find(word,r,c,1,0); // down\r\n            }\r\n        }\r\n        System.out.println(total);\r\n    }\r\n\r\n    private static int find(String word, int row, int col, int dRow, int dCol) {\r\n        for (char letter :  word.toCharArray()) {\r\n            if (row &gt;= rows || col &gt;= cols || grid[row][col] != letter)\r\n                return 0;\r\n            row += dRow;\r\n            col += dCol;\r\n        }\r\n        return 1;\r\n    }\r\n}\r\n```\r\n\r\nYou might notice that this example has a bug for one letter words.  It counts one letter words 3 times because it considers the same starting position as across, diagonal, and down.  That is easy to fix with a condition to only check the &quot;across&quot; case and not the other two if the word length is one.  I&#39;ll leave it to you to make that adjustment.","title":"Find word in a grid of characters","body":"<p>Start at 0,0 work across the columns and down the rows.\nCreate a method <code>boolean check(String word, int startRow, int startCol, int dRow, int dCol)</code>  it will return true if the word is found beginning at <code>startRow</code>,<code>startCol</code> incrementing the column by <code>dCol</code> and the row by <code>dRow</code> after finding each letter. It can return <code>false</code> immediately if the letter being checked doesn't match or if the row or column would be out of bounds.\nCall it three times in the loop, first with <code>dRow = 0</code> and <code>dCol = 1</code>, then with both set to 1, then with <code>dRow = 1</code> and <code>dCol = 0</code>.</p>\n<p>Name your methods better <code>dfs</code> is not a good name.</p>\n<p>Here's my version, not exactly as described above.  I've decided to return an int rather than a boolean so I can easily add the result to the total.  I've hard-coded a grid of letters just to simplify the example.</p>\n<pre><code>public class FindWord {\n    static char [][] grid = {\n        {'b','a','d'},\n        {'o','a','k'},\n        {'d','a','d'}\n    };\n    static final int cols = grid[0].length;\n    static final int rows = grid.length;\n\n    public static void main(String[] args) {\n        countWords(&quot;bad&quot;);\n        countWords(&quot;dad&quot;);\n        countWords(&quot;oak&quot;);\n        countWords(&quot;bod&quot;);\n        countWords(&quot;bid&quot;);\n        countWords(&quot;aaa&quot;);\n        countWords(&quot;aa&quot;);\n        countWords(&quot;d&quot;);\n    }\n\n    private static void countWords(String word) {\n        int total = 0;\n        for (int r = 0; r &lt; rows; r++) {\n            for (int c = 0; c &lt; cols; c++) {\n                total += find(word,r,c,0,1) // across\n                    + find(word,r,c,1,1) // diagonal\n                    + find(word,r,c,1,0); // down\n            }\n        }\n        System.out.println(total);\n    }\n\n    private static int find(String word, int row, int col, int dRow, int dCol) {\n        for (char letter :  word.toCharArray()) {\n            if (row &gt;= rows || col &gt;= cols || grid[row][col] != letter)\n                return 0;\n            row += dRow;\n            col += dCol;\n        }\n        return 1;\n    }\n}\n</code></pre>\n<p>You might notice that this example has a bug for one letter words.  It counts one letter words 3 times because it considers the same starting position as across, diagonal, and down.  That is easy to fix with a condition to only check the &quot;across&quot; case and not the other two if the word length is one.  I'll leave it to you to make that adjustment.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651700456,"creation_date":1651691122,"question_id":72118231,"body_markdown":"I have to find how many times a given string can be built from a 2D grid of letters:\r\n\r\nTo build the word, I can start anywhere then move from cell to cell in one of 3 directions:\r\n\r\n    a) same row, next column (right)\r\n    b) next row, same column (down)\r\n    c) next row, next column (diagonal right and down)\r\n\r\nExample:\r\n\r\n    char[][] grid = {{&#39;a&#39;, &#39;a&#39;}, {&#39;a&#39;, &#39;a&#39;}};\r\n    \r\n    String str = &quot;aa&quot;;\r\n\r\n    output:\r\n    5\r\n    \r\n    Explanation:\r\n    a) [0,0][0,1]\r\n    b) [0,0][1,0]\r\n    c) [1,0][1,1]\r\n    d) [0,1][1,1]\r\n    e) [0,0][1,1]\r\n\r\nThis is my code so far:\r\n\r\n    class Solution {\r\n        \r\n        public boolean exist(char[][] grid, String str) {\r\n            int m=grid.length,n=grid[0].length;\r\n            boolean[][] visited=new boolean[m][n];\r\n    \t\tint result = 0;\r\n            for (int i=0;i&lt; m;i++){\r\n                for (int j=0;j&lt;n;j++){               \r\n                    if (dfs(grid,visited,i,j,0,str)){\r\n                        result++;\r\n                    }              \r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        private boolean dfs(char[][] grid, boolean[][] visited, int x, int y, int i, String str){         \r\n            int m=grid.length,n=grid[0].length;   \r\n            if (i==str.length()) return true;\r\n            \r\n            if(x&lt;0||x&gt;=m||y&lt;0||y&gt;=n) return false;\r\n            if(visited[x][y]) return false;\r\n            if(grid[x][y]!=str.charAt(i)) return false;\r\n            int[][] dirs={{1,0},{0,1},{1,1}};\r\n            visited[x][y]=true;\r\n            for (int[] dir: dirs){\r\n                int x1=x+dir[0], y1=y+dir[1];\r\n                if (dfs(grid, visited, x1, y1, i+1, str)){\r\n                    return true;\r\n                }\r\n            }\r\n            visited[x][y]=false;\r\n            return false;                                                                          \r\n        }\r\n    }\r\n\r\nFor the sample input I mentioned above I am able to get result as 2 instead of 5.\r\n\r\nHow can I fix this?  \r\nIs there any other better approach?\r\n\r\n","title":"Find word in a grid of characters","body":"<p>I have to find how many times a given string can be built from a 2D grid of letters:</p>\n<p>To build the word, I can start anywhere then move from cell to cell in one of 3 directions:</p>\n<pre><code>a) same row, next column (right)\nb) next row, same column (down)\nc) next row, next column (diagonal right and down)\n</code></pre>\n<p>Example:</p>\n<pre><code>char[][] grid = {{'a', 'a'}, {'a', 'a'}};\n\nString str = &quot;aa&quot;;\n\noutput:\n5\n\nExplanation:\na) [0,0][0,1]\nb) [0,0][1,0]\nc) [1,0][1,1]\nd) [0,1][1,1]\ne) [0,0][1,1]\n</code></pre>\n<p>This is my code so far:</p>\n<pre><code>class Solution {\n    \n    public boolean exist(char[][] grid, String str) {\n        int m=grid.length,n=grid[0].length;\n        boolean[][] visited=new boolean[m][n];\n        int result = 0;\n        for (int i=0;i&lt; m;i++){\n            for (int j=0;j&lt;n;j++){               \n                if (dfs(grid,visited,i,j,0,str)){\n                    result++;\n                }              \n            }\n        }\n        return result;\n    }\n    private boolean dfs(char[][] grid, boolean[][] visited, int x, int y, int i, String str){         \n        int m=grid.length,n=grid[0].length;   \n        if (i==str.length()) return true;\n        \n        if(x&lt;0||x&gt;=m||y&lt;0||y&gt;=n) return false;\n        if(visited[x][y]) return false;\n        if(grid[x][y]!=str.charAt(i)) return false;\n        int[][] dirs={{1,0},{0,1},{1,1}};\n        visited[x][y]=true;\n        for (int[] dir: dirs){\n            int x1=x+dir[0], y1=y+dir[1];\n            if (dfs(grid, visited, x1, y1, i+1, str)){\n                return true;\n            }\n        }\n        visited[x][y]=false;\n        return false;                                                                          \n    }\n}\n</code></pre>\n<p>For the sample input I mentioned above I am able to get result as 2 instead of 5.</p>\n<p>How can I fix this?<br />\nIs there any other better approach?</p>\n"},{"tags":["java","json","http"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1651700995,"post_id":72119765,"comment_id":127428717,"body_markdown":"Check out DataFetcher (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/DataFetcher.java) this is the answer to your question","body":"Check out DataFetcher (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/DataFetcher.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>) this is the answer to your question"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1651701087,"post_id":72119765,"comment_id":127428749,"body_markdown":"Fix Accept-Encoding to match your CURL use, eg. not &#39;json&#39; but &#39;application/json&#39;","body":"Fix Accept-Encoding to match your CURL use, eg. not &#39;json&#39; but &#39;application/json&#39;"},{"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"score":0,"creation_date":1651701572,"post_id":72119765,"comment_id":127428861,"body_markdown":"Thanks for the catch on application/json updated it but still having issues.","body":"Thanks for the catch on application/json updated it but still having issues."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651711338,"post_id":72119765,"comment_id":127430583,"body_markdown":"I would expect the [`Accept-Encoding`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding) header to be used to specify a compression format (`gzip`, `deflate` and so on). I think you need [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept) instead: `&quot;Accept: application/json&quot;`. Or, for your Java code, `c.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);`. This may not be sufficient to solve your problem - but I think it will be necessary.","body":"I would expect the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding\" rel=\"nofollow noreferrer\"><code>Accept-Encoding</code></a> header to be used to specify a compression format (<code>gzip</code>, <code>deflate</code> and so on). I think you need <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept\" rel=\"nofollow noreferrer\"><code>Accept</code></a> instead: <code>&quot;Accept: application&#47;json&quot;</code>. Or, for your Java code, <code>c.setRequestProperty(&quot;Accept&quot;, &quot;application&#47;json&quot;);</code>. This may not be sufficient to solve your problem - but I think it will be necessary."},{"owner":{"account_id":4294507,"reputation":79,"user_id":3509904,"accept_rate":25,"display_name":"active_coder"},"score":1,"creation_date":1651853950,"post_id":72119765,"comment_id":127471171,"body_markdown":"2 changes in the code and you should be good to go..  c.setRequestMethod(&quot;GET&quot;); c.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);","body":"2 changes in the code and you should be good to go..  c.setRequestMethod(&quot;GET&quot;); c.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);"},{"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"score":1,"creation_date":1651933956,"post_id":72119765,"comment_id":127485745,"body_markdown":"@active_coder thanks you are right, its a GET not a post!","body":"@active_coder thanks you are right, its a GET not a post!"}],"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651700450,"creation_date":1651700450,"question_id":72119765,"body_markdown":"I am trying to switch to a new data feed provider API that works fine in CURL with this command \r\n\r\n```\r\ncurl -X GET &#39;https://api.activetick.com/stream.json?sessionid=12225759b81b421a9ce69db19c9222d8&amp;symbols=AAPL_S-U,IBM_S-U&#39; -H &quot;Connection: Keep-Alive&quot; -H &quot;Accept: application/json&quot;\r\n```\r\n\r\nOur system is running in Java and I am unsure how to build code that can consume the JSON formatted messages the stream provides, below is how I am trying to do it now and when reading from in the input stream returned it throws unexpected end of line exception. \r\n\r\n```\r\nstatic  void test() throws IOException {\r\n\t\ttry {\r\n\t\t\tHttpsURLConnection c = (HttpsURLConnection) new URL(&quot;https://api.activetick.com/stream.json?sessionid=12225759b81b421a9ce69db19c9222d8&amp;symbols=AAPL_S-U,IBM_S-U&quot;)\r\n\t\t\t\t\t.openConnection();\r\n\t\t\tc.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tc.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n\t\t\tc.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;json&quot;);\r\n\t\t\tc.connect();\r\n\t\t\tInputStream io = c.getInputStream();\r\n\t\t\t\r\n\t\t\tBufferedInputStream bis = new BufferedInputStream(io);\r\n\t\t\tByteArrayOutputStream buf = new ByteArrayOutputStream();\r\n\t\t\tfor (int result = bis.read(); result != -1; result = bis.read()) {\r\n\t\t\t    buf.write((byte) result);\r\n\t\t\t}\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;here&quot;);\r\n\t\t}\r\n\t\r\n\t\t\r\n\t}\r\n```\r\n\r\nAny help would be appreciated. ","title":"How to consume streaming JSON data from an HTTP call in Java","body":"<p>I am trying to switch to a new data feed provider API that works fine in CURL with this command</p>\n<pre><code>curl -X GET 'https://api.activetick.com/stream.json?sessionid=12225759b81b421a9ce69db19c9222d8&amp;symbols=AAPL_S-U,IBM_S-U' -H &quot;Connection: Keep-Alive&quot; -H &quot;Accept: application/json&quot;\n</code></pre>\n<p>Our system is running in Java and I am unsure how to build code that can consume the JSON formatted messages the stream provides, below is how I am trying to do it now and when reading from in the input stream returned it throws unexpected end of line exception.</p>\n<pre><code>static  void test() throws IOException {\n        try {\n            HttpsURLConnection c = (HttpsURLConnection) new URL(&quot;https://api.activetick.com/stream.json?sessionid=12225759b81b421a9ce69db19c9222d8&amp;symbols=AAPL_S-U,IBM_S-U&quot;)\n                    .openConnection();\n            c.setRequestMethod(&quot;POST&quot;);\n            c.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n            c.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;json&quot;);\n            c.connect();\n            InputStream io = c.getInputStream();\n            \n            BufferedInputStream bis = new BufferedInputStream(io);\n            ByteArrayOutputStream buf = new ByteArrayOutputStream();\n            for (int result = bis.read(); result != -1; result = bis.read()) {\n                buf.write((byte) result);\n            }       \n        } catch (Exception e) {\n            System.err.println(&quot;here&quot;);\n        }\n    \n        \n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring","docker","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":21679024,"reputation":73,"user_id":15995510,"display_name":"Haithem Nasri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1651700192,"creation_date":1651700192,"answer_id":72119728,"question_id":70723872,"body_markdown":"I have just remembered that i asked this question and i forgot to answer it\r\nso here is the solution.&lt;br/&gt;\r\n\r\nI found out that rabbitmq was installed in my pc and that caused a confusion it seems like. Because, Spring run the rabbitmq instance automatically the same way it does with tomcat so when i ran a rabbitmq docker image, spring was using the local instance instead of the docker image.&lt;br/&gt;\r\n\r\nI only realised that when i dockerised my spring app and i the rabbitmq management UI start registering the queues.&lt;br/&gt;\r\n\r\nConclusion&lt;br/&gt;\r\nIf u have rabbitmq installed locally in ur pc this is some scenarios that may happens:&lt;br/&gt;\r\n\r\n1/non dockeried spring app: works fine bcz spring will use the local rabbitmq instance by default, and u can open the management UI&lt;br/&gt;\r\n\r\n2/dockerised spring app + rabbitmq docker image: works fine, bcz when u dockerise ur spring app it will stop using the local instance&lt;br/&gt;\r\n\r\n3/non dockeried spring app + rabbitmq docker image: WEIRD BEHAVIOUR, spring will continue on pushing messages to the queues just fine but when you try to open the management UI, you won&#39;t see any registered queue probably bcz thats the management UI of the docker image instance&lt;br/&gt;\r\n","title":"RabbitMQ doesn&#39;t show me the queues and exchange created in my Spring consumer and publisher apps","body":"<p>I have just remembered that i asked this question and i forgot to answer it\nso here is the solution.<br/></p>\n<p>I found out that rabbitmq was installed in my pc and that caused a confusion it seems like. Because, Spring run the rabbitmq instance automatically the same way it does with tomcat so when i ran a rabbitmq docker image, spring was using the local instance instead of the docker image.<br/></p>\n<p>I only realised that when i dockerised my spring app and i the rabbitmq management UI start registering the queues.<br/></p>\n<p>Conclusion<br/>\nIf u have rabbitmq installed locally in ur pc this is some scenarios that may happens:<br/></p>\n<p>1/non dockeried spring app: works fine bcz spring will use the local rabbitmq instance by default, and u can open the management UI<br/></p>\n<p>2/dockerised spring app + rabbitmq docker image: works fine, bcz when u dockerise ur spring app it will stop using the local instance<br/></p>\n<p>3/non dockeried spring app + rabbitmq docker image: WEIRD BEHAVIOUR, spring will continue on pushing messages to the queues just fine but when you try to open the management UI, you won't see any registered queue probably bcz thats the management UI of the docker image instance<br/></p>\n"}],"owner":{"account_id":21679024,"reputation":73,"user_id":15995510,"display_name":"Haithem Nasri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651700192,"creation_date":1642268773,"question_id":70723872,"body_markdown":"I am trying to create a publisher and consumer apps in spring using RabbitMQ.\r\nEvery thing works fine and when the publisher sends a message, the consumer receives it and consumes it successfully.\r\nBut as you can see in the picture below, RabbitMQ interface doesn&#39;t show me the queues and exchange created. \r\n\r\nNo QUEUES\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNo Exchange\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is the code I wrote:\r\n\r\nRABBITMQ CONFIGURATION (SAME IN PUBLISHER APP AND CONSUMER APP)\r\n    \r\n```\r\npackage com.example.rabbitmq.springrabbitmqconsumer.configuration;\r\n\r\nimport org.springframework.amqp.core.Binding;\r\nimport org.springframework.amqp.core.BindingBuilder;\r\nimport org.springframework.amqp.core.DirectExchange;\r\nimport org.springframework.amqp.core.Queue;\r\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\r\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\r\nimport org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;\r\nimport org.springframework.amqp.support.converter.MessageConverter;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class RabbitMQConfig {\r\n\r\n    public static final String ROUTING_A = &quot;routing.A&quot;;\r\n    public static final String ROUTING_B = &quot;routing.B&quot;;\r\n\r\n    //QUEUES\r\n    @Bean\r\n    Queue queueA() {\r\n        return new Queue(&quot;queue.A&quot;, false);\r\n    }\r\n    @Bean\r\n    Queue queueB() {\r\n        return new Queue(&quot;queue.B&quot;, false);\r\n    }\r\n\r\n    //Direct Exchange\r\n    @Bean\r\n    DirectExchange exchange() {\r\n        return new DirectExchange(&quot;exchange.direct&quot;);\r\n    }\r\n\r\n    //BINDINGS\r\n    @Bean\r\n    Binding bindingA(Queue queueA, DirectExchange exchange) {\r\n        return BindingBuilder.bind(queueA)\r\n                .to(exchange)\r\n                .with(ROUTING_A);\r\n    }\r\n    @Bean\r\n    Binding bindingB(Queue queueB, DirectExchange exchange) {\r\n        return BindingBuilder.bind(queueB)\r\n                .to(exchange)\r\n                .with(ROUTING_B);\r\n    }\r\n\r\n    @Bean\r\n    MessageConverter messageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setMessageConverter(messageConverter());\r\n        return rabbitTemplate;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nMESSAGE MODEL ( SAME IN PUBLISHER AND CONSUMER APPS)\r\n```\r\npackage com.example.rabbitmq.springrabbitmqconsumer.model;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Message {\r\n\r\n    private int id;\r\n    private String name;\r\n}\r\n\r\n```\r\n\r\nCONSUMER CONTROLLER\r\n```\r\npackage com.example.rabbitmq.springrabbitmqconsumer.controller;\r\n\r\nimport com.example.rabbitmq.springrabbitmqconsumer.model.Message;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.amqp.rabbit.annotation.RabbitListener;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Slf4j\r\npublic class Consumer {\r\n\r\n    @RabbitListener(queues = &quot;queue.A&quot;)\r\n    private void receiveA(Message message) {\r\n        log.info(&quot;Message received from queueA -&gt; {}&quot;, message);\r\n    }\r\n\r\n    @RabbitListener(queues = &quot;queue.B&quot;)\r\n    private void receiveB(Message message) {\r\n        log.info(&quot;Message received from queueB -&gt; {}&quot;, message);\r\n    }\r\n}\r\n```\r\nPIBLISHER CONTROLLER\r\n```\r\npackage com.example.rabbitmq.springrabbitmqproducer.contoller;\r\n\r\nimport com.example.rabbitmq.springrabbitmqproducer.model.Message;\r\nimport org.springframework.amqp.core.DirectExchange;\r\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class Producer {\r\n\r\n    private final RabbitTemplate rabbitTemplate;\r\n\r\n    private final DirectExchange exchange;\r\n\r\n    public Producer(RabbitTemplate rabbitTemplate, DirectExchange exchange) {\r\n        this.rabbitTemplate = rabbitTemplate;\r\n        this.exchange = exchange;\r\n    }\r\n\r\n    @PostMapping(&quot;/posta&quot;)\r\n    public String senda(@RequestBody Message message) {\r\n        rabbitTemplate.convertAndSend(exchange.getName(), &quot;routing.A&quot;, message);\r\n        return &quot;message sent successfully&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/postb&quot;)\r\n    public String sendb(@RequestBody Message message) {\r\n        rabbitTemplate.convertAndSend(exchange.getName(), &quot;routing.B&quot;, message);\r\n        return &quot;message sent successfully&quot;;\r\n    }\r\n}\r\n```\r\nPROPERTIES FILE (SAME IN BOTH APPS EXCEPT THE PORT)\r\n```\r\nserver.port=8081\r\n#rabbitmq configuration\r\nspring.rabbitmq.host=localhost\r\nspring.rabbitmq.port=5672\r\nspring.rabbitmq.username=guest\r\nspring.rabbitmq.password=guest\r\n```\r\nthis is the docker command I used to start the RabbitMQ container:\r\n```\r\ndocker run -d --name my-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3-management\r\n```\r\nAs you can see, the consumer receives the message and consumes it\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vOcdH.png\r\n  [2]: https://i.stack.imgur.com/N447u.png\r\n  [3]: https://i.stack.imgur.com/w0H2n.png","title":"RabbitMQ doesn&#39;t show me the queues and exchange created in my Spring consumer and publisher apps","body":"<p>I am trying to create a publisher and consumer apps in spring using RabbitMQ.\nEvery thing works fine and when the publisher sends a message, the consumer receives it and consumes it successfully.\nBut as you can see in the picture below, RabbitMQ interface doesn't show me the queues and exchange created.</p>\n<p>No QUEUES</p>\n<p><a href=\"https://i.stack.imgur.com/vOcdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vOcdH.png\" alt=\"enter image description here\" /></a></p>\n<p>No Exchange</p>\n<p><a href=\"https://i.stack.imgur.com/N447u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N447u.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the code I wrote:</p>\n<p>RABBITMQ CONFIGURATION (SAME IN PUBLISHER APP AND CONSUMER APP)</p>\n<pre><code>package com.example.rabbitmq.springrabbitmqconsumer.configuration;\n\nimport org.springframework.amqp.core.Binding;\nimport org.springframework.amqp.core.BindingBuilder;\nimport org.springframework.amqp.core.DirectExchange;\nimport org.springframework.amqp.core.Queue;\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;\nimport org.springframework.amqp.support.converter.MessageConverter;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String ROUTING_A = &quot;routing.A&quot;;\n    public static final String ROUTING_B = &quot;routing.B&quot;;\n\n    //QUEUES\n    @Bean\n    Queue queueA() {\n        return new Queue(&quot;queue.A&quot;, false);\n    }\n    @Bean\n    Queue queueB() {\n        return new Queue(&quot;queue.B&quot;, false);\n    }\n\n    //Direct Exchange\n    @Bean\n    DirectExchange exchange() {\n        return new DirectExchange(&quot;exchange.direct&quot;);\n    }\n\n    //BINDINGS\n    @Bean\n    Binding bindingA(Queue queueA, DirectExchange exchange) {\n        return BindingBuilder.bind(queueA)\n                .to(exchange)\n                .with(ROUTING_A);\n    }\n    @Bean\n    Binding bindingB(Queue queueB, DirectExchange exchange) {\n        return BindingBuilder.bind(queueB)\n                .to(exchange)\n                .with(ROUTING_B);\n    }\n\n    @Bean\n    MessageConverter messageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n\n    @Bean\n    RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(messageConverter());\n        return rabbitTemplate;\n    }\n}\n\n</code></pre>\n<p>MESSAGE MODEL ( SAME IN PUBLISHER AND CONSUMER APPS)</p>\n<pre><code>package com.example.rabbitmq.springrabbitmqconsumer.model;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter\n@Setter\n@ToString\npublic class Message {\n\n    private int id;\n    private String name;\n}\n\n</code></pre>\n<p>CONSUMER CONTROLLER</p>\n<pre><code>package com.example.rabbitmq.springrabbitmqconsumer.controller;\n\nimport com.example.rabbitmq.springrabbitmqconsumer.model.Message;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.amqp.rabbit.annotation.RabbitListener;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Slf4j\npublic class Consumer {\n\n    @RabbitListener(queues = &quot;queue.A&quot;)\n    private void receiveA(Message message) {\n        log.info(&quot;Message received from queueA -&gt; {}&quot;, message);\n    }\n\n    @RabbitListener(queues = &quot;queue.B&quot;)\n    private void receiveB(Message message) {\n        log.info(&quot;Message received from queueB -&gt; {}&quot;, message);\n    }\n}\n</code></pre>\n<p>PIBLISHER CONTROLLER</p>\n<pre><code>package com.example.rabbitmq.springrabbitmqproducer.contoller;\n\nimport com.example.rabbitmq.springrabbitmqproducer.model.Message;\nimport org.springframework.amqp.core.DirectExchange;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Producer {\n\n    private final RabbitTemplate rabbitTemplate;\n\n    private final DirectExchange exchange;\n\n    public Producer(RabbitTemplate rabbitTemplate, DirectExchange exchange) {\n        this.rabbitTemplate = rabbitTemplate;\n        this.exchange = exchange;\n    }\n\n    @PostMapping(&quot;/posta&quot;)\n    public String senda(@RequestBody Message message) {\n        rabbitTemplate.convertAndSend(exchange.getName(), &quot;routing.A&quot;, message);\n        return &quot;message sent successfully&quot;;\n    }\n\n    @PostMapping(&quot;/postb&quot;)\n    public String sendb(@RequestBody Message message) {\n        rabbitTemplate.convertAndSend(exchange.getName(), &quot;routing.B&quot;, message);\n        return &quot;message sent successfully&quot;;\n    }\n}\n</code></pre>\n<p>PROPERTIES FILE (SAME IN BOTH APPS EXCEPT THE PORT)</p>\n<pre><code>server.port=8081\n#rabbitmq configuration\nspring.rabbitmq.host=localhost\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=guest\nspring.rabbitmq.password=guest\n</code></pre>\n<p>this is the docker command I used to start the RabbitMQ container:</p>\n<pre><code>docker run -d --name my-rabbit -p 15672:15672 -p 5672:5672 rabbitmq:3-management\n</code></pre>\n<p>As you can see, the consumer receives the message and consumes it\n<a href=\"https://i.stack.imgur.com/w0H2n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w0H2n.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","intellij-idea","iml"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1651699895,"post_id":72119651,"comment_id":127428443,"body_markdown":"The iml file should only base on dependencies managed by the project pom.xml file(s) so there is no need to check it into a repo.","body":"The iml file should only base on dependencies managed by the project pom.xml file(s) so there is no need to check it into a repo."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651699962,"creation_date":1651699962,"answer_id":72119699,"question_id":72119651,"body_markdown":"Use Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | **Store generated project files externally** option.\r\n\r\nDon&#39;t commit project files for the external build model based projects (Maven/Gradle/SBT).\r\n\r\nSee also [this FAQ](https://intellij-support.jetbrains.com/hc/en-us/articles/206544839).","title":"How to achieve cross-platform Intellij IDEA `.iml` file with platform-dependent libraries?","body":"<p>Use Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | <strong>Store generated project files externally</strong> option.</p>\n<p>Don't commit project files for the external build model based projects (Maven/Gradle/SBT).</p>\n<p>See also <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\" rel=\"nofollow noreferrer\">this FAQ</a>.</p>\n"}],"owner":{"account_id":6278253,"reputation":1573,"user_id":4880243,"display_name":"AgainPsychoX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651699962,"creation_date":1651699619,"question_id":72119651,"body_markdown":"While working across multiple OS, what is preferable way to use libraries in IDEA project?\r\n\r\nThe .iml file has libraries from Maven listed, some platform dependent: \r\n\r\n```xml\r\n...\r\n    &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\r\n    &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n...\r\n```\r\n\r\nTrying to boot it up on Windows those get overwritten with Windows related versions of those libraries:\r\n```xml\r\n...\r\n    &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\r\n    &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\r\n...\r\n```\r\n... which I don&#39;t think will stay the same for back on Linux/MacOS. \r\n\r\nHow to work with that? Adding it to `.gitignore` seems bad idea...","title":"How to achieve cross-platform Intellij IDEA `.iml` file with platform-dependent libraries?","body":"<p>While working across multiple OS, what is preferable way to use libraries in IDEA project?</p>\n<p>The .iml file has libraries from Maven listed, some platform dependent:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\n    &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:linux:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n...\n</code></pre>\n<p>Trying to boot it up on Windows those get overwritten with Windows related versions of those libraries:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;orderEntry type=&quot;inheritedJdk&quot; /&gt;\n    &lt;orderEntry type=&quot;sourceFolder&quot; forTests=&quot;false&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-controls:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-graphics:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-base:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n    &lt;orderEntry type=&quot;library&quot; name=&quot;Maven: org.openjfx:javafx-fxml:win:17.0.0.1&quot; level=&quot;project&quot; /&gt;\n...\n</code></pre>\n<p>... which I don't think will stay the same for back on Linux/MacOS.</p>\n<p>How to work with that? Adding it to <code>.gitignore</code> seems bad idea...</p>\n"},{"tags":["java","maven","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":1433507,"reputation":31,"user_id":9120812,"display_name":"cenedhryn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601676111,"creation_date":1601676111,"answer_id":64178727,"question_id":62901999,"body_markdown":"I had a similar problem and it turned out my installation of Java 15 was the culprit. Once I got maven to use my standard java version (1.8 Corretto) I could build the project again. Use `mvn -version` to check which java it&#39;s currently using.\r\n\r\nPersonally I had to set `JAVA_HOME` in my `.mavenrc` file, setting it in my bash profile didn&#39;t help. ","title":"Spotbugs build issue","body":"<p>I had a similar problem and it turned out my installation of Java 15 was the culprit. Once I got maven to use my standard java version (1.8 Corretto) I could build the project again. Use <code>mvn -version</code> to check which java it's currently using.</p>\n<p>Personally I had to set <code>JAVA_HOME</code> in my <code>.mavenrc</code> file, setting it in my bash profile didn't help.</p>\n"},{"tags":[],"owner":{"account_id":2656206,"reputation":81,"user_id":2296855,"accept_rate":25,"display_name":"jediwompa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635882360,"creation_date":1635882360,"answer_id":69816147,"question_id":62901999,"body_markdown":"I had no `.mavenrc` file yet, but recently had added Java 17 to test something via Home Brew. As a result, I started seeing this issue. I created a `~/.mavenrc` and added the following to it:\r\n\r\n    JAVA_HOME=`/usr/libexec/java_home -v 1.8.0`\r\n\r\nThis allowed me to get back to using Java 8 with Maven just like my default Java version would be.","title":"Spotbugs build issue","body":"<p>I had no <code>.mavenrc</code> file yet, but recently had added Java 17 to test something via Home Brew. As a result, I started seeing this issue. I created a <code>~/.mavenrc</code> and added the following to it:</p>\n<pre><code>JAVA_HOME=`/usr/libexec/java_home -v 1.8.0`\n</code></pre>\n<p>This allowed me to get back to using Java 8 with Maven just like my default Java version would be.</p>\n"}],"owner":{"account_id":16365040,"reputation":149,"user_id":11819732,"display_name":"Noura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651699391,"creation_date":1594752370,"question_id":62901999,"body_markdown":"Built failed while creating aws-sdk-v2 jars due to spotbugs plugin.\r\n\r\nSteps to reproduce the error:\r\nclone latest version of aws-sdk-java-v2\r\nIn terminal, go to directory and run mvn clean install\r\n\r\nError:\r\n ```Failed to execute goal com.github.spotbugs:spotbugs-maven-plugin:3.1.11:spotbugs (spotbugs) on project aws-sdk-java-pom: Execution spotbugs of goal com.github.spotbugs:spotbugs-maven-plugin:3.1.11:spotbugs failed: Unable to load the mojo &#39;spotbugs&#39; in the plugin &#39;com.github.spotbugs:spotbugs-maven-plugin:3.1.11&#39;. A required class is missing: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7```\r\n\r\nI tried to rebuild the project by deleting spotbugs-maven-plugin but I that didn&#39;t solve the problem.","title":"Spotbugs build issue","body":"<p>Built failed while creating aws-sdk-v2 jars due to spotbugs plugin.</p>\n<p>Steps to reproduce the error:\nclone latest version of aws-sdk-java-v2\nIn terminal, go to directory and run mvn clean install</p>\n<p>Error:\n<code>Failed to execute goal com.github.spotbugs:spotbugs-maven-plugin:3.1.11:spotbugs (spotbugs) on project aws-sdk-java-pom: Execution spotbugs of goal com.github.spotbugs:spotbugs-maven-plugin:3.1.11:spotbugs failed: Unable to load the mojo 'spotbugs' in the plugin 'com.github.spotbugs:spotbugs-maven-plugin:3.1.11'. A required class is missing: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7</code></p>\n<p>I tried to rebuild the project by deleting spotbugs-maven-plugin but I that didn't solve the problem.</p>\n"},{"tags":["java","spring","spring-boot","design-patterns"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1651700381,"post_id":72119058,"comment_id":127428564,"body_markdown":"just adding here that side-effects are not really something you want from your code. it&#39;s very unclear how the Report is generated that is returned by `analyse` (I guess it&#39;s coming from the class?) - while it is certainly possible to use and chain different `void` methods (or Consumers as a subset of these) it&#39;s not advised for clean code unless you keep it mostly side-effect free.","body":"just adding here that side-effects are not really something you want from your code. it&#39;s very unclear how the Report is generated that is returned by <code>analyse</code> (I guess it&#39;s coming from the class?) - while it is certainly possible to use and chain different <code>void</code> methods (or Consumers as a subset of these) it&#39;s not advised for clean code unless you keep it mostly side-effect free."}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651699319,"creation_date":1651699319,"answer_id":72119611,"question_id":72119058,"body_markdown":"Looks like you have an ordered collection of `Consumer&lt;String&gt;` in your class and you want to invoke each of them in order using the same parameter.\r\n\r\nAn idea may be to create a method in your class that returns a `List&lt;Consumer&lt;String&gt;&gt;`, for example:\r\n\r\n    public List&lt;Consumer&lt;String&gt;&gt; consumers() {\r\n        return List.of(\r\n            this::method1,\r\n            this::method2,\r\n            this::method3,\r\n            this::method4\r\n        );\r\n    }\r\n\r\n... and then the `analyse` method will simply loop through this list: \r\n\r\n    public Report analyse(ExcelDto excel) {\r\n        //... missing code\r\n        consumers().forEach(c -&gt; c.accept(excel.getText()));\r\n        return report;\r\n    }\r\n\r\nNote: you may build the `consumers()` list dynamically by reflection, but you wouldn&#39;t be able to control the order of the methods and I don&#39;t know if that&#39;s important from your functional perspective.  ","title":"Java passing same parameter to more than one function","body":"<p>Looks like you have an ordered collection of <code>Consumer&lt;String&gt;</code> in your class and you want to invoke each of them in order using the same parameter.</p>\n<p>An idea may be to create a method in your class that returns a <code>List&lt;Consumer&lt;String&gt;&gt;</code>, for example:</p>\n<pre><code>public List&lt;Consumer&lt;String&gt;&gt; consumers() {\n    return List.of(\n        this::method1,\n        this::method2,\n        this::method3,\n        this::method4\n    );\n}\n</code></pre>\n<p>... and then the <code>analyse</code> method will simply loop through this list:</p>\n<pre><code>public Report analyse(ExcelDto excel) {\n    //... missing code\n    consumers().forEach(c -&gt; c.accept(excel.getText()));\n    return report;\n}\n</code></pre>\n<p>Note: you may build the <code>consumers()</code> list dynamically by reflection, but you wouldn't be able to control the order of the methods and I don't know if that's important from your functional perspective.</p>\n"}],"owner":{"account_id":18684501,"reputation":15,"user_id":13620334,"display_name":"onur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651699369,"creation_date":1651695729,"question_id":72119058,"body_markdown":"I want to do some calculations in different functions and i want to write clean code.\r\n\r\nAt first, i wrote something like this in service layer:\r\n\r\n    @Service\r\n    public class MyService {\r\n    public Report analyse(ExcelDto excel){\r\n           method1(excel.getText());\r\n           method2(excel.getText());\r\n           method3(excel.getText());\r\n           return  report;\r\n        }\r\n    public void method1(String text) { }\r\n    public void method2(String text) { }\r\n    public void method3(String text) { }\r\n    public void method4(String text) { }\r\n    }\r\n\r\nBut then i thought i was repeating the code too much. Do you have any idea to make this code based on design patterns?","title":"Java passing same parameter to more than one function","body":"<p>I want to do some calculations in different functions and i want to write clean code.</p>\n<p>At first, i wrote something like this in service layer:</p>\n<pre><code>@Service\npublic class MyService {\npublic Report analyse(ExcelDto excel){\n       method1(excel.getText());\n       method2(excel.getText());\n       method3(excel.getText());\n       return  report;\n    }\npublic void method1(String text) { }\npublic void method2(String text) { }\npublic void method3(String text) { }\npublic void method4(String text) { }\n}\n</code></pre>\n<p>But then i thought i was repeating the code too much. Do you have any idea to make this code based on design patterns?</p>\n"},{"tags":["java","spring-boot","spring-kafka","stateful","dead-letter"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1651689005,"post_id":72117194,"comment_id":127425177,"body_markdown":"Configuration looks fine on the face of it; try DEBUG logging, add a `RetryListener` to the error handler to monitor retries; if you still can&#39;t figure it out, post a minimal, complete, reproducible example someplace so someone can take a look to see what&#39;s wrong with the config.","body":"Configuration looks fine on the face of it; try DEBUG logging, add a <code>RetryListener</code> to the error handler to monitor retries; if you still can&#39;t figure it out, post a minimal, complete, reproducible example someplace so someone can take a look to see what&#39;s wrong with the config."},{"owner":{"account_id":22146863,"reputation":21,"user_id":16395961,"display_name":"Allen Vieira"},"score":0,"creation_date":1651695306,"post_id":72117194,"comment_id":127427226,"body_markdown":"With your tip we managed to get the producer to be created, which was the problem. Now we found a new challenge, I edited the question with the error we are getting.","body":"With your tip we managed to get the producer to be created, which was the problem. Now we found a new challenge, I edited the question with the error we are getting."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651699249,"creation_date":1651699249,"answer_id":72119601,"question_id":72117194,"body_markdown":"\r\n\r\nIf I understand the question properly, you want to create a `ProducerRecord` with a different value type.\r\n\r\nSimply subclass the DLPR and override `createProducerRecord()`.\r\n```java\r\n\t/**\r\n\t * Subclasses can override this method to customize the producer record to send to the\r\n\t * DLQ. The default implementation simply copies the key and value from the consumer\r\n\t * record and adds the headers. The timestamp is not set (the original timestamp is in\r\n\t * one of the headers). IMPORTANT: if the partition in the {@link TopicPartition} is\r\n\t * less than 0, it must be set to null in the {@link ProducerRecord}.\r\n\t * @param record the failed record\r\n\t * @param topicPartition the {@link TopicPartition} returned by the destination\r\n\t * resolver.\r\n\t * @param headers the headers - original record headers plus DLT headers.\r\n\t * @param key the key to use instead of the consumer record key.\r\n\t * @param value the value to use instead of the consumer record value.\r\n\t * @return the producer record to send.\r\n\t * @see KafkaHeaders\r\n\t */\r\n\tprotected ProducerRecord&lt;Object, Object&gt; createProducerRecord(ConsumerRecord&lt;?, ?&gt; record,\r\n\t\t\tTopicPartition topicPartition, Headers headers, @Nullable byte[] key, @Nullable byte[] value) {\r\n```\r\n\r\nYou can examine the headers to determine the exception that caused the failure. If you need the actual exception, override `accept()` to capture it in a `ThreadLocal`, then call `super.accept()`; you can then use the thread local in `createProducerRecord()`.\r\n\r\nThere are several solutions to publish the different type with the same producer factory.\r\n\r\n-  you can us a `DelegatingByTypeSerializer` see https://stackoverflow.com/questions/72060398/kafkaconsumer-with-multiple-different-avro-producers-and-transactions/72099146#72099146 for an example\r\n- you can configure the publisher with a `KafkaTemplate` that uses a different  serializer (it has a constructor where you can override the producer factory configs).","title":"How to configure DLQ in a stateful application with Spring-Boot?","body":"<p>If I understand the question properly, you want to create a <code>ProducerRecord</code> with a different value type.</p>\n<p>Simply subclass the DLPR and override <code>createProducerRecord()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Subclasses can override this method to customize the producer record to send to the\n     * DLQ. The default implementation simply copies the key and value from the consumer\n     * record and adds the headers. The timestamp is not set (the original timestamp is in\n     * one of the headers). IMPORTANT: if the partition in the {@link TopicPartition} is\n     * less than 0, it must be set to null in the {@link ProducerRecord}.\n     * @param record the failed record\n     * @param topicPartition the {@link TopicPartition} returned by the destination\n     * resolver.\n     * @param headers the headers - original record headers plus DLT headers.\n     * @param key the key to use instead of the consumer record key.\n     * @param value the value to use instead of the consumer record value.\n     * @return the producer record to send.\n     * @see KafkaHeaders\n     */\n    protected ProducerRecord&lt;Object, Object&gt; createProducerRecord(ConsumerRecord&lt;?, ?&gt; record,\n            TopicPartition topicPartition, Headers headers, @Nullable byte[] key, @Nullable byte[] value) {\n</code></pre>\n<p>You can examine the headers to determine the exception that caused the failure. If you need the actual exception, override <code>accept()</code> to capture it in a <code>ThreadLocal</code>, then call <code>super.accept()</code>; you can then use the thread local in <code>createProducerRecord()</code>.</p>\n<p>There are several solutions to publish the different type with the same producer factory.</p>\n<ul>\n<li>you can us a <code>DelegatingByTypeSerializer</code> see <a href=\"https://stackoverflow.com/questions/72060398/kafkaconsumer-with-multiple-different-avro-producers-and-transactions/72099146#72099146\">KafkaConsumer With Multiple Different Avro Producers And Transactions</a> for an example</li>\n<li>you can configure the publisher with a <code>KafkaTemplate</code> that uses a different  serializer (it has a constructor where you can override the producer factory configs).</li>\n</ul>\n"}],"owner":{"account_id":22146863,"reputation":21,"user_id":16395961,"display_name":"Allen Vieira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72119601,"answer_count":1,"score":1,"last_activity_date":1651699249,"creation_date":1651685532,"question_id":72117194,"body_markdown":"I need to create an application using stateful retry, that listen to a Kafka topic and make calls to some APIs and then commit the message. If in one of these calls an error occurs, for example a timeout, the application must retry 4 attempts with an interval of 4 seconds. At the end of these four attempts, if it still hasn&#39;t worked, the application should send it to a DLQ topic.\r\n\r\nThe part of sending to the DLQ topic that I&#39;m not able to do. Because when I tried to configure the DLQ, the retry don&#39;t stop and not send to DLQ too.\r\n\r\n```\r\n@KafkaListener(topics = &quot;${topic.name}&quot;, concurrency = &quot;1&quot;)\r\npublic void listen(ConsumerRecord&lt;String, AberturaContaLimiteCreditoCalculado&gt; mensagem,\r\n                    @Headers final MessageHeaders headers,\r\n                    Acknowledgment ack) {\r\n    AberturaContaLimiteCreditoCalculadoData dados;\r\n    if (!validarMensagem(mensagem)) {\r\n        dados = mensagem.value().getData();\r\n        throw new RuntimeException();\r\n        //ack.acknowledge();\r\n        //This throw Runtime it&#39;s just to force it to retry.\r\n    }\r\n}\r\n\r\nprivate boolean validarMensagem(ConsumerRecord&lt;String, AberturaContaLimiteCreditoCalculado&gt; mensagem) {\r\n    return mensagem == null || mensagem.value() == null;\r\n}\r\n```\r\n\r\nKafkaConfig:\r\n```\r\n@Bean\r\npublic ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; kafkaListenerContainerFactory(final ConsumerFactory&lt;String, Object&gt; consumerFactory) {\r\n    final ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory\r\n            = new ConcurrentKafkaListenerContainerFactory();\r\n    factory.setConsumerFactory(consumerFactory);\r\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n    factory.setCommonErrorHandler(new DefaultErrorHandler(\r\n            publisherRetryDLQ(),\r\n            new FixedBackOff(4000L, 4L)));\r\n    return factory;\r\n}\r\n\r\npublic DeadLetterPublishingRecoverer publisherRetryDLQ() {\r\n    return new DeadLetterPublishingRecoverer(createKafkaTemplate(),\r\n            (record, ex) -&gt; new TopicPartition(topicoDLQ, 0));\r\n}\r\n\r\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    final Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServer);\r\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, keySerializer);\r\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, valueSerializer);\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(config);\r\n}\r\n\r\npublic KafkaOperations&lt;String, String&gt; createKafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory());\r\n}\r\n```\r\n\r\n**Edit 2022-05-04:**\r\n\r\nWe managed, from your tip with RetryListener and logging.level with Debug, to find the problem that was not building the Producer.\r\n\r\nThe problem now is that we receive a consumer with a different avro from the DLQ avro. The difference is that the DLQ has an extra field that must store the reason for the error.\r\n\r\n```\r\n2022/05/04 16:53:43.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] [ERROR] o.s.k.l.DeadLetterPublishingRecoverer - Dead-letter publication to limites-abertura-conta-limite-credito-calculado-convivenciaaberturaconta-dlq failed for: limites-abertura-conta-limite-credito-calculado-0@6\r\norg.apache.kafka.common.errors.SerializationException: Error retrieving Avro schema{...}]}}]}\r\n```\r\n\r\nIs there a way to do this conversion?","title":"How to configure DLQ in a stateful application with Spring-Boot?","body":"<p>I need to create an application using stateful retry, that listen to a Kafka topic and make calls to some APIs and then commit the message. If in one of these calls an error occurs, for example a timeout, the application must retry 4 attempts with an interval of 4 seconds. At the end of these four attempts, if it still hasn't worked, the application should send it to a DLQ topic.</p>\n<p>The part of sending to the DLQ topic that I'm not able to do. Because when I tried to configure the DLQ, the retry don't stop and not send to DLQ too.</p>\n<pre><code>@KafkaListener(topics = &quot;${topic.name}&quot;, concurrency = &quot;1&quot;)\npublic void listen(ConsumerRecord&lt;String, AberturaContaLimiteCreditoCalculado&gt; mensagem,\n                    @Headers final MessageHeaders headers,\n                    Acknowledgment ack) {\n    AberturaContaLimiteCreditoCalculadoData dados;\n    if (!validarMensagem(mensagem)) {\n        dados = mensagem.value().getData();\n        throw new RuntimeException();\n        //ack.acknowledge();\n        //This throw Runtime it's just to force it to retry.\n    }\n}\n\nprivate boolean validarMensagem(ConsumerRecord&lt;String, AberturaContaLimiteCreditoCalculado&gt; mensagem) {\n    return mensagem == null || mensagem.value() == null;\n}\n</code></pre>\n<p>KafkaConfig:</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; kafkaListenerContainerFactory(final ConsumerFactory&lt;String, Object&gt; consumerFactory) {\n    final ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory\n            = new ConcurrentKafkaListenerContainerFactory();\n    factory.setConsumerFactory(consumerFactory);\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n    factory.setCommonErrorHandler(new DefaultErrorHandler(\n            publisherRetryDLQ(),\n            new FixedBackOff(4000L, 4L)));\n    return factory;\n}\n\npublic DeadLetterPublishingRecoverer publisherRetryDLQ() {\n    return new DeadLetterPublishingRecoverer(createKafkaTemplate(),\n            (record, ex) -&gt; new TopicPartition(topicoDLQ, 0));\n}\n\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    final Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n    config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServer);\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, keySerializer);\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, valueSerializer);\n    return new DefaultKafkaProducerFactory&lt;&gt;(config);\n}\n\npublic KafkaOperations&lt;String, String&gt; createKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n</code></pre>\n<p><strong>Edit 2022-05-04:</strong></p>\n<p>We managed, from your tip with RetryListener and logging.level with Debug, to find the problem that was not building the Producer.</p>\n<p>The problem now is that we receive a consumer with a different avro from the DLQ avro. The difference is that the DLQ has an extra field that must store the reason for the error.</p>\n<pre><code>2022/05/04 16:53:43.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] [ERROR] o.s.k.l.DeadLetterPublishingRecoverer - Dead-letter publication to limites-abertura-conta-limite-credito-calculado-convivenciaaberturaconta-dlq failed for: limites-abertura-conta-limite-credito-calculado-0@6\norg.apache.kafka.common.errors.SerializationException: Error retrieving Avro schema{...}]}}]}\n</code></pre>\n<p>Is there a way to do this conversion?</p>\n"},{"tags":["java","sockets","while-loop"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1651705630,"post_id":72119100,"comment_id":127429682,"body_markdown":"Note that almost the entire `send` function on the client side can be replaced by a call to [`Files.copy`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)).","body":"Note that almost the entire <code>send</code> function on the client side can be replaced by a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)\" rel=\"nofollow noreferrer\"><code>Files.copy</code></a>."},{"owner":{"account_id":17872665,"reputation":495,"user_id":12983543,"display_name":"Matteo Possamai"},"score":0,"creation_date":1651753882,"post_id":72119100,"comment_id":127441052,"body_markdown":"I should keep the socket opened. I modified the code of the application, and now it is the same, but it knows the length of the file, and both buffer have the same length, but it brakes anyway. Any suggestion about what should I do?","body":"I should keep the socket opened. I modified the code of the application, and now it is the same, but it knows the length of the file, and both buffer have the same length, but it brakes anyway. Any suggestion about what should I do?"}],"answers":[{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651698707,"creation_date":1651698707,"answer_id":72119529,"question_id":72119100,"body_markdown":"On the client side, you allocate a large enough buffer to read the entire file.  Assuming that you actually read the file in one go, then the client will exit the loop after one write to the socket.\r\n\r\nBut there is no way visible for the server to know that the client has finished writing to the socket. The client side of the socket is not closed; therefore, more data could be coming.\r\n\r\nI think you just need to close the socket in the client. Then the server will see an end-of-file.\r\n\r\nIf for some reason you can&#39;t close the socket (maybe you need to re-use the same connection) then you must find some other way to let the server know when the incoming file is complete.  A common way is to just send the length of the file, before the file, as a fixed-length value (say, 4- or 8-byte binary).\r\n\r\n\r\n","title":"Java execution blocked in socket","body":"<p>On the client side, you allocate a large enough buffer to read the entire file.  Assuming that you actually read the file in one go, then the client will exit the loop after one write to the socket.</p>\n<p>But there is no way visible for the server to know that the client has finished writing to the socket. The client side of the socket is not closed; therefore, more data could be coming.</p>\n<p>I think you just need to close the socket in the client. Then the server will see an end-of-file.</p>\n<p>If for some reason you can't close the socket (maybe you need to re-use the same connection) then you must find some other way to let the server know when the incoming file is complete.  A common way is to just send the length of the file, before the file, as a fixed-length value (say, 4- or 8-byte binary).</p>\n"}],"owner":{"account_id":17872665,"reputation":495,"user_id":12983543,"display_name":"Matteo Possamai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651698707,"creation_date":1651695988,"question_id":72119100,"body_markdown":"I am creating a simple client server application that let the server receive a file from the client. I implemented almost everything, but there is a moment in the excution, where the code stops, and doesn&#39;t proceed anymore. \r\n\r\nI am not much experienced in Java, so maybe it is a trivial matter, but I can&#39;t figure out.\r\n\r\nThis is the code in the server: \r\n\r\n```\r\n    public static void receive(String token, String fileName, String filePath) throws IOException{\r\n\r\n        //Stream for binary data and file transfer\r\n        OutputStream out = new FileOutputStream(basePath + filePath  + fileName);\r\n        InputStream in = socket.getInputStream();\r\n\r\n        // Variables \r\n        int bytesRead;\r\n\r\n        // Bytes for store info to be sent\r\n        byte[] buffer = new byte[1024 * 16];\r\n\r\n        //-------------------------\r\n        // Send file \r\n        //------------------------- \r\n\r\n        System.out.println(&quot;1&quot;);\r\n\r\n        while((bytesRead = in.read(buffer)) &gt; 0){\r\n            System.out.println(&quot;2&quot;);\r\n            out.write(buffer, 0, bytesRead);\r\n            System.out.println(&quot;3&quot;);\r\n        }\r\n        System.out.println(&quot;4&quot;);\r\n\r\n        //-------------------------\r\n        // End of file transfer\r\n        //-------------------------\r\n        \r\n\r\n        out.close();\r\n    } // send\r\n```\r\n\r\nAnd this is the client: \r\n\r\n```\r\n    public static void send(Socket socket, String token, String fileName, String filePath) throws IOException{\r\n\r\n        // Getting the file to send from the file system\r\n        File file = new File(&quot;C:\\\\&quot; + filePath + &quot;\\\\&quot; + fileName);\r\n\r\n        // Getting length of the file and creating the buffer\r\n        int length = (int) file.length();\r\n        byte[] buffer = new byte[length];\r\n\r\n        // Setting up channels to transfer data\r\n        InputStream in = new FileInputStream(file);\r\n        OutputStream out = socket.getOutputStream();\r\n\r\n        // Variables \r\n        int bytesRead;\r\n\r\n        //-------------------------\r\n        // Send file \r\n        //------------------------- \r\n\r\n        while ((bytesRead = in.read(buffer)) &gt; 0) {\r\n            out.write(buffer, 0, bytesRead);\r\n        }\r\n\r\n        //-------------------------\r\n        // End of file transfer\r\n        //-------------------------\r\n        in.close();\r\n    } // send\r\n```\r\n\r\nIn the server part, when it comes to the while loop, it prints the number 1, 2, 3, but 4 is never printed. The code get stopped or something similar, and can&#39;t proceed anymore. So, other eventual call provided by the main are blocked. \r\n\r\nRepeat, maybe it is a trivial teorical matter, but I can&#39;t really understand why. If the loop was infinite, 2 and 3 must have been printed a lot of time, but it happens only one time. Then, I can&#39;t really see what is blocking Java from printing 4 and letting the code continuing the run.\r\n\r\nIf someone has some idea, I would be increadibly pleased. Thank you in advice","title":"Java execution blocked in socket","body":"<p>I am creating a simple client server application that let the server receive a file from the client. I implemented almost everything, but there is a moment in the excution, where the code stops, and doesn't proceed anymore.</p>\n<p>I am not much experienced in Java, so maybe it is a trivial matter, but I can't figure out.</p>\n<p>This is the code in the server:</p>\n<pre><code>    public static void receive(String token, String fileName, String filePath) throws IOException{\n\n        //Stream for binary data and file transfer\n        OutputStream out = new FileOutputStream(basePath + filePath  + fileName);\n        InputStream in = socket.getInputStream();\n\n        // Variables \n        int bytesRead;\n\n        // Bytes for store info to be sent\n        byte[] buffer = new byte[1024 * 16];\n\n        //-------------------------\n        // Send file \n        //------------------------- \n\n        System.out.println(&quot;1&quot;);\n\n        while((bytesRead = in.read(buffer)) &gt; 0){\n            System.out.println(&quot;2&quot;);\n            out.write(buffer, 0, bytesRead);\n            System.out.println(&quot;3&quot;);\n        }\n        System.out.println(&quot;4&quot;);\n\n        //-------------------------\n        // End of file transfer\n        //-------------------------\n        \n\n        out.close();\n    } // send\n</code></pre>\n<p>And this is the client:</p>\n<pre><code>    public static void send(Socket socket, String token, String fileName, String filePath) throws IOException{\n\n        // Getting the file to send from the file system\n        File file = new File(&quot;C:\\\\&quot; + filePath + &quot;\\\\&quot; + fileName);\n\n        // Getting length of the file and creating the buffer\n        int length = (int) file.length();\n        byte[] buffer = new byte[length];\n\n        // Setting up channels to transfer data\n        InputStream in = new FileInputStream(file);\n        OutputStream out = socket.getOutputStream();\n\n        // Variables \n        int bytesRead;\n\n        //-------------------------\n        // Send file \n        //------------------------- \n\n        while ((bytesRead = in.read(buffer)) &gt; 0) {\n            out.write(buffer, 0, bytesRead);\n        }\n\n        //-------------------------\n        // End of file transfer\n        //-------------------------\n        in.close();\n    } // send\n</code></pre>\n<p>In the server part, when it comes to the while loop, it prints the number 1, 2, 3, but 4 is never printed. The code get stopped or something similar, and can't proceed anymore. So, other eventual call provided by the main are blocked.</p>\n<p>Repeat, maybe it is a trivial teorical matter, but I can't really understand why. If the loop was infinite, 2 and 3 must have been printed a lot of time, but it happens only one time. Then, I can't really see what is blocking Java from printing 4 and letting the code continuing the run.</p>\n<p>If someone has some idea, I would be increadibly pleased. Thank you in advice</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":1233142,"reputation":5617,"user_id":1197313,"accept_rate":25,"display_name":"Santoshsarma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1377582379,"creation_date":1377582379,"answer_id":18457850,"question_id":18457503,"body_markdown":"In WebDriver there is separate Class ([Select][1]) is there to deal with Combo lists.\r\n\r\nUse below logic to select options from pick list fields\r\n\r\n    Select select=new Select(driver.findElement(By.xpath(&quot;//div[@id=&#39;views/div/select&#39;]&quot;));\r\n    \r\n    select.selectByVisibleText(&quot;NIC&quot;);\r\n    or\r\n    select.selectByIndex(0);\r\n    or\r\n    select.selectByValue(&quot;value&quot;);\r\n\r\n\r\nRefer this [post][2] for more info regarding Select class.\r\n\r\n\r\n  [1]: http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/support/ui/Select.html\r\n  [2]: http://santoshsarmajv.blogspot.in/2013/04/Select.html","title":"Selecting an item from a combo box selenium driver with java","body":"<p>In WebDriver there is separate Class (<a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/support/ui/Select.html\" rel=\"noreferrer\">Select</a>) is there to deal with Combo lists.</p>\n\n<p>Use below logic to select options from pick list fields</p>\n\n<pre><code>Select select=new Select(driver.findElement(By.xpath(\"//div[@id='views/div/select']\"));\n\nselect.selectByVisibleText(\"NIC\");\nor\nselect.selectByIndex(0);\nor\nselect.selectByValue(\"value\");\n</code></pre>\n\n<p>Refer this <a href=\"http://santoshsarmajv.blogspot.in/2013/04/Select.html\" rel=\"noreferrer\">post</a> for more info regarding Select class.</p>\n"}],"owner":{"account_id":3223395,"reputation":576,"user_id":2720250,"display_name":"Eshan Liyanagama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21711,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18457850,"answer_count":1,"score":3,"last_activity_date":1651698403,"creation_date":1377580743,"question_id":18457503,"body_markdown":"I tried to select an item from a combo box through selenium driver with java, but it didn&#39;t work.\r\n\r\nThis is my code...\r\n```java\r\ncombo box list = {NIC, NAME, AGE};\r\n\r\ndriver.findElement(By.xpath(&quot;//div[@id=&#39;views/div/select&#39;]/label&quot;)).sendKeys(&quot;NIC&quot;);\r\n```","title":"Selecting an item from a combo box selenium driver with java","body":"<p>I tried to select an item from a combo box through selenium driver with java, but it didn't work.</p>\n<p>This is my code...</p>\n<pre class=\"lang-java prettyprint-override\"><code>combo box list = {NIC, NAME, AGE};\n\ndriver.findElement(By.xpath(&quot;//div[@id='views/div/select']/label&quot;)).sendKeys(&quot;NIC&quot;);\n</code></pre>\n"},{"tags":["java","android","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651698292,"creation_date":1651697448,"answer_id":72119338,"question_id":72116037,"body_markdown":"The biggest issue is probably closing the database, it is inefficient to unnecessarily close and open the database. \r\n\r\nAll you need to do is get the database (getReadableDatabase or getWritableDatabase *(both will under most circumstances return a writable database)*). It will returns the same object, unless the database has been closed, when it then goes though the process of opening the database.\r\n\r\n- This will be the same object returned by getWritableDatabase() unless some problem, such as a full disk, requires the database to be opened read-only. In that case, a read-only database object will be returned. https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper#getReadableDatabase().\r\n\r\n\r\nHowever, perhaps consider :-\r\n\r\n    public class DbManager {\r\n    \r\n       private DbHelper helper = null;\r\n       private SQLiteDatabase db = null; //&lt;&lt;&lt;&lt;&lt; ADDED\r\n    \r\n       public DbManager(Context context) {\r\n          helper = new DbHelper(context);\r\n          db = helper.getWritableDatabase(); //&lt;&lt;&lt;&lt;&lt; ADDED\r\n       }\r\n    \r\n       public void method1(boolean cond) {\r\n    \r\n          /* operate on db... */\r\n    \r\n          if (cond) method2();\r\n    \r\n          /* operate on db... */\r\n       }\r\n    \r\n       public void method2() {\r\n          /* operate on db... */\r\n          \r\n       }\r\n    }\r\n\r\nOf course you may wish to also consider using a singleton approach to the DbHelper, then multiple DbManager instances, would only have the single DbHelper instance\r\n\r\ne.g. you could have something like :-\r\n\r\n    public class DbHelper extends SQLiteOpenHelper {\r\n    \r\n       private static final String DATABASE_NAME = &quot;whatever&quot;;\r\n       private static final int DATABASE_VERSION = 1;\r\n       /* ... */\r\n    \r\n       /* don&#39;t allow construction of a DbHelper by making the constructor private */\r\n       private DbHelper(Context context) {\r\n          super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n       }\r\n    \r\n       volatile static private DbHelper instance = null;\r\n       public static DbHelper getInstance(Context context) {\r\n          if (instance == null) {\r\n             instance = new DbHelper(context);\r\n          }\r\n          return instance;\r\n       }\r\n    \r\n    \r\n       @Override\r\n       public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n    \r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion) {\r\n    \r\n       }\r\n    }\r\n\r\nalong with\r\n\r\n    public class DbManager {\r\n    \r\n       private DbHelper helper = null;\r\n       private SQLiteDatabase db = null;\r\n    \r\n       public DbManager(Context context) {\r\n          helper = DbHelper.getInstance(context);\r\n          db = helper.getWritableDatabase();\r\n       }\r\n    \r\n       public void method1(boolean cond) {\r\n    \r\n          /* operate on db... */\r\n    \r\n          if (cond) method2();\r\n    \r\n          /* operate on db... */\r\n       }\r\n    \r\n       public void method2() {\r\n          /* see below */\r\n    \r\n       }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android and SQLite: &quot;nested&quot; getReadableDatabase","body":"<p>The biggest issue is probably closing the database, it is inefficient to unnecessarily close and open the database.</p>\n<p>All you need to do is get the database (getReadableDatabase or getWritableDatabase <em>(both will under most circumstances return a writable database)</em>). It will returns the same object, unless the database has been closed, when it then goes though the process of opening the database.</p>\n<ul>\n<li>This will be the same object returned by getWritableDatabase() unless some problem, such as a full disk, requires the database to be opened read-only. In that case, a read-only database object will be returned. <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper#getReadableDatabase()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper#getReadableDatabase()</a>.</li>\n</ul>\n<p>However, perhaps consider :-</p>\n<pre><code>public class DbManager {\n\n   private DbHelper helper = null;\n   private SQLiteDatabase db = null; //&lt;&lt;&lt;&lt;&lt; ADDED\n\n   public DbManager(Context context) {\n      helper = new DbHelper(context);\n      db = helper.getWritableDatabase(); //&lt;&lt;&lt;&lt;&lt; ADDED\n   }\n\n   public void method1(boolean cond) {\n\n      /* operate on db... */\n\n      if (cond) method2();\n\n      /* operate on db... */\n   }\n\n   public void method2() {\n      /* operate on db... */\n      \n   }\n}\n</code></pre>\n<p>Of course you may wish to also consider using a singleton approach to the DbHelper, then multiple DbManager instances, would only have the single DbHelper instance</p>\n<p>e.g. you could have something like :-</p>\n<pre><code>public class DbHelper extends SQLiteOpenHelper {\n\n   private static final String DATABASE_NAME = &quot;whatever&quot;;\n   private static final int DATABASE_VERSION = 1;\n   /* ... */\n\n   /* don't allow construction of a DbHelper by making the constructor private */\n   private DbHelper(Context context) {\n      super(context,DATABASE_NAME,null,DATABASE_VERSION);\n   }\n\n   volatile static private DbHelper instance = null;\n   public static DbHelper getInstance(Context context) {\n      if (instance == null) {\n         instance = new DbHelper(context);\n      }\n      return instance;\n   }\n\n\n   @Override\n   public void onCreate(SQLiteDatabase sqLiteDatabase) {\n\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion) {\n\n   }\n}\n</code></pre>\n<p>along with</p>\n<pre><code>public class DbManager {\n\n   private DbHelper helper = null;\n   private SQLiteDatabase db = null;\n\n   public DbManager(Context context) {\n      helper = DbHelper.getInstance(context);\n      db = helper.getWritableDatabase();\n   }\n\n   public void method1(boolean cond) {\n\n      /* operate on db... */\n\n      if (cond) method2();\n\n      /* operate on db... */\n   }\n\n   public void method2() {\n      /* see below */\n\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":7315304,"reputation":1322,"user_id":5573170,"accept_rate":75,"display_name":"Disti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72119338,"answer_count":1,"score":1,"last_activity_date":1651698292,"creation_date":1651680114,"question_id":72116037,"body_markdown":"In my Android app I use the following code to access db:\r\n\r\n    public class DbHelper extends SQLiteOpenHelper {\r\n    /* ... */\r\n    }\r\n    \r\n    public class DbManager {\r\n    \r\n        private DbHelper helper = null;\r\n    \r\n        public DbManager(Context context) {\r\n            helper = new DbHelper(context);\r\n        }\r\n    \r\n        public void method1(bool cond) {\r\n            SQLiteDatabase db = helper.getReadableDatabase();\r\n    \r\n            /* operate on db... */\r\n\r\n            if (cond) method2();\r\n\r\n            /* operate on db... */\r\n    \r\n            db.close();\r\n        }\r\n    \r\n        public void method2() {\r\n            /* see below */\r\n        }\r\n    \r\n    }\r\n\r\n``method1`` and ``method2`` can be called independently from outside the class. In addition, there are situations where ``method1`` must call ``method2``.\r\n\r\nIn ``method2`` I need a db instance, so I should call ``SQLiteDatabase db = helper.getReadableDatabase();``.\r\nThis is ok if ``method2`` is not called by ``method1``. On the other hand, if I call it from ``method1``, I create a db handle twice.\r\n\r\nIs this ok?\r\n\r\nI think I can avoid this situation this way:\r\n\r\n    public void method2(SQLiteDatabase db) {\r\n    \r\n        SQLiteDatabase locDb;\r\n    \r\n        if (db == null) {\r\n            locDb = helper.getReadableDatabase();\r\n        } else {\r\n            locDb = db;\r\n        }\r\n    \r\n        /* ... */\r\n    \r\n        if (db == null) locDb.close();\r\n    }\r\n\r\nthen in ``method1`` I will use ``method2(db);`` while from outside I will use ``method2(null);``\r\n\r\nDoes it all make sense? Or I should simply ignore the fact that i&#39;m creating &quot;nested&quot; db instances? How does this impact on performances with higher &quot;nesting&quot; levels?\r\n","title":"Android and SQLite: &quot;nested&quot; getReadableDatabase","body":"<p>In my Android app I use the following code to access db:</p>\n<pre><code>public class DbHelper extends SQLiteOpenHelper {\n/* ... */\n}\n\npublic class DbManager {\n\n    private DbHelper helper = null;\n\n    public DbManager(Context context) {\n        helper = new DbHelper(context);\n    }\n\n    public void method1(bool cond) {\n        SQLiteDatabase db = helper.getReadableDatabase();\n\n        /* operate on db... */\n\n        if (cond) method2();\n\n        /* operate on db... */\n\n        db.close();\n    }\n\n    public void method2() {\n        /* see below */\n    }\n\n}\n</code></pre>\n<p><code>method1</code> and <code>method2</code> can be called independently from outside the class. In addition, there are situations where <code>method1</code> must call <code>method2</code>.</p>\n<p>In <code>method2</code> I need a db instance, so I should call <code>SQLiteDatabase db = helper.getReadableDatabase();</code>.\nThis is ok if <code>method2</code> is not called by <code>method1</code>. On the other hand, if I call it from <code>method1</code>, I create a db handle twice.</p>\n<p>Is this ok?</p>\n<p>I think I can avoid this situation this way:</p>\n<pre><code>public void method2(SQLiteDatabase db) {\n\n    SQLiteDatabase locDb;\n\n    if (db == null) {\n        locDb = helper.getReadableDatabase();\n    } else {\n        locDb = db;\n    }\n\n    /* ... */\n\n    if (db == null) locDb.close();\n}\n</code></pre>\n<p>then in <code>method1</code> I will use <code>method2(db);</code> while from outside I will use <code>method2(null);</code></p>\n<p>Does it all make sense? Or I should simply ignore the fact that i'm creating &quot;nested&quot; db instances? How does this impact on performances with higher &quot;nesting&quot; levels?</p>\n"},{"tags":["java","apache-kafka","apache-flink","sliding-window","flink-cep"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651698242,"post_id":72119020,"comment_id":127428015,"body_markdown":"Where is your `producerStart` method? Also, I don&#39;t think Flink will work well within a Swing application","body":"Where is your <code>producerStart</code> method? Also, I don&#39;t think Flink will work well within a Swing application"},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1651765527,"post_id":72119020,"comment_id":127446182,"body_markdown":"The requirements aren&#39;t clear. Must you dynamically introduce a new Producer (hard to imagine why), or are you switching between a couple of pre-determined Producers, or it is instead that you need to start writing to a brand new topic, or are you switching between a set of predetermined topics?","body":"The requirements aren&#39;t clear. Must you dynamically introduce a new Producer (hard to imagine why), or are you switching between a couple of pre-determined Producers, or it is instead that you need to start writing to a brand new topic, or are you switching between a set of predetermined topics?"},{"owner":{"account_id":24405277,"reputation":5,"user_id":18333545,"display_name":"Majid Lotfian Delouee"},"score":0,"creation_date":1651822261,"post_id":72119020,"comment_id":127459346,"body_markdown":"@OneCricketeer I checked the code again and found that I should not close the producer, since I need to use it again. That&#39;s why I receive this error.","body":"@OneCricketeer I checked the code again and found that I should not close the producer, since I need to use it again. That&#39;s why I receive this error."},{"owner":{"account_id":24405277,"reputation":5,"user_id":18333545,"display_name":"Majid Lotfian Delouee"},"score":0,"creation_date":1651822692,"post_id":72119020,"comment_id":127459486,"body_markdown":"@DavidAnderson in my scenario, I have a set of sensors which are my producers. In the runtime, the availability of these sensors may change, some of them may disconnect or reconnect and some new sensors may be added to the system. So, I need dynamic set of producers. At the start of execution, I create several producers and switch between them in the runtime. One of them is selected at the moment and the selected producer sends data to a predefined topic. when switching the producer, I need to reset window for the new producer, stop all the previous windows, start new windows. how to do that?","body":"@DavidAnderson in my scenario, I have a set of sensors which are my producers. In the runtime, the availability of these sensors may change, some of them may disconnect or reconnect and some new sensors may be added to the system. So, I need dynamic set of producers. At the start of execution, I create several producers and switch between them in the runtime. One of them is selected at the moment and the selected producer sends data to a predefined topic. when switching the producer, I need to reset window for the new producer, stop all the previous windows, start new windows. how to do that?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1651933307,"post_id":72119020,"comment_id":127485580,"body_markdown":"You can use one producer instance for multiple topics. You don&#39;t need Flink to produce data  though","body":"You can use one producer instance for multiple topics. You don&#39;t need Flink to produce data  though"}],"owner":{"account_id":24405277,"reputation":5,"user_id":18333545,"display_name":"Majid Lotfian Delouee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651698209,"creation_date":1651695508,"question_id":72119020,"body_markdown":"I have a program in which a producer creates events and send them to a Kafka topic. Then, I create a data stream over this topic and a flink sliding window process this data stream. In case the number of events in each window goes below a threshold, the program needs to change the producer to another one. Now, when this happen, I want to stop this flink window job in the code and start a new window over the same data stream which now consumes events from the new producer.\r\nMy code is as below:\r\n```\r\ndataStream\r\n.windowAll(SlidingProcessingTimeWindows.of(Time.seconds(window_size), Time.seconds(1)))\r\n.process(new ProcessAllWindowFunction&lt;DataEvent, String, TimeWindow&gt;() {\r\n@Override\r\npublic void process(Context context, Iterable&lt;DataEvent&gt; input,\r\nCollector&lt;String&gt; out) throws Exception {\r\n   int count = 0;\r\n   for (DataEvent de : input) {\r\n     count++;\r\n   }\r\n   if (Controller.offset &lt; query.getDuration()) {\r\n      out.collect(&quot;Window: &quot; + context.window() + &quot;count: &quot; + count);\r\n      if (Controller.offset &gt; window_size){\r\n         //do something\r\n      }\r\n   }\r\n}\r\n}\r\n});\r\n```\r\nIf I stop the producer to not send the data to the Kafka topic, I receive this error:\r\n```\r\njava.lang.IllegalStateException: Cannot perform operation after producer has been closed\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.throwIfProducerClosed(KafkaProducer.java:896)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:905)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:889)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:775)\r\n\tat FlinkCEP01.Producer.producerStart(Producer.java:235)\r\n\tat FlinkCEP01.Controller$1.doInBackground(Controller.java:262)\r\n\tat javax.swing.SwingWorker$1.call(SwingWorker.java:295)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat javax.swing.SwingWorker.run(SwingWorker.java:334)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nMy question is how can I stop the window analysis over the data stream?","title":"how to stop a flink window job over a data stream?","body":"<p>I have a program in which a producer creates events and send them to a Kafka topic. Then, I create a data stream over this topic and a flink sliding window process this data stream. In case the number of events in each window goes below a threshold, the program needs to change the producer to another one. Now, when this happen, I want to stop this flink window job in the code and start a new window over the same data stream which now consumes events from the new producer.\nMy code is as below:</p>\n<pre><code>dataStream\n.windowAll(SlidingProcessingTimeWindows.of(Time.seconds(window_size), Time.seconds(1)))\n.process(new ProcessAllWindowFunction&lt;DataEvent, String, TimeWindow&gt;() {\n@Override\npublic void process(Context context, Iterable&lt;DataEvent&gt; input,\nCollector&lt;String&gt; out) throws Exception {\n   int count = 0;\n   for (DataEvent de : input) {\n     count++;\n   }\n   if (Controller.offset &lt; query.getDuration()) {\n      out.collect(&quot;Window: &quot; + context.window() + &quot;count: &quot; + count);\n      if (Controller.offset &gt; window_size){\n         //do something\n      }\n   }\n}\n}\n});\n</code></pre>\n<p>If I stop the producer to not send the data to the Kafka topic, I receive this error:</p>\n<pre><code>java.lang.IllegalStateException: Cannot perform operation after producer has been closed\n    at org.apache.kafka.clients.producer.KafkaProducer.throwIfProducerClosed(KafkaProducer.java:896)\n    at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:905)\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:889)\n    at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:775)\n    at FlinkCEP01.Producer.producerStart(Producer.java:235)\n    at FlinkCEP01.Controller$1.doInBackground(Controller.java:262)\n    at javax.swing.SwingWorker$1.call(SwingWorker.java:295)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at javax.swing.SwingWorker.run(SwingWorker.java:334)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>My question is how can I stop the window analysis over the data stream?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651698011,"post_id":72117229,"comment_id":127427951,"body_markdown":"1) `2 * 0.1 * 0.1` does not equal a score of `2`. 2) Regarding the title of the post, that constructor does exist - https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/KafkaStreams.html 3) Your output topic does not end with `.score` like you wanted","body":"1) <code>2 * 0.1 * 0.1</code> does not equal a score of <code>2</code>. 2) Regarding the title of the post, that constructor does exist - <a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/KafkaStreams.html\" rel=\"nofollow noreferrer\">kafka.apache.org/31/javadoc/org/apache/kafka/streams/&hellip;</a> 3) Your output topic does not end with <code>.score</code> like you wanted"},{"owner":{"account_id":25099643,"reputation":1,"user_id":18950499,"display_name":"manjunatha"},"score":0,"creation_date":1651728392,"post_id":72117229,"comment_id":127432858,"body_markdown":"@OneCricketeer i understood what you told but while running the program its showing me this with same program code.\n\t1)The constructor KafkaStreams(Topology, Properties) is undefined","body":"@OneCricketeer i understood what you told but while running the program its showing me this with same program code. \t1)The constructor KafkaStreams(Topology, Properties) is undefined"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651763687,"post_id":72117229,"comment_id":127445381,"body_markdown":"Which version of the Kafka Streams dependency are you using? If you look at the Javadoc for that version, what do you see? And are you importing `java.util.Properties` and not something else? Or did you try passing `new StreamsConfig(props)`","body":"Which version of the Kafka Streams dependency are you using? If you look at the Javadoc for that version, what do you see? And are you importing <code>java.util.Properties</code> and not something else? Or did you try passing <code>new StreamsConfig(props)</code>"}],"owner":{"account_id":25099643,"reputation":1,"user_id":18950499,"display_name":"manjunatha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651697829,"creation_date":1651685749,"question_id":72117229,"body_markdown":"    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\r\n\t\t\r\n\t\tfinal Properties props = new Properties();\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;streams-task&quot;);\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n       // props.put(StreamsConfig.DEFAULT_TIMESTAMP_EXTRACTOR_CLASS_CONFIG, JsonTimestampExtractor.class);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, JSONSerde.class);\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, JSONSerde.class);\r\n       // props.put(StreamsConfig.STATESTORE_CACHE_MAX_BYTES_CONFIG, 0);\r\n        //props.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 1000L);\r\n\r\n        \r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n\r\n        final StreamsBuilder builder = new StreamsBuilder();\r\n\r\n\r\n        final KStream&lt;String, ActivityModel&gt; activityStream = builder.stream(&quot;local.cdc.demo.activity&quot;,Consumed.with(Serdes.String(), new JSONSerde&lt;&gt;()));\r\n\r\n        //final KTable&lt;String, &gt; users = builder.table(sourcekafkaTopic, Consumed.with(Serdes.String(), new JSONSerde&lt;&gt;()))\r\n\t   \r\n\t\t\t\tKStream&lt;String, ActivityScoreModel&gt; scoreStream = activityStream\r\n\t\t\t\t\t\t.map((key, value) -&gt; KeyValue.pair(key.toString(),\r\n\t\t\t\t\t\tnew ActivityScoreModel(value.getActivity().toString(), Float.parseFloat(value.getParticipants())\r\n\t\t\t\t\t\t\t\t* Float.parseFloat(value.getPrice()) * Float.parseFloat(value.getAccessibility()))));\r\n\r\n\t\t\t\tscoreStream.to(&quot;local.cdc.demo.activity&quot;,Produced.with(Serdes.String(), new JSONSerde&lt;&gt;()));\r\n\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t KafkaStreams streams = new KafkaStreams(builder.build(), props);\r\n\t\t\t        final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n\t\t\t        // attach shutdown handler to catch control-c\r\n\t\t\t        Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-pipe-shutdown-hook&quot;) {\r\n\t\t\t            @Override\r\n\t\t\t            public void run() {\r\n\t\t\t                streams.close();\r\n\t\t\t                latch.countDown();\r\n\t\t\t            }\r\n\t\t\t        });\r\n\r\n\t\t\t        try {\r\n\t\t\t            streams.start();\r\n\t\t\t            latch.await();\r\n\t\t\t        } catch (final Throwable e) {\r\n\t\t\t            e.printStackTrace();\r\n\t\t\t            System.exit(1);\r\n\t\t\t        }\r\n\t\t\t        System.exit(0);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\r\n\r\ni have to pass this json array \r\n\r\n    {\r\n    \r\n      &quot;activity&quot;: &quot;Go swimming with a friend&quot;,\r\n    \r\n      &quot;type&quot;: &quot;social&quot;,\r\n    \r\n      &quot;participants&quot;: 2,\r\n    \r\n      &quot;price&quot;: 0.1,\r\n    \r\n      &quot;link&quot;: &quot;&quot;,\r\n    \r\n      &quot;key&quot;: &quot;1505028&quot;,\r\n    \r\n      &quot;accessibility&quot;: 0.1\r\n    \r\n    }\r\n\r\n\r\n\r\noutput should be like\r\ncalculate a field “score” which will be participants * price * accessibility.\r\n\r\nThe resulting message will be printed and also written to topic local.cdc.demo.activity.score will be as follows\r\n\r\n    {\r\n    \r\n      &quot;activity&quot;: &quot;Go swimming with a friend&quot;,\r\n    \r\n      &quot;score”: 2\r\n    \r\n    }\r\n    \t\t\t\t\r\n\r\n","title":"The constructor KafkaStreams(Topology, Properties) is undefined","body":"<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static void main(String[] args) {\n    \n\n    \n    final Properties props = new Properties();\n    props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;streams-task&quot;);\n    props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n   // props.put(StreamsConfig.DEFAULT_TIMESTAMP_EXTRACTOR_CLASS_CONFIG, JsonTimestampExtractor.class);\n    props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, JSONSerde.class);\n    props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, JSONSerde.class);\n   // props.put(StreamsConfig.STATESTORE_CACHE_MAX_BYTES_CONFIG, 0);\n    //props.put(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG, 1000L);\n\n    \n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n\n    final StreamsBuilder builder = new StreamsBuilder();\n\n\n    final KStream&lt;String, ActivityModel&gt; activityStream = builder.stream(&quot;local.cdc.demo.activity&quot;,Consumed.with(Serdes.String(), new JSONSerde&lt;&gt;()));\n\n    //final KTable&lt;String, &gt; users = builder.table(sourcekafkaTopic, Consumed.with(Serdes.String(), new JSONSerde&lt;&gt;()))\n   \n            KStream&lt;String, ActivityScoreModel&gt; scoreStream = activityStream\n                    .map((key, value) -&gt; KeyValue.pair(key.toString(),\n                    new ActivityScoreModel(value.getActivity().toString(), Float.parseFloat(value.getParticipants())\n                            * Float.parseFloat(value.getPrice()) * Float.parseFloat(value.getAccessibility()))));\n\n            scoreStream.to(&quot;local.cdc.demo.activity&quot;,Produced.with(Serdes.String(), new JSONSerde&lt;&gt;()));\n\n            \n            \n             KafkaStreams streams = new KafkaStreams(builder.build(), props);\n                final CountDownLatch latch = new CountDownLatch(1);\n\n                // attach shutdown handler to catch control-c\n                Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-pipe-shutdown-hook&quot;) {\n                    @Override\n                    public void run() {\n                        streams.close();\n                        latch.countDown();\n                    }\n                });\n\n                try {\n                    streams.start();\n                    latch.await();\n                } catch (final Throwable e) {\n                    e.printStackTrace();\n                    System.exit(1);\n                }\n                System.exit(0);\n            \n            \n\n        }\n</code></pre>\n<p>i have to pass this json array</p>\n<pre><code>{\n\n  &quot;activity&quot;: &quot;Go swimming with a friend&quot;,\n\n  &quot;type&quot;: &quot;social&quot;,\n\n  &quot;participants&quot;: 2,\n\n  &quot;price&quot;: 0.1,\n\n  &quot;link&quot;: &quot;&quot;,\n\n  &quot;key&quot;: &quot;1505028&quot;,\n\n  &quot;accessibility&quot;: 0.1\n\n}\n</code></pre>\n<p>output should be like\ncalculate a field “score” which will be participants * price * accessibility.</p>\n<p>The resulting message will be printed and also written to topic local.cdc.demo.activity.score will be as follows</p>\n<pre><code>{\n\n  &quot;activity&quot;: &quot;Go swimming with a friend&quot;,\n\n  &quot;score”: 2\n\n}\n                \n</code></pre>\n"},{"tags":["java","logback"],"answers":[{"tags":[],"owner":{"account_id":98926,"reputation":18506,"user_id":267482,"accept_rate":70,"display_name":"bobah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651697788,"creation_date":1651697788,"answer_id":72119387,"question_id":72119063,"body_markdown":"1. Learn how to get the own PID from inside the JVM - https://stackoverflow.com/questions/35842/how-can-a-java-program-get-its-own-process-id\r\n   ```java\r\n   ProcessHandle.current().pid()\r\n   ```\r\n2. Create a custom [PropertyDefiner](https://logback.qos.ch/xref/ch/qos/logback/core/spi/PropertyDefiner.html):\r\n   ```java\r\n   package com.example;\r\n   import ch.qos.logback.core.PropertyDefinerBase;\r\n\r\n   class PidPropertyDefiner extends PropertyDefinerBase {\r\n     public String getPropertyValue() {\r\n       return Long.toString(ProcessHandle.current().pid());\r\n     }\r\n   }\r\n   ```\r\n2. Use that property definer to inject a property into the logback:\r\n   ```xml\r\n    &lt;define name=&quot;SELF_PID&quot; class=&quot;com.example.PidPropertyDefiner&quot; /&gt;\r\n   ```\r\n\r\n... or use the [`logback.groovy`](https://logback.qos.ch/manual/groovy.html) instead of `logback.xml`, there you can just access every bit of JVM directly.","title":"Get PID in logback log file","body":"<ol>\n<li>Learn how to get the own PID from inside the JVM - <a href=\"https://stackoverflow.com/questions/35842/how-can-a-java-program-get-its-own-process-id\">How can a Java program get its own process ID?</a>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessHandle.current().pid()\n</code></pre>\n</li>\n<li>Create a custom <a href=\"https://logback.qos.ch/xref/ch/qos/logback/core/spi/PropertyDefiner.html\" rel=\"nofollow noreferrer\">PropertyDefiner</a>:\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\nimport ch.qos.logback.core.PropertyDefinerBase;\n\nclass PidPropertyDefiner extends PropertyDefinerBase {\n  public String getPropertyValue() {\n    return Long.toString(ProcessHandle.current().pid());\n  }\n}\n</code></pre>\n</li>\n<li>Use that property definer to inject a property into the logback:\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;define name=&quot;SELF_PID&quot; class=&quot;com.example.PidPropertyDefiner&quot; /&gt;\n</code></pre>\n</li>\n</ol>\n<p>... or use the <a href=\"https://logback.qos.ch/manual/groovy.html\" rel=\"nofollow noreferrer\"><code>logback.groovy</code></a> instead of <code>logback.xml</code>, there you can just access every bit of JVM directly.</p>\n"}],"owner":{"account_id":3058717,"reputation":182,"user_id":2591854,"accept_rate":75,"display_name":"user2591854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72119387,"answer_count":1,"score":0,"last_activity_date":1651697788,"creation_date":1651695758,"question_id":72119063,"body_markdown":"When using logback outside of Spring-Boot, how can I get the ProcessID into the log file name?\r\n\r\nIn the `RollingFileAppender` I&#39;d like to define:\r\n\r\n    &lt;file&gt;my-log-${PID}.log&lt;/file&gt;\r\n\r\nHow can I get the `${PID}` set or is there a standard way of obtaining this?","title":"Get PID in logback log file","body":"<p>When using logback outside of Spring-Boot, how can I get the ProcessID into the log file name?</p>\n<p>In the <code>RollingFileAppender</code> I'd like to define:</p>\n<pre><code>&lt;file&gt;my-log-${PID}.log&lt;/file&gt;\n</code></pre>\n<p>How can I get the <code>${PID}</code> set or is there a standard way of obtaining this?</p>\n"},{"tags":["java","spring-boot","nohup"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1651583571,"post_id":72099871,"comment_id":127393693,"body_markdown":"Al the above is somewhat hazy, but a. as a general principle, you should be making sure your threads are prepared for being shut down and b. don&#39;t use `-9` if you want things closing down cleanly","body":"Al the above is somewhat hazy, but a. as a general principle, you should be making sure your threads are prepared for being shut down and b. don&#39;t use <code>-9</code> if you want things closing down cleanly"},{"owner":{"account_id":11066563,"reputation":657,"user_id":8126192,"display_name":"Moncef AOUDIA"},"score":0,"creation_date":1651583690,"post_id":72099871,"comment_id":127393737,"body_markdown":"Try to use gracefully shutdown properties availlable since Spring Boot `2.3.0` -&gt; \n\nhttps://www.baeldung.com/spring-boot-web-server-shutdown","body":"Try to use gracefully shutdown properties availlable since Spring Boot <code>2.3.0</code> -&gt;   <a href=\"https://www.baeldung.com/spring-boot-web-server-shutdown\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-web-server-shutdown</a>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1651583706,"post_id":72099871,"comment_id":127393747,"body_markdown":"The proper signal to terminate a Java JVM is signal 15, TERM. Not signal 9, KILL.","body":"The proper signal to terminate a Java JVM is signal 15, TERM. Not signal 9, KILL."},{"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"score":0,"creation_date":1651585566,"post_id":72099871,"comment_id":127394482,"body_markdown":"Frankly speaking you should not rely on a fact that your java program will always be gracefully shut down. You cannot control power outages.","body":"Frankly speaking you should not rely on a fact that your java program will always be gracefully shut down. You cannot control power outages."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1656243604,"post_id":72099871,"comment_id":128519394,"body_markdown":"@Harsh is your question resolved?","body":"@Harsh is your question resolved?"}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651696469,"creation_date":1651683765,"answer_id":72116827,"question_id":72099871,"body_markdown":"If you are using Spring Boot version from 2.3 and later, special configuration for [graceful shutdown](https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.graceful-shutdown) should be added to `application.yml`:\r\n\r\n```\r\nserver:\r\n  shutdown: graceful\r\n```\r\n\r\nFrom java doc:\r\n\r\n&gt;The WebServer should support graceful shutdown, allowing active requests time to complete\r\n\r\nAnother option is `immediate`:\r\n\r\n&gt;The WebServer should shut down immediately\r\n\r\nAdditional resource [Shutdown Spring Boot Applications Gracefully](https://www.amitph.com/spring-boot-graceful-shutdown/#Without_Graceful_Shutdown_Enabled)","title":"Stop Java service gracefully, executed using nohoup command","body":"<p>If you are using Spring Boot version from 2.3 and later, special configuration for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.graceful-shutdown\" rel=\"nofollow noreferrer\">graceful shutdown</a> should be added to <code>application.yml</code>:</p>\n<pre><code>server:\n  shutdown: graceful\n</code></pre>\n<p>From java doc:</p>\n<blockquote>\n<p>The WebServer should support graceful shutdown, allowing active requests time to complete</p>\n</blockquote>\n<p>Another option is <code>immediate</code>:</p>\n<blockquote>\n<p>The WebServer should shut down immediately</p>\n</blockquote>\n<p>Additional resource <a href=\"https://www.amitph.com/spring-boot-graceful-shutdown/#Without_Graceful_Shutdown_Enabled\" rel=\"nofollow noreferrer\">Shutdown Spring Boot Applications Gracefully</a></p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651697646,"creation_date":1651697646,"answer_id":72119365,"question_id":72099871,"body_markdown":"No graceful shutdown support provided by Spring Boot is going to work if you use `kill -9`. That is `SIGKILL`, which can&#39;t be caught, blocked, or ignored, so of course your application can&#39;t do anything in response to it.\r\n\r\nUse `kill -SIGTERM` to allow shutdown hooks to execute in your Java runtime. \r\n\r\nAvoid magic numbers like 15 and 9; use meaningful symbols like `SIGTERM` instead.","title":"Stop Java service gracefully, executed using nohoup command","body":"<p>No graceful shutdown support provided by Spring Boot is going to work if you use <code>kill -9</code>. That is <code>SIGKILL</code>, which can't be caught, blocked, or ignored, so of course your application can't do anything in response to it.</p>\n<p>Use <code>kill -SIGTERM</code> to allow shutdown hooks to execute in your Java runtime.</p>\n<p>Avoid magic numbers like 15 and 9; use meaningful symbols like <code>SIGTERM</code> instead.</p>\n"}],"owner":{"account_id":23617390,"reputation":43,"user_id":17651258,"display_name":"Harsh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72119365,"answer_count":2,"score":1,"last_activity_date":1651697646,"creation_date":1651583273,"question_id":72099871,"body_markdown":"I am a beginner in java spring-boot\r\n\r\nwhen I start the java server through \r\n\r\n`nohup java -jar demo-0.0.1-SNAPSHOT.jar` \r\n\r\ncommand my threads start their operations  \r\n\r\nAfter sometimes when I stop my server using \r\n\r\n`kill -9 processid`\r\n\r\nSo my running thread data are lost. \r\n\r\nI want to maintain a thread flag in the database whenever server stops.\r\n\r\nI have tried to achieve the above scenario in following this tutorial [Spring Boot Shutdown](https://www.baeldung.com/spring-boot-shutdown). It works properly but it breaks my security as anyone can use this API to stop my server.\r\n\r\nI need a way to terminate my server gracefully and call `ContextClosedEvent` class.","title":"Stop Java service gracefully, executed using nohoup command","body":"<p>I am a beginner in java spring-boot</p>\n<p>when I start the java server through</p>\n<p><code>nohup java -jar demo-0.0.1-SNAPSHOT.jar</code></p>\n<p>command my threads start their operations</p>\n<p>After sometimes when I stop my server using</p>\n<p><code>kill -9 processid</code></p>\n<p>So my running thread data are lost.</p>\n<p>I want to maintain a thread flag in the database whenever server stops.</p>\n<p>I have tried to achieve the above scenario in following this tutorial <a href=\"https://www.baeldung.com/spring-boot-shutdown\" rel=\"noreferrer\">Spring Boot Shutdown</a>. It works properly but it breaks my security as anyone can use this API to stop my server.</p>\n<p>I need a way to terminate my server gracefully and call <code>ContextClosedEvent</code> class.</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1651697573,"post_id":72118761,"comment_id":127427844,"body_markdown":"Removed tag `android-studio` as that tag is used or questions about the Android Studio product. Your question is a generic Android question.","body":"Removed tag <code>android-studio</code> as that tag is used or questions about the Android Studio product. Your question is a generic Android question."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1651697763,"post_id":72118761,"comment_id":127427892,"body_markdown":"Your question is vague and isn&#39;t likely to get any answers, but you might want to look at accessibility services. These services are intended to be used by people with disabilities (blind, etc.), but you may find something here that can help you:  https://developer.android.com/reference/android/accessibilityservice/AccessibilityService","body":"Your question is vague and isn&#39;t likely to get any answers, but you might want to look at accessibility services. These services are intended to be used by people with disabilities (blind, etc.), but you may find something here that can help you:  <a href=\"https://developer.android.com/reference/android/accessibilityservice/AccessibilityService\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/accessibilityservice&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1651698624,"post_id":72118761,"comment_id":127428123,"body_markdown":"Accessibility services are your best bet, but unless you&#39;re actually an accessibility aid you won&#39;t be allowed on the Play Store.  If this is a personal app, you&#39;re probably ok.","body":"Accessibility services are your best bet, but unless you&#39;re actually an accessibility aid you won&#39;t be allowed on the Play Store.  If this is a personal app, you&#39;re probably ok."}],"owner":{"account_id":11265151,"reputation":95,"user_id":8262184,"display_name":"the1.9gpaProgrammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651697542,"creation_date":1651694148,"question_id":72118761,"body_markdown":"Could I create an Android app with the ability to control another android applications? For example to press and click on things in another android app while my hypothetical application would be running?","title":"Create an android app that controls other apps","body":"<p>Could I create an Android app with the ability to control another android applications? For example to press and click on things in another android app while my hypothetical application would be running?</p>\n"},{"tags":["java","android","android-espresso"],"comments":[{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1539771814,"post_id":31394569,"comment_id":92620461,"body_markdown":"Maybe the answer to [this](https://stackoverflow.com/questions/52737309/espresso-check-recyclerview-items-are-ordered-correctly/52828004#52828004) similar SO question could help","body":"Maybe the answer to <a href=\"https://stackoverflow.com/questions/52737309/espresso-check-recyclerview-items-are-ordered-correctly/52828004#52828004\">this</a> similar SO question could help"}],"answers":[{"tags":[],"owner":{"account_id":447051,"reputation":2612,"user_id":840454,"accept_rate":80,"display_name":"HowieH"},"down_vote_count":3,"up_vote_count":66,"is_accepted":true,"score":63,"last_activity_date":1478081596,"creation_date":1437136397,"answer_id":31475962,"question_id":31394569,"body_markdown":"You should check out Danny Roa&#39;s solution [Custom RecyclerView Actions][1]\r\nAnd use it like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    onView(withRecyclerView(R.id.recycler_view)\r\n        .atPositionOnView(1, R.id.ofElementYouWantToCheck))\r\n        .check(matches(withText(&quot;Test text&quot;)));\r\n\r\n  [1]: https://github.com/dannyroa/espresso-samples/tree/master/RecyclerView/app/src/androidTest/java/com/dannyroa/espresso_samples/recyclerview","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>You should check out Danny Roa's solution <a href=\"https://github.com/dannyroa/espresso-samples/tree/master/RecyclerView/app/src/androidTest/java/com/dannyroa/espresso_samples/recyclerview\" rel=\"noreferrer\">Custom RecyclerView Actions</a>\nAnd use it like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>onView(withRecyclerView(R.id.recycler_view)\n    .atPositionOnView(1, R.id.ofElementYouWantToCheck))\n    .check(matches(withText(\"Test text\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":962088,"reputation":8170,"user_id":986216,"display_name":"riwnodennyk"},"down_vote_count":0,"up_vote_count":142,"is_accepted":false,"score":142,"last_activity_date":1513871005,"creation_date":1452790964,"answer_id":34795431,"question_id":31394569,"body_markdown":"Pretty easy. No extra library is needed. Do:\r\n\r\n        onView(withId(R.id.recycler_view))\r\n                .check(matches(atPosition(0, withText(&quot;Test Text&quot;))));\r\n\r\nif your ViewHolder uses ViewGroup, wrap `withText()` with a `hasDescendant()` like:  \r\n\r\n    onView(withId(R.id.recycler_view))\r\n                    .check(matches(atPosition(0, hasDescendant(withText(&quot;Test Text&quot;)))));\r\n\r\nwith method you may put into your `Utils` class.\r\n\r\n    public static Matcher&lt;View&gt; atPosition(final int position, @NonNull final Matcher&lt;View&gt; itemMatcher) {\r\n        checkNotNull(itemMatcher);\r\n        return new BoundedMatcher&lt;View, RecyclerView&gt;(RecyclerView.class) {\r\n            @Override\r\n            public void describeTo(Description description) {\r\n                description.appendText(&quot;has item at position &quot; + position + &quot;: &quot;);\r\n                itemMatcher.describeTo(description);\r\n            }\r\n\r\n            @Override\r\n            protected boolean matchesSafely(final RecyclerView view) {\r\n                RecyclerView.ViewHolder viewHolder = view.findViewHolderForAdapterPosition(position);\r\n                if (viewHolder == null) {\r\n                    // has no item on such position\r\n                    return false;\r\n                }\r\n                return itemMatcher.matches(viewHolder.itemView);\r\n            }\r\n        };\r\n    }\r\n\r\nIf your item may be not visible on the screen at first, then scroll to it before:\r\n\r\n        onView(withId(R.id.recycler_view))\r\n                .perform(scrollToPosition(87))\r\n                .check(matches(atPosition(87, withText(&quot;Test Text&quot;))));\r\n","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>Pretty easy. No extra library is needed. Do:</p>\n\n<pre><code>    onView(withId(R.id.recycler_view))\n            .check(matches(atPosition(0, withText(\"Test Text\"))));\n</code></pre>\n\n<p>if your ViewHolder uses ViewGroup, wrap <code>withText()</code> with a <code>hasDescendant()</code> like:  </p>\n\n<pre><code>onView(withId(R.id.recycler_view))\n                .check(matches(atPosition(0, hasDescendant(withText(\"Test Text\")))));\n</code></pre>\n\n<p>with method you may put into your <code>Utils</code> class.</p>\n\n<pre><code>public static Matcher&lt;View&gt; atPosition(final int position, @NonNull final Matcher&lt;View&gt; itemMatcher) {\n    checkNotNull(itemMatcher);\n    return new BoundedMatcher&lt;View, RecyclerView&gt;(RecyclerView.class) {\n        @Override\n        public void describeTo(Description description) {\n            description.appendText(\"has item at position \" + position + \": \");\n            itemMatcher.describeTo(description);\n        }\n\n        @Override\n        protected boolean matchesSafely(final RecyclerView view) {\n            RecyclerView.ViewHolder viewHolder = view.findViewHolderForAdapterPosition(position);\n            if (viewHolder == null) {\n                // has no item on such position\n                return false;\n            }\n            return itemMatcher.matches(viewHolder.itemView);\n        }\n    };\n}\n</code></pre>\n\n<p>If your item may be not visible on the screen at first, then scroll to it before:</p>\n\n<pre><code>    onView(withId(R.id.recycler_view))\n            .perform(scrollToPosition(87))\n            .check(matches(atPosition(87, withText(\"Test Text\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241882,"reputation":8623,"user_id":512998,"accept_rate":72,"display_name":"You Qi"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1500363537,"creation_date":1459494094,"answer_id":36349967,"question_id":31394569,"body_markdown":"Just to enhance riwnodennyk&#39;s answer, if your `ViewHolder` is a `ViewGroup` instead of a direct `View` object like `TextView`, then you can add `hasDescendant` matcher to match the `TextView` object in the `ViewGroup`. Example:\r\n\r\n\tonView(withId(R.id.recycler_view))\r\n\t\t.check(matches(atPosition(0, hasDescendant(withText(&quot;First Element&quot;)))));","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>Just to enhance riwnodennyk's answer, if your <code>ViewHolder</code> is a <code>ViewGroup</code> instead of a direct <code>View</code> object like <code>TextView</code>, then you can add <code>hasDescendant</code> matcher to match the <code>TextView</code> object in the <code>ViewGroup</code>. Example:</p>\n\n<pre><code>onView(withId(R.id.recycler_view))\n    .check(matches(atPosition(0, hasDescendant(withText(\"First Element\")))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6412715,"reputation":532,"user_id":4971878,"display_name":"I_AM_PANDA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478084115,"creation_date":1462391924,"answer_id":37036939,"question_id":31394569,"body_markdown":"Danny Roa&#39;s solution is awesome, but it didn&#39;t work for the off-screen items I had just scrolled to. The fix is replacing this:\r\n\r\n    View targetView = recyclerView.getChildAt(this.position)\r\n                                  .findViewById(this.viewId);\r\n\r\nwith this:\r\n\r\n    View targetView = recyclerView.findViewHolderForAdapterPosition(this.position)\r\n                                  .itemView.findViewById(this.viewId);\r\n\r\n... in the [`TestUtils` class][1].\r\n\r\n\r\n  [1]: https://github.com/dannyroa/espresso-samples/blob/master/RecyclerView/app/src/androidTest/java/com/dannyroa/espresso_samples/recyclerview/TestUtils.java","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>Danny Roa's solution is awesome, but it didn't work for the off-screen items I had just scrolled to. The fix is replacing this:</p>\n\n<pre><code>View targetView = recyclerView.getChildAt(this.position)\n                              .findViewById(this.viewId);\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>View targetView = recyclerView.findViewHolderForAdapterPosition(this.position)\n                              .itemView.findViewById(this.viewId);\n</code></pre>\n\n<p>... in the <a href=\"https://github.com/dannyroa/espresso-samples/blob/master/RecyclerView/app/src/androidTest/java/com/dannyroa/espresso_samples/recyclerview/TestUtils.java\" rel=\"nofollow noreferrer\"><code>TestUtils</code> class</a>.</p>\n"},{"tags":[],"owner":{"account_id":3865308,"reputation":151,"user_id":3201989,"display_name":"Vince"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1647557943,"creation_date":1462807241,"answer_id":37119501,"question_id":31394569,"body_markdown":"In my case, it was necessary to merge Danny Roa&#39;s and riwnodennyk&#39;s solution:\r\n\r\n    onView(withId(R.id.recyclerview))\r\n    .perform(RecyclerViewActions.scrollToPosition(80))\r\n    .check(matches(atPositionOnView(80, withText(&quot;Test Test&quot;), R.id.targetview)));\r\n\r\nand the method : \r\n\r\n    public static Matcher&lt;View&gt; atPositionOnView(final int position, final Matcher&lt;View&gt; itemMatcher,\r\n            final int targetViewId) {\r\n\r\n        return new BoundedMatcher&lt;View, RecyclerView&gt;(RecyclerView.class) {\r\n            @Override\r\n            public void describeTo(Description description) {\r\n                description.appendText(&quot;has view id &quot; + itemMatcher + &quot; at position &quot; + position);\r\n            }\r\n\r\n            @Override\r\n            public boolean matchesSafely(final RecyclerView recyclerView) {\r\n                RecyclerView.ViewHolder viewHolder = recyclerView.findViewHolderForAdapterPosition(position);\r\n                View targetView = viewHolder.itemView.findViewById(targetViewId);\r\n                return itemMatcher.matches(targetView);\r\n            }\r\n        };\r\n    }","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>In my case, it was necessary to merge Danny Roa's and riwnodennyk's solution:</p>\n<pre><code>onView(withId(R.id.recyclerview))\n.perform(RecyclerViewActions.scrollToPosition(80))\n.check(matches(atPositionOnView(80, withText(&quot;Test Test&quot;), R.id.targetview)));\n</code></pre>\n<p>and the method :</p>\n<pre><code>public static Matcher&lt;View&gt; atPositionOnView(final int position, final Matcher&lt;View&gt; itemMatcher,\n        final int targetViewId) {\n\n    return new BoundedMatcher&lt;View, RecyclerView&gt;(RecyclerView.class) {\n        @Override\n        public void describeTo(Description description) {\n            description.appendText(&quot;has view id &quot; + itemMatcher + &quot; at position &quot; + position);\n        }\n\n        @Override\n        public boolean matchesSafely(final RecyclerView recyclerView) {\n            RecyclerView.ViewHolder viewHolder = recyclerView.findViewHolderForAdapterPosition(position);\n            View targetView = viewHolder.itemView.findViewById(targetViewId);\n            return itemMatcher.matches(targetView);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651553,"reputation":259,"user_id":5133402,"display_name":"Hiten Bahri"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1478081896,"creation_date":1463380074,"answer_id":37247925,"question_id":31394569,"body_markdown":"I have been struggling on the same issue where I have a recycler view with 6 items and then I have to choose the one at position 5 and the 5th one is not visible on the view.  \r\nThe above solution also works. Also, I know its a bit late but thought its worth sharing.\r\n\r\nI did this with a simple solution as below:\r\n\r\n    onView(withId(R.id.recylcer_view))\r\n        .perform(RecyclerViewActions.actionOnItem(\r\n             hasDescendant(withText(&quot;Text of item you want to scroll to&quot;)), \r\n             click()));\r\n\r\n\r\n`RecyclerViewActions.actionOnItem` - \r\nPerforms a `ViewAction` on a view matched by `viewHolderMatcher`.\r\n\r\n1. Scroll `RecyclerView` to the view matched by `itemViewMatcher`\r\n2. Perform an action on the matched view\r\n\r\nMore details can be found at : [RecyclerViewActions.actionOnItem][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/support/test/espresso/contrib/RecyclerViewActions.html#actionOnItem(org.hamcrest.Matcher%3Candroid.view.View%3E,%20android.support.test.espresso.ViewAction)\r\n\r\n","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>I have been struggling on the same issue where I have a recycler view with 6 items and then I have to choose the one at position 5 and the 5th one is not visible on the view.<br>\nThe above solution also works. Also, I know its a bit late but thought its worth sharing.</p>\n\n<p>I did this with a simple solution as below:</p>\n\n<pre><code>onView(withId(R.id.recylcer_view))\n    .perform(RecyclerViewActions.actionOnItem(\n         hasDescendant(withText(\"Text of item you want to scroll to\")), \n         click()));\n</code></pre>\n\n<p><code>RecyclerViewActions.actionOnItem</code> - \nPerforms a <code>ViewAction</code> on a view matched by <code>viewHolderMatcher</code>.</p>\n\n<ol>\n<li>Scroll <code>RecyclerView</code> to the view matched by <code>itemViewMatcher</code></li>\n<li>Perform an action on the matched view</li>\n</ol>\n\n<p>More details can be found at : <a href=\"http://developer.android.com/reference/android/support/test/espresso/contrib/RecyclerViewActions.html#actionOnItem(org.hamcrest.Matcher%3Candroid.view.View%3E,%20android.support.test.espresso.ViewAction)\" rel=\"noreferrer\">RecyclerViewActions.actionOnItem</a></p>\n"},{"tags":[],"owner":{"account_id":6546835,"reputation":21,"user_id":5062562,"display_name":"Max Buster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536446210,"creation_date":1536437388,"answer_id":52239018,"question_id":31394569,"body_markdown":"This thread is pretty old but I recently extended the RecyclerViewAction support to be usable for assertions as well. This allows you to test off-screen elements without specifying a position while still using view matchers.\r\n\r\nCheck out this article &gt; [Better Android RecyclerView Testing][1]! \r\n\r\n  [1]: https://medium.com/koala-tea-assurance/better-android-recyclerview-testing-a5e3ed7ef38b","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>This thread is pretty old but I recently extended the RecyclerViewAction support to be usable for assertions as well. This allows you to test off-screen elements without specifying a position while still using view matchers.</p>\n\n<p>Check out this article > <a href=\"https://medium.com/koala-tea-assurance/better-android-recyclerview-testing-a5e3ed7ef38b\" rel=\"nofollow noreferrer\">Better Android RecyclerView Testing</a>! </p>\n"},{"tags":[],"owner":{"account_id":3006256,"reputation":793,"user_id":2550743,"display_name":"Alexandr Larin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568025481,"creation_date":1568025481,"answer_id":57852329,"question_id":31394569,"body_markdown":"For testing all items (include off-screen) use code bellow\r\n\r\nSample:\r\n\r\n    fun checkThatRedDotIsGone(itemPosition: Int) {\r\n        onView(\r\n                withId(R.id.recycler_view)).\r\n                check(itemViewMatches(itemPosition, R.id.inside_item_view,\r\n                        withEffectiveVisibility(Visibility.GONE)))\r\n    }\r\n\r\nClass:\r\n\r\n    object RecyclerViewAssertions {\r\n\r\n    fun itemViewMatches(position: Int, viewMatcher: Matcher&lt;View&gt;): ViewAssertion {\r\n        return itemViewMatches(position, -1, viewMatcher)\r\n    }\r\n\r\n    /**\r\n     * Provides a RecyclerView assertion based on a view matcher. This allows you to\r\n     * validate whether a RecyclerView contains a row in memory without scrolling the list.\r\n     *\r\n     * @param viewMatcher - an Espresso ViewMatcher for a descendant of any row in the recycler.\r\n     * @return an Espresso ViewAssertion to check against a RecyclerView.\r\n     */\r\n    fun itemViewMatches(position: Int, @IdRes resId: Int, viewMatcher: Matcher&lt;View&gt;): ViewAssertion {\r\n        assertNotNull(viewMatcher)\r\n\r\n        return ViewAssertion { view, noViewException -&gt;\r\n            if (noViewException != null) {\r\n                throw noViewException\r\n            }\r\n\r\n            assertTrue(&quot;View is RecyclerView&quot;, view is RecyclerView)\r\n\r\n            val recyclerView = view as RecyclerView\r\n            val adapter = recyclerView.adapter\r\n            val itemType = adapter!!.getItemViewType(position)\r\n            val viewHolder = adapter.createViewHolder(recyclerView, itemType)\r\n            adapter.bindViewHolder(viewHolder, position)\r\n\r\n            val targetView = if (resId == -1) {\r\n                viewHolder.itemView\r\n            } else {\r\n                viewHolder.itemView.findViewById(resId)\r\n            }\r\n\r\n            if (viewMatcher.matches(targetView)) {\r\n                return@ViewAssertion  // Found a matching view\r\n            }\r\n\r\n            fail(&quot;No match found&quot;)\r\n        }\r\n    }\r\n}\r\n\r\nSolution based of this article &gt; [Better Android RecyclerView Testing!][1]\r\n\r\n\r\n  [1]: https://medium.com/koala-tea-assurance/better-android-recyclerview-testing-a5e3ed7ef38b","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>For testing all items (include off-screen) use code bellow</p>\n\n<p>Sample:</p>\n\n<pre><code>fun checkThatRedDotIsGone(itemPosition: Int) {\n    onView(\n            withId(R.id.recycler_view)).\n            check(itemViewMatches(itemPosition, R.id.inside_item_view,\n                    withEffectiveVisibility(Visibility.GONE)))\n}\n</code></pre>\n\n<p>Class:</p>\n\n<pre><code>object RecyclerViewAssertions {\n\nfun itemViewMatches(position: Int, viewMatcher: Matcher&lt;View&gt;): ViewAssertion {\n    return itemViewMatches(position, -1, viewMatcher)\n}\n\n/**\n * Provides a RecyclerView assertion based on a view matcher. This allows you to\n * validate whether a RecyclerView contains a row in memory without scrolling the list.\n *\n * @param viewMatcher - an Espresso ViewMatcher for a descendant of any row in the recycler.\n * @return an Espresso ViewAssertion to check against a RecyclerView.\n */\nfun itemViewMatches(position: Int, @IdRes resId: Int, viewMatcher: Matcher&lt;View&gt;): ViewAssertion {\n    assertNotNull(viewMatcher)\n\n    return ViewAssertion { view, noViewException -&gt;\n        if (noViewException != null) {\n            throw noViewException\n        }\n\n        assertTrue(\"View is RecyclerView\", view is RecyclerView)\n\n        val recyclerView = view as RecyclerView\n        val adapter = recyclerView.adapter\n        val itemType = adapter!!.getItemViewType(position)\n        val viewHolder = adapter.createViewHolder(recyclerView, itemType)\n        adapter.bindViewHolder(viewHolder, position)\n\n        val targetView = if (resId == -1) {\n            viewHolder.itemView\n        } else {\n            viewHolder.itemView.findViewById(resId)\n        }\n\n        if (viewMatcher.matches(targetView)) {\n            return@ViewAssertion  // Found a matching view\n        }\n\n        fail(\"No match found\")\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Solution based of this article > <a href=\"https://medium.com/koala-tea-assurance/better-android-recyclerview-testing-a5e3ed7ef38b\" rel=\"nofollow noreferrer\">Better Android RecyclerView Testing!</a></p>\n"},{"tags":[],"owner":{"account_id":13443217,"reputation":548,"user_id":9699874,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574880619,"creation_date":1574880619,"answer_id":59076770,"question_id":31394569,"body_markdown":"I combined a few answers above into a reusable method for testing other recycler views as the project grows. Leaving the code here in the event it helps anyone else out...\r\n\r\n\r\nDeclare a function that may be called on a RecyclerView Resource ID:\r\n\r\n    fun Int.shouldHaveTextAtPosition(text:String, position: Int) {\r\n        onView(withId(this))\r\n            .perform(scrollToPosition&lt;RecyclerView.ViewHolder&gt;(position))\r\n            .check(matches(atPosition(position, hasDescendant(withText(text)))))\r\n    }\r\n\r\n\r\nThen call it on your recycler view to check the text displayed of multiple adapter items in the list at a given position by doing: \r\n\r\n    with(R.id.recycler_view_id) {\r\n        shouldHaveTextAtPosition(&quot;Some Text at position 0&quot;, 0)\r\n        shouldHaveTextAtPosition(&quot;Some Text at position 1&quot;, 1)\r\n        shouldHaveTextAtPosition(&quot;Some Text at position 2&quot;, 2)\r\n        shouldHaveTextAtPosition(&quot;Some Text at position 3&quot;, 3)\r\n    }\r\n","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>I combined a few answers above into a reusable method for testing other recycler views as the project grows. Leaving the code here in the event it helps anyone else out...</p>\n\n<p>Declare a function that may be called on a RecyclerView Resource ID:</p>\n\n<pre><code>fun Int.shouldHaveTextAtPosition(text:String, position: Int) {\n    onView(withId(this))\n        .perform(scrollToPosition&lt;RecyclerView.ViewHolder&gt;(position))\n        .check(matches(atPosition(position, hasDescendant(withText(text)))))\n}\n</code></pre>\n\n<p>Then call it on your recycler view to check the text displayed of multiple adapter items in the list at a given position by doing: </p>\n\n<pre><code>with(R.id.recycler_view_id) {\n    shouldHaveTextAtPosition(\"Some Text at position 0\", 0)\n    shouldHaveTextAtPosition(\"Some Text at position 1\", 1)\n    shouldHaveTextAtPosition(\"Some Text at position 2\", 2)\n    shouldHaveTextAtPosition(\"Some Text at position 3\", 3)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3394748,"reputation":11749,"user_id":2848676,"accept_rate":75,"display_name":"Michael Osofsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594408134,"creation_date":1582765774,"answer_id":60424924,"question_id":31394569,"body_markdown":"The solutions above are great, I&#39;m contributing one more in Kotlin.  \r\n\r\nEspresso needs to scroll to the position and then check it.  To scroll to the position, I&#39;m using [`RecyclerViewActions.scrollToPosition`][1].  Then use  [findViewHolderForAdapterPosition][2] to perform the check.  Instead of calling `findViewHolderForAdapterPosition` directly, I am using a nicer convenience function [`childOfViewAtPositionWithMatcher`][3].\r\n\r\nIn the example code below, Espresso scrolls to row 43 of the `RecyclerView` and the checks that the row&#39;s `ViewHolder` has two TextViews and that those TextViews contain the text &quot;hello text 1 at line 43&quot; and &quot;hello text 2 at line 43&quot; respectively:\r\n\r\n    import androidx.test.espresso.contrib.RecyclerViewActions\r\n    import it.xabaras.android.espresso.recyclerviewchildactions.RecyclerViewChildActions.Companion.childOfViewAtPositionWithMatcher\r\n\r\n    // ...\r\n\r\n            val index = 42 // index is 0 based, corresponds to row 43 from user&#39;s perspective\r\n\r\n            onView(withId(R.id.myRecyclerView))\r\n                .perform(RecyclerViewActions.scrollToPosition&lt;RecyclerView.ViewHolder&gt;(43))\r\n                .check(\r\n                    matches(\r\n                        allOf(\r\n                            childOfViewAtPositionWithMatcher(\r\n                                R.id.myTextView1,\r\n                                index,\r\n                                withText(&quot;hello text 1 at line 43&quot;)\r\n                            ),\r\n                            childOfViewAtPositionWithMatcherMy(\r\n                                R.id.myTextView2,\r\n                                index,\r\n                                withText(&quot;hello text 2 at line 43&quot;)\r\n                            )\r\n                        )\r\n                    )\r\n                )\r\n\r\nHere are my build.gradle dependencies (newer versions may exist):\r\n\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-contrib:3.2.0&quot;\r\n    androidTestImplementation &quot;it.xabaras.android.espresso:recyclerview-child-actions:1.0&quot;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/test/espresso/contrib/RecyclerViewActions?hl=en#scrollToPosition(int)\r\n  [2]: https://developer.android.com/reference/kotlin/androidx/recyclerview/widget/RecyclerView#findviewholderforadapterposition\r\n  [3]: https://github.com/xabaras/recyclerview-child-actions","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>The solutions above are great, I'm contributing one more in Kotlin.</p>\n<p>Espresso needs to scroll to the position and then check it.  To scroll to the position, I'm using <a href=\"https://developer.android.com/reference/androidx/test/espresso/contrib/RecyclerViewActions?hl=en#scrollToPosition(int)\" rel=\"nofollow noreferrer\"><code>RecyclerViewActions.scrollToPosition</code></a>.  Then use  <a href=\"https://developer.android.com/reference/kotlin/androidx/recyclerview/widget/RecyclerView#findviewholderforadapterposition\" rel=\"nofollow noreferrer\">findViewHolderForAdapterPosition</a> to perform the check.  Instead of calling <code>findViewHolderForAdapterPosition</code> directly, I am using a nicer convenience function <a href=\"https://github.com/xabaras/recyclerview-child-actions\" rel=\"nofollow noreferrer\"><code>childOfViewAtPositionWithMatcher</code></a>.</p>\n<p>In the example code below, Espresso scrolls to row 43 of the <code>RecyclerView</code> and the checks that the row's <code>ViewHolder</code> has two TextViews and that those TextViews contain the text &quot;hello text 1 at line 43&quot; and &quot;hello text 2 at line 43&quot; respectively:</p>\n<pre><code>import androidx.test.espresso.contrib.RecyclerViewActions\nimport it.xabaras.android.espresso.recyclerviewchildactions.RecyclerViewChildActions.Companion.childOfViewAtPositionWithMatcher\n\n// ...\n\n        val index = 42 // index is 0 based, corresponds to row 43 from user's perspective\n\n        onView(withId(R.id.myRecyclerView))\n            .perform(RecyclerViewActions.scrollToPosition&lt;RecyclerView.ViewHolder&gt;(43))\n            .check(\n                matches(\n                    allOf(\n                        childOfViewAtPositionWithMatcher(\n                            R.id.myTextView1,\n                            index,\n                            withText(&quot;hello text 1 at line 43&quot;)\n                        ),\n                        childOfViewAtPositionWithMatcherMy(\n                            R.id.myTextView2,\n                            index,\n                            withText(&quot;hello text 2 at line 43&quot;)\n                        )\n                    )\n                )\n            )\n</code></pre>\n<p>Here are my build.gradle dependencies (newer versions may exist):</p>\n<pre><code>androidTestImplementation &quot;androidx.test.espresso:espresso-contrib:3.2.0&quot;\nandroidTestImplementation &quot;it.xabaras.android.espresso:recyclerview-child-actions:1.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7321931,"reputation":797,"user_id":5577679,"display_name":"tompadre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587489590,"creation_date":1587489590,"answer_id":61349334,"question_id":31394569,"body_markdown":"Modified matcher solution for when you check if your item(Text in TextView) is first in RecyclerView. \r\n\r\n\r\n\r\n    // True if first item in the RV and input text\r\n    fun &lt;T&gt; customMatcherForFirstItem(name: String, matcher: Matcher&lt;T&gt;): Matcher&lt;T&gt; {\r\n        return object: BaseMatcher&lt;T&gt; () {\r\n            var isFirst = true\r\n            override fun matches(item: Any): Boolean {\r\n                if (isFirst &amp;&amp; (item as TextView).text == name) {\r\n                    isFirst = false\r\n                    return true\r\n                }\r\n                return false\r\n            }\r\n            override fun describeTo(description: Description?) {}\r\n        }\r\n    }\r\n\r\n\r\nUsage: (returns true if child textview in the item has the same text as we expect/search)\r\n\r\n\r\n        onView(withText(&quot;TEXT_VIEW_TEXT&quot;)).check(matches(\r\n            customMatcherForFirstItem(&quot;TEXT_VIEW_TEXT&quot;, withParent(withId(R.id.recycler_view)))))\r\n\r\n\r\n---------\r\n\r\n\r\nBased on -&gt; https://proandroiddev.com/working-with-recycler-views-in-espresso-tests-6da21495182c","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>Modified matcher solution for when you check if your item(Text in TextView) is first in RecyclerView. </p>\n\n<pre><code>// True if first item in the RV and input text\nfun &lt;T&gt; customMatcherForFirstItem(name: String, matcher: Matcher&lt;T&gt;): Matcher&lt;T&gt; {\n    return object: BaseMatcher&lt;T&gt; () {\n        var isFirst = true\n        override fun matches(item: Any): Boolean {\n            if (isFirst &amp;&amp; (item as TextView).text == name) {\n                isFirst = false\n                return true\n            }\n            return false\n        }\n        override fun describeTo(description: Description?) {}\n    }\n}\n</code></pre>\n\n<p>Usage: (returns true if child textview in the item has the same text as we expect/search)</p>\n\n<pre><code>    onView(withText(\"TEXT_VIEW_TEXT\")).check(matches(\n        customMatcherForFirstItem(\"TEXT_VIEW_TEXT\", withParent(withId(R.id.recycler_view)))))\n</code></pre>\n\n<hr>\n\n<p>Based on -> <a href=\"https://proandroiddev.com/working-with-recycler-views-in-espresso-tests-6da21495182c\" rel=\"nofollow noreferrer\">https://proandroiddev.com/working-with-recycler-views-in-espresso-tests-6da21495182c</a></p>\n"},{"tags":[],"owner":{"account_id":2500167,"reputation":179,"user_id":2175517,"display_name":"awaqar"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1639847694,"creation_date":1623096292,"answer_id":67878052,"question_id":31394569,"body_markdown":"For Kotlin users:\r\nI know I am very late, and I am bemused why people are having to customize RecycleView Actions. I have been meaning to achieve exactly the same desired outcome: here is my solution, hope it works and helps newcomers. Also be easy on me, as I might get blocked. \r\n\r\n    onView(withId(R.id.recycler_view))\r\n    .perform(actionOnItemAtPosition&lt;ViewHolder&gt;(46, scrollTo()))\r\n    .check(matches(hasDescendant(withText(&quot;TextToMatch&quot;))))\r\n\r\n //Edited 18/12/21: After investigating Bjorn&#39;s comment, please see a better approach below:\r\n\r\n    onView(withId(R.id.recyclerView))\r\n    .perform(RecyclerViewActions.scrollToPosition&lt;ViewHolder&gt;(12))\r\n    .check(matches(hasDescendant(withText(&quot;TexttoMatch&quot;))))\r\n\r\n","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>For Kotlin users:\nI know I am very late, and I am bemused why people are having to customize RecycleView Actions. I have been meaning to achieve exactly the same desired outcome: here is my solution, hope it works and helps newcomers. Also be easy on me, as I might get blocked.</p>\n<pre><code>onView(withId(R.id.recycler_view))\n.perform(actionOnItemAtPosition&lt;ViewHolder&gt;(46, scrollTo()))\n.check(matches(hasDescendant(withText(&quot;TextToMatch&quot;))))\n</code></pre>\n<p>//Edited 18/12/21: After investigating Bjorn's comment, please see a better approach below:</p>\n<pre><code>onView(withId(R.id.recyclerView))\n.perform(RecyclerViewActions.scrollToPosition&lt;ViewHolder&gt;(12))\n.check(matches(hasDescendant(withText(&quot;TexttoMatch&quot;))))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232489,"reputation":8023,"user_id":497366,"accept_rate":92,"display_name":"Bj&#246;rn Kechel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637168397,"creation_date":1637168397,"answer_id":70008599,"question_id":31394569,"body_markdown":"Here is my solution using **kotlin** with proper &quot;not found&quot; descriptions and it should apply to most usecases:\r\n\r\nIf you only want to check that something exists within the entry at the given index, you can match using `withPositionInRecyclerView` with **position** and **recyclerview id** to find the row and use `hasDescendant(...)` combined with whatever matcher you like:\r\n\r\n```lang-kotlin\r\nonView(withPositionInRecyclerView(positionToLookAt, R.id.my_recycler_view))\r\n  .check(matches(hasDescendant(withText(&quot;text that should be somewhere at given position&quot;))))\r\n```\r\n\r\nPlease note that you might have to scroll on the recyclerView using `actionOnItemAtPosition` first so that the item is displayed.\r\n\r\nIf you want to be more precise and make sure that a specific view within the entry at the given index matches, just **add the view id** as a third parameter:\r\n\r\n```lang-kotlin\r\nonView(withPositionInRecyclerView(positionToLookAt, R.id.my_recycler_view, R.id.my_view))\r\n  .check(matches(withText(&quot;text that should be in view with id R.id.my_view at given position&quot;)))\r\n```\r\n\r\nSo here is the helper method you will need to include somewhere in your test code:\r\n\r\n```lang-kotlin\r\nfun withPositionInRecyclerView(position: Int, recyclerViewId: Int, childViewId: Int = -1): Matcher&lt;View&gt; =\r\n    object : TypeSafeMatcher&lt;View&gt;() {\r\n\r\n        private var resources: Resources? = null\r\n        private var recyclerView: RecyclerView? = null\r\n        override fun describeTo(description: Description?) {\r\n            description?.appendText(&quot;with position $position in recyclerView&quot;)\r\n            if (resources != null) {\r\n                try {\r\n                    description?.appendText(&quot; ${resources?.getResourceName(recyclerViewId)}&quot;)\r\n                } catch (exception: Resources.NotFoundException) {\r\n                    description?.appendText(&quot; (with id $recyclerViewId not found)&quot;)\r\n                }\r\n            }\r\n            if (childViewId != -1) {\r\n                description?.appendText(&quot; with child view &quot;)\r\n                try {\r\n                    description?.appendText(&quot; ${resources?.getResourceName(childViewId)}&quot;)\r\n                } catch (exception: Resources.NotFoundException) {\r\n                    description?.appendText(&quot; (with id $childViewId not found)&quot;)\r\n                }\r\n            }\r\n        }\r\n\r\n        override fun matchesSafely(view: View?): Boolean {\r\n            if (view == null) return false\r\n            if (resources == null) {\r\n                resources = view.resources;\r\n            }\r\n            if (recyclerView == null) {\r\n                recyclerView = view.rootView.findViewById(recyclerViewId)\r\n            }\r\n            return if (childViewId != -1) {\r\n                view == recyclerView?.findViewHolderForAdapterPosition(position)?.itemView?.findViewById(childViewId)\r\n            } else {\r\n                view == recyclerView?.findViewHolderForAdapterPosition(position)?.itemView;\r\n            }\r\n        }\r\n    }\r\n```","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>Here is my solution using <strong>kotlin</strong> with proper &quot;not found&quot; descriptions and it should apply to most usecases:</p>\n<p>If you only want to check that something exists within the entry at the given index, you can match using <code>withPositionInRecyclerView</code> with <strong>position</strong> and <strong>recyclerview id</strong> to find the row and use <code>hasDescendant(...)</code> combined with whatever matcher you like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>onView(withPositionInRecyclerView(positionToLookAt, R.id.my_recycler_view))\n  .check(matches(hasDescendant(withText(&quot;text that should be somewhere at given position&quot;))))\n</code></pre>\n<p>Please note that you might have to scroll on the recyclerView using <code>actionOnItemAtPosition</code> first so that the item is displayed.</p>\n<p>If you want to be more precise and make sure that a specific view within the entry at the given index matches, just <strong>add the view id</strong> as a third parameter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>onView(withPositionInRecyclerView(positionToLookAt, R.id.my_recycler_view, R.id.my_view))\n  .check(matches(withText(&quot;text that should be in view with id R.id.my_view at given position&quot;)))\n</code></pre>\n<p>So here is the helper method you will need to include somewhere in your test code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun withPositionInRecyclerView(position: Int, recyclerViewId: Int, childViewId: Int = -1): Matcher&lt;View&gt; =\n    object : TypeSafeMatcher&lt;View&gt;() {\n\n        private var resources: Resources? = null\n        private var recyclerView: RecyclerView? = null\n        override fun describeTo(description: Description?) {\n            description?.appendText(&quot;with position $position in recyclerView&quot;)\n            if (resources != null) {\n                try {\n                    description?.appendText(&quot; ${resources?.getResourceName(recyclerViewId)}&quot;)\n                } catch (exception: Resources.NotFoundException) {\n                    description?.appendText(&quot; (with id $recyclerViewId not found)&quot;)\n                }\n            }\n            if (childViewId != -1) {\n                description?.appendText(&quot; with child view &quot;)\n                try {\n                    description?.appendText(&quot; ${resources?.getResourceName(childViewId)}&quot;)\n                } catch (exception: Resources.NotFoundException) {\n                    description?.appendText(&quot; (with id $childViewId not found)&quot;)\n                }\n            }\n        }\n\n        override fun matchesSafely(view: View?): Boolean {\n            if (view == null) return false\n            if (resources == null) {\n                resources = view.resources;\n            }\n            if (recyclerView == null) {\n                recyclerView = view.rootView.findViewById(recyclerViewId)\n            }\n            return if (childViewId != -1) {\n                view == recyclerView?.findViewHolderForAdapterPosition(position)?.itemView?.findViewById(childViewId)\n            } else {\n                view == recyclerView?.findViewHolderForAdapterPosition(position)?.itemView;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14674616,"reputation":380,"user_id":10598138,"display_name":"Javad Shirkhani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644129819,"creation_date":1644129819,"answer_id":71004786,"question_id":31394569,"body_markdown":"I have written a function that can check every view of view holder in recyclerview. Here is my function : \r\n\r\n**recyclerViewId** is your recyclerview id\r\n\r\n**position** is the position of your recyclerview\r\n\r\n**itemMatcher** is your matcher function\r\n\r\n\r\n**subViewId** is the id of recyclerview sub view (view of viewHolder)\r\n\r\n\r\n        public static void checkRecyclerSubViews(int recyclerViewId, int position, Matcher&lt;View&gt; itemMatcher, int subViewId)\r\n    {\r\n        onView(withId(recyclerViewId)).perform(RecyclerViewActions.scrollToPosition(position))\r\n                                      .check(matches(atPositionOnView(position, itemMatcher, subViewId)));\r\n    }\r\n\r\n\r\n        public static Matcher&lt;View&gt; atPositionOnView(\r\n            final int position, final Matcher&lt;View&gt; itemMatcher, @NonNull final int targetViewId)\r\n    {\r\n\r\n        return new BoundedMatcher&lt;View, RecyclerView&gt;(RecyclerView.class)\r\n        {\r\n            @Override\r\n            public void describeTo(Description description)\r\n            {\r\n                description.appendText(&quot;has view id &quot; + itemMatcher + &quot; at position &quot; + position);\r\n            }\r\n\r\n            @Override\r\n            public boolean matchesSafely(final RecyclerView recyclerView)\r\n            {\r\n                RecyclerView.ViewHolder viewHolder = recyclerView.findViewHolderForAdapterPosition(position);\r\n                View targetView = viewHolder.itemView.findViewById(targetViewId);\r\n                return itemMatcher.matches(targetView);\r\n            }\r\n        };\r\n    }\r\n\r\nAnd this is the examaple of using : \r\n\r\n    checkRecyclerSubViews(R.id.recycler_view, 5, withEffectiveVisibility(ViewMatchers.Visibility.VISIBLE), R.id.text_view_plan_tittle);\r\n\r\n    checkRecyclerSubViews(R.id.recycler_view, 5, withText(&quot;test&quot;), R.id.text_view_delete);\r\n\r\n","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>I have written a function that can check every view of view holder in recyclerview. Here is my function :</p>\n<p><strong>recyclerViewId</strong> is your recyclerview id</p>\n<p><strong>position</strong> is the position of your recyclerview</p>\n<p><strong>itemMatcher</strong> is your matcher function</p>\n<p><strong>subViewId</strong> is the id of recyclerview sub view (view of viewHolder)</p>\n<pre><code>    public static void checkRecyclerSubViews(int recyclerViewId, int position, Matcher&lt;View&gt; itemMatcher, int subViewId)\n{\n    onView(withId(recyclerViewId)).perform(RecyclerViewActions.scrollToPosition(position))\n                                  .check(matches(atPositionOnView(position, itemMatcher, subViewId)));\n}\n\n\n    public static Matcher&lt;View&gt; atPositionOnView(\n        final int position, final Matcher&lt;View&gt; itemMatcher, @NonNull final int targetViewId)\n{\n\n    return new BoundedMatcher&lt;View, RecyclerView&gt;(RecyclerView.class)\n    {\n        @Override\n        public void describeTo(Description description)\n        {\n            description.appendText(&quot;has view id &quot; + itemMatcher + &quot; at position &quot; + position);\n        }\n\n        @Override\n        public boolean matchesSafely(final RecyclerView recyclerView)\n        {\n            RecyclerView.ViewHolder viewHolder = recyclerView.findViewHolderForAdapterPosition(position);\n            View targetView = viewHolder.itemView.findViewById(targetViewId);\n            return itemMatcher.matches(targetView);\n        }\n    };\n}\n</code></pre>\n<p>And this is the examaple of using :</p>\n<pre><code>checkRecyclerSubViews(R.id.recycler_view, 5, withEffectiveVisibility(ViewMatchers.Visibility.VISIBLE), R.id.text_view_plan_tittle);\n\ncheckRecyclerSubViews(R.id.recycler_view, 5, withText(&quot;test&quot;), R.id.text_view_delete);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12881177,"reputation":879,"user_id":9316168,"display_name":"gmk57"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651697342,"creation_date":1651614701,"answer_id":72105818,"question_id":31394569,"body_markdown":"Here is my take in Kotlin, based on some [already](https://stackoverflow.com/a/70008599) [published](https://stackoverflow.com/a/64241245) [solutions](https://stackoverflow.com/a/31475962). Objectives:\r\n* Helpful error message in case `RecyclerView` or target view can&#39;t be found (e.g. no `NullPointerException` if position is out-of-bounds)\r\n* Helpful error message in case target view does not match expectations (all solutions starting with `onView(withId(R.id.recycler_view))` just print details about `RecyclerView` itself in this case)\r\n* Checks item at exact position, not just [any visible child that matches](https://stackoverflow.com/a/67878052)\r\n* Can be used to match either item&#39;s root view or its specific descendant\r\n* Can be used to perform actions on matched view\r\n* Tests real view displayed on the screen, not [artificially created one](https://stackoverflow.com/a/57852329)\r\n* Avoids unnecessary work\r\n* Minimal boilerplate, concise, but readable\r\n\r\nUnfortunately, `Matcher` can&#39;t scroll `RecyclerView` automatically (`matchesSafely` runs on UI thread and can&#39;t wait until it&#39;s idle), so it should be done separately. Usage:\r\n```lang-kt\r\nonView(withId(R.id.recycler_view))\r\n    .perform(RecyclerViewActions.scrollToPosition&lt;RecyclerView.ViewHolder&gt;(42))\r\nonRecyclerViewItem(R.id.recycler_view, 42)\r\n    .check(matches(isAssignableFrom(ConstraintLayout::class.java)))\r\nonRecyclerViewItem(R.id.recycler_view, 42, R.id.text)\r\n    .check(matches(withText(&quot;Item 42&quot;)))\r\nonRecyclerViewItem(R.id.recycler_view, 42, R.id.button).perform(click())\r\n```\r\nCode:\r\n```lang-kt\r\nfun onRecyclerViewItem(\r\n    recyclerViewId: Int,\r\n    position: Int,\r\n    targetViewId: Int? = null\r\n): ViewInteraction = onView(object : TypeSafeMatcher&lt;View&gt;() {\r\n\r\n    private lateinit var resources: Resources\r\n    private var recyclerView: RecyclerView? = null\r\n    private var holder: RecyclerView.ViewHolder? = null\r\n    private var targetView: View? = null\r\n\r\n    override fun describeTo(description: Description) {\r\n        fun Int.name(): String = try {\r\n            &quot;R.id.${resources.getResourceEntryName(this)}&quot;\r\n        } catch (e: Resources.NotFoundException) {\r\n            &quot;unknown id $this&quot;\r\n        }\r\n\r\n        val text = when {\r\n            recyclerView == null -&gt; &quot;RecyclerView (${recyclerViewId.name()})&quot;\r\n            holder == null || targetViewId == null -&gt; &quot;in RecyclerView (${recyclerViewId.name()}) at position $position&quot;\r\n            else -&gt; &quot;in RecyclerView (${recyclerViewId.name()}) at position $position and with ${targetViewId.name()}&quot;\r\n        }\r\n        description.appendText(text)\r\n    }\r\n\r\n    override fun matchesSafely(view: View): Boolean {\r\n        // matchesSafely will be called for each view in the hierarchy (until found),\r\n        // it makes no sense to perform lookup over and over again\r\n        if (!::resources.isInitialized) {\r\n            resources = view.resources\r\n            recyclerView = view.rootView.findViewById(recyclerViewId) ?: return false\r\n            holder = recyclerView?.findViewHolderForAdapterPosition(position) ?: return false\r\n            targetView = holder?.itemView?.let {\r\n                if (targetViewId != null) it.findViewById(targetViewId) else it\r\n            }\r\n        }\r\n        return view === targetView\r\n    }\r\n})\r\n```\r\nI&#39;ve merged `onView` and matcher class directly into it, because I only use it this way, and `onRecyclerViewItem(...)` looks more readable then `onView(withPositionInRecyclerView(...))`. Matcher function and/or class can be extracted if you prefer so. The same code &quot;in the wild&quot;, with imports, KDoc and my rewrite of `scrollToPosition` [can be found here](https://github.com/gmk57/mvvm-examples/blob/stateflow/example-kt-03adapters/src/androidTest/java/foo/bar/example/foreadapterskt/ui/EspressoTestMatchers.kt).","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>Here is my take in Kotlin, based on some <a href=\"https://stackoverflow.com/a/70008599\">already</a> <a href=\"https://stackoverflow.com/a/64241245\">published</a> <a href=\"https://stackoverflow.com/a/31475962\">solutions</a>. Objectives:</p>\n<ul>\n<li>Helpful error message in case <code>RecyclerView</code> or target view can't be found (e.g. no <code>NullPointerException</code> if position is out-of-bounds)</li>\n<li>Helpful error message in case target view does not match expectations (all solutions starting with <code>onView(withId(R.id.recycler_view))</code> just print details about <code>RecyclerView</code> itself in this case)</li>\n<li>Checks item at exact position, not just <a href=\"https://stackoverflow.com/a/67878052\">any visible child that matches</a></li>\n<li>Can be used to match either item's root view or its specific descendant</li>\n<li>Can be used to perform actions on matched view</li>\n<li>Tests real view displayed on the screen, not <a href=\"https://stackoverflow.com/a/57852329\">artificially created one</a></li>\n<li>Avoids unnecessary work</li>\n<li>Minimal boilerplate, concise, but readable</li>\n</ul>\n<p>Unfortunately, <code>Matcher</code> can't scroll <code>RecyclerView</code> automatically (<code>matchesSafely</code> runs on UI thread and can't wait until it's idle), so it should be done separately. Usage:</p>\n<pre class=\"lang-kt prettyprint-override\"><code>onView(withId(R.id.recycler_view))\n    .perform(RecyclerViewActions.scrollToPosition&lt;RecyclerView.ViewHolder&gt;(42))\nonRecyclerViewItem(R.id.recycler_view, 42)\n    .check(matches(isAssignableFrom(ConstraintLayout::class.java)))\nonRecyclerViewItem(R.id.recycler_view, 42, R.id.text)\n    .check(matches(withText(&quot;Item 42&quot;)))\nonRecyclerViewItem(R.id.recycler_view, 42, R.id.button).perform(click())\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-kt prettyprint-override\"><code>fun onRecyclerViewItem(\n    recyclerViewId: Int,\n    position: Int,\n    targetViewId: Int? = null\n): ViewInteraction = onView(object : TypeSafeMatcher&lt;View&gt;() {\n\n    private lateinit var resources: Resources\n    private var recyclerView: RecyclerView? = null\n    private var holder: RecyclerView.ViewHolder? = null\n    private var targetView: View? = null\n\n    override fun describeTo(description: Description) {\n        fun Int.name(): String = try {\n            &quot;R.id.${resources.getResourceEntryName(this)}&quot;\n        } catch (e: Resources.NotFoundException) {\n            &quot;unknown id $this&quot;\n        }\n\n        val text = when {\n            recyclerView == null -&gt; &quot;RecyclerView (${recyclerViewId.name()})&quot;\n            holder == null || targetViewId == null -&gt; &quot;in RecyclerView (${recyclerViewId.name()}) at position $position&quot;\n            else -&gt; &quot;in RecyclerView (${recyclerViewId.name()}) at position $position and with ${targetViewId.name()}&quot;\n        }\n        description.appendText(text)\n    }\n\n    override fun matchesSafely(view: View): Boolean {\n        // matchesSafely will be called for each view in the hierarchy (until found),\n        // it makes no sense to perform lookup over and over again\n        if (!::resources.isInitialized) {\n            resources = view.resources\n            recyclerView = view.rootView.findViewById(recyclerViewId) ?: return false\n            holder = recyclerView?.findViewHolderForAdapterPosition(position) ?: return false\n            targetView = holder?.itemView?.let {\n                if (targetViewId != null) it.findViewById(targetViewId) else it\n            }\n        }\n        return view === targetView\n    }\n})\n</code></pre>\n<p>I've merged <code>onView</code> and matcher class directly into it, because I only use it this way, and <code>onRecyclerViewItem(...)</code> looks more readable then <code>onView(withPositionInRecyclerView(...))</code>. Matcher function and/or class can be extracted if you prefer so. The same code &quot;in the wild&quot;, with imports, KDoc and my rewrite of <code>scrollToPosition</code> <a href=\"https://github.com/gmk57/mvvm-examples/blob/stateflow/example-kt-03adapters/src/androidTest/java/foo/bar/example/foreadapterskt/ui/EspressoTestMatchers.kt\" rel=\"nofollow noreferrer\">can be found here</a>.</p>\n"}],"owner":{"account_id":4616449,"reputation":1112,"user_id":3742799,"display_name":"juhlila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67657,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":31475962,"answer_count":15,"score":82,"last_activity_date":1651697342,"creation_date":1436826469,"question_id":31394569,"body_markdown":"I am using espresso-contrib to perform actions on a `RecyclerView`, and it works as it should, ex:\r\n```java\r\n//click on first item\r\nonView(withId(R.id.recycler_view))\r\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n```\r\nand I need to perform assertions on it. Something like this:\r\n```\r\nonView(withId(R.id.recycler_view))\r\n    .perform(\r\n        RecyclerViewActions.actionOnItemAtPosition(\r\n            0, check(matches(withText(&quot;Test Text&quot;)))\r\n        )\r\n    );\r\n```\r\nbut, because [RecyclerViewActions][1] is, of course, expecting an action, it says wrong 2nd argument type. There&#39;s no `RecyclerViewAssertions` on espresso-contrib.\r\n\r\nIs there any way to perform assertions on a `RecyclerView`?\r\n\r\n  [1]: http://android-test-kit.googlecode.com/git-history/e81b6694887f5c73617759d2728a92beba9b8f12/docs/javadocs/espresso/espresso-contrib-2.0-javadoc/reference/android/support/test/espresso/contrib/RecyclerViewActions.html#actionOnItemAtPosition(int,%20android.support.test.espresso.ViewAction)\r\n","title":"How to assert inside a RecyclerView in Espresso?","body":"<p>I am using espresso-contrib to perform actions on a <code>RecyclerView</code>, and it works as it should, ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//click on first item\nonView(withId(R.id.recycler_view))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n<p>and I need to perform assertions on it. Something like this:</p>\n<pre><code>onView(withId(R.id.recycler_view))\n    .perform(\n        RecyclerViewActions.actionOnItemAtPosition(\n            0, check(matches(withText(&quot;Test Text&quot;)))\n        )\n    );\n</code></pre>\n<p>but, because <a href=\"http://android-test-kit.googlecode.com/git-history/e81b6694887f5c73617759d2728a92beba9b8f12/docs/javadocs/espresso/espresso-contrib-2.0-javadoc/reference/android/support/test/espresso/contrib/RecyclerViewActions.html#actionOnItemAtPosition(int,%20android.support.test.espresso.ViewAction)\" rel=\"noreferrer\">RecyclerViewActions</a> is, of course, expecting an action, it says wrong 2nd argument type. There's no <code>RecyclerViewAssertions</code> on espresso-contrib.</p>\n<p>Is there any way to perform assertions on a <code>RecyclerView</code>?</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":294087,"reputation":6941,"user_id":597770,"display_name":"iluxa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298925124,"creation_date":1298925124,"answer_id":5147242,"question_id":5147187,"body_markdown":"Don&#39;t assert anything in the function. Return say null instead, and have whoever&#39;s calling it to keep going but then fail if the function returned null","title":"Ignore Assertion failure in a testcase (JUnit)","body":"<p>Don't assert anything in the function. Return say null instead, and have whoever's calling it to keep going but then fail if the function returned null</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298926898,"creation_date":1298926898,"answer_id":5147534,"question_id":5147187,"body_markdown":"From Selenium [documentation](http://release.seleniumhq.org/selenium-core/0.8.0/reference.html):\r\n\r\n&gt; All Selenium Assertions can be used in 3 modes: &quot;assert&quot;, &quot;verify&quot;, and &quot;waitFor&quot;. For example, you can &quot;assertText&quot;, &quot;verifyText&quot; and &quot;waitForText&quot;. When an &quot;assert&quot; fails, the test is aborted. **When a &quot;verify&quot; fails, the test will continue execution, logging the failure**. This allows a single &quot;assert&quot; to ensure that the application is on the correct page, followed by a bunch of &quot;verify&quot; assertions to test form field values, labels, etc.","title":"Ignore Assertion failure in a testcase (JUnit)","body":"<p>From Selenium <a href=\"http://release.seleniumhq.org/selenium-core/0.8.0/reference.html\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>All Selenium Assertions can be used in 3 modes: \"assert\", \"verify\", and \"waitFor\". For example, you can \"assertText\", \"verifyText\" and \"waitForText\". When an \"assert\" fails, the test is aborted. <strong>When a \"verify\" fails, the test will continue execution, logging the failure</strong>. This allows a single \"assert\" to ensure that the application is on the correct page, followed by a bunch of \"verify\" assertions to test form field values, labels, etc.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":718522,"reputation":96,"user_id":638302,"display_name":"mazaneicha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1298928700,"creation_date":1298928700,"answer_id":5147799,"question_id":5147187,"body_markdown":"I&#39;m sure you&#39;ve figured it out yourself by now: the try-catch should be inside the for loop, not outside of it ;)\r\n","title":"Ignore Assertion failure in a testcase (JUnit)","body":"<p>I'm sure you've figured it out yourself by now: the try-catch should be inside the for loop, not outside of it ;)</p>\n"},{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1364890881,"creation_date":1298928705,"answer_id":5147802,"question_id":5147187,"body_markdown":"You could use a [JUnit 4 error collector rule][1]:\r\n\r\n&gt; The ErrorCollector rule allows\r\n&gt; execution of a test to continue after\r\n&gt; the first problem is found (for\r\n&gt; example, to collect _all_ the\r\n&gt; incorrect rows in a table, and report\r\n&gt; them all at once)\r\n\r\nFor example you can write a test like this. \r\n\r\n    public static class UsesErrorCollectorTwice {\r\n      @Rule\r\n      public ErrorCollector collector= new ErrorCollector();\r\n     \r\n      @Test\r\n      public void example() {\r\n        String x = [..]\r\n        collector.checkThat(x, not(containsString(&quot;a&quot;)));\r\n        collector.checkThat(y, containsString(&quot;b&quot;));             \r\n      }\r\n    }\r\n\r\nThe error collector uses hamcrest Matchers. Depending on your preferences this is positive or not.\r\n\r\n  [1]: http://junit-team.github.com/junit/javadoc/4.10/index.html?org/junit/rules/ErrorCollector.html","title":"Ignore Assertion failure in a testcase (JUnit)","body":"<p>You could use a <a href=\"http://junit-team.github.com/junit/javadoc/4.10/index.html?org/junit/rules/ErrorCollector.html\" rel=\"noreferrer\">JUnit 4 error collector rule</a>:</p>\n\n<blockquote>\n  <p>The ErrorCollector rule allows\n  execution of a test to continue after\n  the first problem is found (for\n  example, to collect <em>all</em> the\n  incorrect rows in a table, and report\n  them all at once)</p>\n</blockquote>\n\n<p>For example you can write a test like this. </p>\n\n<pre><code>public static class UsesErrorCollectorTwice {\n  @Rule\n  public ErrorCollector collector= new ErrorCollector();\n\n  @Test\n  public void example() {\n    String x = [..]\n    collector.checkThat(x, not(containsString(\"a\")));\n    collector.checkThat(y, containsString(\"b\"));             \n  }\n}\n</code></pre>\n\n<p>The error collector uses hamcrest Matchers. Depending on your preferences this is positive or not.</p>\n"}],"owner":{"account_id":320159,"reputation":143,"user_id":638297,"display_name":"user638297"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17537,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":5147802,"answer_count":4,"score":14,"last_activity_date":1651697048,"creation_date":1298924875,"question_id":5147187,"body_markdown":"Currently, I am writing the automation testing using java and selenium rc.\r\n\r\nI would like to verify all the contents present on the user interface, the function is ie below:\r\n\r\n```java\r\npublic String UITest() throws IOException {\r\n\r\n    String result=&quot;Test Start&lt;br /&gt;&quot;;\r\n\r\n    try {\r\n        openfile(1);\r\n        for (String url : uiMaps.keySet()) {\r\n            selenium.open(url);\r\n            for (String item : uiMaps.get(url)) {                   \r\n                assertEquals(url+&quot; check: &quot; + item, true,selenium.isTextPresent(item));\r\n                result+=url+&quot; check: &quot; + item+&quot; : OK&lt;br /&gt;&quot;;\r\n            }\r\n        }\r\n    } catch (AssertionError e) {\r\n        result+=e.getMessage();\r\n    }\r\n    result+=&quot;Test finished&lt;br /&gt;&quot;;\r\n    return result;\r\n}\r\n```\r\n\r\nThe function is supposed to return a String containing information about the testing. However, the function stopped once an assertion error happened. \r\n\r\nIs there a way to ignore the failure and keep executing all the assertion verifications?","title":"Ignore Assertion failure in a testcase (JUnit)","body":"<p>Currently, I am writing the automation testing using java and selenium rc.</p>\n<p>I would like to verify all the contents present on the user interface, the function is ie below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String UITest() throws IOException {\n\n    String result=&quot;Test Start&lt;br /&gt;&quot;;\n\n    try {\n        openfile(1);\n        for (String url : uiMaps.keySet()) {\n            selenium.open(url);\n            for (String item : uiMaps.get(url)) {                   \n                assertEquals(url+&quot; check: &quot; + item, true,selenium.isTextPresent(item));\n                result+=url+&quot; check: &quot; + item+&quot; : OK&lt;br /&gt;&quot;;\n            }\n        }\n    } catch (AssertionError e) {\n        result+=e.getMessage();\n    }\n    result+=&quot;Test finished&lt;br /&gt;&quot;;\n    return result;\n}\n</code></pre>\n<p>The function is supposed to return a String containing information about the testing. However, the function stopped once an assertion error happened.</p>\n<p>Is there a way to ignore the failure and keep executing all the assertion verifications?</p>\n"},{"tags":["java","bit-manipulation"],"answers":[{"tags":[],"owner":{"account_id":10385264,"reputation":756,"user_id":7658598,"display_name":"Akash Srivastav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571233242,"creation_date":1571233242,"answer_id":58414776,"question_id":58414593,"body_markdown":"I&#39;m not sure about the syntax for bit manipulation in Java, although here&#39;s how you can do it.\r\n\r\n    bitmask = 0x1111;\r\n    firstHalf = ((bytes[i] &gt;&gt; 4) &amp; bitmask);\r\n    secondHalf = ((bytes[i] &amp; bitmask) &lt;&lt; 4)\r\n    result = firstHalf | secondHalf;","title":"Switching the first 4 bits of a byte and the last half","body":"<p>I'm not sure about the syntax for bit manipulation in Java, although here's how you can do it.</p>\n\n<pre><code>bitmask = 0x1111;\nfirstHalf = ((bytes[i] &gt;&gt; 4) &amp; bitmask);\nsecondHalf = ((bytes[i] &amp; bitmask) &lt;&lt; 4)\nresult = firstHalf | secondHalf;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571233701,"creation_date":1571233379,"answer_id":58414819,"question_id":58414593,"body_markdown":"&gt; I don&#39;t want `1111 1001` but `0000 1001`\r\n\r\nIf so, you need to use [shift right zero fill operator(&gt;&gt;&gt;)][1] instead of preserving sign of the number.\r\n\r\nI don&#39;t think the formula found works properly.\r\n\r\n     public byte reverseBitsByte(byte x) {\r\n      int intSize = 8;\r\n      byte y=0;\r\n      for(int position=intSize-1; position&gt;0; position--){\r\n        y+=((x&amp;1)&lt;&lt;position);\r\n        x &gt;&gt;= 1;\r\n      }\r\n      return y;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19077902/bitwise-operation-zero-fill-right-shift-usages","title":"Switching the first 4 bits of a byte and the last half","body":"<blockquote>\n  <p>I don't want <code>1111 1001</code> but <code>0000 1001</code></p>\n</blockquote>\n\n<p>If so, you need to use <a href=\"https://stackoverflow.com/questions/19077902/bitwise-operation-zero-fill-right-shift-usages\">shift right zero fill operator(>>>)</a> instead of preserving sign of the number.</p>\n\n<p>I don't think the formula found works properly.</p>\n\n<pre><code> public byte reverseBitsByte(byte x) {\n  int intSize = 8;\n  byte y=0;\n  for(int position=intSize-1; position&gt;0; position--){\n    y+=((x&amp;1)&lt;&lt;position);\n    x &gt;&gt;= 1;\n  }\n  return y;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571252601,"creation_date":1571235408,"answer_id":58415505,"question_id":58414593,"body_markdown":"Be careful with the `&gt;&gt;&gt;` operation, which shifts the sign bits without sign extending so zero bits will fill in on the left.  The problem is that it is an integer operation.  The `&gt;&gt;` works the same way except it sign extends thru the int.\r\n\r\n```java\r\n  int i = -1;\r\n  i &gt;&gt;&gt;= 30;\r\n  System.out.println(i); // prints 3 as expected.\r\n\r\n  byte b = -1;\r\n  b &gt;&gt;&gt;= 6;\r\n  System.out.printnln(b); // prints -1 ???\r\n  \r\n```\r\nThe byte is still -1 because `byte b = -1` was shifted as though it was an int then reassigned to a byte.  So the byte remained negative.  To get 3, you would need to do something that seems strange, like the following.\r\n\r\n```java\r\n   byte b = -1;\r\n   b &gt;&gt;&gt;=30;\r\n   System.out.println(b); // prints 3\r\n\r\n```\r\nSo to do your swap you need to do the following;\r\n\r\n```java\r\n   \r\n   byte b = 0b10100110;\r\n   b = (byte)(((b&gt;&gt;&gt;4)&amp;0xF)|(b&lt;&lt;4));\r\n```\r\nThe `0xF` mask, masks off those lingering high order bits left over from the conversion from integer back to byte.","title":"Switching the first 4 bits of a byte and the last half","body":"<p>Be careful with the <code>&gt;&gt;&gt;</code> operation, which shifts the sign bits without sign extending so zero bits will fill in on the left.  The problem is that it is an integer operation.  The <code>&gt;&gt;</code> works the same way except it sign extends thru the int.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  int i = -1;\n  i &gt;&gt;&gt;= 30;\n  System.out.println(i); // prints 3 as expected.\n\n  byte b = -1;\n  b &gt;&gt;&gt;= 6;\n  System.out.printnln(b); // prints -1 ???\n\n</code></pre>\n\n<p>The byte is still -1 because <code>byte b = -1</code> was shifted as though it was an int then reassigned to a byte.  So the byte remained negative.  To get 3, you would need to do something that seems strange, like the following.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>   byte b = -1;\n   b &gt;&gt;&gt;=30;\n   System.out.println(b); // prints 3\n\n</code></pre>\n\n<p>So to do your swap you need to do the following;</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n   byte b = 0b10100110;\n   b = (byte)(((b&gt;&gt;&gt;4)&amp;0xF)|(b&lt;&lt;4));\n</code></pre>\n\n<p>The <code>0xF</code> mask, masks off those lingering high order bits left over from the conversion from integer back to byte.</p>\n"},{"tags":[],"owner":{"account_id":25178230,"reputation":1,"user_id":19020098,"display_name":"BARAT Bekzat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651697007,"creation_date":1651538567,"answer_id":72093761,"question_id":58414593,"body_markdown":"```\r\nstatic int swapBits(int a)  {\r\n    // Написать решение сюда ↓\r\n    int right = (a &amp; 0b00001111);\r\n    right= (right&lt;&lt;4);\r\n    int left = (a &amp; 0b11110000);\r\n    left = (left&gt;&gt;4);\r\n    return (right | left);\r\n}\r\n```","title":"Switching the first 4 bits of a byte and the last half","body":"<pre><code>static int swapBits(int a)  {\n    // Написать решение сюда ↓\n    int right = (a &amp; 0b00001111);\n    right= (right&lt;&lt;4);\n    int left = (a &amp; 0b11110000);\n    left = (left&gt;&gt;4);\n    return (right | left);\n}\n</code></pre>\n"}],"owner":{"account_id":16906562,"reputation":159,"user_id":12226755,"display_name":"DontDisplayMyName"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1651697007,"creation_date":1571232676,"question_id":58414593,"body_markdown":"I need to switch the first half and the second half of a `byte: Make 0011 0101 to 0101 0011` for example\r\n\r\nI thought it might work this way:\r\nFor example, i have `1001 1100`\r\ni `bitshift` to the `left 4` times and get `1111 1001`(because if the first bit is a 1 the others become a one too)\r\ni bitshift to the `right 4` times and `get 1100 0000`(the second half of the byte gets filled with 0s)\r\ni don&#39;t want `1111 1001` but `0000 1001` so i do `0x00001111 &amp; 1111 1001` (which filters the frist 4 bits) to make `1111 1001 to 0000 1001`\r\nthen i add everything up:\r\n\r\n    0000 1001 + 1100 0000 = 1100 1001\r\n\r\nI got this:\r\n\r\n&gt; bytes[i] = (byte) (( 0x00001111 &amp; (bytes[i] &gt;&gt; 4)) +  (bytes[i] &lt;&lt; 4)\r\n&gt; );\r\n&gt; \r\n&gt; here is one output:  11111111 to 00000001\r\n\r\nI do not really understand why this is happening, I know the binary System and I think I know how bitshifting works but I can&#39;t explain this one. \r\nSorry for bad english :)","title":"Switching the first 4 bits of a byte and the last half","body":"<p>I need to switch the first half and the second half of a <code>byte: Make 0011 0101 to 0101 0011</code> for example</p>\n\n<p>I thought it might work this way:\nFor example, i have <code>1001 1100</code>\ni <code>bitshift</code> to the <code>left 4</code> times and get <code>1111 1001</code>(because if the first bit is a 1 the others become a one too)\ni bitshift to the <code>right 4</code> times and <code>get 1100 0000</code>(the second half of the byte gets filled with 0s)\ni don't want <code>1111 1001</code> but <code>0000 1001</code> so i do <code>0x00001111 &amp; 1111 1001</code> (which filters the frist 4 bits) to make <code>1111 1001 to 0000 1001</code>\nthen i add everything up:</p>\n\n<pre><code>0000 1001 + 1100 0000 = 1100 1001\n</code></pre>\n\n<p>I got this:</p>\n\n<blockquote>\n  <p>bytes[i] = (byte) (( 0x00001111 &amp; (bytes[i] >> 4)) +  (bytes[i] &lt;&lt; 4)\n  );</p>\n  \n  <p>here is one output:  11111111 to 00000001</p>\n</blockquote>\n\n<p>I do not really understand why this is happening, I know the binary System and I think I know how bitshifting works but I can't explain this one. \nSorry for bad english :)</p>\n"},{"tags":["java","android-studio","android-layout","admob"],"answers":[{"tags":[],"owner":{"account_id":18912314,"reputation":63,"user_id":13798134,"display_name":"just developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651696749,"creation_date":1651696749,"answer_id":72119234,"question_id":72117878,"body_markdown":"control the visibility from the code ,try this :\r\n\r\n\r\n      AdLoader adLoader = new AdLoader.Builder(this, getString(R.string.admob_native_id4)) \r\n            .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\r\n                @Override\r\n                public void onNativeAdLoaded(NativeAd nativeAd) {\r\n                    NativeTemplateStyle styles = new\r\n                            NativeTemplateStyle.Builder().build();\r\n                    TemplateView template = findViewById(R.id.native_ad_1); \r\n                    template.setStyles(styles);\r\n                    \r\n                    //// if the ad is not null make the template visible otherwise hide it\r\n                    if (nativeAd != null){\r\n                        template.setNativeAd(nativeAd);\r\n                        template.setVisibility(View.VISIBLE);\r\n                    }else{\r\n                        template.setVisibility(View.GONE);\r\n                    }\r\n\r\n                }\r\n            }).build();\r\n\r\n      adLoader.loadAd(new AdRequest.Builder().build());\r\n","title":"How do I hide a NativeAdView ad template?","body":"<p>control the visibility from the code ,try this :</p>\n<pre><code>  AdLoader adLoader = new AdLoader.Builder(this, getString(R.string.admob_native_id4)) \n        .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\n            @Override\n            public void onNativeAdLoaded(NativeAd nativeAd) {\n                NativeTemplateStyle styles = new\n                        NativeTemplateStyle.Builder().build();\n                TemplateView template = findViewById(R.id.native_ad_1); \n                template.setStyles(styles);\n                \n                //// if the ad is not null make the template visible otherwise hide it\n                if (nativeAd != null){\n                    template.setNativeAd(nativeAd);\n                    template.setVisibility(View.VISIBLE);\n                }else{\n                    template.setVisibility(View.GONE);\n                }\n\n            }\n        }).build();\n\n  adLoader.loadAd(new AdRequest.Builder().build());\n</code></pre>\n"}],"owner":{"account_id":21523103,"reputation":13,"user_id":15863890,"display_name":"Ghassan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72119234,"answer_count":1,"score":1,"last_activity_date":1651696749,"creation_date":1651689298,"question_id":72117878,"body_markdown":"How can I hide where the ad appears if there is no ad?\r\nThis is the advertisement that I have. It works and there is no problem, but in the event that there is no advertisement, the template remains. I want it to disappear and appear only when an advertisement is available\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lPCHI.png\r\n\r\n&gt; NativeAdView\r\n   \r\n\r\n     AdLoader adLoader = new AdLoader.Builder(this, getString(R.string.admob_native_id4)) \r\n                .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\r\n                    @Override\r\n                    public void onNativeAdLoaded(NativeAd nativeAd) {\r\n                        NativeTemplateStyle styles = new\r\n                                NativeTemplateStyle.Builder().build();\r\n                        TemplateView template = findViewById(R.id.native_ad_1); \r\n                        template.setStyles(styles);\r\n                        template.setNativeAd(nativeAd);\r\n                    }\r\n                })\r\n                .build();\r\n    \r\n        adLoader.loadAd(new AdRequest.Builder().build());\r\n\r\n&gt; template\r\n\r\n        &lt;com.google.android.ads.nativetemplates.TemplateView\r\n            android:id=&quot;@+id/native_ad_1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            app:gnt_template_type=&quot;@layout/gnt_medium_template_view&quot;\r\n\r\n            android:visibility=&quot;gone&quot;    //When I add this, the template disappears, but the ad does not appear\r\n\r\n            /&gt;","title":"How do I hide a NativeAdView ad template?","body":"<p>How can I hide where the ad appears if there is no ad?\nThis is the advertisement that I have. It works and there is no problem, but in the event that there is no advertisement, the template remains. I want it to disappear and appear only when an advertisement is available</p>\n<p><a href=\"https://i.stack.imgur.com/lPCHI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<blockquote>\n<p>NativeAdView</p>\n</blockquote>\n<pre><code> AdLoader adLoader = new AdLoader.Builder(this, getString(R.string.admob_native_id4)) \n            .forNativeAd(new NativeAd.OnNativeAdLoadedListener() {\n                @Override\n                public void onNativeAdLoaded(NativeAd nativeAd) {\n                    NativeTemplateStyle styles = new\n                            NativeTemplateStyle.Builder().build();\n                    TemplateView template = findViewById(R.id.native_ad_1); \n                    template.setStyles(styles);\n                    template.setNativeAd(nativeAd);\n                }\n            })\n            .build();\n\n    adLoader.loadAd(new AdRequest.Builder().build());\n</code></pre>\n<blockquote>\n<p>template</p>\n</blockquote>\n<pre><code>    &lt;com.google.android.ads.nativetemplates.TemplateView\n        android:id=&quot;@+id/native_ad_1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        app:gnt_template_type=&quot;@layout/gnt_medium_template_view&quot;\n\n        android:visibility=&quot;gone&quot;    //When I add this, the template disappears, but the ad does not appear\n\n        /&gt;\n</code></pre>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1650974242,"post_id":72013219,"comment_id":127246243,"body_markdown":"`createQueue` is only creating a JMS reference to an existing IBM MQ queue.   You could use PCF or the REST API of MQ to create the queue on the queue manager.   You could use temporary dynamic queues with `createTemporaryQueue` which would go away when your connection closes, that is mentioned further down the page you linked to.","body":"<code>createQueue</code> is only creating a JMS reference to an existing IBM MQ queue.   You could use PCF or the REST API of MQ to create the queue on the queue manager.   You could use temporary dynamic queues with <code>createTemporaryQueue</code> which would go away when your connection closes, that is mentioned further down the page you linked to."},{"owner":{"account_id":12078268,"reputation":205,"user_id":8830948,"display_name":"konrado"},"score":0,"creation_date":1650978296,"post_id":72013219,"comment_id":127247928,"body_markdown":"Thanks for explanation. I really appreciate it!","body":"Thanks for explanation. I really appreciate it!"}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651696628,"creation_date":1651180147,"answer_id":72050242,"question_id":72013219,"body_markdown":"    cf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\r\n\r\nIn this day &amp; age, that&#39;s a bad idea.  Your program should be supplying a valid UserId and Password when connecting to a remote queue manager.\r\n\r\nYou can create IBM MQ queues using PCF via JMS but it is a lot more complicated.\r\n\r\nHere is a fully functioning Java/PCF (non-JMS) program that creates a queue.\r\n\r\n    import java.io.IOException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Hashtable;\r\n    \r\n    import com.ibm.mq.MQException;\r\n    import com.ibm.mq.MQQueueManager;\r\n    import com.ibm.mq.constants.CMQC;\r\n    import com.ibm.mq.constants.MQConstants;\r\n    import com.ibm.mq.headers.MQDataException;\r\n    import com.ibm.mq.headers.pcf.PCFException;\r\n    import com.ibm.mq.headers.pcf.PCFMessage;\r\n    import com.ibm.mq.headers.pcf.PCFMessageAgent;\r\n    \r\n    /**\r\n     * Program Name\r\n     *  MQCreateQueue01\r\n     *\r\n     * Description\r\n     *  This java class issues a PCF &quot;create queue&quot; request message to create a local queue \r\n     *  specifying: queue type, max message length &amp; max queue depth on a remote queue manager. \r\n     *  \r\n     *  This PCF code is equivalent to issuing the runmqsc command of:\r\n     *     DEFINE QL(&#39;TEST.QUEUE&#39;) MAXMSGL(10485760) MAXDEPTH(12345)\r\n     *\r\n     * Sample Command Line Parameters\r\n     *  -m MQA1 -q Queue_Name -h 127.0.0.1 -p 1414 -c TEST.CHL -u UserID -x Password\r\n     *\r\n     * @author Roger Lacroix\r\n     */\r\n    public class MQCreateQueue01\r\n    {\r\n       private static final SimpleDateFormat  LOGGER_TIMESTAMP = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss.SSS&quot;);\r\n    \r\n       private Hashtable&lt;String,String&gt; params;\r\n       private Hashtable&lt;String,Object&gt; mqht;\r\n    \r\n       public MQCreateQueue01()\r\n       {\r\n          super();\r\n          params = new Hashtable&lt;String,String&gt;();\r\n          mqht = new Hashtable&lt;String,Object&gt;();\r\n       }\r\n    \r\n       /**\r\n        * Make sure the required parameters are present.\r\n        * @return true/false\r\n        */\r\n       private boolean allParamsPresent()\r\n       {\r\n          boolean b = params.containsKey(&quot;-h&quot;) &amp;&amp; params.containsKey(&quot;-p&quot;) &amp;&amp;\r\n                      params.containsKey(&quot;-c&quot;) &amp;&amp; params.containsKey(&quot;-m&quot;) &amp;&amp;\r\n                      params.containsKey(&quot;-q&quot;) &amp;&amp;\r\n                      params.containsKey(&quot;-u&quot;) &amp;&amp; params.containsKey(&quot;-x&quot;);\r\n          if (b)\r\n          {\r\n             try\r\n             {\r\n                Integer.parseInt((String) params.get(&quot;-p&quot;));\r\n             }\r\n             catch (NumberFormatException e)\r\n             {\r\n                b = false;\r\n             }\r\n          }\r\n    \r\n          return b;\r\n       }\r\n    \r\n       /**\r\n        * Extract the command-line parameters and initialize the MQ HashTable.\r\n        * @param args\r\n        * @throws IllegalArgumentException\r\n        */\r\n       private void init(String[] args) throws IllegalArgumentException\r\n       {\r\n          int port = 1414;\r\n          if (args.length &gt; 0 &amp;&amp; (args.length % 2) == 0)\r\n          {\r\n             for (int i = 0; i &lt; args.length; i += 2)\r\n             {\r\n                params.put(args[i], args[i + 1]);\r\n             }\r\n          }\r\n          else\r\n          {\r\n             throw new IllegalArgumentException();\r\n          }\r\n    \r\n          if (allParamsPresent())\r\n          {\r\n             try\r\n             {\r\n                port = Integer.parseInt((String) params.get(&quot;-p&quot;));\r\n             }\r\n             catch (NumberFormatException e)\r\n             {\r\n                port = 1414;\r\n             }\r\n             \r\n             mqht.put(CMQC.CHANNEL_PROPERTY, params.get(&quot;-c&quot;));\r\n             mqht.put(CMQC.HOST_NAME_PROPERTY, params.get(&quot;-h&quot;));\r\n             mqht.put(CMQC.PORT_PROPERTY, new Integer(port));\r\n             mqht.put(CMQC.USER_ID_PROPERTY, params.get(&quot;-u&quot;));\r\n             mqht.put(CMQC.PASSWORD_PROPERTY, params.get(&quot;-x&quot;));\r\n    \r\n             // I don&#39;t want to see MQ exceptions at the console.\r\n             MQException.log = null;\r\n          }\r\n          else\r\n          {\r\n             throw new IllegalArgumentException();\r\n          }\r\n       }\r\n       \r\n       /**\r\n        * Handle connecting to the queue manager, issuing PCF command then \r\n        * looping through PCF response messages and disconnecting from \r\n        * the queue manager. \r\n        */\r\n       private void doPCF()\r\n       {\r\n          String qMgrName = (String) params.get(&quot;-m&quot;);\r\n          String qName    = (String) params.get(&quot;-q&quot;);\r\n    \r\n          MQQueueManager qMgr = null;\r\n          PCFMessageAgent agent = null;\r\n          PCFMessage   request = null;\r\n          \r\n          try\r\n          {\r\n             qMgr = new MQQueueManager(qMgrName, mqht);\r\n             logger(&quot;successfully connected to &quot;+ qMgrName);\r\n    \r\n             agent = new PCFMessageAgent(qMgr);\r\n             logger(&quot;successfully created agent&quot;);\r\n          \r\n             // https://www.ibm.com/docs/en/ibm-mq/latest?topic=formats-change-copy-create-queue\r\n             \r\n             request = new PCFMessage(MQConstants.MQCMD_CREATE_Q);\r\n    \r\n             // Specify the queue name to be created.\r\n             request.addParameter(MQConstants.MQCA_Q_NAME, qName);\r\n             \r\n             // Add parameter to request local queue\r\n             request.addParameter(MQConstants.MQIA_Q_TYPE, MQConstants.MQQT_LOCAL);\r\n             \r\n             // Add parameter to set the max message length to be 10MB\r\n             request.addParameter(MQConstants.MQIA_MAX_MSG_LENGTH, 10 * 1024 * 1024);\r\n             \r\n             // Add parameter to set the max queue depth to be 12,345\r\n             request.addParameter(MQConstants.MQIA_MAX_Q_DEPTH, 12345);\r\n    \r\n             agent.send(request);\r\n             \r\n             logger(&quot;successfully created queue: &quot; + qName);\r\n          }\r\n          catch (PCFException pcfe) \r\n          {\r\n             if (pcfe.reasonCode == MQConstants.MQRCCF_OBJECT_ALREADY_EXISTS) \r\n                logger(&quot;Error: The queue &#39;&quot; + qName+ &quot;&#39; already exists on the queue manager &#39;&quot; + qMgrName + &quot;&#39;.&quot;);\r\n             else\r\n                logger(&quot;CC=&quot; +pcfe.completionCode +  &quot; [&quot; + MQConstants.lookupCompCode(pcfe.completionCode) + &quot;] : RC=&quot; + pcfe.reasonCode + &quot; [&quot;+MQConstants.lookupReasonCode(pcfe.reasonCode)+&quot;]&quot;);\r\n           }\r\n    \r\n          catch (MQException e)\r\n          {\r\n             logger(&quot;CC=&quot; +e.completionCode +  &quot; [&quot; + MQConstants.lookupCompCode(e.completionCode) + &quot;] : RC=&quot; + e.reasonCode + &quot; [&quot;+MQConstants.lookupReasonCode(e.reasonCode)+&quot;]&quot;);\r\n          }\r\n          catch (IOException e)\r\n          {\r\n             logger(&quot;IOException:&quot; +e.getLocalizedMessage());\r\n          }\r\n          catch (MQDataException e)\r\n          {\r\n             logger(&quot;MQDataException:&quot; +e.getLocalizedMessage());\r\n          }\r\n          catch (Exception e)\r\n          {\r\n             logger(&quot;Exception:&quot; +e.getLocalizedMessage());\r\n          }\r\n          finally\r\n          {\r\n             try\r\n             {\r\n                if (agent != null)\r\n                {\r\n                   agent.disconnect();\r\n                   logger(&quot;disconnected from agent&quot;);\r\n                }\r\n             }\r\n             catch (MQDataException e)\r\n             {\r\n                logger(&quot;CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n             }\r\n    \r\n             try\r\n             {\r\n                if (qMgr != null)\r\n                {\r\n                   qMgr.disconnect();\r\n                   logger(&quot;disconnected from &quot;+ qMgrName);\r\n                }\r\n             }\r\n             catch (MQException e)\r\n             {\r\n                logger(&quot;CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n             }\r\n          }\r\n       }\r\n    \r\n       /**\r\n        * A simple logger method\r\n        * @param data\r\n        */\r\n       public static void logger(String data)\r\n       {\r\n          String className = Thread.currentThread().getStackTrace()[2].getClassName();\r\n    \r\n          // Remove the package info.\r\n          if ( (className != null) &amp;&amp; (className.lastIndexOf(&#39;.&#39;) != -1) )\r\n             className = className.substring(className.lastIndexOf(&#39;.&#39;)+1);\r\n    \r\n          System.out.println(LOGGER_TIMESTAMP.format(new Date())+&quot; &quot;+className+&quot;: &quot;+Thread.currentThread().getStackTrace()[2].getMethodName()+&quot;: &quot;+data);\r\n       }\r\n    \r\n       public static void main(String[] args)\r\n       {\r\n          MQCreateQueue01 mqlqs = new MQCreateQueue01();\r\n          \r\n          try\r\n          {\r\n             mqlqs.init(args);\r\n             mqlqs.doPCF();\r\n          }\r\n          catch (IllegalArgumentException e)\r\n          {\r\n             logger(&quot;Usage: java MQCreateQueue01 -m QueueManagerName -q Queue_Name -h host -p port -c channel -u UserID -x Password&quot;);\r\n             System.exit(1);\r\n          }\r\n    \r\n          System.exit(0);\r\n       }\r\n    }\r\n\r\n","title":"Cannot create queue from Websphere JMS API","body":"<pre><code>cf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\n</code></pre>\n<p>In this day &amp; age, that's a bad idea.  Your program should be supplying a valid UserId and Password when connecting to a remote queue manager.</p>\n<p>You can create IBM MQ queues using PCF via JMS but it is a lot more complicated.</p>\n<p>Here is a fully functioning Java/PCF (non-JMS) program that creates a queue.</p>\n<pre><code>import java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Hashtable;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQQueueManager;\nimport com.ibm.mq.constants.CMQC;\nimport com.ibm.mq.constants.MQConstants;\nimport com.ibm.mq.headers.MQDataException;\nimport com.ibm.mq.headers.pcf.PCFException;\nimport com.ibm.mq.headers.pcf.PCFMessage;\nimport com.ibm.mq.headers.pcf.PCFMessageAgent;\n\n/**\n * Program Name\n *  MQCreateQueue01\n *\n * Description\n *  This java class issues a PCF &quot;create queue&quot; request message to create a local queue \n *  specifying: queue type, max message length &amp; max queue depth on a remote queue manager. \n *  \n *  This PCF code is equivalent to issuing the runmqsc command of:\n *     DEFINE QL('TEST.QUEUE') MAXMSGL(10485760) MAXDEPTH(12345)\n *\n * Sample Command Line Parameters\n *  -m MQA1 -q Queue_Name -h 127.0.0.1 -p 1414 -c TEST.CHL -u UserID -x Password\n *\n * @author Roger Lacroix\n */\npublic class MQCreateQueue01\n{\n   private static final SimpleDateFormat  LOGGER_TIMESTAMP = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss.SSS&quot;);\n\n   private Hashtable&lt;String,String&gt; params;\n   private Hashtable&lt;String,Object&gt; mqht;\n\n   public MQCreateQueue01()\n   {\n      super();\n      params = new Hashtable&lt;String,String&gt;();\n      mqht = new Hashtable&lt;String,Object&gt;();\n   }\n\n   /**\n    * Make sure the required parameters are present.\n    * @return true/false\n    */\n   private boolean allParamsPresent()\n   {\n      boolean b = params.containsKey(&quot;-h&quot;) &amp;&amp; params.containsKey(&quot;-p&quot;) &amp;&amp;\n                  params.containsKey(&quot;-c&quot;) &amp;&amp; params.containsKey(&quot;-m&quot;) &amp;&amp;\n                  params.containsKey(&quot;-q&quot;) &amp;&amp;\n                  params.containsKey(&quot;-u&quot;) &amp;&amp; params.containsKey(&quot;-x&quot;);\n      if (b)\n      {\n         try\n         {\n            Integer.parseInt((String) params.get(&quot;-p&quot;));\n         }\n         catch (NumberFormatException e)\n         {\n            b = false;\n         }\n      }\n\n      return b;\n   }\n\n   /**\n    * Extract the command-line parameters and initialize the MQ HashTable.\n    * @param args\n    * @throws IllegalArgumentException\n    */\n   private void init(String[] args) throws IllegalArgumentException\n   {\n      int port = 1414;\n      if (args.length &gt; 0 &amp;&amp; (args.length % 2) == 0)\n      {\n         for (int i = 0; i &lt; args.length; i += 2)\n         {\n            params.put(args[i], args[i + 1]);\n         }\n      }\n      else\n      {\n         throw new IllegalArgumentException();\n      }\n\n      if (allParamsPresent())\n      {\n         try\n         {\n            port = Integer.parseInt((String) params.get(&quot;-p&quot;));\n         }\n         catch (NumberFormatException e)\n         {\n            port = 1414;\n         }\n         \n         mqht.put(CMQC.CHANNEL_PROPERTY, params.get(&quot;-c&quot;));\n         mqht.put(CMQC.HOST_NAME_PROPERTY, params.get(&quot;-h&quot;));\n         mqht.put(CMQC.PORT_PROPERTY, new Integer(port));\n         mqht.put(CMQC.USER_ID_PROPERTY, params.get(&quot;-u&quot;));\n         mqht.put(CMQC.PASSWORD_PROPERTY, params.get(&quot;-x&quot;));\n\n         // I don't want to see MQ exceptions at the console.\n         MQException.log = null;\n      }\n      else\n      {\n         throw new IllegalArgumentException();\n      }\n   }\n   \n   /**\n    * Handle connecting to the queue manager, issuing PCF command then \n    * looping through PCF response messages and disconnecting from \n    * the queue manager. \n    */\n   private void doPCF()\n   {\n      String qMgrName = (String) params.get(&quot;-m&quot;);\n      String qName    = (String) params.get(&quot;-q&quot;);\n\n      MQQueueManager qMgr = null;\n      PCFMessageAgent agent = null;\n      PCFMessage   request = null;\n      \n      try\n      {\n         qMgr = new MQQueueManager(qMgrName, mqht);\n         logger(&quot;successfully connected to &quot;+ qMgrName);\n\n         agent = new PCFMessageAgent(qMgr);\n         logger(&quot;successfully created agent&quot;);\n      \n         // https://www.ibm.com/docs/en/ibm-mq/latest?topic=formats-change-copy-create-queue\n         \n         request = new PCFMessage(MQConstants.MQCMD_CREATE_Q);\n\n         // Specify the queue name to be created.\n         request.addParameter(MQConstants.MQCA_Q_NAME, qName);\n         \n         // Add parameter to request local queue\n         request.addParameter(MQConstants.MQIA_Q_TYPE, MQConstants.MQQT_LOCAL);\n         \n         // Add parameter to set the max message length to be 10MB\n         request.addParameter(MQConstants.MQIA_MAX_MSG_LENGTH, 10 * 1024 * 1024);\n         \n         // Add parameter to set the max queue depth to be 12,345\n         request.addParameter(MQConstants.MQIA_MAX_Q_DEPTH, 12345);\n\n         agent.send(request);\n         \n         logger(&quot;successfully created queue: &quot; + qName);\n      }\n      catch (PCFException pcfe) \n      {\n         if (pcfe.reasonCode == MQConstants.MQRCCF_OBJECT_ALREADY_EXISTS) \n            logger(&quot;Error: The queue '&quot; + qName+ &quot;' already exists on the queue manager '&quot; + qMgrName + &quot;'.&quot;);\n         else\n            logger(&quot;CC=&quot; +pcfe.completionCode +  &quot; [&quot; + MQConstants.lookupCompCode(pcfe.completionCode) + &quot;] : RC=&quot; + pcfe.reasonCode + &quot; [&quot;+MQConstants.lookupReasonCode(pcfe.reasonCode)+&quot;]&quot;);\n       }\n\n      catch (MQException e)\n      {\n         logger(&quot;CC=&quot; +e.completionCode +  &quot; [&quot; + MQConstants.lookupCompCode(e.completionCode) + &quot;] : RC=&quot; + e.reasonCode + &quot; [&quot;+MQConstants.lookupReasonCode(e.reasonCode)+&quot;]&quot;);\n      }\n      catch (IOException e)\n      {\n         logger(&quot;IOException:&quot; +e.getLocalizedMessage());\n      }\n      catch (MQDataException e)\n      {\n         logger(&quot;MQDataException:&quot; +e.getLocalizedMessage());\n      }\n      catch (Exception e)\n      {\n         logger(&quot;Exception:&quot; +e.getLocalizedMessage());\n      }\n      finally\n      {\n         try\n         {\n            if (agent != null)\n            {\n               agent.disconnect();\n               logger(&quot;disconnected from agent&quot;);\n            }\n         }\n         catch (MQDataException e)\n         {\n            logger(&quot;CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\n         }\n\n         try\n         {\n            if (qMgr != null)\n            {\n               qMgr.disconnect();\n               logger(&quot;disconnected from &quot;+ qMgrName);\n            }\n         }\n         catch (MQException e)\n         {\n            logger(&quot;CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\n         }\n      }\n   }\n\n   /**\n    * A simple logger method\n    * @param data\n    */\n   public static void logger(String data)\n   {\n      String className = Thread.currentThread().getStackTrace()[2].getClassName();\n\n      // Remove the package info.\n      if ( (className != null) &amp;&amp; (className.lastIndexOf('.') != -1) )\n         className = className.substring(className.lastIndexOf('.')+1);\n\n      System.out.println(LOGGER_TIMESTAMP.format(new Date())+&quot; &quot;+className+&quot;: &quot;+Thread.currentThread().getStackTrace()[2].getMethodName()+&quot;: &quot;+data);\n   }\n\n   public static void main(String[] args)\n   {\n      MQCreateQueue01 mqlqs = new MQCreateQueue01();\n      \n      try\n      {\n         mqlqs.init(args);\n         mqlqs.doPCF();\n      }\n      catch (IllegalArgumentException e)\n      {\n         logger(&quot;Usage: java MQCreateQueue01 -m QueueManagerName -q Queue_Name -h host -p port -c channel -u UserID -x Password&quot;);\n         System.exit(1);\n      }\n\n      System.exit(0);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":12078268,"reputation":205,"user_id":8830948,"display_name":"konrado"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651696628,"creation_date":1650972837,"question_id":72013219,"body_markdown":"I wanted to create IBM queues from REST endpoint as described in documentation https://www.ibm.com/docs/en/ibm-mq/9.1?topic=applications-creating-destinations-in-jms-application\r\n\r\nIBM version - 9.1.0.5\r\n\r\nQueue Manager is started and listener is running\r\n\r\nApplication and IBM server are on the same host\r\n\r\nAuthorization is turned off on the server side\r\n\r\nConnection and session is successfully created but the problem is that I&#39;m not able to create queue directly in the server (queue is not listed in /var/mqm/qmgrs/QMGR/queues). In the application I see that the object with expected fields is created but it&#39;s not propagated to WebSphere. There is no error in AMQERR01.LOG.\r\n\r\nDo you know what could be wrong with my configuration?\r\n\r\nDo I need to use PCF to accomplish this?\r\n\r\nI was trying a lot of ways to create queue (some examples below):\r\n\r\n        MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\r\n        mqQueueConnectionFactory.setQueueManager(&quot;QMGR&quot;);\r\n        mqQueueConnectionFactory.setHostName(&quot;X.X.X.X&quot;);\r\n        mqQueueConnectionFactory.setChannel(&quot;CHANNEL.X&quot;);\r\n        mqQueueConnectionFactory.setTransportType(com.ibm.mq.jms.JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\r\n        QueueConnection queueConnection = mqQueueConnectionFactory.createQueueConnection();\r\n        QueueSession queueSession = queueConnection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n        queueSession.createQueue(name);\r\n    ----------------------------------------------------------------------------------------\r\n        JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\r\n        JmsConnectionFactory cf = ff.createConnectionFactory();\r\n        cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;X.X.X.X&quot;);\r\n        cf.setIntProperty(WMQConstants.WMQ_PORT, 1414);\r\n        cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;CHANNEL.X&quot;);\r\n        cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\r\n        cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;QMGR&quot;);\r\n        cf.setStringProperty(WMQConstants.WMQ_APPLICATIONNAME, &quot;MQ provider&quot;);\r\n        cf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\r\n        JMSContext context = cf.createContext();\r\n        Destination destination = context.createQueue(&quot;queue:///&quot; + name);\r\n        System.out.println(destination.toString());\r\n\r\n\r\nI was able to achieve this functionality with python pymqi libray but I need to do it in Java:\r\n\r\n    import pymqi\r\n    from flask import Flask\r\n    \r\n    app = Flask(__name__)\r\n    HOST = &#39;X.X.X.X&#39;\r\n    PORT = &#39;1414&#39;\r\n    CONN_INFO = &#39;%s(%s)&#39; % (HOST, PORT)\r\n    QUEUE_MANAGER = &#39;QMGR&#39;\r\n    \r\n    \r\n    @app.route(&#39;/queue/&lt;string:channel_name&gt;/&lt;string:queue_name&gt;&#39;)\r\n    def create_queue(channel_name, queue_name):\r\n        queue_type = pymqi.CMQC.MQQT_LOCAL\r\n        max_depth = 123456\r\n    \r\n        args = {pymqi.CMQC.MQCA_Q_NAME: queue_name.encode(&#39;ascii&#39;),\r\n                        pymqi.CMQC.MQIA_Q_TYPE: queue_type,\r\n                        pymqi.CMQC.MQIA_MAX_Q_DEPTH: max_depth}\r\n    \r\n        qmgr = pymqi.connect(QUEUE_MANAGER, channel_name.encode(&#39;ascii&#39;), CONN_INFO)\r\n    \r\n        pcf = pymqi.PCFExecute(qmgr)\r\n        pcf.MQCMD_CREATE_Q(args)\r\n    \r\n        qmgr.disconnect()\r\n        return &quot;OK&quot;\r\n    \r\n    app.run(host=&#39;0.0.0.0&#39;, port=8080)","title":"Cannot create queue from Websphere JMS API","body":"<p>I wanted to create IBM queues from REST endpoint as described in documentation <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.1?topic=applications-creating-destinations-in-jms-application\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.1?topic=applications-creating-destinations-in-jms-application</a></p>\n<p>IBM version - 9.1.0.5</p>\n<p>Queue Manager is started and listener is running</p>\n<p>Application and IBM server are on the same host</p>\n<p>Authorization is turned off on the server side</p>\n<p>Connection and session is successfully created but the problem is that I'm not able to create queue directly in the server (queue is not listed in /var/mqm/qmgrs/QMGR/queues). In the application I see that the object with expected fields is created but it's not propagated to WebSphere. There is no error in AMQERR01.LOG.</p>\n<p>Do you know what could be wrong with my configuration?</p>\n<p>Do I need to use PCF to accomplish this?</p>\n<p>I was trying a lot of ways to create queue (some examples below):</p>\n<pre><code>    MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\n    mqQueueConnectionFactory.setQueueManager(&quot;QMGR&quot;);\n    mqQueueConnectionFactory.setHostName(&quot;X.X.X.X&quot;);\n    mqQueueConnectionFactory.setChannel(&quot;CHANNEL.X&quot;);\n    mqQueueConnectionFactory.setTransportType(com.ibm.mq.jms.JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\n    QueueConnection queueConnection = mqQueueConnectionFactory.createQueueConnection();\n    QueueSession queueSession = queueConnection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n    queueSession.createQueue(name);\n----------------------------------------------------------------------------------------\n    JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\n    JmsConnectionFactory cf = ff.createConnectionFactory();\n    cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;X.X.X.X&quot;);\n    cf.setIntProperty(WMQConstants.WMQ_PORT, 1414);\n    cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;CHANNEL.X&quot;);\n    cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\n    cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;QMGR&quot;);\n    cf.setStringProperty(WMQConstants.WMQ_APPLICATIONNAME, &quot;MQ provider&quot;);\n    cf.setBooleanProperty(WMQConstants.USER_AUTHENTICATION_MQCSP, false);\n    JMSContext context = cf.createContext();\n    Destination destination = context.createQueue(&quot;queue:///&quot; + name);\n    System.out.println(destination.toString());\n</code></pre>\n<p>I was able to achieve this functionality with python pymqi libray but I need to do it in Java:</p>\n<pre><code>import pymqi\nfrom flask import Flask\n\napp = Flask(__name__)\nHOST = 'X.X.X.X'\nPORT = '1414'\nCONN_INFO = '%s(%s)' % (HOST, PORT)\nQUEUE_MANAGER = 'QMGR'\n\n\n@app.route('/queue/&lt;string:channel_name&gt;/&lt;string:queue_name&gt;')\ndef create_queue(channel_name, queue_name):\n    queue_type = pymqi.CMQC.MQQT_LOCAL\n    max_depth = 123456\n\n    args = {pymqi.CMQC.MQCA_Q_NAME: queue_name.encode('ascii'),\n                    pymqi.CMQC.MQIA_Q_TYPE: queue_type,\n                    pymqi.CMQC.MQIA_MAX_Q_DEPTH: max_depth}\n\n    qmgr = pymqi.connect(QUEUE_MANAGER, channel_name.encode('ascii'), CONN_INFO)\n\n    pcf = pymqi.PCFExecute(qmgr)\n    pcf.MQCMD_CREATE_Q(args)\n\n    qmgr.disconnect()\n    return &quot;OK&quot;\n\napp.run(host='0.0.0.0', port=8080)\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651499108,"post_id":72087616,"comment_id":127372223,"body_markdown":"The maven entry in settings has a checkbox for downloading sources automatically.","body":"The maven entry in settings has a checkbox for downloading sources automatically."},{"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"score":0,"creation_date":1651561965,"post_id":72087616,"comment_id":127386902,"body_markdown":"No I am not looking to automate it. I am looking for independent way of doing this manually.","body":"No I am not looking to automate it. I am looking for independent way of doing this manually."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1651562244,"post_id":72087616,"comment_id":127386983,"body_markdown":"That doesn’t make sense.  IntelliJ has a manual and an automatic way. You don’t like any of them?","body":"That doesn’t make sense.  IntelliJ has a manual and an automatic way. You don’t like any of them?"}],"answers":[{"tags":[],"owner":{"account_id":16380562,"reputation":882,"user_id":11831707,"display_name":"ekalin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651696103,"creation_date":1651696103,"answer_id":72119123,"question_id":72087616,"body_markdown":"You can set the `includeArtifactIds` property of maven dependency plugin to donwload only one jar:\r\n```sh\r\nmvn dependency:sources -DincludeArtifactIds=commons-lang3\r\n```\r\n\r\nYou cannot download a single class at a time. When you use &quot;Download sources&quot; in IntelliJ, it downloads the complete sources for that jar.\r\n\r\nThere are more options for dependency:sources, see https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html.","title":"What is the command line equivalent for Intellij Download sources option?","body":"<p>You can set the <code>includeArtifactIds</code> property of maven dependency plugin to donwload only one jar:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn dependency:sources -DincludeArtifactIds=commons-lang3\n</code></pre>\n<p>You cannot download a single class at a time. When you use &quot;Download sources&quot; in IntelliJ, it downloads the complete sources for that jar.</p>\n<p>There are more options for dependency:sources, see <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/sources-mojo.html</a>.</p>\n"}],"owner":{"account_id":24182486,"reputation":91,"user_id":18142927,"display_name":"u4963840"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72119123,"answer_count":1,"score":0,"last_activity_date":1651696103,"creation_date":1651498998,"question_id":72087616,"body_markdown":"When I view a decompiled class file from maven project in Intellij it has Download Sources button at the top.\r\n\r\nWhat is the command line equivalent of this button? I know there is a command `mvn dependency:sources` but it downloads sources for everything which makes Intellij/my web app lag so much that it is not practical for everyday use. How can I get source just for that one class and make Intellij show it instead of decompiled code?","title":"What is the command line equivalent for Intellij Download sources option?","body":"<p>When I view a decompiled class file from maven project in Intellij it has Download Sources button at the top.</p>\n<p>What is the command line equivalent of this button? I know there is a command <code>mvn dependency:sources</code> but it downloads sources for everything which makes Intellij/my web app lag so much that it is not practical for everyday use. How can I get source just for that one class and make Intellij show it instead of decompiled code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1651658800,"post_id":72111132,"comment_id":127413793,"body_markdown":"I think you may want to start the count at 0, not 1. Also, you may simply split the line by space and the take the length of the array to have the number of words (considering though that you&#39;re doing the strong assumption that each word is separated by a single space - it may be more by mistake, it may be a punctuation sign...)","body":"I think you may want to start the count at 0, not 1. Also, you may simply split the line by space and the take the length of the array to have the number of words (considering though that you&#39;re doing the strong assumption that each word is separated by a single space - it may be more by mistake, it may be a punctuation sign...)"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1651658852,"post_id":72111132,"comment_id":127413818,"body_markdown":"Else, if you want to preserve the overall number of words, simply declare the counter outside the while loop so it doesn&#39;t get re-initialized at each loop iteration.","body":"Else, if you want to preserve the overall number of words, simply declare the counter outside the while loop so it doesn&#39;t get re-initialized at each loop iteration."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1651661781,"post_id":72111132,"comment_id":127414813,"body_markdown":"You have to declare `count` before the outer loop and print the result after the outer loop. But that’s all unnecessary anyway, as you’re already using a `Scanner` which can do the job if you just ask it in the first place, instead of asking it for lines you’re actually not interested in. `int count = 0; try(Scanner myReader = new Scanner(myobj)) { while(myReader.hasNext()) { String word = myReader.next(); count++; } } System.out.println(count + &quot; words&quot;);` Note that this uses [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) for closing.","body":"You have to declare <code>count</code> before the outer loop and print the result after the outer loop. But that’s all unnecessary anyway, as you’re already using a <code>Scanner</code> which can do the job if you just ask it in the first place, instead of asking it for lines you’re actually not interested in. <code>int count = 0; try(Scanner myReader = new Scanner(myobj)) { while(myReader.hasNext()) { String word = myReader.next(); count++; } } System.out.println(count + &quot; words&quot;);</code> Note that this uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> for closing."}],"answers":[{"tags":[],"owner":{"account_id":20399488,"reputation":56,"user_id":14965558,"display_name":"Montaser Majid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651695500,"creation_date":1651659081,"answer_id":72111242,"question_id":72111132,"body_markdown":"Use a global variable to store totalCount of words.\r\n\r\n    \r\n    import java.io.File;//import file class\r\n    import java.io.IOException;//import file class to handle errors\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class readingfromafile {\r\n        public static void main(String[] args) {\r\n            {\r\n                try {\r\n                    File myobj = new File(&quot;C:\\\\Users\\\\cse21-037\\\\Documents\\\\assighnment java\\\\100 words\\\\brain drain.txt&quot;);\r\n                    Scanner myReader = new Scanner(myobj);\r\n                    int totalCount = 0;\r\n                    while (myReader.hasNextLine()) {\r\n                        String data = myReader.nextLine();\r\n                        System.out.println(data);\r\n    \r\n                        int count = 1;\r\n                        for (int i = 0; i &lt; data.length() - 1; i++) {\r\n                            if ((data.charAt(i) == &#39; &#39;) &amp;&amp; (data.charAt(i + 1) != &#39; &#39;)) {\r\n                                count++;\r\n                            }\r\n                        }\r\n                        totalCount = totalCount + count;\r\n                        System.out.println(count);\r\n                    }\r\n                    System.out.println(totalCount);\r\n                } catch (FileNotFoundException e) {\r\n                    System.out.println(&quot;error 404&quot;);\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIt should work. ","title":"how do i count words in a text file using java","body":"<p>Use a global variable to store totalCount of words.</p>\n<pre><code>import java.io.File;//import file class\nimport java.io.IOException;//import file class to handle errors\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class readingfromafile {\n    public static void main(String[] args) {\n        {\n            try {\n                File myobj = new File(&quot;C:\\\\Users\\\\cse21-037\\\\Documents\\\\assighnment java\\\\100 words\\\\brain drain.txt&quot;);\n                Scanner myReader = new Scanner(myobj);\n                int totalCount = 0;\n                while (myReader.hasNextLine()) {\n                    String data = myReader.nextLine();\n                    System.out.println(data);\n\n                    int count = 1;\n                    for (int i = 0; i &lt; data.length() - 1; i++) {\n                        if ((data.charAt(i) == ' ') &amp;&amp; (data.charAt(i + 1) != ' ')) {\n                            count++;\n                        }\n                    }\n                    totalCount = totalCount + count;\n                    System.out.println(count);\n                }\n                System.out.println(totalCount);\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;error 404&quot;);\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>It should work.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651659398,"creation_date":1651659398,"answer_id":72111324,"question_id":72111132,"body_markdown":"I&#39;d do it like this:\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class FileWordCounter {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \t\tfinal String fileName = args != null &amp;&amp; args.length &gt; 0 ? args[0] : &quot;/test/file&quot;;\r\n    \t\tfinal String text = Files.readString(Paths.get(fileName));\r\n    \t\tfinal String[] parts = text.split(&quot;\\\\W+&quot;); // use \\\\s+ to split whole words, use \\\\W+ to exclude non-word characters\r\n    \t\tSystem.out.println(&quot;Got parts:\\t&quot; + parts.length);\r\n    \r\n    \t\tSystem.out.println(&quot;Counting words...&quot;);\r\n    \t\tlong counter = 0;\r\n    \t\tfor (final String part : parts) {\r\n    \t\t\tif (part != null &amp;&amp; part.trim().length() &gt; 0) {\r\n    \t\t\t\tSystem.out.println(&quot;\\t[&quot; + part + &quot;]&quot;);\r\n    \t\t\t\t++counter;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Counted words:\\t&quot; + counter);\r\n    \t\tSystem.out.println(&quot;All done.&quot;);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"how do i count words in a text file using java","body":"<p>I'd do it like this:</p>\n<pre><code>package stackoverflow;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class FileWordCounter {\n\n\n\n    public static void main(final String[] args) throws IOException {\n        final String fileName = args != null &amp;&amp; args.length &gt; 0 ? args[0] : &quot;/test/file&quot;;\n        final String text = Files.readString(Paths.get(fileName));\n        final String[] parts = text.split(&quot;\\\\W+&quot;); // use \\\\s+ to split whole words, use \\\\W+ to exclude non-word characters\n        System.out.println(&quot;Got parts:\\t&quot; + parts.length);\n\n        System.out.println(&quot;Counting words...&quot;);\n        long counter = 0;\n        for (final String part : parts) {\n            if (part != null &amp;&amp; part.trim().length() &gt; 0) {\n                System.out.println(&quot;\\t[&quot; + part + &quot;]&quot;);\n                ++counter;\n            }\n        }\n        System.out.println(&quot;Counted words:\\t&quot; + counter);\n        System.out.println(&quot;All done.&quot;);\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":25125063,"reputation":61,"user_id":18972953,"display_name":"Kaylin Heru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651695500,"creation_date":1651658576,"question_id":72111132,"body_markdown":"I&#39;m trying to count the total of words in a file but java is giving the total of words per line. because I&#39;m using .hasNextLine()   it doesn&#39;t calculate the total of the lines no matter how I try it.is there a way to tell java to total each line and return the value of total word of the lines\r\n\r\n\r\n    import java.io.File;//import file class\r\n    import java.io.IOException;//import file class to handle errors\r\n    import java.util.Scanner;\r\n    import java.io.FileNotFoundException;\r\n\r\n    public class readingfromafile {\r\n    public static void main(String []args) {\r\n    {\r\n     try{\r\n     File myobj = new File(&quot;C:\\\\Users\\\\cse21-037\\\\Documents\\\\assighnment java\\\\100 words\\\\brain drain.txt&quot;);\r\n     Scanner myReader  = new Scanner(myobj);\r\n      while (myReader.hasNextLine()) {\r\n      String data = myReader.nextLine();\r\n      System.out.println(data);\r\n     \r\n      \r\n            int count = 1;\r\n             for (int i = 0; i &lt; data.length() - 1; i++)\r\n            {\r\n                if ((data.charAt(i) == &#39; &#39;) &amp;&amp; (data.charAt(i + 1) != &#39; &#39;))\r\n                {\r\n                    count++;\r\n                }\r\n            }\r\n                    \r\n            System.out.println(count);\r\n            \r\n        }\r\n\r\n      }\r\n     \r\n      catch (FileNotFoundException e) {\r\n      System.out.println(&quot;error 404&quot;);\r\n      e.printStackTrace();\r\n      }\r\n      }\r\n      }\r\n      }\r\n      \r\n\r\n\r\n\r\n","title":"how do i count words in a text file using java","body":"<p>I'm trying to count the total of words in a file but java is giving the total of words per line. because I'm using .hasNextLine()   it doesn't calculate the total of the lines no matter how I try it.is there a way to tell java to total each line and return the value of total word of the lines</p>\n<pre><code>import java.io.File;//import file class\nimport java.io.IOException;//import file class to handle errors\nimport java.util.Scanner;\nimport java.io.FileNotFoundException;\n\npublic class readingfromafile {\npublic static void main(String []args) {\n{\n try{\n File myobj = new File(&quot;C:\\\\Users\\\\cse21-037\\\\Documents\\\\assighnment java\\\\100 words\\\\brain drain.txt&quot;);\n Scanner myReader  = new Scanner(myobj);\n  while (myReader.hasNextLine()) {\n  String data = myReader.nextLine();\n  System.out.println(data);\n \n  \n        int count = 1;\n         for (int i = 0; i &lt; data.length() - 1; i++)\n        {\n            if ((data.charAt(i) == ' ') &amp;&amp; (data.charAt(i + 1) != ' '))\n            {\n                count++;\n            }\n        }\n                \n        System.out.println(count);\n        \n    }\n\n  }\n \n  catch (FileNotFoundException e) {\n  System.out.println(&quot;error 404&quot;);\n  e.printStackTrace();\n  }\n  }\n  }\n  }\n  \n</code></pre>\n"},{"tags":["java","rx-java","rx-java3"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651695234,"creation_date":1651695234,"answer_id":72118955,"question_id":72106619,"body_markdown":"Option 2) is the most straightforward. Option 4 would require more cleverness in coding an `Observable`.\r\n\r\n```java\r\nConcurrentMap&lt;Integer, Observer&lt;Event&gt;&gt; observers = ...\r\n\r\nvoid signal(Event event) {\r\n   var observer = observers.get(event.userId);\r\n   if (observer != null) {\r\n       observer.onNext(event);\r\n   }\r\n}\r\n\r\nObservable&lt;Event&gt; observeUser(int userId) {\r\n    return Observable.unsafeCreate(observer -&gt; {\r\n        var remove = Disposable.fromAction(() -&gt; observers.remove(userId));\r\n        subscriber.onSubscribe(remove);\r\n        observers.put(userId, observer);\r\n    });\r\n}\r\n```","title":"RxJava subscribe only for specific key","body":"<p>Option 2) is the most straightforward. Option 4 would require more cleverness in coding an <code>Observable</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConcurrentMap&lt;Integer, Observer&lt;Event&gt;&gt; observers = ...\n\nvoid signal(Event event) {\n   var observer = observers.get(event.userId);\n   if (observer != null) {\n       observer.onNext(event);\n   }\n}\n\nObservable&lt;Event&gt; observeUser(int userId) {\n    return Observable.unsafeCreate(observer -&gt; {\n        var remove = Disposable.fromAction(() -&gt; observers.remove(userId));\n        subscriber.onSubscribe(remove);\n        observers.put(userId, observer);\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":13763286,"reputation":383,"user_id":10528516,"display_name":"minizibi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72118955,"answer_count":1,"score":0,"last_activity_date":1651695234,"creation_date":1651622578,"question_id":72106619,"body_markdown":"I&#39;m receiving an infinite stream of events, lets say `Observable&lt;Event&gt;` where `Event(userId, payload)`. I have to provide functionality which allows subscribing users for their events. `Observable&lt;Event&gt;` is a hot source, but it doesn&#39;t matter as I can drop events if there are no interested users on it. I&#39;m trying to do it in pure streaming fashion using RxJava API but it seems difficult for me. What did I try:\r\n  \r\n 1. Do it with the least effort, using built-in operators.\r\n```java\r\n   Observable&lt;Event&gt; events =; //;\r\n   events = events.publish().refCount();\r\n        \r\n   Observable&lt;Event&gt; subscribeUser(int userId) {\r\n       return events.filter(it -&gt; it.userId == userId);\r\n   }\r\n```\r\nWorks great, the problem is its just slow for my case - I don&#39;t need multicast to all subscribers and then filter if it not belongs to any user. Imagine there is tens of thousands users and 1000 events per second - O(n) complexity is too much for me - I need some hashing i think.\r\n\r\n 2. `PublishSubject`\r\n```java\r\n ConcurrentHashMap&lt;Integer, PublishSubject&lt;Event&gt;&gt; subscriptions = new ConcurrentHashMap&lt;&gt;();\r\n Observable&lt;Event&gt; events =; //\r\n events.subscribe(event -&gt; /*pushing on user subject*/);\r\n\r\n Observable&lt;Event&gt; subscribeUser(int userId) {\r\n    return subscriptions.putIfAbsent(userId, PublishSubject.create())\r\n   .doOnTerminate(() -&gt; subscriptions.remove(userId))\r\n }\r\n```\r\nThis requires more coding (much more than in example above) for managing subscriptions, it&#39;s not pure streaming also `PublishSubject` is designed for multiple subscribers so it takes a little more space for internal arrays which I don&#39;t need, because I have only exactly one user per subject.\r\n\r\n3. `groupBy()` operator\r\nI can group events by userId producing `GroupedObservable` streams, then I can just `.ignoreElements()` until there is no subscription but I don&#39;t know how can I connect these two together. On one side I have hot `Observable` stream of `GroupedObservable&lt;Integer, Event&gt;` and then incoming `Observable&lt;Event&gt; subscribeUser(int userId)` request. How can I say: &quot;hey, from now don&#39;t drop elements because there is someone interested on it&quot; and return `GroupedObservable` as response for request?\r\n \r\n4. custom `Observable`\r\n\r\nProblem here is `Observable.create(subscriber -&gt; )` subscriber doesn&#39;t have information about its key (userId) - I also have no control over `subscribe()` method so I cannot pass there my custom implementation and retrieve key after casting or somehow. It&#39;s also bad because I need to manage state by myself.\r\n\r\n5. `lift()` with custom operator \r\nSimilar problems to 4, even worse because I have no control over creating `Observable` here so I need to also prevent multiple connections to source ","title":"RxJava subscribe only for specific key","body":"<p>I'm receiving an infinite stream of events, lets say <code>Observable&lt;Event&gt;</code> where <code>Event(userId, payload)</code>. I have to provide functionality which allows subscribing users for their events. <code>Observable&lt;Event&gt;</code> is a hot source, but it doesn't matter as I can drop events if there are no interested users on it. I'm trying to do it in pure streaming fashion using RxJava API but it seems difficult for me. What did I try:</p>\n<ol>\n<li>Do it with the least effort, using built-in operators.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   Observable&lt;Event&gt; events =; //;\n   events = events.publish().refCount();\n        \n   Observable&lt;Event&gt; subscribeUser(int userId) {\n       return events.filter(it -&gt; it.userId == userId);\n   }\n</code></pre>\n<p>Works great, the problem is its just slow for my case - I don't need multicast to all subscribers and then filter if it not belongs to any user. Imagine there is tens of thousands users and 1000 events per second - O(n) complexity is too much for me - I need some hashing i think.</p>\n<ol start=\"2\">\n<li><code>PublishSubject</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code> ConcurrentHashMap&lt;Integer, PublishSubject&lt;Event&gt;&gt; subscriptions = new ConcurrentHashMap&lt;&gt;();\n Observable&lt;Event&gt; events =; //\n events.subscribe(event -&gt; /*pushing on user subject*/);\n\n Observable&lt;Event&gt; subscribeUser(int userId) {\n    return subscriptions.putIfAbsent(userId, PublishSubject.create())\n   .doOnTerminate(() -&gt; subscriptions.remove(userId))\n }\n</code></pre>\n<p>This requires more coding (much more than in example above) for managing subscriptions, it's not pure streaming also <code>PublishSubject</code> is designed for multiple subscribers so it takes a little more space for internal arrays which I don't need, because I have only exactly one user per subject.</p>\n<ol start=\"3\">\n<li><p><code>groupBy()</code> operator\nI can group events by userId producing <code>GroupedObservable</code> streams, then I can just <code>.ignoreElements()</code> until there is no subscription but I don't know how can I connect these two together. On one side I have hot <code>Observable</code> stream of <code>GroupedObservable&lt;Integer, Event&gt;</code> and then incoming <code>Observable&lt;Event&gt; subscribeUser(int userId)</code> request. How can I say: &quot;hey, from now don't drop elements because there is someone interested on it&quot; and return <code>GroupedObservable</code> as response for request?</p>\n</li>\n<li><p>custom <code>Observable</code></p>\n</li>\n</ol>\n<p>Problem here is <code>Observable.create(subscriber -&gt; )</code> subscriber doesn't have information about its key (userId) - I also have no control over <code>subscribe()</code> method so I cannot pass there my custom implementation and retrieve key after casting or somehow. It's also bad because I need to manage state by myself.</p>\n<ol start=\"5\">\n<li><code>lift()</code> with custom operator\nSimilar problems to 4, even worse because I have no control over creating <code>Observable</code> here so I need to also prevent multiple connections to source</li>\n</ol>\n"},{"tags":["java","function","return","mergesort"],"answers":[{"tags":[],"owner":{"account_id":25184340,"reputation":221,"user_id":19025436,"display_name":"Ocasin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651692841,"creation_date":1651692107,"answer_id":72118413,"question_id":72118316,"body_markdown":"Just add an `else` below the if-statement in your `mergeSort`-method and return your `wordList`:\r\n```java\r\nelse{\r\n return wordList;\r\n}\r\n```\r\nWhen the `wordList`-parameter has a lenght smaller than 2, you don&#39;t need to sort it, so you can just return it in the `else`-branch (An array with length 0 or 1 is already sorted).","title":"How can I return the result of a function outside its if statement?","body":"<p>Just add an <code>else</code> below the if-statement in your <code>mergeSort</code>-method and return your <code>wordList</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>else{\n return wordList;\n}\n</code></pre>\n<p>When the <code>wordList</code>-parameter has a lenght smaller than 2, you don't need to sort it, so you can just return it in the <code>else</code>-branch (An array with length 0 or 1 is already sorted).</p>\n"},{"tags":[],"owner":{"account_id":25197442,"reputation":21,"user_id":19036770,"display_name":"Shadow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651695022,"creation_date":1651695022,"answer_id":72118918,"question_id":72118316,"body_markdown":"If the code flow reaches outside of the if condition loop, then it indicates that the array has only one element or no elements at all. Reason being, the inner if statement has a return statement, so method call always return from that statement if there are two or more elements in the array. So, you can simply add a return statement to return wordList outside the if loop.\r\n  \r\n\r\n    {\r\n             \r\n      if(...)\r\n      {\r\n          ...\r\n          return ... ;\r\n      }\r\n      return wordList ;\r\n    }","title":"How can I return the result of a function outside its if statement?","body":"<p>If the code flow reaches outside of the if condition loop, then it indicates that the array has only one element or no elements at all. Reason being, the inner if statement has a return statement, so method call always return from that statement if there are two or more elements in the array. So, you can simply add a return statement to return wordList outside the if loop.</p>\n<pre><code>{\n         \n  if(...)\n  {\n      ...\n      return ... ;\n  }\n  return wordList ;\n}\n</code></pre>\n"}],"owner":{"account_id":23582648,"reputation":11,"user_id":17621482,"display_name":"luk3953"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1651695022,"creation_date":1651691552,"question_id":72118316,"body_markdown":"I am trying to construct a merge sort that will then return the sorted list as a String[], but the result has to be returned outside of the if statement, and I&#39;m not sure how to go around doing that.\r\n\r\n    public static String[] mergeSort(String[] wordList)  {\r\n        if (wordList.length &gt;= 2) {\r\n            String[] left = new String[wordList.length / 2];\r\n            String[] right = new String[wordList.length - wordList.length / 2];\r\n\r\n            for (int i = 0; i &lt; left.length; i++) {\r\n                left[i] = wordList[i];\r\n            }\r\n\r\n            for (int i = 0; i &lt; right.length; i++) {\r\n                right[i] = wordList[i + wordList.length / 2];\r\n            }\r\n\r\n            mergeSort(left);\r\n            mergeSort(right);\r\n            return merge(wordList, left, right);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    public static String[] merge(String[] wordList, String[] left, String[] right) {\r\n        int a = 0;\r\n        int b = 0;\r\n        for (int i = 0; i &lt; wordList.length; i++) {\r\n            if (b &gt;= right.length || (a &lt; left.length &amp;&amp; left[a].compareToIgnoreCase(right[b]) &lt; 0)) {\r\n                wordList[i] = left[a];\r\n                a++;\r\n            } else {\r\n                wordList[i] = right[b];\r\n                b++;\r\n            }\r\n        }\r\n        return wordList;\r\n    }\r\n\r\nThe code obviously doesn&#39;t work because the return is inside the if statement. Is there any simple way to extract the merge result?","title":"How can I return the result of a function outside its if statement?","body":"<p>I am trying to construct a merge sort that will then return the sorted list as a String[], but the result has to be returned outside of the if statement, and I'm not sure how to go around doing that.</p>\n<pre><code>public static String[] mergeSort(String[] wordList)  {\n    if (wordList.length &gt;= 2) {\n        String[] left = new String[wordList.length / 2];\n        String[] right = new String[wordList.length - wordList.length / 2];\n\n        for (int i = 0; i &lt; left.length; i++) {\n            left[i] = wordList[i];\n        }\n\n        for (int i = 0; i &lt; right.length; i++) {\n            right[i] = wordList[i + wordList.length / 2];\n        }\n\n        mergeSort(left);\n        mergeSort(right);\n        return merge(wordList, left, right);\n        \n    }\n    \n}\n\npublic static String[] merge(String[] wordList, String[] left, String[] right) {\n    int a = 0;\n    int b = 0;\n    for (int i = 0; i &lt; wordList.length; i++) {\n        if (b &gt;= right.length || (a &lt; left.length &amp;&amp; left[a].compareToIgnoreCase(right[b]) &lt; 0)) {\n            wordList[i] = left[a];\n            a++;\n        } else {\n            wordList[i] = right[b];\n            b++;\n        }\n    }\n    return wordList;\n}\n</code></pre>\n<p>The code obviously doesn't work because the return is inside the if statement. Is there any simple way to extract the merge result?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8617,"page":1375,"page_size":100}
