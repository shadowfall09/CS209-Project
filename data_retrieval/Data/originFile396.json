{"items":[{"tags":["java","gwt","fullcalendar","domino-ui","nalu"],"comments":[{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1685620039,"post_id":76380894,"comment_id":134687199,"body_markdown":"When you modify events, are you storing them anywhere else except just in fullCalendar? You would need to save them somewhere, such as in a database.","body":"When you modify events, are you storing them anywhere else except just in fullCalendar? You would need to save them somewhere, such as in a database."},{"owner":{"account_id":28726679,"reputation":11,"user_id":21999397,"display_name":"Lo&#239;c LEPRIEUR"},"score":0,"creation_date":1685621445,"post_id":76380894,"comment_id":134687530,"body_markdown":"They are saved in a database, I have server actions dealing with this matter but the issue there isn&#39;t about saving events or retrieving them from the DB but rather rerendering the calendar with the events. This behavior works when switching from a week to another or by clicking on a date in the small calendar then the main calendar refreshes with the expected events.","body":"They are saved in a database, I have server actions dealing with this matter but the issue there isn&#39;t about saving events or retrieving them from the DB but rather rerendering the calendar with the events. This behavior works when switching from a week to another or by clicking on a date in the small calendar then the main calendar refreshes with the expected events."},{"owner":{"account_id":28726679,"reputation":11,"user_id":21999397,"display_name":"Lo&#239;c LEPRIEUR"},"score":0,"creation_date":1685622422,"post_id":76380894,"comment_id":134687780,"body_markdown":"I guess the issue comes from my implementation of the popup : there has to be something messing with the refresh when it closes","body":"I guess the issue comes from my implementation of the popup : there has to be something messing with the refresh when it closes"},{"owner":{"account_id":28726679,"reputation":11,"user_id":21999397,"display_name":"Lo&#239;c LEPRIEUR"},"score":0,"creation_date":1685623668,"post_id":76380894,"comment_id":134688110,"body_markdown":"@ADyson I&#39;ve added a GIF in my post to show you what&#39;s happening","body":"@ADyson I&#39;ve added a GIF in my post to show you what&#39;s happening"}],"answers":[{"tags":[],"owner":{"account_id":28726679,"reputation":11,"user_id":21999397,"display_name":"Lo&#239;c LEPRIEUR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685717647,"creation_date":1685717647,"answer_id":76391234,"question_id":76380894,"body_markdown":"Solved my issue by loading the events in a callback and refetching them in my refreshCalendar method :\r\n\r\n    @Override\r\n    public void refreshCalendar() {\r\n\r\n        if (lastModifiedEvent != null)\r\n            \r\n            moveToLastEventModifiedDate();\r\n\r\n        else\r\n        \r\n            mainCalendar.refetchEvents();         \r\n    }\r\n    \r\n    /**\r\n     * Use the last modified event to move the calendar to its begin date\r\n     * then fetch the events to load them again in the calendar component \r\n     */\r\n    public void moveToLastEventModifiedDate() {\r\n        \r\n        Date eventDate = lastModifiedEvent.getBeginDate();\r\n        JsDate jsEventDate = new JsDate(1900 + eventDate.getYear(), eventDate.getMonth(), eventDate.getDate());\r\n        \r\n        Date previousMonday = DateUtils.getPreviousMonday(eventDate);\r\n        Date nextMonday = DateUtils.getNextMonday(eventDate);\r\n\r\n        JsDate jsDateBegin = new JsDate(1900 + previousMonday.getYear(), previousMonday.getMonth(), previousMonday.getDate());\r\n        JsDate jsDateEnd = new JsDate(1900 + nextMonday.getYear(), nextMonday.getMonth(), nextMonday.getDate());\r\n\r\n        mainCalendar.gotoDate(jsEventDate);\r\n        smallCalendar.select(jsEventDate);\r\n\r\n        FcEventFetchInfo info = new FcEventFetchInfo();\r\n        info.start = jsDateBegin;\r\n        info.end = jsDateEnd;\r\n        \r\n        this.getController().onEventNeedMain(info, success -&gt; {\r\n            mainCalendar.setOption(&quot;events&quot;, fcOnEventNeed);\r\n            mainCalendar.refetchEvents();\r\n            \r\n        }, failure -&gt; {\r\n            \r\n            ErrorManager.displayServerError(&quot;event.list&quot;, failure.message, getController().getEventBus());\r\n        });\r\n\r\n        lastModifiedEvent = null;\r\n    }","title":"FullCalendar in GWT : How to refresh calendar while keeping events","body":"<p>Solved my issue by loading the events in a callback and refetching them in my refreshCalendar method :</p>\n<pre><code>@Override\npublic void refreshCalendar() {\n\n    if (lastModifiedEvent != null)\n        \n        moveToLastEventModifiedDate();\n\n    else\n    \n        mainCalendar.refetchEvents();         \n}\n\n/**\n * Use the last modified event to move the calendar to its begin date\n * then fetch the events to load them again in the calendar component \n */\npublic void moveToLastEventModifiedDate() {\n    \n    Date eventDate = lastModifiedEvent.getBeginDate();\n    JsDate jsEventDate = new JsDate(1900 + eventDate.getYear(), eventDate.getMonth(), eventDate.getDate());\n    \n    Date previousMonday = DateUtils.getPreviousMonday(eventDate);\n    Date nextMonday = DateUtils.getNextMonday(eventDate);\n\n    JsDate jsDateBegin = new JsDate(1900 + previousMonday.getYear(), previousMonday.getMonth(), previousMonday.getDate());\n    JsDate jsDateEnd = new JsDate(1900 + nextMonday.getYear(), nextMonday.getMonth(), nextMonday.getDate());\n\n    mainCalendar.gotoDate(jsEventDate);\n    smallCalendar.select(jsEventDate);\n\n    FcEventFetchInfo info = new FcEventFetchInfo();\n    info.start = jsDateBegin;\n    info.end = jsDateEnd;\n    \n    this.getController().onEventNeedMain(info, success -&gt; {\n        mainCalendar.setOption(&quot;events&quot;, fcOnEventNeed);\n        mainCalendar.refetchEvents();\n        \n    }, failure -&gt; {\n        \n        ErrorManager.displayServerError(&quot;event.list&quot;, failure.message, getController().getEventBus());\n    });\n\n    lastModifiedEvent = null;\n}\n</code></pre>\n"}],"owner":{"account_id":28726679,"reputation":11,"user_id":21999397,"display_name":"Lo&#239;c LEPRIEUR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76391234,"answer_count":1,"score":1,"last_activity_date":1685717647,"creation_date":1685614745,"question_id":76380894,"body_markdown":"I&#39;m working on a GWT application using [Domino/UI](https://github.com/DominoKit/domino-ui), [Nalukit][2] and the Javascript plugin FullCalendar v6.\r\nI made a custom popup to modify and delete an event but when I validate the form, my calendar refreshes and all the event in my week view disappear.\r\n\r\n[Demo of the app running][1]\r\n\r\nI used the native function `gotoDate` to change to view of the calendar to the event&#39;s modified date.\r\n\r\nHere&#39;s a sample from my controller&#39;s `render` and `refreshCalendar` methods :\r\n\r\n\r\n```\r\n    @Override\r\n    public void render() {\r\n\r\n        // Styling related lines omitted\r\n\r\n        FcOptionOverrides mainOptions = new FcOptionOverrides();\r\n        mainOptions.locale = &quot;fr&quot;;\r\n        mainOptions.initialView = &quot;timeGridWeek&quot;;\r\n        mainOptions.views = new FcViewOptions();\r\n        mainOptions.views.timeGridWeek = new FcView();\r\n        mainOptions.views.timeGridWeek.weekends = true;\r\n        mainOptions.views.timeGridWeek.slotMinTime = &quot;07:00:00&quot;;\r\n        mainOptions.views.timeGridWeek.slotMaxTime = &quot;22:00:00&quot;;\r\n        mainOptions.eventSources = new FcEventSources();\r\n        mainOptions.eventSources.events = this.getController()::onEventNeedMain;\r\n        mainOptions.datesSet = this::onDatesSet;\r\n        \r\n        mainOptions.eventDidMount = this::onEventDidMount;\r\n        mainOptions.dateClick = this::onBigCalendarDateClick;\r\n\r\n        mainCalendar = new FcCalendar(mainAgendaContainer, mainOptions);\r\n\r\n        FcOptionOverrides smallOptions = new FcOptionOverrides();\r\n        smallOptions.locale = &quot;fr&quot;;\r\n        smallOptions.initialView = &quot;dayGridMonth&quot;;\r\n        smallOptions.height = &quot;330px&quot;;\r\n        smallOptions.aspectRatio = 1.0f;\r\n        smallOptions.eventSources = new FcEventSources();\r\n        smallOptions.eventSources.events = this.getController()::onEventNeedSmall;\r\n\r\n        smallOptions.dateClick = this::onSmallCalendarDateClick;\r\n\r\n        smallCalendar = new FcCalendar(smallAgendaContainer, smallOptions);\r\n\r\n        // radio button for displaying week-ends\r\n        RayflexRadio displayWeekendRadio = new RayflexRadio(&quot;weekends&quot;, &quot;Week-ends&quot;, &quot;Afficher&quot;, &quot;Masquer&quot;);\r\n        displayWeekendRadio.style(&quot;position:absolute; top:18px; right:230px;&quot;);\r\n        displayWeekendRadio.addChangeHandler(event -&gt; {\r\n\r\n            if (displayWeekendRadio.getValue()) {\r\n\r\n                DominoElement.of(mainAgendaContainer).removeCss(RxResource.INSTANCE.gss().calendar_main_no_weekends());\r\n                DominoElement.of(mainAgendaContainer).css(RxResource.INSTANCE.gss().calendar_main());\r\n\r\n            } else {\r\n\r\n                DominoElement.of(mainAgendaContainer).removeCss(RxResource.INSTANCE.gss().calendar_main());\r\n                DominoElement.of(mainAgendaContainer).css(RxResource.INSTANCE.gss().calendar_main_no_weekends());\r\n\r\n            }\r\n            displayWeekEnds = displayWeekendRadio.getValue();\r\n            refreshCalendar();\r\n\r\n        });\r\n\r\n        displayWeekendRadio.setValue(displayWeekEnds);\r\n\r\n        card.getBody().appendChild(displayWeekendRadio.element());\r\n\r\n        initElement(card.element());\r\n    }\r\n\r\n @Override\r\n    public void refreshCalendar() {\r\n\r\n        if (lastModifiedEvent != null) {\r\n            \r\n            Date beginDate = lastModifiedEvent.getBeginDate();\r\n            JsDate jsDate = new JsDate(1900 + beginDate.getYear(), beginDate.getMonth(), beginDate.getDate());\r\n\r\n            mainCalendar.gotoDate(jsDate);\r\n            smallCalendar.gotoDate(jsDate);\r\n        }\r\n        \r\n        mainCalendar.refetchEvents();\r\n    }\r\n```\r\n\r\nHere&#39;s my wrapper class for FullCalendar&#39;s JS functions :\r\n\r\n\r\n```\r\npackage com.alara.rayflex.ui.client.calendar;\r\n\r\nimport elemental2.core.JsDate;\r\nimport elemental2.dom.Element;\r\nimport jsinterop.annotations.JsType;\r\n\r\n@JsType(isNative = true, namespace = &quot;FullCalendar&quot;, name=&quot;Calendar&quot;)\r\npublic class FcCalendar {\r\n\r\n    public FcCalendar(Element root) {}\r\n    \r\n    public FcCalendar(Element root, FcOptionOverrides optionOverrides) {}\r\n    \r\n    public native void render();\r\n    public native void updateSize();\r\n    \r\n    public native void gotoDate(JsDate start);\r\n    public native JsDate getDate();\r\n    \r\n    public native void setOption(String name, String value);\r\n    public native void setOption(String name, int value);\r\n    \r\n    public native void select(JsDate date);\r\n    \r\n    public native void refetchEvents();\r\n    \r\n    public native void addEventSource(FcOnEventNeed needEvent);\r\n    \r\n    public native void changeView(String viewName, JsDate dateOrRange);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried to force the native javascript functions `refetchEvents` with `gotoDate` but I got the same result. Then I tried using `addEventSource` to restore my events but still no success there.\r\n\r\nI&#39;m expecting to rerender my calendar with the events of the week which the event has been modified.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1ieU.gif\r\n  [2]: https://github.com/NaluKit/nalu","title":"FullCalendar in GWT : How to refresh calendar while keeping events","body":"<p>I'm working on a GWT application using <a href=\"https://github.com/DominoKit/domino-ui\" rel=\"nofollow noreferrer\">Domino/UI</a>, <a href=\"https://github.com/NaluKit/nalu\" rel=\"nofollow noreferrer\">Nalukit</a> and the Javascript plugin FullCalendar v6.\nI made a custom popup to modify and delete an event but when I validate the form, my calendar refreshes and all the event in my week view disappear.</p>\n<p><a href=\"https://i.stack.imgur.com/I1ieU.gif\" rel=\"nofollow noreferrer\">Demo of the app running</a></p>\n<p>I used the native function <code>gotoDate</code> to change to view of the calendar to the event's modified date.</p>\n<p>Here's a sample from my controller's <code>render</code> and <code>refreshCalendar</code> methods :</p>\n<pre><code>    @Override\n    public void render() {\n\n        // Styling related lines omitted\n\n        FcOptionOverrides mainOptions = new FcOptionOverrides();\n        mainOptions.locale = &quot;fr&quot;;\n        mainOptions.initialView = &quot;timeGridWeek&quot;;\n        mainOptions.views = new FcViewOptions();\n        mainOptions.views.timeGridWeek = new FcView();\n        mainOptions.views.timeGridWeek.weekends = true;\n        mainOptions.views.timeGridWeek.slotMinTime = &quot;07:00:00&quot;;\n        mainOptions.views.timeGridWeek.slotMaxTime = &quot;22:00:00&quot;;\n        mainOptions.eventSources = new FcEventSources();\n        mainOptions.eventSources.events = this.getController()::onEventNeedMain;\n        mainOptions.datesSet = this::onDatesSet;\n        \n        mainOptions.eventDidMount = this::onEventDidMount;\n        mainOptions.dateClick = this::onBigCalendarDateClick;\n\n        mainCalendar = new FcCalendar(mainAgendaContainer, mainOptions);\n\n        FcOptionOverrides smallOptions = new FcOptionOverrides();\n        smallOptions.locale = &quot;fr&quot;;\n        smallOptions.initialView = &quot;dayGridMonth&quot;;\n        smallOptions.height = &quot;330px&quot;;\n        smallOptions.aspectRatio = 1.0f;\n        smallOptions.eventSources = new FcEventSources();\n        smallOptions.eventSources.events = this.getController()::onEventNeedSmall;\n\n        smallOptions.dateClick = this::onSmallCalendarDateClick;\n\n        smallCalendar = new FcCalendar(smallAgendaContainer, smallOptions);\n\n        // radio button for displaying week-ends\n        RayflexRadio displayWeekendRadio = new RayflexRadio(&quot;weekends&quot;, &quot;Week-ends&quot;, &quot;Afficher&quot;, &quot;Masquer&quot;);\n        displayWeekendRadio.style(&quot;position:absolute; top:18px; right:230px;&quot;);\n        displayWeekendRadio.addChangeHandler(event -&gt; {\n\n            if (displayWeekendRadio.getValue()) {\n\n                DominoElement.of(mainAgendaContainer).removeCss(RxResource.INSTANCE.gss().calendar_main_no_weekends());\n                DominoElement.of(mainAgendaContainer).css(RxResource.INSTANCE.gss().calendar_main());\n\n            } else {\n\n                DominoElement.of(mainAgendaContainer).removeCss(RxResource.INSTANCE.gss().calendar_main());\n                DominoElement.of(mainAgendaContainer).css(RxResource.INSTANCE.gss().calendar_main_no_weekends());\n\n            }\n            displayWeekEnds = displayWeekendRadio.getValue();\n            refreshCalendar();\n\n        });\n\n        displayWeekendRadio.setValue(displayWeekEnds);\n\n        card.getBody().appendChild(displayWeekendRadio.element());\n\n        initElement(card.element());\n    }\n\n @Override\n    public void refreshCalendar() {\n\n        if (lastModifiedEvent != null) {\n            \n            Date beginDate = lastModifiedEvent.getBeginDate();\n            JsDate jsDate = new JsDate(1900 + beginDate.getYear(), beginDate.getMonth(), beginDate.getDate());\n\n            mainCalendar.gotoDate(jsDate);\n            smallCalendar.gotoDate(jsDate);\n        }\n        \n        mainCalendar.refetchEvents();\n    }\n</code></pre>\n<p>Here's my wrapper class for FullCalendar's JS functions :</p>\n<pre><code>package com.alara.rayflex.ui.client.calendar;\n\nimport elemental2.core.JsDate;\nimport elemental2.dom.Element;\nimport jsinterop.annotations.JsType;\n\n@JsType(isNative = true, namespace = &quot;FullCalendar&quot;, name=&quot;Calendar&quot;)\npublic class FcCalendar {\n\n    public FcCalendar(Element root) {}\n    \n    public FcCalendar(Element root, FcOptionOverrides optionOverrides) {}\n    \n    public native void render();\n    public native void updateSize();\n    \n    public native void gotoDate(JsDate start);\n    public native JsDate getDate();\n    \n    public native void setOption(String name, String value);\n    public native void setOption(String name, int value);\n    \n    public native void select(JsDate date);\n    \n    public native void refetchEvents();\n    \n    public native void addEventSource(FcOnEventNeed needEvent);\n    \n    public native void changeView(String viewName, JsDate dateOrRange);\n}\n\n</code></pre>\n<p>I tried to force the native javascript functions <code>refetchEvents</code> with <code>gotoDate</code> but I got the same result. Then I tried using <code>addEventSource</code> to restore my events but still no success there.</p>\n<p>I'm expecting to rerender my calendar with the events of the week which the event has been modified.</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685717615,"creation_date":1685716912,"question_id":76391146,"body_markdown":"I have an `Organization` entity:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Organization implements Serializable {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;,     allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @JoinColumn(name=&quot;organization_id&quot;, nullable = false)\r\n    @OneToMany\r\n    private List&lt;Identifier&gt; identifiers;\r\n    }\r\n\r\nAnd `Identifier` entity: \r\n\r\n    @Data\r\n    @Entity\r\n    public class Identifier implements Serializable {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;id_sequence_identifier&quot;, sequenceName = &quot;my_id_sequence_identifier&quot;, allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence_identifier&quot;)\r\n    private Long id;\r\n    private String system;\r\n    private String value;\r\n    }\r\n\r\nI need to implement endpoint which will set//remove one-to-many relation between the two `Organization` and `Identifier` entities.\r\n\r\nI am thinking about implementing a separate endpoint for this, which will accept IDs of `Organization` &amp; `Identifier` and set remove a relation between them.\r\nHere&#39;s the `RelationshipController` code:\r\n\r\n\r\n    @Slf4j\r\n    @Validated\r\n    @RequestMapping(&quot;/relationships&quot;)\r\n    @RestController\r\n    public class RelationshipController {\r\n\r\n    private final StudentService studentService;\r\n\r\n    public RelationshipController(StudentService studentService) {\r\n        this.studentService = studentService;\r\n    }\r\n\r\n    @PostMapping\r\n    public void setRelationship(@Valid @RequestBody RelationshipDTO relationshipDTO) {\r\n        studentService.setRelationship(relationshipDTO);\r\n    }\r\n    }\r\n\r\n`RelationshipDTO`: \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    @Table(name = &quot;course_student&quot;)\r\n    @Entity\r\n    @IdClass(Relationship.RelationshipId.class)\r\n    public class Relationship implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;organization_id&quot;)\r\n    private Long organizationId;\r\n\r\n    @Id\r\n    @Column(name = &quot;identifier_id&quot;)\r\n    private Long identifierId;\r\n\r\n    @Data\r\n    public static class RelationshipId implements Serializable {\r\n        private Long studentId;\r\n\r\n        private Long courseId;\r\n    }\r\n    }\r\n\r\nBut what&#39;s the best practices for the tasks like this?\r\n","title":"What is the recommended way of setting relations/associations (one-to-many/one-to-one/many-to-many) between entities in REST?","body":"<p>I have an <code>Organization</code> entity:</p>\n<pre><code>@Data\n@Entity\npublic class Organization implements Serializable {\n@Id\n@SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;,     allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\nprivate Long id;\nprivate String name;\n\n@JoinColumn(name=&quot;organization_id&quot;, nullable = false)\n@OneToMany\nprivate List&lt;Identifier&gt; identifiers;\n}\n</code></pre>\n<p>And <code>Identifier</code> entity:</p>\n<pre><code>@Data\n@Entity\npublic class Identifier implements Serializable {\n@Id\n@SequenceGenerator(name = &quot;id_sequence_identifier&quot;, sequenceName = &quot;my_id_sequence_identifier&quot;, allocationSize = 1)\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence_identifier&quot;)\nprivate Long id;\nprivate String system;\nprivate String value;\n}\n</code></pre>\n<p>I need to implement endpoint which will set//remove one-to-many relation between the two <code>Organization</code> and <code>Identifier</code> entities.</p>\n<p>I am thinking about implementing a separate endpoint for this, which will accept IDs of <code>Organization</code> &amp; <code>Identifier</code> and set remove a relation between them.\nHere's the <code>RelationshipController</code> code:</p>\n<pre><code>@Slf4j\n@Validated\n@RequestMapping(&quot;/relationships&quot;)\n@RestController\npublic class RelationshipController {\n\nprivate final StudentService studentService;\n\npublic RelationshipController(StudentService studentService) {\n    this.studentService = studentService;\n}\n\n@PostMapping\npublic void setRelationship(@Valid @RequestBody RelationshipDTO relationshipDTO) {\n    studentService.setRelationship(relationshipDTO);\n}\n}\n</code></pre>\n<p><code>RelationshipDTO</code>:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table(name = &quot;course_student&quot;)\n@Entity\n@IdClass(Relationship.RelationshipId.class)\npublic class Relationship implements Serializable {\n\n@Id\n@Column(name = &quot;organization_id&quot;)\nprivate Long organizationId;\n\n@Id\n@Column(name = &quot;identifier_id&quot;)\nprivate Long identifierId;\n\n@Data\npublic static class RelationshipId implements Serializable {\n    private Long studentId;\n\n    private Long courseId;\n}\n}\n</code></pre>\n<p>But what's the best practices for the tasks like this?</p>\n"},{"tags":["java","tomcat","windows-services","registry","tomcat10"],"answers":[{"tags":[],"owner":{"account_id":4561506,"reputation":160,"user_id":3703715,"display_name":"stevetu21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685717264,"creation_date":1685717264,"answer_id":76391184,"question_id":74820425,"body_markdown":"Not sure with sc.exe, but if you&#39;re open to using PowerShell, here&#39;s what worked for me. My use case was to add a -javaagent, but can be easily adapted to whatever your use case is. It does so in an idempotent manner.\r\n\r\n    $path = &#39;HKLM:\\SOFTWARE\\WOW6432Node\\Apache Software Foundation\\Procrun 2.0\\Tomcat*\\Parameters\\Java&#39;\r\n    $name = &#39;Options&#39;\r\n    $appendString = &#39;-javaagent:C:\\path\\to\\agent.jar&#39;\r\n    $currentValue = Get-ItemPropertyValue -Path $path -Name $name\r\n    $newValue = $currentValue -notlike &quot;*$appendString*&quot; + $appendString\r\n    Set-ItemProperty -Path $path -Name $name -Value $newValue\r\n    # Double check\r\n    Get-ItemPropertyValue -Path $path -Name $name","title":"How to programmatically UPDATE the Windows Registry values for Tomcat?","body":"<p>Not sure with sc.exe, but if you're open to using PowerShell, here's what worked for me. My use case was to add a -javaagent, but can be easily adapted to whatever your use case is. It does so in an idempotent manner.</p>\n<pre><code>$path = 'HKLM:\\SOFTWARE\\WOW6432Node\\Apache Software Foundation\\Procrun 2.0\\Tomcat*\\Parameters\\Java'\n$name = 'Options'\n$appendString = '-javaagent:C:\\path\\to\\agent.jar'\n$currentValue = Get-ItemPropertyValue -Path $path -Name $name\n$newValue = $currentValue -notlike &quot;*$appendString*&quot; + $appendString\nSet-ItemProperty -Path $path -Name $name -Value $newValue\n# Double check\nGet-ItemPropertyValue -Path $path -Name $name\n</code></pre>\n"}],"owner":{"account_id":2194060,"reputation":1,"user_id":19312263,"display_name":"TestUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685717264,"creation_date":1671167467,"question_id":74820425,"body_markdown":"Tomcat JvmMs option is added under below Windows registry entry for a Windows Tomcat service called &quot;MyService&quot;\r\n\r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\Apache Software Foundation\\Procrun 2.0\\MyService\\Parameters\\Java\r\n\r\nI want to be able to programmatically edit the JVM Options added under above registry location. For eg lets say  was set to value XX during service install and now i want to update it to YY later (Programmatically).\r\n\r\nHow can i use windows [SC command][1]? How should my command look like? Any example?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/sc-config","title":"How to programmatically UPDATE the Windows Registry values for Tomcat?","body":"<p>Tomcat JvmMs option is added under below Windows registry entry for a Windows Tomcat service called &quot;MyService&quot;</p>\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\Apache Software Foundation\\Procrun 2.0\\MyService\\Parameters\\Java\n</code></pre>\n<p>I want to be able to programmatically edit the JVM Options added under above registry location. For eg lets say  was set to value XX during service install and now i want to update it to YY later (Programmatically).</p>\n<p>How can i use windows <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/sc-config\" rel=\"nofollow noreferrer\">SC command</a>? How should my command look like? Any example?</p>\n"},{"tags":["java","slf4j","fork-join","mdc"],"answers":[{"comments":[{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1458268925,"post_id":36052240,"comment_id":59796153,"body_markdown":"Ceki, I was asking for an automatic way for tasks to inherit the MDC of the thread that queued them. The problem with option 1 is that users often forget to inherit the MDC manually. The problem with options 2 and 3 is that MDC values are expected to come from the queuing thread, not from the executing thread. A single executing thread will run multiple tasks, each with potentially different MDC values. I hope this explains what I had in mind. Thanks anyway.","body":"Ceki, I was asking for an automatic way for tasks to inherit the MDC of the thread that queued them. The problem with option 1 is that users often forget to inherit the MDC manually. The problem with options 2 and 3 is that MDC values are expected to come from the queuing thread, not from the executing thread. A single executing thread will run multiple tasks, each with potentially different MDC values. I hope this explains what I had in mind. Thanks anyway."},{"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"score":0,"creation_date":1519328072,"post_id":36052240,"comment_id":84878190,"body_markdown":"Regarding you comment:\nItem 1: It has to be some custom `ForkJoinTask` implementation. As you cannot achieve injecting MDC context into, for instance,  `CompletableFuture$AsyncRun`.\nItem 2: You can extend `ForkJoinPool`, but MDC context shouldn&#39;t be passed once threads are created, but when new tasks are added to the worker queue. As same threads are being reused to handle multiple tasks.\nItem 3: Not a viable solution, as you will be setting MDC context for a thread that is constructed once, but handles multiple tasks.","body":"Regarding you comment: Item 1: It has to be some custom <code>ForkJoinTask</code> implementation. As you cannot achieve injecting MDC context into, for instance,  <code>CompletableFuture$AsyncRun</code>. Item 2: You can extend <code>ForkJoinPool</code>, but MDC context shouldn&#39;t be passed once threads are created, but when new tasks are added to the worker queue. As same threads are being reused to handle multiple tasks. Item 3: Not a viable solution, as you will be setting MDC context for a thread that is constructed once, but handles multiple tasks."}],"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458193203,"creation_date":1458192075,"answer_id":36052240,"question_id":36026402,"body_markdown":"I am unfamiliar with `ForkJoinPool` but you can pass the MDC key/values of interest to the `ForkJoinTask` instances that you instantiate before submitting them to the `ForkJoinPool`. \r\n\r\nGiven that as of logback version 1.1.5, MDC values are **not** inherited by child threads, there are not too many options. They are\r\n\r\n 1. pass the relevant MDC key/values to `ForkJoinTask` instances as you instantiate them\r\n 2. extend `ForkJoinPool` so that MDC  key/values are passed to the newly created threads\r\n 3. create your own ThreadFactory which sets MDC key/values to newly created threads\r\n\r\nPlease note that I have not actually implemented either options 2. or 3. ","title":"How to use MDC with ForkJoinPool?","body":"<p>I am unfamiliar with <code>ForkJoinPool</code> but you can pass the MDC key/values of interest to the <code>ForkJoinTask</code> instances that you instantiate before submitting them to the <code>ForkJoinPool</code>. </p>\n\n<p>Given that as of logback version 1.1.5, MDC values are <strong>not</strong> inherited by child threads, there are not too many options. They are</p>\n\n<ol>\n<li>pass the relevant MDC key/values to <code>ForkJoinTask</code> instances as you instantiate them</li>\n<li>extend <code>ForkJoinPool</code> so that MDC  key/values are passed to the newly created threads</li>\n<li>create your own ThreadFactory which sets MDC key/values to newly created threads</li>\n</ol>\n\n<p>Please note that I have not actually implemented either options 2. or 3. </p>\n"},{"comments":[{"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"score":1,"creation_date":1519323109,"post_id":36075149,"comment_id":84875501,"body_markdown":"Is there a way to override default `ForkJoinPool` implementation with the custom one like you posted? \nI do not want to inject my own executor service into every `CompletableFuture` async call.","body":"Is there a way to override default <code>ForkJoinPool</code> implementation with the custom one like you posted?  I do not want to inject my own executor service into every <code>CompletableFuture</code> async call."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1519323782,"post_id":36075149,"comment_id":84875815,"body_markdown":"@IhorM. Not that I&#39;m aware of.","body":"@IhorM. Not that I&#39;m aware of."},{"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"score":1,"creation_date":1519327506,"post_id":36075149,"comment_id":84877909,"body_markdown":"I can override a `ForkJoinWorkerThreadFactory` with my own for `ForkJoinPool`, but apparently it is not enough, b/c I set MDC context on a thread, but it looks like that thread object is not being recycled once new task arrives (tasks are being added to the worker queue and `ForkJoinWorkerThread` processes one at a time). So, I need to set/unset MDC context for the `ForkJoinTask` instead of `ForkJoinWorkerThread`","body":"I can override a <code>ForkJoinWorkerThreadFactory</code> with my own for <code>ForkJoinPool</code>, but apparently it is not enough, b/c I set MDC context on a thread, but it looks like that thread object is not being recycled once new task arrives (tasks are being added to the worker queue and <code>ForkJoinWorkerThread</code> processes one at a time). So, I need to set/unset MDC context for the <code>ForkJoinTask</code> instead of <code>ForkJoinWorkerThread</code>"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1519327725,"post_id":36075149,"comment_id":84878043,"body_markdown":"@IhorM. Did you apply *all* of the pieces in the above answer? Specifically, `MdcForkJoinPool` wraps your tasks and sets the MDC before/after each execution.","body":"@IhorM. Did you apply <i>all</i> of the pieces in the above answer? Specifically, <code>MdcForkJoinPool</code> wraps your tasks and sets the MDC before/after each execution."},{"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"score":0,"creation_date":1519328179,"post_id":36075149,"comment_id":84878243,"body_markdown":"No, I just wanted to get away with overriding `ForkJoinWorkerThreadFactory` only, but I do not think my approach will work. I trust that your suggestion will work as you have control over task&#39;s life cycle.","body":"No, I just wanted to get away with overriding <code>ForkJoinWorkerThreadFactory</code> only, but I do not think my approach will work. I trust that your suggestion will work as you have control over task&#39;s life cycle."},{"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"score":1,"creation_date":1519336124,"post_id":36075149,"comment_id":84882518,"body_markdown":"@Gill question: why don&#39;t you override `submit()` methods of `ForkJoinPool`?","body":"@Gill question: why don&#39;t you override <code>submit()</code> methods of <code>ForkJoinPool</code>?"},{"owner":{"account_id":51141,"reputation":807,"user_id":152723,"display_name":"Ben L."},"score":0,"creation_date":1528815766,"post_id":36075149,"comment_id":88645872,"body_markdown":"@Gili - I added some details (including a test to show that it&#39;s working) if you wanted to update your answer. I didn&#39;t edit directly because I wanted to make sure you agreed with the changes.","body":"@Gili - I added some details (including a test to show that it&#39;s working) if you wanted to update your answer. I didn&#39;t edit directly because I wanted to make sure you agreed with the changes."},{"owner":{"account_id":3657942,"reputation":551,"user_id":3048443,"accept_rate":70,"display_name":"Akhil"},"score":0,"creation_date":1543318116,"post_id":36075149,"comment_id":93866425,"body_markdown":"@Gili I am trying to use the solution in parallelStream using customer ForkjoinPool but requestId is only populated in initial thread. More details here: https://stackoverflow.com/questions/52840346/mdc-context-getting-copied-to-only-one-thread-of-forkjoinpool","body":"@Gili I am trying to use the solution in parallelStream using customer ForkjoinPool but requestId is only populated in initial thread. More details here: <a href=\"https://stackoverflow.com/questions/52840346/mdc-context-getting-copied-to-only-one-thread-of-forkjoinpool\" title=\"mdc context getting copied to only one thread of forkjoinpool\">stackoverflow.com/questions/52840346/&hellip;</a>"},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1567510343,"post_id":36075149,"comment_id":101976706,"body_markdown":"How one makes use of MdcCountedCompleter ? Is there a way to tell Java Parallel streams to use it ? E.g. if I use IntStream.range(0, 2).parallel().sum() then it will use ReduceTask that extends the java.util.concurrent.CountedCompleter and I see no way to replace it.","body":"How one makes use of MdcCountedCompleter ? Is there a way to tell Java Parallel streams to use it ? E.g. if I use IntStream.range(0, 2).parallel().sum() then it will use ReduceTask that extends the java.util.concurrent.CountedCompleter and I see no way to replace it."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1567603689,"post_id":36075149,"comment_id":102012119,"body_markdown":"@martin-g `MdcCountedCompleter` is used the same way you would use `CountedCompleter`. If you figure out how to use the latter, you can use the former.","body":"@martin-g <code>MdcCountedCompleter</code> is used the same way you would use <code>CountedCompleter</code>. If you figure out how to use the latter, you can use the former."},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1567664401,"post_id":36075149,"comment_id":102031336,"body_markdown":"This answer does not help at all! :-)","body":"This answer does not help at all! :-)"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1567739313,"post_id":36075149,"comment_id":102061475,"body_markdown":"@martin-g Sorry, to clarify: you don&#39;t have to use `MdcCountedCompleter` at all. You should be using `MdcForkJoinPool` with whatever class you were using to schedule tasks on the pool. In my particular case, I wanted to use `CountedCompleter` on top of a `ForkJoinPool` without losing MDC values. `MdcCountedCompleter` reflects the changes I had to make to accomplish this. If you are using a different class, you will have to modify it in a similar manner: (1) backup `MDC` before executing your task (2) update `MDC` to the correct value (3) restores `MDC` to the original value before returning.","body":"@martin-g Sorry, to clarify: you don&#39;t have to use <code>MdcCountedCompleter</code> at all. You should be using <code>MdcForkJoinPool</code> with whatever class you were using to schedule tasks on the pool. In my particular case, I wanted to use <code>CountedCompleter</code> on top of a <code>ForkJoinPool</code> without losing MDC values. <code>MdcCountedCompleter</code> reflects the changes I had to make to accomplish this. If you are using a different class, you will have to modify it in a similar manner: (1) backup <code>MDC</code> before executing your task (2) update <code>MDC</code> to the correct value (3) restores <code>MDC</code> to the original value before returning."},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":1,"creation_date":1567892020,"post_id":36075149,"comment_id":102103406,"body_markdown":"@Gili I use `new MdcFJPool().submit(() -&gt; IntStream.range(1, 10).parallel().peek(() -&gt; System.out.println(Thread.currentThread().getName() + &quot; mdc: &quot; + MDC.get(&quot;blah&quot;))).sum())`. The first FJ worker thread has the MDC value but because `.sum()` uses `ReduceTask` that extends `AbstractTask` &gt; `CountedCompleter` all other threads do NOT have the MDC values. I see no way to plug `MdcCountedCompleter` here.","body":"@Gili I use <code>new MdcFJPool().submit(() -&gt; IntStream.range(1, 10).parallel().peek(() -&gt; System.out.println(Thread.currentThread().getName() + &quot; mdc: &quot; + MDC.get(&quot;blah&quot;))).sum())</code>. The first FJ worker thread has the MDC value but because <code>.sum()</code> uses <code>ReduceTask</code> that extends <code>AbstractTask</code> &gt; <code>CountedCompleter</code> all other threads do NOT have the MDC values. I see no way to plug <code>MdcCountedCompleter</code> here."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1567899127,"post_id":36075149,"comment_id":102104401,"body_markdown":"@martin-g My answer assumes that you control the implementation running on the fork-join pool. If you do not, you are out of luck... Sorry I could not be of more help.","body":"@martin-g My answer assumes that you control the implementation running on the fork-join pool. If you do not, you are out of luck... Sorry I could not be of more help."},{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1666622908,"post_id":36075149,"comment_id":130975020,"body_markdown":"@martin-g I have the same problem. The first thread has the MDC values, but the other threads have an empty MDC context. Have you found a solution for this problem?","body":"@martin-g I have the same problem. The first thread has the MDC values, but the other threads have an empty MDC context. Have you found a solution for this problem?"}],"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":15,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1464402920,"creation_date":1458268450,"answer_id":36075149,"question_id":36026402,"body_markdown":"The following seems to work for me:\r\n\r\n    import java.lang.Thread.UncaughtExceptionHandler;\r\n    import java.util.Map;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.ForkJoinTask;\r\n    import java.util.concurrent.atomic.AtomicReference;\r\n    import org.slf4j.MDC;\r\n    \r\n    /**\r\n     * A {@link ForkJoinPool} that inherits MDC contexts from the thread that queues a task.\r\n     *\r\n     * @author Gili Tzabari\r\n     */\r\n    public final class MdcForkJoinPool extends ForkJoinPool\r\n    {\r\n    \t/**\r\n    \t * Creates a new MdcForkJoinPool.\r\n    \t *\r\n    \t * @param parallelism the parallelism level. For default value, use {@link java.lang.Runtime#availableProcessors}.\r\n    \t * @param factory     the factory for creating new threads. For default value, use\r\n    \t *                    {@link #defaultForkJoinWorkerThreadFactory}.\r\n    \t * @param handler     the handler for internal worker threads that terminate due to unrecoverable errors encountered\r\n    \t *                    while executing tasks. For default value, use {@code null}.\r\n    \t * @param asyncMode   if true, establishes local first-in-first-out scheduling mode for forked tasks that are never\r\n    \t *                    joined. This mode may be more appropriate than default locally stack-based mode in applications\r\n    \t *                    in which worker threads only process event-style asynchronous tasks. For default value, use\r\n    \t *                    {@code false}.\r\n    \t * @throws IllegalArgumentException if parallelism less than or equal to zero, or greater than implementation limit\r\n    \t * @throws NullPointerException     if the factory is null\r\n    \t * @throws SecurityException        if a security manager exists and the caller is not permitted to modify threads\r\n    \t *                                  because it does not hold\r\n    \t *                                  {@link java.lang.RuntimePermission}{@code (&quot;modifyThread&quot;)}\r\n    \t */\r\n    \tpublic MdcForkJoinPool(int parallelism, ForkJoinWorkerThreadFactory factory, UncaughtExceptionHandler handler,\r\n    \t\tboolean asyncMode)\r\n    \t{\r\n    \t\tsuper(parallelism, factory, handler, asyncMode);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void execute(ForkJoinTask&lt;?&gt; task)\r\n    \t{\r\n    \t\t// See http://stackoverflow.com/a/19329668/14731\r\n    \t\tsuper.execute(wrap(task, MDC.getCopyOfContextMap()));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void execute(Runnable task)\r\n    \t{\r\n    \t\t// See http://stackoverflow.com/a/19329668/14731\r\n    \t\tsuper.execute(wrap(task, MDC.getCopyOfContextMap()));\r\n    \t}\r\n    \r\n    \tprivate &lt;T&gt; ForkJoinTask&lt;T&gt; wrap(ForkJoinTask&lt;T&gt; task, Map&lt;String, String&gt; newContext)\r\n    \t{\r\n    \t\treturn new ForkJoinTask&lt;T&gt;()\r\n    \t\t{\r\n    \t\t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t\t/**\r\n    \t\t\t * If non-null, overrides the value returned by the underlying task.\r\n    \t\t\t */\r\n    \t\t\tprivate final AtomicReference&lt;T&gt; override = new AtomicReference&lt;&gt;();\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic T getRawResult()\r\n    \t\t\t{\r\n    \t\t\t\tT result = override.get();\r\n    \t\t\t\tif (result != null)\r\n    \t\t\t\t\treturn result;\r\n    \t\t\t\treturn task.getRawResult();\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tprotected void setRawResult(T value)\r\n    \t\t\t{\r\n    \t\t\t\toverride.set(value);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tprotected boolean exec()\r\n    \t\t\t{\r\n    \t\t\t\t// According to ForkJoinTask.fork() &quot;it is a usage error to fork a task more than once unless it has completed\r\n    \t\t\t\t// and been reinitialized&quot;. We therefore assume that this method does not have to be thread-safe.\r\n    \t\t\t\tMap&lt;String, String&gt; oldContext = beforeExecution(newContext);\r\n    \t\t\t\ttry\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttask.invoke();\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\tfinally\r\n    \t\t\t\t{\r\n    \t\t\t\t\tafterExecution(oldContext);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate Runnable wrap(Runnable task, Map&lt;String, String&gt; newContext)\r\n    \t{\r\n    \t\treturn () -&gt;\r\n    \t\t{\r\n    \t\t\tMap&lt;String, String&gt; oldContext = beforeExecution(newContext);\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\ttask.run();\r\n    \t\t\t}\r\n    \t\t\tfinally\r\n    \t\t\t{\r\n    \t\t\t\tafterExecution(oldContext);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Invoked before running a task.\r\n    \t *\r\n    \t * @param newValue the new MDC context\r\n    \t * @return the old MDC context\r\n    \t */\r\n    \tprivate Map&lt;String, String&gt; beforeExecution(Map&lt;String, String&gt; newValue)\r\n    \t{\r\n    \t\tMap&lt;String, String&gt; previous = MDC.getCopyOfContextMap();\r\n    \t\tif (newValue == null)\r\n    \t\t\tMDC.clear();\r\n    \t\telse\r\n    \t\t\tMDC.setContextMap(newValue);\r\n    \t\treturn previous;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Invoked after running a task.\r\n    \t *\r\n    \t * @param oldValue the old MDC context\r\n    \t */\r\n    \tprivate void afterExecution(Map&lt;String, String&gt; oldValue)\r\n    \t{\r\n    \t\tif (oldValue == null)\r\n    \t\t\tMDC.clear();\r\n    \t\telse\r\n    \t\t\tMDC.setContextMap(oldValue);\r\n    \t}\r\n    }\r\n\r\nand\r\n\r\n    import java.util.Map;\r\n    import java.util.concurrent.CountedCompleter;\r\n    import org.slf4j.MDC;\r\n    \r\n    /**\r\n     * A {@link CountedCompleter} that inherits MDC contexts from the thread that queues a task.\r\n     *\r\n     * @author Gili Tzabari\r\n     * @param &lt;T&gt; The result type returned by this task&#39;s {@code get} method\r\n     */\r\n    public abstract class MdcCountedCompleter&lt;T&gt; extends CountedCompleter&lt;T&gt;\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate final Map&lt;String, String&gt; newContext;\r\n    \r\n    \t/**\r\n    \t * Creates a new MdcCountedCompleter instance using the MDC context of the current thread.\r\n    \t */\r\n    \tprotected MdcCountedCompleter()\r\n    \t{\r\n    \t\tthis(null);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Creates a new MdcCountedCompleter instance using the MDC context of the current thread.\r\n    \t *\r\n    \t * @param completer this task&#39;s completer; {@code null} if none\r\n    \t */\r\n    \tprotected MdcCountedCompleter(CountedCompleter&lt;?&gt; completer)\r\n    \t{\r\n    \t\tsuper(completer);\r\n    \t\tthis.newContext = MDC.getCopyOfContextMap();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * The main computation performed by this task.\r\n    \t */\r\n    \tprotected abstract void computeWithContext();\r\n    \r\n    \t@Override\r\n    \tpublic final void compute()\r\n    \t{\r\n    \t\tMap&lt;String, String&gt; oldContext = beforeExecution(newContext);\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tcomputeWithContext();\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tafterExecution(oldContext);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Invoked before running a task.\r\n    \t *\r\n    \t * @param newValue the new MDC context\r\n    \t * @return the old MDC context\r\n    \t */\r\n    \tprivate Map&lt;String, String&gt; beforeExecution(Map&lt;String, String&gt; newValue)\r\n    \t{\r\n    \t\tMap&lt;String, String&gt; previous = MDC.getCopyOfContextMap();\r\n    \t\tif (newValue == null)\r\n    \t\t\tMDC.clear();\r\n    \t\telse\r\n    \t\t\tMDC.setContextMap(newValue);\r\n    \t\treturn previous;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Invoked after running a task.\r\n    \t *\r\n    \t * @param oldValue the old MDC context\r\n    \t */\r\n    \tprivate void afterExecution(Map&lt;String, String&gt; oldValue)\r\n    \t{\r\n    \t\tif (oldValue == null)\r\n    \t\t\tMDC.clear();\r\n    \t\telse\r\n    \t\t\tMDC.setContextMap(oldValue);\r\n    \t}\r\n    }\r\n\r\n1. Run your tasks against `MdcForkJoinPool` instead of the common ForkJoinPool.\r\n2. Extend `MdcCountedCompleter` instead of `CountedCompleter`.","title":"How to use MDC with ForkJoinPool?","body":"<p>The following seems to work for me:</p>\n\n<pre><code>import java.lang.Thread.UncaughtExceptionHandler;\nimport java.util.Map;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.ForkJoinTask;\nimport java.util.concurrent.atomic.AtomicReference;\nimport org.slf4j.MDC;\n\n/**\n * A {@link ForkJoinPool} that inherits MDC contexts from the thread that queues a task.\n *\n * @author Gili Tzabari\n */\npublic final class MdcForkJoinPool extends ForkJoinPool\n{\n    /**\n     * Creates a new MdcForkJoinPool.\n     *\n     * @param parallelism the parallelism level. For default value, use {@link java.lang.Runtime#availableProcessors}.\n     * @param factory     the factory for creating new threads. For default value, use\n     *                    {@link #defaultForkJoinWorkerThreadFactory}.\n     * @param handler     the handler for internal worker threads that terminate due to unrecoverable errors encountered\n     *                    while executing tasks. For default value, use {@code null}.\n     * @param asyncMode   if true, establishes local first-in-first-out scheduling mode for forked tasks that are never\n     *                    joined. This mode may be more appropriate than default locally stack-based mode in applications\n     *                    in which worker threads only process event-style asynchronous tasks. For default value, use\n     *                    {@code false}.\n     * @throws IllegalArgumentException if parallelism less than or equal to zero, or greater than implementation limit\n     * @throws NullPointerException     if the factory is null\n     * @throws SecurityException        if a security manager exists and the caller is not permitted to modify threads\n     *                                  because it does not hold\n     *                                  {@link java.lang.RuntimePermission}{@code (\"modifyThread\")}\n     */\n    public MdcForkJoinPool(int parallelism, ForkJoinWorkerThreadFactory factory, UncaughtExceptionHandler handler,\n        boolean asyncMode)\n    {\n        super(parallelism, factory, handler, asyncMode);\n    }\n\n    @Override\n    public void execute(ForkJoinTask&lt;?&gt; task)\n    {\n        // See http://stackoverflow.com/a/19329668/14731\n        super.execute(wrap(task, MDC.getCopyOfContextMap()));\n    }\n\n    @Override\n    public void execute(Runnable task)\n    {\n        // See http://stackoverflow.com/a/19329668/14731\n        super.execute(wrap(task, MDC.getCopyOfContextMap()));\n    }\n\n    private &lt;T&gt; ForkJoinTask&lt;T&gt; wrap(ForkJoinTask&lt;T&gt; task, Map&lt;String, String&gt; newContext)\n    {\n        return new ForkJoinTask&lt;T&gt;()\n        {\n            private static final long serialVersionUID = 1L;\n            /**\n             * If non-null, overrides the value returned by the underlying task.\n             */\n            private final AtomicReference&lt;T&gt; override = new AtomicReference&lt;&gt;();\n\n            @Override\n            public T getRawResult()\n            {\n                T result = override.get();\n                if (result != null)\n                    return result;\n                return task.getRawResult();\n            }\n\n            @Override\n            protected void setRawResult(T value)\n            {\n                override.set(value);\n            }\n\n            @Override\n            protected boolean exec()\n            {\n                // According to ForkJoinTask.fork() \"it is a usage error to fork a task more than once unless it has completed\n                // and been reinitialized\". We therefore assume that this method does not have to be thread-safe.\n                Map&lt;String, String&gt; oldContext = beforeExecution(newContext);\n                try\n                {\n                    task.invoke();\n                    return true;\n                }\n                finally\n                {\n                    afterExecution(oldContext);\n                }\n            }\n        };\n    }\n\n    private Runnable wrap(Runnable task, Map&lt;String, String&gt; newContext)\n    {\n        return () -&gt;\n        {\n            Map&lt;String, String&gt; oldContext = beforeExecution(newContext);\n            try\n            {\n                task.run();\n            }\n            finally\n            {\n                afterExecution(oldContext);\n            }\n        };\n    }\n\n    /**\n     * Invoked before running a task.\n     *\n     * @param newValue the new MDC context\n     * @return the old MDC context\n     */\n    private Map&lt;String, String&gt; beforeExecution(Map&lt;String, String&gt; newValue)\n    {\n        Map&lt;String, String&gt; previous = MDC.getCopyOfContextMap();\n        if (newValue == null)\n            MDC.clear();\n        else\n            MDC.setContextMap(newValue);\n        return previous;\n    }\n\n    /**\n     * Invoked after running a task.\n     *\n     * @param oldValue the old MDC context\n     */\n    private void afterExecution(Map&lt;String, String&gt; oldValue)\n    {\n        if (oldValue == null)\n            MDC.clear();\n        else\n            MDC.setContextMap(oldValue);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import java.util.Map;\nimport java.util.concurrent.CountedCompleter;\nimport org.slf4j.MDC;\n\n/**\n * A {@link CountedCompleter} that inherits MDC contexts from the thread that queues a task.\n *\n * @author Gili Tzabari\n * @param &lt;T&gt; The result type returned by this task's {@code get} method\n */\npublic abstract class MdcCountedCompleter&lt;T&gt; extends CountedCompleter&lt;T&gt;\n{\n    private static final long serialVersionUID = 1L;\n    private final Map&lt;String, String&gt; newContext;\n\n    /**\n     * Creates a new MdcCountedCompleter instance using the MDC context of the current thread.\n     */\n    protected MdcCountedCompleter()\n    {\n        this(null);\n    }\n\n    /**\n     * Creates a new MdcCountedCompleter instance using the MDC context of the current thread.\n     *\n     * @param completer this task's completer; {@code null} if none\n     */\n    protected MdcCountedCompleter(CountedCompleter&lt;?&gt; completer)\n    {\n        super(completer);\n        this.newContext = MDC.getCopyOfContextMap();\n    }\n\n    /**\n     * The main computation performed by this task.\n     */\n    protected abstract void computeWithContext();\n\n    @Override\n    public final void compute()\n    {\n        Map&lt;String, String&gt; oldContext = beforeExecution(newContext);\n        try\n        {\n            computeWithContext();\n        }\n        finally\n        {\n            afterExecution(oldContext);\n        }\n    }\n\n    /**\n     * Invoked before running a task.\n     *\n     * @param newValue the new MDC context\n     * @return the old MDC context\n     */\n    private Map&lt;String, String&gt; beforeExecution(Map&lt;String, String&gt; newValue)\n    {\n        Map&lt;String, String&gt; previous = MDC.getCopyOfContextMap();\n        if (newValue == null)\n            MDC.clear();\n        else\n            MDC.setContextMap(newValue);\n        return previous;\n    }\n\n    /**\n     * Invoked after running a task.\n     *\n     * @param oldValue the old MDC context\n     */\n    private void afterExecution(Map&lt;String, String&gt; oldValue)\n    {\n        if (oldValue == null)\n            MDC.clear();\n        else\n            MDC.setContextMap(oldValue);\n    }\n}\n</code></pre>\n\n<ol>\n<li>Run your tasks against <code>MdcForkJoinPool</code> instead of the common ForkJoinPool.</li>\n<li>Extend <code>MdcCountedCompleter</code> instead of <code>CountedCompleter</code>.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1403382,"reputation":1305,"user_id":1331732,"accept_rate":20,"display_name":"Alain P"},"score":0,"creation_date":1544356405,"post_id":50820315,"comment_id":94239713,"body_markdown":"@BenL.- I tried your test (thanks) but as you noted there are cases without context. From some basic debugging it appears that the MdcCountedCompleter would need to be used, but I can&#39;t see how to use it. Any idea?","body":"@BenL.- I tried your test (thanks) but as you noted there are cases without context. From some basic debugging it appears that the MdcCountedCompleter would need to be used, but I can&#39;t see how to use it. Any idea?"}],"tags":[],"owner":{"account_id":51141,"reputation":807,"user_id":152723,"display_name":"Ben L."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528815691,"creation_date":1528815691,"answer_id":50820315,"question_id":36026402,"body_markdown":"Here is some additional information to go along with @Gili&#39;s answer.\r\n\r\nTest that shows that the solution works (note that there will be lines without the Context, but at least they won&#39;t be the WRONG context, which is what was happening with a normal ForkJoinPool).\r\n\r\n    import static org.hamcrest.Matchers.is;\r\n    import static org.hamcrest.Matchers.startsWith;\r\n    import static org.junit.Assert.assertThat;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.Charset;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.UUID;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.Semaphore;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.stream.IntStream;\r\n\r\n    import org.junit.Test;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.slf4j.MDC;\r\n\r\n    import ch.qos.logback.classic.Level;\r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.LoggerContext;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.OutputStreamAppender;\r\n\r\n    public class MDCForkJoinPoolTest {\r\n\r\n        private static final Logger log = (Logger) LoggerFactory.getLogger(&quot;mdc-test&quot;);\r\n        \r\n        // you can demonstrate the problem I&#39;m trying to fix by changing the below to a normal ForkJoinPool and then running the test\r\n        private ForkJoinPool threads = new MDCForkJoinPool(16);\r\n        private Semaphore threadsRunning = new Semaphore(-99);\r\n        private ByteArrayOutputStream bio = new ByteArrayOutputStream();\r\n\r\n        @Test\r\n        public void shouldCopyManagedDiagnosticContextWhenUsingForkJoinPool() throws Exception {\r\n            for (int i = 0 ; i &lt; 100; i++) {\r\n                Thread t = new Thread(simulatedRequest(), &quot;MDC-Test-&quot;+i);\r\n                t.setDaemon(true);\r\n                t.start();\r\n            }\r\n\r\n            // set up the appender to grab the output\r\n            LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n            OutputStreamAppender&lt;ILoggingEvent&gt; appender = new OutputStreamAppender&lt;&gt;();\r\n            LogbackEncoder encoder = new LogbackEncoder();\r\n            encoder.setPattern(&quot;%X{mdc_val:-}=%m%n&quot;);\r\n            encoder.setContext(lc);\r\n            encoder.start();\r\n            appender.setEncoder(encoder);\r\n            appender.setImmediateFlush(true);\r\n            appender.setContext(lc);\r\n            appender.setOutputStream(bio);\r\n            appender.start();\r\n            log.addAppender(appender);\r\n            log.setAdditive(false);\r\n            log.setLevel(Level.INFO);\r\n            \r\n            assertThat(&quot;timed out waiting for threads to complete.&quot;, threadsRunning.tryAcquire(300, TimeUnit.SECONDS), is(true));\r\n            \r\n            Set&lt;String&gt; ids = new HashSet&lt;&gt;();\r\n            try (BufferedReader r = new BufferedReader(new InputStreamReader(new ByteArrayInputStream(bio.toByteArray()), Charset.forName(&quot;utf8&quot;)))) {\r\n                r.lines().forEach(line-&gt;{\r\n                    System.out.println(line);\r\n                   String[] vals = line.split(&quot;=&quot;);\r\n                   if (!vals[0].isEmpty()) {\r\n                       ids.add(vals[0]);\r\n                       assertThat(vals[1], startsWith(vals[0]));\r\n                   }\r\n                });\r\n            }\r\n            \r\n            assertThat(ids.size(), is(100));\r\n        }\r\n        \r\n        private Runnable simulatedRequest() {\r\n            return () -&gt; {\r\n                String id = UUID.randomUUID().toString();\r\n                MDC.put(&quot;mdc_val&quot;, id);\r\n                Map&lt;String, String&gt; context = MDC.getCopyOfContextMap();\r\n                threads.submit(()-&gt;{\r\n                    MDC.setContextMap(context);\r\n                    IntStream.range(0, 100).parallel().forEach((i)-&gt;{\r\n                       log.info(&quot;{} - {}&quot;, id, i); \r\n                    });\r\n                }).join();\r\n                threadsRunning.release();\r\n            };\r\n        }\r\n    }\r\n\r\nAlso, here are the additional methods that should be overridden in the original answer.\r\n\r\n        @Override\r\n        public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(ForkJoinTask&lt;T&gt; task) {\r\n            return super.submit(wrap(task, MDC.getCopyOfContextMap()));\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n            return super.submit(wrap(task, MDC.getCopyOfContextMap()));\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Runnable task, T result) {\r\n            return super.submit(wrap(task, MDC.getCopyOfContextMap()), result);\r\n        }\r\n\r\n        @Override\r\n        public ForkJoinTask&lt;?&gt; submit(Runnable task) {\r\n            return super.submit(wrap(task, MDC.getCopyOfContextMap()));\r\n        }\r\n\r\n        private &lt;T&gt; Callable&lt;T&gt; wrap(Callable&lt;T&gt; task, Map&lt;String, String&gt; newContext)\r\n        {\r\n            return () -&gt;\r\n            {\r\n                Map&lt;String, String&gt; oldContext = beforeExecution(newContext);\r\n                try\r\n                {\r\n                    return task.call();\r\n                }\r\n                finally\r\n                {\r\n                    afterExecution(oldContext);\r\n                }\r\n            };\r\n        }","title":"How to use MDC with ForkJoinPool?","body":"<p>Here is some additional information to go along with @Gili's answer.</p>\n\n<p>Test that shows that the solution works (note that there will be lines without the Context, but at least they won't be the WRONG context, which is what was happening with a normal ForkJoinPool).</p>\n\n<pre><code>import static org.hamcrest.Matchers.is;\nimport static org.hamcrest.Matchers.startsWith;\nimport static org.junit.Assert.assertThat;\n\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStreamReader;\nimport java.nio.charset.Charset;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.UUID;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.Semaphore;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\n\nimport org.junit.Test;\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.MDC;\n\nimport ch.qos.logback.classic.Level;\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.OutputStreamAppender;\n\npublic class MDCForkJoinPoolTest {\n\n    private static final Logger log = (Logger) LoggerFactory.getLogger(\"mdc-test\");\n\n    // you can demonstrate the problem I'm trying to fix by changing the below to a normal ForkJoinPool and then running the test\n    private ForkJoinPool threads = new MDCForkJoinPool(16);\n    private Semaphore threadsRunning = new Semaphore(-99);\n    private ByteArrayOutputStream bio = new ByteArrayOutputStream();\n\n    @Test\n    public void shouldCopyManagedDiagnosticContextWhenUsingForkJoinPool() throws Exception {\n        for (int i = 0 ; i &lt; 100; i++) {\n            Thread t = new Thread(simulatedRequest(), \"MDC-Test-\"+i);\n            t.setDaemon(true);\n            t.start();\n        }\n\n        // set up the appender to grab the output\n        LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\n        OutputStreamAppender&lt;ILoggingEvent&gt; appender = new OutputStreamAppender&lt;&gt;();\n        LogbackEncoder encoder = new LogbackEncoder();\n        encoder.setPattern(\"%X{mdc_val:-}=%m%n\");\n        encoder.setContext(lc);\n        encoder.start();\n        appender.setEncoder(encoder);\n        appender.setImmediateFlush(true);\n        appender.setContext(lc);\n        appender.setOutputStream(bio);\n        appender.start();\n        log.addAppender(appender);\n        log.setAdditive(false);\n        log.setLevel(Level.INFO);\n\n        assertThat(\"timed out waiting for threads to complete.\", threadsRunning.tryAcquire(300, TimeUnit.SECONDS), is(true));\n\n        Set&lt;String&gt; ids = new HashSet&lt;&gt;();\n        try (BufferedReader r = new BufferedReader(new InputStreamReader(new ByteArrayInputStream(bio.toByteArray()), Charset.forName(\"utf8\")))) {\n            r.lines().forEach(line-&gt;{\n                System.out.println(line);\n               String[] vals = line.split(\"=\");\n               if (!vals[0].isEmpty()) {\n                   ids.add(vals[0]);\n                   assertThat(vals[1], startsWith(vals[0]));\n               }\n            });\n        }\n\n        assertThat(ids.size(), is(100));\n    }\n\n    private Runnable simulatedRequest() {\n        return () -&gt; {\n            String id = UUID.randomUUID().toString();\n            MDC.put(\"mdc_val\", id);\n            Map&lt;String, String&gt; context = MDC.getCopyOfContextMap();\n            threads.submit(()-&gt;{\n                MDC.setContextMap(context);\n                IntStream.range(0, 100).parallel().forEach((i)-&gt;{\n                   log.info(\"{} - {}\", id, i); \n                });\n            }).join();\n            threadsRunning.release();\n        };\n    }\n}\n</code></pre>\n\n<p>Also, here are the additional methods that should be overridden in the original answer.</p>\n\n<pre><code>    @Override\n    public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(ForkJoinTask&lt;T&gt; task) {\n        return super.submit(wrap(task, MDC.getCopyOfContextMap()));\n    }\n\n    @Override\n    public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Callable&lt;T&gt; task) {\n        return super.submit(wrap(task, MDC.getCopyOfContextMap()));\n    }\n\n    @Override\n    public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Runnable task, T result) {\n        return super.submit(wrap(task, MDC.getCopyOfContextMap()), result);\n    }\n\n    @Override\n    public ForkJoinTask&lt;?&gt; submit(Runnable task) {\n        return super.submit(wrap(task, MDC.getCopyOfContextMap()));\n    }\n\n    private &lt;T&gt; Callable&lt;T&gt; wrap(Callable&lt;T&gt; task, Map&lt;String, String&gt; newContext)\n    {\n        return () -&gt;\n        {\n            Map&lt;String, String&gt; oldContext = beforeExecution(newContext);\n            try\n            {\n                return task.call();\n            }\n            finally\n            {\n                afterExecution(oldContext);\n            }\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685717198,"creation_date":1685707120,"answer_id":76389949,"question_id":36026402,"body_markdown":"I&#39;m stuck with the same problem.\r\nObviously, using your custom ForkJoinPool every time you need to run a parallel Java stream is not ideal as it requires a lot of code.\r\n\r\nHowever, I think I found a smaller solution compared to what was proposed by the topic creator:\r\n\r\n```\r\n@Slf4j\r\npublic class MdcTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tlist.add(i);\r\n\t\t}\r\n\t\t\r\n\t\tMDC.put(&quot;someKey&quot;, &quot;iter&quot;);\r\n\t\t\r\n\t\tlist.stream()\r\n\t\t\t.parallel()\r\n\t\t\t.peek(mdcParallelStreamKeeper())\r\n\t\t\t.forEach(i -&gt; log.info(&quot;List item={} with MDC={}&quot;, i, MDC.getCopyOfContextMap()));\r\n\t}\r\n\r\n\tprivate static Consumer&lt;? super Integer&gt; mdcParallelStreamKeeper() {\r\n\t\tMap&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n\t\treturn i -&gt; {\r\n\t\t\tMDC.clear();\r\n\t\t\tMDC.setContextMap(contextMap);\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nBasically, you just need to have *mdcParallelStreamKeeper* method somewhere and use only it.\r\n\r\n**UPDATE #1**\r\nThere is a problem with MDC cleanup in this approach.\r\n","title":"How to use MDC with ForkJoinPool?","body":"<p>I'm stuck with the same problem.\nObviously, using your custom ForkJoinPool every time you need to run a parallel Java stream is not ideal as it requires a lot of code.</p>\n<p>However, I think I found a smaller solution compared to what was proposed by the topic creator:</p>\n<pre><code>@Slf4j\npublic class MdcTest {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 10; i++) {\n            list.add(i);\n        }\n        \n        MDC.put(&quot;someKey&quot;, &quot;iter&quot;);\n        \n        list.stream()\n            .parallel()\n            .peek(mdcParallelStreamKeeper())\n            .forEach(i -&gt; log.info(&quot;List item={} with MDC={}&quot;, i, MDC.getCopyOfContextMap()));\n    }\n\n    private static Consumer&lt;? super Integer&gt; mdcParallelStreamKeeper() {\n        Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n        return i -&gt; {\n            MDC.clear();\n            MDC.setContextMap(contextMap);\n        };\n    }\n}\n</code></pre>\n<p>Basically, you just need to have <em>mdcParallelStreamKeeper</em> method somewhere and use only it.</p>\n<p><strong>UPDATE #1</strong>\nThere is a problem with MDC cleanup in this approach.</p>\n"}],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7098,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":36075149,"answer_count":4,"score":14,"last_activity_date":1685717198,"creation_date":1458099733,"question_id":36026402,"body_markdown":"Following up on https://stackoverflow.com/q/6073019/14731 how can one use MDC with a `ForkJoinPool`? Specifically, I how can one wrap a `ForkJoinTask` so MDC values are set before executing a task?","title":"How to use MDC with ForkJoinPool?","body":"<p>Following up on <a href=\"https://stackoverflow.com/q/6073019/14731\">How to use MDC with thread pools?</a> how can one use MDC with a <code>ForkJoinPool</code>? Specifically, I how can one wrap a <code>ForkJoinTask</code> so MDC values are set before executing a task?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1685685928,"post_id":76374595,"comment_id":134698223,"body_markdown":"What is the input which you provide when running in IntelliJ? What is the input in the web platform which is given to the program? And what this question has to do with gradle (You tagged it with &quot;gradle&quot;?","body":"What is the input which you provide when running in IntelliJ? What is the input in the web platform which is given to the program? And what this question has to do with gradle (You tagged it with &quot;gradle&quot;?"},{"owner":{"account_id":26147408,"reputation":5,"user_id":19835853,"display_name":"Nibowaka"},"score":0,"creation_date":1685689990,"post_id":76374595,"comment_id":134698917,"body_markdown":"input and output is this:    0 0 9 9     change to                  9 9 0 0 under this number is \n                                            1 2 3 4      change to                  4 3 2 1 under this is\n                                            5 6 7 8      change to                 8 7 6 5","body":"input and output is this:    0 0 9 9     change to                  9 9 0 0 under this number is                                              1 2 3 4      change to                  4 3 2 1 under this is                                             5 6 7 8      change to                 8 7 6 5"}],"answers":[{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685691874,"creation_date":1685691874,"answer_id":76388132,"question_id":76374595,"body_markdown":"For starters change your code like that and run it on the online platform:\r\n\r\n        for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n            for (int j = 0; j &lt; twoDimArray[i].length; j++) {\r\n                System.out.println(&quot;Reading element for index [&quot; + i + &quot;][&quot; + j + &quot;]&quot;);\r\n                String debug = scanner.next();\r\n                // twoDimArray[i][j] = scanner.nextInt();\r\n                System.out.println(&quot;Read element for index [&quot; + i + &quot;][&quot; + j + &quot;] = &quot; + debug);\r\n            }\r\n        }\r\n\r\nLet us know what is the output.","title":"What should I do for resolving java.util.NoSsuchWElementExceptionn runtime error for java.util.Scanner class?","body":"<p>For starters change your code like that and run it on the online platform:</p>\n<pre><code>    for (int i = 0; i &lt; twoDimArray.length; i++) {\n        for (int j = 0; j &lt; twoDimArray[i].length; j++) {\n            System.out.println(&quot;Reading element for index [&quot; + i + &quot;][&quot; + j + &quot;]&quot;);\n            String debug = scanner.next();\n            // twoDimArray[i][j] = scanner.nextInt();\n            System.out.println(&quot;Read element for index [&quot; + i + &quot;][&quot; + j + &quot;] = &quot; + debug);\n        }\n    }\n</code></pre>\n<p>Let us know what is the output.</p>\n"}],"owner":{"account_id":26147408,"reputation":5,"user_id":19835853,"display_name":"Nibowaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76388132,"answer_count":1,"score":0,"last_activity_date":1685716791,"creation_date":1685543470,"question_id":76374595,"body_markdown":"I have this runtime error: Error:\r\n\r\nException in thread &quot;main&quot; java.util.NoSuchElementException \tat java.base/java.util.Scanner.throwFor(Scanner.java:937) \tat java.base/java.util.Scanner.next(Scanner.java:1594) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212) \tat ArrayOperations.main(Main.java:31)\r\n\r\nwhat should I repair in this code? :\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass ArrayOperations {\r\n    public static void reverseElements(int[][] twoDimArray) {\r\n        // write your code here\r\n        for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n            int left = 0;\r\n            int right = twoDimArray[i].length - 1;\r\n\r\n            while (left &lt; right) {\r\n                int temp = twoDimArray[i][left];\r\n                twoDimArray[i][left] = twoDimArray[i][right];\r\n                twoDimArray[i][right] = temp;\r\n\r\n                left++;\r\n                right--;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int[][] twoDimArray = new int[3][4];\r\n\r\n        // System.out.println(&quot;Enter the elements of the twoDimArray:&quot;);\r\n\r\n        for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n            for (int j = 0; j &lt; twoDimArray[i].length; j++) {\r\n                twoDimArray[i][j] = scanner.nextInt();\r\n            }\r\n        }\r\n\r\n        reverseElements(twoDimArray);\r\n\r\n        // System.out.println(&quot;Reversed twoDimArray:&quot;);\r\n\r\n        for (int[] row : twoDimArray) {\r\n            for (int element : row) {\r\n                System.out.print(element + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nI want resolve this runtime error because I have workout  on Hyperskill. Program work correctly in my IntelliJ input and output are correctl but after checking IntelliJ with Hyperskill website show me this error.\r\nThank you for your help and answer .\r\ninput is this: \r\n\r\n    0 0 9 9 \r\n    1 2 3 4 \r\n    5 6 7 8 \r\n\r\noutput is this: \r\n\r\n    9 9 0 0\r\n    4 3 2 1\r\n    8 7 6 5","title":"What should I do for resolving java.util.NoSsuchWElementExceptionn runtime error for java.util.Scanner class?","body":"<p>I have this runtime error: Error:</p>\n<p>Exception in thread &quot;main&quot; java.util.NoSuchElementException     at java.base/java.util.Scanner.throwFor(Scanner.java:937)   at java.base/java.util.Scanner.next(Scanner.java:1594)  at java.base/java.util.Scanner.nextInt(Scanner.java:2258)   at java.base/java.util.Scanner.nextInt(Scanner.java:2212)   at ArrayOperations.main(Main.java:31)</p>\n<p>what should I repair in this code? :</p>\n<pre><code>import java.util.Scanner;\nclass ArrayOperations {\n    public static void reverseElements(int[][] twoDimArray) {\n        // write your code here\n        for (int i = 0; i &lt; twoDimArray.length; i++) {\n            int left = 0;\n            int right = twoDimArray[i].length - 1;\n\n            while (left &lt; right) {\n                int temp = twoDimArray[i][left];\n                twoDimArray[i][left] = twoDimArray[i][right];\n                twoDimArray[i][right] = temp;\n\n                left++;\n                right--;\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int[][] twoDimArray = new int[3][4];\n\n        // System.out.println(&quot;Enter the elements of the twoDimArray:&quot;);\n\n        for (int i = 0; i &lt; twoDimArray.length; i++) {\n            for (int j = 0; j &lt; twoDimArray[i].length; j++) {\n                twoDimArray[i][j] = scanner.nextInt();\n            }\n        }\n\n        reverseElements(twoDimArray);\n\n        // System.out.println(&quot;Reversed twoDimArray:&quot;);\n\n        for (int[] row : twoDimArray) {\n            for (int element : row) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>I want resolve this runtime error because I have workout  on Hyperskill. Program work correctly in my IntelliJ input and output are correctl but after checking IntelliJ with Hyperskill website show me this error.\nThank you for your help and answer .\ninput is this:</p>\n<pre><code>0 0 9 9 \n1 2 3 4 \n5 6 7 8 \n</code></pre>\n<p>output is this:</p>\n<pre><code>9 9 0 0\n4 3 2 1\n8 7 6 5\n</code></pre>\n"},{"tags":["java","elasticsearch","liferay","liferay-7.3"],"owner":{"account_id":28734996,"reputation":1,"user_id":22006186,"display_name":"Nikola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685716735,"creation_date":1685699129,"question_id":76389040,"body_markdown":"```java\r\nSearchUtil.search(\r\n                Collections.emptyMap(),\r\n                booleanQuery -&gt; {\r\n                    BooleanFilter booleanFilter =\r\n                            booleanQuery.getPreBooleanFilter();\r\n                    booleanFilter.add(\r\n                            new TermFilter(Field.GROUP_ID, String.valueOf(siteId)),\r\n                            BooleanClauseOccur.MUST);\r\n                    booleanFilter.add(\r\n                            new TermFilter(Field.ENTRY_CLASS_NAME, JournalArticle.class.getName()),\r\n                            BooleanClauseOccur.MUST);\r\n                },\r\n                filter, JournalArticle.class, search, pagination,\r\n                queryConfig -&gt; queryConfig.setSelectedFieldNames(\r\n                        Field.ARTICLE_ID),\r\n                searchContext -&gt; {\r\n                    searchContext.setVulcanCheckPermissions(true);\r\n                    searchContext.addVulcanAggregation(aggregation);\r\n                    searchContext.setCompanyId(companyId);\r\n                    searchContext.setAttribute(&quot;ddmStructureKey&quot;, &quot;myDDMStructure&quot;);\r\n                },\r\n                sort,\r\n                document -&gt; MyParserUtil.wrapArticle(JournalArticleServiceUtil.getArticle(siteId, document.get(Field.ARTICLE_ID)))\r\n        );\r\n```\r\n\r\n\r\nThis is my code, I have issue regarding search. At the moment, search is working with FULL-TEXT like I want but it looks all fields in JournalArticle table and also all fields inside content field (`DDMStructure`).\r\n\r\nI want to limit search to look only fields Title and Description inside Content (`DDMStructure`).\r\n\r\nI tried with this:\r\n```java\r\nQueryFilter query = ddmIndexer.createFieldValueQueryFilter(myDDMStructure, MyDDMStructure.Description.name(), contextCompany.getLocale(), search);\r\n```\r\n\r\nand adding it inside `booleanQuery.add(query, BooleanClauseOccur.MUST)` but in that case if my description is &quot;My Description Test&quot; and search is &quot;My Description XXXX&quot;, it wont match because the third word is not matching. I want to look at it as a FULL-TEXT index and to give best results (thats how it works without this additional query.\r\n\r\nI tried with `DDMIndexer` and I am getting some progress but its still not what I am looking for. I described in previous section in detail. I already saw some comments with documentation links, some of them pages are removed and some of them I tried but i did not get what I want.","title":"Liferay 7.3 How to Search only Content of JournalArticles?","body":"<pre class=\"lang-java prettyprint-override\"><code>SearchUtil.search(\n                Collections.emptyMap(),\n                booleanQuery -&gt; {\n                    BooleanFilter booleanFilter =\n                            booleanQuery.getPreBooleanFilter();\n                    booleanFilter.add(\n                            new TermFilter(Field.GROUP_ID, String.valueOf(siteId)),\n                            BooleanClauseOccur.MUST);\n                    booleanFilter.add(\n                            new TermFilter(Field.ENTRY_CLASS_NAME, JournalArticle.class.getName()),\n                            BooleanClauseOccur.MUST);\n                },\n                filter, JournalArticle.class, search, pagination,\n                queryConfig -&gt; queryConfig.setSelectedFieldNames(\n                        Field.ARTICLE_ID),\n                searchContext -&gt; {\n                    searchContext.setVulcanCheckPermissions(true);\n                    searchContext.addVulcanAggregation(aggregation);\n                    searchContext.setCompanyId(companyId);\n                    searchContext.setAttribute(&quot;ddmStructureKey&quot;, &quot;myDDMStructure&quot;);\n                },\n                sort,\n                document -&gt; MyParserUtil.wrapArticle(JournalArticleServiceUtil.getArticle(siteId, document.get(Field.ARTICLE_ID)))\n        );\n</code></pre>\n<p>This is my code, I have issue regarding search. At the moment, search is working with FULL-TEXT like I want but it looks all fields in JournalArticle table and also all fields inside content field (<code>DDMStructure</code>).</p>\n<p>I want to limit search to look only fields Title and Description inside Content (<code>DDMStructure</code>).</p>\n<p>I tried with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>QueryFilter query = ddmIndexer.createFieldValueQueryFilter(myDDMStructure, MyDDMStructure.Description.name(), contextCompany.getLocale(), search);\n</code></pre>\n<p>and adding it inside <code>booleanQuery.add(query, BooleanClauseOccur.MUST)</code> but in that case if my description is &quot;My Description Test&quot; and search is &quot;My Description XXXX&quot;, it wont match because the third word is not matching. I want to look at it as a FULL-TEXT index and to give best results (thats how it works without this additional query.</p>\n<p>I tried with <code>DDMIndexer</code> and I am getting some progress but its still not what I am looking for. I described in previous section in detail. I already saw some comments with documentation links, some of them pages are removed and some of them I tried but i did not get what I want.</p>\n"},{"tags":["java","c#","android","blazor","blazor-server-side"],"answers":[{"tags":[],"owner":{"account_id":28719212,"reputation":72,"user_id":21993248,"display_name":"Jeremy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685716073,"creation_date":1685716073,"answer_id":76391058,"question_id":76379534,"body_markdown":"I found out the WebView App is not always syncing the stored cookies correctly. To fix this add the following code to the MainActivity:\r\n```\r\nwebView.setWebViewClient(new WebViewClient() {\r\n    @Override\r\n    public void onPageFinished(WebView view, String url) {\r\n       CookieManager.getInstance().flush();\r\n    }\r\n}\r\n```\r\n\r\n***full code:***\r\n```\r\nimport android.annotation.SuppressLint;\r\nimport android.graphics.Bitmap;\r\nimport android.view.View;\r\nimport android.webkit.CookieManager;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.ProgressBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n    private ProgressBar progressBar;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = findViewById(R.id.webview);\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n        // Configure WebView settings\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\r\n\r\n        CookieManager.getInstance().setAcceptCookie(true);\r\n        CookieManager.getInstance().acceptThirdPartyCookies(webView);\r\n\r\n        // Set WebView clients\r\n        webView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view, url, favicon);\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                webView.setVisibility(View.GONE);\r\n            }\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                super.onPageFinished(view, url);\r\n                CookieManager.getInstance().flush();\r\n                progressBar.setVisibility(View.GONE);\r\n                webView.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n\r\n        webView.setWebChromeClient(new WebChromeClient() {\r\n            public void onProgressChanged(WebView view, int progress) {\r\n                progressBar.setProgress(progress);\r\n            }\r\n        });\r\n\r\n        // Load the website\r\n        webView.loadUrl(&quot;URL HERE&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        // Handle back button press inside WebView\r\n        if (webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```","title":"How to make the &#39;Remember Me&#39; function in Blazor Server login page work consistently in Android WebView?","body":"<p>I found out the WebView App is not always syncing the stored cookies correctly. To fix this add the following code to the MainActivity:</p>\n<pre><code>webView.setWebViewClient(new WebViewClient() {\n    @Override\n    public void onPageFinished(WebView view, String url) {\n       CookieManager.getInstance().flush();\n    }\n}\n</code></pre>\n<p><em><strong>full code:</strong></em></p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.graphics.Bitmap;\nimport android.view.View;\nimport android.webkit.CookieManager;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.ProgressBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n    private ProgressBar progressBar;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webview);\n        progressBar = findViewById(R.id.progressBar);\n\n        // Configure WebView settings\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\n\n        CookieManager.getInstance().setAcceptCookie(true);\n        CookieManager.getInstance().acceptThirdPartyCookies(webView);\n\n        // Set WebView clients\n        webView.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n                progressBar.setVisibility(View.VISIBLE);\n                webView.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                CookieManager.getInstance().flush();\n                progressBar.setVisibility(View.GONE);\n                webView.setVisibility(View.VISIBLE);\n            }\n        });\n\n        webView.setWebChromeClient(new WebChromeClient() {\n            public void onProgressChanged(WebView view, int progress) {\n                progressBar.setProgress(progress);\n            }\n        });\n\n        // Load the website\n        webView.loadUrl(&quot;URL HERE&quot;);\n    }\n\n    @Override\n    public void onBackPressed() {\n        // Handle back button press inside WebView\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28719212,"reputation":72,"user_id":21993248,"display_name":"Jeremy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76391058,"answer_count":1,"score":1,"last_activity_date":1685716073,"creation_date":1685604047,"question_id":76379534,"body_markdown":"I have a Blazor Server app where I use the build-in AuthenticationStateProvider service for Blazor Server. The login page of this service has a remember me function that works properly.\r\n\r\nWithin my Android App I show the Blazor Server website with a WebView\r\n\r\n***MainActivity.Java:***\r\n\r\n```\r\nimport android.annotation.SuppressLint;\r\nimport android.graphics.Bitmap;\r\nimport android.view.View;\r\nimport android.webkit.CookieManager;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.ProgressBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n    private ProgressBar progressBar;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = findViewById(R.id.webview);\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n        // Configure WebView settings\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\r\n\r\n        CookieManager.getInstance().setAcceptCookie(true);\r\n        CookieManager.getInstance().acceptThirdPartyCookies(webView);\r\n\r\n        // Set WebView clients\r\n        webView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view, url, favicon);\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                webView.setVisibility(View.GONE);\r\n            }\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                super.onPageFinished(view, url);\r\n                progressBar.setVisibility(View.GONE);\r\n                webView.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n\r\n        webView.setWebChromeClient(new WebChromeClient() {\r\n            public void onProgressChanged(WebView view, int progress) {\r\n                progressBar.setProgress(progress);\r\n            }\r\n        });\r\n\r\n        // Load the website\r\n        webView.loadUrl(&quot;URL HERE&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        // Handle back button press inside WebView\r\n        if (webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n***Added to the AndroidManifest.xml:***\r\n`&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;`\r\n\r\n***Activity_main.xml***\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:indeterminate=&quot;false&quot;\r\n        android:max=&quot;100&quot;\r\n        android:progress=&quot;0&quot;\r\n        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nWhen I login via the WebView app, the Remember Me function is working 1 out of 100 times and stores the credentials local on my phone within the app data. I know this because:\r\n\r\n- I remain logged in when I clear my browser history on Google Chrome\r\n- I remain logged in when I clear the cache storage of the app\r\n- I am no longer logged in when I clear all data of the app (App info -\\&gt; Storage -\\&gt; Clear Data)\r\n\r\nThe other 99 out of 100 times it does not remember the login and when I open de WebView app again I have to login again.\r\n\r\nHow can I make this functionality work 100 out of 100 times? I never got to figure out when the app does save the login credentials and when it does not...\r\n\r\nI activated JavaScript and (third party) coockies. Problem still not solved.","title":"How to make the &#39;Remember Me&#39; function in Blazor Server login page work consistently in Android WebView?","body":"<p>I have a Blazor Server app where I use the build-in AuthenticationStateProvider service for Blazor Server. The login page of this service has a remember me function that works properly.</p>\n<p>Within my Android App I show the Blazor Server website with a WebView</p>\n<p><em><strong>MainActivity.Java:</strong></em></p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.graphics.Bitmap;\nimport android.view.View;\nimport android.webkit.CookieManager;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.ProgressBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n    private ProgressBar progressBar;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webview);\n        progressBar = findViewById(R.id.progressBar);\n\n        // Configure WebView settings\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\n\n        CookieManager.getInstance().setAcceptCookie(true);\n        CookieManager.getInstance().acceptThirdPartyCookies(webView);\n\n        // Set WebView clients\n        webView.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n                progressBar.setVisibility(View.VISIBLE);\n                webView.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                progressBar.setVisibility(View.GONE);\n                webView.setVisibility(View.VISIBLE);\n            }\n        });\n\n        webView.setWebChromeClient(new WebChromeClient() {\n            public void onProgressChanged(WebView view, int progress) {\n                progressBar.setProgress(progress);\n            }\n        });\n\n        // Load the website\n        webView.loadUrl(&quot;URL HERE&quot;);\n    }\n\n    @Override\n    public void onBackPressed() {\n        // Handle back button press inside WebView\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p><em><strong>Added to the AndroidManifest.xml:</strong></em>\n<code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</code></p>\n<p><em><strong>Activity_main.xml</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:indeterminate=&quot;false&quot;\n        android:max=&quot;100&quot;\n        android:progress=&quot;0&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>When I login via the WebView app, the Remember Me function is working 1 out of 100 times and stores the credentials local on my phone within the app data. I know this because:</p>\n<ul>\n<li>I remain logged in when I clear my browser history on Google Chrome</li>\n<li>I remain logged in when I clear the cache storage of the app</li>\n<li>I am no longer logged in when I clear all data of the app (App info -&gt; Storage -&gt; Clear Data)</li>\n</ul>\n<p>The other 99 out of 100 times it does not remember the login and when I open de WebView app again I have to login again.</p>\n<p>How can I make this functionality work 100 out of 100 times? I never got to figure out when the app does save the login credentials and when it does not...</p>\n<p>I activated JavaScript and (third party) coockies. Problem still not solved.</p>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685716862,"post_id":76391055,"comment_id":134704562,"body_markdown":"One idea is to get the `TextRenderInfo` for  `new PdfString(&quot;Xj Xj&quot;)` and the `TextRenderInfo` for  `new PdfString(&quot;XjXj&quot;)` and calculate the difference.","body":"One idea is to get the <code>TextRenderInfo</code> for  <code>new PdfString(&quot;Xj Xj&quot;)</code> and the <code>TextRenderInfo</code> for  <code>new PdfString(&quot;XjXj&quot;)</code> and calculate the difference."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1685877834,"post_id":76391055,"comment_id":134719628,"body_markdown":"The `TextRenderInfo` method `getText()` assumes its `PdfString` to be encoded using the encoding of the font in its `CanvasGraphicsState`. You on the other hand create the `PdfString` without taking that encoding into account. Thus, what `getText()` returns for your created info object is quite arbitrary. Actually the font in that graphics state may not have an encoding for the space character at all.  Thus, I&#39;d propose you clone that graphics state and replace the font therein by one with a space. And then encode the `PdfString` accordingly.","body":"The <code>TextRenderInfo</code> method <code>getText()</code> assumes its <code>PdfString</code> to be encoded using the encoding of the font in its <code>CanvasGraphicsState</code>. You on the other hand create the <code>PdfString</code> without taking that encoding into account. Thus, what <code>getText()</code> returns for your created info object is quite arbitrary. Actually the font in that graphics state may not have an encoding for the space character at all.  Thus, I&#39;d propose you clone that graphics state and replace the font therein by one with a space. And then encode the <code>PdfString</code> accordingly."}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685716058,"creation_date":1685716058,"question_id":76391055,"body_markdown":"I need to create TextRendererInfo manually for adding space character but when I try to add it that way:\r\n```\r\nfinal TextRenderInfo spaceInfo = new TextRenderInfo(new PdfString(&quot; &quot;), newStringInfo.getGraphicsState(), newStringInfo.getTextMatrix(), new Stack&lt;&gt;());\r\nSystem.out.println(spaceInfo.getText()); // I will get the following character �\r\n```\r\nWhy it can&#39;t return a correct text?\r\nHow can I create the TextRendererInfo correctly and getText() must return to me the space character?","title":"How to create TextRenderer info manually","body":"<p>I need to create TextRendererInfo manually for adding space character but when I try to add it that way:</p>\n<pre><code>final TextRenderInfo spaceInfo = new TextRenderInfo(new PdfString(&quot; &quot;), newStringInfo.getGraphicsState(), newStringInfo.getTextMatrix(), new Stack&lt;&gt;());\nSystem.out.println(spaceInfo.getText()); // I will get the following character �\n</code></pre>\n<p>Why it can't return a correct text?\nHow can I create the TextRendererInfo correctly and getText() must return to me the space character?</p>\n"},{"tags":["java","javafx","java-17"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1685718814,"post_id":76391052,"comment_id":134705015,"body_markdown":"The thing [comes with JavaFX jmods](https://github.com/ecmnet/MAVGCL/tree/master/MAVGCL/jmods).  Other than that, I can&#39;t help you, I don&#39;t know what it is nor what it does, how it builds or how it works.  For a specialized project like this, it is better to ask the developers directly rather than a generic forum like StackOverflow.","body":"The thing <a href=\"https://github.com/ecmnet/MAVGCL/tree/master/MAVGCL/jmods\" rel=\"nofollow noreferrer\">comes with JavaFX jmods</a>.  Other than that, I can&#39;t help you, I don&#39;t know what it is nor what it does, how it builds or how it works.  For a specialized project like this, it is better to ask the developers directly rather than a generic forum like StackOverflow."},{"owner":{"account_id":28737329,"reputation":1,"user_id":22008163,"display_name":"eg_julien"},"score":0,"creation_date":1685719505,"post_id":76391052,"comment_id":134705183,"body_markdown":"I also asked the question as an issue on the github repo. But thanks for your reply !","body":"I also asked the question as an issue on the github repo. But thanks for your reply !"}],"owner":{"account_id":28737329,"reputation":1,"user_id":22008163,"display_name":"eg_julien"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685716046,"creation_date":1685716046,"question_id":76391052,"body_markdown":"I am trying to compile this software : https://github.com/ecmnet/MAVGCL for Ubuntu 22.04 LTS. It is used to decompile ulog files (uav px4 log file).\r\n\r\nI installed openJDK 17 as well as JavaFX 17 (I assume ...) and clone all the necessary repositories and use `ant` to compile and deploy the app.\r\n\r\n```bash\r\ngit clone git@github.com:ecmnet/MAVGCL.git\r\ngit clone git@github.com:ecmnet/MAVBase.git\r\ngit clone git@github.com:ecmnet/mavcom.git\r\ngit clone git@github.com:ecmnet/mavutils.git\r\ngit clone git@github.com:ecmnet/mavmap.git\r\n\r\ncd MAVGCL/MAVGCL\r\n```\r\nChange pom.xml of MAVGCL from this:\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mavbase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mavbase&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nto this\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;MAVBase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;MAVBase&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nthen run\r\n```bash\r\nant deploy_linux_17\r\n```\r\nIt compiles as expected but when the compiler tries to budle it to create an App-image I got this error :\r\n\r\n```bash\r\ndeploy_linux_17:\r\n     [echo] Deploy JDk17 Version\r\n     [exec] Error: Module javafx.controls not found\r\n     [exec] java.lang.module.FindException: Module javafx.controls not found\r\n     [exec] \tat java.base/java.lang.module.Resolver.findFail(Resolver.java:892)\r\n     [exec] \tat java.base/java.lang.module.Resolver.resolve(Resolver.java:129)\r\n     [exec] \tat java.base/java.lang.module.Configuration.resolve(Configuration.java:420)\r\n     [exec] \tat java.base/java.lang.module.Configuration.resolve(Configuration.java:254)\r\n     [exec] \tat jdk.jlink/jdk.tools.jlink.internal.Jlink$JlinkConfiguration.resolve(Jlink.java:217)\r\n     [exec] \tat jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImageProvider(JlinkTask.java:536)\r\n     [exec] \tat jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImage(JlinkTask.java:424)\r\n     [exec] \tat jdk.jlink/jdk.tools.jlink.internal.JlinkTask.run(JlinkTask.java:276)\r\n     [exec] \tat jdk.jlink/jdk.tools.jlink.internal.Main.run(Main.java:56)\r\n     [exec] \tat jdk.jlink/jdk.tools.jlink.internal.Main.main(Main.java:34)\r\n     [exec] Specified runtime image directory runtime-image: ./target/custom_jre does not exist\r\n     [exec] Result: 1\r\n\r\nBUILD SUCCESSFUL\r\nTotal time: 13 seconds\r\n```\r\n\r\nI assume that I did not correctly installed JavaFX but I did not find any informations about how to do it (yes I did all google links ...).\r\nDoes anyone have some idea about what is going on and what should I try ?\r\n\r\nThanks\r\n\r\n\r\nI tried :\r\n - to install different version of the JDK (14, 17, 20) and install JavaFX with snap but it did not work; \r\n - to compile the JavaFX to integrate it into the openJDK (I never did that before so I am not sure about what I actually did).","title":"Need help troubleshooting &#39;Module javafx.controls not found&#39; error when compiling and bundling MAVGCL in Ubuntu 22.04 with openJDK 17 and JavaFX 17","body":"<p>I am trying to compile this software : <a href=\"https://github.com/ecmnet/MAVGCL\" rel=\"nofollow noreferrer\">https://github.com/ecmnet/MAVGCL</a> for Ubuntu 22.04 LTS. It is used to decompile ulog files (uav px4 log file).</p>\n<p>I installed openJDK 17 as well as JavaFX 17 (I assume ...) and clone all the necessary repositories and use <code>ant</code> to compile and deploy the app.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>git clone git@github.com:ecmnet/MAVGCL.git\ngit clone git@github.com:ecmnet/MAVBase.git\ngit clone git@github.com:ecmnet/mavcom.git\ngit clone git@github.com:ecmnet/mavutils.git\ngit clone git@github.com:ecmnet/mavmap.git\n\ncd MAVGCL/MAVGCL\n</code></pre>\n<p>Change pom.xml of MAVGCL from this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;mavbase&lt;/groupId&gt;\n            &lt;artifactId&gt;mavbase&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;MAVBase&lt;/groupId&gt;\n            &lt;artifactId&gt;MAVBase&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>then run</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ant deploy_linux_17\n</code></pre>\n<p>It compiles as expected but when the compiler tries to budle it to create an App-image I got this error :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>deploy_linux_17:\n     [echo] Deploy JDk17 Version\n     [exec] Error: Module javafx.controls not found\n     [exec] java.lang.module.FindException: Module javafx.controls not found\n     [exec]     at java.base/java.lang.module.Resolver.findFail(Resolver.java:892)\n     [exec]     at java.base/java.lang.module.Resolver.resolve(Resolver.java:129)\n     [exec]     at java.base/java.lang.module.Configuration.resolve(Configuration.java:420)\n     [exec]     at java.base/java.lang.module.Configuration.resolve(Configuration.java:254)\n     [exec]     at jdk.jlink/jdk.tools.jlink.internal.Jlink$JlinkConfiguration.resolve(Jlink.java:217)\n     [exec]     at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImageProvider(JlinkTask.java:536)\n     [exec]     at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.createImage(JlinkTask.java:424)\n     [exec]     at jdk.jlink/jdk.tools.jlink.internal.JlinkTask.run(JlinkTask.java:276)\n     [exec]     at jdk.jlink/jdk.tools.jlink.internal.Main.run(Main.java:56)\n     [exec]     at jdk.jlink/jdk.tools.jlink.internal.Main.main(Main.java:34)\n     [exec] Specified runtime image directory runtime-image: ./target/custom_jre does not exist\n     [exec] Result: 1\n\nBUILD SUCCESSFUL\nTotal time: 13 seconds\n</code></pre>\n<p>I assume that I did not correctly installed JavaFX but I did not find any informations about how to do it (yes I did all google links ...).\nDoes anyone have some idea about what is going on and what should I try ?</p>\n<p>Thanks</p>\n<p>I tried :</p>\n<ul>\n<li>to install different version of the JDK (14, 17, 20) and install JavaFX with snap but it did not work;</li>\n<li>to compile the JavaFX to integrate it into the openJDK (I never did that before so I am not sure about what I actually did).</li>\n</ul>\n"},{"tags":["java","maven","unsatisfiedlinkerror","tdlib"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685717946,"post_id":76391008,"comment_id":134704808,"body_markdown":"`java -Djava.library.path=C:/Users/PC/td/tdlib/bin` is what you need","body":"<code>java -Djava.library.path=C:&#47;Users&#47;PC&#47;td&#47;tdlib&#47;bin</code> is what you need"},{"owner":{"account_id":26241397,"reputation":65,"user_id":19915661,"display_name":"duyanhhz"},"score":0,"creation_date":1685719588,"post_id":76391008,"comment_id":134705208,"body_markdown":"It&#39;s not working, it shows up java help","body":"It&#39;s not working, it shows up java help"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685720025,"post_id":76391008,"comment_id":134705283,"body_markdown":"Is the dll in that directory?","body":"Is the dll in that directory?"},{"owner":{"account_id":26241397,"reputation":65,"user_id":19915661,"display_name":"duyanhhz"},"score":0,"creation_date":1685722081,"post_id":76391008,"comment_id":134705695,"body_markdown":"no sir, the dll is not in the directory","body":"no sir, the dll is not in the directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685722356,"post_id":76391008,"comment_id":134705750,"body_markdown":"Well that can&#39;t possibly work then;)","body":"Well that can&#39;t possibly work then;)"}],"owner":{"account_id":26241397,"reputation":65,"user_id":19915661,"display_name":"duyanhhz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685715686,"creation_date":1685715686,"question_id":76391008,"body_markdown":"I&#39;m currently struggling to install TDLib for my JAVA project but it always shows the error:     \r\n`java.lang.UnsatisfiedLinkError: no tdjni in java.library.path` \r\n\r\nAt first, i tried to create a **Maven** project, then import the required dependency. Here&#39;s my pom.xml:\r\n```&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;telegram&lt;/groupId&gt;\r\n  &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;junit.version&gt;5.6.0&lt;/junit.version&gt;\r\n    &lt;maven-enforcer-plugin.version&gt;3.0.0-M3&lt;/maven-enforcer-plugin.version&gt;\r\n    &lt;maven-checkstyle-plugin.version&gt;3.1.2&lt;/maven-checkstyle-plugin.version&gt;\r\n    &lt;checkstyle.version&gt;8.45.1&lt;/checkstyle.version&gt;\r\n    &lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\r\n    &lt;jacoco-maven-plugin.version&gt;0.8.4&lt;/jacoco-maven-plugin.version&gt;\r\n    &lt;maven-javadoc-plugin.version&gt;3.0.0&lt;/maven-javadoc-plugin.version&gt;\r\n    &lt;!-- JaCoCo thresholds. Increase gradually as you add tests. --&gt;\r\n    &lt;jacoco.unit-tests.limit.instruction-ratio&gt;0%&lt;/jacoco.unit-tests.limit.instruction-ratio&gt;\r\n    &lt;jacoco.unit-tests.limit.branch-ratio&gt;0%&lt;/jacoco.unit-tests.limit.branch-ratio&gt;\r\n    &lt;jacoco.unit-tests.limit.class-complexity&gt;20&lt;/jacoco.unit-tests.limit.class-complexity&gt;\r\n    &lt;jacoco.unit-tests.limit.method-complexity&gt;5&lt;/jacoco.unit-tests.limit.method-complexity&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;ca.denisab85&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tdlib&lt;/artifactId&gt;\r\n    &lt;version&gt;v1.8.8-20221107&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rules&gt;\r\n                &lt;requireMavenVersion&gt;\r\n                  &lt;version&gt;3.6.3&lt;/version&gt;\r\n                &lt;/requireMavenVersion&gt;\r\n              &lt;/rules&gt;\r\n              &lt;fail&gt;true&lt;/fail&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n            &lt;version&gt;${checkstyle.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ngeor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;checkstyle-rules&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.3&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;configuration&gt;\r\n          &lt;configLocation&gt;com/github/ngeor/checkstyle.xml&lt;/configLocation&gt;\r\n          &lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\r\n          &lt;skip&gt;${skipTests}&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;checkstyle&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;post-unit-test&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;check-unit-test&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;dataFile&gt;${project.build.directory}/jacoco.exec&lt;/dataFile&gt;\r\n              &lt;rules&gt;\r\n                &lt;rule&gt;\r\n                  &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                  &lt;limits&gt;\r\n                    &lt;limit&gt;\r\n                      &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n                      &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                      &lt;minimum&gt;${jacoco.unit-tests.limit.instruction-ratio}&lt;/minimum&gt;\r\n                    &lt;/limit&gt;\r\n                    &lt;limit&gt;\r\n                      &lt;counter&gt;BRANCH&lt;/counter&gt;\r\n                      &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                      &lt;minimum&gt;${jacoco.unit-tests.limit.branch-ratio}&lt;/minimum&gt;\r\n                    &lt;/limit&gt;\r\n                  &lt;/limits&gt;\r\n                &lt;/rule&gt;\r\n                &lt;rule&gt;\r\n                  &lt;element&gt;CLASS&lt;/element&gt;\r\n                  &lt;limits&gt;\r\n                    &lt;limit&gt;\r\n                      &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\r\n                      &lt;value&gt;TOTALCOUNT&lt;/value&gt;\r\n                      &lt;maximum&gt;${jacoco.unit-tests.limit.class-complexity}&lt;/maximum&gt;\r\n                    &lt;/limit&gt;\r\n                  &lt;/limits&gt;\r\n                &lt;/rule&gt;\r\n                &lt;rule&gt;\r\n                  &lt;element&gt;METHOD&lt;/element&gt;\r\n                  &lt;limits&gt;\r\n                    &lt;limit&gt;\r\n                      &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\r\n                      &lt;value&gt;TOTALCOUNT&lt;/value&gt;\r\n                      &lt;maximum&gt;${jacoco.unit-tests.limit.method-complexity}&lt;/maximum&gt;\r\n                    &lt;/limit&gt;\r\n                  &lt;/limits&gt;\r\n                &lt;/rule&gt;\r\n              &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;reporting&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-javadoc-plugin.version}&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/reporting&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWell, not succeeding in doing so, I then switched to do just like the guide on their github:\r\n[Github link][1]\r\n[Build link][2]\r\n\r\n\r\n  [1]: https://github.com/tdlib/td\r\n  [2]: https://tdlib.github.io/td/build.html\r\n\r\nThe same error occurs when I run their code. \r\n\r\nAfter that, I looked up on the forum, they said that to fix this error, we need to specify the path to `java.library.path`. So I used the code `java - Djava.library.path=C:/Users/PC/td/tdlib/bin/tdjni.dll`\r\n\r\nI did all of that, but none works.\r\nI&#39;m currently using **Windows OS**\r\nI have one more **Mac M1**, but the same error happens here\r\n\r\n","title":"TDLib UnsatisfiedLinkError (no tdjni in java.library.path)","body":"<p>I'm currently struggling to install TDLib for my JAVA project but it always shows the error:<br />\n<code>java.lang.UnsatisfiedLinkError: no tdjni in java.library.path</code></p>\n<p>At first, i tried to create a <strong>Maven</strong> project, then import the required dependency. Here's my pom.xml:</p>\n<pre><code>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;telegram&lt;/groupId&gt;\n  &lt;artifactId&gt;project&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;5.6.0&lt;/junit.version&gt;\n    &lt;maven-enforcer-plugin.version&gt;3.0.0-M3&lt;/maven-enforcer-plugin.version&gt;\n    &lt;maven-checkstyle-plugin.version&gt;3.1.2&lt;/maven-checkstyle-plugin.version&gt;\n    &lt;checkstyle.version&gt;8.45.1&lt;/checkstyle.version&gt;\n    &lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\n    &lt;jacoco-maven-plugin.version&gt;0.8.4&lt;/jacoco-maven-plugin.version&gt;\n    &lt;maven-javadoc-plugin.version&gt;3.0.0&lt;/maven-javadoc-plugin.version&gt;\n    &lt;!-- JaCoCo thresholds. Increase gradually as you add tests. --&gt;\n    &lt;jacoco.unit-tests.limit.instruction-ratio&gt;0%&lt;/jacoco.unit-tests.limit.instruction-ratio&gt;\n    &lt;jacoco.unit-tests.limit.branch-ratio&gt;0%&lt;/jacoco.unit-tests.limit.branch-ratio&gt;\n    &lt;jacoco.unit-tests.limit.class-complexity&gt;20&lt;/jacoco.unit-tests.limit.class-complexity&gt;\n    &lt;jacoco.unit-tests.limit.method-complexity&gt;5&lt;/jacoco.unit-tests.limit.method-complexity&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;ca.denisab85&lt;/groupId&gt;\n    &lt;artifactId&gt;tdlib&lt;/artifactId&gt;\n    &lt;version&gt;v1.8.8-20221107&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;requireMavenVersion&gt;\n                  &lt;version&gt;3.6.3&lt;/version&gt;\n                &lt;/requireMavenVersion&gt;\n              &lt;/rules&gt;\n              &lt;fail&gt;true&lt;/fail&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n            &lt;version&gt;${checkstyle.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ngeor&lt;/groupId&gt;\n            &lt;artifactId&gt;checkstyle-rules&lt;/artifactId&gt;\n            &lt;version&gt;4.9.3&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;configuration&gt;\n          &lt;configLocation&gt;com/github/ngeor/checkstyle.xml&lt;/configLocation&gt;\n          &lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\n          &lt;skip&gt;${skipTests}&lt;/skip&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;checkstyle&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${jacoco-maven-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;pre-unit-test&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;post-unit-test&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;check-unit-test&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;dataFile&gt;${project.build.directory}/jacoco.exec&lt;/dataFile&gt;\n              &lt;rules&gt;\n                &lt;rule&gt;\n                  &lt;element&gt;BUNDLE&lt;/element&gt;\n                  &lt;limits&gt;\n                    &lt;limit&gt;\n                      &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                      &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                      &lt;minimum&gt;${jacoco.unit-tests.limit.instruction-ratio}&lt;/minimum&gt;\n                    &lt;/limit&gt;\n                    &lt;limit&gt;\n                      &lt;counter&gt;BRANCH&lt;/counter&gt;\n                      &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                      &lt;minimum&gt;${jacoco.unit-tests.limit.branch-ratio}&lt;/minimum&gt;\n                    &lt;/limit&gt;\n                  &lt;/limits&gt;\n                &lt;/rule&gt;\n                &lt;rule&gt;\n                  &lt;element&gt;CLASS&lt;/element&gt;\n                  &lt;limits&gt;\n                    &lt;limit&gt;\n                      &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\n                      &lt;value&gt;TOTALCOUNT&lt;/value&gt;\n                      &lt;maximum&gt;${jacoco.unit-tests.limit.class-complexity}&lt;/maximum&gt;\n                    &lt;/limit&gt;\n                  &lt;/limits&gt;\n                &lt;/rule&gt;\n                &lt;rule&gt;\n                  &lt;element&gt;METHOD&lt;/element&gt;\n                  &lt;limits&gt;\n                    &lt;limit&gt;\n                      &lt;counter&gt;COMPLEXITY&lt;/counter&gt;\n                      &lt;value&gt;TOTALCOUNT&lt;/value&gt;\n                      &lt;maximum&gt;${jacoco.unit-tests.limit.method-complexity}&lt;/maximum&gt;\n                    &lt;/limit&gt;\n                  &lt;/limits&gt;\n                &lt;/rule&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;reporting&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-javadoc-plugin.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Well, not succeeding in doing so, I then switched to do just like the guide on their github:\n<a href=\"https://github.com/tdlib/td\" rel=\"nofollow noreferrer\">Github link</a>\n<a href=\"https://tdlib.github.io/td/build.html\" rel=\"nofollow noreferrer\">Build link</a></p>\n<p>The same error occurs when I run their code.</p>\n<p>After that, I looked up on the forum, they said that to fix this error, we need to specify the path to <code>java.library.path</code>. So I used the code <code>java - Djava.library.path=C:/Users/PC/td/tdlib/bin/tdjni.dll</code></p>\n<p>I did all of that, but none works.\nI'm currently using <strong>Windows OS</strong>\nI have one more <strong>Mac M1</strong>, but the same error happens here</p>\n"},{"tags":["java","spring-boot","spring-integration","eclipselink"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":1,"creation_date":1571200441,"post_id":58405670,"comment_id":103156006,"body_markdown":"your main problem is you have two beans **transactionManager** and **transactionManagerSec**  for **JpaTransactionManager**, you need to define one bean as primary **&lt;bean primary=&quot;true|false&quot;/&gt;**","body":"your main problem is you have two beans <b>transactionManager</b> and <b>transactionManagerSec</b>  for <b>JpaTransactionManager</b>, you need to define one bean as primary <b>&lt;bean primary=&quot;true|false&quot;/&gt;</b>"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1571235159,"post_id":58405670,"comment_id":103173581,"body_markdown":"Starting with version `5.2` we log the whole `BeanDefinition` for the component when exception happens: https://github.com/spring-projects/spring-integration/issues/2748. So, such an information must appear in logs for that `PollingConsumer` instance.","body":"Starting with version <code>5.2</code> we log the whole <code>BeanDefinition</code> for the component when exception happens: <a href=\"https://github.com/spring-projects/spring-integration/issues/2748\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration/issues/2748</a>. So, such an information must appear in logs for that <code>PollingConsumer</code> instance."}],"answers":[{"comments":[{"owner":{"account_id":11521305,"reputation":295,"user_id":8442995,"display_name":"Khushbu"},"score":0,"creation_date":1571205273,"post_id":58406003,"comment_id":103157356,"body_markdown":"We have already taken care of that. There are two Eclipselink Jpa Auto configuration files, one having the `@Primary` annotation. Ill update the question with that detail.","body":"We have already taken care of that. There are two Eclipselink Jpa Auto configuration files, one having the <code>@Primary</code> annotation. Ill update the question with that detail."},{"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"score":0,"creation_date":1571205349,"post_id":58406003,"comment_id":103157382,"body_markdown":"@KhushbuTry using `@Transactional` in code to specify the transaction manager to be used.","body":"@KhushbuTry using <code>@Transactional</code> in code to specify the transaction manager to be used."},{"owner":{"account_id":11521305,"reputation":295,"user_id":8442995,"display_name":"Khushbu"},"score":0,"creation_date":1571206106,"post_id":58406003,"comment_id":103157650,"body_markdown":"But then why is the problem intermittent? It comes once in a while. Most of the time it works. That is why we wanted to find out from which `Spring Integration poller` this exception is coming, so we can debug only that `poller`","body":"But then why is the problem intermittent? It comes once in a while. Most of the time it works. That is why we wanted to find out from which <code>Spring Integration poller</code> this exception is coming, so we can debug only that <code>poller</code>"},{"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"score":0,"creation_date":1571207543,"post_id":58406003,"comment_id":103158198,"body_markdown":"@KhushbuI won&#39;t be able to determine that with the available information.Perhaps you could add more logs to the code and test it to identify the path which causes this issue and share the same with us","body":"@KhushbuI won&#39;t be able to determine that with the available information.Perhaps you could add more logs to the code and test it to identify the path which causes this issue and share the same with us"}],"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571202844,"creation_date":1571201824,"answer_id":58406003,"question_id":58405670,"body_markdown":"In your stacktrace it can be seen that :\r\n\r\n    org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.transaction.PlatformTransactionManager] is defined: expected \r\n    single matching bean but found 2: transactionManager,transactionManagerSec\r\n\r\nSo the issue is that spring finds two qualifying beans for autowiring. Try setting one of your bean as primary using the attribute as @Shailesh suggested :\r\n\r\n    &lt;bean primary=&quot;true|false&quot;/&gt;\r\n\r\nor use a qualifier to set the two transaction beans apart and then specify which transaction manager to be used in code like :\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;/&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n            &lt;qualifier value=&quot;transactionManagerOne&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;transactionManagerSec&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactorySecondary&quot;/&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceSec&quot; /&gt;\r\n            &lt;qualifier value=&quot;transactionManagerSecond&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nand when you want to use a particular transaction manager specify it using the annotation like :\r\n\r\n    @Transactional(&quot;transactionManagerOne&quot;)\r\n\r\nNote: You could configure this via xml as well\r\n\r\n&gt; You can use the value attribute of the @Transactional annotation to\r\n&gt; optionally specify the identity of the PlatformTransactionManager to\r\n&gt; be used. This can either be the bean name or the qualifier value of\r\n&gt; the transaction manager bean.The default &lt;tx:annotation-driven&gt; target\r\n&gt; bean name, transactionManager, is still used if no specifically\r\n&gt; qualified PlatformTransactionManager bean is found.\r\n\r\nOfficial [Doc][1] \r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#tx-multiple-tx-mgrs-with-attransactional","title":"NoUniqueBeanDefinitionException when using multiple transaction managers in Spring Integration","body":"<p>In your stacktrace it can be seen that :</p>\n\n<pre><code>org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.transaction.PlatformTransactionManager] is defined: expected \nsingle matching bean but found 2: transactionManager,transactionManagerSec\n</code></pre>\n\n<p>So the issue is that spring finds two qualifying beans for autowiring. Try setting one of your bean as primary using the attribute as @Shailesh suggested :</p>\n\n<pre><code>&lt;bean primary=\"true|false\"/&gt;\n</code></pre>\n\n<p>or use a qualifier to set the two transaction beans apart and then specify which transaction manager to be used in code like :</p>\n\n<pre><code>&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\"/&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;qualifier value=\"transactionManagerOne\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManagerSec\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactorySecondary\"/&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSourceSec\" /&gt;\n        &lt;qualifier value=\"transactionManagerSecond\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and when you want to use a particular transaction manager specify it using the annotation like :</p>\n\n<pre><code>@Transactional(\"transactionManagerOne\")\n</code></pre>\n\n<p>Note: You could configure this via xml as well</p>\n\n<blockquote>\n  <p>You can use the value attribute of the @Transactional annotation to\n  optionally specify the identity of the PlatformTransactionManager to\n  be used. This can either be the bean name or the qualifier value of\n  the transaction manager bean.The default  target\n  bean name, transactionManager, is still used if no specifically\n  qualified PlatformTransactionManager bean is found.</p>\n</blockquote>\n\n<p>Official <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#tx-multiple-tx-mgrs-with-attransactional\" rel=\"nofollow noreferrer\">Doc</a> </p>\n"}],"owner":{"account_id":11521305,"reputation":295,"user_id":8442995,"display_name":"Khushbu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1905,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685715418,"creation_date":1571199220,"question_id":58405670,"body_markdown":"Am using Spring Integration XML configuration for polling some database tables and then doing some processing. Everything was working fine, until we introduced multiple data sources. After that we are getting **intermittent** `NoUniqueBeanDefinitionException` exceptions.\r\n\r\nProblem is we dont know from which `poller` is this exception coming (we are using xml based configuration), since we have a lot of pollers. Since the stack trace shows the `AbstractPollingEndpoint.java`, we looked at all the pollers and verified that the `transaction-manager` is set properly.\r\n\r\nCode:\r\n\r\n```\r\n&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n&lt;/bean&gt;\r\n    \r\n&lt;bean id=&quot;transactionManagerSec&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactorySecondary&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceSec&quot; /&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;jpa:repositories base-package=&quot;com.acme.dao&quot; entity-manager-factory-ref=&quot;entityManagerFactory&quot; transaction-manager-ref=&quot;transactionManager&quot; /&gt;\r\n&lt;jpa:repositories base-package=&quot;com.acme.tmpdao&quot; entity-manager-factory-ref=&quot;entityManagerFactorySecondary&quot; transaction-manager-ref=&quot;transactionManagerSec&quot; /&gt;\r\n\r\n&lt;bean class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; primary=&quot;true&quot; id=&quot;entityManagerFactory&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;${spring.persistence.unitname}&quot; /&gt;\r\n        &lt;property name=&quot;persistenceProvider&quot; ref=&quot;eclipsePP&quot; /&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; primary=&quot;false&quot; id=&quot;entityManagerFactorySecondary&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceSec&quot;/&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;${spring.secondary.persistence.unitname}&quot; /&gt;\r\n        &lt;property name=&quot;persistenceProvider&quot; ref=&quot;eclipsePPSec&quot; /&gt;\r\n&lt;/bean&gt;\r\n    \r\n&lt;bean class=&quot;org.eclipse.persistence.jpa.PersistenceProvider&quot; id=&quot;eclipsePP&quot; /&gt;\r\n&lt;bean class=&quot;org.eclipse.persistence.jpa.PersistenceProvider&quot; id=&quot;eclipsePPSec&quot; /&gt;\r\n\r\n&lt;int:transaction-synchronization-factory id=&quot;txSyncFactory&quot;&gt;\r\n        &lt;int:before-commit channel=&quot;updateEntityChannel&quot; /&gt;\r\n&lt;/int:transaction-synchronization-factory&gt;\r\n\r\n&lt;int-jpa:inbound-channel-adapter id=&quot;procStateAdapter&quot;  channel=&quot;inProcStateChannel&quot;\r\n                    entity-manager=&quot;entityManagerFactory&quot;\r\n                    auto-startup=&quot;true&quot;\r\n                    jpa-query=&quot;select &lt;SqlQuery&gt; order by en.lastUpdatedTime&quot;\r\n                    max-results=&quot;10&quot;\r\n                    &gt;\r\n        &lt;int:poller max-messages-per-poll=&quot;10&quot; fixed-rate=&quot;10&quot; &gt;\r\n            &lt;int:transactional propagation=&quot;REQUIRES_NEW&quot; transaction-manager=&quot;transactionManager&quot; synchronization-factory=&quot;txSyncFactory&quot;/&gt;\r\n        &lt;/int:poller&gt;\r\n    &lt;/int-jpa:inbound-channel-adapter&gt;\r\n```\r\n\r\n\r\n\r\n```\r\n2019-10-13 07:51:16,625 [task-scheduler-5] ERROR o.s.i.h.LoggingHandler:handleMessageInternal:192 - org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.transaction.PlatformTransactionManager] is defined: expected single matching bean but found 2: transactionManager,transactionManagerSec\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:368)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:334)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.determineTransactionManager(TransactionAspectSupport.java:366)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n        at com.sun.proxy.$Proxy409.toString(Unknown Source)\r\n        at java.lang.String.valueOf(String.java:2994)\r\n        at java.lang.StringBuilder.append(StringBuilder.java:131)\r\n        at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:141)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:272)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.access$000(AbstractPollingEndpoint.java:58)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$1.call(AbstractPollingEndpoint.java:190)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$1.call(AbstractPollingEndpoint.java:186)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$1.run(AbstractPollingEndpoint.java:353)\r\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor$1.run(ErrorHandlingTaskExecutor.java:55)\r\n        at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:344)\r\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\nIs there any way to find out the `id` of the poller that is at the beginning of the `AbstractPollingEndpoint$Poller$1.run` from the stack below so we can debug this further?\r\n\r\nOr anything else that is missing from our config for multiple data source.\r\n","title":"NoUniqueBeanDefinitionException when using multiple transaction managers in Spring Integration","body":"<p>Am using Spring Integration XML configuration for polling some database tables and then doing some processing. Everything was working fine, until we introduced multiple data sources. After that we are getting <strong>intermittent</strong> <code>NoUniqueBeanDefinitionException</code> exceptions.</p>\n\n<p>Problem is we dont know from which <code>poller</code> is this exception coming (we are using xml based configuration), since we have a lot of pollers. Since the stack trace shows the <code>AbstractPollingEndpoint.java</code>, we looked at all the pollers and verified that the <code>transaction-manager</code> is set properly.</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\"/&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManagerSec\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactorySecondary\"/&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSourceSec\" /&gt;\n&lt;/bean&gt;\n\n&lt;jpa:repositories base-package=\"com.acme.dao\" entity-manager-factory-ref=\"entityManagerFactory\" transaction-manager-ref=\"transactionManager\" /&gt;\n&lt;jpa:repositories base-package=\"com.acme.tmpdao\" entity-manager-factory-ref=\"entityManagerFactorySecondary\" transaction-manager-ref=\"transactionManagerSec\" /&gt;\n\n&lt;bean class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\" primary=\"true\" id=\"entityManagerFactory\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"${spring.persistence.unitname}\" /&gt;\n        &lt;property name=\"persistenceProvider\" ref=\"eclipsePP\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\" primary=\"false\" id=\"entityManagerFactorySecondary\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSourceSec\"/&gt;\n        &lt;property name=\"persistenceUnitName\" value=\"${spring.secondary.persistence.unitname}\" /&gt;\n        &lt;property name=\"persistenceProvider\" ref=\"eclipsePPSec\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=\"org.eclipse.persistence.jpa.PersistenceProvider\" id=\"eclipsePP\" /&gt;\n&lt;bean class=\"org.eclipse.persistence.jpa.PersistenceProvider\" id=\"eclipsePPSec\" /&gt;\n\n&lt;int:transaction-synchronization-factory id=\"txSyncFactory\"&gt;\n        &lt;int:before-commit channel=\"updateEntityChannel\" /&gt;\n&lt;/int:transaction-synchronization-factory&gt;\n\n&lt;int-jpa:inbound-channel-adapter id=\"procStateAdapter\"  channel=\"inProcStateChannel\"\n                    entity-manager=\"entityManagerFactory\"\n                    auto-startup=\"true\"\n                    jpa-query=\"select &lt;SqlQuery&gt; order by en.lastUpdatedTime\"\n                    max-results=\"10\"\n                    &gt;\n        &lt;int:poller max-messages-per-poll=\"10\" fixed-rate=\"10\" &gt;\n            &lt;int:transactional propagation=\"REQUIRES_NEW\" transaction-manager=\"transactionManager\" synchronization-factory=\"txSyncFactory\"/&gt;\n        &lt;/int:poller&gt;\n    &lt;/int-jpa:inbound-channel-adapter&gt;\n</code></pre>\n\n<pre><code>2019-10-13 07:51:16,625 [task-scheduler-5] ERROR o.s.i.h.LoggingHandler:handleMessageInternal:192 - org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.transaction.PlatformTransactionManager] is defined: expected single matching bean but found 2: transactionManager,transactionManagerSec\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:368)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:334)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.determineTransactionManager(TransactionAspectSupport.java:366)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n        at com.sun.proxy.$Proxy409.toString(Unknown Source)\n        at java.lang.String.valueOf(String.java:2994)\n        at java.lang.StringBuilder.append(StringBuilder.java:131)\n        at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:141)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:272)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.access$000(AbstractPollingEndpoint.java:58)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$1.call(AbstractPollingEndpoint.java:190)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$1.call(AbstractPollingEndpoint.java:186)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller$1.run(AbstractPollingEndpoint.java:353)\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor$1.run(ErrorHandlingTaskExecutor.java:55)\n        at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:51)\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint$Poller.run(AbstractPollingEndpoint.java:344)\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>Is there any way to find out the <code>id</code> of the poller that is at the beginning of the <code>AbstractPollingEndpoint$Poller$1.run</code> from the stack below so we can debug this further?</p>\n\n<p>Or anything else that is missing from our config for multiple data source.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1681358555,"post_id":76001501,"comment_id":134044318,"body_markdown":"It&#39;s impossible to get that.","body":"It&#39;s impossible to get that."},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681362911,"post_id":76001501,"comment_id":134044766,"body_markdown":"you can set a breakpoint (or print stacktrace) to see the call hierarchy....","body":"you can set a breakpoint (or print stacktrace) to see the call hierarchy...."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681400493,"post_id":76001501,"comment_id":134053677,"body_markdown":"Does this answer your question? [Printing debug info on errors with java 8 lambda expressions](https://stackoverflow.com/questions/21860875/printing-debug-info-on-errors-with-java-8-lambda-expressions)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21860875/printing-debug-info-on-errors-with-java-8-lambda-expressions\">Printing debug info on errors with java 8 lambda expressions</a>"},{"owner":{"account_id":275586,"reputation":2166,"user_id":7823836,"display_name":"Long Quanzheng"},"score":0,"creation_date":1681404193,"post_id":76001501,"comment_id":134054550,"body_markdown":"Thanks. I think that question is related yeah. But not quite exactly. I think even my problem is more on Java reflection and looks like there is no solution due to the limitation of Java lambda. But this may change in the future (hopefully)","body":"Thanks. I think that question is related yeah. But not quite exactly. I think even my problem is more on Java reflection and looks like there is no solution due to the limitation of Java lambda. But this may change in the future (hopefully)"}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1681385501,"post_id":76002367,"comment_id":134049462,"body_markdown":"Unless the lambda is serializable...","body":"Unless the lambda is serializable..."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681368062,"creation_date":1681368062,"answer_id":76002367,"question_id":76001501,"body_markdown":"You cannot do that.  Lambdas do not carry that information in a way that you can access.","title":"How to get the method name that is passed as a lambda parameter in Java","body":"<p>You cannot do that.  Lambdas do not carry that information in a way that you can access.</p>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685715059,"creation_date":1685632660,"answer_id":76383414,"question_id":76001501,"body_markdown":"This is doable, but only via a hack, so there&#39;s no guarantee it will work on each VM.\r\n\r\nWith that out of the way, here&#39;s how to do it:\r\n\r\n**1.** Make your functional interface extend `Serializable`:\r\n\r\n    @FunctionalInterface\r\n    public interface MyRPC extends Serializable {\r\n        Object execute(Object input);\r\n    }\r\n\r\nIts instances will now have an internal method called `writeReplace` that can be used to extract a `SerializedLambda` that will contain metadata.\r\n\r\n**2.** Extract the class/method info from `SerializedLambda` (you can add the code to some utility class, or the functional interface itself):\r\n\r\n    @FunctionalInterface\r\n    public interface MyRPC extends Serializable {\r\n        Object execute(Object input);\r\n        \r\n        default SerializedLambda serialized() {\r\n            try {\r\n                Method replaceMethod = getClass().getDeclaredMethod(&quot;writeReplace&quot;);\r\n                replaceMethod.setAccessible(true);\r\n                return (SerializedLambda) replaceMethod.invoke(this);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        default String getImplClassName() {\r\n            return serialized().getImplClass().replaceAll(&quot;/&quot;, &quot;.&quot;);\r\n        }\r\n    \r\n        default String getImplMethodName() {\r\n            return serialized().getImplMethodName();\r\n        }\r\n    }\r\n\r\n**3.** Enjoy the fruits of your hackery:\r\n\r\n    public static Object invokeRpc(MyRPC rpc, Object input) {\r\n        System.out.println(rpc.getImplMethodName()); //&#129395;\r\n        return rpc.execute(input);\r\n    }","title":"How to get the method name that is passed as a lambda parameter in Java","body":"<p>This is doable, but only via a hack, so there's no guarantee it will work on each VM.</p>\n<p>With that out of the way, here's how to do it:</p>\n<p><strong>1.</strong> Make your functional interface extend <code>Serializable</code>:</p>\n<pre><code>@FunctionalInterface\npublic interface MyRPC extends Serializable {\n    Object execute(Object input);\n}\n</code></pre>\n<p>Its instances will now have an internal method called <code>writeReplace</code> that can be used to extract a <code>SerializedLambda</code> that will contain metadata.</p>\n<p><strong>2.</strong> Extract the class/method info from <code>SerializedLambda</code> (you can add the code to some utility class, or the functional interface itself):</p>\n<pre><code>@FunctionalInterface\npublic interface MyRPC extends Serializable {\n    Object execute(Object input);\n    \n    default SerializedLambda serialized() {\n        try {\n            Method replaceMethod = getClass().getDeclaredMethod(&quot;writeReplace&quot;);\n            replaceMethod.setAccessible(true);\n            return (SerializedLambda) replaceMethod.invoke(this);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    default String getImplClassName() {\n        return serialized().getImplClass().replaceAll(&quot;/&quot;, &quot;.&quot;);\n    }\n\n    default String getImplMethodName() {\n        return serialized().getImplMethodName();\n    }\n}\n</code></pre>\n<p><strong>3.</strong> Enjoy the fruits of your hackery:</p>\n<pre><code>public static Object invokeRpc(MyRPC rpc, Object input) {\n    System.out.println(rpc.getImplMethodName()); //🥳\n    return rpc.execute(input);\n}\n</code></pre>\n"}],"owner":{"account_id":275586,"reputation":2166,"user_id":7823836,"display_name":"Long Quanzheng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685715059,"creation_date":1681358210,"question_id":76001501,"body_markdown":"For example:\r\n```Java\r\n@FunctionalInterface\r\npublic interface MyRPC {\r\n    Object execute(Object input);\r\n}\r\n\r\npublic class MyImpl{\r\n    public Object rpc1(Object input) {\r\n        System.out.Println(input)\r\n        return 100;\r\n    }\r\n\r\n    public static Object invokeRpc(MyRPC rpc, Object input) {\r\n        // TODO: How can I get the name of the method passed in, like &quot;rpc1&quot; or &quot;MyImpl::rpc1&quot; here?\r\n        return rpc.execute(input);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final MyWfImpl myc = new MyWfImpl();\r\n        invokeRpc(myc::rpc1, 1)\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nIn `invokeRpc`, How can I get the rpc name like &quot;rpc1&quot; or &quot;MyImpl::rpc1&quot;?","title":"How to get the method name that is passed as a lambda parameter in Java","body":"<p>For example:</p>\n<pre><code>@FunctionalInterface\npublic interface MyRPC {\n    Object execute(Object input);\n}\n\npublic class MyImpl{\n    public Object rpc1(Object input) {\n        System.out.Println(input)\n        return 100;\n    }\n\n    public static Object invokeRpc(MyRPC rpc, Object input) {\n        // TODO: How can I get the name of the method passed in, like &quot;rpc1&quot; or &quot;MyImpl::rpc1&quot; here?\n        return rpc.execute(input);\n    }\n\n    public static void main(String[] args) {\n        final MyWfImpl myc = new MyWfImpl();\n        invokeRpc(myc::rpc1, 1)\n    }\n}\n\n\n</code></pre>\n<p>In <code>invokeRpc</code>, How can I get the rpc name like &quot;rpc1&quot; or &quot;MyImpl::rpc1&quot;?</p>\n"},{"tags":["java","android","rx-java","rx-java2"],"comments":[{"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"score":0,"creation_date":1664309459,"post_id":73871705,"comment_id":130441175,"body_markdown":"This helps https://stackoverflow.com/a/28405340/2649154.","body":"This helps <a href=\"https://stackoverflow.com/a/28405340/2649154\">stackoverflow.com/a/28405340/2649154</a>."}],"answers":[{"tags":[],"owner":{"account_id":11522443,"reputation":171,"user_id":8443821,"display_name":"Avik Chowdhury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685714467,"creation_date":1685714467,"answer_id":76390833,"question_id":73871705,"body_markdown":"The `doOnNext` operator allows you to perform a side effect action, such as logging or additional processing, for each emitted item without modifying or consuming the item itself. \r\n\r\nThe `subscribe` method is used to consume the items and define the behavior of the Observer. This is typically the final step in the observable chain.\r\n\r\n    Observable.range(1, 5)\r\n        .doOnNext(number -&gt; System.out.println(&quot;Current number: &quot; + number))//logging\r\n        .map{number -&gt; number*2}\r\n        .subscribe(System.out::println); //will print [2,4,6,8,10]","title":"RxJava Observable doOnNext vs subscribe()","body":"<p>The <code>doOnNext</code> operator allows you to perform a side effect action, such as logging or additional processing, for each emitted item without modifying or consuming the item itself.</p>\n<p>The <code>subscribe</code> method is used to consume the items and define the behavior of the Observer. This is typically the final step in the observable chain.</p>\n<pre><code>Observable.range(1, 5)\n    .doOnNext(number -&gt; System.out.println(&quot;Current number: &quot; + number))//logging\n    .map{number -&gt; number*2}\n    .subscribe(System.out::println); //will print [2,4,6,8,10]\n</code></pre>\n"}],"owner":{"account_id":20642121,"reputation":7,"user_id":15154524,"display_name":"dman224"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685714467,"creation_date":1664300219,"question_id":73871705,"body_markdown":"I&#39;m not quite understanding the difference between using an observable&#39;s doOnNext/doOnSubscribe/doOnComplete versus passing in an observer through the observable&#39;s subscribe function. These two seem to do the same thing to me. Can someone give me a use case where I would use one over the other?\r\n\r\n                                    Observable.interval(1, TimeUnit.SECONDS)\r\n                                        .take(30)\r\n                                        .map(v -&gt; v + 1) \r\n                                        .observeOn(AndroidSchedulers.mainThread())\r\n                                        .doOnNext(new Consumer&lt;Long&gt;() {\r\n                                            @Override\r\n                                            public void accept(Long aLong) throws Throwable {\r\n                                                // update UI \r\n                                            }\r\n                                        })\r\n\r\n                                Observable.interval(1, TimeUnit.SECONDS)\r\n                                        .take(30)\r\n                                        .map(v -&gt; v + 1)\r\n                                        .observeOn(AndroidSchedulers.mainThread())\r\n                                        .subscribe(new Observer&lt;Long&gt;() {\r\n                                            @Override\r\n                                            public void onSubscribe(@NonNull Disposable d) {\r\n                                                \r\n                                            }\r\n\r\n                                            @Override\r\n                                            public void onNext(@NonNull Long aLong) {\r\n                                                  // update ui\r\n                                            }\r\n\r\n                                            @Override\r\n                                            public void onError(@NonNull Throwable e) {\r\n\r\n                                            }\r\n\r\n                                            @Override\r\n                                            public void onComplete() {\r\n\r\n                                            }\r\n                                        })","title":"RxJava Observable doOnNext vs subscribe()","body":"<p>I'm not quite understanding the difference between using an observable's doOnNext/doOnSubscribe/doOnComplete versus passing in an observer through the observable's subscribe function. These two seem to do the same thing to me. Can someone give me a use case where I would use one over the other?</p>\n<pre><code>                                Observable.interval(1, TimeUnit.SECONDS)\n                                    .take(30)\n                                    .map(v -&gt; v + 1) \n                                    .observeOn(AndroidSchedulers.mainThread())\n                                    .doOnNext(new Consumer&lt;Long&gt;() {\n                                        @Override\n                                        public void accept(Long aLong) throws Throwable {\n                                            // update UI \n                                        }\n                                    })\n\n                            Observable.interval(1, TimeUnit.SECONDS)\n                                    .take(30)\n                                    .map(v -&gt; v + 1)\n                                    .observeOn(AndroidSchedulers.mainThread())\n                                    .subscribe(new Observer&lt;Long&gt;() {\n                                        @Override\n                                        public void onSubscribe(@NonNull Disposable d) {\n                                            \n                                        }\n\n                                        @Override\n                                        public void onNext(@NonNull Long aLong) {\n                                              // update ui\n                                        }\n\n                                        @Override\n                                        public void onError(@NonNull Throwable e) {\n\n                                        }\n\n                                        @Override\n                                        public void onComplete() {\n\n                                        }\n                                    })\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1685717349,"post_id":76390826,"comment_id":134704667,"body_markdown":"If this project is for school purposes, the runtime permissions can be given manually from your app&#39;s settings. You can do it so for your convenience in case you don&#39;t want to implement handling of runtime permissions.","body":"If this project is for school purposes, the runtime permissions can be given manually from your app&#39;s settings. You can do it so for your convenience in case you don&#39;t want to implement handling of runtime permissions."}],"owner":{"account_id":28737105,"reputation":1,"user_id":22007973,"display_name":"dominik28"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685714419,"creation_date":1685714419,"question_id":76390826,"body_markdown":"I&#180;m currently trying to create a BLE connection for a project in school. I&#180;m new to coding and it&#180;s my first time to program a BLE-Connection. I used the Android Developer instructions and it&#180;s currently possible to scan for BLE-Devices and try to connect. But the onConnectionStateChanged() is never called, so I&#180;m not able to connect to the device. I already read some similar questions on StackOverflow from others with the same problem, but the suggested solutions couldn&#180;t help me. I also read that&#180;s it could be a problem with Android 12+, but i also couldn&#180;t find any solutions for it. \r\n\r\nThis is my code, it may be a little confusing for experienced people, but I&#39;m not that experienced yet and currently just want the code to work before I write everything into subprograms\r\n\r\nManifest:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;\r\n        android:maxSdkVersion=&quot;30&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;\r\n        android:maxSdkVersion=&quot;30&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\r\n        android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot;  android:required=&quot;true&quot; /&gt;\r\n```\r\n\r\nMainActivity:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private final String TAG = MainActivity.class.getSimpleName();\r\n    private static final UUID BT_MODULE_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n    private static final long SCAN_PERIOD = 10000;\r\n\r\n    private final String LIST_NAME = &quot;NAME&quot;;\r\n    private final String LIST_UUID = &quot;UUID&quot;;\r\n\r\n    private Button mScanBtn;\r\n    private Button mListPairedDevicesBtn;\r\n    private Button mDiscoverBtn;\r\n    private Button mDisconnect;\r\n    private ListView mDevicesListView;\r\n\r\n    private BluetoothLeService bluetoothService;\r\n    private String deviceAddress;\r\n    boolean connected;\r\n\r\n    private BluetoothAdapter mBTAdapter = null;\r\n    private BluetoothLeScanner mScanner;\r\n    private Set&lt;BluetoothDevice&gt; mPairedDevices;\r\n    private ArrayAdapter&lt;String&gt; mBTArrayAdapter;\r\n    private BluetoothManager bluetoothManager;\r\n    private ArrayList&lt;ArrayList&lt;BluetoothGattCharacteristic&gt;&gt; GattCharacteristics =\r\n            new ArrayList&lt;ArrayList&lt;BluetoothGattCharacteristic&gt;&gt;();\r\n\r\n\r\n    private Handler mHandler;\r\n    private boolean scanning;\r\n    private ScanCallback mLeScanCallback = new ScanCallback() {\r\n        @Override\r\n        public void onScanResult(int callbackType, ScanResult result) {\r\n            super.onScanResult(callbackType, result);\r\n            BluetoothDevice device = result.getDevice();\r\n            mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n            mBTArrayAdapter.notifyDataSetChanged();\r\n        }\r\n    };\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mScanBtn = (Button) findViewById(R.id.btn_BT_ON);\r\n        mListPairedDevicesBtn = (Button) findViewById(R.id.btn_show_paireddvc);\r\n        mDiscoverBtn = (Button) findViewById(R.id.btn_discover_dvc);\r\n        mDisconnect = (Button) findViewById(R.id.btn_disconnect);\r\n        mDevicesListView = (ListView) findViewById(R.id.lv_devicelist);\r\n\r\n        mHandler = new Handler();\r\n        mBTArrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\r\n        bluetoothManager  = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n        mBTAdapter = bluetoothManager.getAdapter();\r\n        mScanner = mBTAdapter.getBluetoothLeScanner();\r\n\r\n        mDevicesListView.setAdapter(mBTArrayAdapter);\r\n        mDevicesListView.setOnItemClickListener(mDeviceClickListener);\r\n\r\n        Intent gattServiceIntent = new Intent(this, BluetoothLeService.class);\r\n        bindService(gattServiceIntent, serviceConnection, Context.BIND_AUTO_CREATE);\r\n\r\n        if(mBTAdapter==null){\r\n            Log.d(TAG,&quot;Device does not support Bluetooth&quot;);\r\n        }\r\n        else{\r\n            mScanBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_ADVERTISE) == PackageManager.PERMISSION_DENIED)\r\n                    {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\r\n                        {\r\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{android.Manifest.permission.BLUETOOTH_ADVERTISE}, 2);\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED)\r\n                    {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\r\n                        {\r\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 2);\r\n                            return;\r\n                        }\r\n                    }\r\n                    bluetoothDiscoverable();\r\n                }\r\n            });\r\n            mListPairedDevicesBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v){\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED)\r\n                    {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\r\n                        {\r\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 2);\r\n                            return;\r\n                        }\r\n                    }\r\n                    listPairedDevices();\r\n                }\r\n            });\r\n            mDiscoverBtn.setOnClickListener(new View.OnClickListener(){\r\n                @Override\r\n                public void onClick(View v){\r\n\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) == PackageManager.PERMISSION_DENIED)\r\n                    {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\r\n                        {\r\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2);\r\n                            return;\r\n                        }\r\n                    }\r\n                    discover();\r\n                }\r\n            });\r\n            mDisconnect.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    bluetoothService.disconnect();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        registerReceiver(gattUpdateReceiver, makeGattUpdateIntentFilter());\r\n        if (bluetoothService != null) {\r\n            final boolean result = bluetoothService.connect(deviceAddress);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        unregisterReceiver(gattUpdateReceiver);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        bluetoothService.close();\r\n        unregisterReceiver(gattUpdateReceiver);\r\n        unregisterReceiver(b1receiver);\r\n    }\r\n\r\n    private AdapterView.OnItemClickListener mDeviceClickListener = new AdapterView.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n            String info = ((TextView) view).getText().toString();\r\n            deviceAddress = info.substring(info.length() - 17);\r\n            mScanner.stopScan(mLeScanCallback);\r\n            Toast.makeText(getApplicationContext(), deviceAddress, Toast.LENGTH_SHORT).show();\r\n            if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED)\r\n            {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\r\n                {\r\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 2);\r\n                    return;\r\n                }\r\n            }\r\n            bluetoothService.connect(deviceAddress);\r\n\r\n        }\r\n    };\r\n\r\n    private void bluetoothDiscoverable() {\r\n        Intent discoverableIntent = new Intent(ACTION_REQUEST_DISCOVERABLE);\r\n        discoverableIntent.putExtra(EXTRA_DISCOVERABLE_DURATION,300);\r\n        startActivity(discoverableIntent);\r\n\r\n        IntentFilter intentFilter = new IntentFilter(mBTAdapter.ACTION_SCAN_MODE_CHANGED);\r\n        registerReceiver(b1receiver,intentFilter);\r\n        Toast.makeText(getApplicationContext(),&quot;Device is now discoverable for 300 seconds&quot;,Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private void discover(){\r\n        if(!scanning){\r\n            mHandler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    scanning = false;\r\n                    mScanner.stopScan(mLeScanCallback);\r\n                }\r\n            }, SCAN_PERIOD);\r\n            scanning = true;\r\n            mScanner.startScan(mLeScanCallback);\r\n        }else{\r\n            scanning = false;\r\n            mScanner.stopScan(mLeScanCallback);\r\n        }\r\n    }\r\n\r\n    private void listPairedDevices(){\r\n        mBTArrayAdapter.clear();\r\n        mPairedDevices = mBTAdapter.getBondedDevices();\r\n        if(mBTAdapter.isEnabled()) {\r\n            // put it&#39;s one to the adapter\r\n            for (BluetoothDevice device : mPairedDevices)\r\n                mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n        }\r\n        else\r\n            Toast.makeText(getApplicationContext(), &quot;BT not on&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n    private final BroadcastReceiver b1receiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            final String action = intent.getAction();\r\n\r\n            if(action.equals(ACTION_SCAN_MODE_CHANGED)){\r\n                int mode = intent.getIntExtra(EXTRA_SCAN_MODE, ERROR);\r\n\r\n                switch (mode) {\r\n                    //Device is in discoverable Mode\r\n                    case SCAN_MODE_CONNECTABLE_DISCOVERABLE:\r\n                        Toast.makeText(getApplicationContext(), &quot;Discoverability Enabled&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    //Device not in discoverable mode\r\n                    case SCAN_MODE_CONNECTABLE:\r\n                        Toast.makeText(getApplicationContext(), &quot;Discoverability Enabled. Able to receive connections&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case SCAN_MODE_NONE:\r\n                        Toast.makeText(getApplicationContext(), &quot;Discoverability Disabled. &quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case STATE_CONNECTING:\r\n                        Toast.makeText(getApplicationContext(), &quot;Connecting...&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case STATE_CONNECTED:\r\n                        Toast.makeText(getApplicationContext(), &quot;Connected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    private final BroadcastReceiver gattUpdateReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            final String action = intent.getAction();\r\n            if (BluetoothLeService.ACTION_GATT_CONNECTED.equals(action)) {\r\n                connected = true;\r\n            } else if (BluetoothLeService.ACTION_GATT_DISCONNECTED.equals(action)) {\r\n                connected = false;\r\n            }else if (BluetoothLeService.ACTION_GATT_SERVICE_DISCOVERED.equals(action)){\r\n                //displayGattServices(bluetoothService.getSupportedGattServices());\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    private final ServiceConnection serviceConnection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            bluetoothService = ((BluetoothLeService.LocalBinder) service).getService();\r\n            if (bluetoothService != null) {\r\n                if(!bluetoothService.initialize()){\r\n                    Toast.makeText(getApplicationContext(), &quot;No connection done&quot;, Toast.LENGTH_SHORT).show();\r\n                    finish();\r\n                }\r\n                bluetoothService.connect(deviceAddress);\r\n                Toast.makeText(getApplicationContext(), &quot;connect() not called&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            Toast.makeText(getApplicationContext(), &quot;Disconnected&quot;, Toast.LENGTH_SHORT).show();\r\n            bluetoothService = null;\r\n        }\r\n    };\r\n private IntentFilter makeGattUpdateIntentFilter() {\r\n        final IntentFilter intentFilter = new IntentFilter();\r\n        intentFilter.addAction(BluetoothLeService.ACTION_GATT_CONNECTED);\r\n        intentFilter.addAction(BluetoothLeService.ACTION_GATT_DISCONNECTED);\r\n        return intentFilter;\r\n    }\r\n}\r\n```\r\n\r\nBluetoothLeService:\r\n\r\n```\r\npublic class BluetoothLeService extends Service {\r\n\r\n    public final static String ACTION_GATT_CONNECTED =\r\n            &quot;com.example.bluetooth.le.ACTION_GATT_CONNECTED&quot;;\r\n    public final static String ACTION_GATT_DISCONNECTED =\r\n            &quot;com.example.bluetooth.le.ACTION_GATT_DISCONNECTED&quot;;\r\n    public final static String ACTION_GATT_SERVICE_DISCOVERED =\r\n            &quot;com.example.bluetooth.le.ACTION_GATT_SERVICES_DISCOVERED&quot;;\r\n    public final static String ACTION_DATA_AVAILABLE =\r\n            &quot;com.example.bluetooth.le.ACTION_DATA_AVAILABLE&quot;;\r\n    public final static String EXTRA_DATA =\r\n            &quot;com.example.bluetooth.le.EXTRA_DATA&quot;;\r\n    private static final int STATE_DISCONNECTED = 0;\r\n    private static final int STATE_CONNECTING = 1;\r\n    private static final int STATE_CONNECTED = 2;\r\n\r\n    private int connectionState;\r\n    private final IBinder binder = new LocalBinder();\r\n    private BluetoothGatt bluetoothGatt;\r\n    private BluetoothAdapter BTAdapter;\r\n    private BluetoothManager BTManager;\r\n    public String BluetoothDeviceAddress;\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return binder;\r\n    }\r\n\r\n    public class LocalBinder extends Binder {\r\n        public BluetoothLeService getService() {\r\n            return BluetoothLeService.this;\r\n        }\r\n    }\r\n\r\n    private final BluetoothGattCallback bluetoothGattCallback = new BluetoothGattCallback() {\r\n        @Override\r\n        public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n            Toast.makeText(getApplicationContext(), &quot;GattCallback called&quot;, Toast.LENGTH_SHORT).show();\r\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                // successfully connected to the GATT Server\r\n                connectionState = STATE_CONNECTED;\r\n                broadcastUpdate(ACTION_GATT_CONNECTED);\r\n                Toast.makeText(getApplicationContext(), &quot;Connected&quot;, Toast.LENGTH_SHORT).show();\r\n                bluetoothGatt.discoverServices();\r\n            } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\r\n                // disconnected from the GATT Server\r\n                connectionState = STATE_DISCONNECTED;\r\n                broadcastUpdate(ACTION_GATT_DISCONNECTED);\r\n                Toast.makeText(getApplicationContext(), &quot;No Connection possible&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n            super.onServicesDiscovered(gatt, status);\r\n            if(status == BluetoothGatt.GATT_SUCCESS){\r\n                broadcastUpdate(ACTION_GATT_SERVICE_DISCOVERED);\r\n            }else{\r\n                Toast.makeText(getApplicationContext(), &quot;onServiceDiscovered received: &quot;+status, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n            super.onCharacteristicRead(gatt, characteristic, status);\r\n             {\r\n                if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                    broadcastUpdate(ACTION_DATA_AVAILABLE, characteristic);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n            super.onCharacteristicChanged(gatt, characteristic);\r\n            broadcastUpdate(ACTION_DATA_AVAILABLE,characteristic);\r\n        }\r\n    };\r\n\r\n    private void broadcastUpdate(final String action,\r\n                                 final BluetoothGattCharacteristic characteristic) {\r\n        final Intent intent = new Intent(action);\r\n        sendBroadcast(intent);\r\n    }\r\n\r\n    private void broadcastUpdate(final String action) {\r\n        final Intent intent = new Intent(action);\r\n        sendBroadcast(intent);\r\n    }\r\n\r\n    public boolean initialize() {\r\n        BTManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n        BTAdapter = BTManager.getAdapter();\r\n        if (BTAdapter == null) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public boolean connect(String address) {\r\n        if (BTAdapter == null || address == null) {\r\n            return false;\r\n        }\r\n        // Previously connected device.  Try to reconnect.\r\n        if (BluetoothDeviceAddress != null &amp;&amp; address.equals(BluetoothDeviceAddress)\r\n                &amp;&amp; bluetoothGatt != null) {\r\n            if (bluetoothGatt.connect()) {\r\n                connectionState = STATE_CONNECTING;\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        BluetoothDevice device = BTAdapter.getRemoteDevice(address);\r\n        if (device == null) {\r\n            return false;\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            Toast.makeText(getApplicationContext(), &quot;ConnectGatt&quot;, Toast.LENGTH_SHORT).show();\r\n            bluetoothGatt = device.connectGatt(this,false,bluetoothGattCallback,2);\r\n        }\r\n        connectionState = STATE_CONNECTING;\r\n        BluetoothDeviceAddress = address;\r\n        return true;\r\n    }\r\n\r\n\r\n    public void disconnect() {\r\n        if (BTAdapter == null || bluetoothGatt == null) {\r\n            return;\r\n        }\r\n        bluetoothGatt.disconnect();\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onUnbind(Intent intent) {\r\n        close();\r\n        return super.onUnbind(intent);\r\n    }\r\n\r\n    public void close() {\r\n        if (bluetoothGatt == null) {\r\n            return;\r\n        }\r\n        bluetoothGatt.close();\r\n        bluetoothGatt = null;\r\n    }\r\n\r\n    public List&lt;BluetoothGattService&gt; getSupportedGattServices(){\r\n        if(bluetoothGatt==null){\r\n            return null;\r\n        }\r\n        return bluetoothGatt.getServices();\r\n    }\r\n\r\n    public void setCharacteristicNotification(BluetoothGattCharacteristic characteristic,boolean enabled) {\r\n        if (bluetoothGatt == null) {\r\n            Toast.makeText(getApplicationContext(), &quot;BluetoothGatt not initialized&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        bluetoothGatt.setCharacteristicNotification(characteristic, enabled);\r\n    }\r\n\r\n    public void readCharacteristic(BluetoothGattCharacteristic characteristic) {\r\n        if (bluetoothGatt == null) {\r\n            Toast.makeText(getApplicationContext(), &quot;BluetoothGatt not initialized&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        bluetoothGatt.readCharacteristic(characteristic);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI tried some suggested solutions like to stop the Scan when i want to connect to the device, or to call up the runtime permission before i want to establish the connection. ","title":"Bluetooth Low Energy - BluetoothGattCallback onConnectionStateChanged() never called","body":"<p>I´m currently trying to create a BLE connection for a project in school. I´m new to coding and it´s my first time to program a BLE-Connection. I used the Android Developer instructions and it´s currently possible to scan for BLE-Devices and try to connect. But the onConnectionStateChanged() is never called, so I´m not able to connect to the device. I already read some similar questions on StackOverflow from others with the same problem, but the suggested solutions couldn´t help me. I also read that´s it could be a problem with Android 12+, but i also couldn´t find any solutions for it.</p>\n<p>This is my code, it may be a little confusing for experienced people, but I'm not that experienced yet and currently just want the code to work before I write everything into subprograms</p>\n<p>Manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;\n        android:maxSdkVersion=&quot;30&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;\n        android:maxSdkVersion=&quot;30&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\n        android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot;  android:required=&quot;true&quot; /&gt;\n</code></pre>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private final String TAG = MainActivity.class.getSimpleName();\n    private static final UUID BT_MODULE_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n    private static final long SCAN_PERIOD = 10000;\n\n    private final String LIST_NAME = &quot;NAME&quot;;\n    private final String LIST_UUID = &quot;UUID&quot;;\n\n    private Button mScanBtn;\n    private Button mListPairedDevicesBtn;\n    private Button mDiscoverBtn;\n    private Button mDisconnect;\n    private ListView mDevicesListView;\n\n    private BluetoothLeService bluetoothService;\n    private String deviceAddress;\n    boolean connected;\n\n    private BluetoothAdapter mBTAdapter = null;\n    private BluetoothLeScanner mScanner;\n    private Set&lt;BluetoothDevice&gt; mPairedDevices;\n    private ArrayAdapter&lt;String&gt; mBTArrayAdapter;\n    private BluetoothManager bluetoothManager;\n    private ArrayList&lt;ArrayList&lt;BluetoothGattCharacteristic&gt;&gt; GattCharacteristics =\n            new ArrayList&lt;ArrayList&lt;BluetoothGattCharacteristic&gt;&gt;();\n\n\n    private Handler mHandler;\n    private boolean scanning;\n    private ScanCallback mLeScanCallback = new ScanCallback() {\n        @Override\n        public void onScanResult(int callbackType, ScanResult result) {\n            super.onScanResult(callbackType, result);\n            BluetoothDevice device = result.getDevice();\n            mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n            mBTArrayAdapter.notifyDataSetChanged();\n        }\n    };\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mScanBtn = (Button) findViewById(R.id.btn_BT_ON);\n        mListPairedDevicesBtn = (Button) findViewById(R.id.btn_show_paireddvc);\n        mDiscoverBtn = (Button) findViewById(R.id.btn_discover_dvc);\n        mDisconnect = (Button) findViewById(R.id.btn_disconnect);\n        mDevicesListView = (ListView) findViewById(R.id.lv_devicelist);\n\n        mHandler = new Handler();\n        mBTArrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\n        bluetoothManager  = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n        mBTAdapter = bluetoothManager.getAdapter();\n        mScanner = mBTAdapter.getBluetoothLeScanner();\n\n        mDevicesListView.setAdapter(mBTArrayAdapter);\n        mDevicesListView.setOnItemClickListener(mDeviceClickListener);\n\n        Intent gattServiceIntent = new Intent(this, BluetoothLeService.class);\n        bindService(gattServiceIntent, serviceConnection, Context.BIND_AUTO_CREATE);\n\n        if(mBTAdapter==null){\n            Log.d(TAG,&quot;Device does not support Bluetooth&quot;);\n        }\n        else{\n            mScanBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_ADVERTISE) == PackageManager.PERMISSION_DENIED)\n                    {\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\n                        {\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{android.Manifest.permission.BLUETOOTH_ADVERTISE}, 2);\n                            return;\n                        }\n                    }\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED)\n                    {\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\n                        {\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 2);\n                            return;\n                        }\n                    }\n                    bluetoothDiscoverable();\n                }\n            });\n            mListPairedDevicesBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v){\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED)\n                    {\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\n                        {\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 2);\n                            return;\n                        }\n                    }\n                    listPairedDevices();\n                }\n            });\n            mDiscoverBtn.setOnClickListener(new View.OnClickListener(){\n                @Override\n                public void onClick(View v){\n\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) == PackageManager.PERMISSION_DENIED)\n                    {\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\n                        {\n                            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2);\n                            return;\n                        }\n                    }\n                    discover();\n                }\n            });\n            mDisconnect.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    bluetoothService.disconnect();\n                }\n            });\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        registerReceiver(gattUpdateReceiver, makeGattUpdateIntentFilter());\n        if (bluetoothService != null) {\n            final boolean result = bluetoothService.connect(deviceAddress);\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        unregisterReceiver(gattUpdateReceiver);\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        bluetoothService.close();\n        unregisterReceiver(gattUpdateReceiver);\n        unregisterReceiver(b1receiver);\n    }\n\n    private AdapterView.OnItemClickListener mDeviceClickListener = new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n            String info = ((TextView) view).getText().toString();\n            deviceAddress = info.substring(info.length() - 17);\n            mScanner.stopScan(mLeScanCallback);\n            Toast.makeText(getApplicationContext(), deviceAddress, Toast.LENGTH_SHORT).show();\n            if (ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_DENIED)\n            {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)\n                {\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 2);\n                    return;\n                }\n            }\n            bluetoothService.connect(deviceAddress);\n\n        }\n    };\n\n    private void bluetoothDiscoverable() {\n        Intent discoverableIntent = new Intent(ACTION_REQUEST_DISCOVERABLE);\n        discoverableIntent.putExtra(EXTRA_DISCOVERABLE_DURATION,300);\n        startActivity(discoverableIntent);\n\n        IntentFilter intentFilter = new IntentFilter(mBTAdapter.ACTION_SCAN_MODE_CHANGED);\n        registerReceiver(b1receiver,intentFilter);\n        Toast.makeText(getApplicationContext(),&quot;Device is now discoverable for 300 seconds&quot;,Toast.LENGTH_SHORT).show();\n    }\n\n    private void discover(){\n        if(!scanning){\n            mHandler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    scanning = false;\n                    mScanner.stopScan(mLeScanCallback);\n                }\n            }, SCAN_PERIOD);\n            scanning = true;\n            mScanner.startScan(mLeScanCallback);\n        }else{\n            scanning = false;\n            mScanner.stopScan(mLeScanCallback);\n        }\n    }\n\n    private void listPairedDevices(){\n        mBTArrayAdapter.clear();\n        mPairedDevices = mBTAdapter.getBondedDevices();\n        if(mBTAdapter.isEnabled()) {\n            // put it's one to the adapter\n            for (BluetoothDevice device : mPairedDevices)\n                mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n        }\n        else\n            Toast.makeText(getApplicationContext(), &quot;BT not on&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n    private final BroadcastReceiver b1receiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            final String action = intent.getAction();\n\n            if(action.equals(ACTION_SCAN_MODE_CHANGED)){\n                int mode = intent.getIntExtra(EXTRA_SCAN_MODE, ERROR);\n\n                switch (mode) {\n                    //Device is in discoverable Mode\n                    case SCAN_MODE_CONNECTABLE_DISCOVERABLE:\n                        Toast.makeText(getApplicationContext(), &quot;Discoverability Enabled&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    //Device not in discoverable mode\n                    case SCAN_MODE_CONNECTABLE:\n                        Toast.makeText(getApplicationContext(), &quot;Discoverability Enabled. Able to receive connections&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case SCAN_MODE_NONE:\n                        Toast.makeText(getApplicationContext(), &quot;Discoverability Disabled. &quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case STATE_CONNECTING:\n                        Toast.makeText(getApplicationContext(), &quot;Connecting...&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                    case STATE_CONNECTED:\n                        Toast.makeText(getApplicationContext(), &quot;Connected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n                }\n            }\n        }\n    };\n\n    private final BroadcastReceiver gattUpdateReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            final String action = intent.getAction();\n            if (BluetoothLeService.ACTION_GATT_CONNECTED.equals(action)) {\n                connected = true;\n            } else if (BluetoothLeService.ACTION_GATT_DISCONNECTED.equals(action)) {\n                connected = false;\n            }else if (BluetoothLeService.ACTION_GATT_SERVICE_DISCOVERED.equals(action)){\n                //displayGattServices(bluetoothService.getSupportedGattServices());\n            }\n        }\n    };\n\n\n    private final ServiceConnection serviceConnection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            bluetoothService = ((BluetoothLeService.LocalBinder) service).getService();\n            if (bluetoothService != null) {\n                if(!bluetoothService.initialize()){\n                    Toast.makeText(getApplicationContext(), &quot;No connection done&quot;, Toast.LENGTH_SHORT).show();\n                    finish();\n                }\n                bluetoothService.connect(deviceAddress);\n                Toast.makeText(getApplicationContext(), &quot;connect() not called&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            Toast.makeText(getApplicationContext(), &quot;Disconnected&quot;, Toast.LENGTH_SHORT).show();\n            bluetoothService = null;\n        }\n    };\n private IntentFilter makeGattUpdateIntentFilter() {\n        final IntentFilter intentFilter = new IntentFilter();\n        intentFilter.addAction(BluetoothLeService.ACTION_GATT_CONNECTED);\n        intentFilter.addAction(BluetoothLeService.ACTION_GATT_DISCONNECTED);\n        return intentFilter;\n    }\n}\n</code></pre>\n<p>BluetoothLeService:</p>\n<pre><code>public class BluetoothLeService extends Service {\n\n    public final static String ACTION_GATT_CONNECTED =\n            &quot;com.example.bluetooth.le.ACTION_GATT_CONNECTED&quot;;\n    public final static String ACTION_GATT_DISCONNECTED =\n            &quot;com.example.bluetooth.le.ACTION_GATT_DISCONNECTED&quot;;\n    public final static String ACTION_GATT_SERVICE_DISCOVERED =\n            &quot;com.example.bluetooth.le.ACTION_GATT_SERVICES_DISCOVERED&quot;;\n    public final static String ACTION_DATA_AVAILABLE =\n            &quot;com.example.bluetooth.le.ACTION_DATA_AVAILABLE&quot;;\n    public final static String EXTRA_DATA =\n            &quot;com.example.bluetooth.le.EXTRA_DATA&quot;;\n    private static final int STATE_DISCONNECTED = 0;\n    private static final int STATE_CONNECTING = 1;\n    private static final int STATE_CONNECTED = 2;\n\n    private int connectionState;\n    private final IBinder binder = new LocalBinder();\n    private BluetoothGatt bluetoothGatt;\n    private BluetoothAdapter BTAdapter;\n    private BluetoothManager BTManager;\n    public String BluetoothDeviceAddress;\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return binder;\n    }\n\n    public class LocalBinder extends Binder {\n        public BluetoothLeService getService() {\n            return BluetoothLeService.this;\n        }\n    }\n\n    private final BluetoothGattCallback bluetoothGattCallback = new BluetoothGattCallback() {\n        @Override\n        public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n            Toast.makeText(getApplicationContext(), &quot;GattCallback called&quot;, Toast.LENGTH_SHORT).show();\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\n                // successfully connected to the GATT Server\n                connectionState = STATE_CONNECTED;\n                broadcastUpdate(ACTION_GATT_CONNECTED);\n                Toast.makeText(getApplicationContext(), &quot;Connected&quot;, Toast.LENGTH_SHORT).show();\n                bluetoothGatt.discoverServices();\n            } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\n                // disconnected from the GATT Server\n                connectionState = STATE_DISCONNECTED;\n                broadcastUpdate(ACTION_GATT_DISCONNECTED);\n                Toast.makeText(getApplicationContext(), &quot;No Connection possible&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n            super.onServicesDiscovered(gatt, status);\n            if(status == BluetoothGatt.GATT_SUCCESS){\n                broadcastUpdate(ACTION_GATT_SERVICE_DISCOVERED);\n            }else{\n                Toast.makeText(getApplicationContext(), &quot;onServiceDiscovered received: &quot;+status, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicRead(gatt, characteristic, status);\n             {\n                if (status == BluetoothGatt.GATT_SUCCESS) {\n                    broadcastUpdate(ACTION_DATA_AVAILABLE, characteristic);\n                }\n            }\n        }\n\n        @Override\n        public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n            super.onCharacteristicChanged(gatt, characteristic);\n            broadcastUpdate(ACTION_DATA_AVAILABLE,characteristic);\n        }\n    };\n\n    private void broadcastUpdate(final String action,\n                                 final BluetoothGattCharacteristic characteristic) {\n        final Intent intent = new Intent(action);\n        sendBroadcast(intent);\n    }\n\n    private void broadcastUpdate(final String action) {\n        final Intent intent = new Intent(action);\n        sendBroadcast(intent);\n    }\n\n    public boolean initialize() {\n        BTManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n        BTAdapter = BTManager.getAdapter();\n        if (BTAdapter == null) {\n            return false;\n        }\n        return true;\n    }\n\n    public boolean connect(String address) {\n        if (BTAdapter == null || address == null) {\n            return false;\n        }\n        // Previously connected device.  Try to reconnect.\n        if (BluetoothDeviceAddress != null &amp;&amp; address.equals(BluetoothDeviceAddress)\n                &amp;&amp; bluetoothGatt != null) {\n            if (bluetoothGatt.connect()) {\n                connectionState = STATE_CONNECTING;\n                return true;\n            } else {\n                return false;\n            }\n        }\n        BluetoothDevice device = BTAdapter.getRemoteDevice(address);\n        if (device == null) {\n            return false;\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            Toast.makeText(getApplicationContext(), &quot;ConnectGatt&quot;, Toast.LENGTH_SHORT).show();\n            bluetoothGatt = device.connectGatt(this,false,bluetoothGattCallback,2);\n        }\n        connectionState = STATE_CONNECTING;\n        BluetoothDeviceAddress = address;\n        return true;\n    }\n\n\n    public void disconnect() {\n        if (BTAdapter == null || bluetoothGatt == null) {\n            return;\n        }\n        bluetoothGatt.disconnect();\n    }\n\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        close();\n        return super.onUnbind(intent);\n    }\n\n    public void close() {\n        if (bluetoothGatt == null) {\n            return;\n        }\n        bluetoothGatt.close();\n        bluetoothGatt = null;\n    }\n\n    public List&lt;BluetoothGattService&gt; getSupportedGattServices(){\n        if(bluetoothGatt==null){\n            return null;\n        }\n        return bluetoothGatt.getServices();\n    }\n\n    public void setCharacteristicNotification(BluetoothGattCharacteristic characteristic,boolean enabled) {\n        if (bluetoothGatt == null) {\n            Toast.makeText(getApplicationContext(), &quot;BluetoothGatt not initialized&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        bluetoothGatt.setCharacteristicNotification(characteristic, enabled);\n    }\n\n    public void readCharacteristic(BluetoothGattCharacteristic characteristic) {\n        if (bluetoothGatt == null) {\n            Toast.makeText(getApplicationContext(), &quot;BluetoothGatt not initialized&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        bluetoothGatt.readCharacteristic(characteristic);\n    }\n\n}\n\n</code></pre>\n<p>I tried some suggested solutions like to stop the Scan when i want to connect to the device, or to call up the runtime permission before i want to establish the connection.</p>\n"},{"tags":["java","spring","executor"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685520555,"post_id":76371108,"comment_id":134670034,"body_markdown":"a &quot;thumb rule&quot; sets core-pool-size to number-of-processors ... when you say 1k rpm (1 minute is 60,000 milliseconds) ..and avg job 1-10ms ... 8 (real) threads can do the job easily.. .. the symptoms you describe, sound like a big memory leak/exhaustion","body":"a &quot;thumb rule&quot; sets core-pool-size to number-of-processors ... when you say 1k rpm (1 minute is 60,000 milliseconds) ..and avg job 1-10ms ... 8 (real) threads can do the job easily.. .. the symptoms you describe, sound like a big memory leak/exhaustion"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685544064,"post_id":76371108,"comment_id":134675525,"body_markdown":"Please attach the picture correctly","body":"Please attach the picture correctly"},{"owner":{"account_id":24289567,"reputation":1,"user_id":18234831,"display_name":"Misha Bick"},"score":0,"creation_date":1685712585,"post_id":76371108,"comment_id":134703548,"body_markdown":"HI, @xerx593, thank you for the input.\nWould threadPoolTaskExecutor.setCorePoolSize(8) and threadPoolTaskExecutor.setMaxPoolSize(900) do the trick?","body":"HI, @xerx593, thank you for the input. Would threadPoolTaskExecutor.setCorePoolSize(8) and threadPoolTaskExecutor.setMaxPoolSize(900) do the trick?"}],"owner":{"account_id":24289567,"reputation":1,"user_id":18234831,"display_name":"Misha Bick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685713946,"creation_date":1685518230,"question_id":76371108,"body_markdown":"I have configured Spring ThreadPoolTaskExecutor, trying to have in mind the average load of 1,1k rpm.\r\n\r\n```\r\n  @Qualifier(&quot;executor&quot;)\r\n  public Executor asyncExecutor() {\r\n\r\n    this.threadPoolTaskExecutor.setCorePoolSize(800);\r\n    this.threadPoolTaskExecutor.setMaxPoolSize(900);\r\n    this.threadPoolTaskExecutor.initialize();\r\n    ..\r\n  }\r\n\r\n  //sender method\r\n  @Async(&quot;executor&quot;)\r\n  @Override\r\n  public void sendObject (ObjectFormatter object) {\r\n\r\n    executor.execute(() -&gt; {\r\n      try {\r\n        items.forEach(item -&gt; item.send(object));\r\n    });\r\n```\r\n\r\n\r\nHowever, after a period of time the POST request for which the async configurations are made suddenly increases up to 5 hours (from the average ms period). More so, usually after those spikes the app stops sending the POST requests.\r\n\r\nResponse time picture:\r\n\r\n![Response time picture][1]\r\n\r\n\r\nWhat could be the cause of it?\r\nI have tried to play around with the core and max pool sizes, but eventually sooner or later the behaviors happens again.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CHT8l.png\r\n  [2]: https://i.stack.imgur.com/HkZPH.png","title":"Spring ThreadPoolTaskExecutor response time increases a lot","body":"<p>I have configured Spring ThreadPoolTaskExecutor, trying to have in mind the average load of 1,1k rpm.</p>\n<pre><code>  @Qualifier(&quot;executor&quot;)\n  public Executor asyncExecutor() {\n\n    this.threadPoolTaskExecutor.setCorePoolSize(800);\n    this.threadPoolTaskExecutor.setMaxPoolSize(900);\n    this.threadPoolTaskExecutor.initialize();\n    ..\n  }\n\n  //sender method\n  @Async(&quot;executor&quot;)\n  @Override\n  public void sendObject (ObjectFormatter object) {\n\n    executor.execute(() -&gt; {\n      try {\n        items.forEach(item -&gt; item.send(object));\n    });\n</code></pre>\n<p>However, after a period of time the POST request for which the async configurations are made suddenly increases up to 5 hours (from the average ms period). More so, usually after those spikes the app stops sending the POST requests.</p>\n<p>Response time picture:</p>\n<p><img src=\"https://i.stack.imgur.com/CHT8l.png\" alt=\"Response time picture\" /></p>\n<p>What could be the cause of it?\nI have tried to play around with the core and max pool sizes, but eventually sooner or later the behaviors happens again.</p>\n"},{"tags":["java","postgresql"],"answers":[{"tags":[],"owner":{"account_id":5959226,"reputation":11,"user_id":4684884,"display_name":"Bartłomiej G&#243;ra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685713681,"creation_date":1685366530,"answer_id":76357761,"question_id":76357255,"body_markdown":"the answer to that is to use postgres&#39; nextval(&#39;sequence_name&#39;) when adding something manually\r\n\r\n```\r\nInsert into employees(id,first_name, last_name, email)\r\nvalues(nextval(&#39;my_sequence&#39;), &#39;Joe&#39;, &#39;Doe&#39;, &#39;joe.doe@email.com&#39;)\r\n```\r\nThat way next time you will use POST, the sequence&#39;s value will be updated\r\n\r\n","title":"Java Rest API cannot recognise ID in DB","body":"<p>the answer to that is to use postgres' nextval('sequence_name') when adding something manually</p>\n<pre><code>Insert into employees(id,first_name, last_name, email)\nvalues(nextval('my_sequence'), 'Joe', 'Doe', 'joe.doe@email.com')\n</code></pre>\n<p>That way next time you will use POST, the sequence's value will be updated</p>\n"}],"owner":{"account_id":28702321,"reputation":1,"user_id":21979262,"display_name":"Andrej Popjak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685713681,"creation_date":1685362272,"question_id":76357255,"body_markdown":"I am trying to create basic crud app with java and springboot 3.\r\n\r\nEverything is working just fine, get, delete, update, post.\r\n\r\nBut when I add items into my DB manually then I am not able to post anymore because I get error message that id already exits. It seems like my program is unable to see items added manually.\r\n\r\nSo just to summary it, Post request is working fine but whenever I add some other items into DB manually I have error about existing key. \r\n\r\n[enter image description here](https://i.stack.imgur.com/0EefL.png)\r\n\r\nthis is my entity\r\n\r\n[enter image description here](https://i.stack.imgur.com/WQAFm.png)\r\n\r\ndb\r\n\r\n[enter image description here](https://i.stack.imgur.com/ppMmO.png)\r\n\r\n\r\n\r\n\r\nI tried to. change generated values, I tried @Sequence generators nothing is working ","title":"Java Rest API cannot recognise ID in DB","body":"<p>I am trying to create basic crud app with java and springboot 3.</p>\n<p>Everything is working just fine, get, delete, update, post.</p>\n<p>But when I add items into my DB manually then I am not able to post anymore because I get error message that id already exits. It seems like my program is unable to see items added manually.</p>\n<p>So just to summary it, Post request is working fine but whenever I add some other items into DB manually I have error about existing key.</p>\n<p><a href=\"https://i.stack.imgur.com/0EefL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>this is my entity</p>\n<p><a href=\"https://i.stack.imgur.com/WQAFm.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>db</p>\n<p><a href=\"https://i.stack.imgur.com/ppMmO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried to. change generated values, I tried @Sequence generators nothing is working</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1685710225,"post_id":76390272,"comment_id":134702996,"body_markdown":"Question edited: I have formatted your code for readability, but this is something that you should be doing yourself","body":"Question edited: I have formatted your code for readability, but this is something that you should be doing yourself"},{"owner":{"account_id":17336909,"reputation":11,"user_id":21320045,"display_name":"Sara Bourgogne"},"score":0,"creation_date":1685710297,"post_id":76390272,"comment_id":134703010,"body_markdown":"thank you, you had been very nice :) Sorry!","body":"thank you, you had been very nice :) Sorry!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1685710342,"post_id":76390272,"comment_id":134703017,"body_markdown":"Next: when  you debugged this code in an effort to isolate the source of the error, what have you found? Can you add this information to the question as it is *very* important.","body":"Next: when  you debugged this code in an effort to isolate the source of the error, what have you found? Can you add this information to the question as it is <i>very</i> important."},{"owner":{"account_id":17336909,"reputation":11,"user_id":21320045,"display_name":"Sara Bourgogne"},"score":0,"creation_date":1685710436,"post_id":76390272,"comment_id":134703037,"body_markdown":"I found that doc is always the same Document ( the first one). Logically it  s working everything, I just don&#39;t understand what shoud I use instead of doc.cloneNodeTrue;","body":"I found that doc is always the same Document ( the first one). Logically it  s working everything, I just don&#39;t understand what shoud I use instead of doc.cloneNodeTrue;"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":1,"creation_date":1685713295,"post_id":76390272,"comment_id":134703728,"body_markdown":"Do you use an ide without debugging option?","body":"Do you use an ide without debugging option?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1685716552,"post_id":76390272,"comment_id":134704488,"body_markdown":"Does this help? [Java HTML / XML How to - Clone dom.Document object](http://www.java2s.com/Tutorials/Java/XML_HTML_How_to/DOM/Clone_dom_Document_object.htm)","body":"Does this help? <a href=\"http://www.java2s.com/Tutorials/Java/XML_HTML_How_to/DOM/Clone_dom_Document_object.htm\" rel=\"nofollow noreferrer\">Java HTML / XML How to - Clone dom.Document object</a>"}],"owner":{"account_id":17336909,"reputation":11,"user_id":21320045,"display_name":"Sara Bourgogne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1685713059,"creation_date":1685709926,"question_id":76390272,"body_markdown":"I&#39;m trying to clone some documents using Documents library in java, but I have one problem: I&#39;m cloning always the same one and not all of them. Why ? \r\nIs the error of cloneNode or I&#39;m setting something wrong?\r\n\r\n\r\nThis is my code. As you can seen I have a for loop in which I create the original documents. After if the if clause is true I will clone these documents and changing some fields inside of them. ( the changing part is working).\r\n\r\nBut my problem is that when I clone my documents I always clone the first one, so the parts that I don&#39;t change and I need to clone, are always of the first documents.\r\n\r\nWhy?\r\n\r\n```\r\nfor (int i = 0; i &lt; a_MySelectedSensorTableModel.getRowCount(); i++) {\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    org.w3c.dom.Document doc = dBuilder.newDocument();\r\n    // Creazione del tag principale\r\n    Element rootElement = doc.createElement(&quot;com.eurocontrol.sdds.conf.model.configuration.distribution.inputoutput.AsterixInput&quot;);\r\n    doc.appendChild(rootElement);\r\n    Transformer factory transformerFactory = TransformerFactry.newInstance();\r\n    Transformer transformer = transformerFactory.newTransformer();\r\n    DOMSource source = newDOMSource(doc);\r\n    String path = &quot;ok&quot;;\r\n    String file = &quot;name&quot;;\r\n    File finel2 = new File(path + file);\r\n    StreamResult result = new StreamResult(fine12);\r\n    transformer.transform(source, result);\r\n    if (createNewFilePortIp) {\r\n        int indexVal = 0;\r\n        while (f &lt; valuesNewPorts.size()) {\r\n            Document newDocAll = (Document) doc.cloneNode(true);\r\n            Element new_repoteIpAddress;\r\n            Element newId;\r\n            int idNewDoc = a_MySelectedSensorTableModel.getRowCount() + 1 + f;\r\n            newId = (Element) newDocAll.getElementsByTagName(&quot;id&quot;).item(0);\r\n            newId.setTextContent(String.valueOf(idNewDoc));\r\n            new_repoteIpAddress = (Element) newDocAll.getElementsByTagName(&quot;remoteIpAddress&quot;).item(0);\r\n            new_repoteIpAddress.setTextContent(valuesNewIpChanged.get(indexVal));\r\n            Element udpLanAddress = (Element) newDocAll.getElementsByTagName(&quot;udpLocalPort&quot;).item(0);\r\n            udpLanAddress.setTextContent(String.valueOf(valuesNewPorts.get(indexVal)));\r\n            Element udpRemotePortNew = (Element) newDocAll.getElementsByTagName(&quot;udpRemotePort&quot;).item(0);\r\n            udpRemotePortNew.setTextContent(String.valueOf(valuesNewPorts.get(indexVal)));\r\n            Element idName = (Element) newDocAll.getElementsByTagName(&quot;name&quot;).item(0);;\r\n            idName.setTextContent(i);\r\n            String newFile;\r\n            File fileNameNew;\r\n            while (true) {\r\n                newFile = &quot;input_&quot; + Integer.toString(idNewDoc) + &quot;.xml&quot;;\r\n                fileNameNew = new File(path + newFile);\r\n                if (!fileNameNew.exists()) {\r\n                    break;\r\n                }\r\n                index++;\r\n            }\r\n            StreamResult resultNew = new StreamResult(fileNameNew);\r\n            DOMSource sourceNew = new DOMSource(newDocAll);\r\n            transformer.transform(sourceNew, resultNew);\r\n            indexVal++;\r\n            f++;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Why does my Java code only clone the first document in the loop?","body":"<p>I'm trying to clone some documents using Documents library in java, but I have one problem: I'm cloning always the same one and not all of them. Why ?\nIs the error of cloneNode or I'm setting something wrong?</p>\n<p>This is my code. As you can seen I have a for loop in which I create the original documents. After if the if clause is true I will clone these documents and changing some fields inside of them. ( the changing part is working).</p>\n<p>But my problem is that when I clone my documents I always clone the first one, so the parts that I don't change and I need to clone, are always of the first documents.</p>\n<p>Why?</p>\n<pre><code>for (int i = 0; i &lt; a_MySelectedSensorTableModel.getRowCount(); i++) {\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n    org.w3c.dom.Document doc = dBuilder.newDocument();\n    // Creazione del tag principale\n    Element rootElement = doc.createElement(&quot;com.eurocontrol.sdds.conf.model.configuration.distribution.inputoutput.AsterixInput&quot;);\n    doc.appendChild(rootElement);\n    Transformer factory transformerFactory = TransformerFactry.newInstance();\n    Transformer transformer = transformerFactory.newTransformer();\n    DOMSource source = newDOMSource(doc);\n    String path = &quot;ok&quot;;\n    String file = &quot;name&quot;;\n    File finel2 = new File(path + file);\n    StreamResult result = new StreamResult(fine12);\n    transformer.transform(source, result);\n    if (createNewFilePortIp) {\n        int indexVal = 0;\n        while (f &lt; valuesNewPorts.size()) {\n            Document newDocAll = (Document) doc.cloneNode(true);\n            Element new_repoteIpAddress;\n            Element newId;\n            int idNewDoc = a_MySelectedSensorTableModel.getRowCount() + 1 + f;\n            newId = (Element) newDocAll.getElementsByTagName(&quot;id&quot;).item(0);\n            newId.setTextContent(String.valueOf(idNewDoc));\n            new_repoteIpAddress = (Element) newDocAll.getElementsByTagName(&quot;remoteIpAddress&quot;).item(0);\n            new_repoteIpAddress.setTextContent(valuesNewIpChanged.get(indexVal));\n            Element udpLanAddress = (Element) newDocAll.getElementsByTagName(&quot;udpLocalPort&quot;).item(0);\n            udpLanAddress.setTextContent(String.valueOf(valuesNewPorts.get(indexVal)));\n            Element udpRemotePortNew = (Element) newDocAll.getElementsByTagName(&quot;udpRemotePort&quot;).item(0);\n            udpRemotePortNew.setTextContent(String.valueOf(valuesNewPorts.get(indexVal)));\n            Element idName = (Element) newDocAll.getElementsByTagName(&quot;name&quot;).item(0);;\n            idName.setTextContent(i);\n            String newFile;\n            File fileNameNew;\n            while (true) {\n                newFile = &quot;input_&quot; + Integer.toString(idNewDoc) + &quot;.xml&quot;;\n                fileNameNew = new File(path + newFile);\n                if (!fileNameNew.exists()) {\n                    break;\n                }\n                index++;\n            }\n            StreamResult resultNew = new StreamResult(fileNameNew);\n            DOMSource sourceNew = new DOMSource(newDocAll);\n            transformer.transform(sourceNew, resultNew);\n            indexVal++;\n            f++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","image-processing","servlets"],"comments":[{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685712475,"post_id":76390487,"comment_id":134703529,"body_markdown":"You  mean you are restarting the Tomcat and you can see the images. Is this  happening all the time? Or you tried only once?","body":"You  mean you are restarting the Tomcat and you can see the images. Is this  happening all the time? Or you tried only once?"},{"owner":{"account_id":28506749,"reputation":1,"user_id":22007733,"display_name":"jackeylove17"},"score":0,"creation_date":1685712728,"post_id":76390487,"comment_id":134703577,"body_markdown":"@S14321K When I am running the first time (when folder `images` is empty), I see nothing, but my servlet creates the images in that folder, so when I run the server next time everything is ok because the folder contains images before the server starts, but why JSP can&#39;t display images during first run, why it thinks like `images` folder is empty, servlet creates that images dynamically I don&#39;t get it","body":"@S14321K When I am running the first time (when folder <code>images</code> is empty), I see nothing, but my servlet creates the images in that folder, so when I run the server next time everything is ok because the folder contains images before the server starts, but why JSP can&#39;t display images during first run, why it thinks like <code>images</code> folder is empty, servlet creates that images dynamically I don&#39;t get it"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1685712748,"post_id":76390487,"comment_id":134703582,"body_markdown":"Do not save uploaded images in deploy folder! See abovelinked duplicate for in depth explanation why this is a bad idea.","body":"Do not save uploaded images in deploy folder! See abovelinked duplicate for in depth explanation why this is a bad idea."},{"owner":{"account_id":28506749,"reputation":1,"user_id":22007733,"display_name":"jackeylove17"},"score":0,"creation_date":1685712846,"post_id":76390487,"comment_id":134703604,"body_markdown":"@BalusC ok, but how can I display the image in JSP in another way? for me only worked `&lt;img src=&quot;subimages/subimage_1.jpg&quot;` , as I understand the image should be in the `webapp` folder, or i am wrong?","body":"@BalusC ok, but how can I display the image in JSP in another way? for me only worked <code>&lt;img src=&quot;subimages&#47;subimage_1.jpg&quot;</code> , as I understand the image should be in the <code>webapp</code> folder, or i am wrong?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1685712881,"post_id":76390487,"comment_id":134703611,"body_markdown":"It&#39;s also explained in a &quot;See also&quot; link in the abovelinked duplicate.","body":"It&#39;s also explained in a &quot;See also&quot; link in the abovelinked duplicate."},{"owner":{"account_id":28506749,"reputation":1,"user_id":22007733,"display_name":"jackeylove17"},"score":0,"creation_date":1685712918,"post_id":76390487,"comment_id":134703621,"body_markdown":"@BalusC alright, thank you a lot, i am noobie here sorry for your time","body":"@BalusC alright, thank you a lot, i am noobie here sorry for your time"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685713221,"post_id":76390487,"comment_id":134703704,"body_markdown":"@jackeylove17 you can point to tomcat folder instead of project folder. So that without redeployment you can fetch the images.","body":"@jackeylove17 you can point to tomcat folder instead of project folder. So that without redeployment you can fetch the images."},{"owner":{"account_id":28506749,"reputation":1,"user_id":22007733,"display_name":"jackeylove17"},"score":0,"creation_date":1685713378,"post_id":76390487,"comment_id":134703755,"body_markdown":"@S14321K can you please give me an example, of how to display the image in this way  in JSP? I have Tomcat in `D:/Tomcat/` folder and Project in D:/Workspace/Project","body":"@S14321K can you please give me an example, of how to display the image in this way  in JSP? I have Tomcat in <code>D:&#47;Tomcat&#47;</code> folder and Project in D:/Workspace/Project"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685715070,"post_id":76390487,"comment_id":134704175,"body_markdown":"@jackeylove17 I think you must go through the link which is shared. There they have mentioned clearly. I can see this may help you https://stackoverflow.com/a/1812356/11962586","body":"@jackeylove17 I think you must go through the link which is shared. There they have mentioned clearly. I can see this may help you <a href=\"https://stackoverflow.com/a/1812356/11962586\">stackoverflow.com/a/1812356/11962586</a>"}],"owner":{"account_id":28506749,"reputation":1,"user_id":22007733,"display_name":"jackeylove17"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685712702,"answer_count":0,"score":0,"last_activity_date":1685712725,"creation_date":1685711528,"question_id":76390487,"body_markdown":"I have the Servlet which creates the new images in `webapp/images` folder by `ImageIO.write()` method. Before starting the server this folder is empty. \r\n\r\nThis is JSP which should displays the images:\r\n\r\n```\r\n&lt;figure&gt;\r\n\t&lt;img src=&quot;subimages/subimage_0.jpg&quot; height=&quot;144&quot; width=&quot;256&quot;&gt;\r\n&lt;/figure&gt;\r\n\r\n&lt;figure&gt;\r\n    &lt;img src=&quot;subimages/subimage_1.jpg&quot; height=&quot;144&quot; width=&quot;256&quot;&gt;\r\n&lt;/figure&gt;\r\n```\r\n\r\nSo I start my server, go through `localhost:8080/puzzle` and see nothing, but in the same time folder `images` contains all images I need. Refrashing the page didn&#39;t help. Then I restart my server, and JSP displays my images. Everything is ok, but can it displays my images without server&#39;s restarting?\r\n\r\n\r\n\r\n\r\nI will be sooo thankful for any explanation or advice. ","title":"Why JSP sees the files in &#39;webapp/images&#39; only after Tomcat restarts?","body":"<p>I have the Servlet which creates the new images in <code>webapp/images</code> folder by <code>ImageIO.write()</code> method. Before starting the server this folder is empty.</p>\n<p>This is JSP which should displays the images:</p>\n<pre><code>&lt;figure&gt;\n    &lt;img src=&quot;subimages/subimage_0.jpg&quot; height=&quot;144&quot; width=&quot;256&quot;&gt;\n&lt;/figure&gt;\n\n&lt;figure&gt;\n    &lt;img src=&quot;subimages/subimage_1.jpg&quot; height=&quot;144&quot; width=&quot;256&quot;&gt;\n&lt;/figure&gt;\n</code></pre>\n<p>So I start my server, go through <code>localhost:8080/puzzle</code> and see nothing, but in the same time folder <code>images</code> contains all images I need. Refrashing the page didn't help. Then I restart my server, and JSP displays my images. Everything is ok, but can it displays my images without server's restarting?</p>\n<p>I will be sooo thankful for any explanation or advice.</p>\n"},{"tags":["java","android","android-webview","android-13"],"answers":[{"tags":[],"owner":{"account_id":6993826,"reputation":166,"user_id":5362083,"display_name":"Gaurav Karia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685711920,"creation_date":1685711920,"answer_id":76390535,"question_id":75765664,"body_markdown":"This issue is resolved.\r\nChanges according to the below piece of code work well with the Image loading and as desired.\r\n\r\n    webView.loadDataWithBaseURL(&quot;https://yourdomain.com/&quot;, html, mMime, mEncoding, null);","title":"Image content not loading(images are broken) on WebView after support to Android 13","body":"<p>This issue is resolved.\nChanges according to the below piece of code work well with the Image loading and as desired.</p>\n<pre><code>webView.loadDataWithBaseURL(&quot;https://yourdomain.com/&quot;, html, mMime, mEncoding, null);\n</code></pre>\n"}],"owner":{"account_id":6993826,"reputation":166,"user_id":5362083,"display_name":"Gaurav Karia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76390535,"answer_count":1,"score":2,"last_activity_date":1685711920,"creation_date":1679044204,"question_id":75765664,"body_markdown":"I have one legacy application for the emails. The issue is Image content not loading properly post support to android 13 on web view for Android 10 and above, it works well below android 10.\r\n\r\nThis is how the content is loaded:\r\n`webView.loadDataWithBaseURL(&quot;file:///android_asset/&quot;, html, mMime, mEncoding, null);`\r\n\r\nassests folder consists .js and .css files with some icons files (.png) as shown in SS.\r\n[![Assest folder](https://i.stack.imgur.com/cYprc.png)](https://i.stack.imgur.com/cYprc.png)\r\n\r\nAnd this is how the html content is processed\r\n[![html content](https://i.stack.imgur.com/4Z8Wc.png)](https://i.stack.imgur.com/4Z8Wc.png)\r\n\r\nThe following settings to web view are already set but it&#39;s not working:\r\n\r\n```\r\n                webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n\t\twebView.getSettings().setAllowContentAccess(true);\r\n\t\twebView.getSettings().setDomStorageEnabled(true);\r\n\t\twebView.getSettings().setCacheMode(WebSettings.LOAD_NORMAL);\r\n\t\twebView.getSettings().setLoadsImagesAutomatically(true);\r\n                webView.getSettings().setAllowFileAccessFromFileURLs(true);\r\n\t\twebView.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\n```\r\n\r\nI have already tried as per the [official documentation](https://developer.android.com/develop/ui/views/layout/webapps/load-local-content) but no luck!\r\n\r\nCurrent Output:\r\n[![Mail details screen with broken images][1]][1]\r\n\r\n[![Mail details screen with broken images][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S8EbF.png\r\n  [2]: https://i.stack.imgur.com/IxHKF.png","title":"Image content not loading(images are broken) on WebView after support to Android 13","body":"<p>I have one legacy application for the emails. The issue is Image content not loading properly post support to android 13 on web view for Android 10 and above, it works well below android 10.</p>\n<p>This is how the content is loaded:\n<code>webView.loadDataWithBaseURL(&quot;file:///android_asset/&quot;, html, mMime, mEncoding, null);</code></p>\n<p>assests folder consists .js and .css files with some icons files (.png) as shown in SS.\n<a href=\"https://i.stack.imgur.com/cYprc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cYprc.png\" alt=\"Assest folder\" /></a></p>\n<p>And this is how the html content is processed\n<a href=\"https://i.stack.imgur.com/4Z8Wc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Z8Wc.png\" alt=\"html content\" /></a></p>\n<p>The following settings to web view are already set but it's not working:</p>\n<pre><code>                webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n        webView.getSettings().setAllowContentAccess(true);\n        webView.getSettings().setDomStorageEnabled(true);\n        webView.getSettings().setCacheMode(WebSettings.LOAD_NORMAL);\n        webView.getSettings().setLoadsImagesAutomatically(true);\n                webView.getSettings().setAllowFileAccessFromFileURLs(true);\n        webView.getSettings().setAllowUniversalAccessFromFileURLs(true);\n</code></pre>\n<p>I have already tried as per the <a href=\"https://developer.android.com/develop/ui/views/layout/webapps/load-local-content\" rel=\"nofollow noreferrer\">official documentation</a> but no luck!</p>\n<p>Current Output:\n<a href=\"https://i.stack.imgur.com/S8EbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S8EbF.png\" alt=\"Mail details screen with broken images\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/IxHKF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IxHKF.png\" alt=\"Mail details screen with broken images\" /></a></p>\n"},{"tags":["java","spring-boot","spring-data","spring-data-redis"],"owner":{"account_id":28736630,"reputation":11,"user_id":22007572,"display_name":"sam98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685711213,"creation_date":1685711213,"question_id":76390437,"body_markdown":"I am Using **SpringBoot** and working with **Redis**. I have configured Redis for my project. Somehow it is not storing any key value and also not giving any error.\r\n\r\nCan someone please help me out?\r\n\r\n**Spring Boot version: 2.7.5**\r\n\r\n- Dependency for Redis\r\n\r\n```\r\n&lt;!-- start of redis dependencies --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;!-- end of redis dependencies --&gt;\r\n```\r\n\r\n- Redis configuration class\r\n  [RedisConfiguration](https://i.stack.imgur.com/bFcnk.png)\r\n\r\n- Properties file\r\n\r\n```\r\nspring.cache.type=redis\r\nspring.redis.host=localhost\r\nspring.redis.port=6379\r\n```\r\n\r\n- Previously I had done same configuration another project and it is working fine.","title":"I am working with Redis and it is not storing data also not giving any error","body":"<p>I am Using <strong>SpringBoot</strong> and working with <strong>Redis</strong>. I have configured Redis for my project. Somehow it is not storing any key value and also not giving any error.</p>\n<p>Can someone please help me out?</p>\n<p><strong>Spring Boot version: 2.7.5</strong></p>\n<ul>\n<li>Dependency for Redis</li>\n</ul>\n<pre><code>&lt;!-- start of redis dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;!-- end of redis dependencies --&gt;\n</code></pre>\n<ul>\n<li><p>Redis configuration class\n<a href=\"https://i.stack.imgur.com/bFcnk.png\" rel=\"nofollow noreferrer\">RedisConfiguration</a></p>\n</li>\n<li><p>Properties file</p>\n</li>\n</ul>\n<pre><code>spring.cache.type=redis\nspring.redis.host=localhost\nspring.redis.port=6379\n</code></pre>\n<ul>\n<li>Previously I had done same configuration another project and it is working fine.</li>\n</ul>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":3403155,"reputation":31,"user_id":2854893,"display_name":"L&#233;o Martel"},"score":0,"creation_date":1411633908,"post_id":26022070,"comment_id":40779576,"body_markdown":"Thank you very much. What you suggested did not work for me (I don&#39;t undurstand why yet) but it put me on the way, see my edit to get the workaround i found.","body":"Thank you very much. What you suggested did not work for me (I don&#39;t undurstand why yet) but it put me on the way, see my edit to get the workaround i found."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1411639129,"post_id":26022070,"comment_id":40782648,"body_markdown":"Sounds like you&#39;re using a format string that POI doesn&#39;t handle fully yet. You&#39;ll therefore want to report a bug to the Apache POI project, and provide a small spreadsheet that shows the problem, so it can get fixed","body":"Sounds like you&#39;re using a format string that POI doesn&#39;t handle fully yet. You&#39;ll therefore want to report a bug to the Apache POI project, and provide a small spreadsheet that shows the problem, so it can get fixed"},{"owner":{"account_id":3403155,"reputation":31,"user_id":2854893,"display_name":"L&#233;o Martel"},"score":0,"creation_date":1411645802,"post_id":26022070,"comment_id":40786418,"body_markdown":"All right, i&#39;ll report with the spreadsheet I used to test. Thanks for your help.","body":"All right, i&#39;ll report with the spreadsheet I used to test. Thanks for your help."}],"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413367032,"creation_date":1411576402,"answer_id":26022070,"question_id":26018080,"body_markdown":"Numbers in Excel are (except for a few edge cases) stored as floating point numbers. Floating point numbers in Java, when formatted as a string, are printed with a trailing decimal point, and in scientific (exponential) format if large, as you&#39;re seeing\r\n\r\nAssuming what you really wanted was &quot;give me a string that looks like what Excel shows for this cell&quot;, then *do not* call cell.toString(), and do not fetch the numeric double value + print as a string. These will not give you what you need.\r\n\r\nInstead, you need to use the [DataFormatter class](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html), which provides methods which read the Excel format rules applied to a cell, then re-creates (as best it can) those in Java\r\n\r\nYour code should be:\r\n\r\n    DataFormatter fmt = new DataFormatter();\r\n\r\n    String phoneNumber = fmt.formatCellValue(cell);\r\n\r\nThat will format the number based on the formatting rules applied in Excel, so should return it looking as you expect","title":"Apache POI : getting a number as a string, as displayed in excel","body":"<p>Numbers in Excel are (except for a few edge cases) stored as floating point numbers. Floating point numbers in Java, when formatted as a string, are printed with a trailing decimal point, and in scientific (exponential) format if large, as you're seeing</p>\n\n<p>Assuming what you really wanted was \"give me a string that looks like what Excel shows for this cell\", then <em>do not</em> call cell.toString(), and do not fetch the numeric double value + print as a string. These will not give you what you need.</p>\n\n<p>Instead, you need to use the <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"noreferrer\">DataFormatter class</a>, which provides methods which read the Excel format rules applied to a cell, then re-creates (as best it can) those in Java</p>\n\n<p>Your code should be:</p>\n\n<pre><code>DataFormatter fmt = new DataFormatter();\n\nString phoneNumber = fmt.formatCellValue(cell);\n</code></pre>\n\n<p>That will format the number based on the formatting rules applied in Excel, so should return it looking as you expect</p>\n"},{"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1465811151,"post_id":37786255,"comment_id":63039297,"body_markdown":"Did you [try reading the javadocs for the method you&#39;ve mentioned](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29)? Only they&#39;re pretty explicit that you shouldn&#39;t a `setCellType(Cell.CELL_TYPE_STRING);` to get a numeric cell as a string as it looses formatting!","body":"Did you <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">try reading the javadocs for the method you&#39;ve mentioned</a>? Only they&#39;re pretty explicit that you shouldn&#39;t a <code>setCellType(Cell.CELL_TYPE_STRING);</code> to get a numeric cell as a string as it looses formatting!"},{"owner":{"account_id":7475602,"reputation":11,"user_id":6254293,"display_name":"mahendra sonavane"},"score":0,"creation_date":1465813788,"post_id":37786255,"comment_id":63040938,"body_markdown":"Need solution .. and it work properly .. check ur end :) think before giving anyone -1.","body":"Need solution .. and it work properly .. check ur end :) think before giving anyone -1."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1465816416,"post_id":37786255,"comment_id":63042497,"body_markdown":"It may work in some cases, but as the documentation makes clear it won&#39;t work in all. The documentation also points to the correct solution, so advising people to use something that&#39;s known to have issues isn&#39;t a good idea!","body":"It may work in some cases, but as the documentation makes clear it won&#39;t work in all. The documentation also points to the correct solution, so advising people to use something that&#39;s known to have issues isn&#39;t a good idea!"}],"tags":[],"owner":{"account_id":7475602,"reputation":11,"user_id":6254293,"display_name":"mahendra sonavane"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1465810381,"creation_date":1465810381,"answer_id":37786255,"question_id":26018080,"body_markdown":"You will get an error when you try to fetch the numeric cell as String.\r\n\r\nYou should be setting the cellType as string like below, before fetching the numeric cell.   \r\n\r\n    ` HSSFCell yourCell = sheet1.getRow(row).getCell(column);\r\n       yourCell.setCellType(Cell.CELL_TYPE_STRING);\r\n       String data = yourCell.getStringCellValue();`","title":"Apache POI : getting a number as a string, as displayed in excel","body":"<p>You will get an error when you try to fetch the numeric cell as String.</p>\n\n<p>You should be setting the cellType as string like below, before fetching the numeric cell.   </p>\n\n<pre><code>` HSSFCell yourCell = sheet1.getRow(row).getCell(column);\n   yourCell.setCellType(Cell.CELL_TYPE_STRING);\n   String data = yourCell.getStringCellValue();`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11136347,"reputation":169,"user_id":11554179,"display_name":"Soham Ghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640014470,"creation_date":1640014470,"answer_id":70424213,"question_id":26018080,"body_markdown":"This worked for me.\r\n\r\n    XSSFCell cell = row.getCell(1);\r\n    int value = new Double(cell.getNumericCellValue()).intValue();\r\n    // To change it to string\r\n    String text_value = String.valueOf(value);","title":"Apache POI : getting a number as a string, as displayed in excel","body":"<p>This worked for me.</p>\n<pre><code>XSSFCell cell = row.getCell(1);\nint value = new Double(cell.getNumericCellValue()).intValue();\n// To change it to string\nString text_value = String.valueOf(value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3657594,"reputation":357,"user_id":3048159,"display_name":"zbender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685711115,"creation_date":1685711115,"answer_id":76390428,"question_id":26018080,"body_markdown":"You can use  org.apache.poi.ss.util.NumberToTextConverter:\r\n\r\n   \r\n\r\n     NumberToTextConverter.toText(cell.getNumericCellValue())","title":"Apache POI : getting a number as a string, as displayed in excel","body":"<p>You can use  org.apache.poi.ss.util.NumberToTextConverter:</p>\n<pre><code> NumberToTextConverter.toText(cell.getNumericCellValue())\n</code></pre>\n"}],"owner":{"account_id":3403155,"reputation":31,"user_id":2854893,"display_name":"L&#233;o Martel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1685711115,"creation_date":1411564972,"question_id":26018080,"body_markdown":"I&#39;m trying to parse an excel workbook with POI. In a sheet, i have some numbers displayed as :\r\n\r\n06 85 85 65 45\r\n\r\n(It is a french phone number, it always starts with a 0 and there is whitespaces every 2 digits).\r\n\r\nMy need is to get a string from the excel Cell with the zero and the spaces.\r\n\r\nHere are some elements from my investigations :\r\n\r\n    double doubleValue = cell.getNumericCellValue(); // worth 6.85856545E8\r\n    String dataStringFormat = cell.getCellStyle().getDataStringFormat(); // worth 0#&quot; &quot;##&quot; &quot;##&quot; &quot;##&quot; &quot;##\r\n\r\nI guess that there is a way with POI API to apply the &quot;dataStringFormat&quot; to the &quot;doubleValue&quot; to get somthing like 06 85 85 65 45.\r\n\r\nAnyone has a idea about how I can do that ?\r\n\r\nThank you very much.\r\n\r\nEdit:\r\nGagravarr put me on the way. His\r\n\r\n    DataFormatter fmt = new DataFormatter();\r\n    String phoneNumber = fmt.formatCellValue(cell);\r\n\r\nstill returned 685856545 but I thanks to him, I found the CellNumberFormatter class. And get my 06 85 85 65 45 with the followin code :\r\n\r\n    String stringFormat = cell.getCellStyle().getDataFormatString();\r\n    CellNumberFormatter fmt = new CellNumberFormatter(stringFormat);\r\n    String phoneNumber = fmt.format(cell.getNumericCellValue()); // = 06 85 85 65 45\r\n\r\nI try the trick with other formats and there are some problems still.\r\n- 123  3/25 becomes 123 ??/?? (fraction format not supported ?)\r\n- 1,23E+09 becomes 1,23.1,E+09\r\n\r\nSome because of locales :\r\n- 123 456 789 becomes 123,456,789 (separator for thousands and millions i &#39; &#39; in french instead of &#39;,&#39;)\r\n- 123,12 becomes 123.45 (again &#39;,&#39; is decimal separator in french, not &#39;.&#39;)\r\n- the € becomes ? (encoding here ?)\r\n\r\nAnd there is strange behaviour with time and dates :\r\n-12:12:12 PM becomes [$-4.69]12:00:42 AM ([$-4.69] is part of the excel stringFormat and do not seem to be supported by POI)\r\n-12/11/14 becomes 01/01/04 (I don&#39;t understand that one...)\r\n\r\nI&#39;ll try to investigate on this.\r\n\r\nThanks for your help.\r\n\r\n","title":"Apache POI : getting a number as a string, as displayed in excel","body":"<p>I'm trying to parse an excel workbook with POI. In a sheet, i have some numbers displayed as :</p>\n\n<p>06 85 85 65 45</p>\n\n<p>(It is a french phone number, it always starts with a 0 and there is whitespaces every 2 digits).</p>\n\n<p>My need is to get a string from the excel Cell with the zero and the spaces.</p>\n\n<p>Here are some elements from my investigations :</p>\n\n<pre><code>double doubleValue = cell.getNumericCellValue(); // worth 6.85856545E8\nString dataStringFormat = cell.getCellStyle().getDataStringFormat(); // worth 0#\" \"##\" \"##\" \"##\" \"##\n</code></pre>\n\n<p>I guess that there is a way with POI API to apply the \"dataStringFormat\" to the \"doubleValue\" to get somthing like 06 85 85 65 45.</p>\n\n<p>Anyone has a idea about how I can do that ?</p>\n\n<p>Thank you very much.</p>\n\n<p>Edit:\nGagravarr put me on the way. His</p>\n\n<pre><code>DataFormatter fmt = new DataFormatter();\nString phoneNumber = fmt.formatCellValue(cell);\n</code></pre>\n\n<p>still returned 685856545 but I thanks to him, I found the CellNumberFormatter class. And get my 06 85 85 65 45 with the followin code :</p>\n\n<pre><code>String stringFormat = cell.getCellStyle().getDataFormatString();\nCellNumberFormatter fmt = new CellNumberFormatter(stringFormat);\nString phoneNumber = fmt.format(cell.getNumericCellValue()); // = 06 85 85 65 45\n</code></pre>\n\n<p>I try the trick with other formats and there are some problems still.\n- 123  3/25 becomes 123 ??/?? (fraction format not supported ?)\n- 1,23E+09 becomes 1,23.1,E+09</p>\n\n<p>Some because of locales :\n- 123 456 789 becomes 123,456,789 (separator for thousands and millions i ' ' in french instead of ',')\n- 123,12 becomes 123.45 (again ',' is decimal separator in french, not '.')\n- the € becomes ? (encoding here ?)</p>\n\n<p>And there is strange behaviour with time and dates :\n-12:12:12 PM becomes [$-4.69]12:00:42 AM ([$-4.69] is part of the excel stringFormat and do not seem to be supported by POI)\n-12/11/14 becomes 01/01/04 (I don't understand that one...)</p>\n\n<p>I'll try to investigate on this.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":7133,"reputation":3591,"user_id":12254,"display_name":"Richard Campbell"},"score":0,"creation_date":1473176188,"post_id":39352495,"comment_id":66035516,"body_markdown":"Check this link out regarding stack map frames: http://stackoverflow.com/questions/25109942/is-there-a-better-explanation-of-stack-map-frames","body":"Check this link out regarding stack map frames: <a href=\"http://stackoverflow.com/questions/25109942/is-there-a-better-explanation-of-stack-map-frames\" title=\"is there a better explanation of stack map frames\">stackoverflow.com/questions/25109942/&hellip;</a>"},{"owner":{"account_id":109311,"reputation":387,"user_id":289701,"accept_rate":91,"display_name":"Johnny"},"score":0,"creation_date":1473178893,"post_id":39352495,"comment_id":66037118,"body_markdown":"by the dev stage of my java bytecode decompiler, i don&#39;t care for extreme speed for now . only the correctness of interpretation is concerned , by the address you inferred, do you mean ,if don&#39;t care about decompile speed , i can ignore the stack map frame ?","body":"by the dev stage of my java bytecode decompiler, i don&#39;t care for extreme speed for now . only the correctness of interpretation is concerned , by the address you inferred, do you mean ,if don&#39;t care about decompile speed , i can ignore the stack map frame ?"},{"owner":{"account_id":109311,"reputation":387,"user_id":289701,"accept_rate":91,"display_name":"Johnny"},"score":0,"creation_date":1473179414,"post_id":39352495,"comment_id":66037393,"body_markdown":"i mean , in the case which i presented , the stack map is not only FRAM SAME, but also empty too, and i can not think up a case that the operand stack  of the  &quot;jump target &quot; is not  SAME and empty.","body":"i mean , in the case which i presented , the stack map is not only FRAM SAME, but also empty too, and i can not think up a case that the operand stack  of the  &quot;jump target &quot; is not  SAME and empty."}],"answers":[{"tags":[],"owner":{"account_id":7133,"reputation":3591,"user_id":12254,"display_name":"Richard Campbell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473193351,"creation_date":1473193351,"answer_id":39357239,"question_id":39352495,"body_markdown":"According to the link below, you can ignore the stack map frame completely as the only use of the stack map frame is to verify that a class is secure to run; the stack map frame has no relation to the underlying source code you are trying to recover with your decompiler.\r\n\r\nhttps://stackoverflow.com/questions/25109942/is-there-a-better-explanation-of-stack-map-frames\r\n\r\nSee also:\r\nhttp://chrononsystems.com/blog/java-7-design-flaw-leads-to-huge-backward-step-for-the-jvm\r\n\r\nAnd, from the standard itself:\r\n\r\n&gt; The StackMapTable attribute is a variable-length attribute in the\r\n&gt; attributes table of a Code (&#167;4.7.3) attribute. This attribute is used\r\n&gt; during the process of verification by type checking (&#167;4.10.1). A\r\n&gt; method&#39;s Code attribute may have at most one StackMapTable attribute.\r\nhttps://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.4","title":"try to build a decompiler of java bytecode, and don&#39;t know in what case the &quot;stack map frame&quot; would not happen to be the &quot;FRAMSAME&quot;","body":"<p>According to the link below, you can ignore the stack map frame completely as the only use of the stack map frame is to verify that a class is secure to run; the stack map frame has no relation to the underlying source code you are trying to recover with your decompiler.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25109942/is-there-a-better-explanation-of-stack-map-frames\">Is there a better explanation of stack map frames?</a></p>\n\n<p>See also:\n<a href=\"http://chrononsystems.com/blog/java-7-design-flaw-leads-to-huge-backward-step-for-the-jvm\" rel=\"nofollow noreferrer\">http://chrononsystems.com/blog/java-7-design-flaw-leads-to-huge-backward-step-for-the-jvm</a></p>\n\n<p>And, from the standard itself:</p>\n\n<blockquote>\n  <p>The StackMapTable attribute is a variable-length attribute in the\n  attributes table of a Code (§4.7.3) attribute. This attribute is used\n  during the process of verification by type checking (§4.10.1). A\n  method's Code attribute may have at most one StackMapTable attribute.\n  <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.4\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.4</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685710759,"creation_date":1473242084,"answer_id":39366710,"question_id":39352495,"body_markdown":"If you only want to decompile, i.e. print the instruction sequence, you may simply ignore stack frames. They only provide information about the types of items on the operand stack and the local variables. If you don’t print these types, you don’t need to parse them.\r\n\r\nIf you only use branch *statements*, there are indeed no operand stack entries on both ends of the branch, but the reason why you don’t encounter local variable changes simply is that you don’t have such changes in your example code.\r\n\r\nConsider:\r\n\r\n    for(int i=0; i&lt;10; i++)\r\n        System.out.println(i);\r\nHere, the variable `i` has been added to the stack frame at the loop’s branch, so you are likely to encounter an `F_APPEND` frame there (compilers are encouraged, but not required to use the most compact form). Likewise, when adding another subsequent branch like in\r\n\r\n    for(int i=0; i&lt;10; i++)\r\n      System.out.println(i);\r\n    if(a==0)\r\n      System.out.println();\r\nyou are likely to encounter a `F_CHOP` frame because at the subsequent branch, `i` is not in scope anymore.\r\n\r\nNote that there are also intra-statement branches possible, allowing to have different operand stack entries, e.g.\r\n\r\n    System.out.println(a==0? &quot;zero&quot;: &quot;non-zero&quot;);\r\nbears two branches. For the first, a reference to a `PrintStream` instance is already on the stack, for the second, references to a `PrintStream` and a `String` instance are on the stack.\r\n\r\nAlso, exception handlers form implicit branch targets having a single operand stack entry, the caught exception. This situation can be encoded with the conveniently defined `F_SAME1` frame type.\r\n\r\n---\r\nIf you plan to use the information contained in stack frames and are using the ASM library, you don’t need to parse all the different frame types. Just pass the flag [`ClassReader.EXPAND_FRAMES`](http://asm.ow2.org/asm50/javadoc/user/org/objectweb/asm/ClassReader.html#EXPAND_FRAMES) to the `ClassReader` upon construction and all you will ever encounter, are `F_NEW` frames containing the complete stack state, eliminating the need to remember previous frames.\r\n","title":"try to build a decompiler of java bytecode, and don&#39;t know in what case the &quot;stack map frame&quot; would not happen to be the &quot;FRAMSAME&quot;","body":"<p>If you only want to decompile, i.e. print the instruction sequence, you may simply ignore stack frames. They only provide information about the types of items on the operand stack and the local variables. If you don’t print these types, you don’t need to parse them.</p>\n<p>If you only use branch <em>statements</em>, there are indeed no operand stack entries on both ends of the branch, but the reason why you don’t encounter local variable changes simply is that you don’t have such changes in your example code.</p>\n<p>Consider:</p>\n<pre><code>for(int i=0; i&lt;10; i++)\n    System.out.println(i);\n</code></pre>\n<p>Here, the variable <code>i</code> has been added to the stack frame at the loop’s branch, so you are likely to encounter an <code>F_APPEND</code> frame there (compilers are encouraged, but not required to use the most compact form). Likewise, when adding another subsequent branch like in</p>\n<pre><code>for(int i=0; i&lt;10; i++)\n  System.out.println(i);\nif(a==0)\n  System.out.println();\n</code></pre>\n<p>you are likely to encounter a <code>F_CHOP</code> frame because at the subsequent branch, <code>i</code> is not in scope anymore.</p>\n<p>Note that there are also intra-statement branches possible, allowing to have different operand stack entries, e.g.</p>\n<pre><code>System.out.println(a==0? &quot;zero&quot;: &quot;non-zero&quot;);\n</code></pre>\n<p>bears two branches. For the first, a reference to a <code>PrintStream</code> instance is already on the stack, for the second, references to a <code>PrintStream</code> and a <code>String</code> instance are on the stack.</p>\n<p>Also, exception handlers form implicit branch targets having a single operand stack entry, the caught exception. This situation can be encoded with the conveniently defined <code>F_SAME1</code> frame type.</p>\n<hr />\n<p>If you plan to use the information contained in stack frames and are using the ASM library, you don’t need to parse all the different frame types. Just pass the flag <a href=\"http://asm.ow2.org/asm50/javadoc/user/org/objectweb/asm/ClassReader.html#EXPAND_FRAMES\" rel=\"nofollow noreferrer\"><code>ClassReader.EXPAND_FRAMES</code></a> to the <code>ClassReader</code> upon construction and all you will ever encounter, are <code>F_NEW</code> frames containing the complete stack state, eliminating the need to remember previous frames.</p>\n"}],"owner":{"account_id":109311,"reputation":387,"user_id":289701,"accept_rate":91,"display_name":"Johnny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39366710,"answer_count":2,"score":2,"last_activity_date":1685710759,"creation_date":1473174895,"question_id":39352495,"body_markdown":"the java code snippet \r\n\r\n    \tint x4(int a) {\r\n\t\tif(a&gt;7){\r\n\t\t\tSystem.out.println(&quot;a&gt;7&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(a==0){\r\n\t\t\tSystem.out.println(&quot;a==0&quot;);\r\n\t\t}else if(a&gt;77){\r\n\t\t\tSystem.out.println(&quot; a&gt;77&quot;);\r\n\t\t}else if(a&gt;44){\r\n\t\t\tSystem.out.println(&quot; a&gt;44&quot;);\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;otherwise&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn 44;\r\n\t}\r\n\r\n\r\nthe bytecode outline:\r\n\r\n    // access flags 0x0\r\n    x4(I)I\r\n    // parameter  a\r\n    L0\r\n    ILOAD 1\r\n    BIPUSH 7\r\n    IF_ICMPLE L1  ---- operand stack is empty here , end of a statement\r\n    L2 ---- new statement mark\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot;a&gt;7&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L1\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    ILOAD 1\r\n    IFNE L3\r\n    L4\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot;a==0&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L5\r\n    GOTO L6\r\n    L3\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    ILOAD 1\r\n    BIPUSH 77\r\n    IF_ICMPLE L7\r\n    L8\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot; a&gt;77&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L9\r\n    GOTO L6\r\n    L7\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    ILOAD 1\r\n    BIPUSH 44\r\n    IF_ICMPLE L10\r\n    L11\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot; a&gt;44&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L12\r\n    GOTO L6\r\n    L10\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot;otherwise&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L6\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    BIPUSH 44\r\n    IRETURN\r\n    L13\r\n    // access flags 0x0\r\n    x4(I)I\r\n    // parameter  a\r\n    L0\r\n    ILOAD 1\r\n    BIPUSH 7\r\n    IF_ICMPLE L1\r\n    L2\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot;a&gt;7&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L1\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    ILOAD 1\r\n    IFNE L3\r\n    L4\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot;a==0&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L5\r\n    GOTO L6\r\n    L3\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    ILOAD 1\r\n    BIPUSH 77\r\n    IF_ICMPLE L7\r\n    L8\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot; a&gt;77&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L9\r\n    GOTO L6\r\n    L7\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    ILOAD 1\r\n    BIPUSH 44\r\n    IF_ICMPLE L10\r\n    L11\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot; a&gt;44&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L12\r\n    GOTO L6\r\n    L10\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\r\n    LDC &quot;otherwise&quot;\r\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\r\n    L6\r\n    FRAME SAME ---- branching place start with empty operand stack\r\n    BIPUSH 44\r\n    IRETURN\r\n    L13\r\n\r\nit seems that whenever the operand stack is emptied by &quot;assignment&quot;  &quot;operation+assignment&quot; &quot;follow control&quot; &quot;method invocation&quot; , a new label would mark a new &quot;statement line&quot; . \r\n\r\nthe &quot;follow control&quot; block is a collection of &quot;statement&quot; , and when a block(marked by &quot;jump instructions&quot;) is end, it would also a &quot;statement&quot; ending hence the operand stack would be empty for the block&#39;s following code or alternating branches... \r\n\r\nso it seems to me that  no case  the &quot;labeled  by &#39; jump instruction &#39; code&quot; would not be the &quot;FRAME SAME&quot; for the compiled java source code\r\n\r\nbut i know it will not be the case . otherwise the STACK MAP FRAME would not be designed into byte-code.\r\n\r\nplease experts ,thanks very much , give me example of  non-FRAME SAME branching , and explain it intuitively . \r\n\r\nthanks very much, please help.  help please.","title":"try to build a decompiler of java bytecode, and don&#39;t know in what case the &quot;stack map frame&quot; would not happen to be the &quot;FRAMSAME&quot;","body":"<p>the java code snippet </p>\n\n<pre><code>    int x4(int a) {\n    if(a&gt;7){\n        System.out.println(\"a&gt;7\");\n    }\n\n\n    if(a==0){\n        System.out.println(\"a==0\");\n    }else if(a&gt;77){\n        System.out.println(\" a&gt;77\");\n    }else if(a&gt;44){\n        System.out.println(\" a&gt;44\");\n    }else{\n        System.out.println(\"otherwise\");\n    }\n\n    return 44;\n}\n</code></pre>\n\n<p>the bytecode outline:</p>\n\n<pre><code>// access flags 0x0\nx4(I)I\n// parameter  a\nL0\nILOAD 1\nBIPUSH 7\nIF_ICMPLE L1  ---- operand stack is empty here , end of a statement\nL2 ---- new statement mark\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \"a&gt;7\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL1\nFRAME SAME ---- branching place start with empty operand stack\nILOAD 1\nIFNE L3\nL4\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \"a==0\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL5\nGOTO L6\nL3\nFRAME SAME ---- branching place start with empty operand stack\nILOAD 1\nBIPUSH 77\nIF_ICMPLE L7\nL8\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \" a&gt;77\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL9\nGOTO L6\nL7\nFRAME SAME ---- branching place start with empty operand stack\nILOAD 1\nBIPUSH 44\nIF_ICMPLE L10\nL11\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \" a&gt;44\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL12\nGOTO L6\nL10\nFRAME SAME ---- branching place start with empty operand stack\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \"otherwise\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL6\nFRAME SAME ---- branching place start with empty operand stack\nBIPUSH 44\nIRETURN\nL13\n// access flags 0x0\nx4(I)I\n// parameter  a\nL0\nILOAD 1\nBIPUSH 7\nIF_ICMPLE L1\nL2\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \"a&gt;7\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL1\nFRAME SAME ---- branching place start with empty operand stack\nILOAD 1\nIFNE L3\nL4\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \"a==0\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL5\nGOTO L6\nL3\nFRAME SAME ---- branching place start with empty operand stack\nILOAD 1\nBIPUSH 77\nIF_ICMPLE L7\nL8\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \" a&gt;77\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL9\nGOTO L6\nL7\nFRAME SAME ---- branching place start with empty operand stack\nILOAD 1\nBIPUSH 44\nIF_ICMPLE L10\nL11\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \" a&gt;44\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL12\nGOTO L6\nL10\nFRAME SAME ---- branching place start with empty operand stack\nGETSTATIC java/lang/System.out : Ljava/io/PrintStream;\nLDC \"otherwise\"\nINVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V\nL6\nFRAME SAME ---- branching place start with empty operand stack\nBIPUSH 44\nIRETURN\nL13\n</code></pre>\n\n<p>it seems that whenever the operand stack is emptied by \"assignment\"  \"operation+assignment\" \"follow control\" \"method invocation\" , a new label would mark a new \"statement line\" . </p>\n\n<p>the \"follow control\" block is a collection of \"statement\" , and when a block(marked by \"jump instructions\") is end, it would also a \"statement\" ending hence the operand stack would be empty for the block's following code or alternating branches... </p>\n\n<p>so it seems to me that  no case  the \"labeled  by ' jump instruction ' code\" would not be the \"FRAME SAME\" for the compiled java source code</p>\n\n<p>but i know it will not be the case . otherwise the STACK MAP FRAME would not be designed into byte-code.</p>\n\n<p>please experts ,thanks very much , give me example of  non-FRAME SAME branching , and explain it intuitively . </p>\n\n<p>thanks very much, please help.  help please.</p>\n"},{"tags":["java","spring","spring-security","sap-commerce-cloud","hybris-data-hub"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685700204,"post_id":76387694,"comment_id":134700965,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1685710949,"post_id":76387694,"comment_id":134703169,"body_markdown":"You seem to have a circular reference problem (bean A is dependent on Bean B and Bean B is dependent on Bean A). Check `fetchDataService` bean","body":"You seem to have a circular reference problem (bean A is dependent on Bean B and Bean B is dependent on Bean A). Check <code>fetchDataService</code> bean"}],"owner":{"account_id":27611510,"reputation":1,"user_id":21074534,"display_name":"Utkarsha Kulkarni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685710499,"creation_date":1685687789,"question_id":76387694,"body_markdown":"\r\nError creating Spring application context. Shutting down hybris platform since the system cannot be used without working Spring context...\r\n\r\n    INFO  [localhost-startStop-1] [HybrisContextFactory] Initializing &lt;&lt;global&gt;&gt; Spring ApplicationContext took: (107.4 &#206;&#188;s)\r\n    de.hybris.platform.core.UninstantiableCoreApplicationContextException: Error creating Spring application context.\r\n            at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:796)\r\n            at de.hybris.platform.core.AbstractTenant.doStartUp(AbstractTenant.java:725)\r\n            at de.hybris.platform.core.Registry.assureTenantStarted(Registry.java:650)\r\n            at de.hybris.platform.core.Registry.activateTenant(Registry.java:711)\r\n            at de.hybris.platform.core.Registry.setCurrentTenant(Registry.java:560)\r\n            at de.hybris.platform.core.Registry.activateMasterTenant(Registry.java:619)\r\n            at de.hybris.platform.core.Registry.startup(Registry.java:438)\r\n            at de.hybris.platform.core.ClassLoaderUtils.executeWithWebClassLoaderParentIfNeeded(ClassLoaderUtils.java:35)\r\n            at de.hybris.platform.spring.HybrisContextLoaderListener.startRegistry(HybrisContextLoaderListener.java:319)\r\n            at de.hybris.platform.spring.HybrisContextLoaderListener.doInitWebApplicationContext(HybrisContextLoaderListener.java:205)\r\n            at de.hybris.platform.spring.HybrisContextLoaderListener.initWebApplicationContext(HybrisContextLoaderListener.java:192)\r\n            at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n            at de.hybris.platform.spring.HybrisContextLoaderListener.contextInitialized(HybrisContextLoaderListener.java:88)\r\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4689)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5155)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn&#39;t  be created correctly due to,\r\n    \r\n    \r\n     Error creating bean with name &#39;fetchDataService&#39; defined in class path resource [trainingcore-spring.xml]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;fetchDataService&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n            at de.hybris.platform.core.HybrisContextFactory.build(HybrisContextFactory.java:307)\r\n            at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.buildSelf(HybrisContextFactory.java:179)\r\n            at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.build(HybrisContextFactory.java:165)\r\n            at de.hybris.platform.core.HybrisContextHolder.getGlobalInstanceCached(HybrisContextHolder.java:122)\r\n            at de.hybris.platform.core.HybrisContextHolder.getGlobalInstance(HybrisContextHolder.java:101)\r\n            at de.hybris.platform.core.HybrisContextHolder.getAppCtxFactory(HybrisContextHolder.java:152)\r\n            at de.hybris.platform.core.HybrisContextHolder.getApplicationInstance(HybrisContextHolder.java:78)\r\n            at de.hybris.platform.core.AbstractTenant.createCoreApplicationContext(AbstractTenant.java:753)\r\n            at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:792)\r\n            ... 21 more\r\n    \r\n    \r\n    Error creating Spring application context. Shutting down hybris platform since the system cannot be used without working Spring context...\r\n    INFO  [localhost-startStop-7] [HybrisContextFactory] Initializing &lt;&lt;global&gt;&gt; Spring ApplicationContext took: (23.50 &#206;&#188;s)\r\n    de.hybris.platform.core.UninstantiableCoreApplicationContextException: Error creating Spring application context.\r\n            at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:796)\r\n            at de.hybris.platform.core.AbstractTenant.doStartUp(AbstractTenant.java:725)\r\n            at de.hybris.platform.core.Registry.assureTenantStarted(Registry.java:650)\r\n            at de.hybris.platform.core.Registry.activateTenant(Registry.java:711)\r\n            at de.hybris.platform.core.Registry.setCurrentTenant(Registry.java:560)\r\n            at de.hybris.platform.core.Registry.activateMasterTenant(Registry.java:619)\r\n            at de.hybris.platform.core.Registry.startup(Registry.java:438)\r\n            at de.hybris.platform.core.ClassLoaderUtils.executeWithWebClassLoaderParentIfNeeded(ClassLoaderUtils.java:35)\r\n            at de.hybris.platform.spring.HybrisContextLoaderListener.startRegistry(HybrisContextLoaderListener.java:319)\r\n            at de.hybris.platform.spring.HybrisContextLoaderListener.doInitWebApplicationContext(HybrisContextLoaderListener.java:205)\r\n            at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n            at de.hybris.platform.spring.HybrisContextLoaderListener.contextInitialized(HybrisContextLoaderListener.java:88)\r\n            at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4689)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5155)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn&#39;t  be created correctly due to,\r\n    \r\n     Error creating bean with name &#39;fetchDataService&#39; defined in class path resource [trainingcore-spring.xml]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;fetchDataService&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n            at de.hybris.platform.core.HybrisContextFactory.build(HybrisContextFactory.java:307)\r\n            at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.buildSelf(HybrisContextFactory.java:179)\r\n            at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.build(HybrisContextFactory.java:165)\r\n            at de.hybris.platform.core.HybrisContextHolder.getGlobalInstanceCached(HybrisContextHolder.java:122)\r\n            at de.hybris.platform.core.HybrisContextHolder.getGlobalInstance(HybrisContextHolder.java:101)\r\n            at de.hybris.platform.core.HybrisContextHolder.getAppCtxFactory(HybrisContextHolder.java:152)\r\n            at de.hybris.platform.core.HybrisContextHolder.getApplicationInstance(HybrisContextHolder.java:78)\r\n            at de.hybris.platform.core.AbstractTenant.createCoreApplicationContext(AbstractTenant.java:753)\r\n            at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:792)\r\n            ... 21 more\r\n    Error creating Spring application context. Shutting down hybris platform since the system cannot be used without working Spring context...\r\n    INFO  [Thread-3] [HybrisContextFactory] Initializing &lt;&lt;global&gt;&gt; Spring ApplicationContext took: (21.60 &#206;&#188;s)\r\n    \r\n    ERROR [Thread-3] [JMXBeanLoader] Can&#39;t unregister jmxbeans on shutdown of the tenant &lt;&lt;master&gt;&gt;\r\n    org.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn&#39;t  be created correctly due to, Error creating bean with name &#39;fetchDataService&#39; defined in class path resource [trainingcore-spring.xml]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;fetchDataService&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n            at de.hybris.platform.core.HybrisContextFactory.build(HybrisContextFactory.java:307) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.buildSelf(HybrisContextFactory.java:179) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.build(HybrisContextFactory.java:165) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.HybrisContextHolder.getGlobalInstanceCached(HybrisContextHolder.java:122) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.HybrisContextHolder.getGlobalInstance(HybrisContextHolder.java:101) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.Registry.getSingletonGlobalApplicationContext(Registry.java:1116) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.JMXBeanLoader.getMBeanRegistry(JMXBeanLoader.java:141) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.JMXBeanLoader.beforeTenantShutDown(JMXBeanLoader.java:104) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.notifyTenantListenersBeforeShutdown(AbstractTenant.java:1315) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:996) [coreserver.jar:?]\r\n    ERROR [Thread-3] [RegionCacheAdapter] Unable to clear cache. Failed on region entityCacheRegion. Last key null null\r\n    java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n            at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\r\n            at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.shutdownCache(AbstractTenant.java:1140) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:1014) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\r\n            at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\r\n            at de.hybris.platform.util.RedeployUtilities.shutdown(RedeployUtilities.java:67) [coreserver.jar:?]\r\n            at de.hybris.platform.util.RedeployUtilities$1.internalRun(RedeployUtilities.java:32) [coreserver.jar:?]\r\n            at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\r\n    WARN  [Thread-3] [AbstractTenant] The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n    java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n            at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\r\n            at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) ~[coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.shutdownCache(AbstractTenant.java:1140) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:1014) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\r\n            at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\r\n            at de.hybris.platform.util.RedeployUtilities.shutdown(RedeployUtilities.java:67) [coreserver.jar:?]\r\n            at de.hybris.platform.util.RedeployUtilities$1.internalRun(RedeployUtilities.java:32) [coreserver.jar:?]\r\n            at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\r\n    \r\n    \r\n    ERROR [Thread-3] [RegionCacheAdapter] Unable to clear cache. Failed on region entityCacheRegion. Last key null null\r\n    java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n            at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\r\n            at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) [coreserver.jar:?]\r\n            at de.hybris.platform.cache.impl.RegionCacheAdapter.destroy(RegionCacheAdapter.java:512) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.shutdownCache(AbstractTenant.java:1150) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:1014) [coreserver.jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\r\n            at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\r\n            at \r\n    de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\r\n    WARN  [Thread-3] [AbstractTenant] The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n    java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n            at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\r\n            at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\r\n            at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) ~[coreserver.jar:?]\r\n            at de.hybris.platform.cache.impl.RegionCacheAdapter.destroy(RegionCacheAdapter.java:512) ~[coreserver.jar:?]\r\n            at jar:?]\r\n            at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\r\n            at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\r\n            at de.hybris.platform.util.RedeployUtilities.shutdown(RedeployUtilities.java:67) [coreserver.jar:?]\r\n            at de.hybris.platform.util.RedeployUtilities$1.internalRun(RedeployUtilities.java:32) [coreserver.jar:?]\r\n            at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\r\n    INFO  [Thread-3] [DefaultClusterNodeManagementService] Unregistering assigned cluster node id 0...\r\n    INFO  [AfterSaveEventPublisher-master] [DefaultAfterSaveListenerRegistry] AfterSaveEventPublisher-master has been interrupted/terminated but without InterruptedException - stopping now.\r\n    Exception in thread &quot;AfterSaveEventPublisher-master&quot; java.lang.IllegalStateException: Can not activate tenant &lt;&lt;master&gt;&gt; since it has no application context created\r\n            at de.hybris.platform.core.Registry.assureTenantStarted(Registry.java:674)\r\n            at de.hybris.platform.core.Registry.activateTenant(Registry.java:711)\r\n            at de.hybris.platform.core.Registry.setCurrentTenant(Registry.java:560)\r\n            at de.hybris.platform.tx.DefaultAfterSaveListenerRegistry$AfterSaveEventPublisherThread.internalRun(DefaultAfterSaveListenerRegistry.java:242)\r\n            at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124)\r\n    &lt;-- Wrapper Stopped\r\n    C:\\dcxtraining2005\\hybris\\bin\\platform&gt;m\r\n    &#39;m&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n\r\n\r\n``    This is bean registration in spring.xml\r\n    \r\n      &lt;bean id =&quot;fetchDataService&quot; class =&quot;com.training.core.service.impl.DefaultErpFetchDataService&quot;&gt;\r\n      &lt;constructor-arg name=&quot;restTemplate&quot; ref=&quot;erpRestTemplate&quot;/&gt;\r\n      &lt;/bean&gt; ``\r\n    \r\n\r\n\r\n","title":"What could be causing an error while starting the Hybris Server with code in spring.xml?","body":"<p>Error creating Spring application context. Shutting down hybris platform since the system cannot be used without working Spring context...</p>\n<pre><code>INFO  [localhost-startStop-1] [HybrisContextFactory] Initializing &lt;&lt;global&gt;&gt; Spring ApplicationContext took: (107.4 Î¼s)\nde.hybris.platform.core.UninstantiableCoreApplicationContextException: Error creating Spring application context.\n        at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:796)\n        at de.hybris.platform.core.AbstractTenant.doStartUp(AbstractTenant.java:725)\n        at de.hybris.platform.core.Registry.assureTenantStarted(Registry.java:650)\n        at de.hybris.platform.core.Registry.activateTenant(Registry.java:711)\n        at de.hybris.platform.core.Registry.setCurrentTenant(Registry.java:560)\n        at de.hybris.platform.core.Registry.activateMasterTenant(Registry.java:619)\n        at de.hybris.platform.core.Registry.startup(Registry.java:438)\n        at de.hybris.platform.core.ClassLoaderUtils.executeWithWebClassLoaderParentIfNeeded(ClassLoaderUtils.java:35)\n        at de.hybris.platform.spring.HybrisContextLoaderListener.startRegistry(HybrisContextLoaderListener.java:319)\n        at de.hybris.platform.spring.HybrisContextLoaderListener.doInitWebApplicationContext(HybrisContextLoaderListener.java:205)\n        at de.hybris.platform.spring.HybrisContextLoaderListener.initWebApplicationContext(HybrisContextLoaderListener.java:192)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n        at de.hybris.platform.spring.HybrisContextLoaderListener.contextInitialized(HybrisContextLoaderListener.java:88)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4689)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5155)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn't  be created correctly due to,\n\n\n Error creating bean with name 'fetchDataService' defined in class path resource [trainingcore-spring.xml]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'fetchDataService': Requested bean is currently in creation: Is there an unresolvable circular reference?\n        at de.hybris.platform.core.HybrisContextFactory.build(HybrisContextFactory.java:307)\n        at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.buildSelf(HybrisContextFactory.java:179)\n        at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.build(HybrisContextFactory.java:165)\n        at de.hybris.platform.core.HybrisContextHolder.getGlobalInstanceCached(HybrisContextHolder.java:122)\n        at de.hybris.platform.core.HybrisContextHolder.getGlobalInstance(HybrisContextHolder.java:101)\n        at de.hybris.platform.core.HybrisContextHolder.getAppCtxFactory(HybrisContextHolder.java:152)\n        at de.hybris.platform.core.HybrisContextHolder.getApplicationInstance(HybrisContextHolder.java:78)\n        at de.hybris.platform.core.AbstractTenant.createCoreApplicationContext(AbstractTenant.java:753)\n        at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:792)\n        ... 21 more\n\n\nError creating Spring application context. Shutting down hybris platform since the system cannot be used without working Spring context...\nINFO  [localhost-startStop-7] [HybrisContextFactory] Initializing &lt;&lt;global&gt;&gt; Spring ApplicationContext took: (23.50 Î¼s)\nde.hybris.platform.core.UninstantiableCoreApplicationContextException: Error creating Spring application context.\n        at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:796)\n        at de.hybris.platform.core.AbstractTenant.doStartUp(AbstractTenant.java:725)\n        at de.hybris.platform.core.Registry.assureTenantStarted(Registry.java:650)\n        at de.hybris.platform.core.Registry.activateTenant(Registry.java:711)\n        at de.hybris.platform.core.Registry.setCurrentTenant(Registry.java:560)\n        at de.hybris.platform.core.Registry.activateMasterTenant(Registry.java:619)\n        at de.hybris.platform.core.Registry.startup(Registry.java:438)\n        at de.hybris.platform.core.ClassLoaderUtils.executeWithWebClassLoaderParentIfNeeded(ClassLoaderUtils.java:35)\n        at de.hybris.platform.spring.HybrisContextLoaderListener.startRegistry(HybrisContextLoaderListener.java:319)\n        at de.hybris.platform.spring.HybrisContextLoaderListener.doInitWebApplicationContext(HybrisContextLoaderListener.java:205)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n        at de.hybris.platform.spring.HybrisContextLoaderListener.contextInitialized(HybrisContextLoaderListener.java:88)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4689)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5155)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn't  be created correctly due to,\n\n Error creating bean with name 'fetchDataService' defined in class path resource [trainingcore-spring.xml]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'fetchDataService': Requested bean is currently in creation: Is there an unresolvable circular reference?\n        at de.hybris.platform.core.HybrisContextFactory.build(HybrisContextFactory.java:307)\n        at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.buildSelf(HybrisContextFactory.java:179)\n        at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.build(HybrisContextFactory.java:165)\n        at de.hybris.platform.core.HybrisContextHolder.getGlobalInstanceCached(HybrisContextHolder.java:122)\n        at de.hybris.platform.core.HybrisContextHolder.getGlobalInstance(HybrisContextHolder.java:101)\n        at de.hybris.platform.core.HybrisContextHolder.getAppCtxFactory(HybrisContextHolder.java:152)\n        at de.hybris.platform.core.HybrisContextHolder.getApplicationInstance(HybrisContextHolder.java:78)\n        at de.hybris.platform.core.AbstractTenant.createCoreApplicationContext(AbstractTenant.java:753)\n        at de.hybris.platform.core.AbstractTenant.doStartupSafe(AbstractTenant.java:792)\n        ... 21 more\nError creating Spring application context. Shutting down hybris platform since the system cannot be used without working Spring context...\nINFO  [Thread-3] [HybrisContextFactory] Initializing &lt;&lt;global&gt;&gt; Spring ApplicationContext took: (21.60 Î¼s)\n\nERROR [Thread-3] [JMXBeanLoader] Can't unregister jmxbeans on shutdown of the tenant &lt;&lt;master&gt;&gt;\norg.springframework.beans.FatalBeanException: Context hybris Global Context Factory  couldn't  be created correctly due to, Error creating bean with name 'fetchDataService' defined in class path resource [trainingcore-spring.xml]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'fetchDataService': Requested bean is currently in creation: Is there an unresolvable circular reference?\n        at de.hybris.platform.core.HybrisContextFactory.build(HybrisContextFactory.java:307) ~[coreserver.jar:?]\n        at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.buildSelf(HybrisContextFactory.java:179) ~[coreserver.jar:?]\n        at de.hybris.platform.core.HybrisContextFactory$GlobalContextFactory.build(HybrisContextFactory.java:165) ~[coreserver.jar:?]\n        at de.hybris.platform.core.HybrisContextHolder.getGlobalInstanceCached(HybrisContextHolder.java:122) ~[coreserver.jar:?]\n        at de.hybris.platform.core.HybrisContextHolder.getGlobalInstance(HybrisContextHolder.java:101) ~[coreserver.jar:?]\n        at de.hybris.platform.core.Registry.getSingletonGlobalApplicationContext(Registry.java:1116) ~[coreserver.jar:?]\n        at de.hybris.platform.core.JMXBeanLoader.getMBeanRegistry(JMXBeanLoader.java:141) ~[coreserver.jar:?]\n        at de.hybris.platform.core.JMXBeanLoader.beforeTenantShutDown(JMXBeanLoader.java:104) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.notifyTenantListenersBeforeShutdown(AbstractTenant.java:1315) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:996) [coreserver.jar:?]\nERROR [Thread-3] [RegionCacheAdapter] Unable to clear cache. Failed on region entityCacheRegion. Last key null null\njava.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\n        at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\n        at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\n        at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.shutdownCache(AbstractTenant.java:1140) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:1014) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\n        at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\n        at de.hybris.platform.util.RedeployUtilities.shutdown(RedeployUtilities.java:67) [coreserver.jar:?]\n        at de.hybris.platform.util.RedeployUtilities$1.internalRun(RedeployUtilities.java:32) [coreserver.jar:?]\n        at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\nWARN  [Thread-3] [AbstractTenant] The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\njava.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\n        at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\n        at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\n        at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) ~[coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.shutdownCache(AbstractTenant.java:1140) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:1014) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\n        at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\n        at de.hybris.platform.util.RedeployUtilities.shutdown(RedeployUtilities.java:67) [coreserver.jar:?]\n        at de.hybris.platform.util.RedeployUtilities$1.internalRun(RedeployUtilities.java:32) [coreserver.jar:?]\n        at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\n\n\nERROR [Thread-3] [RegionCacheAdapter] Unable to clear cache. Failed on region entityCacheRegion. Last key null null\njava.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\n        at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\n        at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\n        at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) [coreserver.jar:?]\n        at de.hybris.platform.cache.impl.RegionCacheAdapter.destroy(RegionCacheAdapter.java:512) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.shutdownCache(AbstractTenant.java:1150) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutdown(AbstractTenant.java:1014) [coreserver.jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\n        at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\n        at \nde.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\nWARN  [Thread-3] [AbstractTenant] The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\njava.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\n        at net.sf.ehcache.Cache$CacheStatus.checkAlive(Cache.java:4075) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.checkStatus(Cache.java:2766) ~[ehcache-2.9.0.jar:2.9.0]\n        at net.sf.ehcache.Cache.getKeys(Cache.java:2066) ~[ehcache-2.9.0.jar:2.9.0]\n        at de.hybris.platform.regioncache.region.impl.EHCacheRegion.getAllKeys(EHCacheRegion.java:423) ~[coreserver.jar:?]\n        at de.hybris.platform.cache.impl.RegionCacheAdapter.clear(RegionCacheAdapter.java:283) ~[coreserver.jar:?]\n        at de.hybris.platform.cache.impl.RegionCacheAdapter.destroy(RegionCacheAdapter.java:512) ~[coreserver.jar:?]\n        at jar:?]\n        at de.hybris.platform.core.AbstractTenant.doShutDown(AbstractTenant.java:957) [coreserver.jar:?]\n        at de.hybris.platform.core.Registry.destroy(Registry.java:325) [coreserver.jar:?]\n        at de.hybris.platform.util.RedeployUtilities.shutdown(RedeployUtilities.java:67) [coreserver.jar:?]\n        at de.hybris.platform.util.RedeployUtilities$1.internalRun(RedeployUtilities.java:32) [coreserver.jar:?]\n        at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124) [coreserver.jar:?]\nINFO  [Thread-3] [DefaultClusterNodeManagementService] Unregistering assigned cluster node id 0...\nINFO  [AfterSaveEventPublisher-master] [DefaultAfterSaveListenerRegistry] AfterSaveEventPublisher-master has been interrupted/terminated but without InterruptedException - stopping now.\nException in thread &quot;AfterSaveEventPublisher-master&quot; java.lang.IllegalStateException: Can not activate tenant &lt;&lt;master&gt;&gt; since it has no application context created\n        at de.hybris.platform.core.Registry.assureTenantStarted(Registry.java:674)\n        at de.hybris.platform.core.Registry.activateTenant(Registry.java:711)\n        at de.hybris.platform.core.Registry.setCurrentTenant(Registry.java:560)\n        at de.hybris.platform.tx.DefaultAfterSaveListenerRegistry$AfterSaveEventPublisherThread.internalRun(DefaultAfterSaveListenerRegistry.java:242)\n        at de.hybris.platform.core.threadregistry.RegistrableThread.run(RegistrableThread.java:124)\n&lt;-- Wrapper Stopped\nC:\\dcxtraining2005\\hybris\\bin\\platform&gt;m\n'm' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n<p>``    This is bean registration in spring.xml</p>\n<pre><code>  &lt;bean id =&quot;fetchDataService&quot; class =&quot;com.training.core.service.impl.DefaultErpFetchDataService&quot;&gt;\n  &lt;constructor-arg name=&quot;restTemplate&quot; ref=&quot;erpRestTemplate&quot;/&gt;\n  &lt;/bean&gt; ``\n</code></pre>\n"},{"tags":["java","containers","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1686033264,"post_id":76390340,"comment_id":134739721,"body_markdown":"Which application ctonainer are you talking about? Quarkus does not launch your application in a container when in dev mode.","body":"Which application ctonainer are you talking about? Quarkus does not launch your application in a container when in dev mode."},{"owner":{"account_id":15316970,"reputation":13,"user_id":11050595,"display_name":"Daniel Bj&#248;rkholm"},"score":1,"creation_date":1686209077,"post_id":76390340,"comment_id":134768452,"body_markdown":"Oh right, wow, I hadn&#39;t realized. That means that java.nio.file.Path.of(&quot;./&quot;) is the root of my project, and I can use Quarkus profiles to set this path differently from when it is in fact packaged into a container. Thanks and sorry for the misunderstanding :)","body":"Oh right, wow, I hadn&#39;t realized. That means that java.nio.file.Path.of(&quot;./&quot;) is the root of my project, and I can use Quarkus profiles to set this path differently from when it is in fact packaged into a container. Thanks and sorry for the misunderstanding :)"}],"owner":{"account_id":15316970,"reputation":13,"user_id":11050595,"display_name":"Daniel Bj&#248;rkholm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685710420,"creation_date":1685710420,"question_id":76390340,"body_markdown":"I&#39;m building an application which needs to read from files mounted to it.\r\n\r\nThis is obviously all fine when the application runs in a kubernetes type environment, but what if I want to do manual testing in dev mode. How do I mount some files from my resources project folder, or copy them into the container or make some kind of mapping?\r\n\r\nI haven&#39;t been able to find any indication of how this could be possible, but I imagine that such a feature must exist...\r\n\r\nNote: I&#39;m not interested in mounting the files into of the devservices, like the database container etc. I&#39;m only talking about the application container.","title":"Mounting or file mapping into Quarkus app testcontainer during dev mode","body":"<p>I'm building an application which needs to read from files mounted to it.</p>\n<p>This is obviously all fine when the application runs in a kubernetes type environment, but what if I want to do manual testing in dev mode. How do I mount some files from my resources project folder, or copy them into the container or make some kind of mapping?</p>\n<p>I haven't been able to find any indication of how this could be possible, but I imagine that such a feature must exist...</p>\n<p>Note: I'm not interested in mounting the files into of the devservices, like the database container etc. I'm only talking about the application container.</p>\n"},{"tags":["java","android","serialization","android-framelayout","viewgroup"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1487936184,"post_id":42437640,"comment_id":72019310,"body_markdown":"http://stackoverflow.com/questions/23142893/parcelable-encountered-ioexception-writing-serializable-object-getactivity","body":"<a href=\"http://stackoverflow.com/questions/23142893/parcelable-encountered-ioexception-writing-serializable-object-getactivity\" title=\"parcelable encountered ioexception writing serializable object getactivity\">stackoverflow.com/questions/23142893/&hellip;</a>"},{"owner":{"account_id":3924372,"reputation":1386,"user_id":3245482,"display_name":"ditn"},"score":1,"creation_date":1487936264,"post_id":42437640,"comment_id":72019361,"body_markdown":"ViewGroup isn&#39;t serializable.","body":"ViewGroup isn&#39;t serializable."},{"owner":{"account_id":1673973,"reputation":3665,"user_id":1539865,"accept_rate":66,"display_name":"Tarasov"},"score":0,"creation_date":1487936468,"post_id":42437640,"comment_id":72019491,"body_markdown":"have i a other method to send the layout as frameayout to the other activity and replace there the framelyout?","body":"have i a other method to send the layout as frameayout to the other activity and replace there the framelyout?"},{"owner":{"account_id":3343713,"reputation":3554,"user_id":2809326,"accept_rate":14,"display_name":"arjun"},"score":0,"creation_date":1487936840,"post_id":42437640,"comment_id":72019723,"body_markdown":"send the entire layout is a bad practice. post the use case where you need such operation, so that you can find a different solution","body":"send the entire layout is a bad practice. post the use case where you need such operation, so that you can find a different solution"}],"answers":[{"comments":[{"owner":{"account_id":234980,"reputation":7845,"user_id":501483,"accept_rate":92,"display_name":"dharmendra"},"score":0,"creation_date":1487938959,"post_id":42437866,"comment_id":72020971,"body_markdown":"Partially agree ! If view is independent component (not directly attached to activity) then it can be move between activities.","body":"Partially agree ! If view is independent component (not directly attached to activity) then it can be move between activities."},{"owner":{"account_id":1015668,"reputation":35631,"user_id":1027277,"accept_rate":92,"display_name":"Kuffs"},"score":0,"creation_date":1487939133,"post_id":42437866,"comment_id":72021079,"body_markdown":"A view needs a context to be passed in order for the constructor to be called so it should be impossible to have a view that is not attached to an Activity. You could use the Application context but that would require a very specific use case.","body":"A view needs a context to be passed in order for the constructor to be called so it should be impossible to have a view that is not attached to an Activity. You could use the Application context but that would require a very specific use case."},{"owner":{"account_id":1015668,"reputation":35631,"user_id":1027277,"accept_rate":92,"display_name":"Kuffs"},"score":0,"creation_date":1487939403,"post_id":42437866,"comment_id":72021261,"body_markdown":"http://stackoverflow.com/questions/14079719/pass-application-context-to-the-view-instead-of-activity-context","body":"<a href=\"http://stackoverflow.com/questions/14079719/pass-application-context-to-the-view-instead-of-activity-context\" title=\"pass application context to the view instead of activity context\">stackoverflow.com/questions/14079719/&hellip;</a>"},{"owner":{"account_id":234980,"reputation":7845,"user_id":501483,"accept_rate":92,"display_name":"dharmendra"},"score":0,"creation_date":1487939474,"post_id":42437866,"comment_id":72021299,"body_markdown":"Yes that would be madness :p . +1 from my side.","body":"Yes that would be madness :p . +1 from my side."}],"tags":[],"owner":{"account_id":1015668,"reputation":35631,"user_id":1027277,"accept_rate":92,"display_name":"Kuffs"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487937157,"creation_date":1487936844,"answer_id":42437866,"question_id":42437640,"body_markdown":"You cannot send Views between Activities. Each view is attached to its own Activity (its Context). You risk memory leaks and crashes if you try using a View in one activity that was created with a different one.\r\n\r\nJust send the data you need to recreate the object in the receiving Activity.\r\n\r\nYou can do this with a simple Serializable class that contains only the necessary data or by just setting an Extra for each piece of data you need to pass.","title":"How I can send a Serializable Class to a other Activity with all fields?","body":"<p>You cannot send Views between Activities. Each view is attached to its own Activity (its Context). You risk memory leaks and crashes if you try using a View in one activity that was created with a different one.</p>\n\n<p>Just send the data you need to recreate the object in the receiving Activity.</p>\n\n<p>You can do this with a simple Serializable class that contains only the necessary data or by just setting an Extra for each piece of data you need to pass.</p>\n"},{"tags":[],"owner":{"account_id":8816999,"reputation":56,"user_id":6588077,"display_name":"Harris Solangi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487941275,"creation_date":1487938133,"answer_id":42438280,"question_id":42437640,"body_markdown":"Your class has to implement `Serializable`.\r\n\r\n    intent.putExtra(&quot;MyClass&quot;, obj);\r\n    \r\n    // To retrieve object in second Activity\r\n    getIntent().getSerializableExtra(&quot;MyClass&quot;);\r\n\r\nHope this helps.","title":"How I can send a Serializable Class to a other Activity with all fields?","body":"<p>Your class has to implement <code>Serializable</code>.</p>\n\n<pre><code>intent.putExtra(\"MyClass\", obj);\n\n// To retrieve object in second Activity\ngetIntent().getSerializableExtra(\"MyClass\");\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14586615,"reputation":176,"user_id":10535200,"display_name":"Oğuzhan Aslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685710224,"creation_date":1685710224,"answer_id":76390312,"question_id":42437640,"body_markdown":"implementing &#39;Serializable&#39; by itself does not enough, the object must contain Serializable properties. In your case, the code does not work cause ViewGroup is not serializable. \r\n\r\nIn fact you should not pass views back and front in your application. It is safer to pass only the necessary information and using the information in the view you want to show. \r\n\r\nFor further information check-out https://www.baeldung.com/java-serialization","title":"How I can send a Serializable Class to a other Activity with all fields?","body":"<p>implementing 'Serializable' by itself does not enough, the object must contain Serializable properties. In your case, the code does not work cause ViewGroup is not serializable.</p>\n<p>In fact you should not pass views back and front in your application. It is safer to pass only the necessary information and using the information in the view you want to show.</p>\n<p>For further information check-out <a href=\"https://www.baeldung.com/java-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-serialization</a></p>\n"}],"owner":{"account_id":1673973,"reputation":3665,"user_id":1539865,"accept_rate":66,"display_name":"Tarasov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685710224,"creation_date":1487936130,"question_id":42437640,"body_markdown":"I want to start a other Activity and send a object from a class with one field by type ViewGroup. \r\n\r\nHere the Class:\r\n\r\n    public class SerializableObject implements Serializable {\r\n        public ViewGroup parent;\r\n    \r\n        public SerializableObject(ViewGroup parent){\r\n            this.parent = parent;\r\n        }\r\n    \r\n        public ViewGroup getParent(){\r\n            return this.parent;\r\n        }\r\n    }\r\n\r\nHere the call:\r\n\r\n            Intent i = new Intent(thisContext,CordovaViewer.class);\r\n            i.putExtra(&quot;KEY&quot;,obj);\r\n\r\n            cordova.getActivity().startActivity(i);\r\n\r\nI get the Error : \r\n\r\n**Parcelable encountered IOException writing serializable object**","title":"How I can send a Serializable Class to a other Activity with all fields?","body":"<p>I want to start a other Activity and send a object from a class with one field by type ViewGroup. </p>\n\n<p>Here the Class:</p>\n\n<pre><code>public class SerializableObject implements Serializable {\n    public ViewGroup parent;\n\n    public SerializableObject(ViewGroup parent){\n        this.parent = parent;\n    }\n\n    public ViewGroup getParent(){\n        return this.parent;\n    }\n}\n</code></pre>\n\n<p>Here the call:</p>\n\n<pre><code>        Intent i = new Intent(thisContext,CordovaViewer.class);\n        i.putExtra(\"KEY\",obj);\n\n        cordova.getActivity().startActivity(i);\n</code></pre>\n\n<p>I get the Error : </p>\n\n<p><strong>Parcelable encountered IOException writing serializable object</strong></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685658032,"post_id":76386071,"comment_id":134695523,"body_markdown":"What URL are you requesting, and what do your logs say?","body":"What URL are you requesting, and what do your logs say?"},{"owner":{"display_name":"user21357629"},"score":0,"creation_date":1685658429,"post_id":76386071,"comment_id":134695569,"body_markdown":"@tgdavies http://localhost:8080/api/photos my log sy resource not found Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicError","body":"@tgdavies <a href=\"http://localhost:8080/api/photos\" rel=\"nofollow noreferrer\">localhost:8080/api/photos</a> my log sy resource not found Mapped to org.springframework.boot.autoconfigure.web.servlet.error.Bas&zwnj;&#8203;icError"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1685660226,"post_id":76386071,"comment_id":134695805,"body_markdown":"Can you show your project structure","body":"Can you show your project structure"},{"owner":{"display_name":"user21357629"},"score":0,"creation_date":1685695604,"post_id":76386071,"comment_id":134700020,"body_markdown":"@Youans I show my project structure in the photo","body":"@Youans I show my project structure in the photo"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685703937,"post_id":76386071,"comment_id":134701701,"body_markdown":"Please show the logs of your app when it starts and show an example `curl` command that fails.","body":"Please show the logs of your app when it starts and show an example <code>curl</code> command that fails."}],"answers":[{"comments":[{"owner":{"display_name":"user21357629"},"score":0,"creation_date":1685695768,"post_id":76386210,"comment_id":134700062,"body_markdown":"Thank you for your answer but this isn&#39;t the solution","body":"Thank you for your answer but this isn&#39;t the solution"}],"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685660539,"creation_date":1685660539,"answer_id":76386210,"question_id":76386071,"body_markdown":"Use:\r\n\r\n```\r\n@GetMapping(path = &quot;/api/photos&quot;, produces = &quot;application/json&quot;)\r\n```\r\n\r\nnot name = &quot;/api/photos&quot;.","title":"Problem with spring boot api. Response is 404 not found","body":"<p>Use:</p>\n<pre><code>@GetMapping(path = &quot;/api/photos&quot;, produces = &quot;application/json&quot;)\n</code></pre>\n<p>not name = &quot;/api/photos&quot;.</p>\n"},{"comments":[{"owner":{"display_name":"user21357629"},"score":0,"creation_date":1685697303,"post_id":76388680,"comment_id":134700345,"body_markdown":"I continue to receive 404 not found","body":"I continue to receive 404 not found"}],"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685696585,"creation_date":1685696585,"answer_id":76388680,"question_id":76386071,"body_markdown":"You may try this annotations\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;api/photos&quot;)\r\npublic class PhotoController {\r\n    @GetMapping\r\n    public String getAll(){\r\n        return &quot;finito&quot;;\r\n    }\r\n}\r\n```","title":"Problem with spring boot api. Response is 404 not found","body":"<p>You may try this annotations</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;api/photos&quot;)\npublic class PhotoController {\n    @GetMapping\n    public String getAll(){\n        return &quot;finito&quot;;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user21357629"},"score":0,"creation_date":1685699297,"post_id":76388919,"comment_id":134700775,"body_markdown":"I try to add the dependency but intellij don&#39;t find it","body":"I try to add the dependency but intellij don&#39;t find it"},{"owner":{"display_name":"user21357629"},"score":0,"creation_date":1685701181,"post_id":76388919,"comment_id":134701152,"body_markdown":"I continue to receive 404","body":"I continue to receive 404"}],"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685698290,"creation_date":1685698290,"answer_id":76388919,"question_id":76386071,"body_markdown":"for me, your code is working fine and what I see the difference is that one dependancy,\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2gqBZ.png","title":"Problem with spring boot api. Response is 404 not found","body":"<p>for me, your code is working fine and what I see the difference is that one dependancy,</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2gqBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2gqBZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685710112,"creation_date":1685710112,"answer_id":76390294,"question_id":76386071,"body_markdown":"Your code is fine, My take away is that your Spring dependencies are not listed at the same level as the `DemoApplication` class as you show in the project structure image.\r\n\r\nYou should move the following packages (Controller, Model, Service) to be under the `com.example.demo` package\r\n\r\nAfter that, your controller and mapping will be discovered by Spring Boot discovery service","title":"Problem with spring boot api. Response is 404 not found","body":"<p>Your code is fine, My take away is that your Spring dependencies are not listed at the same level as the <code>DemoApplication</code> class as you show in the project structure image.</p>\n<p>You should move the following packages (Controller, Model, Service) to be under the <code>com.example.demo</code> package</p>\n<p>After that, your controller and mapping will be discovered by Spring Boot discovery service</p>\n"}],"owner":{"display_name":"user21357629"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1685710112,"creation_date":1685657932,"question_id":76386071,"body_markdown":"I&#39;m new of spring boot and i&#39;m trying to make a simple api rest service with a method that return a string but I contine to receive 404 on postman\r\nMy controller\r\n```\r\n@RestController\r\npublic class PhotoController {\r\n    @GetMapping(path = &quot;/api/photos&quot;, produces = &quot;application/json&quot;)\r\n    public String getAll(){\r\n        return &quot;finito&quot;;\r\n    }\r\n}\r\n```\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties\r\n```\r\ndebug = true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://localhost:3306/photos\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.show-sql: true\r\nspring.jpa.properties.javax.persistence.schema-generation.scripts.action=drop-and-create\r\nspring.jpa.properties.javax.persistence.schema-generation.scripts.create-target=create.sql\r\nspring.jpa.properties.javax.persistence.schema-generation.scripts.drop-target=drop.sql\r\nspring.jpa.properties.hibernate.format.sql=true\r\n```\r\n\r\nI&#39;m not understanding why it do this, I&#39;m sure that url is that and I&#39;ve added restcontroller in my class (I know that the method should not be implemented in this way but I wanna just make a test)\r\n\r\nproject structure\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qo86A.png","title":"Problem with spring boot api. Response is 404 not found","body":"<p>I'm new of spring boot and i'm trying to make a simple api rest service with a method that return a string but I contine to receive 404 on postman\nMy controller</p>\n<pre><code>@RestController\npublic class PhotoController {\n    @GetMapping(path = &quot;/api/photos&quot;, produces = &quot;application/json&quot;)\n    public String getAll(){\n        return &quot;finito&quot;;\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>debug = true\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/photos\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql: true\nspring.jpa.properties.javax.persistence.schema-generation.scripts.action=drop-and-create\nspring.jpa.properties.javax.persistence.schema-generation.scripts.create-target=create.sql\nspring.jpa.properties.javax.persistence.schema-generation.scripts.drop-target=drop.sql\nspring.jpa.properties.hibernate.format.sql=true\n</code></pre>\n<p>I'm not understanding why it do this, I'm sure that url is that and I've added restcontroller in my class (I know that the method should not be implemented in this way but I wanna just make a test)</p>\n<p>project structure</p>\n<p><a href=\"https://i.stack.imgur.com/Qo86A.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","arrays","input","average"],"answers":[{"comments":[{"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"score":0,"creation_date":1652529041,"post_id":72239584,"comment_id":127630961,"body_markdown":"Yes of course but Nekosor were already using Double so to keep it simple I also use it. But at this level I don&#39;t think it matters. I will fix it.","body":"Yes of course but Nekosor were already using Double so to keep it simple I also use it. But at this level I don&#39;t think it matters. I will fix it."},{"owner":{"account_id":25288556,"reputation":13,"user_id":19115071,"display_name":"Nekosor"},"score":0,"creation_date":1652544431,"post_id":72239584,"comment_id":127634167,"body_markdown":"Thanks for comment, i&#39;m learning for program.","body":"Thanks for comment, i&#39;m learning for program."}],"tags":[],"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652530300,"creation_date":1652526129,"answer_id":72239584,"question_id":72239023,"body_markdown":"I don&#39;t understand clearly what&#39;s you piece of code is for, but I&#39;m gonna try to help you.\r\nIf you want to calculate the sum of elements in ArrayList you could do it like that\r\n\r\n    public double sum(List&lt;Double&gt; list) {\r\n\t\r\n\r\n        double sum=0d;\r\n    \tfor(Double value:list) {\r\n    \t\tsum+=value;\r\n    \t}\r\n    \treturn sum;\r\n\t\r\n    }\r\n\r\nIn order to calculate the average you just have to divide the sum by the size of an array.\r\n\r\n    double sum=sum(mi_arrayHtmlyCSS);\r\n    double avg=sum/mi_arrayHtmlyCSS.size();\r\n\r\nI didn&#39;t check nullable and divide by zero for simplicity.","title":"How can I sum and average my array in Java","body":"<p>I don't understand clearly what's you piece of code is for, but I'm gonna try to help you.\nIf you want to calculate the sum of elements in ArrayList you could do it like that</p>\n<pre><code>public double sum(List&lt;Double&gt; list) {\n\n\n    double sum=0d;\n    for(Double value:list) {\n        sum+=value;\n    }\n    return sum;\n\n}\n</code></pre>\n<p>In order to calculate the average you just have to divide the sum by the size of an array.</p>\n<pre><code>double sum=sum(mi_arrayHtmlyCSS);\ndouble avg=sum/mi_arrayHtmlyCSS.size();\n</code></pre>\n<p>I didn't check nullable and divide by zero for simplicity.</p>\n"},{"tags":[],"owner":{"account_id":28735979,"reputation":1,"user_id":22007029,"display_name":"Saurabh Gunturkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685709803,"creation_date":1685709803,"answer_id":76390253,"question_id":72239023,"body_markdown":"   There is simple programme to get sum and average of array in java. In this, the programme take the size of array and elements in array from userside. \r\n \r\n\r\n        package practiceCode;\r\n        import java.util.*;\r\n        public class HandOnAverageCalculator {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Size:&quot;);\r\n\t\tint size = sc.nextInt();\r\n\t\tint[] nums = new int[size];\r\n\t\tSystem.out.println(&quot;Enter the integers:&quot;);\r\n\t\t\r\n\t\tfor(int i = 0; i&lt;nums.length; i++) {\r\n\t\t\tnums[i] = sc.nextInt();\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Array is = &quot;);\r\n\t\tfor(int i = 0; i&lt;nums.length; i++) {\r\n\t\t\tSystem.out.print( nums[i]+&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tint sum = 0;\r\n\t\tfor(int i =0; i&lt;nums.length;i++) {\r\n\t\t\tsum += nums[i];\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Sum of elements in array = &quot;+ sum);\r\n\t\t\r\n\t\t// to get the Average of array\r\n\t\tdouble avg = sum/size;\r\n\t\tSystem.out.println(&quot;Average value of array is : &quot; + avg);\r\n\t\tsc.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How can I sum and average my array in Java","body":"<p>There is simple programme to get sum and average of array in java. In this, the programme take the size of array and elements in array from userside.</p>\n<pre><code>    package practiceCode;\n    import java.util.*;\n    public class HandOnAverageCalculator {\n\npublic static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Size:&quot;);\n    int size = sc.nextInt();\n    int[] nums = new int[size];\n    System.out.println(&quot;Enter the integers:&quot;);\n    \n    for(int i = 0; i&lt;nums.length; i++) {\n        nums[i] = sc.nextInt();\n    }\n    System.out.print(&quot;Array is = &quot;);\n    for(int i = 0; i&lt;nums.length; i++) {\n        System.out.print( nums[i]+&quot; &quot;);\n    }\n    System.out.println();\n    \n    int sum = 0;\n    for(int i =0; i&lt;nums.length;i++) {\n        sum += nums[i];\n    }\n    System.out.println(&quot;Sum of elements in array = &quot;+ sum);\n    \n    // to get the Average of array\n    double avg = sum/size;\n    System.out.println(&quot;Average value of array is : &quot; + avg);\n    sc.close();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25288556,"reputation":13,"user_id":19115071,"display_name":"Nekosor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72239584,"answer_count":2,"score":1,"last_activity_date":1685709803,"creation_date":1652521423,"question_id":72239023,"body_markdown":"I want to sum and average my array in Java. How can I do that?\r\n\r\n```java\r\npublic class EjerciciosArrays extends javax.swing.JFrame {\r\n    \r\n    ArrayList&lt;Double&gt; mi_arrayHtmlyCSS;\r\n    ArrayList&lt;Double&gt; mi_arrayCplusplus;\r\n    ArrayList&lt;Double&gt; mi_arrayJava;\r\n    ArrayList&lt;Double&gt; mi_arrayPython;\r\n    ArrayList&lt;Double&gt; mi_arrayJavaScript;\r\n    ArrayList&lt;Double&gt; mi_arrayPhp;\r\n    ArrayList&lt;Double&gt; mi_arrayMongoDB;\r\n    ArrayList&lt;Double&gt; mi_arrayMysql;\r\n    ArrayList&lt;Double&gt; mi_arrayAngularJS;\r\n    ArrayList&lt;Double&gt; mi_arrayExpressJS;\r\n    \r\n    private void btnHtmlyCSSActionPerformed(java.awt.event.ActionEvent evt) { \r\n    \r\n     mi_arrayHtmlyCSS  = new ArrayList&lt;&gt;(); //\r\n          \r\n            for (int i = 1; i &lt;= 4; i++){\r\n                mi_arrayHtmlyCSS.add(Double.parseDouble(JOptionPane.showInputDialog(&quot;Ingrese EVA &quot;+(i)))); // \r\n                   }\r\n           mi_arrayHtmlyCSS.forEach((a)-&gt; {\r\n            this.txtHtmlyCSS.append(a+&quot;\\n&quot;);\r\n           });\r\n           \r\n        }   \r\n    \r\n        \r\n            \r\n           mi_arrayHtmlyCSS.forEach((a)-&gt; {\r\n            this.txtHtmlyCSS.append(a+&quot;\\n&quot;);\r\n           });\r\n           \r\n        } \r\n```","title":"How can I sum and average my array in Java","body":"<p>I want to sum and average my array in Java. How can I do that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EjerciciosArrays extends javax.swing.JFrame {\n    \n    ArrayList&lt;Double&gt; mi_arrayHtmlyCSS;\n    ArrayList&lt;Double&gt; mi_arrayCplusplus;\n    ArrayList&lt;Double&gt; mi_arrayJava;\n    ArrayList&lt;Double&gt; mi_arrayPython;\n    ArrayList&lt;Double&gt; mi_arrayJavaScript;\n    ArrayList&lt;Double&gt; mi_arrayPhp;\n    ArrayList&lt;Double&gt; mi_arrayMongoDB;\n    ArrayList&lt;Double&gt; mi_arrayMysql;\n    ArrayList&lt;Double&gt; mi_arrayAngularJS;\n    ArrayList&lt;Double&gt; mi_arrayExpressJS;\n    \n    private void btnHtmlyCSSActionPerformed(java.awt.event.ActionEvent evt) { \n    \n     mi_arrayHtmlyCSS  = new ArrayList&lt;&gt;(); //\n          \n            for (int i = 1; i &lt;= 4; i++){\n                mi_arrayHtmlyCSS.add(Double.parseDouble(JOptionPane.showInputDialog(&quot;Ingrese EVA &quot;+(i)))); // \n                   }\n           mi_arrayHtmlyCSS.forEach((a)-&gt; {\n            this.txtHtmlyCSS.append(a+&quot;\\n&quot;);\n           });\n           \n        }   \n    \n        \n            \n           mi_arrayHtmlyCSS.forEach((a)-&gt; {\n            this.txtHtmlyCSS.append(a+&quot;\\n&quot;);\n           });\n           \n        } \n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685866452,"post_id":76389794,"comment_id":134718612,"body_markdown":"Mockito will not magically it an ImmutableCollection. Maybe something else (in your test or in your production code) is calling the setter and overwriting the value with an immutable collection?","body":"Mockito will not magically it an ImmutableCollection. Maybe something else (in your test or in your production code) is calling the setter and overwriting the value with an immutable collection?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685872106,"post_id":76389794,"comment_id":134719103,"body_markdown":"Please provide a minimal, complete, runnable example which reproduces the problem.","body":"Please provide a minimal, complete, runnable example which reproduces the problem."},{"owner":{"account_id":27046603,"reputation":43,"user_id":20600710,"display_name":"Heribert Greinix"},"score":0,"creation_date":1686037338,"post_id":76389794,"comment_id":134740386,"body_markdown":"Unfortunately, due to it being a part of a business logic, I can&#39;t really do that.","body":"Unfortunately, due to it being a part of a business logic, I can&#39;t really do that."}],"owner":{"account_id":27046603,"reputation":43,"user_id":20600710,"display_name":"Heribert Greinix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685709732,"creation_date":1685705750,"question_id":76389794,"body_markdown":"I am new to UnitTesting and have been bashign my head against the wall with this exception I keep getting.\r\n\r\n    Item item = prepareItem();\r\n    List&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\r\n    itemList.add(item);\r\n\r\n    when(myMapper.selectEntryByParameters(\r\n                    anyString(),\r\n                    anyString(),\r\n                    anyString(),\r\n                    anyString(),\r\n                    anyString(),\r\n                    any())).thenReturn(itemList);\r\n\r\nWith a mocking class, that my test class extends with code as below:\r\n\r\n    public abstract class DataTest {\r\n       protected Item prepareItem() {\r\n          Item item = new Item();\r\n          List&lt;String&gt; someIDs = new ArrayList&lt;&gt;();\r\n          someIDs.add(&quot;0&quot;);\r\n          item.setSomeIDs(someIDs);\r\n          return item;\r\n       }\r\n       \r\n       ...\r\n       \r\n    }\r\n\r\nWhen debuggin my code because of an error further down the line (probably unrelated, but I will include additional information below just to be sure), the debugger fails at this mock, throwing an InvalidUseOfMatchersException, stating &quot;Cannot evaluate {someFileStructure}.myMapper$Mockito.mock$u83fh2.toString()&quot;.\r\n\r\nJust to be sure, I&#39;ll also include the details of the error I am getting below. The method where the error is thrown looks like:\r\n\r\n    ...\r\n    someMethod(List&lt;String&gt; newIDs, String id) {\r\n     \r\n       Item newItem = myMapper.getItemById(id);\r\n       if(newItem.getSomeIDs == null) {\r\n          newItem.setSomeIDs(new ArrayList&lt;&gt;());\r\n       }\r\n       newIDs.forEach(i -&gt; newItem.getSomeIDs().add(i));\r\n\r\n       ...\r\n\r\n    }\r\n\r\nMy mock, then, looks like this:\r\n\r\n    when(myMapper.getItemById(anyString)).thenReturn(item);\r\n\r\nwhere item is the same item as on the top (the one being added to itemList).\r\n\r\nIt crashes on the line with getSomeIDs().add(i), throwing an UnsupportedOperationException. In the debugger, it shows that the item is perfectly fine and someIDs are of type ArrayList&lt;String&gt;, however, once in the method (someMethod), for some reason, the someIDs field turns to ImmutableCollection. Maybe this will clear out at least one of the errors.\r\n\r\nEDIT: Tried on mockito-4.5.1 and 5.2.0.","title":"Invalid use of matcher exception. Cannot evaluate mapper.toString()","body":"<p>I am new to UnitTesting and have been bashign my head against the wall with this exception I keep getting.</p>\n<pre><code>Item item = prepareItem();\nList&lt;Item&gt; itemList = new ArrayList&lt;&gt;();\nitemList.add(item);\n\nwhen(myMapper.selectEntryByParameters(\n                anyString(),\n                anyString(),\n                anyString(),\n                anyString(),\n                anyString(),\n                any())).thenReturn(itemList);\n</code></pre>\n<p>With a mocking class, that my test class extends with code as below:</p>\n<pre><code>public abstract class DataTest {\n   protected Item prepareItem() {\n      Item item = new Item();\n      List&lt;String&gt; someIDs = new ArrayList&lt;&gt;();\n      someIDs.add(&quot;0&quot;);\n      item.setSomeIDs(someIDs);\n      return item;\n   }\n   \n   ...\n   \n}\n</code></pre>\n<p>When debuggin my code because of an error further down the line (probably unrelated, but I will include additional information below just to be sure), the debugger fails at this mock, throwing an InvalidUseOfMatchersException, stating &quot;Cannot evaluate {someFileStructure}.myMapper$Mockito.mock$u83fh2.toString()&quot;.</p>\n<p>Just to be sure, I'll also include the details of the error I am getting below. The method where the error is thrown looks like:</p>\n<pre><code>...\nsomeMethod(List&lt;String&gt; newIDs, String id) {\n \n   Item newItem = myMapper.getItemById(id);\n   if(newItem.getSomeIDs == null) {\n      newItem.setSomeIDs(new ArrayList&lt;&gt;());\n   }\n   newIDs.forEach(i -&gt; newItem.getSomeIDs().add(i));\n\n   ...\n\n}\n</code></pre>\n<p>My mock, then, looks like this:</p>\n<pre><code>when(myMapper.getItemById(anyString)).thenReturn(item);\n</code></pre>\n<p>where item is the same item as on the top (the one being added to itemList).</p>\n<p>It crashes on the line with getSomeIDs().add(i), throwing an UnsupportedOperationException. In the debugger, it shows that the item is perfectly fine and someIDs are of type ArrayList, however, once in the method (someMethod), for some reason, the someIDs field turns to ImmutableCollection. Maybe this will clear out at least one of the errors.</p>\n<p>EDIT: Tried on mockito-4.5.1 and 5.2.0.</p>\n"},{"tags":["java","jwt","basic-authentication","micronaut"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1685979010,"post_id":76390246,"comment_id":134733142,"body_markdown":"What happens when you add support for both basic auth and JWT in your app?","body":"What happens when you add support for both basic auth and JWT in your app?"},{"owner":{"account_id":10555285,"reputation":1221,"user_id":7776688,"display_name":"IEE1394"},"score":1,"creation_date":1685992481,"post_id":76390246,"comment_id":134735655,"body_markdown":"i think that might be possible by adding a custom AuthenticationProvider https://micronaut-projects.github.io/micronaut-security/latest/guide/#authenticationProviders","body":"i think that might be possible by adding a custom AuthenticationProvider <a href=\"https://micronaut-projects.github.io/micronaut-security/latest/guide/#authenticationProviders\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-security/latest/guide&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":8015488,"reputation":1,"user_id":6045937,"display_name":"Arun Pal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685709707,"creation_date":1685709707,"question_id":76390246,"body_markdown":"how can we add jwt and basic authentication simultaneously in micronaut\r\n\r\nI have a requirement where some calls are authenticated with JWT/Filters and some call are authenticated with Basic Auth, I want that all the calls having /internal/ should bypass with basic auth and others calls  bypass with jwt authentication . Is it possible to have 2 web security configurer based on url or something? How we can achieve this?\r\n\r\nI am able to exclude specific url from JWT authentication but how can I ask micronout to go for basic auth?","title":"How can I implement both JWT and Basic authentication in Micronaut and bypass certain URLs with Basic Auth?","body":"<p>how can we add jwt and basic authentication simultaneously in micronaut</p>\n<p>I have a requirement where some calls are authenticated with JWT/Filters and some call are authenticated with Basic Auth, I want that all the calls having /internal/ should bypass with basic auth and others calls  bypass with jwt authentication . Is it possible to have 2 web security configurer based on url or something? How we can achieve this?</p>\n<p>I am able to exclude specific url from JWT authentication but how can I ask micronout to go for basic auth?</p>\n"},{"tags":["java","oop","sealed-class"],"answers":[{"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1685710151,"post_id":76390195,"comment_id":134702982,"body_markdown":"Thanks, would you recommend a book I could read to update myself on all the new features in recent versions. I am stuck at Java 8.","body":"Thanks, would you recommend a book I could read to update myself on all the new features in recent versions. I am stuck at Java 8."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685713932,"post_id":76390195,"comment_id":134703890,"body_markdown":"I&#39;m sorry, I&#39;m not aware of any. Also note that [recommendations are off-topic](https://stackoverflow.com/help/on-topic) in Stackoverflow.","body":"I&#39;m sorry, I&#39;m not aware of any. Also note that <a href=\"https://stackoverflow.com/help/on-topic\">recommendations are off-topic</a> in Stackoverflow."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685714991,"post_id":76390195,"comment_id":134704157,"body_markdown":"@Shivam..., I recommend any Java book by _O&#39;Reilly Media_, they cover a wide range of Java topics; _&quot;core Java&quot;_ is the term you&#39;re looking for, and will typically cover class inheritance well.  Additionally, any book by _Oracle_, the company which currently owns _Java_, is typically a good choice.  Additionally, if you&#39;re looking for this specific mechanism, a _&quot;sealed class&quot;_, you&#39;ll want a book specific to Java 17 or after.","body":"@Shivam..., I recommend any Java book by <i>O&#39;Reilly Media</i>, they cover a wide range of Java topics; <i>&quot;core Java&quot;</i> is the term you&#39;re looking for, and will typically cover class inheritance well.  Additionally, any book by <i>Oracle</i>, the company which currently owns <i>Java</i>, is typically a good choice.  Additionally, if you&#39;re looking for this specific mechanism, a <i>&quot;sealed class&quot;</i>, you&#39;ll want a book specific to Java 17 or after."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1685802194,"post_id":76390195,"comment_id":134713693,"body_markdown":"Check out [Java Magazine](https://blogs.oracle.com/javamagazine/) which is an `Oracle` publication.  Another possibility is [JavaWorld](https://www.infoworld.com/category/java/) which is a subcategory of `InforWorld.com.`","body":"Check out <a href=\"https://blogs.oracle.com/javamagazine/\" rel=\"nofollow noreferrer\">Java Magazine</a> which is an <code>Oracle</code> publication.  Another possibility is <a href=\"https://www.infoworld.com/category/java/\" rel=\"nofollow noreferrer\">JavaWorld</a> which is a subcategory of <code>InforWorld.com.</code>"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685709282,"creation_date":1685709282,"answer_id":76390195,"question_id":76390181,"body_markdown":"[Sealed classes][1] seems to be one method to restrict which classes can extend another. This feature is available since Java 17.\r\n\r\nContraints:\r\n\r\n- All permitted subclasses must belong to the same module as the sealed class.\r\n- Every permitted subclass must explicitly extend the sealed class.\r\n- Every permitted subclass must define a modifier: final, sealed, or non-sealed.\r\n\r\n\r\nExample:\r\n``` lang-java\r\npublic abstract sealed class Vehicle permits Car, Truck {...}\r\n```\r\nThis restricts that only classes Car or Truck can extend Vehicle.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-sealed-classes-interfaces","title":"How to control what classes can extend my class in Java","body":"<p><a href=\"https://www.baeldung.com/java-sealed-classes-interfaces\" rel=\"nofollow noreferrer\">Sealed classes</a> seems to be one method to restrict which classes can extend another. This feature is available since Java 17.</p>\n<p>Contraints:</p>\n<ul>\n<li>All permitted subclasses must belong to the same module as the sealed class.</li>\n<li>Every permitted subclass must explicitly extend the sealed class.</li>\n<li>Every permitted subclass must define a modifier: final, sealed, or non-sealed.</li>\n</ul>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract sealed class Vehicle permits Car, Truck {...}\n</code></pre>\n<p>This restricts that only classes Car or Truck can extend Vehicle.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76390195,"answer_count":1,"score":0,"last_activity_date":1685709635,"creation_date":1685709149,"question_id":76390181,"body_markdown":"So I was asked this question in interview that if I have a class A how do I restrict which classes will be able to extend A. For example if I want only class C and E to be able to extend A and classes B and D should not be able to do so. I mentioned about bounded wildcards in generics but I think that didn&#39;t answer the question. I am not aware about any new feature added in newer versions of Java. Please let me know what is the correct answer to that.","title":"How to control what classes can extend my class in Java","body":"<p>So I was asked this question in interview that if I have a class A how do I restrict which classes will be able to extend A. For example if I want only class C and E to be able to extend A and classes B and D should not be able to do so. I mentioned about bounded wildcards in generics but I think that didn't answer the question. I am not aware about any new feature added in newer versions of Java. Please let me know what is the correct answer to that.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6245992,"reputation":4168,"user_id":4857909,"accept_rate":100,"display_name":"Lukas Rotter"},"score":4,"creation_date":1437987082,"post_id":31648682,"comment_id":51243059,"body_markdown":"and also `gioca.add(gioca)`","body":"and also <code>gioca.add(gioca)</code>"},{"owner":{"account_id":6689905,"reputation":420,"user_id":5159704,"accept_rate":60,"display_name":"Francesco Sollazzi"},"score":0,"creation_date":1437987431,"post_id":31648682,"comment_id":51243254,"body_markdown":"and what should I do exactly? Sorry, I&#39;m a beginner in java :)","body":"and what should I do exactly? Sorry, I&#39;m a beginner in java :)"},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1437987449,"post_id":31648682,"comment_id":51243263,"body_markdown":"where do you want to add lab and gioca component ? you can&#39;t add component to itself .and you have extend your class with jframe but you are creating a new frame inside main method. you have created components but you haven&#39;t add them to jframe .there are lot mistakes","body":"where do you want to add lab and gioca component ? you can&#39;t add component to itself .and you have extend your class with jframe but you are creating a new frame inside main method. you have created components but you haven&#39;t add them to jframe .there are lot mistakes"},{"owner":{"account_id":6689905,"reputation":420,"user_id":5159704,"accept_rate":60,"display_name":"Francesco Sollazzi"},"score":0,"creation_date":1437987593,"post_id":31648682,"comment_id":51243352,"body_markdown":"I understood, thanks. But how do I add the objects within the frame?","body":"I understood, thanks. But how do I add the objects within the frame?"},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1437987689,"post_id":31648682,"comment_id":51243412,"body_markdown":"@FrankSoll since you have extends your class with jframe .create new object of your class and call set visible method","body":"@FrankSoll since you have extends your class with jframe .create new object of your class and call set visible method"}],"answers":[{"comments":[{"owner":{"account_id":6689905,"reputation":420,"user_id":5159704,"accept_rate":60,"display_name":"Francesco Sollazzi"},"score":0,"creation_date":1437987798,"post_id":31648848,"comment_id":51243477,"body_markdown":"Thank you very much, the error is no longer displayed but the GUI does not appear. perhaps because the panel is null","body":"Thank you very much, the error is no longer displayed but the GUI does not appear. perhaps because the panel is null"},{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1437987931,"post_id":31648848,"comment_id":51243558,"body_markdown":"@FrankSoll no its actually beacuuse you are not setting the `visibility` to `true`","body":"@FrankSoll no its actually beacuuse you are not setting the <code>visibility</code> to <code>true</code>"},{"owner":{"account_id":6689905,"reputation":420,"user_id":5159704,"accept_rate":60,"display_name":"Francesco Sollazzi"},"score":0,"creation_date":1437988142,"post_id":31648848,"comment_id":51243675,"body_markdown":"e.g? Where do I enter the code? make an example please. Sorry, I&#39;m a beginner","body":"e.g? Where do I enter the code? make an example please. Sorry, I&#39;m a beginner"},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1437988263,"post_id":31648848,"comment_id":51243731,"body_markdown":"you have to set a layout to pang panel first.don&#39;t use null .do you want to create 2 frames ? if not remove frame creating code from main method","body":"you have to set a layout to pang panel first.don&#39;t use null .do you want to create 2 frames ? if not remove frame creating code from main method"},{"owner":{"account_id":6689905,"reputation":420,"user_id":5159704,"accept_rate":60,"display_name":"Francesco Sollazzi"},"score":0,"creation_date":1437988609,"post_id":31648848,"comment_id":51243927,"body_markdown":"but how do I set the visibility to true for the components?","body":"but how do I set the visibility to true for the components?"},{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1437988681,"post_id":31648848,"comment_id":51243967,"body_markdown":"@FrankSoll see the answer","body":"@FrankSoll see the answer"},{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1437988990,"post_id":31648848,"comment_id":51244164,"body_markdown":"@FrankSoll glad that it helped :)","body":"@FrankSoll glad that it helped :)"}],"tags":[],"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437988934,"creation_date":1437987495,"answer_id":31648848,"question_id":31648682,"body_markdown":"You cannot add a `label`into a `label` :-\r\n\r\n    lab.add(lab);\r\n\r\nAldo you cannot add a `button` on a `button` :-\r\n\r\n    gioca.add(gioca);\r\n\r\nTry adding them to the `JPanel` or `ContentPane` instead like \r\n:-\r\n\r\n    pang.add(gioca);\r\n    pang.add(lab);\r\n    getContentPane().add(pang);\r\n\r\n**EDIT:-**\r\n\r\nFor Showing the `JFrame` you need to do first add your `JPanel` to `JFrame` then set the visibility of `JFrame` to `true` something like :-\r\n\r\n    finestra.add(pang); // add panel to frame\r\n    finestra.setVisible(true); // show frame visibility to true\r\n\r\nAlso don&#39;t set the layout to `null` :-\r\n\r\n    pang.setLayout(null); \r\n\r\nElse you will need to set the bounds yourself. So just comment this line.\r\n\r\n","title":"Error: java.lang.IllegalArgumentException","body":"<p>You cannot add a <code>label</code>into a <code>label</code> :-</p>\n\n<pre><code>lab.add(lab);\n</code></pre>\n\n<p>Aldo you cannot add a <code>button</code> on a <code>button</code> :-</p>\n\n<pre><code>gioca.add(gioca);\n</code></pre>\n\n<p>Try adding them to the <code>JPanel</code> or <code>ContentPane</code> instead like \n:-</p>\n\n<pre><code>pang.add(gioca);\npang.add(lab);\ngetContentPane().add(pang);\n</code></pre>\n\n<p><strong>EDIT:-</strong></p>\n\n<p>For Showing the <code>JFrame</code> you need to do first add your <code>JPanel</code> to <code>JFrame</code> then set the visibility of <code>JFrame</code> to <code>true</code> something like :-</p>\n\n<pre><code>finestra.add(pang); // add panel to frame\nfinestra.setVisible(true); // show frame visibility to true\n</code></pre>\n\n<p>Also don't set the layout to <code>null</code> :-</p>\n\n<pre><code>pang.setLayout(null); \n</code></pre>\n\n<p>Else you will need to set the bounds yourself. So just comment this line.</p>\n"},{"tags":[],"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1437989864,"creation_date":1437988405,"answer_id":31649153,"question_id":31648682,"body_markdown":"try to run this example.there is bunch of problems in your code.\r\n\r\nyou are adding component to itself\r\n\r\n    gioca.add(gioca); // don&#39;t do this\r\n\r\nuse layouts .don&#39;t use null\r\n\r\n    pang.setLayout(null); // don&#39;t do this .use layouts .and even if you use null then\r\n    //use bounds to absolutely position .if you use null layout and if you add using `.add()` \r\n    //then you will not see those components .\r\n\r\ncomplete code\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.*;\r\n    \r\n    public class humev extends JFrame implements ActionListener {\r\n    \r\n        private static final int larghezza = 1300;\r\n        private static final int altezza = 1000;\r\n        private static final String nome = &quot;Human Evolution&quot;;\r\n    \r\n        private final JLabel lab;\r\n        private final JButton gioca;\r\n        private final JPanel pang;\r\n    \r\n        public humev() {\r\n            super(nome);\r\n    \r\n            pang = new JPanel();\r\n            //pang.setLayout(new FlowLayout()); // use appropriate layout .for example flowlayout.since flowlayout is default layout for jpanel you can avoid it.but don&#39;t use null\r\n            gioca = new JButton(&quot;Gioca!&quot;);\r\n            gioca.addActionListener(this);\r\n            lab = new JLabel(&quot;lable&quot;);\r\n    \r\n            pang.add(gioca);\r\n            pang.add(lab);\r\n            add(pang); // add pang panel to frame\r\n            Dimension dim_finestra = new Dimension(larghezza, altezza);\r\n    \r\n            setPreferredSize(dim_finestra);\r\n            setMaximumSize(dim_finestra);\r\n            //setResizable(false);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setVisible(true); \r\n            pack();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            humev humev = new humev();\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (e.getSource() == gioca) {\r\n                lab.setText(&quot;Gioco avviato con successo!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Error: java.lang.IllegalArgumentException","body":"<p>try to run this example.there is bunch of problems in your code.</p>\n\n<p>you are adding component to itself</p>\n\n<pre><code>gioca.add(gioca); // don't do this\n</code></pre>\n\n<p>use layouts .don't use null</p>\n\n<pre><code>pang.setLayout(null); // don't do this .use layouts .and even if you use null then\n//use bounds to absolutely position .if you use null layout and if you add using `.add()` \n//then you will not see those components .\n</code></pre>\n\n<p>complete code</p>\n\n<pre><code>import java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\n\npublic class humev extends JFrame implements ActionListener {\n\n    private static final int larghezza = 1300;\n    private static final int altezza = 1000;\n    private static final String nome = \"Human Evolution\";\n\n    private final JLabel lab;\n    private final JButton gioca;\n    private final JPanel pang;\n\n    public humev() {\n        super(nome);\n\n        pang = new JPanel();\n        //pang.setLayout(new FlowLayout()); // use appropriate layout .for example flowlayout.since flowlayout is default layout for jpanel you can avoid it.but don't use null\n        gioca = new JButton(\"Gioca!\");\n        gioca.addActionListener(this);\n        lab = new JLabel(\"lable\");\n\n        pang.add(gioca);\n        pang.add(lab);\n        add(pang); // add pang panel to frame\n        Dimension dim_finestra = new Dimension(larghezza, altezza);\n\n        setPreferredSize(dim_finestra);\n        setMaximumSize(dim_finestra);\n        //setResizable(false);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true); \n        pack();\n\n    }\n\n    public static void main(String[] args) {\n        humev humev = new humev();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == gioca) {\n            lab.setText(\"Gioco avviato con successo!\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11763754,"reputation":1610,"user_id":8609030,"display_name":"Raman Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506940029,"creation_date":1506940029,"answer_id":46523780,"question_id":31648682,"body_markdown":"**IllegalArgumentException** is an Unchecked Exception.\r\n\r\nIt rises explicitly by API Developer or Programmer to indicate that a method has invoked with illegal argument.\r\n\r\nexample: \r\n\r\n    Thread t = new Thread();\r\n    t.setPriority(15);\r\n\r\noutput:\r\n\r\n    RuntimeException: IllegalArgumentExcepion\r\n\r\nThe valid range of Thread priority is 1 to 10, if we are trying to set the priority with any other value, then we will get IllegalArgumentException.\r\n","title":"Error: java.lang.IllegalArgumentException","body":"<p><strong>IllegalArgumentException</strong> is an Unchecked Exception.</p>\n\n<p>It rises explicitly by API Developer or Programmer to indicate that a method has invoked with illegal argument.</p>\n\n<p>example: </p>\n\n<pre><code>Thread t = new Thread();\nt.setPriority(15);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>RuntimeException: IllegalArgumentExcepion\n</code></pre>\n\n<p>The valid range of Thread priority is 1 to 10, if we are trying to set the priority with any other value, then we will get IllegalArgumentException.</p>\n"},{"tags":[],"owner":{"account_id":28736522,"reputation":1,"user_id":22007487,"display_name":"Chaitanya Tribhuwan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685708358,"creation_date":1685708358,"answer_id":76390088,"question_id":31648682,"body_markdown":"You should add your mysql connector jar file in the lib folder. That&#39;s it","title":"Error: java.lang.IllegalArgumentException","body":"<p>You should add your mysql connector jar file in the lib folder. That's it</p>\n"}],"owner":{"account_id":6689905,"reputation":420,"user_id":5159704,"accept_rate":60,"display_name":"Francesco Sollazzi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31649153,"answer_count":4,"score":1,"last_activity_date":1685708358,"creation_date":1437986944,"question_id":31648682,"body_markdown":"Error in following code is: `java.lang.IllegalArgumentException: adding container&#39;s parent to itself.`\r\n\r\nThis is the code:\r\n\r\n    public class humev extends JFrame implements ActionListener{\r\n        \r\n        //Dichiarazione variabili e costanti\r\n    \r\n        private static final int larghezza = 1300;\r\n        private static final int altezza = 1000;\r\n        private static final String nome = &quot;Human Evolution&quot;;\r\n        \r\n        private JLabel lab;\r\n        private JButton gioca;\r\n        private JPanel pang;\r\n        \r\n            public humev(){\r\n            \r\n                try{\r\n                    pang = new JPanel();\r\n                    gioca = new JButton(&quot;Gioca!&quot;);\r\n                    gioca.addActionListener(this);\r\n                    lab = new JLabel();\r\n                \r\n                    gioca.add(gioca);\r\n                    lab.add(lab);\r\n                    pang.setLayout(null);\r\n                    }\r\n                catch(Exception e1){\r\n                    System.err.println(e1);\r\n                    System.err.println(&quot;Impossibile caricare il frame di gioco!&quot;);\r\n                    }\r\n            }\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            //Finestra\r\n            try{\r\n                humev h = new humev();\r\n            \r\n                JFrame finestra = new JFrame(nome);\r\n            \r\n                Dimension dim_finestra = new Dimension(larghezza, altezza);\r\n            \r\n                finestra.setPreferredSize(dim_finestra);\r\n                finestra.setMaximumSize(dim_finestra);\r\n                finestra.setResizable(false);\r\n                finestra.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                finestra.pack();\r\n                finestra.setVisible(true);\r\n                \r\n            }\r\n            catch(Exception e2){\r\n                System.err.println(e2);\r\n                System.err.println(&quot;Impossibile caricare la finestra. Frame non caricato&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if(e.getSource() == gioca){\r\n                lab.setText(&quot;Gioco avviato con successo!&quot;);\r\n            }\r\n        }\r\n    }","title":"Error: java.lang.IllegalArgumentException","body":"<p>Error in following code is: <code>java.lang.IllegalArgumentException: adding container's parent to itself.</code></p>\n\n<p>This is the code:</p>\n\n<pre><code>public class humev extends JFrame implements ActionListener{\n\n    //Dichiarazione variabili e costanti\n\n    private static final int larghezza = 1300;\n    private static final int altezza = 1000;\n    private static final String nome = \"Human Evolution\";\n\n    private JLabel lab;\n    private JButton gioca;\n    private JPanel pang;\n\n        public humev(){\n\n            try{\n                pang = new JPanel();\n                gioca = new JButton(\"Gioca!\");\n                gioca.addActionListener(this);\n                lab = new JLabel();\n\n                gioca.add(gioca);\n                lab.add(lab);\n                pang.setLayout(null);\n                }\n            catch(Exception e1){\n                System.err.println(e1);\n                System.err.println(\"Impossibile caricare il frame di gioco!\");\n                }\n        }\n\n    public static void main(String[] args) {\n\n        //Finestra\n        try{\n            humev h = new humev();\n\n            JFrame finestra = new JFrame(nome);\n\n            Dimension dim_finestra = new Dimension(larghezza, altezza);\n\n            finestra.setPreferredSize(dim_finestra);\n            finestra.setMaximumSize(dim_finestra);\n            finestra.setResizable(false);\n            finestra.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            finestra.pack();\n            finestra.setVisible(true);\n\n        }\n        catch(Exception e2){\n            System.err.println(e2);\n            System.err.println(\"Impossibile caricare la finestra. Frame non caricato\");\n        }\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == gioca){\n            lab.setText(\"Gioco avviato con successo!\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-productflavors","android-flavors"],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685707865,"creation_date":1685707865,"question_id":76390036,"body_markdown":"Basically at the moment I have two apps (two projects), one for a root version and one for a rootless version, in which I have classes with the same name but with different methods. Even though one of source directories is not marked as source set (since I am trying to unify the projects into one by using different flavors) I was able to build the two variants successfully. \r\n\r\nNow I would like to ask you:\r\nwould be preferable to move the methods of the same classes or just use different classes for each flavor/variant?\r\n\r\n\r\nFor instance:\r\n\r\nIn project #1 com.example.root.MyClass has method1() and method2() that are needed for the root version of my app.\r\n\r\nIn project #2 com.example.rootless.MyClass has method3() and method4() that are needed for the rootless version of my app.\r\n\r\nIn the unified project with different flavors I would just have com.example.unified.MyClass with method1(), method2(), method3(), method4().\r\n\r\nOr would be preferable to still keep those methods separate by putting those classes in different src folders (for each flavor)?","title":"Would be preferable to move the methods of the same classes or just use different classes for each flavor/variant?","body":"<p>Basically at the moment I have two apps (two projects), one for a root version and one for a rootless version, in which I have classes with the same name but with different methods. Even though one of source directories is not marked as source set (since I am trying to unify the projects into one by using different flavors) I was able to build the two variants successfully.</p>\n<p>Now I would like to ask you:\nwould be preferable to move the methods of the same classes or just use different classes for each flavor/variant?</p>\n<p>For instance:</p>\n<p>In project #1 com.example.root.MyClass has method1() and method2() that are needed for the root version of my app.</p>\n<p>In project #2 com.example.rootless.MyClass has method3() and method4() that are needed for the rootless version of my app.</p>\n<p>In the unified project with different flavors I would just have com.example.unified.MyClass with method1(), method2(), method3(), method4().</p>\n<p>Or would be preferable to still keep those methods separate by putting those classes in different src folders (for each flavor)?</p>\n"},{"tags":["java","class","static","helper"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":13,"creation_date":1404732255,"post_id":24609450,"comment_id":38132446,"body_markdown":"One reason: Because they&#39;re state-less.","body":"One reason: Because they&#39;re state-less."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1404732353,"post_id":24609450,"comment_id":38132514,"body_markdown":"And static doesn&#39;t affect performance harmfully, au contraire. Since you don&#39;t need to create an instance, it&#39;s more efficient.","body":"And static doesn&#39;t affect performance harmfully, au contraire. Since you don&#39;t need to create an instance, it&#39;s more efficient."},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":0,"creation_date":1404732366,"post_id":24609450,"comment_id":38132522,"body_markdown":"Static does not make a performance difference in general. In specific situations it can matter a lot.","body":"Static does not make a performance difference in general. In specific situations it can matter a lot."},{"owner":{"account_id":4451090,"reputation":10972,"user_id":3622940,"accept_rate":100,"display_name":"Unihedron"},"score":0,"creation_date":1404732384,"post_id":24609450,"comment_id":38132534,"body_markdown":"__Not really__. See how `GSON`, on the other hand, requires you to construct `new GSON()` objects for use. There&#39;s also `ScriptManager` which uses non-static methods.","body":"<b>Not really</b>. See how <code>GSON</code>, on the other hand, requires you to construct <code>new GSON()</code> objects for use. There&#39;s also <code>ScriptManager</code> which uses non-static methods."},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":0,"creation_date":1404732442,"post_id":24609450,"comment_id":38132559,"body_markdown":"@Kayaman that is a very dangerous statement. Instances will still need to be made when the class is initialized. And e.g. a singleton with large memory footprint that isn&#39;t used anymore after a certain point actually degrades performance.","body":"@Kayaman that is a very dangerous statement. Instances will still need to be made when the class is initialized. And e.g. a singleton with large memory footprint that isn&#39;t used anymore after a certain point actually degrades performance."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1404732451,"post_id":24609450,"comment_id":38132566,"body_markdown":"Its more of a *design* thing.. As Hovercroft points out, there is no need to keep the *state* here.","body":"Its more of a <i>design</i> thing.. As Hovercroft points out, there is no need to keep the <i>state</i> here."},{"owner":{"account_id":4451090,"reputation":10972,"user_id":3622940,"accept_rate":100,"display_name":"Unihedron"},"score":0,"creation_date":1404732500,"post_id":24609450,"comment_id":38132603,"body_markdown":"^ 1. See `Math.random()` constructs a `new Random()` for `private static Random randomNumberGenerator`. 2. ??? 3. Profit!","body":"^ 1. See <code>Math.random()</code> constructs a <code>new Random()</code> for <code>private static Random randomNumberGenerator</code>. 2. ??? 3. Profit!"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1404732550,"post_id":24609450,"comment_id":38132647,"body_markdown":"@dtech Well I wasn&#39;t talking about singletons. It&#39;s true that the class instance will need to be created (for any classes), but using `new MyHelper.someMethod()` instead of `MyHelper.someMethod()` would be a worse solution (for several reasons). But you&#39;re right in that static is not something that you should be using just for performance reasons.","body":"@dtech Well I wasn&#39;t talking about singletons. It&#39;s true that the class instance will need to be created (for any classes), but using <code>new MyHelper.someMethod()</code> instead of <code>MyHelper.someMethod()</code> would be a worse solution (for several reasons). But you&#39;re right in that static is not something that you should be using just for performance reasons."},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":1,"creation_date":1404732668,"post_id":24609450,"comment_id":38132722,"body_markdown":"@Kayaman You literally said &quot;And static doesn&#39;t affect performance harmfully, au contraire&quot;. There are many instances where `static` hurts performance (and many were it helps performance)","body":"@Kayaman You literally said &quot;And static doesn&#39;t affect performance harmfully, au contraire&quot;. There are many instances where <code>static</code> hurts performance (and many were it helps performance)"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404733209,"post_id":24609450,"comment_id":38133036,"body_markdown":"@dtech - I&#39;m trying to recall, from my 10 years of working inside a JVM, a situation where making a method static made it less efficient.","body":"@dtech - I&#39;m trying to recall, from my 10 years of working inside a JVM, a situation where making a method static made it less efficient."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1404733376,"post_id":24609450,"comment_id":38133140,"body_markdown":"Yes, I&#39;d appreciate if @dtech elaborated a bit on this, since he seems to know many instances where static hurts performance. Preferably something that doesn&#39;t involve a design flaw (such as the singleton with a long living static instance). Give me an example where a static method performs worse than a non-static one. Or are you just arguing about my wording?","body":"Yes, I&#39;d appreciate if @dtech elaborated a bit on this, since he seems to know many instances where static hurts performance. Preferably something that doesn&#39;t involve a design flaw (such as the singleton with a long living static instance). Give me an example where a static method performs worse than a non-static one. Or are you just arguing about my wording?"},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":0,"creation_date":1404733380,"post_id":24609450,"comment_id":38133144,"body_markdown":"@HotLicks `static` can also apply to attributes, then it can become dangerous. I think you&#39;re right about that making a *method* static will not hurt performance, but that doesn&#39;t mean making *something* static won&#39;t hurt performance. Your statement that &quot;static won&#39;t hurt performance&quot; was too general.","body":"@HotLicks <code>static</code> can also apply to attributes, then it can become dangerous. I think you&#39;re right about that making a <i>method</i> static will not hurt performance, but that doesn&#39;t mean making <i>something</i> static won&#39;t hurt performance. Your statement that &quot;static won&#39;t hurt performance&quot; was too general."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404733471,"post_id":24609450,"comment_id":38133198,"body_markdown":"@Unihedron - ??? A static method is not &quot;inner&quot;, and is loaded and verified exactly like an instance method.","body":"@Unihedron - ??? A static method is not &quot;inner&quot;, and is loaded and verified exactly like an instance method."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404733642,"post_id":24609450,"comment_id":38133302,"body_markdown":"@dtech - I didn&#39;t say &quot;static won&#39;t hurt performance&quot;, and the person who did was clearly saying it in a context where the term was meant to apply to methods.  (And how do you apply `static` to an &quot;attribute&quot;?)","body":"@dtech - I didn&#39;t say &quot;static won&#39;t hurt performance&quot;, and the person who did was clearly saying it in a context where the term was meant to apply to methods.  (And how do you apply <code>static</code> to an &quot;attribute&quot;?)"},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":0,"creation_date":1404733898,"post_id":24609450,"comment_id":38133459,"body_markdown":"@HotLicks How is &quot;static won&#39;t hurt performance&quot; different from &quot;static doesn&#39;t affect performance harmfully&quot; then? And to apply static to a field/attribute... Put static in its declaration `public static int myField = 5;`","body":"@HotLicks How is &quot;static won&#39;t hurt performance&quot; different from &quot;static doesn&#39;t affect performance harmfully&quot; then? And to apply static to a field/attribute... Put static in its declaration <code>public static int myField = 5;</code>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404734307,"post_id":24609450,"comment_id":38133735,"body_markdown":"@dtech - Just a little hint:  After each comment is the ID of the person commenting.  And where in the JLS is the term &quot;attribute&quot; defined?","body":"@dtech - Just a little hint:  After each comment is the ID of the person commenting.  And where in the JLS is the term &quot;attribute&quot; defined?"},{"owner":{"account_id":278189,"reputation":13863,"user_id":572635,"accept_rate":75,"display_name":"dtech"},"score":0,"creation_date":1404735045,"post_id":24609450,"comment_id":38134190,"body_markdown":"@HotLicks excuse me, I meant to react to Kayaman. Attribute is [a common synonym for field](http://stackoverflow.com/questions/11350423/terminology-of-class-attribute-vs-member-vs-variable-vs-field).","body":"@HotLicks excuse me, I meant to react to Kayaman. Attribute is <a href=\"http://stackoverflow.com/questions/11350423/terminology-of-class-attribute-vs-member-vs-variable-vs-field\">a common synonym for field</a>."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404735311,"post_id":24609450,"comment_id":38134358,"body_markdown":"So you&#39;re nit-picking others&#39; terminology but want leeway with yours?","body":"So you&#39;re nit-picking others&#39; terminology but want leeway with yours?"}],"answers":[{"comments":[{"owner":{"account_id":4710469,"reputation":2542,"user_id":3811108,"accept_rate":50,"display_name":"Meiblorn"},"score":0,"creation_date":1404733126,"post_id":24609488,"comment_id":38132976,"body_markdown":"No problems. It will never happen again","body":"No problems. It will never happen again"}],"tags":[],"owner":{"account_id":4710469,"reputation":2542,"user_id":3811108,"accept_rate":50,"display_name":"Meiblorn"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1404733143,"creation_date":1404732351,"answer_id":24609488,"question_id":24609450,"body_markdown":"To not to create their instances. Also you can make them follow [singleton pattern][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Singleton_pattern","title":"What is the reason helper classes&#39; methods are declared as static?","body":"<p>To not to create their instances. Also you can make them follow <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">singleton pattern</a></p>\n"},{"tags":[],"owner":{"account_id":4435760,"reputation":4170,"user_id":3611648,"accept_rate":80,"display_name":"Mustafa sabir"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1404733037,"creation_date":1404732579,"answer_id":24609550,"question_id":24609450,"body_markdown":"Because they are not confined to state, they have a single functionality that is purely stateless. For example `Math.abs(double a)` , it takes a double argument and returns the absolute value. As simple as that. So you dont have to do for example something like \r\n\r\n    Math m=new Math();\r\n    m.abs(12.33);\r\n\r\neach time to do a simple absolute value calculation which depends only on its argument, using static imposes a simplicity to calling utility methods.\r\n\r\nEdit:- Want to add that there is no performance hit in using static methods. There would only be a lag if the method is `static synchronized` and mutiple threads want to access it simultaneuously, vs accessing same method (in non static context) in different instances by threads. But most utility methods are atomic in functionality so making them synchronized does not make sense.","title":"What is the reason helper classes&#39; methods are declared as static?","body":"<p>Because they are not confined to state, they have a single functionality that is purely stateless. For example <code>Math.abs(double a)</code> , it takes a double argument and returns the absolute value. As simple as that. So you dont have to do for example something like </p>\n\n<pre><code>Math m=new Math();\nm.abs(12.33);\n</code></pre>\n\n<p>each time to do a simple absolute value calculation which depends only on its argument, using static imposes a simplicity to calling utility methods.</p>\n\n<p>Edit:- Want to add that there is no performance hit in using static methods. There would only be a lag if the method is <code>static synchronized</code> and mutiple threads want to access it simultaneuously, vs accessing same method (in non static context) in different instances by threads. But most utility methods are atomic in functionality so making them synchronized does not make sense.</p>\n"}],"owner":{"account_id":181158,"reputation":5235,"user_id":414967,"accept_rate":74,"display_name":"user414967"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":24609550,"answer_count":2,"score":5,"last_activity_date":1685707850,"creation_date":1404732219,"question_id":24609450,"body_markdown":"Why are all the helper classes or utility classes being declared as static?\r\n\r\nIs it only for easyness by not creating the instanceof class everytime?\r\n\r\nWould static hit the performace badly?\r\n\r\nFor example:\r\n\r\n    DateHelper.getCurrentDate();","title":"What is the reason helper classes&#39; methods are declared as static?","body":"<p>Why are all the helper classes or utility classes being declared as static?</p>\n<p>Is it only for easyness by not creating the instanceof class everytime?</p>\n<p>Would static hit the performace badly?</p>\n<p>For example:</p>\n<pre><code>DateHelper.getCurrentDate();\n</code></pre>\n"},{"tags":["java","algorithm","loops","for-loop"],"comments":[{"owner":{"account_id":2236638,"reputation":2385,"user_id":1972843,"accept_rate":100,"display_name":"Pinkie Swirl"},"score":0,"creation_date":1445774835,"post_id":33329199,"comment_id":54455824,"body_markdown":"You can use a `StringBuilder` to create the complete output string (all lines) and print it at the end.","body":"You can use a <code>StringBuilder</code> to create the complete output string (all lines) and print it at the end."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1445774882,"creation_date":1445774882,"answer_id":33329489,"question_id":33329199,"body_markdown":"Your code produces the right output and it clear enough to me. The only suggestion I could make is to use a variable for the size of the pyramid instead of a hard-coded value.\r\n\r\nYou could write it in a more compact manner, only using 2 loops, like this:\r\n\r\n\tint size = 7;\r\n\tfor (int row = 0; row &lt; size; row++) {\r\n\t\tfor (int column = 0; column &lt;= Math.min(size-1-row, row); column++) {\r\n\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\nThe idea here is that:\r\n\r\n - For each row of the pyramid (so the row goes from 0 to `size` excluded)\r\n - We need to determine how many asterisks to print. If we are in the upper-half of the pyramid, it is the equal to the row we&#39;re at. It we are in the lower-half of the pyramid, it is equal to `size-1-row` (decreasing with the row increasing). So the count of asterisk is the minimum of `row` and `size-1-row`: this is factored in a single statement using `Math.min(size-1-row, row)`.","title":"How to print an inclined pyramid pattern in java using for loop in java?","body":"<p>Your code produces the right output and it clear enough to me. The only suggestion I could make is to use a variable for the size of the pyramid instead of a hard-coded value.</p>\n\n<p>You could write it in a more compact manner, only using 2 loops, like this:</p>\n\n<pre><code>int size = 7;\nfor (int row = 0; row &lt; size; row++) {\n    for (int column = 0; column &lt;= Math.min(size-1-row, row); column++) {\n        System.out.print(\"*\");\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p>The idea here is that:</p>\n\n<ul>\n<li>For each row of the pyramid (so the row goes from 0 to <code>size</code> excluded)</li>\n<li>We need to determine how many asterisks to print. If we are in the upper-half of the pyramid, it is the equal to the row we're at. It we are in the lower-half of the pyramid, it is equal to <code>size-1-row</code> (decreasing with the row increasing). So the count of asterisk is the minimum of <code>row</code> and <code>size-1-row</code>: this is factored in a single statement using <code>Math.min(size-1-row, row)</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3916524,"reputation":182,"user_id":3240229,"accept_rate":0,"display_name":"AKT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473337028,"creation_date":1473337028,"answer_id":39390681,"question_id":33329199,"body_markdown":"This works for me: \r\n\r\n    public class DrawPattern {\r\n        public static void main(String[] args) {\r\n            int i, j;\r\n            int num = 7;\r\n            for (i = 0; i &lt;= num; i++) {\r\n                for (j = 0; j &lt;= num; j++) {\r\n                    if (isConditionMatch(num, i, j)) {\r\n                        System.out.print(&quot;*&quot;);\r\n                    } else {\r\n                        System.out.print(&quot; &quot;);\r\n                    }\r\n                }\r\n                System.out.println();\r\n            }\r\n    \r\n        }\r\n    \r\n        private static boolean isConditionMatch(int num, int i, int j) {\r\n            return (i&gt;j &amp;&amp; i+j&lt;=num);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n            \r\n    *       \r\n    **      \r\n    ***     \r\n    ****    \r\n    ***     \r\n    **      \r\n    *   ","title":"How to print an inclined pyramid pattern in java using for loop in java?","body":"<p>This works for me: </p>\n\n<pre><code>public class DrawPattern {\n    public static void main(String[] args) {\n        int i, j;\n        int num = 7;\n        for (i = 0; i &lt;= num; i++) {\n            for (j = 0; j &lt;= num; j++) {\n                if (isConditionMatch(num, i, j)) {\n                    System.out.print(\"*\");\n                } else {\n                    System.out.print(\" \");\n                }\n            }\n            System.out.println();\n        }\n\n    }\n\n    private static boolean isConditionMatch(int num, int i, int j) {\n        return (i&gt;j &amp;&amp; i+j&lt;=num);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>*       \n**      \n***     \n****    \n***     \n**      \n*   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13142810,"reputation":1,"user_id":9493830,"display_name":"ravi singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1525174976,"creation_date":1525174976,"answer_id":50115890,"question_id":33329199,"body_markdown":"pattern in java by scanner method\r\n\r\n    1\r\n    12\r\n    123\r\n    1234\r\n    12345\r\n    123456   \r\n    \r\nsolution:\r\n  \r\n    import java.util.*;\r\n    public class Pattern{\r\n    public static void main(String[]args)\r\n    {\r\n    Scanner s=new Scanner(System.in);\r\n    int row=s.nextInt();\r\n    System.out.println(&quot;pattern is here&quot;);\r\n    for(int i=0;i&lt;=row;i++)\r\n    {\r\n    for(int j=0; j&lt;=row;j++)\r\n    {\r\n    System.out.print(j+&quot;&quot;);\r\n\r\n     }\r\n    System.out.println();\r\n\r\n    }\r\n    s.close();\r\n\r\n    }\r\n    }\r\n\r\n    \r\n\r\n    \r\noutput:\r\n   \r\n\r\n    1\r\n    12\r\n    123\r\n    1234\r\n    12345\r\n    123456\r\n    ","title":"How to print an inclined pyramid pattern in java using for loop in java?","body":"<p>pattern in java by scanner method</p>\n\n<pre><code>1\n12\n123\n1234\n12345\n123456   \n</code></pre>\n\n<p>solution:</p>\n\n<pre><code>import java.util.*;\npublic class Pattern{\npublic static void main(String[]args)\n{\nScanner s=new Scanner(System.in);\nint row=s.nextInt();\nSystem.out.println(\"pattern is here\");\nfor(int i=0;i&lt;=row;i++)\n{\nfor(int j=0; j&lt;=row;j++)\n{\nSystem.out.print(j+\"\");\n\n }\nSystem.out.println();\n\n}\ns.close();\n\n}\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1\n12\n123\n1234\n12345\n123456\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549291602,"creation_date":1549291602,"answer_id":54518616,"question_id":33329199,"body_markdown":"Use following methods in-order to draw in following [`Pyramid`](https://en.wikipedia.org/wiki/Pyramid_(geometry)) shapes:\r\n\r\nFunction call:\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\tint steps = 5;\r\n\tboolean useSaperator = true;\r\n\t\r\n\tpyramid(steps, useSaperator);\r\n\tpyramid_Left(steps, useSaperator, false);\r\n\tpyramid_Left(steps, useSaperator, true);\r\n}\r\npublic static void print(Object o) {\r\n\tSystem.out.print(o);\r\n}\r\n```\r\nOutput of Function calls:\r\n\r\n```\r\n1              |    1                  |   1\r\n22             |    2 * 2              |   2 * 2\r\n333            |    3 * 3 * 3          |   3 * 3 * 3\r\n4444           |    4 * 4 * 4 * 4      |   4 * 4 * 4 * 4\r\n55555          |    5 * 5 * 5 * 5 * 5  |   5 * 5 * 5 * 5 * 5\r\n4444           |    4 * 4 * 4 * 4      |\r\n333            |    3 * 3 * 3          |   isTriangle = true\r\n22             |    2 * 2              |\r\n1              |    1                  |\r\n    1          |            1          |\r\n   222         |          2 2 2        |\r\n  33333        |        3 3 3 3 3      |\r\n 4444444       |      4 4 4 4 4 4 4    |\r\n555555555      |    5 5 5 5 5 5 5 5 5  |\r\n               |                       |\r\nuseSaperator   |       useSaperator    |\r\n   false       |           true        |\r\n```\r\n\r\n```lang-java\r\npublic static void pyramid(int steps, boolean useSaperator) {\r\n\tString saperator = &quot; &quot;;\r\n\tfor (int i = 1; i &lt;= steps; i++) {\r\n\t\t// For Spaces till i &lt; steps\r\n\t\tfor (int j = i; j &lt; steps; j++) {\r\n\t\t\tprint(&quot; &quot;);\r\n\t\t\tif (useSaperator &amp;&amp; saperator.length() &gt; 0) {\r\n\t\t\t\tprint(saperator);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Left\r\n\t\tfor (int j = i; j &gt; 0; j--) {\r\n\t\t\tprint(i);\r\n\t\t\tif (useSaperator &amp;&amp; j - 1 &gt; 0) {\r\n\t\t\t\tprint(saperator);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Right - After completing Left, Avoid center element So, (i - 1)\r\n\t\tfor (int k = i - 1; k &gt; 0; k--) {\r\n\t\t\tif (useSaperator) {\r\n\t\t\t\tprint(saperator);\r\n\t\t\t}\r\n\t\t\tprint(i);\r\n\t\t}\r\n\t\tprint(&quot;\\n&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n```lang-java\r\npublic static void pyramid_Left(int steps, boolean useSaperator, boolean isTriangle) {\r\n\tString saperator = &quot; * &quot;;\r\n\tfor (int i = 1; i &lt;= steps; i++) {\r\n\t\t// Forward\r\n\t\tfor (int j = 1; j &lt;= i; j++) {\r\n\t\t\tprint(i);\r\n\t\t\tif (useSaperator &amp;&amp; j+1 &lt;= i) {\r\n\t\t\t\tprint(saperator);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprint(&quot;\\n&quot;);\r\n\t\tif (i == steps &amp;&amp; !isTriangle) {\r\n\t\t\t// Backward - After completing Forward\r\n\t\t\tint k = i - 1;\r\n\t\t\twhile (k &gt; 0) {\r\n\t\t\t\tfor (int j = k; j &gt; 0; j--) {\r\n\t\t\t\t\tprint(k);\r\n\t\t\t\t\tif (useSaperator &amp;&amp; j-1 &gt; 0) {\r\n\t\t\t\t\t\tprint(saperator);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tk--;\r\n\t\t\t\tprint(&quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"How to print an inclined pyramid pattern in java using for loop in java?","body":"<p>Use following methods in-order to draw in following <a href=\"https://en.wikipedia.org/wiki/Pyramid_(geometry)\" rel=\"nofollow noreferrer\"><code>Pyramid</code></a> shapes:</p>\n\n<p>Function call:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int steps = 5;\n    boolean useSaperator = true;\n\n    pyramid(steps, useSaperator);\n    pyramid_Left(steps, useSaperator, false);\n    pyramid_Left(steps, useSaperator, true);\n}\npublic static void print(Object o) {\n    System.out.print(o);\n}\n</code></pre>\n\n<p>Output of Function calls:</p>\n\n<pre><code>1              |    1                  |   1\n22             |    2 * 2              |   2 * 2\n333            |    3 * 3 * 3          |   3 * 3 * 3\n4444           |    4 * 4 * 4 * 4      |   4 * 4 * 4 * 4\n55555          |    5 * 5 * 5 * 5 * 5  |   5 * 5 * 5 * 5 * 5\n4444           |    4 * 4 * 4 * 4      |\n333            |    3 * 3 * 3          |   isTriangle = true\n22             |    2 * 2              |\n1              |    1                  |\n    1          |            1          |\n   222         |          2 2 2        |\n  33333        |        3 3 3 3 3      |\n 4444444       |      4 4 4 4 4 4 4    |\n555555555      |    5 5 5 5 5 5 5 5 5  |\n               |                       |\nuseSaperator   |       useSaperator    |\n   false       |           true        |\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void pyramid(int steps, boolean useSaperator) {\n    String saperator = \" \";\n    for (int i = 1; i &lt;= steps; i++) {\n        // For Spaces till i &lt; steps\n        for (int j = i; j &lt; steps; j++) {\n            print(\" \");\n            if (useSaperator &amp;&amp; saperator.length() &gt; 0) {\n                print(saperator);\n            }\n        }\n        // Left\n        for (int j = i; j &gt; 0; j--) {\n            print(i);\n            if (useSaperator &amp;&amp; j - 1 &gt; 0) {\n                print(saperator);\n            }\n        }\n        // Right - After completing Left, Avoid center element So, (i - 1)\n        for (int k = i - 1; k &gt; 0; k--) {\n            if (useSaperator) {\n                print(saperator);\n            }\n            print(i);\n        }\n        print(\"\\n\");\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void pyramid_Left(int steps, boolean useSaperator, boolean isTriangle) {\n    String saperator = \" * \";\n    for (int i = 1; i &lt;= steps; i++) {\n        // Forward\n        for (int j = 1; j &lt;= i; j++) {\n            print(i);\n            if (useSaperator &amp;&amp; j+1 &lt;= i) {\n                print(saperator);\n            }\n        }\n        print(\"\\n\");\n        if (i == steps &amp;&amp; !isTriangle) {\n            // Backward - After completing Forward\n            int k = i - 1;\n            while (k &gt; 0) {\n                for (int j = k; j &gt; 0; j--) {\n                    print(k);\n                    if (useSaperator &amp;&amp; j-1 &gt; 0) {\n                        print(saperator);\n                    }\n                }\n                k--;\n                print(\"\\n\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28735979,"reputation":1,"user_id":22007029,"display_name":"Saurabh Gunturkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685707708,"creation_date":1685705532,"answer_id":76389770,"question_id":33329199,"body_markdown":"Pattern in java using for loop in decesending order.\r\n\r\n12345\r\n\r\n1234\r\n\r\n123\r\n\r\n12\r\n\r\n1  \r\n\r\nTaking the input from user.\r\n\r\n\r\npackage practiceCode;\r\n\r\n    import java.util.*;\r\n    public class LoopPracticeCode {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint input = sc.nextInt();\r\n    \t\t\r\n    \t\tfor(int i=input; i&gt;0; i--) {\r\n    \t\t\tfor(int j = 1; j&lt;=i; j++) {\r\n    \t\t\t\tSystem.out.print(j);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to print an inclined pyramid pattern in java using for loop in java?","body":"<p>Pattern in java using for loop in decesending order.</p>\n<p>12345</p>\n<p>1234</p>\n<p>123</p>\n<p>12</p>\n<p>1</p>\n<p>Taking the input from user.</p>\n<p>package practiceCode;</p>\n<pre><code>import java.util.*;\npublic class LoopPracticeCode {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int input = sc.nextInt();\n        \n        for(int i=input; i&gt;0; i--) {\n            for(int j = 1; j&lt;=i; j++) {\n                System.out.print(j);\n            }\n            System.out.println();\n        }\n        \n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6119361,"reputation":11,"user_id":4773380,"display_name":"lcab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1403,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33329489,"answer_count":5,"score":0,"last_activity_date":1685707708,"creation_date":1445772795,"question_id":33329199,"body_markdown":"I have been trying to print different patterns using for loop statement in java. And now I want to learn how to print the following pattern. It is basically an inclined pyramid type of pattern.\r\n\r\n        *\r\n        **\r\n        ***\r\n        ****\r\n        ***\r\n        **\r\n        *\r\nI tried to make it and I did get the right results but the problem is that I think that the way I did it is an inconvenient way of doing it. Here is the code:\r\n\r\n    for (int x = 1; x &lt;= 4; x++) {\r\n        for (int y = 1; y &lt;= x; y++) {\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n    for (int x = 1; x &lt;= 3; x++) {\r\n        for (int y = 3; y &gt;= x; y--) {\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n        System.out.println();\r\n    }","title":"How to print an inclined pyramid pattern in java using for loop in java?","body":"<p>I have been trying to print different patterns using for loop statement in java. And now I want to learn how to print the following pattern. It is basically an inclined pyramid type of pattern.</p>\n\n<pre><code>    *\n    **\n    ***\n    ****\n    ***\n    **\n    *\n</code></pre>\n\n<p>I tried to make it and I did get the right results but the problem is that I think that the way I did it is an inconvenient way of doing it. Here is the code:</p>\n\n<pre><code>for (int x = 1; x &lt;= 4; x++) {\n    for (int y = 1; y &lt;= x; y++) {\n        System.out.print(\"*\");\n    }\n    System.out.println();\n}\nfor (int x = 1; x &lt;= 3; x++) {\n    for (int y = 3; y &gt;= x; y--) {\n        System.out.print(\"*\");\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1685727403,"post_id":76389892,"comment_id":134706771,"body_markdown":"Have you set up any server runtimes in the preferences? What are you clicking on that only shows Run as Java Application?","body":"Have you set up any server runtimes in the preferences? What are you clicking on that only shows Run as Java Application?"}],"owner":{"account_id":28719065,"reputation":3,"user_id":21993125,"display_name":"Prajal Saxena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685707488,"creation_date":1685706605,"question_id":76389892,"body_markdown":"I tried running a Spring Web mvc project, but it only shows option to run as Java application and not run on server. \r\n[You can see project facet is already checked(one of the solution in similar question)](https://i.stack.imgur.com/jDfSo.png)\r\n\r\npom.xml file content:\r\n[pom.xml](https://i.stack.imgur.com/LibAJ.jpg)\r\n\r\n","title":"How do I get &#39;Run as Server&#39; option for Spring Web MVC project in Eclipse STS?","body":"<p>I tried running a Spring Web mvc project, but it only shows option to run as Java application and not run on server.\n<a href=\"https://i.stack.imgur.com/jDfSo.png\" rel=\"nofollow noreferrer\">You can see project facet is already checked(one of the solution in similar question)</a></p>\n<p>pom.xml file content:\n<a href=\"https://i.stack.imgur.com/LibAJ.jpg\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n"},{"tags":["java","android","android-layout","android-fragments"],"answers":[{"comments":[{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1343594620,"post_id":11712772,"comment_id":15537612,"body_markdown":"Yes, I add the fragment from a button click that happens before. I want the fragment to go away when I click into my editText view. I will try your suggestions and leave a comment. Thanks","body":"Yes, I add the fragment from a button click that happens before. I want the fragment to go away when I click into my editText view. I will try your suggestions and leave a comment. Thanks"},{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":1,"creation_date":1343594862,"post_id":11712772,"comment_id":15537664,"body_markdown":"It worked. I just put `My_frag myFrag= new My_frag();\n` at the top of my application and deleted that line in both my `show()` and `hide()` methods.","body":"It worked. I just put <code>My_frag myFrag= new My_frag(); </code> at the top of my application and deleted that line in both my <code>show()</code> and <code>hide()</code> methods."}],"tags":[],"owner":{"account_id":422181,"reputation":1498,"user_id":960048,"display_name":"Salil Pandit"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1343594506,"creation_date":1343594506,"answer_id":11712772,"question_id":11712676,"body_markdown":"At some point you must create and add the `Fragment` correct? You are re-creating the fragment in your `hide(...)` method so you are trying to remove something that has never been added. Sure you may have added *an* instance, but not *the* instance you are trying to remove.\r\nInstead, create a global variable `Fragment fragToRemove` in your `Activity`. When you create the fragment (that is where ever you do `transaction.add(fragToRemove = new My_Frag);`) you will hold an instance. then change your `transaction.remove(myFrag)` to `transaction.remove(fragToRemove)` and it should work just fine.","title":"Removing a fragment not working","body":"<p>At some point you must create and add the <code>Fragment</code> correct? You are re-creating the fragment in your <code>hide(...)</code> method so you are trying to remove something that has never been added. Sure you may have added <em>an</em> instance, but not <em>the</em> instance you are trying to remove.\nInstead, create a global variable <code>Fragment fragToRemove</code> in your <code>Activity</code>. When you create the fragment (that is where ever you do <code>transaction.add(fragToRemove = new My_Frag);</code>) you will hold an instance. then change your <code>transaction.remove(myFrag)</code> to <code>transaction.remove(fragToRemove)</code> and it should work just fine.</p>\n"},{"tags":[],"owner":{"account_id":11477080,"reputation":898,"user_id":8412294,"display_name":"Vinod Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515701941,"creation_date":1515700489,"answer_id":48214886,"question_id":11712676,"body_markdown":"Take the  instance of Fragment Transaction other than that was taken while adding fragment to activity and call remove method on that and pass the same instance of Fragment which was used at the time.\r\n        \r\n**Example:**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n           \r\n        FragmentTransaction fragmentTransaction;\r\n        BlankFragment blankFragment;\r\n        \r\n        Button b;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        \r\n            b = (Button) findViewById(R.id.activity_button);\r\n            fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n        \r\n            blankFragment=new BlankFragment(); //Fragment instance \r\n            fragmentTransaction.add(R.id.main_layout,blankFragment).commit();\r\n            b.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\r\n                ft.remove(blankFragment).commit(); //created different \r\n            }\r\n        });\r\n        \r\n    }\r\n\r\nIn the same way you can do in fragments also and can also remove fragment X on the click of component of fragment X.","title":"Removing a fragment not working","body":"<p>Take the  instance of Fragment Transaction other than that was taken while adding fragment to activity and call remove method on that and pass the same instance of Fragment which was used at the time.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    FragmentTransaction fragmentTransaction;\n    BlankFragment blankFragment;\n\n    Button b;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        b = (Button) findViewById(R.id.activity_button);\n        fragmentTransaction = getSupportFragmentManager().beginTransaction();\n\n        blankFragment=new BlankFragment(); //Fragment instance \n        fragmentTransaction.add(R.id.main_layout,blankFragment).commit();\n        b.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\n            ft.remove(blankFragment).commit(); //created different \n        }\n    });\n\n}\n</code></pre>\n\n<p>In the same way you can do in fragments also and can also remove fragment X on the click of component of fragment X.</p>\n"},{"tags":[],"owner":{"account_id":3852473,"reputation":975,"user_id":3192238,"display_name":"georgehardcore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685706562,"creation_date":1685706562,"answer_id":76389886,"question_id":11712676,"body_markdown":"Fragments can be &quot;attached&quot; and &quot;added&quot;, you need use reverse operations, according to FragmentPagerAdapter::instantiateItem\r\n\r\n    manager.beginTransaction().remove(fragment).commit()\r\n\r\nor\r\n\r\n    manager.beginTransaction().detach(it).commit()\r\n\r\nSomething like this: \r\n\r\n\r\n    fragmentList.forEach {\r\n            manager.beginTransaction().remove(it).commit()\r\n            manager.beginTransaction().detach(it).commit()\r\n        }\r\n\r\n\r\n","title":"Removing a fragment not working","body":"<p>Fragments can be &quot;attached&quot; and &quot;added&quot;, you need use reverse operations, according to FragmentPagerAdapter::instantiateItem</p>\n<pre><code>manager.beginTransaction().remove(fragment).commit()\n</code></pre>\n<p>or</p>\n<pre><code>manager.beginTransaction().detach(it).commit()\n</code></pre>\n<p>Something like this:</p>\n<pre><code>fragmentList.forEach {\n        manager.beginTransaction().remove(it).commit()\n        manager.beginTransaction().detach(it).commit()\n    }\n</code></pre>\n"}],"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8744,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11712772,"answer_count":3,"score":1,"last_activity_date":1685706562,"creation_date":1343593891,"question_id":11712676,"body_markdown":"I want to remove a fragment and show a toast when I click a textView. My code shows the toast, but doesn&#39;t remove the fragment.\r\n\r\n**My method:**\r\n\r\n    public void hide(View view) {\r\n    \r\n    \t\tMy_frag myFrag= new My_frag();\r\n    \t\tFragmentTransaction transaction = getSupportFragmentManager()\r\n    \t\t\t\t.beginTransaction();\r\n    \t\ttransaction.remove(myFrag);\r\n    \t\ttransaction.commit();\r\n    \t\tToast.makeText(getApplicationContext(), &quot;Hello&quot;, Toast.LENGTH_LONG)\r\n    \t\t\t\t.show();\r\n    \t}\r\n\r\n**My_frag class:**\r\n\r\n    public class My_frag extends android.support.v4.app.Fragment {\r\n    \t@Override\r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n    \t\t\tBundle savedInstanceState) {\r\n    \t\t// Inflate the layout for this fragment\r\n    \t\treturn inflater.inflate(R.layout.my_frag_layout, container, false);\r\n    \t}\r\n    }","title":"Removing a fragment not working","body":"<p>I want to remove a fragment and show a toast when I click a textView. My code shows the toast, but doesn't remove the fragment.</p>\n\n<p><strong>My method:</strong></p>\n\n<pre><code>public void hide(View view) {\n\n        My_frag myFrag= new My_frag();\n        FragmentTransaction transaction = getSupportFragmentManager()\n                .beginTransaction();\n        transaction.remove(myFrag);\n        transaction.commit();\n        Toast.makeText(getApplicationContext(), \"Hello\", Toast.LENGTH_LONG)\n                .show();\n    }\n</code></pre>\n\n<p><strong>My_frag class:</strong></p>\n\n<pre><code>public class My_frag extends android.support.v4.app.Fragment {\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.my_frag_layout, container, false);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685706155,"creation_date":1685706155,"answer_id":76389842,"question_id":76387968,"body_markdown":"You can enable SQL logging and check what data is actually passed to the database.\r\n\r\nOne of the reason can be: `@Transactional` annotation doesn&#39;t work. You need to get a service from the Spring Context to allow Spring to wrap `method1()` with a proxy method to do dirty checking and save data.\r\n\r\n`@Transactional` annotation is a bit messy. It is primary not about transactions, but about dirty checking and Hibernate session control.\r\n\r\nWhen you do\r\n```java\r\nlogRepository.save(new Log(point));\r\n```\r\ndata is saved because `logRepository.save()` has it is own `@Transactional` annotation and does explicit call to save the data.\r\n\r\n`log.minusPoint(point)` could work, if `@Transactional` works correctly. A Spring proxy could open Hibernate session (Persistent Context) before `method1()` call and close it in the end. During closing session Hibernate does dirty checking — checks, if any of objects in session were changed and saves such objects.\r\n\r\nAnother reason can be that you load `log` in a method without `@Transactional` or in a method with own `@Transactional`. Different `@Transactional` means different Persistent Context.\r\nOne exception — when `@Transactional` of `method1()` is wrapped with another `@Transactional` that is used for a method that calls `method1()`.\r\n\r\nIt is bad practice to solve all issues with putting `@Transactional` everywhere. You can just do\r\n```\r\nlogRepository.save(log)\r\n``` \r\n","title":"Sometimes, in a Data JPA environment, when three queries occur in one method, one query does not work normally in DB","body":"<p>You can enable SQL logging and check what data is actually passed to the database.</p>\n<p>One of the reason can be: <code>@Transactional</code> annotation doesn't work. You need to get a service from the Spring Context to allow Spring to wrap <code>method1()</code> with a proxy method to do dirty checking and save data.</p>\n<p><code>@Transactional</code> annotation is a bit messy. It is primary not about transactions, but about dirty checking and Hibernate session control.</p>\n<p>When you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>logRepository.save(new Log(point));\n</code></pre>\n<p>data is saved because <code>logRepository.save()</code> has it is own <code>@Transactional</code> annotation and does explicit call to save the data.</p>\n<p><code>log.minusPoint(point)</code> could work, if <code>@Transactional</code> works correctly. A Spring proxy could open Hibernate session (Persistent Context) before <code>method1()</code> call and close it in the end. During closing session Hibernate does dirty checking — checks, if any of objects in session were changed and saves such objects.</p>\n<p>Another reason can be that you load <code>log</code> in a method without <code>@Transactional</code> or in a method with own <code>@Transactional</code>. Different <code>@Transactional</code> means different Persistent Context.\nOne exception — when <code>@Transactional</code> of <code>method1()</code> is wrapped with another <code>@Transactional</code> that is used for a method that calls <code>method1()</code>.</p>\n<p>It is bad practice to solve all issues with putting <code>@Transactional</code> everywhere. You can just do</p>\n<pre><code>logRepository.save(log)\n</code></pre>\n"}],"owner":{"account_id":28134333,"reputation":13,"user_id":21498324,"display_name":"BookAtJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76389842,"answer_count":1,"score":1,"last_activity_date":1685706155,"creation_date":1685690339,"question_id":76387968,"body_markdown":"Sometimes, in a Data JPA environment, when three queries occur in one method, one query does not work normally in DB.\r\n\r\n```\r\n@Transactional\r\npublic void method1(Log log){\r\n\t\tLong userId = log.getUserId();\r\n\t\tUser user = userRepository.findById(userId).orElseThrow(RuntimeException::new)\r\n\r\n\t\tBigDecimal point = BigDecimal.valueOf(100L);\r\n\t\tuser.minusPoint(point);\r\n\t\tlog.minusPoint(point);\r\n\t\tlogRepository.save(new Log(point));\r\n}\r\n```\r\n\r\nIt works normally for one case.  \r\nHowever, I ran it on several occasions, and one did not work properly.\r\n\r\nex) logList.forEach(log-\\&gt; a.method1(log));\r\n\r\ndid not work &quot;log.minusPoint(point);&quot; in all cases.\r\nThe data in the DB has not changed about log.\r\nBut the new log data was inserted and the user data has been changed.\r\n  \r\nIt was confirmed that the update, insert query was created successfully in the test environment.","title":"Sometimes, in a Data JPA environment, when three queries occur in one method, one query does not work normally in DB","body":"<p>Sometimes, in a Data JPA environment, when three queries occur in one method, one query does not work normally in DB.</p>\n<pre><code>@Transactional\npublic void method1(Log log){\n        Long userId = log.getUserId();\n        User user = userRepository.findById(userId).orElseThrow(RuntimeException::new)\n\n        BigDecimal point = BigDecimal.valueOf(100L);\n        user.minusPoint(point);\n        log.minusPoint(point);\n        logRepository.save(new Log(point));\n}\n</code></pre>\n<p>It works normally for one case.<br />\nHowever, I ran it on several occasions, and one did not work properly.</p>\n<p>ex) logList.forEach(log-&gt; a.method1(log));</p>\n<p>did not work &quot;log.minusPoint(point);&quot; in all cases.\nThe data in the DB has not changed about log.\nBut the new log data was inserted and the user data has been changed.</p>\n<p>It was confirmed that the update, insert query was created successfully in the test environment.</p>\n"},{"tags":["java","maven","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1685707788,"post_id":76389837,"comment_id":134702457,"body_markdown":"If using another codegen is an option, try [OpenAPI Generator](https://openapi-generator.tech/) instead.","body":"If using another codegen is an option, try <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">OpenAPI Generator</a> instead."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1685708423,"post_id":76389837,"comment_id":134702606,"body_markdown":"The StaticLoggerBinder error looks like a [known issue](https://github.com/swagger-api/swagger-codegen/issues/12135). Did you build swagger-codegen-cli from source code yourself? If so, try instead using the prebuilt JAR from Maven Central and see if it works: https://repo1.maven.org/maven2/io/swagger/codegen/v3/swagger-codegen-cli/3.0.43/swagger-codegen-cli-3.0.43.jar","body":"The StaticLoggerBinder error looks like a <a href=\"https://github.com/swagger-api/swagger-codegen/issues/12135\" rel=\"nofollow noreferrer\">known issue</a>. Did you build swagger-codegen-cli from source code yourself? If so, try instead using the prebuilt JAR from Maven Central and see if it works: <a href=\"https://repo1.maven.org/maven2/io/swagger/codegen/v3/swagger-codegen-cli/3.0.43/swagger-codegen-cli-3.0.43.jar\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/io/swagger/codegen/v3/&hellip;</a>"},{"owner":{"account_id":1047133,"reputation":674,"user_id":4391133,"accept_rate":30,"display_name":"IMK"},"score":0,"creation_date":1685955485,"post_id":76389837,"comment_id":134727762,"body_markdown":"Thanks. Now I am trying to use https://openapi-generator.tech/","body":"Thanks. Now I am trying to use <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">openapi-generator.tech</a>"}],"owner":{"account_id":1047133,"reputation":674,"user_id":4391133,"accept_rate":30,"display_name":"IMK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685706125,"creation_date":1685706125,"question_id":76389837,"body_markdown":"**Machine configuration**\r\n\r\nI am using \r\n\r\n - Windows 11 \r\n - jdk-11.0.4\r\n - v3.0.43_codegen\r\n - apache-maven-3.8.8-bin\r\n\r\n**What I am trying to do**\r\n\r\nI am trying to generate SDK project for my ASP.Net Core application using OpenAPI3.0. \r\nI am following the steps mentioned in this GitHub repo [https://github.com/swagger-api/swagger-codegen/#readme][1]\r\n\r\n\r\nBut ended up with the below exception.\r\n\r\n    PS D:\\OpenAPI\\v3.0.43_codegen\\swagger-codegen-3.0.43\\swagger-codegen-3.0.43&gt; java -jar modules\\swagger-codegen-cli\\target\\swagger-codegen-cli.jar generate -i D:\\petstore.json -l php -o c:\\temp\\petstore_local_api_client\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation.\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\n**I tried the below.**\r\n\r\n1.\tI have the slf4j-simple-2.0.7.jar and slf4j-api-2.0.7.jar in classpath of environment variable.\r\n2.\tI have the slf4j-simple-2.0.7.jar and slf4j-api-2.0.7.jar in D:\\OpenAPI\\v3.0.43_codegen\\swagger-codegen-3.0.43\\swagger-codegen-3.0.43 which is the root folder in powershell\r\n3.\tI have the slf4j-simple-2.0.7.jar and slf4j-api-2.0.7.jar in :\\OpenAPI\\v3.0.43_codegen\\swagger-codegen-3.0.43\\swagger-codegen-3.0.43\\ modules\\swagger-codegen-cli\\target\\ where the swagger-codegen-cli.jar is available. \r\n\r\n**Note**\r\n\r\nThere is no exception when I try with master source or2.x.x source of CodeGen. This issue is raised when I am trying to use CodeGen 3.X.X version of source. Since I am trying to adapt OpenAPI spec 3.0 can someone help me with this?\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen/#readme","title":"Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder exception","body":"<p><strong>Machine configuration</strong></p>\n<p>I am using</p>\n<ul>\n<li>Windows 11</li>\n<li>jdk-11.0.4</li>\n<li>v3.0.43_codegen</li>\n<li>apache-maven-3.8.8-bin</li>\n</ul>\n<p><strong>What I am trying to do</strong></p>\n<p>I am trying to generate SDK project for my ASP.Net Core application using OpenAPI3.0.\nI am following the steps mentioned in this GitHub repo <a href=\"https://github.com/swagger-api/swagger-codegen/#readme\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/#readme</a></p>\n<p>But ended up with the below exception.</p>\n<pre><code>PS D:\\OpenAPI\\v3.0.43_codegen\\swagger-codegen-3.0.43\\swagger-codegen-3.0.43&gt; java -jar modules\\swagger-codegen-cli\\target\\swagger-codegen-cli.jar generate -i D:\\petstore.json -l php -o c:\\temp\\petstore_local_api_client\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation.\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p><strong>I tried the below.</strong></p>\n<ol>\n<li>I have the slf4j-simple-2.0.7.jar and slf4j-api-2.0.7.jar in classpath of environment variable.</li>\n<li>I have the slf4j-simple-2.0.7.jar and slf4j-api-2.0.7.jar in D:\\OpenAPI\\v3.0.43_codegen\\swagger-codegen-3.0.43\\swagger-codegen-3.0.43 which is the root folder in powershell</li>\n<li>I have the slf4j-simple-2.0.7.jar and slf4j-api-2.0.7.jar in :\\OpenAPI\\v3.0.43_codegen\\swagger-codegen-3.0.43\\swagger-codegen-3.0.43\\ modules\\swagger-codegen-cli\\target\\ where the swagger-codegen-cli.jar is available.</li>\n</ol>\n<p><strong>Note</strong></p>\n<p>There is no exception when I try with master source or2.x.x source of CodeGen. This issue is raised when I am trying to use CodeGen 3.X.X version of source. Since I am trying to adapt OpenAPI spec 3.0 can someone help me with this?</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":10773670,"reputation":1213,"user_id":7926439,"display_name":"Mustapha Belmokhtar"},"score":0,"creation_date":1685681940,"post_id":76386886,"comment_id":134697767,"body_markdown":"`spring.jpa.hibernate.ddl-auto = none` will  be what you look for","body":"<code>spring.jpa.hibernate.ddl-auto = none</code> will  be what you look for"}],"answers":[{"comments":[{"owner":{"account_id":15695822,"reputation":37,"user_id":11325421,"display_name":"Ariya nazari"},"score":0,"creation_date":1685717721,"post_id":76387344,"comment_id":134704761,"body_markdown":"Gotcha that worked, though is it a better practice to just not create the tables your self and let hibernate do it just in case anything changes in the future?","body":"Gotcha that worked, though is it a better practice to just not create the tables your self and let hibernate do it just in case anything changes in the future?"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1693443867,"post_id":76387344,"comment_id":135763158,"body_markdown":"did you get any part of this from an AI?","body":"did you get any part of this from an AI?"}],"tags":[],"owner":{"account_id":25746909,"reputation":78,"user_id":19499990,"display_name":"yatin tripathi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685683535,"creation_date":1685683535,"answer_id":76387344,"question_id":76386886,"body_markdown":"This error occurs because you have set the `spring.jpa.hibernate.ddl-auto` property to update, which instructs Hibernate to automatically update the database schema based on the entity classes.\r\n\r\nSince the table already exists in the database, Hibernate is trying to execute a DDL (Data Definition Language) statement to create the table again, resulting in the error. To resolve this issue, you have a few options:\r\n\r\n1. Drop the existing table: If you don&#39;t have any important data in the `&quot;Users&quot;` table, you can drop the table from the database and let Hibernate recreate it. Make sure you have a backup of your data if necessary.\r\n\r\n2. Change `spring.jpa.hibernate.ddl-auto to validate`: By changing the value of this property to validate, Hibernate will only validate the entity mapping against the existing database schema. It won&#39;t perform any DDL operations or attempt to create the table again.\r\n\r\n    `spring.jpa.hibernate.ddl-auto=validate`\r\n\r\n\r\n","title":"Table already exists error when trying to create user class in springboot","body":"<p>This error occurs because you have set the <code>spring.jpa.hibernate.ddl-auto</code> property to update, which instructs Hibernate to automatically update the database schema based on the entity classes.</p>\n<p>Since the table already exists in the database, Hibernate is trying to execute a DDL (Data Definition Language) statement to create the table again, resulting in the error. To resolve this issue, you have a few options:</p>\n<ol>\n<li><p>Drop the existing table: If you don't have any important data in the <code>&quot;Users&quot;</code> table, you can drop the table from the database and let Hibernate recreate it. Make sure you have a backup of your data if necessary.</p>\n</li>\n<li><p>Change <code>spring.jpa.hibernate.ddl-auto to validate</code>: By changing the value of this property to validate, Hibernate will only validate the entity mapping against the existing database schema. It won't perform any DDL operations or attempt to create the table again.</p>\n<p><code>spring.jpa.hibernate.ddl-auto=validate</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28733374,"reputation":1,"user_id":22004843,"display_name":"Dunay Gudratli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684634,"creation_date":1685684634,"answer_id":76387416,"question_id":76386886,"body_markdown":"I guess problem is your column names. You have set your `spring.jpa.hibernate.ddl-auto=update`, so that means, when spring boot project runs, it will look at datbase, if table is not exists, it will create new table, if table exists, it will update if necessary. But spring jpa also look up for column names, column types and column lengths and other properties. So if they don&#39;t match, spring thinks that table is not exist. So it will try to create new table. But table with `Users` name is exist. In this situation,  Spring will throw `Table is already exists`. To fix this problem, you can:  \r\n\r\n1. Delete table from database, and run spring boot project again. Let spring project to generate table itself. So table will be same with your entity, problem will be solved.  \r\n2. Change `spring.jpa.hibernate.ddl-auto` property to `spring.jpa.hibernate.ddl-auto=create`. So spring boot will drop table in database and will create new one at each running. It is useful at development time. But at each running table will be dropped and re created, so your data will be lost. You have to think twice when switching to this property.  \r\n3. Change `spring.jpa.hibernate.ddl-auto` property to `spring.jpa.hibernate.ddl-auto=none`. It will be do nothing. So Spring will use table in database and will not change anything. But if column names or types is different, it will throw another problem.  \r\n4. Change colum names of entity, or table. Make same column names, types, length etc. If you don&#39;t want to change your table in databse, you can change your entity. You can change exactly variable names, or you can use `@Column` annotation. Example for your entity:  \r\n\r\n```\r\nimport jakarta.persistence.*;\r\n@Entity\r\n@Table(name = &quot;Users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;User_ID&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;First_Name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;Last_Name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;Password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;Rating&quot;)\r\n    private Float rating;\r\n\r\n    // getters and setters\r\n}\r\n```  \r\n\r\nI hope this will help you.","title":"Table already exists error when trying to create user class in springboot","body":"<p>I guess problem is your column names. You have set your <code>spring.jpa.hibernate.ddl-auto=update</code>, so that means, when spring boot project runs, it will look at datbase, if table is not exists, it will create new table, if table exists, it will update if necessary. But spring jpa also look up for column names, column types and column lengths and other properties. So if they don't match, spring thinks that table is not exist. So it will try to create new table. But table with <code>Users</code> name is exist. In this situation,  Spring will throw <code>Table is already exists</code>. To fix this problem, you can:</p>\n<ol>\n<li>Delete table from database, and run spring boot project again. Let spring project to generate table itself. So table will be same with your entity, problem will be solved.</li>\n<li>Change <code>spring.jpa.hibernate.ddl-auto</code> property to <code>spring.jpa.hibernate.ddl-auto=create</code>. So spring boot will drop table in database and will create new one at each running. It is useful at development time. But at each running table will be dropped and re created, so your data will be lost. You have to think twice when switching to this property.</li>\n<li>Change <code>spring.jpa.hibernate.ddl-auto</code> property to <code>spring.jpa.hibernate.ddl-auto=none</code>. It will be do nothing. So Spring will use table in database and will not change anything. But if column names or types is different, it will throw another problem.</li>\n<li>Change colum names of entity, or table. Make same column names, types, length etc. If you don't want to change your table in databse, you can change your entity. You can change exactly variable names, or you can use <code>@Column</code> annotation. Example for your entity:</li>\n</ol>\n<pre><code>import jakarta.persistence.*;\n@Entity\n@Table(name = &quot;Users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;User_ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;First_Name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;Last_Name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;Password&quot;)\n    private String password;\n\n    @Column(name = &quot;Rating&quot;)\n    private Float rating;\n\n    // getters and setters\n}\n</code></pre>\n<p>I hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684719,"creation_date":1685684719,"answer_id":76387421,"question_id":76386886,"body_markdown":"If you are sure about tables structures set\r\n\r\n spring.jpa.hibernate.ddl-auto=none\r\n\r\nin application.properties file.\r\nBut during development you will need to change some entities and their properties so it is better set\r\n\r\n spring.jpa.hibernate.ddl-auto=update\r\n\r\nFrom now any changes will be reflected on your tables in database.\r\n","title":"Table already exists error when trying to create user class in springboot","body":"<p>If you are sure about tables structures set</p>\n<p>spring.jpa.hibernate.ddl-auto=none</p>\n<p>in application.properties file.\nBut during development you will need to change some entities and their properties so it is better set</p>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n<p>From now any changes will be reflected on your tables in database.</p>\n"},{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685705607,"creation_date":1685705607,"answer_id":76389779,"question_id":76386886,"body_markdown":"set `spring.jpa.hibernate.ddl-auto=validate` in your application.properties.\r\nit will check that your mysql db is same as your entity and if there is a problem your app will not run .\r\n","title":"Table already exists error when trying to create user class in springboot","body":"<p>set <code>spring.jpa.hibernate.ddl-auto=validate</code> in your application.properties.\nit will check that your mysql db is same as your entity and if there is a problem your app will not run .</p>\n"}],"owner":{"account_id":15695822,"reputation":37,"user_id":11325421,"display_name":"Ariya nazari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76387344,"answer_count":4,"score":0,"last_activity_date":1685705607,"creation_date":1685674983,"question_id":76386886,"body_markdown":"So I have already created my database and all the tables with the appropriate columns in Mysql and connected it to springBoot. My issue is that when I create my user class which matches all the right columns on the Mysql setup, and run the springboot application I get: &quot;Error executing DDL...[Table &#39;users&#39; already exists]&quot; Here is my application.properties setup\r\n\r\n```# JDBC driver class\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n# Hibernate specific properties\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nand my User class\r\n```package com.spasli.mvp.model;\r\n\r\nimport jakarta.persistence.*;\r\n@Entity\r\n@Table(name = &quot;Users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private String password;\r\n    private Float rating;\r\n\r\n    // getters and setters\r\n}\r\n```\r\n\r\nand my Users table in sql\r\n```\r\nCREATE TABLE Users (\r\n    User_ID INT AUTO_INCREMENT,\r\n    First_Name VARCHAR(100),\r\n    Last_Name VARCHAR(100),\r\n    Password VARCHAR(255), -- storing hashed password\r\n    Rating FLOAT,\r\n    PRIMARY KEY (User_ID)\r\n);\r\n```\r\nCan someone guide me as to why this is happening?","title":"Table already exists error when trying to create user class in springboot","body":"<p>So I have already created my database and all the tables with the appropriate columns in Mysql and connected it to springBoot. My issue is that when I create my user class which matches all the right columns on the Mysql setup, and run the springboot application I get: &quot;Error executing DDL...[Table 'users' already exists]&quot; Here is my application.properties setup</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n# Hibernate specific properties\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>and my User class</p>\n<pre><code>\nimport jakarta.persistence.*;\n@Entity\n@Table(name = &quot;Users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String firstName;\n    private String lastName;\n    private String password;\n    private Float rating;\n\n    // getters and setters\n}\n</code></pre>\n<p>and my Users table in sql</p>\n<pre><code>CREATE TABLE Users (\n    User_ID INT AUTO_INCREMENT,\n    First_Name VARCHAR(100),\n    Last_Name VARCHAR(100),\n    Password VARCHAR(255), -- storing hashed password\n    Rating FLOAT,\n    PRIMARY KEY (User_ID)\n);\n</code></pre>\n<p>Can someone guide me as to why this is happening?</p>\n"},{"tags":["java","spring","spring-boot","properties-file"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":1,"creation_date":1412158651,"post_id":26137932,"comment_id":40971387,"body_markdown":"To my knowledge, what you are trying to do will not work out of the box.","body":"To my knowledge, what you are trying to do will not work out of the box."},{"owner":{"account_id":1972124,"reputation":15811,"user_id":1770795,"accept_rate":90,"display_name":"RJo"},"score":0,"creation_date":1412161533,"post_id":26137932,"comment_id":40972850,"body_markdown":"That&#39;s sad. Of course, I can always do it with plain Spring by using constructor parameters with `@Value` annotation. However, it would be nice if Spring Boot supported this, too.","body":"That&#39;s sad. Of course, I can always do it with plain Spring by using constructor parameters with <code>@Value</code> annotation. However, it would be nice if Spring Boot supported this, too."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1412166172,"post_id":26137932,"comment_id":40975451,"body_markdown":"I took a small peak at the source code, but it seams non-trivial to support something like what you are asking. Of course I am no expert on Spring internals so I might be missing something obvious","body":"I took a small peak at the source code, but it seams non-trivial to support something like what you are asking. Of course I am no expert on Spring internals so I might be missing something obvious"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":5,"creation_date":1412166573,"post_id":26137932,"comment_id":40975678,"body_markdown":"It&#39;s not exactly what you&#39;re looking for, but this existing Spring Boot issue may be of interest: https://github.com/spring-projects/spring-boot/issues/1254","body":"It&#39;s not exactly what you&#39;re looking for, but this existing Spring Boot issue may be of interest: <a href=\"https://github.com/spring-projects/spring-boot/issues/1254\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/1254</a>"},{"owner":{"account_id":1972124,"reputation":15811,"user_id":1770795,"accept_rate":90,"display_name":"RJo"},"score":0,"creation_date":1412225110,"post_id":26137932,"comment_id":41000518,"body_markdown":"The solution proposed in the comments would solve my issue too. If the setters were not visible, the configuration properties would be unmodifiable without resorting to violence :)","body":"The solution proposed in the comments would solve my issue too. If the setters were not visible, the configuration properties would be unmodifiable without resorting to violence :)"}],"answers":[{"comments":[{"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"score":3,"creation_date":1478721393,"post_id":28764090,"comment_id":68271575,"body_markdown":"That&#39;s a lot of boiler plate vs. just using @Value","body":"That&#39;s a lot of boiler plate vs. just using @Value"},{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":5,"creation_date":1517928937,"post_id":28764090,"comment_id":84288817,"body_markdown":"This is [tag:Java]. More boilerplate means better code","body":"This is <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a>. More boilerplate means better code"},{"owner":{"account_id":1327092,"reputation":2293,"user_id":1271706,"accept_rate":100,"display_name":"Dylan Watson"},"score":0,"creation_date":1518395697,"post_id":28764090,"comment_id":84475650,"body_markdown":"@Clijsters I honestly can&#39;t tell if you&#39;re being facetious but I mean, its not quite right but its not far off either!","body":"@Clijsters I honestly can&#39;t tell if you&#39;re being facetious but I mean, its not quite right but its not far off either!"},{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":1,"creation_date":1518420958,"post_id":28764090,"comment_id":84482430,"body_markdown":"Yes! It was meant to be facetious (but there is often somethin real about a joke).","body":"Yes! It was meant to be facetious (but there is often somethin real about a joke)."}],"tags":[],"owner":{"account_id":2162182,"reputation":26357,"user_id":1916110,"accept_rate":100,"display_name":"Tom"},"comment_count":4,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1425036589,"creation_date":1425036589,"answer_id":28764090,"question_id":26137932,"body_markdown":"I have to resolve that problem very often and I use a bit different approach, which allows me to use `final` variables in a class.\r\n\r\nFirst of all, I keep all my configuration in a single place (class), say, called `ApplicationProperties`. That class has `@ConfigurationProperties` annotation with a specific prefix. It is also listed in `@EnableConfigurationProperties` annotation against configuration class (or main class).\r\n\r\nThen I provide my `ApplicationProperties` as a constructor argument and perform assignment to a `final` field inside a constructor. \r\n\r\nExample:\r\n\r\n**Main** class:\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties(ApplicationProperties.class)\r\n    public class Application {\r\n        public static void main(String... args) throws Exception {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n**`ApplicationProperties`** class\r\n\r\n    @ConfigurationProperties(prefix = &quot;myapp&quot;)\r\n    public class ApplicationProperties {\r\n    \r\n        private String someProperty;\r\n    \r\n        // ... other properties and getters\r\n    \r\n       public String getSomeProperty() {\r\n           return someProperty;\r\n       }\r\n    }\r\n\r\nAnd a class with final properties\r\n\r\n    @Service\r\n    public class SomeImplementation implements SomeInterface {\r\n        private final String someProperty;\r\n        \r\n        @Autowired\r\n        public SomeImplementation(ApplicationProperties properties) {\r\n            this.someProperty = properties.getSomeProperty();\r\n        }\r\n    \r\n        // ... other methods / properties \r\n    }\r\n\r\nI prefer this approach for many different reasons e.g. if I have to setup more properties in a constructor, my list of constructor arguments is not &quot;huge&quot; as I always have one argument (`ApplicationProperties` in my case); if there is a need to add more `final` properties, my constructor stays the same (only one argument) - that may reduce number of changes elsewhere etc.\r\n\r\nI hope that will help\r\n","title":"Immutable @ConfigurationProperties","body":"<p>I have to resolve that problem very often and I use a bit different approach, which allows me to use <code>final</code> variables in a class.</p>\n\n<p>First of all, I keep all my configuration in a single place (class), say, called <code>ApplicationProperties</code>. That class has <code>@ConfigurationProperties</code> annotation with a specific prefix. It is also listed in <code>@EnableConfigurationProperties</code> annotation against configuration class (or main class).</p>\n\n<p>Then I provide my <code>ApplicationProperties</code> as a constructor argument and perform assignment to a <code>final</code> field inside a constructor. </p>\n\n<p>Example:</p>\n\n<p><strong>Main</strong> class:</p>\n\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties(ApplicationProperties.class)\npublic class Application {\n    public static void main(String... args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p><strong><code>ApplicationProperties</code></strong> class</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"myapp\")\npublic class ApplicationProperties {\n\n    private String someProperty;\n\n    // ... other properties and getters\n\n   public String getSomeProperty() {\n       return someProperty;\n   }\n}\n</code></pre>\n\n<p>And a class with final properties</p>\n\n<pre><code>@Service\npublic class SomeImplementation implements SomeInterface {\n    private final String someProperty;\n\n    @Autowired\n    public SomeImplementation(ApplicationProperties properties) {\n        this.someProperty = properties.getSomeProperty();\n    }\n\n    // ... other methods / properties \n}\n</code></pre>\n\n<p>I prefer this approach for many different reasons e.g. if I have to setup more properties in a constructor, my list of constructor arguments is not \"huge\" as I always have one argument (<code>ApplicationProperties</code> in my case); if there is a need to add more <code>final</code> properties, my constructor stays the same (only one argument) - that may reduce number of changes elsewhere etc.</p>\n\n<p>I hope that will help</p>\n"},{"comments":[{"owner":{"account_id":4687309,"reputation":1639,"user_id":5058677,"accept_rate":50,"display_name":"Rumid"},"score":0,"creation_date":1539940173,"post_id":49751134,"comment_id":92691146,"body_markdown":"I think you meant `if (this.someProperty == null) {\n        this.someProperty = someProperty;\n      }`","body":"I think you meant <code>if (this.someProperty == null) {         this.someProperty = someProperty;       }</code>"},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1548945469,"post_id":49751134,"comment_id":95733852,"body_markdown":"Your design is not immuteable, it&#39;s just guarded against setting twice ie. at point A in time the properties could have a different state than at point B.","body":"Your design is not immuteable, it&#39;s just guarded against setting twice ie. at point A in time the properties could have a different state than at point B."},{"owner":{"account_id":3182409,"reputation":761,"user_id":2688838,"display_name":"user2688838"},"score":0,"creation_date":1548968956,"post_id":49751134,"comment_id":95746377,"body_markdown":"[patrickf](https://stackoverflow.com/users/774398/patrickf) you are right, in fact I used the term &quot;immutable&quot; improperly. Thanks for the comment.","body":"<a href=\"https://stackoverflow.com/users/774398/patrickf\">patrickf</a> you are right, in fact I used the term &quot;immutable&quot; improperly. Thanks for the comment."}],"tags":[],"owner":{"account_id":3182409,"reputation":761,"user_id":2688838,"display_name":"user2688838"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539978686,"creation_date":1523355605,"answer_id":49751134,"question_id":26137932,"body_markdown":"In the end, if you want an immutable object you can also &quot;hack&quot; the setter that is \r\n\r\n    @ConfigurationProperties(prefix = &quot;myapp&quot;)\r\n    public class ApplicationProperties {\r\n        private String someProperty;\r\n\r\n        // ... other properties and getters\r\n\r\n        public String getSomeProperty() {\r\n           return someProperty;\r\n        }\r\n\r\n        public String setSomeProperty(String someProperty) {\r\n          if (someProperty == null) {\r\n            this.someProperty = someProperty;\r\n          }       \r\n        }\r\n    }\r\n\r\nObviously if the property is not just a String, that is a mutable object, things are more complicated but that&#39;s another story.\r\n\r\nEven better you can create a Configuration container\r\n\r\n    @ConfigurationProperties(prefix = &quot;myapp&quot;)\r\n    public class ApplicationProperties {\r\n       private final List&lt;MyConfiguration&gt; configurations  = new ArrayList&lt;&gt;();\r\n\r\n\t   public List&lt;MyConfiguration&gt; getConfigurations() {\r\n\t      return configurations\r\n\t   }\r\n    }\r\n\r\nwhere now the configuration is a clas without \r\n\r\n    public class MyConfiguration {\r\n        private String someProperty;\r\n\r\n        // ... other properties and getters\r\n\r\n        public String getSomeProperty() {\r\n           return someProperty;\r\n        }\r\n\r\n        public String setSomeProperty(String someProperty) {\r\n          if (this.someProperty == null) {\r\n            this.someProperty = someProperty;\r\n          }       \r\n        }\r\n    }\r\n\r\nand application.yml as\r\n\r\n    myapp:\r\n      configurations:\r\n        - someProperty: one\r\n        - someProperty: two\r\n        - someProperty: other\r\n\r\n","title":"Immutable @ConfigurationProperties","body":"<p>In the end, if you want an immutable object you can also \"hack\" the setter that is </p>\n\n<pre><code>@ConfigurationProperties(prefix = \"myapp\")\npublic class ApplicationProperties {\n    private String someProperty;\n\n    // ... other properties and getters\n\n    public String getSomeProperty() {\n       return someProperty;\n    }\n\n    public String setSomeProperty(String someProperty) {\n      if (someProperty == null) {\n        this.someProperty = someProperty;\n      }       \n    }\n}\n</code></pre>\n\n<p>Obviously if the property is not just a String, that is a mutable object, things are more complicated but that's another story.</p>\n\n<p>Even better you can create a Configuration container</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"myapp\")\npublic class ApplicationProperties {\n   private final List&lt;MyConfiguration&gt; configurations  = new ArrayList&lt;&gt;();\n\n   public List&lt;MyConfiguration&gt; getConfigurations() {\n      return configurations\n   }\n}\n</code></pre>\n\n<p>where now the configuration is a clas without </p>\n\n<pre><code>public class MyConfiguration {\n    private String someProperty;\n\n    // ... other properties and getters\n\n    public String getSomeProperty() {\n       return someProperty;\n    }\n\n    public String setSomeProperty(String someProperty) {\n      if (this.someProperty == null) {\n        this.someProperty = someProperty;\n      }       \n    }\n}\n</code></pre>\n\n<p>and application.yml as</p>\n\n<pre><code>myapp:\n  configurations:\n    - someProperty: one\n    - someProperty: two\n    - someProperty: other\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":2,"creation_date":1564757862,"post_id":54749905,"comment_id":101148004,"body_markdown":"This won&#39;t work. You&#39;ll get a `needProperty might have not been initialized` error.. One solution would be to use a constructor with `@Value(&quot;${example.neededProperty}&quot;)  String neededProperty` as a parameter and then initialize neededProperty","body":"This won&#39;t work. You&#39;ll get a <code>needProperty might have not been initialized</code> error.. One solution would be to use a constructor with <code>@Value(&quot;${example.neededProperty}&quot;)  String neededProperty</code> as a parameter and then initialize neededProperty"}],"tags":[],"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550501656,"creation_date":1550501656,"answer_id":54749905,"question_id":26137932,"body_markdown":"You can set the field values through `@Value` annotations. These can be placed directly on the fields and don&#39;t require any setters:\r\n\r\n    @Component\r\n    public final class MyProps {\r\n    \r\n      @Value(&quot;${example.neededProperty}&quot;)\r\n      private final String neededProperty;\r\n    \r\n      public String getNeededProperty() { .. }\r\n    }\r\n\r\n\r\nThe downside of this approach is:\r\n\r\n* You&#39;ll need to specified the fully-qualified property name on each field.\r\n* Validation doesn&#39;t work (cf. [this question](https://stackoverflow.com/q/44007492/1523648))\r\n","title":"Immutable @ConfigurationProperties","body":"<p>You can set the field values through <code>@Value</code> annotations. These can be placed directly on the fields and don't require any setters:</p>\n\n<pre><code>@Component\npublic final class MyProps {\n\n  @Value(\"${example.neededProperty}\")\n  private final String neededProperty;\n\n  public String getNeededProperty() { .. }\n}\n</code></pre>\n\n<p>The downside of this approach is:</p>\n\n<ul>\n<li>You'll need to specified the fully-qualified property name on each field.</li>\n<li>Validation doesn't work (cf. <a href=\"https://stackoverflow.com/q/44007492/1523648\">this question</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3947069,"reputation":127,"user_id":3259214,"display_name":"dshvets1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550603438,"creation_date":1550603438,"answer_id":54773358,"question_id":26137932,"body_markdown":"My idea is to encapsulate property groups via inner classes and expose interfaces with getters only.\r\n\r\nProperties file:\r\n  \r\n    myapp.security.token-duration=30m\r\n    myapp.security.expired-tokens-check-interval=5m\r\n    \r\n    myapp.scheduler.pool-size=2\r\n\r\nCode:\r\n\r\n    @Component\r\n    @ConfigurationProperties(&quot;myapp&quot;)\r\n    @Validated\r\n    public class ApplicationProperties\r\n    {\r\n        private final Security security = new Security();\r\n        private final Scheduler scheduler = new Scheduler();\r\n    \r\n        public interface SecurityProperties\r\n        {\r\n            Duration getTokenDuration();\r\n            Duration getExpiredTokensCheckInterval();\r\n        }\r\n    \r\n        public interface SchedulerProperties\r\n        {\r\n            int getPoolSize();\r\n        }\r\n    \r\n        static private class Security implements SecurityProperties\r\n        {\r\n            @DurationUnit(ChronoUnit.MINUTES)\r\n            private Duration tokenDuration = Duration.ofMinutes(30);\r\n    \r\n            @DurationUnit(ChronoUnit.MINUTES)\r\n            private Duration expiredTokensCheckInterval = Duration.ofMinutes(10);\r\n    \r\n            @Override\r\n            public Duration getTokenDuration()\r\n            {\r\n                return tokenDuration;\r\n            }\r\n    \r\n            @Override\r\n            public Duration getExpiredTokensCheckInterval()\r\n            {\r\n                return expiredTokensCheckInterval;\r\n            }\r\n    \r\n            public void setTokenDuration(Duration duration)\r\n            {\r\n                this.tokenDuration = duration;\r\n            }\r\n    \r\n            public void setExpiredTokensCheckInterval(Duration duration)\r\n            {\r\n                this.expiredTokensCheckInterval = duration;\r\n            }\r\n    \r\n            @Override\r\n            public String toString()\r\n            {\r\n                final StringBuffer sb = new StringBuffer(&quot;{ &quot;);\r\n                sb.append(&quot;tokenDuration=&quot;).append(tokenDuration);\r\n                sb.append(&quot;, expiredTokensCheckInterval=&quot;).append(expiredTokensCheckInterval);\r\n                sb.append(&quot; }&quot;);\r\n                return sb.toString();\r\n            }\r\n        }\r\n    \r\n        static private class Scheduler implements SchedulerProperties\r\n        {\r\n            @Min(1)\r\n            @Max(5)\r\n            private int poolSize = 1;\r\n    \r\n            @Override\r\n            public int getPoolSize()\r\n            {\r\n                return poolSize;\r\n            }\r\n    \r\n            public void setPoolSize(int poolSize)\r\n            {\r\n                this.poolSize = poolSize;\r\n            }\r\n    \r\n            @Override\r\n            public String toString()\r\n            {\r\n                final StringBuilder sb = new StringBuilder(&quot;{ &quot;);\r\n                sb.append(&quot;poolSize=&quot;).append(poolSize);\r\n                sb.append(&quot; }&quot;);\r\n                return sb.toString();\r\n            }\r\n        }\r\n    \r\n        public SecurityProperties getSecurity()     { return security; }\r\n        public SchedulerProperties getScheduler()   { return scheduler; }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n            final StringBuilder sb = new StringBuilder(&quot;{ &quot;);\r\n            sb.append(&quot;security=&quot;).append(security);\r\n            sb.append(&quot;, scheduler=&quot;).append(scheduler);\r\n            sb.append(&quot; }&quot;);\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\n","title":"Immutable @ConfigurationProperties","body":"<p>My idea is to encapsulate property groups via inner classes and expose interfaces with getters only.</p>\n\n<p>Properties file:</p>\n\n<pre><code>myapp.security.token-duration=30m\nmyapp.security.expired-tokens-check-interval=5m\n\nmyapp.scheduler.pool-size=2\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>@Component\n@ConfigurationProperties(\"myapp\")\n@Validated\npublic class ApplicationProperties\n{\n    private final Security security = new Security();\n    private final Scheduler scheduler = new Scheduler();\n\n    public interface SecurityProperties\n    {\n        Duration getTokenDuration();\n        Duration getExpiredTokensCheckInterval();\n    }\n\n    public interface SchedulerProperties\n    {\n        int getPoolSize();\n    }\n\n    static private class Security implements SecurityProperties\n    {\n        @DurationUnit(ChronoUnit.MINUTES)\n        private Duration tokenDuration = Duration.ofMinutes(30);\n\n        @DurationUnit(ChronoUnit.MINUTES)\n        private Duration expiredTokensCheckInterval = Duration.ofMinutes(10);\n\n        @Override\n        public Duration getTokenDuration()\n        {\n            return tokenDuration;\n        }\n\n        @Override\n        public Duration getExpiredTokensCheckInterval()\n        {\n            return expiredTokensCheckInterval;\n        }\n\n        public void setTokenDuration(Duration duration)\n        {\n            this.tokenDuration = duration;\n        }\n\n        public void setExpiredTokensCheckInterval(Duration duration)\n        {\n            this.expiredTokensCheckInterval = duration;\n        }\n\n        @Override\n        public String toString()\n        {\n            final StringBuffer sb = new StringBuffer(\"{ \");\n            sb.append(\"tokenDuration=\").append(tokenDuration);\n            sb.append(\", expiredTokensCheckInterval=\").append(expiredTokensCheckInterval);\n            sb.append(\" }\");\n            return sb.toString();\n        }\n    }\n\n    static private class Scheduler implements SchedulerProperties\n    {\n        @Min(1)\n        @Max(5)\n        private int poolSize = 1;\n\n        @Override\n        public int getPoolSize()\n        {\n            return poolSize;\n        }\n\n        public void setPoolSize(int poolSize)\n        {\n            this.poolSize = poolSize;\n        }\n\n        @Override\n        public String toString()\n        {\n            final StringBuilder sb = new StringBuilder(\"{ \");\n            sb.append(\"poolSize=\").append(poolSize);\n            sb.append(\" }\");\n            return sb.toString();\n        }\n    }\n\n    public SecurityProperties getSecurity()     { return security; }\n    public SchedulerProperties getScheduler()   { return scheduler; }\n\n    @Override\n    public String toString()\n    {\n        final StringBuilder sb = new StringBuilder(\"{ \");\n        sb.append(\"security=\").append(security);\n        sb.append(\", scheduler=\").append(scheduler);\n        sb.append(\" }\");\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":9,"creation_date":1571819853,"post_id":57191291,"comment_id":103363415,"body_markdown":"Note that you now have to use the `@ConstructorBinding` annotation to make this work. Before that (RC1) you had to use the `@ImmutableConfigurationProperties` in stead. For more information about why this annotation was chosen, you can refer to [issue 18563](https://github.com/spring-projects/spring-boot/issues/18563).","body":"Note that you now have to use the <code>@ConstructorBinding</code> annotation to make this work. Before that (RC1) you had to use the <code>@ImmutableConfigurationProperties</code> in stead. For more information about why this annotation was chosen, you can refer to <a href=\"https://github.com/spring-projects/spring-boot/issues/18563\" rel=\"nofollow noreferrer\">issue 18563</a>."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1587207378,"post_id":57191291,"comment_id":108421746,"body_markdown":"@g00glen00b Thanks for your comment. I updated with the current way to do that.","body":"@g00glen00b Thanks for your comment. I updated with the current way to do that."},{"owner":{"account_id":16936565,"reputation":468,"user_id":12249394,"display_name":"albertocavalcante"},"score":0,"creation_date":1674093749,"post_id":57191291,"comment_id":132643670,"body_markdown":"On Spring Boot 3.x you no longer should/can use `@ConstructorBinding` for a single constructor. https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M2-Release-Notes#constructingbinding-no-longer-needed-at-the-type-level","body":"On Spring Boot 3.x you no longer should/can use <code>@ConstructorBinding</code> for a single constructor. <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M2-Release-Notes#constructingbinding-no-longer-needed-at-the-type-level\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":3,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1622172074,"creation_date":1564002541,"answer_id":57191291,"question_id":26137932,"body_markdown":"From Spring Boot 2.2, it is at last possible to define an immutable class decorated with `@ConfigurationProperties`.  \r\n[The documentation][1] shows an example.  \r\nYou just need to declare a constructor with the fields to bind (instead of the setter way) and to add the [`@ConstructorBinding`][2] annotation at the class level to indicate that constructor binding should be used.   \r\nSo your actual code without any setter is now fine :\r\n\r\n\r\n    @ConstructorBinding\r\n    @ConfigurationProperties(prefix = &quot;example&quot;)\r\n    public final class MyProps {\r\n    \r\n      private final String neededProperty;\r\n    \r\n      public MyProps(String neededProperty) {\r\n        this.neededProperty = neededProperty;\r\n      }\r\n    \r\n      public String getNeededProperty() { .. }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.constructor-binding\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConstructorBinding.html","title":"Immutable @ConfigurationProperties","body":"<p>From Spring Boot 2.2, it is at last possible to define an immutable class decorated with <code>@ConfigurationProperties</code>.<br />\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties.constructor-binding\" rel=\"noreferrer\">The documentation</a> shows an example.<br />\nYou just need to declare a constructor with the fields to bind (instead of the setter way) and to add the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConstructorBinding.html\" rel=\"noreferrer\"><code>@ConstructorBinding</code></a> annotation at the class level to indicate that constructor binding should be used.<br />\nSo your actual code without any setter is now fine :</p>\n<pre><code>@ConstructorBinding\n@ConfigurationProperties(prefix = &quot;example&quot;)\npublic final class MyProps {\n\n  private final String neededProperty;\n\n  public MyProps(String neededProperty) {\n    this.neededProperty = neededProperty;\n  }\n\n  public String getNeededProperty() { .. }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"score":0,"creation_date":1656017977,"post_id":60442151,"comment_id":128476316,"body_markdown":"Not bad in term of clarity except you rely on the Lombok external dependency, IMHO the new `record` feature of Java 14 is a better solution now.","body":"Not bad in term of clarity except you rely on the Lombok external dependency, IMHO the new <code>record</code> feature of Java 14 is a better solution now."}],"tags":[],"owner":{"account_id":4190999,"reputation":144,"user_id":3433612,"display_name":"Radouxca"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1582839690,"creation_date":1582839690,"answer_id":60442151,"question_id":26137932,"body_markdown":"Using Lombok annotations the code would looks like this:\r\n\r\n    @ConfigurationProperties(prefix = &quot;example&quot;)\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @ConstructorBinding\r\n    public final class MyProps {\r\n\r\n      private final String neededProperty;\r\n\r\n    }\r\n\r\nAdditionally if you want to Autowire this property class directly and not using `@Configuration` class and `@EnableConfigurationProperties`, you need to add `@ConfigurationPropertiesScan` to main application class that is annotated with `@SpringBootApplication`.\r\n\r\nSee related documentation here: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-constructor-binding","title":"Immutable @ConfigurationProperties","body":"<p>Using Lombok annotations the code would looks like this:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"example\")\n@AllArgsConstructor\n@Getter\n@ConstructorBinding\npublic final class MyProps {\n\n  private final String neededProperty;\n\n}\n</code></pre>\n\n<p>Additionally if you want to Autowire this property class directly and not using <code>@Configuration</code> class and <code>@EnableConfigurationProperties</code>, you need to add <code>@ConfigurationPropertiesScan</code> to main application class that is annotated with <code>@SpringBootApplication</code>.</p>\n\n<p>See related documentation here: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-constructor-binding\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-constructor-binding</a></p>\n"},{"tags":[],"owner":{"account_id":16299228,"reputation":93,"user_id":11770752,"display_name":"anjey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606735702,"creation_date":1606735702,"answer_id":65072701,"question_id":26137932,"body_markdown":"Using similar approach to the one from https://stackoverflow.com/a/60442151/11770752\r\n\r\n\r\nBut instead of `AllArgsConstructor` you can use the `RequiredArgsConstructor`.\r\n\r\nConsider following `applications.properties`\r\n\r\n```java\r\nmyprops.example.firstName=Peter\r\nmyprops.example.last-name=Pan\r\nmyprops.example.age=28\r\n```\r\n_Note_: Use consistency with your properties, i just wanted to show-case that both were correct (`fistName` and `last-name`).\r\n\r\n---\r\n\r\nJava Class pickping up the properties\r\n\r\n```java\r\n@Getter\r\n@ConstructorBinding\r\n@RequiredArgsConstructor\r\n@ConfigurationProperties(prefix = &quot;myprops.example&quot;)\r\npublic class StageConfig\r\n{\r\n    private final String firstName;\r\n    private final Integer lastName;\r\n    private final Integer age;\r\n\r\n    // ...\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n\r\nAdditionally you have to add to your build-tool a dependency.\r\n\r\n*build.gradle* \r\n```gradle\r\n    annotationProcessor(&#39;org.springframework.boot:spring-boot-configuration-processor&#39;)\r\n```\r\n\r\nor \r\n\r\n*pom.xml*\r\n```maven\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n\r\nIf you take it one step further to provide nice and precise descriptions for you configurations, consider creating a file `additional-spring-configuration-metadata.json` in directory `src/main/resources/META-INF`.\r\n\r\n```json\r\n{\r\n  &quot;properties&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;myprops.example.firstName&quot;,\r\n      &quot;type&quot;: &quot;java.lang.String&quot;,\r\n      &quot;description&quot;: &quot;First name of the product owner from this web-service.&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;myprops.example.lastName&quot;,\r\n      &quot;type&quot;: &quot;java.lang.String&quot;,\r\n      &quot;description&quot;: &quot;Last name of the product owner from this web-service.&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;myprops.example.age&quot;,\r\n      &quot;type&quot;: &quot;java.lang.Integer&quot;,\r\n      &quot;description&quot;: &quot;Current age of this web-service, since development started.&quot;\r\n    }\r\n}\r\n```\r\n(clean &amp; compile to take effect)\r\n\r\n--- \r\n\r\nAt least in IntelliJ, when you hover over the properties inside `application.propoerties`, you get a clear despriction of your custom properties. Very useful for other developers.\r\n\r\nThis is giving me a nice and concise structure of my properties, which i am using in my service with spring.","title":"Immutable @ConfigurationProperties","body":"<p>Using similar approach to the one from <a href=\"https://stackoverflow.com/a/60442151/11770752\">https://stackoverflow.com/a/60442151/11770752</a></p>\n<p>But instead of <code>AllArgsConstructor</code> you can use the <code>RequiredArgsConstructor</code>.</p>\n<p>Consider following <code>applications.properties</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>myprops.example.firstName=Peter\nmyprops.example.last-name=Pan\nmyprops.example.age=28\n</code></pre>\n<p><em>Note</em>: Use consistency with your properties, i just wanted to show-case that both were correct (<code>fistName</code> and <code>last-name</code>).</p>\n<hr />\n<p>Java Class pickping up the properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@ConstructorBinding\n@RequiredArgsConstructor\n@ConfigurationProperties(prefix = &quot;myprops.example&quot;)\npublic class StageConfig\n{\n    private final String firstName;\n    private final Integer lastName;\n    private final Integer age;\n\n    // ...\n}\n\n</code></pre>\n<hr />\n<p>Additionally you have to add to your build-tool a dependency.</p>\n<p><em>build.gradle</em></p>\n<pre><code>    annotationProcessor('org.springframework.boot:spring-boot-configuration-processor')\n</code></pre>\n<p>or</p>\n<p><em>pom.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>If you take it one step further to provide nice and precise descriptions for you configurations, consider creating a file <code>additional-spring-configuration-metadata.json</code> in directory <code>src/main/resources/META-INF</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;properties&quot;: [\n    {\n      &quot;name&quot;: &quot;myprops.example.firstName&quot;,\n      &quot;type&quot;: &quot;java.lang.String&quot;,\n      &quot;description&quot;: &quot;First name of the product owner from this web-service.&quot;\n    },\n    {\n      &quot;name&quot;: &quot;myprops.example.lastName&quot;,\n      &quot;type&quot;: &quot;java.lang.String&quot;,\n      &quot;description&quot;: &quot;Last name of the product owner from this web-service.&quot;\n    },\n    {\n      &quot;name&quot;: &quot;myprops.example.age&quot;,\n      &quot;type&quot;: &quot;java.lang.Integer&quot;,\n      &quot;description&quot;: &quot;Current age of this web-service, since development started.&quot;\n    }\n}\n</code></pre>\n<p>(clean &amp; compile to take effect)</p>\n<hr />\n<p>At least in IntelliJ, when you hover over the properties inside <code>application.propoerties</code>, you get a clear despriction of your custom properties. Very useful for other developers.</p>\n<p>This is giving me a nice and concise structure of my properties, which i am using in my service with spring.</p>\n"},{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656017797,"creation_date":1656017797,"answer_id":72736458,"question_id":26137932,"body_markdown":"Just an update on the latest support of more recent Spring-Boot versions: \r\n\r\nIf you&#39;re using a jdk version &gt;= 14, you can use `record` type which does more or less the same as the Lombok version but without Lombok.\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;example&quot;)\r\npublic record MyProps(String neededProperty) {\r\n}\r\n```  \r\n\r\nYou can also use record inside the `MyProps` record to manage nested properties. You can see an example [here](https://stackoverflow.com/a/72718055/628006).\r\n\r\nAnother interesting post [here](https://stackoverflow.com/a/66696829/628006) which shows that the `@ConstructorBinding` annotation is even not necessary anymore if only one constructor is declared.","title":"Immutable @ConfigurationProperties","body":"<p>Just an update on the latest support of more recent Spring-Boot versions:</p>\n<p>If you're using a jdk version &gt;= 14, you can use <code>record</code> type which does more or less the same as the Lombok version but without Lombok.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;example&quot;)\npublic record MyProps(String neededProperty) {\n}\n</code></pre>\n<p>You can also use record inside the <code>MyProps</code> record to manage nested properties. You can see an example <a href=\"https://stackoverflow.com/a/72718055/628006\">here</a>.</p>\n<p>Another interesting post <a href=\"https://stackoverflow.com/a/66696829/628006\">here</a> which shows that the <code>@ConstructorBinding</code> annotation is even not necessary anymore if only one constructor is declared.</p>\n"},{"tags":[],"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685705501,"creation_date":1685705501,"answer_id":76389768,"question_id":26137932,"body_markdown":"If you want to slice test your properties in your application without loading the whole spring boot context use the `@EnableConfigurationProperties` in your test.\r\n\r\nExample:\r\n\r\n`src/main/resources/application.yml`\r\n\r\n\r\n```yaml\r\nmyApp:\r\n  enabled: true\r\n  name: &quot;test&quot; \r\n```\r\n\r\n```\r\n@Getter\r\n@AllArgsConstructor\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;myApp&quot;)\r\npublic class MyApplicationProperties {\r\n\r\n    boolean enabled;\r\n    String name;\r\n\r\n}\r\n```\r\n\r\n```java\r\n\r\n// this will only load MyApplicationProperties.class in spring boot context making it fast\r\n@SpringBootTest( classes = MyApplicationProperties.class})\r\n@EnableConfigurationProperties\r\nclass MyApplicationPropertiesTest {\r\n\r\n    @Autowired\r\n    MyApplicationProperties myApplicationProperties ;\r\n\r\n    @Test\r\n    void test_myApplicationProperties () {\r\n        assertThat(myApplicationProperties.getEnabled()).isTrue();\r\n        assertThat(myApplicationProperties.getName()).isEqualTo(&quot;test&quot;);\r\n\r\n}\r\n```","title":"Immutable @ConfigurationProperties","body":"<p>If you want to slice test your properties in your application without loading the whole spring boot context use the <code>@EnableConfigurationProperties</code> in your test.</p>\n<p>Example:</p>\n<p><code>src/main/resources/application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>myApp:\n  enabled: true\n  name: &quot;test&quot; \n</code></pre>\n<pre><code>@Getter\n@AllArgsConstructor\n@Configuration\n@ConfigurationProperties(prefix = &quot;myApp&quot;)\npublic class MyApplicationProperties {\n\n    boolean enabled;\n    String name;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n// this will only load MyApplicationProperties.class in spring boot context making it fast\n@SpringBootTest( classes = MyApplicationProperties.class})\n@EnableConfigurationProperties\nclass MyApplicationPropertiesTest {\n\n    @Autowired\n    MyApplicationProperties myApplicationProperties ;\n\n    @Test\n    void test_myApplicationProperties () {\n        assertThat(myApplicationProperties.getEnabled()).isTrue();\n        assertThat(myApplicationProperties.getName()).isEqualTo(&quot;test&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":1972124,"reputation":15811,"user_id":1770795,"accept_rate":90,"display_name":"RJo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32310,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":57191291,"answer_count":9,"score":63,"last_activity_date":1685705501,"creation_date":1412154843,"question_id":26137932,"body_markdown":"Is it possible to have immutable (final) fields with Spring Boot&#39;s `@ConfigurationProperties` annotation? Example below\r\n\r\n    @ConfigurationProperties(prefix = &quot;example&quot;)\r\n    public final class MyProps {\r\n      \r\n      private final String neededProperty;\r\n\r\n      public MyProps(String neededProperty) {\r\n        this.neededProperty = neededProperty;\r\n      }\r\n\r\n      public String getNeededProperty() { .. }\r\n    }\r\n\r\nApproaches I&#39;ve tried so far:\r\n\r\n1. Creating a `@Bean` of the `MyProps` class with two constructors\r\n  * Providing two constructors: empty and with `neededProperty` argument\r\n  * The bean is created with `new MyProps()`\r\n  * Results in the field being `null`\r\n2. Using `@ComponentScan` and `@Component` to provide the `MyProps` bean.\r\n  * Results in `BeanInstantiationException` -&gt; `NoSuchMethodException: MyProps.&lt;init&gt;()`\r\n\r\nThe only way I have got it working is by providing getter/setter for each non-final field.","title":"Immutable @ConfigurationProperties","body":"<p>Is it possible to have immutable (final) fields with Spring Boot's <code>@ConfigurationProperties</code> annotation? Example below</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"example\")\npublic final class MyProps {\n\n  private final String neededProperty;\n\n  public MyProps(String neededProperty) {\n    this.neededProperty = neededProperty;\n  }\n\n  public String getNeededProperty() { .. }\n}\n</code></pre>\n\n<p>Approaches I've tried so far:</p>\n\n<ol>\n<li>Creating a <code>@Bean</code> of the <code>MyProps</code> class with two constructors\n<ul>\n<li>Providing two constructors: empty and with <code>neededProperty</code> argument</li>\n<li>The bean is created with <code>new MyProps()</code></li>\n<li>Results in the field being <code>null</code></li>\n</ul></li>\n<li>Using <code>@ComponentScan</code> and <code>@Component</code> to provide the <code>MyProps</code> bean.\n<ul>\n<li>Results in <code>BeanInstantiationException</code> -> <code>NoSuchMethodException: MyProps.&lt;init&gt;()</code></li>\n</ul></li>\n</ol>\n\n<p>The only way I have got it working is by providing getter/setter for each non-final field.</p>\n"},{"tags":["java","tomcat","webserver","alarm"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":2,"creation_date":1685700261,"post_id":76388831,"comment_id":134700986,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685705545,"post_id":76388831,"comment_id":134702014,"body_markdown":"If hs_err_pid54728.log is complete then there is no much to troubleshoot. May be a bug in the JDK. Try upgrading to the latest release.","body":"If hs_err_pid54728.log is complete then there is no much to troubleshoot. May be a bug in the JDK. Try upgrading to the latest release."}],"owner":{"account_id":4717018,"reputation":465,"user_id":3815923,"display_name":"thomson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685704532,"creation_date":1685697748,"question_id":76388831,"body_markdown":"We have Tomcat web server as a service that has 4 web applications deployed on it. One of them is ALARMCFG, an alarm reporting application.\r\nSometimes this web server is restarting automatically, we don&#39;t have anything logged in the logs of deployed applications.\r\n\r\nWant to know the reason of this web server restart. The frequency is random, sometimes daily, sometimes twice a day, sometimes twice a week.\r\nCan someone help in understanding what is the problem and what else has to be checked.\r\n\r\n - Java version - jdk1.8.0_333\r\n - Tomcat version - apache-tomcat-8.5.79\r\n\r\n**web server restart logs**\r\n&lt;pre&gt;\r\n\r\n    {root} #: journalctl -u abc-webserver\r\n\r\n    Mar 01 15:34:45 rc5abcco systemd[1]: abc-webserver.service: main process exited, code=killed, status=6/ABRT\r\n    Mar 01 15:34:45 rc5abcco systemd[1]: Unit abc-webserver.service entered failed state.\r\n    Mar 01 15:34:45 rc5abcco systemd[1]: abc-webserver.service failed.\r\n    Mar 01 15:35:00 rc5abcco systemd[1]: abc-webserver.service holdoff time over, scheduling restart.\r\n    Mar 01 15:35:00 rc5abcco systemd[1]: Stopped The abc Webserver Service.\r\n    Mar 01 15:35:00 rc5abcco systemd[1]: Starting The abc Webserver Service...\r\n    Mar 01 15:35:12 rc5abcco abc_smf_start_stop.sh[2532]: webserver is running OK\r\n    Mar 01 15:35:12 rc5abcco systemd[1]: Started The abc Webserver Service.\r\n    Mar 01 22:33:36 rc5abcco systemd[1]: abc-webserver.service: main process exited, code=killed, status=6/ABRT\r\n    Mar 01 22:33:36 rc5abcco systemd[1]: Unit abc-webserver.service entered failed state.\r\n    Mar 01 22:33:36 rc5abcco systemd[1]: abc-webserver.service failed.\r\n    Mar 01 22:33:51 rc5abcco systemd[1]: abc-webserver.service holdoff time over, scheduling restart.\r\n    Mar 01 22:33:51 rc5abcco systemd[1]: Stopped The abc Webserver Service.\r\n    Mar 01 22:33:51 rc5abcco systemd[1]: Starting The abc Webserver Service...\r\n    Mar 01 22:34:02 rc5abcco abc_smf_start_stop.sh[44678]: webserver is running OK\r\n    Mar 01 22:34:02 rc5abcco systemd[1]: Started The abc Webserver Service.\r\n    .\r\n    .\r\n    .\r\n    Jun 01 09:48:58 rc5abcco systemd[1]: Stopped The abc Webserver Service.\r\n    Jun 01 09:49:10 rc5abcco systemd[1]: Started The abcWebserver Service\r\n\r\n&lt;/pre&gt;\r\n\r\n**Catalina.out**\r\n&lt;pre&gt;\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007fe638000368, pid=54728, tid=0x00007fe625309700\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_333-b31) (build 1.8.0_333-b31)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.333-b31 mixed mode linux-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  0x00007fe638000368\r\n    #\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /tmp/hs_err_pid54728.log\r\n    [thread 140626492360448 also had an error]\r\n    [thread 140626582980352 also had an error][thread 140626573510400 also had an error][thread 140626420045568 also had an error][thread 140626442094336 also had an error]\r\n    \r\n    \r\n    \r\n    [thread 140626437883648 also had an error]\r\n    [thread 140626548127488 also had an error][thread 140626414782208 also had an error][thread 140626567083776 also had an error]\r\n    \r\n    \r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    Jun 01, 2023 9:49:00 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server} Setting property &#39;command&#39; to &#39;SHUTDOWN&#39; did not find a matching property.\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.mbeans.AbcGlobalResourcesLifecycleListener &lt;init&gt;\r\n    INFO: AbcUserDatabaseMbean descriptor loaded\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version name:   Apache Tomcat\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          May 16 2022 15:36:23 UTC\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version number: 0.0.0.0\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Linux\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            3.10.0-1160.80.1.el7.x86_64\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          amd64\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             /abc/sw/runtime/jdk1.8.0_333/jre\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           1.8.0_333-b31\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         /abc/sw/runtime/apache-tomcat-8.5.79\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         /abc/sw/runtime/apache-tomcat-8.5.79\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Xmx512M\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DHEAP_SIZE=512M\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dpname=WebServer\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.endorsed.dirs=\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=/abc/sw/runtime/tomcat\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=/abc/sw/runtime/tomcat\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.io.tmpdir=/abc/sw/runtime/tomcat/temp\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DLOG_DIR=/abc/log/sw_log\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DCONF_DIR=/abc/sw/conf\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -DRT_DIR=/abc/sw/runtime\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.rmi.server.codebase=file:///abc/sw/platform/common-R29H01_EC01b1486/dclib/common.jar file:///abc/sw/platform/engine-R32H01_EC05b3632/dclib/engine.jar file:///abc/sw/platform/licensing-R26G01b491/dclib/licensing.jar file:///abc/sw/platform/scheduler-R25H04b525/dclib/scheduler.jar file:///abc/sw/platform/symboliclinkcreator-R19H09_EC02b369/dclib/symboliclinkcreator.jar\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dlog4j2.configurationFile=file:/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui/conf/adminui.properties\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    Jun 01, 2023 9:49:00 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 678 ms\r\n    Jun 01, 2023 9:49:00 AM com.abcdef.catalina.users.AbcUserDatabaseFactory getObjectInstance\r\n    INFO: ABC UserDatabase successfully created.\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Catalina]\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet engine: [Apache Tomcat]\r\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT]\r\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT] has finished in [616] ms\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager]\r\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager] has finished in [53] ms\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager]\r\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager] has finished in [56] ms\r\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui]\r\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui] has finished in [1,244] ms\r\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg]\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg] has finished in [13,051] ms\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller]\r\n    Jun 01, 2023 9:49:16 AM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller] has finished in [274] ms\r\n    Jun 01, 2023 9:49:16 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 15359 ms\r\n\r\n&lt;/pre&gt;\r\n\r\n**hs_err_pid54728.log**\r\n\r\n&lt;pre&gt;\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=**0x00007fe638000368**, pid=54728, tid=0x00007fe625309700\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_333-b31) (build 1.8.0_333-b31)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.333-b31 mixed mode linux-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  **0x00007fe638000368**\r\n    #\r\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    \r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread (0x00007fe641393800):  JavaThread &quot;https-jsse-nio-8443-exec-15121&quot; daemon [_thread_in_native, id=63271, stack(0x00007fe625209000,0x00007fe62530a000)]\r\n    \r\n    siginfo: si_signo: 11 (SIGSEGV), si_code: 2 (SEGV_ACCERR), si_addr: **0x00007fe638000368**\r\n    \r\n    Registers:\r\n    RAX=0x00007fe638000318, RBX=0x00000000a010000a, RCX=0x0000000000000010, RDX=0x00007fe625307bc8\r\n    RSP=0x00007fe625307ba8, RBP=0x00007fe625307c18, RSI=0x00007fe638f80fc0, RDI=0x00007fe638daf530\r\n    R8 =0x0000000000000000, R9 =0x0000000004000001, R10=0x0000000000000001, R11=0x0000000000000283\r\n    R12=0x00007fe641393a00, R13=0x00000000fc9669b0, R14=0x0000000000000000, R15=0x00007fe641393800\r\n    RIP=**0x00007fe638000368**, EFLAGS=0x0000000000010206, CSGSFS=0x0000000000000033, ERR=0x0000000000000015\r\n      TRAPNO=0x000000000000000e\r\n    \r\n    Top of Stack: (sp=0x00007fe625307ba8)\r\n    0x00007fe625307ba8:   00007fe62bf81fec 00007fe625307c18\r\n    0x00007fe625307bb8:   00007fe638f80fc0 00007fe638f80fc0\r\n    0x00007fe625307bc8:   0000000000000042 0000000000000042\r\n    0x00007fe625307bd8:   00007fe638daf530 00007fe62f31e950\r\n    0x00007fe625307be8:   00007fe625307c50 0000000000000000\r\n\r\n&lt;/pre&gt;","title":"Tomcat web server restarts automatically","body":"<p>We have Tomcat web server as a service that has 4 web applications deployed on it. One of them is ALARMCFG, an alarm reporting application.\nSometimes this web server is restarting automatically, we don't have anything logged in the logs of deployed applications.</p>\n<p>Want to know the reason of this web server restart. The frequency is random, sometimes daily, sometimes twice a day, sometimes twice a week.\nCan someone help in understanding what is the problem and what else has to be checked.</p>\n<ul>\n<li>Java version - jdk1.8.0_333</li>\n<li>Tomcat version - apache-tomcat-8.5.79</li>\n</ul>\n<p><strong>web server restart logs</strong></p>\n<pre>\n\n    {root} #: journalctl -u abc-webserver\n\n    Mar 01 15:34:45 rc5abcco systemd[1]: abc-webserver.service: main process exited, code=killed, status=6/ABRT\n    Mar 01 15:34:45 rc5abcco systemd[1]: Unit abc-webserver.service entered failed state.\n    Mar 01 15:34:45 rc5abcco systemd[1]: abc-webserver.service failed.\n    Mar 01 15:35:00 rc5abcco systemd[1]: abc-webserver.service holdoff time over, scheduling restart.\n    Mar 01 15:35:00 rc5abcco systemd[1]: Stopped The abc Webserver Service.\n    Mar 01 15:35:00 rc5abcco systemd[1]: Starting The abc Webserver Service...\n    Mar 01 15:35:12 rc5abcco abc_smf_start_stop.sh[2532]: webserver is running OK\n    Mar 01 15:35:12 rc5abcco systemd[1]: Started The abc Webserver Service.\n    Mar 01 22:33:36 rc5abcco systemd[1]: abc-webserver.service: main process exited, code=killed, status=6/ABRT\n    Mar 01 22:33:36 rc5abcco systemd[1]: Unit abc-webserver.service entered failed state.\n    Mar 01 22:33:36 rc5abcco systemd[1]: abc-webserver.service failed.\n    Mar 01 22:33:51 rc5abcco systemd[1]: abc-webserver.service holdoff time over, scheduling restart.\n    Mar 01 22:33:51 rc5abcco systemd[1]: Stopped The abc Webserver Service.\n    Mar 01 22:33:51 rc5abcco systemd[1]: Starting The abc Webserver Service...\n    Mar 01 22:34:02 rc5abcco abc_smf_start_stop.sh[44678]: webserver is running OK\n    Mar 01 22:34:02 rc5abcco systemd[1]: Started The abc Webserver Service.\n    .\n    .\n    .\n    Jun 01 09:48:58 rc5abcco systemd[1]: Stopped The abc Webserver Service.\n    Jun 01 09:49:10 rc5abcco systemd[1]: Started The abcWebserver Service\n\n</pre>\n<p><strong>Catalina.out</strong></p>\n<pre>\n\n    # A fatal error has been detected by the Java Runtime Environment:\n    #\n    #  SIGSEGV (0xb) at pc=0x00007fe638000368, pid=54728, tid=0x00007fe625309700\n    #\n    # JRE version: Java(TM) SE Runtime Environment (8.0_333-b31) (build 1.8.0_333-b31)\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.333-b31 mixed mode linux-amd64 compressed oops)\n    # Problematic frame:\n    # C  0x00007fe638000368\n    #\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again\n    #\n    # An error report file with more information is saved as:\n    # /tmp/hs_err_pid54728.log\n    [thread 140626492360448 also had an error]\n    [thread 140626582980352 also had an error][thread 140626573510400 also had an error][thread 140626420045568 also had an error][thread 140626442094336 also had an error]\n    \n    \n    \n    [thread 140626437883648 also had an error]\n    [thread 140626548127488 also had an error][thread 140626414782208 also had an error][thread 140626567083776 also had an error]\n    \n    \n    #\n    # If you would like to submit a bug report, please visit:\n    #   http://bugreport.java.com/bugreport/crash.jsp\n    # The crash happened outside the Java Virtual Machine in native code.\n    # See problematic frame for where to report the bug.\n    #\n    Jun 01, 2023 9:49:00 AM org.apache.tomcat.util.digester.SetPropertiesRule begin\n    WARNING: [SetPropertiesRule]{Server} Setting property 'command' to 'SHUTDOWN' did not find a matching property.\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.mbeans.AbcGlobalResourcesLifecycleListener \n    INFO: AbcUserDatabaseMbean descriptor loaded\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Server version name:   Apache Tomcat\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Server built:          May 16 2022 15:36:23 UTC\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Server version number: 0.0.0.0\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: OS Name:               Linux\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: OS Version:            3.10.0-1160.80.1.el7.x86_64\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Architecture:          amd64\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Java Home:             /abc/sw/runtime/jdk1.8.0_333/jre\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: JVM Version:           1.8.0_333-b31\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: JVM Vendor:            Oracle Corporation\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: CATALINA_BASE:         /abc/sw/runtime/apache-tomcat-8.5.79\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: CATALINA_HOME:         /abc/sw/runtime/apache-tomcat-8.5.79\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Xmx512M\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DHEAP_SIZE=512M\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dpname=WebServer\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.endorsed.dirs=\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dcatalina.base=/abc/sw/runtime/tomcat\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dcatalina.home=/abc/sw/runtime/tomcat\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.io.tmpdir=/abc/sw/runtime/tomcat/temp\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DLOG_DIR=/abc/log/sw_log\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DCONF_DIR=/abc/sw/conf\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -DRT_DIR=/abc/sw/runtime\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.rmi.server.codebase=file:///abc/sw/platform/common-R29H01_EC01b1486/dclib/common.jar file:///abc/sw/platform/engine-R32H01_EC05b3632/dclib/engine.jar file:///abc/sw/platform/licensing-R26G01b491/dclib/licensing.jar file:///abc/sw/platform/scheduler-R25H04b525/dclib/scheduler.jar file:///abc/sw/platform/symboliclinkcreator-R19H09_EC02b369/dclib/symboliclinkcreator.jar\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.VersionLoggerListener log\n    INFO: Command line argument: -Dlog4j2.configurationFile=file:/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui/conf/adminui.properties\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\n    Jun 01, 2023 9:49:00 AM org.apache.coyote.AbstractProtocol init\n    INFO: Initializing ProtocolHandler [\"https-jsse-nio-8443\"]\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.Catalina load\n    INFO: Initialization processed in 678 ms\n    Jun 01, 2023 9:49:00 AM com.abcdef.catalina.users.AbcUserDatabaseFactory getObjectInstance\n    INFO: ABC UserDatabase successfully created.\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardService startInternal\n    INFO: Starting service [Catalina]\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.core.StandardEngine startInternal\n    INFO: Starting Servlet engine: [Apache Tomcat]\n    Jun 01, 2023 9:49:00 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT]\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/ROOT] has finished in [616] ms\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager]\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/host-manager] has finished in [53] ms\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager]\n    Jun 01, 2023 9:49:01 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/manager] has finished in [56] ms\n    Jun 01, 2023 9:49:01 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui]\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/adminui] has finished in [1,244] ms\n    Jun 01, 2023 9:49:02 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg]\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/alarmcfg] has finished in [13,051] ms\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deploying web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller]\n    Jun 01, 2023 9:49:16 AM org.apache.jasper.servlet.TldScanner scanJars\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.HostConfig deployDirectory\n    INFO: Deployment of web application directory [/abc/sw/runtime/apache-tomcat-8.5.79/webapps/universeupdateinstaller] has finished in [274] ms\n    Jun 01, 2023 9:49:16 AM org.apache.coyote.AbstractProtocol start\n    INFO: Starting ProtocolHandler [\"https-jsse-nio-8443\"]\n    Jun 01, 2023 9:49:16 AM org.apache.catalina.startup.Catalina start\n    INFO: Server startup in 15359 ms\n\n</pre>\n<p><strong>hs_err_pid54728.log</strong></p>\n<pre>\n\n    # A fatal error has been detected by the Java Runtime Environment:\n    #\n    #  SIGSEGV (0xb) at pc=**0x00007fe638000368**, pid=54728, tid=0x00007fe625309700\n    #\n    # JRE version: Java(TM) SE Runtime Environment (8.0_333-b31) (build 1.8.0_333-b31)\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.333-b31 mixed mode linux-amd64 compressed oops)\n    # Problematic frame:\n    # C  **0x00007fe638000368**\n    #\n    # Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again\n    #\n    # If you would like to submit a bug report, please visit:\n    #   http://bugreport.java.com/bugreport/crash.jsp\n    # The crash happened outside the Java Virtual Machine in native code.\n    # See problematic frame for where to report the bug.\n    #\n    \n    ---------------  T H R E A D  ---------------\n    \n    Current thread (0x00007fe641393800):  JavaThread \"https-jsse-nio-8443-exec-15121\" daemon [_thread_in_native, id=63271, stack(0x00007fe625209000,0x00007fe62530a000)]\n    \n    siginfo: si_signo: 11 (SIGSEGV), si_code: 2 (SEGV_ACCERR), si_addr: **0x00007fe638000368**\n    \n    Registers:\n    RAX=0x00007fe638000318, RBX=0x00000000a010000a, RCX=0x0000000000000010, RDX=0x00007fe625307bc8\n    RSP=0x00007fe625307ba8, RBP=0x00007fe625307c18, RSI=0x00007fe638f80fc0, RDI=0x00007fe638daf530\n    R8 =0x0000000000000000, R9 =0x0000000004000001, R10=0x0000000000000001, R11=0x0000000000000283\n    R12=0x00007fe641393a00, R13=0x00000000fc9669b0, R14=0x0000000000000000, R15=0x00007fe641393800\n    RIP=**0x00007fe638000368**, EFLAGS=0x0000000000010206, CSGSFS=0x0000000000000033, ERR=0x0000000000000015\n      TRAPNO=0x000000000000000e\n    \n    Top of Stack: (sp=0x00007fe625307ba8)\n    0x00007fe625307ba8:   00007fe62bf81fec 00007fe625307c18\n    0x00007fe625307bb8:   00007fe638f80fc0 00007fe638f80fc0\n    0x00007fe625307bc8:   0000000000000042 0000000000000042\n    0x00007fe625307bd8:   00007fe638daf530 00007fe62f31e950\n    0x00007fe625307be8:   00007fe625307c50 0000000000000000\n\n</pre>\n"},{"tags":["java","apache-spark","runtime.exec"],"comments":[{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1473689813,"post_id":35866640,"comment_id":66226237,"body_markdown":"please look at my answer. Which worked for us..","body":"please look at my answer. Which worked for us.."},{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1473761677,"post_id":35866640,"comment_id":66255021,"body_markdown":"was it helpful?","body":"was it helpful?"}],"answers":[{"comments":[{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1473703221,"post_id":35868587,"comment_id":66233322,"body_markdown":": are there any other options as well ?","body":": are there any other options as well ?"}],"tags":[],"owner":{"account_id":5775511,"reputation":3662,"user_id":4557663,"display_name":"Sandeep Purohit"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685704486,"creation_date":1457443331,"answer_id":35868587,"question_id":35866640,"body_markdown":"You can send a spark job as `spark-submit` with the help of Java&#39;s `SparkLauncher` class.  Check it out at\r\n\r\nhttps://spark.apache.org/docs/1.4.0/api/java/org/apache/spark/launcher/SparkLauncher.html","title":"Execute spark-submit programmatically from java","body":"<p>You can send a spark job as <code>spark-submit</code> with the help of Java's <code>SparkLauncher</code> class.  Check it out at</p>\n<p><a href=\"https://spark.apache.org/docs/1.4.0/api/java/org/apache/spark/launcher/SparkLauncher.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/1.4.0/api/java/org/apache/spark/launcher/SparkLauncher.html</a></p>\n"},{"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473690697,"creation_date":1473688404,"answer_id":39451973,"question_id":35866640,"body_markdown":"One way is Spark launcher as told by @Sandeep Purohit\r\n\r\n I&#39;d offer shell script approach with nohup command to submit job like this...\r\n\r\n&gt; This worked for me incase of mapreduce executions... same way you can\r\n&gt; try for spark background jobs as well.\r\n\r\nHave a look https://en.wikipedia.org/wiki/Nohup\r\n&quot;`nohup spark-submit &lt;parameters&gt; 2&gt;&amp;1 &lt; /dev/null &amp;`&quot;\r\n\r\nWhen ever, you get messages then you can poll that event and call this shell script. Below is the code snippet to do this... \r\n\r\n    /**\r\n         * This method is to spark submit\r\n         * &lt;pre&gt; You can call spark-submit or mapreduce job on the fly like this.. by calling shell script... &lt;/pre&gt;\r\n         * @param commandToExecute String \r\n         */\r\n        public static Boolean executeCommand(final String commandToExecute) {\r\n            try {\r\n                final Runtime rt = Runtime.getRuntime();\r\n                // LOG.info(&quot;process command -- &quot; + commandToExecute);\r\n                final String[] arr = { &quot;/bin/sh&quot;, &quot;-c&quot;, commandToExecute};\r\n                final Process proc = rt.exec(arr);\r\n                // LOG.info(&quot;process started &quot;);\r\n                final int exitVal = proc.waitFor();\r\n                LOG.trace(&quot; commandToExecute exited with code: &quot; + exitVal);\r\n                proc.destroy();\r\n    \r\n            } catch (final Exception e) {\r\n                LOG.error(&quot;Exception occurred while Launching process : &quot; + e.getMessage());\r\n                return Boolean.FALSE;\r\n            }\r\n                 return Boolean.TRUE;\r\n        }\r\n\r\n\r\nMoreover to debug \r\n\r\n    ps -aef | grep &quot;your pid or process name&quot;\r\n\r\nBelow command will list the open files opened by the process..\r\n\r\n    lsof -p &lt;your process id &gt; \r\n\r\n\r\nAlso, have a look at https://stackoverflow.com/questions/5483830/process-waitfor-never-returns","title":"Execute spark-submit programmatically from java","body":"<p>One way is Spark launcher as told by @Sandeep Purohit</p>\n\n<p>I'd offer shell script approach with nohup command to submit job like this...</p>\n\n<blockquote>\n  <p>This worked for me incase of mapreduce executions... same way you can\n  try for spark background jobs as well.</p>\n</blockquote>\n\n<p>Have a look <a href=\"https://en.wikipedia.org/wiki/Nohup\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Nohup</a>\n\"<code>nohup spark-submit &lt;parameters&gt; 2&gt;&amp;1 &lt; /dev/null &amp;</code>\"</p>\n\n<p>When ever, you get messages then you can poll that event and call this shell script. Below is the code snippet to do this... </p>\n\n<pre><code>/**\n     * This method is to spark submit\n     * &lt;pre&gt; You can call spark-submit or mapreduce job on the fly like this.. by calling shell script... &lt;/pre&gt;\n     * @param commandToExecute String \n     */\n    public static Boolean executeCommand(final String commandToExecute) {\n        try {\n            final Runtime rt = Runtime.getRuntime();\n            // LOG.info(\"process command -- \" + commandToExecute);\n            final String[] arr = { \"/bin/sh\", \"-c\", commandToExecute};\n            final Process proc = rt.exec(arr);\n            // LOG.info(\"process started \");\n            final int exitVal = proc.waitFor();\n            LOG.trace(\" commandToExecute exited with code: \" + exitVal);\n            proc.destroy();\n\n        } catch (final Exception e) {\n            LOG.error(\"Exception occurred while Launching process : \" + e.getMessage());\n            return Boolean.FALSE;\n        }\n             return Boolean.TRUE;\n    }\n</code></pre>\n\n<p>Moreover to debug </p>\n\n<pre><code>ps -aef | grep \"your pid or process name\"\n</code></pre>\n\n<p>Below command will list the open files opened by the process..</p>\n\n<pre><code>lsof -p &lt;your process id &gt; \n</code></pre>\n\n<p>Also, have a look at <a href=\"https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\">process.waitFor() never returns</a></p>\n"}],"owner":{"account_id":1907886,"reputation":2022,"user_id":1722380,"accept_rate":56,"display_name":"Łukasz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4116,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1685704486,"creation_date":1457437914,"question_id":35866640,"body_markdown":"I am trying to execute it via:\r\n\r\n    Process process = Runtime.getRuntime().exec(spark_cmd);\r\n\r\nwith no luck. The command ran via shell starts my application which succeeds. Running it via exec start a process which dies shortly after and does nothing.\r\nWhen I try\r\n\r\n    process.waitFor();\r\n\r\nit hangs and waits forever. Real magic begins when I try to read something from the process:\r\n\r\n     InputStreamReader isr = new InputStreamReader(process.getErrorStream());\r\n     BufferedReader br = new BufferedReader(isr);\r\n\r\nTo do so I start a thread that reads from the stream in a while loop:\r\n\r\n    class ReadingThread extends Thread {\r\n       \r\n       BufferedReader reader;\r\n       Wontekk(BufferedReader reader) {\r\n          this.reader = reader;\r\n    \r\n       }\r\n       \r\n       @Override\r\n       public void run() {\r\n          String line;\r\n          try {\r\n             while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n             }\r\n          } catch (IOException e) {\r\n             // TODO Auto-generated catch block\r\n             e.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\nApplication starts, does some stuff, and hangs. When I abort my application, spark application wakes up (??????????) and completes remaining work. Does anyone have reasonable explanation of what is happening?\r\n\r\nthanks","title":"Execute spark-submit programmatically from java","body":"<p>I am trying to execute it via:</p>\n\n<pre><code>Process process = Runtime.getRuntime().exec(spark_cmd);\n</code></pre>\n\n<p>with no luck. The command ran via shell starts my application which succeeds. Running it via exec start a process which dies shortly after and does nothing.\nWhen I try</p>\n\n<pre><code>process.waitFor();\n</code></pre>\n\n<p>it hangs and waits forever. Real magic begins when I try to read something from the process:</p>\n\n<pre><code> InputStreamReader isr = new InputStreamReader(process.getErrorStream());\n BufferedReader br = new BufferedReader(isr);\n</code></pre>\n\n<p>To do so I start a thread that reads from the stream in a while loop:</p>\n\n<pre><code>class ReadingThread extends Thread {\n\n   BufferedReader reader;\n   Wontekk(BufferedReader reader) {\n      this.reader = reader;\n\n   }\n\n   @Override\n   public void run() {\n      String line;\n      try {\n         while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n         }\n      } catch (IOException e) {\n         // TODO Auto-generated catch block\n         e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n\n<p>Application starts, does some stuff, and hangs. When I abort my application, spark application wakes up (??????????) and completes remaining work. Does anyone have reasonable explanation of what is happening?</p>\n\n<p>thanks</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685531259,"post_id":76372815,"comment_id":134672259,"body_markdown":"For clarification, it appears you are using the word “row” to describe a sequence of contiguous int values.  Is that correct?","body":"For clarification, it appears you are using the word “row” to describe a sequence of contiguous int values.  Is that correct?"},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1685531268,"post_id":76372815,"comment_id":134672261,"body_markdown":"Please take some time to refresh [the help pages](http://stackoverflow.com/help), take the SO [tour], read [ask], as well as [how to write the &quot;perfect&quot; question](https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/), especially its [checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/). And don&#39;t forget how to create a [mre] of your own attempt to show us.","body":"Please take some time to refresh <a href=\"http://stackoverflow.com/help\">the help pages</a>, take the SO <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, as well as <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">how to write the &quot;perfect&quot; question</a>, especially its <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">checklist</a>. And don&#39;t forget how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your own attempt to show us."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1685531365,"post_id":76372815,"comment_id":134672283,"body_markdown":"You have to sort the array to find consecutive values.  Loop through the array once, from zero to length - 2, comparing two values.  if value[index] == value[index + 1] + 1, increment a counter.  Return true if the counter &gt;= 4.","body":"You have to sort the array to find consecutive values.  Loop through the array once, from zero to length - 2, comparing two values.  if value[index] == value[index + 1] + 1, increment a counter.  Return true if the counter &gt;= 4."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685531411,"post_id":76372815,"comment_id":134672293,"body_markdown":"Does the incrementing sequence have to be there before or after sorting for the condition to be true? Or just anywhere? Would you consider 6, 7, 8, 9 a sequence if the array contained 6, 7, 7, 8, 8, 9?","body":"Does the incrementing sequence have to be there before or after sorting for the condition to be true? Or just anywhere? Would you consider 6, 7, 8, 9 a sequence if the array contained 6, 7, 7, 8, 8, 9?"},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1685531467,"post_id":76372815,"comment_id":134672305,"body_markdown":"As for your problem, is it *only* for the number `6`, `7`, `8` and `9`? Or any sequence of four numbers which are contiguous?","body":"As for your problem, is it <i>only</i> for the number <code>6</code>, <code>7</code>, <code>8</code> and <code>9</code>? Or any sequence of four numbers which are contiguous?"},{"owner":{"account_id":20016183,"reputation":13,"user_id":14672126,"display_name":"Sogaria"},"score":0,"creation_date":1685531930,"post_id":76372815,"comment_id":134672398,"body_markdown":"@VGR Yes thats correct. With the word &quot;row&quot; I mean a sequence of contiguous int values.","body":"@VGR Yes thats correct. With the word &quot;row&quot; I mean a sequence of contiguous int values."},{"owner":{"account_id":20016183,"reputation":13,"user_id":14672126,"display_name":"Sogaria"},"score":0,"creation_date":1685531937,"post_id":76372815,"comment_id":134672399,"body_markdown":"@Some programmer dude  No, for any given sequence of integer values. My code is a bit messy so I just used an example array in my question.","body":"@Some programmer dude  No, for any given sequence of integer values. My code is a bit messy so I just used an example array in my question."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1685533351,"post_id":76372815,"comment_id":134672729,"body_markdown":"If the array was `{4,3,1,7,8,9,6}`, would `6,7,8,9` still be &quot;the row&quot;? (I ask because you said you sorted them, which destroys any ordering of the original array).","body":"If the array was <code>{4,3,1,7,8,9,6}</code>, would <code>6,7,8,9</code> still be &quot;the row&quot;? (I ask because you said you sorted them, which destroys any ordering of the original array)."},{"owner":{"account_id":20016183,"reputation":13,"user_id":14672126,"display_name":"Sogaria"},"score":0,"creation_date":1685536785,"post_id":76372815,"comment_id":134673616,"body_markdown":"@Andy Turner Yes, I will edit the question to hopefully make it more clear","body":"@Andy Turner Yes, I will edit the question to hopefully make it more clear"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685776091,"post_id":76372815,"comment_id":134711309,"body_markdown":"If you’re not required to do it completely &quot;by hand&quot;, one may use [`BitSet`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/BitSet.html) and it [`nextSetBit`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/BitSet.html#nextSetBit(int)) and `nextClearBit` methods. We’d still need an algorithm, but we would not need sorting first, and duplicates would be ignored automatically.","body":"If you’re not required to do it completely &quot;by hand&quot;, one may use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><code>BitSet</code></a> and it <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/BitSet.html#nextSetBit(int)\" rel=\"nofollow noreferrer\"><code>nextSetBit</code></a> and <code>nextClearBit</code> methods. We’d still need an algorithm, but we would not need sorting first, and duplicates would be ignored automatically."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685967718,"post_id":76372815,"comment_id":134730359,"body_markdown":"[My code using `BitSet` running online](https://rextester.com/DURW40957). If you need to allow duplicate entries (which you will typically have from rolling a dice), I recommend it.","body":"<a href=\"https://rextester.com/DURW40957\" rel=\"nofollow noreferrer\">My code using <code>BitSet</code> running online</a>. If you need to allow duplicate entries (which you will typically have from rolling a dice), I recommend it."}],"answers":[{"comments":[{"owner":{"account_id":18958423,"reputation":377,"user_id":13834503,"display_name":"egemenakturk"},"score":0,"creation_date":1685540870,"post_id":76373366,"comment_id":134674641,"body_markdown":"actually else if statement is important. If you remove that part. It will detect not Consecutive dice. And if it worked if u approve or upvote it will be appreciated.","body":"actually else if statement is important. If you remove that part. It will detect not Consecutive dice. And if it worked if u approve or upvote it will be appreciated."},{"owner":{"account_id":20016183,"reputation":13,"user_id":14672126,"display_name":"Sogaria"},"score":0,"creation_date":1685541257,"post_id":76373366,"comment_id":134674737,"body_markdown":"Ehm yea I realized that because 1 2 3 5 6 would actually return true aswell. But else statement instead of else if should work aswell because its just the opposite right.\n\nAlso I tried to upvote your answer but apparently I need more reputation to upvote.","body":"Ehm yea I realized that because 1 2 3 5 6 would actually return true aswell. But else statement instead of else if should work aswell because its just the opposite right.  Also I tried to upvote your answer but apparently I need more reputation to upvote."},{"owner":{"account_id":18958423,"reputation":377,"user_id":13834503,"display_name":"egemenakturk"},"score":0,"creation_date":1685546874,"post_id":76373366,"comment_id":134676253,"body_markdown":"Can u approve the answer or not? If you cant it&#39;s okay buddy. Have a good day. I am happy to help. And if your question is already closed. It will not be changed if you edit. You have to ask another question","body":"Can u approve the answer or not? If you cant it&#39;s okay buddy. Have a good day. I am happy to help. And if your question is already closed. It will not be changed if you edit. You have to ask another question"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1685697736,"post_id":76373366,"comment_id":134700446,"body_markdown":"You could make this answer better by explaining why OP had problems with their approach, and why the changes you have made do what is required.","body":"You could make this answer better by explaining why OP had problems with their approach, and why the changes you have made do what is required."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685710335,"post_id":76373366,"comment_id":134703016,"body_markdown":"One, I would love some explanation to be added to the answer. What failed in to OP’s code and what changes were made and how they fixed it. Two, your code returns `true` for [ 2, 3, 4, 5 ]. A bit to my surprise it returned `false` for [ 5, 4, 3, 2 ] and for [ 2, 3, 3, 4, 4, 5 ].","body":"One, I would love some explanation to be added to the answer. What failed in to OP’s code and what changes were made and how they fixed it. Two, your code returns <code>true</code> for [ 2, 3, 4, 5 ]. A bit to my surprise it returned <code>false</code> for [ 5, 4, 3, 2 ] and for [ 2, 3, 3, 4, 4, 5 ]."},{"owner":{"account_id":18958423,"reputation":377,"user_id":13834503,"display_name":"egemenakturk"},"score":0,"creation_date":1685952508,"post_id":76373366,"comment_id":134727231,"body_markdown":"@AndyTurner you are right but the problem is when I answered the question there were no code pieces provided by the Sogaria. That&#39;s why I didn&#39;t explains the problem with their approach and what I made the changes :D","body":"@AndyTurner you are right but the problem is when I answered the question there were no code pieces provided by the Sogaria. That&#39;s why I didn&#39;t explains the problem with their approach and what I made the changes :D"},{"owner":{"account_id":18958423,"reputation":377,"user_id":13834503,"display_name":"egemenakturk"},"score":0,"creation_date":1685952683,"post_id":76373366,"comment_id":134727253,"body_markdown":"@OleV.V. before the question was not updated. Sogaria was asking for ascending consecutive integers. That&#39;s why I did not take into account the [5,4,3,2] case. The [2,3,3,4,4,5] case should return false.","body":"@OleV.V. before the question was not updated. Sogaria was asking for ascending consecutive integers. That&#39;s why I did not take into account the [5,4,3,2] case. The [2,3,3,4,4,5] case should return false."}],"tags":[],"owner":{"account_id":18958423,"reputation":377,"user_id":13834503,"display_name":"egemenakturk"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685535066,"creation_date":1685535066,"answer_id":76373366,"question_id":76372815,"body_markdown":"I think this will be your solution.\r\n\r\n     public static boolean findConsecutiveDice(int[] arr) {\r\n        int streak = 1;\r\n        for (int i = 0 ; i &lt; arr.length-1 ; i++ ){\r\n\r\n            if (arr[i+1]  == arr[i] + 1  ){\r\n                streak++;\r\n            }\r\n\r\n            else if (streak&gt;1 &amp;&amp; arr[i+1]  != arr[i] + 1  ){\r\n                streak = 1;\r\n            }\r\n            if (streak == 4){\r\n                return true;\r\n            }\r\n    }\r\n        return false;\r\n    }\r\n\r\nI have tested some cases and it worked perfectly but u should test as well. ","title":"How can I determine the length of a row of integers in an array?","body":"<p>I think this will be your solution.</p>\n<pre><code> public static boolean findConsecutiveDice(int[] arr) {\n    int streak = 1;\n    for (int i = 0 ; i &lt; arr.length-1 ; i++ ){\n\n        if (arr[i+1]  == arr[i] + 1  ){\n            streak++;\n        }\n\n        else if (streak&gt;1 &amp;&amp; arr[i+1]  != arr[i] + 1  ){\n            streak = 1;\n        }\n        if (streak == 4){\n            return true;\n        }\n}\n    return false;\n}\n</code></pre>\n<p>I have tested some cases and it worked perfectly but u should test as well.</p>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685697658,"post_id":76388792,"comment_id":134700426,"body_markdown":"This only works if the _last_ consecutive run has length 4 or more. Otherwise, the counter will be reset.","body":"This only works if the <i>last</i> consecutive run has length 4 or more. Otherwise, the counter will be reset."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1685703830,"post_id":76388792,"comment_id":134701679,"body_markdown":"@AndyTurner You&#39;re right.","body":"@AndyTurner You&#39;re right."}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685704334,"creation_date":1685697501,"answer_id":76388792,"question_id":76372815,"body_markdown":"Yes, or simply:\r\n\r\n    public static boolean checkArr(int[] arr) {\r\n        Arrays.sort(arr);\r\n        int counter = 1;\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n            if (arr[i] == arr[i-1] + 1) {\r\n                ++counter;\r\n            } else if (arr[i] != arr[i-1]) {\r\n                counter = 1;\r\n            }\r\n        }\r\n        return counter &gt;= 4;\r\n    }\r\n\r\nUPDATE following @AndyTurner&#39;s comment:\r\n\r\n    public static boolean checkArr(int[] arr) {\r\n        Arrays.sort(arr);\r\n        int counter = 1;\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n            if (arr[i] == arr[i-1] + 1) {\r\n                ++counter;\r\n                if (counter == 4) {\r\n                    return true;\r\n                }\r\n            } else if (arr[i] != arr[i-1]) {\r\n                counter = 1;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nWhich is not very different from @egemenakturk&#39;s solution.\r\n","title":"How can I determine the length of a row of integers in an array?","body":"<p>Yes, or simply:</p>\n<pre><code>public static boolean checkArr(int[] arr) {\n    Arrays.sort(arr);\n    int counter = 1;\n    for (int i = 1; i &lt; arr.length; i++) {\n        if (arr[i] == arr[i-1] + 1) {\n            ++counter;\n        } else if (arr[i] != arr[i-1]) {\n            counter = 1;\n        }\n    }\n    return counter &gt;= 4;\n}\n</code></pre>\n<p>UPDATE following @AndyTurner's comment:</p>\n<pre><code>public static boolean checkArr(int[] arr) {\n    Arrays.sort(arr);\n    int counter = 1;\n    for (int i = 1; i &lt; arr.length; i++) {\n        if (arr[i] == arr[i-1] + 1) {\n            ++counter;\n            if (counter == 4) {\n                return true;\n            }\n        } else if (arr[i] != arr[i-1]) {\n            counter = 1;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Which is not very different from @egemenakturk's solution.</p>\n"}],"owner":{"account_id":20016183,"reputation":13,"user_id":14672126,"display_name":"Sogaria"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76373366,"answer_count":2,"score":0,"last_activity_date":1685704334,"creation_date":1685531011,"question_id":76372815,"body_markdown":"I am currently trying to create a known dice game.\r\n\r\nOne part of it is to roll &amp;ndash; with 5 dice &amp;ndash; four consecutive numbers. With a common dice representing the numbers 1-6, the possibilities would only be:\r\n- 1-2-3-4-X\r\n- 2-3-4-5-X\r\n- 3-4-5-6-X\r\n\r\nI am storing the outcome of the 5 dice in an array, so I want to create a method to check if the integers stored in the array can create a row of at least 4 consecutive integers.\r\n\r\nMy first thought was something like this: \r\n```java\r\npublic static boolean checkArr(int[] arr) {\r\n    Arrays.sort(arr);\r\n    int counter = 1;\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i+1] == arr[i]++) {\r\n            counter++;\r\n        }\r\n    }\r\n    if (counter &gt;= 4) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nIt is not working because `arr[i+1]` is out of bounds for the last index.\r\nHow can I make it work?\r\n","title":"How can I determine the length of a row of integers in an array?","body":"<p>I am currently trying to create a known dice game.</p>\n<p>One part of it is to roll – with 5 dice – four consecutive numbers. With a common dice representing the numbers 1-6, the possibilities would only be:</p>\n<ul>\n<li>1-2-3-4-X</li>\n<li>2-3-4-5-X</li>\n<li>3-4-5-6-X</li>\n</ul>\n<p>I am storing the outcome of the 5 dice in an array, so I want to create a method to check if the integers stored in the array can create a row of at least 4 consecutive integers.</p>\n<p>My first thought was something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean checkArr(int[] arr) {\n    Arrays.sort(arr);\n    int counter = 1;\n    for (int i = 0; i &lt; arr.length; i++) {\n        if (arr[i+1] == arr[i]++) {\n            counter++;\n        }\n    }\n    if (counter &gt;= 4) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>It is not working because <code>arr[i+1]</code> is out of bounds for the last index.\nHow can I make it work?</p>\n"},{"tags":["java","android","gradle","groovy","android-gradle-plugin"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685710166,"post_id":76389627,"comment_id":134702986,"body_markdown":"What is a &quot;slightly old tablet&quot; for you? A tablet running Android 5 or older? Please tell us the running Android version. Note that usually the gradle version has no direct effect on which devices can run the app.","body":"What is a &quot;slightly old tablet&quot; for you? A tablet running Android 5 or older? Please tell us the running Android version. Note that usually the gradle version has no direct effect on which devices can run the app."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685717875,"post_id":76389627,"comment_id":134704791,"body_markdown":"Note: You should not use such an old Gradle version with Java 20. Better only use Java 8, otherwise you will run into problems with java 20.","body":"Note: You should not use such an old Gradle version with Java 20. Better only use Java 8, otherwise you will run into problems with java 20."}],"owner":{"account_id":28735741,"reputation":21,"user_id":22006821,"display_name":"V1rtual"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685704145,"creation_date":1685704145,"question_id":76389627,"body_markdown":"I&#39;m trying to build my Android application in Android Studio, but I&#39;m encountering the following error:\r\n\r\n```\r\nException java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7\r\n```\r\n\r\nI have done some research, and it seems that this error is related to the initialization of the org.codehaus.groovy.vmplugin.v7.Java7 class. I have tried various solutions, such as updating the Groovy version, and cleaning the Gradle cache, but the issue persists.\r\n\r\nThis is my Android Studio version:\r\n\r\n```\r\nAndroid Studio Flamingo | 2022.2.1 Patch 2\r\nBuild #AI-222.4459.24.2221.10121639, built on May 12, 2023\r\n\r\n\r\nRuntime version: 17.0.6+0-b2043.56-9586694 amd64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n```\r\n\r\nThis is my build.gradle file:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 26\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;es.mobisoft.glopdroidcheff&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 23\r\n        versionCode = 262\r\n        versionName &quot;2.6.2&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\nrepositories {\r\n    maven { url &quot;https://repo.eclipse.org/content/repositories/paho-snapshots/&quot; }\r\n}\r\ndependencies {\r\n    api fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    implementation &#39;com.android.support:appcompat-v7:23.2.1&#39;\r\n    implementation &#39;com.android.support:support-v4:23.2.1&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:23.2.1&#39;\r\n    implementation &#39;com.android.support:design:23.2.1&#39;\r\n    implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;15.0&#39;\r\n    implementation &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:23.1.1&#39;\r\n    implementation &#39;com.jakewharton.threetenabp:threetenabp:1.2.1&#39;\r\n    implementation &#39;com.squareup.okhttp:okhttp:2.5.0&#39;\r\n    implementation group: &#39;org.nanohttpd&#39;, name: &#39;nanohttpd&#39;, version: &#39;2.3.1&#39;\r\n    implementation &#39;org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.0&#39;\r\n    implementation &#39;org.eclipse.paho:org.eclipse.paho.android.service:1.1.1&#39;\r\n    implementation &#39;org.fusesource.mqtt-client:mqtt-client:1.12&#39;\r\n    implementation &#39;com.rabbitmq:amqp-client:4.9.3&#39;\r\n\r\n\r\n} \r\n```\r\n\r\nAlso this is my Java version:\r\n\r\n```\r\nopenjdk version &quot;20.0.1&quot; 2023-04-18\r\nOpenJDK Runtime Environment (build 20.0.1+9-29)\r\nOpenJDK 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\r\n```\r\n\r\nThis my Gradle version:\r\n\r\n```\r\n------------------------------------------------------------\r\nGradle 5.4.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2019-04-26 08:14:42 UTC\r\nRevision:     261d171646b36a6a28d5a19a69676cd098a4c19d\r\n\r\nKotlin:       1.3.21\r\nGroovy:       2.5.4\r\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\r\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9-29)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n\r\nAnd this my Groovy version:\r\n\r\n```\r\nGroovy Version: 4.0.12 JVM: 20.0.1 Vendor: Oracle Corporation OS: Windows 10\r\n```\r\n\r\nI know that there are many posts indicating that this problem can be solved by updating the Gradle version of the project, but this app runs on slightly old tablets and for that reason I can&#39;t perform such an update.\r\n\r\nAlso a coworker, with the same version of gradle and java does not suffer from this error.\r\n\r\nMy coworker use this Android Studio Version : Android Studio Chipmunk | 2021.2.1 Patch 1","title":"How to fix &#39;java.lang.NoClassDefFoundError&#39; error when building an Android app in Android Studio?","body":"<p>I'm trying to build my Android application in Android Studio, but I'm encountering the following error:</p>\n<pre><code>Exception java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7\n</code></pre>\n<p>I have done some research, and it seems that this error is related to the initialization of the org.codehaus.groovy.vmplugin.v7.Java7 class. I have tried various solutions, such as updating the Groovy version, and cleaning the Gradle cache, but the issue persists.</p>\n<p>This is my Android Studio version:</p>\n<pre><code>Android Studio Flamingo | 2022.2.1 Patch 2\nBuild #AI-222.4459.24.2221.10121639, built on May 12, 2023\n\n\nRuntime version: 17.0.6+0-b2043.56-9586694 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\n</code></pre>\n<p>This is my build.gradle file:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '28.0.3'\n\n    defaultConfig {\n        applicationId &quot;es.mobisoft.glopdroidcheff&quot;\n        minSdkVersion 21\n        targetSdkVersion 23\n        versionCode = 262\n        versionName &quot;2.6.2&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\nrepositories {\n    maven { url &quot;https://repo.eclipse.org/content/repositories/paho-snapshots/&quot; }\n}\ndependencies {\n    api fileTree(dir: 'libs', include: ['*.jar'])\n    testImplementation 'junit:junit:4.12'\n    implementation 'com.android.support:appcompat-v7:23.2.1'\n    implementation 'com.android.support:support-v4:23.2.1'\n    implementation 'com.android.support:recyclerview-v7:23.2.1'\n    implementation 'com.android.support:design:23.2.1'\n    implementation group: 'com.google.guava', name: 'guava', version: '15.0'\n    implementation 'com.android.support:appcompat-v7:23.1.1'\n    implementation 'com.android.support:recyclerview-v7:23.1.1'\n    implementation 'com.jakewharton.threetenabp:threetenabp:1.2.1'\n    implementation 'com.squareup.okhttp:okhttp:2.5.0'\n    implementation group: 'org.nanohttpd', name: 'nanohttpd', version: '2.3.1'\n    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.0'\n    implementation 'org.eclipse.paho:org.eclipse.paho.android.service:1.1.1'\n    implementation 'org.fusesource.mqtt-client:mqtt-client:1.12'\n    implementation 'com.rabbitmq:amqp-client:4.9.3'\n\n\n} \n</code></pre>\n<p>Also this is my Java version:</p>\n<pre><code>openjdk version &quot;20.0.1&quot; 2023-04-18\nOpenJDK Runtime Environment (build 20.0.1+9-29)\nOpenJDK 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\n</code></pre>\n<p>This my Gradle version:</p>\n<pre><code>------------------------------------------------------------\nGradle 5.4.1\n------------------------------------------------------------\n\nBuild time:   2019-04-26 08:14:42 UTC\nRevision:     261d171646b36a6a28d5a19a69676cd098a4c19d\n\nKotlin:       1.3.21\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9-29)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>And this my Groovy version:</p>\n<pre><code>Groovy Version: 4.0.12 JVM: 20.0.1 Vendor: Oracle Corporation OS: Windows 10\n</code></pre>\n<p>I know that there are many posts indicating that this problem can be solved by updating the Gradle version of the project, but this app runs on slightly old tablets and for that reason I can't perform such an update.</p>\n<p>Also a coworker, with the same version of gradle and java does not suffer from this error.</p>\n<p>My coworker use this Android Studio Version : Android Studio Chipmunk | 2021.2.1 Patch 1</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-projections"],"answers":[{"comments":[{"owner":{"account_id":20137407,"reputation":11,"user_id":14768067,"display_name":"Sneha Sree Pashikanti"},"score":0,"creation_date":1685632062,"post_id":76381597,"comment_id":134690437,"body_markdown":"Can you pls check the edited question. Based on user clicks on any column either person name or employee name for sorting or filtering dynamically, we need to sort/filter that particular field","body":"Can you pls check the edited question. Based on user clicks on any column either person name or employee name for sorting or filtering dynamically, we need to sort/filter that particular field"},{"owner":{"account_id":20137407,"reputation":11,"user_id":14768067,"display_name":"Sneha Sree Pashikanti"},"score":0,"creation_date":1685681965,"post_id":76381597,"comment_id":134697771,"body_markdown":"In this case, we will have to write 3 queries, 2 for individual column filtering and last one for filtering both columns. Can you please share an alternative like to filter or sort a column dynamically when user selects on it instead of writing multiple queries for filtering each column","body":"In this case, we will have to write 3 queries, 2 for individual column filtering and last one for filtering both columns. Can you please share an alternative like to filter or sort a column dynamically when user selects on it instead of writing multiple queries for filtering each column"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1685689863,"post_id":76381597,"comment_id":134698895,"body_markdown":"For this you need CustomRepoImpl, see https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations","body":"For this you need CustomRepoImpl, see <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":20137407,"reputation":11,"user_id":14768067,"display_name":"Sneha Sree Pashikanti"},"score":0,"creation_date":1685801290,"post_id":76381597,"comment_id":134713591,"body_markdown":"Thanks for the link.You mean we need to create an impl and write multiple queries for each filter? Can you suggest efficient solution for this problem other than writing many queries.","body":"Thanks for the link.You mean we need to create an impl and write multiple queries for each filter? Can you suggest efficient solution for this problem other than writing many queries."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1685818199,"post_id":76381597,"comment_id":134715395,"body_markdown":"You could construct the query in custom repository e.g. by appending filtering/ordering clauses to select depending on arguments","body":"You could construct the query in custom repository e.g. by appending filtering/ordering clauses to select depending on arguments"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1686414972,"post_id":76381597,"comment_id":134796871,"body_markdown":"@SnehaSreePashikanti Pageable has option to pass sort options,\nSee how we create Pageable object wherever you are calling the query\n\n```java\nPageable pageable = PageRequest.of(0, 5, Sort.by(\n    Order.asc(&quot;name&quot;),\n    Order.desc(&quot;id&quot;)));\n```\nYou can also pass existing pageable and create Page\nref:\nhttps://reflectoring.io/spring-boot-paging/\n\nyou will have single query but with `Pageable` variations based on your conditional logic","body":"@SnehaSreePashikanti Pageable has option to pass sort options, See how we create Pageable object wherever you are calling the query  <code>java Pageable pageable = PageRequest.of(0, 5, Sort.by(     Order.asc(&quot;name&quot;),     Order.desc(&quot;id&quot;))); </code> You can also pass existing pageable and create Page ref: <a href=\"https://reflectoring.io/spring-boot-paging/\" rel=\"nofollow noreferrer\">reflectoring.io/spring-boot-paging</a>  you will have single query but with <code>Pageable</code> variations based on your conditional logic"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685647387,"creation_date":1685620477,"answer_id":76381597,"question_id":76380651,"body_markdown":"You could modify existing query with `order by` clause and pass `Pageable`, e.g. here is the example of sorting by employee name: \r\n```java\r\n@Query(&quot;select emp.id,emp.name,p.name from employee emp join person p on emp.personid=p.id order by emp.name&quot;)\r\nPage&lt;YourDto&gt; findAllOrderByEmployyNamePersonName(Pageable pageable);\r\n```\r\nFor filtering by employee name just add `where` clause:\r\n```java\r\n@Query(&quot;select emp.id,emp.name,p.name from employee emp join person p on emp.personid=p.id where emp.name = :empName&quot;)\r\nPage&lt;YourDto&gt; findByEmployeeName(String empName, Pageable pageable);\r\n```","title":"How to support sorting and filtering for a field which is not mapped with another entity using spring boot","body":"<p>You could modify existing query with <code>order by</code> clause and pass <code>Pageable</code>, e.g. here is the example of sorting by employee name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select emp.id,emp.name,p.name from employee emp join person p on emp.personid=p.id order by emp.name&quot;)\nPage&lt;YourDto&gt; findAllOrderByEmployyNamePersonName(Pageable pageable);\n</code></pre>\n<p>For filtering by employee name just add <code>where</code> clause:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select emp.id,emp.name,p.name from employee emp join person p on emp.personid=p.id where emp.name = :empName&quot;)\nPage&lt;YourDto&gt; findByEmployeeName(String empName, Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":20137407,"reputation":11,"user_id":14768067,"display_name":"Sneha Sree Pashikanti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685704104,"creation_date":1685612988,"question_id":76380651,"body_markdown":"I have an entity `Person` which has fields `id,name,email`\r\n\r\nAnother entity `Employee` which has fields `id,name,personid` (stores the string id of person but not mapped with person table)\r\n\r\nNow I want to get paginated list which contains person name, employee id, employee name along with searching and sorting based on person name and employee name dynamically.\r\ni.e., User can sort by person name or employee name and filter by person name or employee name or both\r\n\r\nIn query format we can write,\r\n\r\n```sql\r\nselect emp.id,emp.name,p.name from employee emp join person p on\r\nemp.personid=p.id\r\n```\r\n\r\nThis query returns expected output but to achieve searching and sorting, i&#39;m unable to use projections as personid in Employee entity is not mapped with id of Person entity.\r\n\r\nCriteria builder shouldn&#39;t be used and entities cannot be changed.\r\n\r\nIt would be greatly appreciated if someone could provide a best and optimal solution to get the required paginated result which supports sorting and filtering.","title":"How to support sorting and filtering for a field which is not mapped with another entity using spring boot","body":"<p>I have an entity <code>Person</code> which has fields <code>id,name,email</code></p>\n<p>Another entity <code>Employee</code> which has fields <code>id,name,personid</code> (stores the string id of person but not mapped with person table)</p>\n<p>Now I want to get paginated list which contains person name, employee id, employee name along with searching and sorting based on person name and employee name dynamically.\ni.e., User can sort by person name or employee name and filter by person name or employee name or both</p>\n<p>In query format we can write,</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select emp.id,emp.name,p.name from employee emp join person p on\nemp.personid=p.id\n</code></pre>\n<p>This query returns expected output but to achieve searching and sorting, i'm unable to use projections as personid in Employee entity is not mapped with id of Person entity.</p>\n<p>Criteria builder shouldn't be used and entities cannot be changed.</p>\n<p>It would be greatly appreciated if someone could provide a best and optimal solution to get the required paginated result which supports sorting and filtering.</p>\n"},{"tags":["java","android","ram","memory-consumption"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685701194,"post_id":76389042,"comment_id":134701153,"body_markdown":"@Eldinur I don&#39;t know about Android specifically, but this is untrue for Java in general. If you write methods they will get compiled and they will get included it in the `.class` file, and thus the methods will get loaded if the class gets loaded.","body":"@Eldinur I don&#39;t know about Android specifically, but this is untrue for Java in general. If you write methods they will get compiled and they will get included it in the <code>.class</code> file, and thus the methods will get loaded if the class gets loaded."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685702425,"post_id":76389042,"comment_id":134701405,"body_markdown":"@Eldinur The removal of unused code is done by ProGuard, no? Not the compiler.","body":"@Eldinur The removal of unused code is done by ProGuard, no? Not the compiler."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685702454,"post_id":76389042,"comment_id":134701415,"body_markdown":"Ermm .... why does your app contain lots of code that is never called?  How much code are you actually talking about?","body":"Ermm .... why does your app contain lots of code that is never called?  How much code are you actually talking about?"},{"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"score":0,"creation_date":1685703641,"post_id":76389042,"comment_id":134701645,"body_markdown":"@StephenC because I am trying to unify two projects. Probably like 10 more methods per class. I&#39;ve updated the question to make you understand the issue.","body":"@StephenC because I am trying to unify two projects. Probably like 10 more methods per class. I&#39;ve updated the question to make you understand the issue."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685705898,"post_id":76389042,"comment_id":134702083,"body_markdown":"Roughly how many methods in total?  Roughly how many lines of code that won&#39;t be called?  Hundreds?  Thousands?","body":"Roughly how many methods in total?  Roughly how many lines of code that won&#39;t be called?  Hundreds?  Thousands?"},{"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"score":0,"creation_date":1685706215,"post_id":76389042,"comment_id":134702139,"body_markdown":"Not more than a hundred, yes.","body":"Not more than a hundred, yes."}],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685703586,"creation_date":1685699159,"question_id":76389042,"body_markdown":"I was wondering if having too many methods (performing heavy tasks) unused without being commented out could decrease RAM efficiency as well?\r\n\r\nOf course it will affect the APK size. The reason I am asking is because my app is already being killed by the OS, so I don&#39;t need to make it more &quot;heavier&quot;.\r\n\r\nI just want to be sure that if a method is never called, even though it&#39;s not commented out, it will not affect RAM-consumption.\r\n\r\nEdit:\r\n\r\nBasically at the moment I have two apps (two projects), one for a root version and one for a rootless version, in which I have classes with the same name but with different methods.\r\nSince I not capable to unify the two projects by using flavors (please check here: https://stackoverflow.com/questions/76388315/one-of-source-directories-is-not-marked-as-source-set-when-using-different-flavo) I thought about simply making all the methods in one single class.\r\n\r\nFor instance:\r\n\r\nIn project #1 `com.example.root.MyClass` has `method1()` and `method2()` that are needed for the root version of my app.\r\n\r\nIn project #2 `com.example.rootless.MyClass` has `method3()` and `method4()` that are needed for the rootless version of my app.\r\n\r\nIn the unified project I would just have `com.example.unified.MyClass` with `method1()`, `method2()`, `method3()`, `method4()`.\r\n\r\nWhat I want to do now is basically let the user choose in the MainActivity which version wants to use and after that would be called activities, layouts, services and methods only for the version chosen.\r\n\r\n","title":"Having too many methods unused without being commented out could decrease RAM efficiency as well?","body":"<p>I was wondering if having too many methods (performing heavy tasks) unused without being commented out could decrease RAM efficiency as well?</p>\n<p>Of course it will affect the APK size. The reason I am asking is because my app is already being killed by the OS, so I don't need to make it more &quot;heavier&quot;.</p>\n<p>I just want to be sure that if a method is never called, even though it's not commented out, it will not affect RAM-consumption.</p>\n<p>Edit:</p>\n<p>Basically at the moment I have two apps (two projects), one for a root version and one for a rootless version, in which I have classes with the same name but with different methods.\nSince I not capable to unify the two projects by using flavors (please check here: <a href=\"https://stackoverflow.com/questions/76388315/one-of-source-directories-is-not-marked-as-source-set-when-using-different-flavo\">One of source directories is not marked as source set when using different flavors</a>) I thought about simply making all the methods in one single class.</p>\n<p>For instance:</p>\n<p>In project #1 <code>com.example.root.MyClass</code> has <code>method1()</code> and <code>method2()</code> that are needed for the root version of my app.</p>\n<p>In project #2 <code>com.example.rootless.MyClass</code> has <code>method3()</code> and <code>method4()</code> that are needed for the rootless version of my app.</p>\n<p>In the unified project I would just have <code>com.example.unified.MyClass</code> with <code>method1()</code>, <code>method2()</code>, <code>method3()</code>, <code>method4()</code>.</p>\n<p>What I want to do now is basically let the user choose in the MainActivity which version wants to use and after that would be called activities, layouts, services and methods only for the version chosen.</p>\n"},{"tags":["java","mysql","spring-boot","jpql"],"comments":[{"owner":{"account_id":3457486,"reputation":292,"user_id":2895655,"accept_rate":100,"display_name":"lezhni"},"score":0,"creation_date":1685656645,"post_id":76385955,"comment_id":134695326,"body_markdown":"Sorry, but a method name...","body":"Sorry, but a method name..."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1685702818,"post_id":76385955,"comment_id":134701483,"body_markdown":"You probably need to annotate the query as native.","body":"You probably need to annotate the query as native."}],"answers":[{"comments":[{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1685711686,"post_id":76389428,"comment_id":134703317,"body_markdown":"This answer, along with many others you&#39;ve posted in the last few days, appears likely to have been written (entirely or partially) by AI (e.g., ChatGPT). Please be aware that [posting of AI-generated content is banned here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with this answer, I would encourage you to delete it.","body":"This answer, along with many others you&#39;ve posted in the last few days, appears likely to have been written (entirely or partially) by AI (e.g., ChatGPT). Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting of AI-generated content is banned here</a>. If you used an AI tool to assist with this answer, I would encourage you to delete it."},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1685711693,"post_id":76389428,"comment_id":134703318,"body_markdown":"Since it appears likely to have been written by AI, **readers should review this answer carefully and critically, as it *may* contain fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues.","body":"Since it appears likely to have been written by AI, <b>readers should review this answer carefully and critically, as it <i>may</i> contain fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues."}],"tags":[],"owner":{"account_id":17391812,"reputation":67,"user_id":12602207,"display_name":"Naveen Negi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685702478,"creation_date":1685702478,"answer_id":76389428,"question_id":76385955,"body_markdown":"You&#39;re looking to simplify the map returned by your query. You want a map with just a single key-value pair: the &#39;ques_res.id&#39; as the key and &#39;qbe.comment&#39; as the value. You don&#39;t need to use &#39;new map&#39; in the select clause for that. Instead, you can select these two columns directly and use them as a map.\r\n\r\nConsider the following modification to your JPQL query:\r\n\r\n```java\r\n@Query(&quot;select new map( ques_res.id as id, qbe.comment as comment) &quot; +\r\n        &quot;from SurveyResponseAnswerComments qbe &quot; +\r\n        &quot;left join SurveyQuestionnaireResponse ques_res on qbe.queResponseId = ques_res.id &quot; +\r\n        &quot;where ques_res.questionnaireId = :questionnaireId &quot; +\r\n        &quot;and ques_res.inviteeId = :employeeId &quot; +\r\n        &quot;and qbe.tenant.id = :tenantId &quot; +\r\n        &quot;and ques_res.id IN (:responseIds)&quot;)\r\nList&lt;Map&lt;Integer, String&gt;&gt; getCommentsBasedOnQuestionnaireIdEmployeeIdAndResponseIdListMap(\r\n        @Param(&quot;questionnaireId&quot;) Integer questionnaireId,\r\n        @Param(&quot;employeeId&quot;) Integer employeeId,\r\n        @Param(&quot;responseIds&quot;) List&lt;Integer&gt; responseIds,\r\n        @Param(&quot;tenantId&quot;) Integer tenantId);\r\n```\r\n\r\nIn this updated version, &#39;ques_res.id&#39; is given the alias &#39;id&#39; and &#39;qbe.comment&#39; is given the alias &#39;comment&#39;. The result should return a list of maps, where each map has the id as the key and the comment as the value.\r\n\r\nKeep in mind that the keys of the map are determined by the aliases you set in the select statement. Here, we&#39;ve used &#39;id&#39; and &#39;comment&#39;. If you want the key to simply be &#39;ques_res.id&#39; without an alias, you&#39;ll need to implement an appropriate result mapping strategy. \r\n\r\nLastly, remember that the output of the query may vary based on the JPA implementation you&#39;re using. If the result doesn&#39;t meet your expectations, you might need to process it in Java to get it into the desired format.","title":"how to fetch only ids and comments from the database and the return type should be List&lt;Map&lt;Integer, String&gt;&gt;","body":"<p>You're looking to simplify the map returned by your query. You want a map with just a single key-value pair: the 'ques_res.id' as the key and 'qbe.comment' as the value. You don't need to use 'new map' in the select clause for that. Instead, you can select these two columns directly and use them as a map.</p>\n<p>Consider the following modification to your JPQL query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select new map( ques_res.id as id, qbe.comment as comment) &quot; +\n        &quot;from SurveyResponseAnswerComments qbe &quot; +\n        &quot;left join SurveyQuestionnaireResponse ques_res on qbe.queResponseId = ques_res.id &quot; +\n        &quot;where ques_res.questionnaireId = :questionnaireId &quot; +\n        &quot;and ques_res.inviteeId = :employeeId &quot; +\n        &quot;and qbe.tenant.id = :tenantId &quot; +\n        &quot;and ques_res.id IN (:responseIds)&quot;)\nList&lt;Map&lt;Integer, String&gt;&gt; getCommentsBasedOnQuestionnaireIdEmployeeIdAndResponseIdListMap(\n        @Param(&quot;questionnaireId&quot;) Integer questionnaireId,\n        @Param(&quot;employeeId&quot;) Integer employeeId,\n        @Param(&quot;responseIds&quot;) List&lt;Integer&gt; responseIds,\n        @Param(&quot;tenantId&quot;) Integer tenantId);\n</code></pre>\n<p>In this updated version, 'ques_res.id' is given the alias 'id' and 'qbe.comment' is given the alias 'comment'. The result should return a list of maps, where each map has the id as the key and the comment as the value.</p>\n<p>Keep in mind that the keys of the map are determined by the aliases you set in the select statement. Here, we've used 'id' and 'comment'. If you want the key to simply be 'ques_res.id' without an alias, you'll need to implement an appropriate result mapping strategy.</p>\n<p>Lastly, remember that the output of the query may vary based on the JPA implementation you're using. If the result doesn't meet your expectations, you might need to process it in Java to get it into the desired format.</p>\n"}],"owner":{"account_id":25830276,"reputation":1,"user_id":19567610,"display_name":"Avinash S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685702478,"creation_date":1685656328,"question_id":76385955,"body_markdown":"    @Query(&quot;select new map( ques_res.id , qbe.comment ) &quot; +\r\n                &quot;from SurveyResponseAnswerComments qbe &quot; +\r\n                &quot;left join SurveyQuestionnaireResponse ques_res on qbe.queResponseId = ques_res.id &quot; +\r\n                &quot;where ques_res.questionnaireId = :questionnaireId &quot; +\r\n                &quot;and ques_res.inviteeId = :employeeId &quot; +\r\n                &quot;and qbe.tenant.id = :tenantId &quot; +\r\n                &quot;and ques_res.id IN (:responseIds)&quot;)\r\n        List&lt;Map&lt;Integer, String&gt;&gt; getCommentsBasedOnQuestionnaireIdEmployeeIdAndResponseIdListMap(\r\n                @Param(&quot;questionnaireId&quot;) Integer questionnaireId,\r\n                @Param(&quot;employeeId&quot;) Integer employeeId,\r\n                @Param(&quot;responseIds&quot;) List&lt;Integer&gt; responseIds,\r\n                @Param(&quot;tenantId&quot;) Integer tenantId);\r\n\r\n\r\nthe above query returns a list of map, where each map contains two sub maps where first sub map has key -&gt; &quot;0&quot; and value -&gt; ques_res.id and second sub map contains key -&gt; &quot;1&quot; and value -&gt; qbe.comment, but all i want is the query to return a list of maps where each map contains only one key-value pair, key should be ques_res.id and value should be comment\r\n\r\nnote: i have tried the below jpql queries as well but still dint fetch the expected result\r\n\r\n","title":"how to fetch only ids and comments from the database and the return type should be List&lt;Map&lt;Integer, String&gt;&gt;","body":"<pre><code>@Query(&quot;select new map( ques_res.id , qbe.comment ) &quot; +\n            &quot;from SurveyResponseAnswerComments qbe &quot; +\n            &quot;left join SurveyQuestionnaireResponse ques_res on qbe.queResponseId = ques_res.id &quot; +\n            &quot;where ques_res.questionnaireId = :questionnaireId &quot; +\n            &quot;and ques_res.inviteeId = :employeeId &quot; +\n            &quot;and qbe.tenant.id = :tenantId &quot; +\n            &quot;and ques_res.id IN (:responseIds)&quot;)\n    List&lt;Map&lt;Integer, String&gt;&gt; getCommentsBasedOnQuestionnaireIdEmployeeIdAndResponseIdListMap(\n            @Param(&quot;questionnaireId&quot;) Integer questionnaireId,\n            @Param(&quot;employeeId&quot;) Integer employeeId,\n            @Param(&quot;responseIds&quot;) List&lt;Integer&gt; responseIds,\n            @Param(&quot;tenantId&quot;) Integer tenantId);\n</code></pre>\n<p>the above query returns a list of map, where each map contains two sub maps where first sub map has key -&gt; &quot;0&quot; and value -&gt; ques_res.id and second sub map contains key -&gt; &quot;1&quot; and value -&gt; qbe.comment, but all i want is the query to return a list of maps where each map contains only one key-value pair, key should be ques_res.id and value should be comment</p>\n<p>note: i have tried the below jpql queries as well but still dint fetch the expected result</p>\n"},{"tags":["java","spring-boot","jms"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1685702240,"creation_date":1685702240,"answer_id":76389399,"question_id":76380103,"body_markdown":"Support for ActiveMQ was [removed in Spring Boot 3.0](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#other-removals) as is did not support JMS 3.0 (the `jakarta.jms.*` APIs). Spring Boot 3.1 [restored support for auto-configuring an ActiveMQ client](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes#activemq-support). Embedded broker support has not been restored as ActiveMQ&#39;s broker does not yet support JMS 3.0.\r\n\r\nTo use ActiveMQ will Spring Boot 3.1, you will have to use an external broker as [Spring Boot&#39;s ActiveMQ smoke test does](https://github.com/spring-projects/spring-boot/tree/6176eaa0189ee71638693079eb35fcd9dbb0d01f/spring-boot-tests/spring-boot-smoke-tests/spring-boot-smoke-test-activemq).","title":"Jms not working after update to spring boot 3 (and ConnectionFactory from javax to jakarta)","body":"<p>Support for ActiveMQ was <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#other-removals\" rel=\"noreferrer\">removed in Spring Boot 3.0</a> as is did not support JMS 3.0 (the <code>jakarta.jms.*</code> APIs). Spring Boot 3.1 <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes#activemq-support\" rel=\"noreferrer\">restored support for auto-configuring an ActiveMQ client</a>. Embedded broker support has not been restored as ActiveMQ's broker does not yet support JMS 3.0.</p>\n<p>To use ActiveMQ will Spring Boot 3.1, you will have to use an external broker as <a href=\"https://github.com/spring-projects/spring-boot/tree/6176eaa0189ee71638693079eb35fcd9dbb0d01f/spring-boot-tests/spring-boot-smoke-tests/spring-boot-smoke-test-activemq\" rel=\"noreferrer\">Spring Boot's ActiveMQ smoke test does</a>.</p>\n"}],"owner":{"account_id":4278261,"reputation":1055,"user_id":3498366,"accept_rate":54,"display_name":"Koin Arab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3074,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685702240,"creation_date":1685608999,"question_id":76380103,"body_markdown":"After update from SpringBoot v.2.5.5 to v3.1.0 it was necessary to update also `ConnectionFactory` from `javax.jms.ConnectionFactory` to `jakarta.jms.ConnectionFactory`.\r\nI haven&#39;t changed anything else. Unfortunately now I&#39;m getting an errors like this:\r\n`ERROR - Could not refresh JMS Connection for destination &#39;tServerEvent&#39; - retrying using FixedBackOff{interval=5000, currentAttempts=0, maxAttempts=unlimited}. Cause: Could not connect to broker URL: tcp://localhost:61616. Reason: java.net.ConnectException: Connection refused: no further information`\r\n\r\nI investigated it and compared with the old `javax.ConnectionFactory` and it seems that default `brokerUrl` for them is different \r\n\r\nfor `javax.jms.ConnectionFactory` it was  : `vm://localhost?broker.persistent=false`\r\nfor `jakarta.jms.ConnectionFactory` it is : `tcp://localhost:61616`\r\n\r\n\r\nEven if I manually set broker url, like this:\r\n\r\n    spring:\r\n      activemq:\r\n        broker-url: vm://localhost?broker.persistent=false\r\n\r\nit is not working still and the error is: ` Cause: Could not create Transport. Reason: java.io.IOException: Transport scheme NOT recognized: [vm]`\r\n\r\nI don&#39;t know why the default brokerUrl is different for jakarta.ConnectionFactory and old javax.ConnectionFactory and don&#39;t know how can I run my application succesfullt. \r\nI would appreciate if you have some tips for me.\r\n\r\nAnd here is code with `JmsListenerContainerFacroty` Bean with ConnectionFactory:\r\n\r\n    import jakarta.jms.ConnectionFactory;\r\n    import org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jms.annotation.EnableJms;\r\n    import org.springframework.jms.config.DefaultJmsListenerContainerFactory;\r\n    import org.springframework.jms.config.JmsListenerContainerFactory;\r\n    \r\n    @Configuration\r\n    @EnableJms\r\n    public class JmsConfig {\r\n    \r\n        @Bean\r\n        public JmsListenerContainerFactory&lt;?&gt; myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n            DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n            configurer.configure(factory, connectionFactory);\r\n            return factory;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Jms not working after update to spring boot 3 (and ConnectionFactory from javax to jakarta)","body":"<p>After update from SpringBoot v.2.5.5 to v3.1.0 it was necessary to update also <code>ConnectionFactory</code> from <code>javax.jms.ConnectionFactory</code> to <code>jakarta.jms.ConnectionFactory</code>.\nI haven't changed anything else. Unfortunately now I'm getting an errors like this:\n<code>ERROR - Could not refresh JMS Connection for destination 'tServerEvent' - retrying using FixedBackOff{interval=5000, currentAttempts=0, maxAttempts=unlimited}. Cause: Could not connect to broker URL: tcp://localhost:61616. Reason: java.net.ConnectException: Connection refused: no further information</code></p>\n<p>I investigated it and compared with the old <code>javax.ConnectionFactory</code> and it seems that default <code>brokerUrl</code> for them is different</p>\n<p>for <code>javax.jms.ConnectionFactory</code> it was  : <code>vm://localhost?broker.persistent=false</code>\nfor <code>jakarta.jms.ConnectionFactory</code> it is : <code>tcp://localhost:61616</code></p>\n<p>Even if I manually set broker url, like this:</p>\n<pre><code>spring:\n  activemq:\n    broker-url: vm://localhost?broker.persistent=false\n</code></pre>\n<p>it is not working still and the error is: <code> Cause: Could not create Transport. Reason: java.io.IOException: Transport scheme NOT recognized: [vm]</code></p>\n<p>I don't know why the default brokerUrl is different for jakarta.ConnectionFactory and old javax.ConnectionFactory and don't know how can I run my application succesfullt.\nI would appreciate if you have some tips for me.</p>\n<p>And here is code with <code>JmsListenerContainerFacroty</code> Bean with ConnectionFactory:</p>\n<pre><code>import jakarta.jms.ConnectionFactory;\nimport org.springframework.boot.autoconfigure.jms.DefaultJmsListenerContainerFactoryConfigurer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jms.annotation.EnableJms;\nimport org.springframework.jms.config.DefaultJmsListenerContainerFactory;\nimport org.springframework.jms.config.JmsListenerContainerFactory;\n\n@Configuration\n@EnableJms\npublic class JmsConfig {\n\n    @Bean\n    public JmsListenerContainerFactory&lt;?&gt; myFactory(ConnectionFactory connectionFactory, DefaultJmsListenerContainerFactoryConfigurer configurer) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        configurer.configure(factory, connectionFactory);\n        return factory;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","video-streaming","spring-webflux"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1699409342,"post_id":76258932,"comment_id":136527044,"body_markdown":"Have a look at spring resource base bean ```Resource``` , there is a subclass named ```UrlResource``` that could recevie the byte stream from  network ,\n```Mono.fromSupplier(() -&gt; {\n            try {\n                return new UrlResource(&quot;http://xxxx.com/video/123.mp4&quot;);\n            } catch (MalformedURLException e) {\n                throw new RuntimeException(e);\n            }\n        });\n```","body":"Have a look at spring resource base bean <code>Resource</code> , there is a subclass named <code>UrlResource</code> that could recevie the byte stream from  network , <code>Mono.fromSupplier(() -&gt; {             try {                 return new UrlResource(&quot;http:&#47;&#47;xxxx.com&#47;video&#47;123.mp4&quot;);             } catch (MalformedURLException e) {                 throw new RuntimeException(e);             }         }); </code>"}],"answers":[{"comments":[{"owner":{"account_id":28609078,"reputation":1,"user_id":21904393,"display_name":"Aster Casc"},"score":0,"creation_date":1686797785,"post_id":76371647,"comment_id":134849690,"body_markdown":"first thank you for your help, I have tried this method , but I received &quot;java.lang.IllegalArgumentException: Resource content length should be &gt; 0&quot;, resource url can play in browser","body":"first thank you for your help, I have tried this method , but I received &quot;java.lang.IllegalArgumentException: Resource content length should be &gt; 0&quot;, resource url can play in browser"},{"owner":{"account_id":9510245,"reputation":5,"user_id":7068408,"display_name":"Saket Vyas Ux"},"score":0,"creation_date":1687290819,"post_id":76371647,"comment_id":134915360,"body_markdown":"Working fine for me make sure video should be present on following url. Typo error","body":"Working fine for me make sure video should be present on following url. Typo error"}],"tags":[],"owner":{"account_id":9510245,"reputation":5,"user_id":7068408,"display_name":"Saket Vyas Ux"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685701845,"creation_date":1685522334,"answer_id":76371647,"question_id":76258932,"body_markdown":" \r\nThis will work for you:\r\n\r\n \r\n    public Mono&lt;Resource&gt; getVideo(String videoId) {\r\n        log.info(videoId);\r\n        return Mono.fromSupplier(() -&gt; resourceLoader.getResource(String.format(&quot;http://xxxx.com/video/123.mp4&quot;)));\r\n    }","title":"How to achieve video streaming with spring webflux when the resource is a URL instead of a file","body":"<p>This will work for you:</p>\n<pre><code>public Mono&lt;Resource&gt; getVideo(String videoId) {\n    log.info(videoId);\n    return Mono.fromSupplier(() -&gt; resourceLoader.getResource(String.format(&quot;http://xxxx.com/video/123.mp4&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":28609078,"reputation":1,"user_id":21904393,"display_name":"Aster Casc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685701845,"creation_date":1684202884,"question_id":76258932,"body_markdown":"I am new to spring reactive framework\r\n\r\nI also understand how to handle &lt;How to achieve video streaming with spring webflux when the resource is a file&gt; from [this video](https://www.youtube.com/watch?v=_PEPaWFs064).\r\n\r\ncode like this\r\n```java\r\n    public Mono&lt;Resource&gt; getVideo(String videoId) {\r\n        log.info(videoId);\r\n        return Mono.fromSupplier(() -&gt; resourceLoader.getResource(&quot;classpath:video/123.mp4&quot;));\r\n    }\r\n\r\n```\r\n\r\n\r\nBut now my resouces is like (http://xxxx.com/video/123.mp4) not like (classpath:videos/123.mp4, /usr/videos/123.mp4). For security reasons, I cannot directly provide the the URL to the front-end (if I do this, it can run normally).\r\n\r\n\r\nSo my question is How to use my webflux service as a proxy for this URL, or can I even use servlet instead of reactive?\r\n\r\nThanks for the help!","title":"How to achieve video streaming with spring webflux when the resource is a URL instead of a file","body":"<p>I am new to spring reactive framework</p>\n<p>I also understand how to handle  from <a href=\"https://www.youtube.com/watch?v=_PEPaWFs064\" rel=\"nofollow noreferrer\">this video</a>.</p>\n<p>code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;Resource&gt; getVideo(String videoId) {\n        log.info(videoId);\n        return Mono.fromSupplier(() -&gt; resourceLoader.getResource(&quot;classpath:video/123.mp4&quot;));\n    }\n\n</code></pre>\n<p>But now my resouces is like (<a href=\"http://xxxx.com/video/123.mp4\" rel=\"nofollow noreferrer\">http://xxxx.com/video/123.mp4</a>) not like (classpath:videos/123.mp4, /usr/videos/123.mp4). For security reasons, I cannot directly provide the the URL to the front-end (if I do this, it can run normally).</p>\n<p>So my question is How to use my webflux service as a proxy for this URL, or can I even use servlet instead of reactive?</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","linux","selenium-webdriver","firefox"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1678136683,"post_id":75649647,"comment_id":133471949,"body_markdown":"the sendKeys method will automatically set focus...  (no need to use actions... just element.sendKeys...) to lose focus you can probably just send keys of Keys.TAB.","body":"the sendKeys method will automatically set focus...  (no need to use actions... just element.sendKeys...) to lose focus you can probably just send keys of Keys.TAB."},{"owner":{"account_id":12891101,"reputation":98,"user_id":9323055,"display_name":"Krzysztof Nowicki"},"score":0,"creation_date":1678168004,"post_id":75649647,"comment_id":133476387,"body_markdown":"@pcalkins thanks, but already been doing that including the TAB key, I don&#39;t suppose anything around sending keys or setting focus will help since everything works on local, I&#39;m *probably* looking for a solution that involves either decorated webdriver or environment setup change","body":"@pcalkins thanks, but already been doing that including the TAB key, I don&#39;t suppose anything around sending keys or setting focus will help since everything works on local, I&#39;m <i>probably</i> looking for a solution that involves either decorated webdriver or environment setup change"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1678212522,"post_id":75649647,"comment_id":133488423,"body_markdown":"make sure the 2 versions of Selenium and driver(s) match.  I think at some point they switched from WebDriverEventListener to EventFiringDecorator.  Your error (or lack of? nothing happens??) might also be caused by your event listeners which you don&#39;t show.  Maybe include whatever code is related to the EventFiringDecorator.  Did the events fire correctly on local?  Does it work local using headless?","body":"make sure the 2 versions of Selenium and driver(s) match.  I think at some point they switched from WebDriverEventListener to EventFiringDecorator.  Your error (or lack of? nothing happens??) might also be caused by your event listeners which you don&#39;t show.  Maybe include whatever code is related to the EventFiringDecorator.  Did the events fire correctly on local?  Does it work local using headless?"},{"owner":{"account_id":12891101,"reputation":98,"user_id":9323055,"display_name":"Krzysztof Nowicki"},"score":0,"creation_date":1678254523,"post_id":75649647,"comment_id":133495482,"body_markdown":"@pcalkins they actually did, yes, I worked through it and events actually fire pretty nicely. It does work with headless on local.   \n**So** - right about now I switched to newer version of selenium, updated my driver capabilities and problem *seems* to be gone - I&#39;m still testing it, but apparently nothing is wrong with Decorated WebDriver but rather the setup, but I can&#39;t figure what was causing such severe problem.","body":"@pcalkins they actually did, yes, I worked through it and events actually fire pretty nicely. It does work with headless on local.    <b>So</b> - right about now I switched to newer version of selenium, updated my driver capabilities and problem <i>seems</i> to be gone - I&#39;m still testing it, but apparently nothing is wrong with Decorated WebDriver but rather the setup, but I can&#39;t figure what was causing such severe problem."},{"owner":{"account_id":12891101,"reputation":98,"user_id":9323055,"display_name":"Krzysztof Nowicki"},"score":0,"creation_date":1678258736,"post_id":75649647,"comment_id":133496074,"body_markdown":"ok it only seemed to be gone, it&#39;s still there, nothing helps I guess.. &#128517;","body":"ok it only seemed to be gone, it&#39;s still there, nothing helps I guess.. 😅"}],"answers":[{"tags":[],"owner":{"account_id":12891101,"reputation":98,"user_id":9323055,"display_name":"Krzysztof Nowicki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685701691,"creation_date":1685701691,"answer_id":76389323,"question_id":75649647,"body_markdown":"Updating firefox version worked","title":"Selenium - Decorated WebDriver sends keys without focus on input element (placeholder text still present)","body":"<p>Updating firefox version worked</p>\n"}],"owner":{"account_id":12891101,"reputation":98,"user_id":9323055,"display_name":"Krzysztof Nowicki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685701691,"creation_date":1678098301,"question_id":75649647,"body_markdown":"# Problem - works only on local env\r\n**Goal:** Focus on element, enter keys, lose focus (focus on body)  \r\n**Issue:** Input element has placeholder AND entered value.  \r\n**Environment**: It works locally but fails on linux geckodriver&#39;s (v0.32) headless browser installed via docker image  \r\n**Note**: it was rather stable on previous version of selenium - 4.0 and not decorated WebDriver but same issue happened from time to time. Right now it always happens.\r\n\r\n## Steps to reproduce:  \r\n**Setup**: Java 8, Selenium 4.4.0, Linux system, headless Firefox  \r\n\r\n1. Initialize **Decorated** WebDriver - `new CustomEventFiringDecorator&lt;&gt;(...).decorate(driver)` ***[1]***\r\n2. Navigations etc...\r\n3. Find input element\r\n4. Click to focus\r\n5. Enter keys ***[2]***\r\n6. Click body to lose focus (this triggers form&#39;s fields validation)\r\n\r\n# Things I&#39;ve tried\r\n- Clicking via: WebDriver, WebElement, Actions, JavaScript  \r\n- Setting focus to element and body with JS \r\n\r\n---\r\n**[1]** *CustomEventFiringDecorator is almost plain copy of EventFiringDecorator, but I needed different onError implementation*  \r\n**[2]** Previously sent via WebElement (same issue) Currently:\r\n```\r\n        Actions actions = new Actions(webDriver);\r\n        for (char letter : text.toCharArray()) {\r\n            actions.sendKeys(element, String.valueOf(letter));\r\n            actions.pause(Duration.ofMillis(100));\r\n        }\r\n        actions.build().perform();\r\n```","title":"Selenium - Decorated WebDriver sends keys without focus on input element (placeholder text still present)","body":"<h1>Problem - works only on local env</h1>\n<p><strong>Goal:</strong> Focus on element, enter keys, lose focus (focus on body)<br />\n<strong>Issue:</strong> Input element has placeholder AND entered value.<br />\n<strong>Environment</strong>: It works locally but fails on linux geckodriver's (v0.32) headless browser installed via docker image<br />\n<strong>Note</strong>: it was rather stable on previous version of selenium - 4.0 and not decorated WebDriver but same issue happened from time to time. Right now it always happens.</p>\n<h2>Steps to reproduce:</h2>\n<p><strong>Setup</strong>: Java 8, Selenium 4.4.0, Linux system, headless Firefox</p>\n<ol>\n<li>Initialize <strong>Decorated</strong> WebDriver - <code>new CustomEventFiringDecorator&lt;&gt;(...).decorate(driver)</code> <em><strong>[1]</strong></em></li>\n<li>Navigations etc...</li>\n<li>Find input element</li>\n<li>Click to focus</li>\n<li>Enter keys <em><strong>[2]</strong></em></li>\n<li>Click body to lose focus (this triggers form's fields validation)</li>\n</ol>\n<h1>Things I've tried</h1>\n<ul>\n<li>Clicking via: WebDriver, WebElement, Actions, JavaScript</li>\n<li>Setting focus to element and body with JS</li>\n</ul>\n<hr />\n<p><strong>[1]</strong> <em>CustomEventFiringDecorator is almost plain copy of EventFiringDecorator, but I needed different onError implementation</em><br />\n<strong>[2]</strong> Previously sent via WebElement (same issue) Currently:</p>\n<pre><code>        Actions actions = new Actions(webDriver);\n        for (char letter : text.toCharArray()) {\n            actions.sendKeys(element, String.valueOf(letter));\n            actions.pause(Duration.ofMillis(100));\n        }\n        actions.build().perform();\n</code></pre>\n"},{"tags":["java","eclipse","maven","plugins","eclipse-plugin"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1664447929,"post_id":73893542,"comment_id":130476283,"body_markdown":"What version of Eclipse. What version of Java is the Eclipse using? Are there any other messages in the error log - looks like a service failing to start.","body":"What version of Eclipse. What version of Java is the Eclipse using? Are there any other messages in the error log - looks like a service failing to start."},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":1,"creation_date":1664448466,"post_id":73893542,"comment_id":130476476,"body_markdown":"@greg-449 it&#39;s sts ..Spring Tool Suite 4 \n\nVersion: 4.16.0.RELEASE\nBuild Id: 202209151144\n version and i cannot even click on next since it gives another error..@greg-449..AND IF i switch workspace,it&#39;s working as expected means it&#39;s working fine if i switch workspace","body":"@greg-449 it&#39;s sts ..Spring Tool Suite 4   Version: 4.16.0.RELEASE Build Id: 202209151144  version and i cannot even click on next since it gives another error..@greg-449..AND IF i switch workspace,it&#39;s working as expected means it&#39;s working fine if i switch workspace"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1664449783,"post_id":73893542,"comment_id":130476966,"body_markdown":"it&#39;s using 1.8 version of java @greg-449 and no other error log","body":"it&#39;s using 1.8 version of java @greg-449 and no other error log"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1664450850,"post_id":73893542,"comment_id":130477312,"body_markdown":"Current versions of Eclipse won&#39;t run with Java 8 so that is not what you are running Eclipse with. Eclipse itself requires at least Java 11 and the current maven requires at least Java 17 - many Eclipse downloads include a Java 17 built in.","body":"Current versions of Eclipse won&#39;t run with Java 8 so that is not what you are running Eclipse with. Eclipse itself requires at least Java 11 and the current maven requires at least Java 17 - many Eclipse downloads include a Java 17 built in."},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1664453161,"post_id":73893542,"comment_id":130478157,"body_markdown":"okay..i agreed..thanks for answering@greg-449","body":"okay..i agreed..thanks for answering@greg-449"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1664482383,"post_id":73893542,"comment_id":130488566,"body_markdown":"@greg-449 can you tell where you get the information about the need for Maven to have JDK17 ??? (https://maven.apache.org/docs/history.html)","body":"@greg-449 can you tell where you get the information about the need for Maven to have JDK17 ??? (<a href=\"https://maven.apache.org/docs/history.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/history.html</a>)"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1664517369,"post_id":73893542,"comment_id":130494109,"body_markdown":"@khmarbaise It is the Eclipse m2e plug-ins that interface to maven that require Java 17, not maven itself.","body":"@khmarbaise It is the Eclipse m2e plug-ins that interface to maven that require Java 17, not maven itself."},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1664518645,"post_id":73893542,"comment_id":130494367,"body_markdown":"org.osgi.framework.ServiceException: org.apache.felix.scr.impl.manager.SingleComponentManager.getService() returned a null service object  another exception  : plugin: org.eclipse.m2e.core.ui @greg-449","body":"org.osgi.framework.ServiceException: org.apache.felix.scr.impl.manager.SingleComponentManager.get&zwnj;&#8203;Service() returned a null service object  another exception  : plugin: org.eclipse.m2e.core.ui @greg-449"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1664519542,"post_id":73893542,"comment_id":130494561,"body_markdown":"then why it&#39;s work perfectly while chnanging workspace and with java 8 version @khmarbaise","body":"then why it&#39;s work perfectly while chnanging workspace and with java 8 version @khmarbaise"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1664519867,"post_id":73893542,"comment_id":130494646,"body_markdown":"Look in &quot;Help &gt; About Eclipse &gt; Installation Details&quot; &quot;Configuration&quot; tab to see which Java you are using. The current Eclipse will absolutely not run using Java 8. It sounds like something has become damaged in that workspace.","body":"Look in &quot;Help &gt; About Eclipse &gt; Installation Details&quot; &quot;Configuration&quot; tab to see which Java you are using. The current Eclipse will absolutely not run using Java 8. It sounds like something has become damaged in that workspace."},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1664520601,"post_id":73893542,"comment_id":130494855,"body_markdown":"ohh,yes in  configuration tab it shows java.specification.version=17 @greg-449  ,It,seems that you have bright vision to see also these concepts,,","body":"ohh,yes in  configuration tab it shows java.specification.version=17 @greg-449  ,It,seems that you have bright vision to see also these concepts,,"}],"answers":[{"tags":[],"owner":{"account_id":18255080,"reputation":27,"user_id":13289212,"display_name":"Kaustuva Kumar Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677681206,"creation_date":1677681206,"answer_id":75605097,"question_id":73893542,"body_markdown":"I was also facing the same issue it mainly happens with fresh installations of eclipse or with adding a remote catalogue.\r\n\r\nThe archetype manager reads the catalogue if it gets invalid value we get that error.\r\n\r\n# **how to solve** #\r\n\r\nThe file `\\.metadata\\.plugins\\org.eclipse.m2e.core\\archetypesInfo.xml` contains the archetype catalogues resetting it to the initial state solves it.\r\n\r\nThis is my template after i changed it.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \t&lt;archetypeCatalogs&gt;\r\n    \t\t&lt;catalog type=&quot;system&quot; id=&quot;internal&quot; enabled=&quot;true&quot;/&gt;\r\n    \t\t&lt;catalog type=&quot;system&quot; id=&quot;defaultLocal&quot; enabled=&quot;true&quot;/&gt;\r\n    \t\t&lt;catalog type=&quot;system&quot; id=&quot;https://repo1.maven.org/maven2/archetype-catalog.xml&quot; enabled=&quot;true&quot;/&gt;\r\n    \t&lt;/archetypeCatalogs&gt;\r\n\r\n**Other causes**\r\n\r\nSome people may also have upgraded to the latest 2022-12 edition of eclipse having remote catalogs in the `archetypesInfo.xml` file. They may also face the same issue changing it to the xml file also resolves this. \r\n ","title":"How to solve Maven project plugin error,When I click on project the maven project it show&#39;s error as below","body":"<p>I was also facing the same issue it mainly happens with fresh installations of eclipse or with adding a remote catalogue.</p>\n<p>The archetype manager reads the catalogue if it gets invalid value we get that error.</p>\n<h1><strong>how to solve</strong></h1>\n<p>The file <code>\\.metadata\\.plugins\\org.eclipse.m2e.core\\archetypesInfo.xml</code> contains the archetype catalogues resetting it to the initial state solves it.</p>\n<p>This is my template after i changed it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;archetypeCatalogs&gt;\n        &lt;catalog type=&quot;system&quot; id=&quot;internal&quot; enabled=&quot;true&quot;/&gt;\n        &lt;catalog type=&quot;system&quot; id=&quot;defaultLocal&quot; enabled=&quot;true&quot;/&gt;\n        &lt;catalog type=&quot;system&quot; id=&quot;https://repo1.maven.org/maven2/archetype-catalog.xml&quot; enabled=&quot;true&quot;/&gt;\n    &lt;/archetypeCatalogs&gt;\n</code></pre>\n<p><strong>Other causes</strong></p>\n<p>Some people may also have upgraded to the latest 2022-12 edition of eclipse having remote catalogs in the <code>archetypesInfo.xml</code> file. They may also face the same issue changing it to the xml file also resolves this.</p>\n"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685701419,"creation_date":1664445154,"question_id":73893542,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nalso in windows- preferance -maven it show as below\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zIat8.png\r\n  [2]: https://i.stack.imgur.com/rkzMR.png\r\n\r\nand here i am pasting error logs,which comes when i click to create maven project.\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.m2e.core.ui.internal.archetype.ArchetypePlugin.getActiveArchetypeCatalogs()&quot; because &quot;archetypeManager&quot; is null\r\n\tat org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createViewer(MavenProjectWizardArchetypePage.java:248)\r\n\tat org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createControl(MavenProjectWizardArchetypePage.java:174)\r\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\r\n\tat org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizard.createPageControls(MavenProjectWizard.java:147)\r\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\r\n\tat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\r\n\tat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\r\n\tat org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\r\n\tat org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:73)\r\n\tat org.eclipse.ui.internal.dialogs.NewWizardNewPage.lambda$0(NewWizardNewPage.java:342)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:780)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:777)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1542)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1211)\r\n\tat org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:272)\r\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:329)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\r\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n\tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor59.invoke(Unknown Source)\r\n\tat java. Base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java. Base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n\tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\r\n\tat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\r\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n```\r\n\r\nThe second error is as below\r\n Unhandled event loop exception\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.m2e.core.ui.internal.archetype.ArchetypePlugin.getActiveArchetypeCatalogs()&quot; because &quot;archetypeManager&quot; is null\r\n\tat org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createViewer(MavenProjectWizardArchetypePage.java:248)\r\n\tat org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createControl(MavenProjectWizardArchetypePage.java:174)\r\n\tat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1240)\r\n\tat org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\r\n\tat org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:918)\r\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:469)\r\n\tat org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\r\n\tat org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\r\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n\tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor59.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n\tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\r\n\tat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\r\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to solve Maven project plugin error,When I click on project the maven project it show&#39;s error as below","body":"<p><a href=\"https://i.stack.imgur.com/zIat8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIat8.png\" alt=\"enter image description here\" /></a></p>\n<p>also in windows- preferance -maven it show as below\n<a href=\"https://i.stack.imgur.com/rkzMR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkzMR.png\" alt=\"enter image description here\" /></a></p>\n<p>and here i am pasting error logs,which comes when i click to create maven project.</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.m2e.core.ui.internal.archetype.ArchetypePlugin.getActiveArchetypeCatalogs()&quot; because &quot;archetypeManager&quot; is null\n    at org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createViewer(MavenProjectWizardArchetypePage.java:248)\n    at org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createControl(MavenProjectWizardArchetypePage.java:174)\n    at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\n    at org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizard.createPageControls(MavenProjectWizard.java:147)\n    at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\n    at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\n    at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\n    at org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\n    at org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:73)\n    at org.eclipse.ui.internal.dialogs.NewWizardNewPage.lambda$0(NewWizardNewPage.java:342)\n    at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:780)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:777)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1542)\n    at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1211)\n    at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:272)\n    at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:329)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\n    at org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\n    at jdk.internal.reflect.GeneratedMethodAccessor59.invoke(Unknown Source)\n    at java. Base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java. Base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\n    at org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\n    at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\n    at org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\n    at org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n</code></pre>\n<p>The second error is as below\nUnhandled event loop exception</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.m2e.core.ui.internal.archetype.ArchetypePlugin.getActiveArchetypeCatalogs()&quot; because &quot;archetypeManager&quot; is null\n    at org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createViewer(MavenProjectWizardArchetypePage.java:248)\n    at org.eclipse.m2e.core.ui.internal.wizards.MavenProjectWizardArchetypePage.createControl(MavenProjectWizardArchetypePage.java:174)\n    at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1240)\n    at org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\n    at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:918)\n    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:469)\n    at org.eclipse.jface.dialogs.Dialog.lambda$0(Dialog.java:619)\n    at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\n    at org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\n    at jdk.internal.reflect.GeneratedMethodAccessor59.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\n    at org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\n    at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\n    at org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\n    at org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4251)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4068)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3645)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n\n</code></pre>\n"},{"tags":["java","spring","module","annotations","clean-architecture"],"owner":{"account_id":302067,"reputation":1563,"user_id":610215,"accept_rate":47,"display_name":"Patryk Dobrowolski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685701166,"creation_date":1685699956,"question_id":76389134,"body_markdown":"I need to create annotation to tell Spring that given class should be a bean of given scope. In general it&#39;s quite easy, I just create annotation annotated with `@Scope` and `@Component` and it simply works. \r\n\r\nBut...\r\n\r\nI want to keep my code isolated as a business logic module and don&#39;t want it to be dependent on external library like *spring-context*.\r\n\r\nSo, the goal is to create some annotation and at the application module tell Spring to interpret it as something annotated with `@Scope` and `@Component`.\r\n\r\nIs it even possible?\r\n\r\nEDIT: I should add, the scope I need to use is custom scope.","title":"How to create annotation in isolated business logic module to be interpreted by spring in application module","body":"<p>I need to create annotation to tell Spring that given class should be a bean of given scope. In general it's quite easy, I just create annotation annotated with <code>@Scope</code> and <code>@Component</code> and it simply works.</p>\n<p>But...</p>\n<p>I want to keep my code isolated as a business logic module and don't want it to be dependent on external library like <em>spring-context</em>.</p>\n<p>So, the goal is to create some annotation and at the application module tell Spring to interpret it as something annotated with <code>@Scope</code> and <code>@Component</code>.</p>\n<p>Is it even possible?</p>\n<p>EDIT: I should add, the scope I need to use is custom scope.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1685698086,"post_id":76388538,"comment_id":134700529,"body_markdown":"The exception text does sound like the PDF is tagged and iText attempts to add tags for the new paragraph . While doing so, though, it runs into the NPE. So either there is an issue in the tagging/structure tree of the source PDF or there is an issue with the PDF. For a true analysis we&#39;d need the document in question.","body":"The exception text does sound like the PDF is tagged and iText attempts to add tags for the new paragraph . While doing so, though, it runs into the NPE. So either there is an issue in the tagging/structure tree of the source PDF or there is an issue with the PDF. For a true analysis we&#39;d need the document in question."},{"owner":{"account_id":28670623,"reputation":13,"user_id":21953745,"display_name":"Fran&#231;ois Vinckel"},"score":0,"creation_date":1685698529,"post_id":76388538,"comment_id":134700614,"body_markdown":"there you go:\nhttps://drive.google.com/file/d/1d2PKbf1pqXwZTboLZOJr69KJTJtAKYUx/view\nThis is just a simple test file created with Microsoft Word in 10 seconds","body":"there you go: <a href=\"https://drive.google.com/file/d/1d2PKbf1pqXwZTboLZOJr69KJTJtAKYUx/view\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1d2PKbf1pqXwZTboLZOJr69KJTJtAKYUx/vi&zwnj;&#8203;ew</a> This is just a simple test file created with Microsoft Word in 10 seconds"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685700853,"post_id":76388538,"comment_id":134701077,"body_markdown":"Please post the full exception stacktrace and provide a [mre].","body":"Please post the full exception stacktrace and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685700770,"creation_date":1685700770,"answer_id":76389242,"question_id":76388538,"body_markdown":"I could reproduce your issue using your [example file][1] with iText 5.5.4. Then I tried again with the current 5.5.13.3. There was no issue. Thus, please update.\r\n\r\nComparing the 5.5.4 code (where the exception occurs) with the corrsponding 5.5.13.3 code, one sees that there indeed was an unconditional call of a method of a `parent` object but that now there is a call to a helper method that first checks the `parent` and only calls its method if it isn&#39;t `null`.\r\n\r\nThis fix has been applied in early 2015, the commit comment was &quot;Fixed NPE when modifying content of TaggedPDF document.&quot;.\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1d2PKbf1pqXwZTboLZOJr69KJTJtAKYUx/view","title":"Cannot write a paragraph to a pdf file using iText pdf","body":"<p>I could reproduce your issue using your <a href=\"https://drive.google.com/file/d/1d2PKbf1pqXwZTboLZOJr69KJTJtAKYUx/view\" rel=\"nofollow noreferrer\">example file</a> with iText 5.5.4. Then I tried again with the current 5.5.13.3. There was no issue. Thus, please update.</p>\n<p>Comparing the 5.5.4 code (where the exception occurs) with the corrsponding 5.5.13.3 code, one sees that there indeed was an unconditional call of a method of a <code>parent</code> object but that now there is a call to a helper method that first checks the <code>parent</code> and only calls its method if it isn't <code>null</code>.</p>\n<p>This fix has been applied in early 2015, the commit comment was &quot;Fixed NPE when modifying content of TaggedPDF document.&quot;.</p>\n"}],"owner":{"account_id":28670623,"reputation":13,"user_id":21953745,"display_name":"Fran&#231;ois Vinckel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76389242,"answer_count":1,"score":-1,"last_activity_date":1685700770,"creation_date":1685695284,"question_id":76388538,"body_markdown":"\r\n\r\nI am using Java 17 and the iText pdf library (5.5.4), I&#39;m currently attempting to write a paragraph on an existing pdf file inside a rectangular area, however I seem to have a NullPointerExeption when invoking the go() method, I&#39;m not sure exactly why. I have included my code, any help would be appreciated.\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try {\r\n\r\n            PdfReader reader = new PdfReader(&quot;src/main/resources/test_file.pdf&quot;);\r\n\r\n\r\n            PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;src/main/resources/output.pdf&quot;));\r\n\r\n            PdfContentByte cb = stamper.getOverContent(1);\r\n            ColumnText ct = new ColumnText(cb);\r\n            ct.setSimpleColumn(new Rectangle(36, 600, 200, 800));\r\n            ct.addElement(new Paragraph(&quot;I want to add this text in a rectangle defined by the coordinates llx = 36, lly = 600, urx = 200, ury = 800&quot;));\r\n            int status = ct.go();\r\n\r\n\r\n\r\n        } catch (DocumentException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.itextpdf.text.pdf.PdfStructureElement.getAttribute(com.itextpdf.text.pdf.PdfName)&quot; because &quot;this.parent&quot; is null\r\n\r\n","title":"Cannot write a paragraph to a pdf file using iText pdf","body":"<p>I am using Java 17 and the iText pdf library (5.5.4), I'm currently attempting to write a paragraph on an existing pdf file inside a rectangular area, however I seem to have a NullPointerExeption when invoking the go() method, I'm not sure exactly why. I have included my code, any help would be appreciated.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        try {\n\n            PdfReader reader = new PdfReader(&quot;src/main/resources/test_file.pdf&quot;);\n\n\n            PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;src/main/resources/output.pdf&quot;));\n\n            PdfContentByte cb = stamper.getOverContent(1);\n            ColumnText ct = new ColumnText(cb);\n            ct.setSimpleColumn(new Rectangle(36, 600, 200, 800));\n            ct.addElement(new Paragraph(&quot;I want to add this text in a rectangle defined by the coordinates llx = 36, lly = 600, urx = 200, ury = 800&quot;));\n            int status = ct.go();\n\n\n\n        } catch (DocumentException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.itextpdf.text.pdf.PdfStructureElement.getAttribute(com.itextpdf.text.pdf.PdfName)&quot; because &quot;this.parent&quot; is null</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":11845776,"reputation":926,"user_id":8668332,"display_name":"Sebastian Heikamp"},"score":0,"creation_date":1685695962,"post_id":76388593,"comment_id":134700099,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/31164625/collecting-unknown-properties-with-jackson","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31164625/collecting-unknown-properties-with-jackson\" title=\"collecting unknown properties with jackson\">stackoverflow.com/questions/31164625/&hellip;</a>"},{"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"score":0,"creation_date":1685696206,"post_id":76388593,"comment_id":134700152,"body_markdown":"@SebastianHeikamp It can be a solution but it is not a built in approach. Maybe there is a more easy approach to achieve this.","body":"@SebastianHeikamp It can be a solution but it is not a built in approach. Maybe there is a more easy approach to achieve this."}],"answers":[{"comments":[{"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"score":0,"creation_date":1685707215,"post_id":76389100,"comment_id":134702327,"body_markdown":"This solution brings the minimum code changes. As far as I read there is not a built-in support for this case by Jackson.","body":"This solution brings the minimum code changes. As far as I read there is not a built-in support for this case by Jackson."}],"tags":[],"owner":{"account_id":14838004,"reputation":56,"user_id":10715499,"display_name":"Ken.Zhang"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685700080,"creation_date":1685699751,"answer_id":76389100,"question_id":76388593,"body_markdown":"Using override `DeserializationProblemHandler.handleUnknownProperty` get unknown property name?\r\n\r\n``` java\r\npublic class IgnoreUnknownPropertiesHandler extends DeserializationProblemHandler {\r\n        \t@Override\r\n        \tpublic boolean handleUnknownProperty(DeserializationContext ctxt, JsonParser p, JsonDeserializer&lt;?&gt; deserializer, Object beanOrClass, String propertyName) throws IOException {\r\n        \t\t// print ignored property\r\n        \t\tSystem.out.println(&quot;Ignored property: &quot; + propertyName);\r\n        \t\treturn true;\r\n        \t}\r\n        }\r\n        \r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\nobjectMapper.addHandler(new IgnoreUnknownPropertiesHandler());\r\n```","title":"Jackson ignore unrecognized property and collect the errors","body":"<p>Using override <code>DeserializationProblemHandler.handleUnknownProperty</code> get unknown property name?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IgnoreUnknownPropertiesHandler extends DeserializationProblemHandler {\n            @Override\n            public boolean handleUnknownProperty(DeserializationContext ctxt, JsonParser p, JsonDeserializer&lt;?&gt; deserializer, Object beanOrClass, String propertyName) throws IOException {\n                // print ignored property\n                System.out.println(&quot;Ignored property: &quot; + propertyName);\n                return true;\n            }\n        }\n        \nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nobjectMapper.addHandler(new IgnoreUnknownPropertiesHandler());\n</code></pre>\n"}],"owner":{"account_id":5954804,"reputation":67,"user_id":4681813,"display_name":"Vayas Zsolt Marton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76389100,"answer_count":1,"score":1,"last_activity_date":1685700080,"creation_date":1685695815,"question_id":76388593,"body_markdown":"There are a lot of topics around how can we configure the Jackson to ignore additional properties during the un-marshaller process. But I didn&#39;t find any answer how can we ignore it but also collect the unrecognized properties. \r\n\r\nOur flow is: We would like to ignore them but collect all of the unrecognized properties in order to be aware of these properties and fix them.\r\n\r\nSomebody knows how can I achieve this?","title":"Jackson ignore unrecognized property and collect the errors","body":"<p>There are a lot of topics around how can we configure the Jackson to ignore additional properties during the un-marshaller process. But I didn't find any answer how can we ignore it but also collect the unrecognized properties.</p>\n<p>Our flow is: We would like to ignore them but collect all of the unrecognized properties in order to be aware of these properties and fix them.</p>\n<p>Somebody knows how can I achieve this?</p>\n"},{"tags":["java","apache-camel","eip"],"owner":{"account_id":13116054,"reputation":21,"user_id":9475203,"display_name":"Abderrahmane Belhaouas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685700039,"creation_date":1685697635,"question_id":76388817,"body_markdown":"I have big file of xml and I want make a split for multiple of elements with Apache Camel\r\n\r\n```java\r\n            public void configure() {\r\n                from(&quot;timer://foo?period=30000&quot;)  // Create a message every 5 seconds\r\n                .setProperty(&quot;elementTagToSplit&quot;, constant(&quot;ARTICLE&quot;))\r\n                .setBody(constant(&quot;&lt;ARTICLE&gt;A&lt;/ARTICLE&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ARTICLE&gt;B&lt;/ARTICLE&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ORDER&gt;O3&lt;/ORDER&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ORDER&gt;O4&lt;/ORDER&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ARTICLE&gt;C&lt;/ARTICLE&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ARTICLE&gt;D&lt;/ARTICLE&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ARTICLE&gt;E&lt;/ARTICLE&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ARTICLE&gt;F&lt;/ARTICLE&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ARTICLE&gt;G&lt;/ARTICLE&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ORDER&gt;O1&lt;/ORDER&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ORDER&gt;O2&lt;/ORDER&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ORDER&gt;O5&lt;/ORDER&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ORDER&gt;O6&lt;/ORDER&gt;\\r\\n&quot;\r\n                \t\t+ &quot;&lt;ORDER&gt;O7&lt;/ORDER&gt;&quot;))\r\n               \r\n\r\n                .loop(&quot;ARTICLE,ORDER&quot;.contains(&quot;,&quot;) ? &quot;ARTICLE,ORDER&quot;.split(&quot;,&quot;).length : 1)\r\n\t            .process(new SplitterStreamingProcessor(&quot;ARTICLE,ORDER&quot;))\r\n\t            .split()\r\n//\t            .method(MyRouteBuilder.class, &quot;extract&quot;)           \r\n                .tokenizeXML(&quot;${exchangeProperty.elementTagToSplit}&quot;)\r\n                .streaming()\r\n                .process(exchange -&gt; {\r\n           \t\r\n                \tString s = exchange.getIn().getBody(String.class);\r\n                \tSystem.out.println(s);\r\n                \tSystem.out.println(&quot;------------&quot;);\r\n\r\n                })\r\n                .to(&quot;log:mylogger&quot;);\r\n            }\r\n        });\r\n```\r\n\r\n```java\r\n    static class SplitterStreamingProcessor implements Processor {\r\n    \tprivate String elementTagName;\r\n\r\n    \t/**\r\n    \t * Instantiates a new splitter streaming processor.\r\n    \t *\r\n    \t * @param elementTagName the element tag name\r\n    \t */\r\n    \tpublic SplitterStreamingProcessor(String elementTagName) {\r\n    \t\tthis.elementTagName = elementTagName;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic void process(Exchange exchange) throws Exception {\r\n    \t\tif (!StringUtils.isEmpty(elementTagName)) {\r\n    \t\t\tif (elementTagName.contains(&quot;,&quot;)) {\r\n    \t\t\t\tfinal Integer loopIndex = exchange.getProperty(Exchange.LOOP_INDEX, Integer.class);\r\n    \t\t\t\texchange.setProperty(&quot;elementTagToSplit&quot;, elementTagName.split(&quot;,&quot;)[loopIndex]);\r\n    \t\t\t} else {\r\n    \t\t\t\texchange.setProperty(&quot;elementTagToSplit&quot;, elementTagName);\r\n    \t\t\t}\r\n    \t\t\t\r\n        \t\tSystem.out.println(exchange.getProperty(&quot;elementTagToSplit&quot;));\r\n\r\n    \t\t}\r\n    \t}\r\n```\r\n\r\nMy first solution caused memory problem\r\nit&#39;s with bean that load big list in memory\r\n\r\n```java\r\n\t            .split()\r\n\t            .method(MyRouteBuilder.class, &quot;extract&quot;) \r\n```\r\n\r\n```java\r\n\tpublic static \tList&lt;String&gt;  extract(Exchange exchange) throws Exception {\r\n\r\n\t\tfinal String splitToken = exchange.getProperty(&quot;elementTagToSplit&quot;, String.class);\r\n\r\n\t\tTokenizeLanguage tok = new TokenizeLanguage();\r\n\t\ttok.setXml(true);\r\n\t\ttok.setToken(splitToken);\r\n\r\n\t\tExpression expression = tok.createExpression();\r\n\t\tList&lt;String&gt; lista = expression.evaluate(exchange, List.class);\r\n\t\t\r\n\t\tif (lista.isEmpty()) {\r\n\t\t\tthrow new Exception();\r\n\t\t}\r\n\t\treturn lista;\r\n\t}\r\n```\r\n\r\nSo i&#180;ve found another way with tokenizeXML\r\n\r\n```java\r\n                .tokenizeXML(&quot;${exchangeProperty.elementTagToSplit}&quot;)\r\n```\r\n\r\nMy problem is how i can pass variable of exchange in tokenizeXML.\r\n\r\nI tried with simple() and constant(), ${header.elementTagToSplit}\r\nIs there a way to do the split with streaming mode, and my list will be not all loaded in memory","title":"How do I implement a streaming split of elements in a big XML file using Apache Camel and tokenizeXML?","body":"<p>I have big file of xml and I want make a split for multiple of elements with Apache Camel</p>\n<pre class=\"lang-java prettyprint-override\"><code>            public void configure() {\n                from(&quot;timer://foo?period=30000&quot;)  // Create a message every 5 seconds\n                .setProperty(&quot;elementTagToSplit&quot;, constant(&quot;ARTICLE&quot;))\n                .setBody(constant(&quot;&lt;ARTICLE&gt;A&lt;/ARTICLE&gt;\\r\\n&quot;\n                        + &quot;&lt;ARTICLE&gt;B&lt;/ARTICLE&gt;\\r\\n&quot;\n                        + &quot;&lt;ORDER&gt;O3&lt;/ORDER&gt;\\r\\n&quot;\n                        + &quot;&lt;ORDER&gt;O4&lt;/ORDER&gt;\\r\\n&quot;\n                        + &quot;&lt;ARTICLE&gt;C&lt;/ARTICLE&gt;\\r\\n&quot;\n                        + &quot;&lt;ARTICLE&gt;D&lt;/ARTICLE&gt;\\r\\n&quot;\n                        + &quot;&lt;ARTICLE&gt;E&lt;/ARTICLE&gt;\\r\\n&quot;\n                        + &quot;&lt;ARTICLE&gt;F&lt;/ARTICLE&gt;\\r\\n&quot;\n                        + &quot;&lt;ARTICLE&gt;G&lt;/ARTICLE&gt;\\r\\n&quot;\n                        + &quot;&lt;ORDER&gt;O1&lt;/ORDER&gt;\\r\\n&quot;\n                        + &quot;&lt;ORDER&gt;O2&lt;/ORDER&gt;\\r\\n&quot;\n                        + &quot;&lt;ORDER&gt;O5&lt;/ORDER&gt;\\r\\n&quot;\n                        + &quot;&lt;ORDER&gt;O6&lt;/ORDER&gt;\\r\\n&quot;\n                        + &quot;&lt;ORDER&gt;O7&lt;/ORDER&gt;&quot;))\n               \n\n                .loop(&quot;ARTICLE,ORDER&quot;.contains(&quot;,&quot;) ? &quot;ARTICLE,ORDER&quot;.split(&quot;,&quot;).length : 1)\n                .process(new SplitterStreamingProcessor(&quot;ARTICLE,ORDER&quot;))\n                .split()\n//              .method(MyRouteBuilder.class, &quot;extract&quot;)           \n                .tokenizeXML(&quot;${exchangeProperty.elementTagToSplit}&quot;)\n                .streaming()\n                .process(exchange -&gt; {\n            \n                    String s = exchange.getIn().getBody(String.class);\n                    System.out.println(s);\n                    System.out.println(&quot;------------&quot;);\n\n                })\n                .to(&quot;log:mylogger&quot;);\n            }\n        });\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    static class SplitterStreamingProcessor implements Processor {\n        private String elementTagName;\n\n        /**\n         * Instantiates a new splitter streaming processor.\n         *\n         * @param elementTagName the element tag name\n         */\n        public SplitterStreamingProcessor(String elementTagName) {\n            this.elementTagName = elementTagName;\n        }\n\n        @Override\n        public void process(Exchange exchange) throws Exception {\n            if (!StringUtils.isEmpty(elementTagName)) {\n                if (elementTagName.contains(&quot;,&quot;)) {\n                    final Integer loopIndex = exchange.getProperty(Exchange.LOOP_INDEX, Integer.class);\n                    exchange.setProperty(&quot;elementTagToSplit&quot;, elementTagName.split(&quot;,&quot;)[loopIndex]);\n                } else {\n                    exchange.setProperty(&quot;elementTagToSplit&quot;, elementTagName);\n                }\n                \n                System.out.println(exchange.getProperty(&quot;elementTagToSplit&quot;));\n\n            }\n        }\n</code></pre>\n<p>My first solution caused memory problem\nit's with bean that load big list in memory</p>\n<pre class=\"lang-java prettyprint-override\"><code>                .split()\n                .method(MyRouteBuilder.class, &quot;extract&quot;) \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public static   List&lt;String&gt;  extract(Exchange exchange) throws Exception {\n\n        final String splitToken = exchange.getProperty(&quot;elementTagToSplit&quot;, String.class);\n\n        TokenizeLanguage tok = new TokenizeLanguage();\n        tok.setXml(true);\n        tok.setToken(splitToken);\n\n        Expression expression = tok.createExpression();\n        List&lt;String&gt; lista = expression.evaluate(exchange, List.class);\n        \n        if (lista.isEmpty()) {\n            throw new Exception();\n        }\n        return lista;\n    }\n</code></pre>\n<p>So i´ve found another way with tokenizeXML</p>\n<pre class=\"lang-java prettyprint-override\"><code>                .tokenizeXML(&quot;${exchangeProperty.elementTagToSplit}&quot;)\n</code></pre>\n<p>My problem is how i can pass variable of exchange in tokenizeXML.</p>\n<p>I tried with simple() and constant(), ${header.elementTagToSplit}\nIs there a way to do the split with streaming mode, and my list will be not all loaded in memory</p>\n"},{"tags":["java","json","xml"],"answers":[{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685699781,"creation_date":1679559797,"answer_id":75820637,"question_id":75734982,"body_markdown":"[Underscore-java][1] library has static method U.jsonToXml(json)\r\n\r\n    import com.github.underscore.U;\r\n\r\n        String json = &quot;{\\n&quot; +\r\n            &quot;    \\&quot;name\\&quot;: \\&quot;John Smith\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;sku\\&quot;: \\&quot;20223\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;price\\&quot;: 23.95,\\n&quot; +\r\n            &quot;    \\&quot;shipTo\\&quot;: {\\n&quot; +\r\n            &quot;        \\&quot;name\\&quot;: \\&quot;Jane Smith\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;address\\&quot;: \\&quot;123 Maple Street\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;city\\&quot;: \\&quot;Pretendville\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;state\\&quot;: \\&quot;NY\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;zip\\&quot;: \\&quot;12345\\&quot;\\n&quot; +\r\n            &quot;    },\\n&quot; +\r\n            &quot;    \\&quot;billTo\\&quot;: {\\n&quot; +\r\n            &quot;        \\&quot;name\\&quot;: \\&quot;Me\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;address\\&quot;: \\&quot;123 Maple Street\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;city\\&quot;: \\&quot;Pretendville\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;state\\&quot;: \\&quot;NY\\&quot;,\\n&quot; +\r\n            &quot;        \\&quot;zip\\&quot;: \\&quot;12345\\&quot;\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;}&quot;;\r\n        String xml = U.jsonToXml(json);\r\n        System.out.println(xml);\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;root&gt;\r\n  &lt;name&gt;John Smith&lt;/name&gt;\r\n  &lt;sku&gt;20223&lt;/sku&gt;\r\n  &lt;price number=&quot;true&quot;&gt;23.95&lt;/price&gt;\r\n  &lt;shipTo&gt;\r\n    &lt;name&gt;Jane Smith&lt;/name&gt;\r\n    &lt;address&gt;123 Maple Street&lt;/address&gt;\r\n    &lt;city&gt;Pretendville&lt;/city&gt;\r\n    &lt;state&gt;NY&lt;/state&gt;\r\n    &lt;zip&gt;12345&lt;/zip&gt;\r\n  &lt;/shipTo&gt;\r\n  &lt;billTo&gt;\r\n    &lt;name&gt;Me&lt;/name&gt;\r\n    &lt;address&gt;123 Maple Street&lt;/address&gt;\r\n    &lt;city&gt;Pretendville&lt;/city&gt;\r\n    &lt;state&gt;NY&lt;/state&gt;\r\n    &lt;zip&gt;12345&lt;/zip&gt;\r\n  &lt;/billTo&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"Converting JSON to XML in Java; Trouble with root","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library has static method U.jsonToXml(json)</p>\n<pre><code>import com.github.underscore.U;\n\n    String json = &quot;{\\n&quot; +\n        &quot;    \\&quot;name\\&quot;: \\&quot;John Smith\\&quot;,\\n&quot; +\n        &quot;    \\&quot;sku\\&quot;: \\&quot;20223\\&quot;,\\n&quot; +\n        &quot;    \\&quot;price\\&quot;: 23.95,\\n&quot; +\n        &quot;    \\&quot;shipTo\\&quot;: {\\n&quot; +\n        &quot;        \\&quot;name\\&quot;: \\&quot;Jane Smith\\&quot;,\\n&quot; +\n        &quot;        \\&quot;address\\&quot;: \\&quot;123 Maple Street\\&quot;,\\n&quot; +\n        &quot;        \\&quot;city\\&quot;: \\&quot;Pretendville\\&quot;,\\n&quot; +\n        &quot;        \\&quot;state\\&quot;: \\&quot;NY\\&quot;,\\n&quot; +\n        &quot;        \\&quot;zip\\&quot;: \\&quot;12345\\&quot;\\n&quot; +\n        &quot;    },\\n&quot; +\n        &quot;    \\&quot;billTo\\&quot;: {\\n&quot; +\n        &quot;        \\&quot;name\\&quot;: \\&quot;Me\\&quot;,\\n&quot; +\n        &quot;        \\&quot;address\\&quot;: \\&quot;123 Maple Street\\&quot;,\\n&quot; +\n        &quot;        \\&quot;city\\&quot;: \\&quot;Pretendville\\&quot;,\\n&quot; +\n        &quot;        \\&quot;state\\&quot;: \\&quot;NY\\&quot;,\\n&quot; +\n        &quot;        \\&quot;zip\\&quot;: \\&quot;12345\\&quot;\\n&quot; +\n        &quot;    }\\n&quot; +\n        &quot;}&quot;;\n    String xml = U.jsonToXml(json);\n    System.out.println(xml);\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n  &lt;name&gt;John Smith&lt;/name&gt;\n  &lt;sku&gt;20223&lt;/sku&gt;\n  &lt;price number=&quot;true&quot;&gt;23.95&lt;/price&gt;\n  &lt;shipTo&gt;\n    &lt;name&gt;Jane Smith&lt;/name&gt;\n    &lt;address&gt;123 Maple Street&lt;/address&gt;\n    &lt;city&gt;Pretendville&lt;/city&gt;\n    &lt;state&gt;NY&lt;/state&gt;\n    &lt;zip&gt;12345&lt;/zip&gt;\n  &lt;/shipTo&gt;\n  &lt;billTo&gt;\n    &lt;name&gt;Me&lt;/name&gt;\n    &lt;address&gt;123 Maple Street&lt;/address&gt;\n    &lt;city&gt;Pretendville&lt;/city&gt;\n    &lt;state&gt;NY&lt;/state&gt;\n    &lt;zip&gt;12345&lt;/zip&gt;\n  &lt;/billTo&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685699781,"creation_date":1678806638,"question_id":75734982,"body_markdown":"I am trying to convert a JSON payload to XML in order to then send it to a cosmos database. I keep encountering the following error: \r\n\r\n    [2023-03-14T15:03:25.573Z] Executed &#39;Functions.HttpHandler&#39; (Failed, Id=afd4b437-4ea6-4d0d-a406-357c263563b5, Duration=2377ms)\r\n    [2023-03-14T15:03:25.575Z] System.Private.CoreLib: Exception while executing function: Functions.HttpHandler. Newtonsoft.Json: Unexpected character encountered while parsing value: #. Path &#39;&#39;, line 1, position 1.\r\n\r\nI believe that this is occurring because I am trying to append a root payload path to make it a valid XML payload. This is the function that I use to convert to an XML string:\r\n\r\n    public String JsonToXml(String payload) {\r\n        JSONObject myPayload = new JSONObject(payload);\r\n        JSONObject root = new JSONObject();\r\n        root.put(&quot;payload&quot;, myPayload);\r\n        return XML.toString(root);\r\n    }\r\n\r\nAnd here is my handler: \r\n\r\n    public class Handler {\r\n        @FunctionName(&quot;HttpHandler&quot;)\r\n        public HttpResponseMessage runHttp(\r\n                @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\r\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, \r\n                @CosmosDBOutput(name = &quot;database&quot;,\r\n                databaseName = &quot;hyperscalerapi-cosmos-dev&quot;,\r\n                collectionName = &quot;Items&quot;,\r\n                connectionStringSetting = &quot;cosmosDBConnectionString&quot;)\r\n              OutputBinding&lt;String&gt; outputItem,final ExecutionContext context) {\r\n            try {\r\n                // request to String (payload)\r\n                String payload = req.getBody().get();\r\n    \r\n                Transform p = new Transform();\r\n    \r\n                // JSON to XML\r\n                payload = p.JsonToXml(payload);\r\n    \r\n                // Create in Cosmos (XML) NOTE: YOU MUST COMMENT OUT import com.microsoft.azure.documentdb.Document\r\n                DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder builder = factory.newDocumentBuilder();\r\n                Document document = builder.parse(new InputSource(new StringReader(payload)));\r\n                document.setNodeValue(context.getInvocationId().toString());\r\n                document.normalize();\r\n                outputItem.setValue(document.toString());\r\n                \r\n                return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\r\n            } catch (Exception e) {\r\n                // log the exception\r\n                context.getLogger().severe(e.toString());\r\n                return req.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;).build();\r\n            }\r\n        }\r\n\r\nWhy am I getting this error? Any help would be appreciated! If I try to complete this without appending the payload root, I also get an error saying the XML is invalid so I am pretty sure that I need the root. Finally, this is the JSON payload that I am passing in:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;John Smith&quot;,\r\n        &quot;sku&quot;: &quot;20223&quot;,\r\n        &quot;price&quot;: 23.95,\r\n        &quot;shipTo&quot;: {\r\n            &quot;name&quot;: &quot;Jane Smith&quot;,\r\n            &quot;address&quot;: &quot;123 Maple Street&quot;,\r\n            &quot;city&quot;: &quot;Pretendville&quot;,\r\n            &quot;state&quot;: &quot;NY&quot;,\r\n            &quot;zip&quot;: &quot;12345&quot;\r\n        },\r\n        &quot;billTo&quot;: {\r\n            &quot;name&quot;: &quot;Me&quot;,\r\n            &quot;address&quot;: &quot;123 Maple Street&quot;,\r\n            &quot;city&quot;: &quot;Pretendville&quot;,\r\n            &quot;state&quot;: &quot;NY&quot;,\r\n            &quot;zip&quot;: &quot;12345&quot;\r\n        }\r\n    }\r\n\r\nThank you for help!","title":"Converting JSON to XML in Java; Trouble with root","body":"<p>I am trying to convert a JSON payload to XML in order to then send it to a cosmos database. I keep encountering the following error:</p>\n<pre><code>[2023-03-14T15:03:25.573Z] Executed 'Functions.HttpHandler' (Failed, Id=afd4b437-4ea6-4d0d-a406-357c263563b5, Duration=2377ms)\n[2023-03-14T15:03:25.575Z] System.Private.CoreLib: Exception while executing function: Functions.HttpHandler. Newtonsoft.Json: Unexpected character encountered while parsing value: #. Path '', line 1, position 1.\n</code></pre>\n<p>I believe that this is occurring because I am trying to append a root payload path to make it a valid XML payload. This is the function that I use to convert to an XML string:</p>\n<pre><code>public String JsonToXml(String payload) {\n    JSONObject myPayload = new JSONObject(payload);\n    JSONObject root = new JSONObject();\n    root.put(&quot;payload&quot;, myPayload);\n    return XML.toString(root);\n}\n</code></pre>\n<p>And here is my handler:</p>\n<pre><code>public class Handler {\n    @FunctionName(&quot;HttpHandler&quot;)\n    public HttpResponseMessage runHttp(\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, \n            @CosmosDBOutput(name = &quot;database&quot;,\n            databaseName = &quot;hyperscalerapi-cosmos-dev&quot;,\n            collectionName = &quot;Items&quot;,\n            connectionStringSetting = &quot;cosmosDBConnectionString&quot;)\n          OutputBinding&lt;String&gt; outputItem,final ExecutionContext context) {\n        try {\n            // request to String (payload)\n            String payload = req.getBody().get();\n\n            Transform p = new Transform();\n\n            // JSON to XML\n            payload = p.JsonToXml(payload);\n\n            // Create in Cosmos (XML) NOTE: YOU MUST COMMENT OUT import com.microsoft.azure.documentdb.Document\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            Document document = builder.parse(new InputSource(new StringReader(payload)));\n            document.setNodeValue(context.getInvocationId().toString());\n            document.normalize();\n            outputItem.setValue(document.toString());\n            \n            return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\n        } catch (Exception e) {\n            // log the exception\n            context.getLogger().severe(e.toString());\n            return req.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;).build();\n        }\n    }\n</code></pre>\n<p>Why am I getting this error? Any help would be appreciated! If I try to complete this without appending the payload root, I also get an error saying the XML is invalid so I am pretty sure that I need the root. Finally, this is the JSON payload that I am passing in:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;John Smith&quot;,\n    &quot;sku&quot;: &quot;20223&quot;,\n    &quot;price&quot;: 23.95,\n    &quot;shipTo&quot;: {\n        &quot;name&quot;: &quot;Jane Smith&quot;,\n        &quot;address&quot;: &quot;123 Maple Street&quot;,\n        &quot;city&quot;: &quot;Pretendville&quot;,\n        &quot;state&quot;: &quot;NY&quot;,\n        &quot;zip&quot;: &quot;12345&quot;\n    },\n    &quot;billTo&quot;: {\n        &quot;name&quot;: &quot;Me&quot;,\n        &quot;address&quot;: &quot;123 Maple Street&quot;,\n        &quot;city&quot;: &quot;Pretendville&quot;,\n        &quot;state&quot;: &quot;NY&quot;,\n        &quot;zip&quot;: &quot;12345&quot;\n    }\n}\n</code></pre>\n<p>Thank you for help!</p>\n"},{"tags":["java","android","kotlin","android-intent"],"comments":[{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":1,"creation_date":1685624398,"post_id":76382091,"comment_id":134688286,"body_markdown":"Same question what is solution for Intent.ACTION_SEND","body":"Same question what is solution for Intent.ACTION_SEND"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1685625561,"post_id":76382091,"comment_id":134688606,"body_markdown":"Have you tried using `message/rfc822` as the type?","body":"Have you tried using <code>message&#47;rfc822</code> as the type?"},{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1685626227,"post_id":76382091,"comment_id":134688789,"body_markdown":"@Darshan Not solving the issue :( Thanks anyway.","body":"@Darshan Not solving the issue :( Thanks anyway."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685634323,"post_id":76382091,"comment_id":134691067,"body_markdown":"We cannot see the type of body. Also try ACTION_SEND_TO.","body":"We cannot see the type of body. Also try ACTION_SEND_TO."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685634387,"post_id":76382091,"comment_id":134691085,"body_markdown":"Which email app receives your intent?","body":"Which email app receives your intent?"},{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1685698739,"post_id":76382091,"comment_id":134700660,"body_markdown":"Found the solution. See the answer in my modified question. Thanks for your help.","body":"Found the solution. See the answer in my modified question. Thanks for your help."}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685698700,"creation_date":1685623996,"question_id":76382091,"body_markdown":"I use the following code to send emails from my app. It works perfectly well on Android versions below 13 ; but doesn&#39;t work on Android 13 (the email is created but the body of the email is empty)\r\n\r\nMy code :\r\n\r\n    final Intent emailIntent = new Intent(Intent.ACTION_SEND);\r\n    emailIntent.setType(&quot;text/plain&quot;);\r\n    emailIntent.putExtra(Intent.EXTRA_SUBJECT, subject);\r\n    emailIntent.putExtra(Intent.EXTRA_TEXT, body);\r\n    emailIntent.putExtra(Intent.EXTRA_EMAIL, new String[] {email});\r\n    \r\n    try {\r\n    context.startActivity(Intent.createChooser(emailIntent, &quot;Email:&quot;));\r\n    } catch (android.content.ActivityNotFoundException ex) {\r\n    trackException(ex);\r\n    }\r\n\r\nWhy do I get an email with empty body ? How to solve ?\r\n\r\nThanks.\r\n\r\n**ANSWER :** use `Intent.ACTION_SEND_MULTIPLE`","title":"Android 13: sending emails with Intent.ACTION_SEND doesn&#39;t work anymore","body":"<p>I use the following code to send emails from my app. It works perfectly well on Android versions below 13 ; but doesn't work on Android 13 (the email is created but the body of the email is empty)</p>\n<p>My code :</p>\n<pre><code>final Intent emailIntent = new Intent(Intent.ACTION_SEND);\nemailIntent.setType(&quot;text/plain&quot;);\nemailIntent.putExtra(Intent.EXTRA_SUBJECT, subject);\nemailIntent.putExtra(Intent.EXTRA_TEXT, body);\nemailIntent.putExtra(Intent.EXTRA_EMAIL, new String[] {email});\n\ntry {\ncontext.startActivity(Intent.createChooser(emailIntent, &quot;Email:&quot;));\n} catch (android.content.ActivityNotFoundException ex) {\ntrackException(ex);\n}\n</code></pre>\n<p>Why do I get an email with empty body ? How to solve ?</p>\n<p>Thanks.</p>\n<p><strong>ANSWER :</strong> use <code>Intent.ACTION_SEND_MULTIPLE</code></p>\n"},{"tags":["java","object","casting","integer"],"comments":[{"owner":{"account_id":19163664,"reputation":572,"user_id":13998894,"display_name":"Scrapper142"},"score":0,"creation_date":1621444494,"post_id":67607802,"comment_id":119500058,"body_markdown":"Can the converted list be a linkedList?","body":"Can the converted list be a linkedList?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1621444506,"post_id":67607802,"comment_id":119500065,"body_markdown":"Generics are extended *static time* checking. It doesn&#39;t make sense to try to change the type at runtime","body":"Generics are extended <i>static time</i> checking. It doesn&#39;t make sense to try to change the type at runtime"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1621444473,"creation_date":1621444473,"answer_id":67607915,"question_id":67607802,"body_markdown":"You can do it like this. Since you know that all objects are Integers, no checks are done to avoid ClassCastExceptions.\r\n\r\n- Stream the list of lists to a stream of lists.\r\n- Then flatten those lists into a stream of object.\r\n- cast the object to an Integer.\r\n- and collect into a List&lt;Integer&gt;\r\n```\r\nList&lt;List&lt;Object&gt;&gt; valuesModel = List.of(List.of(1,2,3,4), List.of(5,6,7,8));\r\n\r\nList&lt;Integer&gt; integers = valuesModel.stream()\r\n           .flatMap(Collection::stream)\r\n            .map(ob-&gt;(Integer)ob)\r\n             .collect(Collectors.toList());\r\n\r\nSystem.out.println(integers);\r\n```\r\nPrints\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 8]\r\n","title":"How to convert a list of object to a list of integer in Java?","body":"<p>You can do it like this. Since you know that all objects are Integers, no checks are done to avoid ClassCastExceptions.</p>\n<ul>\n<li>Stream the list of lists to a stream of lists.</li>\n<li>Then flatten those lists into a stream of object.</li>\n<li>cast the object to an Integer.</li>\n<li>and collect into a List</li>\n</ul>\n<pre><code>List&lt;List&lt;Object&gt;&gt; valuesModel = List.of(List.of(1,2,3,4), List.of(5,6,7,8));\n\nList&lt;Integer&gt; integers = valuesModel.stream()\n           .flatMap(Collection::stream)\n            .map(ob-&gt;(Integer)ob)\n             .collect(Collectors.toList());\n\nSystem.out.println(integers);\n</code></pre>\n<p>Prints</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19670891,"reputation":41,"user_id":15973966,"display_name":"Nian Van der Bruggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621444540,"creation_date":1621444540,"answer_id":67607936,"question_id":67607802,"body_markdown":"For a start it&#39;s a good practice to double check that you are in fact dealing with a list of type Integer. You may know that the only input is of that type, but anyone in the future working with your code will not (because it is not typed with Integer). After that you can simply &quot;cast&quot; it to type Integer. Some pseudo code on how to do that can be found below:\r\n    \r\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    for (List&lt;Object&gt; innerList : valuesModel) {\r\n        List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n        for (Object object : innerList) {\r\n            if (object instanceof Integer) {\r\n                integerList.add((Integer) object);\r\n            }\r\n        }\r\n        result.add(integerList);\r\n    }\r\n\r\n","title":"How to convert a list of object to a list of integer in Java?","body":"<p>For a start it's a good practice to double check that you are in fact dealing with a list of type Integer. You may know that the only input is of that type, but anyone in the future working with your code will not (because it is not typed with Integer). After that you can simply &quot;cast&quot; it to type Integer. Some pseudo code on how to do that can be found below:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\nfor (List&lt;Object&gt; innerList : valuesModel) {\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n    for (Object object : innerList) {\n        if (object instanceof Integer) {\n            integerList.add((Integer) object);\n        }\n    }\n    result.add(integerList);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4696880,"reputation":79,"user_id":3801543,"display_name":"ssomu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685698623,"creation_date":1685698623,"answer_id":76388977,"question_id":67607802,"body_markdown":"If your object contains integer values you can use below logic for getting list of values\r\n\r\n    List&lt;Integer&gt; intList =  objList.stream().map(e-&gt;e.getId()).collect(Collectors.toList());","title":"How to convert a list of object to a list of integer in Java?","body":"<p>If your object contains integer values you can use below logic for getting list of values</p>\n<pre><code>List&lt;Integer&gt; intList =  objList.stream().map(e-&gt;e.getId()).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":19519706,"reputation":177,"user_id":14281865,"display_name":"guidop21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7839,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":67607915,"answer_count":3,"score":-1,"last_activity_date":1685698623,"creation_date":1621444041,"question_id":67607802,"body_markdown":"I have a inner list of object into a list and I want to convert it in a list of Integer, because I know that its elements are Integer.\r\n\r\n    List&lt;List&lt;Object&gt;&gt; valuesModel = FCSMs.get(0).getValues();\r\n    \t\t\tfor (List&lt;Object&gt; innerList : valuesModel) {\r\n    \r\n    //CONVERT LIST OF OBJECT TO LIST OF INTEGER\r\n    \r\n    }\r\n\r\nHow Can I do?\r\n","title":"How to convert a list of object to a list of integer in Java?","body":"<p>I have a inner list of object into a list and I want to convert it in a list of Integer, because I know that its elements are Integer.</p>\n<pre><code>List&lt;List&lt;Object&gt;&gt; valuesModel = FCSMs.get(0).getValues();\n            for (List&lt;Object&gt; innerList : valuesModel) {\n\n//CONVERT LIST OF OBJECT TO LIST OF INTEGER\n\n}\n</code></pre>\n<p>How Can I do?</p>\n"},{"tags":["java","android","android-fragments","android-tablayout","android-toast"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1685698000,"post_id":76388694,"comment_id":134700519,"body_markdown":"Is the Toast view not displayed at all or the toast view is displayed but the message not?","body":"Is the Toast view not displayed at all or the toast view is displayed but the message not?"},{"owner":{"account_id":19330726,"reputation":21,"user_id":14132410,"display_name":"george oprian"},"score":0,"creation_date":1685705345,"post_id":76388694,"comment_id":134701979,"body_markdown":"The Toast view is not displayed either.","body":"The Toast view is not displayed either."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1685708687,"post_id":76388694,"comment_id":134702664,"body_markdown":"Are you sure that you get a response or failure? For fragments it is better to use `requireContext` instead of `getContext`. But in my opinion your web request might not be getting a response. So I suggest you that you put some log statements both in `onRespose` and `onFailure` in order to make sure that they are executed.","body":"Are you sure that you get a response or failure? For fragments it is better to use <code>requireContext</code> instead of <code>getContext</code>. But in my opinion your web request might not be getting a response. So I suggest you that you put some log statements both in <code>onRespose</code> and <code>onFailure</code> in order to make sure that they are executed."},{"owner":{"account_id":19330726,"reputation":21,"user_id":14132410,"display_name":"george oprian"},"score":0,"creation_date":1685738125,"post_id":76388694,"comment_id":134708582,"body_markdown":"Somehow the problem got fixed by turning off and then cold starting the emulator. I have the same code and everything is working fine. Thank&#39;s for the implication.","body":"Somehow the problem got fixed by turning off and then cold starting the emulator. I have the same code and everything is working fine. Thank&#39;s for the implication."}],"owner":{"account_id":19330726,"reputation":21,"user_id":14132410,"display_name":"george oprian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685698410,"creation_date":1685696779,"question_id":76388694,"body_markdown":"I am trying to implement a tab layout in my Android app using TabLayout and ViewPager. \r\nI have a fragment with tabbed layout.\r\nThe problem is that when I perform a call to my server I want to display a message using a Toast, but the message is not displayed.\r\n\r\n\r\nI defined the Parent Fragment as follows: \r\n\r\n```\r\npublic class BookDetailsTabbedFragment extends Fragment {\r\n\r\n    private PagerAdapter pagerAdapter;\r\n\r\n    private TabLayout tableLayout;\r\n    private ViewPager viewPager;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_book_details_tabbed, container, false);\r\n\r\n        tableLayout = view.findViewById(R.id.tab_layout);\r\n\r\n        viewPager = view.findViewById(R.id.view_pager);\r\n        tableLayout.setupWithViewPager(viewPager);\r\n\r\n        pagerAdapter = new PagerAdapter(getChildFragmentManager(),      FragmentPagerAdapter.BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n\r\n        BookDetailsFragment bookDetailsFragment = new BookDetailsFragment();\r\n        bookDetailsFragment.setArguments(getArguments());\r\n\r\n        ReviewsFragment reviewsFragment = new ReviewsFragment();\r\n        reviewsFragment.setArguments(getArguments());\r\n\r\n        pagerAdapter.initAdapter();\r\n        pagerAdapter.addFragment(bookDetailsFragment, &quot;Details&quot;);\r\n        pagerAdapter.addFragment(reviewsFragment, &quot;Reviews&quot;);\r\n\r\n        viewPager.setAdapter(pagerAdapter);\r\n\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\nThe tabs of the previous fragment are also fragments and in one of the tabs I have the following code:\r\n\r\n```\r\nBookRentRequestDto bookRentRequestDto = getBookRentRequestDto();\r\n        Call&lt;BookRentResponseDto&gt; call = WebServerAPIBuilder.getInstance().createSubscription(bookRentRequestDto);\r\n        call.enqueue(new Callback&lt;BookRentResponseDto&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;BookRentResponseDto&gt; call, retrofit2.Response&lt;BookRentResponseDto&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    Toast.makeText(getContext(), &quot;Book rented&quot;, Toast.LENGTH_LONG).show();\r\n                } else if (response.code() == 404) {\r\n                    Toast.makeText(getContext(), &quot;There are no volumes available in stock for this book. Sorry to inform you.&quot;, Toast.LENGTH_LONG).show();\r\n                } else if (response.code() == 403) {\r\n                    Toast.makeText(getContext(), &quot;You have already rented this book&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;BookRentResponseDto&gt; call, Throwable t) {\r\n                Toast.makeText(getContext(), t.getMessage(), Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n```\r\n\r\nWhy the Toast is not displaying anything? \r\n\r\nMy assumption is that when Toast.makeText(getContext(), &quot;Book rented&quot;, Toast.LENGTH_LONG).show() get&#39;s called the fragment does not use the right context. But when I tried to replace getContext() with getActivity() nothing changed. I also tried to use  getActivity().runOnUiThread(() -&gt; Toast.makeText(getActivity(), &quot;Book rented&quot;, Toast.LENGTH_LONG).show()), but the result was the same.\r\n\r\n","title":"How do I get Toast messages to show up when a response is received from the server in my Android app with TabLayout and ViewPager?","body":"<p>I am trying to implement a tab layout in my Android app using TabLayout and ViewPager.\nI have a fragment with tabbed layout.\nThe problem is that when I perform a call to my server I want to display a message using a Toast, but the message is not displayed.</p>\n<p>I defined the Parent Fragment as follows:</p>\n<pre><code>public class BookDetailsTabbedFragment extends Fragment {\n\n    private PagerAdapter pagerAdapter;\n\n    private TabLayout tableLayout;\n    private ViewPager viewPager;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_book_details_tabbed, container, false);\n\n        tableLayout = view.findViewById(R.id.tab_layout);\n\n        viewPager = view.findViewById(R.id.view_pager);\n        tableLayout.setupWithViewPager(viewPager);\n\n        pagerAdapter = new PagerAdapter(getChildFragmentManager(),      FragmentPagerAdapter.BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n\n        BookDetailsFragment bookDetailsFragment = new BookDetailsFragment();\n        bookDetailsFragment.setArguments(getArguments());\n\n        ReviewsFragment reviewsFragment = new ReviewsFragment();\n        reviewsFragment.setArguments(getArguments());\n\n        pagerAdapter.initAdapter();\n        pagerAdapter.addFragment(bookDetailsFragment, &quot;Details&quot;);\n        pagerAdapter.addFragment(reviewsFragment, &quot;Reviews&quot;);\n\n        viewPager.setAdapter(pagerAdapter);\n\n        return view;\n    }\n}\n</code></pre>\n<p>The tabs of the previous fragment are also fragments and in one of the tabs I have the following code:</p>\n<pre><code>BookRentRequestDto bookRentRequestDto = getBookRentRequestDto();\n        Call&lt;BookRentResponseDto&gt; call = WebServerAPIBuilder.getInstance().createSubscription(bookRentRequestDto);\n        call.enqueue(new Callback&lt;BookRentResponseDto&gt;() {\n            @Override\n            public void onResponse(Call&lt;BookRentResponseDto&gt; call, retrofit2.Response&lt;BookRentResponseDto&gt; response) {\n                if (response.isSuccessful()) {\n                    Toast.makeText(getContext(), &quot;Book rented&quot;, Toast.LENGTH_LONG).show();\n                } else if (response.code() == 404) {\n                    Toast.makeText(getContext(), &quot;There are no volumes available in stock for this book. Sorry to inform you.&quot;, Toast.LENGTH_LONG).show();\n                } else if (response.code() == 403) {\n                    Toast.makeText(getContext(), &quot;You have already rented this book&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;BookRentResponseDto&gt; call, Throwable t) {\n                Toast.makeText(getContext(), t.getMessage(), Toast.LENGTH_LONG).show();\n            }\n        });\n</code></pre>\n<p>Why the Toast is not displaying anything?</p>\n<p>My assumption is that when Toast.makeText(getContext(), &quot;Book rented&quot;, Toast.LENGTH_LONG).show() get's called the fragment does not use the right context. But when I tried to replace getContext() with getActivity() nothing changed. I also tried to use  getActivity().runOnUiThread(() -&gt; Toast.makeText(getActivity(), &quot;Book rented&quot;, Toast.LENGTH_LONG).show()), but the result was the same.</p>\n"},{"tags":["java","freetts"],"comments":[{"owner":{"account_id":5839721,"reputation":133,"user_id":5037699,"display_name":"beechovsky"},"score":0,"creation_date":1699452828,"post_id":64739617,"comment_id":136533154,"body_markdown":"Your exception is truncated, so it&#39;s hard to know exactly what went wrong.","body":"Your exception is truncated, so it&#39;s hard to know exactly what went wrong."}],"answers":[{"tags":[],"owner":{"account_id":19662853,"reputation":1510,"user_id":14393948,"display_name":"wloleo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685697519,"creation_date":1604850129,"answer_id":64739956,"question_id":64739617,"body_markdown":"Probably some jars were not linked correctly.. Started working as soon as I built the project using netbeans!\r\n\r\nFor those who might be having the same problem, use netbeans to avoid hassle of libraries.\r\n\r\n 1. add lib/freetts.jar from &quot;lib&quot; folder in &quot;freetts-1.2.2-src.zip&quot;\r\n    (downloadable from sf.net) \r\n 2. add jdk folder (if not already listed) to\r\n    project libraries \r\n 3. You are done! now run the code.","title":"Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.sun.speech.freetts.en.us.cmu_time_awb.AlanVoiceDirectory","body":"<p>Probably some jars were not linked correctly.. Started working as soon as I built the project using netbeans!</p>\n<p>For those who might be having the same problem, use netbeans to avoid hassle of libraries.</p>\n<ol>\n<li>add lib/freetts.jar from &quot;lib&quot; folder in &quot;freetts-1.2.2-src.zip&quot;\n(downloadable from sf.net)</li>\n<li>add jdk folder (if not already listed) to\nproject libraries</li>\n<li>You are done! now run the code.</li>\n</ol>\n"}],"owner":{"display_name":"user14600219"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685697519,"creation_date":1604848176,"question_id":64739617,"body_markdown":"I am trying to develop a program that converts text to speech using freetts in java. I had already added all the required jar files and also build path.\r\n\r\n    import com.sun.speech.freetts.Voice;\r\n    import com.sun.speech.freetts.VoiceManager;\r\n    public class TextToSpeech {\r\n\r\n\t     public static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\t     Voice voice;//Creating object of Voice class\r\n             voice = VoiceManager.getInstance().getVoice(&quot;kevin&quot;);//Getting voice\r\n             if (voice != null) {\r\n                 voice.allocate();//Allocating Voice\r\n             }\r\n             try {\r\n                 voice.setRate(190);//Setting the rate of the voice\r\n                 voice.setPitch(150);//Setting the Pitch of the voice\r\n                 voice.setVolume(3);//Setting the volume of the voice \r\n                 voice.speak(&quot;Hello world&quot;);//Calling speak() method\r\n   \r\n             }\r\n             catch(Exception e)\r\n             {\r\n            \t e.printStackTrace();\r\n             }\r\n\t\t\r\n\r\n\t     }\r\n\r\n     }\r\n\r\nBut facing an error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.sun.speech.freetts.en.us.cmu_time_awb.AlanVoiceDirectory","title":"Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.sun.speech.freetts.en.us.cmu_time_awb.AlanVoiceDirectory","body":"<p>I am trying to develop a program that converts text to speech using freetts in java. I had already added all the required jar files and also build path.</p>\n<pre><code>import com.sun.speech.freetts.Voice;\nimport com.sun.speech.freetts.VoiceManager;\npublic class TextToSpeech {\n\n     public static void main(String[] args) {\n    \n    \n         Voice voice;//Creating object of Voice class\n         voice = VoiceManager.getInstance().getVoice(&quot;kevin&quot;);//Getting voice\n         if (voice != null) {\n             voice.allocate();//Allocating Voice\n         }\n         try {\n             voice.setRate(190);//Setting the rate of the voice\n             voice.setPitch(150);//Setting the Pitch of the voice\n             voice.setVolume(3);//Setting the volume of the voice \n             voice.speak(&quot;Hello world&quot;);//Calling speak() method\n\n         }\n         catch(Exception e)\n         {\n             e.printStackTrace();\n         }\n    \n\n     }\n\n }\n</code></pre>\n<p>But facing an error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.sun.speech.freetts.en.us.cmu_time_awb.AlanVoiceDirectory\n</code></pre>\n"},{"tags":["java","string","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1685445565,"post_id":76364239,"comment_id":134657749,"body_markdown":"`String [] values = line.split(&quot;//s+&quot;);` should be `String [] values = line.split(&quot;\\\\s+&quot;);` (and yes, that matters).","body":"<code>String [] values = line.split(&quot;&#47;&#47;s+&quot;);</code> should be <code>String [] values = line.split(&quot;\\\\s+&quot;);</code> (and yes, that matters)."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685565259,"post_id":76364239,"comment_id":134679842,"body_markdown":"Did you try  `CTRL + D`?  If you are using a Mac it is `command D`","body":"Did you try  <code>CTRL + D</code>?  If you are using a Mac it is <code>command D</code>"},{"owner":{"account_id":26571773,"reputation":15,"user_id":20197889,"display_name":"Oleg Khandozhko"},"score":0,"creation_date":1685565781,"post_id":76364239,"comment_id":134679945,"body_markdown":"No, i didn&#39;t use ctrl-d. Thanks.","body":"No, i didn&#39;t use ctrl-d. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":17870988,"reputation":31,"user_id":12982289,"display_name":"Md Masud Rana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685446140,"creation_date":1685446140,"answer_id":76364334,"question_id":76364239,"body_markdown":"     Scanner sc = new Scanner(System.in);\r\n        String str=sc.nextLine();\r\n        ArrayList&lt;String&gt; yourList = new ArrayList&lt;&gt;();\r\n        String[] splited = str.split(&quot;\\\\s+&quot;);\r\n        for(String a: splited){\r\n            yourList.add(a);\r\n        }\r\n        \r\n        System.out.println(yourList);\r\n\r\ntry with this, hope it will works fine.\r\n\r\n","title":"ow to separate a string from Scanner and store each word in an ArrayList?","body":"<pre><code> Scanner sc = new Scanner(System.in);\n    String str=sc.nextLine();\n    ArrayList&lt;String&gt; yourList = new ArrayList&lt;&gt;();\n    String[] splited = str.split(&quot;\\\\s+&quot;);\n    for(String a: splited){\n        yourList.add(a);\n    }\n    \n    System.out.println(yourList);\n</code></pre>\n<p>try with this, hope it will works fine.</p>\n"},{"comments":[{"owner":{"account_id":26571773,"reputation":15,"user_id":20197889,"display_name":"Oleg Khandozhko"},"score":0,"creation_date":1685564657,"post_id":76364486,"comment_id":134679734,"body_markdown":"Hah. Very nice. So my code doesn&#39;t work because of \\\\s+ - //s+. Nice.","body":"Hah. Very nice. So my code doesn&#39;t work because of \\\\s+ - //s+. Nice."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685573534,"post_id":76364486,"comment_id":134680963,"body_markdown":"@OlegKhandozhko This is the curse of Regex. You pay a big tribute for being allowed to use Regex.","body":"@OlegKhandozhko This is the curse of Regex. You pay a big tribute for being allowed to use Regex."}],"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685573500,"creation_date":1685447270,"answer_id":76364486,"question_id":76364239,"body_markdown":"&lt;h3&gt;Java Regex Problem&lt;/h3&gt;\r\n\r\nThe **Regex** you used in the `split()` method is not correct for **Java**.\r\nString literals in **Java** `\\` **backslashes** are considered as escape characters. Therefore you have to escape the **backslash** itself. You can do this by writing `\\\\s` instead of `\\s`.\r\n\r\n\r\n**Example Code:**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n      /**\r\n       * Main method\r\n       *\r\n       * @param args Parameters passed into terminal\r\n       */\r\n      public static void main(String[] args) {\r\n    \r\n        Scanner sc = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Enter your sentence: &quot;);\r\n    \r\n        // Read user input in console\r\n        String line = sc.nextLine();\r\n    \r\n        ArrayList &lt;String&gt; yourList = new ArrayList &lt;&gt; ();\r\n    \r\n        // Split line into words - Important difference - this line of code fixes your problem\r\n        String[] values = line.split(&quot;\\\\s+&quot;);\r\n    \r\n        // Foreach-loop - Every word gets added to the ArrayList\r\n        for (String value: values) {\r\n          yourList.add(value);\r\n        }\r\n    \r\n        System.out.println(&quot;The size of your list is: &quot; + yourList.size());\r\n      }\r\n    }","title":"ow to separate a string from Scanner and store each word in an ArrayList?","body":"<h3>Java Regex Problem</h3>\n<p>The <strong>Regex</strong> you used in the <code>split()</code> method is not correct for <strong>Java</strong>.\nString literals in <strong>Java</strong> <code>\\</code> <strong>backslashes</strong> are considered as escape characters. Therefore you have to escape the <strong>backslash</strong> itself. You can do this by writing <code>\\\\s</code> instead of <code>\\s</code>.</p>\n<p><strong>Example Code:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\n  /**\n   * Main method\n   *\n   * @param args Parameters passed into terminal\n   */\n  public static void main(String[] args) {\n\n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Enter your sentence: &quot;);\n\n    // Read user input in console\n    String line = sc.nextLine();\n\n    ArrayList &lt;String&gt; yourList = new ArrayList &lt;&gt; ();\n\n    // Split line into words - Important difference - this line of code fixes your problem\n    String[] values = line.split(&quot;\\\\s+&quot;);\n\n    // Foreach-loop - Every word gets added to the ArrayList\n    for (String value: values) {\n      yourList.add(value);\n    }\n\n    System.out.println(&quot;The size of your list is: &quot; + yourList.size());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685570345,"creation_date":1685453698,"answer_id":76365413,"question_id":76364239,"body_markdown":"Your first method is fine. \r\n```\r\nScanner sc = new Scanner(System.in);\r\nArrayList&lt;String&gt; yourList = new ArrayList&lt;&gt;();\r\nwhile (sc.hasNext()) {\r\n     yourList.add(sc.next());\r\n}\r\n```\r\nThe trick is to tell `hasNext()` that there are no more entries.  You need to type the control character that signals end-of-file(EOF).\r\n-  Eclipse console it is CTRL+Z.\r\n-  Unix/Linux it should be CTRL+D.\r\n-  Windows cmd window it&#39;s CTRL+Z followed by return.\r\n-  For IntelliJ it is CTRL + D.\r\n-  Other input devices may have different ways to signal EOF.\r\n- On `Mac platforms` you may need to use &lt;code&gt;&amp;#8984;&lt;/code&gt; instead of `CTRL`\r\n\r\nSignalling EOF during command line input allows an indefinite quantity of input.","title":"ow to separate a string from Scanner and store each word in an ArrayList?","body":"<p>Your first method is fine.</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nArrayList&lt;String&gt; yourList = new ArrayList&lt;&gt;();\nwhile (sc.hasNext()) {\n     yourList.add(sc.next());\n}\n</code></pre>\n<p>The trick is to tell <code>hasNext()</code> that there are no more entries.  You need to type the control character that signals end-of-file(EOF).</p>\n<ul>\n<li>Eclipse console it is CTRL+Z.</li>\n<li>Unix/Linux it should be CTRL+D.</li>\n<li>Windows cmd window it's CTRL+Z followed by return.</li>\n<li>For IntelliJ it is CTRL + D.</li>\n<li>Other input devices may have different ways to signal EOF.</li>\n<li>On <code>Mac platforms</code> you may need to use <code>⌘</code> instead of <code>CTRL</code></li>\n</ul>\n<p>Signalling EOF during command line input allows an indefinite quantity of input.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685597925,"creation_date":1685597925,"answer_id":76378938,"question_id":76364239,"body_markdown":"In object-oriented programming there is a concept termed _&quot;[blocking](https://en.wikipedia.org/wiki/Blocking_(computing))&quot;_.\r\n\r\nIt happens when a source object can provide dynamic data to another object, and is waiting for data.\r\n\r\nAn example situation would be a _TCP/IP_ connection&amp;mdash;a server and a client.  \r\nThe server will _block_, or wait for data, before sending it to the client.  \r\nThus, if the client makes a call to get data, and the server has none, a _block_ will occur&amp;mdash;the client will wait.\r\n\r\nA similar situation happens with the _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class when given the _System.in_ as a source.  \r\nBy default, _blocking_ will occur on several of the methods&amp;mdash;in this case _[next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next())_, and _[hasNext](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNext())_.\r\n\r\nAs a note, this will not happen when _Scanner_ is sourced a _String_.  \r\nFor example, this will not _block_.\r\n\r\n```java\r\nScanner scanner = new Scanner(&quot;I love my job but i am a good lier&quot;);\r\nwhile (scanner.hasNext()) System.out.println(scanner.next());\r\n```\r\n\r\nSwitching to the _[Scanner#nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNextLine())_ is a better option, as _blocking_ will not occur when a line is submitted.\r\n\r\nAdditionally, you have the right Java code, it&#39;s the _regular expression pattern_ that is incorrect.\r\n\r\nThe concept of writing _regular expression patterns_ can be an undertaking in itself&amp;mdash;as the syntax can be quite complex, and sometimes almost too archaic to decipher.\r\n\r\nI recommend reviewing the Wikipedia article on Regular Expressions, as it provides a full overview of the syntax.  \r\nIf you&#39;re familiar with basic coding syntax, it&#39;s not hard to follow.  \r\n_[Wikipedia &amp;ndash; Regular expression](https://en.wikipedia.org/wiki/Regular_expression)_.\r\n\r\nIn your code, you&#39;re using the wrong _solidus_ characters.\r\n\r\n```java\r\nline.split(&quot;//s+&quot;);\r\n```\r\n\r\nShould be\r\n\r\n```java\r\nline.split(&quot;\\\\s+&quot;)\r\n```\r\n\r\nIf I run the following code, I&#39;ll get a valid output.\r\n\r\n```java\r\nList&lt;String&gt; yourList = new ArrayList&lt;&gt;();\r\nScanner input = new Scanner(System.in);\r\nString line = input.nextLine();\r\nString [] values = line.split(&quot;\\\\s+&quot;);\r\nfor (String a : values){\r\n    yourList.add(a);\r\n}\r\nSystem.out.println(yourList);\r\n```\r\n\r\nInput\r\n\r\n```none\r\nI love my job but i am a good lier\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[I, love, my, job, but, i, am, a, good, lier]\r\n```","title":"ow to separate a string from Scanner and store each word in an ArrayList?","body":"<p>In object-oriented programming there is a concept termed <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Blocking_(computing)\" rel=\"nofollow noreferrer\">blocking</a>&quot;</em>.</p>\n<p>It happens when a source object can provide dynamic data to another object, and is waiting for data.</p>\n<p>An example situation would be a <em>TCP/IP</em> connection—a server and a client.<br />\nThe server will <em>block</em>, or wait for data, before sending it to the client.<br />\nThus, if the client makes a call to get data, and the server has none, a <em>block</em> will occur—the client will wait.</p>\n<p>A similar situation happens with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class when given the <em>System.in</em> as a source.<br />\nBy default, <em>blocking</em> will occur on several of the methods—in this case <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">next</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNext()\" rel=\"nofollow noreferrer\">hasNext</a></em>.</p>\n<p>As a note, this will not happen when <em>Scanner</em> is sourced a <em>String</em>.<br />\nFor example, this will not <em>block</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(&quot;I love my job but i am a good lier&quot;);\nwhile (scanner.hasNext()) System.out.println(scanner.next());\n</code></pre>\n<p>Switching to the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#hasNextLine()\" rel=\"nofollow noreferrer\">Scanner#nextLine</a></em> is a better option, as <em>blocking</em> will not occur when a line is submitted.</p>\n<p>Additionally, you have the right Java code, it's the <em>regular expression pattern</em> that is incorrect.</p>\n<p>The concept of writing <em>regular expression patterns</em> can be an undertaking in itself—as the syntax can be quite complex, and sometimes almost too archaic to decipher.</p>\n<p>I recommend reviewing the Wikipedia article on Regular Expressions, as it provides a full overview of the syntax.<br />\nIf you're familiar with basic coding syntax, it's not hard to follow.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">Wikipedia – Regular expression</a></em>.</p>\n<p>In your code, you're using the wrong <em>solidus</em> characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>line.split(&quot;//s+&quot;);\n</code></pre>\n<p>Should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>line.split(&quot;\\\\s+&quot;)\n</code></pre>\n<p>If I run the following code, I'll get a valid output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; yourList = new ArrayList&lt;&gt;();\nScanner input = new Scanner(System.in);\nString line = input.nextLine();\nString [] values = line.split(&quot;\\\\s+&quot;);\nfor (String a : values){\n    yourList.add(a);\n}\nSystem.out.println(yourList);\n</code></pre>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>I love my job but i am a good lier\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[I, love, my, job, but, i, am, a, good, lier]\n</code></pre>\n"}],"owner":{"account_id":26571773,"reputation":15,"user_id":20197889,"display_name":"Oleg Khandozhko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76364486,"answer_count":4,"score":0,"last_activity_date":1685697225,"creation_date":1685445429,"question_id":76364239,"body_markdown":"How to add string from Scanner to ArrayList in split way?\r\n\r\nFirst I tried this:\r\n```\r\nScanner sc = new Scanner(System.in);\r\nArrayList&lt;String&gt; yourList = new ArrayList&lt;&gt;();\r\nwhile (sc.hasNext()) {\r\n    yourList.add(sc.next());\r\n}\r\n```\r\n\r\nBut because of sc.next it moves endlessly while I&#39;m hitting enter.\r\nAfter that I tried something like the following(+scanner+arrayList):\r\n\r\n```\r\nString line = input.nextLine();\r\nString [] values = line.split(&quot;//s+&quot;);\r\nfor (String a : values){\r\n    yourList.add(a);\r\n}\r\n```\r\n\r\nBut it is also wrong. Everything will be in a first index.\r\n\r\nAs output it should take the String from Scanner (for instance - &quot;I love my job but i am a good lier&quot;), and as output every word should be in a ArrayList.\r\n```none\r\nI\r\nlove\r\nmy \r\njob\r\netc..\r\n```\r\nand if I use .size() here, it should be 10.\r\n","title":"ow to separate a string from Scanner and store each word in an ArrayList?","body":"<p>How to add string from Scanner to ArrayList in split way?</p>\n<p>First I tried this:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nArrayList&lt;String&gt; yourList = new ArrayList&lt;&gt;();\nwhile (sc.hasNext()) {\n    yourList.add(sc.next());\n}\n</code></pre>\n<p>But because of sc.next it moves endlessly while I'm hitting enter.\nAfter that I tried something like the following(+scanner+arrayList):</p>\n<pre><code>String line = input.nextLine();\nString [] values = line.split(&quot;//s+&quot;);\nfor (String a : values){\n    yourList.add(a);\n}\n</code></pre>\n<p>But it is also wrong. Everything will be in a first index.</p>\n<p>As output it should take the String from Scanner (for instance - &quot;I love my job but i am a good lier&quot;), and as output every word should be in a ArrayList.</p>\n<pre class=\"lang-none prettyprint-override\"><code>I\nlove\nmy \njob\netc..\n</code></pre>\n<p>and if I use .size() here, it should be 10.</p>\n"},{"tags":["java","android","android-activity","oncreate","activity-lifecycle"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685690280,"post_id":76387737,"comment_id":134698981,"body_markdown":"Where do you test your app? May be another installed app causes this behavior.","body":"Where do you test your app? May be another installed app causes this behavior."},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1690559262,"post_id":76387737,"comment_id":135375480,"body_markdown":"Please try something. After installing the app on the device, go to settings and force stop it. Now open the app from the HOME screen. Do you see the same behaviour?","body":"Please try something. After installing the app on the device, go to settings and force stop it. Now open the app from the HOME screen. Do you see the same behaviour?"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1690559332,"post_id":76387737,"comment_id":135375500,"body_markdown":"What happens if you don&#39;t open the app from the installer, but just install the app (without starting it from the installer) and then open the app by clicking the app icon on the HOME screen.","body":"What happens if you don&#39;t open the app from the installer, but just install the app (without starting it from the installer) and then open the app by clicking the app icon on the HOME screen."},{"owner":{"account_id":5606439,"reputation":85,"user_id":4440860,"display_name":"Dan Gavrielov"},"score":0,"creation_date":1693125257,"post_id":76387737,"comment_id":135716665,"body_markdown":"Was this ever solved? I&#39;m getting this exact issue on a Samsung A12, to my knowledge the issue appeared after updating the OS on the device a few days ago, I can&#39;t seem to reproduce this issue on any other device/emulator","body":"Was this ever solved? I&#39;m getting this exact issue on a Samsung A12, to my knowledge the issue appeared after updating the OS on the device a few days ago, I can&#39;t seem to reproduce this issue on any other device/emulator"},{"owner":{"account_id":8263558,"reputation":102,"user_id":6423246,"display_name":"Danny E.K. van der Kolk"},"score":0,"creation_date":1693223611,"post_id":76387737,"comment_id":135727507,"body_markdown":"After the recent mandatory playstore update (targeting android 13) my app showed the same behaviour. However, after uploading it to the playstore, installing it from the playstore, and then starting it from my UI... the problem did not persist. Just like @DavidWasser proposed.","body":"After the recent mandatory playstore update (targeting android 13) my app showed the same behaviour. However, after uploading it to the playstore, installing it from the playstore, and then starting it from my UI... the problem did not persist. Just like @DavidWasser proposed."},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":1,"creation_date":1693231689,"post_id":76387737,"comment_id":135729346,"body_markdown":"You were most likely seeing this longstanding Android bug: https://stackoverflow.com/a/16447508/769265","body":"You were most likely seeing this longstanding Android bug: <a href=\"https://stackoverflow.com/a/16447508/769265\">stackoverflow.com/a/16447508/769265</a>"}],"owner":{"account_id":28733840,"reputation":21,"user_id":22005226,"display_name":"Shuvam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685696886,"creation_date":1685688229,"question_id":76387737,"body_markdown":"Does **onCreate()** get called **twice** during **first run (during installation)**?\r\n\r\n*I&#39;ve seen a couple of similar questions regarding this, but they are sufficiently different, and do not answer my question.*\r\n\r\nIn Android apps made using Java in Android Studio, when the app installs for the first time, why does it call the onCreate() twice? I experienced some issues due to this, while building an app, so I made a fresh project with an empty activity, with just *Log.d* statements to test it, and it seems to be true! I want to know why this is the case? Depending on use case, this might not be a problem but it was a tremendous problem for me.\r\n\r\n**MainActivity.java:**\r\n\r\n```\r\npackage com.example.oncreatetestapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Log.d(&quot;TESTLOG&quot;, &quot;onCreate() triggered.&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        Log.d(&quot;TESTLOG&quot;, &quot;onPause() triggered.&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Log.d(&quot;TESTLOG&quot;, &quot;onResume() triggered.&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Logcat during installation run:**\r\n\r\n```\r\n---------------------------- PROCESS STARTED (11793) for package com.example.oncreatetestapp ----------------------------\r\n2023-06-02 12:06:15.698 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onCreate() triggered.\r\n2023-06-02 12:06:15.711 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onResume() triggered.\r\n2023-06-02 12:06:18.326 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onPause() triggered.\r\n2023-06-02 12:06:18.370 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onCreate() triggered.\r\n2023-06-02 12:06:18.372 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onResume() triggered.\r\n```\r\n\r\n\r\n**Logcat during subsequent runs:**\r\n\r\n```\r\n---------------------------- PROCESS STARTED (12748) for package com.example.oncreatetestapp ----------------------------\r\n2023-06-02 12:07:55.563 12748-12748 TESTLOG                 com.example.oncreatetestapp          D  onCreate() triggered.\r\n2023-06-02 12:07:55.575 12748-12748 TESTLOG                 com.example.oncreatetestapp          D  onResume() triggered.\r\n```\r\n\r\n\r\n\r\nI changed nothing in the new Android project apart from the MainActivity, to which I added Log lines for debug purposes. \r\nAlso, this seems to be a very basic issue, yet I couldn&#39;t find a single discussion regarding this on the internet. \r\nRequest Android developer community to pitch in and help!","title":"Is it normal for onCreate() to be called twice during first installation of Android app?","body":"<p>Does <strong>onCreate()</strong> get called <strong>twice</strong> during <strong>first run (during installation)</strong>?</p>\n<p><em>I've seen a couple of similar questions regarding this, but they are sufficiently different, and do not answer my question.</em></p>\n<p>In Android apps made using Java in Android Studio, when the app installs for the first time, why does it call the onCreate() twice? I experienced some issues due to this, while building an app, so I made a fresh project with an empty activity, with just <em>Log.d</em> statements to test it, and it seems to be true! I want to know why this is the case? Depending on use case, this might not be a problem but it was a tremendous problem for me.</p>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>package com.example.oncreatetestapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Log.d(&quot;TESTLOG&quot;, &quot;onCreate() triggered.&quot;);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        Log.d(&quot;TESTLOG&quot;, &quot;onPause() triggered.&quot;);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Log.d(&quot;TESTLOG&quot;, &quot;onResume() triggered.&quot;);\n    }\n}\n</code></pre>\n<p><strong>Logcat during installation run:</strong></p>\n<pre><code>---------------------------- PROCESS STARTED (11793) for package com.example.oncreatetestapp ----------------------------\n2023-06-02 12:06:15.698 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onCreate() triggered.\n2023-06-02 12:06:15.711 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onResume() triggered.\n2023-06-02 12:06:18.326 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onPause() triggered.\n2023-06-02 12:06:18.370 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onCreate() triggered.\n2023-06-02 12:06:18.372 11793-11793 TESTLOG                 com.example.oncreatetestapp          D  onResume() triggered.\n</code></pre>\n<p><strong>Logcat during subsequent runs:</strong></p>\n<pre><code>---------------------------- PROCESS STARTED (12748) for package com.example.oncreatetestapp ----------------------------\n2023-06-02 12:07:55.563 12748-12748 TESTLOG                 com.example.oncreatetestapp          D  onCreate() triggered.\n2023-06-02 12:07:55.575 12748-12748 TESTLOG                 com.example.oncreatetestapp          D  onResume() triggered.\n</code></pre>\n<p>I changed nothing in the new Android project apart from the MainActivity, to which I added Log lines for debug purposes.\nAlso, this seems to be a very basic issue, yet I couldn't find a single discussion regarding this on the internet.\nRequest Android developer community to pitch in and help!</p>\n"},{"tags":["java","junit","ubuntu-12.04","junit4"],"comments":[{"owner":{"account_id":1789139,"reputation":5399,"user_id":1629932,"accept_rate":85,"display_name":"Vipin Verma"},"score":0,"creation_date":1403237076,"post_id":24319697,"comment_id":37590024,"body_markdown":"dunno, was going through beginner tutorials. these files were copied from the tutorial itself. Anyways got my answer, http://sqa.fyicenter.com/FAQ/JUnit/Can_You_Explain_the_Exception_No_runnable_meth.html","body":"dunno, was going through beginner tutorials. these files were copied from the tutorial itself. Anyways got my answer, <a href=\"http://sqa.fyicenter.com/FAQ/JUnit/Can_You_Explain_the_Exception_No_runnable_meth.html\" rel=\"nofollow noreferrer\">sqa.fyicenter.com/FAQ/JUnit/&hellip;</a>"},{"owner":{"account_id":3678339,"reputation":15327,"user_id":3063884,"accept_rate":92,"display_name":"CJBS"},"score":3,"creation_date":1439584396,"post_id":24319697,"comment_id":51938923,"body_markdown":"possible duplicate of [java.lang.exception no runnable methods junit](http://stackoverflow.com/questions/2818570/java-lang-exception-no-runnable-methods-junit)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2818570/java-lang-exception-no-runnable-methods-junit\">java.lang.exception no runnable methods junit</a>"},{"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"score":1,"creation_date":1523822232,"post_id":24319697,"comment_id":86707264,"body_markdown":"None of the answers worked. Turns out I had a line of double braces initialization in one of my unit tests...on JDK 8 no less...that, when deleted, caused this error to go away! It was something like myObject.setSomething(new OtherObject() {{/*Put literally anything here*/}});  It took hours to find this (kept thinking my imports were bringing in some bad static initializer from another class, bad classloader, reflection garbage, etc). I believe this *might* be a JVM bug, but have no proof, so I&#39;m leaving this as a comment instead of an answer. TL;DR &quot;Delete the {{}} part of double brace init.","body":"None of the answers worked. Turns out I had a line of double braces initialization in one of my unit tests...on JDK 8 no less...that, when deleted, caused this error to go away! It was something like myObject.setSomething(new OtherObject() {{/*Put literally anything here*/}});  It took hours to find this (kept thinking my imports were bringing in some bad static initializer from another class, bad classloader, reflection garbage, etc). I believe this <i>might</i> be a JVM bug, but have no proof, so I&#39;m leaving this as a comment instead of an answer. TL;DR &quot;Delete the {{}} part of double brace init."},{"owner":{"account_id":12837682,"reputation":949,"user_id":9286715,"display_name":"levenshtein"},"score":2,"creation_date":1600935276,"post_id":24319697,"comment_id":113247591,"body_markdown":"I got the same error and when I removed the &quot;public&quot; access modifier on my test class the error disappeared and the tests functioned just fine. Have not dig into exactly why but adding here just in case it helps others.","body":"I got the same error and when I removed the &quot;public&quot; access modifier on my test class the error disappeared and the tests functioned just fine. Have not dig into exactly why but adding here just in case it helps others."}],"answers":[{"comments":[{"owner":{"account_id":4339288,"reputation":563,"user_id":3542989,"accept_rate":46,"display_name":"Durga Swaroop"},"score":53,"creation_date":1489605473,"post_id":24319836,"comment_id":72749383,"body_markdown":"I am getting this error with Junit5 and I don&#39;t have any classes without &#39;@Test&#39;","body":"I am getting this error with Junit5 and I don&#39;t have any classes without &#39;@Test&#39;"},{"owner":{"account_id":2841840,"reputation":1680,"user_id":2441299,"accept_rate":100,"display_name":"ben_joseph"},"score":3,"creation_date":1590089974,"post_id":24319836,"comment_id":109556452,"body_markdown":"In my case, it was due to my @Before method being named setUp() instead of setup()","body":"In my case, it was due to my @Before method being named setUp() instead of setup()"},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1655292908,"post_id":24319836,"comment_id":128296703,"body_markdown":"I&#39;d like to know what&#39;s the class causing the issue. I don&#39;t think I&#39;ll have to manually check hundreds of classes just because Mockito is too shy to tell me","body":"I&#39;d like to know what&#39;s the class causing the issue. I don&#39;t think I&#39;ll have to manually check hundreds of classes just because Mockito is too shy to tell me"}],"tags":[],"owner":{"account_id":4607503,"reputation":4309,"user_id":3736555,"display_name":"4aRk Kn1gh7"},"comment_count":3,"down_vote_count":6,"up_vote_count":158,"is_accepted":true,"score":152,"last_activity_date":1403237692,"creation_date":1403237692,"answer_id":24319836,"question_id":24319697,"body_markdown":"You will get this exception, if you use the **JUnit 4.4 core runner** to execute a class that has no `&quot;@Test&quot; method`.\r\n[Kindly consult the link for more info.][1]\r\n\r\ncourtesy vipin8169\r\n\r\n\r\n  [1]: http://sqa.fyicenter.com/FAQ/JUnit/Can_You_Explain_the_Exception_No_runnable_meth.html","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>You will get this exception, if you use the <strong>JUnit 4.4 core runner</strong> to execute a class that has no <code>\"@Test\" method</code>.\n<a href=\"http://sqa.fyicenter.com/FAQ/JUnit/Can_You_Explain_the_Exception_No_runnable_meth.html\">Kindly consult the link for more info.</a></p>\n\n<p>courtesy vipin8169</p>\n"},{"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411073347,"creation_date":1411073347,"answer_id":25922064,"question_id":24319697,"body_markdown":"**I got this error because I didn&#39;t create my own test suite correctly:**\r\n\r\nHere is how I did it correctly:\r\n\r\nPut this in `Foobar.java`:\r\n\r\n    public class Foobar{\r\n        public int getfifteen(){\r\n            return 15;\r\n        }\r\n    }\r\n\r\nPut this in `FoobarTest.java`:\r\n\r\n    import static org.junit.Assert.*;\r\n    import junit.framework.JUnit4TestAdapter;\r\n    import org.junit.Test;\r\n    public class FoobarTest {\r\n        @Test\r\n        public void mytest() {\r\n            Foobar f = new Foobar();\r\n    \r\n            assert(15==f.getfifteen());\r\n        }\r\n        public static junit.framework.Test suite(){\r\n           return new JUnit4TestAdapter(FoobarTest.class);\r\n        }\r\n    }\r\n\r\nDownload `junit4-4.8.2.jar` I used the one from here:\r\n\r\n    http://www.java2s.com/Code/Jar/j/Downloadjunit4jar.htm\r\n\r\nCompile it:\r\n\r\n    javac -cp .:./libs/junit4-4.8.2.jar Foobar.java FoobarTest.java\r\n\r\nRun it: \r\n\r\n    el@failbox /home/el $ java -cp .:./libs/* org.junit.runner.JUnitCore FoobarTest\r\n    JUnit version 4.8.2\r\n    .\r\n    Time: 0.009    \r\n    OK (1 test)\r\n\r\nOne test passed.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p><strong>I got this error because I didn't create my own test suite correctly:</strong></p>\n\n<p>Here is how I did it correctly:</p>\n\n<p>Put this in <code>Foobar.java</code>:</p>\n\n<pre><code>public class Foobar{\n    public int getfifteen(){\n        return 15;\n    }\n}\n</code></pre>\n\n<p>Put this in <code>FoobarTest.java</code>:</p>\n\n<pre><code>import static org.junit.Assert.*;\nimport junit.framework.JUnit4TestAdapter;\nimport org.junit.Test;\npublic class FoobarTest {\n    @Test\n    public void mytest() {\n        Foobar f = new Foobar();\n\n        assert(15==f.getfifteen());\n    }\n    public static junit.framework.Test suite(){\n       return new JUnit4TestAdapter(FoobarTest.class);\n    }\n}\n</code></pre>\n\n<p>Download <code>junit4-4.8.2.jar</code> I used the one from here:</p>\n\n<pre><code>http://www.java2s.com/Code/Jar/j/Downloadjunit4jar.htm\n</code></pre>\n\n<p>Compile it:</p>\n\n<pre><code>javac -cp .:./libs/junit4-4.8.2.jar Foobar.java FoobarTest.java\n</code></pre>\n\n<p>Run it: </p>\n\n<pre><code>el@failbox /home/el $ java -cp .:./libs/* org.junit.runner.JUnitCore FoobarTest\nJUnit version 4.8.2\n.\nTime: 0.009    \nOK (1 test)\n</code></pre>\n\n<p>One test passed.</p>\n"},{"comments":[{"owner":{"account_id":1701130,"reputation":1765,"user_id":1561173,"display_name":"Icarus"},"score":0,"creation_date":1439541281,"post_id":29865611,"comment_id":51913827,"body_markdown":"This helped me alot. Thanks!\n\nOne remark: It may also be an option, to use the system classloader as parent of your custom classloader. See constructor parameters of [URLClassLoader](http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html#URLClassLoader-java.net.URL:A-java.lang.ClassLoader-). This way, the parent class loader will try to load the class first, only if this is not possible, the custom class loader will attempt to load the class.","body":"This helped me alot. Thanks!  One remark: It may also be an option, to use the system classloader as parent of your custom classloader. See constructor parameters of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html#URLClassLoader-java.net.URL:A-java.lang.ClassLoader-\" rel=\"nofollow noreferrer\">URLClassLoader</a>. This way, the parent class loader will try to load the class first, only if this is not possible, the custom class loader will attempt to load the class."},{"owner":{"account_id":4262727,"reputation":10508,"user_id":3486675,"display_name":"D Malan"},"score":0,"creation_date":1446426353,"post_id":29865611,"comment_id":54723969,"body_markdown":"How would you load JUnitCore in the same ClassLoader as the tests themselves?","body":"How would you load JUnitCore in the same ClassLoader as the tests themselves?"},{"owner":{"account_id":26655,"reputation":5119,"user_id":2453638,"accept_rate":93,"display_name":"gub"},"score":0,"creation_date":1446569939,"post_id":29865611,"comment_id":54793044,"body_markdown":"@user3486675 I have added an example of the safest way to do it. It ain&#39;t pretty.","body":"@user3486675 I have added an example of the safest way to do it. It ain&#39;t pretty."},{"owner":{"account_id":1119894,"reputation":2585,"user_id":1108466,"accept_rate":73,"display_name":"ALM"},"score":0,"creation_date":1464816195,"post_id":29865611,"comment_id":62644936,"body_markdown":"@gubby         Hi Gubby,  the above code does not compile (junit.addListener(...);) and cls is not defined.  We are running into this issue as well and wanted to see how to resolve it.","body":"@gubby         Hi Gubby,  the above code does not compile (junit.addListener(...);) and cls is not defined.  We are running into this issue as well and wanted to see how to resolve it."}],"tags":[],"owner":{"account_id":26655,"reputation":5119,"user_id":2453638,"accept_rate":93,"display_name":"gub"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1446569903,"creation_date":1429967410,"answer_id":29865611,"question_id":24319697,"body_markdown":"*This solution will apply to a very small percentage of people, typically people implementing their own JUnit test runners and using a separate ClassLoader.* \r\n\r\nThis can happen when you load a class from a different ClassLoader, then attempt to run that test from an instance of JUnitCore loaded from the *system* class loader. Example:\r\n\r\n\t// Load class\r\n\tURLClassLoader cl = new URLClassLoader(myTestUrls, null);\r\n\tClass&lt;?&gt;[] testCls = cl.loadClass(&quot;com.gubby.MyTest&quot;);\r\n\r\n\t// Run test\r\n\tJUnitCore junit = new JUnitCore();\r\n\tjunit.run(testCls); // Throws java.lang.Exception: No runnable methods\r\n\r\nLooking at the stack trace:\r\n\r\n\tjava.lang.Exception: No runnable methods\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:169)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:104)\r\n\tat org.junit.runners.ParentRunner.validate(ParentRunner.java:355)\r\n\tat org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:76)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n\tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n\tat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:26)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:138)\r\n\r\nThe problem actually occurs at BlockJUnit4ClassRunner:169 (assuming JUnit 4.11):\r\n\r\nhttps://github.com/junit-team/junit/blob/r4.11/src/main/java/org/junit/runners/BlockJUnit4ClassRunner.java#L95\r\n\r\nWhere it checks which methods are annotated with `@Test`:\r\n\r\n    protected List&lt;FrameworkMethod&gt; computeTestMethods() {\r\n        return getTestClass().getAnnotatedMethods(Test.class);\r\n    }\r\n\r\nIn this case, `Test.class` will have been loaded with the *system* ClassLoader (i.e.  the one that loaded JUnitCore), therefore technically none of your test methods will have been annotated with that annotation.\r\n\r\nSolution is to load JUnitCore in the same ClassLoader as the tests themselves.\r\n\r\n---\r\n\r\n**Edit**: In answer to the question from user3486675, you need to create a ClassLoader that doesn&#39;t delegate to the system class loader, e.g.:\r\n\r\n\tprivate static final class IsolatedURLClassLoader extends URLClassLoader {\r\n\t\tprivate IsolatedURLClassLoader(URL[] urls) {\r\n\t\t\t// Prevent delegation to the system class loader.\r\n\t\t\tsuper(urls, null);\r\n\t\t}\r\n    }\r\n\r\nPass this a set of URLs that includes everything you need. You can create this by filtering the system classpath. Note that you cannot simply delegate to the parent ClassLoader, because those classes would then get loaded by that rather than the ClassLoader of your test classes.\r\n\r\nThen you need to kick off the whole JUnit job from a class loaded by this ClassLoader. It gets messy here. Something like this utter filth below:\r\n\r\n\tpublic static final class ClassLoaderIsolatedTestRunner {\r\n\r\n\t\tpublic ClassLoaderIsolatedTestRunner() {\r\n\t\t\t// Disallow construction at all from wrong ClassLoader\r\n\t\t\tensureLoadedInIsolatedClassLoader(this);\r\n\t\t}\r\n\r\n\t\t// Do not rename.\r\n\t\tpublic void run_invokedReflectively(List&lt;String&gt; testClasses) throws BuildException {\r\n\t\t\t// Make sure we are not accidentally working in the system CL\r\n\t\t\tensureLoadedInIsolatedClassLoader(this);\r\n\r\n\t\t\t// Load classes\r\n\t\t\tClass&lt;?&gt;[] classes = new Class&lt;?&gt;[testClasses.size()];\r\n\t\t\tfor (int i=0; i&lt;testClasses.size(); i++) {\r\n\t\t\t\tString test = testClasses.get(i);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tclasses[i] = Class.forName(test);\r\n\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\tString msg = &quot;Unable to find class file for test [&quot;+test+&quot;]. Make sure all &quot; +\r\n\t\t\t\t\t\t\t&quot;tests sources are either included in this test target via a &#39;src&#39; &quot; +\r\n\t\t\t\t\t\t\t&quot;declaration.&quot;;\r\n\t\t\t\t\tthrow new BuildException(msg, e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Run\r\n\t\t\tJUnitCore junit = new JUnitCore();\r\n\t\t\tensureLoadedInIsolatedClassLoader(junit);\r\n\t\t\tjunit.addListener(...);\r\n\t\t\tjunit.run(classes);\r\n\t\t}\r\n\r\n\t\tprivate static void ensureLoadedInIsolatedClassLoader(Object o) {\r\n\t\t\tString objectClassLoader = o.getClass().getClassLoader().getClass().getName();\r\n\r\n\t\t\t// NB: Can&#39;t do instanceof here because they are not instances of each other.\r\n\t\t\tif (!objectClassLoader.equals(IsolatedURLClassLoader.class.getName())) {\r\n\t\t\t\tthrow new IllegalStateException(String.format(\r\n\t\t\t\t\t\t&quot;Instance of %s not loaded by a IsolatedURLClassLoader (loaded by %s)&quot;,\r\n\t\t\t\t\t\tcls, objectClassLoader));\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\nTHEN, you need to invoke the runner via reflection:\r\n\r\n    Class&lt;?&gt; runnerClass = isolatedClassLoader.loadClass(ClassLoaderIsolatedTestRunner.class.getName());\r\n\r\n\t// Invoke via reflection (List.class is OK because it just uses the string form of it)\r\n\tObject runner = runnerClass.newInstance();\r\n\tMethod method = runner.getClass().getMethod(&quot;run_invokedReflectively&quot;, List.class);\r\n    method.invoke(...);\r\n","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p><em>This solution will apply to a very small percentage of people, typically people implementing their own JUnit test runners and using a separate ClassLoader.</em> </p>\n\n<p>This can happen when you load a class from a different ClassLoader, then attempt to run that test from an instance of JUnitCore loaded from the <em>system</em> class loader. Example:</p>\n\n<pre><code>// Load class\nURLClassLoader cl = new URLClassLoader(myTestUrls, null);\nClass&lt;?&gt;[] testCls = cl.loadClass(\"com.gubby.MyTest\");\n\n// Run test\nJUnitCore junit = new JUnitCore();\njunit.run(testCls); // Throws java.lang.Exception: No runnable methods\n</code></pre>\n\n<p>Looking at the stack trace:</p>\n\n<pre><code>java.lang.Exception: No runnable methods\nat org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:169)\nat org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:104)\nat org.junit.runners.ParentRunner.validate(ParentRunner.java:355)\nat org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:76)\nat org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:57)\nat org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:26)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:138)\n</code></pre>\n\n<p>The problem actually occurs at BlockJUnit4ClassRunner:169 (assuming JUnit 4.11):</p>\n\n<p><a href=\"https://github.com/junit-team/junit/blob/r4.11/src/main/java/org/junit/runners/BlockJUnit4ClassRunner.java#L95\" rel=\"noreferrer\">https://github.com/junit-team/junit/blob/r4.11/src/main/java/org/junit/runners/BlockJUnit4ClassRunner.java#L95</a></p>\n\n<p>Where it checks which methods are annotated with <code>@Test</code>:</p>\n\n<pre><code>protected List&lt;FrameworkMethod&gt; computeTestMethods() {\n    return getTestClass().getAnnotatedMethods(Test.class);\n}\n</code></pre>\n\n<p>In this case, <code>Test.class</code> will have been loaded with the <em>system</em> ClassLoader (i.e.  the one that loaded JUnitCore), therefore technically none of your test methods will have been annotated with that annotation.</p>\n\n<p>Solution is to load JUnitCore in the same ClassLoader as the tests themselves.</p>\n\n<hr>\n\n<p><strong>Edit</strong>: In answer to the question from user3486675, you need to create a ClassLoader that doesn't delegate to the system class loader, e.g.:</p>\n\n<pre><code>private static final class IsolatedURLClassLoader extends URLClassLoader {\n    private IsolatedURLClassLoader(URL[] urls) {\n        // Prevent delegation to the system class loader.\n        super(urls, null);\n    }\n}\n</code></pre>\n\n<p>Pass this a set of URLs that includes everything you need. You can create this by filtering the system classpath. Note that you cannot simply delegate to the parent ClassLoader, because those classes would then get loaded by that rather than the ClassLoader of your test classes.</p>\n\n<p>Then you need to kick off the whole JUnit job from a class loaded by this ClassLoader. It gets messy here. Something like this utter filth below:</p>\n\n<pre><code>public static final class ClassLoaderIsolatedTestRunner {\n\n    public ClassLoaderIsolatedTestRunner() {\n        // Disallow construction at all from wrong ClassLoader\n        ensureLoadedInIsolatedClassLoader(this);\n    }\n\n    // Do not rename.\n    public void run_invokedReflectively(List&lt;String&gt; testClasses) throws BuildException {\n        // Make sure we are not accidentally working in the system CL\n        ensureLoadedInIsolatedClassLoader(this);\n\n        // Load classes\n        Class&lt;?&gt;[] classes = new Class&lt;?&gt;[testClasses.size()];\n        for (int i=0; i&lt;testClasses.size(); i++) {\n            String test = testClasses.get(i);\n            try {\n                classes[i] = Class.forName(test);\n            } catch (ClassNotFoundException e) {\n                String msg = \"Unable to find class file for test [\"+test+\"]. Make sure all \" +\n                        \"tests sources are either included in this test target via a 'src' \" +\n                        \"declaration.\";\n                throw new BuildException(msg, e);\n            }\n        }\n\n        // Run\n        JUnitCore junit = new JUnitCore();\n        ensureLoadedInIsolatedClassLoader(junit);\n        junit.addListener(...);\n        junit.run(classes);\n    }\n\n    private static void ensureLoadedInIsolatedClassLoader(Object o) {\n        String objectClassLoader = o.getClass().getClassLoader().getClass().getName();\n\n        // NB: Can't do instanceof here because they are not instances of each other.\n        if (!objectClassLoader.equals(IsolatedURLClassLoader.class.getName())) {\n            throw new IllegalStateException(String.format(\n                    \"Instance of %s not loaded by a IsolatedURLClassLoader (loaded by %s)\",\n                    cls, objectClassLoader));\n        }\n    }\n}\n</code></pre>\n\n<p>THEN, you need to invoke the runner via reflection:</p>\n\n<pre><code>Class&lt;?&gt; runnerClass = isolatedClassLoader.loadClass(ClassLoaderIsolatedTestRunner.class.getName());\n\n// Invoke via reflection (List.class is OK because it just uses the string form of it)\nObject runner = runnerClass.newInstance();\nMethod method = runner.getClass().getMethod(\"run_invokedReflectively\", List.class);\nmethod.invoke(...);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1313389,"reputation":2530,"user_id":1260882,"accept_rate":62,"display_name":"Master Chief"},"score":51,"creation_date":1562847573,"post_id":36718478,"comment_id":100512639,"body_markdown":"In my case it was `import org.junit.jupiter.api.Test;` instead.","body":"In my case it was <code>import org.junit.jupiter.api.Test;</code> instead."},{"owner":{"account_id":3133863,"reputation":497,"user_id":2650835,"accept_rate":100,"display_name":"JustRandom"},"score":0,"creation_date":1591087205,"post_id":36718478,"comment_id":109915296,"body_markdown":"Yeah can be any wrong @Test annotation import, fixing it to org.junit.Test resolves the problem. Ty!","body":"Yeah can be any wrong @Test annotation import, fixing it to org.junit.Test resolves the problem. Ty!"},{"owner":{"account_id":4908547,"reputation":270,"user_id":3954510,"accept_rate":82,"display_name":"wolf97084"},"score":0,"creation_date":1598978203,"post_id":36718478,"comment_id":112628608,"body_markdown":"Does import org.junit.Test; mean that you are using JUnit 4?","body":"Does import org.junit.Test; mean that you are using JUnit 4?"},{"owner":{"account_id":8296956,"reputation":95,"user_id":6236885,"display_name":"Piyush Upadhyay"},"score":1,"creation_date":1600860957,"post_id":36718478,"comment_id":113220235,"body_markdown":"Thanks for saving my time! I too had a testng import.","body":"Thanks for saving my time! I too had a testng import."},{"owner":{"account_id":11839294,"reputation":323,"user_id":8663622,"display_name":"John"},"score":4,"creation_date":1632555644,"post_id":36718478,"comment_id":122528903,"body_markdown":"@wolf97084 Yes, `org.junit.Test` = JUnit 4, `org.junit.jupiter.api.Test` = JUnit 5","body":"@wolf97084 Yes, <code>org.junit.Test</code> = JUnit 4, <code>org.junit.jupiter.api.Test</code> = JUnit 5"},{"owner":{"account_id":355585,"reputation":785,"user_id":694610,"accept_rate":93,"display_name":"Gustavo"},"score":0,"creation_date":1639384080,"post_id":36718478,"comment_id":124325648,"body_markdown":"It solves the error or just don&#39;t do the test?","body":"It solves the error or just don&#39;t do the test?"}],"tags":[],"owner":{"account_id":1510002,"reputation":1716,"user_id":1412370,"display_name":"awasik"},"comment_count":6,"down_vote_count":2,"up_vote_count":166,"is_accepted":false,"score":164,"last_activity_date":1461069077,"creation_date":1461069077,"answer_id":36718478,"question_id":24319697,"body_markdown":"In my case I had wrong package imported:\r\n\r\n    import org.testng.annotations.Test;\r\n\r\ninstead of\r\n\r\n    import org.junit.Test;\r\n\r\nBeware of your ide autocomplete.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>In my case I had wrong package imported:</p>\n\n<pre><code>import org.testng.annotations.Test;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>import org.junit.Test;\n</code></pre>\n\n<p>Beware of your ide autocomplete.</p>\n"},{"tags":[],"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481208162,"creation_date":1481208162,"answer_id":41042092,"question_id":24319697,"body_markdown":"In Eclipse, I had to use `New &gt; Other &gt; JUnit &gt; Junit Test`. A Java class created with the exact same text gave me the error, perhaps because it was using JUnit 3.x.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>In Eclipse, I had to use <code>New &gt; Other &gt; JUnit &gt; Junit Test</code>. A Java class created with the exact same text gave me the error, perhaps because it was using JUnit 3.x.</p>\n"},{"tags":[],"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544883549,"creation_date":1544883549,"answer_id":53794053,"question_id":24319697,"body_markdown":"The simplest solution is to add @Test annotated method to class where initialisation exception is present.\r\n\r\nIn our project we have main class with initial settings. I&#39;ve added @Test method and exception has disappeared.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>The simplest solution is to add @Test annotated method to class where initialisation exception is present.</p>\n\n<p>In our project we have main class with initial settings. I've added @Test method and exception has disappeared.</p>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632833753,"post_id":56577133,"comment_id":122595969,"body_markdown":"Which `public` do you mean?","body":"Which <code>public</code> do you mean?"},{"owner":{"account_id":8396389,"reputation":287,"user_id":6303296,"display_name":"Chris Wu"},"score":0,"creation_date":1635496003,"post_id":56577133,"comment_id":123319027,"body_markdown":"Me with exact the same mistake...","body":"Me with exact the same mistake..."},{"owner":{"account_id":9912298,"reputation":683,"user_id":7338534,"display_name":"gai-jin"},"score":2,"creation_date":1649945953,"post_id":56577133,"comment_id":127007092,"body_markdown":"what&#39;s the magic behind this fix?","body":"what&#39;s the magic behind this fix?"},{"owner":{"account_id":15031704,"reputation":66,"user_id":10931410,"display_name":"magdi amer"},"score":1,"creation_date":1688675104,"post_id":56577133,"comment_id":135109550,"body_markdown":"Thanks. Removed public in front of the class, everything worked after that","body":"Thanks. Removed public in front of the class, everything worked after that"}],"tags":[],"owner":{"account_id":14645034,"reputation":466,"user_id":10576653,"display_name":"Filip McKo"},"comment_count":4,"down_vote_count":2,"up_vote_count":47,"is_accepted":false,"score":45,"last_activity_date":1560417080,"creation_date":1560417080,"answer_id":56577133,"question_id":24319697,"body_markdown":"My controller test in big shortcut: \r\n  \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class TaskControllerTest {\r\n       //...\r\n       //tests\r\n       //\r\n    }\r\n\r\nI just removed &quot;public&quot; and magically it worked.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>My controller test in big shortcut: </p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class TaskControllerTest {\n   //...\n   //tests\n   //\n}\n</code></pre>\n\n<p>I just removed \"public\" and magically it worked.</p>\n"},{"tags":[],"owner":{"account_id":5780094,"reputation":59,"user_id":4561018,"display_name":"Larry E"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565271842,"creation_date":1565271842,"answer_id":57414089,"question_id":24319697,"body_markdown":"I was able to fix by manually adding the junit jar to my project classpath. The easiest way I found to do this was by adding a /lib directory in the project root. Then i just put the junit.jar inside /lib and junit tests starting working for me.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I was able to fix by manually adding the junit jar to my project classpath. The easiest way I found to do this was by adding a /lib directory in the project root. Then i just put the junit.jar inside /lib and junit tests starting working for me.</p>\n"},{"comments":[{"owner":{"account_id":3674935,"reputation":2038,"user_id":3061233,"accept_rate":71,"display_name":"kristjan reinhold"},"score":1,"creation_date":1612513407,"post_id":59563970,"comment_id":116795239,"body_markdown":"Yup worked for me as well - I was using junit5 tests with this annotation!","body":"Yup worked for me as well - I was using junit5 tests with this annotation!"},{"owner":{"account_id":18455101,"reputation":101,"user_id":13444099,"display_name":"Lime莉茉"},"score":0,"creation_date":1637004198,"post_id":59563970,"comment_id":123704128,"body_markdown":"Worked for me also!","body":"Worked for me also!"},{"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"score":1,"creation_date":1652697059,"post_id":59563970,"comment_id":127660289,"body_markdown":"Explanation: In JUnit5 `@RunWith` was replaced with `@ExtendWith` which is already included in `@SpringBootTest` annotation, so no need to add it.","body":"Explanation: In JUnit5 <code>@RunWith</code> was replaced with <code>@ExtendWith</code> which is already included in <code>@SpringBootTest</code> annotation, so no need to add it."}],"tags":[],"owner":{"account_id":179333,"reputation":26846,"user_id":411918,"accept_rate":100,"display_name":"Ren&#233; H&#246;hle"},"comment_count":3,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1577970721,"creation_date":1577970721,"answer_id":59563970,"question_id":24319697,"body_markdown":"I had the same problem now with testing code. That was caused in spring boot because of the `@RunWith` annotation. I have used:\r\n\r\n    @RunWith(SpringRunner.class)\r\n\r\nWith that annotation there is JUnit Vintage running which can&#39;t find any tests and gives you the error. I have removed that and only JUnit Jupiter is running and everything is fine. \r\n\r\n","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I had the same problem now with testing code. That was caused in spring boot because of the <code>@RunWith</code> annotation. I have used:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n</code></pre>\n\n<p>With that annotation there is JUnit Vintage running which can't find any tests and gives you the error. I have removed that and only JUnit Jupiter is running and everything is fine. </p>\n"},{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580336247,"creation_date":1580336247,"answer_id":59976427,"question_id":24319697,"body_markdown":"You can also get this if you mix org.junit and org.junit.jupiter annotations inadvertently.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>You can also get this if you mix org.junit and org.junit.jupiter annotations inadvertently.</p>\n"},{"tags":[],"owner":{"account_id":10924411,"reputation":581,"user_id":8029525,"display_name":"Nupur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581662237,"creation_date":1581662237,"answer_id":60221240,"question_id":24319697,"body_markdown":"I faced the same with my parent test setUp class which has annotation @RunWith(SpringRunner.class) and was being extended by other testClasses.\r\nAs there was not test in the setUpclass , and Junit was trying to find one due to annotation @RunWith(SpringRunner.class) ,it didn&#39;t find one and threw exception \r\n\r\n` No runnable methods exception in running JUnits`\r\n\r\nI made my parent class as abstract and it worked like a charm .\r\n\r\n\r\nI took help from here https://stackoverflow.com/a/10699141/8029525 .\r\nThanks for help @froh42.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I faced the same with my parent test setUp class which has annotation @RunWith(SpringRunner.class) and was being extended by other testClasses.\nAs there was not test in the setUpclass , and Junit was trying to find one due to annotation @RunWith(SpringRunner.class) ,it didn't find one and threw exception </p>\n\n<p><code>No runnable methods exception in running JUnits</code></p>\n\n<p>I made my parent class as abstract and it worked like a charm .</p>\n\n<p>I took help from here <a href=\"https://stackoverflow.com/a/10699141/8029525\">https://stackoverflow.com/a/10699141/8029525</a> .\nThanks for help @froh42.</p>\n"},{"tags":[],"owner":{"account_id":16862292,"reputation":56,"user_id":12192795,"display_name":"Arun Kumar T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583328138,"creation_date":1583328138,"answer_id":60527116,"question_id":24319697,"body_markdown":"the solution  is simple \r\nif you importing \r\n\r\n    import org.junit.Test;\r\n\r\nyou have to run as junit 4\r\n\r\n**right click -&gt;run as-&gt;Test config-&gt; test runner-&gt; as junit 4**\r\n","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>the solution  is simple \nif you importing </p>\n\n<pre><code>import org.junit.Test;\n</code></pre>\n\n<p>you have to run as junit 4</p>\n\n<p><strong>right click ->run as->Test config-> test runner-> as junit 4</strong></p>\n"},{"comments":[{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1654611579,"post_id":60984184,"comment_id":128128598,"body_markdown":"@SpringBootTest(classes = {ServletWebServerFactoryAutoConfiguration.class},\n        webEnvironment = RANDOM_PORT,\n        properties = {&quot;spring.cloud.config.enabled=false&quot;})\n@ExtendWith(MockitoExtension.class)\n@AutoConfigureMockMvc","body":"@SpringBootTest(classes = {ServletWebServerFactoryAutoConfiguration.class},         webEnvironment = RANDOM_PORT,         properties = {&quot;spring.cloud.config.enabled=false&quot;}) @ExtendWith(MockitoExtension.class) @AutoConfigureMockMvc"}],"tags":[],"owner":{"account_id":245196,"reputation":81,"user_id":5287057,"display_name":"Kashif Bashir"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1585801343,"creation_date":1585801343,"answer_id":60984184,"question_id":24319697,"body_markdown":"in my case i just disabled \r\n//@RunWith(SpringRunner.class)\r\n\r\nand there is no exception ","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>in my case i just disabled \n//@RunWith(SpringRunner.class)</p>\n\n<p>and there is no exception </p>\n"},{"tags":[],"owner":{"account_id":7805542,"reputation":197,"user_id":5903545,"display_name":"Deepak Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587298222,"creation_date":1587298222,"answer_id":61304106,"question_id":24319697,"body_markdown":"I also faced this issue and failed to figure out the reason for the same for sometimes. \r\nLater i found that auto import issue using IDE. That is **imports** of the program.\r\n\r\nBasically i was using eclipse IDE. And I was importing a wrong class `&quot;org.junit.jupiter.api.Test&quot;` into the program instead of required class `&quot;org.junit.Test&quot;.` Hence check your imports before running any programs.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I also faced this issue and failed to figure out the reason for the same for sometimes. \nLater i found that auto import issue using IDE. That is <strong>imports</strong> of the program.</p>\n\n<p>Basically i was using eclipse IDE. And I was importing a wrong class <code>\"org.junit.jupiter.api.Test\"</code> into the program instead of required class <code>\"org.junit.Test\".</code> Hence check your imports before running any programs.</p>\n"},{"tags":[],"owner":{"account_id":8826227,"reputation":7898,"user_id":6594394,"accept_rate":40,"display_name":"simibac"},"comment_count":0,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1587479203,"creation_date":1587479203,"answer_id":61345958,"question_id":24319697,"body_markdown":"I had to change the import statement:\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\n```\r\nto\r\n\r\n```java\r\nimport org.junit.Test;\r\n```","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I had to change the import statement:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\n</code></pre>\n\n<p>to</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591178887,"creation_date":1591178887,"answer_id":62170267,"question_id":24319697,"body_markdown":"If you&#39;re running test Suite via `@RunWith(Suite.class) @Suite.SuiteClasses({})` check if all provided classes are really test classes ;). \r\n\r\nIn my case one of the classes was an actual implementation, not a test class. Just a silly typo.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>If you're running test Suite via <code>@RunWith(Suite.class) @Suite.SuiteClasses({})</code> check if all provided classes are really test classes ;). </p>\n\n<p>In my case one of the classes was an actual implementation, not a test class. Just a silly typo.</p>\n"},{"tags":[],"owner":{"account_id":6330892,"reputation":914,"user_id":4915864,"accept_rate":50,"display_name":"Ghebrehiywet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593122164,"creation_date":1593122164,"answer_id":62584929,"question_id":24319697,"body_markdown":"For me I added `JUnit4.12` and `Hamcrest1.3` on the classpath and changed `import org.testng.annotations.Test;` or `import org.testng.annotations.*;` to `import org.junit.Test;`. It finally works fine!\r\n\r\n","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>For me I added <code>JUnit4.12</code> and <code>Hamcrest1.3</code> on the classpath and changed <code>import org.testng.annotations.Test;</code> or <code>import org.testng.annotations.*;</code> to <code>import org.junit.Test;</code>. It finally works fine!</p>\n"},{"tags":[],"owner":{"account_id":18583972,"reputation":21,"user_id":13542839,"display_name":"naveen chander"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594897184,"creation_date":1594897184,"answer_id":62933241,"question_id":24319697,"body_markdown":"I had similar issue/error while running JunitCore along side with Junit Jupiter(Junit5) ` JUnitCore.runClasses(classes);` after removing `@RunWith(SpringRunner.class)` and  \r\nran with `@SpringBootTest\r\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)` i am able to resolve the issue for my tests as said in the above comments.\r\nhttps://stackoverflow.com/a/59563970/13542839","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I had similar issue/error while running JunitCore along side with Junit Jupiter(Junit5) <code> JUnitCore.runClasses(classes);</code> after removing <code>@RunWith(SpringRunner.class)</code> and<br />\nran with <code>@SpringBootTest @FixMethodOrder(MethodSorters.NAME_ASCENDING)</code> i am able to resolve the issue for my tests as said in the above comments.\n<a href=\"https://stackoverflow.com/a/59563970/13542839\">https://stackoverflow.com/a/59563970/13542839</a></p>\n"},{"comments":[{"owner":{"account_id":16311070,"reputation":144,"user_id":11779689,"display_name":"Haranath Boggarapu"},"score":0,"creation_date":1610910374,"post_id":64653353,"comment_id":116275989,"body_markdown":"Thanks, i too faced same issue.","body":"Thanks, i too faced same issue."},{"owner":{"account_id":6156906,"reputation":1709,"user_id":4799599,"accept_rate":100,"display_name":"Siamak"},"score":0,"creation_date":1629578472,"post_id":64653353,"comment_id":121724945,"body_markdown":"Yeah, it&#39;s fixed but why? Can you explain a little bit?","body":"Yeah, it&#39;s fixed but why? Can you explain a little bit?"}],"tags":[],"owner":{"account_id":18479864,"reputation":349,"user_id":13462325,"display_name":"Prashant S"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1604417296,"creation_date":1604351283,"answer_id":64653353,"question_id":24319697,"body_markdown":"In my case, I was using the wrong `Test` import. The correct one was `import org.junit.Test;`","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>In my case, I was using the wrong <code>Test</code> import. The correct one was <code>import org.junit.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":20602705,"reputation":11,"user_id":15123665,"display_name":"Naidu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612191182,"creation_date":1612191182,"answer_id":65994841,"question_id":24319697,"body_markdown":"if the class annotated with @RunWith(SpringRunner.class) But we class doesn&#39;t contain any test methods then we will face this issue.\r\nSolution: if we make to **abstract** we will not get this or if remove public then also we will not face this issue.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>if the class annotated with @RunWith(SpringRunner.class) But we class doesn't contain any test methods then we will face this issue.\nSolution: if we make to <strong>abstract</strong> we will not get this or if remove public then also we will not face this issue.</p>\n"},{"tags":[],"owner":{"account_id":2407356,"reputation":1454,"user_id":2103431,"display_name":"Konstantin Grigorov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621583409,"creation_date":1621583409,"answer_id":67632770,"question_id":24319697,"body_markdown":"A bit of heuristic/experience here, I am running a **Spring Boot** project, and I was getting **JUnit Jupiter** tests appearing alongside **JUnit Vintage**. The **JUnit Vintage** ones were failing, when I removed the **public** access modifier the **Junit Vintage** tests disappeared, as a result achieving the behaviour I wanted.\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@ActiveProfiles(profiles = {&quot;test&quot;})\r\npublic class TestSuiteName {\r\n```\r\n||\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@ActiveProfiles(profiles = {&quot;test&quot;})\r\nclass TestSuiteName {\r\n```\r\n\r\nhttps://stackoverflow.com/questions/38822189/why-were-junit-jupiter-and-junit-vintage-separated-when-i-running-testcase-in-in","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>A bit of heuristic/experience here, I am running a <strong>Spring Boot</strong> project, and I was getting <strong>JUnit Jupiter</strong> tests appearing alongside <strong>JUnit Vintage</strong>. The <strong>JUnit Vintage</strong> ones were failing, when I removed the <strong>public</strong> access modifier the <strong>Junit Vintage</strong> tests disappeared, as a result achieving the behaviour I wanted.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(profiles = {&quot;test&quot;})\npublic class TestSuiteName {\n</code></pre>\n<p>||</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles(profiles = {&quot;test&quot;})\nclass TestSuiteName {\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/38822189/why-were-junit-jupiter-and-junit-vintage-separated-when-i-running-testcase-in-in\">Why were JUnit Jupiter and JUnit Vintage separated When I Running TestCase in IntelliJ?</a></p>\n"},{"comments":[{"owner":{"account_id":15696528,"reputation":683,"user_id":11325901,"display_name":"Imran Faruqi"},"score":0,"creation_date":1648461276,"post_id":67827460,"comment_id":126621022,"body_markdown":"This really worked for me. Thank you :) Could you please tell the reason why we had to use the other dependency?","body":"This really worked for me. Thank you :) Could you please tell the reason why we had to use the other dependency?"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1654603492,"post_id":67827460,"comment_id":128125412,"body_markdown":"@ImranFaruqi org.junit.jupiter.api.Test comes from JUnit 5 whereas org.junit.Test comes from an earlier major version of JUnit.","body":"@ImranFaruqi org.junit.jupiter.api.Test comes from JUnit 5 whereas org.junit.Test comes from an earlier major version of JUnit."}],"tags":[],"owner":{"account_id":3943229,"reputation":417,"user_id":3256826,"display_name":"Pijush"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1622747573,"creation_date":1622747573,"answer_id":67827460,"question_id":24319697,"body_markdown":"For me, replacing `import org.junit.jupiter.api.Test;` with `import org.junit.Test;` helped.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>For me, replacing <code>import org.junit.jupiter.api.Test;</code> with <code>import org.junit.Test;</code> helped.</p>\n"},{"tags":[],"owner":{"account_id":2846212,"reputation":359,"user_id":2444932,"display_name":"pinaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1625724231,"creation_date":1625724231,"answer_id":68296367,"question_id":24319697,"body_markdown":"If you are using import org.junit.jupiter.api.Test (Junit 5)\r\nand @RunWith(SpringRunner.class), SpringRunner is on Junit4, junit gets confused.\r\nRemoving public before class name will work as\r\nJunit 5 complains about public test classes.\r\nFrom Docs:\r\nJUnit5 is more tolerant regarding the visibilities of Test classes than JUnit4, which required everything to be public.\r\nIn this context, JUnit5 test classes can have any visibility but private, however, it is recommended to use the default package visibility, which improves readability of code. \r\n\r\n ","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>If you are using import org.junit.jupiter.api.Test (Junit 5)\nand @RunWith(SpringRunner.class), SpringRunner is on Junit4, junit gets confused.\nRemoving public before class name will work as\nJunit 5 complains about public test classes.\nFrom Docs:\nJUnit5 is more tolerant regarding the visibilities of Test classes than JUnit4, which required everything to be public.\nIn this context, JUnit5 test classes can have any visibility but private, however, it is recommended to use the default package visibility, which improves readability of code.</p>\n"},{"tags":[],"owner":{"account_id":9622004,"reputation":19,"user_id":7142915,"display_name":"Andresa Prates"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634763955,"creation_date":1634763955,"answer_id":69653032,"question_id":24319697,"body_markdown":"If there is,take out of pom.xml\r\n\r\n           &lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>If there is,take out of pom.xml</p>\n<pre><code>       &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4659290,"reputation":539,"user_id":3773944,"display_name":"Gowtham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641975164,"creation_date":1641975164,"answer_id":70678209,"question_id":24319697,"body_markdown":"I got the same error when I missed to add access modifier public to this test-case-method, after added it works. I used JUnit 4. For Junit 5, same test-case works without access specifier to test-case-method.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I got the same error when I missed to add access modifier public to this test-case-method, after added it works. I used JUnit 4. For Junit 5, same test-case works without access specifier to test-case-method.</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654611626,"creation_date":1654611626,"answer_id":72532842,"question_id":24319697,"body_markdown":"Tried this and it worked with Junit5: \r\n\r\n    @SpringBootTest(classes = {ServletWebServerFactoryAutoConfiguration.class},\r\n            webEnvironment = RANDOM_PORT,\r\n            properties = {&quot;spring.cloud.config.enabled=false&quot;})\r\n    @ExtendWith(MockitoExtension.class)\r\n    @AutoConfigureMockMvc","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>Tried this and it worked with Junit5:</p>\n<pre><code>@SpringBootTest(classes = {ServletWebServerFactoryAutoConfiguration.class},\n        webEnvironment = RANDOM_PORT,\n        properties = {&quot;spring.cloud.config.enabled=false&quot;})\n@ExtendWith(MockitoExtension.class)\n@AutoConfigureMockMvc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663752816,"creation_date":1663752816,"answer_id":73798511,"question_id":24319697,"body_markdown":"I am going to add one more solution for those using Eclipse (and Gradle):\r\n\r\nIn my case I had a trivial test class such as this one:\r\n\r\n```\r\npackage somepackage;\r\n\r\nimport static org.junit.Assert.assertFalse;\r\n\r\nimport org.junit.Test;\r\n\r\npublic class SomeTest\r\n{\r\n\t@Test\r\n\tpublic void test_someClass_doesNotDoThing_whenCreated()\r\n\t{\r\n\t\tSomeClass someClass = new SomeClass();\r\n\t\t\r\n\t\tassertFalse( &quot;&quot;, someClass.doesThing() );\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis checks all the relevant checkboxes:\r\n\r\n * Correct imports are used \r\n * `@Test` annotation is present\r\n * Test method is public\r\n * No different class loader\r\n\r\nStill got the &quot;No runnable methods&quot; exception. Apparently Eclipse didn&#39;t get the memo which I suspect is prone to occurring when either the test project or some other project in the work space has compilation errors (irrelevant to the test class).\r\n\r\nThis was resolved by:\r\n\r\n * Calling &quot;Refresh Gradle Project&quot; in Eclipse for the entire workspace (possibly optional)\r\n * Calling &quot;Project&quot; -&gt; &quot;Clean&quot; in Eclipse\r\n\r\nThis made Eclipse understand there was a valid test method in my test class.","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I am going to add one more solution for those using Eclipse (and Gradle):</p>\n<p>In my case I had a trivial test class such as this one:</p>\n<pre><code>package somepackage;\n\nimport static org.junit.Assert.assertFalse;\n\nimport org.junit.Test;\n\npublic class SomeTest\n{\n    @Test\n    public void test_someClass_doesNotDoThing_whenCreated()\n    {\n        SomeClass someClass = new SomeClass();\n        \n        assertFalse( &quot;&quot;, someClass.doesThing() );\n    }\n}\n\n</code></pre>\n<p>This checks all the relevant checkboxes:</p>\n<ul>\n<li>Correct imports are used</li>\n<li><code>@Test</code> annotation is present</li>\n<li>Test method is public</li>\n<li>No different class loader</li>\n</ul>\n<p>Still got the &quot;No runnable methods&quot; exception. Apparently Eclipse didn't get the memo which I suspect is prone to occurring when either the test project or some other project in the work space has compilation errors (irrelevant to the test class).</p>\n<p>This was resolved by:</p>\n<ul>\n<li>Calling &quot;Refresh Gradle Project&quot; in Eclipse for the entire workspace (possibly optional)</li>\n<li>Calling &quot;Project&quot; -&gt; &quot;Clean&quot; in Eclipse</li>\n</ul>\n<p>This made Eclipse understand there was a valid test method in my test class.</p>\n"},{"tags":[],"owner":{"account_id":27777881,"reputation":31,"user_id":21206856,"display_name":"Chanthy Hit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676323047,"creation_date":1676323047,"answer_id":75441272,"question_id":24319697,"body_markdown":"If using jupiter, please remove @RunWith.\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    //@RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class DepartmentServiceTests {\r\n        @Autowired\r\n        DepartmentService service;\r\n        @MockBean\r\n        DepartmentRepository repository;\r\n        @Test\r\n        public void findOneByIdTest(){\r\n            int id = 1;\r\n            Department expected = new Department(1,&quot;401E&quot;,&quot;AAC01&quot;,&quot;DL&quot;,&quot;1&quot;);\r\n            when(repository.findOneById(id)).thenReturn(expected);\r\n            Department actual = service.findOneById(id);\r\n            assertEquals(expected, actual);\r\n        }\r\n    }","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>If using jupiter, please remove @RunWith.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n//@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\npublic class DepartmentServiceTests {\n    @Autowired\n    DepartmentService service;\n    @MockBean\n    DepartmentRepository repository;\n    @Test\n    public void findOneByIdTest(){\n        int id = 1;\n        Department expected = new Department(1,&quot;401E&quot;,&quot;AAC01&quot;,&quot;DL&quot;,&quot;1&quot;);\n        when(repository.findOneById(id)).thenReturn(expected);\n        Department actual = service.findOneById(id);\n        assertEquals(expected, actual);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8659601,"reputation":865,"user_id":6482564,"display_name":"Manas Kumar Maharana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679044208,"creation_date":1679044208,"answer_id":75765665,"question_id":24319697,"body_markdown":"**Just replace jupiter Test annotation to junit (org.junit) annotation**\r\n\r\n\r\n\r\nEnjoy your coding :)","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p><strong>Just replace jupiter Test annotation to junit (org.junit) annotation</strong></p>\n<p>Enjoy your coding :)</p>\n"},{"tags":[],"owner":{"account_id":15443428,"reputation":552,"user_id":11141242,"display_name":"titoih"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685696814,"creation_date":1685696814,"answer_id":76388703,"question_id":24319697,"body_markdown":"After hundreds of test through netbeans unitary test with JUnit, I realized this:\r\n\r\nif you add libraries - such as Junit and Hamcrest - **AFTER** creating *Testing for existing class*, your testing class will get `No runnable methods exception in running JUnits`. This is because of default imports:\r\n\r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.AfterAll;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.BeforeAll;\r\n    import org.junit.jupiter.api.Test;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n\r\n\r\nInstead, should be:\r\n\r\n    import org.junit.After;\r\n    import org.junit.AfterClass;\r\n    import org.junit.Before;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.*;\r\n\r\nHope junior developers with this silly problem as me, could have some peace after my comment...","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>After hundreds of test through netbeans unitary test with JUnit, I realized this:</p>\n<p>if you add libraries - such as Junit and Hamcrest - <strong>AFTER</strong> creating <em>Testing for existing class</em>, your testing class will get <code>No runnable methods exception in running JUnits</code>. This is because of default imports:</p>\n<pre><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n</code></pre>\n<p>Instead, should be:</p>\n<pre><code>import org.junit.After;\nimport org.junit.AfterClass;\nimport org.junit.Before;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\nimport static org.junit.Assert.*;\n</code></pre>\n<p>Hope junior developers with this silly problem as me, could have some peace after my comment...</p>\n"}],"owner":{"account_id":1789139,"reputation":5399,"user_id":1629932,"accept_rate":85,"display_name":"Vipin Verma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251461,"favorite_count":0,"down_vote_count":0,"up_vote_count":130,"accepted_answer_id":24319836,"answer_count":30,"score":130,"last_activity_date":1685696814,"creation_date":1403236642,"question_id":24319697,"body_markdown":"I am trying to run the JUnit on my Linux command prompt `/opt/junit/` contains the necessary JARS(hamcrest-core-1.3.jar and junit.jar) and class files and I am using the following command to run the JUnit: \r\n\r\n    java -cp hamcrest-core-1.3.jar:junit.jar:. org.junit.runner.JUnitCore  TestRunner\r\n\r\nTestJunit class:\r\n\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.assertEquals;\r\n    public class TestJunit {\r\n       @Test\r\n       public void testAdd() {\r\n          String str= &quot;Junit is working fine&quot;;\r\n          assertEquals(&quot;Junit is working fine&quot;,str);\r\n       }\r\n    }\r\n\r\nTestRunner:\r\n\r\n    import org.junit.runner.JUnitCore;\r\n    import org.junit.runner.Result;\r\n    import org.junit.runner.notification.Failure;\r\n    \r\n    public class TestRunner {\r\n       public static void main(String[] args) {\r\n          Result result = JUnitCore.runClasses(TestJunit.class);\r\n          for (Failure failure : result.getFailures()) {\r\n             System.out.println(&quot;fail ho gaya&quot;+failure.toString());\r\n          }\r\n          System.out.println(&quot;passed:&quot;+result.wasSuccessful());\r\n       }\r\n    }  \r\n\r\nI am getting the following exception on running this\r\n\r\n    JUnit version 4.11\r\n    .E\r\n    Time: 0.003\r\n    There was 1 failure:\r\n    1) initializationError(TestRunner)\r\n    java.lang.Exception: No runnable methods\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:169)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:104)\r\n    \tat org.junit.runners.ParentRunner.validate(ParentRunner.java:355)\r\n    \tat org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:76)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    \tat org.junit.runner.Computer.getRunner(Computer.java:40)\r\n    \tat org.junit.runner.Computer$1.runnerForClass(Computer.java:31)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    \tat org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:101)\r\n    \tat org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:87)\r\n    \tat org.junit.runners.Suite.&lt;init&gt;(Suite.java:80)\r\n    \tat org.junit.runner.Computer.getSuite(Computer.java:28)\r\n    \tat org.junit.runner.Request.classes(Request.java:75)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:117)\r\n    \tat org.junit.runner.JUnitCore.runMain(JUnitCore.java:96)\r\n    \tat org.junit.runner.JUnitCore.runMainAndExit(JUnitCore.java:47)\r\n    \tat org.junit.runner.JUnitCore.main(JUnitCore.java:40)\r\n    \r\n    FAILURES!!!\r\n    Tests run: 1,  Failures: 1\r\n\r\n","title":"java.lang.Exception: No runnable methods exception in running JUnits","body":"<p>I am trying to run the JUnit on my Linux command prompt <code>/opt/junit/</code> contains the necessary JARS(hamcrest-core-1.3.jar and junit.jar) and class files and I am using the following command to run the JUnit: </p>\n\n<pre><code>java -cp hamcrest-core-1.3.jar:junit.jar:. org.junit.runner.JUnitCore  TestRunner\n</code></pre>\n\n<p>TestJunit class:</p>\n\n<pre><code>import org.junit.Test;\nimport static org.junit.Assert.assertEquals;\npublic class TestJunit {\n   @Test\n   public void testAdd() {\n      String str= \"Junit is working fine\";\n      assertEquals(\"Junit is working fine\",str);\n   }\n}\n</code></pre>\n\n<p>TestRunner:</p>\n\n<pre><code>import org.junit.runner.JUnitCore;\nimport org.junit.runner.Result;\nimport org.junit.runner.notification.Failure;\n\npublic class TestRunner {\n   public static void main(String[] args) {\n      Result result = JUnitCore.runClasses(TestJunit.class);\n      for (Failure failure : result.getFailures()) {\n         System.out.println(\"fail ho gaya\"+failure.toString());\n      }\n      System.out.println(\"passed:\"+result.wasSuccessful());\n   }\n}  \n</code></pre>\n\n<p>I am getting the following exception on running this</p>\n\n<pre><code>JUnit version 4.11\n.E\nTime: 0.003\nThere was 1 failure:\n1) initializationError(TestRunner)\njava.lang.Exception: No runnable methods\n    at org.junit.runners.BlockJUnit4ClassRunner.validateInstanceMethods(BlockJUnit4ClassRunner.java:169)\n    at org.junit.runners.BlockJUnit4ClassRunner.collectInitializationErrors(BlockJUnit4ClassRunner.java:104)\n    at org.junit.runners.ParentRunner.validate(ParentRunner.java:355)\n    at org.junit.runners.ParentRunner.&lt;init&gt;(ParentRunner.java:76)\n    at org.junit.runners.BlockJUnit4ClassRunner.&lt;init&gt;(BlockJUnit4ClassRunner.java:57)\n    at org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:10)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n    at org.junit.runner.Computer.getRunner(Computer.java:40)\n    at org.junit.runner.Computer$1.runnerForClass(Computer.java:31)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:101)\n    at org.junit.runners.model.RunnerBuilder.runners(RunnerBuilder.java:87)\n    at org.junit.runners.Suite.&lt;init&gt;(Suite.java:80)\n    at org.junit.runner.Computer.getSuite(Computer.java:28)\n    at org.junit.runner.Request.classes(Request.java:75)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:117)\n    at org.junit.runner.JUnitCore.runMain(JUnitCore.java:96)\n    at org.junit.runner.JUnitCore.runMainAndExit(JUnitCore.java:47)\n    at org.junit.runner.JUnitCore.main(JUnitCore.java:40)\n\nFAILURES!!!\nTests run: 1,  Failures: 1\n</code></pre>\n"},{"tags":["java","android","flutter","visual-studio-code","bluestacks"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684702906,"post_id":76301419,"comment_id":134551765,"body_markdown":"You need to accept the license text before you can use it. Have you tried to start Android Studio or the Android SDK manager? Your title is a bit misleading as it is not related to BlueStacks emulator as building the app already fails, so the used emulator is irrelevant.","body":"You need to accept the license text before you can use it. Have you tried to start Android Studio or the Android SDK manager? Your title is a bit misleading as it is not related to BlueStacks emulator as building the app already fails, so the used emulator is irrelevant."},{"owner":{"display_name":"user21221525"},"score":0,"creation_date":1684857704,"post_id":76301419,"comment_id":134577370,"body_markdown":"@Robert, i&#39;m sorry, but the tittle is not a misleading, because i dont know if the problem is with the emulator or the app. I only included it in the title because it&#39;s what I&#39;m trying to use. I will look into the license. Thank you for your help.","body":"@Robert, i&#39;m sorry, but the tittle is not a misleading, because i dont know if the problem is with the emulator or the app. I only included it in the title because it&#39;s what I&#39;m trying to use. I will look into the license. Thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684747184,"creation_date":1684747184,"answer_id":76304684,"question_id":76301419,"body_markdown":"You need to install and accept all license. And Android SDK components, including Android SDK Platform 33, Android Emulator, SDK Patch Applier v4, and Android SDK Build-Tools 30.0.3.\r\n\r\n```\r\nflutter doctor --android-licenses\r\n```\r\n\r\nMake sure that the environment is correct and then restart the vscode and run the program again.\r\n\r\n*Note: Please use the latest version of [**Flutter**][1] and other extensions and ensure that JDK, JAVA_HOME and other environments are correct.*\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter","title":"Problem with run app flutter on bluestacks","body":"<p>You need to install and accept all license. And Android SDK components, including Android SDK Platform 33, Android Emulator, SDK Patch Applier v4, and Android SDK Build-Tools 30.0.3.</p>\n<pre><code>flutter doctor --android-licenses\n</code></pre>\n<p>Make sure that the environment is correct and then restart the vscode and run the program again.</p>\n<p><em>Note: Please use the latest version of <a href=\"https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\" rel=\"nofollow noreferrer\"><strong>Flutter</strong></a> and other extensions and ensure that JDK, JAVA_HOME and other environments are correct.</em></p>\n"},{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685675472,"creation_date":1685675472,"answer_id":76386906,"question_id":76301419,"body_markdown":"There is a related setting `java.jdt.ls.androidSupport.enabled` in the **settings**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSpecify whether to enable Android project importing. When set to **auto**, the Android support will be enabled in Visual Studio Code - Insiders. Note: Only works for Android Gradle Plugin **3.2.0** or higher. Defaults to auto.\r\n\r\nCurrently, only the function of reading codes is provided, and more functions are still waiting to be improved.\r\n\r\n  [1]: https://i.stack.imgur.com/sO90c.png","title":"Problem with run app flutter on bluestacks","body":"<p>There is a related setting <code>java.jdt.ls.androidSupport.enabled</code> in the <strong>settings</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/sO90c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sO90c.png\" alt=\"enter image description here\" /></a></p>\n<p>Specify whether to enable Android project importing. When set to <strong>auto</strong>, the Android support will be enabled in Visual Studio Code - Insiders. Note: Only works for Android Gradle Plugin <strong>3.2.0</strong> or higher. Defaults to auto.</p>\n<p>Currently, only the function of reading codes is provided, and more functions are still waiting to be improved.</p>\n"}],"owner":{"display_name":"user21221525"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685696523,"creation_date":1684694831,"question_id":76301419,"body_markdown":"I&#39;m trying to program Flutter using VS Code and use the BlueStacks Android emulator, but I&#39;m encountering constant errors. I was told to install Java 8, which I did, but then I got an error in the terminal asking me to install Java 11, so I did that too. However, now I&#39;m getting the following error. I would like to know how to resolve this error and be able to debug my Flutter app on the Android emulator using VS Code.\r\n\r\n\r\nERROR:\r\n\r\nChecking the license for package Android SDK Platform 33 in `C:\\Program Files\\licenses`\r\nWarning: License for package Android SDK Platform 33 not accepted.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task `&#39;:app:compileDebugJavaWithJavac&#39;`.\r\n&gt; Failed to install the following Android SDK packages as some licences have not been accepted.\r\n     emulator Android Emulator\r\n     patcher;v4 SDK Patch Applier v4\r\n     build-tools;30.0.3 Android SDK Build-Tools 30.0.3\r\n     platforms;android-33 Android SDK Platform 33\r\n     tools Android SDK Tools\r\n  To build this project, accept the SDK license agreements and install the missing components using the Android Studio SDK Manager.\r\n  All licenses can be accepted using the sdkmanager command line tool:\r\n  sdkmanager --licenses\r\n  Or, to transfer the license agreements from one workstation to another, see https://developer.android.com/studio/intro/update.html#download-with-gradle\r\n\r\nUsing Android SDK: `C:\\Program Files`\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 27s\r\nException: Gradle task assembleDebug failed with exit code 1\r\nExited (sigterm)","title":"Problem with run app flutter on bluestacks","body":"<p>I'm trying to program Flutter using VS Code and use the BlueStacks Android emulator, but I'm encountering constant errors. I was told to install Java 8, which I did, but then I got an error in the terminal asking me to install Java 11, so I did that too. However, now I'm getting the following error. I would like to know how to resolve this error and be able to debug my Flutter app on the Android emulator using VS Code.</p>\n<p>ERROR:</p>\n<p>Checking the license for package Android SDK Platform 33 in <code>C:\\Program Files\\licenses</code>\nWarning: License for package Android SDK Platform 33 not accepted.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task <code>':app:compileDebugJavaWithJavac'</code>.</li>\n</ul>\n<blockquote>\n<p>Failed to install the following Android SDK packages as some licences have not been accepted.\nemulator Android Emulator\npatcher;v4 SDK Patch Applier v4\nbuild-tools;30.0.3 Android SDK Build-Tools 30.0.3\nplatforms;android-33 Android SDK Platform 33\ntools Android SDK Tools\nTo build this project, accept the SDK license agreements and install the missing components using the Android Studio SDK Manager.\nAll licenses can be accepted using the sdkmanager command line tool:\nsdkmanager --licenses\nOr, to transfer the license agreements from one workstation to another, see <a href=\"https://developer.android.com/studio/intro/update.html#download-with-gradle\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/update.html#download-with-gradle</a></p>\n</blockquote>\n<p>Using Android SDK: <code>C:\\Program Files</code></p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 27s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)</p>\n"},{"tags":["java","linux","memory","cluster-computing","pbs"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685544277,"post_id":76373701,"comment_id":134675589,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28719194,"reputation":11,"user_id":21993236,"display_name":"moody_modeller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685696393,"creation_date":1685537683,"question_id":76373701,"body_markdown":"_First question on stack overflow, do not hesitate to give me advices !_\r\n\r\nI have a model written in JAVA, which is called by a PBS script to run on a cluster. It generate time dependent data. I am trying to optimize its memory use and simulation time. To do so, I would like to store over time, the memory and time needed by the model for each year of simulation. \r\nDo you think it is possible ? And if so, how would you advise me to do ? \r\n\r\nMany thanks !\r\n\r\n(I already have tried to add the `time` argument before the call for JAVA command line, but it does not give much information.)\r\n\r\nHere is the PBS code that I use : \r\n\r\n    #!/bin/bash\r\n    #PBS -l ncpus=1\r\n    #PBS -l mem=10\r\n    #PBS -l walltime=10:00:00\r\n    \r\n    . /appli/anaconda/latest/etc/profile.d/conda.sh\r\n    conda activate MODEL\r\n      \r\n    rm -rfv $SCRATCH/0D/*\r\n    \r\n    cp -r $HOME/MODELDIRECTORY/0D $SCRATCH\r\n\r\n    cp $HOME/MODELDIRECTORY/inst/java/MODEL.jar $SCRATCH/0D\r\n    \r\n    cd $SCRATCH/0D\r\n    \r\n    time java -Xmx6g -jar MODEL.jar CONFIG.csv &gt;&amp; output.log\r\n\r\n","title":"How can I measure over time memory and time usage for my Java model run by a PBS script on a cluster?","body":"<p><em>First question on stack overflow, do not hesitate to give me advices !</em></p>\n<p>I have a model written in JAVA, which is called by a PBS script to run on a cluster. It generate time dependent data. I am trying to optimize its memory use and simulation time. To do so, I would like to store over time, the memory and time needed by the model for each year of simulation.\nDo you think it is possible ? And if so, how would you advise me to do ?</p>\n<p>Many thanks !</p>\n<p>(I already have tried to add the <code>time</code> argument before the call for JAVA command line, but it does not give much information.)</p>\n<p>Here is the PBS code that I use :</p>\n<pre><code>#!/bin/bash\n#PBS -l ncpus=1\n#PBS -l mem=10\n#PBS -l walltime=10:00:00\n\n. /appli/anaconda/latest/etc/profile.d/conda.sh\nconda activate MODEL\n  \nrm -rfv $SCRATCH/0D/*\n\ncp -r $HOME/MODELDIRECTORY/0D $SCRATCH\n\ncp $HOME/MODELDIRECTORY/inst/java/MODEL.jar $SCRATCH/0D\n\ncd $SCRATCH/0D\n\ntime java -Xmx6g -jar MODEL.jar CONFIG.csv &gt;&amp; output.log\n</code></pre>\n"},{"tags":["java","android","flutter","dart","flutter-doctor"],"comments":[{"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"score":0,"creation_date":1685687715,"post_id":76387503,"comment_id":134698500,"body_markdown":"try this: https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter","body":"try this: <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\" title=\"unable to find bundled java version on flutter\">stackoverflow.com/questions/51281702/&hellip;</a>"},{"owner":{"account_id":18460784,"reputation":829,"user_id":19992458,"display_name":"Nguyen family"},"score":0,"creation_date":1685695201,"post_id":76387503,"comment_id":134699939,"body_markdown":"Does this answer your question? [Unable to find bundled Java version on Flutter](https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\">Unable to find bundled Java version on Flutter</a>"}],"answers":[{"tags":[],"owner":{"account_id":26473109,"reputation":36,"user_id":20113435,"display_name":"AslamThachapalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685696291,"creation_date":1685696291,"answer_id":76388641,"question_id":76387503,"body_markdown":"I suppose you are using android studio Flamingo. If yes, you need not have to create any jre file or anything. Flamingo already has java binary in it. \r\nYou need not have to get this error in Flamingo. But since you are getting this, the thing you have to do is to set the environment variable for java in your ubundu machine.\r\n \r\nSteps to follow:\r\n\r\n 1. Verify you have java installed in your ubundu machine using the command `java --version` and `javac --version`. If both gives a version you are good to go. Skip step 2 and go to step 3.\r\n\r\n 2. If no java version is available, install it using the commands:\r\n\r\n &gt; sudo apt update\r\n\r\n &gt; sudo apt install default-jdk\r\n\r\n &gt; sudo apt install default-jre\r\n\r\n 3. After installation now add the java to the environment. For that first copy the java path. Use `readlink -f /usr/bin/java` . It will output something similar to this: `/usr/lib/jvm/java-11-openjdk-amd64/bin/java`, copy the output path.\r\n\r\n 4. Now use command `sudo nano /etc/environment`. This will open the /etc/environment file, you can add the JAVA_HOME variable. \r\nAdd `JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;`, remember to remove the `/bin/java` part in the end. Now save(ctrl+s) and exit(ctrl+x).\r\n\r\n 5. Now you are back on the previous terminal, use command `source /etc/environment`. \r\n\r\n 6. The variable is set now. Try `echo $JAVA_HOME`. This will output the path we just added. \r\n\r\nThat&#39;s it. Now try flutter doctor after closing and reopening the terminal.\r\n","title":"Flutter doctor issue:[!] Android Studio ✗ Unable to find bundled Java version","body":"<p>I suppose you are using android studio Flamingo. If yes, you need not have to create any jre file or anything. Flamingo already has java binary in it.\nYou need not have to get this error in Flamingo. But since you are getting this, the thing you have to do is to set the environment variable for java in your ubundu machine.</p>\n<p>Steps to follow:</p>\n<ol>\n<li><p>Verify you have java installed in your ubundu machine using the command <code>java --version</code> and <code>javac --version</code>. If both gives a version you are good to go. Skip step 2 and go to step 3.</p>\n</li>\n<li><p>If no java version is available, install it using the commands:</p>\n</li>\n</ol>\n<blockquote>\n<p>sudo apt update</p>\n</blockquote>\n<blockquote>\n<p>sudo apt install default-jdk</p>\n</blockquote>\n<blockquote>\n<p>sudo apt install default-jre</p>\n</blockquote>\n<ol start=\"3\">\n<li><p>After installation now add the java to the environment. For that first copy the java path. Use <code>readlink -f /usr/bin/java</code> . It will output something similar to this: <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code>, copy the output path.</p>\n</li>\n<li><p>Now use command <code>sudo nano /etc/environment</code>. This will open the /etc/environment file, you can add the JAVA_HOME variable.\nAdd <code>JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;</code>, remember to remove the <code>/bin/java</code> part in the end. Now save(ctrl+s) and exit(ctrl+x).</p>\n</li>\n<li><p>Now you are back on the previous terminal, use command <code>source /etc/environment</code>.</p>\n</li>\n<li><p>The variable is set now. Try <code>echo $JAVA_HOME</code>. This will output the path we just added.</p>\n</li>\n</ol>\n<p>That's it. Now try flutter doctor after closing and reopening the terminal.</p>\n"}],"owner":{"account_id":28733329,"reputation":1,"user_id":22004809,"display_name":"minal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685696291,"creation_date":1685685772,"question_id":76387503,"body_markdown":"Flutter doctor showing this issue what is the solution for it?Is there any android studio installation issues or what?\r\n(https://i.stack.imgur.com/meCR3.png)\r\n\r\nI have accepted all android licenses. Created jre file in android studio folder and copied all jbr contents to jre.Still issue is there. Result after running flutter doctor:\r\nubuntu@ubuntu-Latitude-7480:~$ flutter doctor\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n Flutter (Channel stable, 3.10.2, on Ubuntu 22.10 5.19.0-21-generic, locale\r\n    en_IN)\r\n Android toolchain - develop for Android devices (Android SDK version 33.0.2)\r\n Chrome - develop for the web\r\n Linux toolchain - develop for Linux desktop\r\n Android Studio (version 2022.2)\r\n Android Studio\r\n Android Studio\r\n    ✗ Unable to find bundled Java version.\r\n Android Studio\r\n VS Code\r\n Connected device (2 available)\r\n Network resources`\r\n\r\n! Doctor found issues in 1 category.\r\n","title":"Flutter doctor issue:[!] Android Studio ✗ Unable to find bundled Java version","body":"<p>Flutter doctor showing this issue what is the solution for it?Is there any android studio installation issues or what?\n(<a href=\"https://i.stack.imgur.com/meCR3.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/meCR3.png</a>)</p>\n<p>I have accepted all android licenses. Created jre file in android studio folder and copied all jbr contents to jre.Still issue is there. Result after running flutter doctor:\nubuntu@ubuntu-Latitude-7480:~$ flutter doctor\nDoctor summary (to see all details, run flutter doctor -v):\nFlutter (Channel stable, 3.10.2, on Ubuntu 22.10 5.19.0-21-generic, locale\nen_IN)\nAndroid toolchain - develop for Android devices (Android SDK version 33.0.2)\nChrome - develop for the web\nLinux toolchain - develop for Linux desktop\nAndroid Studio (version 2022.2)\nAndroid Studio\nAndroid Studio\n✗ Unable to find bundled Java version.\nAndroid Studio\nVS Code\nConnected device (2 available)\nNetwork resources`</p>\n<p>! Doctor found issues in 1 category.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685660120,"post_id":76386116,"comment_id":134695791,"body_markdown":"*Output:...* Output by doing what?","body":"<i>Output:...</i> Output by doing what?"},{"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"score":0,"creation_date":1685660792,"post_id":76386116,"comment_id":134695883,"body_markdown":"Is this output by printing the list of maps you create? I&#39;m a bit confused!","body":"Is this output by printing the list of maps you create? I&#39;m a bit confused!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1685661019,"post_id":76386116,"comment_id":134695903,"body_markdown":"What you have created is a list of maps with each map containing one element.  And you are trying to make it *look like* a list containing a single map.  Why don&#39;t you just *create it* as a list containing a single map containing all of the entriers?  Or am I missing something ...","body":"What you have created is a list of maps with each map containing one element.  And you are trying to make it <i>look like</i> a list containing a single map.  Why don&#39;t you just <i>create it</i> as a list containing a single map containing all of the entriers?  Or am I missing something ..."},{"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"score":0,"creation_date":1685661042,"post_id":76386116,"comment_id":134695908,"body_markdown":"Yes, printing the elements in the array. I have added a print statement","body":"Yes, printing the elements in the array. I have added a print statement"},{"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"score":0,"creation_date":1685661183,"post_id":76386116,"comment_id":134695925,"body_markdown":"@StephenC please demonstrate your suggetion in an answer box for better understanding. Thanks","body":"@StephenC please demonstrate your suggetion in an answer box for better understanding. Thanks"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685661954,"post_id":76386116,"comment_id":134696013,"body_markdown":"Does this answer your question? [Convert List of Maps to single Map via streams](https://stackoverflow.com/questions/42490314/convert-list-of-maps-to-single-map-via-streams). Just change the solution at https://stackoverflow.com/a/42520687/721855 to return a List or add the resulting Map to a new list.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42490314/convert-list-of-maps-to-single-map-via-streams\">Convert List of Maps to single Map via streams</a>. Just change the solution at <a href=\"https://stackoverflow.com/a/42520687/721855\">stackoverflow.com/a/42520687/721855</a> to return a List or add the resulting Map to a new list."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685662690,"creation_date":1685661715,"answer_id":76386285,"question_id":76386116,"body_markdown":"I think you want a Map returned, not a *List* of Maps:\r\n\r\n```\r\npublic Map&lt;String, String&gt; getDemoNames() {\r\n    Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n    for (Object result : resultList) {\r\n        Object[] row = (Object[]) result;\r\n        String key = String.valueOf(row[0]);\r\n        String value = String.valueOf(row[1]);\r\n        map.put(key, value);\r\n    }\r\n    // Consider printing from the call point instead to keep this code clean\r\n    System.out.println(map);\r\n    return map;\r\n}\r\n```\r\n\r\nUsing a `LinkedHashMap` instead of a `HashMap` iterates over its entries in insertion order, so calling its `toString()` will render in the same order as `resultList`.\r\n\r\nConsider storing objects of a class with appropirately named String fields in `resultList` instead of `Object[]`, which would make your code less brittle and more readable.","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>I think you want a Map returned, not a <em>List</em> of Maps:</p>\n<pre><code>public Map&lt;String, String&gt; getDemoNames() {\n    Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\n    for (Object result : resultList) {\n        Object[] row = (Object[]) result;\n        String key = String.valueOf(row[0]);\n        String value = String.valueOf(row[1]);\n        map.put(key, value);\n    }\n    // Consider printing from the call point instead to keep this code clean\n    System.out.println(map);\n    return map;\n}\n</code></pre>\n<p>Using a <code>LinkedHashMap</code> instead of a <code>HashMap</code> iterates over its entries in insertion order, so calling its <code>toString()</code> will render in the same order as <code>resultList</code>.</p>\n<p>Consider storing objects of a class with appropirately named String fields in <code>resultList</code> instead of <code>Object[]</code>, which would make your code less brittle and more readable.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685663026,"creation_date":1685661783,"answer_id":76386289,"question_id":76386116,"body_markdown":"This seems like an [XY problem][1].  It seems like your real problem is generating output that looks a certain way, and you have picked the wrong intermediate data structure.  Now you are trying to compensate for the wrong choice with some clever transformation of the `toString()` output from the data structure to get your desired output.\r\n\r\nIf you have no knowledge of what is in the map&#39;s key / value pairs, then using `replaceAll` to remove unwanted brackets is fragile.\r\n\r\nBut I think the problem is deeper than that.  You are creating a list of maps where each map contains one element, but you are trying to make it *look* like a list containing a single (combined) map.  So ... why not create it as a single map?\r\n\r\n        public List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\r\n            List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\r\n            Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n            for (Object result : resultList) {\r\n                Object[] row = (Object[]) result;\r\n\r\n                // The following removes braces from the key and\r\n                // value strings.  This is unnecessary ... unless\r\n                // you are expecting such stuff in the result list.\r\n                String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); \r\n                String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\r\n\r\n                map.put(key, value);\r\n            }\r\n            demoNames.add(map);\r\n            System.out.println(demoNames);\r\n            return demoNames;\r\n        }\r\n\r\nFurthermore, there isn&#39;t any obvious reason to have the list here.  It doesn&#39;t appear to serve any purpose.  (Except maybe to preserve the order of the key-value pairs.  And the `LinkedHashMap` preserves that.)\r\n\r\n----------------\r\n\r\nOn the other hand ... if you really do need to generate a list of maps, then the best way to format that data as you want would be iterate the maps using `for` loops or streams.  See @knittl&#39;s answer for example.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XY_problem","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>This seems like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>.  It seems like your real problem is generating output that looks a certain way, and you have picked the wrong intermediate data structure.  Now you are trying to compensate for the wrong choice with some clever transformation of the <code>toString()</code> output from the data structure to get your desired output.</p>\n<p>If you have no knowledge of what is in the map's key / value pairs, then using <code>replaceAll</code> to remove unwanted brackets is fragile.</p>\n<p>But I think the problem is deeper than that.  You are creating a list of maps where each map contains one element, but you are trying to make it <em>look</em> like a list containing a single (combined) map.  So ... why not create it as a single map?</p>\n<pre><code>    public List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\n        List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\n        Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\n        for (Object result : resultList) {\n            Object[] row = (Object[]) result;\n\n            // The following removes braces from the key and\n            // value strings.  This is unnecessary ... unless\n            // you are expecting such stuff in the result list.\n            String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); \n            String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\n\n            map.put(key, value);\n        }\n        demoNames.add(map);\n        System.out.println(demoNames);\n        return demoNames;\n    }\n</code></pre>\n<p>Furthermore, there isn't any obvious reason to have the list here.  It doesn't appear to serve any purpose.  (Except maybe to preserve the order of the key-value pairs.  And the <code>LinkedHashMap</code> preserves that.)</p>\n<hr />\n<p>On the other hand ... if you really do need to generate a list of maps, then the best way to format that data as you want would be iterate the maps using <code>for</code> loops or streams.  See @knittl's answer for example.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685661893,"creation_date":1685661893,"answer_id":76386299,"question_id":76386116,"body_markdown":"You have a list of maps with each map only having a single entry (because the map is created inside the loop and then added to the list).\r\n\r\nThere are at least three options to get the output in the format you request:\r\n\r\n1. Populate your data structure in the expected layout in the first place. Meaning that you have a list with a single map (and the map contains all the entries). _Presumably, this is the solution which you actually want:_ Create the map outside the loop, then populate it from within the loop (each loop iteration puts an entry into the map).\r\n\r\n2. Manually build the output string:\r\n\r\n       boolean first = true;\r\n       final StringBuilder sb = new StringBuilder();\r\n       sb.append(&quot;[{&quot;);\r\n       for (final Map&lt;String, String&gt; map : demoNames) {\r\n         for (final Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n           if (!first) sb.append(&quot;, &quot;);\r\n           first = false;\r\n           sb.append(entry.getKey()).append(&#39;=&#39;).append(entry.getValue());\r\n         }\r\n       }\r\n       sb.append(&quot;}]&quot;);\r\n       System.out.println(sb);\r\n\r\n3. Transform the map into the expected format, then use `toString` on the map:\r\n\r\n       final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n       for (final Map&lt;String, String&gt; demoName : demoNames) {\r\n         map.putAll(demoName);\r\n       }\r\n       System.out.println(map);","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>You have a list of maps with each map only having a single entry (because the map is created inside the loop and then added to the list).</p>\n<p>There are at least three options to get the output in the format you request:</p>\n<ol>\n<li><p>Populate your data structure in the expected layout in the first place. Meaning that you have a list with a single map (and the map contains all the entries). <em>Presumably, this is the solution which you actually want:</em> Create the map outside the loop, then populate it from within the loop (each loop iteration puts an entry into the map).</p>\n</li>\n<li><p>Manually build the output string:</p>\n<pre><code>boolean first = true;\nfinal StringBuilder sb = new StringBuilder();\nsb.append(&quot;[{&quot;);\nfor (final Map&lt;String, String&gt; map : demoNames) {\n  for (final Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n    if (!first) sb.append(&quot;, &quot;);\n    first = false;\n    sb.append(entry.getKey()).append('=').append(entry.getValue());\n  }\n}\nsb.append(&quot;}]&quot;);\nSystem.out.println(sb);\n</code></pre>\n</li>\n<li><p>Transform the map into the expected format, then use <code>toString</code> on the map:</p>\n<pre><code>final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nfor (final Map&lt;String, String&gt; demoName : demoNames) {\n  map.putAll(demoName);\n}\nSystem.out.println(map);\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685663562,"creation_date":1685663562,"answer_id":76386382,"question_id":76386116,"body_markdown":"You could possibly try it this way too:\r\n\r\n    String output = getDemoNames().stream().\r\n        flatMap(m -&gt;m.entrySet().stream()).\r\n        map(e -&gt;e.getKey() + &quot;=&quot; + e.getValue()).\r\n        collect(Collectors.joining(&quot;, &quot;, &quot;[{&quot;, &quot;}]&quot;));\r\n    System.out.println(output);\r\n\r\n","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>You could possibly try it this way too:</p>\n<pre><code>String output = getDemoNames().stream().\n    flatMap(m -&gt;m.entrySet().stream()).\n    map(e -&gt;e.getKey() + &quot;=&quot; + e.getValue()).\n    collect(Collectors.joining(&quot;, &quot;, &quot;[{&quot;, &quot;}]&quot;));\nSystem.out.println(output);\n</code></pre>\n"}],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76386285,"answer_count":4,"score":0,"last_activity_date":1685696284,"creation_date":1685658859,"question_id":76386116,"body_markdown":"My code works OK by returning the expected key-value pair output from an sql query, however the formatting of the output needs to be changed. I tried removing the curly brackets around each key-value pair contained in the array, but I couldnt succeed with that.\r\n\r\nThis is what I have tried, but it didn&#39;t work:\r\n\r\n```\r\npublic List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\r\n    List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\r\n    for (Object result : resultList) {\r\n        Object[] row = (Object[]) result;\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); //I tried removing the curly bracket this way\r\n        String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\r\n        map.put(key, value);\r\n        demoNames.add(map);\r\n    \r\n        System.out.println(demoNames);\r\n    }\r\n    return demoNames;\r\n}\r\n```\r\n\r\nOutput: `[{001=DEMO}, {002=APPLE}, {003=GOOGLE}, {004=ALAMANCE COUNTY}]`\r\n\r\nWhat I want is to get the output in this format:\r\n\r\n```none\r\n[{001=DEMO, 002=APPLE, 003=GOOGLE, 004=ALAMANCE COUNTY}]\r\n```\r\n\r\nHow do I achieve this?\r\n\r\n\r\n\r\n\r\n","title":"Is there a Java way to format an array output by removing the curly brackets around each key-value pair?","body":"<p>My code works OK by returning the expected key-value pair output from an sql query, however the formatting of the output needs to be changed. I tried removing the curly brackets around each key-value pair contained in the array, but I couldnt succeed with that.</p>\n<p>This is what I have tried, but it didn't work:</p>\n<pre><code>public List&lt;Map&lt;String, String&gt;&gt; getDemoNames() {\n    List&lt;Map&lt;String, String&gt;&gt; demoNames = new ArrayList&lt;&gt;();\n    for (Object result : resultList) {\n        Object[] row = (Object[]) result;\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        String key = String.valueOf(row[0]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;); //I tried removing the curly bracket this way\n        String value = String.valueOf(row[1]).trim().replaceAll(&quot;[{}]&quot;, &quot;&quot;);\n        map.put(key, value);\n        demoNames.add(map);\n    \n        System.out.println(demoNames);\n    }\n    return demoNames;\n}\n</code></pre>\n<p>Output: <code>[{001=DEMO}, {002=APPLE}, {003=GOOGLE}, {004=ALAMANCE COUNTY}]</code></p>\n<p>What I want is to get the output in this format:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{001=DEMO, 002=APPLE, 003=GOOGLE, 004=ALAMANCE COUNTY}]\n</code></pre>\n<p>How do I achieve this?</p>\n"},{"tags":["java","google-earth-engine"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685696571,"post_id":76388636,"comment_id":134700215,"body_markdown":"well, yes, if you don&#39;t call a function or method, the errors in that method won&#39;t cause trouble. apparently &#39;composite&#39; is not defined yet when you add that line, which would be odd, since you only define it there.","body":"well, yes, if you don&#39;t call a function or method, the errors in that method won&#39;t cause trouble. apparently &#39;composite&#39; is not defined yet when you add that line, which would be odd, since you only define it there."},{"owner":{"account_id":27261134,"reputation":1,"user_id":20783943,"display_name":"idris wada"},"score":0,"creation_date":1685697928,"post_id":76388636,"comment_id":134700495,"body_markdown":"thank you, I corrected it and it run successfully","body":"thank you, I corrected it and it run successfully"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1685699669,"post_id":76388636,"comment_id":134700848,"body_markdown":"it might be helpful for the next person to run into this, if you edit your question to show the solution you&#39;ve implemented, or add it as an answer and accept it","body":"it might be helpful for the next person to run into this, if you edit your question to show the solution you&#39;ve implemented, or add it as an answer and accept it"}],"owner":{"account_id":27261134,"reputation":1,"user_id":20783943,"display_name":"idris wada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685696251,"creation_date":1685696251,"question_id":76388636,"body_markdown":"i want to conduct supervised classification, but i intended to calculate NDVI, NDWI, and NDBI indices prio to classification using the code below;\r\n\r\n```\r\nMap.addLayer(hjrb);\r\nvar image = ee.ImageCollection(&quot;LANDSAT/LC08/C02/T1_L2&quot;)\r\n.filterDate(&quot;2014-01-01&quot;, &quot;2015-12-31&quot;)\r\n.filterMetadata(&quot;CLOUD_COVER&quot;, &quot;less_than&quot;, 1)\r\n.filterBounds(hjrb)\r\n.mean();\r\nvar visParamfalse = {bands: [&quot;SR_B3&quot;,&quot;SR_B4&quot;,&quot;SR_B5&quot;]};\r\nMap.addLayer (image.clip(hjrb), visParamfalse, &#39;study2015&#39;);\r\nMap.centerObject(hjrb, 8);\r\n\r\n//indices\r\nvar addIndices = function(image){\r\n  var gndvi = image.normalizedDifference([&#39;SR_B5&#39;, &#39;SR_B3&#39;]).rename([&#39;gndvi&#39;]);\r\n  var ndbi = image.normalizedDifference([&#39;SR_B5&#39;, &#39;SR_B4&#39;]).rename([&#39;ndbi&#39;]);\r\n  var ndwi = image.normalizedDifference([&#39;SR_B3&#39;, &#39;SR_B5&#39;]).rename([&#39;ndwi&#39;]);\r\n\r\n  return image.addBands(gndvi).addBands(ndbi).addBands(ndwi);\r\n  };\r\n\r\nvar composite = addIndices (composite);\r\n```\r\n\r\n\r\nafter running this code, i got this error &quot;Cannot read property &#39;normalizedDifference&#39; of undefined&quot; \r\n\r\nundefined&quot; but i remove `var composite = addIndices (composite);` the code runs successfully.\r\nplease kindly help me through.","title":"Cannot read property &#39;normalizedDifference&#39; of undefined","body":"<p>i want to conduct supervised classification, but i intended to calculate NDVI, NDWI, and NDBI indices prio to classification using the code below;</p>\n<pre><code>Map.addLayer(hjrb);\nvar image = ee.ImageCollection(&quot;LANDSAT/LC08/C02/T1_L2&quot;)\n.filterDate(&quot;2014-01-01&quot;, &quot;2015-12-31&quot;)\n.filterMetadata(&quot;CLOUD_COVER&quot;, &quot;less_than&quot;, 1)\n.filterBounds(hjrb)\n.mean();\nvar visParamfalse = {bands: [&quot;SR_B3&quot;,&quot;SR_B4&quot;,&quot;SR_B5&quot;]};\nMap.addLayer (image.clip(hjrb), visParamfalse, 'study2015');\nMap.centerObject(hjrb, 8);\n\n//indices\nvar addIndices = function(image){\n  var gndvi = image.normalizedDifference(['SR_B5', 'SR_B3']).rename(['gndvi']);\n  var ndbi = image.normalizedDifference(['SR_B5', 'SR_B4']).rename(['ndbi']);\n  var ndwi = image.normalizedDifference(['SR_B3', 'SR_B5']).rename(['ndwi']);\n\n  return image.addBands(gndvi).addBands(ndbi).addBands(ndwi);\n  };\n\nvar composite = addIndices (composite);\n</code></pre>\n<p>after running this code, i got this error &quot;Cannot read property 'normalizedDifference' of undefined&quot;</p>\n<p>undefined&quot; but i remove <code>var composite = addIndices (composite);</code> the code runs successfully.\nplease kindly help me through.</p>\n"},{"tags":["javascript","java","security","struts2","content-security-policy"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1674576988,"post_id":75216534,"comment_id":132741374,"body_markdown":"[Please post text, not images.](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">Please post text, not images.</a>"}],"answers":[{"comments":[{"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"score":0,"creation_date":1674581402,"post_id":75217815,"comment_id":132742888,"body_markdown":"hello thank you very much friend, I tried to find something that adds that header, however I have not found it since this error has arisen when I have updated the version of struts","body":"hello thank you very much friend, I tried to find something that adds that header, however I have not found it since this error has arisen when I have updated the version of struts"},{"owner":{"account_id":12717906,"reputation":2771,"user_id":9239311,"display_name":"Halvor Sakshaug"},"score":0,"creation_date":1674625657,"post_id":75217815,"comment_id":132752072,"body_markdown":"Could be code, web server, proxy, frameworks... If code/config is searchable you should be able to find &quot;content-security-policy-report-only&quot; (in some casing), &quot;strict-dynamic&quot; or &quot;nonce-&quot; as they should fairly unique strings.","body":"Could be code, web server, proxy, frameworks... If code/config is searchable you should be able to find &quot;content-security-policy-report-only&quot; (in some casing), &quot;strict-dynamic&quot; or &quot;nonce-&quot; as they should fairly unique strings."}],"tags":[],"owner":{"account_id":12717906,"reputation":2771,"user_id":9239311,"display_name":"Halvor Sakshaug"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674539156,"creation_date":1674539156,"answer_id":75217815,"question_id":75216534,"body_markdown":"The content of your policies and the one in the error message don&#39;t match, and while you are adding &quot;Content-Security-Policy&quot;, the error message is for &quot;Content-Security-Policy-Report-Only&quot;. This means that there is another header present, and you are adding another. Adding another can only make the policy stricter. The report only version of Content-Security-Policy doesn&#39;t actually block anything, and must be set as a response header. You should identify where this header is set and modify it as needed.\r\n\r\nAdditionally you should replace jquery-1.8.3 with a recent version that doesn&#39;t have known vulnerabilities. ","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>The content of your policies and the one in the error message don't match, and while you are adding &quot;Content-Security-Policy&quot;, the error message is for &quot;Content-Security-Policy-Report-Only&quot;. This means that there is another header present, and you are adding another. Adding another can only make the policy stricter. The report only version of Content-Security-Policy doesn't actually block anything, and must be set as a response header. You should identify where this header is set and modify it as needed.</p>\n<p>Additionally you should replace jquery-1.8.3 with a recent version that doesn't have known vulnerabilities.</p>\n"},{"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1675081936,"post_id":75252633,"comment_id":132845005,"body_markdown":"@SebastianRuiz Were you able to test any of the proposed solutions?","body":"@SebastianRuiz Were you able to test any of the proposed solutions?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1675189387,"post_id":75252633,"comment_id":132873840,"body_markdown":"You are welcome @SebastianRuiz. I am very happy to hear that the answer was helpful.","body":"You are welcome @SebastianRuiz. I am very happy to hear that the answer was helpful."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674908811,"creation_date":1674775088,"answer_id":75252633,"question_id":75216534,"body_markdown":"Struts provides support for [`Content-Security-Policy`](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) since [version 6.x](https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc).\r\n\r\nThe functionality is implemented primarily in [`CspInterceptor`](https://github.com/apache/struts/blob/4d58dd1960a6fefef562ed578c42e3671c357279/core/src/main/java/org/apache/struts2/interceptor/csp/CspInterceptor.java).\r\n\r\nThis interceptor is configured by providing a convenient [default implementation](https://github.com/apache/struts/blob/8c4a90f6e3b20697d3e57134a983b2c694e5fe75/core/src/main/java/org/apache/struts2/interceptor/csp/DefaultCspSettings.java) of [CspSettings](https://github.com/apache/struts/blob/253d8558e55737084f56a0fab3c32ee3deee9cee/core/src/main/java/org/apache/struts2/interceptor/csp/CspSettings.java).\r\n\r\nThis interceptor is included by default in the [Struts configuration](https://github.com/apache/struts/blob/master/core/src/main/resources/struts-default.xml). As you can see in the [linked resource](https://github.com/apache/struts/blob/2a85d0fbc4dcc8e59b4e48d1c8289252ade042af/core/src/main/resources/struts-default.xml#L199) and in [the documentation](https://struts.apache.org/core-developers/csp-interceptor) by default is configured in report only, non enforcing mode:\r\n\r\n```xml\r\n&lt;interceptor-ref name=&quot;csp&quot;&gt;\r\n  &lt;param name=&quot;disabled&quot;&gt;false&lt;/param&gt;\r\n  &lt;param name=&quot;enforcingMode&quot;&gt;false&lt;/param&gt;\r\n&lt;/interceptor-ref&gt;\r\n```\r\n\r\nI reviewed the current source code of the library and the companion documentation and it seems that providing a custom CSP configuration to `CspInterceptor` is not possible right now.\r\n\r\nThat means that in order to mitigate your error one possibility will be to disable the `CspInterceptor` and provide your own. The [Struts documentation](https://struts.apache.org/core-developers/interceptors#disabling-interceptor) provides guidance about how it could be accomplished. In your case, I think it should look like similar to the following:\r\n\r\n```xml\r\n&lt;action name=&quot;myAction&quot; class=&quot;myActionClass&quot;&gt;\r\n    &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;\r\n        &lt;param name=&quot;csp.disabled&quot;&gt;true&lt;/param&gt;\r\n    &lt;/interceptor-ref&gt;\r\n&lt;/action&gt;\r\n```\r\n\r\nIn addition, in the [commit](https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc) I cited at the beginning of the answer they mention the components and corresponding tags [`s:link`](https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Link.java) and [`s:script`](https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Script.java) as a possible way for fetching the required CSS and Javascript resources taking into account the default CSP settings: basically they provide the necessary mechanisms for taking into account the appropriate nonces for the linked resources, required according to the policy applied. Please, consider review for instance [this page](https://github.com/apache/struts/blob/master/apps/showcase/src/main/webapp/WEB-INF/decorators/main.jsp) in the showcase provided by Struts as example, reproduced here for convenience:\r\n\r\n```jsp\r\n&lt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\r\n\r\n\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;!-- content removed for brevity --&gt;\r\n\r\n    &lt;s:url var=&quot;jqueryJs&quot; value=&#39;/js/jquery-2.1.4.min.js&#39; encode=&#39;false&#39; includeParams=&#39;none&#39;/&gt;\r\n    &lt;s:script src=&quot;%{jqueryJs}&quot;/&gt;\r\n    &lt;!-- other resources... now handling inline sources --&gt; \r\n    &lt;s:script type=&quot;text/javascript&quot;&gt;\r\n        $(function () {\r\n            var alerts = $(&#39;ul.alert&#39;).wrap(&#39;&lt;div /&gt;&#39;);\r\n            alerts.prepend(&#39;&lt;a class=&quot;close&quot; data-dismiss=&quot;alert&quot; href=&quot;#&quot;&gt;&amp;times;&lt;/a&gt;&#39;);\r\n            alerts.alert();\r\n        });\r\n    &lt;/s:script&gt;\r\n\r\n\r\n    &lt;!-- ... --&gt;\r\n&lt;/head&gt;\r\n``` ","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>Struts provides support for <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP\" rel=\"nofollow noreferrer\"><code>Content-Security-Policy</code></a> since <a href=\"https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc\" rel=\"nofollow noreferrer\">version 6.x</a>.</p>\n<p>The functionality is implemented primarily in <a href=\"https://github.com/apache/struts/blob/4d58dd1960a6fefef562ed578c42e3671c357279/core/src/main/java/org/apache/struts2/interceptor/csp/CspInterceptor.java\" rel=\"nofollow noreferrer\"><code>CspInterceptor</code></a>.</p>\n<p>This interceptor is configured by providing a convenient <a href=\"https://github.com/apache/struts/blob/8c4a90f6e3b20697d3e57134a983b2c694e5fe75/core/src/main/java/org/apache/struts2/interceptor/csp/DefaultCspSettings.java\" rel=\"nofollow noreferrer\">default implementation</a> of <a href=\"https://github.com/apache/struts/blob/253d8558e55737084f56a0fab3c32ee3deee9cee/core/src/main/java/org/apache/struts2/interceptor/csp/CspSettings.java\" rel=\"nofollow noreferrer\">CspSettings</a>.</p>\n<p>This interceptor is included by default in the <a href=\"https://github.com/apache/struts/blob/master/core/src/main/resources/struts-default.xml\" rel=\"nofollow noreferrer\">Struts configuration</a>. As you can see in the <a href=\"https://github.com/apache/struts/blob/2a85d0fbc4dcc8e59b4e48d1c8289252ade042af/core/src/main/resources/struts-default.xml#L199\" rel=\"nofollow noreferrer\">linked resource</a> and in <a href=\"https://struts.apache.org/core-developers/csp-interceptor\" rel=\"nofollow noreferrer\">the documentation</a> by default is configured in report only, non enforcing mode:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;interceptor-ref name=&quot;csp&quot;&gt;\n  &lt;param name=&quot;disabled&quot;&gt;false&lt;/param&gt;\n  &lt;param name=&quot;enforcingMode&quot;&gt;false&lt;/param&gt;\n&lt;/interceptor-ref&gt;\n</code></pre>\n<p>I reviewed the current source code of the library and the companion documentation and it seems that providing a custom CSP configuration to <code>CspInterceptor</code> is not possible right now.</p>\n<p>That means that in order to mitigate your error one possibility will be to disable the <code>CspInterceptor</code> and provide your own. The <a href=\"https://struts.apache.org/core-developers/interceptors#disabling-interceptor\" rel=\"nofollow noreferrer\">Struts documentation</a> provides guidance about how it could be accomplished. In your case, I think it should look like similar to the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;myAction&quot; class=&quot;myActionClass&quot;&gt;\n    &lt;interceptor-ref name=&quot;defaultStack&quot;&gt;\n        &lt;param name=&quot;csp.disabled&quot;&gt;true&lt;/param&gt;\n    &lt;/interceptor-ref&gt;\n&lt;/action&gt;\n</code></pre>\n<p>In addition, in the <a href=\"https://github.com/apache/struts/commit/4d8bec5d0a56dd8fefaf3783ed57ae65139525cc\" rel=\"nofollow noreferrer\">commit</a> I cited at the beginning of the answer they mention the components and corresponding tags <a href=\"https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Link.java\" rel=\"nofollow noreferrer\"><code>s:link</code></a> and <a href=\"https://github.com/apache/struts/blob/master/core/src/main/java/org/apache/struts2/components/Script.java\" rel=\"nofollow noreferrer\"><code>s:script</code></a> as a possible way for fetching the required CSS and Javascript resources taking into account the default CSP settings: basically they provide the necessary mechanisms for taking into account the appropriate nonces for the linked resources, required according to the policy applied. Please, consider review for instance <a href=\"https://github.com/apache/struts/blob/master/apps/showcase/src/main/webapp/WEB-INF/decorators/main.jsp\" rel=\"nofollow noreferrer\">this page</a> in the showcase provided by Struts as example, reproduced here for convenience:</p>\n<pre><code>&lt;%@taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\n\n\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;!-- content removed for brevity --&gt;\n\n    &lt;s:url var=&quot;jqueryJs&quot; value='/js/jquery-2.1.4.min.js' encode='false' includeParams='none'/&gt;\n    &lt;s:script src=&quot;%{jqueryJs}&quot;/&gt;\n    &lt;!-- other resources... now handling inline sources --&gt; \n    &lt;s:script type=&quot;text/javascript&quot;&gt;\n        $(function () {\n            var alerts = $('ul.alert').wrap('&lt;div /&gt;');\n            alerts.prepend('&lt;a class=&quot;close&quot; data-dismiss=&quot;alert&quot; href=&quot;#&quot;&gt;&amp;times;&lt;/a&gt;');\n            alerts.alert();\n        });\n    &lt;/s:script&gt;\n\n\n    &lt;!-- ... --&gt;\n&lt;/head&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"score":0,"creation_date":1676492944,"post_id":75304080,"comment_id":133150170,"body_markdown":"For some reason they renamed it from &quot;csp&quot; to &quot;cspInterceptor&quot; but didn&#39;t update their documentation.","body":"For some reason they renamed it from &quot;csp&quot; to &quot;cspInterceptor&quot; but didn&#39;t update their documentation."},{"owner":{"account_id":200728,"reputation":3833,"user_id":446738,"accept_rate":71,"display_name":"worpet"},"score":0,"creation_date":1676493467,"post_id":75304080,"comment_id":133150310,"body_markdown":"It looks like it was a mistake and will be fixed in a future release, but meanwhile their documentation is wrong: https://issues.apache.org/jira/browse/WW-5263. Wasted a huge amount of time figuring this out.","body":"It looks like it was a mistake and will be fixed in a future release, but meanwhile their documentation is wrong: <a href=\"https://issues.apache.org/jira/browse/WW-5263\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/WW-5263</a>. Wasted a huge amount of time figuring this out."}],"tags":[],"owner":{"account_id":6314782,"reputation":31,"user_id":4905182,"display_name":"Ryan"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675330793,"creation_date":1675206696,"answer_id":75304080,"question_id":75216534,"body_markdown":"I was also struggling with the new Content Security Policy interceptor.  We had to temporarily disable it since Struts doesn&#39;t really provide any way to configure it yet and all of those browser console error / CSP reports are really unacceptable. \r\n\r\nAt least for me, in order to disable it across all of my actions in struts.xml I needed to reference &quot;cspInterceptor&quot; instead of &quot;csp&quot; as follows:\r\n\r\n    &lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\r\n\t    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;\t\t\t\t\r\n\t&lt;/interceptor-ref&gt;","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>I was also struggling with the new Content Security Policy interceptor.  We had to temporarily disable it since Struts doesn't really provide any way to configure it yet and all of those browser console error / CSP reports are really unacceptable.</p>\n<p>At least for me, in order to disable it across all of my actions in struts.xml I needed to reference &quot;cspInterceptor&quot; instead of &quot;csp&quot; as follows:</p>\n<pre><code>&lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\n    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;              \n&lt;/interceptor-ref&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4682434,"reputation":1,"user_id":3790805,"display_name":"Francesc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685695614,"creation_date":1685695614,"answer_id":76388579,"question_id":75216534,"body_markdown":"I had the same problem with the [Report Only] Refused to load the script message ... and struts 6.1.2.\r\nThe solution was to disable the csp as @jccampanero pointed.\r\nI&#39;m using actions with anotations so I had to configure the struts convention default package in the struts.xml, like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \r\n    &lt;!DOCTYPE struts PUBLIC\r\n            &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\r\n            &quot;https://struts.apache.org/dtds/struts-6.0.dtd&quot;&gt;\r\n    &lt;struts&gt;  \r\n    \t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;  \r\n    \t\t&lt;interceptors&gt;\t\t\t\r\n    \t\t\t&lt;interceptor-stack name=&quot;defaultStack&quot;&gt;\r\n    \t\t\t\t &lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\r\n    \t\t\t\t    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;              \r\n    \t\t\t\t&lt;/interceptor-ref&gt;\r\n    \t         &lt;/interceptor-stack&gt;\r\n             &lt;/interceptors&gt;\r\n    \t&lt;/package&gt; \r\n    \r\n      &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;default&quot;/&gt;\r\n    &lt;/struts&gt; \r\n\r\n  \r\n","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>I had the same problem with the [Report Only] Refused to load the script message ... and struts 6.1.2.\nThe solution was to disable the csp as @jccampanero pointed.\nI'm using actions with anotations so I had to configure the struts convention default package in the struts.xml, like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  \n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\n        &quot;https://struts.apache.org/dtds/struts-6.0.dtd&quot;&gt;\n&lt;struts&gt;  \n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;  \n        &lt;interceptors&gt;          \n            &lt;interceptor-stack name=&quot;defaultStack&quot;&gt;\n                 &lt;interceptor-ref name=&quot;defaultStack&quot; &gt;\n                    &lt;param name=&quot;cspInterceptor.disabled&quot;&gt;true&lt;/param&gt;              \n                &lt;/interceptor-ref&gt;\n             &lt;/interceptor-stack&gt;\n         &lt;/interceptors&gt;\n    &lt;/package&gt; \n\n  &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;default&quot;/&gt;\n&lt;/struts&gt; \n</code></pre>\n"}],"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2545,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75252633,"answer_count":4,"score":6,"last_activity_date":1685695614,"creation_date":1674521858,"question_id":75216534,"body_markdown":"I have a problem updating my version of struts struts2-core-2.5.30 project to struts2-core-6.1.1 so I began to receive an error indicating that the security policies have been violated, doing some research, I found that a header should be added\r\n\r\n&gt;[Report Only] Refused to load the script &#39;&lt;URL&gt;&#39; because it violates the following Content Security Policy directive: &quot;script-src &#39;nonce-MOz6w31eaDHGUDfV__K8LEZ1&#39; &#39;strict-dynamic&#39; http: https:&quot;. Note that &#39;strict-dynamic&#39; is present, so host-based allowlisting is disabled. Note that &#39;script-src-elem&#39; was not explicitly set, so &#39;script-src&#39; is used as a fallback.\r\n\r\nand inside this error I have this description\r\n\r\n&gt;[Report Only] Refused to load the script `http://localhost:8080/Portal/html/js/jquery/jquery-1.8.3.min.js` because it violates the following Content Security Policy directive: &quot;script-src &#39;nonce-MOz6w31eaDHGUDfV__K8LEZ1&#39; &#39;strict-dynamic&#39; http: https:&quot;. Note that &#39;strict-dynamic&#39; is present, so host-based allowlisting is disabled. Note that &#39;script-src-elem&#39; was not explicitly set, so &#39;script-src&#39; is used as a fallback.\r\n\r\n&gt;[Report Only] Refused to load the script `http://localhost:8080/Portal/html/js/jquery/jquery-ui.1.10.4.min.js` because it violates the following Content Security Policy directive: &quot;script-src &#39;nonce-MOz6w31eaDHGUDfV__K8LEZ1&#39; &#39;strict-dynamic&#39; http: https:&quot;. Note that &#39;strict-dynamic&#39; is present, so host-based allowlisting is disabled. Note that &#39;script-src-elem&#39; was not explicitly set, so &#39;script-src&#39; is used as a fallback.\r\n\r\nhowever I have tried these headers\r\n\r\n \r\n\r\n    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;&quot;&gt;\r\n\r\n\r\n    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src *;\r\n        style-src * &#39;unsafe-inline&#39;; script-src * &#39;unsafe-inline&#39;\r\n        &#39;unsafe-eval&#39;; img-src * data: &#39;unsafe-inline&#39;; connect-src *\r\n        &#39;unsafe-inline&#39;; frame-src *;&quot;&gt;\r\n\r\n    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src  &#39;nonce-rAnd0m&#39;&quot;&gt;\r\n    &lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/jquery-1.8.3.min.js&quot; type=&quot;text/javascript&quot; nonce=&quot;rAnd0m123&quot;&gt;&lt;/script&gt; \r\n\r\nwith each of them I get the same error, In my previous version of Struts it did not ask me for any of this.\r\n\r\nI have also tried to make an interceptor to add the corresponding directives, however it did not work for me either.\r\n\r\n\r\n    import com.opensymphony.xwork2.ActionContext;\r\n    import com.opensymphony.xwork2.ActionInvocation;\r\n    import com.opensymphony.xwork2.interceptor.AbstractInterceptor;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.apache.struts2.StrutsStatics;\r\n    \r\n    \r\n    public class SessionInterceptor extends AbstractInterceptor{\r\n    \r\n       private static final long serialVersionUID = 1L;\r\n    \r\n    \r\n       public String intercept(ActionInvocation invocation) throws Exception {\r\n         \r\n        ActionContext ac = invocation.getInvocationContext();\r\n        HttpServletResponse response = (HttpServletResponse) ac.get(StrutsStatics.HTTP_RESPONSE);\r\n        //HttpServletResponse response = ServletActionContext.getResponse();\r\n    \r\n        response.addHeader(&quot;X-Frame-Options&quot;, &quot;SAMEORIGIN&quot;);\r\n        response.addHeader(&quot;Content-Security-Policy-Report-Only&quot;, &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39;; object-src &#39;none&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;; img-src &#39;self&#39;; media-src &#39;none&#39;; frame-src &#39;none&#39;; font-src &#39;self&#39;; connect-src &#39;self&#39;; report-uri REDACTED&quot;);\r\n        response.addHeader(&quot;X-Content-Security-Policy-Report-Only&quot;, &quot;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39;; object-src &#39;none&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;; img-src &#39;self&#39;; media-src &#39;none&#39;; frame-src &#39;none&#39;; font-src &#39;self&#39;; connect-src &#39;self&#39;; report-uri REDACTED&quot;);\r\n        return invocation.invoke();\r\n    }\r\n    \r\n    }\r\n\r\nIn the same way I have updated the jquery-1.8.3 version as suggested in the comments but it dod not worked for me either\r\n\r\n  [1]: https://i.stack.imgur.com/Vwixe.png\r\n  [2]: https://i.stack.imgur.com/D8PdD.png\r\n","title":"HTTP Content-Security-Policy header not working correctly for script-src in Struts","body":"<p>I have a problem updating my version of struts struts2-core-2.5.30 project to struts2-core-6.1.1 so I began to receive an error indicating that the security policies have been violated, doing some research, I found that a header should be added</p>\n<blockquote>\n<p>[Report Only] Refused to load the script '' because it violates the following Content Security Policy directive: &quot;script-src 'nonce-MOz6w31eaDHGUDfV__K8LEZ1' 'strict-dynamic' http: https:&quot;. Note that 'strict-dynamic' is present, so host-based allowlisting is disabled. Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.</p>\n</blockquote>\n<p>and inside this error I have this description</p>\n<blockquote>\n<p>[Report Only] Refused to load the script <code>http://localhost:8080/Portal/html/js/jquery/jquery-1.8.3.min.js</code> because it violates the following Content Security Policy directive: &quot;script-src 'nonce-MOz6w31eaDHGUDfV__K8LEZ1' 'strict-dynamic' http: https:&quot;. Note that 'strict-dynamic' is present, so host-based allowlisting is disabled. Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.</p>\n</blockquote>\n<blockquote>\n<p>[Report Only] Refused to load the script <code>http://localhost:8080/Portal/html/js/jquery/jquery-ui.1.10.4.min.js</code> because it violates the following Content Security Policy directive: &quot;script-src 'nonce-MOz6w31eaDHGUDfV__K8LEZ1' 'strict-dynamic' http: https:&quot;. Note that 'strict-dynamic' is present, so host-based allowlisting is disabled. Note that 'script-src-elem' was not explicitly set, so 'script-src' is used as a fallback.</p>\n</blockquote>\n<p>however I have tried these headers</p>\n<pre><code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src 'self'&quot;&gt;\n\n\n&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src *;\n    style-src * 'unsafe-inline'; script-src * 'unsafe-inline'\n    'unsafe-eval'; img-src * data: 'unsafe-inline'; connect-src *\n    'unsafe-inline'; frame-src *;&quot;&gt;\n\n&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src  'nonce-rAnd0m'&quot;&gt;\n&lt;script src=&quot;${pageContext.request.contextPath}/html/js/jquery/jquery-1.8.3.min.js&quot; type=&quot;text/javascript&quot; nonce=&quot;rAnd0m123&quot;&gt;&lt;/script&gt; \n</code></pre>\n<p>with each of them I get the same error, In my previous version of Struts it did not ask me for any of this.</p>\n<p>I have also tried to make an interceptor to add the corresponding directives, however it did not work for me either.</p>\n<pre><code>import com.opensymphony.xwork2.ActionContext;\nimport com.opensymphony.xwork2.ActionInvocation;\nimport com.opensymphony.xwork2.interceptor.AbstractInterceptor;\nimport javax.servlet.http.HttpServletResponse;\nimport org.apache.struts2.StrutsStatics;\n\n\npublic class SessionInterceptor extends AbstractInterceptor{\n\n   private static final long serialVersionUID = 1L;\n\n\n   public String intercept(ActionInvocation invocation) throws Exception {\n     \n    ActionContext ac = invocation.getInvocationContext();\n    HttpServletResponse response = (HttpServletResponse) ac.get(StrutsStatics.HTTP_RESPONSE);\n    //HttpServletResponse response = ServletActionContext.getResponse();\n\n    response.addHeader(&quot;X-Frame-Options&quot;, &quot;SAMEORIGIN&quot;);\n    response.addHeader(&quot;Content-Security-Policy-Report-Only&quot;, &quot;default-src 'self'; script-src 'self' 'unsafe-inline'; object-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self'; media-src 'none'; frame-src 'none'; font-src 'self'; connect-src 'self'; report-uri REDACTED&quot;);\n    response.addHeader(&quot;X-Content-Security-Policy-Report-Only&quot;, &quot;default-src 'self'; script-src 'self' 'unsafe-inline'; object-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self'; media-src 'none'; frame-src 'none'; font-src 'self'; connect-src 'self'; report-uri REDACTED&quot;);\n    return invocation.invoke();\n}\n\n}\n</code></pre>\n<p>In the same way I have updated the jquery-1.8.3 version as suggested in the comments but it dod not worked for me either</p>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685619771,"post_id":76381036,"comment_id":134687119,"body_markdown":"Are you using log4j 1.x or 2.x? The configuration file name should be log4j2.xml for 2.x.","body":"Are you using log4j 1.x or 2.x? The configuration file name should be log4j2.xml for 2.x."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1685695487,"post_id":76381036,"comment_id":134699996,"body_markdown":"@aled 2.x, the file is actually named `log4j2.xml`. I&#39;ll correct the name","body":"@aled 2.x, the file is actually named <code>log4j2.xml</code>. I&#39;ll correct the name"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685695504,"creation_date":1685615924,"question_id":76381036,"body_markdown":"I have the following `log4j2.xml` file for my Spring Boot project:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d %level %pid --- [%t] %c : %m%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n\r\n        &lt;JDBC name=&quot;DB&quot; tableName=&quot;logs&quot;&gt;\r\n            &lt;DriverManager connectionString=&quot;url&quot; userName=&quot;username&quot; password=&quot;$password&quot;/&gt;\r\n            &lt;Column name=&quot;TIM_TIMESTAM&quot; isEventTimestamp=&quot;true&quot;/&gt;\r\n            &lt;Column name=&quot;DES_LOGGER&quot; pattern=&quot;%c&quot;/&gt;\r\n            &lt;Column name=&quot;COD_JLEVEL&quot; pattern=&quot;%level&quot;/&gt;\r\n            &lt;Column name=&quot;DES_LMESSAGE&quot; pattern=&quot;%m}&quot;/&gt;\r\n        &lt;/JDBC&gt;\r\n\r\n        &lt;Async name=&quot;Async&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;DB&quot;/&gt;\r\n        &lt;/Async&gt;\r\n    &lt;/Appenders&gt;\r\n\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nIn my `application-LOCAL.yml` I have the following logging configuration:\r\n\r\n```\r\nlogging:\r\n  path:\r\n  level:\r\n    org:\r\n      hibernate:\r\n        type: trace\r\n```\r\n\r\nApparently, this configuration makes the appender to log as if root level was `TRACE` instead of `INFO`, a behaviour which I&#39;d like to avoid. How could I do this?","title":"Log4j appender logs more levels than expected","body":"<p>I have the following <code>log4j2.xml</code> file for my Spring Boot project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d %level %pid --- [%t] %c : %m%n&quot;/&gt;\n        &lt;/Console&gt;\n\n        &lt;JDBC name=&quot;DB&quot; tableName=&quot;logs&quot;&gt;\n            &lt;DriverManager connectionString=&quot;url&quot; userName=&quot;username&quot; password=&quot;$password&quot;/&gt;\n            &lt;Column name=&quot;TIM_TIMESTAM&quot; isEventTimestamp=&quot;true&quot;/&gt;\n            &lt;Column name=&quot;DES_LOGGER&quot; pattern=&quot;%c&quot;/&gt;\n            &lt;Column name=&quot;COD_JLEVEL&quot; pattern=&quot;%level&quot;/&gt;\n            &lt;Column name=&quot;DES_LMESSAGE&quot; pattern=&quot;%m}&quot;/&gt;\n        &lt;/JDBC&gt;\n\n        &lt;Async name=&quot;Async&quot;&gt;\n            &lt;AppenderRef ref=&quot;DB&quot;/&gt;\n        &lt;/Async&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;AppenderRef ref=&quot;Async&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>In my <code>application-LOCAL.yml</code> I have the following logging configuration:</p>\n<pre><code>logging:\n  path:\n  level:\n    org:\n      hibernate:\n        type: trace\n</code></pre>\n<p>Apparently, this configuration makes the appender to log as if root level was <code>TRACE</code> instead of <code>INFO</code>, a behaviour which I'd like to avoid. How could I do this?</p>\n"},{"tags":["java","android","https","proxy"],"answers":[{"comments":[{"owner":{"account_id":1786308,"reputation":1008,"user_id":1627712,"accept_rate":0,"display_name":"inderbagga"},"score":4,"creation_date":1467222939,"post_id":37704444,"comment_id":63647299,"body_markdown":"May you please elaborate, where do i need to type this line.","body":"May you please elaborate, where do i need to type this line."},{"owner":{"account_id":1786308,"reputation":1008,"user_id":1627712,"accept_rate":0,"display_name":"inderbagga"},"score":0,"creation_date":1467224231,"post_id":37704444,"comment_id":63648129,"body_markdown":"i already did that. You saved my hours thanks, but after executing this line terminal didn&#39;t gave any response","body":"i already did that. You saved my hours thanks, but after executing this line terminal didn&#39;t gave any response"},{"owner":{"account_id":5525795,"reputation":4579,"user_id":4578454,"accept_rate":45,"display_name":"silverFoxA"},"score":1,"creation_date":1467224619,"post_id":37704444,"comment_id":63648364,"body_markdown":"It doesn&#39;t return but if no error that means it has been processed successfully","body":"It doesn&#39;t return but if no error that means it has been processed successfully"},{"owner":{"account_id":1211145,"reputation":718,"user_id":1179642,"accept_rate":78,"display_name":"ManuQiao"},"score":0,"creation_date":1492570784,"post_id":37704444,"comment_id":74026527,"body_markdown":"`-DsocksProxyPort`? Is that the reference article mistyped?","body":"<code>-DsocksProxyPort</code>? Is that the reference article mistyped?"},{"owner":{"account_id":5525795,"reputation":4579,"user_id":4578454,"accept_rate":45,"display_name":"silverFoxA"},"score":0,"creation_date":1492748669,"post_id":37704444,"comment_id":74120026,"body_markdown":"It&#39;s not but would suggest you to type it n the terminal rather copy pasting","body":"It&#39;s not but would suggest you to type it n the terminal rather copy pasting"},{"owner":{"account_id":360935,"reputation":5619,"user_id":703225,"accept_rate":57,"display_name":"qinmiao"},"score":1,"creation_date":1510804205,"post_id":37704444,"comment_id":81593479,"body_markdown":"```JAVA_OPTS=&quot;$JAVA_OPTS -DsocksProxtPort&quot;```","body":"<code>JAVA_OPTS=&quot;$JAVA_OPTS -DsocksProxtPort&quot;</code>"},{"owner":{"account_id":6801563,"reputation":125,"user_id":5234725,"display_name":"Shashank Saxena"},"score":2,"creation_date":1524476130,"post_id":37704444,"comment_id":86971524,"body_markdown":"Brother, you just saved me another gruelling hour. I want to send you flowers.","body":"Brother, you just saved me another gruelling hour. I want to send you flowers."},{"owner":{"account_id":911505,"reputation":3654,"user_id":945247,"accept_rate":71,"display_name":"Leon"},"score":0,"creation_date":1548236526,"post_id":37704444,"comment_id":95466941,"body_markdown":"Make sure to restart Android Studio after making this change.","body":"Make sure to restart Android Studio after making this change."},{"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"score":0,"creation_date":1560935676,"post_id":37704444,"comment_id":99896590,"body_markdown":"for macs @AmreshDeshpande answer is better","body":"for macs @AmreshDeshpande answer is better"},{"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"score":1,"creation_date":1618813254,"post_id":37704444,"comment_id":118705976,"body_markdown":"Hello,I was checked this link http://mxw.pl/blog/?p=4 but doesn&#39;t work .Can you explain.How can ı apply this solution?thank you.","body":"Hello,I was checked this link <a href=\"http://mxw.pl/blog/?p=4\" rel=\"nofollow noreferrer\">mxw.pl/blog/?p=4</a> but doesn&#39;t work .Can you explain.How can ı apply this solution?thank you."},{"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"score":0,"creation_date":1666677381,"post_id":37704444,"comment_id":130987390,"body_markdown":"I just restarted Android Studio and the &quot;You have JVM property https.proxyHost set to ...&quot; gone. Worth to try it before hours searching for where to put this command. :P","body":"I just restarted Android Studio and the &quot;You have JVM property https.proxyHost set to ...&quot; gone. Worth to try it before hours searching for where to put this command. :P"}],"tags":[],"owner":{"account_id":5525795,"reputation":4579,"user_id":4578454,"accept_rate":45,"display_name":"silverFoxA"},"comment_count":11,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1545228065,"creation_date":1465393804,"answer_id":37704444,"question_id":35520337,"body_markdown":"If anyone still looking for the solution to the same, here is what worked for me\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -DsocksProxyPort&quot;\r\n\r\n\r\nfor removing http proxy ports\r\n\r\nSource http://mxw.pl/blog/?p=4","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>If anyone still looking for the solution to the same, here is what worked for me</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -DsocksProxyPort\"\n</code></pre>\n\n<p>for removing http proxy ports</p>\n\n<p>Source <a href=\"http://mxw.pl/blog/?p=4\" rel=\"noreferrer\">http://mxw.pl/blog/?p=4</a></p>\n"},{"tags":[],"owner":{"account_id":10601953,"reputation":267,"user_id":7808633,"display_name":"Amresh Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1549986910,"creation_date":1549026676,"answer_id":54480262,"question_id":35520337,"body_markdown":"**Using a Mac:**\r\n\r\nGo to `Network settings -&gt; Advanced -&gt; Proxies` and uncheck &quot;proxy server required password&quot; for both HTTP and HTTPS. Remove user name and password.\r\n\r\nIn IntellJ/Android Studio restart with `File -&gt; Invalidate and Restart -&gt; Just Restart`","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p><strong>Using a Mac:</strong></p>\n\n<p>Go to <code>Network settings -&gt; Advanced -&gt; Proxies</code> and uncheck \"proxy server required password\" for both HTTP and HTTPS. Remove user name and password.</p>\n\n<p>In IntellJ/Android Studio restart with <code>File -&gt; Invalidate and Restart -&gt; Just Restart</code></p>\n"},{"tags":[],"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555239517,"creation_date":1555239517,"answer_id":55674513,"question_id":35520337,"body_markdown":"I solved this problem by this solution: \r\n\r\n**On Windows:**  \r\n\r\nGo to your **User Folder** - on Windows 7/8 this would be:  \r\n\r\n`[SYSDRIVE]:\\Users\\[your username]` (ex. `C:\\Users\\Iman\\`)\r\n\r\nIn this folder there should be a folder called `.AndroidStudioBeta` or `.AndroidStudio` (notice the period at the start - so on some OSes it would be hidden).\r\n\r\nDelete this folder (or better yet, move it to a backup location - so you can return it if something goes wrong).\r\n\r\nThis should reset your Android Studio settings to default.","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>I solved this problem by this solution: </p>\n\n<p><strong>On Windows:</strong>  </p>\n\n<p>Go to your <strong>User Folder</strong> - on Windows 7/8 this would be:  </p>\n\n<p><code>[SYSDRIVE]:\\Users\\[your username]</code> (ex. <code>C:\\Users\\Iman\\</code>)</p>\n\n<p>In this folder there should be a folder called <code>.AndroidStudioBeta</code> or <code>.AndroidStudio</code> (notice the period at the start - so on some OSes it would be hidden).</p>\n\n<p>Delete this folder (or better yet, move it to a backup location - so you can return it if something goes wrong).</p>\n\n<p>This should reset your Android Studio settings to default.</p>\n"},{"comments":[{"owner":{"account_id":6325922,"reputation":148,"user_id":4912409,"display_name":"Garfield"},"score":2,"creation_date":1616131517,"post_id":59325186,"comment_id":117911920,"body_markdown":"This is the best answer , because only need configure once and never need to worry this problem again","body":"This is the best answer , because only need configure once and never need to worry this problem again"},{"owner":{"account_id":1322611,"reputation":509,"user_id":1268079,"accept_rate":50,"display_name":"eccstartup"},"score":0,"creation_date":1682423879,"post_id":59325186,"comment_id":134209743,"body_markdown":"And restart the IDE.","body":"And restart the IDE."}],"tags":[],"owner":{"account_id":5031799,"reputation":372,"user_id":4041764,"display_name":"daroubaozi"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1576249741,"creation_date":1576249741,"answer_id":59325186,"question_id":35520337,"body_markdown":"select `Help -&gt; Edit Custom VM Options` add below:\r\n\r\n```\r\n-Dhttp.proxyHost\r\n-Dhttp.proxyPort\r\n-Dhttps.proxyHost\r\n-Dhttps.proxyPort\r\n-DsocksProxyHost\r\n-DsocksProxyPort\r\n```","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>select <code>Help -&gt; Edit Custom VM Options</code> add below:</p>\n\n<pre><code>-Dhttp.proxyHost\n-Dhttp.proxyPort\n-Dhttps.proxyHost\n-Dhttps.proxyPort\n-DsocksProxyHost\n-DsocksProxyPort\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398030,"reputation":194,"user_id":2851067,"display_name":"paperhs"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1585298253,"creation_date":1585298253,"answer_id":60882467,"question_id":35520337,"body_markdown":"on Mac:\r\ngoto System Preferences, Java -&gt; open java control pan -&gt; general -&gt; Network Settings -&gt; choose &#39;Direct Connection&#39;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/leQPS.png","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>on Mac:\ngoto System Preferences, Java -> open java control pan -> general -> Network Settings -> choose 'Direct Connection'\n<a href=\"https://i.stack.imgur.com/leQPS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/leQPS.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":14684911,"reputation":273,"user_id":10605227,"display_name":"Barnyard"},"score":0,"creation_date":1634748224,"post_id":67280261,"comment_id":123110744,"body_markdown":"I had a [proxy issue](https://stackoverflow.com/questions/36330895/gradle-sync-failed-connection-refused) with a fresh install of Android Studio, but this solved it.","body":"I had a <a href=\"https://stackoverflow.com/questions/36330895/gradle-sync-failed-connection-refused\">proxy issue</a> with a fresh install of Android Studio, but this solved it."}],"tags":[],"owner":{"account_id":21404223,"reputation":21,"user_id":15765728,"display_name":"Mr.LongFace"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619515055,"creation_date":1619515055,"answer_id":67280261,"question_id":35520337,"body_markdown":"This is caused by switching agents on and off many times. Under Mac: Open the 〜/.gradle/gradle.properties file and delete the agent configuration manually.","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>This is caused by switching agents on and off many times. Under Mac: Open the 〜/.gradle/gradle.properties file and delete the agent configuration manually.</p>\n"},{"tags":[],"owner":{"account_id":7311414,"reputation":536,"user_id":5570447,"display_name":"resatz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685695497,"creation_date":1685695497,"answer_id":76388564,"question_id":35520337,"body_markdown":"On Mac , Go to **System Settings** -&gt; **Network** -&gt; **Proxies**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMake sure all these (HTTP,HTTPS,SOCKS) are cleared &amp; Off, Set proxy in your **IntellIJ**\r\n\r\n  [1]: https://i.stack.imgur.com/bQVjS.png","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>On Mac , Go to <strong>System Settings</strong> -&gt; <strong>Network</strong> -&gt; <strong>Proxies</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bQVjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bQVjS.png\" alt=\"enter image description here\" /></a></p>\n<p>Make sure all these (HTTP,HTTPS,SOCKS) are cleared &amp; Off, Set proxy in your <strong>IntellIJ</strong></p>\n"}],"owner":{"account_id":5525795,"reputation":4579,"user_id":4578454,"accept_rate":45,"display_name":"silverFoxA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29438,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":37704444,"answer_count":7,"score":21,"last_activity_date":1685695497,"creation_date":1455952696,"question_id":35520337,"body_markdown":"I was using proxy on my system for some purpose. But now I don&#39;t have any proxy set on my system as well as from the Android Studio proxy settings I have removed the proxy and set it to no proxy.\r\n\r\nBut I keep getting the following error:\r\n\r\n&gt; You have JVM property &quot;https.proxyHost&quot; set to .... This may lead to \r\n&gt; incorrect behavior. Proxy should be set in Settings|HTTP Proxy\r\n\r\nAs well when I try to build/sync the Gradle file without proxy server the files doesn&#39;t get compiled and says please check your network connection where I have internet connection.\r\n\r\n","title":"How to remove JVM property &quot;https.proxyHost&quot;?","body":"<p>I was using proxy on my system for some purpose. But now I don't have any proxy set on my system as well as from the Android Studio proxy settings I have removed the proxy and set it to no proxy.</p>\n\n<p>But I keep getting the following error:</p>\n\n<blockquote>\n  <p>You have JVM property \"https.proxyHost\" set to .... This may lead to \n  incorrect behavior. Proxy should be set in Settings|HTTP Proxy</p>\n</blockquote>\n\n<p>As well when I try to build/sync the Gradle file without proxy server the files doesn't get compiled and says please check your network connection where I have internet connection.</p>\n"},{"tags":["java","android","android-xml"],"owner":{"account_id":28516544,"reputation":1,"user_id":21825823,"display_name":"HuettenaTHOR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685695193,"creation_date":1685695193,"question_id":76388528,"body_markdown":"I tried to implement an XYPlot in a Fragment of my Android App. However the app&#39;s design is white while the default background color of the graph is black. \r\n\r\nI&#39;ve tried to change the color to White in the XML file as well as from code but the graph remains black.[it always looks like this](https://i.stack.imgur.com/m1lQ1.jpg)\r\n\r\nThis is my XML-file\r\n\r\n\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@android:color/transparent&quot;\r\n    tools:context=&quot;.OverviewFragment&quot;&gt;\r\n\r\n    &lt;com.androidplot.xy.XYPlot\r\n        android:id=&quot;@+id/plt_graph&quot;\r\n        style=&quot;@style/APDefacto.Dark&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginStart=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginEnd=&quot;25dp&quot;\r\n        android:layout_marginBottom=&quot;25dp&quot;\r\n        android:background=&quot;#00FFFFFF&quot;\r\n        app:backgroundColor=&quot;#00FFFFFF&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout4&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nand this is what I&#39;ve tried to change it from code. Note, that I am in a Fragment and not in an Activity.\r\n```View view = inflater.inflate(R.layout.fragment_overview, container, false);\r\n\r\n        XYPlot plot = (XYPlot) view.findViewById(R.id.plt_graph);\r\n        Button btShowHealthGraph = (Button) view.findViewById(R.id.btHealthIndex);\r\n        Paint color = new Paint();\r\n        color.setColor(Color.WHITE);\r\n        plot.getGraph().setBackgroundPaint(color);\r\n        plot.getGraph().setGridBackgroundPaint(color);\r\n```","title":"XYPlot change default background color to white","body":"<p>I tried to implement an XYPlot in a Fragment of my Android App. However the app's design is white while the default background color of the graph is black.</p>\n<p>I've tried to change the color to White in the XML file as well as from code but the graph remains black.<a href=\"https://i.stack.imgur.com/m1lQ1.jpg\" rel=\"nofollow noreferrer\">it always looks like this</a></p>\n<p>This is my XML-file</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@android:color/transparent&quot;\n    tools:context=&quot;.OverviewFragment&quot;&gt;\n\n    &lt;com.androidplot.xy.XYPlot\n        android:id=&quot;@+id/plt_graph&quot;\n        style=&quot;@style/APDefacto.Dark&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginStart=&quot;25dp&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginEnd=&quot;25dp&quot;\n        android:layout_marginBottom=&quot;25dp&quot;\n        android:background=&quot;#00FFFFFF&quot;\n        app:backgroundColor=&quot;#00FFFFFF&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/linearLayout4&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and this is what I've tried to change it from code. Note, that I am in a Fragment and not in an Activity.</p>\n<pre><code>\n        XYPlot plot = (XYPlot) view.findViewById(R.id.plt_graph);\n        Button btShowHealthGraph = (Button) view.findViewById(R.id.btHealthIndex);\n        Paint color = new Paint();\n        color.setColor(Color.WHITE);\n        plot.getGraph().setBackgroundPaint(color);\n        plot.getGraph().setGridBackgroundPaint(color);\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi-generator"],"comments":[{"owner":{"account_id":116006,"reputation":1011,"user_id":304364,"accept_rate":93,"display_name":"Andrea Polci"},"score":0,"creation_date":1675691300,"post_id":70762739,"comment_id":132977383,"body_markdown":"Did you ever found an answer to how to add the accept parameter? I run into the exact same problem.","body":"Did you ever found an answer to how to add the accept parameter? I run into the exact same problem."},{"owner":{"account_id":11503033,"reputation":81,"user_id":8430221,"display_name":"Vladimir Kravtsov"},"score":0,"creation_date":1697745878,"post_id":70762739,"comment_id":136322011,"body_markdown":"Did you ever find the solution? Second answer showed how to add header in config but would it allow to set runtime calculated value for this header?","body":"Did you ever find the solution? Second answer showed how to add header in config but would it allow to set runtime calculated value for this header?"}],"answers":[{"comments":[{"owner":{"account_id":2919038,"reputation":473,"user_id":2501711,"display_name":"user2501711"},"score":1,"creation_date":1642554458,"post_id":70762885,"comment_id":125100219,"body_markdown":"Thanks for the info. What I need is to access the Accept header which I have already defined in the response according to the doc. I think the problem is more about how to use the maven plugin to generate the corresponding method parameters for springboot","body":"Thanks for the info. What I need is to access the Accept header which I have already defined in the response according to the doc. I think the problem is more about how to use the maven plugin to generate the corresponding method parameters for springboot"}],"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642542961,"creation_date":1642542961,"answer_id":70762885,"question_id":70762739,"body_markdown":"As mentioned at [swagger Docs](https://swagger.io/docs/specification/describing-parameters/) this can be done using `header` like the following \r\n\r\n```yaml\r\npaths:\r\n  /ping:\r\n    get:\r\n      summary: Checks if the server is alive\r\n      parameters:\r\n        - in: header\r\n          name: X-Request-ID\r\n          schema:\r\n            type: string\r\n            format: uuid\r\n          required: true\r\n```\r\n\r\nIn a similar way, you can define custom response headers. Header parameter can be primitives, arrays and objects. Arrays and objects are serialized using the simple style. \r\n\r\nNote: Header parameters named Accept, Content-Type and Authorization are not allowed. To describe these headers, use the corresponding OpenAPI keywords:","title":"How to add requestHeader to the generated interface with openapi-generator-maven-plugin","body":"<p>As mentioned at <a href=\"https://swagger.io/docs/specification/describing-parameters/\" rel=\"nofollow noreferrer\">swagger Docs</a> this can be done using <code>header</code> like the following</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>paths:\n  /ping:\n    get:\n      summary: Checks if the server is alive\n      parameters:\n        - in: header\n          name: X-Request-ID\n          schema:\n            type: string\n            format: uuid\n          required: true\n</code></pre>\n<p>In a similar way, you can define custom response headers. Header parameter can be primitives, arrays and objects. Arrays and objects are serialized using the simple style.</p>\n<p>Note: Header parameters named Accept, Content-Type and Authorization are not allowed. To describe these headers, use the corresponding OpenAPI keywords:</p>\n"},{"tags":[],"owner":{"account_id":2683838,"reputation":71,"user_id":2318605,"display_name":"DavidoVitch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685694975,"creation_date":1685694975,"answer_id":76388503,"question_id":70762739,"body_markdown":"I dig up this topic, I used this plugin too, and I added a header for authentication, because I added springboot security\r\nand on version 1.4 we can set headers directly in the plugin\r\n\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs/spring-public&lt;/apiDocsUrl&gt;\r\n          &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt;\r\n          &lt;outputDir&gt;target/springdoc/maven-output&lt;/outputDir&gt;\r\n          &lt;skip&gt;false&lt;/skip&gt;\r\n          &lt;headers&gt;\r\n            &lt;Authorization&gt;Basic dXNlcjpwYXNzd29yZA==&lt;/Authorization&gt;\r\n          &lt;/headers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"How to add requestHeader to the generated interface with openapi-generator-maven-plugin","body":"<p>I dig up this topic, I used this plugin too, and I added a header for authentication, because I added springboot security\nand on version 1.4 we can set headers directly in the plugin</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;apiDocsUrl&gt;http://localhost:8080/v3/api-docs/spring-public&lt;/apiDocsUrl&gt;\n      &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt;\n      &lt;outputDir&gt;target/springdoc/maven-output&lt;/outputDir&gt;\n      &lt;skip&gt;false&lt;/skip&gt;\n      &lt;headers&gt;\n        &lt;Authorization&gt;Basic dXNlcjpwYXNzd29yZA==&lt;/Authorization&gt;\n      &lt;/headers&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2919038,"reputation":473,"user_id":2501711,"display_name":"user2501711"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70762885,"answer_count":2,"score":2,"last_activity_date":1685694975,"creation_date":1642542184,"question_id":70762739,"body_markdown":"I am using `openapi-generator-maven-plugin` to generate the server code for a springboot application.\r\n\r\nHowever I can&#39;t figure out a easy way to generate the `@RequestHeader(&quot;header&quot;)` in the interface.\r\n\r\nHere is the plugin configuration:\r\n```\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/spec/api.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;my.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;my.models&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\r\n\t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n\t\t\t\t\t\t\t\t&lt;useTags&gt;true&lt;/useTags&gt;\r\n                &lt;useOptional&gt;true&lt;/useOptional&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\nAPI spec:\r\n```\r\n    get:\r\n      tags:\r\n        - template\r\n      summary: find template by template name\r\n      description: returns single template\r\n      operationId: getTemplateByName\r\n      parameters:\r\n        - name: bucket\r\n          in: path\r\n          description: location\r\n          required: true\r\n          schema:\r\n            type: string\r\n        - name: templateName\r\n          in: path\r\n          description: the name of the template\r\n          required: true\r\n          schema:\r\n            type: string\r\n      responses:\r\n        200:\r\n          description: successful operation\r\n          content:\r\n            multipart/mixed:\r\n              schema:\r\n                type: object\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Template&#39;\r\n        400:\r\n          description: Invalid input\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Error&#39;\r\n        404:\r\n          description: template not found\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Error&#39;\r\n```\r\nThe generated interface:\r\n```\r\n@ApiOperation(value = &quot;find template by template name&quot;, nickname = &quot;getTemplateByName&quot;, notes = &quot;returns single template&quot;, response = Object.class, tags={ &quot;template&quot;, })\r\n    @ApiResponses(value = { \r\n        @ApiResponse(code = 200, message = &quot;successful operation&quot;, response = Object.class),\r\n        @ApiResponse(code = 400, message = &quot;Invalid input&quot;, response = Error.class),\r\n        @ApiResponse(code = 404, message = &quot;template not found&quot;, response = Error.class) })\r\n    @ApiImplicitParams({\r\n    })\r\n    @GetMapping(\r\n        value = &quot;/bu/{bucket}/templates/{templateName}&quot;,\r\n        produces = { &quot;multipart/mixed&quot;, &quot;application/json&quot; }\r\n    )\r\n    default ResponseEntity&lt;Object&gt; getTemplateByName(@ApiParam(value = &quot;location&quot;,required=true) @PathVariable(&quot;bucket&quot;) String bucket,@ApiParam(value = &quot;the name of the template&quot;,required=true) @PathVariable(&quot;templateName&quot;) String templateName) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n```\r\n\r\nHow to add @RequestHeader to the interface? or is there a way it can generate the httprequest in the interface?\r\n\r\n","title":"How to add requestHeader to the generated interface with openapi-generator-maven-plugin","body":"<p>I am using <code>openapi-generator-maven-plugin</code> to generate the server code for a springboot application.</p>\n<p>However I can't figure out a easy way to generate the <code>@RequestHeader(&quot;header&quot;)</code> in the interface.</p>\n<p>Here is the plugin configuration:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;5.1.0&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/spec/api.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;apiPackage&gt;my.api&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;my.models&lt;/modelPackage&gt;\n                            &lt;configOptions&gt;\n                                &lt;delegatePattern&gt;false&lt;/delegatePattern&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                &lt;useOptional&gt;true&lt;/useOptional&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>API spec:</p>\n<pre><code>    get:\n      tags:\n        - template\n      summary: find template by template name\n      description: returns single template\n      operationId: getTemplateByName\n      parameters:\n        - name: bucket\n          in: path\n          description: location\n          required: true\n          schema:\n            type: string\n        - name: templateName\n          in: path\n          description: the name of the template\n          required: true\n          schema:\n            type: string\n      responses:\n        200:\n          description: successful operation\n          content:\n            multipart/mixed:\n              schema:\n                type: object\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Template'\n        400:\n          description: Invalid input\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: template not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n</code></pre>\n<p>The generated interface:</p>\n<pre><code>@ApiOperation(value = &quot;find template by template name&quot;, nickname = &quot;getTemplateByName&quot;, notes = &quot;returns single template&quot;, response = Object.class, tags={ &quot;template&quot;, })\n    @ApiResponses(value = { \n        @ApiResponse(code = 200, message = &quot;successful operation&quot;, response = Object.class),\n        @ApiResponse(code = 400, message = &quot;Invalid input&quot;, response = Error.class),\n        @ApiResponse(code = 404, message = &quot;template not found&quot;, response = Error.class) })\n    @ApiImplicitParams({\n    })\n    @GetMapping(\n        value = &quot;/bu/{bucket}/templates/{templateName}&quot;,\n        produces = { &quot;multipart/mixed&quot;, &quot;application/json&quot; }\n    )\n    default ResponseEntity&lt;Object&gt; getTemplateByName(@ApiParam(value = &quot;location&quot;,required=true) @PathVariable(&quot;bucket&quot;) String bucket,@ApiParam(value = &quot;the name of the template&quot;,required=true) @PathVariable(&quot;templateName&quot;) String templateName) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n</code></pre>\n<p>How to add @RequestHeader to the interface? or is there a way it can generate the httprequest in the interface?</p>\n"},{"tags":["java","spring-boot","spring-cloud","aws-parameter-store"],"owner":{"account_id":28734550,"reputation":1,"user_id":22005804,"display_name":"ChangSeok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685694637,"creation_date":1685694516,"question_id":76388452,"body_markdown":"Spring Boot does not work with AWS parameter store.\r\nIn the AWS parameter store I have set the name /test/security/jdbc.passwd and the value is asdf1234 .\r\nOn the /test page, I want to output asdf1234, the value of jdbc.passwd stored in AWS Parameter Store.\r\nI would really appreciate it so much if you could tell me how to solve it\r\n\r\n\r\nerror that occurs\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-06-02T17:14:41.197+09:00[0;39m [31mERROR[0;39m [35m8244[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;infoController&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:488) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0\r\n```\r\n\r\n\r\n```\r\napplication.yml\r\n\r\nserver:\r\n     port: 8001\r\n\r\nspring:\r\n datasource:\r\n     driver-class-name: com.mysql.cj.jdbc.Driver\r\n     url: jdbc:mysql://localhost:3306/world?serverTimeZone=UTC&amp;CharacterEncoding=UTF-8\r\n     username: username\r\n     password: passwd\r\n     \r\naws:\r\n  paramstore:\r\n    enabled: true\r\n    prefix: /test\r\n    name: security\r\n    profile-separator: _\r\n```\r\n```\r\nInfoController.java\r\n\r\npackage com.chase.test.pssb.info;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.chase.test.pssb.info.model.City;\r\nimport com.chase.test.pssb.info.model.Project;\r\n\r\n\r\n@RestController\r\npublic class InfoController {\r\n\t\r\n\t@Value(&quot;${jdbc.passwd}&quot;)\r\n\tprivate String passwd;\r\n\t\r\n\t@GetMapping(&quot;/info&quot;)\r\n\tpublic Object projectInfo() {\r\n\t\tProject project = new Project();\r\n\t\tproject.projectName = &quot;preword&quot;;\r\n\t\tproject.author = &quot;hello-bryan&quot;;\r\n\t\tproject.createdDate = new Date();\r\n\t\treturn project;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/cityList&quot;)\r\n\tpublic Object cityList() {\r\n\t\tList&lt;City&gt; cityList = InfoService.getCityList();\r\n\t\treturn cityList;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/test&quot;)\r\n    public String getJdbcPasswd() {\r\n        return passwd;\r\n    }\r\n}\r\n```\r\n```\r\nbuild.gradle\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;groovy&#39;\r\n}\r\n\r\ngroup = &#39;com.pssb&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tset(&#39;awsSpringVersion&#39;, &#39;3.0.0&#39;)\r\n}\r\n  \r\ndependencyManagement {\r\n\timports {\r\n\t  mavenBom &quot;io.awspring.cloud:spring-cloud-aws-dependencies:${awsSpringVersion}&quot;\r\n\t}\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.2&#39;\r\n\timplementation &#39;org.projectlombok:lombok&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.apache.groovy:groovy:4.0.11&#39;\r\n\timplementation &#39;com.mysql:mysql-connector-j:8.0.33&#39;\r\n\t//database\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\t//AWS\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-aws-parameter-store-config:2.2.6.RELEASE&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n\r\nAn error occurred and the value of the AWS parameter store could not be loaded.","title":"How to integrate Spring Boot with AWS parameter store","body":"<p>Spring Boot does not work with AWS parameter store.\nIn the AWS parameter store I have set the name /test/security/jdbc.passwd and the value is asdf1234 .\nOn the /test page, I want to output asdf1234, the value of jdbc.passwd stored in AWS Parameter Store.\nI would really appreciate it so much if you could tell me how to solve it</p>\n<p>error that occurs</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n[2m2023-06-02T17:14:41.197+09:00[0;39m [31mERROR[0;39m [35m8244[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'infoController': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:488) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.9.jar:6.0\n</code></pre>\n<pre><code>application.yml\n\nserver:\n     port: 8001\n\nspring:\n datasource:\n     driver-class-name: com.mysql.cj.jdbc.Driver\n     url: jdbc:mysql://localhost:3306/world?serverTimeZone=UTC&amp;CharacterEncoding=UTF-8\n     username: username\n     password: passwd\n     \naws:\n  paramstore:\n    enabled: true\n    prefix: /test\n    name: security\n    profile-separator: _\n</code></pre>\n<pre><code>InfoController.java\n\npackage com.chase.test.pssb.info;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.chase.test.pssb.info.model.City;\nimport com.chase.test.pssb.info.model.Project;\n\n\n@RestController\npublic class InfoController {\n    \n    @Value(&quot;${jdbc.passwd}&quot;)\n    private String passwd;\n    \n    @GetMapping(&quot;/info&quot;)\n    public Object projectInfo() {\n        Project project = new Project();\n        project.projectName = &quot;preword&quot;;\n        project.author = &quot;hello-bryan&quot;;\n        project.createdDate = new Date();\n        return project;\n    }\n\n    @GetMapping(&quot;/cityList&quot;)\n    public Object cityList() {\n        List&lt;City&gt; cityList = InfoService.getCityList();\n        return cityList;\n    }\n    \n    @GetMapping(&quot;/test&quot;)\n    public String getJdbcPasswd() {\n        return passwd;\n    }\n}\n</code></pre>\n<pre><code>build.gradle\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'groovy'\n}\n\ngroup = 'com.pssb'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('awsSpringVersion', '3.0.0')\n}\n  \ndependencyManagement {\n    imports {\n      mavenBom &quot;io.awspring.cloud:spring-cloud-aws-dependencies:${awsSpringVersion}&quot;\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.2'\n    implementation 'org.projectlombok:lombok'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.apache.groovy:groovy:4.0.11'\n    implementation 'com.mysql:mysql-connector-j:8.0.33'\n    //database\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    //AWS\n    implementation 'org.springframework.cloud:spring-cloud-starter-aws-parameter-store-config:2.2.6.RELEASE'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>An error occurred and the value of the AWS parameter store could not be loaded.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1685693227,"post_id":76388239,"comment_id":134699560,"body_markdown":"A link to the problem trying to be solved https://leetcode.com/problems/3sum/","body":"A link to the problem trying to be solved <a href=\"https://leetcode.com/problems/3sum/\" rel=\"nofollow noreferrer\">leetcode.com/problems/3sum</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1685693843,"post_id":76388239,"comment_id":134699683,"body_markdown":"The easiest way of starting to debug something like this, is understanding the error.  ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6  =&gt; this means you are trying to access the 7th (indices are 0 based) element of an array or collection that only has 6 elements","body":"The easiest way of starting to debug something like this, is understanding the error.  ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6  =&gt; this means you are trying to access the 7th (indices are 0 based) element of an array or collection that only has 6 elements"}],"answers":[{"tags":[],"owner":{"account_id":7879809,"reputation":610,"user_id":5954248,"display_name":"Nilupul Heshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685693708,"creation_date":1685693708,"answer_id":76388358,"question_id":76388239,"body_markdown":"A error in the condition for increasing the R pointer is probably what is generating the ArrayIndexOutOfBoundsException in your code. R-=1 should be used instead of R+=1 to move the pointer to the left.\r\n\r\nThe updated code is as follows:\r\n\r\n   \r\n\r\n    class Solution {\r\n        public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n            Arrays.sort(nums);\r\n            List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt;= nums.length - 3; i++) {\r\n                if (i == 0 || nums[i] != nums[i - 1]) {\r\n                    int L = i + 1;\r\n                    int R = nums.length - 1;\r\n                    int target = 0 - nums[i];\r\n                    while (L &lt; R) {\r\n                        if (nums[L] + nums[R] == target) {\r\n                            List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n                            temp.add(nums[i]);\r\n                            temp.add(nums[L]);\r\n                            temp.add(nums[R]);\r\n                            ans.add(temp);\r\n                            while (L &lt; nums.length - 1 &amp;&amp; nums[L] == nums[L + 1]) L++;\r\n                            while (R &gt; 0 &amp;&amp; nums[R] == nums[R - 1]) R--;\r\n                            L++;\r\n                            R--;\r\n                        } else if (nums[L] + nums[R] &lt; target) {\r\n                            L += 1;\r\n                        } else {\r\n                            R -= 1;  // Fix the typo here\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return ans;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Why does my 2 pointers approach to solve the 3 sum problem on LeetCode throw an index out of bounds error?","body":"<p>A error in the condition for increasing the R pointer is probably what is generating the ArrayIndexOutOfBoundsException in your code. R-=1 should be used instead of R+=1 to move the pointer to the left.</p>\n<p>The updated code is as follows:</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        Arrays.sort(nums);\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt;= nums.length - 3; i++) {\n            if (i == 0 || nums[i] != nums[i - 1]) {\n                int L = i + 1;\n                int R = nums.length - 1;\n                int target = 0 - nums[i];\n                while (L &lt; R) {\n                    if (nums[L] + nums[R] == target) {\n                        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n                        temp.add(nums[i]);\n                        temp.add(nums[L]);\n                        temp.add(nums[R]);\n                        ans.add(temp);\n                        while (L &lt; nums.length - 1 &amp;&amp; nums[L] == nums[L + 1]) L++;\n                        while (R &gt; 0 &amp;&amp; nums[R] == nums[R - 1]) R--;\n                        L++;\n                        R--;\n                    } else if (nums[L] + nums[R] &lt; target) {\n                        L += 1;\n                    } else {\n                        R -= 1;  // Fix the typo here\n                    }\n                }\n            }\n        }\n        return ans;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20898652,"reputation":23,"user_id":15352230,"display_name":"Amresh Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76388358,"answer_count":1,"score":0,"last_activity_date":1685693708,"creation_date":1685692838,"question_id":76388239,"body_markdown":"```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        Arrays.sort(nums);\r\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();     \r\n        for(int i=0;i&lt;=nums.length-3;i++){\r\n            if(i==0 || nums[i]!=nums[i-1]){\r\n                int L=i+1;\r\n                int R = nums.length-1;\r\n                int target = 0-(nums[i]);\r\n                while(L&lt;R){ \r\n                    if(nums[L]+nums[R]==target){\r\n                        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n                        temp.add(nums[i]);\r\n                        temp.add(nums[L]);\r\n                        temp.add(nums[R]);\r\n                        ans.add(temp);\r\n                        while(L&lt;nums.length-1 &amp;&amp; nums[L]==nums[L+1]) L++;\r\n                        while(R&gt;0 &amp;&amp; nums[R]==nums[R-1]) R--;\r\n                        L++;\r\n                        R--;\r\n                    }else if(nums[L]+nums[R]&lt;target){\r\n                        L+=1;\r\n                    }else{\r\n                        R+=1;\r\n                    }\r\n                }    \r\n            }\r\n        }\r\n    return ans;    \r\n    }\r\n# }\r\n```\r\n\r\n---\r\ntrying to solve the 3 sum problem of leetcode with 2 pointers approach . I am getting java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at \r\nif(nums[L]+nums[R]==target){\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does my 2 pointers approach to solve the 3 sum problem on LeetCode throw an index out of bounds error?","body":"<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        Arrays.sort(nums);\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();     \n        for(int i=0;i&lt;=nums.length-3;i++){\n            if(i==0 || nums[i]!=nums[i-1]){\n                int L=i+1;\n                int R = nums.length-1;\n                int target = 0-(nums[i]);\n                while(L&lt;R){ \n                    if(nums[L]+nums[R]==target){\n                        List&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n                        temp.add(nums[i]);\n                        temp.add(nums[L]);\n                        temp.add(nums[R]);\n                        ans.add(temp);\n                        while(L&lt;nums.length-1 &amp;&amp; nums[L]==nums[L+1]) L++;\n                        while(R&gt;0 &amp;&amp; nums[R]==nums[R-1]) R--;\n                        L++;\n                        R--;\n                    }else if(nums[L]+nums[R]&lt;target){\n                        L+=1;\n                    }else{\n                        R+=1;\n                    }\n                }    \n            }\n        }\n    return ans;    \n    }\n# }\n</code></pre>\n<hr />\n<p>trying to solve the 3 sum problem of leetcode with 2 pointers approach . I am getting java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at\nif(nums[L]+nums[R]==target){</p>\n"},{"tags":["java","macos","apple-m1","grobid"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662542924,"post_id":73633050,"comment_id":130027690,"body_markdown":"&quot;Most recent JVM version (up to JVM 11) will work correctly&quot;. Is there any particular reason you&#39;re set on using Java 8?","body":"&quot;Most recent JVM version (up to JVM 11) will work correctly&quot;. Is there any particular reason you&#39;re set on using Java 8?"},{"owner":{"account_id":14716679,"reputation":165,"user_id":12819718,"display_name":"rami_salazar"},"score":0,"creation_date":1662542999,"post_id":73633050,"comment_id":130027719,"body_markdown":"it says v8 is the supported version","body":"it says v8 is the supported version"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662543064,"post_id":73633050,"comment_id":130027746,"body_markdown":"That quote about JVM 11 is right from the link you gave. The full quote is &quot;GROBID requires a JVM installed on your machine, supported version is JVM 8. **Most recent JVM version (up to JVM 11) will work correctly**. CRF models will also work with JVM up to 14, but using the Deep Learning with JVM beyond 11 will lead to issues.&quot; (emphasis mine)","body":"That quote about JVM 11 is right from the link you gave. The full quote is &quot;GROBID requires a JVM installed on your machine, supported version is JVM 8. <b>Most recent JVM version (up to JVM 11) will work correctly</b>. CRF models will also work with JVM up to 14, but using the Deep Learning with JVM beyond 11 will lead to issues.&quot; (emphasis mine)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662543100,"post_id":73633050,"comment_id":130027756,"body_markdown":"Oh, I see. You want to use a *supported* version, not one that simply *works*, correct?","body":"Oh, I see. You want to use a <i>supported</i> version, not one that simply <i>works</i>, correct?"},{"owner":{"account_id":14716679,"reputation":165,"user_id":12819718,"display_name":"rami_salazar"},"score":0,"creation_date":1662543205,"post_id":73633050,"comment_id":130027792,"body_markdown":"yes exactly !!!","body":"yes exactly !!!"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662544594,"post_id":73633050,"comment_id":130028323,"body_markdown":"Looks like Azul provides a JRE 8 compiled for M1 (arm64) macs. Select Zulu [here](https://www.azul.com/downloads/), then play with the filters to find the correct version.","body":"Looks like Azul provides a JRE 8 compiled for M1 (arm64) macs. Select Zulu <a href=\"https://www.azul.com/downloads/\" rel=\"nofollow noreferrer\">here</a>, then play with the filters to find the correct version."},{"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"score":0,"creation_date":1665159645,"post_id":73633050,"comment_id":130642177,"body_markdown":"Does this answer your question? [Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?](https://stackoverflow.com/questions/72769846/will-x64-jdk-1-8-work-in-mac-with-apple-silicon-m1-chip)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72769846/will-x64-jdk-1-8-work-in-mac-with-apple-silicon-m1-chip\">Will x64 jdk-1.8 work in Mac with Apple Silicon (M1) Chip?</a>"},{"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"score":0,"creation_date":1666022888,"post_id":73633050,"comment_id":130831641,"body_markdown":"@rami_salazar Did the comments or my answer solve your issue? If the answer helped, you can say thanks by up voting and/or checking as answered.","body":"@rami_salazar Did the comments or my answer solve your issue? If the answer helped, you can say thanks by up voting and/or checking as answered."}],"answers":[{"tags":[],"owner":{"account_id":12139977,"reputation":5614,"user_id":8864226,"display_name":"James Risner"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662761617,"creation_date":1662761617,"answer_id":73667936,"question_id":73633050,"body_markdown":"Install Azul&#39;s M1 native JDK 8.\r\n-------------------------------\r\n\r\nYou may obtain an installer for [Java 8 (LTS)][1] . The current version is Azul Zulu: 8.64.0.19 (8u345b01) in .dmg format.\r\n\r\nOpen the disk image and install.\r\n\r\nNext you will need to set your JAVA_HOME environment variable.\r\n--------------------------------------------------------------\r\nOpen the Terminal.app and run this command:\r\n\r\n    % open .profile ; open .cshrc ; open .zshrc; open .login; open .bash_profile\r\n    The file /Users/risner/.zshrc does not exist.\r\n    The file /Users/risner/.login does not exist.\r\n\r\nIgnore any &quot;does not exist&quot; errors. You should have a couple of files open.\r\n\r\nIf you have any files called .cshrc or .login open, add this end of the file:\r\n\r\n    setenv JAVA_HOME /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\r\n\r\nIf you have any .zshrc, .profile or .bash_profile open then add this line instead:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\r\n\r\nNext, quit terminal and reopen. You should now be able to install `GrObId`.\r\n\r\n  [1]: https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk","title":"Installing JVM 8 on Mac with M1 chip","body":"<h2>Install Azul's M1 native JDK 8.</h2>\n<p>You may obtain an installer for <a href=\"https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\" rel=\"noreferrer\">Java 8 (LTS)</a> . The current version is Azul Zulu: 8.64.0.19 (8u345b01) in .dmg format.</p>\n<p>Open the disk image and install.</p>\n<h2>Next you will need to set your JAVA_HOME environment variable.</h2>\n<p>Open the Terminal.app and run this command:</p>\n<pre><code>% open .profile ; open .cshrc ; open .zshrc; open .login; open .bash_profile\nThe file /Users/risner/.zshrc does not exist.\nThe file /Users/risner/.login does not exist.\n</code></pre>\n<p>Ignore any &quot;does not exist&quot; errors. You should have a couple of files open.</p>\n<p>If you have any files called .cshrc or .login open, add this end of the file:</p>\n<pre><code>setenv JAVA_HOME /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\n</code></pre>\n<p>If you have any .zshrc, .profile or .bash_profile open then add this line instead:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home/jre\n</code></pre>\n<p>Next, quit terminal and reopen. You should now be able to install <code>GrObId</code>.</p>\n"},{"tags":[],"owner":{"account_id":360800,"reputation":157,"user_id":4886772,"display_name":"Luca Foppiano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685693324,"creation_date":1685693324,"answer_id":76388305,"question_id":73633050,"body_markdown":"Yes, you can install the openjdk 8 and the latest version 0.7.3 also supports JDK &gt; 11. With the latest version you can install temurin 17 directly with homebrew. ","title":"Installing JVM 8 on Mac with M1 chip","body":"<p>Yes, you can install the openjdk 8 and the latest version 0.7.3 also supports JDK &gt; 11. With the latest version you can install temurin 17 directly with homebrew.</p>\n"}],"owner":{"account_id":14716679,"reputation":165,"user_id":12819718,"display_name":"rami_salazar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7249,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1685693324,"creation_date":1662542822,"question_id":73633050,"body_markdown":"I&#39;m trying to install [GrObId][1] and it requires JVM8. Will installing [JDK][2] work for this on an M1 Mac?\r\n\r\n\r\n  [1]: https://grobid.readthedocs.io/en/latest/Install-Grobid/\r\n  [2]: https://docs.oracle.com/en/java/javase/16/install/installation-jdk-macos.html","title":"Installing JVM 8 on Mac with M1 chip","body":"<p>I'm trying to install <a href=\"https://grobid.readthedocs.io/en/latest/Install-Grobid/\" rel=\"nofollow noreferrer\">GrObId</a> and it requires JVM8. Will installing <a href=\"https://docs.oracle.com/en/java/javase/16/install/installation-jdk-macos.html\" rel=\"nofollow noreferrer\">JDK</a> work for this on an M1 Mac?</p>\n"},{"tags":["java","spring-integration","spring-integration-dsl"],"answers":[{"comments":[{"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"score":0,"creation_date":1685691587,"post_id":76385536,"comment_id":134699219,"body_markdown":"hmm.. I was not able to find those methods, maybe because I&#39;m not using the latest  version. I found solution and updated my question. Anyway, thank you for ideas","body":"hmm.. I was not able to find those methods, maybe because I&#39;m not using the latest  version. I found solution and updated my question. Anyway, thank you for ideas"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685710867,"post_id":76385536,"comment_id":134703147,"body_markdown":"Right, `@Scheduled` was one of my suggestion you have missed in your original question. It is really better to always to try keeping your projects up to date with dependencies: we may already have some solution and many fixes in newer versions.","body":"Right, <code>@Scheduled</code> was one of my suggestion you have missed in your original question. It is really better to always to try keeping your projects up to date with dependencies: we may already have some solution and many fixes in newer versions."},{"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"score":0,"creation_date":1685720325,"post_id":76385536,"comment_id":134705351,"body_markdown":"It would be great to see in next releases this feature in more handy way","body":"It would be great to see in next releases this feature in more handy way"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685720815,"post_id":76385536,"comment_id":134705446,"body_markdown":"Not sure what you are asking: there is that `MessageGroupStoreReaper` and it can be used with a `@Scheduled`. There is also that `purgeOrphanedGroups()`. What else do you think is need to be done in the framework in this area?","body":"Not sure what you are asking: there is that <code>MessageGroupStoreReaper</code> and it can be used with a <code>@Scheduled</code>. There is also that <code>purgeOrphanedGroups()</code>. What else do you think is need to be done in the framework in this area?"},{"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"score":0,"creation_date":1685970081,"post_id":76385536,"comment_id":134730872,"body_markdown":"I think it&#39;s better to have some flag like `aggregator.releaseMessagesOnStartup(true)`","body":"I think it&#39;s better to have some flag like <code>aggregator.releaseMessagesOnStartup(true)</code>"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685972203,"post_id":76385536,"comment_id":134731382,"body_markdown":"Why is that? See that `setExpireTimeout()` Javadoc. The group release process is more complicated that you think: it is called &quot;released&quot; (or complete) only when respective `ReleaseStrategy` answers `true` for us. Otherwise it is called &quot;expire&quot;, while it doesn&#39;t mean that group will be discarded. It simply can be released partially. Plus there is no need to release all the groups since you may send new messages into them after application restart. Therefore those groups will be released naturally like it would felt for you without app restarts.","body":"Why is that? See that <code>setExpireTimeout()</code> Javadoc. The group release process is more complicated that you think: it is called &quot;released&quot; (or complete) only when respective <code>ReleaseStrategy</code> answers <code>true</code> for us. Otherwise it is called &quot;expire&quot;, while it doesn&#39;t mean that group will be discarded. It simply can be released partially. Plus there is no need to release all the groups since you may send new messages into them after application restart. Therefore those groups will be released naturally like it would felt for you without app restarts."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685972406,"post_id":76385536,"comment_id":134731438,"body_markdown":"That&#39;s exactly why we went with an `expireTimeout` logic: to `purgeOrphanedGroups` only if they are stuck in the store for a while, not because we just restart. What if with your `releaseMessagesOnStartup(true)` we would clean up the whole store, but then a new message arrives for a group to release it naturally? It would be not consistent according the grouping expectations. Therefore your suggestion is proven to be erroneous and it is better to make yourself familiar with that `expireTimeout` and `purgeOrphanedGroups` combination to make your solution as robust as possible.","body":"That&#39;s exactly why we went with an <code>expireTimeout</code> logic: to <code>purgeOrphanedGroups</code> only if they are stuck in the store for a while, not because we just restart. What if with your <code>releaseMessagesOnStartup(true)</code> we would clean up the whole store, but then a new message arrives for a group to release it naturally? It would be not consistent according the grouping expectations. Therefore your suggestion is proven to be erroneous and it is better to make yourself familiar with that <code>expireTimeout</code> and <code>purgeOrphanedGroups</code> combination to make your solution as robust as possible."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685651726,"creation_date":1685651726,"answer_id":76385536,"question_id":76385338,"body_markdown":"The `MessageGroupStoreReaper` doesn&#39;t work by itself, it has to be called from a `@Scheduled` method: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper\r\n\r\nHowever there is a nice option for you from an aggregator perspective:\r\n\r\n\t/**\r\n\t * Perform a {@link MessageGroupStore#expireMessageGroups(long)} with the provided {@link #expireTimeout}.\r\n\t * Can be called externally at any time.\r\n\t * Internally it is called from the scheduled task with the configured {@link #expireDuration}.\r\n\t * @since 5.4\r\n\t */\r\n\tpublic void purgeOrphanedGroups() {\r\n\r\nYou just need to set that `expireTimeout &gt; 0`:\r\n\r\n\t/**\r\n\t * Configure a timeout in milliseconds for purging old orphaned groups from the store.\r\n\t * Used on startup and when an {@link #expireDuration} is provided, the task for running\r\n\t * {@link #purgeOrphanedGroups()} is scheduled with that period.\r\n\t * The {@link #forceReleaseProcessor} is used to process those expired groups according\r\n\t * the &quot;force complete&quot; options. A group can be orphaned if a persistent message group\r\n\t * store is used and no new messages arrive for that group after a restart.\r\n\t * @param expireTimeout the number of milliseconds to determine old orphaned groups in the store to purge.\r\n\t * @since 5.4\r\n\t * @see #purgeOrphanedGroups()\r\n\t */\r\n\tpublic void setExpireTimeout(long expireTimeout) {\r\n\r\nSee also docs on the matter: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator-xml\r\n\r\n&gt; Starting with version 5.4, the aggregator (and resequencer) can be configured to expire orphaned groups (groups in a persistent message store that might not otherwise be released). \r\n\r\n","title":"How to send Messages after Spring Integration application restarted?","body":"<p>The <code>MessageGroupStoreReaper</code> doesn't work by itself, it has to be called from a <code>@Scheduled</code> method: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#reaper</a></p>\n<p>However there is a nice option for you from an aggregator perspective:</p>\n<pre><code>/**\n * Perform a {@link MessageGroupStore#expireMessageGroups(long)} with the provided {@link #expireTimeout}.\n * Can be called externally at any time.\n * Internally it is called from the scheduled task with the configured {@link #expireDuration}.\n * @since 5.4\n */\npublic void purgeOrphanedGroups() {\n</code></pre>\n<p>You just need to set that <code>expireTimeout &gt; 0</code>:</p>\n<pre><code>/**\n * Configure a timeout in milliseconds for purging old orphaned groups from the store.\n * Used on startup and when an {@link #expireDuration} is provided, the task for running\n * {@link #purgeOrphanedGroups()} is scheduled with that period.\n * The {@link #forceReleaseProcessor} is used to process those expired groups according\n * the &quot;force complete&quot; options. A group can be orphaned if a persistent message group\n * store is used and no new messages arrive for that group after a restart.\n * @param expireTimeout the number of milliseconds to determine old orphaned groups in the store to purge.\n * @since 5.4\n * @see #purgeOrphanedGroups()\n */\npublic void setExpireTimeout(long expireTimeout) {\n</code></pre>\n<p>See also docs on the matter: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator-xml\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#aggregator-xml</a></p>\n<blockquote>\n<p>Starting with version 5.4, the aggregator (and resequencer) can be configured to expire orphaned groups (groups in a persistent message store that might not otherwise be released).</p>\n</blockquote>\n"}],"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76385536,"answer_count":1,"score":0,"last_activity_date":1685691711,"creation_date":1685649924,"question_id":76385338,"body_markdown":"I have a small Spring Integration application, I&#39;m storing messages and messaging groups in the database. Currently, I have a case when some messages/groups are waiting to be sent after group timeout, but the application restarted. And when the application started I still have messages in DB and they won&#39;t be sent. I need some configuration to send expired message group from DB or resume timer. I tried to use reaper, but it does not work as expected. My code is:\r\n```\r\n@Configuration\r\npublic class ConsumingChannelConfig {\r\n\r\n    @Bean\r\n    public DirectChannel consumingChannel() {\r\n        return new DirectChannel();\r\n    }\r\n\r\n    @Bean\r\n    public KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter() {\r\n        KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter =\r\n                new KafkaMessageDrivenChannelAdapter&lt;&gt;(kafkaListenerContainer());\r\n        kafkaMessageDrivenChannelAdapter.setOutputChannel(consumingChannel());\r\n        MessagingMessageConverter messageConverter = new MessagingMessageConverter();\r\n        messageConverter.setGenerateMessageId(true);\r\n        kafkaMessageDrivenChannelAdapter.setRecordMessageConverter(messageConverter);\r\n        return kafkaMessageDrivenChannelAdapter;\r\n    }\r\n\r\n    @Bean\r\n    public DataSource getDataSource() {\r\n        return ...;\r\n    }\r\n\r\n    @Bean\r\n    public JdbcMessageStore jdbcMessageStore() {\r\n        return new JdbcMessageStore(getDataSource());\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;consumingChannel&quot;)\r\n    @Bean\r\n    public MessageHandler aggregator() {\r\n        long timeout = 10000L;\r\n        AggregatingMessageHandler aggregator =\r\n                new AggregatingMessageHandler(new DefaultAggregatingMessageGroupProcessor(),\r\n                        jdbcMessageStore());\r\n        aggregator.setOutputChannel((message, l) -&gt; {\r\n            System.out.println(&quot;MESSAGE: &quot; + message);\r\n            return true;\r\n        });\r\n        aggregator.setGroupTimeoutExpression(new ValueExpression&lt;&gt;(timeout));\r\n//        aggregator.setTaskScheduler(this.taskScheduler);\r\n        aggregator.setCorrelationStrategy(new MyCorrelationStrategy());\r\n        aggregator.setSendPartialResultOnExpiry(true);\r\n        aggregator.setExpireGroupsUponCompletion(true);\r\n        aggregator.setExpireGroupsUponTimeout(true);\r\n        aggregator.setDiscardChannel((message, timeout1) -&gt; {\r\n            System.out.println(&quot;DISCARD: &quot; + message + &quot;, timeout: &quot; + timeout1);\r\n            return true;\r\n        });\r\n        aggregator.setReleaseStrategy(new ReleaseStrategy() {\r\n            @Override\r\n            public boolean canRelease(MessageGroup group) {\r\n                return System.currentTimeMillis() - group.getTimestamp() &gt;= timeout;\r\n            }\r\n        });\r\n        return aggregator;\r\n    }\r\n\r\n    @Bean\r\n    public MessageGroupStoreReaper reaper() {\r\n        MessageGroupStoreReaper reaper = new MessageGroupStoreReaper(jdbcMessageStore());\r\n        reaper.setPhase(1);\r\n        reaper.setTimeout(2000L);\r\n        reaper.setAutoStartup(true);\r\n//        reaper.setExpireOnDestroy(true);\r\n        return reaper;\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentMessageListenerContainer&lt;String, String&gt; kafkaListenerContainer() {\r\n        ContainerProperties containerProps = new ContainerProperties(&quot;spring-integration-topic&quot;);\r\n\r\n        return new ConcurrentMessageListenerContainer&lt;&gt;(\r\n                consumerFactory(), containerProps);\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\r\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;spring-integration&quot;);\r\n        // automatically reset the offset to the earliest offset\r\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n//        DefaultKafkaHeaderMapper mapper = new DefaultKafkaHeaderMapper();\r\n        return properties;\r\n    }\r\n}\r\n```\r\n\r\n**UPD: My Solution**\r\n```\r\n@EnableScheduling\r\n@SpringBootApplication\r\npublic class SpringIntegrationExampleApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringIntegrationExampleApplication.class, args);\r\n    }\r\n\r\n\r\n    @Autowired\r\n    private MessageGroupStoreReaper reaper;\r\n\r\n    @Scheduled(initialDelay = 2000, fixedDelay = Long.MAX_VALUE)\r\n    public void start() {\r\n        reaper.run();\r\n    }\r\n\r\n}\r\n```","title":"How to send Messages after Spring Integration application restarted?","body":"<p>I have a small Spring Integration application, I'm storing messages and messaging groups in the database. Currently, I have a case when some messages/groups are waiting to be sent after group timeout, but the application restarted. And when the application started I still have messages in DB and they won't be sent. I need some configuration to send expired message group from DB or resume timer. I tried to use reaper, but it does not work as expected. My code is:</p>\n<pre><code>@Configuration\npublic class ConsumingChannelConfig {\n\n    @Bean\n    public DirectChannel consumingChannel() {\n        return new DirectChannel();\n    }\n\n    @Bean\n    public KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter() {\n        KafkaMessageDrivenChannelAdapter&lt;String, String&gt; kafkaMessageDrivenChannelAdapter =\n                new KafkaMessageDrivenChannelAdapter&lt;&gt;(kafkaListenerContainer());\n        kafkaMessageDrivenChannelAdapter.setOutputChannel(consumingChannel());\n        MessagingMessageConverter messageConverter = new MessagingMessageConverter();\n        messageConverter.setGenerateMessageId(true);\n        kafkaMessageDrivenChannelAdapter.setRecordMessageConverter(messageConverter);\n        return kafkaMessageDrivenChannelAdapter;\n    }\n\n    @Bean\n    public DataSource getDataSource() {\n        return ...;\n    }\n\n    @Bean\n    public JdbcMessageStore jdbcMessageStore() {\n        return new JdbcMessageStore(getDataSource());\n    }\n\n    @ServiceActivator(inputChannel = &quot;consumingChannel&quot;)\n    @Bean\n    public MessageHandler aggregator() {\n        long timeout = 10000L;\n        AggregatingMessageHandler aggregator =\n                new AggregatingMessageHandler(new DefaultAggregatingMessageGroupProcessor(),\n                        jdbcMessageStore());\n        aggregator.setOutputChannel((message, l) -&gt; {\n            System.out.println(&quot;MESSAGE: &quot; + message);\n            return true;\n        });\n        aggregator.setGroupTimeoutExpression(new ValueExpression&lt;&gt;(timeout));\n//        aggregator.setTaskScheduler(this.taskScheduler);\n        aggregator.setCorrelationStrategy(new MyCorrelationStrategy());\n        aggregator.setSendPartialResultOnExpiry(true);\n        aggregator.setExpireGroupsUponCompletion(true);\n        aggregator.setExpireGroupsUponTimeout(true);\n        aggregator.setDiscardChannel((message, timeout1) -&gt; {\n            System.out.println(&quot;DISCARD: &quot; + message + &quot;, timeout: &quot; + timeout1);\n            return true;\n        });\n        aggregator.setReleaseStrategy(new ReleaseStrategy() {\n            @Override\n            public boolean canRelease(MessageGroup group) {\n                return System.currentTimeMillis() - group.getTimestamp() &gt;= timeout;\n            }\n        });\n        return aggregator;\n    }\n\n    @Bean\n    public MessageGroupStoreReaper reaper() {\n        MessageGroupStoreReaper reaper = new MessageGroupStoreReaper(jdbcMessageStore());\n        reaper.setPhase(1);\n        reaper.setTimeout(2000L);\n        reaper.setAutoStartup(true);\n//        reaper.setExpireOnDestroy(true);\n        return reaper;\n    }\n\n    @Bean\n    public ConcurrentMessageListenerContainer&lt;String, String&gt; kafkaListenerContainer() {\n        ContainerProperties containerProps = new ContainerProperties(&quot;spring-integration-topic&quot;);\n\n        return new ConcurrentMessageListenerContainer&lt;&gt;(\n                consumerFactory(), containerProps);\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\n        properties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        properties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        properties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;spring-integration&quot;);\n        // automatically reset the offset to the earliest offset\n        properties.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n//        DefaultKafkaHeaderMapper mapper = new DefaultKafkaHeaderMapper();\n        return properties;\n    }\n}\n</code></pre>\n<p><strong>UPD: My Solution</strong></p>\n<pre><code>@EnableScheduling\n@SpringBootApplication\npublic class SpringIntegrationExampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringIntegrationExampleApplication.class, args);\n    }\n\n\n    @Autowired\n    private MessageGroupStoreReaper reaper;\n\n    @Scheduled(initialDelay = 2000, fixedDelay = Long.MAX_VALUE)\n    public void start() {\n        reaper.run();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1138510,"reputation":930,"user_id":1123052,"display_name":"Edgar Domingues"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685691341,"creation_date":1685691341,"answer_id":76388081,"question_id":76387501,"body_markdown":"What you want is the query to return a Skill DTO. \r\nSee how to do it here https://thorben-janssen.com/spring-data-jpa-dto-native-queries/\r\n\r\nAnother option is to return the Worker entity, and each worker has a list of Skill. ","title":"How can I include columns from a relational table inside an entity without getting &quot;missing column&quot; errors on my lists?","body":"<p>What you want is the query to return a Skill DTO.\nSee how to do it here <a href=\"https://thorben-janssen.com/spring-data-jpa-dto-native-queries/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/spring-data-jpa-dto-native-queries/</a></p>\n<p>Another option is to return the Worker entity, and each worker has a list of Skill.</p>\n"}],"owner":{"account_id":21003480,"reputation":21,"user_id":15433793,"display_name":"Melis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685691341,"creation_date":1685685748,"question_id":76387501,"body_markdown":"Say I have 3 related tables: “company”, “worker” and “skills”. A company can have many workers and the workers can have many skills. The company to worker relation is done through a company_worker_id, and the skills table has a worker_id column which store the same ID as the worker_id column in the workers table.\r\n\r\nGreat, now I would like to create a list on the frontend that shows a list of workers and their skills when a company is picked.\r\n\r\nSo first I create a public interface that extends to the skills entity and joins all three tables\r\n\r\n    public interface SkillRepository extends JpaRepository&lt;Skills, UUID&gt; {\r\n    @Query(nativeQuery = true, value = &quot;&quot;&quot;\r\n                        select\r\n                            UUID() id,\r\n                            s.*,\r\n                            w.name worker_name\r\n                        from\r\n                            worker w\r\n                            INNER JOIN skills s ON w.id = s.worker_id\r\n                        where\r\n                           w.id = s.worker_id\r\n                           AND w.company_id = :companyId\r\n            &quot;&quot;&quot;)\r\n    List&lt;skills&gt; getSkillsAndWorkers(UUID companyId);\r\n    }\r\n\r\nGreat.\r\n\r\nNow here comes the tricky part. In order for worker_name to show up when I output the data on the frontend, I need to add it as a column in the skills entity file, like so:\r\n\r\n    @Entity \r\n    @Table(name = &quot;skills&quot;) \r\n    @public class Skills {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n        @Column(name = &quot;id&quot;)\r\n        private UUID id;\r\n        \r\n        @Column(name = &quot;worker_id&quot;)\r\n        private UUID workerId;\r\n        \r\n        @Column(name = &quot;worker_name&quot;)\r\n        private String workerName;\r\n    }\r\n\r\nThis of course works, BUT the skills entity is used for other lists in the system, so when I add worker_name to that file, the other lists will crash and I will get a warning that the column “worker_name” is missing, which is obvious because it is not used in any other lists than the one which is using the “getSkillsAndWorkers” query.\r\n\r\nI know that I COULD just do an inner join and add worker_name to every other query I have in the system, but there must be a different way to handle this.\r\n\r\nSo my question is: How can I include the worker_name column from the worker entity inside the skills entity without messing up every other list in the system that uses the skills entity without the worker data?","title":"How can I include columns from a relational table inside an entity without getting &quot;missing column&quot; errors on my lists?","body":"<p>Say I have 3 related tables: “company”, “worker” and “skills”. A company can have many workers and the workers can have many skills. The company to worker relation is done through a company_worker_id, and the skills table has a worker_id column which store the same ID as the worker_id column in the workers table.</p>\n<p>Great, now I would like to create a list on the frontend that shows a list of workers and their skills when a company is picked.</p>\n<p>So first I create a public interface that extends to the skills entity and joins all three tables</p>\n<pre><code>public interface SkillRepository extends JpaRepository&lt;Skills, UUID&gt; {\n@Query(nativeQuery = true, value = &quot;&quot;&quot;\n                    select\n                        UUID() id,\n                        s.*,\n                        w.name worker_name\n                    from\n                        worker w\n                        INNER JOIN skills s ON w.id = s.worker_id\n                    where\n                       w.id = s.worker_id\n                       AND w.company_id = :companyId\n        &quot;&quot;&quot;)\nList&lt;skills&gt; getSkillsAndWorkers(UUID companyId);\n}\n</code></pre>\n<p>Great.</p>\n<p>Now here comes the tricky part. In order for worker_name to show up when I output the data on the frontend, I need to add it as a column in the skills entity file, like so:</p>\n<pre><code>@Entity \n@Table(name = &quot;skills&quot;) \n@public class Skills {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n    \n    @Column(name = &quot;worker_id&quot;)\n    private UUID workerId;\n    \n    @Column(name = &quot;worker_name&quot;)\n    private String workerName;\n}\n</code></pre>\n<p>This of course works, BUT the skills entity is used for other lists in the system, so when I add worker_name to that file, the other lists will crash and I will get a warning that the column “worker_name” is missing, which is obvious because it is not used in any other lists than the one which is using the “getSkillsAndWorkers” query.</p>\n<p>I know that I COULD just do an inner join and add worker_name to every other query I have in the system, but there must be a different way to handle this.</p>\n<p>So my question is: How can I include the worker_name column from the worker entity inside the skills entity without messing up every other list in the system that uses the skills entity without the worker data?</p>\n"},{"tags":["java","fatal-error","auto-update"],"answers":[{"tags":[],"owner":{"account_id":28603808,"reputation":1,"user_id":21900166,"display_name":"Marek Podolak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685691337,"creation_date":1685691337,"answer_id":76388080,"question_id":76345840,"body_markdown":"I found the answer to my question. Link to GitHub was not correct. When trying to reach a file from GitHub through code need to use raw version of URL. Didn&#39;t know of its existence before.","title":"Problem with auto update, get fatal error while downloading config file for update4j","body":"<p>I found the answer to my question. Link to GitHub was not correct. When trying to reach a file from GitHub through code need to use raw version of URL. Didn't know of its existence before.</p>\n"}],"owner":{"account_id":28603808,"reputation":1,"user_id":21900166,"display_name":"Marek Podolak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76388080,"answer_count":1,"score":0,"last_activity_date":1685691337,"creation_date":1685173100,"question_id":76345840,"body_markdown":"I am trying to write an application auto update with update4j. I wrote a basic app just to try how it works and how to do it, so I can use it in a real project. Think I did everything as documentation said, but it still doesn&#39;t work.\r\nI expected it to download config file from the given URL, but instead I get fatal error.\r\n&gt; &quot;\\[Fatal Error\\] :16:76: Attribute name &quot;crossorigin&quot; associated with an element type &quot;link&quot; must be followed by the &#39; = &#39; character.&quot;\r\n\r\nThe error is thrown when I try to read a Configuration file in the `Updater` class and line `config = Configuration.read(in);`\r\n\r\nCan someone point me my mistake?\r\n\r\nHere is everything that this app contains.\r\n\r\n```\r\npackage Update;\r\n\r\nimport org.update4j.Configuration;\r\nimport org.update4j.FileMetadata;\r\n\r\nimport java.io.IOException;\r\nimport java.io.Writer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\npublic class ConfigCreator {\r\n    private String appDir = System.getProperty(&quot;user.dir&quot;);\r\n    private String theAppTarget = appDir + &quot;\\\\TheApp\\\\target&quot;;\r\n    private  String bootstrapTarget = appDir + &quot;\\\\Bootstrap\\\\target&quot;;\r\n\r\n\r\n    public void createConfig() throws IOException {\r\n        Configuration config = Configuration.builder()\r\n                .baseUri(&quot;https://github.com/Skurczybyk/UpdateTest/tree/master/TheApp/target&quot;)\r\n                .basePath(theAppTarget)\r\n                .file(FileMetadata.readFrom(theAppTarget + &quot;\\\\TheApp-1.0-SNAPSHOT.jar&quot;))\r\n                .build();\r\n        try (Writer out = Files.newBufferedWriter(Paths.get(bootstrapTarget + &quot;\\\\config.xml&quot;)))\r\n        {config.write(out);}\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage TheApp;\r\n\r\n\r\nimport Update.ConfigCreator;\r\nimport Update.Updater;\r\n\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ConfigCreator confCreator = new ConfigCreator();\r\n        Updater updater = new Updater();\r\n\r\n        try {\r\n            updater.update();\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n       /* try {\r\n            confCreator.createConfig();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }*/\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n\r\npackage Update;\r\n\r\nimport org.update4j.Archive;\r\nimport org.update4j.Configuration;\r\nimport org.update4j.UpdateOptions;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Reader;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\npublic class Updater {\r\n    public void update() throws MalformedURLException {\r\n\r\n            URL configurl = new URL(&quot;https://github.com/Skurczybyk/UpdateTest/blob/master/Bootstrap/target/config.xml&quot;);\r\n        Path updateZip = Paths.get(&quot;update.zip&quot;);\r\n        Configuration config = null;\r\n        try(Reader in = new InputStreamReader(configurl.openStream(), StandardCharsets.UTF_8))\r\n        {\r\n            config = Configuration.read(in);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            System.out.println(&quot;Cos nie poszło&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Problem with auto update, get fatal error while downloading config file for update4j","body":"<p>I am trying to write an application auto update with update4j. I wrote a basic app just to try how it works and how to do it, so I can use it in a real project. Think I did everything as documentation said, but it still doesn't work.\nI expected it to download config file from the given URL, but instead I get fatal error.</p>\n<blockquote>\n<p>&quot;[Fatal Error] :16:76: Attribute name &quot;crossorigin&quot; associated with an element type &quot;link&quot; must be followed by the ' = ' character.&quot;</p>\n</blockquote>\n<p>The error is thrown when I try to read a Configuration file in the <code>Updater</code> class and line <code>config = Configuration.read(in);</code></p>\n<p>Can someone point me my mistake?</p>\n<p>Here is everything that this app contains.</p>\n<pre><code>package Update;\n\nimport org.update4j.Configuration;\nimport org.update4j.FileMetadata;\n\nimport java.io.IOException;\nimport java.io.Writer;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class ConfigCreator {\n    private String appDir = System.getProperty(&quot;user.dir&quot;);\n    private String theAppTarget = appDir + &quot;\\\\TheApp\\\\target&quot;;\n    private  String bootstrapTarget = appDir + &quot;\\\\Bootstrap\\\\target&quot;;\n\n\n    public void createConfig() throws IOException {\n        Configuration config = Configuration.builder()\n                .baseUri(&quot;https://github.com/Skurczybyk/UpdateTest/tree/master/TheApp/target&quot;)\n                .basePath(theAppTarget)\n                .file(FileMetadata.readFrom(theAppTarget + &quot;\\\\TheApp-1.0-SNAPSHOT.jar&quot;))\n                .build();\n        try (Writer out = Files.newBufferedWriter(Paths.get(bootstrapTarget + &quot;\\\\config.xml&quot;)))\n        {config.write(out);}\n    }\n}\n</code></pre>\n<pre><code>package TheApp;\n\n\nimport Update.ConfigCreator;\nimport Update.Updater;\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\n\npublic class Main {\n    public static void main(String[] args) {\n        ConfigCreator confCreator = new ConfigCreator();\n        Updater updater = new Updater();\n\n        try {\n            updater.update();\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        }\n       /* try {\n            confCreator.createConfig();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }*/\n\n\n    }\n}\n</code></pre>\n<pre><code>\npackage Update;\n\nimport org.update4j.Archive;\nimport org.update4j.Configuration;\nimport org.update4j.UpdateOptions;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Updater {\n    public void update() throws MalformedURLException {\n\n            URL configurl = new URL(&quot;https://github.com/Skurczybyk/UpdateTest/blob/master/Bootstrap/target/config.xml&quot;);\n        Path updateZip = Paths.get(&quot;update.zip&quot;);\n        Configuration config = null;\n        try(Reader in = new InputStreamReader(configurl.openStream(), StandardCharsets.UTF_8))\n        {\n            config = Configuration.read(in);\n        }\n        catch (IOException e)\n        {\n            System.out.println(&quot;Cos nie poszło&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7804680,"reputation":2322,"user_id":5902927,"display_name":"Miguel Benitez"},"score":1,"creation_date":1470147040,"post_id":38722816,"comment_id":64821626,"body_markdown":"You can&#39;t make change in raw folder once apk in build","body":"You can&#39;t make change in raw folder once apk in build"},{"owner":{"account_id":6469646,"reputation":2690,"user_id":5010211,"display_name":"Akshay Bhat &#39;AB&#39;"},"score":0,"creation_date":1470147086,"post_id":38722816,"comment_id":64821663,"body_markdown":"No you cant, save it in sd card of your mobile apps folder once you download","body":"No you cant, save it in sd card of your mobile apps folder once you download"},{"owner":{"account_id":8902963,"reputation":53,"user_id":6645830,"display_name":"devRey"},"score":0,"creation_date":1470147393,"post_id":38722816,"comment_id":64821886,"body_markdown":"oh ok sir. how the &quot;downloading contents&quot; in games work? because I dont know what search term will I put in google. Im so noob.","body":"oh ok sir. how the &quot;downloading contents&quot; in games work? because I dont know what search term will I put in google. Im so noob."},{"owner":{"account_id":8902963,"reputation":53,"user_id":6645830,"display_name":"devRey"},"score":0,"creation_date":1470147525,"post_id":38722816,"comment_id":64821988,"body_markdown":"can I hide that folder in sd programatically? so that it can&#39;t access in the gallery? Im sorry im so noob in android development.","body":"can I hide that folder in sd programatically? so that it can&#39;t access in the gallery? Im sorry im so noob in android development."}],"answers":[{"comments":[{"owner":{"account_id":8902963,"reputation":53,"user_id":6645830,"display_name":"devRey"},"score":0,"creation_date":1470194771,"post_id":38726003,"comment_id":64843441,"body_markdown":"can i make the directory hidden? because i dont want to make the files viewable in the gallery of the phone.","body":"can i make the directory hidden? because i dont want to make the files viewable in the gallery of the phone."},{"owner":{"account_id":6415716,"reputation":1738,"user_id":4973987,"display_name":"Ricardo Vieira"},"score":0,"creation_date":1470209775,"post_id":38726003,"comment_id":64849291,"body_markdown":"Yes, you can. You can, instead of storing it to externalMemory (sdcard), store the data to the internal application storage. Check my editted response","body":"Yes, you can. You can, instead of storing it to externalMemory (sdcard), store the data to the internal application storage. Check my editted response"}],"tags":[],"owner":{"account_id":6415716,"reputation":1738,"user_id":4973987,"display_name":"Ricardo Vieira"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470210011,"creation_date":1470155644,"answer_id":38726003,"question_id":38722816,"body_markdown":"**Short answer : You can not**.\r\n\r\nYou can not, under any circumstance, write/dump a file to the raw/assets folder in runtime. \r\n\r\nWhat you can do is to download the video and store it into **Internal Memory** (application reserved storage) **or External Memory** (usually your SDCard))\r\n\r\nFor example, you can store media files, for instance a Bitmap to your external storage like this.\r\n\r\n     private void saveAnImageToExternalMemory(Bitmap finalBitmap) {\r\n        String root = Environment.getExternalStorageDirectory().toString();\r\n        File myDir = new File(root + &quot;/saved_images&quot;);    \r\n        myDir.mkdirs();\r\n        String fname = &quot;yourimagename.jpg&quot;;\r\n        File file = new File (myDir, fname);\r\n        if (file.exists ()) file.delete (); \r\n        try {\r\n               FileOutputStream out = new FileOutputStream(file);\r\n               finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n               out.flush();\r\n               out.close();\r\n    \r\n        } catch (Exception e) {\r\n               e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nAnd equally, read an file, in this example an image (which is then loaded to an imageView), from external memory\r\n\r\n    private void loadImageFromStorage(String path){\r\n        try {\r\n            File f=new File(path, &quot;profile.jpg&quot;);\r\n            Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\r\n                ImageView img=(ImageView)findViewById(R.id.imgPicker);\r\n            img.setImageBitmap(b);\r\n        } \r\n        catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }\r\n\r\n**Edit**: Additionally, you can store your data into internal memory\r\n\r\n&gt; Alternatively you can also save the Bitmap to the internal storage in\r\n&gt; case the SD card is not available or for whatever other reasons you\r\n&gt; may have. Files saved to the internal storage are only accessible by\r\n&gt; the application which saved the files. Neither the user nor other\r\n&gt; applications can access those files\r\n\r\n    public boolean saveImageToInternalStorage(Bitmap image) {\r\n        try {\r\n    \t\tFileOutputStream fos = context.openFileOutput(&quot;yourimage.png&quot;, Context.MODE_PRIVATE);\r\n    \t\t// Writing the bitmap to the output stream\r\n    \t\timage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n    \t\tfos.close();\r\n            return true;\r\n        } catch (Exception e) {\r\n    \t\tLog.e(&quot;saveToInternalStorage()&quot;, e.getMessage());\r\n    \t\treturn false;\r\n        }\r\n    }\r\n\r\n\r\n[Check this documentation for more information](https://developer.android.com/training/basics/data-storage/files.html)\r\n\r\nRegards,\r\n","title":"Downloading files from a server and put it to /raw folder","body":"<p><strong>Short answer : You can not</strong>.</p>\n\n<p>You can not, under any circumstance, write/dump a file to the raw/assets folder in runtime. </p>\n\n<p>What you can do is to download the video and store it into <strong>Internal Memory</strong> (application reserved storage) <strong>or External Memory</strong> (usually your SDCard))</p>\n\n<p>For example, you can store media files, for instance a Bitmap to your external storage like this.</p>\n\n<pre><code> private void saveAnImageToExternalMemory(Bitmap finalBitmap) {\n    String root = Environment.getExternalStorageDirectory().toString();\n    File myDir = new File(root + \"/saved_images\");    \n    myDir.mkdirs();\n    String fname = \"yourimagename.jpg\";\n    File file = new File (myDir, fname);\n    if (file.exists ()) file.delete (); \n    try {\n           FileOutputStream out = new FileOutputStream(file);\n           finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\n           out.flush();\n           out.close();\n\n    } catch (Exception e) {\n           e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And equally, read an file, in this example an image (which is then loaded to an imageView), from external memory</p>\n\n<pre><code>private void loadImageFromStorage(String path){\n    try {\n        File f=new File(path, \"profile.jpg\");\n        Bitmap b = BitmapFactory.decodeStream(new FileInputStream(f));\n            ImageView img=(ImageView)findViewById(R.id.imgPicker);\n        img.setImageBitmap(b);\n    } \n    catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p><strong>Edit</strong>: Additionally, you can store your data into internal memory</p>\n\n<blockquote>\n  <p>Alternatively you can also save the Bitmap to the internal storage in\n  case the SD card is not available or for whatever other reasons you\n  may have. Files saved to the internal storage are only accessible by\n  the application which saved the files. Neither the user nor other\n  applications can access those files</p>\n</blockquote>\n\n<pre><code>public boolean saveImageToInternalStorage(Bitmap image) {\n    try {\n        FileOutputStream fos = context.openFileOutput(\"yourimage.png\", Context.MODE_PRIVATE);\n        // Writing the bitmap to the output stream\n        image.compress(Bitmap.CompressFormat.PNG, 100, fos);\n        fos.close();\n        return true;\n    } catch (Exception e) {\n        Log.e(\"saveToInternalStorage()\", e.getMessage());\n        return false;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/training/basics/data-storage/files.html\" rel=\"nofollow\">Check this documentation for more information</a></p>\n\n<p>Regards,</p>\n"},{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685690709,"creation_date":1685690709,"answer_id":76388005,"question_id":38722816,"body_markdown":"You can use android sqlite database to manage your download file.","title":"Downloading files from a server and put it to /raw folder","body":"<p>You can use android sqlite database to manage your download file.</p>\n"}],"owner":{"account_id":8902963,"reputation":53,"user_id":6645830,"display_name":"devRey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2815,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":38726003,"answer_count":2,"score":0,"last_activity_date":1685690709,"creation_date":1470146985,"question_id":38722816,"body_markdown":"Here is I want to make. I want to make an app, for example it has a button that will download a certain video file and put it on the resource(raw) folder. Is it possible?","title":"Downloading files from a server and put it to /raw folder","body":"<p>Here is I want to make. I want to make an app, for example it has a button that will download a certain video file and put it on the resource(raw) folder. Is it possible?</p>\n"},{"tags":["java","swift","option-type"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685680795,"post_id":76387119,"comment_id":134697647,"body_markdown":"Java, doesn&#39;t have much functional evaluation, just closures, which even prove to be abstruse for most tasks.  So, no, there is nothing intrinsic to Java that will do this.","body":"Java, doesn&#39;t have much functional evaluation, just closures, which even prove to be abstruse for most tasks.  So, no, there is nothing intrinsic to Java that will do this."}],"answers":[{"tags":[],"owner":{"account_id":13717126,"reputation":1279,"user_id":9898011,"display_name":"Cublax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685689210,"creation_date":1685680320,"answer_id":76387120,"question_id":76387119,"body_markdown":"The answer is No.\r\n\r\nApparently this syntax also exists in Clojure and according to [this Stack Overflow answer][1] there is no way to declare a property if it can be unwrapped in Java. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33503383/is-there-a-java-equivalent-of-clojures-if-let/33503654#33503654","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>The answer is No.</p>\n<p>Apparently this syntax also exists in Clojure and according to <a href=\"https://stackoverflow.com/questions/33503383/is-there-a-java-equivalent-of-clojures-if-let/33503654#33503654\">this Stack Overflow answer</a> there is no way to declare a property if it can be unwrapped in Java.</p>\n"},{"tags":[],"owner":{"account_id":343790,"reputation":10859,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685681453,"creation_date":1685681453,"answer_id":76387210,"question_id":76387119,"body_markdown":"The trick is that there is no such thing as a conditional declaration. What&#39;s really happening is that the conditional is introducing a new scope in which the variable is always declared, or a guard condition which short-circuits. \r\n\r\nJava can do the same, though lexically it is not as pretty.\r\n\r\n```\r\nInteger getMeaningOfLife() {\r\n    return 42;\r\n}\r\n\r\nvoid printMeaningOfLife() {\r\n    { //this brace bracket introduces a new scope\r\n        Integer name = getMeaningOfLife();\r\n        if (name != null) {\r\n            print(name);\r\n        }\r\n    } //closes scope\r\n    //name is now out of scope and cannot be used\r\n}\r\n\r\nvoid printMeaningOfLife() {\r\n    Integer name = getMeaningOfLife();\r\n    if (name == null) {\r\n        return;\r\n    }\r\n    print(name)\r\n}\r\n```\r\n\r\nThis is basically what you have already figured out for yourself, except maybe for the brace brackets which introduce scope in the first `printMeaningOfLife()`. ","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>The trick is that there is no such thing as a conditional declaration. What's really happening is that the conditional is introducing a new scope in which the variable is always declared, or a guard condition which short-circuits.</p>\n<p>Java can do the same, though lexically it is not as pretty.</p>\n<pre><code>Integer getMeaningOfLife() {\n    return 42;\n}\n\nvoid printMeaningOfLife() {\n    { //this brace bracket introduces a new scope\n        Integer name = getMeaningOfLife();\n        if (name != null) {\n            print(name);\n        }\n    } //closes scope\n    //name is now out of scope and cannot be used\n}\n\nvoid printMeaningOfLife() {\n    Integer name = getMeaningOfLife();\n    if (name == null) {\n        return;\n    }\n    print(name)\n}\n</code></pre>\n<p>This is basically what you have already figured out for yourself, except maybe for the brace brackets which introduce scope in the first <code>printMeaningOfLife()</code>.</p>\n"},{"comments":[{"owner":{"account_id":13717126,"reputation":1279,"user_id":9898011,"display_name":"Cublax"},"score":0,"creation_date":1685937233,"post_id":76387865,"comment_id":134725417,"body_markdown":"This is similar for this example but guard is much more powerful than that. you can also check guard x != 12 else { return }. Which both unwrap but also check a specific case","body":"This is similar for this example but guard is much more powerful than that. you can also check guard x != 12 else { return }. Which both unwrap but also check a specific case"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685953332,"post_id":76387865,"comment_id":134727373,"body_markdown":"@Cublax It is more limited, but you could do things like `if (x.orElse(12) == 12) return;`","body":"@Cublax It is more limited, but you could do things like <code>if (x.orElse(12) == 12) return;</code>"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685689756,"creation_date":1685689434,"answer_id":76387865,"question_id":76387119,"body_markdown":"Java doesn&#39;t have guard/let clauses like this. The closest equivalent of your example is using [`OptionalInt`][1] (or [`Optional`][2] for objects) and its [`ifPresent`][3] method:\r\n\r\n```java\r\nOptionalInt getMeaningOfLife() {\r\n    return OptionalInt.of(42);\r\n}\r\n\r\nvoid printMeaningOfLife() {\r\n    getMeaningOfLife().ifPresent(name -&gt; \r\n            System.out.println(name));\r\n}\r\n```\r\n\r\nNote that Java does have a &quot;lesser&quot; form of these types of clauses in the form of flow-typing using `instanceof &lt;typeName&gt; &lt;variableName&gt;` introduced with [JEP 394: Pattern Matching for instanceof][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html#ifPresent(java.util.function.IntConsumer)\r\n  [4]: https://openjdk.org/jeps/394","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>Java doesn't have guard/let clauses like this. The closest equivalent of your example is using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html\" rel=\"nofollow noreferrer\"><code>OptionalInt</code></a> (or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> for objects) and its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/OptionalInt.html#ifPresent(java.util.function.IntConsumer)\" rel=\"nofollow noreferrer\"><code>ifPresent</code></a> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OptionalInt getMeaningOfLife() {\n    return OptionalInt.of(42);\n}\n\nvoid printMeaningOfLife() {\n    getMeaningOfLife().ifPresent(name -&gt; \n            System.out.println(name));\n}\n</code></pre>\n<p>Note that Java does have a &quot;lesser&quot; form of these types of clauses in the form of flow-typing using <code>instanceof &lt;typeName&gt; &lt;variableName&gt;</code> introduced with <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP 394: Pattern Matching for instanceof</a>.</p>\n"}],"owner":{"account_id":13717126,"reputation":1279,"user_id":9898011,"display_name":"Cublax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76387120,"answer_count":3,"score":0,"last_activity_date":1685689756,"creation_date":1685680320,"question_id":76387119,"body_markdown":"In swift there is the `guard let` / `if let` pattern allowing us to declare an object or a property only if it can be unwrapped.\r\n\r\nit works a follow:\r\n\r\n    func getMeaningOfLife() -&gt; Int? {\r\n        42\r\n    }\r\n    \r\n    func printMeaningOfLife() {\r\n        if let name = getMeaningOfLife() {\r\n            print(name)\r\n        }\r\n    }\r\n    \r\n    func printMeaningOfLife() {\r\n        guard let name = getMeaningOfLife() else {\r\n            return\r\n        }\r\n    \r\n        print(name)\r\n    }\r\n\r\nMy question here is: Is there a Java version of it ?","title":"guard/if let in Java - declare a property or an object if it can be unwrapped","body":"<p>In swift there is the <code>guard let</code> / <code>if let</code> pattern allowing us to declare an object or a property only if it can be unwrapped.</p>\n<p>it works a follow:</p>\n<pre><code>func getMeaningOfLife() -&gt; Int? {\n    42\n}\n\nfunc printMeaningOfLife() {\n    if let name = getMeaningOfLife() {\n        print(name)\n    }\n}\n\nfunc printMeaningOfLife() {\n    guard let name = getMeaningOfLife() else {\n        return\n    }\n\n    print(name)\n}\n</code></pre>\n<p>My question here is: Is there a Java version of it ?</p>\n"},{"tags":["java","intellij-idea","dependencies"],"answers":[{"comments":[{"owner":{"account_id":282003,"reputation":1260,"user_id":578642,"accept_rate":40,"display_name":"Mark Williams"},"score":0,"creation_date":1435683679,"post_id":31140594,"comment_id":50298839,"body_markdown":"I&#39;ve tried this but the module I&#39;m seeing this problem in (dd4t-example site in the screenshot) isn&#39;t available in the project structure window http://i.imgur.com/ksFUFEG.png","body":"I&#39;ve tried this but the module I&#39;m seeing this problem in (dd4t-example site in the screenshot) isn&#39;t available in the project structure window <a href=\"http://i.imgur.com/ksFUFEG.png\" rel=\"nofollow noreferrer\">i.imgur.com/ksFUFEG.png</a>"},{"owner":{"account_id":1130295,"reputation":16057,"user_id":1116549,"display_name":"Darek Kay"},"score":0,"creation_date":1435685364,"post_id":31140594,"comment_id":50299699,"body_markdown":"That&#39;s because it is not a module (no blue square indicator on the icon). You either have to create a module from this folder (File &gt; New &gt; Module from Existing Sources) or simply add this folder as a dependency (in your module settings &gt; dependencies click on the green + button and select &quot;JARs or directories&quot;).","body":"That&#39;s because it is not a module (no blue square indicator on the icon). You either have to create a module from this folder (File &gt; New &gt; Module from Existing Sources) or simply add this folder as a dependency (in your module settings &gt; dependencies click on the green + button and select &quot;JARs or directories&quot;)."},{"owner":{"account_id":282003,"reputation":1260,"user_id":578642,"accept_rate":40,"display_name":"Mark Williams"},"score":0,"creation_date":1435830365,"post_id":31140594,"comment_id":50368069,"body_markdown":"Thanks. Adding the project as a module and adding the other modules as dependencies fixed the issue.","body":"Thanks. Adding the project as a module and adding the other modules as dependencies fixed the issue."}],"tags":[],"owner":{"account_id":6455291,"reputation":468,"user_id":5005203,"display_name":"Alan"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1435673275,"creation_date":1435673275,"answer_id":31140594,"question_id":31140521,"body_markdown":"You need to add your external libraries/classes under dependencies in order for IDEA to see them when doing code analysis/autocomplete.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>You need to add your external libraries/classes under dependencies in order for IDEA to see them when doing code analysis/autocomplete.</p>\n"},{"tags":[],"owner":{"display_name":"user8715994"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508159455,"creation_date":1508159455,"answer_id":46771196,"question_id":31140521,"body_markdown":"After you add dependencies to POM file, make it a habit to refresh POM by clicking on the &#39;Reimports maven projects&#39; icon. Its the first icon in the maven tool window located to the right of the main intellij editor. Its a blue icon with 2 circular arrows. Clicking it ensures that the added dependencies are fully integrated into your project","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>After you add dependencies to POM file, make it a habit to refresh POM by clicking on the 'Reimports maven projects' icon. Its the first icon in the maven tool window located to the right of the main intellij editor. Its a blue icon with 2 circular arrows. Clicking it ensures that the added dependencies are fully integrated into your project</p>\n"},{"tags":[],"owner":{"account_id":4799572,"reputation":2451,"user_id":3876552,"display_name":"Dipesh Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1595759495,"creation_date":1595759495,"answer_id":63098950,"question_id":31140521,"body_markdown":"**Listed below are steps which may fix the problem:**\r\n\r\n1.**Invalidate and refresh the IntelliJ&#39;s caches**\r\n\r\nFile Menu -&gt; Invalidate Caches / Restart -&gt; Invalidate and restart\r\n\r\n2.**Project SDK selection**\r\n\r\nCheck project settings from File Menu -&gt; Project Structure\r\nEnsure an SDK is selected for the Project SDK. If is selected, click the &#39;New&#39; button, select JDK and then select the correct path to the JDK e.g. /opt/java/jdk1.8 or c:\\Java\\Jdk1.8\r\n\r\n3.**Corrupt JDK**\r\n\r\nThere may be a problem with your JDK installation, re-install JDK\r\n\r\n4.**Re-import the project**\r\n\r\nClose the project if it is open in IntelliJ\r\nDelete the .idea folder in the project source code folder.\r\nStart IntelliJ and Import the project.\r\n\r\nYou can choose any of them which will work for you.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p><strong>Listed below are steps which may fix the problem:</strong></p>\n<p>1.<strong>Invalidate and refresh the IntelliJ's caches</strong></p>\n<p>File Menu -&gt; Invalidate Caches / Restart -&gt; Invalidate and restart</p>\n<p>2.<strong>Project SDK selection</strong></p>\n<p>Check project settings from File Menu -&gt; Project Structure\nEnsure an SDK is selected for the Project SDK. If is selected, click the 'New' button, select JDK and then select the correct path to the JDK e.g. /opt/java/jdk1.8 or c:\\Java\\Jdk1.8</p>\n<p>3.<strong>Corrupt JDK</strong></p>\n<p>There may be a problem with your JDK installation, re-install JDK</p>\n<p>4.<strong>Re-import the project</strong></p>\n<p>Close the project if it is open in IntelliJ\nDelete the .idea folder in the project source code folder.\nStart IntelliJ and Import the project.</p>\n<p>You can choose any of them which will work for you.</p>\n"},{"tags":[],"owner":{"account_id":7038793,"reputation":1132,"user_id":5391891,"accept_rate":59,"display_name":"dicle"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619440524,"creation_date":1619440524,"answer_id":67266752,"question_id":31140521,"body_markdown":"You can go to &quot;File-&gt;Project Structure&quot; \r\n\r\nFrom &quot;Project Settings&quot;, Select &quot;Project&quot; tab and there make sure that &quot;Project SDK&quot; has proper JDK selection. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vOd6n.png","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>You can go to &quot;File-&gt;Project Structure&quot;</p>\n<p>From &quot;Project Settings&quot;, Select &quot;Project&quot; tab and there make sure that &quot;Project SDK&quot; has proper JDK selection.</p>\n<p><a href=\"https://i.stack.imgur.com/vOd6n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vOd6n.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11300433,"reputation":271,"user_id":8286518,"display_name":"J.su"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643103038,"creation_date":1643103038,"answer_id":70846256,"question_id":31140521,"body_markdown":"I faced a similar problem for no reason, I think it was caused by IDE(android studio). I have tried all of the above solutions but not worked. Finally, in my own situation, I solved this problem by the following actions: \r\n\r\n 1. Delete your `.idea` folder in your local project.\r\n 2. Reopen this project and just let Gradle run itself.\r\n\r\nIt was worked for me. I hope that my experience will be useful for you.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>I faced a similar problem for no reason, I think it was caused by IDE(android studio). I have tried all of the above solutions but not worked. Finally, in my own situation, I solved this problem by the following actions:</p>\n<ol>\n<li>Delete your <code>.idea</code> folder in your local project.</li>\n<li>Reopen this project and just let Gradle run itself.</li>\n</ol>\n<p>It was worked for me. I hope that my experience will be useful for you.</p>\n"},{"comments":[{"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"score":0,"creation_date":1699444646,"post_id":71157721,"comment_id":136531485,"body_markdown":"after using this command, the path issue resolved, Thank you","body":"after using this command, the path issue resolved, Thank you"}],"tags":[],"owner":{"account_id":490572,"reputation":3429,"user_id":1792003,"accept_rate":62,"display_name":"Snehal Masne"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645099082,"creation_date":1645099082,"answer_id":71157721,"question_id":31140521,"body_markdown":"Run it from the project&#39;s root folder.\r\n\r\n    $ mvn -U idea:idea","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>Run it from the project's root folder.</p>\n<pre><code>$ mvn -U idea:idea\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200117,"reputation":151,"user_id":1944711,"accept_rate":60,"display_name":"Sachidananda Naik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652299084,"creation_date":1652299084,"answer_id":72206959,"question_id":31140521,"body_markdown":"One more advise would be to make sure that you import the project properly. If it&#39;s a maven project, import pom.xml and if it&#39;s a gradle project, import gradle.build file to make sure that all the dependencies are downloaded correctly.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>One more advise would be to make sure that you import the project properly. If it's a maven project, import pom.xml and if it's a gradle project, import gradle.build file to make sure that all the dependencies are downloaded correctly.</p>\n"},{"tags":[],"owner":{"account_id":18850382,"reputation":109,"user_id":13749668,"display_name":"UchiTesting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663791776,"creation_date":1663791776,"answer_id":73806539,"question_id":31140521,"body_markdown":"Just got this.\r\nJust went there.\r\nInvalidated the cache.\r\nSeemed to work until I wrote further lines.\r\nThen noticed that I was writing my code outside of the `main()` function.\r\nMoved the ending curly bracket further and voila.","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>Just got this.\nJust went there.\nInvalidated the cache.\nSeemed to work until I wrote further lines.\nThen noticed that I was writing my code outside of the <code>main()</code> function.\nMoved the ending curly bracket further and voila.</p>\n"}],"owner":{"account_id":282003,"reputation":1260,"user_id":578642,"accept_rate":40,"display_name":"Mark Williams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56588,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":31140594,"answer_count":8,"score":9,"last_activity_date":1685689594,"creation_date":1435673097,"question_id":31140521,"body_markdown":"I&#39;m fairly new to Intellij and Java and am unable to use libraries from one &quot;module&quot; in another. I am seeing red class names and getting &quot;Cannot resolve symbol ...&quot; errors all over the place:\r\n\r\n![enter image description here][1]\r\n\r\nThe other modules are referenced in File | Project Structure all the other module&#39;s Paths are correct and include the *.classes I&#39;m trying to use:\r\n\r\n![enter image description here][2]\r\n\r\nI have also tried a File | Invalidate Caches but am still having the same problems.\r\n\r\nWhat do I need to do to fix this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dyau5.png\r\n  [2]: http://i.stack.imgur.com/XL0ch.png","title":"&quot;Cannot resolve symbol&quot; in Intellij IDEA","body":"<p>I'm fairly new to Intellij and Java and am unable to use libraries from one \"module\" in another. I am seeing red class names and getting \"Cannot resolve symbol ...\" errors all over the place:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dyau5.png\" alt=\"enter image description here\"></p>\n\n<p>The other modules are referenced in File | Project Structure all the other module's Paths are correct and include the *.classes I'm trying to use:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XL0ch.png\" alt=\"enter image description here\"></p>\n\n<p>I have also tried a File | Invalidate Caches but am still having the same problems.</p>\n\n<p>What do I need to do to fix this?</p>\n"},{"tags":["java","spring-boot","outlook","smtp"],"comments":[{"owner":{"account_id":2180203,"reputation":51,"user_id":1929880,"display_name":"user1929880"},"score":2,"creation_date":1616596208,"post_id":66293345,"comment_id":118071994,"body_markdown":"It is possible that SSL is not enabled in the server. If you are sure that SSL is enabled, then enable ssl debugging java.net.debug. That should give you further clue to debug.","body":"It is possible that SSL is not enabled in the server. If you are sure that SSL is enabled, then enable ssl debugging java.net.debug. That should give you further clue to debug."}],"answers":[{"tags":[],"owner":{"account_id":25430017,"reputation":36,"user_id":19234589,"display_name":"hllvc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653992571,"creation_date":1653992571,"answer_id":72446096,"question_id":66293345,"body_markdown":"I&#39;ve spent the last 2 weeks solving this problem and searching all around. Finally, I managed to put it all together and make it work.\r\nI found **key part** of solution [here](https://stackoverflow.com/questions/60654561/java-mail-cannot-connect-to-smtp-using-tls-or-ssl).\r\n\r\n---\r\n\r\n#### In short, you need to create `SMTPTransport` instead of the classic `Transport`:\r\n```\r\nSMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtp&quot;);\r\nSocket socket = new Socket(host, port);\r\nt.connect(socket);\r\nt.sendMessage(message, message.getAllRecipients());\r\n```\r\n\r\n---\r\n##### NOTE:\r\n\r\nYou do not need more than these properties:\r\n```\r\nproperties.setProperty(&quot;mail.smtp.host&quot;, host);\r\nproperties.put(&quot;mail.smtp.port&quot;, port);\r\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nproperties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n```\r\nand this is essential if you are using `self-signed` certificates\r\n```\r\nproperties.put(&quot;mail.smtp.ssl.trust&quot;, host);\r\n```\r\n\r\n---\r\n\r\n#### If you plan to use `smtps`, after creating `Session` you need to add following:\r\n```\r\nSession session = Session.getInstance(properties, null);\r\n...\r\nsession.setProtocolForAddress(&quot;rfc822&quot;, &quot;smtps&quot;);\r\n```\r\nand make sure when creating `SMTPTransport` to get `smtps` like:\r\n```\r\nSMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtps&quot;);\r\n```\r\nand all properties need to be defined for `smtps` protocol:\r\n&gt; when using `smtps` properties are set as `mail.smtps.&lt;prop&gt;`\r\n&gt;\r\n&gt; in general, based on any protocol: `mail.&lt;protocol&gt;.&lt;prop&gt;`\r\n```\r\nproperties.setProperty(&quot;mail.smtps.host&quot;, host);\r\nproperties.put(&quot;mail.smtps.port&quot;, port);\r\nproperties.put(&quot;mail.smtps.starttls.enable&quot;, &quot;true&quot;);\r\nproperties.put(&quot;mail.smtps.ssl.enable&quot;, &quot;true&quot;);\r\nproperties.put(&quot;mail.smtps.ssl.trust&quot;, host);\r\n```","title":"Unsupported or unrecognized SSL message","body":"<p>I've spent the last 2 weeks solving this problem and searching all around. Finally, I managed to put it all together and make it work.\nI found <strong>key part</strong> of solution <a href=\"https://stackoverflow.com/questions/60654561/java-mail-cannot-connect-to-smtp-using-tls-or-ssl\">here</a>.</p>\n<hr />\n<h4>In short, you need to create <code>SMTPTransport</code> instead of the classic <code>Transport</code>:</h4>\n<pre><code>SMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtp&quot;);\nSocket socket = new Socket(host, port);\nt.connect(socket);\nt.sendMessage(message, message.getAllRecipients());\n</code></pre>\n<hr />\n<h5>NOTE:</h5>\n<p>You do not need more than these properties:</p>\n<pre><code>properties.setProperty(&quot;mail.smtp.host&quot;, host);\nproperties.put(&quot;mail.smtp.port&quot;, port);\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nproperties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\n</code></pre>\n<p>and this is essential if you are using <code>self-signed</code> certificates</p>\n<pre><code>properties.put(&quot;mail.smtp.ssl.trust&quot;, host);\n</code></pre>\n<hr />\n<h4>If you plan to use <code>smtps</code>, after creating <code>Session</code> you need to add following:</h4>\n<pre><code>Session session = Session.getInstance(properties, null);\n...\nsession.setProtocolForAddress(&quot;rfc822&quot;, &quot;smtps&quot;);\n</code></pre>\n<p>and make sure when creating <code>SMTPTransport</code> to get <code>smtps</code> like:</p>\n<pre><code>SMTPTransport t = (SMTPTransport)session.getTransport(&quot;smtps&quot;);\n</code></pre>\n<p>and all properties need to be defined for <code>smtps</code> protocol:</p>\n<blockquote>\n<p>when using <code>smtps</code> properties are set as <code>mail.smtps.&lt;prop&gt;</code></p>\n<p>in general, based on any protocol: <code>mail.&lt;protocol&gt;.&lt;prop&gt;</code></p>\n</blockquote>\n<pre><code>properties.setProperty(&quot;mail.smtps.host&quot;, host);\nproperties.put(&quot;mail.smtps.port&quot;, port);\nproperties.put(&quot;mail.smtps.starttls.enable&quot;, &quot;true&quot;);\nproperties.put(&quot;mail.smtps.ssl.enable&quot;, &quot;true&quot;);\nproperties.put(&quot;mail.smtps.ssl.trust&quot;, host);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14589269,"reputation":233,"user_id":10537000,"display_name":"Nguyễn Dương"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678690946,"creation_date":1678690946,"answer_id":75718838,"question_id":66293345,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LNisk.png\r\n\r\n\r\n    host=smtp.office365.com\r\n    port=587\r\n\r\nI commented \r\n\r\n&gt; properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n\r\n when use smtp.office365.com =&gt; then it work\r\n\r\n","title":"Unsupported or unrecognized SSL message","body":"<p><a href=\"https://i.stack.imgur.com/LNisk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LNisk.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>host=smtp.office365.com\nport=587\n</code></pre>\n<p>I commented</p>\n<blockquote>\n<p>properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);</p>\n</blockquote>\n<p>when use smtp.office365.com =&gt; then it work</p>\n"}],"owner":{"account_id":20765189,"reputation":43,"user_id":15249374,"display_name":"gullu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72446096,"answer_count":2,"score":3,"last_activity_date":1685689555,"creation_date":1613835156,"question_id":66293345,"body_markdown":"I am trying to send emails from outlook email in Java+ springboot.\r\n\r\nbelow are the configuration:\r\n\r\n```\r\n@Service\r\npublic class EmailService {\r\n\r\n\t\r\n\tString  from_address = &quot;no-reply@jpmorganchase.com&quot;,\r\n            password = &quot;somepassword!sd#&quot;,\r\n            host = &quot;smtp.office365.com&quot;,\r\n            port = &quot;587&quot;,\r\n            to_address = &quot;no-reply@jpmorganchase.com&quot;,\r\n            mail_subject = &quot;Test&quot;,\r\n            mail_content = &quot;testing mail&quot;,\r\n\t\t\t username=&quot;&quot;,\r\n\t\t\tuser_password=&quot;&quot;;\r\n\t\r\n\t\r\n\t public void sendmail(UserBean user,String uname, String pword)\r\n\t    {\r\n\t\t \tusername=uname;\r\n\t\t \tuser_password=pword;\r\n\t\t \tto_address= user.getEmail();\r\n\t        Properties props = new Properties();\r\n\t        props.put(&quot;mail.smtp.user&quot;, from_address);\r\n\t        props.put(&quot;mail.smtp.host&quot;, host);\r\n\t        props.put(&quot;mail.smtp.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\t        mail_content = \r\n\t        \t\t &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;Experience &quot;+user.getExperience()+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Email &quot;+user.getEmail()+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Set allocated: &quot;+user.getSet()+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;Mobile number &quot;+user.getPhone()+&quot;\\n&quot;+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Your login credentials are: &quot;+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;User Name: &quot;+username+&quot;\\n&quot;\r\n\t        \t\t\t\t+&quot;Password:  &quot; + user_password+&quot;\\n&quot;+&quot;\\n&quot;\r\n\t        \t\t\t\t+ &quot;Click on link to take test \t&quot;+&quot;https://www.jpmorganchase.com/en_sg&quot;+&quot;\\n&quot; \r\n\t        \t\t\t\t+  &quot;Message from jpmorganchase&quot;+user.getMessage()+&quot;\\n&quot;;\r\n\t        \t\t\r\n\t        mail_subject = &quot;jpmorganchase Online Assesment Test&quot;;\r\n\t        SecurityManager security = System.getSecurityManager();\r\n\r\n\t        try\r\n\t        {\r\n\t            Authenticator auth = new SMTPAuthenticator();\r\n\t            Session session = Session.getInstance(props, auth);\r\n\t            session.setDebug(true);\r\n\t            MimeMessage msg = new MimeMessage(session);\r\n\t            msg.setText(mail_content);\r\n\t            msg.setSubject(mail_subject);\r\n\t            msg.setFrom(new InternetAddress(from_address));\r\n\t            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\r\n\t            Transport.send(msg);\r\n\t        }\r\n\t        catch (Exception mex)\r\n\t        {\r\n\t            mex.printStackTrace();\r\n\t        } \r\n\t    }\r\n\t \r\n\t public void sendConfirmationMail(User user, String confirmationToken)\r\n\t    {\r\n\t        Properties props = new Properties();\r\n\t        props.put(&quot;mail.smtp.user&quot;, from_address);\r\n\t        props.put(&quot;mail.smtp.host&quot;, host);\r\n\t        props.put(&quot;mail.smtp.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.ssl.enable&quot;,&quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\r\n\t        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\t        mail_content = \r\n\t        \t\t &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\r\n\t        \t\t +&quot;To confirm your account, please click here : &quot;\r\n\t        \t        +&quot;http://localhost:8080/jpmorganchase/confirm-account?token=&quot;+confirmationToken;\r\n\t        mail_subject=&quot;Complete Registration!&quot;;\r\n\t       // String mail[] = user.getEmail().split(&quot;@&quot;);\r\n\t        //to_address = mail[0]+&quot;@gmail.com&quot;;\r\n\t        to_address = user.getEmail();\r\n\t        \t\t\t\t\r\n\t        SecurityManager security = System.getSecurityManager();\r\n\r\n\t        try\r\n\t        {\r\n\t            Authenticator auth = new SMTPAuthenticator();\r\n\t            Session session = Session.getInstance(props, auth);\r\n\t            session.setDebug(true);\r\n\t            MimeMessage msg = new MimeMessage(session);\r\n\t            msg.setText(mail_content);\r\n\t            msg.setSubject(mail_subject);\r\n\t            msg.setFrom(new InternetAddress(from_address));\r\n\t            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\r\n\t            Transport.send(msg);\r\n\t        }\r\n\t        catch (Exception mex)\r\n\t        {\r\n\t            mex.printStackTrace();\r\n\t        } \r\n\t    }\r\n\r\n}\r\n```\r\n\r\n**I am getting the below exception:**\r\n\r\n&gt;     DEBUG: setDebug: JavaMail version 1.5.6\r\n&gt;     DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n&gt;     DEBUG SMTP: need username and password for authentication\r\n&gt;     DEBUG SMTP: protocolConnect returning false, host=smtp.office365.com, user=no-reply@jpmorganchase.com,\r\n&gt;     password=&lt;null&gt;\r\n&gt;     DEBUG SMTP: useEhlo true, useAuth true\r\n&gt;     DEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\r\n&gt;     javax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;\r\n&gt;       nested exception is:\r\n&gt;     \tjavax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n&gt;     \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2120)\r\n&gt;     \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:712)\r\n\r\n\r\nHave tried various solutions over internet but no luck.\r\n\r\n","title":"Unsupported or unrecognized SSL message","body":"<p>I am trying to send emails from outlook email in Java+ springboot.</p>\n<p>below are the configuration:</p>\n<pre><code>@Service\npublic class EmailService {\n\n    \n    String  from_address = &quot;no-reply@jpmorganchase.com&quot;,\n            password = &quot;somepassword!sd#&quot;,\n            host = &quot;smtp.office365.com&quot;,\n            port = &quot;587&quot;,\n            to_address = &quot;no-reply@jpmorganchase.com&quot;,\n            mail_subject = &quot;Test&quot;,\n            mail_content = &quot;testing mail&quot;,\n             username=&quot;&quot;,\n            user_password=&quot;&quot;;\n    \n    \n     public void sendmail(UserBean user,String uname, String pword)\n        {\n            username=uname;\n            user_password=pword;\n            to_address= user.getEmail();\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.user&quot;, from_address);\n            props.put(&quot;mail.smtp.host&quot;, host);\n            props.put(&quot;mail.smtp.port&quot;, port);\n            props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\n            props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n            props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n            mail_content = \n                     &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\n                            +&quot;Experience &quot;+user.getExperience()+&quot;\\n&quot;\n                            + &quot;Email &quot;+user.getEmail()+&quot;\\n&quot;\n                            + &quot;Set allocated: &quot;+user.getSet()+&quot;\\n&quot;\n                            +&quot;Mobile number &quot;+user.getPhone()+&quot;\\n&quot;+&quot;\\n&quot;\n                            + &quot;Your login credentials are: &quot;+&quot;\\n&quot;\n                            +&quot;User Name: &quot;+username+&quot;\\n&quot;\n                            +&quot;Password:  &quot; + user_password+&quot;\\n&quot;+&quot;\\n&quot;\n                            + &quot;Click on link to take test   &quot;+&quot;https://www.jpmorganchase.com/en_sg&quot;+&quot;\\n&quot; \n                            +  &quot;Message from jpmorganchase&quot;+user.getMessage()+&quot;\\n&quot;;\n                    \n            mail_subject = &quot;jpmorganchase Online Assesment Test&quot;;\n            SecurityManager security = System.getSecurityManager();\n\n            try\n            {\n                Authenticator auth = new SMTPAuthenticator();\n                Session session = Session.getInstance(props, auth);\n                session.setDebug(true);\n                MimeMessage msg = new MimeMessage(session);\n                msg.setText(mail_content);\n                msg.setSubject(mail_subject);\n                msg.setFrom(new InternetAddress(from_address));\n                msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\n                Transport.send(msg);\n            }\n            catch (Exception mex)\n            {\n                mex.printStackTrace();\n            } \n        }\n     \n     public void sendConfirmationMail(User user, String confirmationToken)\n        {\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.user&quot;, from_address);\n            props.put(&quot;mail.smtp.host&quot;, host);\n            props.put(&quot;mail.smtp.port&quot;, port);\n            props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n            props.put(&quot;mail.smtp.ssl.enable&quot;,&quot;true&quot;);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, port);\n            props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n            props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n            mail_content = \n                     &quot;Hello &quot;+user.getName()+&quot;\\n&quot;\n                     +&quot;To confirm your account, please click here : &quot;\n                        +&quot;http://localhost:8080/jpmorganchase/confirm-account?token=&quot;+confirmationToken;\n            mail_subject=&quot;Complete Registration!&quot;;\n           // String mail[] = user.getEmail().split(&quot;@&quot;);\n            //to_address = mail[0]+&quot;@gmail.com&quot;;\n            to_address = user.getEmail();\n                            \n            SecurityManager security = System.getSecurityManager();\n\n            try\n            {\n                Authenticator auth = new SMTPAuthenticator();\n                Session session = Session.getInstance(props, auth);\n                session.setDebug(true);\n                MimeMessage msg = new MimeMessage(session);\n                msg.setText(mail_content);\n                msg.setSubject(mail_subject);\n                msg.setFrom(new InternetAddress(from_address));\n                msg.addRecipient(Message.RecipientType.TO, new InternetAddress(to_address));\n                Transport.send(msg);\n            }\n            catch (Exception mex)\n            {\n                mex.printStackTrace();\n            } \n        }\n\n}\n</code></pre>\n<p><strong>I am getting the below exception:</strong></p>\n<blockquote>\n<pre><code>DEBUG: setDebug: JavaMail version 1.5.6\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=smtp.office365.com, user=no-reply@jpmorganchase.com,\npassword=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;smtp.office365.com&quot;, port 587, isSSL false\njavax.mail.MessagingException: Could not connect to SMTP host: smtp.office365.com, port: 587;\n  nested exception is:\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n  at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2120)\n  at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:712)\n</code></pre>\n</blockquote>\n<p>Have tried various solutions over internet but no luck.</p>\n"},{"tags":["java","stream","functional-interface"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685686730,"post_id":76387553,"comment_id":134698352,"body_markdown":"If you don&#39;t use the return value of a method, it becomes `void` and can be used as such. `Object getName() { return &quot;neela&quot;; } Stream.of(1,2,3).forEach(i -&gt; getName());` would work too (and is a lot simpler than your example). Useless, but it would work.","body":"If you don&#39;t use the return value of a method, it becomes <code>void</code> and can be used as such. <code>Object getName() { return &quot;neela&quot;; } Stream.of(1,2,3).forEach(i -&gt; getName());</code> would work too (and is a lot simpler than your example). Useless, but it would work."},{"owner":{"account_id":28733504,"reputation":11,"user_id":22004951,"display_name":"neela prasad"},"score":0,"creation_date":1685688651,"post_id":76387553,"comment_id":134698659,"body_markdown":"Thanks @knittl for clarification. After your hint, i decompiled the code. i thought, without braces, lambdas will return the value from `getGame()`. but in this case, the actual decompiled code looks like this `forEach((i) -&gt; { this.getName(); });`. Here nothing is returning, the result of `getName()` is being ignored","body":"Thanks @knittl for clarification. After your hint, i decompiled the code. i thought, without braces, lambdas will return the value from <code>getGame()</code>. but in this case, the actual decompiled code looks like this <code>forEach((i) -&gt; { this.getName(); });</code>. Here nothing is returning, the result of <code>getName()</code> is being ignored"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685689077,"post_id":76387553,"comment_id":134698729,"body_markdown":"Your lambda is an expression statement, and in that case the compiler will happily discard the result to make it compatible with void as expected by `Consumer`.","body":"Your lambda is an expression statement, and in that case the compiler will happily discard the result to make it compatible with void as expected by <code>Consumer</code>."}],"owner":{"account_id":28733504,"reputation":11,"user_id":22004951,"display_name":"neela prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685688926,"answer_count":0,"score":1,"last_activity_date":1685689098,"creation_date":1685686258,"question_id":76387553,"body_markdown":"I have come across this piece of java code, it seems to have type mismatch in line\r\n`forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)))`\r\n\r\n\r\nhere is the full code\r\n\r\n```\r\npublic class Boat {\r\n    private void waitTillFinished(CyclicBarrier c) {\r\n        try {\r\n            c.await();\r\n            System.out.print(&quot;W&quot;);\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\n    public void row(ExecutorService s) {\r\n        var cb = new CyclicBarrier(5);\r\n        IntStream.iterate(1, i -&gt; i + 1).limit(12).forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)));\r\n    }\r\n\r\n    public static void main(String[] oars) {\r\n        ExecutorService service = null;\r\n        try {\r\n            service = Executors.newCachedThreadPool();\r\n            new Boat().row(service);\r\n        } finally {\r\n            service.shutdown();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nHere the return type of the lambda is Future&lt;?&gt; and the forEach() accepts Consumer(which return type is void). I&#39;m trying to understand why this code is working fine even though there is type mismatch.\r\n\r\nI have tried with this kind of scenario with user defined Functional Interface inplace of consumer, then the code failed to compile","title":"Java code with potential type mismatch works without error - why?","body":"<p>I have come across this piece of java code, it seems to have type mismatch in line\n<code>forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)))</code></p>\n<p>here is the full code</p>\n<pre><code>public class Boat {\n    private void waitTillFinished(CyclicBarrier c) {\n        try {\n            c.await();\n            System.out.print(&quot;W&quot;);\n        } catch (Exception e) {\n        }\n    }\n\n    public void row(ExecutorService s) {\n        var cb = new CyclicBarrier(5);\n        IntStream.iterate(1, i -&gt; i + 1).limit(12).forEach(i -&gt; s.submit(() -&gt; waitTillFinished(cb)));\n    }\n\n    public static void main(String[] oars) {\n        ExecutorService service = null;\n        try {\n            service = Executors.newCachedThreadPool();\n            new Boat().row(service);\n        } finally {\n            service.shutdown();\n        }\n    }\n}\n</code></pre>\n<p>Here the return type of the lambda is Future&lt;?&gt; and the forEach() accepts Consumer(which return type is void). I'm trying to understand why this code is working fine even though there is type mismatch.</p>\n<p>I have tried with this kind of scenario with user defined Functional Interface inplace of consumer, then the code failed to compile</p>\n"},{"tags":["java","android","printing"],"comments":[{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":0,"creation_date":1685705469,"post_id":76387769,"comment_id":134702001,"body_markdown":"You&#39;re probably better off writing your own ESC/POS drivers than using Android&#39;s bult in framework. It&#39;s easy to print text, and there are only like two different ways to print images.","body":"You&#39;re probably better off writing your own ESC/POS drivers than using Android&#39;s bult in framework. It&#39;s easy to print text, and there are only like two different ways to print images."},{"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"score":0,"creation_date":1685794550,"post_id":76387769,"comment_id":134712906,"body_markdown":"@Remc4 I dont get it about &quot;writing your own ESC/POS&quot; means. My needs is make an interface for my web apps for thermal bluetooth that connected to android device","body":"@Remc4 I dont get it about &quot;writing your own ESC/POS&quot; means. My needs is make an interface for my web apps for thermal bluetooth that connected to android device"},{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":0,"creation_date":1685953298,"post_id":76387769,"comment_id":134727368,"body_markdown":"Thermal printers generally use two protocols: Epson ESC/POS (simpler) and Star (more complex, but more features). It&#39;s relatively easy to write your own code that produces ESC/POS commands (google for ESC/POS commands). The printer connects via Bluetooth and you feed it commands. You can also try this library: https://github.com/DantSu/ESCPOS-ThermalPrinter-Android","body":"Thermal printers generally use two protocols: Epson ESC/POS (simpler) and Star (more complex, but more features). It&#39;s relatively easy to write your own code that produces ESC/POS commands (google for ESC/POS commands). The printer connects via Bluetooth and you feed it commands. You can also try this library: <a href=\"https://github.com/DantSu/ESCPOS-ThermalPrinter-Android\" rel=\"nofollow noreferrer\">github.com/DantSu/ESCPOS-ThermalPrinter-Android</a>"},{"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"score":0,"creation_date":1685968671,"post_id":76387769,"comment_id":134730562,"body_markdown":"@Remc4 i see, I have able to create connection to thermal bluetooth printer on my other android apps, like find pairing bluetooth device, create bluetooth socket, make IO strean and print, everything is work exelecnt. But this time I dont it is posible to reuse that code to my service apps","body":"@Remc4 i see, I have able to create connection to thermal bluetooth printer on my other android apps, like find pairing bluetooth device, create bluetooth socket, make IO strean and print, everything is work exelecnt. But this time I dont it is posible to reuse that code to my service apps"}],"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685688471,"creation_date":1685688471,"question_id":76387769,"body_markdown":"I&#39;m trying to print from Google Chrome Apps using Bluetooth Thermal Printer. In this case I read some documentation and question regarding [this example][1] then I used this example to print simple image or text. But the problem on my device only show printing progress and not printing anything. Here what I&#39;ve done : \r\n\r\n\r\nI have one class named PrintServices extends PrintService  \r\n\r\n- onStartPrinterDiscovery : \r\n\r\n       public void onStartPrinterDiscovery(List&lt;PrinterId&gt; priorityList) {\r\n            if (!priorityList.isEmpty()) {\r\n                return;\r\n            }\r\n\r\n            // RPP02N 66:12:29:4F:06:1C | 54:47:41:07:70:79 || 66:12:29:4F:06:1C\r\n\r\n            final List&lt;PrinterInfo&gt; printers = new ArrayList&lt;&gt;();\r\n            final PrinterId printerId = generatePrinterId(&quot;66:12:29:4F:06:1C&quot;);\r\n            final PrinterInfo.Builder builder = new PrinterInfo.Builder(printerId, &quot;RPP02N&quot;, PrinterInfo.STATUS_IDLE);\r\n            PrinterCapabilitiesInfo.Builder capBuilder = new PrinterCapabilitiesInfo.Builder(printerId);\r\n            capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A4, true);\r\n            capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A3, false);\r\n            capBuilder.addMediaSize(PrintAttributes.MediaSize.NA_INDEX_4X6, false);\r\n            capBuilder.addResolution(new PrintAttributes.Resolution(&quot;resolutionId&quot;, &quot;default resolution&quot;, 600, 600), true);\r\n            capBuilder.setColorModes(PrintAttributes.COLOR_MODE_MONOCHROME, PrintAttributes.COLOR_MODE_MONOCHROME);\r\n            builder.setCapabilities(capBuilder.build());\r\n            printers.add(builder.build());\r\n            addPrinters(printers);\r\n        }\r\n\r\n \r\n- onPrintJobQueued : \r\n\r\n        protected void onPrintJobQueued(PrintJob printJob) {        \r\n            final PrintDocument document = printJob.getDocument();\r\n\r\n            final FileInputStream in = new FileInputStream(document.getData().getFileDescriptor());\r\n            try {\r\n                final byte[] buffer = new byte[4096];\r\n                in.read(buffer);\r\n            } catch (IOException e) {\r\n                Log.d(&quot;myprinter&quot;, &quot;&quot;, e);\r\n            } finally {\r\n                try {\r\n                    in.close();\r\n                } catch (IOException e) {\r\n                    assert true;\r\n                }\r\n            }\r\n            printJob.complete();\r\n        }\r\n\r\nPrinter services is enabled on device setting. The printer device is pairing with my android device. When I try open some page on Chrome then print using my Apps service, my printer didn&#39;t print anything.\r\n\r\n* Here my reference from other SO : https://stackoverflow.com/questions/41398441/android-printing-using-custom-print-service\r\n\r\n  [1]: https://github.com/zaki50/MyPrintServiceProject/blob/master/MyPrintService/src/main/java/org/zakky/myprintservice/MainActivity.java","title":"Print Service to Thermal Bluetooth Printer RPP02N","body":"<p>I'm trying to print from Google Chrome Apps using Bluetooth Thermal Printer. In this case I read some documentation and question regarding <a href=\"https://github.com/zaki50/MyPrintServiceProject/blob/master/MyPrintService/src/main/java/org/zakky/myprintservice/MainActivity.java\" rel=\"nofollow noreferrer\">this example</a> then I used this example to print simple image or text. But the problem on my device only show printing progress and not printing anything. Here what I've done :</p>\n<p>I have one class named PrintServices extends PrintService</p>\n<ul>\n<li><p>onStartPrinterDiscovery :</p>\n<pre><code> public void onStartPrinterDiscovery(List&lt;PrinterId&gt; priorityList) {\n      if (!priorityList.isEmpty()) {\n          return;\n      }\n\n      // RPP02N 66:12:29:4F:06:1C | 54:47:41:07:70:79 || 66:12:29:4F:06:1C\n\n      final List&lt;PrinterInfo&gt; printers = new ArrayList&lt;&gt;();\n      final PrinterId printerId = generatePrinterId(&quot;66:12:29:4F:06:1C&quot;);\n      final PrinterInfo.Builder builder = new PrinterInfo.Builder(printerId, &quot;RPP02N&quot;, PrinterInfo.STATUS_IDLE);\n      PrinterCapabilitiesInfo.Builder capBuilder = new PrinterCapabilitiesInfo.Builder(printerId);\n      capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A4, true);\n      capBuilder.addMediaSize(PrintAttributes.MediaSize.ISO_A3, false);\n      capBuilder.addMediaSize(PrintAttributes.MediaSize.NA_INDEX_4X6, false);\n      capBuilder.addResolution(new PrintAttributes.Resolution(&quot;resolutionId&quot;, &quot;default resolution&quot;, 600, 600), true);\n      capBuilder.setColorModes(PrintAttributes.COLOR_MODE_MONOCHROME, PrintAttributes.COLOR_MODE_MONOCHROME);\n      builder.setCapabilities(capBuilder.build());\n      printers.add(builder.build());\n      addPrinters(printers);\n  }\n</code></pre>\n</li>\n<li><p>onPrintJobQueued :</p>\n<pre><code>  protected void onPrintJobQueued(PrintJob printJob) {        \n      final PrintDocument document = printJob.getDocument();\n\n      final FileInputStream in = new FileInputStream(document.getData().getFileDescriptor());\n      try {\n          final byte[] buffer = new byte[4096];\n          in.read(buffer);\n      } catch (IOException e) {\n          Log.d(&quot;myprinter&quot;, &quot;&quot;, e);\n      } finally {\n          try {\n              in.close();\n          } catch (IOException e) {\n              assert true;\n          }\n      }\n      printJob.complete();\n  }\n</code></pre>\n</li>\n</ul>\n<p>Printer services is enabled on device setting. The printer device is pairing with my android device. When I try open some page on Chrome then print using my Apps service, my printer didn't print anything.</p>\n<ul>\n<li>Here my reference from other SO : <a href=\"https://stackoverflow.com/questions/41398441/android-printing-using-custom-print-service\">Android Printing using custom Print service</a></li>\n</ul>\n"},{"tags":["java","spring","spring-boot","aop","cglib"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685700073,"post_id":76381260,"comment_id":134700939,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1685709386,"post_id":76383270,"comment_id":134702795,"body_markdown":"Maybe shou should not have waited for 2 weeks before asking the question here. &#128521; Moreover, if you want an explanation of why the problem occurred, simply post an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, then someone can take a look, reproduce it and find out for you what the root cause of the problem is and whether your workaround actually addresses the root cause of just covers it up until next time you get the same problem in another situation.","body":"Maybe shou should not have waited for 2 weeks before asking the question here. 😉 Moreover, if you want an explanation of why the problem occurred, simply post an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, then someone can take a look, reproduce it and find out for you what the root cause of the problem is and whether your workaround actually addresses the root cause of just covers it up until next time you get the same problem in another situation."},{"owner":{"account_id":14669102,"reputation":986,"user_id":10594058,"display_name":"todaynowork"},"score":0,"creation_date":1701340847,"post_id":76383270,"comment_id":136764610,"body_markdown":"Can you share the fix here?","body":"Can you share the fix here?"}],"tags":[],"owner":{"account_id":12841979,"reputation":1,"user_id":9289741,"display_name":"Petr Vran&#237;k"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685631637,"creation_date":1685631637,"answer_id":76383270,"question_id":76381260,"body_markdown":"Finally. after almost of week of investigations,  I managed to isolate the sinner. Solr 8.2.1 causes this issue. With Solr 8.2.0 it works with  Solr 8.2.1 there is class cast exception for spring proxies.\r\n\r\nHard to believe that this is related.","title":"ClassCastException for configuration CGLIB proxy and org.springframework.cglib.proxy.Factory after upgrade Spring to 6.0.9 and Spring Boot to 3.0.6","body":"<p>Finally. after almost of week of investigations,  I managed to isolate the sinner. Solr 8.2.1 causes this issue. With Solr 8.2.0 it works with  Solr 8.2.1 there is class cast exception for spring proxies.</p>\n<p>Hard to believe that this is related.</p>\n"}],"owner":{"account_id":12841979,"reputation":1,"user_id":9289741,"display_name":"Petr Vran&#237;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76383270,"answer_count":1,"score":0,"last_activity_date":1685688413,"creation_date":1685617741,"question_id":76381260,"body_markdown":"In our project, after upgrade the SpringBoot from `3.0.4` to `3.0.9`, several of our tests started to fail on\r\n```\r\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception\r\n\tat app//org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:222)\r\n\tat app//org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:158)\r\n\tat app//org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.buildProxy(AbstractAutoProxyCreator.java:517)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:464)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:369)\r\n\tat app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\t... 80 more\r\nCaused by: java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:91)\r\n\tat org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213)\r\n\t... 89 more\r\n```\r\n\r\nIt&#39;s not bounded just to the `our.project.RepositoryConfiguration$LiquibaseConfiguration`. When I disable this configuration, then similar exception occurs on next configuration.\r\n\r\nAnother weird thing is that the test passes if only the single test class is called or if this class is executed first. Otherwise the ClassCastException ocurs.\r\n\r\nWe use TestNG for testing.\r\n\r\nI tried to upgrade Spring to version 3.0.6 from 3.0.4 and Spring Boot to version 3.0.6 from 3.0.4 and I expect that all our current tests will pass. But for 34 tests of our ~ 2000 there is an exception `java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader &#39;app&#39;)`","title":"ClassCastException for configuration CGLIB proxy and org.springframework.cglib.proxy.Factory after upgrade Spring to 6.0.9 and Spring Boot to 3.0.6","body":"<p>In our project, after upgrade the SpringBoot from <code>3.0.4</code> to <code>3.0.9</code>, several of our tests started to fail on</p>\n<pre><code>Caused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception\n    at app//org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:222)\n    at app//org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:158)\n    at app//org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.buildProxy(AbstractAutoProxyCreator.java:517)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:464)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:369)\n    at app//org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    ... 80 more\nCaused by: java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader 'app')\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:91)\n    at org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213)\n    ... 89 more\n</code></pre>\n<p>It's not bounded just to the <code>our.project.RepositoryConfiguration$LiquibaseConfiguration</code>. When I disable this configuration, then similar exception occurs on next configuration.</p>\n<p>Another weird thing is that the test passes if only the single test class is called or if this class is executed first. Otherwise the ClassCastException ocurs.</p>\n<p>We use TestNG for testing.</p>\n<p>I tried to upgrade Spring to version 3.0.6 from 3.0.4 and Spring Boot to version 3.0.6 from 3.0.4 and I expect that all our current tests will pass. But for 34 tests of our ~ 2000 there is an exception <code>java.lang.ClassCastException: class our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 cannot be cast to class org.springframework.cglib.proxy.Factory (our.project.RepositoryConfiguration$LiquibaseConfiguration$$SpringCGLIB$$0 and org.springframework.cglib.proxy.Factory are in unnamed module of loader 'app')</code></p>\n"},{"tags":["java","android","base64","public-key-encryption","spongycastle"],"comments":[{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434535737,"post_id":30868936,"comment_id":49816584,"body_markdown":"@jww: its &quot;secp128r1&quot;","body":"@jww: its &quot;secp128r1&quot;"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434536905,"post_id":30868936,"comment_id":49817289,"body_markdown":"HexDecode the public key and compare it to the public key shown at the end of [Use previously generated private key in ECIES](http://stackoverflow.com/a/30878843/608639). Do you have that structure (with OIDs for `ecPublicKey` and `prime128v1`)? Can you use `dumpasn1` to dump it? If its *just* and ASN.1 Integer, then `dumpaasn1` should be able to dump it.","body":"HexDecode the public key and compare it to the public key shown at the end of <a href=\"http://stackoverflow.com/a/30878843/608639\">Use previously generated private key in ECIES</a>. Do you have that structure (with OIDs for <code>ecPublicKey</code> and <code>prime128v1</code>)? Can you use <code>dumpasn1</code> to dump it? If its <i>just</i> and ASN.1 Integer, then <code>dumpaasn1</code> should be able to dump it."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434537464,"post_id":30868936,"comment_id":49817631,"body_markdown":"***If*** you called `getEncoded()` on the `ECPublicKey`, then you have a malformed public key because its supposed to be the *SubjectPublicKeyInfo*. The *SubjectPublicKeyInfo* is shown at the end of [Use previously generated private key in ECIES](http://stackoverflow.com/a/30878843/608639). See the docs Java docs at [getEncoded](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getEncoded%28%29) and [getFormat](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getFormat%28%29)","body":"<b><i>If</i></b> you called <code>getEncoded()</code> on the <code>ECPublicKey</code>, then you have a malformed public key because its supposed to be the <i>SubjectPublicKeyInfo</i>. The <i>SubjectPublicKeyInfo</i> is shown at the end of <a href=\"http://stackoverflow.com/a/30878843/608639\">Use previously generated private key in ECIES</a>. See the docs Java docs at <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getEncoded%28%29\" rel=\"nofollow noreferrer\">getEncoded</a> and <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/security/Key.java#Key.getFormat%28%29\" rel=\"nofollow noreferrer\">getFormat</a>"},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434538242,"post_id":30868936,"comment_id":49818159,"body_markdown":"@jww we are using P-128 just for experiments, we will be changing the curve once we have successfully implemented the architecture. I did try to load the bytes using ASN1Primitive, I&#39;ve updated the question sharing its result.","body":"@jww we are using P-128 just for experiments, we will be changing the curve once we have successfully implemented the architecture. I did try to load the bytes using ASN1Primitive, I&#39;ve updated the question sharing its result."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434538397,"post_id":30868936,"comment_id":49818268,"body_markdown":"The public key is malformed. Throw it away and start over. You have a test set of keys (private exponent and public point) you can use at the second answer at [Use previously generated private key in ECIES](http://stackoverflow.com/a/30886380/608639).","body":"The public key is malformed. Throw it away and start over. You have a test set of keys (private exponent and public point) you can use at the second answer at <a href=\"http://stackoverflow.com/a/30886380/608639\">Use previously generated private key in ECIES</a>."},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434538784,"post_id":30868936,"comment_id":49818512,"body_markdown":"@jww ok let me go through it again, but the key just works fine on the server, just in case if it helps debugging, we are using https://github.com/yann2192/pyelliptic on the server.","body":"@jww ok let me go through it again, but the key just works fine on the server, just in case if it helps debugging, we are using <a href=\"https://github.com/yann2192/pyelliptic\" rel=\"nofollow noreferrer\">github.com/yann2192/pyelliptic</a> on the server."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434539009,"post_id":30868936,"comment_id":49818660,"body_markdown":"***If*** you need a *SubjectPublicKeyInfo (SPKI)*, then you will need to do some more work. But what you show above does ***not*** look like a SPKI.","body":"<b><i>If</i></b> you need a <i>SubjectPublicKeyInfo (SPKI)</i>, then you will need to do some more work. But what you show above does <b><i>not</i></b> look like a SPKI."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1434548625,"post_id":30868936,"comment_id":49826062,"body_markdown":"I added both *PrivateKeyInfo* and *SubjectPublicKeyInfo* to that answer. You should be able to load it in any form you need. If you have questions about the underlying structure, then HexDecode them and then print them with `dumpasn1`.","body":"I added both <i>PrivateKeyInfo</i> and <i>SubjectPublicKeyInfo</i> to that answer. You should be able to load it in any form you need. If you have questions about the underlying structure, then HexDecode them and then print them with <code>dumpasn1</code>."},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434553202,"post_id":30868936,"comment_id":49829740,"body_markdown":"@jww it seems to be too big for P-128 as you have stated on that answer. I&#39;m going through pyelliptic and there seems to be issue with point compression, just going through it, will update you shortly.","body":"@jww it seems to be too big for P-128 as you have stated on that answer. I&#39;m going through pyelliptic and there seems to be issue with point compression, just going through it, will update you shortly."},{"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"score":0,"creation_date":1434609473,"post_id":30868936,"comment_id":49854111,"body_markdown":"@jww Thanks a ton buddy, you lead us in the right direction. We found out the python library we were relying on did not use point compression.","body":"@jww Thanks a ton buddy, you lead us in the right direction. We found out the python library we were relying on did not use point compression."}],"answers":[{"comments":[{"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"score":0,"creation_date":1594920454,"post_id":32918284,"comment_id":111303335,"body_markdown":"If the hexPubKeyXY length is an odd number, how to segregate x &amp; y points ??","body":"If the hexPubKeyXY length is an odd number, how to segregate x &amp; y points ??"}],"tags":[],"owner":{"account_id":477208,"reputation":418,"user_id":888570,"display_name":"Victor"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443838949,"creation_date":1443838949,"answer_id":32918284,"question_id":30868936,"body_markdown":"Your base64 encoded data is 38 bytes long and does not seem to be in ASN1. Maybe that is a problem. On another hand as long as you can extract X and Y from your data you can generate public key this way:\r\n\r\n    \t  String hexPubKeyXY = &quot;01f82bfb2f0a3e988adc3d053d8e6ff878154306e402d871b7d6000823a1397f&quot;;\r\n    \t  String hexX = hexPubKeyXY.substring(0, 32);\r\n    \t  String hexY = hexPubKeyXY.substring(32);\r\n          ECPoint point = new ECPoint(new BigInteger(hexX, 16), new BigInteger(hexY, 16));\r\n          \r\n          AlgorithmParameters parameters = AlgorithmParameters.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\r\n          parameters.init(new ECGenParameterSpec(&quot;secp128r1&quot;));\r\n          ECParameterSpec ecParameters = parameters.getParameterSpec(ECParameterSpec.class);\r\n          \r\n          ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, ecParameters);\r\n          \r\n          PublicKey key = KeyFactory.getInstance(&quot;EC&quot;, &quot;SunEC&quot;).generatePublic(pubKeySpec);\r\n\r\n","title":"Retrieve ECC Public Key from Base64 encoded string","body":"<p>Your base64 encoded data is 38 bytes long and does not seem to be in ASN1. Maybe that is a problem. On another hand as long as you can extract X and Y from your data you can generate public key this way:</p>\n\n<pre><code>      String hexPubKeyXY = \"01f82bfb2f0a3e988adc3d053d8e6ff878154306e402d871b7d6000823a1397f\";\n      String hexX = hexPubKeyXY.substring(0, 32);\n      String hexY = hexPubKeyXY.substring(32);\n      ECPoint point = new ECPoint(new BigInteger(hexX, 16), new BigInteger(hexY, 16));\n\n      AlgorithmParameters parameters = AlgorithmParameters.getInstance(\"EC\", \"SunEC\");\n      parameters.init(new ECGenParameterSpec(\"secp128r1\"));\n      ECParameterSpec ecParameters = parameters.getParameterSpec(ECParameterSpec.class);\n\n      ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, ecParameters);\n\n      PublicKey key = KeyFactory.getInstance(\"EC\", \"SunEC\").generatePublic(pubKeySpec);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685695305,"post_id":76387744,"comment_id":134699958,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76387744/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24648588,"reputation":1,"user_id":22001127,"display_name":"Mohamad Fayez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685688361,"creation_date":1685688299,"answer_id":76387744,"question_id":30868936,"body_markdown":"     private static PublicKey getPublicKeyFromBase64(String hexPKey) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n            byte[] pubKey = Base64.getDecoder().decode(hexPKey);\r\n            ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(&quot;prime256v1&quot;);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;ECDSA&quot;, new BouncyCastleProvider());\r\n            ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;prime256v1&quot;, spec.getCurve(), spec.getG(), spec.getN());\r\n            ECPoint point =  ECPointUtil.decodePoint(params.getCurve(), pubKey);\r\n            ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, params);\r\n            ECPublicKey pk = (ECPublicKey) kf.generatePublic(pubKeySpec);\r\n            return pk;\r\n        }\r\n\r\n","title":"Retrieve ECC Public Key from Base64 encoded string","body":"<pre><code> private static PublicKey getPublicKeyFromBase64(String hexPKey) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        byte[] pubKey = Base64.getDecoder().decode(hexPKey);\n        ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(&quot;prime256v1&quot;);\n        KeyFactory kf = KeyFactory.getInstance(&quot;ECDSA&quot;, new BouncyCastleProvider());\n        ECNamedCurveSpec params = new ECNamedCurveSpec(&quot;prime256v1&quot;, spec.getCurve(), spec.getG(), spec.getN());\n        ECPoint point =  ECPointUtil.decodePoint(params.getCurve(), pubKey);\n        ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, params);\n        ECPublicKey pk = (ECPublicKey) kf.generatePublic(pubKeySpec);\n        return pk;\n    }\n</code></pre>\n"}],"owner":{"account_id":2006398,"reputation":2829,"user_id":1796173,"accept_rate":64,"display_name":"Ankit Popli"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4208,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1685688361,"creation_date":1434461139,"question_id":30868936,"body_markdown":"I&#39;ve been trying to create an instance of `java.security.PublicKey` using a Base64 encoded ECC public key.\r\n\r\n### MainActivity.java\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        try {\r\n            byte[] data = decodePublicKey(&quot;AsIAEFjzIcX+Kvhe8AmLoGUc8aYAEAwf5ecREGZ2u4RLxQuav/A=&quot;);\r\n            PublicKey publicKey = loadPublicKey(&quot;secp128r1&quot;, data);\r\n\r\n            Log.d(TAG, publicKey.toString());\r\n        } catch (SQLException | IOException | GeneralSecurityException e) {\r\n            Log.e(TAG, e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n    private byte[] decodePublicKey(String s) throws UnsupportedEncodingException {\r\n        return Base64.decode(s, Base64.DEFAULT);\r\n    }\r\n\r\n    public PublicKey loadPublicKey(String curve, byte[] data)\r\n            throws SQLException, IOException, GeneralSecurityException {\r\n        Log.d(TAG, Arrays.toString(data));\r\n        // [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\r\n        Log.d(TAG, &quot;Length :&quot; + String.valueOf(data.length));\r\n\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;EC&quot;, &quot;SC&quot;);\r\n        ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(curve);\r\n        ECCurve eccCurve = spec.getCurve();\r\n        Log.d(TAG, &quot;Curve: &quot; + curve);\r\n\r\n        EllipticCurve ellipticCurve = EC5Util.convertCurve(eccCurve, spec.getSeed());\r\n\r\n        // decoding point fails, \r\n        // line no 66.\r\n        ECPoint point = ECPointUtil.decodePoint(ellipticCurve, data);\r\n        ECParameterSpec params = EC5Util.convertSpec(ellipticCurve, spec);\r\n\r\n        ECPublicKeySpec keySpec = new ECPublicKeySpec(point, params);\r\n        return factory.generatePublic(keySpec);\r\n    }\r\n\r\n### Logcat:\r\n    \r\n    Process: com.example.eccdemo, PID: 21151\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.eccdemo/com.example.eccdemo.MainActivity}: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2329)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:147)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\r\n     Caused by: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\r\n            at org.spongycastle.math.ec.ECCurve.decodePoint(ECCurve.java:349)\r\n            at org.spongycastle.jce.ECPointUtil.decodePoint(ECPointUtil.java:52)\r\n            at com.example.eccdemo.MainActivity.loadPublicKey(MainActivity.java:66)\r\n            at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:45)\r\n            at android.app.Activity.performCreate(Activity.java:5933)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:147)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\r\n\r\n\r\n## Further Inspection:\r\n\r\nIn Logcat, upon printing the decoded bytes, they actually differ from the one on the server:\r\n\r\n        Log.d(TAG, Arrays.toString(data));\r\n        [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\r\n\r\nIn python console:\r\n\r\n    In [131]: [_ for _ in ap.public_key.tobytes()]\r\n    Out[131]: [2, 194, 0, 16, 88, 243, 33, 197, 254, 42, 248, 94, 240, 9, 139, 160, 101, 28, 241, 166, 0, 16, 12, 31, 229, 231, 17, 16, 102, 118, 187, 132, 75, 197, 11, 154, 191, 240]\r\n\r\n\r\nIt would be great if someone can explain the reason to this anomaly, and also help me out on the small snippet to get `PublicKey` instance from the String.\r\n\r\nReferences:\r\n\r\n - http://www.programcreek.com/java-api-examples/index.php?api=org.bouncycastle.asn1.ASN1InputStream\r\n\r\n - http://www.bouncycastle.org/wiki/display/JA1/Elliptic+Curve+Key+Pair+Generation+and+Key+Factories\r\n\r\nThanks in advance!!\r\n\r\n## Update:\r\nWhen trying to load ASN1Primitive using the line below, it throws the following exception:\r\n\r\n    ASN1Primitive.fromByteArray(data);\r\n\r\nException:\r\n\r\n    java.io.IOException: DER length more than 4 bytes: 66\r\n            at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:347)\r\n            at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:112)\r\n            at org.spongycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:237)\r\n            at org.spongycastle.asn1.ASN1Primitive.fromByteArray(ASN1Primitive.java:30)\r\n            at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:48)\r\n            at android.app.Activity.performCreate(Activity.java:5933)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:147)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)","title":"Retrieve ECC Public Key from Base64 encoded string","body":"<p>I've been trying to create an instance of <code>java.security.PublicKey</code> using a Base64 encoded ECC public key.</p>\n\n<h3>MainActivity.java</h3>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    try {\n        byte[] data = decodePublicKey(\"AsIAEFjzIcX+Kvhe8AmLoGUc8aYAEAwf5ecREGZ2u4RLxQuav/A=\");\n        PublicKey publicKey = loadPublicKey(\"secp128r1\", data);\n\n        Log.d(TAG, publicKey.toString());\n    } catch (SQLException | IOException | GeneralSecurityException e) {\n        Log.e(TAG, e.getMessage(), e);\n    }\n}\n\nprivate byte[] decodePublicKey(String s) throws UnsupportedEncodingException {\n    return Base64.decode(s, Base64.DEFAULT);\n}\n\npublic PublicKey loadPublicKey(String curve, byte[] data)\n        throws SQLException, IOException, GeneralSecurityException {\n    Log.d(TAG, Arrays.toString(data));\n    // [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\n    Log.d(TAG, \"Length :\" + String.valueOf(data.length));\n\n    KeyFactory factory = KeyFactory.getInstance(\"EC\", \"SC\");\n    ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(curve);\n    ECCurve eccCurve = spec.getCurve();\n    Log.d(TAG, \"Curve: \" + curve);\n\n    EllipticCurve ellipticCurve = EC5Util.convertCurve(eccCurve, spec.getSeed());\n\n    // decoding point fails, \n    // line no 66.\n    ECPoint point = ECPointUtil.decodePoint(ellipticCurve, data);\n    ECParameterSpec params = EC5Util.convertSpec(ellipticCurve, spec);\n\n    ECPublicKeySpec keySpec = new ECPublicKeySpec(point, params);\n    return factory.generatePublic(keySpec);\n}\n</code></pre>\n\n<h3>Logcat:</h3>\n\n<pre><code>Process: com.example.eccdemo, PID: 21151\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.eccdemo/com.example.eccdemo.MainActivity}: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2329)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n        at android.app.ActivityThread.access$900(ActivityThread.java:147)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n Caused by: java.lang.IllegalArgumentException: Incorrect length for compressed encoding\n        at org.spongycastle.math.ec.ECCurve.decodePoint(ECCurve.java:349)\n        at org.spongycastle.jce.ECPointUtil.decodePoint(ECPointUtil.java:52)\n        at com.example.eccdemo.MainActivity.loadPublicKey(MainActivity.java:66)\n        at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:45)\n        at android.app.Activity.performCreate(Activity.java:5933)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n        at android.app.ActivityThread.access$900(ActivityThread.java:147)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n</code></pre>\n\n<h2>Further Inspection:</h2>\n\n<p>In Logcat, upon printing the decoded bytes, they actually differ from the one on the server:</p>\n\n<pre><code>    Log.d(TAG, Arrays.toString(data));\n    [2, -62, 0, 16, 88, -13, 33, -59, -2, 42, -8, 94, -16, 9, -117, -96, 101, 28, -15, -90, 0, 16, 12, 31, -27, -25, 17, 16, 102, 118, -69, -124, 75, -59, 11, -102, -65, -16]\n</code></pre>\n\n<p>In python console:</p>\n\n<pre><code>In [131]: [_ for _ in ap.public_key.tobytes()]\nOut[131]: [2, 194, 0, 16, 88, 243, 33, 197, 254, 42, 248, 94, 240, 9, 139, 160, 101, 28, 241, 166, 0, 16, 12, 31, 229, 231, 17, 16, 102, 118, 187, 132, 75, 197, 11, 154, 191, 240]\n</code></pre>\n\n<p>It would be great if someone can explain the reason to this anomaly, and also help me out on the small snippet to get <code>PublicKey</code> instance from the String.</p>\n\n<p>References:</p>\n\n<ul>\n<li><p><a href=\"http://www.programcreek.com/java-api-examples/index.php?api=org.bouncycastle.asn1.ASN1InputStream\" rel=\"nofollow\">http://www.programcreek.com/java-api-examples/index.php?api=org.bouncycastle.asn1.ASN1InputStream</a></p></li>\n<li><p><a href=\"http://www.bouncycastle.org/wiki/display/JA1/Elliptic+Curve+Key+Pair+Generation+and+Key+Factories\" rel=\"nofollow\">http://www.bouncycastle.org/wiki/display/JA1/Elliptic+Curve+Key+Pair+Generation+and+Key+Factories</a></p></li>\n</ul>\n\n<p>Thanks in advance!!</p>\n\n<h2>Update:</h2>\n\n<p>When trying to load ASN1Primitive using the line below, it throws the following exception:</p>\n\n<pre><code>ASN1Primitive.fromByteArray(data);\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>java.io.IOException: DER length more than 4 bytes: 66\n        at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:347)\n        at org.spongycastle.asn1.ASN1InputStream.readLength(ASN1InputStream.java:112)\n        at org.spongycastle.asn1.ASN1InputStream.readObject(ASN1InputStream.java:237)\n        at org.spongycastle.asn1.ASN1Primitive.fromByteArray(ASN1Primitive.java:30)\n        at com.example.eccdemo.MainActivity.onCreate(MainActivity.java:48)\n        at android.app.Activity.performCreate(Activity.java:5933)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2389)\n        at android.app.ActivityThread.access$900(ActivityThread.java:147)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n</code></pre>\n"},{"tags":["java","swt","nattable","nebula"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685687956,"creation_date":1685687956,"answer_id":76387707,"question_id":76387658,"body_markdown":"This happens if you apply your custom labels (`HEX_FORMAT` in your case) on the `ViewportLayer` or above. If you have a strong relation on the structure, you should apply the labels on the `DataLayer` as there is no index-position conversion.","title":"Nattable Display converter shifts columns when the table is scrolled horizontally","body":"<p>This happens if you apply your custom labels (<code>HEX_FORMAT</code> in your case) on the <code>ViewportLayer</code> or above. If you have a strong relation on the structure, you should apply the labels on the <code>DataLayer</code> as there is no index-position conversion.</p>\n"}],"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76387707,"answer_count":1,"score":0,"last_activity_date":1685687956,"creation_date":1685687520,"question_id":76387658,"body_markdown":"I have used a custom DisplayConverter on some columns of my Nattable.This displayconverter shows long values as hex strings. \r\nWhenever I scroll my Nattable horizontally, this converter shifts one/mulitple columns. This results in columns which show hex values to be shown in default numeral format. On the other hand, columns which should be showing numerals show hex values. \r\nIn the following images, the first image shows how it should be displayed, that is column number 2 and 7 should show hex values (these are just long values with my custom converter applied). \r\nWhen I scroll my table to the right, this converter is then applied to column number 3 and 8.\r\n\r\n[Default (as it should be)](https://i.stack.imgur.com/Mv8oV.png)\r\n\r\n[Scrolled right ](https://i.stack.imgur.com/WZYN7.png)\r\n\r\nI have applied my CustomDisplayConverter ( column override HEX_FORMAT) to certain columns. LinkerMapHexAddressDisplayConverter is the custom display converter which converts long values to hex strings for display.\r\n\r\n\r\n\t&#39;columnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_SIZE), NUMBER_FORMAT);//column 3\r\n\t\tcolumnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_SIZE), NUMBER_FORMAT);//column 8\r\n\r\n\t\tconfigRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\r\n\t\t\t\tnew DefaultLongDisplayConverter(), DisplayMode.NORMAL, NUMBER_FORMAT);\r\n\r\n\t\tcolumnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_ADDRESS), HEX_FORMAT);//column 2\r\n\t\tcolumnLabelAccumulator.registerColumnOverrides(\r\n\t\t\t\tpnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_MODULE_ADDRESS),\r\n\t\t\t\tHEX_FORMAT);//column 7\r\n\r\n\t\tconfigRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\r\n\t\t\t\tnew LinkerMapHexAddressDisplayConverter(), DisplayMode.NORMAL,\r\n\t\t\t\tHEX_FORMAT);&#39;\r\n","title":"Nattable Display converter shifts columns when the table is scrolled horizontally","body":"<p>I have used a custom DisplayConverter on some columns of my Nattable.This displayconverter shows long values as hex strings.\nWhenever I scroll my Nattable horizontally, this converter shifts one/mulitple columns. This results in columns which show hex values to be shown in default numeral format. On the other hand, columns which should be showing numerals show hex values.\nIn the following images, the first image shows how it should be displayed, that is column number 2 and 7 should show hex values (these are just long values with my custom converter applied).\nWhen I scroll my table to the right, this converter is then applied to column number 3 and 8.</p>\n<p><a href=\"https://i.stack.imgur.com/Mv8oV.png\" rel=\"nofollow noreferrer\">Default (as it should be)</a></p>\n<p><a href=\"https://i.stack.imgur.com/WZYN7.png\" rel=\"nofollow noreferrer\">Scrolled right </a></p>\n<p>I have applied my CustomDisplayConverter ( column override HEX_FORMAT) to certain columns. LinkerMapHexAddressDisplayConverter is the custom display converter which converts long values to hex strings for display.</p>\n<pre><code>'columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_SIZE), NUMBER_FORMAT);//column 3\n    columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_SIZE), NUMBER_FORMAT);//column 8\n\n    configRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\n            new DefaultLongDisplayConverter(), DisplayMode.NORMAL, NUMBER_FORMAT);\n\n    columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_SECTION_ADDRESS), HEX_FORMAT);//column 2\n    columnLabelAccumulator.registerColumnOverrides(\n            pnames.indexOf(ILinkerMapConstants.PROP_KEY_OBJECT_MODULE_ADDRESS),\n            HEX_FORMAT);//column 7\n\n    configRegistry.registerConfigAttribute(CellConfigAttributes.DISPLAY_CONVERTER,\n            new LinkerMapHexAddressDisplayConverter(), DisplayMode.NORMAL,\n            HEX_FORMAT);'\n</code></pre>\n"},{"tags":["java","android","sockets","tcpsocket"],"comments":[{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1685688289,"post_id":76387702,"comment_id":134698595,"body_markdown":"Can you connect to the server from any computer e. g. with `netcat`?","body":"Can you connect to the server from any computer e. g. with <code>netcat</code>?"},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685688753,"post_id":76387702,"comment_id":134698673,"body_markdown":"@Armali Sorry, I haven&#39;t used this before. Can you explain in more detail how to try it?","body":"@Armali Sorry, I haven&#39;t used this before. Can you explain in more detail how to try it?"},{"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"score":0,"creation_date":1685689671,"post_id":76387702,"comment_id":134698849,"body_markdown":"`netcat -v 10.0.2.16 5050` or `nc -v 10.0.2.16 5050`","body":"<code>netcat -v 10.0.2.16 5050</code> or <code>nc -v 10.0.2.16 5050</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685691977,"post_id":76387702,"comment_id":134699302,"body_markdown":"Where is your server running? Where is your client running? On which devices? Tell your setup else we have to guess what you are trying. And what does it have to do with &#39;online&#39;?","body":"Where is your server running? Where is your client running? On which devices? Tell your setup else we have to guess what you are trying. And what does it have to do with &#39;online&#39;?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685692296,"post_id":76387702,"comment_id":134699375,"body_markdown":"`serverConnect()` Dont call it like that. Call it serverListen() as that is what happens. Only a client tries to connect -with the server-.","body":"<code>serverConnect()</code> Dont call it like that. Call it serverListen() as that is what happens. Only a client tries to connect -with the server-."},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685693304,"post_id":76387702,"comment_id":134699572,"body_markdown":"@blackapps When opened first, it will enter MainActivity.java, where are two buttons to choose between creating a group or joining a group. I set the server for creating the group.\nAfter clicking the button to create a group, you will enter server.java to set the number of game rounds and number of players. After setting it, you can click the button to start the game, and you will enter serverWaitStart.java (attached server part code), where you will create a serverSocket and accept ()","body":"@blackapps When opened first, it will enter MainActivity.java, where are two buttons to choose between creating a group or joining a group. I set the server for creating the group. After clicking the button to create a group, you will enter server.java to set the number of game rounds and number of players. After setting it, you can click the button to start the game, and you will enter serverWaitStart.java (attached server part code), where you will create a serverSocket and accept ()"},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685693318,"post_id":76387702,"comment_id":134699575,"body_markdown":"At this time, you can use another Android device to open the app, click on the join group button, enter clientJoin.java, enter the server IP you want to connect to, and click the enter group button to enter clientWaitStart.java (attached client part code) for socket=new Socket (IP, 5050) and server connection\n\nIt has already fixed the IP as the IP of the Android emulator=&quot;10.0.2.16&quot;","body":"At this time, you can use another Android device to open the app, click on the join group button, enter clientJoin.java, enter the server IP you want to connect to, and click the enter group button to enter clientWaitStart.java (attached client part code) for socket=new Socket (IP, 5050) and server connection  It has already fixed the IP as the IP of the Android emulator=&quot;10.0.2.16&quot;"},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685693405,"post_id":76387702,"comment_id":134699594,"body_markdown":"@blackapps Thank you fo your reminder! I will change this call.","body":"@blackapps Thank you fo your reminder! I will change this call."},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685696368,"post_id":76387702,"comment_id":134700179,"body_markdown":"@blackapps I execute everything using the built-in emulator in Android Studio, and the server runs in Pixel_ 3a_ API_ 33 x86_64\nThe client is based on Pixel 3a API 33.\n\nOnline is for the server to provide questions and options for the client to answer in the future. The client&#39;s answer will be sent back to the server to confirm whether the answer is correct. If the answer is correct, one point can be added, but I did not write this on this page. This page needs to be connected online first","body":"@blackapps I execute everything using the built-in emulator in Android Studio, and the server runs in Pixel_ 3a_ API_ 33 x86_64 The client is based on Pixel 3a API 33.  Online is for the server to provide questions and options for the client to answer in the future. The client&#39;s answer will be sent back to the server to confirm whether the answer is correct. If the answer is correct, one point can be added, but I did not write this on this page. This page needs to be connected online first"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685697573,"post_id":76387702,"comment_id":134700404,"body_markdown":"The server runs on a Pixel device. And then you seem to have a different server on the internet? And what are you executing on the emulator? What? All makes no sense to me. Cant you stick to two Pixel devices first? One for the server and one as a client? The rest is only confusing.","body":"The server runs on a Pixel device. And then you seem to have a different server on the internet? And what are you executing on the emulator? What? All makes no sense to me. Cant you stick to two Pixel devices first? One for the server and one as a client? The rest is only confusing."},{"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"score":0,"creation_date":1685700732,"post_id":76387702,"comment_id":134701065,"body_markdown":"@blackapps I really only use two-pixel devices, one for the server and one for a client, and those two-pixel devices are opened by emulators. I don’t have a physical pixel device. \n\nAnd there is only one server. The multiple java switches mentioned above are only It&#39;s just switching pages","body":"@blackapps I really only use two-pixel devices, one for the server and one for a client, and those two-pixel devices are opened by emulators. I don’t have a physical pixel device.   And there is only one server. The multiple java switches mentioned above are only It&#39;s just switching pages"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1685717990,"post_id":76387702,"comment_id":134704815,"body_markdown":"Very confusing post. So you try to use two emulators for server client communication. Well that will not go. Use two devices to begin with. You are not using two pixel devices. You should never have mentioned pixel.","body":"Very confusing post. So you try to use two emulators for server client communication. Well that will not go. Use two devices to begin with. You are not using two pixel devices. You should never have mentioned pixel."}],"owner":{"account_id":28733319,"reputation":1,"user_id":22004801,"display_name":"llaimo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685687904,"creation_date":1685687904,"question_id":76387702,"body_markdown":"I have just started learning TCPSocket recently. I hope to write a quiz app online through a socket using Android Studio. However, during the execution of the client, it was unable to connect to the server. I repeatedly checked a lot of data and code, but couldn&#39;t find a solution \r\n\r\nThis is the Server part code I currently have:\r\n\r\n```\r\npublic class ServerWaitStart extends AppCompatActivity {\r\n    private static GlobalVariable gv;\r\n\r\n    private ServerSocket serverSocket;\r\n\r\n    TextView currentNum;\r\n    private int count = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_11_server_wait_start);\r\n\r\n        gv = (GlobalVariable)getApplicationContext();\r\n\r\n        TextView IPaddress = findViewById(R.id.IPaddress);\r\n        gv.IP = getLocalIP(this);\r\n        IPaddress.setText(&quot;群組代碼:&quot; + gv.IP);\r\n\r\n        currentNum = findViewById(R.id.currentNum);\r\n        serverConnect();\r\n    }\r\n\r\n    private ServerThread serverThread;\r\n\r\n    public void serverConnect(){\r\n        try {\r\n            serverSocket= new ServerSocket(5050);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        serverThread = new ServerThread();\r\n        serverThread.startServer();\r\n    }\r\n\r\n    class ServerThread extends Thread implements Runnable{\r\n\r\n        private boolean serverRunning;\r\n        private int count = 1;\r\n\r\n        public void startServer(){\r\n            serverRunning = true;\r\n            start();\r\n            System.out.println(&quot;startServer execute&quot;);\r\n        }\r\n\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                while(serverRunning){\r\n                    System.out.println(&quot;in run&quot;);\r\n                    Socket socket = serverSocket.accept();\r\n                    System.out.println(&quot;accept!&quot;);\r\n                    count++;\r\n\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            try {\r\n                                DataOutputStream dos = new DataOutputStream(socket.getOutputStream());\r\n                                dos.writeUTF(count + &quot;\\n&quot;);\r\n                                // 立即發送\r\n                                dos.flush();\r\n                                currentNum.setText(&quot;目前已加入人數&quot; + count);\r\n                            } catch (IOException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    });\r\n                    if (gv.chooseNum == count){\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }//ServerThread\r\n\r\n```\r\n\r\n\r\nThis is the Client part code I currently have:\r\n\r\n```\r\npublic class ClientWaitStart extends AppCompatActivity {\r\n    private GlobalVariable gv;\r\n    private TextView currentNum;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_07_client_wait_start);\r\n\r\n        currentNum = findViewById(R.id.currentNum);\r\n        gv = (GlobalVariable)getApplicationContext();\r\n    }\r\n\r\n    private Runnable Connection=new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                Socket socket = new Socket(&quot;10.0.2.16&quot;, 5050);\r\n                System.out.println(&quot;client connected&quot;);\r\n\r\n                DataInputStream dis = new DataInputStream(socket.getInputStream());\r\n                String waitPeopleNum = dis.readUTF();\r\n\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        currentNum.setText(&quot;目前已加入人數；&quot; + waitPeopleNum);\r\n                    }\r\n                });\r\n\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n\r\nPlease help and ask me any questions that I left vague. Thank you, Laimo.\r\n\r\nServer System.out\r\n``2023-06-02 13:22:19.504  5063-5063  System.out              com.appcompat.app.quiz               I  startServer execute\r\n2023-06-02 13:22:19.505  5063-5315  System.out              com.appcompat.app.quiz               I  in run``","title":"Android Studio(Java) Client unable to connect on Android Server","body":"<p>I have just started learning TCPSocket recently. I hope to write a quiz app online through a socket using Android Studio. However, during the execution of the client, it was unable to connect to the server. I repeatedly checked a lot of data and code, but couldn't find a solution</p>\n<p>This is the Server part code I currently have:</p>\n<pre><code>public class ServerWaitStart extends AppCompatActivity {\n    private static GlobalVariable gv;\n\n    private ServerSocket serverSocket;\n\n    TextView currentNum;\n    private int count = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_11_server_wait_start);\n\n        gv = (GlobalVariable)getApplicationContext();\n\n        TextView IPaddress = findViewById(R.id.IPaddress);\n        gv.IP = getLocalIP(this);\n        IPaddress.setText(&quot;群組代碼:&quot; + gv.IP);\n\n        currentNum = findViewById(R.id.currentNum);\n        serverConnect();\n    }\n\n    private ServerThread serverThread;\n\n    public void serverConnect(){\n        try {\n            serverSocket= new ServerSocket(5050);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        serverThread = new ServerThread();\n        serverThread.startServer();\n    }\n\n    class ServerThread extends Thread implements Runnable{\n\n        private boolean serverRunning;\n        private int count = 1;\n\n        public void startServer(){\n            serverRunning = true;\n            start();\n            System.out.println(&quot;startServer execute&quot;);\n        }\n\n\n        @Override\n        public void run() {\n            try {\n                while(serverRunning){\n                    System.out.println(&quot;in run&quot;);\n                    Socket socket = serverSocket.accept();\n                    System.out.println(&quot;accept!&quot;);\n                    count++;\n\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            try {\n                                DataOutputStream dos = new DataOutputStream(socket.getOutputStream());\n                                dos.writeUTF(count + &quot;\\n&quot;);\n                                // 立即發送\n                                dos.flush();\n                                currentNum.setText(&quot;目前已加入人數&quot; + count);\n                            } catch (IOException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    });\n                    if (gv.chooseNum == count){\n                        break;\n                    }\n                }\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }//ServerThread\n\n</code></pre>\n<p>This is the Client part code I currently have:</p>\n<pre><code>public class ClientWaitStart extends AppCompatActivity {\n    private GlobalVariable gv;\n    private TextView currentNum;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_07_client_wait_start);\n\n        currentNum = findViewById(R.id.currentNum);\n        gv = (GlobalVariable)getApplicationContext();\n    }\n\n    private Runnable Connection=new Runnable() {\n        @Override\n        public void run() {\n            try {\n                Socket socket = new Socket(&quot;10.0.2.16&quot;, 5050);\n                System.out.println(&quot;client connected&quot;);\n\n                DataInputStream dis = new DataInputStream(socket.getInputStream());\n                String waitPeopleNum = dis.readUTF();\n\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        currentNum.setText(&quot;目前已加入人數；&quot; + waitPeopleNum);\n                    }\n                });\n\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    };\n</code></pre>\n<p>Please help and ask me any questions that I left vague. Thank you, Laimo.</p>\n<p>Server System.out\n<code>2023-06-02 13:22:19.504  5063-5063  System.out              com.appcompat.app.quiz               I  startServer execute 2023-06-02 13:22:19.505  5063-5315  System.out              com.appcompat.app.quiz               I  in run</code></p>\n"},{"tags":["java","oracle","spring-boot","hibernate","jpa"],"owner":{"account_id":1344147,"reputation":83,"user_id":1285203,"display_name":"Prabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685687826,"creation_date":1685687042,"question_id":76387617,"body_markdown":"I am trying to validate Hibernate against DB schema in a spring boot project, using  the property,\r\n\r\n&gt; spring.jpa.hibernate.ddl-auto=validate\r\n\r\nThe project unfortunately never gotten validated, accumulating a huge number of inconsistencies. Going through the above method gives me only one inconsistency issue at time. I have to fix it to get the next inconsistency, which is time consuming and only one dev can work at a time.\r\n\r\nIs there a way to get all the validation errors in single shot?. This would greatly help me and any answer is appreciated.","title":"Generate report of Hibernate vs DB inconsistencies","body":"<p>I am trying to validate Hibernate against DB schema in a spring boot project, using  the property,</p>\n<blockquote>\n<p>spring.jpa.hibernate.ddl-auto=validate</p>\n</blockquote>\n<p>The project unfortunately never gotten validated, accumulating a huge number of inconsistencies. Going through the above method gives me only one inconsistency issue at time. I have to fix it to get the next inconsistency, which is time consuming and only one dev can work at a time.</p>\n<p>Is there a way to get all the validation errors in single shot?. This would greatly help me and any answer is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638537514,"post_id":70214698,"comment_id":124121538,"body_markdown":"You need to pass the `bufferedRequest` and `bufferedResponse` down the chain **not** the common request.","body":"You need to pass the <code>bufferedRequest</code> and <code>bufferedResponse</code> down the chain <b>not</b> the common request."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1638537956,"post_id":70214698,"comment_id":124121709,"body_markdown":"I&#39;m actually doing that already. I was cleaning up the code a but, and made a mistake. I have updated the code to reflect my actual code.","body":"I&#39;m actually doing that already. I was cleaning up the code a but, and made a mistake. I have updated the code to reflect my actual code."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638538019,"post_id":70214698,"comment_id":124121742,"body_markdown":"Use `@RequestPart` not `@RequestParam` in your controller.","body":"Use <code>@RequestPart</code> not <code>@RequestParam</code> in your controller."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1638538372,"post_id":70214698,"comment_id":124121886,"body_markdown":"I tried `@RequestPart`, `@RequestParam` and using `@ModelAttribute` to wrap `MultipartFile`.  I also injected the HttpRequest in the REST controller and calling `request.getParts()` was retuning an empty array. The parts is being consumed somewhere because they were available at some point, but lost when reaching the REST controller.","body":"I tried <code>@RequestPart</code>, <code>@RequestParam</code> and using <code>@ModelAttribute</code> to wrap <code>MultipartFile</code>.  I also injected the HttpRequest in the REST controller and calling <code>request.getParts()</code> was retuning an empty array. The parts is being consumed somewhere because they were available at some point, but lost when reaching the REST controller."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638539827,"post_id":70214698,"comment_id":124122441,"body_markdown":"If you want the part you need to use the `@RequestPart` multipart is enabled by default so that should work. However as you included a logging filter that might actually break things, consuming the request multiple times or doing duplicate operations is always a challenge. Use `@RequestPart` and try without your filter.","body":"If you want the part you need to use the <code>@RequestPart</code> multipart is enabled by default so that should work. However as you included a logging filter that might actually break things, consuming the request multiple times or doing duplicate operations is always a challenge. Use <code>@RequestPart</code> and try without your filter."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1638541442,"post_id":70214698,"comment_id":124123147,"body_markdown":"Where is BufferedRequestWrapper? Does it is built-in in Spring or something? In the past, i used ContentCachingRequestWrapper instead of BufferedRequestWrapper.. Be aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest","body":"Where is BufferedRequestWrapper? Does it is built-in in Spring or something? In the past, i used ContentCachingRequestWrapper instead of BufferedRequestWrapper.. Be aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest"},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1638544199,"post_id":70214698,"comment_id":124124337,"body_markdown":"`BufferedRequestWrapper` is extending `HttpServletRequestWrapper` used to read the inputStream without consuming it. I tried to change it to use `ContentCachingRequestWrapper` as @huy suggested. File upload is now working without calling `request.getParts()`. I could also remove 300 lines of old legacy code. @huy please post as an answer and I will accept it.","body":"<code>BufferedRequestWrapper</code> is extending <code>HttpServletRequestWrapper</code> used to read the inputStream without consuming it. I tried to change it to use <code>ContentCachingRequestWrapper</code> as @huy suggested. File upload is now working without calling <code>request.getParts()</code>. I could also remove 300 lines of old legacy code. @huy please post as an answer and I will accept it."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1638588851,"post_id":70214698,"comment_id":124135379,"body_markdown":"@JonasPedersen Glad it help. Answer added.","body":"@JonasPedersen Glad it help. Answer added."},{"owner":{"account_id":5307563,"reputation":61,"user_id":4234926,"display_name":"Szabo Gabor"},"score":0,"creation_date":1685611654,"post_id":70214698,"comment_id":134685468,"body_markdown":"Hi @Jonas Pedersen,\n\nI have the same problem, but unfortunately I haven&#39;t been able to solve it for a week. I always get an error when calling multipart (empty array) no matter what I try. Please share your BufferedRequestWrapper and BufferedResponseWrapper class, it would help a lot.","body":"Hi @Jonas Pedersen,  I have the same problem, but unfortunately I haven&#39;t been able to solve it for a week. I always get an error when calling multipart (empty array) no matter what I try. Please share your BufferedRequestWrapper and BufferedResponseWrapper class, it would help a lot."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1685687330,"post_id":70214698,"comment_id":134698428,"body_markdown":"@SzaboGabor I&#39;ve updated with a complete example. Hope it helps","body":"@SzaboGabor I&#39;ve updated with a complete example. Hope it helps"},{"owner":{"account_id":5307563,"reputation":61,"user_id":4234926,"display_name":"Szabo Gabor"},"score":0,"creation_date":1685708821,"post_id":70214698,"comment_id":134702682,"body_markdown":"Dear @Jonas Pedersen,\n\nThank you very much for your help, but unfortunately the problem is the same:\nThe WHILE condition is FALSE so &quot;this.buffes =[]&quot; remains empty.\nwhile ((read = is.read(buf)) &gt; 0) {\n             baos.write(buf, 0, read);\n  }\n  this.buffer = baos.toByteArray();\n\nSpring version 3.1.0, this is probably the problem as I had to import jakarta instead of javax.","body":"Dear @Jonas Pedersen,  Thank you very much for your help, but unfortunately the problem is the same: The WHILE condition is FALSE so &quot;this.buffes =[]&quot; remains empty. while ((read = is.read(buf)) &gt; 0) {              baos.write(buf, 0, read);   }   this.buffer = baos.toByteArray();  Spring version 3.1.0, this is probably the problem as I had to import jakarta instead of javax."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638588799,"creation_date":1638588799,"answer_id":70222845,"question_id":70214698,"body_markdown":"Please consider using ContentCachingRequestWrapper.\r\n\r\nIt&#39;s built-in of spring which help you can read caches all content read from the input stream and reader.\r\n\r\nBe aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest\r\n\r\nPlease refer: \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html","title":"Spring POST multipart/form-data, request parts always empty","body":"<p>Please consider using ContentCachingRequestWrapper.</p>\n<p>It's built-in of spring which help you can read caches all content read from the input stream and reader.</p>\n<p>Be aware, with multipart file, spring already have a wrapper ... MultipartHttpServletRequest</p>\n<p>Please refer:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html</a></p>\n"}],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70222845,"answer_count":1,"score":1,"last_activity_date":1685687285,"creation_date":1638536295,"question_id":70214698,"body_markdown":"I have a simple REST controller that I use for accepting a file being uploaded from a HTML form. The project is Spring Boot 2.6.1 and Java 17. But the problem was also to be found in Spring Boot 2.3.7 and Java 15.\r\n```\r\n@PostMapping(path = &quot;/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic void handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    fileService.upload(file.getInputStream(), file.getOriginalFilename());\r\n}\r\n```\r\nThe problem is `file` is always NULL. I found a lot of different answers about setting a `MultipartResolver` bean or enabling `spring.http.multipart.enabled = true` but nothing helped. I have a logging filter as one of the first filters in the chain. After debugging in the filter chain I found out that making a call to `request.getParts()` made everything work. My filter look like this:\r\n```\r\npublic class LoggingFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\r\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\r\n\r\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\r\n\r\n        logRequest(httpServletRequest, bufferedRequest);\r\n        logResponse(httpServletRequest, bufferedResponse);\r\n    }\r\n```\r\nI changed the filter to:\r\n````\r\npublic class LoggingFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\r\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\r\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\r\n        }\r\n\r\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\r\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\r\n\r\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\r\n\r\n        logRequest(httpServletRequest, bufferedRequest);\r\n        logResponse(httpServletRequest, bufferedResponse);\r\n    }\r\n````\r\nand everything was working. My question is; why is this needed? And is there a better way of doing this?\r\n\r\nBelow is a complete example where only the actual logging is removed because we use a custom logging framework.\r\n\r\n````\r\npackage com.unwire.ticketing.filter.logging;\r\n\r\nimport lombok.Getter;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.apache.commons.io.output.TeeOutputStream;\r\nimport org.springframework.web.filter.GenericFilterBean;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Collection;\r\nimport java.util.Locale;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Log extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\r\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\r\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\r\n        }\r\n\r\n        try {\r\n            BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\r\n            BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\r\n\r\n            filterChain.doFilter(bufferedRequest, bufferedResponse);\r\n\r\n            logRequest(httpServletRequest, bufferedRequest);\r\n            logResponse(httpServletRequest, bufferedResponse);\r\n        } catch (Throwable t) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n    private void logRequest(HttpServletRequest request, BufferedRequestWrapper bufferedRequest) throws IOException {\r\n        String body = bufferedRequest.getRequestBody();\r\n        // Log request\r\n    }\r\n\r\n    private void logResponse(HttpServletRequest httpServletRequest, BufferedResponseWrapper bufferedResponse) {\r\n        // Log response\r\n    }\r\n\r\n    private static final class BufferedRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n        private final byte[] buffer;\r\n\r\n        BufferedRequestWrapper(HttpServletRequest req) throws IOException {\r\n            super(req);\r\n\r\n            if (req.getContentType() == null || (req.getContentType() != null &amp;&amp; !req.getContentType().startsWith(&quot;application/x-www-form-urlencoded&quot;))) {\r\n                // Read InputStream and store its content in a buffer.\r\n                InputStream is = req.getInputStream();\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                byte[] buf = new byte[1024];\r\n                int read;\r\n                while ((read = is.read(buf)) &gt; 0) {\r\n                    baos.write(buf, 0, read);\r\n                }\r\n                this.buffer = baos.toByteArray();\r\n            } else {\r\n                buffer = new byte[0];\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public ServletInputStream getInputStream() {\r\n            return new BufferedServletInputStream(new ByteArrayInputStream(this.buffer));\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;Part&gt; getParts() throws IOException, ServletException {\r\n            return super.getParts();\r\n        }\r\n\r\n        String getRequestBody() throws IOException {\r\n            return IOUtils.readLines(this.getInputStream(), StandardCharsets.UTF_8.name()).stream()\r\n                    .map(String::trim)\r\n                    .collect(Collectors.joining());\r\n        }\r\n    }\r\n\r\n    private static final class BufferedServletInputStream extends ServletInputStream {\r\n\r\n        private final ByteArrayInputStream bais;\r\n\r\n        BufferedServletInputStream(ByteArrayInputStream bais) {\r\n            this.bais = bais;\r\n        }\r\n\r\n        @Override\r\n        public int available() {\r\n            return this.bais.available();\r\n        }\r\n\r\n        @Override\r\n        public int read() {\r\n            return this.bais.read();\r\n        }\r\n\r\n        @Override\r\n        public int read(byte[] buf, int off, int len) {\r\n            return this.bais.read(buf, off, len);\r\n        }\r\n\r\n        @Override\r\n        public boolean isFinished() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void setReadListener(ReadListener readListener) {\r\n\r\n        }\r\n    }\r\n\r\n    public static class TeeServletOutputStream extends ServletOutputStream {\r\n\r\n        private final TeeOutputStream targetStream;\r\n\r\n        TeeServletOutputStream(OutputStream one, OutputStream two) {\r\n            targetStream = new TeeOutputStream(one, two);\r\n        }\r\n\r\n        @Override\r\n        public void write(int arg0) throws IOException {\r\n            this.targetStream.write(arg0);\r\n        }\r\n\r\n        public void flush() throws IOException {\r\n            super.flush();\r\n            this.targetStream.flush();\r\n        }\r\n\r\n        public void close() throws IOException {\r\n            super.close();\r\n            this.targetStream.close();\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void setWriteListener(WriteListener writeListener) {\r\n\r\n        }\r\n    }\r\n\r\n    public class BufferedResponseWrapper implements HttpServletResponse {\r\n\r\n        HttpServletResponse original;\r\n        TeeServletOutputStream tee;\r\n        ByteArrayOutputStream bos;\r\n        @Getter\r\n        Long startTime;\r\n\r\n        BufferedResponseWrapper(HttpServletResponse response) {\r\n            this.original = response;\r\n            this.startTime = System.currentTimeMillis();\r\n        }\r\n\r\n        String getContent() {\r\n            if (bos != null) {\r\n                return bos.toString();\r\n            } else {\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public PrintWriter getWriter() throws IOException {\r\n            return original.getWriter();\r\n        }\r\n\r\n        @Override\r\n        public ServletOutputStream getOutputStream() throws IOException {\r\n            if (tee == null) {\r\n                bos = new ByteArrayOutputStream();\r\n                tee = new TeeServletOutputStream(original.getOutputStream(), bos);\r\n            }\r\n            return tee;\r\n        }\r\n\r\n        @Override\r\n        public String getCharacterEncoding() {\r\n            return original.getCharacterEncoding();\r\n        }\r\n\r\n        @Override\r\n        public void setCharacterEncoding(String charset) {\r\n            original.setCharacterEncoding(charset);\r\n        }\r\n\r\n        @Override\r\n        public String getContentType() {\r\n            return original.getContentType();\r\n        }\r\n\r\n        @Override\r\n        public void setContentType(String type) {\r\n            original.setContentType(type);\r\n        }\r\n\r\n        @Override\r\n        public void setContentLength(int len) {\r\n            original.setContentLength(len);\r\n        }\r\n\r\n        @Override\r\n        public void setContentLengthLong(long l) {\r\n            original.setContentLengthLong(l);\r\n        }\r\n\r\n        @Override\r\n        public int getBufferSize() {\r\n            return original.getBufferSize();\r\n        }\r\n\r\n        @Override\r\n        public void setBufferSize(int size) {\r\n            original.setBufferSize(size);\r\n        }\r\n\r\n        @Override\r\n        public void flushBuffer() throws IOException {\r\n            if (tee != null) {\r\n                tee.flush();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void resetBuffer() {\r\n            original.resetBuffer();\r\n        }\r\n\r\n        @Override\r\n        public boolean isCommitted() {\r\n            return original.isCommitted();\r\n        }\r\n\r\n        @Override\r\n        public void reset() {\r\n            original.reset();\r\n        }\r\n\r\n        @Override\r\n        public Locale getLocale() {\r\n            return original.getLocale();\r\n        }\r\n\r\n        @Override\r\n        public void setLocale(Locale loc) {\r\n            original.setLocale(loc);\r\n        }\r\n\r\n        @Override\r\n        public void addCookie(Cookie cookie) {\r\n            original.addCookie(cookie);\r\n        }\r\n\r\n        @Override\r\n        public boolean containsHeader(String name) {\r\n            return original.containsHeader(name);\r\n        }\r\n\r\n        @Override\r\n        public String encodeURL(String url) {\r\n            return original.encodeURL(url);\r\n        }\r\n\r\n        @Override\r\n        public String encodeRedirectURL(String url) {\r\n            return original.encodeRedirectURL(url);\r\n        }\r\n\r\n        @Override\r\n        public void sendError(int sc, String msg) throws IOException {\r\n            original.sendError(sc, msg);\r\n        }\r\n\r\n        @Override\r\n        public void sendError(int sc) throws IOException {\r\n            original.sendError(sc);\r\n        }\r\n\r\n        @Override\r\n        public void sendRedirect(String location) throws IOException {\r\n            original.sendRedirect(location);\r\n        }\r\n\r\n        @Override\r\n        public void setDateHeader(String name, long date) {\r\n            original.setDateHeader(name, date);\r\n        }\r\n\r\n        @Override\r\n        public void addDateHeader(String name, long date) {\r\n            original.addDateHeader(name, date);\r\n        }\r\n\r\n        @Override\r\n        public void setHeader(String name, String value) {\r\n            original.setHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public void addHeader(String name, String value) {\r\n            original.addHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public void setIntHeader(String name, int value) {\r\n            original.setIntHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public void addIntHeader(String name, int value) {\r\n            original.addIntHeader(name, value);\r\n        }\r\n\r\n        @Override\r\n        public String getHeader(String arg0) {\r\n            return original.getHeader(arg0);\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;String&gt; getHeaderNames() {\r\n            return original.getHeaderNames();\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;String&gt; getHeaders(String arg0) {\r\n            return original.getHeaders(arg0);\r\n        }\r\n\r\n        @Override\r\n        public int getStatus() {\r\n            return original.getStatus();\r\n        }\r\n\r\n        @Override\r\n        public void setStatus(int sc) {\r\n            original.setStatus(sc);\r\n        }\r\n    }\r\n}\r\n````","title":"Spring POST multipart/form-data, request parts always empty","body":"<p>I have a simple REST controller that I use for accepting a file being uploaded from a HTML form. The project is Spring Boot 2.6.1 and Java 17. But the problem was also to be found in Spring Boot 2.3.7 and Java 15.</p>\n<pre><code>@PostMapping(path = &quot;/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic void handleFileUpload(@RequestParam(&quot;file&quot;) MultipartFile file) {\n    fileService.upload(file.getInputStream(), file.getOriginalFilename());\n}\n</code></pre>\n<p>The problem is <code>file</code> is always NULL. I found a lot of different answers about setting a <code>MultipartResolver</code> bean or enabling <code>spring.http.multipart.enabled = true</code> but nothing helped. I have a logging filter as one of the first filters in the chain. After debugging in the filter chain I found out that making a call to <code>request.getParts()</code> made everything work. My filter look like this:</p>\n<pre><code>public class LoggingFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\n\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\n\n        logRequest(httpServletRequest, bufferedRequest);\n        logResponse(httpServletRequest, bufferedResponse);\n    }\n</code></pre>\n<p>I changed the filter to:</p>\n<pre><code>public class LoggingFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\n        }\n\n        BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\n        BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\n\n        filterChain.doFilter(bufferedRequest, bufferedResponse);\n\n        logRequest(httpServletRequest, bufferedRequest);\n        logResponse(httpServletRequest, bufferedResponse);\n    }\n</code></pre>\n<p>and everything was working. My question is; why is this needed? And is there a better way of doing this?</p>\n<p>Below is a complete example where only the actual logging is removed because we use a custom logging framework.</p>\n<pre><code>package com.unwire.ticketing.filter.logging;\n\nimport lombok.Getter;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.io.output.TeeOutputStream;\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.Locale;\nimport java.util.stream.Collectors;\n\npublic class Log extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n        if (request.getContentType() != null &amp;&amp; request.getContentType().startsWith(&quot;multipart/form-data&quot;)) {\n            httpServletRequest.getParts(); // Trigger initialization of multi-part.\n        }\n\n        try {\n            BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(httpServletRequest);\n            BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper((HttpServletResponse) response);\n\n            filterChain.doFilter(bufferedRequest, bufferedResponse);\n\n            logRequest(httpServletRequest, bufferedRequest);\n            logResponse(httpServletRequest, bufferedResponse);\n        } catch (Throwable t) {\n\n        }\n    }\n\n\n    private void logRequest(HttpServletRequest request, BufferedRequestWrapper bufferedRequest) throws IOException {\n        String body = bufferedRequest.getRequestBody();\n        // Log request\n    }\n\n    private void logResponse(HttpServletRequest httpServletRequest, BufferedResponseWrapper bufferedResponse) {\n        // Log response\n    }\n\n    private static final class BufferedRequestWrapper extends HttpServletRequestWrapper {\n\n        private final byte[] buffer;\n\n        BufferedRequestWrapper(HttpServletRequest req) throws IOException {\n            super(req);\n\n            if (req.getContentType() == null || (req.getContentType() != null &amp;&amp; !req.getContentType().startsWith(&quot;application/x-www-form-urlencoded&quot;))) {\n                // Read InputStream and store its content in a buffer.\n                InputStream is = req.getInputStream();\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                byte[] buf = new byte[1024];\n                int read;\n                while ((read = is.read(buf)) &gt; 0) {\n                    baos.write(buf, 0, read);\n                }\n                this.buffer = baos.toByteArray();\n            } else {\n                buffer = new byte[0];\n            }\n        }\n\n        @Override\n        public ServletInputStream getInputStream() {\n            return new BufferedServletInputStream(new ByteArrayInputStream(this.buffer));\n        }\n\n        @Override\n        public Collection&lt;Part&gt; getParts() throws IOException, ServletException {\n            return super.getParts();\n        }\n\n        String getRequestBody() throws IOException {\n            return IOUtils.readLines(this.getInputStream(), StandardCharsets.UTF_8.name()).stream()\n                    .map(String::trim)\n                    .collect(Collectors.joining());\n        }\n    }\n\n    private static final class BufferedServletInputStream extends ServletInputStream {\n\n        private final ByteArrayInputStream bais;\n\n        BufferedServletInputStream(ByteArrayInputStream bais) {\n            this.bais = bais;\n        }\n\n        @Override\n        public int available() {\n            return this.bais.available();\n        }\n\n        @Override\n        public int read() {\n            return this.bais.read();\n        }\n\n        @Override\n        public int read(byte[] buf, int off, int len) {\n            return this.bais.read(buf, off, len);\n        }\n\n        @Override\n        public boolean isFinished() {\n            return false;\n        }\n\n        @Override\n        public boolean isReady() {\n            return true;\n        }\n\n        @Override\n        public void setReadListener(ReadListener readListener) {\n\n        }\n    }\n\n    public static class TeeServletOutputStream extends ServletOutputStream {\n\n        private final TeeOutputStream targetStream;\n\n        TeeServletOutputStream(OutputStream one, OutputStream two) {\n            targetStream = new TeeOutputStream(one, two);\n        }\n\n        @Override\n        public void write(int arg0) throws IOException {\n            this.targetStream.write(arg0);\n        }\n\n        public void flush() throws IOException {\n            super.flush();\n            this.targetStream.flush();\n        }\n\n        public void close() throws IOException {\n            super.close();\n            this.targetStream.close();\n        }\n\n        @Override\n        public boolean isReady() {\n            return false;\n        }\n\n        @Override\n        public void setWriteListener(WriteListener writeListener) {\n\n        }\n    }\n\n    public class BufferedResponseWrapper implements HttpServletResponse {\n\n        HttpServletResponse original;\n        TeeServletOutputStream tee;\n        ByteArrayOutputStream bos;\n        @Getter\n        Long startTime;\n\n        BufferedResponseWrapper(HttpServletResponse response) {\n            this.original = response;\n            this.startTime = System.currentTimeMillis();\n        }\n\n        String getContent() {\n            if (bos != null) {\n                return bos.toString();\n            } else {\n                return &quot;&quot;;\n            }\n        }\n\n        @Override\n        public PrintWriter getWriter() throws IOException {\n            return original.getWriter();\n        }\n\n        @Override\n        public ServletOutputStream getOutputStream() throws IOException {\n            if (tee == null) {\n                bos = new ByteArrayOutputStream();\n                tee = new TeeServletOutputStream(original.getOutputStream(), bos);\n            }\n            return tee;\n        }\n\n        @Override\n        public String getCharacterEncoding() {\n            return original.getCharacterEncoding();\n        }\n\n        @Override\n        public void setCharacterEncoding(String charset) {\n            original.setCharacterEncoding(charset);\n        }\n\n        @Override\n        public String getContentType() {\n            return original.getContentType();\n        }\n\n        @Override\n        public void setContentType(String type) {\n            original.setContentType(type);\n        }\n\n        @Override\n        public void setContentLength(int len) {\n            original.setContentLength(len);\n        }\n\n        @Override\n        public void setContentLengthLong(long l) {\n            original.setContentLengthLong(l);\n        }\n\n        @Override\n        public int getBufferSize() {\n            return original.getBufferSize();\n        }\n\n        @Override\n        public void setBufferSize(int size) {\n            original.setBufferSize(size);\n        }\n\n        @Override\n        public void flushBuffer() throws IOException {\n            if (tee != null) {\n                tee.flush();\n            }\n        }\n\n        @Override\n        public void resetBuffer() {\n            original.resetBuffer();\n        }\n\n        @Override\n        public boolean isCommitted() {\n            return original.isCommitted();\n        }\n\n        @Override\n        public void reset() {\n            original.reset();\n        }\n\n        @Override\n        public Locale getLocale() {\n            return original.getLocale();\n        }\n\n        @Override\n        public void setLocale(Locale loc) {\n            original.setLocale(loc);\n        }\n\n        @Override\n        public void addCookie(Cookie cookie) {\n            original.addCookie(cookie);\n        }\n\n        @Override\n        public boolean containsHeader(String name) {\n            return original.containsHeader(name);\n        }\n\n        @Override\n        public String encodeURL(String url) {\n            return original.encodeURL(url);\n        }\n\n        @Override\n        public String encodeRedirectURL(String url) {\n            return original.encodeRedirectURL(url);\n        }\n\n        @Override\n        public void sendError(int sc, String msg) throws IOException {\n            original.sendError(sc, msg);\n        }\n\n        @Override\n        public void sendError(int sc) throws IOException {\n            original.sendError(sc);\n        }\n\n        @Override\n        public void sendRedirect(String location) throws IOException {\n            original.sendRedirect(location);\n        }\n\n        @Override\n        public void setDateHeader(String name, long date) {\n            original.setDateHeader(name, date);\n        }\n\n        @Override\n        public void addDateHeader(String name, long date) {\n            original.addDateHeader(name, date);\n        }\n\n        @Override\n        public void setHeader(String name, String value) {\n            original.setHeader(name, value);\n        }\n\n        @Override\n        public void addHeader(String name, String value) {\n            original.addHeader(name, value);\n        }\n\n        @Override\n        public void setIntHeader(String name, int value) {\n            original.setIntHeader(name, value);\n        }\n\n        @Override\n        public void addIntHeader(String name, int value) {\n            original.addIntHeader(name, value);\n        }\n\n        @Override\n        public String getHeader(String arg0) {\n            return original.getHeader(arg0);\n        }\n\n        @Override\n        public Collection&lt;String&gt; getHeaderNames() {\n            return original.getHeaderNames();\n        }\n\n        @Override\n        public Collection&lt;String&gt; getHeaders(String arg0) {\n            return original.getHeaders(arg0);\n        }\n\n        @Override\n        public int getStatus() {\n            return original.getStatus();\n        }\n\n        @Override\n        public void setStatus(int sc) {\n            original.setStatus(sc);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":27227504,"reputation":171,"user_id":20755786,"display_name":"Ariczek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684389,"creation_date":1685684389,"answer_id":76387400,"question_id":76387378,"body_markdown":"You can list the connected devices via `adb` command\r\n\r\n    adb devices\r\n\r\nand then choose the one using `-s`. See https://developer.android.com/tools/adb#directingcommands","title":"Why is Logcat not showing logs for my physical device but showing logs for the emulator in Android Studio?","body":"<p>You can list the connected devices via <code>adb</code> command</p>\n<pre><code>adb devices\n</code></pre>\n<p>and then choose the one using <code>-s</code>. See <a href=\"https://developer.android.com/tools/adb#directingcommands\" rel=\"nofollow noreferrer\">https://developer.android.com/tools/adb#directingcommands</a></p>\n"},{"tags":[],"owner":{"account_id":11163581,"reputation":1050,"user_id":8192914,"display_name":"ganjaam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685687060,"creation_date":1685687060,"answer_id":76387621,"question_id":76387378,"body_markdown":"Make sure you&#39;ve selected the physical device from the logcat&#39;s dropdown.\r\n\r\n[![Logcat][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKEX8.png","title":"Why is Logcat not showing logs for my physical device but showing logs for the emulator in Android Studio?","body":"<p>Make sure you've selected the physical device from the logcat's dropdown.</p>\n<p><a href=\"https://i.stack.imgur.com/BKEX8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKEX8.png\" alt=\"Logcat\" /></a></p>\n"}],"owner":{"account_id":28733444,"reputation":1,"user_id":22004900,"display_name":"Peerzada Mubasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685687060,"creation_date":1685683990,"question_id":76387378,"body_markdown":"I am unable to find logs in Logcat when I try to log on physical device but when I try to log on Emulator the Logs are completely visible.\r\n\r\nI tried INVALIDATE CACHES removed and connected the device again and again and all the possible solutions. But nothing is working for me.\r\n\r\nNow I am expecting to get a desired solution for this issue.","title":"Why is Logcat not showing logs for my physical device but showing logs for the emulator in Android Studio?","body":"<p>I am unable to find logs in Logcat when I try to log on physical device but when I try to log on Emulator the Logs are completely visible.</p>\n<p>I tried INVALIDATE CACHES removed and connected the device again and again and all the possible solutions. But nothing is working for me.</p>\n<p>Now I am expecting to get a desired solution for this issue.</p>\n"},{"tags":["java","android-studio","oop","interface","android-alertdialog"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685687835,"post_id":76387526,"comment_id":134698519,"body_markdown":"Is this all about the two buttons (`&quot;reset&quot;` and `&quot;scan&quot;`) or are you talking about dialog events, like *On Cancel* which you can listen to with an [`OnCancelListener`](https://developer.android.com/studio/write/java8-support-table)?","body":"Is this all about the two buttons (<code>&quot;reset&quot;</code> and <code>&quot;scan&quot;</code>) or are you talking about dialog events, like <i>On Cancel</i> which you can listen to with an <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\"><code>OnCancelListener</code></a>?"},{"owner":{"account_id":26351995,"reputation":26,"user_id":20009474,"display_name":"Xiang"},"score":0,"creation_date":1685688169,"post_id":76387526,"comment_id":134698573,"body_markdown":"Yes,About two buttons,but I need different buttons tag name and event.","body":"Yes,About two buttons,but I need different buttons tag name and event."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685688532,"post_id":76387526,"comment_id":134698638,"body_markdown":"Apart from the neutral button and some other options, you can build a [custom layout for an `AlertDialog`](https://developer.android.com/develop/ui/views/components/dialogs#CustomLayout). I think that&#39;s the most appropriate way to have a dialog with more than 2 or three buttons.","body":"Apart from the neutral button and some other options, you can build a <a href=\"https://developer.android.com/develop/ui/views/components/dialogs#CustomLayout\" rel=\"nofollow noreferrer\">custom layout for an <code>AlertDialog</code></a>. I think that&#39;s the most appropriate way to have a dialog with more than 2 or three buttons."},{"owner":{"account_id":26351995,"reputation":26,"user_id":20009474,"display_name":"Xiang"},"score":0,"creation_date":1685688554,"post_id":76387526,"comment_id":134698643,"body_markdown":"To put it simply, when the user encounters situations A and B, button 1, button 2, button 3, and button 4 will appear respectively, and have their own independent events, but if I have 10 dialog boxes, do I have to repeat them 10 times? ?Is there any way to integrate","body":"To put it simply, when the user encounters situations A and B, button 1, button 2, button 3, and button 4 will appear respectively, and have their own independent events, but if I have 10 dialog boxes, do I have to repeat them 10 times? ?Is there any way to integrate"}],"owner":{"account_id":26351995,"reputation":26,"user_id":20009474,"display_name":"Xiang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685686130,"creation_date":1685685932,"question_id":76387526,"body_markdown":"I hava some question in Code Design Pattern. I want to use OOP desgin to my code. but I don&#39;t how to use that...\r\n\r\nExample:\r\n\r\nI need a public AlertDialog,but I always use public funtion,likes:\r\n\r\n```\r\npublic void ShowMsgDialog(String title,String msg)\r\n    {\r\n\r\n        AlertDialog.Builder MyAlertDialog = new AlertDialog.Builder(getActivity());\r\n        MyAlertDialog.setTitle(title);\r\n        MyAlertDialog.setMessage(msg);\r\n\r\n\r\n        \r\n        MyAlertDialog.setCancelable(false)\r\n                .setPositiveButton(&quot;reset&quot;, (dialog, id) -&gt; {\r\n\r\n                    dialog.cancel();\r\n                    txt_PlateNumber.setEnabled(true);\r\n                    txt_Quantity.setEnabled(true);\r\n                    btn_bring.setEnabled(true);\r\n\r\n                })\r\n                .setNegativeButton(&quot;scan&quot;, (dialog, id) -&gt; {\r\n                    txt_PlateNumber.setEnabled(false);\r\n                    txt_Quantity.setEnabled(false);\r\n                    btn_bring.setEnabled(false);\r\n                    dialog.cancel();\r\n                    UnLockCamera();\r\n                });\r\n\r\n        MyAlertDialog.show();\r\n\r\n\r\n    }\r\n```\r\n\r\nif I need different event after click,I must make a new function,lead me to have a lot of very similar code...So there is a way to achieve interface a dialog and add different click event? or any better suggestion.\r\nplease give me some simple example...Thank you so much\r\n\r\nI try use public funtion,but lead me have a bad code","title":"Abount Java Code Design Pattern - Android studio","body":"<p>I hava some question in Code Design Pattern. I want to use OOP desgin to my code. but I don't how to use that...</p>\n<p>Example:</p>\n<p>I need a public AlertDialog,but I always use public funtion,likes:</p>\n<pre><code>public void ShowMsgDialog(String title,String msg)\n    {\n\n        AlertDialog.Builder MyAlertDialog = new AlertDialog.Builder(getActivity());\n        MyAlertDialog.setTitle(title);\n        MyAlertDialog.setMessage(msg);\n\n\n        \n        MyAlertDialog.setCancelable(false)\n                .setPositiveButton(&quot;reset&quot;, (dialog, id) -&gt; {\n\n                    dialog.cancel();\n                    txt_PlateNumber.setEnabled(true);\n                    txt_Quantity.setEnabled(true);\n                    btn_bring.setEnabled(true);\n\n                })\n                .setNegativeButton(&quot;scan&quot;, (dialog, id) -&gt; {\n                    txt_PlateNumber.setEnabled(false);\n                    txt_Quantity.setEnabled(false);\n                    btn_bring.setEnabled(false);\n                    dialog.cancel();\n                    UnLockCamera();\n                });\n\n        MyAlertDialog.show();\n\n\n    }\n</code></pre>\n<p>if I need different event after click,I must make a new function,lead me to have a lot of very similar code...So there is a way to achieve interface a dialog and add different click event? or any better suggestion.\nplease give me some simple example...Thank you so much</p>\n<p>I try use public funtion,but lead me have a bad code</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3122250,"reputation":3155,"user_id":2641792,"accept_rate":60,"display_name":"mdDroid"},"score":0,"creation_date":1464253922,"post_id":37456215,"comment_id":62412796,"body_markdown":"Can you paste activity or fragment code in which you are using that dialog","body":"Can you paste activity or fragment code in which you are using that dialog"}],"answers":[{"comments":[{"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"score":1,"creation_date":1464254622,"post_id":37456449,"comment_id":62413275,"body_markdown":"I need only an input instance of type Edittext declared at class level","body":"I need only an input instance of type Edittext declared at class level"},{"owner":{"account_id":6774202,"reputation":2707,"user_id":5216567,"display_name":"dieter_h"},"score":0,"creation_date":1464254979,"post_id":37456449,"comment_id":62413537,"body_markdown":"[Generating EditText programatically](http://stackoverflow.com/questions/12985825/generating-edit-text-programatically-in-android)","body":"<a href=\"http://stackoverflow.com/questions/12985825/generating-edit-text-programatically-in-android\">Generating EditText programatically</a>"},{"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"score":0,"creation_date":1464258466,"post_id":37456449,"comment_id":62415820,"body_markdown":"but you have to place a check if the view is null or not null","body":"but you have to place a check if the view is null or not null"}],"tags":[],"owner":{"account_id":6774202,"reputation":2707,"user_id":5216567,"display_name":"dieter_h"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1464253971,"creation_date":1464253971,"answer_id":37456449,"question_id":37456215,"body_markdown":"The problem is on this line:\r\n`alert.setView(input);`\r\nYou added `input` `View` that have already `parent`.\r\nCreate new `input` instance.","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>The problem is on this line:\n<code>alert.setView(input);</code>\nYou added <code>input</code> <code>View</code> that have already <code>parent</code>.\nCreate new <code>input</code> instance.</p>\n"},{"comments":[{"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"score":0,"creation_date":1464254617,"post_id":37456484,"comment_id":62413270,"body_markdown":"the input is actually a textfield. so on removing the user will have field to input data","body":"the input is actually a textfield. so on removing the user will have field to input data"},{"owner":{"account_id":3122250,"reputation":3155,"user_id":2641792,"accept_rate":60,"display_name":"mdDroid"},"score":0,"creation_date":1464254664,"post_id":37456484,"comment_id":62413313,"body_markdown":"Dialog is in fragment or in activity","body":"Dialog is in fragment or in activity"},{"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"score":0,"creation_date":1464254782,"post_id":37456484,"comment_id":62413414,"body_markdown":"input is a reference to Edittext","body":"input is a reference to Edittext"},{"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"score":0,"creation_date":1464255586,"post_id":37456484,"comment_id":62413949,"body_markdown":"I have to modify my code. Because I cant find the code","body":"I have to modify my code. Because I cant find the code"},{"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"score":0,"creation_date":1464255660,"post_id":37456484,"comment_id":62414007,"body_markdown":"So where will I now use this handle alerd","body":"So where will I now use this handle alerd"}],"tags":[],"owner":{"account_id":3122250,"reputation":3155,"user_id":2641792,"accept_rate":60,"display_name":"mdDroid"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464255477,"creation_date":1464254069,"answer_id":37456484,"question_id":37456215,"body_markdown":"Put following line\r\n\r\n     final AlertDialog alertd = alert.create();\r\n\r\nAfter\r\n\r\n     AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>Put following line</p>\n\n<pre><code> final AlertDialog alertd = alert.create();\n</code></pre>\n\n<p>After</p>\n\n<pre><code> AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10440379,"reputation":2401,"user_id":7697233,"accept_rate":78,"display_name":"Xianwei"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1525734055,"creation_date":1525734055,"answer_id":50223589,"question_id":37456215,"body_markdown":"according to this [post][1], add this check to remove input from it&#39;s parent and readd it:     \r\n\r\n    if(input.getParent()!=null)\r\n            ((ViewGroup)input.getParent()).removeView(input); // &lt;- fix\r\n        alert.addView(input);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28071349/the-specified-child-already-has-a-parent-you-must-call-removeview-on-the-chil","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>according to this <a href=\"https://stackoverflow.com/questions/28071349/the-specified-child-already-has-a-parent-you-must-call-removeview-on-the-chil\">post</a>, add this check to remove input from it's parent and readd it:     </p>\n\n<pre><code>if(input.getParent()!=null)\n        ((ViewGroup)input.getParent()).removeView(input); // &lt;- fix\n    alert.addView(input);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476158,"reputation":79,"user_id":1386502,"display_name":"Emad Easa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680489554,"creation_date":1604837032,"answer_id":64737841,"question_id":37456215,"body_markdown":"Following situation can also happen (happened to me):\r\n\r\nSometimes when you use a listview you initialize it with an adapter, which belongs to a certain layout. Now lets say the root view of this layout file is a `&lt;LinearLayout&gt;` with the id &quot;root_view&quot;.\r\n\r\nIf you register now for a context menu in your activity and create an `AlerdDialog.Builder` which appears after choosing a certain menu element and initialize it with a layout file, which also has a root element with an id called &quot;root_view&quot; where all elements which belong to your `AlertDialog` are children of it, then those elements &quot;will not be found&quot;. You will not be able to access those elements with `findViewById`, instead you can only access the elements from the `&lt;LinearLayout&gt;` of your list view and you get the same error message at the line where you call `builder.show()` (or in the case here `alert.show()`).\r\n\r\nSo generally it is a good idea to name the ids of your elements in the layout files uniquely, for your project.","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>Following situation can also happen (happened to me):</p>\n<p>Sometimes when you use a listview you initialize it with an adapter, which belongs to a certain layout. Now lets say the root view of this layout file is a <code>&lt;LinearLayout&gt;</code> with the id &quot;root_view&quot;.</p>\n<p>If you register now for a context menu in your activity and create an <code>AlerdDialog.Builder</code> which appears after choosing a certain menu element and initialize it with a layout file, which also has a root element with an id called &quot;root_view&quot; where all elements which belong to your <code>AlertDialog</code> are children of it, then those elements &quot;will not be found&quot;. You will not be able to access those elements with <code>findViewById</code>, instead you can only access the elements from the <code>&lt;LinearLayout&gt;</code> of your list view and you get the same error message at the line where you call <code>builder.show()</code> (or in the case here <code>alert.show()</code>).</p>\n<p>So generally it is a good idea to name the ids of your elements in the layout files uniquely, for your project.</p>\n"},{"tags":[],"owner":{"account_id":324349,"reputation":147,"user_id":644874,"accept_rate":40,"display_name":"yoyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638208790,"creation_date":1638207689,"answer_id":70158991,"question_id":37456215,"body_markdown":"I forgot to call `create()` on the `AlertDialog.Builder`. When you call `show()` without calling the `create()` method, the `AlertDialog` instance gets created. This worked the first time but then subsequent clicks got the `IllegalStateException`. As I was calling `show()` inside of my `onClickListener`, it was going to create a new `AlertDialog` instance every time button was clicked.","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>I forgot to call <code>create()</code> on the <code>AlertDialog.Builder</code>. When you call <code>show()</code> without calling the <code>create()</code> method, the <code>AlertDialog</code> instance gets created. This worked the first time but then subsequent clicks got the <code>IllegalStateException</code>. As I was calling <code>show()</code> inside of my <code>onClickListener</code>, it was going to create a new <code>AlertDialog</code> instance every time button was clicked.</p>\n"},{"tags":[],"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684635,"creation_date":1685684635,"answer_id":76387418,"question_id":37456215,"body_markdown":"Add this line at start\r\n\r\n    View dialog_view= getLayoutInflater().inflate(R.layout.dialog_view, null);\r\n    TextInputEditText input = dialog_view.findViewById(R.id.input);\r\n\r\nbefore \r\n\r\n    AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\r\n\r\nthat way a new instance of input is created and avoid the problem","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>Add this line at start</p>\n<pre><code>View dialog_view= getLayoutInflater().inflate(R.layout.dialog_view, null);\nTextInputEditText input = dialog_view.findViewById(R.id.input);\n</code></pre>\n<p>before</p>\n<pre><code>AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\n</code></pre>\n<p>that way a new instance of input is created and avoid the problem</p>\n"}],"owner":{"account_id":6819034,"reputation":2289,"user_id":5246735,"accept_rate":49,"display_name":"Blaze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22388,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":37456449,"answer_count":6,"score":25,"last_activity_date":1685684635,"creation_date":1464253372,"question_id":37456215,"body_markdown":"After a check demanding the user to switch on internet services and I try to click on a button my app crashes with the error message\r\n\r\n    java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n\r\nOn this line it crashes, I have tried doing this but not resolved absolutely\r\n\r\n    if(alert.getContext() != null){\r\n    \t\t\talert.show();\r\n    \t\t}\r\n\r\nThis is the complete code\r\n\r\n \r\n\r\n    else if (id == R.id.xyz) {\r\n    \t\t\t\r\n    \t\t\t//startActivity(borrowIntent);\r\n    \t\t\tAlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\r\n    \t\t\talert.setTitle(&quot;xyz&quot;);\r\n    \t\t\tinput.setFilters(new InputFilter[] {\r\n    \t\t\t\t    // Maximum 2 characters.\r\n    \t\t\t\t    new InputFilter.LengthFilter(6),\r\n    \t\t\t\t    // Digits only.\r\n    \t\t\t\t    DigitsKeyListener.getInstance(), \r\n    \t\t\t\t});\r\n    \t\t\t// Digits only &amp; use numeric soft-keyboard.\r\n    \t\t\tinput.setKeyListener(DigitsKeyListener.getInstance());\r\n    \t\t\tinput.setHint(&quot;xyz&quot;);\r\n    \t\t\talert.setView(input);\r\n    \t\t\talert.setPositiveButton(&quot;Borrow&quot;, new DialogInterface.OnClickListener() {\r\n    \t\t\tpublic void onClick(DialogInterface dialog, int whichButton) {\r\n    \t\t\t\tif(input.getText().length() == 0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tinput.setError(&quot;xyz is required !&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\t\r\n    \t\t\t       if(isNetworkAvailable())\r\n    \t\t\t\t      {\r\n    \t\t\t\t\t\t xyz( input.getText().toString());\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t      }else{\r\n    \t\t\t\t    \t  \r\n    \t\t\t\t\t  \t\t//setContentView(R.layout.main);\r\n    \t\t\t\t\t  \t\t\r\n    \t\t\t\t\t  \t\tAlertDialog.Builder builder = new AlertDialog.Builder(\r\n    \t\t\t\t\t      \t\t\tMainActivity.this);\r\n    \t\t\t\t\t          builder.setCancelable(false);\r\n    \t\t\t\t\t          builder.setTitle(&quot;xyz&quot;);\r\n    \t\t\t\t\t          builder.setMessage(&quot;Please enable wifi services&quot;);\r\n    \t\t\t\t\t          builder.setInverseBackgroundForced(true);\r\n    \t\t\t\t\t          builder.setPositiveButton(&quot;Ok&quot;,\r\n    \t\t\t\t\t                  new DialogInterface.OnClickListener() {\r\n    \t\t\t\t\t                      @Override\r\n    \t\t\t\t\t                      public void onClick(DialogInterface dialog,\r\n    \t\t\t\t\t                              int which) {\r\n    \t\t\t\t\t                    \t  \r\n    \t\t\t\t\t                    \t  startActivityForResult(new Intent(android.provider.Settings.ACTION_SETTINGS), 0);\r\n    \t\t\t\t\t                    \t  dialog.dismiss();\r\n    \t\t\t\t\t                    \t  \r\n    \t\t\t\t\t                    \t\r\n    \t\t\t\t\t                      }\r\n    \t\t\t\t\t                  });\r\n    \t\t\t\t\t          AlertDialog alerts = builder.create();\r\n    \t\t\t\t\t          alerts.show();\r\n    \t\t\t\t\t       }//end of block\r\n    \t\t\t       \r\n    \t\t\t\t  \t\t}\r\n    \t\t\t  }\r\n    \t\t\t});\r\n    \t\t\talert.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n    \t\t\t  public void onClick(DialogInterface dialog, int whichButton) {\r\n    \t\t\t    // Canceled.\r\n    \t\t\t  }\r\n    \t\t\t});\r\n    \t\t\tif(alert.getContext() != null){\r\n    \t\t\talert.show(); //crashes at this line\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nPlease what am I missing?","title":"dialog - The specified child already has a parent. You must call removeView() on the child&#39;s parent first","body":"<p>After a check demanding the user to switch on internet services and I try to click on a button my app crashes with the error message</p>\n\n<pre><code>java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n</code></pre>\n\n<p>On this line it crashes, I have tried doing this but not resolved absolutely</p>\n\n<pre><code>if(alert.getContext() != null){\n            alert.show();\n        }\n</code></pre>\n\n<p>This is the complete code</p>\n\n<pre><code>else if (id == R.id.xyz) {\n\n            //startActivity(borrowIntent);\n            AlertDialog.Builder alert = new AlertDialog.Builder(MainActivity.this);\n            alert.setTitle(\"xyz\");\n            input.setFilters(new InputFilter[] {\n                    // Maximum 2 characters.\n                    new InputFilter.LengthFilter(6),\n                    // Digits only.\n                    DigitsKeyListener.getInstance(), \n                });\n            // Digits only &amp; use numeric soft-keyboard.\n            input.setKeyListener(DigitsKeyListener.getInstance());\n            input.setHint(\"xyz\");\n            alert.setView(input);\n            alert.setPositiveButton(\"Borrow\", new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n                if(input.getText().length() == 0)\n                {\n                    input.setError(\"xyz is required !\");\n                }\n                else\n                {\n\n                   if(isNetworkAvailable())\n                      {\n                         xyz( input.getText().toString());\n\n                      }else{\n\n                            //setContentView(R.layout.main);\n\n                            AlertDialog.Builder builder = new AlertDialog.Builder(\n                                    MainActivity.this);\n                              builder.setCancelable(false);\n                              builder.setTitle(\"xyz\");\n                              builder.setMessage(\"Please enable wifi services\");\n                              builder.setInverseBackgroundForced(true);\n                              builder.setPositiveButton(\"Ok\",\n                                      new DialogInterface.OnClickListener() {\n                                          @Override\n                                          public void onClick(DialogInterface dialog,\n                                                  int which) {\n\n                                              startActivityForResult(new Intent(android.provider.Settings.ACTION_SETTINGS), 0);\n                                              dialog.dismiss();\n\n\n                                          }\n                                      });\n                              AlertDialog alerts = builder.create();\n                              alerts.show();\n                           }//end of block\n\n                        }\n              }\n            });\n            alert.setNegativeButton(\"Cancel\", new DialogInterface.OnClickListener() {\n              public void onClick(DialogInterface dialog, int whichButton) {\n                // Canceled.\n              }\n            });\n            if(alert.getContext() != null){\n            alert.show(); //crashes at this line\n            }\n        }\n</code></pre>\n\n<p>Please what am I missing?</p>\n"},{"tags":["java","networking","frameworks","webserver","nio"],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301684235,"creation_date":1301684235,"answer_id":5517628,"question_id":5517442,"body_markdown":"IMHO, the advantage of Tomcat exists when you are dealing with HTTP. For HTTP I would use Tomcat as it simplifies a lot of things, but for pure TCP I see no advantage so I would recommend using more simple methods.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>IMHO, the advantage of Tomcat exists when you are dealing with HTTP. For HTTP I would use Tomcat as it simplifies a lot of things, but for pure TCP I see no advantage so I would recommend using more simple methods.</p>\n"},{"tags":[],"owner":{"account_id":351630,"reputation":11,"user_id":688229,"display_name":"user688229"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301689518,"creation_date":1301689518,"answer_id":5518443,"question_id":5517442,"body_markdown":"Tomcat is traditionally used with Java Servlets and HTTP. If you are building a web application using Java then Tomcat is the way to go. If you simply want to comunicate using TCP/IP between two programs then it would probably be easier to use a network framework.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Tomcat is traditionally used with Java Servlets and HTTP. If you are building a web application using Java then Tomcat is the way to go. If you simply want to comunicate using TCP/IP between two programs then it would probably be easier to use a network framework.</p>\n"},{"comments":[{"owner":{"account_id":256358,"reputation":1875,"user_id":537028,"accept_rate":100,"display_name":"chamakits"},"score":1,"creation_date":1301724965,"post_id":5518805,"comment_id":6271223,"body_markdown":"&quot;Data would suggest that Java NIO scales better, JBOSS maintains and uses it now.&quot;\n\nThis interests me.  Could you point me to some reading material regarding this better scalability?","body":"&quot;Data would suggest that Java NIO scales better, JBOSS maintains and uses it now.&quot;  This interests me.  Could you point me to some reading material regarding this better scalability?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1301766068,"post_id":5518805,"comment_id":6275433,"body_markdown":"Maybe Googling for &quot;java nio scalability&quot; will give you things like this: http://javanio.info/filearea/nioserver/NIOServerMark2.pdf","body":"Maybe Googling for &quot;java nio scalability&quot; will give you things like this: <a href=\"http://javanio.info/filearea/nioserver/NIOServerMark2.pdf\" rel=\"nofollow noreferrer\">javanio.info/filearea/nioserver/NIOServerMark2.pdf</a>"},{"owner":{"account_id":2450087,"reputation":639,"user_id":2296615,"accept_rate":75,"display_name":"Hal50000"},"score":1,"creation_date":1458930034,"post_id":5518805,"comment_id":60082261,"body_markdown":"This shouldn&#39;t be the accepted answer. As noted below, Tomcat has been able to use the NIO connector for years. Tomcat is a superset that has no need to use Netty. Tomcat performance is likely the best among Java EE servlet containers.","body":"This shouldn&#39;t be the accepted answer. As noted below, Tomcat has been able to use the NIO connector for years. Tomcat is a superset that has no need to use Netty. Tomcat performance is likely the best among Java EE servlet containers."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1301691601,"creation_date":1301691601,"answer_id":5518805,"question_id":5517442,"body_markdown":"I think history sheds some light on the answer.\r\n\r\nTomcat predates Java NIO by many years.  The thinking at the time that a queue for incoming requests and a pool of threads, one thread per request was best.\r\n\r\nData would suggest that Java NIO scales better,  JBOSS maintains and uses it now.\r\n\r\nI would not be surprised to learn that Tomcat was being refactored to use Netty.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>I think history sheds some light on the answer.</p>\n\n<p>Tomcat predates Java NIO by many years.  The thinking at the time that a queue for incoming requests and a pool of threads, one thread per request was best.</p>\n\n<p>Data would suggest that Java NIO scales better,  JBOSS maintains and uses it now.</p>\n\n<p>I would not be surprised to learn that Tomcat was being refactored to use Netty.</p>\n"},{"tags":[],"owner":{"account_id":118803,"reputation":2451,"user_id":310092,"display_name":"mezmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301692955,"creation_date":1301692955,"answer_id":5519027,"question_id":5517442,"body_markdown":"Tomcat itself has been able to use NIO since the release of version 6, with the NIO connector. So, NIO goodness, and Tomcat been beat up all over the place solidarity. [I know which one I&#39;m choosing.][1] ;)\r\n\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/config/http.html","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Tomcat itself has been able to use NIO since the release of version 6, with the NIO connector. So, NIO goodness, and Tomcat been beat up all over the place solidarity. <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow\">I know which one I'm choosing.</a> ;)</p>\n"},{"comments":[{"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"score":0,"creation_date":1653655325,"post_id":72404627,"comment_id":127909451,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72404627/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22365347,"reputation":1,"user_id":16581238,"display_name":"yuan yuan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653650496,"creation_date":1653650496,"answer_id":72404627,"question_id":5517442,"body_markdown":"Actually, this is should be closed. Tomcat has supported NIO for years, there is no need to talk about it now.","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Actually, this is should be closed. Tomcat has supported NIO for years, there is no need to talk about it now.</p>\n"},{"tags":[],"owner":{"account_id":28733409,"reputation":1,"user_id":22004871,"display_name":"Reno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685684316,"creation_date":1685684316,"answer_id":76387396,"question_id":5517442,"body_markdown":"Implement a customized Server with Java Nio and and change the message structure a little bit then you can deal with all kinds of requests and responses.\r\n[using-java-nio-socket-as-the-underlying-foundation-similar-to-tomcat][1]\r\n\r\n\r\n  [1]: http://jpfans365.com/2023/05/28/using-java-nio-socket-as-the-underlying-foundation-manually-parse-http-requests-and-responses-and-implement-a-customized-server-similar-to-tomcat-1/","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Implement a customized Server with Java Nio and and change the message structure a little bit then you can deal with all kinds of requests and responses.\n<a href=\"http://jpfans365.com/2023/05/28/using-java-nio-socket-as-the-underlying-foundation-manually-parse-http-requests-and-responses-and-implement-a-customized-server-similar-to-tomcat-1/\" rel=\"nofollow noreferrer\">using-java-nio-socket-as-the-underlying-foundation-similar-to-tomcat</a></p>\n"}],"owner":{"account_id":256358,"reputation":1875,"user_id":537028,"accept_rate":100,"display_name":"chamakits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5557,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5518805,"answer_count":6,"score":2,"last_activity_date":1685684316,"creation_date":1301683077,"question_id":5517442,"body_markdown":"Currently for a class, I&#39;m implementing a server which receives two types of connections, using TCP, and a custom application layer protocol.  Though for the class, this is how the project needs to be done, I was wondering about the advantages/disadvantages of using something like Tomcat or a similar web server to receive all incoming communication, vs. using Java&#39;s NIO or a networking framework like Mina (which I&#39;m using) or Netty (which I want to play around with at some point).\r\n\r\nThough I&#39;m asking about Java (because it&#39;s what I&#39;m most comfortable with) specifically, you are more than welcome to expand this to any other languages.\r\n\r\nI&#39;m looking for comments on performance, ease of use, scalability (both in how well it scales development wise and usage wise), security, and any other base you think you may put information on.\r\n\r\nAnyways, any input would be greatly appreciated.\r\n\r\nRegards,\r\nOmar Ferrer","title":"Tomcat/web server vs. Java NIO/Networking Framework","body":"<p>Currently for a class, I'm implementing a server which receives two types of connections, using TCP, and a custom application layer protocol.  Though for the class, this is how the project needs to be done, I was wondering about the advantages/disadvantages of using something like Tomcat or a similar web server to receive all incoming communication, vs. using Java's NIO or a networking framework like Mina (which I'm using) or Netty (which I want to play around with at some point).</p>\n\n<p>Though I'm asking about Java (because it's what I'm most comfortable with) specifically, you are more than welcome to expand this to any other languages.</p>\n\n<p>I'm looking for comments on performance, ease of use, scalability (both in how well it scales development wise and usage wise), security, and any other base you think you may put information on.</p>\n\n<p>Anyways, any input would be greatly appreciated.</p>\n\n<p>Regards,\nOmar Ferrer</p>\n"},{"tags":["java","android"],"owner":{"account_id":14448710,"reputation":1,"user_id":10436982,"display_name":"Paresh Kamble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685683631,"creation_date":1685683631,"question_id":76387352,"body_markdown":"I have two RecycleViews, one for pinning sessions and one for unpinning sessions. When I load the session data first set the data to the pinning recyclerview and then set the data to the unpinned recyclerview.\r\nI want to set the data on the recyclerview as lazy type so that the user should get the feeling that both the Recyclerviews are setting one by one record at a time.\r\nSo how to do that?","title":"How to lazily set data on two RecyclerViews, so that the user thinks both RecyclerViews are setting records one at a time?","body":"<p>I have two RecycleViews, one for pinning sessions and one for unpinning sessions. When I load the session data first set the data to the pinning recyclerview and then set the data to the unpinned recyclerview.\nI want to set the data on the recyclerview as lazy type so that the user should get the feeling that both the Recyclerviews are setting one by one record at a time.\nSo how to do that?</p>\n"},{"tags":["java","authentication","ssl","keycloak","activemq-artemis"],"comments":[{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1684922952,"post_id":76302055,"comment_id":134587308,"body_markdown":"I suspect your keystore/truststore file or password are invalid, could you validate them with keytool?","body":"I suspect your keystore/truststore file or password are invalid, could you validate them with keytool?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1684924261,"post_id":76302055,"comment_id":134587565,"body_markdown":"I checked the keystore/truststore using ```keytool -list -v -keystore your_keystore_file```. And also replicated the scenario locally. Created keystore/truststore using this [commands](https://github.com/apache/activemq-artemis/tree/main/examples/features/standard/ssl-enabled#jms-ssl-example). Still having the same issue","body":"I checked the keystore/truststore using <code>keytool -list -v -keystore your_keystore_file</code>. And also replicated the scenario locally. Created keystore/truststore using this <a href=\"https://github.com/apache/activemq-artemis/tree/main/examples/features/standard/ssl-enabled#jms-ssl-example\" rel=\"nofollow noreferrer\">commands</a>. Still having the same issue"},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685027357,"post_id":76302055,"comment_id":134606743,"body_markdown":"Are you using an absolute path to set `javax.net.ssl.trustStore`?","body":"Are you using an absolute path to set <code>javax.net.ssl.trustStore</code>?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685043297,"post_id":76302055,"comment_id":134610047,"body_markdown":"Yes, Using an absolute path.","body":"Yes, Using an absolute path."},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685471988,"post_id":76302055,"comment_id":134663966,"body_markdown":"@DomenicoFrancescoBruscino I have added the ActiveMQ configuration and command to spin up Keycloak. Added the GitHub URL above in the question. Please, I request you to have a look.","body":"@DomenicoFrancescoBruscino I have added the ActiveMQ configuration and command to spin up Keycloak. Added the GitHub URL above in the question. Please, I request you to have a look."},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685711286,"post_id":76302055,"comment_id":134703228,"body_markdown":"Could you try setting the trust store type, i.e. `-Djavax.net.ssl.trustStoreType=pkcs12`?","body":"Could you try setting the trust store type, i.e. <code>-Djavax.net.ssl.trustStoreType=pkcs12</code>?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685791951,"post_id":76302055,"comment_id":134712663,"body_markdown":"Magically ```.p12``` is working but ```.jks``` is not.","body":"Magically <code>.p12</code> is working but <code>.jks</code> is not."},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685856358,"post_id":76302055,"comment_id":134717923,"body_markdown":"Does .p12 work without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;?","body":"Does .p12 work without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685878550,"post_id":76302055,"comment_id":134719682,"body_markdown":"Yes, it is working without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;","body":"Yes, it is working without &#39;-Djavax.net.ssl.trustStoreType=pkcs12&#39;"},{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1685938803,"post_id":76302055,"comment_id":134725510,"body_markdown":"Since Java 9, the default keystore format is PKCS12, maybe this is why you don&#39;t need `-Djavax.net.ssl.trustStoreType=pkcs12` fr your `.p12` file, Did you tried `-Djavax.net.ssl.trustStoreType=jks` with your `.jks` file?","body":"Since Java 9, the default keystore format is PKCS12, maybe this is why you don&#39;t need <code>-Djavax.net.ssl.trustStoreType=pkcs12</code> fr your <code>.p12</code> file, Did you tried <code>-Djavax.net.ssl.trustStoreType=jks</code> with your <code>.jks</code> file?"},{"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"score":0,"creation_date":1685944186,"post_id":76302055,"comment_id":134725978,"body_markdown":"Yes, when using .jks I used ```Djavax.net.ssl.trustStoreType=jks```, but this didn&#39;t help.","body":"Yes, when using .jks I used <code>Djavax.net.ssl.trustStoreType=jks</code>, but this didn&#39;t help."}],"owner":{"account_id":23937954,"reputation":117,"user_id":17931470,"display_name":"Subhidh Agarwal"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685682330,"creation_date":1684705817,"question_id":76302055,"body_markdown":"I have integrated Keycloak and ActiveMQ Artemis. Both are running on HTTPS. I have added the Keycloak truststore in ActiveMQ Artemis. Now I am getting this error in ActiveMQ. As the error says there is ```no X509TrustManager Available```. Can someone help me how to implement this in Keycloak v21.0.\r\n```java\r\n2023-05-20 07:53:53,100 WARN  [org.keycloak.adapters.KeycloakDeployment] Failed to load URLs from https://xx.xx.xxx.xxx:8443/realms/artemis-keycloak-demo/.well-known/openid-configuration\r\njavax.net.ssl.SSLHandshakeException: No X509TrustManager implementation available\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:130) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:378) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:321) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:316) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1318) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138) ~[?:?]\r\n\tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393) ~[?:?]\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476) ~[?:?]\r\n\tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447) ~[?:?]\r\n\tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[?:?]\r\n\tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[?:?]\r\n\tat org.apache.http.conn.ssl.SSLSocketFactory.createLayeredSocket(SSLSocketFactory.java:570) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.keycloak.adapters.SniSSLSocketFactory.createLayeredSocket(SniSSLSocketFactory.java:119) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.keycloak.adapters.SniSSLSocketFactory.connectSocket(SniSSLSocketFactory.java:114) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.14.jar:4.5.14]\r\n\tat org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.KeycloakDeployment.getJwksUrl(KeycloakDeployment.java:281) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.JWKPublicKeyLocator.sendRequest(JWKPublicKeyLocator.java:98) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.JWKPublicKeyLocator.getPublicKey(JWKPublicKeyLocator.java:63) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.AdapterTokenVerifier.getPublicKey(AdapterTokenVerifier.java:121) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:111) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.bearerAuth(AbstractKeycloakLoginModule.java:205) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.jaas.BearerTokenLoginModule.doAuth(BearerTokenLoginModule.java:37) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.login(AbstractKeycloakLoginModule.java:127) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\r\n\tat javax.security.auth.login.LoginContext.invoke(LoginContext.java:754) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:678) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext$4.run(LoginContext.java:676) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:714) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:676) ~[?:?]\r\n\tat javax.security.auth.login.LoginContext.login(LoginContext.java:587) ~[?:?]\r\n\tat io.hawt.system.Authenticator.login(Authenticator.java:215) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.system.Authenticator.doAuthenticate(Authenticator.java:178) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.system.Authenticator.authenticate(Authenticator.java:151) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.web.auth.AuthenticationFilter.doFilter(AuthenticationFilter.java:79) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat io.hawt.web.auth.SessionExpiryFilter.process(SessionExpiryFilter.java:107) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat io.hawt.web.auth.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:60) ~[hawtio-system-2.15.0.jar:2.15.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:210) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.apache.activemq.artemis.component.JolokiaFilter.doFilter(JolokiaFilter.java:50) ~[artemis-web-2.28.0.jar:2.28.0]\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:578) ~[jetty-security-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1571) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1378) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) ~[jetty-servlet-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1544) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1300) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:51) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:562) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282) ~[jetty-server-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319) ~[jetty-io-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) ~[jetty-io-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) ~[jetty-io-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038) ~[jetty-util-10.0.11.jar:10.0.11]\r\n\tat java.lang.Thread.run(Thread.java:1583) ~[?:?]\r\nCaused by: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n\tat sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1621) ~[?:?]\r\n\tat sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302) ~[?:?]\r\n\t... 112 more\r\n2023-05-20 07:53:53,102 WARN  [io.hawt.system.Authenticator] Login failed due to: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.input&quot; is null\r\n\r\n```\r\n\r\nI went through [X.509 Client Certificate User Authentication][1] on how to do the same, but could not get it.\r\nOr is there something else that I am missing?\r\n\r\nJava Version - openjdk 17.0.5 2022-10-18 LTS\r\n\r\nI have added all the configurations I am using to spin up ActiveMQ Artemis and Keycloak. Added the keystore.jks and truststore.jks as well. [subhidh/activemq-keycloak][2]\r\n\r\n\r\n[DEBUG SSH, HANDSHAKE OUTPUT][3]\r\n\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_admin/#_x509\r\n  [2]: https://github.com/subhidh/activemq-keycloak\r\n  [3]: https://raw.githubusercontent.com/subhidh/activemq-keycloak/main/debug_output.log\r\n\r\nIn debug output I see this \r\n```java\r\njavax.net.ssl|ERROR|23|qtp404588697-50|2023-06-02 10:10:40.254 IST|TransportContext.java:363|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n  \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n  \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n  \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n  \tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection.unwrap(SslConnection.java:398)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:721)\r\n  \tat org.eclipse.jetty.server.HttpConnection.fillRequestBuffer(HttpConnection.java:368)\r\n  \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:265)\r\n  \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319)\r\n  \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\r\n  \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n  \tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138)\r\n  \tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407)\r\n  \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894)\r\n  \tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:833)}\r\n\r\n)```","title":"Keycloak X509TrustManager implementation","body":"<p>I have integrated Keycloak and ActiveMQ Artemis. Both are running on HTTPS. I have added the Keycloak truststore in ActiveMQ Artemis. Now I am getting this error in ActiveMQ. As the error says there is <code>no X509TrustManager Available</code>. Can someone help me how to implement this in Keycloak v21.0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-05-20 07:53:53,100 WARN  [org.keycloak.adapters.KeycloakDeployment] Failed to load URLs from https://xx.xx.xxx.xxx:8443/realms/artemis-keycloak-demo/.well-known/openid-configuration\njavax.net.ssl.SSLHandshakeException: No X509TrustManager implementation available\n    at sun.security.ssl.Alert.createSSLException(Alert.java:130) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:378) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:321) ~[?:?]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:316) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1318) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1195) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1138) ~[?:?]\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:393) ~[?:?]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:476) ~[?:?]\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:447) ~[?:?]\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:201) ~[?:?]\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426) ~[?:?]\n    at org.apache.http.conn.ssl.SSLSocketFactory.createLayeredSocket(SSLSocketFactory.java:570) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.keycloak.adapters.SniSSLSocketFactory.createLayeredSocket(SniSSLSocketFactory.java:119) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.keycloak.adapters.SniSSLSocketFactory.connectSocket(SniSSLSocketFactory.java:114) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.14.jar:4.5.14]\n    at org.keycloak.adapters.KeycloakDeployment.getOidcConfiguration(KeycloakDeployment.java:230) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.KeycloakDeployment.resolveUrls(KeycloakDeployment.java:182) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.KeycloakDeployment.getJwksUrl(KeycloakDeployment.java:281) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.JWKPublicKeyLocator.sendRequest(JWKPublicKeyLocator.java:98) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.JWKPublicKeyLocator.getPublicKey(JWKPublicKeyLocator.java:63) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.getPublicKey(AdapterTokenVerifier.java:121) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.createVerifier(AdapterTokenVerifier.java:111) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.rotation.AdapterTokenVerifier.verifyToken(AdapterTokenVerifier.java:47) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.bearerAuth(AbstractKeycloakLoginModule.java:205) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.jaas.BearerTokenLoginModule.doAuth(BearerTokenLoginModule.java:37) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at org.keycloak.adapters.jaas.AbstractKeycloakLoginModule.login(AbstractKeycloakLoginModule.java:127) ~[keycloak-adapter-core-20.0.5.jar:20.0.5]\n    at javax.security.auth.login.LoginContext.invoke(LoginContext.java:754) ~[?:?]\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:678) ~[?:?]\n    at javax.security.auth.login.LoginContext$4.run(LoginContext.java:676) ~[?:?]\n    at java.security.AccessController.doPrivileged(AccessController.java:714) ~[?:?]\n    at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:676) ~[?:?]\n    at javax.security.auth.login.LoginContext.login(LoginContext.java:587) ~[?:?]\n    at io.hawt.system.Authenticator.login(Authenticator.java:215) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.system.Authenticator.doAuthenticate(Authenticator.java:178) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.system.Authenticator.authenticate(Authenticator.java:151) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.web.auth.AuthenticationFilter.doFilter(AuthenticationFilter.java:79) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.filters.HttpHeaderFilter.doFilter(HttpHeaderFilter.java:43) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at io.hawt.web.auth.SessionExpiryFilter.process(SessionExpiryFilter.java:107) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at io.hawt.web.auth.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:60) ~[hawtio-system-2.15.0.jar:2.15.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:210) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.apache.activemq.artemis.component.JolokiaFilter.doFilter(JolokiaFilter.java:50) ~[artemis-web-2.28.0.jar:2.28.0]\n    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:578) ~[jetty-security-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1571) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1378) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) ~[jetty-servlet-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1544) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1300) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:51) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.Server.handle(Server.java:562) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282) ~[jetty-server-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319) ~[jetty-io-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) ~[jetty-io-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) ~[jetty-io-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894) ~[jetty-util-10.0.11.jar:10.0.11]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038) ~[jetty-util-10.0.11.jar:10.0.11]\n    at java.lang.Thread.run(Thread.java:1583) ~[?:?]\nCaused by: java.security.cert.CertificateException: No X509TrustManager implementation available\n    at sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1621) ~[?:?]\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1302) ~[?:?]\n    ... 112 more\n2023-05-20 07:53:53,102 WARN  [io.hawt.system.Authenticator] Login failed due to: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;this.input&quot; is null\n\n</code></pre>\n<p>I went through <a href=\"https://www.keycloak.org/docs/latest/server_admin/#_x509\" rel=\"nofollow noreferrer\">X.509 Client Certificate User Authentication</a> on how to do the same, but could not get it.\nOr is there something else that I am missing?</p>\n<p>Java Version - openjdk 17.0.5 2022-10-18 LTS</p>\n<p>I have added all the configurations I am using to spin up ActiveMQ Artemis and Keycloak. Added the keystore.jks and truststore.jks as well. <a href=\"https://github.com/subhidh/activemq-keycloak\" rel=\"nofollow noreferrer\">subhidh/activemq-keycloak</a></p>\n<p><a href=\"https://raw.githubusercontent.com/subhidh/activemq-keycloak/main/debug_output.log\" rel=\"nofollow noreferrer\">DEBUG SSH, HANDSHAKE OUTPUT</a></p>\n<p>In debug output I see this</p>\n<pre class=\"lang-java prettyprint-override\"><code>javax.net.ssl|ERROR|23|qtp404588697-50|2023-06-02 10:10:40.254 IST|TransportContext.java:363|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n    at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n    at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n    at org.eclipse.jetty.io.ssl.SslConnection.unwrap(SslConnection.java:398)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:721)\n    at org.eclipse.jetty.server.HttpConnection.fillRequestBuffer(HttpConnection.java:368)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:265)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:319)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\n    at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:412)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:381)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:268)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:138)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:407)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:894)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1038)\n    at java.base/java.lang.Thread.run(Thread.java:833)}\n\n)```\n</code></pre>\n"},{"tags":["java","apache-camel","datasource"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685661748,"post_id":76386027,"comment_id":134695987,"body_markdown":"Do camelContext.getRegistry().bind(...","body":"Do camelContext.getRegistry().bind(..."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1685662034,"post_id":76386027,"comment_id":134696032,"body_markdown":"@SebPerp - Tried that also and not working either. same error.","body":"@SebPerp - Tried that also and not working either. same error."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685662207,"post_id":76386027,"comment_id":134696068,"body_markdown":"Please give the full stacktrace.","body":"Please give the full stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685681592,"creation_date":1685681592,"answer_id":76387217,"question_id":76386027,"body_markdown":"In the route :\r\n\r\n```java\r\npublic class MyRoute extends RouteBuilder {\r\n\r\n    private final DataSource routeDataSource;\r\n\r\n    public MyRoute(DataSource routeDataSource) {\r\n        this.routeDataSource = routeDataSource;\r\n    }\r\n\r\n    @Override\r\n    public void configure() {\r\n\r\n        getCamelContext().getRegistry().bind(&quot;ds&quot;, routeDataSource);\r\n\r\n        from(&quot;whatever&quot;).to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\r\n\r\n    }\r\n\r\n}\r\n```\r\nIn main:\r\n\r\n```java\r\npublic class MySpringBootApplication {\r\n\r\n    private static DataSource setupDataSource() {\r\n        BasicDataSource ds = new BasicDataSource();\r\n        ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n        ds.setUsername(&quot;xcccc&quot;);\r\n        ds.setPassword(&quot;xxxxx&quot;);\r\n        ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\r\n        return ds;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        MyRoute myRoute = MyRoute(setupDataSource());\r\n\r\n    }\r\n\r\n}\r\n```","title":"camel data source not available","body":"<p>In the route :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRoute extends RouteBuilder {\n\n    private final DataSource routeDataSource;\n\n    public MyRoute(DataSource routeDataSource) {\n        this.routeDataSource = routeDataSource;\n    }\n\n    @Override\n    public void configure() {\n\n        getCamelContext().getRegistry().bind(&quot;ds&quot;, routeDataSource);\n\n        from(&quot;whatever&quot;).to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\n\n    }\n\n}\n</code></pre>\n<p>In main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySpringBootApplication {\n\n    private static DataSource setupDataSource() {\n        BasicDataSource ds = new BasicDataSource();\n        ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        ds.setUsername(&quot;xcccc&quot;);\n        ds.setPassword(&quot;xxxxx&quot;);\n        ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\n        return ds;\n    }\n\n    public static void main(String[] args) {\n\n        MyRoute myRoute = MyRoute(setupDataSource());\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685681592,"creation_date":1685657264,"question_id":76386027,"body_markdown":"Running a standalone java exe for testing. Camel 3.20.5\r\n\r\n     private static DataSource setupDataSource() {\r\n            BasicDataSource ds = new BasicDataSource();\r\n            ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n            ds.setUsername(&quot;xcccc&quot;);\r\n            ds.setPassword(&quot;xxxxx&quot;);\r\n            ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\r\n            return ds;\r\n        }\r\n\r\n... in main ...\r\n\r\n      CamelContext camelContext=new DefaultCamelContext();\r\n    \r\n         DataSource ds = setupDataSource();\r\n            SimpleRegistry reg = new SimpleRegistry();\r\n            reg.bind(&quot;ds&quot;,ds);\r\n\r\nin Route:\r\n\r\n     .to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\r\n\r\nError:\r\n\r\n     sql://select%201%20from%20dual?dataSource=ds due to: Error binding property (dataSource=ds) with name: dataSource on bean: sql://select%201%20from%20dual?dataSource=ds with value: ds\r\n\r\n","title":"camel data source not available","body":"<p>Running a standalone java exe for testing. Camel 3.20.5</p>\n<pre><code> private static DataSource setupDataSource() {\n        BasicDataSource ds = new BasicDataSource();\n        ds.setDriverClassName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        ds.setUsername(&quot;xcccc&quot;);\n        ds.setPassword(&quot;xxxxx&quot;);\n        ds.setUrl(&quot;jdbc:oracle:thin:@xxxxx:1521:xxxxx&quot;);\n        return ds;\n    }\n</code></pre>\n<p>... in main ...</p>\n<pre><code>  CamelContext camelContext=new DefaultCamelContext();\n\n     DataSource ds = setupDataSource();\n        SimpleRegistry reg = new SimpleRegistry();\n        reg.bind(&quot;ds&quot;,ds);\n</code></pre>\n<p>in Route:</p>\n<pre><code> .to(&quot;sql:select 1 from dual?dataSource=ds&quot;);\n</code></pre>\n<p>Error:</p>\n<pre><code> sql://select%201%20from%20dual?dataSource=ds due to: Error binding property (dataSource=ds) with name: dataSource on bean: sql://select%201%20from%20dual?dataSource=ds with value: ds\n</code></pre>\n"},{"tags":["java","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1261035,"reputation":33,"user_id":1219316,"display_name":"Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685679017,"creation_date":1685626511,"answer_id":76382462,"question_id":76380493,"body_markdown":"I searched in pac4j documentation and found that i was missing to set the scope in OidcConfiguration object.\r\n\r\n  oidcConfiguration.setScope(&quot;openid email profile phone&quot;);\r\n\r\nafter setting the scope now i am getting the  Roles in the claims sent by IDP.\r\n      ","title":"unable to get configured roles from IDP ( Azure Ad App roles ) when authenticating oidc (pac4j-oidc ) in servlet based application","body":"<p>I searched in pac4j documentation and found that i was missing to set the scope in OidcConfiguration object.</p>\n<p>oidcConfiguration.setScope(&quot;openid email profile phone&quot;);</p>\n<p>after setting the scope now i am getting the  Roles in the claims sent by IDP.</p>\n"}],"owner":{"account_id":1261035,"reputation":33,"user_id":1219316,"display_name":"Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76382462,"answer_count":1,"score":0,"last_activity_date":1685679017,"creation_date":1685611935,"question_id":76380493,"body_markdown":"I am using  javaee-pac4j:7.1.0 and pac4j-oidc:5.7.0 to my application authenticated using OIDC ( Azure AD initially ) in servlet based application , i am able to redirect to azure for authentication and callback api is also getting called with logged in user details. but not getting clue on how to get appRoles as defined azure AD . in my flow i need app Roles and then have to create the user and role mapping in my application.\r\n\r\n\r\n\r\ni followed jee-pac4j-demo to get this working but not getting clue on getting app roles from IDP OIDC. Please advise.\r\n\r\nbelow is my web.xml\r\n\r\n    &lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;com.xxx.yyy.security.oidc.CallbackFilter&lt;/filter-class&gt;\r\n    \r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;renewSession&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;multiProfile&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/oidc/rest/*&lt;/url-pattern&gt;\r\n    \t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \t&lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.pac4j.jee.filter.SecurityFilter&lt;/filter-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;configFactory&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.xxx.yyy.security.oidc.DemoConfigFactory&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;authorizers&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;custom&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;clients&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;OidcClient&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/rest-jwt/*&lt;/url-pattern&gt;\r\n    \t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n\r\nDemoConfigFactory\r\n\r\n    @Override\r\n        public Config build(final Object... parameters) {\r\n    \r\n            System.out.print(&quot;Building Security configuration...\\n&quot;);\r\n    \r\n             oidcConfiguration = new OidcConfiguration();\r\n            oidcConfiguration.setClientId(&quot;sdfdsf-02f9-401f-bbf3-dd87d64a6a2a&quot;);\r\n            oidcConfiguration.setSecret(&quot;iGc8Q~wZ_~dffsdfsdfs&quot;);\r\n            oidcConfiguration.setDiscoveryURI(&quot;https://login.microsoftonline.com/sdfsdfs-2cb0-44dc-88cd-fdfs/v2.0/.well-known/openid-configuration&quot;);\r\n            oidcConfiguration.setUseNonce(true);\r\n            oidcConfiguration.addCustomParam(&quot;prompt&quot;, &quot;consent&quot;);\r\n    \r\n            oidcClient = new OidcClient(oidcConfiguration);\r\n           /* oidcClient.setAuthorizationGenerator((webContext, sessionStore, userProfile) -&gt; {\r\n                        userProfile.addRole(&quot;ConfiguratorOne&quot;);\r\n                        return java.util.Optional.of(userProfile);\r\n                    }\r\n                    );*/\r\n    \r\n            // REST authent with JWT for a token passed in the url as the token parameter\r\n            final List&lt;SignatureConfiguration&gt; signatures = new ArrayList&lt;&gt;();\r\n            signatures.add(new SecretSignatureConfiguration(JWT_SALT));\r\n            ParameterClient parameterClient = new ParameterClient(&quot;token&quot;, new JwtAuthenticator(signatures));\r\n            parameterClient.setSupportGetRequest(true);\r\n            parameterClient.setSupportPostRequest(false);\r\n    \r\n     final Clients clients = new Clients(&quot;https://localhost:8443/myapplication/oidc/rest/sp/consumer&quot;, oidcClient);\r\n      final Config config = new Config(clients);\r\n       config.addAuthorizer(&quot;custom&quot;, new CustomAuthorizer());\r\n            return config;\r\n        }\r\n\r\nCallbackFilter.java\r\n\r\n    @WebFilter(filterName = &quot;CallbackFilter&quot;, urlPatterns = {&quot;/oidc/rest/*&quot;, &quot;/oidc/rest&quot;})\r\n    public class CallbackFilter extends AbstractConfigFilter implements javax.servlet.Filter {\r\n    \r\n        private static final Log LOG = LogFactory.getLog(CallbackFilter.class);\r\n        private static final String AUTHENTICATED_SESSION_ATTRIBUTE = &quot;authenticated&quot;;\r\n        private ProfileManager profileManager;\r\n    \r\n        @Inject\r\n        private DemoConfigFactory demoConfigFactory;\r\n    \r\n        @Override\r\n        public void doFilter(final ServletRequest request, final ServletResponse response,\r\n                             final FilterChain chain) throws IOException, ServletException {\r\n    \r\n            final HttpServletRequest req = (HttpServletRequest) request;\r\n            final HttpServletResponse resp = (HttpServletResponse) response;\r\n            this.internalFilter(req, resp, chain);\r\n            UserProfile userProfile = profileManager.getProfile().get();\r\n    \r\n            LOG.info(&quot;OIDC response received&quot; +userProfile.getUsername());\r\n    \r\n                LOG.info(&quot;&quot; + userProfile.getRoles().toString());\r\n                String authenticatedUser = userProfile.getUsername();\r\n             \r\n                setAuthenticatedSession(req);\r\n                redirectToGotoURL(req, resp, authenticatedUser);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void internalFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            Config config = this.getSharedConfig();\r\n            HttpActionAdapter bestAdapter = FindBest.httpActionAdapter((HttpActionAdapter)null, config, JEEHttpActionAdapter.INSTANCE);\r\n            CallbackLogic bestLogic = FindBest.callbackLogic(this.callbackLogic, config, DefaultCallbackLogic.INSTANCE);\r\n            WebContext context = FindBest.webContextFactory((WebContextFactory)null, config, JEEContextFactory.INSTANCE).newContext(new Object[]{request, response});\r\n            SessionStore sessionStore = FindBest.sessionStoreFactory((SessionStoreFactory)null, config, JEESessionStoreFactory.INSTANCE).newSessionStore(new Object[]{request, response});\r\n            bestLogic.perform(context, sessionStore, config, bestAdapter, this.defaultUrl, this.renewSession, this.defaultClient);\r\n            profileManager = new ProfileManager(context,sessionStore);\r\n          \r\n        }","title":"unable to get configured roles from IDP ( Azure Ad App roles ) when authenticating oidc (pac4j-oidc ) in servlet based application","body":"<p>I am using  javaee-pac4j:7.1.0 and pac4j-oidc:5.7.0 to my application authenticated using OIDC ( Azure AD initially ) in servlet based application , i am able to redirect to azure for authentication and callback api is also getting called with logged in user details. but not getting clue on how to get appRoles as defined azure AD . in my flow i need app Roles and then have to create the user and role mapping in my application.</p>\n<p>i followed jee-pac4j-demo to get this working but not getting clue on getting app roles from IDP OIDC. Please advise.</p>\n<p>below is my web.xml</p>\n<pre><code>&lt;filter&gt;\n        &lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.xxx.yyy.security.oidc.CallbackFilter&lt;/filter-class&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;renewSession&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;multiProfile&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/oidc/rest/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.pac4j.jee.filter.SecurityFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;configFactory&lt;/param-name&gt;\n            &lt;param-value&gt;com.xxx.yyy.security.oidc.DemoConfigFactory&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;authorizers&lt;/param-name&gt;\n            &lt;param-value&gt;custom&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;clients&lt;/param-name&gt;\n            &lt;param-value&gt;OidcClient&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;JwtParameterFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/rest/rest-jwt/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>DemoConfigFactory</p>\n<pre><code>@Override\n    public Config build(final Object... parameters) {\n\n        System.out.print(&quot;Building Security configuration...\\n&quot;);\n\n         oidcConfiguration = new OidcConfiguration();\n        oidcConfiguration.setClientId(&quot;sdfdsf-02f9-401f-bbf3-dd87d64a6a2a&quot;);\n        oidcConfiguration.setSecret(&quot;iGc8Q~wZ_~dffsdfsdfs&quot;);\n        oidcConfiguration.setDiscoveryURI(&quot;https://login.microsoftonline.com/sdfsdfs-2cb0-44dc-88cd-fdfs/v2.0/.well-known/openid-configuration&quot;);\n        oidcConfiguration.setUseNonce(true);\n        oidcConfiguration.addCustomParam(&quot;prompt&quot;, &quot;consent&quot;);\n\n        oidcClient = new OidcClient(oidcConfiguration);\n       /* oidcClient.setAuthorizationGenerator((webContext, sessionStore, userProfile) -&gt; {\n                    userProfile.addRole(&quot;ConfiguratorOne&quot;);\n                    return java.util.Optional.of(userProfile);\n                }\n                );*/\n\n        // REST authent with JWT for a token passed in the url as the token parameter\n        final List&lt;SignatureConfiguration&gt; signatures = new ArrayList&lt;&gt;();\n        signatures.add(new SecretSignatureConfiguration(JWT_SALT));\n        ParameterClient parameterClient = new ParameterClient(&quot;token&quot;, new JwtAuthenticator(signatures));\n        parameterClient.setSupportGetRequest(true);\n        parameterClient.setSupportPostRequest(false);\n\n final Clients clients = new Clients(&quot;https://localhost:8443/myapplication/oidc/rest/sp/consumer&quot;, oidcClient);\n  final Config config = new Config(clients);\n   config.addAuthorizer(&quot;custom&quot;, new CustomAuthorizer());\n        return config;\n    }\n</code></pre>\n<p>CallbackFilter.java</p>\n<pre><code>@WebFilter(filterName = &quot;CallbackFilter&quot;, urlPatterns = {&quot;/oidc/rest/*&quot;, &quot;/oidc/rest&quot;})\npublic class CallbackFilter extends AbstractConfigFilter implements javax.servlet.Filter {\n\n    private static final Log LOG = LogFactory.getLog(CallbackFilter.class);\n    private static final String AUTHENTICATED_SESSION_ATTRIBUTE = &quot;authenticated&quot;;\n    private ProfileManager profileManager;\n\n    @Inject\n    private DemoConfigFactory demoConfigFactory;\n\n    @Override\n    public void doFilter(final ServletRequest request, final ServletResponse response,\n                         final FilterChain chain) throws IOException, ServletException {\n\n        final HttpServletRequest req = (HttpServletRequest) request;\n        final HttpServletResponse resp = (HttpServletResponse) response;\n        this.internalFilter(req, resp, chain);\n        UserProfile userProfile = profileManager.getProfile().get();\n\n        LOG.info(&quot;OIDC response received&quot; +userProfile.getUsername());\n\n            LOG.info(&quot;&quot; + userProfile.getRoles().toString());\n            String authenticatedUser = userProfile.getUsername();\n         \n            setAuthenticatedSession(req);\n            redirectToGotoURL(req, resp, authenticatedUser);\n\n    }\n\n    @Override\n    protected void internalFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        Config config = this.getSharedConfig();\n        HttpActionAdapter bestAdapter = FindBest.httpActionAdapter((HttpActionAdapter)null, config, JEEHttpActionAdapter.INSTANCE);\n        CallbackLogic bestLogic = FindBest.callbackLogic(this.callbackLogic, config, DefaultCallbackLogic.INSTANCE);\n        WebContext context = FindBest.webContextFactory((WebContextFactory)null, config, JEEContextFactory.INSTANCE).newContext(new Object[]{request, response});\n        SessionStore sessionStore = FindBest.sessionStoreFactory((SessionStoreFactory)null, config, JEESessionStoreFactory.INSTANCE).newSessionStore(new Object[]{request, response});\n        bestLogic.perform(context, sessionStore, config, bestAdapter, this.defaultUrl, this.renewSession, this.defaultClient);\n        profileManager = new ProfileManager(context,sessionStore);\n      \n    }\n</code></pre>\n"},{"tags":["java","android","flutter","java-11","android-sdk-manager"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685695034,"post_id":76387039,"comment_id":134699900,"body_markdown":"Check [this](https://stackoverflow.com/questions/61177573/javax-xml-bind-cannot-be-resolved#61179185) out","body":"Check <a href=\"https://stackoverflow.com/questions/61177573/javax-xml-bind-cannot-be-resolved#61179185\">this</a> out"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685700965,"post_id":76387039,"comment_id":134701099,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27780316,"reputation":1,"user_id":21208789,"display_name":"Abdurazzoq Abdusalomov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685678581,"creation_date":1685678500,"question_id":76387039,"body_markdown":"I want to use flutter without android studio\r\n\r\n```➜  ~ sdkmanager --list\r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n\tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n\tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n\tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n\tat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\r\n\tat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 5 more\r\n```\r\n\r\ni used &quot;sdkmanager&quot; command in kali linux","title":"How to solve Linux sdkmanager command line error?","body":"<p>I want to use flutter without android studio</p>\n<pre><code>Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 5 more\n</code></pre>\n<p>i used &quot;sdkmanager&quot; command in kali linux</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9829,"page":396,"page_size":100}
