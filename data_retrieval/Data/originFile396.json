{"items":[{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1427742815,"post_id":29354133,"comment_id":46893657,"body_markdown":"I guess you don&#39;t have Unlimited Strength Jurisdiction Policy (which are not default with JRE) Files.http://stackoverflow.com/questions/2568841/aes-encryption-java-invalid-key-length","body":"I guess you don&#39;t have Unlimited Strength Jurisdiction Policy (which are not default with JRE) Files.<a href=\"http://stackoverflow.com/questions/2568841/aes-encryption-java-invalid-key-length\" title=\"aes encryption java invalid key length\">stackoverflow.com/questions/2568841/&hellip;</a>"},{"owner":{"account_id":3468255,"reputation":569,"user_id":3560582,"display_name":"Rishabh Upadhyay"},"score":0,"creation_date":1427743207,"post_id":29354133,"comment_id":46893911,"body_markdown":"i do have Unlimited Strength Jurisdiction Policy jars@nambari","body":"i do have Unlimited Strength Jurisdiction Policy jars@nambari"},{"owner":{"account_id":6598805,"reputation":11,"user_id":5097725,"display_name":"Kumar Abhishek"},"score":1,"creation_date":1513568909,"post_id":29354133,"comment_id":82689640,"body_markdown":"16 bytes means 16 characters here in layman terms.","body":"16 bytes means 16 characters here in layman terms."},{"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"score":1,"creation_date":1513569549,"post_id":29354133,"comment_id":82689641,"body_markdown":"No, a character can be more than one byte, best lookup unicode. &#128104;‚Äç&#128105;‚Äç&#128102;‚Äç&#128102; is 25 byes: (F0 9F 91 A8 E2 80 8D F0 9F 91 A9 E2 80 8D F0 9F 91 A6 E2 80 8D F0 9F 91 A6). Some thing simpler, ‚Ç¨ is 3 bytes (E2 82 AC), it is the Euro currency symbol. Hint: You can delete your answer.","body":"No, a character can be more than one byte, best lookup unicode. üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ is 25 byes: (F0 9F 91 A8 E2 80 8D F0 9F 91 A9 E2 80 8D F0 9F 91 A6 E2 80 8D F0 9F 91 A6). Some thing simpler, ‚Ç¨ is 3 bytes (E2 82 AC), it is the Euro currency symbol. Hint: You can delete your answer."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1615315737,"post_id":29354133,"comment_id":117651802,"body_markdown":"@zaph Depends on encoding you use..  ‚Ç¨ is 3 bytes in UTF-8 I think? Looking at unicode would not help you, you need the encoding used.","body":"@zaph Depends on encoding you use..  ‚Ç¨ is 3 bytes in UTF-8 I think? Looking at unicode would not help you, you need the encoding used."}],"answers":[{"tags":[],"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1685646252,"creation_date":1427742398,"answer_id":29354222,"question_id":29354133,"body_markdown":"## Things to know in general:\r\n\r\n1. **Key != Password**\r\n  - `SecretKeySpec` expects a key, not a password. See below\r\n2. It might be due to a policy restriction that prevents using 32 byte keys. See other answer on that\r\n\r\n## In your case\r\n\r\nThe problem is number 1: you are passing the password instead of the key.\r\n\r\nAES only supports key sizes of 16, 24 or 32 bytes. You either need to provide exactly that amount or you derive the key from what you type in. \r\n\r\nThere are different ways to derive the key from a passphrase. Java provides a PBKDF2 implementation for such a purpose.\r\n\r\nI used erickson&#39;s [answer][1] to paint a complete picture (only encryption, since the decryption is similar, but includes splitting the ciphertext):\r\n\r\n    SecureRandom random = new SecureRandom();\r\n    byte[] salt = new byte[16];\r\n    random.nextBytes(salt);\r\n\r\n    KeySpec spec = new PBEKeySpec(&quot;password&quot;.toCharArray(), salt, 1000000, 256); // AES-256\r\n    SecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n    byte[] key = f.generateSecret(spec).getEncoded();\r\n    SecretKeySpec keySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n\r\n    byte[] ivBytes = new byte[16];\r\n    random.nextBytes(ivBytes);\r\n    IvParameterSpec iv = new IvParameterSpec(ivBytes);\r\n\r\n    Cipher c = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    c.init(Cipher.ENCRYPT_MODE, keySpec, iv);\r\n    byte[] encValue = c.doFinal(valueToEnc.getBytes());\r\n    \r\n    byte[] finalCiphertext = new byte[encValue.length+2*16];\r\n    System.arraycopy(ivBytes, 0, finalCiphertext, 0, 16);\r\n    System.arraycopy(salt, 0, finalCiphertext, 16, 16);\r\n    System.arraycopy(encValue, 0, finalCiphertext, 32, encValue.length);\r\n\r\n    return finalCiphertext;\r\n\r\n---\r\n\r\nOther things to keep in mind:\r\n\r\n- Always use a fully qualified Cipher name. `AES` is not appropriate in such a case, because different JVMs/JCE providers may use different defaults for mode of operation and padding. Use `AES/CBC/PKCS5Padding`. Don&#39;t use ECB mode, because it is not semantically secure.\r\n- If you don&#39;t use ECB mode then you need to send the IV along with the ciphertext. This is usually done by prefixing the IV to the ciphertext byte array. The IV is automatically created for you and you can get it through `cipherInstance.getIV()`.\r\n- Whenever you send something, you need to be sure that it wasn&#39;t altered along the way. It is hard to implement a encryption with MAC correctly. I recommend you to use an authenticated mode like CCM or GCM.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2861125","title":"How to fix Invalid AES key length?","body":"<h2>Things to know in general:</h2>\n<ol>\n<li><strong>Key != Password</strong></li>\n</ol>\n<ul>\n<li><code>SecretKeySpec</code> expects a key, not a password. See below</li>\n</ul>\n<ol start=\"2\">\n<li>It might be due to a policy restriction that prevents using 32 byte keys. See other answer on that</li>\n</ol>\n<h2>In your case</h2>\n<p>The problem is number 1: you are passing the password instead of the key.</p>\n<p>AES only supports key sizes of 16, 24 or 32 bytes. You either need to provide exactly that amount or you derive the key from what you type in.</p>\n<p>There are different ways to derive the key from a passphrase. Java provides a PBKDF2 implementation for such a purpose.</p>\n<p>I used erickson's <a href=\"https://stackoverflow.com/a/2861125\">answer</a> to paint a complete picture (only encryption, since the decryption is similar, but includes splitting the ciphertext):</p>\n<pre><code>SecureRandom random = new SecureRandom();\nbyte[] salt = new byte[16];\nrandom.nextBytes(salt);\n\nKeySpec spec = new PBEKeySpec(&quot;password&quot;.toCharArray(), salt, 1000000, 256); // AES-256\nSecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\nbyte[] key = f.generateSecret(spec).getEncoded();\nSecretKeySpec keySpec = new SecretKeySpec(key, &quot;AES&quot;);\n\nbyte[] ivBytes = new byte[16];\nrandom.nextBytes(ivBytes);\nIvParameterSpec iv = new IvParameterSpec(ivBytes);\n\nCipher c = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\nc.init(Cipher.ENCRYPT_MODE, keySpec, iv);\nbyte[] encValue = c.doFinal(valueToEnc.getBytes());\n\nbyte[] finalCiphertext = new byte[encValue.length+2*16];\nSystem.arraycopy(ivBytes, 0, finalCiphertext, 0, 16);\nSystem.arraycopy(salt, 0, finalCiphertext, 16, 16);\nSystem.arraycopy(encValue, 0, finalCiphertext, 32, encValue.length);\n\nreturn finalCiphertext;\n</code></pre>\n<hr />\n<p>Other things to keep in mind:</p>\n<ul>\n<li>Always use a fully qualified Cipher name. <code>AES</code> is not appropriate in such a case, because different JVMs/JCE providers may use different defaults for mode of operation and padding. Use <code>AES/CBC/PKCS5Padding</code>. Don't use ECB mode, because it is not semantically secure.</li>\n<li>If you don't use ECB mode then you need to send the IV along with the ciphertext. This is usually done by prefixing the IV to the ciphertext byte array. The IV is automatically created for you and you can get it through <code>cipherInstance.getIV()</code>.</li>\n<li>Whenever you send something, you need to be sure that it wasn't altered along the way. It is hard to implement a encryption with MAC correctly. I recommend you to use an authenticated mode like CCM or GCM.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8198062,"reputation":135,"user_id":6170202,"display_name":"vineet patel"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1511435946,"creation_date":1461302799,"answer_id":36785519,"question_id":29354133,"body_markdown":"I was facing the same issue then i made my key 16 byte and it&#39;s working properly now. Create your key exactly 16 byte. It will surely work.","title":"How to fix Invalid AES key length?","body":"<p>I was facing the same issue then i made my key 16 byte and it's working properly now. Create your key exactly 16 byte. It will surely work.</p>\n"},{"tags":[],"owner":{"account_id":12395893,"reputation":61,"user_id":9035738,"display_name":"AOL"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1515002558,"creation_date":1515002558,"answer_id":48082782,"question_id":29354133,"body_markdown":"You can verify the key length limit:\r\n\r\n    int maxKeyLen = Cipher.getMaxAllowedKeyLength(&quot;AES&quot;);\r\n    System.out.println(&quot;MaxAllowedKeyLength=[&quot; + maxKeyLen + &quot;].&quot;);","title":"How to fix Invalid AES key length?","body":"<p>You can verify the key length limit:</p>\n\n<pre><code>int maxKeyLen = Cipher.getMaxAllowedKeyLength(\"AES\");\nSystem.out.println(\"MaxAllowedKeyLength=[\" + maxKeyLen + \"].\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19215510,"reputation":21,"user_id":14040338,"display_name":"The_real_codder"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1597906233,"creation_date":1597905517,"answer_id":63499562,"question_id":29354133,"body_markdown":"You can use this code, this code is for AES-256-CBC or you can use it for other AES encryption. Key length error mainly comes in 256-bit encryption.\r\n\r\nThis error comes due to the encoding or charset name we pass in the SecretKeySpec. Suppose, in my case, I have a key length of 44, but I am not able to encrypt my text using this long key; Java throws me an error of invalid key length. Therefore I pass my key as a BASE64 in the function, and it converts my 44 length key in the 32 bytes, which is must for the 256-bit encryption.\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.MessageDigest;\r\n    import java.security.Security;\r\n    import java.util.Base64;\r\n\r\n    public class Encrypt {\r\n\r\n        static byte [] arr = {1,2,3,4,5,6,7,8,9};\r\n    \r\n        // static byte [] arr = new byte[16];\r\n    \r\n          public static void main(String...args) {\r\n            try {\r\n             //   System.out.println(Cipher.getMaxAllowedKeyLength(&quot;AES&quot;));\r\n                Base64.Decoder decoder = Base64.getDecoder();\r\n                // static byte [] arr = new byte[16];\r\n                Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\r\n                String key = &quot;Your key&quot;;\r\n           //     System.out.println(&quot;-------&quot; + key);\r\n    \r\n                String value = &quot;Hey, i am adnan&quot;;\r\n                String IV = &quot;0123456789abcdef&quot;;\r\n           //     System.out.println(value);\r\n                // log.info(value);\r\n              IvParameterSpec iv = new IvParameterSpec(IV.getBytes());\r\n                //    IvParameterSpec iv = new IvParameterSpec(arr);\r\n    \r\n            //    System.out.println(key);\r\n                SecretKeySpec skeySpec = new SecretKeySpec(decoder.decode(key), &quot;AES&quot;);\r\n             //   System.out.println(skeySpec);\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            //    System.out.println(&quot;ddddddddd&quot;+IV);\r\n                cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n           //     System.out.println(cipher.getIV());\r\n    \r\n                byte[] encrypted = cipher.doFinal(value.getBytes());\r\n                String encryptedString = Base64.getEncoder().encodeToString(encrypted);\r\n    \r\n                System.out.println(&quot;encrypted string,,,,,,,,,,,,,,,,,,,: &quot; + encryptedString);\r\n                // vars.put(&quot;input-1&quot;,encryptedString);\r\n                //  log.info(&quot;beanshell&quot;);\r\n            }catch (Exception e){\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to fix Invalid AES key length?","body":"<p>You can use this code, this code is for AES-256-CBC or you can use it for other AES encryption. Key length error mainly comes in 256-bit encryption.</p>\n<p>This error comes due to the encoding or charset name we pass in the SecretKeySpec. Suppose, in my case, I have a key length of 44, but I am not able to encrypt my text using this long key; Java throws me an error of invalid key length. Therefore I pass my key as a BASE64 in the function, and it converts my 44 length key in the 32 bytes, which is must for the 256-bit encryption.</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.MessageDigest;\nimport java.security.Security;\nimport java.util.Base64;\n\npublic class Encrypt {\n\n    static byte [] arr = {1,2,3,4,5,6,7,8,9};\n\n    // static byte [] arr = new byte[16];\n\n      public static void main(String...args) {\n        try {\n         //   System.out.println(Cipher.getMaxAllowedKeyLength(&quot;AES&quot;));\n            Base64.Decoder decoder = Base64.getDecoder();\n            // static byte [] arr = new byte[16];\n            Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\n            String key = &quot;Your key&quot;;\n       //     System.out.println(&quot;-------&quot; + key);\n\n            String value = &quot;Hey, i am adnan&quot;;\n            String IV = &quot;0123456789abcdef&quot;;\n       //     System.out.println(value);\n            // log.info(value);\n          IvParameterSpec iv = new IvParameterSpec(IV.getBytes());\n            //    IvParameterSpec iv = new IvParameterSpec(arr);\n\n        //    System.out.println(key);\n            SecretKeySpec skeySpec = new SecretKeySpec(decoder.decode(key), &quot;AES&quot;);\n         //   System.out.println(skeySpec);\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        //    System.out.println(&quot;ddddddddd&quot;+IV);\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n       //     System.out.println(cipher.getIV());\n\n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            String encryptedString = Base64.getEncoder().encodeToString(encrypted);\n\n            System.out.println(&quot;encrypted string,,,,,,,,,,,,,,,,,,,: &quot; + encryptedString);\n            // vars.put(&quot;input-1&quot;,encryptedString);\n            //  log.info(&quot;beanshell&quot;);\n        }catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3468255,"reputation":569,"user_id":3560582,"display_name":"Rishabh Upadhyay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207677,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":29354222,"answer_count":4,"score":54,"last_activity_date":1685646252,"creation_date":1427742162,"question_id":29354133,"body_markdown":"I am working on a **text encryption and decryption** project (following Struts 2)\r\n\r\nWhenever I enter the password and the plain text I get a Invalid AES Key Length error.\r\n\r\n\r\n**The Service Class**\r\n\r\n    package com.anoncrypt.services;\r\n    \r\n    import java.security.Key;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    import sun.misc.BASE64Decoder;\r\n    import sun.misc.BASE64Encoder;\r\n    \r\n    public class SymAES\r\n    {\r\n    \tprivate static final String ALGORITHM = &quot;AES&quot;;\r\n    \tprivate static byte[] keyValue= new byte[] { &#39;T&#39;, &#39;h&#39;, &#39;i&#39;, &#39;s&#39;, &#39;I&#39;, &#39;s&#39;, &#39;A&#39;, &#39;S&#39;, &#39;e&#39;, &#39;c&#39;, &#39;r&#39;, &#39;e&#39;, &#39;t&#39;, &#39;K&#39;, &#39;e&#39;, &#39;y&#39; };\r\n    \t\r\n         public  String encode(String valueToEnc) throws Exception {\r\n        \tKey key = new SecretKeySpec(keyValue, ALGORITHM);\r\n            Cipher c = Cipher.getInstance(ALGORITHM);\r\n            c.init(Cipher.ENCRYPT_MODE, key);\r\n            byte[] encValue = c.doFinal(valueToEnc.getBytes());\r\n            String encryptedValue = new BASE64Encoder().encode(encValue);\r\n            return encryptedValue;\r\n        }\r\n        \r\n        public  String decode(String encryptedValue) throws Exception {\r\n        \tKey key = new SecretKeySpec(keyValue, ALGORITHM);\r\n            Cipher c = Cipher.getInstance(ALGORITHM);\r\n            c.init(Cipher.DECRYPT_MODE, key);\r\n            byte[] decordedValue = new BASE64Decoder().decodeBuffer(encryptedValue);\r\n            byte[] decValue = c.doFinal(decordedValue);\r\n            String decryptedValue = new String(decValue);\r\n            return decryptedValue;\r\n        }\r\n    \r\n        public  void start(String passcode)throws Exception\r\n        {\r\n        \tkeyValue = passcode.getBytes();\r\n        }\r\n    }\r\n    \r\n\r\n---------------------------------\r\n\r\nAnd this is the error \r\n\r\n    java.security.InvalidKeyException: Invalid AES key length: 6 bytes\r\n    \tcom.sun.crypto.provider.AESCrypt.init(AESCrypt.java:87)\r\n    \tcom.sun.crypto.provider.ElectronicCodeBook.init(ElectronicCodeBook.java:93)\r\n    \tcom.sun.crypto.provider.CipherCore.init(CipherCore.java:582)\r\n    \tcom.sun.crypto.provider.CipherCore.init(CipherCore.java:458)\r\n    \tcom.sun.crypto.provider.AESCipher.engineInit(AESCipher.java:307)\r\n    \tjavax.crypto.Cipher.implInit(Cipher.java:797)\r\n    \tjavax.crypto.Cipher.chooseProvider(Cipher.java:859)\r\n    \tjavax.crypto.Cipher.init(Cipher.java:1229)\r\n    \tjavax.crypto.Cipher.init(Cipher.java:1166)\r\n    \tcom.anoncrypt.services.SymAES.encode(SymAES.java:35)\r\n    \tcom.anoncrypt.actions.SymEncrypt.execute(SymEncrypt.java:24)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to fix Invalid AES key length?","body":"<p>I am working on a <strong>text encryption and decryption</strong> project (following Struts 2)</p>\n\n<p>Whenever I enter the password and the plain text I get a Invalid AES Key Length error.</p>\n\n<p><strong>The Service Class</strong></p>\n\n<pre><code>package com.anoncrypt.services;\n\nimport java.security.Key;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport sun.misc.BASE64Decoder;\nimport sun.misc.BASE64Encoder;\n\npublic class SymAES\n{\n    private static final String ALGORITHM = \"AES\";\n    private static byte[] keyValue= new byte[] { 'T', 'h', 'i', 's', 'I', 's', 'A', 'S', 'e', 'c', 'r', 'e', 't', 'K', 'e', 'y' };\n\n     public  String encode(String valueToEnc) throws Exception {\n        Key key = new SecretKeySpec(keyValue, ALGORITHM);\n        Cipher c = Cipher.getInstance(ALGORITHM);\n        c.init(Cipher.ENCRYPT_MODE, key);\n        byte[] encValue = c.doFinal(valueToEnc.getBytes());\n        String encryptedValue = new BASE64Encoder().encode(encValue);\n        return encryptedValue;\n    }\n\n    public  String decode(String encryptedValue) throws Exception {\n        Key key = new SecretKeySpec(keyValue, ALGORITHM);\n        Cipher c = Cipher.getInstance(ALGORITHM);\n        c.init(Cipher.DECRYPT_MODE, key);\n        byte[] decordedValue = new BASE64Decoder().decodeBuffer(encryptedValue);\n        byte[] decValue = c.doFinal(decordedValue);\n        String decryptedValue = new String(decValue);\n        return decryptedValue;\n    }\n\n    public  void start(String passcode)throws Exception\n    {\n        keyValue = passcode.getBytes();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>And this is the error </p>\n\n<pre><code>java.security.InvalidKeyException: Invalid AES key length: 6 bytes\n    com.sun.crypto.provider.AESCrypt.init(AESCrypt.java:87)\n    com.sun.crypto.provider.ElectronicCodeBook.init(ElectronicCodeBook.java:93)\n    com.sun.crypto.provider.CipherCore.init(CipherCore.java:582)\n    com.sun.crypto.provider.CipherCore.init(CipherCore.java:458)\n    com.sun.crypto.provider.AESCipher.engineInit(AESCipher.java:307)\n    javax.crypto.Cipher.implInit(Cipher.java:797)\n    javax.crypto.Cipher.chooseProvider(Cipher.java:859)\n    javax.crypto.Cipher.init(Cipher.java:1229)\n    javax.crypto.Cipher.init(Cipher.java:1166)\n    com.anoncrypt.services.SymAES.encode(SymAES.java:35)\n    com.anoncrypt.actions.SymEncrypt.execute(SymEncrypt.java:24)\n</code></pre>\n"},{"tags":["java","path","environment-variables","javac","windows-10"],"answers":[{"tags":[],"owner":{"account_id":6836817,"reputation":76,"user_id":5258436,"display_name":"whitecoffee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440652866,"creation_date":1440652866,"answer_id":32241254,"question_id":32241179,"body_markdown":"Its still the same concept, you&#39;ll need to setup path variable so that windows is aware of the java executable and u can run it from command prompt conveniently\r\n\r\nDetails from the java&#39;s own page: https://java.com/en/download/help/path.xml\r\nThat article applies to: ‚Ä¢Platform(s): Solaris SPARC, Solaris x86, Red Hat Linux, SUSE Linux, Windows 8, Windows 7, Vista, Windows XP, Windows 10\r\n ","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<p>Its still the same concept, you'll need to setup path variable so that windows is aware of the java executable and u can run it from command prompt conveniently</p>\n\n<p>Details from the java's own page: <a href=\"https://java.com/en/download/help/path.xml\" rel=\"nofollow\">https://java.com/en/download/help/path.xml</a>\nThat article applies to: ‚Ä¢Platform(s): Solaris SPARC, Solaris x86, Red Hat Linux, SUSE Linux, Windows 8, Windows 7, Vista, Windows XP, Windows 10</p>\n"},{"tags":[],"owner":{"account_id":6843230,"reputation":1396,"user_id":5262825,"display_name":"isurujay"},"down_vote_count":2,"up_vote_count":97,"is_accepted":false,"score":95,"last_activity_date":1440653464,"creation_date":1440653464,"answer_id":32241360,"question_id":32241179,"body_markdown":"Just set the path variable to JDK bin in environment variables. \r\n\r\n    Variable Name : PATH \r\n    Variable Value : C:\\Program Files\\Java\\jdk1.8.0_31\\bin\r\n\r\nBut the best practice is to set JAVA_HOME and PATH as follow.\r\n\r\n    Variable Name : JAVA_HOME\r\n    Variable Value : C:\\Program Files\\Java\\jdk1.8.0_31\r\n\r\n    Variable Name : PATH \r\n    Variable Value : %JAVA_HOME%\\bin\r\n\r\n\r\n   \r\n\r\n\r\n\r\n    \r\n","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<p>Just set the path variable to JDK bin in environment variables. </p>\n\n<pre><code>Variable Name : PATH \nVariable Value : C:\\Program Files\\Java\\jdk1.8.0_31\\bin\n</code></pre>\n\n<p>But the best practice is to set JAVA_HOME and PATH as follow.</p>\n\n<pre><code>Variable Name : JAVA_HOME\nVariable Value : C:\\Program Files\\Java\\jdk1.8.0_31\n\nVariable Name : PATH \nVariable Value : %JAVA_HOME%\\bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1458815466,"creation_date":1458815466,"answer_id":36198046,"question_id":32241179,"body_markdown":"To find the env vars dialog in Windows 10:\r\n\r\n    Right Click Start\r\n    &gt;&gt;  Click Control Panel  (Or you may have System in the list)\r\n    &gt;&gt;  Click System\r\n    &gt;&gt;  Click Advanced system settings\r\n    &gt;&gt;  Go to the Advanced Tab\r\n    &gt;&gt;  Click the &quot;Environment Variables...&quot; button at the bottom of that dialog page.","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<p>To find the env vars dialog in Windows 10:</p>\n\n<pre><code>Right Click Start\n&gt;&gt;  Click Control Panel  (Or you may have System in the list)\n&gt;&gt;  Click System\n&gt;&gt;  Click Advanced system settings\n&gt;&gt;  Go to the Advanced Tab\n&gt;&gt;  Click the \"Environment Variables...\" button at the bottom of that dialog page.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10262006,"reputation":578,"user_id":7573020,"accept_rate":50,"display_name":"Navin prasad"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1496821258,"creation_date":1496821258,"answer_id":44406470,"question_id":32241179,"body_markdown":" - Right click **Computer**\r\n - Click the **properties**\r\n - On the left pane    select **Advanced System Settings**\r\n - Select **Environment Variables**\r\n - Under the **System Variables**, Select **PATH** and click **edit**,  \r\n   and then click **new** and add path as **C:\\Program   \r\n   Files\\Java\\jdk1.8.0_131\\bin** (*depending on your installation path*)  \r\n   and finally click **ok**\r\n - Next restart your command prompt and open it and try *javac*\r\n\r\n","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<ul>\n<li>Right click <strong>Computer</strong></li>\n<li>Click the <strong>properties</strong></li>\n<li>On the left pane    select <strong>Advanced System Settings</strong></li>\n<li>Select <strong>Environment Variables</strong></li>\n<li>Under the <strong>System Variables</strong>, Select <strong>PATH</strong> and click <strong>edit</strong>,<br>\nand then click <strong>new</strong> and add path as <strong>C:\\Program<br>\nFiles\\Java\\jdk1.8.0_131\\bin</strong> (<em>depending on your installation path</em>)<br>\nand finally click <strong>ok</strong></li>\n<li>Next restart your command prompt and open it and try <em>javac</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1779020,"reputation":844,"user_id":1622201,"accept_rate":12,"display_name":"Chandra Shekhar Goka"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1605765409,"creation_date":1513759886,"answer_id":47902024,"question_id":32241179,"body_markdown":"Here are the typical steps to set JAVA_HOME on Windows 10.\r\n\r\n 1. Search for Advanced System Settings in your windows Search box. Click on Advanced System Settings. \r\n 2. Click on **Environment variables** button: Environment Variables popup will open.\r\n 3. Goto **system variables session**, and click on New button to create new variable (HOME_PATH), then New System Variables popup will open.\r\n 4. Give **Variable Name: JAVA_HOME**, and Variable value : Your Java SDK home path. Ex: **C:\\Program Files\\java\\jdk1.8.0_151** Note: It should not include *\\bin*. Then click on OK button.\r\n 5. Now you are able to see your JAVA_HOME in system variables list. (If you are not able to, try doing it again.)\r\n 6. **Select Path** (from system variables list) and **click on Edit button**, A new pop will opens (Edit Environment Variables). It was introduced in windows 10.\r\n 7. Click on New button and give **%JAVA_HOME%\\bin** at highlighted field and click Ok button.\r\n\r\nYou can find complete tutorials on my blog : \r\n\r\n&gt; [How to set JAVA_HOME in 64 bit Windows 10 OS][1]\r\n\r\n  [1]: http://www.onlinetutorialspoint.com/java8/java-8-how-to-set-java_home-on-windows10.html","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<p>Here are the typical steps to set JAVA_HOME on Windows 10.</p>\n<ol>\n<li>Search for Advanced System Settings in your windows Search box. Click on Advanced System Settings.</li>\n<li>Click on <strong>Environment variables</strong> button: Environment Variables popup will open.</li>\n<li>Goto <strong>system variables session</strong>, and click on New button to create new variable (HOME_PATH), then New System Variables popup will open.</li>\n<li>Give <strong>Variable Name: JAVA_HOME</strong>, and Variable value : Your Java SDK home path. Ex: <strong>C:\\Program Files\\java\\jdk1.8.0_151</strong> Note: It should not include <em>\\bin</em>. Then click on OK button.</li>\n<li>Now you are able to see your JAVA_HOME in system variables list. (If you are not able to, try doing it again.)</li>\n<li><strong>Select Path</strong> (from system variables list) and <strong>click on Edit button</strong>, A new pop will opens (Edit Environment Variables). It was introduced in windows 10.</li>\n<li>Click on New button and give <strong>%JAVA_HOME%\\bin</strong> at highlighted field and click Ok button.</li>\n</ol>\n<p>You can find complete tutorials on my blog :</p>\n<blockquote>\n<p><a href=\"http://www.onlinetutorialspoint.com/java8/java-8-how-to-set-java_home-on-windows10.html\" rel=\"noreferrer\">How to set JAVA_HOME in 64 bit Windows 10 OS</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5834407,"reputation":59,"user_id":4597939,"display_name":"Purushoth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598360921,"creation_date":1598360921,"answer_id":63579557,"question_id":32241179,"body_markdown":"Adding Environment Variable simplified with screenshot.\r\nCheck the below URL and you should be able to do without any trouble.\r\n\r\nhttps://itsforlavanya.blogspot.com/2020/08/environment-variable-simple-7-steps-to.html","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<p>Adding Environment Variable simplified with screenshot.\nCheck the below URL and you should be able to do without any trouble.</p>\n<p><a href=\"https://itsforlavanya.blogspot.com/2020/08/environment-variable-simple-7-steps-to.html\" rel=\"nofollow noreferrer\">https://itsforlavanya.blogspot.com/2020/08/environment-variable-simple-7-steps-to.html</a></p>\n"},{"tags":[],"owner":{"account_id":12281822,"reputation":41,"user_id":8963098,"display_name":"tharsikan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613085555,"creation_date":1606465679,"answer_id":65034095,"question_id":32241179,"body_markdown":"if you have any version problems (javac -version=15.0.1, java -version=1.8.0) &lt;br&gt;\r\nwindows search : edit environment variables for your account&lt;br&gt;\r\nthen &lt;b&gt;delete these&lt;/b&gt; in your windows &lt;b&gt;Environment variable: system variable: Path&lt;/b&gt; &lt;br&gt;\r\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath &lt;br&gt;\r\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath&lt;br&gt;\r\n\r\n&lt;b&gt;then if you&#39;re using java 15&lt;/b&gt;&lt;br&gt; \r\nenvironment variable: system variable : Path&lt;br&gt;\r\n&lt;b&gt; add path &lt;/b&gt;  C:\\Program Files\\Java\\jdk-15.0.1\\bin &lt;br&gt;\r\nis enough &lt;br&gt;\r\n\r\n&lt;b&gt;if you&#39;re using java 8 &lt;/b&gt;\r\n&lt;li&gt;create JAVA_HOME&lt;/li&gt;\r\nenvironment variable: system variable : JAVA_HOME&lt;br&gt;\r\n&lt;b&gt;JAVA_HOME&lt;/b&gt; = C:\\Program Files\\Java\\jdk1.8.0_271&lt;br&gt;\r\n&lt;li&gt;environment variable: system variable : Path&lt;br&gt;\r\n&lt;b&gt;add path&lt;/b&gt; = %JAVA_HOME%\\bin\r\n","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<p>if you have any version problems (javac -version=15.0.1, java -version=1.8.0) <br>\nwindows search : edit environment variables for your account<br>\nthen <b>delete these</b> in your windows <b>Environment variable: system variable: Path</b> <br>\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath <br>\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath<br></p>\n<p><b>then if you're using java 15</b><br>\nenvironment variable: system variable : Path<br>\n<b> add path </b>  C:\\Program Files\\Java\\jdk-15.0.1\\bin <br>\nis enough <br></p>\n<p><b>if you're using java 8 </b></p>\n<li>create JAVA_HOME</li>\nenvironment variable: system variable : JAVA_HOME<br>\n<b>JAVA_HOME</b> = C:\\Program Files\\Java\\jdk1.8.0_271<br>\n<li>environment variable: system variable : Path<br>\n<b>add path</b> = %JAVA_HOME%\\bin\n"}],"owner":{"account_id":4345380,"reputation":649,"user_id":4144146,"display_name":"kilmarta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276997,"favorite_count":0,"down_vote_count":1,"up_vote_count":55,"answer_count":7,"score":54,"last_activity_date":1685646233,"creation_date":1440652393,"question_id":32241179,"body_markdown":"I got a new laptop with Windows 10 and I want to set it up so I can use `java` and `javac` from the command line.\r\n\r\nI have searched online but all the guides are for previous versions, and I don&#39;t want to mess around with something I don&#39;t understand.\r\n","title":"Setting up enviroment variables in Windows 10 to use java and javac","body":"<p>I got a new laptop with Windows 10 and I want to set it up so I can use <code>java</code> and <code>javac</code> from the command line.</p>\n\n<p>I have searched online but all the guides are for previous versions, and I don't want to mess around with something I don't understand.</p>\n"},{"tags":["java","firebase","android-studio","google-cloud-firestore"],"comments":[{"owner":{"account_id":9500256,"reputation":983,"user_id":7061661,"display_name":"P&#233;ter Veres"},"score":1,"creation_date":1685655495,"post_id":76384958,"comment_id":134695174,"body_markdown":"hi, please improve the question by at least adding the error that you received in a code block.","body":"hi, please improve the question by at least adding the error that you received in a code block."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1685666638,"post_id":76384958,"comment_id":134696459,"body_markdown":"Collections are automatically created when you add a document to them, and automatically deleted when you delete the last document from them. There is no separate operation to create/delete a collection. --- If you&#39;re struggling to make this work, please edit your question to show the [minimal code that reproduces where you are stuck](http://stackoverflow.com/help/mcve) (read the link please, it&#39;s quite useful).","body":"Collections are automatically created when you add a document to them, and automatically deleted when you delete the last document from them. There is no separate operation to create/delete a collection. --- If you&#39;re struggling to make this work, please edit your question to show the <a href=\"http://stackoverflow.com/help/mcve\">minimal code that reproduces where you are stuck</a> (read the link please, it&#39;s quite useful)."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685694660,"post_id":76384958,"comment_id":134699825,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":28730699,"reputation":1,"user_id":22002725,"display_name":"kamalesh reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685646200,"creation_date":1685646200,"question_id":76384958,"body_markdown":"I am trying to programmatically create a new firestore collection using a variable as the collection reference, but I keep getting an error, is there some specific way to do this, which isnt mentioned in the documentation, or this just cant be done. This is for java in android studio btw.\r\n\r\nI tried using a varible as the collection refernce but it doesnt work.","title":"Is it possible to implicitly create a new firestore collection using java","body":"<p>I am trying to programmatically create a new firestore collection using a variable as the collection reference, but I keep getting an error, is there some specific way to do this, which isnt mentioned in the documentation, or this just cant be done. This is for java in android studio btw.</p>\n<p>I tried using a varible as the collection refernce but it doesnt work.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4266521,"reputation":361,"user_id":3489516,"display_name":"apaluk"},"score":0,"creation_date":1685640764,"post_id":76383987,"comment_id":134692375,"body_markdown":"Use `getSystemService(Context.NOTIFICATION_SERVICE)`.","body":"Use <code>getSystemService(Context.NOTIFICATION_SERVICE)</code>."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1685644833,"post_id":76383987,"comment_id":134693209,"body_markdown":"It didn&#39;t work for me","body":"It didn&#39;t work for me"}],"answers":[{"tags":[],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685644882,"creation_date":1685644882,"answer_id":76384806,"question_id":76383987,"body_markdown":"I found this was my solution:\r\n\r\n        \r\n\r\n    NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n","title":"Notification Manager getSystemService() call not working","body":"<p>I found this was my solution:</p>\n<pre><code>NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n</code></pre>\n"}],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76384806,"answer_count":1,"score":0,"last_activity_date":1685644882,"creation_date":1685637131,"question_id":76383987,"body_markdown":"I am following [this][1] tutorial on creating notifications\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/notifications/build-notification\r\n\r\n\r\nHowever, I cannot seem to do the following:\r\n\r\n    NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n\r\nBecause my Android studio reports the error:\r\n\r\n    Required Type: Context\r\n    Provided: Class &lt;android.app.NotificationManager&gt;\r\n    reason: Class&lt;NotificationManager&gt; is not compatible with Context\r\n\r\n\r\nPlease let me know how to resolve this issue.\r\n\r\n","title":"Notification Manager getSystemService() call not working","body":"<p>I am following <a href=\"https://developer.android.com/develop/ui/views/notifications/build-notification\" rel=\"nofollow noreferrer\">this</a> tutorial on creating notifications</p>\n<p>However, I cannot seem to do the following:</p>\n<pre><code>NotificationManager notificationManager = getSystemService(NotificationManager.class);\n</code></pre>\n<p>Because my Android studio reports the error:</p>\n<pre><code>Required Type: Context\nProvided: Class &lt;android.app.NotificationManager&gt;\nreason: Class&lt;NotificationManager&gt; is not compatible with Context\n</code></pre>\n<p>Please let me know how to resolve this issue.</p>\n"},{"tags":["java","hibernate","reverse-engineering","hibernate3-maven-plugin"],"owner":{"account_id":609731,"reputation":444,"user_id":332319,"accept_rate":67,"display_name":"Kjeld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685644775,"creation_date":1685644775,"question_id":76384796,"body_markdown":"I am trying to generate Java entities from tables using hibernate3-maven-plugin and its hbm2java goal. Using reverse engineering (my custom implementation of ReverseEngineeringStrategy) I am having all entities extend a supertype class called AbstractDomainObject. \r\n\r\nThe supertype is a abstract class annotated with @MappedSuperclass. It has a Long id and a getter and setter for that id. \r\n\r\n    private Long id;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = IDENTITY)\r\n\t//@Basic(optional = false)\r\n\t@Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n\tpublic Long getId() {\r\n\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(final Long id) {\r\n\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\r\n\r\nUsing reveng.xml I am trying to exclude the id column (PK) from all entities, so the entities will reuse the id code from the superclass. \r\n\r\n    &lt;table name=&quot;ACCOUNT&quot; catalog=&quot;finsys&quot;&gt;\r\n\t\t&lt;column name=&quot;id&quot; exclude=&quot;true&quot; /&gt;\r\n\t&lt;/table&gt;\r\n\r\nHowever, when I build the code, I get this error:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:hibernate3-maven-plugin:3.0:hbm2java (default) on project finsys-boot: There was an error creating the AntRun task.: An Ant BuildException has occured: org.hibernate.cfg.JDBCBinderException: sqltype is null for Table: finsys.ACCOUNT column: id -&gt; [Help 1]\r\n\r\nApparently it does not allow me to exclude the primary key column from the process, even though the entities conform to a mapped supertype that contains the id. \r\n\r\nDoes anyone know how to solve this? It all succeeds when not excluding the id column. \r\n\r\nSome more info. \r\n\r\nThe plugin:\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${hibernate3-maven-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;hbm2java&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;hibernatetool&gt;\r\n\t\t\t\t\t\t&lt;jdbcconfiguration\r\n\t\t\t\t\t\t\tpackagename=&quot;com.maescaprey.finsys.domain&quot;\r\n\t\t\t\t\t\t\tpropertyfile=&quot;src/main/resources/hbm2java.hibernate.properties&quot;\r\n\t\t\t\t\t\t\trevengfile=&quot;src/main/resources/model.reveng.xml&quot;\r\n\t\t\t\t\t\t\treversestrategy=&quot;com.maescaprey.finsys.utility.persistence.FinSysReverseEngineeringStrategy&quot; \r\n\t\t\t\t\t\t/&gt;\r\n\t\t\t\t\t\t&lt;hbm2java jdk5=&quot;true&quot; ejb3=&quot;true&quot;\r\n\t\t\t\t\t\t\tdestdir=&quot;${project.build.directory}/generated-sources&quot; /&gt;\r\n\t\t\t\t\t&lt;/hibernatetool&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${hibernate-tools.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nAnother plugin to put the generated source on the classpath (in IDE) : \r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;${project.build.directory}/generated-sources&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nFinally the ReverseEngineeringStrategy method that makes the entities extend AbstractDomainObject:\r\n\r\n    @Override\r\n\tpublic Map&lt;String, MetaAttribute&gt; tableToMetaAttributes(final TableIdentifier tableIdentifier) {\r\n\r\n\t\tMap&lt;String, MetaAttribute&gt; metaAttributes = super.tableToMetaAttributes(tableIdentifier);\r\n\t\tif (metaAttributes == null) {\r\n\t\t\tmetaAttributes = new HashMap&lt;String, MetaAttribute&gt;();\r\n\t\t}\r\n\r\n\t\tfinal MetaAttribute extendsAttribute = new MetaAttribute(&quot;extends&quot;);\r\n\t\textendsAttribute.addValue(AbstractDomainObject.class.getSimpleName());\r\n\t\tmetaAttributes.put(&quot;extends&quot;, extendsAttribute);\r\n\r\n        ... // some more MetaAttributes here\r\n\t\r\n\t\treturn metaAttributes;\r\n\t}\r\n\r\n\r\n","title":"Ant BuildException org.hibernate.cfg.JDBCBinderException: sqltype is null for Table, when excluding Primary Key while reverse engineering code","body":"<p>I am trying to generate Java entities from tables using hibernate3-maven-plugin and its hbm2java goal. Using reverse engineering (my custom implementation of ReverseEngineeringStrategy) I am having all entities extend a supertype class called AbstractDomainObject.</p>\n<p>The supertype is a abstract class annotated with @MappedSuperclass. It has a Long id and a getter and setter for that id.</p>\n<pre><code>private Long id;\n\n@Id\n@GeneratedValue(strategy = IDENTITY)\n//@Basic(optional = false)\n@Column(name = &quot;id&quot;, unique = true, nullable = false)\npublic Long getId() {\n\n    return id;\n}\n\npublic void setId(final Long id) {\n\n    this.id = id;\n}\n</code></pre>\n<p>Using reveng.xml I am trying to exclude the id column (PK) from all entities, so the entities will reuse the id code from the superclass.</p>\n<pre><code>&lt;table name=&quot;ACCOUNT&quot; catalog=&quot;finsys&quot;&gt;\n    &lt;column name=&quot;id&quot; exclude=&quot;true&quot; /&gt;\n&lt;/table&gt;\n</code></pre>\n<p>However, when I build the code, I get this error:</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:hibernate3-maven-plugin:3.0:hbm2java (default) on project finsys-boot: There was an error creating the AntRun task.: An Ant BuildException has occured: org.hibernate.cfg.JDBCBinderException: sqltype is null for Table: finsys.ACCOUNT column: id -&gt; [Help 1]\n</code></pre>\n<p>Apparently it does not allow me to exclude the primary key column from the process, even though the entities conform to a mapped supertype that contains the id.</p>\n<p>Does anyone know how to solve this? It all succeeds when not excluding the id column.</p>\n<p>Some more info.</p>\n<p>The plugin:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate3-maven-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;hbm2java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;hibernatetool&gt;\n                    &lt;jdbcconfiguration\n                        packagename=&quot;com.maescaprey.finsys.domain&quot;\n                        propertyfile=&quot;src/main/resources/hbm2java.hibernate.properties&quot;\n                        revengfile=&quot;src/main/resources/model.reveng.xml&quot;\n                        reversestrategy=&quot;com.maescaprey.finsys.utility.persistence.FinSysReverseEngineeringStrategy&quot; \n                    /&gt;\n                    &lt;hbm2java jdk5=&quot;true&quot; ejb3=&quot;true&quot;\n                        destdir=&quot;${project.build.directory}/generated-sources&quot; /&gt;\n                &lt;/hibernatetool&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\n                    &lt;version&gt;${hibernate-tools.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Another plugin to put the generated source on the classpath (in IDE) :</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;add-source&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;${project.build.directory}/generated-sources&lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Finally the ReverseEngineeringStrategy method that makes the entities extend AbstractDomainObject:</p>\n<pre><code>@Override\npublic Map&lt;String, MetaAttribute&gt; tableToMetaAttributes(final TableIdentifier tableIdentifier) {\n\n    Map&lt;String, MetaAttribute&gt; metaAttributes = super.tableToMetaAttributes(tableIdentifier);\n    if (metaAttributes == null) {\n        metaAttributes = new HashMap&lt;String, MetaAttribute&gt;();\n    }\n\n    final MetaAttribute extendsAttribute = new MetaAttribute(&quot;extends&quot;);\n    extendsAttribute.addValue(AbstractDomainObject.class.getSimpleName());\n    metaAttributes.put(&quot;extends&quot;, extendsAttribute);\n\n    ... // some more MetaAttributes here\n\n    return metaAttributes;\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":17439309,"reputation":2474,"user_id":12641717,"display_name":"AlexisG"},"score":0,"creation_date":1603649232,"post_id":64526433,"comment_id":114097044,"body_markdown":"Does this answer your question? [Spring Boot setting up MongoDB repository](https://stackoverflow.com/questions/38819112/spring-boot-setting-up-mongodb-repository)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38819112/spring-boot-setting-up-mongodb-repository\">Spring Boot setting up MongoDB repository</a>"},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603651368,"post_id":64526433,"comment_id":114097696,"body_markdown":"This might be helpful too: https://stackoverflow.com/questions/8709049/exception-while-connecting-through-spring-data-to-mongodb","body":"This might be helpful too: <a href=\"https://stackoverflow.com/questions/8709049/exception-while-connecting-through-spring-data-to-mongodb\" title=\"exception while connecting through spring data to mongodb\">stackoverflow.com/questions/8709049/&hellip;</a>"},{"owner":{"account_id":14217834,"reputation":135,"user_id":10271186,"display_name":"PiotrKulesza"},"score":0,"creation_date":1603661630,"post_id":64526433,"comment_id":114100559,"body_markdown":"@Aman and @AlexisG I have already checked these topics, but the problem there was not giving the name of the database. However, I provided it here: `spring.data.mongodb.database=projectdb`. After I added this: `spring.data.mongodb.uri=mongodb://172.25.1.5:27017/projectdb` the error has changed. I will add a error to the topic in the edit.","body":"@Aman and @AlexisG I have already checked these topics, but the problem there was not giving the name of the database. However, I provided it here: <code>spring.data.mongodb.database=projectdb</code>. After I added this: <code>spring.data.mongodb.uri=mongodb:&#47;&#47;172.25.1.5:27017&#47;projectdb</code> the error has changed. I will add a error to the topic in the edit."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1603662525,"post_id":64526433,"comment_id":114100790,"body_markdown":"Replace the **uri** with `mongodb://username:password@172.25.1.5:27017/projectdb`","body":"Replace the <b>uri</b> with <code>mongodb:&#47;&#47;username:password@172.25.1.5:27017&#47;projectdb</code>"},{"owner":{"account_id":14217834,"reputation":135,"user_id":10271186,"display_name":"PiotrKulesza"},"score":0,"creation_date":1603662974,"post_id":64526433,"comment_id":114100889,"body_markdown":"@Aman I don&#39;t have a user or password. First I created them, but when the error started to show up, I removed them. I wanted to see if it would help. Unfortunately not. The same errors appeared","body":"@Aman I don&#39;t have a user or password. First I created them, but when the error started to show up, I removed them. I wanted to see if it would help. Unfortunately not. The same errors appeared"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1603706289,"post_id":64526433,"comment_id":114110544,"body_markdown":"You can also see this post about configuration: [How to initialize MongoClient once in spring boot and export it to use its methods?](https://stackoverflow.com/questions/61663741/how-to-initialize-mongoclient-once-in-spring-boot-and-export-it-to-use-its-metho/61677205#61677205)","body":"You can also see this post about configuration: <a href=\"https://stackoverflow.com/questions/61663741/how-to-initialize-mongoclient-once-in-spring-boot-and-export-it-to-use-its-metho/61677205#61677205\">How to initialize MongoClient once in spring boot and export it to use its methods?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1603727209,"creation_date":1603663640,"answer_id":64529329,"question_id":64526433,"body_markdown":"Try using the following config class from the documentation:\r\n```\r\n@Configuration\r\nclass ApplicationConfig extends AbstractMongoClientConfiguration {\r\n\r\n  \r\n  @Value(&quot;${spring.data.mongodb.uri}&quot;)\r\n  public String mongoUri;\r\n\r\n  @Override\r\n  protected void configureClientSettings(MongoClientSettings.Builder builder) {\r\n      builder.applyConnectionString(new ConnectionString(mongoUri));\r\n  }\r\n\r\n  @Override\r\n  protected String getDatabaseName() {\r\n    return &quot;projectdb&quot;;\r\n  }\r\n}\r\n````","title":"Error when trying to send data from the spring application to mongodb on remote server","body":"<p>Try using the following config class from the documentation:</p>\n<pre><code>@Configuration\nclass ApplicationConfig extends AbstractMongoClientConfiguration {\n\n  \n  @Value(&quot;${spring.data.mongodb.uri}&quot;)\n  public String mongoUri;\n\n  @Override\n  protected void configureClientSettings(MongoClientSettings.Builder builder) {\n      builder.applyConnectionString(new ConnectionString(mongoUri));\n  }\n\n  @Override\n  protected String getDatabaseName() {\n    return &quot;projectdb&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685644353,"creation_date":1685644353,"answer_id":76384744,"question_id":64526433,"body_markdown":"If coming from SpringBoot 3.1.0...It&#39;s a known error and reported [here][1].\r\n\r\nworkaround is add the Db name in the uri itself.Example below. Worked for me\r\n\r\n    spring.data.mongodb.database=demo-db\r\n    spring.data.mongodb.uri=mongodb://localhost:27018/${spring.data.mongodb.database}?readPreference=primaryPreferred&amp;directConnection=true\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/35566\r\n","title":"Error when trying to send data from the spring application to mongodb on remote server","body":"<p>If coming from SpringBoot 3.1.0...It's a known error and reported <a href=\"https://github.com/spring-projects/spring-boot/issues/35566\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>workaround is add the Db name in the uri itself.Example below. Worked for me</p>\n<pre><code>spring.data.mongodb.database=demo-db\nspring.data.mongodb.uri=mongodb://localhost:27018/${spring.data.mongodb.database}?readPreference=primaryPreferred&amp;directConnection=true\n</code></pre>\n"}],"owner":{"account_id":14217834,"reputation":135,"user_id":10271186,"display_name":"PiotrKulesza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64529329,"answer_count":2,"score":0,"last_activity_date":1685644353,"creation_date":1603645257,"question_id":64526433,"body_markdown":"I am trying to create a website that will connect to the databases on the external host. For this purpose, I created two virtual machines. One contains the MongoDB database, and the other one contains the website created in spring-boot + react. I am currently at the stage of creating a RestController. I got this error when trying to send a test request:\r\n\r\n    2020-10-25 17:39:38.492 ERROR 25849 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;&#39;, source=&#39;&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;&#39;, source=&#39;&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}] with root cause\r\n    \r\n    java.lang.IllegalArgumentException: state should be: databaseName is not empty\r\n    \tat com.mongodb.assertions.Assertions.isTrueArgument(Assertions.java:101) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.MongoNamespace.checkDatabaseNameValidity(MongoNamespace.java:59) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.MongoNamespace.&lt;init&gt;(MongoNamespace.java:108) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.getCommandMessage(CommandHelper.java:89) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:158) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:40) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:54) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:47) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:207) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:47) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:152) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:61) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:128) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:50) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:435) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:117) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:102) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:90) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:119) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:628) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:625) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withReadConnectionSource(OperationHelper.java:462) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:625) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:77) ~[mongodb-driver-core-4.0.5.jar:na]\r\n    \tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:190) ~[mongodb-driver-sync-4.0.5.jar:na]\r\n    \tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135) ~[mongodb-driver-sync-4.0.5.jar:na]\r\n    \tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92) ~[mongodb-driver-sync-4.0.5.jar:na]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2782) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2518) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2500) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:856) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\r\n    \tat org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:383) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\r\n    \tat org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:205) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\r\n    \tat org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:55) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_265]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_265]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_265]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_265]\r\n    \tat org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat com.sun.proxy.$Proxy65.findAll(Unknown Source) ~[na:na]\r\n    \tat com.project.videoSerwis.services.RoleService.getRoles(RoleService.java:28) ~[classes/:na]\r\n    \tat com.project.videoSerwis.controller.VideoServiceController.getRoles(VideoServiceController.java:93) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_265]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_265]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_265]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_265]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_265]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_265]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_265]\r\n\r\n**I test Request with swagger.**\r\n\r\nFrom what I understand, the application is connecting to the database but cannot see my database. That&#39;s why I put a test insert to force db to show up in the `show dbs`.\r\n\r\n    admin      0.000GB\r\n    config     0.000GB\r\n    local      0.000GB\r\n    projectdb  0.000GB\r\n\r\nHowever, it did not help.\r\n\r\nYou can see my application.properties below.\r\n\r\n    spring.data.mongodb.authentication-database=\r\n    spring.data.mongodb.database=projectdb\r\n    spring.data.mongodb.field-naming-strategy=\r\n    spring.data.mongodb.grid-fs-database=\r\n    spring.data.mongodb.host=172.25.1.5\r\n    spring.data.mongodb.password=\r\n    spring.data.mongodb.port=27017\r\n    spring.data.mongodb.username=\r\n\r\nBelow is my RestController, I don&#39;t know if it will be useful but still I add it.\r\n\r\n    @RestController\r\n    @CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n    public class VideoServiceController {\r\n    \r\n        @Autowired\r\n        private IUserService iUserService;\r\n    \r\n        @Autowired\r\n        private IRoleService iRoleService;\r\n    \r\n    \r\n        @RequestMapping(value = &quot;/postUser&quot;, method = RequestMethod.POST)\r\n        @ResponseBody\r\n        public void postUser(@ModelAttribute UserPOJO userPOJO) {\r\n    \r\n    \r\n            iUserService.postUser(userPOJO);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/getUsers&quot;, method = RequestMethod.GET)\r\n        @ResponseBody\r\n        public List&lt;UserPOJO&gt; getUsers() {\r\n    \r\n    \r\n            return iUserService.getUserPojo();\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/getUsersById&quot;, method = RequestMethod.GET)\r\n        @ResponseBody\r\n        public UserPOJO getUsersById(@RequestParam(&quot;Id&quot;) String id) {\r\n    \r\n    \r\n            return iUserService.getUserById(id);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/getUserByEmailAndPass&quot;, method = RequestMethod.GET)\r\n        @ResponseBody\r\n        public UserPOJO getUserByEmailAndPass(@RequestParam(&quot;email&quot;) String email,\r\n                                          @RequestParam(&quot;password&quot;) String password) {\r\n    \r\n    \r\n    \r\n            return iUserService.getUserByEmailAndPassword(email,password);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/putPassword&quot;, method = RequestMethod.PUT)\r\n        @ResponseBody\r\n        public void putPassword(@RequestParam(&quot;id&quot;) String id,@RequestParam(&quot;newPass&quot;) String newPass,\r\n                                @RequestParam(&quot;oldPass&quot;) String oldPass) {\r\n    \r\n            iUserService.putPassword(id,newPass,oldPass);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/deleteUser&quot;, method = RequestMethod.DELETE)\r\n        @ResponseBody\r\n        public Boolean deleteUser(@RequestParam(&quot;id&quot;) String id) {\r\n    \r\n            return iUserService.deleteUser(id);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/postRole&quot;, method = RequestMethod.POST)\r\n        @ResponseBody\r\n        public void postRole(@ModelAttribute RolePOJO role) {\r\n    \r\n    \r\n    \r\n            iRoleService.postRole(role);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/getRoles&quot;, method = RequestMethod.GET)\r\n        @ResponseBody\r\n        public List&lt;RolePOJO&gt; getRoles() {\r\n    \r\n    \r\n    \r\n            return iRoleService.getRoles();\r\n    \r\n        }\r\n        //5eca9ef4bf824a6544b732a5 USER\r\n        @RequestMapping(value = &quot;/deleteRole&quot;, method = RequestMethod.DELETE)\r\n        @ResponseBody\r\n        public Boolean deleteRole(@RequestParam(&quot;id&quot;) String id) {\r\n    \r\n    \r\n    \r\n            return iRoleService.deleteRole(id);\r\n    \r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/putUserRole&quot;, method = RequestMethod.PUT)\r\n        @ResponseBody\r\n        public void putUserRole(@RequestParam(&quot;userId&quot;) String userId, @RequestParam(&quot;roleName&quot;) String roleName) {\r\n    \r\n            iUserService.putUserRole(userId, roleName);\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nI can definitely connect with both hosts, I have already tested this. **Has anyone had such problems and could advise on how to fix it?**\r\n\r\n\r\n**Edit 1**\r\n\r\nAfter replacing these lines:\r\n\r\n    spring.data.mongodb.database=projectdb\r\n    spring.data.mongodb.host=172.25.1.5\r\n    spring.data.mongodb.port=27017\r\n\r\nWith:\r\n\r\n    spring.data.mongodb.uri=mongodb://172.25.1.5:27017/projectdb\r\n\r\n\r\nThis error began to appear (There were more errors, but all the others were caused by this one):\r\n\r\n    Caused by: java.lang.IllegalStateException: Invalid mongo configuration, either uri or host/port/credentials/replicaSet must be specified\r\n    \tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.validateConfiguration(MongoClientFactorySupport.java:79) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.computeClientSettings(MongoClientFactorySupport.java:68) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.createMongoClient(MongoClientFactorySupport.java:61) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration.mongo(MongoAutoConfiguration.java:57) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_265]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_265]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_265]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_265]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \t... 85 common frames omitted\r\n\r\n\r\nI am also adding my pom.xml file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.project&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;videoSerwis&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;videoSerwis&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.4.16.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxjava --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;rxjava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.19&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Edit 2**\r\n\r\nThis topic: https://stackoverflow.com/questions/38819112/spring-boot-setting-up-mongodb-repository unfortunately, it cannot help me. It mentions adding the name of the database but I already added it as I wrote in the commentary. Something else must be causing this error. ","title":"Error when trying to send data from the spring application to mongodb on remote server","body":"<p>I am trying to create a website that will connect to the databases on the external host. For this purpose, I created two virtual machines. One contains the MongoDB database, and the other one contains the website created in spring-boot + react. I am currently at the stage of creating a RestController. I got this error when trying to send a test request:</p>\n<pre><code>2020-10-25 17:39:38.492 ERROR 25849 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='', source='', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='', source='', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}] with root cause\n\njava.lang.IllegalArgumentException: state should be: databaseName is not empty\n    at com.mongodb.assertions.Assertions.isTrueArgument(Assertions.java:101) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.MongoNamespace.checkDatabaseNameValidity(MongoNamespace.java:59) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.MongoNamespace.&lt;init&gt;(MongoNamespace.java:108) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.getCommandMessage(CommandHelper.java:89) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:158) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:40) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:54) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:47) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:207) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:47) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:152) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:61) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:128) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:50) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:435) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:117) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:102) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:90) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:119) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:628) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.operation.FindOperation$1.call(FindOperation.java:625) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withReadConnectionSource(OperationHelper.java:462) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:625) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:77) ~[mongodb-driver-core-4.0.5.jar:na]\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:190) ~[mongodb-driver-sync-4.0.5.jar:na]\n    at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:135) ~[mongodb-driver-sync-4.0.5.jar:na]\n    at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:92) ~[mongodb-driver-sync-4.0.5.jar:na]\n    at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:2782) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\n    at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2518) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\n    at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2500) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\n    at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:856) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\n    at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:383) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\n    at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:205) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\n    at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findAll(SimpleMongoRepository.java:55) ~[spring-data-mongodb-3.0.4.RELEASE.jar:3.0.4.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_265]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_265]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_265]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_265]\n    at org.springframework.data.repository.core.support.ImplementationInvocationMetadata.invoke(ImplementationInvocationMetadata.java:72) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:382) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:205) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:549) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:155) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at com.sun.proxy.$Proxy65.findAll(Unknown Source) ~[na:na]\n    at com.project.videoSerwis.services.RoleService.getRoles(RoleService.java:28) ~[classes/:na]\n    at com.project.videoSerwis.controller.VideoServiceController.getRoles(VideoServiceController.java:93) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_265]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_265]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_265]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_265]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_265]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_265]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.38.jar:9.0.38]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_265]\n</code></pre>\n<p><strong>I test Request with swagger.</strong></p>\n<p>From what I understand, the application is connecting to the database but cannot see my database. That's why I put a test insert to force db to show up in the <code>show dbs</code>.</p>\n<pre><code>admin      0.000GB\nconfig     0.000GB\nlocal      0.000GB\nprojectdb  0.000GB\n</code></pre>\n<p>However, it did not help.</p>\n<p>You can see my application.properties below.</p>\n<pre><code>spring.data.mongodb.authentication-database=\nspring.data.mongodb.database=projectdb\nspring.data.mongodb.field-naming-strategy=\nspring.data.mongodb.grid-fs-database=\nspring.data.mongodb.host=172.25.1.5\nspring.data.mongodb.password=\nspring.data.mongodb.port=27017\nspring.data.mongodb.username=\n</code></pre>\n<p>Below is my RestController, I don't know if it will be useful but still I add it.</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\npublic class VideoServiceController {\n\n    @Autowired\n    private IUserService iUserService;\n\n    @Autowired\n    private IRoleService iRoleService;\n\n\n    @RequestMapping(value = &quot;/postUser&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public void postUser(@ModelAttribute UserPOJO userPOJO) {\n\n\n        iUserService.postUser(userPOJO);\n\n    }\n\n    @RequestMapping(value = &quot;/getUsers&quot;, method = RequestMethod.GET)\n    @ResponseBody\n    public List&lt;UserPOJO&gt; getUsers() {\n\n\n        return iUserService.getUserPojo();\n\n    }\n\n    @RequestMapping(value = &quot;/getUsersById&quot;, method = RequestMethod.GET)\n    @ResponseBody\n    public UserPOJO getUsersById(@RequestParam(&quot;Id&quot;) String id) {\n\n\n        return iUserService.getUserById(id);\n    }\n\n    @RequestMapping(value = &quot;/getUserByEmailAndPass&quot;, method = RequestMethod.GET)\n    @ResponseBody\n    public UserPOJO getUserByEmailAndPass(@RequestParam(&quot;email&quot;) String email,\n                                      @RequestParam(&quot;password&quot;) String password) {\n\n\n\n        return iUserService.getUserByEmailAndPassword(email,password);\n\n    }\n\n    @RequestMapping(value = &quot;/putPassword&quot;, method = RequestMethod.PUT)\n    @ResponseBody\n    public void putPassword(@RequestParam(&quot;id&quot;) String id,@RequestParam(&quot;newPass&quot;) String newPass,\n                            @RequestParam(&quot;oldPass&quot;) String oldPass) {\n\n        iUserService.putPassword(id,newPass,oldPass);\n\n    }\n\n    @RequestMapping(value = &quot;/deleteUser&quot;, method = RequestMethod.DELETE)\n    @ResponseBody\n    public Boolean deleteUser(@RequestParam(&quot;id&quot;) String id) {\n\n        return iUserService.deleteUser(id);\n\n    }\n\n    @RequestMapping(value = &quot;/postRole&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public void postRole(@ModelAttribute RolePOJO role) {\n\n\n\n        iRoleService.postRole(role);\n\n    }\n\n    @RequestMapping(value = &quot;/getRoles&quot;, method = RequestMethod.GET)\n    @ResponseBody\n    public List&lt;RolePOJO&gt; getRoles() {\n\n\n\n        return iRoleService.getRoles();\n\n    }\n    //5eca9ef4bf824a6544b732a5 USER\n    @RequestMapping(value = &quot;/deleteRole&quot;, method = RequestMethod.DELETE)\n    @ResponseBody\n    public Boolean deleteRole(@RequestParam(&quot;id&quot;) String id) {\n\n\n\n        return iRoleService.deleteRole(id);\n\n    }\n\n    @RequestMapping(value = &quot;/putUserRole&quot;, method = RequestMethod.PUT)\n    @ResponseBody\n    public void putUserRole(@RequestParam(&quot;userId&quot;) String userId, @RequestParam(&quot;roleName&quot;) String roleName) {\n\n        iUserService.putUserRole(userId, roleName);\n\n\n    }\n\n\n}\n</code></pre>\n<p>I can definitely connect with both hosts, I have already tested this. <strong>Has anyone had such problems and could advise on how to fix it?</strong></p>\n<p><strong>Edit 1</strong></p>\n<p>After replacing these lines:</p>\n<pre><code>spring.data.mongodb.database=projectdb\nspring.data.mongodb.host=172.25.1.5\nspring.data.mongodb.port=27017\n</code></pre>\n<p>With:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://172.25.1.5:27017/projectdb\n</code></pre>\n<p>This error began to appear (There were more errors, but all the others were caused by this one):</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Invalid mongo configuration, either uri or host/port/credentials/replicaSet must be specified\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.validateConfiguration(MongoClientFactorySupport.java:79) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.computeClientSettings(MongoClientFactorySupport.java:68) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.createMongoClient(MongoClientFactorySupport.java:61) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration.mongo(MongoAutoConfiguration.java:57) ~[spring-boot-autoconfigure-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_265]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_265]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_265]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_265]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    ... 85 common frames omitted\n</code></pre>\n<p>I am also adding my pom.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;videoSerwis&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;videoSerwis&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.16.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.reactivex.rxjava2/rxjava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;\n            &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n            &lt;version&gt;2.2.19&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Edit 2</strong></p>\n<p>This topic: <a href=\"https://stackoverflow.com/questions/38819112/spring-boot-setting-up-mongodb-repository\">Spring Boot setting up MongoDB repository</a> unfortunately, it cannot help me. It mentions adding the name of the database but I already added it as I wrote in the commentary. Something else must be causing this error.</p>\n"},{"tags":["java","spring","spring-boot","azure"],"answers":[{"tags":[],"owner":{"account_id":25804247,"reputation":26,"user_id":19618963,"display_name":"mumurug-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680020286,"creation_date":1680020250,"answer_id":75868664,"question_id":75789641,"body_markdown":"@Charu Jain Currently, azure app configuration library is compatible with Spring Boot 2.7* as described in release notes [here][1]. Our product team is working on the version that works with Spring Boot 3 and ETA is April 2023 (subject to change based on other factors). I suggest you follow release notes on the latest updates. I hope this helps. \r\n\r\n\r\n  [1]: https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/spring/spring-cloud-azure-appconfiguration-config/CHANGELOG.md","title":"In Java, Azure Dynamic Refresh using Poll method doesn&#39;t work with spring boot 3.x.x","body":"<p>@Charu Jain Currently, azure app configuration library is compatible with Spring Boot 2.7* as described in release notes <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/spring/spring-cloud-azure-appconfiguration-config/CHANGELOG.md\" rel=\"nofollow noreferrer\">here</a>. Our product team is working on the version that works with Spring Boot 3 and ETA is April 2023 (subject to change based on other factors). I suggest you follow release notes on the latest updates. I hope this helps.</p>\n"}],"owner":{"account_id":2615962,"reputation":872,"user_id":2265001,"accept_rate":47,"display_name":"Charu Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75868664,"answer_count":1,"score":0,"last_activity_date":1685644309,"creation_date":1679311187,"question_id":75789641,"body_markdown":"I have a spring boot application on v3.0.0 and I have successfully integrated it with azure app configuration library to fetch the application configuration&#39;s into my app.\r\n\r\nHowever I am facing issues with dynamic Refresh with Poll method as mentioned here: https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app\r\n\r\nI have followed all steps mentioned here and it is not refreshing configuration in my spring boot application on v.3.0.0. Also didn&#39;t gave any issue on logs too.\r\n\r\nNow, As soon as I degraded my spring boot application version from 3.x.x to 2.7.9.\r\nDynamic refresh started to work without any issue.\r\n\r\n**Has anyone else also has experienced similar issue of dynamic refresh with boot on 3.x.x ? or \r\nAny idea of its fix in latest spring boot version ?**\r\n\r\nPS: I have tried and tested with latest spring boot version also i.e. 3.0.4. It doesn&#39;t work with it too. \r\n\r\nAlso I am using latest version of app-config library. i.e  \r\n\r\n    `&lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;  \r\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config-web&lt;/artifactId&gt;  \r\n      &lt;version&gt;2.11.0&lt;/version&gt; \r\n    &lt;/dependency&gt;`\r\n\r\n ","title":"In Java, Azure Dynamic Refresh using Poll method doesn&#39;t work with spring boot 3.x.x","body":"<p>I have a spring boot application on v3.0.0 and I have successfully integrated it with azure app configuration library to fetch the application configuration's into my app.</p>\n<p>However I am facing issues with dynamic Refresh with Poll method as mentioned here: <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app</a></p>\n<p>I have followed all steps mentioned here and it is not refreshing configuration in my spring boot application on v.3.0.0. Also didn't gave any issue on logs too.</p>\n<p>Now, As soon as I degraded my spring boot application version from 3.x.x to 2.7.9.\nDynamic refresh started to work without any issue.</p>\n<p><strong>Has anyone else also has experienced similar issue of dynamic refresh with boot on 3.x.x ? or\nAny idea of its fix in latest spring boot version ?</strong></p>\n<p>PS: I have tried and tested with latest spring boot version also i.e. 3.0.4. It doesn't work with it too.</p>\n<p>Also I am using latest version of app-config library. i.e</p>\n<pre><code>`&lt;dependency&gt;\n  &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;  \n  &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config-web&lt;/artifactId&gt;  \n  &lt;version&gt;2.11.0&lt;/version&gt; \n&lt;/dependency&gt;`\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685567612,"post_id":76377143,"comment_id":134680237,"body_markdown":"too many empty lines, I&#39;m too tired to scroll down and check the whole code :-/ (And is this question about how to *replace* `,` with `and` ? Or just how to concatenate the strings (already being done in posted code) ? )","body":"too many empty lines, I&#39;m too tired to scroll down and check the whole code :-/ (And is this question about how to <i>replace</i> <code>,</code> with <code>and</code> ? Or just how to concatenate the strings (already being done in posted code) ? )"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1685568133,"post_id":76377143,"comment_id":134680317,"body_markdown":"Just updated it. It&#39;s a question about displaying a proper message based on the number of inputs. Right now it only displays the message with the last array item.","body":"Just updated it. It&#39;s a question about displaying a proper message based on the number of inputs. Right now it only displays the message with the last array item."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685569130,"post_id":76377143,"comment_id":134680448,"body_markdown":"I may be wrong, still to many empty lines, but seems like it should display each array item on a separate line. Anyway, I would use a string variable, declared outside the loop, to collect each item (using string concatenation, or even a `Formatter`) and build the message while looping","body":"I may be wrong, still to many empty lines, but seems like it should display each array item on a separate line. Anyway, I would use a string variable, declared outside the loop, to collect each item (using string concatenation, or even a <code>Formatter</code>) and build the message while looping"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1685621646,"post_id":76377143,"comment_id":134687579,"body_markdown":"Code edited and excess blank lines have been removed.  As has already been mentioned by @user16320675, it is best to avoid having too much unnecessary white-space in code. It makes the code more difficult to read than it needs to be.","body":"Code edited and excess blank lines have been removed.  As has already been mentioned by @user16320675, it is best to avoid having too much unnecessary white-space in code. It makes the code more difficult to read than it needs to be."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685644257,"creation_date":1685572259,"answer_id":76377674,"question_id":76377143,"body_markdown":"It appears that the reason the message being printed only contains the last _carcode_ is because the _for-loop_ it&#39;s within, will simply over-write the previous _pr.setSuccessMsg_ call during each iteration.\r\n\r\nSince _pr_ and _holdReason_ are not changed within the _for-loop_, you can place it after the _for-loop_.\r\n\r\nAdditionally, from within the _for-loop_, you can populate a _String_ value with the  _kb_ values.\r\n\r\nWe&#39;ll utilize the _for-loop_ to increment a _count_ value.  \r\nThis will be used to determine if our _strings_ value is being populated with 1, 2, or more _kb_ values&amp;mdash;which will determine if our _strings_ value should contain commas or an _&quot;and&quot;_.\r\n\r\nWe can further use the _count_ value, after the _for-loop_ is exited, to determine if we should be using _&quot;is&quot;_, or _&quot;and&quot;_.\r\n\r\nThe _strings_ value is then used as the message sent to the _setSuccessMsg_ method.\r\n\r\n```java\r\nPostReturn pr = new PostReturn();\r\nif (Utils.nullOrBlank(carcode)) {\r\n    // cannot lookup\r\n    pr.setErrorMsg(&quot;No carcode to lookup&quot;);\r\n    return pr;\r\n}\r\n// trim it first/remove white spaces\r\nString[] carcodes = carcode.trim().split(&quot;\\\\s*,\\\\s*&quot;);\r\nStringBuilder strings = new StringBuilder();\r\nint count = 0, length = carcodes.length;\r\nfor (String carId : carcodes) {\r\n    Kitcarcode kb = Kitcarcode.parsecarcode(carId);\r\n    if (kb == null) {\r\n        // invalid carId\r\n        pr.setErrorMsg(carId + &quot; was invalid - could not be parsed&quot;);\r\n        return pr;\r\n    }\r\n    // lookup the kit\r\n    CarHandler cph = CarHandler.findByKitcarcode(kb);\r\n    // mark it as on hold\r\n    cph.setAttribute(CarHandler.PREPROCESSING_HOLD_DATE, Utils.getDateAsMDYYYY(new Date()));\r\n    cph.setAttribute(CarHandler.PREPROCESSING_HOLD_REASON, holdReason);\r\n    cph.storeChanges();\r\n    carProcessing(kb, cph);\r\n    if (count != 0) {\r\n        if (length &gt; 2) strings.append(&quot;, &quot;);\r\n        if (count == length - 1) {\r\n            if (count == 1) strings.append(&#39; &#39;);\r\n            strings.append(&quot;and &quot;);\r\n        }\r\n    }\r\n    strings.append(kb);\r\n    count++;\r\n}\r\nstrings.append(count == 1 ? &quot; is &quot; : &quot; are &quot;);\r\nstrings.append(&quot;marked as on carprocessing hold for reason: &quot;);\r\nstrings.append(holdReason);\r\n// confirm msg\r\npr.setSuccessMsg(strings.toString());\r\nreturn pr;\r\n```\r\n\r\nAs an example, printing the _strings_ value would yield a similar output.\r\n\r\n```none\r\nABC123, DEF456, and GHI789 are marked as on carprocessing hold for reason: \r\nABC123 and DEF456 are marked as on carprocessing hold for reason: \r\nABC123 is marked as on carprocessing hold for reason: \r\n```","title":"modify the message based on the number of inputs","body":"<p>It appears that the reason the message being printed only contains the last <em>carcode</em> is because the <em>for-loop</em> it's within, will simply over-write the previous <em>pr.setSuccessMsg</em> call during each iteration.</p>\n<p>Since <em>pr</em> and <em>holdReason</em> are not changed within the <em>for-loop</em>, you can place it after the <em>for-loop</em>.</p>\n<p>Additionally, from within the <em>for-loop</em>, you can populate a <em>String</em> value with the  <em>kb</em> values.</p>\n<p>We'll utilize the <em>for-loop</em> to increment a <em>count</em> value.<br />\nThis will be used to determine if our <em>strings</em> value is being populated with 1, 2, or more <em>kb</em> values‚Äîwhich will determine if our <em>strings</em> value should contain commas or an <em>&quot;and&quot;</em>.</p>\n<p>We can further use the <em>count</em> value, after the <em>for-loop</em> is exited, to determine if we should be using <em>&quot;is&quot;</em>, or <em>&quot;and&quot;</em>.</p>\n<p>The <em>strings</em> value is then used as the message sent to the <em>setSuccessMsg</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PostReturn pr = new PostReturn();\nif (Utils.nullOrBlank(carcode)) {\n    // cannot lookup\n    pr.setErrorMsg(&quot;No carcode to lookup&quot;);\n    return pr;\n}\n// trim it first/remove white spaces\nString[] carcodes = carcode.trim().split(&quot;\\\\s*,\\\\s*&quot;);\nStringBuilder strings = new StringBuilder();\nint count = 0, length = carcodes.length;\nfor (String carId : carcodes) {\n    Kitcarcode kb = Kitcarcode.parsecarcode(carId);\n    if (kb == null) {\n        // invalid carId\n        pr.setErrorMsg(carId + &quot; was invalid - could not be parsed&quot;);\n        return pr;\n    }\n    // lookup the kit\n    CarHandler cph = CarHandler.findByKitcarcode(kb);\n    // mark it as on hold\n    cph.setAttribute(CarHandler.PREPROCESSING_HOLD_DATE, Utils.getDateAsMDYYYY(new Date()));\n    cph.setAttribute(CarHandler.PREPROCESSING_HOLD_REASON, holdReason);\n    cph.storeChanges();\n    carProcessing(kb, cph);\n    if (count != 0) {\n        if (length &gt; 2) strings.append(&quot;, &quot;);\n        if (count == length - 1) {\n            if (count == 1) strings.append(' ');\n            strings.append(&quot;and &quot;);\n        }\n    }\n    strings.append(kb);\n    count++;\n}\nstrings.append(count == 1 ? &quot; is &quot; : &quot; are &quot;);\nstrings.append(&quot;marked as on carprocessing hold for reason: &quot;);\nstrings.append(holdReason);\n// confirm msg\npr.setSuccessMsg(strings.toString());\nreturn pr;\n</code></pre>\n<p>As an example, printing the <em>strings</em> value would yield a similar output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>ABC123, DEF456, and GHI789 are marked as on carprocessing hold for reason: \nABC123 and DEF456 are marked as on carprocessing hold for reason: \nABC123 is marked as on carprocessing hold for reason: \n</code></pre>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76377674,"answer_count":1,"score":-1,"last_activity_date":1685644257,"creation_date":1685565855,"question_id":76377143,"body_markdown":"I have the following method which accepts a string of carcodes separated by a comma (it can be a single car code as well) and holdReason but my question is about carcodes. \r\n\r\nFor example, the carcodes can be like the following: `&quot;ABC1234, TYZ8765&quot;`\r\n\r\n \r\n```\r\npublic PostReturn scan(String carcode, String holdReason) {\r\n\tPostReturn pr = new PostReturn();\r\n\tif (Utils.nullOrBlank(carcode)) {\r\n\t\t// cannot lookup\r\n\t\tpr.setErrorMsg(&quot;No carcode to lookup&quot;);\r\n\t\treturn pr;\r\n\t}\r\n\r\n\t// trim it first/remove white spaces\r\n\tString[] carcodes = carcode.trim().split(&quot;\\\\s*,\\\\s*&quot;);\r\n\tfor (String carId: carcodes) {\r\n\t\tKitcarcode kb = Kitcarcode.parsecarcode(carId);\r\n\t\tif (kb == null) {\r\n\t\t\t// invalid carId\r\n\t\t\tpr.setErrorMsg(carId + &quot; was invalid - could not be parsed&quot;);\r\n\t\t\treturn pr;\r\n\t\t}\r\n\t\t// lookup the kit\r\n\t\tCarHandler cph = CarHandler.findByKitcarcode(kb);\r\n\t\t// mark it as on hold\r\n\t\tcph.setAttribute(CarHandler.PREPROCESSING_HOLD_DATE, Utils.getDateAsMDYYYY(new Date()));\r\n\t\tcph.setAttribute(CarHandler.PREPROCESSING_HOLD_REASON, holdReason);\r\n\t\tcph.storeChanges();\r\n\t\tcarProcessing(kb, cph);\r\n\t\t// confirm msg\r\n\t\tpr.setSuccessMsg(kb + &quot; is marked as on carprocessing hold for reason: &quot; + holdReason);\r\n\t}\r\n\treturn pr;\r\n}\r\n```\r\n\r\nI&#39;m mainly concerned about this line of code:\r\n ` pr.setSuccessMsg(kb + &quot; is marked as on carprocessing hold for reason: &quot; + holdReason);`\r\n\r\nIf there are multiple car codes, separated by comma, for example  `&quot;ABC1234,TYZ8765&quot;`\r\n\r\nthe message printed by the above line of code is `TYZ8765 is marked as on carprocessing hold for reason xyz`. Since there are two carcodes , is it possible to print it like the following?\r\n\r\n\r\n`ABC1234 and TYZ8765 are marked as on carprocessing hod for reason xyz`\r\n","title":"modify the message based on the number of inputs","body":"<p>I have the following method which accepts a string of carcodes separated by a comma (it can be a single car code as well) and holdReason but my question is about carcodes.</p>\n<p>For example, the carcodes can be like the following: <code>&quot;ABC1234, TYZ8765&quot;</code></p>\n<pre><code>public PostReturn scan(String carcode, String holdReason) {\n    PostReturn pr = new PostReturn();\n    if (Utils.nullOrBlank(carcode)) {\n        // cannot lookup\n        pr.setErrorMsg(&quot;No carcode to lookup&quot;);\n        return pr;\n    }\n\n    // trim it first/remove white spaces\n    String[] carcodes = carcode.trim().split(&quot;\\\\s*,\\\\s*&quot;);\n    for (String carId: carcodes) {\n        Kitcarcode kb = Kitcarcode.parsecarcode(carId);\n        if (kb == null) {\n            // invalid carId\n            pr.setErrorMsg(carId + &quot; was invalid - could not be parsed&quot;);\n            return pr;\n        }\n        // lookup the kit\n        CarHandler cph = CarHandler.findByKitcarcode(kb);\n        // mark it as on hold\n        cph.setAttribute(CarHandler.PREPROCESSING_HOLD_DATE, Utils.getDateAsMDYYYY(new Date()));\n        cph.setAttribute(CarHandler.PREPROCESSING_HOLD_REASON, holdReason);\n        cph.storeChanges();\n        carProcessing(kb, cph);\n        // confirm msg\n        pr.setSuccessMsg(kb + &quot; is marked as on carprocessing hold for reason: &quot; + holdReason);\n    }\n    return pr;\n}\n</code></pre>\n<p>I'm mainly concerned about this line of code:\n<code> pr.setSuccessMsg(kb + &quot; is marked as on carprocessing hold for reason: &quot; + holdReason);</code></p>\n<p>If there are multiple car codes, separated by comma, for example  <code>&quot;ABC1234,TYZ8765&quot;</code></p>\n<p>the message printed by the above line of code is <code>TYZ8765 is marked as on carprocessing hold for reason xyz</code>. Since there are two carcodes , is it possible to print it like the following?</p>\n<p><code>ABC1234 and TYZ8765 are marked as on carprocessing hod for reason xyz</code></p>\n"},{"tags":["java","forms","aem","sling"],"answers":[{"tags":[],"owner":{"account_id":11074819,"reputation":1673,"user_id":8131885,"display_name":"Alexander Berndt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685644137,"creation_date":1685644137,"answer_id":76384724,"question_id":76380969,"body_markdown":"Your **PATHS**-property was right, but the service was not activated. Add the `immediate=true` to the service configuration.\r\n\r\n    @Component(service = ResourceChangeListener.class, immediate = true, property = {\r\n        ResourceChangeListener.PATHS + &quot;=glob:/content/dam/formsanddocuments/demofolder/**/metadata&quot;\r\n})\r\n\r\nOSGi services are not activated (= started) by default. Only if another active OSGi-component requires that service, then the OSGi-framework is looking for services implementing the requested service-interface - and ONE (=1) of the services is activated and wired into the requesting component.\r\n\r\nBut for consumer types a &quot;whiteboard&quot; service is usually looking for all **active** services, that implement the Consumer-Type Interface (same is true for the Sling Scheduler, or the HTTP whiteboard service.) So it sends change-events only to services that are already activated for another reason. If not, your configuration doesn&#39;t matter.\r\n\r\nhttps://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/ResourceChangeListenerWhiteboard.java\r\n\r\n\r\nPS: SlingServlets are automatically activated. So it would be possible to &quot;auto-activate&quot; consumer-services. But it is a decision of the whiteboard service.","title":"How to use ResourceChangeListener to listen for added metadata nodes?","body":"<p>Your <strong>PATHS</strong>-property was right, but the service was not activated. Add the <code>immediate=true</code> to the service configuration.</p>\n<pre><code>@Component(service = ResourceChangeListener.class, immediate = true, property = {\n    ResourceChangeListener.PATHS + &quot;=glob:/content/dam/formsanddocuments/demofolder/**/metadata&quot;\n</code></pre>\n<p>})</p>\n<p>OSGi services are not activated (= started) by default. Only if another active OSGi-component requires that service, then the OSGi-framework is looking for services implementing the requested service-interface - and ONE (=1) of the services is activated and wired into the requesting component.</p>\n<p>But for consumer types a &quot;whiteboard&quot; service is usually looking for all <strong>active</strong> services, that implement the Consumer-Type Interface (same is true for the Sling Scheduler, or the HTTP whiteboard service.) So it sends change-events only to services that are already activated for another reason. If not, your configuration doesn't matter.</p>\n<p><a href=\"https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/ResourceChangeListenerWhiteboard.java\" rel=\"nofollow noreferrer\">https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/observation/ResourceChangeListenerWhiteboard.java</a></p>\n<p>PS: SlingServlets are automatically activated. So it would be possible to &quot;auto-activate&quot; consumer-services. But it is a decision of the whiteboard service.</p>\n"}],"owner":{"account_id":25228577,"reputation":1,"user_id":19064056,"display_name":"Jan Pecquet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685644137,"creation_date":1685615234,"question_id":76380969,"body_markdown":"I&#39;m using `ResourceChangeListener` from Sling in my AEM application. I want the changeListener only to trigger when on path /content/dam/formsanddocuments/demofolder and ends with metadata node name.\r\n\r\nExamples:\r\n- /content/dam/formsanddocuments/demofolder/form1/jcr:content/metadata\r\n- /content/dam/formsanddocuments/demofolder/subfolder/form1/jcr:content/metadata\r\n- /content/dam/formsanddocuments/demofolder/subfolder/secured/form2/jcr:content/metadata\r\n\r\nI tried using this code:\r\n\r\n\r\n```\r\n@Component(\r\n  service = ResourceChangeListener.class,\r\n  property = {\r\n    ResourceChangeListener.PATHS + &quot;=glob:/content/dam/formsanddocuments/demofolder/**/metadata&quot;\r\n  }\r\n)\r\npublic class MyResourceChangeListener implements ResourceChangeListener {\r\n  //implementation\r\n}\r\n```\r\n\r\nalso tried `glob:/content/dam/formsanddocuments/demofolder/**/*metadata` and `glob:/content/dam/formsanddocuments/demofolder/**/*(/metadata)`\r\n\r\nBut it doesn&#39;t seem to work as expected. I don&#39;t get any events when I add a form. What am I doing wrong? How can I use ResourceChangeListener to listen for form creation events?\r\n \r\n\r\nWith path glob:/content/dam/formsanddocuments/demofolder it of course works. But seems not that performant.\r\n\r\n    @Override\r\n    public void onChange(List&lt;ResourceChange&gt; changes) {\r\n        LOG.debug(&quot;FormCreationListener onChange triggered&quot;);\r\n        changes.forEach((change) -&gt; {\r\n            final String path = change.getPath();\r\n            if (isMetadataPath(path)) {\r\n                //implementation\r\n            }\r\n        });\r\n    }","title":"How to use ResourceChangeListener to listen for added metadata nodes?","body":"<p>I'm using <code>ResourceChangeListener</code> from Sling in my AEM application. I want the changeListener only to trigger when on path /content/dam/formsanddocuments/demofolder and ends with metadata node name.</p>\n<p>Examples:</p>\n<ul>\n<li>/content/dam/formsanddocuments/demofolder/form1/jcr:content/metadata</li>\n<li>/content/dam/formsanddocuments/demofolder/subfolder/form1/jcr:content/metadata</li>\n<li>/content/dam/formsanddocuments/demofolder/subfolder/secured/form2/jcr:content/metadata</li>\n</ul>\n<p>I tried using this code:</p>\n<pre><code>@Component(\n  service = ResourceChangeListener.class,\n  property = {\n    ResourceChangeListener.PATHS + &quot;=glob:/content/dam/formsanddocuments/demofolder/**/metadata&quot;\n  }\n)\npublic class MyResourceChangeListener implements ResourceChangeListener {\n  //implementation\n}\n</code></pre>\n<p>also tried <code>glob:/content/dam/formsanddocuments/demofolder/**/*metadata</code> and <code>glob:/content/dam/formsanddocuments/demofolder/**/*(/metadata)</code></p>\n<p>But it doesn't seem to work as expected. I don't get any events when I add a form. What am I doing wrong? How can I use ResourceChangeListener to listen for form creation events?</p>\n<p>With path glob:/content/dam/formsanddocuments/demofolder it of course works. But seems not that performant.</p>\n<pre><code>@Override\npublic void onChange(List&lt;ResourceChange&gt; changes) {\n    LOG.debug(&quot;FormCreationListener onChange triggered&quot;);\n    changes.forEach((change) -&gt; {\n        final String path = change.getPath();\n        if (isMetadataPath(path)) {\n            //implementation\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","jsp","spring-security"],"comments":[{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1441620446,"post_id":32435938,"comment_id":52736598,"body_markdown":"please share the error description","body":"please share the error description"},{"owner":{"account_id":5733546,"reputation":459,"user_id":4528383,"accept_rate":25,"display_name":"Sandeep Patange"},"score":0,"creation_date":1441621267,"post_id":32435938,"comment_id":52737082,"body_markdown":"&lt;%@ taglib prefix=&quot;security&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt; On this line I&#39;m getting error as &#39;Can not find the tag library descriptor for &quot;http://www.springframework.org/security/tags&quot; &#39;","body":"&lt;%@ taglib prefix=&quot;security&quot; uri=&quot;<a href=\"http://www.springframework.org/security/tags\" rel=\"nofollow noreferrer\">springframework.org/security/tags</a>&quot; %&gt; On this line I&#39;m getting error as &#39;Can not find the tag library descriptor for &quot;<a href=\"http://www.springframework.org/security/tags\" rel=\"nofollow noreferrer\">springframework.org/security/tags</a>&quot; &#39;"},{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1441625396,"post_id":32435938,"comment_id":52739418,"body_markdown":"Can your share your jsp code","body":"Can your share your jsp code"},{"owner":{"account_id":5733546,"reputation":459,"user_id":4528383,"accept_rate":25,"display_name":"Sandeep Patange"},"score":0,"creation_date":1441626438,"post_id":32435938,"comment_id":52740053,"body_markdown":"@SaurabhJhunjhunwala, I have added jsp code in question.","body":"@SaurabhJhunjhunwala, I have added jsp code in question."}],"answers":[{"tags":[],"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441625508,"creation_date":1441625508,"answer_id":32437668,"question_id":32435938,"body_markdown":"This question has been answered before I suppose, below is the solution from \r\nhttps://stackoverflow.com/questions/21849190/spring-security-jsp-tag-lib-error\r\n\r\n    &lt;%@ taglib prefix=&quot;sec&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt;\r\n    works for me, with these\r\n    \r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n                &lt;scope&gt;${defaultScope}&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n                &lt;scope&gt;${defaultScope}&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n                &lt;scope&gt;${defaultScope}&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.security.version}&lt;/version&gt;\r\n                &lt;scope&gt;${defaultScope}&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    where spring.security.version = 3.1.4.RELEASE.\r\n    \r\n    And make sure you have included the correct jst jar.","title":"After adding &quot;spring-security-taglibs&quot; Still getting error in jsp: Can not find the tag library descriptor for spring security tag","body":"<p>This question has been answered before I suppose, below is the solution from \n<a href=\"https://stackoverflow.com/questions/21849190/spring-security-jsp-tag-lib-error\">Spring Security, JSP Tag Lib Error</a></p>\n\n<pre><code>&lt;%@ taglib prefix=\"sec\" uri=\"http://www.springframework.org/security/tags\" %&gt;\nworks for me, with these\n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;scope&gt;${defaultScope}&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;scope&gt;${defaultScope}&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;scope&gt;${defaultScope}&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n            &lt;version&gt;${spring.security.version}&lt;/version&gt;\n            &lt;scope&gt;${defaultScope}&lt;/scope&gt;\n        &lt;/dependency&gt;\nwhere spring.security.version = 3.1.4.RELEASE.\n\nAnd make sure you have included the correct jst jar.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3954174,"reputation":55,"user_id":3263341,"display_name":"vvvvvvvvvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477329281,"creation_date":1477329281,"answer_id":40223925,"question_id":32435938,"body_markdown":"For Spring MVC, i fixed it by adding \r\n\r\n&gt; spring-security-taglibs.jar\r\n\r\nfile into the *lib* folder. Make sure that you use the same *version* with the other security jar","title":"After adding &quot;spring-security-taglibs&quot; Still getting error in jsp: Can not find the tag library descriptor for spring security tag","body":"<p>For Spring MVC, i fixed it by adding </p>\n\n<blockquote>\n  <p>spring-security-taglibs.jar</p>\n</blockquote>\n\n<p>file into the <em>lib</em> folder. Make sure that you use the same <em>version</em> with the other security jar</p>\n"},{"tags":[],"owner":{"account_id":23712258,"reputation":1,"user_id":17985777,"display_name":"Oleg Chumin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685643759,"creation_date":1685643454,"answer_id":76384663,"question_id":32435938,"body_markdown":"Check what is mentioned in pom.xml and also reload project and make Maven clean and install this usually resolve the problem\r\n\r\n    ...\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n    ...\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    enter code here\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    ....","title":"After adding &quot;spring-security-taglibs&quot; Still getting error in jsp: Can not find the tag library descriptor for spring security tag","body":"<p>Check what is mentioned in pom.xml and also reload project and make Maven clean and install this usually resolve the problem</p>\n<pre><code>...\n&lt;packaging&gt;war&lt;/packaging&gt;\n...\n&lt;dependencies&gt;\n...\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;5.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;5.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\nenter code here\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;5.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n....\n</code></pre>\n"}],"owner":{"account_id":5733546,"reputation":459,"user_id":4528383,"accept_rate":25,"display_name":"Sandeep Patange"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2672,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1685643759,"creation_date":1441620138,"question_id":32435938,"body_markdown":"Initially I was getting error in my jsp after adding the taglib &quot;http://www.springframework.org/security/tags&quot;, then I googled and found that **spring-security-taglibs** jar was missing, then I have added the jar/dependency in pom.xml file. But still I&#39;m getting the same error. Any Idea what is happening. \r\n\r\njsp code,\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;security&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt;\r\n        &lt;nav class=&quot;navbar navbar-inverse navbar-fixed-top&quot;&gt;\r\n          &lt;div class=&quot;container-fluid&quot;&gt;\r\n            &lt;div class=&quot;navbar-header&quot;&gt;\r\n              &lt;button type=&quot;button&quot; class=&quot;navbar-toggle collapsed&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbar&quot; aria-expanded=&quot;false&quot; aria-controls=&quot;navbar&quot;&gt;\r\n                &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;\r\n                &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\r\n              &lt;/button&gt;\r\n              &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot; style=&quot;margin-bottom: 12px&quot;&gt; &lt;img src=&quot;${pageContext.servletContext.contextPath}/resources/images/bluestar-logo.jpg&quot; class=&quot;img-responsive&quot; alt=&quot;Cinque Terre&quot;&gt;&lt;/a&gt;\r\n              &lt;div style=&quot;margin-left:700px&quot;&gt;\r\n    \t\t\t&lt;h3&gt;Decision Support System for VRF&lt;/h3&gt;\r\n    \t\t&lt;/div&gt; \r\n            &lt;/div&gt;\r\n    \t\t\r\n    \t\t&lt;!-- &lt;security:authorize ifAnyGranted=&quot;ROLE_USER&quot;&gt; --&gt;\r\n        \t\t&lt;div id=&quot;navbar&quot; class=&quot;navbar-collapse collapse&quot;&gt;\r\n    \t          &lt;ul class=&quot;nav navbar-nav navbar-right&quot;&gt;\r\n    \t            &lt;li&gt;&lt;a href=&quot;#&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-log-out&quot; style=&quot;color:#fff&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\r\n    \t          &lt;/ul&gt;\r\n    \t        &lt;/div&gt;\r\n    \t\t&lt;!-- &lt;/security:authorize&gt; --&gt;\r\n    \t\t\r\n          &lt;/div&gt;\r\n        &lt;/nav&gt;\r\n\r\n\r\nIn jsp On this line I am getting error **&lt;%@ taglib prefix=&quot;security&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt;**\r\nAny help will be greatly appreciated.","title":"After adding &quot;spring-security-taglibs&quot; Still getting error in jsp: Can not find the tag library descriptor for spring security tag","body":"<p>Initially I was getting error in my jsp after adding the taglib \"<a href=\"http://www.springframework.org/security/tags\" rel=\"nofollow\">http://www.springframework.org/security/tags</a>\", then I googled and found that <strong>spring-security-taglibs</strong> jar was missing, then I have added the jar/dependency in pom.xml file. But still I'm getting the same error. Any Idea what is happening. </p>\n\n<p>jsp code,</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;%@ taglib prefix=\"security\" uri=\"http://www.springframework.org/security/tags\" %&gt;\n    &lt;nav class=\"navbar navbar-inverse navbar-fixed-top\"&gt;\n      &lt;div class=\"container-fluid\"&gt;\n        &lt;div class=\"navbar-header\"&gt;\n          &lt;button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\"&gt;\n            &lt;span class=\"sr-only\"&gt;Toggle navigation&lt;/span&gt;\n            &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n            &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n            &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n          &lt;/button&gt;\n          &lt;a class=\"navbar-brand\" href=\"#\" style=\"margin-bottom: 12px\"&gt; &lt;img src=\"${pageContext.servletContext.contextPath}/resources/images/bluestar-logo.jpg\" class=\"img-responsive\" alt=\"Cinque Terre\"&gt;&lt;/a&gt;\n          &lt;div style=\"margin-left:700px\"&gt;\n            &lt;h3&gt;Decision Support System for VRF&lt;/h3&gt;\n        &lt;/div&gt; \n        &lt;/div&gt;\n\n        &lt;!-- &lt;security:authorize ifAnyGranted=\"ROLE_USER\"&gt; --&gt;\n            &lt;div id=\"navbar\" class=\"navbar-collapse collapse\"&gt;\n              &lt;ul class=\"nav navbar-nav navbar-right\"&gt;\n                &lt;li&gt;&lt;a href=\"#\"&gt;&lt;span class=\"glyphicon glyphicon-log-out\" style=\"color:#fff\"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n              &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;!-- &lt;/security:authorize&gt; --&gt;\n\n      &lt;/div&gt;\n    &lt;/nav&gt;\n</code></pre>\n\n<p>In jsp On this line I am getting error <strong>&lt;%@ taglib prefix=\"security\" uri=\"http://www.springframework.org/security/tags\" %></strong>\nAny help will be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685613887,"post_id":76376831,"comment_id":134685923,"body_markdown":"please report errore message","body":"please report errore message"}],"answers":[{"tags":[],"owner":{"account_id":17391812,"reputation":67,"user_id":12602207,"display_name":"Naveen Negi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685643339,"creation_date":1685643339,"answer_id":76384644,"question_id":76376831,"body_markdown":"The issue you&#39;re facing pertains to the &#39;AuthenticationManager&#39; bean, which isn&#39;t being discovered by Spring. The &#39;AuthenticationManager&#39; is a critical element of Spring Security, dealing with processing authentication requests. Despite the fact that this bean is usually auto-generated in many Spring projects, it doesn&#39;t appear to be in this case.\r\n\r\nTo tackle this, you&#39;ll need to explicitly define the &#39;AuthenticationManager&#39; bean in your configuration file. Here&#39;s an example:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n            .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\nThe above code demonstrates how you can create an &#39;AuthenticationManager&#39; bean. We are using the &#39;WebSecurityConfigurerAdapter&#39; to make use of the &#39;authenticationManagerBean()&#39; method.\r\n\r\nIt&#39;s crucial to remember that this simple example uses in-memory authentication with one user. In a practical setting, you would likely need a more comprehensive authentication solution, perhaps retrieving user details from a database or an external service. You&#39;ll need to adapt the &#39;configure(AuthenticationManagerBuilder auth)&#39; method to fit your specific requirements.\r\n\r\nThis &#39;AuthenticationManager&#39; bean can then be used in your &#39;SecurityServiceImpl&#39; in the manner you originally intended.","title":"How can I fix the error &#39;Could not autowire. No beans of &#39;AuthenticationManager&#39; type found&#39; in Spring Security implementation?","body":"<p>The issue you're facing pertains to the 'AuthenticationManager' bean, which isn't being discovered by Spring. The 'AuthenticationManager' is a critical element of Spring Security, dealing with processing authentication requests. Despite the fact that this bean is usually auto-generated in many Spring projects, it doesn't appear to be in this case.</p>\n<p>To tackle this, you'll need to explicitly define the 'AuthenticationManager' bean in your configuration file. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n            .withUser(&quot;user&quot;).password(&quot;password&quot;).roles(&quot;USER&quot;);\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>The above code demonstrates how you can create an 'AuthenticationManager' bean. We are using the 'WebSecurityConfigurerAdapter' to make use of the 'authenticationManagerBean()' method.</p>\n<p>It's crucial to remember that this simple example uses in-memory authentication with one user. In a practical setting, you would likely need a more comprehensive authentication solution, perhaps retrieving user details from a database or an external service. You'll need to adapt the 'configure(AuthenticationManagerBuilder auth)' method to fit your specific requirements.</p>\n<p>This 'AuthenticationManager' bean can then be used in your 'SecurityServiceImpl' in the manner you originally intended.</p>\n"}],"owner":{"account_id":28722383,"reputation":11,"user_id":21995925,"display_name":"Denis Velychko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685643339,"creation_date":1685562809,"question_id":76376831,"body_markdown":"\r\n```\r\npackage com.calorie.calorie.tracker.service;\r\n/*\r\n* Implementation of SecurityService interface\r\n* */\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class SecurityServiceImpl implements SecurityService{\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(SecurityServiceImpl.class);\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n    @Override\r\n    public String findLoggedInUsername() {\r\n        Object userDetails = SecurityContextHolder.getContext().getAuthentication().getDetails();\r\n        if(userDetails instanceof UserDetails){\r\n            return ((UserDetails)userDetails).getUsername();\r\n        }\r\n        return null;\r\n    }\r\n    @Override\r\n    public void autoLogin(String username, String password) {\r\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n        UsernamePasswordAuthenticationToken authenticationToken =\r\n                new UsernamePasswordAuthenticationToken(userDetails, password, userDetails.getAuthorities());\r\n        authenticationManager.authenticate(authenticationToken);\r\n\r\n        if(authenticationToken.isAuthenticated()){\r\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n\r\n            logger.debug(String.format(&quot;Successfully %s auto logged in&quot;, username));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn this code, an `error` occurs at line 22, namely &quot;private AuthenticationManager authenticationManager;&quot;, where `authenticationManager` is defined as an error. What can I do or what information can I provide to solve this problem? Extremely grateful in advance.","title":"How can I fix the error &#39;Could not autowire. No beans of &#39;AuthenticationManager&#39; type found&#39; in Spring Security implementation?","body":"<pre><code>package com.calorie.calorie.tracker.service;\n/*\n* Implementation of SecurityService interface\n* */\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class SecurityServiceImpl implements SecurityService{\n\n    private static final Logger logger = LoggerFactory.getLogger(SecurityServiceImpl.class);\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n    @Autowired\n    private UserDetailsService userDetailsService;\n    @Override\n    public String findLoggedInUsername() {\n        Object userDetails = SecurityContextHolder.getContext().getAuthentication().getDetails();\n        if(userDetails instanceof UserDetails){\n            return ((UserDetails)userDetails).getUsername();\n        }\n        return null;\n    }\n    @Override\n    public void autoLogin(String username, String password) {\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n        UsernamePasswordAuthenticationToken authenticationToken =\n                new UsernamePasswordAuthenticationToken(userDetails, password, userDetails.getAuthorities());\n        authenticationManager.authenticate(authenticationToken);\n\n        if(authenticationToken.isAuthenticated()){\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n\n            logger.debug(String.format(&quot;Successfully %s auto logged in&quot;, username));\n        }\n    }\n}\n\n</code></pre>\n<p>In this code, an <code>error</code> occurs at line 22, namely &quot;private AuthenticationManager authenticationManager;&quot;, where <code>authenticationManager</code> is defined as an error. What can I do or what information can I provide to solve this problem? Extremely grateful in advance.</p>\n"},{"tags":["java","spring","validation","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":17912125,"reputation":68,"user_id":13013982,"display_name":"schmeekygeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685643108,"creation_date":1685643108,"answer_id":76384617,"question_id":76382668,"body_markdown":"The `@Basic` annotation has an attribute called `optional` which is a boolean parameter that defines whether the marked field or property allows null. It defaults to true.\r\n\r\nRefer to [this article](https://www.baeldung.com/jpa-basic-annotation#why-use) that explains when you should be using it.\r\n\r\nTry and apply the `@NotNull` annotation directly to your entity.","title":"My validation doesn&#39;t work in one project but works in another","body":"<p>The <code>@Basic</code> annotation has an attribute called <code>optional</code> which is a boolean parameter that defines whether the marked field or property allows null. It defaults to true.</p>\n<p>Refer to <a href=\"https://www.baeldung.com/jpa-basic-annotation#why-use\" rel=\"nofollow noreferrer\">this article</a> that explains when you should be using it.</p>\n<p>Try and apply the <code>@NotNull</code> annotation directly to your entity.</p>\n"}],"owner":{"account_id":28728477,"reputation":1,"user_id":22000888,"display_name":"Ivan Poltavskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685643108,"creation_date":1685627758,"question_id":76382668,"body_markdown":"I connected validation to my project, but it just does not work. I checked several times whether I forgot anything - everything seems to be fine. I created test files: Controller, service, repository, Entity, mapper, dto and tested it on this project (it still didn‚Äôt work), and on another one, where validation works, and everything has already started on it.\r\n\r\nEntity:\r\n```\r\npackage com.example.entity;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Data\r\n@Table(name = &quot;test&quot;)\r\npublic class TestEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Basic\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    @Basic\r\n    @Column(name = &quot;test&quot;)\r\n    private String test;\r\n}\r\n\r\n```\r\nTestResponse:\r\n\r\n```\r\npackage com.example.dto.response;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.validation.constraints.NotNull;\r\n\r\n\r\n@Data\r\npublic class TestResponse {\r\n    private Long id;\r\n    @NotNull\r\n    private String test;\r\n}\r\n```\r\nTestRequest:\r\n```\r\npackage com.example.dto.request;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.validation.constraints.NotNull;\r\n\r\n\r\n@Data\r\npublic class TestRequest {\r\n    @NotNull\r\n    private String test;\r\n}\r\n\r\n```\r\nRepo, controller and service:\r\n```\r\npackage com.example.repository;\r\n\r\nimport com.example.entity.TestEntity;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface TestRepo extends CrudRepository&lt;TestEntity, Long&gt; {\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\npackage com.example.controller;\r\n\r\nimport com.example.dto.request.TestRequest;\r\nimport com.example.dto.response.TestResponse;\r\nimport com.example.mapper.TestMapperImpl;\r\nimport com.example.service.TestService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.validation.Valid;\r\n\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class TestController {\r\n    private TestService testService;\r\n    private TestMapperImpl testMapper;\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;TestResponse&gt;add(@Valid @RequestBody TestRequest testRequest){\r\n        return new ResponseEntity&lt;&gt;(testMapper.toDto(testService.add(testMapper.fromDto(testRequest))), HttpStatus.OK);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\npackage com.example.service;\r\n\r\nimport com.example.entity.TestEntity;\r\nimport com.example.repository.TestRepo;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class TestService {\r\n    private TestRepo testRepo;\r\n    public TestEntity add(TestEntity entity){\r\n       return testRepo.save(entity);\r\n    }\r\n}\r\n```\r\nPostman Screen. \r\nIt should throw an error but it doesn&#39;t\r\n\r\n[enter image description here](https://i.stack.imgur.com/Xim8o.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\nIts my pom.xml\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;kursova&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n\t\t&lt;org.lombok.version&gt;1.18.26&lt;/org.lombok.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;version&gt;${org.lombok.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--Mapper--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;!-- Mapstruct should follow the lombok path(s) --&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;!-- Set the componentModel to &#39;spring&#39; by default --&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;compilerArg&gt;\r\n\t\t\t\t\t\t\t-Amapstruct.defaultComponentModel=spring\r\n\t\t\t\t\t\t&lt;/compilerArg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n","title":"My validation doesn&#39;t work in one project but works in another","body":"<p>I connected validation to my project, but it just does not work. I checked several times whether I forgot anything - everything seems to be fine. I created test files: Controller, service, repository, Entity, mapper, dto and tested it on this project (it still didn‚Äôt work), and on another one, where validation works, and everything has already started on it.</p>\n<p>Entity:</p>\n<pre><code>package com.example.entity;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@Table(name = &quot;test&quot;)\npublic class TestEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Basic\n    @Column(name = &quot;test&quot;)\n    private String test;\n}\n\n</code></pre>\n<p>TestResponse:</p>\n<pre><code>package com.example.dto.response;\n\nimport lombok.Data;\n\nimport javax.validation.constraints.NotNull;\n\n\n@Data\npublic class TestResponse {\n    private Long id;\n    @NotNull\n    private String test;\n}\n</code></pre>\n<p>TestRequest:</p>\n<pre><code>package com.example.dto.request;\n\nimport lombok.Data;\n\nimport javax.validation.constraints.NotNull;\n\n\n@Data\npublic class TestRequest {\n    @NotNull\n    private String test;\n}\n\n</code></pre>\n<p>Repo, controller and service:</p>\n<pre><code>package com.example.repository;\n\nimport com.example.entity.TestEntity;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface TestRepo extends CrudRepository&lt;TestEntity, Long&gt; {\n}\n\n\n\n\n\n\n\npackage com.example.controller;\n\nimport com.example.dto.request.TestRequest;\nimport com.example.dto.response.TestResponse;\nimport com.example.mapper.TestMapperImpl;\nimport com.example.service.TestService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.validation.Valid;\n\n@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;/test&quot;)\npublic class TestController {\n    private TestService testService;\n    private TestMapperImpl testMapper;\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;TestResponse&gt;add(@Valid @RequestBody TestRequest testRequest){\n        return new ResponseEntity&lt;&gt;(testMapper.toDto(testService.add(testMapper.fromDto(testRequest))), HttpStatus.OK);\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\npackage com.example.service;\n\nimport com.example.entity.TestEntity;\nimport com.example.repository.TestRepo;\nimport lombok.AllArgsConstructor;\nimport org.springframework.stereotype.Service;\n\n@Service\n@AllArgsConstructor\npublic class TestService {\n    private TestRepo testRepo;\n    public TestEntity add(TestEntity entity){\n       return testRepo.save(entity);\n    }\n}\n</code></pre>\n<p>Postman Screen.\nIt should throw an error but it doesn't</p>\n<p><a href=\"https://i.stack.imgur.com/Xim8o.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Its my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;kursova&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n        &lt;org.lombok.version&gt;1.18.26&lt;/org.lombok.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;version&gt;${org.lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Mapper--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${org.lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;!-- Mapstruct should follow the lombok path(s) --&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;!-- Set the componentModel to 'spring' by default --&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;\n                            -Amapstruct.defaultComponentModel=spring\n                        &lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","javadoc"],"answers":[{"tags":[],"owner":{"account_id":10467026,"reputation":534,"user_id":7716142,"display_name":"minh tri Vo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685641243,"creation_date":1685641243,"answer_id":76384409,"question_id":76383310,"body_markdown":"According to the doc https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#link\r\n\r\n\r\n&gt; When used with argument package.class#field in any doc comment, it displays the value of the specified constant\r\n\r\nIn your case:\r\n\r\n    /**\r\n    *\r\n    * @return a MyObj based on {@value com.yourpackage.Constants#SOME_CONSTANT}\r\n    */\r\n    public static MyObj generateIt()\r\n\r\n","title":"@value tag reference to another class","body":"<p>According to the doc <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#link\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#link</a></p>\n<blockquote>\n<p>When used with argument package.class#field in any doc comment, it displays the value of the specified constant</p>\n</blockquote>\n<p>In your case:</p>\n<pre><code>/**\n*\n* @return a MyObj based on {@value com.yourpackage.Constants#SOME_CONSTANT}\n*/\npublic static MyObj generateIt()\n</code></pre>\n"}],"owner":{"account_id":1179355,"reputation":4521,"user_id":1154644,"accept_rate":52,"display_name":"user1154644"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685643098,"creation_date":1685631908,"question_id":76383310,"body_markdown":"I am generating some javadoc comments for a few utility methods that I created.\r\n\r\nHow can I use the `@value` tag to reference the actual value of a constant that is defined in another class?\r\n\r\nFor example:\r\n\r\nMy constants class\r\n\r\n    public class Constants {\r\n       public static final String SOME_CONSTANT = &quot;theVal&quot;;\r\n    }\r\n\r\n\r\nMy utility class\r\n\r\n    public class CoolUtil {\r\n    \r\n       /**\r\n        *\r\n        * @return a MyObj based on {@value #Constants.SOME_CONSTANT}\r\n        */\r\n       public static MyObj generateIt(){\r\n           ...\r\n       }  \r\n    \r\n    }\r\n\r\nI want the viewer of the javadoc to see `Returns: a MyObj based on &#39;theVal&#39;`\r\n\r\nThe syntax that I&#39;m using now doesn&#39;t seem to work. If I have the constant defined inside the `CoolUtil` class, the `@value` annotation works, but I don&#39;t want to have to create a duplicate reference to the constant.\r\n\r\nAny help/tips would be appreciated.\r\n\r\n","title":"@value tag reference to another class","body":"<p>I am generating some javadoc comments for a few utility methods that I created.</p>\n<p>How can I use the <code>@value</code> tag to reference the actual value of a constant that is defined in another class?</p>\n<p>For example:</p>\n<p>My constants class</p>\n<pre><code>public class Constants {\n   public static final String SOME_CONSTANT = &quot;theVal&quot;;\n}\n</code></pre>\n<p>My utility class</p>\n<pre><code>public class CoolUtil {\n\n   /**\n    *\n    * @return a MyObj based on {@value #Constants.SOME_CONSTANT}\n    */\n   public static MyObj generateIt(){\n       ...\n   }  \n\n}\n</code></pre>\n<p>I want the viewer of the javadoc to see <code>Returns: a MyObj based on 'theVal'</code></p>\n<p>The syntax that I'm using now doesn't seem to work. If I have the constant defined inside the <code>CoolUtil</code> class, the <code>@value</code> annotation works, but I don't want to have to create a duplicate reference to the constant.</p>\n<p>Any help/tips would be appreciated.</p>\n"},{"tags":["java","spring","struts2","jboss","log4j"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367060065,"creation_date":1367058764,"answer_id":16251030,"question_id":16250960,"body_markdown":"You have mismatch logger configuration and instance implementation of the logger. To use log4j logger you should import corresponding class `Logger`. Put it in import section\r\n\r\n    import org.appache.log4j.Logger;\r\n\r\nalso to instantiate the logger you need either put `Class` param or use FQCN.\r\n\r\n    private static final Logger logger = Logger.getLogger(LogSample.class);\r\n\r\nFollow the Java naming conventions and capitalize your class name.\r\n\r\n`FilterDispatcher` is deprecated since Struts 2.2.1. Use the `StrutsPrepareAndExecuteFilter` instead in the `web.xml`.\r\n\r\n  \t&lt;filter-class&gt;\r\n  \t\torg.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\r\n  \t&lt;/filter-class&gt;\r\n","title":"Not Printing in Log File Using Log4j.xml","body":"<p>You have mismatch logger configuration and instance implementation of the logger. To use log4j logger you should import corresponding class <code>Logger</code>. Put it in import section</p>\n\n<pre><code>import org.appache.log4j.Logger;\n</code></pre>\n\n<p>also to instantiate the logger you need either put <code>Class</code> param or use FQCN.</p>\n\n<pre><code>private static final Logger logger = Logger.getLogger(LogSample.class);\n</code></pre>\n\n<p>Follow the Java naming conventions and capitalize your class name.</p>\n\n<p><code>FilterDispatcher</code> is deprecated since Struts 2.2.1. Use the <code>StrutsPrepareAndExecuteFilter</code> instead in the <code>web.xml</code>.</p>\n\n<pre><code>&lt;filter-class&gt;\n    org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n&lt;/filter-class&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18389651,"reputation":1,"user_id":13395671,"display_name":"Hemanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587696905,"creation_date":1587696905,"answer_id":61400329,"question_id":16250960,"body_markdown":"Modify the name of xml file to log4j2.xml because 2 is latest version. And don&#39;t create log file it will automatically created because of code we provided in xml file. ","title":"Not Printing in Log File Using Log4j.xml","body":"<p>Modify the name of xml file to log4j2.xml because 2 is latest version. And don't create log file it will automatically created because of code we provided in xml file. </p>\n"},{"tags":[],"owner":{"account_id":18389651,"reputation":1,"user_id":13395671,"display_name":"Hemanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587698177,"creation_date":1587698177,"answer_id":61400508,"question_id":16250960,"body_markdown":"Modify the name of xml file to log4j2.xml because 2 is latest version. And don&#39;t create log file it will automatically created because of code we provided in xml file and refresh the project","title":"Not Printing in Log File Using Log4j.xml","body":"<p>Modify the name of xml file to log4j2.xml because 2 is latest version. And don't create log file it will automatically created because of code we provided in xml file and refresh the project</p>\n"}],"owner":{"account_id":2693664,"reputation":1,"user_id":2326298,"display_name":"user2326298"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4583,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1685643083,"creation_date":1367058370,"question_id":16250960,"body_markdown":"Not printing in log file using `Log4j.xml`. I&#39;m getting value in console, but not in file, even file is getting created\r\n\r\n**File`Log4j.xml`:** \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM  &quot;http://logging.apache.org/log4j/1.2/apidocs/org/\r\n     apache/log4j/xml/doc-files/log4j.dtd&quot;&gt;\r\n     &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;true&quot;&gt;\r\n    \r\n    \t&lt;appender name=&quot;fileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n            &lt;param name=&quot;File&quot; value=&quot;Logger.log&quot; /&gt;\r\n            &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p %c{1}:%L %m %n&quot; /&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n        \r\n    \t&lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p %c{1}:%L %m %n&quot; /&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n    \r\n        &lt;!-- sets the priority log level for org.springframework --&gt;\r\n        &lt;logger name=&quot;org.springframework&quot;&gt;\r\n            &lt;level value=&quot;info&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;!-- sets the default priority log level --&gt;\r\n        &lt;root&gt;\r\n            &lt;priority value=&quot;info&quot;&gt;&lt;/priority&gt;\r\n            &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n        &lt;/root&gt;\r\n        \r\n     &lt;/log4j:configuration&gt;\r\n    \r\n    \r\n**File Class:**\r\n    \r\n        public class logsample {\r\n        \r\n        static final Logger logger = Logger.getLogger(&quot;logsample.class&quot;);\r\n        DOMConfigurator.configure(&quot;C:/---- location path of my log4j.xml file----&quot;);\r\n        logger.info(&quot; @@@@@ FileAppender Message ==&gt; HI&quot;);\r\n    \r\n    \r\n**File `WEB.xml`:**\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n      &lt;web-app id=&quot;WebApp_9&quot; version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; &gt;\r\n      &lt;display-name&gt;Member Portal&lt;/display-name&gt;\r\n      &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n    \t        classpath:applicationContext.xml\r\n    \t        classpath:spring-database.xml \r\n    \t        classpath:spring-application-flow.xml \r\n    \t        classpath:spring-member.xml \t\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        \r\n        &lt;!-- location of log4j config file --&gt;\r\n    \t\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/classes/log4j.xml&lt;/param-value&gt;\r\n        &lt;/context-param&gt; \r\n    \t\r\n      &lt;filter&gt;    \r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;    \r\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.FilterDispatcher&lt;/filter-class&gt;    \r\n      &lt;/filter&gt; \r\n      \r\n       &lt;filter-mapping&gt;\r\n    \t&lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n    \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n       &lt;/filter-mapping&gt;\r\n             \r\n     \t&lt;listener&gt;\r\n            &lt;listener-class&gt;\r\n        org.springframework.web.context.ContextLoaderListener\r\n        &lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        \r\n        \t&lt;!-- applies log4j configuration --&gt;\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener\r\n        &lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \r\n      \r\n        &lt;servlet&gt;\r\n           &lt;servlet-name&gt;InitServlet&lt;/servlet-name&gt;\r\n           &lt;servlet-class&gt; --- &lt;/servlet-class&gt;\r\n           &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n         &lt;/servlet&gt;  \r\n        \r\n     \r\n    \r\n       &lt;/web-app&gt;\r\n    \r\nlike _so_ I placed my `log4j.xml` file in both places, `JBOSS/bin/` and in `web-inf/classes/ `\r\n       \r\nCorrect me if I&#39;m Wrong? I&#39;m Using JBOSS 7.1 and Maven, `struts2-spring` based app.","title":"Not Printing in Log File Using Log4j.xml","body":"<p>Not printing in log file using <code>Log4j.xml</code>. I'm getting value in console, but not in file, even file is getting created</p>\n<p><strong>File<code>Log4j.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM  &quot;http://logging.apache.org/log4j/1.2/apidocs/org/\n apache/log4j/xml/doc-files/log4j.dtd&quot;&gt;\n &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;true&quot;&gt;\n\n    &lt;appender name=&quot;fileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;Logger.log&quot; /&gt;\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot;/&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p %c{1}:%L %m %n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    \n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %-5p %c{1}:%L %m %n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n\n    &lt;!-- sets the priority log level for org.springframework --&gt;\n    &lt;logger name=&quot;org.springframework&quot;&gt;\n        &lt;level value=&quot;info&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;!-- sets the default priority log level --&gt;\n    &lt;root&gt;\n        &lt;priority value=&quot;info&quot;&gt;&lt;/priority&gt;\n        &lt;appender-ref ref=&quot;fileAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n    &lt;/root&gt;\n    \n &lt;/log4j:configuration&gt;\n</code></pre>\n<p><strong>File Class:</strong></p>\n<pre><code>    public class logsample {\n    \n    static final Logger logger = Logger.getLogger(&quot;logsample.class&quot;);\n    DOMConfigurator.configure(&quot;C:/---- location path of my log4j.xml file----&quot;);\n    logger.info(&quot; @@@@@ FileAppender Message ==&gt; HI&quot;);\n</code></pre>\n<p><strong>File <code>WEB.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n  &lt;web-app id=&quot;WebApp_9&quot; version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; &gt;\n  &lt;display-name&gt;Member Portal&lt;/display-name&gt;\n  &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath:applicationContext.xml\n            classpath:spring-database.xml \n            classpath:spring-application-flow.xml \n            classpath:spring-member.xml     \n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    \n    &lt;!-- location of log4j config file --&gt;\n    \n    &lt;context-param&gt;\n        &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/classes/log4j.xml&lt;/param-value&gt;\n    &lt;/context-param&gt; \n    \n  &lt;filter&gt;    \n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;    \n    &lt;filter-class&gt;org.apache.struts2.dispatcher.FilterDispatcher&lt;/filter-class&gt;    \n  &lt;/filter&gt; \n  \n   &lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n   &lt;/filter-mapping&gt;\n         \n    &lt;listener&gt;\n        &lt;listener-class&gt;\n    org.springframework.web.context.ContextLoaderListener\n    &lt;/listener-class&gt;\n    &lt;/listener&gt;\n    \n        &lt;!-- applies log4j configuration --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener\n    &lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n  \n    &lt;servlet&gt;\n       &lt;servlet-name&gt;InitServlet&lt;/servlet-name&gt;\n       &lt;servlet-class&gt; --- &lt;/servlet-class&gt;\n       &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n     &lt;/servlet&gt;  \n    \n \n\n   &lt;/web-app&gt;\n</code></pre>\n<p>like <em>so</em> I placed my <code>log4j.xml</code> file in both places, <code>JBOSS/bin/</code> and in <code>web-inf/classes/ </code></p>\n<p>Correct me if I'm Wrong? I'm Using JBOSS 7.1 and Maven, <code>struts2-spring</code> based app.</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637915745,"creation_date":1637915745,"answer_id":70121519,"question_id":70118648,"body_markdown":"You can use the [JobExplorer](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/explore/JobExplorer.html) API. It allows you to get the job executions of your job instance. Once you get that, you can filter the result as needed and get the start/end date from the `JobExecution` object.","title":"How to get the start or end date of the last execution of a Spring Batch job that has a completed status?","body":"<p>You can use the <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/explore/JobExplorer.html\" rel=\"nofollow noreferrer\">JobExplorer</a> API. It allows you to get the job executions of your job instance. Once you get that, you can filter the result as needed and get the start/end date from the <code>JobExecution</code> object.</p>\n"},{"tags":[],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637958644,"creation_date":1637958644,"answer_id":70129751,"question_id":70118648,"body_markdown":"I was able to use the JobExplorer API.\r\n\r\n    private Date fetchPreviousJobCompletetionDate() {\r\n        Date previousJobCompleteDate = null;\r\n        try {\r\n            Integer jobInstanceCount = jobExplorer.getJobInstanceCount(&quot;myjob&quot;);\r\n            List&lt;JobInstance&gt; jobInstances = jobExplorer.getJobInstances(&quot;myjob&quot;, 0, jobInstanceCount);\r\n            List&lt;JobExecution&gt; jobExecutions = jobInstances.stream().map(jobExplorer::getJobExecutions)\r\n                    .flatMap(List&lt;JobExecution&gt;::stream)\r\n                    .filter(param -&gt; param.getExitStatus().equals(ExitStatus.COMPLETED)).collect(Collectors.toList());\r\n            if (CollectionUtils.isNotEmpty(jobExecutions)) {\r\n                Optional&lt;JobExecution&gt; jobExecutionOptional = jobExecutions.stream().sorted((JobExecution execution1, JobExecution execution2) -&gt; execution2.getStartTime()\r\n                        .compareTo(execution1.getStartTime())).findFirst();\r\n                if (jobExecutionOptional.isPresent()) {\r\n                    previousJobCompleteDate = jobExecutionOptional.get().getStartTime();\r\n                }\r\n            }\r\n        } catch (NoSuchJobException exception) {\r\n            log.error(&quot;Exception occurred {}&quot;, exception.getMessage());\r\n        }\r\n        return previousJobCompleteDate;\r\n    }","title":"How to get the start or end date of the last execution of a Spring Batch job that has a completed status?","body":"<p>I was able to use the JobExplorer API.</p>\n<pre><code>private Date fetchPreviousJobCompletetionDate() {\n    Date previousJobCompleteDate = null;\n    try {\n        Integer jobInstanceCount = jobExplorer.getJobInstanceCount(&quot;myjob&quot;);\n        List&lt;JobInstance&gt; jobInstances = jobExplorer.getJobInstances(&quot;myjob&quot;, 0, jobInstanceCount);\n        List&lt;JobExecution&gt; jobExecutions = jobInstances.stream().map(jobExplorer::getJobExecutions)\n                .flatMap(List&lt;JobExecution&gt;::stream)\n                .filter(param -&gt; param.getExitStatus().equals(ExitStatus.COMPLETED)).collect(Collectors.toList());\n        if (CollectionUtils.isNotEmpty(jobExecutions)) {\n            Optional&lt;JobExecution&gt; jobExecutionOptional = jobExecutions.stream().sorted((JobExecution execution1, JobExecution execution2) -&gt; execution2.getStartTime()\n                    .compareTo(execution1.getStartTime())).findFirst();\n            if (jobExecutionOptional.isPresent()) {\n                previousJobCompleteDate = jobExecutionOptional.get().getStartTime();\n            }\n        }\n    } catch (NoSuchJobException exception) {\n        log.error(&quot;Exception occurred {}&quot;, exception.getMessage());\n    }\n    return previousJobCompleteDate;\n}\n</code></pre>\n"}],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70129751,"answer_count":2,"score":0,"last_activity_date":1685642995,"creation_date":1637888538,"question_id":70118648,"body_markdown":"I am writing a Spring Batch process (Spring boot 2.x.x). The job selects some rows from a table based on the last update date - \r\n\r\n    (select * from tablename where last_upd_dt &gt;= :lastruntime).\r\n\r\nThe :lastruntime is the date of the last (successfully) completed run of the job. I am trying to grab this date from the beforeJob method in the Listener class using JobListener/JobExecutionListener. \r\n\r\nIs there a way to leverage the classes Spring Batch framework offers? Else I will have to write and retrieve this info from another table.","title":"How to get the start or end date of the last execution of a Spring Batch job that has a completed status?","body":"<p>I am writing a Spring Batch process (Spring boot 2.x.x). The job selects some rows from a table based on the last update date -</p>\n<pre><code>(select * from tablename where last_upd_dt &gt;= :lastruntime).\n</code></pre>\n<p>The :lastruntime is the date of the last (successfully) completed run of the job. I am trying to grab this date from the beforeJob method in the Listener class using JobListener/JobExecutionListener.</p>\n<p>Is there a way to leverage the classes Spring Batch framework offers? Else I will have to write and retrieve this info from another table.</p>\n"},{"tags":["java","kotlin","notifications","foreground-service"],"owner":{"account_id":23098295,"reputation":1,"user_id":17208058,"display_name":"Mehroj "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685642885,"creation_date":1685642885,"question_id":76384592,"body_markdown":"when i installed an android app it added a persistent notification to my tray and then every time i turn off and turn back on my device it shows a full screen page that has links on it now. how did they make that notification show as a full screen thing on my device when i go to my lock screen?\r\n\r\nyou can see it in the picture [it appears when a user wakes his phone up full without &quot;SYSTEM_ALERT_WINDOW&quot; permission, they say it is done by using these &quot;Notification runtime permission  |  Android Developers \r\n\r\nUsing a media session  |  Android Developers &quot;](https://i.stack.imgur.com/abjLF.png)\r\n\r\nI tried &quot;SYSTEM_ALERT_WINDOW&quot; but this is not what I want i need to achieve this without asking for any permission","title":"How can I create a full screen page from a persistent notification on lockscreen in my Android app?","body":"<p>when i installed an android app it added a persistent notification to my tray and then every time i turn off and turn back on my device it shows a full screen page that has links on it now. how did they make that notification show as a full screen thing on my device when i go to my lock screen?</p>\n<p>you can see it in the picture [it appears when a user wakes his phone up full without &quot;SYSTEM_ALERT_WINDOW&quot; permission, they say it is done by using these &quot;Notification runtime permission  |  Android Developers</p>\n<p>Using a media session  |  Android Developers &quot;](<a href=\"https://i.stack.imgur.com/abjLF.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/abjLF.png</a>)</p>\n<p>I tried &quot;SYSTEM_ALERT_WINDOW&quot; but this is not what I want i need to achieve this without asking for any permission</p>\n"},{"tags":["java","rest","jersey","jax-rs","cors"],"comments":[{"owner":{"account_id":14991815,"reputation":1,"user_id":10822623,"display_name":"Akshay Kulkarni"},"score":1,"creation_date":1545460719,"post_id":28065963,"comment_id":94635418,"body_markdown":"Just FYI I was using jax-rs jersey 2 and I needed to allow all requests for my RestApi.\nhttps://stackoverflow.com/questions/24386712/tomcat-cors-filter , The answer by **Krizka**\nhelped solve my problem really easily, as I configured the web.xml in my tomcat directory (apache tomcat 8). Was using angular 6 to make requests to my api.","body":"Just FYI I was using jax-rs jersey 2 and I needed to allow all requests for my RestApi. <a href=\"https://stackoverflow.com/questions/24386712/tomcat-cors-filter\">stackoverflow.com/questions/24386712/tomcat-cors-filter</a> , The answer by <b>Krizka</b> helped solve my problem really easily, as I configured the web.xml in my tomcat directory (apache tomcat 8). Was using angular 6 to make requests to my api."}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":2,"up_vote_count":192,"is_accepted":false,"score":190,"last_activity_date":1612546442,"creation_date":1421844490,"answer_id":28067653,"question_id":28065963,"body_markdown":"&gt;**Note: Make sure to read the UPDATE at the bottom. The original answer includes a &quot;lazy&quot; implementation of the CORS filter**\r\n\r\nWith Jersey, to handle CORS, you can just use a [`ContainerResponseFilter`][response-filter]. The `ContainerResponseFilter` for Jersey 1.x and 2.x are a bit different. Since you haven&#39;t mentioned which version you&#39;re using, I&#39;ll post both. Make sure you use the correct one.\r\n\r\nJersey 2.x\r\n----------\r\n\r\n    import java.io.IOException;\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerResponseContext;\r\n    import javax.ws.rs.container.ContainerResponseFilter;\r\n    \r\n    @Provider\r\n    public class CORSFilter implements ContainerResponseFilter {\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext request,\r\n                ContainerResponseContext response) throws IOException {\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\r\n                    &quot;CSRF-Token, X-Requested-By, Authorization, Content-Type&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\r\n                    &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n        }\r\n    }\r\n\r\nIf you use package scanning to discover providers and resources, the `@Provider` annotation should take care of the configuration for you. If not, then you will need to explicitly register it with the `ResourceConfig` or the `Application` subclass.\r\n\r\nSample code to explicitly register filter with the `ResourceConfig`:\r\n\r\n    final ResourceConfig resourceConfig = new ResourceConfig();\r\n    resourceConfig.register(new CORSFilter());\r\n    final final URI uri = ...;\r\n    final HttpServer httpServer = GrizzlyHttpServerFactory.createHttpServer(uri, resourceConfig);\r\n\r\n&gt;For Jersey 2.x, if you are having problems registering this filter, here are a couple resources that might help\r\n\r\n&gt;* [Registering Resources and Providers in Jersey 2][registering-resources]\r\n&gt;* [What exactly is the ResourceConfig class in Jersey 2?][what-is-resourceconfig]\r\n\r\n[registering-resources]: https://blog.dejavu.sk/registering-resources-and-providers-in-jersey-2/\r\n[what-is-resourceconfig]: https://stackoverflow.com/a/45627178/2587435\r\n\r\nJersey 1.x\r\n----------\r\n\r\n    import com.sun.jersey.spi.container.ContainerRequest;\r\n    import com.sun.jersey.spi.container.ContainerResponse;\r\n    import com.sun.jersey.spi.container.ContainerResponseFilter;\r\n    \r\n    @Provider\r\n    public class CORSFilter implements ContainerResponseFilter {\r\n        @Override\r\n        public ContainerResponse filter(ContainerRequest request,\r\n                ContainerResponse response) {\r\n    \r\n            response.getHttpHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.getHttpHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\r\n                    &quot;CSRF-Token, X-Requested-By, Authorization, Content-Type&quot;);\r\n            response.getHttpHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.getHttpHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\r\n                    &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n    \r\n            return response;\r\n        }\r\n    }\r\n\r\nweb.xml configuration, you can use \r\n\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;com.sun.jersey.spi.container.ContainerResponseFilters&lt;/param-name&gt;\r\n      &lt;param-value&gt;com.yourpackage.CORSFilter&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nOr `ResourceConfig` you can do\r\n\r\n    resourceConfig.getContainerResponseFilters().add(new CORSFilter());\r\n\r\nOr package scanning with the `@Provider` annotation.\r\n\r\n------\r\n\r\n## EDIT\r\n\r\nPlease note that the above example can be improved. You will need to know more about how CORS works. Please see [here][cors-mdn-docs]. For one, you will get the headers for all responses. This may not be desirable. You may just need to handle the preflight (or OPTIONS). If you want to see a better implemented CORS filter, you can check out the source code for the [RESTeasy `CorsFilter`][resteasy-cors-filter]\r\n\r\n---------\r\n\r\n## UPDATE\r\n\r\nSo I decided to add a more correct implementation. The above implementation is lazy and adds all the CORS headers to all requests. The other mistake is that being that it is only a _response_ filter, the request is still processes. This means that when the preflight request comes in, which is an OPTIONS request, there will be no OPTIONS method implemented, so we will get a 405 response, which is incorrect.\r\n\r\nHere&#39;s how it _should_ work. So there are two types of CORS requests: simple requests and [preflight requests][preflight-request-mdn-docs]. For a simple request, the browser will send the actual request and add the `Origin` request header. The browser expects for the response to have the `Access-Control-Allow-Origin` header, saying that the origin from the `Origin` header is allowed. In order for it to be considered a &quot;simple request&quot;, it must meet the following criteria:\r\n\r\n* **Be one of the following method:**\r\n    * GET\r\n    * HEAD\r\n    * POST\r\n* **Apart from headers automatically set by the browser, the request may only contain the following _manually_ set headers:**\r\n    * `Accept`\r\n    * `Accept-Language`\r\n    * `Content-Language`\r\n    * `Content-Type`\r\n    * `DPR`\r\n    * `Save-Data`\r\n    * `Viewport-Width`\r\n    * `Width`\r\n* **The only allowed values for the `Content-Type` header are:**\r\n    * `application/x-www-form-urlencoded`\r\n    * `multipart/form-data`\r\n    * `text/plain`\r\n\r\nIf the request doesn&#39;t meet all of these three criteria, a Preflight request is made. This is an OPTIONS request that is made to the server, _prior_ to the actual request being made. It will contain different `Access-Control-XX-XX` headers, and the server should respond to those headers with its own CORS response headers. Here are the matching headers:\r\n\r\n| REQUEST HEADER | RESPONSE HEADER |\r\n| -------------- | ----------------|\r\n| Origin | Access-Control-Allow-Origin |\r\n| Access-Control-Request-Headers | Access-Control-Allow-Headers |\r\n| Access-Control-Request-Method | Access-Control-Allow-Methods |\r\n| XHR.withCredentials | Access-Control-Allow-Credentials |\r\n\r\n* With the `Origin` request header, the value will be the origin server domain, and the response `Access-Control-Allow-Origin` should be either this same address or `*` to specify that all origins are allowed.\r\n\r\n* If the client tries to manually set any headers not in the above list, then the browser will set the `Access-Control-Request-Headers` header, with the value being a list of all the headers the client is trying to set. The server should respond back with a `Access-Control-Allow-Headers` response header, with the value being a list of headers it allows.\r\n\r\n* The browser will also set the `Access-Control-Request-Method` request header, with the value being the HTTP method of the request. The server should respond with the `Access-Control-Allow-Methods` response header, with the value being a list of the methods it allows.\r\n\r\n* If the client uses the `XHR.withCredentials`, then the server should respond with the `Access-Control-Allow-Credentials` response header, with a value of `true`. [Read more here][allow-credentials-mdn-docs].\r\n\r\nSo with all that said, here is a better implementation. Even though this is _better_ than the above implementation, it is still inferior to the [RESTEasy one][resteasy-cors-filter] I linked to, as this implementation still allows all origins. But this filter does a better job of adhering to the CORS spec than the above filter which just adds the CORS response headers to all request. Note that you may also need to modify the `Access-Control-Allow-Headers` to match the headers that your application will allow; you may want o either add or remove some headers from the list in this example.\r\n\r\n    @Provider\r\n    @PreMatching\r\n    public class CorsFilter implements ContainerRequestFilter, ContainerResponseFilter {\r\n    \r\n        /**\r\n         * Method for ContainerRequestFilter.\r\n         */\r\n        @Override\r\n        public void filter(ContainerRequestContext request) throws IOException {\r\n\r\n            // If it&#39;s a preflight request, we abort the request with\r\n            // a 200 status, and the CORS headers are added in the\r\n            // response filter method below.\r\n            if (isPreflightRequest(request)) {\r\n                request.abortWith(Response.ok().build());\r\n                return;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * A preflight request is an OPTIONS request\r\n         * with an Origin header.\r\n         */\r\n        private static boolean isPreflightRequest(ContainerRequestContext request) {\r\n            return request.getHeaderString(&quot;Origin&quot;) != null\r\n                    &amp;&amp; request.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Method for ContainerResponseFilter.\r\n         */\r\n        @Override\r\n        public void filter(ContainerRequestContext request, ContainerResponseContext response)\r\n                throws IOException {\r\n\r\n            // if there is no Origin header, then it is not a\r\n            // cross origin request. We don&#39;t do anything.\r\n            if (request.getHeaderString(&quot;Origin&quot;) == null) {\r\n                return;\r\n            }\r\n\r\n            // If it is a preflight request, then we add all\r\n            // the CORS headers here.\r\n            if (isPreflightRequest(request)) {\r\n                response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n                response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\r\n                    &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n                response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\r\n                    // Whatever other non-standard/safe headers (see list above) \r\n                    // you want the client to be able to send to the server,\r\n                    // put it in this list. And remove the ones you don&#39;t want.\r\n                    &quot;X-Requested-With, Authorization, &quot; +\r\n                    &quot;Accept-Version, Content-MD5, CSRF-Token, Content-Type&quot;);\r\n            }\r\n\r\n            // Cross origin requests can be either simple requests\r\n            // or preflight request. We need to add this header\r\n            // to both type of requests. Only preflight requests\r\n            // need the previously added headers.\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        }\r\n    }\r\n\r\nTo learn more about CORS, I suggest reading the MDN docs on [Cross-Origin Resource Sharing (CORS)][cors-mdn-docs]\r\n\r\n[cxf-cors-annotation]: http://cxf.apache.org/javadoc/latest-2.5.x/org/apache/cxf/jaxrs/cors/CrossOriginResourceSharing.html\r\n\r\n[cors-mdn-docs]: https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\r\n\r\n[preflight-request-mdn-docs]: https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request\r\n\r\n[resteasy-cors-filter]: https://github.com/resteasy/Resteasy/blob/d6fc3ea41014e88d4c296c7d985df956923886dc/resteasy-core/src/main/java/org/jboss/resteasy/plugins/interceptors/CorsFilter.java\r\n\r\n[allow-credentials-mdn-docs]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\r\n\r\n[response-filter]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/filters-and-interceptors.html","title":"How to handle CORS using JAX-RS with Jersey","body":"<blockquote>\n<p><strong>Note: Make sure to read the UPDATE at the bottom. The original answer includes a &quot;lazy&quot; implementation of the CORS filter</strong></p>\n</blockquote>\n<p>With Jersey, to handle CORS, you can just use a <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/filters-and-interceptors.html\" rel=\"noreferrer\"><code>ContainerResponseFilter</code></a>. The <code>ContainerResponseFilter</code> for Jersey 1.x and 2.x are a bit different. Since you haven't mentioned which version you're using, I'll post both. Make sure you use the correct one.</p>\n<h2>Jersey 2.x</h2>\n<pre><code>import java.io.IOException;\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerResponseContext;\nimport javax.ws.rs.container.ContainerResponseFilter;\n\n@Provider\npublic class CORSFilter implements ContainerResponseFilter {\n\n    @Override\n    public void filter(ContainerRequestContext request,\n            ContainerResponseContext response) throws IOException {\n        response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\n                &quot;CSRF-Token, X-Requested-By, Authorization, Content-Type&quot;);\n        response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\n                &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n    }\n}\n</code></pre>\n<p>If you use package scanning to discover providers and resources, the <code>@Provider</code> annotation should take care of the configuration for you. If not, then you will need to explicitly register it with the <code>ResourceConfig</code> or the <code>Application</code> subclass.</p>\n<p>Sample code to explicitly register filter with the <code>ResourceConfig</code>:</p>\n<pre><code>final ResourceConfig resourceConfig = new ResourceConfig();\nresourceConfig.register(new CORSFilter());\nfinal final URI uri = ...;\nfinal HttpServer httpServer = GrizzlyHttpServerFactory.createHttpServer(uri, resourceConfig);\n</code></pre>\n<blockquote>\n<p>For Jersey 2.x, if you are having problems registering this filter, here are a couple resources that might help</p>\n</blockquote>\n<blockquote>\n<ul>\n<li><a href=\"https://blog.dejavu.sk/registering-resources-and-providers-in-jersey-2/\" rel=\"noreferrer\">Registering Resources and Providers in Jersey 2</a></li>\n<li><a href=\"https://stackoverflow.com/a/45627178/2587435\">What exactly is the ResourceConfig class in Jersey 2?</a></li>\n</ul>\n</blockquote>\n<h2>Jersey 1.x</h2>\n<pre><code>import com.sun.jersey.spi.container.ContainerRequest;\nimport com.sun.jersey.spi.container.ContainerResponse;\nimport com.sun.jersey.spi.container.ContainerResponseFilter;\n\n@Provider\npublic class CORSFilter implements ContainerResponseFilter {\n    @Override\n    public ContainerResponse filter(ContainerRequest request,\n            ContainerResponse response) {\n\n        response.getHttpHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.getHttpHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\n                &quot;CSRF-Token, X-Requested-By, Authorization, Content-Type&quot;);\n        response.getHttpHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.getHttpHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\n                &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n\n        return response;\n    }\n}\n</code></pre>\n<p>web.xml configuration, you can use</p>\n<pre><code>&lt;init-param&gt;\n  &lt;param-name&gt;com.sun.jersey.spi.container.ContainerResponseFilters&lt;/param-name&gt;\n  &lt;param-value&gt;com.yourpackage.CORSFilter&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n<p>Or <code>ResourceConfig</code> you can do</p>\n<pre><code>resourceConfig.getContainerResponseFilters().add(new CORSFilter());\n</code></pre>\n<p>Or package scanning with the <code>@Provider</code> annotation.</p>\n<hr />\n<h2>EDIT</h2>\n<p>Please note that the above example can be improved. You will need to know more about how CORS works. Please see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"noreferrer\">here</a>. For one, you will get the headers for all responses. This may not be desirable. You may just need to handle the preflight (or OPTIONS). If you want to see a better implemented CORS filter, you can check out the source code for the <a href=\"https://github.com/resteasy/Resteasy/blob/d6fc3ea41014e88d4c296c7d985df956923886dc/resteasy-core/src/main/java/org/jboss/resteasy/plugins/interceptors/CorsFilter.java\" rel=\"noreferrer\">RESTeasy <code>CorsFilter</code></a></p>\n<hr />\n<h2>UPDATE</h2>\n<p>So I decided to add a more correct implementation. The above implementation is lazy and adds all the CORS headers to all requests. The other mistake is that being that it is only a <em>response</em> filter, the request is still processes. This means that when the preflight request comes in, which is an OPTIONS request, there will be no OPTIONS method implemented, so we will get a 405 response, which is incorrect.</p>\n<p>Here's how it <em>should</em> work. So there are two types of CORS requests: simple requests and <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request\" rel=\"noreferrer\">preflight requests</a>. For a simple request, the browser will send the actual request and add the <code>Origin</code> request header. The browser expects for the response to have the <code>Access-Control-Allow-Origin</code> header, saying that the origin from the <code>Origin</code> header is allowed. In order for it to be considered a &quot;simple request&quot;, it must meet the following criteria:</p>\n<ul>\n<li><strong>Be one of the following method:</strong>\n<ul>\n<li>GET</li>\n<li>HEAD</li>\n<li>POST</li>\n</ul>\n</li>\n<li><strong>Apart from headers automatically set by the browser, the request may only contain the following <em>manually</em> set headers:</strong>\n<ul>\n<li><code>Accept</code></li>\n<li><code>Accept-Language</code></li>\n<li><code>Content-Language</code></li>\n<li><code>Content-Type</code></li>\n<li><code>DPR</code></li>\n<li><code>Save-Data</code></li>\n<li><code>Viewport-Width</code></li>\n<li><code>Width</code></li>\n</ul>\n</li>\n<li><strong>The only allowed values for the <code>Content-Type</code> header are:</strong>\n<ul>\n<li><code>application/x-www-form-urlencoded</code></li>\n<li><code>multipart/form-data</code></li>\n<li><code>text/plain</code></li>\n</ul>\n</li>\n</ul>\n<p>If the request doesn't meet all of these three criteria, a Preflight request is made. This is an OPTIONS request that is made to the server, <em>prior</em> to the actual request being made. It will contain different <code>Access-Control-XX-XX</code> headers, and the server should respond to those headers with its own CORS response headers. Here are the matching headers:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>REQUEST HEADER</th>\n<th>RESPONSE HEADER</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Origin</td>\n<td>Access-Control-Allow-Origin</td>\n</tr>\n<tr>\n<td>Access-Control-Request-Headers</td>\n<td>Access-Control-Allow-Headers</td>\n</tr>\n<tr>\n<td>Access-Control-Request-Method</td>\n<td>Access-Control-Allow-Methods</td>\n</tr>\n<tr>\n<td>XHR.withCredentials</td>\n<td>Access-Control-Allow-Credentials</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ul>\n<li><p>With the <code>Origin</code> request header, the value will be the origin server domain, and the response <code>Access-Control-Allow-Origin</code> should be either this same address or <code>*</code> to specify that all origins are allowed.</p>\n</li>\n<li><p>If the client tries to manually set any headers not in the above list, then the browser will set the <code>Access-Control-Request-Headers</code> header, with the value being a list of all the headers the client is trying to set. The server should respond back with a <code>Access-Control-Allow-Headers</code> response header, with the value being a list of headers it allows.</p>\n</li>\n<li><p>The browser will also set the <code>Access-Control-Request-Method</code> request header, with the value being the HTTP method of the request. The server should respond with the <code>Access-Control-Allow-Methods</code> response header, with the value being a list of the methods it allows.</p>\n</li>\n<li><p>If the client uses the <code>XHR.withCredentials</code>, then the server should respond with the <code>Access-Control-Allow-Credentials</code> response header, with a value of <code>true</code>. <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\" rel=\"noreferrer\">Read more here</a>.</p>\n</li>\n</ul>\n<p>So with all that said, here is a better implementation. Even though this is <em>better</em> than the above implementation, it is still inferior to the <a href=\"https://github.com/resteasy/Resteasy/blob/d6fc3ea41014e88d4c296c7d985df956923886dc/resteasy-core/src/main/java/org/jboss/resteasy/plugins/interceptors/CorsFilter.java\" rel=\"noreferrer\">RESTEasy one</a> I linked to, as this implementation still allows all origins. But this filter does a better job of adhering to the CORS spec than the above filter which just adds the CORS response headers to all request. Note that you may also need to modify the <code>Access-Control-Allow-Headers</code> to match the headers that your application will allow; you may want o either add or remove some headers from the list in this example.</p>\n<pre><code>@Provider\n@PreMatching\npublic class CorsFilter implements ContainerRequestFilter, ContainerResponseFilter {\n\n    /**\n     * Method for ContainerRequestFilter.\n     */\n    @Override\n    public void filter(ContainerRequestContext request) throws IOException {\n\n        // If it's a preflight request, we abort the request with\n        // a 200 status, and the CORS headers are added in the\n        // response filter method below.\n        if (isPreflightRequest(request)) {\n            request.abortWith(Response.ok().build());\n            return;\n        }\n    }\n\n    /**\n     * A preflight request is an OPTIONS request\n     * with an Origin header.\n     */\n    private static boolean isPreflightRequest(ContainerRequestContext request) {\n        return request.getHeaderString(&quot;Origin&quot;) != null\n                &amp;&amp; request.getMethod().equalsIgnoreCase(&quot;OPTIONS&quot;);\n    }\n\n    /**\n     * Method for ContainerResponseFilter.\n     */\n    @Override\n    public void filter(ContainerRequestContext request, ContainerResponseContext response)\n            throws IOException {\n\n        // if there is no Origin header, then it is not a\n        // cross origin request. We don't do anything.\n        if (request.getHeaderString(&quot;Origin&quot;) == null) {\n            return;\n        }\n\n        // If it is a preflight request, then we add all\n        // the CORS headers here.\n        if (isPreflightRequest(request)) {\n            response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n            response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;,\n                &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n            response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,\n                // Whatever other non-standard/safe headers (see list above) \n                // you want the client to be able to send to the server,\n                // put it in this list. And remove the ones you don't want.\n                &quot;X-Requested-With, Authorization, &quot; +\n                &quot;Accept-Version, Content-MD5, CSRF-Token, Content-Type&quot;);\n        }\n\n        // Cross origin requests can be either simple requests\n        // or preflight request. We need to add this header\n        // to both type of requests. Only preflight requests\n        // need the previously added headers.\n        response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }\n}\n</code></pre>\n<p>To learn more about CORS, I suggest reading the MDN docs on <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"noreferrer\">Cross-Origin Resource Sharing (CORS)</a></p>\n"},{"tags":[],"owner":{"account_id":15702,"reputation":1853,"user_id":33427,"accept_rate":33,"display_name":"Michael "},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1463128747,"creation_date":1463128747,"answer_id":37205215,"question_id":28065963,"body_markdown":"The other answer might be strictly correct, but misleading. The missing part is that you can mix filters from different sources together. Even thought Jersey might not provide CORS filter (not a fact I checked but I trust the other answer on that), you can use [tomcat&#39;s own CORS filter][1].\r\n\r\nI am using it successfully with Jersey. I have my own implementation of Basic Authentication filter, for example, together with CORS. Best of all, CORS filter is configured in web XML, not in code.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#CORS_Filter","title":"How to handle CORS using JAX-RS with Jersey","body":"<p>The other answer might be strictly correct, but misleading. The missing part is that you can mix filters from different sources together. Even thought Jersey might not provide CORS filter (not a fact I checked but I trust the other answer on that), you can use <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#CORS_Filter\" rel=\"noreferrer\">tomcat's own CORS filter</a>.</p>\n\n<p>I am using it successfully with Jersey. I have my own implementation of Basic Authentication filter, for example, together with CORS. Best of all, CORS filter is configured in web XML, not in code.</p>\n"},{"tags":[],"owner":{"account_id":37524,"reputation":7056,"user_id":107301,"accept_rate":96,"display_name":"Dark Star1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468936835,"creation_date":1468936835,"answer_id":38460739,"question_id":28065963,"body_markdown":"To solve this for my project I used [Micheal&#39;s][1] answer and arrived at this:\r\n\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;id&gt;run-embedded&lt;/id&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n                        &lt;port&gt;${maven.tomcat.port}&lt;/port&gt;\r\n\t\t\t\t\t\t&lt;useSeparateTomcatClassLoader&gt;true&lt;/useSeparateTomcatClassLoader&gt;\r\n\t\t\t\t\t\t&lt;contextFile&gt;${project.basedir}/tomcat/context.xml&lt;/contextFile&gt;\r\n                        &lt;!--enable CORS for development purposes only. The web.xml file specified is a copy of\r\n                            the auto generated web.xml with the additional CORS filter added --&gt;\r\n                        &lt;tomcatWebXml&gt;${maven.tomcat.web-xml.file}&lt;/tomcatWebXml&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\nThe CORS filter being the basic example filter from [the tomcat site.][2] &lt;br/&gt;&lt;br/&gt;\r\n**Edit**:&lt;br/&gt;\r\nThe **maven.tomcat.web-xml.file** variable is a pom defined property for the project and it contains the path to the web.xml file (located within my project)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/33427/michael\r\n  [2]: https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#CORS_Filter","title":"How to handle CORS using JAX-RS with Jersey","body":"<p>To solve this for my project I used <a href=\"https://stackoverflow.com/users/33427/michael\">Micheal's</a> answer and arrived at this:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;run-embedded&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;run&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;port&gt;${maven.tomcat.port}&lt;/port&gt;\n                    &lt;useSeparateTomcatClassLoader&gt;true&lt;/useSeparateTomcatClassLoader&gt;\n                    &lt;contextFile&gt;${project.basedir}/tomcat/context.xml&lt;/contextFile&gt;\n                    &lt;!--enable CORS for development purposes only. The web.xml file specified is a copy of\n                        the auto generated web.xml with the additional CORS filter added --&gt;\n                    &lt;tomcatWebXml&gt;${maven.tomcat.web-xml.file}&lt;/tomcatWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>The CORS filter being the basic example filter from <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#CORS_Filter\" rel=\"nofollow noreferrer\">the tomcat site.</a> <br/><br/>\n<strong>Edit</strong>:<br/>\nThe <strong>maven.tomcat.web-xml.file</strong> variable is a pom defined property for the project and it contains the path to the web.xml file (located within my project)</p>\n"},{"tags":[],"owner":{"account_id":1608688,"reputation":61,"user_id":1488226,"accept_rate":0,"display_name":"minhlong293"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473333209,"creation_date":1473333209,"answer_id":39389440,"question_id":28065963,"body_markdown":"peeskillet&#39;s answer is correct. But I get this error when refresh the web page (it is working only on first load):\r\n\r\n    The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;*, *&#39;, but only one is allowed. Origin &#39;http://127.0.0.1:8080&#39; is therefore not allowed access.\r\n\r\nSo instead of using add method to add headers for response, I using put method. This is my class\r\n\r\n    public class MCORSFilter implements ContainerResponseFilter {\r\n        public static final String ACCESS_CONTROL_ALLOW_ORIGIN = &quot;Access-Control-Allow-Origin&quot;;\r\n        public static final String ACCESS_CONTROL_ALLOW_ORIGIN_VALUE = &quot;*&quot;;\r\n    \r\n        private static final String ACCESS_CONTROL_ALLOW_CREDENTIALS = &quot;Access-Control-Allow-Credentials&quot;;\r\n        private static final String ACCESS_CONTROL_ALLOW_CREDENTIALS_VALUE = &quot;true&quot;;\r\n    \r\n        public static final String ACCESS_CONTROL_ALLOW_HEADERS = &quot;Access-Control-Allow-Headers&quot;;\r\n        public static final String ACCESS_CONTROL_ALLOW_HEADERS_VALUE = &quot;Cache-Control, Pragma, Origin, Authorization, Content-Type, X-Requested-With, Accept&quot;;\r\n    \r\n        public static final String ACCESS_CONTROL_ALLOW_METHODS = &quot;Access-Control-Allow-Methods&quot;;\r\n        public static final String ACCESS_CONTROL_ALLOW_METHODS_VALUE = &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;;\r\n    \r\n        public static final String[] ALL_HEADERs = {\r\n                ACCESS_CONTROL_ALLOW_ORIGIN,\r\n                ACCESS_CONTROL_ALLOW_CREDENTIALS,\r\n                ACCESS_CONTROL_ALLOW_HEADERS,\r\n                ACCESS_CONTROL_ALLOW_METHODS\r\n        };\r\n        public static final String[] ALL_HEADER_VALUEs = {\r\n                ACCESS_CONTROL_ALLOW_ORIGIN_VALUE,\r\n                ACCESS_CONTROL_ALLOW_CREDENTIALS_VALUE,\r\n                ACCESS_CONTROL_ALLOW_HEADERS_VALUE,\r\n                ACCESS_CONTROL_ALLOW_METHODS_VALUE\r\n        };\r\n        @Override\r\n        public ContainerResponse filter(ContainerRequest request, ContainerResponse response) {\r\n            for (int i = 0; i &lt; ALL_HEADERs.length; i++) {\r\n                ArrayList&lt;Object&gt; value = new ArrayList&lt;&gt;();\r\n                value.add(ALL_HEADER_VALUEs[i]);\r\n                response.getHttpHeaders().put(ALL_HEADERs[i], value); //using put method\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\nAnd add this class to init-param in web.xml\r\n\r\n    &lt;init-param&gt;\r\n                &lt;param-name&gt;com.sun.jersey.spi.container.ContainerResponseFilters&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.yourpackage.MCORSFilter&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n","title":"How to handle CORS using JAX-RS with Jersey","body":"<p>peeskillet's answer is correct. But I get this error when refresh the web page (it is working only on first load):</p>\n\n<pre><code>The 'Access-Control-Allow-Origin' header contains multiple values '*, *', but only one is allowed. Origin 'http://127.0.0.1:8080' is therefore not allowed access.\n</code></pre>\n\n<p>So instead of using add method to add headers for response, I using put method. This is my class</p>\n\n<pre><code>public class MCORSFilter implements ContainerResponseFilter {\n    public static final String ACCESS_CONTROL_ALLOW_ORIGIN = \"Access-Control-Allow-Origin\";\n    public static final String ACCESS_CONTROL_ALLOW_ORIGIN_VALUE = \"*\";\n\n    private static final String ACCESS_CONTROL_ALLOW_CREDENTIALS = \"Access-Control-Allow-Credentials\";\n    private static final String ACCESS_CONTROL_ALLOW_CREDENTIALS_VALUE = \"true\";\n\n    public static final String ACCESS_CONTROL_ALLOW_HEADERS = \"Access-Control-Allow-Headers\";\n    public static final String ACCESS_CONTROL_ALLOW_HEADERS_VALUE = \"Cache-Control, Pragma, Origin, Authorization, Content-Type, X-Requested-With, Accept\";\n\n    public static final String ACCESS_CONTROL_ALLOW_METHODS = \"Access-Control-Allow-Methods\";\n    public static final String ACCESS_CONTROL_ALLOW_METHODS_VALUE = \"GET, POST, PUT, DELETE, OPTIONS, HEAD\";\n\n    public static final String[] ALL_HEADERs = {\n            ACCESS_CONTROL_ALLOW_ORIGIN,\n            ACCESS_CONTROL_ALLOW_CREDENTIALS,\n            ACCESS_CONTROL_ALLOW_HEADERS,\n            ACCESS_CONTROL_ALLOW_METHODS\n    };\n    public static final String[] ALL_HEADER_VALUEs = {\n            ACCESS_CONTROL_ALLOW_ORIGIN_VALUE,\n            ACCESS_CONTROL_ALLOW_CREDENTIALS_VALUE,\n            ACCESS_CONTROL_ALLOW_HEADERS_VALUE,\n            ACCESS_CONTROL_ALLOW_METHODS_VALUE\n    };\n    @Override\n    public ContainerResponse filter(ContainerRequest request, ContainerResponse response) {\n        for (int i = 0; i &lt; ALL_HEADERs.length; i++) {\n            ArrayList&lt;Object&gt; value = new ArrayList&lt;&gt;();\n            value.add(ALL_HEADER_VALUEs[i]);\n            response.getHttpHeaders().put(ALL_HEADERs[i], value); //using put method\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p>And add this class to init-param in web.xml</p>\n\n<pre><code>&lt;init-param&gt;\n            &lt;param-name&gt;com.sun.jersey.spi.container.ContainerResponseFilters&lt;/param-name&gt;\n            &lt;param-value&gt;com.yourpackage.MCORSFilter&lt;/param-value&gt;\n        &lt;/init-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10403364,"reputation":725,"user_id":7670970,"display_name":"Aupr"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1511594608,"creation_date":1511594608,"answer_id":47483576,"question_id":28065963,"body_markdown":"Remove annotation &quot;`@CrossOriginResourceSharing(allowAllOrigins = true)`&quot;\r\n\r\nThen Return Response like below:\r\n\r\n    return Response.ok()\r\n                   .entity(jsonResponse)\r\n                   .header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n                   .build();\r\n\r\nBut the `jsonResponse` should replace with a POJO Object!","title":"How to handle CORS using JAX-RS with Jersey","body":"<p>Remove annotation \"<code>@CrossOriginResourceSharing(allowAllOrigins = true)</code>\"</p>\n\n<p>Then Return Response like below:</p>\n\n<pre><code>return Response.ok()\n               .entity(jsonResponse)\n               .header(\"Access-Control-Allow-Origin\", \"*\")\n               .build();\n</code></pre>\n\n<p>But the <code>jsonResponse</code> should replace with a POJO Object!</p>\n"},{"tags":[],"owner":{"account_id":16743892,"reputation":295,"user_id":12980819,"display_name":"Falchio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685642526,"creation_date":1685642526,"answer_id":76384556,"question_id":28065963,"body_markdown":" for multiple origin domains:\r\n```java\r\nimport javax.ws.rs.container.ContainerRequestContext;\r\nimport javax.ws.rs.container.ContainerResponseContext;\r\nimport javax.ws.rs.container.ContainerResponseFilter;\r\nimport javax.ws.rs.ext.Provider;\r\n\r\n\r\n@Provider\r\npublic class CorsFilter implements ContainerResponseFilter {\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) {\r\n\r\n        final String domain = generateAllowOrigin(requestContext);\r\n\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, domain);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;origin, content-type, accept, authorization&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n    }\r\n\r\n    private static String generateAllowOrigin(ContainerRequestContext requestContext) {\r\n        String caller = requestContext.getHeaderString(&quot;Origin&quot;);\r\n        final String domain;\r\n        if (caller != null &amp;&amp; caller.contains(&quot;localhost:4141&quot;)) {\r\n            domain = &quot;http://localhost:4141&quot;;\r\n        } else {\r\n            domain = &quot;https://example.com&quot;;\r\n        }\r\n        return domain;\r\n    }\r\n}\r\n```","title":"How to handle CORS using JAX-RS with Jersey","body":"<p>for multiple origin domains:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerResponseContext;\nimport javax.ws.rs.container.ContainerResponseFilter;\nimport javax.ws.rs.ext.Provider;\n\n\n@Provider\npublic class CorsFilter implements ContainerResponseFilter {\n\n    @Override\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) {\n\n        final String domain = generateAllowOrigin(requestContext);\n\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, domain);\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;origin, content-type, accept, authorization&quot;);\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n    }\n\n    private static String generateAllowOrigin(ContainerRequestContext requestContext) {\n        String caller = requestContext.getHeaderString(&quot;Origin&quot;);\n        final String domain;\n        if (caller != null &amp;&amp; caller.contains(&quot;localhost:4141&quot;)) {\n            domain = &quot;http://localhost:4141&quot;;\n        } else {\n            domain = &quot;https://example.com&quot;;\n        }\n        return domain;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3296579,"reputation":865,"user_id":2773716,"display_name":"user2773716"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108432,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"answer_count":6,"score":82,"last_activity_date":1685642526,"creation_date":1421839209,"question_id":28065963,"body_markdown":"I&#39;m developing a java script client application, in server-side I need to handle CORS, all the services I had written in JAX-RS with JERSEY.\r\nMy code:\r\n       \r\n    @CrossOriginResourceSharing(allowAllOrigins = true)\r\n    @GET\r\n    @Path(&quot;/readOthersCalendar&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    public Response readOthersCalendar(String dataJson) throws Exception {  \r\n         //my code. Edited by gimbal2 to fix formatting\r\n         return Response.status(status).entity(jsonResponse).header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;).build();\r\n    }\r\n\r\nAs of now, i&#39;m getting error No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://localhost:8080&#39; is therefore not allowed access.‚Äù\r\n\r\nPlease assist me with this.\r\n\r\nThanks &amp; Regards\r\nBuddha Puneeth","title":"How to handle CORS using JAX-RS with Jersey","body":"<p>I'm developing a java script client application, in server-side I need to handle CORS, all the services I had written in JAX-RS with JERSEY.\nMy code:</p>\n\n<pre><code>@CrossOriginResourceSharing(allowAllOrigins = true)\n@GET\n@Path(\"/readOthersCalendar\")\n@Produces(\"application/json\")\npublic Response readOthersCalendar(String dataJson) throws Exception {  \n     //my code. Edited by gimbal2 to fix formatting\n     return Response.status(status).entity(jsonResponse).header(\"Access-Control-Allow-Origin\", \"*\").build();\n}\n</code></pre>\n\n<p>As of now, i'm getting error No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href=\"http://localhost:8080\">http://localhost:8080</a>' is therefore not allowed access.‚Äù</p>\n\n<p>Please assist me with this.</p>\n\n<p>Thanks &amp; Regards\nBuddha Puneeth</p>\n"},{"tags":["java","apache-poi","docx","xwpf"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685641743,"creation_date":1685638957,"answer_id":76384171,"question_id":76376629,"body_markdown":"Multiple problems here.\r\n\r\nAt first the Word template must contain the style already. Not all Word documents contain all styles per default. Only those styles are contained which got used in the document before. The term &quot;got used before&quot; only means the style sometime was used in the document. There needs not to be current text formatted using that style. Therefore, any styles that are to be saved in the document must be used temporarily before saving the template.\r\n\r\nAnd seems someone at Microsoft has mixed up ID and Name of styles. As I would understand ID vs. Name, the ID should be a technically internal identifier while the name should be the visible title, which also could be localized. But with Word styles, the ID is localized. In German Word for example, the heading style IDs are &quot;berschrift1&quot;, &quot;berschrift2&quot;, ... That comes from &quot;&#220;berschrift1&quot;, &quot;&#220;berschrift2&quot;, ... without the umlauts, which are not allowed for IDs. In opposite the names of that styles are &quot;heading 1&quot;, &quot;heading 2&quot;, ... even for German Word documents. That should be vice versa in my opinion.\r\n\r\nI guess in your Dutch Word the style IDs are &quot;Kop1&quot;, &quot;Kop2&quot;, ... without the spaces. But the better way is to get the styles by name as the names seems to be English for all Word locales.\r\n\r\nComplete example:\r\n\r\nWordTemplate.docx:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class WordUseStylesByName {\r\n        \r\n     private static XWPFStyle getStyleByName(XWPFStyles styles, String styleName) { \r\n      if (styles == null || styleName == null) return null;\r\n      XWPFStyle style = styles.getStyleWithName(styleName); \r\n      if (style == null) {\r\n       System.out.println(&quot;No style with name &quot; + styleName + &quot; present.&quot;);\r\n      }\r\n      return style;\r\n     }    \r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      try (\r\n            XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./WordTemplate.docx&quot;));\r\n            FileOutputStream out = new FileOutputStream(&quot;./WordResult.docx&quot;);\r\n           ) {\r\n      \r\n       XWPFStyles styles;\r\n       XWPFStyle style;\r\n       String styleId;\r\n       XWPFParagraph paragraph;\r\n       XWPFRun run;\r\n       \r\n       // get heading 1 style\r\n       styles = document.getStyles();\r\n       style = getStyleByName(styles, &quot;heading 1&quot;);\r\n       styleId = (style != null)?style.getStyleId():&quot;&quot;;\r\n       System.out.println(styleId);\r\n      \r\n       paragraph = document.createParagraph();\r\n       paragraph.setStyle(styleId);\r\n       run = paragraph.createRun();\r\n       run.setText(&quot;Text formatted as heading 1&quot;);\r\n       \r\n       // get heading 2 style\r\n       style = getStyleByName(styles, &quot;heading 2&quot;);\r\n       styleId = (style != null)?style.getStyleId():&quot;&quot;;\r\n       System.out.println(styleId);\r\n    \r\n       paragraph = document.createParagraph();\r\n       paragraph.setStyle(styleId);\r\n       run = paragraph.createRun();\r\n       run.setText(&quot;Text formatted as heading 2&quot;);\r\n    \r\n       document.write(out);\r\n      }\r\n     }\r\n    }\r\n\r\nWordResult.docx:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nDFOy.png\r\n  [2]: https://i.stack.imgur.com/Tk41n.png\r\n","title":"How can I create a Word file with a standard (Dutch) heading style?","body":"<p>Multiple problems here.</p>\n<p>At first the Word template must contain the style already. Not all Word documents contain all styles per default. Only those styles are contained which got used in the document before. The term &quot;got used before&quot; only means the style sometime was used in the document. There needs not to be current text formatted using that style. Therefore, any styles that are to be saved in the document must be used temporarily before saving the template.</p>\n<p>And seems someone at Microsoft has mixed up ID and Name of styles. As I would understand ID vs. Name, the ID should be a technically internal identifier while the name should be the visible title, which also could be localized. But with Word styles, the ID is localized. In German Word for example, the heading style IDs are &quot;berschrift1&quot;, &quot;berschrift2&quot;, ... That comes from &quot;√úberschrift1&quot;, &quot;√úberschrift2&quot;, ... without the umlauts, which are not allowed for IDs. In opposite the names of that styles are &quot;heading 1&quot;, &quot;heading 2&quot;, ... even for German Word documents. That should be vice versa in my opinion.</p>\n<p>I guess in your Dutch Word the style IDs are &quot;Kop1&quot;, &quot;Kop2&quot;, ... without the spaces. But the better way is to get the styles by name as the names seems to be English for all Word locales.</p>\n<p>Complete example:</p>\n<p>WordTemplate.docx:</p>\n<p><a href=\"https://i.stack.imgur.com/nDFOy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nDFOy.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class WordUseStylesByName {\n    \n private static XWPFStyle getStyleByName(XWPFStyles styles, String styleName) { \n  if (styles == null || styleName == null) return null;\n  XWPFStyle style = styles.getStyleWithName(styleName); \n  if (style == null) {\n   System.out.println(&quot;No style with name &quot; + styleName + &quot; present.&quot;);\n  }\n  return style;\n }    \n\n public static void main(String[] args) throws Exception {\n  try (\n        XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./WordTemplate.docx&quot;));\n        FileOutputStream out = new FileOutputStream(&quot;./WordResult.docx&quot;);\n       ) {\n  \n   XWPFStyles styles;\n   XWPFStyle style;\n   String styleId;\n   XWPFParagraph paragraph;\n   XWPFRun run;\n   \n   // get heading 1 style\n   styles = document.getStyles();\n   style = getStyleByName(styles, &quot;heading 1&quot;);\n   styleId = (style != null)?style.getStyleId():&quot;&quot;;\n   System.out.println(styleId);\n  \n   paragraph = document.createParagraph();\n   paragraph.setStyle(styleId);\n   run = paragraph.createRun();\n   run.setText(&quot;Text formatted as heading 1&quot;);\n   \n   // get heading 2 style\n   style = getStyleByName(styles, &quot;heading 2&quot;);\n   styleId = (style != null)?style.getStyleId():&quot;&quot;;\n   System.out.println(styleId);\n\n   paragraph = document.createParagraph();\n   paragraph.setStyle(styleId);\n   run = paragraph.createRun();\n   run.setText(&quot;Text formatted as heading 2&quot;);\n\n   document.write(out);\n  }\n }\n}\n</code></pre>\n<p>WordResult.docx:</p>\n<p><a href=\"https://i.stack.imgur.com/Tk41n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tk41n.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76384171,"answer_count":1,"score":0,"last_activity_date":1685641743,"creation_date":1685560676,"question_id":76376629,"body_markdown":"How can I add a standard (Dutch) heading style to a new Word file? \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe first title should have style (Dutch) style &quot;Kop 1&quot; (= Heading1). \r\n\r\nI tried a number of standard solutions, but they don&#39;t work. The result is always the default standard style. \r\n\r\n1: Create an empty Word file and use it as a kind of template with styles: \r\n\r\n\r\n    XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;template.docx&quot;);\r\n    paragraph = document.createParagraph();\r\n    paragraph.setStyle(&quot;Heading1&quot;);\r\n\r\nOr \r\n\r\n    XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;template.docx&quot;);\r\n    paragraph = document.createParagraph();\r\n    paragraph.setStyle(&quot;Kop 1&quot;);\r\n\r\n\r\n2: Use a template file. \r\n\r\n    XWPFDocument template = new XWPFDocument(new FileInputStream(new File(&quot;Template.dotx&quot;)));       \r\n    XWPFDocument doc = new XWPFDocument();\r\n    XWPFStyles newStyles = doc.createStyles();\r\n    newStyles.setStyles(template.getStyle());\r\n    \r\n    XWPFParagraph para = doc.createParagraph();\r\n    para.setStyle(&quot;Heading1&quot;);\r\n    // OR: para.setStyle( &quot;Kop 1&quot;);\r\n    \r\n    XWPFRun run = para.createRun();\r\n    run.setText(&quot;Header 1&quot;);\r\n    // or: run.setText(&quot;Kop 1&quot;);\r\n\r\n  [1]: https://i.stack.imgur.com/dA2gB.png\r\n\r\n\r\n","title":"How can I create a Word file with a standard (Dutch) heading style?","body":"<p>How can I add a standard (Dutch) heading style to a new Word file?</p>\n<p><a href=\"https://i.stack.imgur.com/dA2gB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dA2gB.png\" alt=\"enter image description here\" /></a></p>\n<p>The first title should have style (Dutch) style &quot;Kop 1&quot; (= Heading1).</p>\n<p>I tried a number of standard solutions, but they don't work. The result is always the default standard style.</p>\n<p>1: Create an empty Word file and use it as a kind of template with styles:</p>\n<pre><code>XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;template.docx&quot;);\nparagraph = document.createParagraph();\nparagraph.setStyle(&quot;Heading1&quot;);\n</code></pre>\n<p>Or</p>\n<pre><code>XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;template.docx&quot;);\nparagraph = document.createParagraph();\nparagraph.setStyle(&quot;Kop 1&quot;);\n</code></pre>\n<p>2: Use a template file.</p>\n<pre><code>XWPFDocument template = new XWPFDocument(new FileInputStream(new File(&quot;Template.dotx&quot;)));       \nXWPFDocument doc = new XWPFDocument();\nXWPFStyles newStyles = doc.createStyles();\nnewStyles.setStyles(template.getStyle());\n\nXWPFParagraph para = doc.createParagraph();\npara.setStyle(&quot;Heading1&quot;);\n// OR: para.setStyle( &quot;Kop 1&quot;);\n\nXWPFRun run = para.createRun();\nrun.setText(&quot;Header 1&quot;);\n// or: run.setText(&quot;Kop 1&quot;);\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685556194,"creation_date":1685556194,"answer_id":76376215,"question_id":76358083,"body_markdown":"The code you have written seems to be trying to consume a [`Flux`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html) as an `Iterable`, which might be the reason it is not working as expected. \r\n\r\nIn your case, you are trying to use the `toIterable` method from the `Flux` API to convert a `Flux` into an `Iterable`. This is not recommended because (reading &quot;[Reactor Core Features](https://github.com/reactor/reactor-core/blob/17ac6f44e73e8a62f5c28fe2af196006c7e6abf4/docs/asciidoc/coreFeatures.adoc#L234)&quot;) `Flux` is designed to be non-blocking and backpressure-aware, while `Iterable` is a blocking API. This could be the reason why the code is not indexing data into Elasticsearch.\r\n\r\nThe issue you are facing in your code seems to be related to this blocking operation. In your `saveAll()` method, you are transforming the `Flux` into an `Iterable` and then trying to perform a bulk indexing operation on the products.  \r\nHowever, because `Flux.toIterable()` is a blocking operation and the bulk indexing operation is asynchronous, this might not be working as expected.\r\n\r\nInstead of consuming a `Flux` as an `Iterable`, you should use the `Flux` API to chain operations together in a non-blocking way. In this case, you could use the [`collectList` method](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collectList--) to buffer all the elements of the `Flux` into a `List`, then use the `map` method to transform the `List` into a `BulkRequest`.\r\n\r\n[![https://projectreactor.io/docs/core/release/api/reactor/core/publisher/doc-files/marbles/collectList.svg][1]][1]\r\n\r\nFor example:\r\n\r\n```java\r\nprivate Flux&lt;Product&gt; saveAll(Flux&lt;Product&gt; productFlux) {\r\n    return productFlux.collectList().flatMap(products -&gt; {\r\n        BulkRequest.Builder br = new BulkRequest.Builder();\r\n        for (Product product : products) {\r\n            br.operations(op -&gt; op\r\n                    .index(idx -&gt; idx\r\n                            .index(&quot;products&quot;)\r\n                            .document(product)\r\n                    )\r\n            );\r\n        }\r\n        return Mono.just(br.build());\r\n    }).flatMap(bulkRequest -&gt; {\r\n        try {\r\n            BulkResponse result = elasticsearchClient.bulk(bulkRequest);\r\n            System.out.println(&quot;print &quot; + result.ingestTook());\r\n            if (result.errors()) {\r\n                System.out.println(&quot;Bulk had errors&quot;);\r\n                for (BulkResponseItem item: result.items()) {\r\n                    if (item.error() != null) {\r\n                        System.out.println(item.error().reason());\r\n                    }\r\n                }\r\n            }\r\n            return productFlux;\r\n        } catch (IOException e) {\r\n            return Flux.error(e);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThis version of the `saveAll` method is using the `collectList` method to buffer all the elements of the `Flux` into a `List`, then using the `flatMap` method to transform the `List` into a `BulkRequest`. The `flatMap` method is also used to send the `BulkRequest` to Elasticsearch and handle the response.\r\n\r\nPlease note that this is a simplified example and it assumes that the number of elements in the `Flux` is small enough to fit into memory. If the `Flux` can have a large number of elements, you might want to consider using the `buffer` method to split the `Flux` into smaller chunks and process each chunk separately.\r\n\r\nAlso, note that the Elasticsearch [bulk API](https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html#_indexing_application_objects) is designed to be used with a large number of requests. If you are only sending a few requests at a time, you might not see any performance benefit from using the bulk API.\r\n\r\nProblem: this version still returns the original `Flux` after sending the `BulkRequest`, and it doesn&#39;t ensure that the indexing operation is completed before the returned `Flux` is consumed.\r\n\r\n----\r\n\r\nAnother more robust approach: you could try using `Flux.collectList()` to gather all the products into a list, and then send this list to Elasticsearch using the [bulk API](https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.8.0/co/elastic/clients/elasticsearch/core/bulk/package-summary.html). However, keep in mind that this would also accumulate all the data in memory before sending it, which might not be what you want if the `Flux` contains a lot of elements.\r\n\r\nThat would use a `Mono` this time:\r\n\r\n\r\n```java\r\nprivate Mono&lt;Void&gt; saveAll(Flux&lt;Product&gt; productFlux) {\r\n    return productFlux.collectList().flatMap(products -&gt; {\r\n        BulkRequest.Builder br = new BulkRequest.Builder();\r\n        for (Product product : products) {\r\n            br.operations(op -&gt; op\r\n                    .index(idx -&gt; idx\r\n                            .index(&quot;products&quot;)\r\n                            .document(product)\r\n                    )\r\n            );\r\n        }\r\n        return elasticsearchClient.bulk(br.build()).then();\r\n    });\r\n}\r\n```\r\n\r\nThe `flatMap()` operator is used to perform the asynchronous bulk operation for each list of products. The `then()` operator is used to transform the `Mono&lt;BulkResponse&gt;` returned by `elasticsearchClient.bulk(br.build())` into a `Mono&lt;Void&gt;`, effectively &quot;ignoring&quot; the `BulkResponse`. This allows the method to return only when all products have been sent to Elasticsearch.\r\n\r\nThe `saveAll()` method now returns a `Mono&lt;Void&gt;`, which represents the completion of the bulk indexing operation. You can use this to ensure that further processing only happens after all products have been indexed:\r\n\r\n```java\r\nFlux&lt;Product&gt; productFlux = ...;\r\nMono&lt;Void&gt; saved = saveAll(productFlux);\r\nFlux&lt;CompletedProduct&gt; completedProductFlux = saved.thenMany(productFlux.map(this::toOneCompletedProduct));\r\ncompletedProductFlux.subscribe();\r\n```\r\n\r\n`Mono.thenMany()` is used to create a new `Flux&lt;CompletedProduct&gt;` that will start emitting items only after the `saveAll()` operation has completed.\r\n\r\nAs you see in this second approach, `saveAll()` now returns a [`Mono&lt;Void&gt;`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html) instead of a [`Flux&lt;Product&gt;`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html) because the operation of indexing all products to Elasticsearch is a single, asynchronous operation that either completes or fails. This is exactly what a `Mono` represents: a single, asynchronous computation. The `Void` type parameter indicates that the `Mono` does not emit any value upon completion. It only signals the completion or failure of the operation.\r\n\r\nIn contrast, a `Flux` represents a sequence of zero or more items, and is used for operations that can produce multiple results over time.\r\n\r\nWhen `saveAll()` was returning a `Flux&lt;Product&gt;`, it was actually just returning the original `Flux` passed to it. This didn&#39;t reflect the fact that all products have been indexed to Elasticsearch. It was possible for the returned `Flux` to be consumed *before* the indexing operation was completed, which could lead to unexpected behavior.\r\n\r\nBy returning a `Mono&lt;Void&gt;`, `saveAll()` now correctly represents the operation it performs: a single, asynchronous indexing operation that either completes or fails. The caller can use the returned `Mono` to chain further processing that should happen after the indexing operation is completed, as shown in the previous example.\r\n\r\nThen end result (as a simplified example):\r\n\r\n```java\r\n@Service\r\npublic final class SomeService implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    ElasticsearchClient elasticsearchClient;\r\n\r\n    @Override\r\n    public void run(final String[] args) throws IOException {\r\n        Flux&lt;Product&gt; productFlux = Flux.interval(Duration.ofSeconds(1)).map(i -&gt; new Product(LocalDateTime.now().toEpochSecond(ZoneOffset.UTC), String.valueOf(i)));\r\n        Mono&lt;Void&gt; saveOperation = saveAll(productFlux);\r\n        Flux&lt;CompletedProduct&gt; completedProductFlux = saveOperation.thenMany(productFlux.map(this::toOneCompletedProduct));\r\n        completedProductFlux.subscribe();\r\n    }\r\n\r\n    private Mono&lt;Void&gt; saveAll(Flux&lt;Product&gt; productFlux) {\r\n        return productFlux.collectList().flatMap(products -&gt; {\r\n            BulkRequest.Builder br = new BulkRequest.Builder();\r\n            for (Product product : products) {\r\n                br.operations(op -&gt; op\r\n                        .index(idx -&gt; idx\r\n                                .index(&quot;products&quot;)\r\n                                .document(product)\r\n                        )\r\n                );\r\n            }\r\n            return Mono.just(br.build());\r\n        }).flatMap(bulkRequest -&gt; {\r\n            try {\r\n                BulkResponse result = elasticsearchClient.bulk(bulkRequest);\r\n                System.out.println(&quot;print &quot; + result.ingestTook());\r\n                if (result.errors()) {\r\n                    System.out.println(&quot;Bulk had errors&quot;);\r\n                    for (BulkResponseItem item: result.items()) {\r\n                        if (item.error() != null) {\r\n                            System.out.println(item.error().reason());\r\n                        }\r\n                    }\r\n                }\r\n                return Mono.empty();\r\n            } catch (IOException e) {\r\n                return Mono.error(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    private CompletedProduct toOneCompletedProduct(Product oneSavedProduct) {\r\n        return // transform a product to a completed product AFTER saving to elasticsearch;\r\n    }\r\n}\r\n```\r\n\r\nYou have:\r\n\r\n- The `run()` method creates a `Flux&lt;Product&gt;`, calls `saveAll()` to save all products to Elasticsearch, and then uses the returned `Mono&lt;Void&gt;` to create a `Flux&lt;CompletedProduct&gt;` that starts emitting items only after the save operation is completed.\r\n\r\n- The `saveAll()` method collects all products into a `List`, creates a `BulkRequest` for them, sends the `BulkRequest` to Elasticsearch, and returns a `Mono&lt;Void&gt;` that represents the completion of this operation.  \r\n\r\n- The `toOneCompletedProduct()` method transforms a saved product into a completed product. This method is used after the save operation is completed, as indicated by the `thenMany()` operator in the `run()` method.\r\n\r\nBy &quot;simplified example&quot;, I mean for instance that error handling is quite minimal in this example. In a real-world scenario, you might want to add more comprehensive error handling to deal with potential failures of the Elasticsearch operation.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BtdhQ.png","title":"Index Flux (Spring Webflux) to ElasticSearch using ElasticSearch-Java","body":"<p>The code you have written seems to be trying to consume a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html\" rel=\"nofollow noreferrer\"><code>Flux</code></a> as an <code>Iterable</code>, which might be the reason it is not working as expected.</p>\n<p>In your case, you are trying to use the <code>toIterable</code> method from the <code>Flux</code> API to convert a <code>Flux</code> into an <code>Iterable</code>. This is not recommended because (reading &quot;<a href=\"https://github.com/reactor/reactor-core/blob/17ac6f44e73e8a62f5c28fe2af196006c7e6abf4/docs/asciidoc/coreFeatures.adoc#L234\" rel=\"nofollow noreferrer\">Reactor Core Features</a>&quot;) <code>Flux</code> is designed to be non-blocking and backpressure-aware, while <code>Iterable</code> is a blocking API. This could be the reason why the code is not indexing data into Elasticsearch.</p>\n<p>The issue you are facing in your code seems to be related to this blocking operation. In your <code>saveAll()</code> method, you are transforming the <code>Flux</code> into an <code>Iterable</code> and then trying to perform a bulk indexing operation on the products.<br />\nHowever, because <code>Flux.toIterable()</code> is a blocking operation and the bulk indexing operation is asynchronous, this might not be working as expected.</p>\n<p>Instead of consuming a <code>Flux</code> as an <code>Iterable</code>, you should use the <code>Flux</code> API to chain operations together in a non-blocking way. In this case, you could use the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#collectList--\" rel=\"nofollow noreferrer\"><code>collectList</code> method</a> to buffer all the elements of the <code>Flux</code> into a <code>List</code>, then use the <code>map</code> method to transform the <code>List</code> into a <code>BulkRequest</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/BtdhQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BtdhQ.png\" alt=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/doc-files/marbles/collectList.svg\" /></a></p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Flux&lt;Product&gt; saveAll(Flux&lt;Product&gt; productFlux) {\n    return productFlux.collectList().flatMap(products -&gt; {\n        BulkRequest.Builder br = new BulkRequest.Builder();\n        for (Product product : products) {\n            br.operations(op -&gt; op\n                    .index(idx -&gt; idx\n                            .index(&quot;products&quot;)\n                            .document(product)\n                    )\n            );\n        }\n        return Mono.just(br.build());\n    }).flatMap(bulkRequest -&gt; {\n        try {\n            BulkResponse result = elasticsearchClient.bulk(bulkRequest);\n            System.out.println(&quot;print &quot; + result.ingestTook());\n            if (result.errors()) {\n                System.out.println(&quot;Bulk had errors&quot;);\n                for (BulkResponseItem item: result.items()) {\n                    if (item.error() != null) {\n                        System.out.println(item.error().reason());\n                    }\n                }\n            }\n            return productFlux;\n        } catch (IOException e) {\n            return Flux.error(e);\n        }\n    });\n}\n</code></pre>\n<p>This version of the <code>saveAll</code> method is using the <code>collectList</code> method to buffer all the elements of the <code>Flux</code> into a <code>List</code>, then using the <code>flatMap</code> method to transform the <code>List</code> into a <code>BulkRequest</code>. The <code>flatMap</code> method is also used to send the <code>BulkRequest</code> to Elasticsearch and handle the response.</p>\n<p>Please note that this is a simplified example and it assumes that the number of elements in the <code>Flux</code> is small enough to fit into memory. If the <code>Flux</code> can have a large number of elements, you might want to consider using the <code>buffer</code> method to split the <code>Flux</code> into smaller chunks and process each chunk separately.</p>\n<p>Also, note that the Elasticsearch <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html#_indexing_application_objects\" rel=\"nofollow noreferrer\">bulk API</a> is designed to be used with a large number of requests. If you are only sending a few requests at a time, you might not see any performance benefit from using the bulk API.</p>\n<p>Problem: this version still returns the original <code>Flux</code> after sending the <code>BulkRequest</code>, and it doesn't ensure that the indexing operation is completed before the returned <code>Flux</code> is consumed.</p>\n<hr />\n<p>Another more robust approach: you could try using <code>Flux.collectList()</code> to gather all the products into a list, and then send this list to Elasticsearch using the <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.8.0/co/elastic/clients/elasticsearch/core/bulk/package-summary.html\" rel=\"nofollow noreferrer\">bulk API</a>. However, keep in mind that this would also accumulate all the data in memory before sending it, which might not be what you want if the <code>Flux</code> contains a lot of elements.</p>\n<p>That would use a <code>Mono</code> this time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;Void&gt; saveAll(Flux&lt;Product&gt; productFlux) {\n    return productFlux.collectList().flatMap(products -&gt; {\n        BulkRequest.Builder br = new BulkRequest.Builder();\n        for (Product product : products) {\n            br.operations(op -&gt; op\n                    .index(idx -&gt; idx\n                            .index(&quot;products&quot;)\n                            .document(product)\n                    )\n            );\n        }\n        return elasticsearchClient.bulk(br.build()).then();\n    });\n}\n</code></pre>\n<p>The <code>flatMap()</code> operator is used to perform the asynchronous bulk operation for each list of products. The <code>then()</code> operator is used to transform the <code>Mono&lt;BulkResponse&gt;</code> returned by <code>elasticsearchClient.bulk(br.build())</code> into a <code>Mono&lt;Void&gt;</code>, effectively &quot;ignoring&quot; the <code>BulkResponse</code>. This allows the method to return only when all products have been sent to Elasticsearch.</p>\n<p>The <code>saveAll()</code> method now returns a <code>Mono&lt;Void&gt;</code>, which represents the completion of the bulk indexing operation. You can use this to ensure that further processing only happens after all products have been indexed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Product&gt; productFlux = ...;\nMono&lt;Void&gt; saved = saveAll(productFlux);\nFlux&lt;CompletedProduct&gt; completedProductFlux = saved.thenMany(productFlux.map(this::toOneCompletedProduct));\ncompletedProductFlux.subscribe();\n</code></pre>\n<p><code>Mono.thenMany()</code> is used to create a new <code>Flux&lt;CompletedProduct&gt;</code> that will start emitting items only after the <code>saveAll()</code> operation has completed.</p>\n<p>As you see in this second approach, <code>saveAll()</code> now returns a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\"><code>Mono&lt;Void&gt;</code></a> instead of a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html\" rel=\"nofollow noreferrer\"><code>Flux&lt;Product&gt;</code></a> because the operation of indexing all products to Elasticsearch is a single, asynchronous operation that either completes or fails. This is exactly what a <code>Mono</code> represents: a single, asynchronous computation. The <code>Void</code> type parameter indicates that the <code>Mono</code> does not emit any value upon completion. It only signals the completion or failure of the operation.</p>\n<p>In contrast, a <code>Flux</code> represents a sequence of zero or more items, and is used for operations that can produce multiple results over time.</p>\n<p>When <code>saveAll()</code> was returning a <code>Flux&lt;Product&gt;</code>, it was actually just returning the original <code>Flux</code> passed to it. This didn't reflect the fact that all products have been indexed to Elasticsearch. It was possible for the returned <code>Flux</code> to be consumed <em>before</em> the indexing operation was completed, which could lead to unexpected behavior.</p>\n<p>By returning a <code>Mono&lt;Void&gt;</code>, <code>saveAll()</code> now correctly represents the operation it performs: a single, asynchronous indexing operation that either completes or fails. The caller can use the returned <code>Mono</code> to chain further processing that should happen after the indexing operation is completed, as shown in the previous example.</p>\n<p>Then end result (as a simplified example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic final class SomeService implements CommandLineRunner {\n\n    @Autowired\n    ElasticsearchClient elasticsearchClient;\n\n    @Override\n    public void run(final String[] args) throws IOException {\n        Flux&lt;Product&gt; productFlux = Flux.interval(Duration.ofSeconds(1)).map(i -&gt; new Product(LocalDateTime.now().toEpochSecond(ZoneOffset.UTC), String.valueOf(i)));\n        Mono&lt;Void&gt; saveOperation = saveAll(productFlux);\n        Flux&lt;CompletedProduct&gt; completedProductFlux = saveOperation.thenMany(productFlux.map(this::toOneCompletedProduct));\n        completedProductFlux.subscribe();\n    }\n\n    private Mono&lt;Void&gt; saveAll(Flux&lt;Product&gt; productFlux) {\n        return productFlux.collectList().flatMap(products -&gt; {\n            BulkRequest.Builder br = new BulkRequest.Builder();\n            for (Product product : products) {\n                br.operations(op -&gt; op\n                        .index(idx -&gt; idx\n                                .index(&quot;products&quot;)\n                                .document(product)\n                        )\n                );\n            }\n            return Mono.just(br.build());\n        }).flatMap(bulkRequest -&gt; {\n            try {\n                BulkResponse result = elasticsearchClient.bulk(bulkRequest);\n                System.out.println(&quot;print &quot; + result.ingestTook());\n                if (result.errors()) {\n                    System.out.println(&quot;Bulk had errors&quot;);\n                    for (BulkResponseItem item: result.items()) {\n                        if (item.error() != null) {\n                            System.out.println(item.error().reason());\n                        }\n                    }\n                }\n                return Mono.empty();\n            } catch (IOException e) {\n                return Mono.error(e);\n            }\n        });\n    }\n\n    private CompletedProduct toOneCompletedProduct(Product oneSavedProduct) {\n        return // transform a product to a completed product AFTER saving to elasticsearch;\n    }\n}\n</code></pre>\n<p>You have:</p>\n<ul>\n<li><p>The <code>run()</code> method creates a <code>Flux&lt;Product&gt;</code>, calls <code>saveAll()</code> to save all products to Elasticsearch, and then uses the returned <code>Mono&lt;Void&gt;</code> to create a <code>Flux&lt;CompletedProduct&gt;</code> that starts emitting items only after the save operation is completed.</p>\n</li>\n<li><p>The <code>saveAll()</code> method collects all products into a <code>List</code>, creates a <code>BulkRequest</code> for them, sends the <code>BulkRequest</code> to Elasticsearch, and returns a <code>Mono&lt;Void&gt;</code> that represents the completion of this operation.</p>\n</li>\n<li><p>The <code>toOneCompletedProduct()</code> method transforms a saved product into a completed product. This method is used after the save operation is completed, as indicated by the <code>thenMany()</code> operator in the <code>run()</code> method.</p>\n</li>\n</ul>\n<p>By &quot;simplified example&quot;, I mean for instance that error handling is quite minimal in this example. In a real-world scenario, you might want to add more comprehensive error handling to deal with potential failures of the Elasticsearch operation.</p>\n"},{"tags":[],"owner":{"account_id":11796849,"reputation":101,"user_id":8631387,"display_name":"Gaurav Bhatia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685641491,"creation_date":1685631358,"answer_id":76383218,"question_id":76358083,"body_markdown":"The sample code is using a regular Elasticsearch Client to make a bulk request to ES. When working with reactive code, we should use [Reactive Rest Client](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.reactiverestclient). `ReactiveRestClient` still requires a `BulkRequest`, but internally uses Reactive Web Client to post a bulk request and hence returns a `Mono&lt;Response&gt;`. So basic code should look like\r\n\r\n```java\r\nproductFlux\r\n  .buffer() //to create sufficient load for bulk\r\n  .flatMap(productList-&gt; {\r\n    // serialize to BulkRequest &amp; send to Reactiveclient\r\n  });\r\n```\r\n\r\nThere are other important considerations when doing this:\r\n\r\n 1. Each bulk request will get bound to single thread on ES side, as far as I understand its architecture. So, we need to choose the buffer such that our bulk request size is not too small or too big.\r\n 2. We need to control the rate at which we send the data. For example, if we simply subscribe our product flux with infinite demand (Default subscribers), then, we are likely to hit scenario where ES will reject our request because all its internal thread will be busy processing our previous requests. If we simply create a custom subscriber that creates demand of say 1 (or specific low number) then we will unnecessarily slow the indexing process. So, an alternative will be to create a back-pressure based on response from ES. We can do this by adding an operator like `delayWhen` in our pipe to exponentially delay when we get specific errors (like *rejected execution.*) \r\n3. We should add retry operators for some intermittent network exception etc. We need to ensure that our publisher is able to handle retries. This is important when creating a Flux over HTTP or Kafka. If we use an operator like `flatMap`, it has internal buffers which allows retry operators downstream to work. \r\n\r\n \r\n","title":"Index Flux (Spring Webflux) to ElasticSearch using ElasticSearch-Java","body":"<p>The sample code is using a regular Elasticsearch Client to make a bulk request to ES. When working with reactive code, we should use <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.reactiverestclient\" rel=\"nofollow noreferrer\">Reactive Rest Client</a>. <code>ReactiveRestClient</code> still requires a <code>BulkRequest</code>, but internally uses Reactive Web Client to post a bulk request and hence returns a <code>Mono&lt;Response&gt;</code>. So basic code should look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>productFlux\n  .buffer() //to create sufficient load for bulk\n  .flatMap(productList-&gt; {\n    // serialize to BulkRequest &amp; send to Reactiveclient\n  });\n</code></pre>\n<p>There are other important considerations when doing this:</p>\n<ol>\n<li>Each bulk request will get bound to single thread on ES side, as far as I understand its architecture. So, we need to choose the buffer such that our bulk request size is not too small or too big.</li>\n<li>We need to control the rate at which we send the data. For example, if we simply subscribe our product flux with infinite demand (Default subscribers), then, we are likely to hit scenario where ES will reject our request because all its internal thread will be busy processing our previous requests. If we simply create a custom subscriber that creates demand of say 1 (or specific low number) then we will unnecessarily slow the indexing process. So, an alternative will be to create a back-pressure based on response from ES. We can do this by adding an operator like <code>delayWhen</code> in our pipe to exponentially delay when we get specific errors (like <em>rejected execution.</em>)</li>\n<li>We should add retry operators for some intermittent network exception etc. We need to ensure that our publisher is able to handle retries. This is important when creating a Flux over HTTP or Kafka. If we use an operator like <code>flatMap</code>, it has internal buffers which allows retry operators downstream to work.</li>\n</ol>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76376215,"answer_count":2,"score":2,"last_activity_date":1685641491,"creation_date":1685369683,"question_id":76358083,"body_markdown":"*What I am trying to achieve:*\r\n\r\n1 - From a Flux (Spring Webflux, Reactor)\r\n\r\n2 - Index/Save/Insert each element of the flux inside ElasticSearch, using the **bulk** API \r\n (not one by one) of elasticsearch-java https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html#_indexing_application_objects (not using spring data elasticsearch)\r\n\r\n3 - **Retain the flux** from step 2 in order to do some further processing\r\n\r\n*What did I try:*\r\n\r\n```\r\n@Service\r\npublic final class SomeService implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    ElasticsearchClient elasticsearchClient;\r\n\r\n    @Override\r\n    public void run(final String[] args) throws IOException {\r\n        Flux&lt;Product&gt; productFlux = Flux.interval(Duration.ofSeconds(1)).map(i -&gt; new Product(LocalDateTime.now().toEpochSecond(ZoneOffset.UTC), String.valueOf(i))); //Actual would be an aggresive flux from Kafka or http\r\n        Flux&lt;Product&gt; savedFlux = saveAll(productFlux);\r\n        Flux&lt;CompletedProduct&gt; completedProductFlux = savedFlux.map(oneSavedProduct -&gt; toOneCompletedProduct(oneSavedProduct)); //some kind of post processing which happens after it is saved\r\n        completedProductFlux.subscribe();\r\n    }\r\n\r\n    private Flux&lt;Product&gt; saveAll(Flux&lt;Product&gt; productFlux) throws IOException {\r\n        BulkRequest.Builder br = new BulkRequest.Builder();\r\n        for (Product product : productFlux.toIterable()) { // changed here\r\n            br.operations(op -&gt; op\r\n                    .index(idx -&gt; idx\r\n                            .index(&quot;products&quot;)\r\n                            .document(product)\r\n                    )\r\n            );\r\n        }\r\n        BulkResponse result = elasticsearchClient.bulk(br.build());\r\n        System.out.println(&quot;I do care about the response &quot; + result.ingestTook());\r\n        if (result.errors()) {\r\n            System.out.println(&quot;I do care about the response Bulk had errors&quot;);\r\n            for (BulkResponseItem item: result.items()) {\r\n                if (item.error() != null) {\r\n                    System.out.println(item.error().reason());\r\n                }\r\n            }\r\n        }\r\n        return productFlux;\r\n    }\r\n\r\n    private CompletedProduct toOneCompletedProduct(Product oneSavedProduct) {\r\n        return // transform a product to a completed product AFTER saving to elasticsearch;\r\n    }\r\n\r\n}\r\n```\r\n\r\n*Note:*\r\n\r\nThe flux from step 1 would be coming from kafka or http, it is an aggressive flux\r\n\r\nFor step 2, I do care about the response (doing some logging in case of errors)\r\n\r\n*Issue:*\r\n\r\nWith the above code, I am able to generate the flux of products, but this is not inserting/saving/indexing anything inside elasticsearch.\r\n\r\n*Question:*\r\n\r\nHow to save all the elements from the flux using the bulk api of elasticsearch-java within a reactor pipeline of reactor spring webflux?","title":"Index Flux (Spring Webflux) to ElasticSearch using ElasticSearch-Java","body":"<p><em>What I am trying to achieve:</em></p>\n<p>1 - From a Flux (Spring Webflux, Reactor)</p>\n<p>2 - Index/Save/Insert each element of the flux inside ElasticSearch, using the <strong>bulk</strong> API\n(not one by one) of elasticsearch-java <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html#_indexing_application_objects\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html#_indexing_application_objects</a> (not using spring data elasticsearch)</p>\n<p>3 - <strong>Retain the flux</strong> from step 2 in order to do some further processing</p>\n<p><em>What did I try:</em></p>\n<pre><code>@Service\npublic final class SomeService implements CommandLineRunner {\n\n    @Autowired\n    ElasticsearchClient elasticsearchClient;\n\n    @Override\n    public void run(final String[] args) throws IOException {\n        Flux&lt;Product&gt; productFlux = Flux.interval(Duration.ofSeconds(1)).map(i -&gt; new Product(LocalDateTime.now().toEpochSecond(ZoneOffset.UTC), String.valueOf(i))); //Actual would be an aggresive flux from Kafka or http\n        Flux&lt;Product&gt; savedFlux = saveAll(productFlux);\n        Flux&lt;CompletedProduct&gt; completedProductFlux = savedFlux.map(oneSavedProduct -&gt; toOneCompletedProduct(oneSavedProduct)); //some kind of post processing which happens after it is saved\n        completedProductFlux.subscribe();\n    }\n\n    private Flux&lt;Product&gt; saveAll(Flux&lt;Product&gt; productFlux) throws IOException {\n        BulkRequest.Builder br = new BulkRequest.Builder();\n        for (Product product : productFlux.toIterable()) { // changed here\n            br.operations(op -&gt; op\n                    .index(idx -&gt; idx\n                            .index(&quot;products&quot;)\n                            .document(product)\n                    )\n            );\n        }\n        BulkResponse result = elasticsearchClient.bulk(br.build());\n        System.out.println(&quot;I do care about the response &quot; + result.ingestTook());\n        if (result.errors()) {\n            System.out.println(&quot;I do care about the response Bulk had errors&quot;);\n            for (BulkResponseItem item: result.items()) {\n                if (item.error() != null) {\n                    System.out.println(item.error().reason());\n                }\n            }\n        }\n        return productFlux;\n    }\n\n    private CompletedProduct toOneCompletedProduct(Product oneSavedProduct) {\n        return // transform a product to a completed product AFTER saving to elasticsearch;\n    }\n\n}\n</code></pre>\n<p><em>Note:</em></p>\n<p>The flux from step 1 would be coming from kafka or http, it is an aggressive flux</p>\n<p>For step 2, I do care about the response (doing some logging in case of errors)</p>\n<p><em>Issue:</em></p>\n<p>With the above code, I am able to generate the flux of products, but this is not inserting/saving/indexing anything inside elasticsearch.</p>\n<p><em>Question:</em></p>\n<p>How to save all the elements from the flux using the bulk api of elasticsearch-java within a reactor pipeline of reactor spring webflux?</p>\n"},{"tags":["java","struts2","internationalization","locale","actioncontext"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377775652,"post_id":18509523,"comment_id":27215642,"body_markdown":"See: http://stackoverflow.com/q/15582074/1700321 and http://stackoverflow.com/q/12891293/1700321.","body":"See: <a href=\"http://stackoverflow.com/q/15582074/1700321\">stackoverflow.com/q/15582074/1700321</a> and <a href=\"http://stackoverflow.com/q/12891293/1700321\">stackoverflow.com/q/12891293/1700321</a>."}],"answers":[{"tags":[],"owner":{"account_id":1266100,"reputation":2735,"user_id":1223376,"display_name":"tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646653710,"creation_date":1377775609,"answer_id":18509686,"question_id":18509523,"body_markdown":"You set the locale in the following way in Struts 2:\r\n\r\n    ActionContext ctx = ActionContext.getContext();\r\n    if (ctx != null)\r\n    {\r\n        ctx.setLocale(locale);\r\n    }\r\n\r\nYou can also use the [`I18nInterceptor`][1].\r\n\r\n\r\n  [1]: https://struts.apache.org/maven/struts2-core/apidocs/org/apache/struts2/interceptor/I18nInterceptor.html","title":"How to set locale dinamically via code in Struts 2","body":"<p>You set the locale in the following way in Struts 2:</p>\n<pre><code>ActionContext ctx = ActionContext.getContext();\nif (ctx != null)\n{\n    ctx.setLocale(locale);\n}\n</code></pre>\n<p>You can also use the <a href=\"https://struts.apache.org/maven/struts2-core/apidocs/org/apache/struts2/interceptor/I18nInterceptor.html\" rel=\"nofollow noreferrer\"><code>I18nInterceptor</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574801871,"creation_date":1377869565,"answer_id":18534195,"question_id":18509523,"body_markdown":"The Struts2 internationalization interceptor [`i18n`][1] could be used to dynamically change the current user locale to the user specific locale for the user&#39;s session.\r\n\r\n&gt; &quot;Or, alternatively, only for the current request (since XWork 2.1.3)&quot;\r\n\r\n by making an HTTP request and supplying a request parameter `request_locale` with the value of the locale like `&quot;en_US&quot;` which create a locale for English, US. \r\n\r\nThis locale is saved in the session by default under `&quot;WW_TRANS_I18N_LOCALE&quot;` attribute and used as a current locale during the user session. The current locale is also pushed into the `ActionContext` map by this interceptor upon every request. This allows framework components that support localization all utilize the `ActionContext`&#39;s locale.  \r\n\r\nMore detailed description with example code you could find in the docs for [I18n Interceptor][1]. \r\n\r\n&gt; An interceptor that handles setting the locale specified in a session\r\n&gt; as the locale for the current action request. In addition, this\r\n&gt; interceptor will look for a specific HTTP request parameter and set\r\n&gt; the locale to whatever value is provided. This means that this\r\n&gt; interceptor can be used to allow for your application to dynamically\r\n&gt; change the locale for the user&#39;s session or, alternatively, only for\r\n&gt; the current request (since XWork 2.1.3). This is very useful for\r\n&gt; applications that require multi-lingual support and want the user to\r\n&gt; be able to set his or her language preference at any point. The locale\r\n&gt; parameter is removed during the execution of this interceptor,\r\n&gt; ensuring that properties aren&#39;t set on an action (such as\r\n&gt; `request_locale`) that have no typical corresponding setter in your\r\n&gt; action.\r\n&gt; \r\n&gt; For example, using the default parameter name, a request to\r\n&gt; `foo.action?request_locale=en_US`, then the locale for US English is\r\n&gt; saved in the user&#39;s session and will be used for all future requests.\r\n&gt; If there is no locale set (for example with the first visit), the\r\n&gt; interceptor uses the browser locale.\r\n\r\n\r\n----------\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/i18n-interceptor.html\r\n","title":"How to set locale dinamically via code in Struts 2","body":"<p>The Struts2 internationalization interceptor <a href=\"https://struts.apache.org/core-developers/i18n-interceptor.html\" rel=\"nofollow noreferrer\"><code>i18n</code></a> could be used to dynamically change the current user locale to the user specific locale for the user's session.</p>\n\n<blockquote>\n  <p>\"Or, alternatively, only for the current request (since XWork 2.1.3)\"</p>\n</blockquote>\n\n<p>by making an HTTP request and supplying a request parameter <code>request_locale</code> with the value of the locale like <code>\"en_US\"</code> which create a locale for English, US. </p>\n\n<p>This locale is saved in the session by default under <code>\"WW_TRANS_I18N_LOCALE\"</code> attribute and used as a current locale during the user session. The current locale is also pushed into the <code>ActionContext</code> map by this interceptor upon every request. This allows framework components that support localization all utilize the <code>ActionContext</code>'s locale.  </p>\n\n<p>More detailed description with example code you could find in the docs for <a href=\"https://struts.apache.org/core-developers/i18n-interceptor.html\" rel=\"nofollow noreferrer\">I18n Interceptor</a>. </p>\n\n<blockquote>\n  <p>An interceptor that handles setting the locale specified in a session\n  as the locale for the current action request. In addition, this\n  interceptor will look for a specific HTTP request parameter and set\n  the locale to whatever value is provided. This means that this\n  interceptor can be used to allow for your application to dynamically\n  change the locale for the user's session or, alternatively, only for\n  the current request (since XWork 2.1.3). This is very useful for\n  applications that require multi-lingual support and want the user to\n  be able to set his or her language preference at any point. The locale\n  parameter is removed during the execution of this interceptor,\n  ensuring that properties aren't set on an action (such as\n  <code>request_locale</code>) that have no typical corresponding setter in your\n  action.</p>\n  \n  <p>For example, using the default parameter name, a request to\n  <code>foo.action?request_locale=en_US</code>, then the locale for US English is\n  saved in the user's session and will be used for all future requests.\n  If there is no locale set (for example with the first visit), the\n  interceptor uses the browser locale.</p>\n</blockquote>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":3579638,"reputation":1004,"user_id":2988146,"accept_rate":100,"display_name":"osmingo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1384353572,"creation_date":1384353572,"answer_id":19956579,"question_id":18509523,"body_markdown":"This worked for me : \r\n\r\n    String language = userLocale.substring(0, 2);\r\n    String country = userLocale.substring(3, 5);\r\n    Locale locale = new Locale(language, country);\r\n    ActionContext.getContext().setLocale(locale);\r\n    session.put(I18nInterceptor.DEFAULT_SESSION_ATTRIBUTE, locale);\r\nwhere the values of `userLocale` are of the form : fr_FR and the file for the resources is named resource_fr_FR.properties ","title":"How to set locale dinamically via code in Struts 2","body":"<p>This worked for me : </p>\n\n<pre><code>String language = userLocale.substring(0, 2);\nString country = userLocale.substring(3, 5);\nLocale locale = new Locale(language, country);\nActionContext.getContext().setLocale(locale);\nsession.put(I18nInterceptor.DEFAULT_SESSION_ATTRIBUTE, locale);\n</code></pre>\n\n<p>where the values of <code>userLocale</code> are of the form : fr_FR and the file for the resources is named resource_fr_FR.properties </p>\n"}],"owner":{"account_id":967826,"reputation":879,"user_id":990923,"accept_rate":37,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685641361,"creation_date":1377775111,"question_id":18509523,"body_markdown":"In my application, I have to display the content based on the locale that an user has chosen in the configuration page. I am not using a browser default locale.\r\n\r\nwhen using `&lt;s:text&gt;`, it always use the default resource file.\r\n\r\nIn Struts1, I have used the below code to set default locale in my filter\r\n\r\n    session.setAttribute(&quot;org.apache.struts.action.LOCALE&quot;,locale);\r\n\r\nHow to set the user chosen locale dynamically in Struts2 ?","title":"How to set locale dinamically via code in Struts 2","body":"<p>In my application, I have to display the content based on the locale that an user has chosen in the configuration page. I am not using a browser default locale.</p>\n<p>when using <code>&lt;s:text&gt;</code>, it always use the default resource file.</p>\n<p>In Struts1, I have used the below code to set default locale in my filter</p>\n<pre><code>session.setAttribute(&quot;org.apache.struts.action.LOCALE&quot;,locale);\n</code></pre>\n<p>How to set the user chosen locale dynamically in Struts2 ?</p>\n"},{"tags":["java","android","kotlin","android-gradle-plugin","jvm"],"comments":[{"owner":{"account_id":4527376,"reputation":1282,"user_id":3678807,"display_name":"Vinay Rathod"},"score":0,"creation_date":1532065016,"post_id":51435580,"comment_id":89841356,"body_markdown":"please check https://stackoverflow.com/a/48781460/3678807","body":"please check <a href=\"https://stackoverflow.com/a/48781460/3678807\">stackoverflow.com/a/48781460/3678807</a>"},{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":0,"creation_date":1532065293,"post_id":51435580,"comment_id":89841458,"body_markdown":"@VinayRathod thanks for the link. Unfortunately the IDE suggests me to use `@JvmStatic` because &quot;Using non-JVM static members protected in the superclass companion is unsupported yet.&quot;. Of course I can change to public, but it doesn&#39;t tell me what&#39;s the problem.","body":"@VinayRathod thanks for the link. Unfortunately the IDE suggests me to use <code>@JvmStatic</code> because &quot;Using non-JVM static members protected in the superclass companion is unsupported yet.&quot;. Of course I can change to public, but it doesn&#39;t tell me what&#39;s the problem."},{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":0,"creation_date":1532065904,"post_id":51435580,"comment_id":89841667,"body_markdown":"Does it help to change `@JvmStatic` to `@JvmField`?","body":"Does it help to change <code>@JvmStatic</code> to <code>@JvmField</code>?"},{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":0,"creation_date":1532067088,"post_id":51435580,"comment_id":89842042,"body_markdown":"@yole unfortunately only `@JvmStatic` compiles.","body":"@yole unfortunately only <code>@JvmStatic</code> compiles."},{"owner":{"account_id":4527376,"reputation":1282,"user_id":3678807,"display_name":"Vinay Rathod"},"score":0,"creation_date":1532068452,"post_id":51435580,"comment_id":89842665,"body_markdown":"@Nominalista, please clean and rebuild its working for me.","body":"@Nominalista, please clean and rebuild its working for me."},{"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"score":0,"creation_date":1532069291,"post_id":51435580,"comment_id":89843087,"body_markdown":"@VinayRathod have you tried to run the app through generated .apk? After clean and rebuild it&#39;s not working.","body":"@VinayRathod have you tried to run the app through generated .apk? After clean and rebuild it&#39;s not working."}],"answers":[{"tags":[],"owner":{"account_id":4527376,"reputation":1282,"user_id":3678807,"display_name":"Vinay Rathod"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1552303051,"creation_date":1532066197,"answer_id":51435911,"question_id":51435580,"body_markdown":"From the [official Kotlin documentation][1]:\r\n&gt; Java allows accessing protected members from other classes in the same\r\n&gt; package and Kotlin doesn&#39;t, so Java classes will have broader access\r\n&gt; to the code\r\n\r\nSo, please make sure that your `BaseActivity` and `MyActivity` are under the same package.\r\n\r\nIf both activities are not under the same package then it will run perfectly by direct run from Studio, but it will crash (IllegalAccessError) while you generate .apk and try to run on the device by installing that apk.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#visibility","title":"IllegalAccessError: Method is inaccessible to class","body":"<p>From the <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#visibility\" rel=\"noreferrer\">official Kotlin documentation</a>:</p>\n\n<blockquote>\n  <p>Java allows accessing protected members from other classes in the same\n  package and Kotlin doesn't, so Java classes will have broader access\n  to the code</p>\n</blockquote>\n\n<p>So, please make sure that your <code>BaseActivity</code> and <code>MyActivity</code> are under the same package.</p>\n\n<p>If both activities are not under the same package then it will run perfectly by direct run from Studio, but it will crash (IllegalAccessError) while you generate .apk and try to run on the device by installing that apk.</p>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532094814,"creation_date":1532094814,"answer_id":51444113,"question_id":51435580,"body_markdown":"While I&#39;m not sure why this results in IllegalAccessError, you should be defining those constants like this:\r\n\r\n    companion object {\r\n        const val ANIMATION_DEFAULT = 0\r\n        const val ANIMATION_SLIDE_FROM_RIGHT = 1\r\n        const val ANIMATION_SLIDE_FROM_BOTTOM = 2\r\n    }\r\n\r\nAnd that should solve your problem, otherwise using `@JvmField` instead of `@JvmStatic` would have been a better choice.","title":"IllegalAccessError: Method is inaccessible to class","body":"<p>While I'm not sure why this results in IllegalAccessError, you should be defining those constants like this:</p>\n\n<pre><code>companion object {\n    const val ANIMATION_DEFAULT = 0\n    const val ANIMATION_SLIDE_FROM_RIGHT = 1\n    const val ANIMATION_SLIDE_FROM_BOTTOM = 2\n}\n</code></pre>\n\n<p>And that should solve your problem, otherwise using <code>@JvmField</code> instead of <code>@JvmStatic</code> would have been a better choice.</p>\n"},{"tags":[],"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544779396,"creation_date":1544775117,"answer_id":53775721,"question_id":51435580,"body_markdown":"Make sure you&#39;ve declared the method that is failing inside **the same module** as the calling code.\r\n\r\nIn my case I was experiencing following error:\r\n\r\n    java.lang.IllegalAccessError: Method &#39;boolean[] my.package.common.kotlin.AndroidExtensionsKt.$jacocoInit()&#39; is inaccessible to class &#39;my.package.ui.first.FirstActivity$viewModel$2&#39; (declaration of &#39;my.package.ui.first.FirstActivity$viewModel$2&#39; appears in /data/app/my.package.dev-fdHNodmdXHv-b_heK4MXeA==/base.apk!classes8.dex)\r\n        at my.package.ui.first.FirstActivity$viewModel$2.invoke(FirstActivity.kt:18)\r\n        at my.package.ui.first.FirstActivity$viewModel$2.invoke(FirstActivity.kt:14)\r\n        at kotlin.UnsafeLazyImpl.getValue(Lazy.kt:81)\r\n        at my.package.ui.first.FirstActivity.getViewModel(Unknown Source:11)\r\n        at my.package.ui.first.FirstActivity.onCreate(FirstActivity.kt:23)\r\n\r\nWhere `getViewModel()` was declared in `common` module and `FirstActivity` was declared in `app` module:\r\n\r\n\tinline fun &lt;reified T : ViewModel&gt; FragmentActivity.getViewModel(\r\n\t    factory: ViewModelProvider.Factory = ViewModelProvider.NewInstanceFactory()\r\n\t) = ViewModelProviders.of(this, factory).get(T::class.java)\r\n\r\nAfter moving `getViewModel()` from `common` module to `app` module no issues were seen.\r\n\r\n","title":"IllegalAccessError: Method is inaccessible to class","body":"<p>Make sure you've declared the method that is failing inside <strong>the same module</strong> as the calling code.</p>\n\n<p>In my case I was experiencing following error:</p>\n\n<pre><code>java.lang.IllegalAccessError: Method 'boolean[] my.package.common.kotlin.AndroidExtensionsKt.$jacocoInit()' is inaccessible to class 'my.package.ui.first.FirstActivity$viewModel$2' (declaration of 'my.package.ui.first.FirstActivity$viewModel$2' appears in /data/app/my.package.dev-fdHNodmdXHv-b_heK4MXeA==/base.apk!classes8.dex)\n    at my.package.ui.first.FirstActivity$viewModel$2.invoke(FirstActivity.kt:18)\n    at my.package.ui.first.FirstActivity$viewModel$2.invoke(FirstActivity.kt:14)\n    at kotlin.UnsafeLazyImpl.getValue(Lazy.kt:81)\n    at my.package.ui.first.FirstActivity.getViewModel(Unknown Source:11)\n    at my.package.ui.first.FirstActivity.onCreate(FirstActivity.kt:23)\n</code></pre>\n\n<p>Where <code>getViewModel()</code> was declared in <code>common</code> module and <code>FirstActivity</code> was declared in <code>app</code> module:</p>\n\n<pre><code>inline fun &lt;reified T : ViewModel&gt; FragmentActivity.getViewModel(\n    factory: ViewModelProvider.Factory = ViewModelProvider.NewInstanceFactory()\n) = ViewModelProviders.of(this, factory).get(T::class.java)\n</code></pre>\n\n<p>After moving <code>getViewModel()</code> from <code>common</code> module to <code>app</code> module no issues were seen.</p>\n"},{"tags":[],"owner":{"account_id":17687027,"reputation":115,"user_id":12839756,"display_name":"NeoMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622769126,"creation_date":1622769126,"answer_id":67830313,"question_id":51435580,"body_markdown":"    open class BaseActivity : AppCompatActivity() {\r\n        @JvmField\r\n        protected val ANIMATION_DEFAULT = 0\r\n        @JvmField\r\n        protected val ANIMATION_SLIDE_FROM_RIGHT = 1\r\n        @JvmField\r\n        protected val ANIMATION_SLIDE_FROM_BOTTOM = 2\r\n\r\n    protected open var animationKind = ANIMATION_DEFAULT\r\n\r\n    // Some other stuff\r\n    }\r\n\r\nHow About this?\r\n\r\nIn my opinion, Kotlin does not yet fully support companion - jvm static member.","title":"IllegalAccessError: Method is inaccessible to class","body":"<pre><code>open class BaseActivity : AppCompatActivity() {\n    @JvmField\n    protected val ANIMATION_DEFAULT = 0\n    @JvmField\n    protected val ANIMATION_SLIDE_FROM_RIGHT = 1\n    @JvmField\n    protected val ANIMATION_SLIDE_FROM_BOTTOM = 2\n\nprotected open var animationKind = ANIMATION_DEFAULT\n\n// Some other stuff\n}\n</code></pre>\n<p>How About this?</p>\n<p>In my opinion, Kotlin does not yet fully support companion - jvm static member.</p>\n"}],"owner":{"account_id":5524872,"reputation":4722,"user_id":4386668,"accept_rate":47,"display_name":"Nominalista"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15143,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51435911,"answer_count":4,"score":8,"last_activity_date":1685641241,"creation_date":1532064309,"question_id":51435580,"body_markdown":"I&#39;ve got very strange error, because it only happens after installing app from generated `.apk`. When I try to run the app through IDE, it works fine. \r\n\r\n    java.lang.IllegalAccessError: Method &#39;int &lt;package&gt;.BaseActivity$Companion.getANIMATION_SLIDE_FROM_RIGHT()&#39; is inaccessible to class &#39;&lt;package&gt;.MyActivity&#39; (declaration of &#39;&lt;package&gt;.MyActivity&#39; appears in /data/app/&lt;package&gt;-mg7eYmJ8hX5WvkNWNZWMVg==/base.apk!classes3.dex)\r\n\r\nAs you can see there is class called `BaseActivity` which looks like this:\r\n\r\n    open class BaseActivity : AppCompatActivity() {\r\n    \r\n        companion object {\r\n            @JvmStatic\r\n            protected val ANIMATION_DEFAULT = 0\r\n            @JvmStatic\r\n            protected val ANIMATION_SLIDE_FROM_RIGHT = 1\r\n            @JvmStatic\r\n            protected val ANIMATION_SLIDE_FROM_BOTTOM = 2\r\n        }\r\n    \r\n        protected open var animationKind = ANIMATION_DEFAULT\r\n    \r\n        // Some other stuff\r\n    }\r\n\r\nNow every activity extends this class and often overrides the `animationKind` like this:\r\n\r\n    class MyActivity: BaseActivity() {\r\n    \r\n        override var animationKind = ANIMATION_SLIDE_FROM_RIGHT\r\n    \r\n        // Some other stuff\r\n    }\r\n\r\nThe problem is that `ANIMATION_SLIDE_FROM_RIGHT` is inaccessible for `MyActivity`. I will repeat that it only happens on manually generated `.apk`. The funny thing is that I&#39;m not using multidex, but error seems to show that `BaseActivity` is in `classes3.dex`. Here is my gradle file:\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\napply plugin: &#39;kotlin-kapt&#39;\r\n\r\n    android {\r\n    \r\n        compileSdkVersion 28\r\n    \r\n        defaultConfig {\r\n            applicationId &lt;package&gt;\r\n            versionCode &lt;versionCode&gt;\r\n            versionName &lt;versionName&gt;\r\n            minSdkVersion 21\r\n            targetSdkVersion 28\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        androidExtensions {\r\n            experimental = true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        // Dependencies\r\n    }\r\n\r\nI tried to play with `multidexEnabled false/true`, but the only change is that in `false` state the `classes3.dex` suffix disappears.\r\n\r\n**UPDATE**\r\n\r\nOf course when I change `MyActivity`&#39;s `animationKind` property to `1`, then everything works fine. \r\n\r\n**UPDATE 2**\r\n\r\nAfter removing `@JvmStatic` and protected visibility it works fine.","title":"IllegalAccessError: Method is inaccessible to class","body":"<p>I've got very strange error, because it only happens after installing app from generated <code>.apk</code>. When I try to run the app through IDE, it works fine. </p>\n\n<pre><code>java.lang.IllegalAccessError: Method 'int &lt;package&gt;.BaseActivity$Companion.getANIMATION_SLIDE_FROM_RIGHT()' is inaccessible to class '&lt;package&gt;.MyActivity' (declaration of '&lt;package&gt;.MyActivity' appears in /data/app/&lt;package&gt;-mg7eYmJ8hX5WvkNWNZWMVg==/base.apk!classes3.dex)\n</code></pre>\n\n<p>As you can see there is class called <code>BaseActivity</code> which looks like this:</p>\n\n<pre><code>open class BaseActivity : AppCompatActivity() {\n\n    companion object {\n        @JvmStatic\n        protected val ANIMATION_DEFAULT = 0\n        @JvmStatic\n        protected val ANIMATION_SLIDE_FROM_RIGHT = 1\n        @JvmStatic\n        protected val ANIMATION_SLIDE_FROM_BOTTOM = 2\n    }\n\n    protected open var animationKind = ANIMATION_DEFAULT\n\n    // Some other stuff\n}\n</code></pre>\n\n<p>Now every activity extends this class and often overrides the <code>animationKind</code> like this:</p>\n\n<pre><code>class MyActivity: BaseActivity() {\n\n    override var animationKind = ANIMATION_SLIDE_FROM_RIGHT\n\n    // Some other stuff\n}\n</code></pre>\n\n<p>The problem is that <code>ANIMATION_SLIDE_FROM_RIGHT</code> is inaccessible for <code>MyActivity</code>. I will repeat that it only happens on manually generated <code>.apk</code>. The funny thing is that I'm not using multidex, but error seems to show that <code>BaseActivity</code> is in <code>classes3.dex</code>. Here is my gradle file:</p>\n\n<p>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'</p>\n\n<pre><code>android {\n\n    compileSdkVersion 28\n\n    defaultConfig {\n        applicationId &lt;package&gt;\n        versionCode &lt;versionCode&gt;\n        versionName &lt;versionName&gt;\n        minSdkVersion 21\n        targetSdkVersion 28\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n}\n\ndependencies {\n\n    // Dependencies\n}\n</code></pre>\n\n<p>I tried to play with <code>multidexEnabled false/true</code>, but the only change is that in <code>false</code> state the <code>classes3.dex</code> suffix disappears.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Of course when I change <code>MyActivity</code>'s <code>animationKind</code> property to <code>1</code>, then everything works fine. </p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>After removing <code>@JvmStatic</code> and protected visibility it works fine.</p>\n"},{"tags":["java","spring-boot","microservices","spring-data-rest","spring-webclient"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1685266643,"post_id":76318399,"comment_id":134635426,"body_markdown":"According your settings the result endpoint will be: `services/generatePrice/replacementPrice`","body":"According your settings the result endpoint will be: <code>services&#47;generatePrice&#47;replacementPrice</code>"}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685088574,"creation_date":1685088574,"answer_id":76338874,"question_id":76318399,"body_markdown":"The actual error is a 404, as indicated in the log file:\r\n\r\n``` lang-none\r\norg.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found\r\n```\r\n\r\nIt means that your URL is not constructed correctly:\r\n\r\n``` lang-java\r\nuriBuilder\r\n\t.path(&quot;services/price/generatePrice/replacementPrice/&quot;)\r\n\t.queryParam(&quot;vehicleId&quot;, vehicleId)\r\n\t.build()\r\n```\r\n\r\nI can only guess here, but maybe the last `/` should not be there?","title":"Spring Boot WebClient Request gives block terminated error","body":"<p>The actual error is a 404, as indicated in the log file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found\n</code></pre>\n<p>It means that your URL is not constructed correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>uriBuilder\n    .path(&quot;services/price/generatePrice/replacementPrice/&quot;)\n    .queryParam(&quot;vehicleId&quot;, vehicleId)\n    .build()\n</code></pre>\n<p>I can only guess here, but maybe the last <code>/</code> should not be there?</p>\n"},{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685263179,"creation_date":1685205721,"answer_id":76347924,"question_id":76318399,"body_markdown":"I think the problem is with the path you&#39;re using. From what I can see, it should either be `/generatePrice/replacementPrice` or `/services/generatePrice/replacementPrice` I&#39;m not sure where the `/price/` part of the url came from.\r\n\r\nI suppose the correct url is `/services/generatePrice/replacementPrice` since you have `spring.data.rest.base-path=/services` but it might be worth it to try both tbh.\r\n\r\nupdate your call like so:\r\n\r\n```\r\nuriBuilder\r\n    .path(&quot;services/generatePrice/replacementPrice&quot;)\r\n    .queryParam(&quot;vehicleId&quot;, vehicleId)\r\n    .build()\r\n```\r\n\r\nor test this url: `http://localhost:8082/services/generatePrice/replacementPrice?vehicleId=1` in postman","title":"Spring Boot WebClient Request gives block terminated error","body":"<p>I think the problem is with the path you're using. From what I can see, it should either be <code>/generatePrice/replacementPrice</code> or <code>/services/generatePrice/replacementPrice</code> I'm not sure where the <code>/price/</code> part of the url came from.</p>\n<p>I suppose the correct url is <code>/services/generatePrice/replacementPrice</code> since you have <code>spring.data.rest.base-path=/services</code> but it might be worth it to try both tbh.</p>\n<p>update your call like so:</p>\n<pre><code>uriBuilder\n    .path(&quot;services/generatePrice/replacementPrice&quot;)\n    .queryParam(&quot;vehicleId&quot;, vehicleId)\n    .build()\n</code></pre>\n<p>or test this url: <code>http://localhost:8082/services/generatePrice/replacementPrice?vehicleId=1</code> in postman</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685641170,"creation_date":1685641170,"answer_id":76384402,"question_id":76318399,"body_markdown":"Endpoint generated from `@RepositoryRestResource` is different than those generated from `BasePathAwareController` as per https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers.annotations.\r\n\r\nIf you use `@RepositoryRestResource`, endpoints will get generated automatically. For `BasePathAwareController`, you can define custom endpoints.\r\nIn addition to that, you have defined `spring.data.rest.base-path=/services` \r\nmeaning it will add base path for your all default endpoints &amp; custom endpoints. \r\n\r\nSo if you use  `http://localhost:8082/services/` you will get some JSON response back which looks like :\r\n\r\n    {\r\n      &quot;_links&quot; : {\r\n        &quot;price&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8082/services/price{?page,size,sort}&quot;,\r\n          &quot;templated&quot; : true\r\n        },\r\n        &quot;profile&quot; : {\r\n          &quot;href&quot; : &quot;http://localhost:8082/services/profile&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nRepositoryRestResource automatically created `services/price` endpoint for you.\r\n\r\n\r\nYou are using `BasePathAwareController` to access `/replacementPrice` service, and here you don&#39;t need to use `/price` which is part of @RepositoryRestResource.\r\n\r\nSo to access `generatePrice/replacementPrice/` I am suggesting you to just use `services/generatePrice/replacementPrice/` &amp; that will fetch details from `newPriceForVehicileId` method.\r\n\r\nIf you want to use `price` endpoint, I am suggesting to use it separately, something like,  `services/price` without use of custom endpoint created by BasePathAwareController.\r\n","title":"Spring Boot WebClient Request gives block terminated error","body":"<p>Endpoint generated from <code>@RepositoryRestResource</code> is different than those generated from <code>BasePathAwareController</code> as per <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers.annotations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers.annotations</a>.</p>\n<p>If you use <code>@RepositoryRestResource</code>, endpoints will get generated automatically. For <code>BasePathAwareController</code>, you can define custom endpoints.\nIn addition to that, you have defined <code>spring.data.rest.base-path=/services</code>\nmeaning it will add base path for your all default endpoints &amp; custom endpoints.</p>\n<p>So if you use  <code>http://localhost:8082/services/</code> you will get some JSON response back which looks like :</p>\n<pre><code>{\n  &quot;_links&quot; : {\n    &quot;price&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8082/services/price{?page,size,sort}&quot;,\n      &quot;templated&quot; : true\n    },\n    &quot;profile&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8082/services/profile&quot;\n    }\n  }\n}\n</code></pre>\n<p>RepositoryRestResource automatically created <code>services/price</code> endpoint for you.</p>\n<p>You are using <code>BasePathAwareController</code> to access <code>/replacementPrice</code> service, and here you don't need to use <code>/price</code> which is part of @RepositoryRestResource.</p>\n<p>So to access <code>generatePrice/replacementPrice/</code> I am suggesting you to just use <code>services/generatePrice/replacementPrice/</code> &amp; that will fetch details from <code>newPriceForVehicileId</code> method.</p>\n<p>If you want to use <code>price</code> endpoint, I am suggesting to use it separately, something like,  <code>services/price</code> without use of custom endpoint created by BasePathAwareController.</p>\n"}],"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1685641170,"creation_date":1684873327,"question_id":76318399,"body_markdown":"I am making a call from a Vehicle service class containing a WebClient to a Price microservice for which I have used Spring Data Rest. I created a custom method to re-calculate a price for an id associated with a vehicle that has just been deleted. The reason for creating a new price is that when a vehicle is added to that vacant id, the price already calculated is assigned to the vehicle just added. When I ran my application, I am getting &quot;block terminated with an error&quot;. The affected code and stacktrace is shown below. I will really appreciate helping in resolving this error and getting the code to work. Let me know if you need further clarification or sections of my code to be added.\r\n\r\nCarService.java (VehicleApplication)\r\n```\r\n    public void delete(Long id) {\r\n        /**\r\n         * TODO: Find the car by ID from the `repository` if it exists.\r\n         *   If it does not exist, throw a CarNotFoundException\r\n         */\r\n\r\n        Optional&lt;Car&gt; optionalCar = repository.findById(id);\r\n        Car car = optionalCar.orElseThrow(CarNotFoundException::new);\r\n\r\n        /**\r\n         * TODO: Delete the car from the repository.\r\n         */\r\n\r\n        repository.delete(car);\r\n        String newPrice = priceClient.createPrice(id);\r\n        System.out.println(&quot;NEW PRICE &quot; + newPrice );\r\n    }\r\n```\r\n\r\nPriceClient.java (VehicleApplication)\r\n```\r\n    public String createPrice(Long vehicleId) {\r\n        try {\r\n            Price price = client\r\n                    .get()\r\n                    .uri(uriBuilder -&gt; uriBuilder\r\n                            .path(&quot;services/price/generatePrice/replacementPrice/&quot;)\r\n                            .queryParam(&quot;vehicleId&quot;, vehicleId)\r\n                            .build()\r\n                    )\r\n                    .retrieve().bodyToMono(Price.class).block();\r\n\r\n            System.out.println(&quot;PRICECLIENT &quot;+ price.getCurrency());\r\n\r\n            return String.format(&quot;%s %s&quot;, price.getCurrency(), price.getPrice());\r\n\r\n        } catch (Exception e) {\r\n            log.error(&quot;Unexpected error retrieving price for vehicle {}&quot;, vehicleId, e);\r\n        }\r\n        return &quot;(consult price)&quot;;\r\n    }\r\n```\r\n\r\nPriceRepository.java (PriceServiceApplication)\r\n```\r\n@RepositoryRestResource(collectionResourceRel = &quot;price&quot;, path = &quot;price&quot;)\r\npublic interface PriceRepository extends CrudRepository&lt;Price, Long&gt;, PriceRepositoryCustom {\r\n\r\n    Price findPriceByVehicleId(@Param(&quot;vehicleId&quot;) Long vehicleId);\r\n\r\n}\r\n```\r\n\r\nPriceRepositoryImpl.java (PriceServiceApplication)\r\n```\r\n@BasePathAwareController\r\n@RequestMapping(&quot;/generatePrice&quot;)\r\npublic class PriceRepositoryImpl{\r\n\r\n    @GetMapping(&quot;/replacementPrice&quot;)\r\n    public Price newPriceForVehicileId(@RequestParam Long vehicleId) {\r\n\r\n        return new Price(&quot;USD&quot;, randomPrice(), vehicleId);\r\n\r\n    }\r\n\r\n    public static BigDecimal randomPrice() {\r\n        return new BigDecimal(ThreadLocalRandom.current().nextDouble(1, 5))\r\n                .multiply(new BigDecimal(5000d)).setScale(2, RoundingMode.HALF_UP);\r\n    }\r\n}\r\n```\r\n\r\napplication.properties (PriceServiceApplication)\r\n```\r\nserver.port=8082\r\n\r\n\r\n#configure base path for rest apis\r\n#spring.data.rest.base-path=/api/v1/services\r\nspring.data.rest.base-path=/services\r\n\r\n\r\n#h2\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2\r\nspring.datasource.url=jdbc:h2:mem:pricedata\r\n\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n#Eureka\r\nspring.application.name=pricing-service\r\n\r\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\neureka.client.service-url.default-zone=http://localhost:8761/eureka/\r\ninstance.preferIpAddress=true\r\n\r\neureka.client.register-with-eureka=true\r\neureka.client.fetch-registry=true\r\n\r\neureka.client.enabled=true\r\nspring.cloud.config.enabled=false\r\neureka.instance.hostname=localhost\r\n\r\nspring.cloud.loadbalancer.ribbon.enable=false\r\n\r\n#Actuator\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.info.env.enabled=true\r\ninfo.app.name= Pricing Service\r\ninfo.app.description= Price Generation for Vehicle Microservice\r\ninfo.app.version=1.0.0\r\n\r\n```\r\n\r\nResulting Error\r\n```\r\n2023-05-23 20:32:52.370 ERROR 10020 --- [io-8080-exec-10] c.u.vehicles.client.prices.PriceClient   : Unexpected error retrieving price for vehicle 1\r\n\r\norg.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:180) ~[spring-webflux-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$createResponseException$13(DefaultWebClient.java:495) ~[spring-webflux-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:107) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:345) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1510) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:100) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:144) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onComplete(FluxContextStart.java:122) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:336) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:385) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1511) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:121) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:144) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:271) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:390) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\r\n\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:197) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\r\n\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:338) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\r\n\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:350) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\r\n\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:399) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\r\n\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:555) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:91) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) ~[netty-codec-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) ~[netty-codec-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) ~[netty-codec-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:682) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:617) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:534) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:906) ~[netty-common-4.1.36.Final.jar:4.1.36.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.36.Final.jar:4.1.36.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\r\n\treactor.core.publisher.Mono.flatMap(Mono.java:2490)\r\n\torg.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$null$1(DefaultWebClient.java:430)\r\nError has been observed by the following operator(s):\r\n\t|_\tMono.flatMap ‚á¢ org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$null$1(DefaultWebClient.java:430)\r\n\t|_\tMono.flatMap ‚á¢ org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.bodyToMono(DefaultWebClient.java:429)\r\n\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:93) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1494) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\r\n\t\tat com.udacity.vehicles.client.prices.PriceClient.createPrice(PriceClient.java:89) ~[classes/:na]\r\n\t\tat com.udacity.vehicles.service.CarService.delete(CarService.java:156) ~[classes/:na]\r\n\t\tat com.udacity.vehicles.api.CarController.delete(CarController.java:126) ~[classes/:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:930) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:666) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\r\n\t\t... 1 common frames omitted\r\n\r\nNEW PRICE (consult price)\r\n```","title":"Spring Boot WebClient Request gives block terminated error","body":"<p>I am making a call from a Vehicle service class containing a WebClient to a Price microservice for which I have used Spring Data Rest. I created a custom method to re-calculate a price for an id associated with a vehicle that has just been deleted. The reason for creating a new price is that when a vehicle is added to that vacant id, the price already calculated is assigned to the vehicle just added. When I ran my application, I am getting &quot;block terminated with an error&quot;. The affected code and stacktrace is shown below. I will really appreciate helping in resolving this error and getting the code to work. Let me know if you need further clarification or sections of my code to be added.</p>\n<p>CarService.java (VehicleApplication)</p>\n<pre><code>    public void delete(Long id) {\n        /**\n         * TODO: Find the car by ID from the `repository` if it exists.\n         *   If it does not exist, throw a CarNotFoundException\n         */\n\n        Optional&lt;Car&gt; optionalCar = repository.findById(id);\n        Car car = optionalCar.orElseThrow(CarNotFoundException::new);\n\n        /**\n         * TODO: Delete the car from the repository.\n         */\n\n        repository.delete(car);\n        String newPrice = priceClient.createPrice(id);\n        System.out.println(&quot;NEW PRICE &quot; + newPrice );\n    }\n</code></pre>\n<p>PriceClient.java (VehicleApplication)</p>\n<pre><code>    public String createPrice(Long vehicleId) {\n        try {\n            Price price = client\n                    .get()\n                    .uri(uriBuilder -&gt; uriBuilder\n                            .path(&quot;services/price/generatePrice/replacementPrice/&quot;)\n                            .queryParam(&quot;vehicleId&quot;, vehicleId)\n                            .build()\n                    )\n                    .retrieve().bodyToMono(Price.class).block();\n\n            System.out.println(&quot;PRICECLIENT &quot;+ price.getCurrency());\n\n            return String.format(&quot;%s %s&quot;, price.getCurrency(), price.getPrice());\n\n        } catch (Exception e) {\n            log.error(&quot;Unexpected error retrieving price for vehicle {}&quot;, vehicleId, e);\n        }\n        return &quot;(consult price)&quot;;\n    }\n</code></pre>\n<p>PriceRepository.java (PriceServiceApplication)</p>\n<pre><code>@RepositoryRestResource(collectionResourceRel = &quot;price&quot;, path = &quot;price&quot;)\npublic interface PriceRepository extends CrudRepository&lt;Price, Long&gt;, PriceRepositoryCustom {\n\n    Price findPriceByVehicleId(@Param(&quot;vehicleId&quot;) Long vehicleId);\n\n}\n</code></pre>\n<p>PriceRepositoryImpl.java (PriceServiceApplication)</p>\n<pre><code>@BasePathAwareController\n@RequestMapping(&quot;/generatePrice&quot;)\npublic class PriceRepositoryImpl{\n\n    @GetMapping(&quot;/replacementPrice&quot;)\n    public Price newPriceForVehicileId(@RequestParam Long vehicleId) {\n\n        return new Price(&quot;USD&quot;, randomPrice(), vehicleId);\n\n    }\n\n    public static BigDecimal randomPrice() {\n        return new BigDecimal(ThreadLocalRandom.current().nextDouble(1, 5))\n                .multiply(new BigDecimal(5000d)).setScale(2, RoundingMode.HALF_UP);\n    }\n}\n</code></pre>\n<p>application.properties (PriceServiceApplication)</p>\n<pre><code>server.port=8082\n\n\n#configure base path for rest apis\n#spring.data.rest.base-path=/api/v1/services\nspring.data.rest.base-path=/services\n\n\n#h2\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2\nspring.datasource.url=jdbc:h2:mem:pricedata\n\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\n#Eureka\nspring.application.name=pricing-service\n\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\neureka.client.service-url.default-zone=http://localhost:8761/eureka/\ninstance.preferIpAddress=true\n\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\n\neureka.client.enabled=true\nspring.cloud.config.enabled=false\neureka.instance.hostname=localhost\n\nspring.cloud.loadbalancer.ribbon.enable=false\n\n#Actuator\nmanagement.endpoints.web.exposure.include=*\nmanagement.info.env.enabled=true\ninfo.app.name= Pricing Service\ninfo.app.description= Price Generation for Vehicle Microservice\ninfo.app.version=1.0.0\n\n</code></pre>\n<p>Resulting Error</p>\n<pre><code>2023-05-23 20:32:52.370 ERROR 10020 --- [io-8080-exec-10] c.u.vehicles.client.prices.PriceClient   : Unexpected error retrieving price for vehicle 1\n\norg.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:180) ~[spring-webflux-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$createResponseException$13(DefaultWebClient.java:495) ~[spring-webflux-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:107) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:345) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1510) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:100) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:144) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onComplete(FluxContextStart.java:122) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onComplete(FluxMapFuseable.java:336) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onComplete(FluxFilterFuseable.java:385) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1511) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:121) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:144) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onComplete(FluxPeekFuseable.java:271) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:355) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n    at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:390) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\n    at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:197) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\n    at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:338) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\n    at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:350) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\n    at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:399) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\n    at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:555) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:91) ~[reactor-netty-0.8.8.RELEASE.jar:0.8.8.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) ~[netty-codec-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) ~[netty-codec-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) ~[netty-codec-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:682) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:617) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:534) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:906) ~[netty-common-4.1.36.Final.jar:4.1.36.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.36.Final.jar:4.1.36.Final]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\n    reactor.core.publisher.Mono.flatMap(Mono.java:2490)\n    org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$null$1(DefaultWebClient.java:430)\nError has been observed by the following operator(s):\n    |_  Mono.flatMap ‚á¢ org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$null$1(DefaultWebClient.java:430)\n    |_  Mono.flatMap ‚á¢ org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.bodyToMono(DefaultWebClient.java:429)\n\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:93) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n        at reactor.core.publisher.Mono.block(Mono.java:1494) ~[reactor-core-3.2.9.RELEASE.jar:3.2.9.RELEASE]\n        at com.udacity.vehicles.client.prices.PriceClient.createPrice(PriceClient.java:89) ~[classes/:na]\n        at com.udacity.vehicles.service.CarService.delete(CarService.java:156) ~[classes/:na]\n        at com.udacity.vehicles.api.CarController.delete(CarController.java:126) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:930) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:666) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.7.RELEASE.jar:5.1.7.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.19.jar:9.0.19]\n        ... 1 common frames omitted\n\nNEW PRICE (consult price)\n</code></pre>\n"},{"tags":["java","android","kotlin","android-volley","sweetalert"],"owner":{"account_id":25589165,"reputation":39,"user_id":19366318,"display_name":"morris menanya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685640325,"creation_date":1685639270,"question_id":76384202,"body_markdown":"My android app crashes when i try to logic in on press of the login button. I have tried to catch/handle the error but its still same result\r\n\r\nI have tried but failed to catch the error so the app doesnt break\r\n\r\n```\r\nResponse.ErrorListener() {\r\n@Override\r\npublic void onErrorResponse(VolleyError error) {\r\nshowMe.dismiss();\r\nnew SweetAlertDialog(LoginActivity.this, SweetAlertDialog.CUSTOM_IMAGE_TYPE)\r\n.setTitleText(&quot;Network Error!&quot;)\r\n.setContentText(&quot;Please Check Your Network Connection and Try Again&quot;)\r\n.setCustomImage(R.drawable.ic_wifi)\r\n.show();\r\n}\r\n});\r\n```","title":"I am Getting java.lang.RuntimeException: Unknown animation name: cn.pedant.SweetAlert.Rotate3dAnimation error:null","body":"<p>My android app crashes when i try to logic in on press of the login button. I have tried to catch/handle the error but its still same result</p>\n<p>I have tried but failed to catch the error so the app doesnt break</p>\n<pre><code>Response.ErrorListener() {\n@Override\npublic void onErrorResponse(VolleyError error) {\nshowMe.dismiss();\nnew SweetAlertDialog(LoginActivity.this, SweetAlertDialog.CUSTOM_IMAGE_TYPE)\n.setTitleText(&quot;Network Error!&quot;)\n.setContentText(&quot;Please Check Your Network Connection and Try Again&quot;)\n.setCustomImage(R.drawable.ic_wifi)\n.show();\n}\n});\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":3683985,"reputation":24027,"user_id":3068190,"display_name":"samthecodingman"},"score":2,"creation_date":1685664037,"post_id":76384242,"comment_id":134696232,"body_markdown":"You&#39;ll want to use the [`batch()`](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#batch()) to create a [WriteBatch](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch) and then update each document using [`FieldValue.increment()`](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue#increment(long)) (with a negative value)","body":"You&#39;ll want to use the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore#batch()\" rel=\"nofollow noreferrer\"><code>batch()</code></a> to create a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch\" rel=\"nofollow noreferrer\">WriteBatch</a> and then update each document using <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue#increment(long)\" rel=\"nofollow noreferrer\"><code>FieldValue.increment()</code></a> (with a negative value)"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1685666795,"post_id":76384242,"comment_id":134696480,"body_markdown":"Sounds like an answer @samthecodingman ;-)","body":"Sounds like an answer @samthecodingman ;-)"},{"owner":{"account_id":3683985,"reputation":24027,"user_id":3068190,"display_name":"samthecodingman"},"score":0,"creation_date":1685669581,"post_id":76384242,"comment_id":134696710,"body_markdown":"@FrankvanPuffelen I&#39;ll hydrate it later today when I get the chance. At least it helps get them going while I&#39;m busy.","body":"@FrankvanPuffelen I&#39;ll hydrate it later today when I get the chance. At least it helps get them going while I&#39;m busy."},{"owner":{"account_id":28594989,"reputation":1,"user_id":21893368,"display_name":"Vanilla Milkshakes"},"score":0,"creation_date":1685702562,"post_id":76384242,"comment_id":134701439,"body_markdown":"@samthecodingman Thank you for the tip, though wouldn&#39;t using `batch()` come with the risk of the database changing while the process is ongoing? I was hoping to use transactions because there could be users joining a queue at any time.","body":"@samthecodingman Thank you for the tip, though wouldn&#39;t using <code>batch()</code> come with the risk of the database changing while the process is ongoing? I was hoping to use transactions because there could be users joining a queue at any time."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1685712727,"post_id":76384242,"comment_id":134703576,"body_markdown":"@VanillaMilkshakes A batch and a transaction are largely the same behind the scenes. Use a transaction when you also need to **read** some of the data that you&#39;re writing, and a batch when you don&#39;t. See https://firebase.google.com/docs/firestore/manage-data/transactions","body":"@VanillaMilkshakes A batch and a transaction are largely the same behind the scenes. Use a transaction when you also need to <b>read</b> some of the data that you&#39;re writing, and a batch when you don&#39;t. See <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/manage-data/transactions</a>"},{"owner":{"account_id":28594989,"reputation":1,"user_id":21893368,"display_name":"Vanilla Milkshakes"},"score":0,"creation_date":1685770503,"post_id":76384242,"comment_id":134710941,"body_markdown":"@FrankvanPuffelen Thanks for clarifying. \n\nThe introduction video gave me the impression that batch writes wouldn&#39;t be useful if I wanted to use the most up-to-date version of the data.\n\n(in the case here, the position values could be constantly changing due to users joining and leaving)","body":"@FrankvanPuffelen Thanks for clarifying.   The introduction video gave me the impression that batch writes wouldn&#39;t be useful if I wanted to use the most up-to-date version of the data.  (in the case here, the position values could be constantly changing due to users joining and leaving)"}],"owner":{"account_id":28594989,"reputation":1,"user_id":21893368,"display_name":"Vanilla Milkshakes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685639667,"creation_date":1685639667,"question_id":76384242,"body_markdown":"I&#39;m working on a Firestore database for Android that tracks the position and wait time of all entries in a queue. Each queue is a Collection, and each user&#39;s entry is represented by a Document in that collection.\r\n\r\nMy goal is to decrement the position value for every Document in the Collection simultaneously.\r\n\r\nIdeally, I would like to update each value using a transaction because I don&#39;t have the resources to use Firestore&#39;s cloud functions.\r\n\r\nHowever, I&#39;m not sure if what I&#39;m doing is the best way to go about it:\r\n\r\n```\r\nCollectionReference entryRef = ref.collection(&quot;entries&quot;);\r\nList&lt;String&gt; entryIDs = new ArrayList&lt;String&gt;();\r\nList&lt;Long&gt; positions = new ArrayList&lt;Long&gt;();\r\n\r\nentryRef.get()\r\n    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    entryIDs.add(document.getId());\r\n                    positions.add(document.getLong(&quot;position&quot;));\r\n                }\r\n            }\r\n        }\r\n});\r\n\r\nfor (int i = 0; i &lt; entryIDs.size(); i++) {\r\n    transaction.update(entryRef.document(entryIDs.get(i)), &quot;position&quot;, positions.get(i));\r\n}\r\n```\r\n\r\n\r\nIs there a better way to decrement a value in multiple documents at the same time?\r\n","title":"How to update values in multiple documents as a transaction in Firestore?","body":"<p>I'm working on a Firestore database for Android that tracks the position and wait time of all entries in a queue. Each queue is a Collection, and each user's entry is represented by a Document in that collection.</p>\n<p>My goal is to decrement the position value for every Document in the Collection simultaneously.</p>\n<p>Ideally, I would like to update each value using a transaction because I don't have the resources to use Firestore's cloud functions.</p>\n<p>However, I'm not sure if what I'm doing is the best way to go about it:</p>\n<pre><code>CollectionReference entryRef = ref.collection(&quot;entries&quot;);\nList&lt;String&gt; entryIDs = new ArrayList&lt;String&gt;();\nList&lt;Long&gt; positions = new ArrayList&lt;Long&gt;();\n\nentryRef.get()\n    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    entryIDs.add(document.getId());\n                    positions.add(document.getLong(&quot;position&quot;));\n                }\n            }\n        }\n});\n\nfor (int i = 0; i &lt; entryIDs.size(); i++) {\n    transaction.update(entryRef.document(entryIDs.get(i)), &quot;position&quot;, positions.get(i));\n}\n</code></pre>\n<p>Is there a better way to decrement a value in multiple documents at the same time?</p>\n"},{"tags":["java","android","tensorflow","mediapipe","face-mesh"],"owner":{"account_id":28555305,"reputation":1,"user_id":21859596,"display_name":"tharindae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685639601,"creation_date":1683619670,"question_id":76207145,"body_markdown":"I&#39;m working on a face tracking application (Android studio / Java) and I need to identify face landmarks and show face mesh&#39;s specific points. I&#39;m interested using [Mediapipe face mesh solution](https://github.com/google/mediapipe/blob/master/docs/solutions/face_mesh.md#face-landmark-model). The problem is: I use Windows OS, and Mediapipe is not working on Windows OS. I don&#39;t want to use [bazel](https://developers.google.com/mediapipe/framework/getting_started/hello_world_android) to create android application. I want to use mediapipe inside my application.\r\n\r\nCan anybody explain to me how can i use Mediapipe&#39;s face_landmark solution to detect faces in images and generate face mesh inside exisiting Android studio with Java application. And If there is a solution with models like face_landmark.tflite, please explain me how can I use such tflite independently inside my application without the whole Mediapipe framework?\r\n\r\nI want to use mediapipe face mesh solution inside my android studio java application in order to get specific face landmark points to acheive my task.","title":"Is it possible to use face landmark solution from Mediapipe to generate face mesh in Android java project independently?","body":"<p>I'm working on a face tracking application (Android studio / Java) and I need to identify face landmarks and show face mesh's specific points. I'm interested using <a href=\"https://github.com/google/mediapipe/blob/master/docs/solutions/face_mesh.md#face-landmark-model\" rel=\"nofollow noreferrer\">Mediapipe face mesh solution</a>. The problem is: I use Windows OS, and Mediapipe is not working on Windows OS. I don't want to use <a href=\"https://developers.google.com/mediapipe/framework/getting_started/hello_world_android\" rel=\"nofollow noreferrer\">bazel</a> to create android application. I want to use mediapipe inside my application.</p>\n<p>Can anybody explain to me how can i use Mediapipe's face_landmark solution to detect faces in images and generate face mesh inside exisiting Android studio with Java application. And If there is a solution with models like face_landmark.tflite, please explain me how can I use such tflite independently inside my application without the whole Mediapipe framework?</p>\n<p>I want to use mediapipe face mesh solution inside my android studio java application in order to get specific face landmark points to acheive my task.</p>\n"},{"tags":["java","spring-webflux","reactive-programming","spring-webclient"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1685691706,"post_id":76383594,"comment_id":134699241,"body_markdown":"By using `List&lt;CustomerData&gt;`, you would get a `Flux&lt;List&lt;CustomerData&gt;`. But you could use `bodyToFlux(CustomerData.class)` to get back a `Flux&lt;CustomerData&gt;` directly. And if you want all your objects in a single list, you can chain with a call to `collectList()`, which will return a `Mono&lt;List&lt;CustomerData&gt;&gt;`","body":"By using <code>List&lt;CustomerData&gt;</code>, you would get a <code>Flux&lt;List&lt;CustomerData&gt;</code>. But you could use <code>bodyToFlux(CustomerData.class)</code> to get back a <code>Flux&lt;CustomerData&gt;</code> directly. And if you want all your objects in a single list, you can chain with a call to <code>collectList()</code>, which will return a <code>Mono&lt;List&lt;CustomerData&gt;&gt;</code>"},{"owner":{"account_id":21334358,"reputation":73,"user_id":15705806,"display_name":"fmbordignon"},"score":0,"creation_date":1685966641,"post_id":76383594,"comment_id":134730116,"body_markdown":"@amanin the endpoint i need to call returns a `List&lt;CustomerData`&gt;, so as far as i know i need to consume it as `Flux&lt;List&lt;CustomerData&gt;&gt;` instead of `Flux&lt;CustomerData&gt;`","body":"@amanin the endpoint i need to call returns a <code>List&lt;CustomerData</code>&gt;, so as far as i know i need to consume it as <code>Flux&lt;List&lt;CustomerData&gt;&gt;</code> instead of <code>Flux&lt;CustomerData&gt;</code>"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1685981948,"post_id":76383594,"comment_id":134733814,"body_markdown":"A flux is *0..n* emitted elements. An HTTP response body containing a JSON list of elements should be mappable to either a `Mono&lt;List&lt;Element&gt;&gt;` or a `Flux&lt;Element&gt;`. Note that `Flux&lt;List&lt;Element&gt;&gt;` might also work, but it is not clear then if you get a flux emitting a single List (which would be approximately equivalent to a mono), or if the response list is chunked in arbitrary batches.","body":"A flux is <i>0..n</i> emitted elements. An HTTP response body containing a JSON list of elements should be mappable to either a <code>Mono&lt;List&lt;Element&gt;&gt;</code> or a <code>Flux&lt;Element&gt;</code>. Note that <code>Flux&lt;List&lt;Element&gt;&gt;</code> might also work, but it is not clear then if you get a flux emitting a single List (which would be approximately equivalent to a mono), or if the response list is chunked in arbitrary batches."}],"owner":{"account_id":21334358,"reputation":73,"user_id":15705806,"display_name":"fmbordignon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685639536,"creation_date":1685634041,"question_id":76383594,"body_markdown":"I am working on a small code snippet that needs to:\r\n\r\n- Call an specific endpoint that contains pagination\r\n- Get the list returned and put it into a flux of lists\r\n- Postprocess this data\r\n\r\nHowever, when i try to build the code, i am getting the following error message:\r\n\r\n```\r\ncompiler message file broken: key=compiler.misc.msg.bug arguments=11.0.10, {1}, {2}, {3}, {4}, {5}, {6}, {7}\r\njava.lang.NullPointerException\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1235)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\r\n\tat jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:398)\r\n        ...........\r\n```\r\n\r\n\r\nCode:\r\n\r\n```\r\n        WebClient client = WebClient.create();\r\n        \r\n\r\n        Flux&lt;List&lt;CustomerData&gt;&gt; data = Flux.just();\r\n\r\n        for (int i = 1; i &lt;= 32; i++) {\r\n            int a = i;\r\n            data = data.concatWith(client\r\n                    .get()\r\n                    .uri(&quot;apiurl/&quot;+ i)\r\n                    .retrieve()\r\n                    .bodyToFlux(new ParameterizedTypeReference&lt;&gt;() {\r\n                    }));\r\n        }\r\n```\r\n\r\nI&#39;m not really sure what is happening, but i know for sure that the problematic line is `.bodyToFlux(new ParameterizedTypeReference&lt;&gt;()`.\r\n\r\nWhen explicitly set the type to `.bodyToFlux(new ParameterizedTypeReference&lt;List&lt;CustomerData&gt;&gt;()`, it works.\r\nWhy does it work when I explicitly add the type to `ParameterizedTypeReference`? My IDE suggested to remove it due to it being unnecessary.\r\n\r\nI&#39;m using IntelliJ IDEA, running on Java 11.\r\n\r\nTried restarting the IDE, the computer, updating the IDE, cleaning caches, invalidate caches and restart Intellij.","title":"Spring Reactive webclient fails to compile when using .bodyToFlux(new ParameterizedTypeReference&lt;&gt;) with &quot;compiler message file broken&quot;","body":"<p>I am working on a small code snippet that needs to:</p>\n<ul>\n<li>Call an specific endpoint that contains pagination</li>\n<li>Get the list returned and put it into a flux of lists</li>\n<li>Postprocess this data</li>\n</ul>\n<p>However, when i try to build the code, i am getting the following error message:</p>\n<pre><code>compiler message file broken: key=compiler.misc.msg.bug arguments=11.0.10, {1}, {2}, {3}, {4}, {5}, {6}, {7}\njava.lang.NullPointerException\n    at jdk.compiler/com.sun.tools.javac.comp.Flow$FlowAnalyzer.visitApply(Flow.java:1235)\n    at jdk.compiler/com.sun.tools.javac.tree.JCTree$JCMethodInvocation.accept(JCTree.java:1634)\n    at jdk.compiler/com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n    at jdk.compiler/com.sun.tools.javac.comp.Flow$BaseAnalyzer.scan(Flow.java:398)\n        ...........\n</code></pre>\n<p>Code:</p>\n<pre><code>        WebClient client = WebClient.create();\n        \n\n        Flux&lt;List&lt;CustomerData&gt;&gt; data = Flux.just();\n\n        for (int i = 1; i &lt;= 32; i++) {\n            int a = i;\n            data = data.concatWith(client\n                    .get()\n                    .uri(&quot;apiurl/&quot;+ i)\n                    .retrieve()\n                    .bodyToFlux(new ParameterizedTypeReference&lt;&gt;() {\n                    }));\n        }\n</code></pre>\n<p>I'm not really sure what is happening, but i know for sure that the problematic line is <code>.bodyToFlux(new ParameterizedTypeReference&lt;&gt;()</code>.</p>\n<p>When explicitly set the type to <code>.bodyToFlux(new ParameterizedTypeReference&lt;List&lt;CustomerData&gt;&gt;()</code>, it works.\nWhy does it work when I explicitly add the type to <code>ParameterizedTypeReference</code>? My IDE suggested to remove it due to it being unnecessary.</p>\n<p>I'm using IntelliJ IDEA, running on Java 11.</p>\n<p>Tried restarting the IDE, the computer, updating the IDE, cleaning caches, invalidate caches and restart Intellij.</p>\n"},{"tags":["java","spring","http","interface","feign"],"owner":{"account_id":28729406,"reputation":1,"user_id":22001673,"display_name":"Anderson Chica Restrepo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685638740,"creation_date":1685638740,"question_id":76384149,"body_markdown":"I have created the following interface in Java, using the Spring annotations @FeignClient and @GetMapping:\r\n\r\n```\r\n@FeignClient(name = &quot;serviceTechnicalTest&quot;, url = &quot;${endpoints.url-technicalTest}&quot; , configuration = FeignRetryConfiguration.class)\r\npublic interface URLTechnicalTestFeign {\r\n    @GetMapping\r\n    UrlCandidateResponse getUrlCandidateTechnicalTest(@RequestBody UrlCandidateRequest urlCandidateRequest);\r\n}\r\n```\r\n\r\nWhen I run the bootRun in gradle I get this error:\r\n\r\n```\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.pragma.talento.trackingdashboardapi.infraestructure.feing.URLTechnicalTestFeign]: Factory method &#39;uRLTechnicalTestFeign&#39; threw exception; nested exception is java.lang.IllegalStateException: Method URLTechnicalTestFeign#getUrlCandidateTechnicalTest() not annotated with HTTP method type (ex. GET, POST)\r\n\r\nCaused by: java.lang.IllegalStateException: Method URLTechnicalTestFeign#getUrlCandidateTechnicalTest() not annotated with HTTP method type (ex. GET, POST)\r\n```\r\n\r\nHow can I solve this error?\r\n\r\nI have tried to change the url, even I reviewed if there was an issue in the feign impxlementation in gradle. The following is the implementation of the function:\r\n\r\n```\r\ncandidateRequest.setTestId(test.getTestId());\r\n\r\nString dynamicUrl = test.getTypeTest().getTestURL();\r\nURLTechnicalTestFeign dynamicUrlTechnicalTestFeign = urlTechnicalTestClientFeignFactory.createClient(dynamicUrl);\r\n\r\nurlCandidateResponse = dynamicUrlTechnicalTestFeign.getUrlCandidateTechnicalTest(candidateRequest);\r\n```","title":"Troubleshooting &#39;Method not annotated with HTTP method type&#39; error in Java Spring @FeignClient interface","body":"<p>I have created the following interface in Java, using the Spring annotations @FeignClient and @GetMapping:</p>\n<pre><code>@FeignClient(name = &quot;serviceTechnicalTest&quot;, url = &quot;${endpoints.url-technicalTest}&quot; , configuration = FeignRetryConfiguration.class)\npublic interface URLTechnicalTestFeign {\n    @GetMapping\n    UrlCandidateResponse getUrlCandidateTechnicalTest(@RequestBody UrlCandidateRequest urlCandidateRequest);\n}\n</code></pre>\n<p>When I run the bootRun in gradle I get this error:</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.pragma.talento.trackingdashboardapi.infraestructure.feing.URLTechnicalTestFeign]: Factory method 'uRLTechnicalTestFeign' threw exception; nested exception is java.lang.IllegalStateException: Method URLTechnicalTestFeign#getUrlCandidateTechnicalTest() not annotated with HTTP method type (ex. GET, POST)\n\nCaused by: java.lang.IllegalStateException: Method URLTechnicalTestFeign#getUrlCandidateTechnicalTest() not annotated with HTTP method type (ex. GET, POST)\n</code></pre>\n<p>How can I solve this error?</p>\n<p>I have tried to change the url, even I reviewed if there was an issue in the feign impxlementation in gradle. The following is the implementation of the function:</p>\n<pre><code>candidateRequest.setTestId(test.getTestId());\n\nString dynamicUrl = test.getTypeTest().getTestURL();\nURLTechnicalTestFeign dynamicUrlTechnicalTestFeign = urlTechnicalTestClientFeignFactory.createClient(dynamicUrl);\n\nurlCandidateResponse = dynamicUrlTechnicalTestFeign.getUrlCandidateTechnicalTest(candidateRequest);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685293599,"post_id":76352233,"comment_id":134638292,"body_markdown":"Too much change to post as an answer, but start with using generics to require that the value of the Node be Comparable and implement the `compareTo()` for a Movie class.","body":"Too much change to post as an answer, but start with using generics to require that the value of the Node be Comparable and implement the <code>compareTo()</code> for a Movie class."}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685327337,"creation_date":1685295979,"answer_id":76352806,"question_id":76352233,"body_markdown":"I think the issue is at the final `else` because you don&#39;t apply the alphabetical order when you check the `releaseDate`.\r\n\r\nTo unify the comparison in one place it is better to let the `Movie` class to implement `Comparable&lt;Movie&gt;` which defines a `compareTo` method, this will let you use the same conditions everywhere\r\n\r\n[Comparable](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html) marks the object that it can be compared with other objects based on the `compareTo` function which returns:\r\n- `0` if the two objects are equal\r\n- `negative number` if the first object is smaller than the second one\r\n- `positive number` if the first object is larger than the second one\r\n\r\nAnd in this function you can define your own logic of which fields you can compare\r\n```java\r\nclass Movie implements Comparable&lt;Movie&gt;{\r\n\r\n    ...\r\n\r\n    @Override\r\n    public int compareTo(Movie o) {\r\n      if (releaseDate &gt; o.releaseDate) {\r\n        return 1;\r\n      } else if (releaseDate &lt; o.releaseDate) {\r\n        return -1;\r\n      }\r\n      // Alphabetical order.\r\n      return movieName.compareTo(o.movieName);\r\n    }\r\n}\r\n```\r\n\r\nAnd to simplify the code a bit this is another version of your code:\r\n```java\r\npublic static Node sortedInsert(Node headRef, Node newNode) {\r\n    if (headRef == null) {\r\n      // No head then consider the new Node as the head\r\n      headRef = newNode;\r\n    } else if (headRef.movie.compareTo(newNode.movie) &gt; 0) {\r\n      // Insert at the start position  \r\n      newNode.next = headRef;\r\n      newNode.next.prev = newNode;\r\n      headRef = newNode;\r\n    } else {\r\n      // Search for the Node with movie &gt; newNode.movie\r\n      Node current = headRef;\r\n      while(current.next != null &amp;&amp; current.next.movie.compareTo(newNode.movie) &lt; 0) {\r\n        current = current.next;\r\n      }\r\n\r\n      newNode.next = current.next;\r\n      current.next = newNode;\r\n      newNode.prev = current;\r\n    }\r\n\r\n    return headRef;\r\n  }\r\n```\r\n\r\n```\r\n1997 Fast &amp; Furious\r\n1997 Titanic\r\n1999 The Matrix\r\n2014 Interstellar\r\n2014 The Hobbit: The Battle of the Five Armies\r\n```","title":"how to sort both numerically and alphabetically in a doubly linked list","body":"<p>I think the issue is at the final <code>else</code> because you don't apply the alphabetical order when you check the <code>releaseDate</code>.</p>\n<p>To unify the comparison in one place it is better to let the <code>Movie</code> class to implement <code>Comparable&lt;Movie&gt;</code> which defines a <code>compareTo</code> method, this will let you use the same conditions everywhere</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> marks the object that it can be compared with other objects based on the <code>compareTo</code> function which returns:</p>\n<ul>\n<li><code>0</code> if the two objects are equal</li>\n<li><code>negative number</code> if the first object is smaller than the second one</li>\n<li><code>positive number</code> if the first object is larger than the second one</li>\n</ul>\n<p>And in this function you can define your own logic of which fields you can compare</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Movie implements Comparable&lt;Movie&gt;{\n\n    ...\n\n    @Override\n    public int compareTo(Movie o) {\n      if (releaseDate &gt; o.releaseDate) {\n        return 1;\n      } else if (releaseDate &lt; o.releaseDate) {\n        return -1;\n      }\n      // Alphabetical order.\n      return movieName.compareTo(o.movieName);\n    }\n}\n</code></pre>\n<p>And to simplify the code a bit this is another version of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Node sortedInsert(Node headRef, Node newNode) {\n    if (headRef == null) {\n      // No head then consider the new Node as the head\n      headRef = newNode;\n    } else if (headRef.movie.compareTo(newNode.movie) &gt; 0) {\n      // Insert at the start position  \n      newNode.next = headRef;\n      newNode.next.prev = newNode;\n      headRef = newNode;\n    } else {\n      // Search for the Node with movie &gt; newNode.movie\n      Node current = headRef;\n      while(current.next != null &amp;&amp; current.next.movie.compareTo(newNode.movie) &lt; 0) {\n        current = current.next;\n      }\n\n      newNode.next = current.next;\n      current.next = newNode;\n      newNode.prev = current;\n    }\n\n    return headRef;\n  }\n</code></pre>\n<pre><code>1997 Fast &amp; Furious\n1997 Titanic\n1999 The Matrix\n2014 Interstellar\n2014 The Hobbit: The Battle of the Five Armies\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685638549,"creation_date":1685312391,"answer_id":76353803,"question_id":76352233,"body_markdown":"Some comments regarding your code:\r\n\r\n 1. You should add an outer container class to hold the head/tail references, and then make the insert method a non-static member.\r\n 1. You&#39;re doing your own string comparison, which is unnecessary - the String class already implements [Comparable][1] (and therefore has a [compareTo][2] method).\r\n 1. You should make your list type generic, so it can be used with any element type (i.e. not just Movies). It would also be advisable to make the ordering on the list configurable (by accepting a [Comparator][3] argument).\r\n 1. Double-linked lists are a bit tedious due to to having to handle insertion for the various edge case (empty list, one element list, value inserted at the head/tail). The implemention becomes much more simple if you add dummy nodes to mark the head and the tail of the list.\r\n\r\nBearing all of that in mind, then the list can be implemented as follows:\r\n\r\n    public class NodeList&lt;T&gt; {\r\n    \r\n        private static class Node&lt;T&gt; {\r\n            final T value;\r\n            Node&lt;T&gt; next;\r\n            Node&lt;T&gt; prev;\r\n    \r\n            private Node(T value, Node&lt;T&gt; next, Node&lt;T&gt; prev) {\r\n                this.value = value;\r\n                this.next = next;\r\n                this.prev = prev;\r\n    \r\n                next.prev = this;\r\n                prev.next = this;\r\n            }\r\n    \r\n            private Node() {\r\n                value = null;\r\n            }\r\n        }\r\n    \r\n        private final Comparator&lt;T&gt; comp;\r\n        private final Node&lt;T&gt; beforeHead = new Node&lt;&gt;();\r\n        private final Node&lt;T&gt; afterTail = new Node&lt;&gt;();\r\n    \r\n        public NodeList(Comparator&lt;T&gt; comp) {\r\n            this.comp = comp;\r\n            this.beforeHead.next = afterTail;\r\n            this.afterTail.prev = beforeHead;\r\n        }\r\n    \r\n        public void insert(T value) {\r\n            for (Node&lt;T&gt; node = beforeHead; node.next != afterTail; node = node.next) {\r\n                if (comp.compare(value, node.next.value) &lt; 0) {\r\n                    new Node&lt;T&gt;(value, node.next, node);\r\n                    return;\r\n                }\r\n            }\r\n    \r\n            new Node&lt;T&gt;(value, afterTail, afterTail.prev);\r\n        }\r\n    }\r\n\r\nTo test it it helps if we make it Iterable:\r\n\r\n    public class NodeList&lt;T&gt; implements Iterable&lt;T&gt; {\r\n\r\n        // as before.\r\n\r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return new Iterator&lt;T&gt;() {\r\n                Node&lt;T&gt; node = beforeHead.next;\r\n\r\n                @Override\r\n                public boolean hasNext() {\r\n                    return node != afterTail;\r\n                }\r\n\r\n                @Override\r\n                public T next() {\r\n                    final T value = node.value;\r\n                    node = node.next;\r\n                    return value;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nand then test it like this:\r\n\r\n    public static class Movie {\r\n        public final int year;\r\n        public final String name;\r\n\r\n        public Movie(int year, String name) {\r\n            this.year = year;\r\n            this.name = name;\r\n        }\r\n\r\n        public int year() { return year;}\r\n        public String name() { return name;}\r\n\r\n        public String toString() {\r\n            return year + &quot; &quot; + name;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final NodeList&lt;Movie&gt; movies = new NodeList&lt;&gt;(Comparator.comparing(Movie::year).thenComparing(Movie::name));\r\n        movies.insert(new Movie(1997, &quot;Titanic&quot;));\r\n        movies.insert(new Movie(1999, &quot;The Matrix&quot;));\r\n        movies.insert(new Movie(2014, &quot;The Hobbit: The Battle of the Five Armies&quot;));\r\n        movies.insert(new Movie(1997, &quot;Fast &amp; Furious&quot;));\r\n        movies.insert(new Movie(2014, &quot;Interstellar&quot;));\r\n\r\n        movies.forEach(System.out::println);\r\n    }\r\n\r\nwhich outputs the following:\r\n\r\n    1997 Fast &amp; Furious\r\n    1997 Titanic\r\n    1999 The Matrix\r\n    2014 Interstellar\r\n    2014 The Hobbit: The Battle of the Five Armies\r\n\r\nIt&#39;s probably worth noting that insertion sorts are relatively inefficient for anything oher than small lists.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"how to sort both numerically and alphabetically in a doubly linked list","body":"<p>Some comments regarding your code:</p>\n<ol>\n<li>You should add an outer container class to hold the head/tail references, and then make the insert method a non-static member.</li>\n<li>You're doing your own string comparison, which is unnecessary - the String class already implements <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> (and therefore has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\" rel=\"nofollow noreferrer\">compareTo</a> method).</li>\n<li>You should make your list type generic, so it can be used with any element type (i.e. not just Movies). It would also be advisable to make the ordering on the list configurable (by accepting a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> argument).</li>\n<li>Double-linked lists are a bit tedious due to to having to handle insertion for the various edge case (empty list, one element list, value inserted at the head/tail). The implemention becomes much more simple if you add dummy nodes to mark the head and the tail of the list.</li>\n</ol>\n<p>Bearing all of that in mind, then the list can be implemented as follows:</p>\n<pre><code>public class NodeList&lt;T&gt; {\n\n    private static class Node&lt;T&gt; {\n        final T value;\n        Node&lt;T&gt; next;\n        Node&lt;T&gt; prev;\n\n        private Node(T value, Node&lt;T&gt; next, Node&lt;T&gt; prev) {\n            this.value = value;\n            this.next = next;\n            this.prev = prev;\n\n            next.prev = this;\n            prev.next = this;\n        }\n\n        private Node() {\n            value = null;\n        }\n    }\n\n    private final Comparator&lt;T&gt; comp;\n    private final Node&lt;T&gt; beforeHead = new Node&lt;&gt;();\n    private final Node&lt;T&gt; afterTail = new Node&lt;&gt;();\n\n    public NodeList(Comparator&lt;T&gt; comp) {\n        this.comp = comp;\n        this.beforeHead.next = afterTail;\n        this.afterTail.prev = beforeHead;\n    }\n\n    public void insert(T value) {\n        for (Node&lt;T&gt; node = beforeHead; node.next != afterTail; node = node.next) {\n            if (comp.compare(value, node.next.value) &lt; 0) {\n                new Node&lt;T&gt;(value, node.next, node);\n                return;\n            }\n        }\n\n        new Node&lt;T&gt;(value, afterTail, afterTail.prev);\n    }\n}\n</code></pre>\n<p>To test it it helps if we make it Iterable:</p>\n<pre><code>public class NodeList&lt;T&gt; implements Iterable&lt;T&gt; {\n\n    // as before.\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return new Iterator&lt;T&gt;() {\n            Node&lt;T&gt; node = beforeHead.next;\n\n            @Override\n            public boolean hasNext() {\n                return node != afterTail;\n            }\n\n            @Override\n            public T next() {\n                final T value = node.value;\n                node = node.next;\n                return value;\n            }\n        };\n    }\n}\n</code></pre>\n<p>and then test it like this:</p>\n<pre><code>public static class Movie {\n    public final int year;\n    public final String name;\n\n    public Movie(int year, String name) {\n        this.year = year;\n        this.name = name;\n    }\n\n    public int year() { return year;}\n    public String name() { return name;}\n\n    public String toString() {\n        return year + &quot; &quot; + name;\n    }\n}\n\npublic static void main(String[] args) {\n    final NodeList&lt;Movie&gt; movies = new NodeList&lt;&gt;(Comparator.comparing(Movie::year).thenComparing(Movie::name));\n    movies.insert(new Movie(1997, &quot;Titanic&quot;));\n    movies.insert(new Movie(1999, &quot;The Matrix&quot;));\n    movies.insert(new Movie(2014, &quot;The Hobbit: The Battle of the Five Armies&quot;));\n    movies.insert(new Movie(1997, &quot;Fast &amp; Furious&quot;));\n    movies.insert(new Movie(2014, &quot;Interstellar&quot;));\n\n    movies.forEach(System.out::println);\n}\n</code></pre>\n<p>which outputs the following:</p>\n<pre><code>1997 Fast &amp; Furious\n1997 Titanic\n1999 The Matrix\n2014 Interstellar\n2014 The Hobbit: The Battle of the Five Armies\n</code></pre>\n<p>It's probably worth noting that insertion sorts are relatively inefficient for anything oher than small lists.</p>\n"}],"owner":{"account_id":28117488,"reputation":23,"user_id":21484318,"display_name":"Can"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76353803,"answer_count":2,"score":1,"last_activity_date":1685638549,"creation_date":1685287838,"question_id":76352233,"body_markdown":"I want to make a doubly linked list that works with a two step sorting algorithm, first of all, we have some movies on the list. These movies will be sorted by year in the list (each new data will be sorted as well), if the years are the same, those years will be sorted alphabetically.\r\n\r\n```\r\npublic static Node insertionSort(Node headRef) {\r\n\t\t\r\n\t    Node sorted = null;\r\n\r\n\t    Node current = headRef;\r\n\t    \r\n\t    while (current != null) {\r\n\t    \t\r\n\t        Node next = current.next;\r\n\r\n\t        current.prev = current.next = null;\r\n\t \r\n\t        sorted = sortedInsert(sorted, current);\r\n\t \r\n\t        current = next;\r\n\t    \t\r\n\t    }\r\n\t   \r\n\t    headRef = sorted;\r\n\t     \r\n\t    return headRef;\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\n\r\n```\r\npublic static Node sortedInsert(Node headRef, Node newNode) {\r\n\t\t\r\n\t\t Node current;\r\n\t\t \r\n\t\t if (headRef == null) {\r\n\t\t\t \r\n\t\t\t headRef = newNode; \r\n\t\t } else if ((headRef).movie.releaseDate &gt; newNode.movie.releaseDate) {\r\n\t\t\t \r\n\t\t\t newNode.next = headRef;\r\n\t\t\t newNode.next.prev = newNode;\r\n\t\t     headRef = newNode;\r\n\t\t     \r\n\t\t} else if ((headRef).movie.releaseDate == newNode.movie.releaseDate) {\r\n\r\n\t\t\r\n\t\t\tint i = 0;\r\n\t\t\tboolean permission = true;\r\n\t\t\t\r\n\t\t\tdo {\r\n\t\t\t\t\r\n\r\n\t\t\t\tchar character = headRef.movie.movieName.charAt(i);\r\n\t\t\t\tint value = character;\r\n\t\t\t\t\r\n\t\t\t\tchar character2 = newNode.movie.movieName.charAt(i);\r\n\t\t\t\tint value2 = character2;\r\n\t\t\t\t\r\n\t\t\t\tif(value &gt; value2) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t newNode.next = headRef;\r\n\t\t\t\t\t newNode.next.prev = newNode;\r\n\t\t\t\t     headRef = newNode;\r\n\t\t\t\t     \r\n\t\t\t\t     permission = false;\r\n\t\t\t\t\t\r\n\t\t\t\t} else if(value == value2) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\t\r\n\t\t\t\t} \r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} while(permission);\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t else {\r\n\t\t\t\r\n\t\t\tcurrent = headRef;\r\n\t\t\r\n\t\t    while (current.next != null &amp;&amp; current.next.movie.releaseDate &lt; newNode.movie.releaseDate)\r\n\t\t            current = current.next;\r\n\t\t\r\n\t\t    newNode.next = current.next;\r\n\r\n\t\t    if (current.next != null)\r\n\t\t    \tnewNode.next.prev = newNode;\r\n\t\t \r\n\t\t   current.next = newNode;\r\n\t\t   newNode.prev = current;\r\n\t\t   \r\n\t\t}\r\n\t\t    return headRef;\r\n\r\n\t}\r\n```\r\n\r\nFirst, I did some research on the internet, then I wrote two methods. actually the &quot;else if ((headRef).movie.releaseDate == newNode.movie.releaseDate)&quot; part of the method is mine. Before writing this section I was getting the following results.\r\n\r\n1997 Titanic\r\n\r\n1997 Fast &amp; Furious\r\n\r\n1999 The Matrix\r\n\r\n2014 The Hobbit: The Battle of the Five Armies\r\n\r\n2014 Interstellar\r\n\r\nAfter my correction, I got the following results.\r\n\r\n1997 Titanic\r\n\r\n1999 The Matrix\r\n\r\n2014 The Hobbit: The Battle of the Five Armies\r\n\r\n2014 Interstellar\r\n\r\nA movie disappeared and they are still not in alphabetical order. This is very difficult for me, I&#39;m new.What can I do to solve this.","title":"how to sort both numerically and alphabetically in a doubly linked list","body":"<p>I want to make a doubly linked list that works with a two step sorting algorithm, first of all, we have some movies on the list. These movies will be sorted by year in the list (each new data will be sorted as well), if the years are the same, those years will be sorted alphabetically.</p>\n<pre><code>public static Node insertionSort(Node headRef) {\n        \n        Node sorted = null;\n\n        Node current = headRef;\n        \n        while (current != null) {\n            \n            Node next = current.next;\n\n            current.prev = current.next = null;\n     \n            sorted = sortedInsert(sorted, current);\n     \n            current = next;\n            \n        }\n       \n        headRef = sorted;\n         \n        return headRef;\n        \n        \n    }\n</code></pre>\n<pre><code>public static Node sortedInsert(Node headRef, Node newNode) {\n        \n         Node current;\n         \n         if (headRef == null) {\n             \n             headRef = newNode; \n         } else if ((headRef).movie.releaseDate &gt; newNode.movie.releaseDate) {\n             \n             newNode.next = headRef;\n             newNode.next.prev = newNode;\n             headRef = newNode;\n             \n        } else if ((headRef).movie.releaseDate == newNode.movie.releaseDate) {\n\n        \n            int i = 0;\n            boolean permission = true;\n            \n            do {\n                \n\n                char character = headRef.movie.movieName.charAt(i);\n                int value = character;\n                \n                char character2 = newNode.movie.movieName.charAt(i);\n                int value2 = character2;\n                \n                if(value &gt; value2) {\n                    \n                     newNode.next = headRef;\n                     newNode.next.prev = newNode;\n                     headRef = newNode;\n                     \n                     permission = false;\n                    \n                } else if(value == value2) {\n                    i++;\n                    \n                } \n                \n                \n            } while(permission);\n        \n        }\n        \n         else {\n            \n            current = headRef;\n        \n            while (current.next != null &amp;&amp; current.next.movie.releaseDate &lt; newNode.movie.releaseDate)\n                    current = current.next;\n        \n            newNode.next = current.next;\n\n            if (current.next != null)\n                newNode.next.prev = newNode;\n         \n           current.next = newNode;\n           newNode.prev = current;\n           \n        }\n            return headRef;\n\n    }\n</code></pre>\n<p>First, I did some research on the internet, then I wrote two methods. actually the &quot;else if ((headRef).movie.releaseDate == newNode.movie.releaseDate)&quot; part of the method is mine. Before writing this section I was getting the following results.</p>\n<p>1997 Titanic</p>\n<p>1997 Fast &amp; Furious</p>\n<p>1999 The Matrix</p>\n<p>2014 The Hobbit: The Battle of the Five Armies</p>\n<p>2014 Interstellar</p>\n<p>After my correction, I got the following results.</p>\n<p>1997 Titanic</p>\n<p>1999 The Matrix</p>\n<p>2014 The Hobbit: The Battle of the Five Armies</p>\n<p>2014 Interstellar</p>\n<p>A movie disappeared and they are still not in alphabetical order. This is very difficult for me, I'm new.What can I do to solve this.</p>\n"},{"tags":["java","maven","intellij-idea","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1685646980,"post_id":76382013,"comment_id":134693632,"body_markdown":"So you are using IDEA to build the fat jar? Consider using Maven (cf. [this question](https://stackoverflow.com/q/75996306/11748454)) for this purpose. BTW: yes, removing `Log4j2Plugins.dat` file causes problems: you&#39;ll fallback to class scanning and you&#39;ll loose all plugins except those in `log4j-core`.","body":"So you are using IDEA to build the fat jar? Consider using Maven (cf. <a href=\"https://stackoverflow.com/q/75996306/11748454\">this question</a>) for this purpose. BTW: yes, removing <code>Log4j2Plugins.dat</code> file causes problems: you&#39;ll fallback to class scanning and you&#39;ll loose all plugins except those in <code>log4j-core</code>."}],"owner":{"account_id":28727459,"reputation":1,"user_id":22000056,"display_name":"BSP0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685638505,"creation_date":1685623539,"question_id":76382013,"body_markdown":"I am using IntelliJ IDEA and Maven. I am making a server application in JavaFX and wanted to use Log4j to display logs in the server console. When compiling the program in the IDE, everything works as expected, however when exporting it as an executable jar using an artifact build option, I get errors on startup: \r\n\r\n```\r\nERROR StatusLogger Unrecognized format specifier [d]\r\nERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [thread]\r\nERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [level]\r\nERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [logger]\r\nERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [msg]\r\nERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [n]\r\nERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [d]\r\nERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [thread]\r\nERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [level]\r\nERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [logger]\r\nERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [msg]\r\nERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [n]\r\nERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.\r\n```\r\nThe log file is not created and it looks like Log4j stops working entirely. Even removing the appender from log4j2.xml still causes the problem. Only complete removal of the plugin class allows the program to run correctly.\r\n\r\n\r\nThis is my log4j2.xml file:\r\n```\r\n&lt;Configuration xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot; packages=&quot;com.project.javapong&quot; status=&quot;info&quot;&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;full&quot;&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%-5level] [%t] %c{1} &gt; %msg%n&lt;/Property&gt;\r\n        &lt;Property name=&quot;compact&quot;&gt;[%d{HH:mm:ss.SSS}] [%-5level] [%t] %c{1} &gt; %msg%n&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${compact}&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;File&quot; fileName=&quot;latest.log&quot; filePattern=&quot;log-%d{yyyy-MM-dd}.log&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${full}&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;OnStartupTriggeringPolicy/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;ServerLog name=&quot;ServerLog&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${compact}&quot;/&gt;\r\n        &lt;/ServerLog&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;ServerLog&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nlog4j plugin class:\r\n```\r\npackage com.project.javapong;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.scene.text.Text;\r\nimport org.apache.logging.log4j.Level;\r\nimport org.apache.logging.log4j.core.Filter;\r\nimport org.apache.logging.log4j.core.Layout;\r\nimport org.apache.logging.log4j.core.LogEvent;\r\nimport org.apache.logging.log4j.core.appender.AbstractAppender;\r\nimport org.apache.logging.log4j.core.config.plugins.Plugin;\r\nimport org.apache.logging.log4j.core.config.plugins.PluginAttribute;\r\nimport org.apache.logging.log4j.core.config.plugins.PluginElement;\r\nimport org.apache.logging.log4j.core.config.plugins.PluginFactory;\r\nimport org.apache.logging.log4j.core.layout.PatternLayout;\r\nimport java.io.Serializable;\r\nimport static org.apache.logging.log4j.core.config.DefaultConfiguration.DEFAULT_PATTERN;\r\n\r\n@Plugin(name = &quot;ServerLog&quot;, category = &quot;Core&quot;, elementType = &quot;appender&quot;)\r\npublic class ServerLog extends AbstractAppender {\r\n\r\n    private ServerLog(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout) {\r\n        super(name, filter, layout, false);\r\n    }\r\n\r\n    @PluginFactory\r\n    public static ServerLog createAppender(\r\n            @PluginAttribute(&quot;name&quot;) String name,\r\n            @PluginElement(&quot;Filter&quot;) Filter filter,\r\n            @PluginElement(&quot;PatternLayout&quot;) PatternLayout patternLayout) {\r\n        Layout&lt;? extends Serializable&gt; layout = patternLayout != null ? patternLayout : PatternLayout.newBuilder().withPattern(DEFAULT_PATTERN).build();\r\n        return new ServerLog(name, filter, layout);\r\n    }\r\n\r\n    @Override\r\n    public void append(LogEvent event) {\r\n        if (GameApp.getServerUI() != null) {\r\n\r\n            Text text = new Text();\r\n            text.setStyle(&quot;-fx-fill: #FFFFFF;&quot;);\r\n            if (event.getLevel() == Level.WARN)\r\n                text.setStyle(&quot;-fx-fill: #f2dc13;&quot;);\r\n            else if (event.getLevel() == Level.ERROR)\r\n                text.setStyle(&quot;-fx-fill: #ad1f15;&quot;);\r\n            else if (event.getLevel() == Level.DEBUG)\r\n                text.setStyle(&quot;-fx-fill: #66f2cf;&quot;);\r\n            else if (event.getLevel() == Level.FATAL)\r\n                text.setStyle(&quot;-fx-fill: #661812;&quot;);\r\n\r\n            text.setText(new String(getLayout().toByteArray(event)) + System.lineSeparator());\r\n            Platform.runLater(() -&gt;  {\r\n                GameApp.getServerUI().logs.getChildren().add(text);\r\n                GameApp.getServerUI().logScroll.setVvalue(1.0);\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.project&lt;/groupId&gt;\r\n  &lt;artifactId&gt;JavaPong&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;JavaPong&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;      &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;17.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;17.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n      &lt;version&gt;17.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n                                    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n      &lt;type&gt;test-jar&lt;/type&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.10.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;17&lt;/source&gt;\r\n          &lt;target&gt;17&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n            &lt;id&gt;default-cli&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;com.project.javapong/com.project.javapong.GameApp&lt;/mainClass&gt;\r\n              &lt;launcher&gt;app&lt;/launcher&gt;\r\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have tried different versions of Log4j, changing the pattern format and minimizing the contents of the ServerLog class, but have not found any solution. What should I do to get around this problem?\r\n\r\n\r\nEDIT: I found that removing the \r\n\r\n``META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat`` file from the compiled jar file fixes the problem. However, I&#39;m not sure if this is a good solution and I&#39;m afraid it may cause other problems","title":"Log4j appender plugin &quot;ERROR StatusLogger Unrecognized format specifier&quot; when run from an executable jar","body":"<p>I am using IntelliJ IDEA and Maven. I am making a server application in JavaFX and wanted to use Log4j to display logs in the server console. When compiling the program in the IDE, everything works as expected, however when exporting it as an executable jar using an artifact build option, I get errors on startup:</p>\n<pre><code>ERROR StatusLogger Unrecognized format specifier [d]\nERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [thread]\nERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [level]\nERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [logger]\nERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [msg]\nERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [n]\nERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [d]\nERROR StatusLogger Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [thread]\nERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [level]\nERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [logger]\nERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [msg]\nERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.\nERROR StatusLogger Unrecognized format specifier [n]\nERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.\n</code></pre>\n<p>The log file is not created and it looks like Log4j stops working entirely. Even removing the appender from log4j2.xml still causes the problem. Only complete removal of the plugin class allows the program to run correctly.</p>\n<p>This is my log4j2.xml file:</p>\n<pre><code>&lt;Configuration xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot; packages=&quot;com.project.javapong&quot; status=&quot;info&quot;&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;full&quot;&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%-5level] [%t] %c{1} &gt; %msg%n&lt;/Property&gt;\n        &lt;Property name=&quot;compact&quot;&gt;[%d{HH:mm:ss.SSS}] [%-5level] [%t] %c{1} &gt; %msg%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${compact}&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;File&quot; fileName=&quot;latest.log&quot; filePattern=&quot;log-%d{yyyy-MM-dd}.log&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${full}&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;OnStartupTriggeringPolicy/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n        &lt;ServerLog name=&quot;ServerLog&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${compact}&quot;/&gt;\n        &lt;/ServerLog&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;File&quot; /&gt;\n            &lt;AppenderRef ref=&quot;ServerLog&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>log4j plugin class:</p>\n<pre><code>package com.project.javapong;\n\nimport javafx.application.Platform;\nimport javafx.scene.text.Text;\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.core.Filter;\nimport org.apache.logging.log4j.core.Layout;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.appender.AbstractAppender;\nimport org.apache.logging.log4j.core.config.plugins.Plugin;\nimport org.apache.logging.log4j.core.config.plugins.PluginAttribute;\nimport org.apache.logging.log4j.core.config.plugins.PluginElement;\nimport org.apache.logging.log4j.core.config.plugins.PluginFactory;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\nimport java.io.Serializable;\nimport static org.apache.logging.log4j.core.config.DefaultConfiguration.DEFAULT_PATTERN;\n\n@Plugin(name = &quot;ServerLog&quot;, category = &quot;Core&quot;, elementType = &quot;appender&quot;)\npublic class ServerLog extends AbstractAppender {\n\n    private ServerLog(String name, Filter filter, Layout&lt;? extends Serializable&gt; layout) {\n        super(name, filter, layout, false);\n    }\n\n    @PluginFactory\n    public static ServerLog createAppender(\n            @PluginAttribute(&quot;name&quot;) String name,\n            @PluginElement(&quot;Filter&quot;) Filter filter,\n            @PluginElement(&quot;PatternLayout&quot;) PatternLayout patternLayout) {\n        Layout&lt;? extends Serializable&gt; layout = patternLayout != null ? patternLayout : PatternLayout.newBuilder().withPattern(DEFAULT_PATTERN).build();\n        return new ServerLog(name, filter, layout);\n    }\n\n    @Override\n    public void append(LogEvent event) {\n        if (GameApp.getServerUI() != null) {\n\n            Text text = new Text();\n            text.setStyle(&quot;-fx-fill: #FFFFFF;&quot;);\n            if (event.getLevel() == Level.WARN)\n                text.setStyle(&quot;-fx-fill: #f2dc13;&quot;);\n            else if (event.getLevel() == Level.ERROR)\n                text.setStyle(&quot;-fx-fill: #ad1f15;&quot;);\n            else if (event.getLevel() == Level.DEBUG)\n                text.setStyle(&quot;-fx-fill: #66f2cf;&quot;);\n            else if (event.getLevel() == Level.FATAL)\n                text.setStyle(&quot;-fx-fill: #661812;&quot;);\n\n            text.setText(new String(getLayout().toByteArray(event)) + System.lineSeparator());\n            Platform.runLater(() -&gt;  {\n                GameApp.getServerUI().logs.getChildren().add(text);\n                GameApp.getServerUI().logScroll.setVvalue(1.0);\n            });\n        }\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.project&lt;/groupId&gt;\n  &lt;artifactId&gt;JavaPong&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;JavaPong&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;      &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;17.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;17.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n      &lt;version&gt;17.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n                                    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n      &lt;type&gt;test-jar&lt;/type&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;17&lt;/source&gt;\n          &lt;target&gt;17&lt;/target&gt;\n        &lt;/configuration&gt;\n            &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n            &lt;id&gt;default-cli&lt;/id&gt;\n            &lt;configuration&gt;\n              &lt;mainClass&gt;com.project.javapong/com.project.javapong.GameApp&lt;/mainClass&gt;\n              &lt;launcher&gt;app&lt;/launcher&gt;\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n          &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried different versions of Log4j, changing the pattern format and minimizing the contents of the ServerLog class, but have not found any solution. What should I do to get around this problem?</p>\n<p>EDIT: I found that removing the</p>\n<p><code>META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat</code> file from the compiled jar file fixes the problem. However, I'm not sure if this is a good solution and I'm afraid it may cause other problems</p>\n"},{"tags":["java","apache-spark","hadoop","hadoop-yarn"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685638545,"post_id":76384105,"comment_id":134691945,"body_markdown":"Those are warnings, not errors. They should not prevent the execution.","body":"Those are warnings, not errors. They should not prevent the execution."},{"owner":{"account_id":16932064,"reputation":11,"user_id":12246054,"display_name":"Ramc_26"},"score":0,"creation_date":1685640145,"post_id":76384105,"comment_id":134692246,"body_markdown":"Ohhh Yeah, those are warnings. My bad !\nBut still I&#39;m unable to go to next step. I&#39;m executing &quot;hdfs dfs -mkdir /data&quot; command on my mac terminal. But it&#39;s giving me the warning &quot;2023-06-01 12:15:20,090 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nmkdir: `/data&#39;: Input/output error&quot; instead of creating the directory.","body":"Ohhh Yeah, those are warnings. My bad ! But still I&#39;m unable to go to next step. I&#39;m executing &quot;hdfs dfs -mkdir /data&quot; command on my mac terminal. But it&#39;s giving me the warning &quot;2023-06-01 12:15:20,090 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable mkdir: `/data&#39;: Input/output error&quot; instead of creating the directory."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685640673,"post_id":76384105,"comment_id":134692354,"body_markdown":"https://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning","body":"<a href=\"https://stackoverflow.com/questions/19943766/hadoop-unable-to-load-native-hadoop-library-for-your-platform-warning\" title=\"hadoop unable to load native hadoop library for your platform warning\">stackoverflow.com/questions/19943766/&hellip;</a>"}],"owner":{"account_id":16932064,"reputation":11,"user_id":12246054,"display_name":"Ramc_26"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685638267,"creation_date":1685638267,"question_id":76384105,"body_markdown":"Here is the error Log I&#39;m seeing on my screen when I execute start-dfs.sh file by changing into Hadoop installed location:\r\n\r\n**(base) ramc@Rams-MBP ~ % start-dfs.sh** \r\n\r\nStarting namenodes on [Rams-MBP.attlocal.net]\r\nRams-MBP.attlocal.net: WARNING: /opt/homebrew/Cellar/hadoop/3.3.4/libexec/logs does not exist.\r\n \r\nCreating.\r\nStarting datanodes\r\n\r\nStarting secondary namenodes [Rams-MBP.attlocal.net]\r\n\r\n2023-06-01 11:47:52,074 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n\r\n\r\nI&#39;ve tried starting hadoop manually and also using start-dfs command but nothing works. I set Export and path in .bash_profile sucessfully.","title":"Issue with starting hadoop using &quot;start-dfs&quot; command on MacBook M1 and tried running &quot;start-dfs.sh&quot; file manually but it is giving following errors","body":"<p>Here is the error Log I'm seeing on my screen when I execute start-dfs.sh file by changing into Hadoop installed location:</p>\n<p><strong>(base) ramc@Rams-MBP ~ % start-dfs.sh</strong></p>\n<p>Starting namenodes on [Rams-MBP.attlocal.net]\nRams-MBP.attlocal.net: WARNING: /opt/homebrew/Cellar/hadoop/3.3.4/libexec/logs does not exist.</p>\n<p>Creating.\nStarting datanodes</p>\n<p>Starting secondary namenodes [Rams-MBP.attlocal.net]</p>\n<p>2023-06-01 11:47:52,074 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable</p>\n<p>I've tried starting hadoop manually and also using start-dfs command but nothing works. I set Export and path in .bash_profile sucessfully.</p>\n"},{"tags":["java","apache-kafka","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685637634,"creation_date":1685637634,"answer_id":76384041,"question_id":76383957,"body_markdown":"The `KafkaMessageDrivenChannelAdapter` has an option:\r\n\r\n\t/**\r\n\t * Set the message converter to use with a record-based consumer.\r\n\t * @param messageConverter the converter.\r\n\t */\r\n\tpublic void setRecordMessageConverter(RecordMessageConverter messageConverter) {\r\n\r\nWhere you can set a `MessagingMessageConverter` with:\r\n\r\n\t/**\r\n\t * Generate {@link Message} {@code ids} for produced messages. If set to {@code false},\r\n\t * will try to use a default value. By default set to {@code false}.\r\n\t * @param generateMessageId true if a message id should be generated\r\n\t */\r\n\tpublic void setGenerateMessageId(boolean generateMessageId) {\r\n\t\tthis.generateMessageId = generateMessageId;\r\n\t}\r\n\r\n\t/**\r\n\t * Generate {@code timestamp} for produced messages. If set to {@code false}, -1 is\r\n\t * used instead. By default set to {@code false}.\r\n\t * @param generateTimestamp true if a timestamp should be generated\r\n\t */\r\n\tpublic void setGenerateTimestamp(boolean generateTimestamp) {\r\n\t\tthis.generateTimestamp = generateTimestamp;\r\n\t}\r\n\r\nset to `true`.\r\n\r\nThis way the `Message` created from a `ConsumerRecord` will have respective `id` and `timestamp` headers.\r\n\r\nYou also simply can have a &quot;dummy&quot; transformer to return incoming payload and the framework will create a new `Message` where those headers are generated.","title":"How to set ID header in Spring Integration Kafka Message?","body":"<p>The <code>KafkaMessageDrivenChannelAdapter</code> has an option:</p>\n<pre><code>/**\n * Set the message converter to use with a record-based consumer.\n * @param messageConverter the converter.\n */\npublic void setRecordMessageConverter(RecordMessageConverter messageConverter) {\n</code></pre>\n<p>Where you can set a <code>MessagingMessageConverter</code> with:</p>\n<pre><code>/**\n * Generate {@link Message} {@code ids} for produced messages. If set to {@code false},\n * will try to use a default value. By default set to {@code false}.\n * @param generateMessageId true if a message id should be generated\n */\npublic void setGenerateMessageId(boolean generateMessageId) {\n    this.generateMessageId = generateMessageId;\n}\n\n/**\n * Generate {@code timestamp} for produced messages. If set to {@code false}, -1 is\n * used instead. By default set to {@code false}.\n * @param generateTimestamp true if a timestamp should be generated\n */\npublic void setGenerateTimestamp(boolean generateTimestamp) {\n    this.generateTimestamp = generateTimestamp;\n}\n</code></pre>\n<p>set to <code>true</code>.</p>\n<p>This way the <code>Message</code> created from a <code>ConsumerRecord</code> will have respective <code>id</code> and <code>timestamp</code> headers.</p>\n<p>You also simply can have a &quot;dummy&quot; transformer to return incoming payload and the framework will create a new <code>Message</code> where those headers are generated.</p>\n"}],"owner":{"account_id":2422232,"reputation":2985,"user_id":2114952,"accept_rate":71,"display_name":"Oleksandr H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76384041,"answer_count":1,"score":1,"last_activity_date":1685637634,"creation_date":1685636890,"question_id":76383957,"body_markdown":"I have a demo Spring Integration project which is receiving Kafka messages, aggregating them, and then releasing them. I&#39;m trying to add `JdbcMessageStore` to the project. The problem is that it failing with error:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Cannot store messages without an ID header\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.integration.jdbc.store.JdbcMessageStore.addMessage(JdbcMessageStore.java:314) ~[spring-integration-jdbc-5.3.8.RELEASE.jar:5.3.8.RELEASE]\r\n```\r\n\r\nAfter debugging I found that it requires the UUID header `id` in this message. But the problem is that I can&#39;t manually set the Kafka header id - it is forbidden (the same as `timestamp` header) - I tried to do this in Kafka producer in different project.\r\n\r\nIf I&#39;m using IDEA plugin named `Big Data Tools` and send a message from there I&#39;m able to set `id` header but it is received by my project as an array of bytes and it is failing with error \r\n\r\n```\r\nIllegalArgumentException Incorrect type specified for header &#39;id&#39;. Expected [UUID] but actual type is [B]\r\n```\r\nI can&#39;t find any solution on how to resolve this issue. I need to set somehow this `id` header to be able to store messages in the database.\r\nThanks in advance\r\n\r\n\r\n\r\n\r\n","title":"How to set ID header in Spring Integration Kafka Message?","body":"<p>I have a demo Spring Integration project which is receiving Kafka messages, aggregating them, and then releasing them. I'm trying to add <code>JdbcMessageStore</code> to the project. The problem is that it failing with error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Cannot store messages without an ID header\n    at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.integration.jdbc.store.JdbcMessageStore.addMessage(JdbcMessageStore.java:314) ~[spring-integration-jdbc-5.3.8.RELEASE.jar:5.3.8.RELEASE]\n</code></pre>\n<p>After debugging I found that it requires the UUID header <code>id</code> in this message. But the problem is that I can't manually set the Kafka header id - it is forbidden (the same as <code>timestamp</code> header) - I tried to do this in Kafka producer in different project.</p>\n<p>If I'm using IDEA plugin named <code>Big Data Tools</code> and send a message from there I'm able to set <code>id</code> header but it is received by my project as an array of bytes and it is failing with error</p>\n<pre><code>IllegalArgumentException Incorrect type specified for header 'id'. Expected [UUID] but actual type is [B]\n</code></pre>\n<p>I can't find any solution on how to resolve this issue. I need to set somehow this <code>id</code> header to be able to store messages in the database.\nThanks in advance</p>\n"},{"tags":["java","performance","java-threads"],"comments":[{"owner":{"account_id":5543478,"reputation":1188,"user_id":4399071,"accept_rate":50,"display_name":"Badr B"},"score":0,"creation_date":1685635244,"post_id":76383684,"comment_id":134691289,"body_markdown":"What exactly are you writing to? Keep in mind that race conditions and other issues can arise if you&#39;re sharing memory between threads without taking the proper precautions.","body":"What exactly are you writing to? Keep in mind that race conditions and other issues can arise if you&#39;re sharing memory between threads without taking the proper precautions."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685635486,"post_id":76383684,"comment_id":134691360,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example). Probably no one knows what writeASICRatio() is and if it is safe-thread, even if the symptoms indicate it isn&#39;t.","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Probably no one knows what writeASICRatio() is and if it is safe-thread, even if the symptoms indicate it isn&#39;t."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1685637693,"post_id":76383684,"comment_id":134691803,"body_markdown":"First, does it work when you only use one thread?  Second, why are you using multiple threads?  Third, how do you know `writeCmdASIC()` is thread-safe?  Fourth, what does `writeCmdASIC()` do?  You still haven&#39;t provided a complete example.","body":"First, does it work when you only use one thread?  Second, why are you using multiple threads?  Third, how do you know <code>writeCmdASIC()</code> is thread-safe?  Fourth, what does <code>writeCmdASIC()</code> do?  You still haven&#39;t provided a complete example."},{"owner":{"account_id":11166560,"reputation":1,"user_id":8195059,"display_name":"R.Lerma"},"score":0,"creation_date":1685638355,"post_id":76383684,"comment_id":134691915,"body_markdown":"OK @AndrewHenle\n1. It works without threads if I put the 8 functions one after another.\n2. I am using multiple threads because I need to shorten the writing time of 8 sensors, as I explained above, it takes me 2 minutes to execute each writeAsicRatio() function, each function equals one sensor, in this case it would take me 16 minutes for the 8 sensors, there is no problem here, the problem is that the structure can be reproduced up to 192 sensors and if it takes me 2 minutes for each one, it would take a total of approximately 6 hours to execute all of them.","body":"OK @AndrewHenle 1. It works without threads if I put the 8 functions one after another. 2. I am using multiple threads because I need to shorten the writing time of 8 sensors, as I explained above, it takes me 2 minutes to execute each writeAsicRatio() function, each function equals one sensor, in this case it would take me 16 minutes for the 8 sensors, there is no problem here, the problem is that the structure can be reproduced up to 192 sensors and if it takes me 2 minutes for each one, it would take a total of approximately 6 hours to execute all of them."},{"owner":{"account_id":11166560,"reputation":1,"user_id":8195059,"display_name":"R.Lerma"},"score":0,"creation_date":1685638374,"post_id":76383684,"comment_id":134691919,"body_markdown":"3. Information is being lost when I run all the threads, that&#39;s why I made this post, to know how to fix it.\n4. WriteCMDAsic() is a function that writes a command to a PLC, the PLC answers in 10 milliseconds and I get an answer.","body":"3. Information is being lost when I run all the threads, that&#39;s why I made this post, to know how to fix it. 4. WriteCMDAsic() is a function that writes a command to a PLC, the PLC answers in 10 milliseconds and I get an answer."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1685640634,"post_id":76383684,"comment_id":134692345,"body_markdown":"@R.Lerma And you have yet to answer how you know *all* of the calls you make to write to the PLC are thread-safe and how you know multiple threads writing to the PLC at the same time can work without corrupting data.","body":"@R.Lerma And you have yet to answer how you know <i>all</i> of the calls you make to write to the PLC are thread-safe and how you know multiple threads writing to the PLC at the same time can work without corrupting data."},{"owner":{"account_id":11166560,"reputation":1,"user_id":8195059,"display_name":"R.Lerma"},"score":0,"creation_date":1685641876,"post_id":76383684,"comment_id":134692630,"body_markdown":"I call the command to the plc through the jamod-1.2 library, I don&#39;t know if it&#39;s safe for threads, your second question, I don&#39;t know if it can work without damaging the data, with the answers I&#39;m getting it&#39;s obvious that information is lost , but I don&#39;t know what extra functionality to use so that this doesn&#39;t happen.","body":"I call the command to the plc through the jamod-1.2 library, I don&#39;t know if it&#39;s safe for threads, your second question, I don&#39;t know if it can work without damaging the data, with the answers I&#39;m getting it&#39;s obvious that information is lost , but I don&#39;t know what extra functionality to use so that this doesn&#39;t happen."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685728856,"post_id":76383684,"comment_id":134707039,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":11166560,"reputation":1,"user_id":8195059,"display_name":"R.Lerma"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685637374,"creation_date":1685634630,"question_id":76383684,"body_markdown":"I have a problem\r\nCurrently I have a function in JAVA that writes 8 simultaneous threads, it has to be that way because each writeCmd function takes around 2 minutes, (if I write 1 by 1 it would take me 16 minutes to write all of them). The problem is, when it writes it only does well with one and sometimes with anyone (there&#39;s missing information) and I don&#39;t know what is happening. When I run it individually it works without problems.\r\n\r\nAttached image of structure and code. Any ideas?\r\n\r\n[enter image description here](https://i.stack.imgur.com/XIZSm.png)\r\n\r\n\r\n```\r\nThread thread0 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 0);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n                        \r\n                        Thread thread1 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 1);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n                        \r\n                        Thread thread2 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 2);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n                        \r\n                        Thread thread3 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 3);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n                        \r\n                        Thread thread4 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 4);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n                        \r\n                        Thread thread5 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 5);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n                        \r\n                        Thread thread6 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 6);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n                        \r\n                        Thread thread7 = new Thread(() -&gt; {\r\n                            try {\r\n                                writeASICRatio(modbusClientTmp, manID, 7);\r\n                            } catch (Exception ex) {\r\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\r\n                            }\r\n                        });\r\n\r\n                        \r\n                        // Start both threads\r\n                        thread0.start();\r\n                        thread1.start();\r\n                        thread2.start();\r\n                        thread3.start();\r\n                        thread4.start();\r\n                        thread5.start();\r\n                        thread6.start();\r\n                        thread7.start();\r\n                        \r\n                        //Note: Wait for both threads to complete\r\n                        try\r\n                        {\r\n                            thread0.join();\r\n                            thread1.join();\r\n                            thread2.join();\r\n                            thread3.join();\r\n                            thread4.join();\r\n                            thread5.join();\r\n                            thread6.join();\r\n                            thread7.join();\r\n                        }\r\n                        catch(InterruptedException ex)\r\n                        {\r\n                            ex.printStackTrace();\r\n                        } \r\n```\r\n\r\n\r\n\r\nInside the writeASICRatio function, 128 commands with different data are written to a PLC, and this PLC gives me the answer after 10 milliseconds. This is an example: \r\n\r\n    //Note: Start command mode\r\n        //Note: ON - WRITE - SIZE = 3 - Value[0] = 0x72, Value[1] = 0xF5, Value[2] = 0xA2\r\n        writeCmdASIC(sID, (short) 1, (short) 0, 3, &quot;72&quot;, &quot;F5&quot;, &quot;A2&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, \r\n                                mClient, 0);\r\n\r\n        //Note: Write read start command mode.\r\n        //Note: ON - READ - SIZE = 1 - Value = 0        \r\n        writeCmdASIC(sID, (short)1, (short)1, 1, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, mClient, 0);\r\n\r\n        //Note: Read return of start command mode.\r\n        responseData = Integer.parseInt(main.getValDataA().getValueAt(sID, 0).toString());\r\n\r\n        if (responseData == 72)\r\n        {\r\n            //Note: Do nothing\r\n        }\r\n        else\r\n        {\r\n            message += &quot;M&quot; + manID + &quot;S&quot; + sID + &quot;.Start command mode not received correctly. Aborting calibration mode... &lt;br&gt;&quot;;\r\n            return &quot;&quot;;\r\n        }\r\n\r\nHere I write a command with those parameters (72, F5, A2), then I write a read command, and the read is automatically reflected in a table, I take the value from the table that matches 72 in that case and that&#39;s it. That command is for verification, the other 128 are write only.","title":"Loss of data in simultaneous threads (JAVA)","body":"<p>I have a problem\nCurrently I have a function in JAVA that writes 8 simultaneous threads, it has to be that way because each writeCmd function takes around 2 minutes, (if I write 1 by 1 it would take me 16 minutes to write all of them). The problem is, when it writes it only does well with one and sometimes with anyone (there's missing information) and I don't know what is happening. When I run it individually it works without problems.</p>\n<p>Attached image of structure and code. Any ideas?</p>\n<p><a href=\"https://i.stack.imgur.com/XIZSm.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>Thread thread0 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 0);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n                        \n                        Thread thread1 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 1);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n                        \n                        Thread thread2 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 2);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n                        \n                        Thread thread3 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 3);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n                        \n                        Thread thread4 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 4);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n                        \n                        Thread thread5 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 5);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n                        \n                        Thread thread6 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 6);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n                        \n                        Thread thread7 = new Thread(() -&gt; {\n                            try {\n                                writeASICRatio(modbusClientTmp, manID, 7);\n                            } catch (Exception ex) {\n                                Logger.getLogger(MainCalibration.class.getName()).log(Level.SEVERE, null, ex);\n                            }\n                        });\n\n                        \n                        // Start both threads\n                        thread0.start();\n                        thread1.start();\n                        thread2.start();\n                        thread3.start();\n                        thread4.start();\n                        thread5.start();\n                        thread6.start();\n                        thread7.start();\n                        \n                        //Note: Wait for both threads to complete\n                        try\n                        {\n                            thread0.join();\n                            thread1.join();\n                            thread2.join();\n                            thread3.join();\n                            thread4.join();\n                            thread5.join();\n                            thread6.join();\n                            thread7.join();\n                        }\n                        catch(InterruptedException ex)\n                        {\n                            ex.printStackTrace();\n                        } \n</code></pre>\n<p>Inside the writeASICRatio function, 128 commands with different data are written to a PLC, and this PLC gives me the answer after 10 milliseconds. This is an example:</p>\n<pre><code>//Note: Start command mode\n    //Note: ON - WRITE - SIZE = 3 - Value[0] = 0x72, Value[1] = 0xF5, Value[2] = 0xA2\n    writeCmdASIC(sID, (short) 1, (short) 0, 3, &quot;72&quot;, &quot;F5&quot;, &quot;A2&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, \n                            mClient, 0);\n\n    //Note: Write read start command mode.\n    //Note: ON - READ - SIZE = 1 - Value = 0        \n    writeCmdASIC(sID, (short)1, (short)1, 1, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, mClient, 0);\n\n    //Note: Read return of start command mode.\n    responseData = Integer.parseInt(main.getValDataA().getValueAt(sID, 0).toString());\n\n    if (responseData == 72)\n    {\n        //Note: Do nothing\n    }\n    else\n    {\n        message += &quot;M&quot; + manID + &quot;S&quot; + sID + &quot;.Start command mode not received correctly. Aborting calibration mode... &lt;br&gt;&quot;;\n        return &quot;&quot;;\n    }\n</code></pre>\n<p>Here I write a command with those parameters (72, F5, A2), then I write a read command, and the read is automatically reflected in a table, I take the value from the table that matches 72 in that case and that's it. That command is for verification, the other 128 are write only.</p>\n"},{"tags":["java","string","time-complexity","big-o"],"comments":[{"owner":{"account_id":1708800,"reputation":15001,"user_id":1567281,"display_name":"mash"},"score":0,"creation_date":1402265822,"post_id":24111433,"comment_id":37195817,"body_markdown":"Optimal string concat would be `O(1)`.  So you can assume inside the for loop it&#39;s `O(1)`, making the whole thing `O(n)` where `n={size of words}`","body":"Optimal string concat would be <code>O(1)</code>.  So you can assume inside the for loop it&#39;s <code>O(1)</code>, making the whole thing <code>O(n)</code> where <code>n={size of words}</code>"},{"owner":{"account_id":165234,"reputation":136753,"user_id":388520,"accept_rate":51,"display_name":"zwol"},"score":1,"creation_date":1402265907,"post_id":24111433,"comment_id":37195840,"body_markdown":"It is either amortized O(n), or O(n&#178;), depending on details of the `String` implementation.  Since you haven&#39;t even told us which programming language this is, never mind which String you are using, we cannot be more specific.","body":"It is either amortized O(n), or O(n&#178;), depending on details of the <code>String</code> implementation.  Since you haven&#39;t even told us which programming language this is, never mind which String you are using, we cannot be more specific."},{"owner":{"account_id":165234,"reputation":136753,"user_id":388520,"accept_rate":51,"display_name":"zwol"},"score":0,"creation_date":1402265977,"post_id":24111433,"comment_id":37195859,"body_markdown":"@Mash The best case for concatenating two strings is O(n), not O(1), because you must at a minimum read each character of both strings and write them all to new memory locations.","body":"@Mash The best case for concatenating two strings is O(n), not O(1), because you must at a minimum read each character of both strings and write them all to new memory locations."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1402266175,"post_id":24111433,"comment_id":37195907,"body_markdown":"@Zack: Not necessarily; one could imagine an implementation where the target string is just a list of pointers to individual components.  (However, this is clearly Java code, so that&#39;s not the case!)","body":"@Zack: Not necessarily; one could imagine an implementation where the target string is just a list of pointers to individual components.  (However, this is clearly Java code, so that&#39;s not the case!)"},{"owner":{"account_id":165234,"reputation":136753,"user_id":388520,"accept_rate":51,"display_name":"zwol"},"score":0,"creation_date":1402267257,"post_id":24111433,"comment_id":37196218,"body_markdown":"@OliCharlesworth I&#39;ve seen libraries like that, but they usually hesitate to call themselves _string_ libraries (the preferred term seems to be &quot;rope&quot;), and come with dire warnings about pathological corner-case behavior...","body":"@OliCharlesworth I&#39;ve seen libraries like that, but they usually hesitate to call themselves <i>string</i> libraries (the preferred term seems to be &quot;rope&quot;), and come with dire warnings about pathological corner-case behavior..."},{"owner":{"display_name":"user719662"},"score":0,"creation_date":1570647389,"post_id":24111433,"comment_id":102982571,"body_markdown":"Possible duplicate of [How to find time complexity of an algorithm](https://stackoverflow.com/questions/11032015/how-to-find-time-complexity-of-an-algorithm)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11032015/how-to-find-time-complexity-of-an-algorithm\">How to find time complexity of an algorithm</a>"}],"answers":[{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1570648926,"creation_date":1402266517,"answer_id":24111546,"question_id":24111433,"body_markdown":"Assuming that the cost of string concatenation is O(r + s) for two strings of lengths r and s - which historically was the case in Java [but may change going forward](https://openjdk.java.net/jeps/280) - the runtime would be O(mn), where n is the total number of characters in the input strings and m is the number of input strings.\n\nTo see this, note that if the string lengths are n1, n2, ..., n_m, then the runtime will be\n\n&gt;   n1 + (n1 + n2) + (n1 + n2 + n3) + ... + (n1 + n2 + ... + n_m)\n&gt;\n&gt;   = m(n_1) + (m - 1)(n_2) + (m - 2)(n-3) + ... + n_m\n&gt;\n&gt;   = m(n_1 + n_2 + ... + n_m) - n_2 - 2n_3 - 3n_4 - ... - (m - 1)n_m\n\nSubject to the constraint that n_1 + ... + n_m = n, this is maximized when n_1 = n and all the other values are 0. In that case, the runtime becomes mn, so the runtime is O(mn).","title":"Time complexity of simple string concatenation","body":"<p>Assuming that the cost of string concatenation is O(r + s) for two strings of lengths r and s - which historically was the case in Java <a href=\"https://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">but may change going forward</a> - the runtime would be O(mn), where n is the total number of characters in the input strings and m is the number of input strings.</p>\n<p>To see this, note that if the string lengths are n1, n2, ..., n_m, then the runtime will be</p>\n<blockquote>\n<p>n1 + (n1 + n2) + (n1 + n2 + n3) + ... + (n1 + n2 + ... + n_m)</p>\n<p>= m(n_1) + (m - 1)(n_2) + (m - 2)(n-3) + ... + n_m</p>\n<p>= m(n_1 + n_2 + ... + n_m) - n_2 - 2n_3 - 3n_4 - ... - (m - 1)n_m</p>\n</blockquote>\n<p>Subject to the constraint that n_1 + ... + n_m = n, this is maximized when n_1 = n and all the other values are 0. In that case, the runtime becomes mn, so the runtime is O(mn).</p>\n"}],"owner":{"account_id":2768665,"reputation":750,"user_id":2383728,"accept_rate":53,"display_name":"redandblue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3756,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1685637256,"creation_date":1402265743,"question_id":24111433,"body_markdown":"     \r\nWhat is the cost of the following method. How do you calculate it?\r\n\r\n    public String joinWords(String[] words) {\r\n        String sentence = &quot;&quot;;\r\n        for (String w : words) {\r\n            sentence = sentence + word;\r\n        }\r\n        return sentence;\r\n    }","title":"Time complexity of simple string concatenation","body":"<p>What is the cost of the following method. How do you calculate it?</p>\n\n<pre><code>public String joinWords(String[] words) {\n    String sentence = \"\";\n    for (String w : words) {\n        sentence = sentence + word;\n    }\n    return sentence;\n}\n</code></pre>\n"},{"tags":["java","android","libgdx","box2d"],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685637200,"creation_date":1685637200,"answer_id":76383994,"question_id":76380819,"body_markdown":"You can get multiple contacts and this leads to you deleting the same object twice. Deleting the same object twice in box2D causes the native lib to crash because it uses pooling internally.\r\n\r\nFortunately You can check if your ```bodiestodestroy``` contains duplicates and if it does replace with a ```Set```.","title":"Fatal signal 11 (SIGSEGV) when I destroy a few bodies LibGDX","body":"<p>You can get multiple contacts and this leads to you deleting the same object twice. Deleting the same object twice in box2D causes the native lib to crash because it uses pooling internally.</p>\n<p>Fortunately You can check if your <code>bodiestodestroy</code> contains duplicates and if it does replace with a <code>Set</code>.</p>\n"}],"owner":{"account_id":28066899,"reputation":1,"user_id":21440164,"display_name":"ognevo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685637200,"creation_date":1685614097,"question_id":76380819,"body_markdown":"After destroying a few bodies I get this: \r\n\r\n    Fatal signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x71929823b800 in tid 13461 (GLThread 46), pid 13432 (com.mygdx.game)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A  Cmdline: com.mygdx.game\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A  pid: 13432, tid: 13461, name: GLThread 46  &gt;&gt;&gt; com.mygdx.game &lt;&lt;&lt;\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #00 pc 0000000000036958  /data/app/~~Kbde8VLpHehJDoH_wtbk9g==/com.mygdx.game-a7HrSt4SXhSXonRVircwDQ==/lib/x86_64/libgdx-box2d.so (b2BlockAllocator::Allocate(int)+72) (BuildId: 718b99a1c37cd23164f86ef804f0169668c31984)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #01 pc 000000000001b04d  /data/app/~~Kbde8VLpHehJDoH_wtbk9g==/com.mygdx.game-a7HrSt4SXhSXonRVircwDQ==/lib/x86_64/libgdx-box2d.so (b2World::CreateBody(b2BodyDef const*)+29) (BuildId: 718b99a1c37cd23164f86ef804f0169668c31984)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #02 pc 0000000000037580  /data/app/~~Kbde8VLpHehJDoH_wtbk9g==/com.mygdx.game-a7HrSt4SXhSXonRVircwDQ==/lib/x86_64/libgdx-box2d.so (Java_com_badlogic_gdx_physics_box2d_World_jniCreateBody+160) (BuildId: 718b99a1c37cd23164f86ef804f0169668c31984)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #05 pc 000000000016ad5c  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.badlogic.gdx.physics.box2d.World.createBody+128)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #07 pc 000000000024981a  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Stuff.Bullet.createCircleBody+46)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #09 pc 00000000002498fa  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Stuff.Bullet.&lt;init&gt;+102)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #11 pc 0000000000249418  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Guns.Ak.shoot+144)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #13 pc 000000000024951c  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Guns.Ak.update+200)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #15 pc 000000000024a1e4  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Screens.GameScreen.gameUpdate+76)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #17 pc 000000000024a6ee  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Screens.GameScreen.render+50)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #19 pc 00000000000bf6f0  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.badlogic.gdx.Game.render+20)\r\n    2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #21 pc 00000000000df452  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.badlogic.gdx.backends.android.AndroidGraphics.onDrawFrame+454)\r\n\r\nI have no idea what went wrong.\r\n\r\nGamescreen class where I render, make step:\r\n```\r\npublic GameScreen(Main main){\r\n        this.main = main;\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n        world.step(1 / 45f, 6, 2);\r\n\r\n        Gdx.gl.glClearColor(1,0,1,1);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n        gameUpdate(delta);\r\n        main.shapeRenderer.setProjectionMatrix(main.camera.combined);\r\n        main.camera.position.set(player.body.getPosition().x * PPM, player.body.getPosition().y * PPM, 0);\r\n        main.camera.update();\r\n\r\n        //MAP RENDERING\r\n        mapRenderer.setView(main.camera);\r\n        mapRenderer.render();\r\n        b2dr.render(world, new Matrix4(main.camera.combined).scl(PPM));\r\n        Main.batch.setProjectionMatrix(main.camera.combined);\r\n        Main.batch.begin();\r\n        gameRender(Main.batch);\r\n        Main.batch.end();\r\n\r\n\r\n\r\n        //STAGE DRAW\r\n        Main.stage.act(delta);\r\n        Main.stage.draw();\r\n\r\n        main.shapeRenderer.begin(ShapeRenderer.ShapeType.Filled);\r\n        main.shapeRenderer.setColor(Color.GRAY);\r\n        for (int i = 0; i &lt; bullets.size; i++) {\r\n            main.shapeRenderer.circle(bullets.get(i).position.x, bullets.get(i).position.y, bullets.get(i).size);\r\n        }\r\n        main.shapeRenderer.end();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n        main.camera.viewportWidth = width;\r\n        main.camera.viewportHeight = height;\r\n        main.camera.update();\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n        map.dispose();\r\n        mapRenderer.dispose();\r\n        main.dispose();\r\n    }\r\n    public void gameRender(SpriteBatch batch) {\r\n        //PLAYER ROTATION\r\n        if (joystickL.direction.angleDeg() != 0) angle = joystickL.direction.angleDeg();\r\n        if (joystickR.direction.angleDeg() != 0) angle = joystickR.direction.angleDeg();\r\n        player.img.setRotation(angle);\r\n\r\n        ammo_view.update(player);\r\n\r\n\r\n        //ENEMY ROTATION\r\n        for(int i = 0; i &lt; enemies.size; i++) {\r\n            enemies.get(i).img.setRotation(enemies.get(i).direction.angleDeg());\r\n            enemies.get(i).draw(batch);\r\n        }\r\n        player.draw(batch);\r\n    }\r\n\r\n    private void sweepDeadBodies() {\r\n        world.getBodies(bodiesToDestroy);\r\n        Iterator&lt;Body&gt; i = bodiesToDestroy.iterator();\r\n        Body node=i.next();\r\n        while (i.hasNext()) {\r\n            Body oBj=node;\r\n            node=i.next(); String data = (String) oBj.getUserData();\r\n            if(data!=null &amp;&amp; data.equals(&quot;delete&quot;)){\r\n                world.destroyBody(oBj);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void gameUpdate(float delta) {\r\n\r\n        Gdx.app.postRunnable(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                sweepDeadBodies();\r\n            }\r\n        });\r\n\r\n        player.update();\r\n        player.setDirection(joystickL.direction);\r\n        player.gun.update(joystickR);\r\n        for (int i = 0; i &lt; enemies.size; i++) {\r\n            //enemies.get(i).player_detection(player);\r\n            enemies.get(i).update();\r\n            enemies.get(i).handgun.update(joystickR);\r\n\r\n        }\r\n        for (int i = 0; i &lt; bullets.size; i++) {\r\n            //bullets.get(i).direction.rotateDeg(bullets.get(i).direction.angleDeg() + (float)getRandomDoubleBetweenRange(-10, 10));\r\n            bullets.get(i).update();\r\n        }\r\n\r\n        if (player.gun.isFire &amp;&amp; player.gun.ammo &gt; 0) {\r\n            if (Rumble.getRumbleTimeLeft() &gt; 0) {\r\n                Rumble.tick(delta);\r\n                main.camera.translate(Rumble.getPos());\r\n            }\r\n        }\r\n    }\r\n```\r\nContactListener:\r\n\r\n```\r\n    public Array&lt;Body&gt; bodiesToDestroy = new Array&lt;Body&gt;();\r\n\r\n    @Override\r\n    public void beginContact(Contact contact) {\r\n        Fixture fa = contact.getFixtureA();\r\n        Fixture fb = contact.getFixtureB();\r\n        if(fa == null || fb == null) System.out.println(&quot;no fixture&quot;);\r\n        if(fa.getBody() == null || fb.getBody() == null) System.out.println(&quot;no body&quot;);\r\n        if(fa.getBody().getUserData() == null || fb.getBody().getUserData() == null) System.out.println(&quot;no data&quot;);\r\n        hit_wall_bullet(fa, fb);\r\n    }\r\n\r\n    @Override\r\n    public void endContact(Contact contact) {\r\n        Fixture fa = contact.getFixtureA();\r\n        Fixture fb = contact.getFixtureB();\r\n        if(fa == null || fb == null) System.out.println(&quot;no fixture at the end&quot;);\r\n        if(fa.getBody() == null || fb.getBody() == null) System.out.println(&quot;no body at the end&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void preSolve(Contact contact, Manifold manifold) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void postSolve(Contact contact, ContactImpulse contactImpulse) {\r\n\r\n    }\r\n    private void hit_wall_bullet(Fixture a, Fixture b) {\r\n        if ((a.getFilterData().categoryBits == BIT_WALL || b.getFilterData().categoryBits == BIT_WALL) &amp;&amp; (a.getFilterData().categoryBits == BIT_BULLET || b.getFilterData().categoryBits == BIT_BULLET)) {\r\n            //Body toRemove = a.getBody().getType() == BodyDef.BodyType.DynamicBody ? a.getBody() : b.getBody();\r\n            //bodiesToDestroy.add(toRemove);\r\n            if (a.getFilterData().categoryBits == BIT_BULLET) a.getBody().setUserData(&quot;delete&quot;);\r\n            if (b.getFilterData().categoryBits == BIT_BULLET) b.getBody().setUserData(&quot;delete&quot;);\r\n\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI would like to solve that rediculous error","title":"Fatal signal 11 (SIGSEGV) when I destroy a few bodies LibGDX","body":"<p>After destroying a few bodies I get this:</p>\n<pre><code>Fatal signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x71929823b800 in tid 13461 (GLThread 46), pid 13432 (com.mygdx.game)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A  Cmdline: com.mygdx.game\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A  pid: 13432, tid: 13461, name: GLThread 46  &gt;&gt;&gt; com.mygdx.game &lt;&lt;&lt;\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #00 pc 0000000000036958  /data/app/~~Kbde8VLpHehJDoH_wtbk9g==/com.mygdx.game-a7HrSt4SXhSXonRVircwDQ==/lib/x86_64/libgdx-box2d.so (b2BlockAllocator::Allocate(int)+72) (BuildId: 718b99a1c37cd23164f86ef804f0169668c31984)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #01 pc 000000000001b04d  /data/app/~~Kbde8VLpHehJDoH_wtbk9g==/com.mygdx.game-a7HrSt4SXhSXonRVircwDQ==/lib/x86_64/libgdx-box2d.so (b2World::CreateBody(b2BodyDef const*)+29) (BuildId: 718b99a1c37cd23164f86ef804f0169668c31984)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #02 pc 0000000000037580  /data/app/~~Kbde8VLpHehJDoH_wtbk9g==/com.mygdx.game-a7HrSt4SXhSXonRVircwDQ==/lib/x86_64/libgdx-box2d.so (Java_com_badlogic_gdx_physics_box2d_World_jniCreateBody+160) (BuildId: 718b99a1c37cd23164f86ef804f0169668c31984)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #05 pc 000000000016ad5c  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.badlogic.gdx.physics.box2d.World.createBody+128)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #07 pc 000000000024981a  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Stuff.Bullet.createCircleBody+46)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #09 pc 00000000002498fa  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Stuff.Bullet.&lt;init&gt;+102)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #11 pc 0000000000249418  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Guns.Ak.shoot+144)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #13 pc 000000000024951c  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Gunstuff.Guns.Ak.update+200)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #15 pc 000000000024a1e4  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Screens.GameScreen.gameUpdate+76)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #17 pc 000000000024a6ee  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.mygdx.game.Screens.GameScreen.render+50)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #19 pc 00000000000bf6f0  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.badlogic.gdx.Game.render+20)\n2023-06-01 14:38:19.069 13486-13486 DEBUG                   pid-13486                            A        #21 pc 00000000000df452  /data/data/com.mygdx.game/code_cache/.overlay/base.apk/classes.dex (com.badlogic.gdx.backends.android.AndroidGraphics.onDrawFrame+454)\n</code></pre>\n<p>I have no idea what went wrong.</p>\n<p>Gamescreen class where I render, make step:</p>\n<pre><code>public GameScreen(Main main){\n        this.main = main;\n    }\n\n    @Override\n    public void render(float delta) {\n        world.step(1 / 45f, 6, 2);\n\n        Gdx.gl.glClearColor(1,0,1,1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        gameUpdate(delta);\n        main.shapeRenderer.setProjectionMatrix(main.camera.combined);\n        main.camera.position.set(player.body.getPosition().x * PPM, player.body.getPosition().y * PPM, 0);\n        main.camera.update();\n\n        //MAP RENDERING\n        mapRenderer.setView(main.camera);\n        mapRenderer.render();\n        b2dr.render(world, new Matrix4(main.camera.combined).scl(PPM));\n        Main.batch.setProjectionMatrix(main.camera.combined);\n        Main.batch.begin();\n        gameRender(Main.batch);\n        Main.batch.end();\n\n\n\n        //STAGE DRAW\n        Main.stage.act(delta);\n        Main.stage.draw();\n\n        main.shapeRenderer.begin(ShapeRenderer.ShapeType.Filled);\n        main.shapeRenderer.setColor(Color.GRAY);\n        for (int i = 0; i &lt; bullets.size; i++) {\n            main.shapeRenderer.circle(bullets.get(i).position.x, bullets.get(i).position.y, bullets.get(i).size);\n        }\n        main.shapeRenderer.end();\n\n    }\n\n    @Override\n    public void resize(int width, int height) {\n        main.camera.viewportWidth = width;\n        main.camera.viewportHeight = height;\n        main.camera.update();\n    }\n\n    @Override\n    public void dispose() {\n        map.dispose();\n        mapRenderer.dispose();\n        main.dispose();\n    }\n    public void gameRender(SpriteBatch batch) {\n        //PLAYER ROTATION\n        if (joystickL.direction.angleDeg() != 0) angle = joystickL.direction.angleDeg();\n        if (joystickR.direction.angleDeg() != 0) angle = joystickR.direction.angleDeg();\n        player.img.setRotation(angle);\n\n        ammo_view.update(player);\n\n\n        //ENEMY ROTATION\n        for(int i = 0; i &lt; enemies.size; i++) {\n            enemies.get(i).img.setRotation(enemies.get(i).direction.angleDeg());\n            enemies.get(i).draw(batch);\n        }\n        player.draw(batch);\n    }\n\n    private void sweepDeadBodies() {\n        world.getBodies(bodiesToDestroy);\n        Iterator&lt;Body&gt; i = bodiesToDestroy.iterator();\n        Body node=i.next();\n        while (i.hasNext()) {\n            Body oBj=node;\n            node=i.next(); String data = (String) oBj.getUserData();\n            if(data!=null &amp;&amp; data.equals(&quot;delete&quot;)){\n                world.destroyBody(oBj);\n            }\n        }\n    }\n\n    public void gameUpdate(float delta) {\n\n        Gdx.app.postRunnable(new Runnable() {\n            @Override\n            public void run() {\n                sweepDeadBodies();\n            }\n        });\n\n        player.update();\n        player.setDirection(joystickL.direction);\n        player.gun.update(joystickR);\n        for (int i = 0; i &lt; enemies.size; i++) {\n            //enemies.get(i).player_detection(player);\n            enemies.get(i).update();\n            enemies.get(i).handgun.update(joystickR);\n\n        }\n        for (int i = 0; i &lt; bullets.size; i++) {\n            //bullets.get(i).direction.rotateDeg(bullets.get(i).direction.angleDeg() + (float)getRandomDoubleBetweenRange(-10, 10));\n            bullets.get(i).update();\n        }\n\n        if (player.gun.isFire &amp;&amp; player.gun.ammo &gt; 0) {\n            if (Rumble.getRumbleTimeLeft() &gt; 0) {\n                Rumble.tick(delta);\n                main.camera.translate(Rumble.getPos());\n            }\n        }\n    }\n</code></pre>\n<p>ContactListener:</p>\n<pre><code>    public Array&lt;Body&gt; bodiesToDestroy = new Array&lt;Body&gt;();\n\n    @Override\n    public void beginContact(Contact contact) {\n        Fixture fa = contact.getFixtureA();\n        Fixture fb = contact.getFixtureB();\n        if(fa == null || fb == null) System.out.println(&quot;no fixture&quot;);\n        if(fa.getBody() == null || fb.getBody() == null) System.out.println(&quot;no body&quot;);\n        if(fa.getBody().getUserData() == null || fb.getBody().getUserData() == null) System.out.println(&quot;no data&quot;);\n        hit_wall_bullet(fa, fb);\n    }\n\n    @Override\n    public void endContact(Contact contact) {\n        Fixture fa = contact.getFixtureA();\n        Fixture fb = contact.getFixtureB();\n        if(fa == null || fb == null) System.out.println(&quot;no fixture at the end&quot;);\n        if(fa.getBody() == null || fb.getBody() == null) System.out.println(&quot;no body at the end&quot;);\n    }\n\n    @Override\n    public void preSolve(Contact contact, Manifold manifold) {\n\n    }\n\n    @Override\n    public void postSolve(Contact contact, ContactImpulse contactImpulse) {\n\n    }\n    private void hit_wall_bullet(Fixture a, Fixture b) {\n        if ((a.getFilterData().categoryBits == BIT_WALL || b.getFilterData().categoryBits == BIT_WALL) &amp;&amp; (a.getFilterData().categoryBits == BIT_BULLET || b.getFilterData().categoryBits == BIT_BULLET)) {\n            //Body toRemove = a.getBody().getType() == BodyDef.BodyType.DynamicBody ? a.getBody() : b.getBody();\n            //bodiesToDestroy.add(toRemove);\n            if (a.getFilterData().categoryBits == BIT_BULLET) a.getBody().setUserData(&quot;delete&quot;);\n            if (b.getFilterData().categoryBits == BIT_BULLET) b.getBody().setUserData(&quot;delete&quot;);\n\n        }\n    }\n</code></pre>\n<p>I would like to solve that rediculous error</p>\n"},{"tags":["java","jsp-tags","tomcat9","scriptlet"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685638207,"post_id":76383975,"comment_id":134691890,"body_markdown":"How do you build your project?","body":"How do you build your project?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685638546,"post_id":76383975,"comment_id":134691946,"body_markdown":"What result do you expect from the java method? Do you need it to be called to get some data onto page context? Or respond to a user button click?","body":"What result do you expect from the java method? Do you need it to be called to get some data onto page context? Or respond to a user button click?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685639035,"post_id":76383975,"comment_id":134692048,"body_markdown":"You don&#39;t import java source files. Your `import` statement could be correct, but your *class* file should be under WEB-INF/classes","body":"You don&#39;t import java source files. Your <code>import</code> statement could be correct, but your <i>class</i> file should be under WEB-INF/classes"},{"owner":{"account_id":28729658,"reputation":1,"user_id":22001890,"display_name":"Learner"},"score":0,"creation_date":1685641641,"post_id":76383975,"comment_id":134692570,"body_markdown":"Let me add some more context. I am developing a html page which contains a button. Upon clicking on the button, it should trigger the JSP which inturn should call the java method.","body":"Let me add some more context. I am developing a html page which contains a button. Upon clicking on the button, it should trigger the JSP which inturn should call the java method."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685641751,"post_id":76383975,"comment_id":134692598,"body_markdown":"This doesn&#39;t work like that. JSP is a server side rendering, it already happened and finished when user clicks a button on HTML page. You need to make a network call from HTML page to server to execute some java code.","body":"This doesn&#39;t work like that. JSP is a server side rendering, it already happened and finished when user clicks a button on HTML page. You need to make a network call from HTML page to server to execute some java code."},{"owner":{"account_id":28729658,"reputation":1,"user_id":22001890,"display_name":"Learner"},"score":0,"creation_date":1685641869,"post_id":76383975,"comment_id":134692627,"body_markdown":"The idea is to place these html, jsp and java files on Tomcat server although not sure what should be the folder structure of this and where these files should be placed. Once placed and start the server, I should be able to access the html page which should trigger jsp and inturn call java method. PS: I am new to web development.","body":"The idea is to place these html, jsp and java files on Tomcat server although not sure what should be the folder structure of this and where these files should be placed. Once placed and start the server, I should be able to access the html page which should trigger jsp and inturn call java method. PS: I am new to web development."},{"owner":{"account_id":28729658,"reputation":1,"user_id":22001890,"display_name":"Learner"},"score":0,"creation_date":1685642875,"post_id":76383975,"comment_id":134692836,"body_markdown":"Can you give a quick glimpse on how its done?","body":"Can you give a quick glimpse on how its done?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685987218,"post_id":76383975,"comment_id":134734755,"body_markdown":"This is too broad of a question. You need to read some books/guides on java web development basics... and looks like on java development in general.","body":"This is too broad of a question. You need to read some books/guides on java web development basics... and looks like on java development in general."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685987303,"post_id":76383975,"comment_id":134734786,"body_markdown":"You don&#39;t just &quot;place jsp and java files on Tomcat&quot;, you need to deploy a web application in certain format. You need to get some idea about jsp, servlets and maven to begin with.","body":"You don&#39;t just &quot;place jsp and java files on Tomcat&quot;, you need to deploy a web application in certain format. You need to get some idea about jsp, servlets and maven to begin with."}],"owner":{"account_id":28729658,"reputation":1,"user_id":22001890,"display_name":"Learner"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685637016,"creation_date":1685637016,"question_id":76383975,"body_markdown":"I&#39;ve a use case to access a java method from a JSP file placed on Tomcat server. \r\nI created a package &quot;myCode&quot; within webapps folder and placed both java source file &quot;myJava&quot; and jsp file &quot;myJsp&quot; inside it.\r\nBut when I&#39;ve tried importing the file using &lt;%@ page import=&quot;myCode.myJava&quot;%&gt;, I&#39;m getting &quot;The import myCode cannot be resolved&quot;. Anything missed from my side? Appreciate your help on this. Thanks\r\n\r\n Expecting to call the java method from JSP file","title":"Access a Java method from JSP file placed on Tomcat server","body":"<p>I've a use case to access a java method from a JSP file placed on Tomcat server.\nI created a package &quot;myCode&quot; within webapps folder and placed both java source file &quot;myJava&quot; and jsp file &quot;myJsp&quot; inside it.\nBut when I've tried importing the file using &lt;%@ page import=&quot;myCode.myJava&quot;%&gt;, I'm getting &quot;The import myCode cannot be resolved&quot;. Anything missed from my side? Appreciate your help on this. Thanks</p>\n<p>Expecting to call the java method from JSP file</p>\n"},{"tags":["java","windows","maven","ansi-escape"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685640849,"post_id":76383973,"comment_id":134692393,"body_markdown":"*does Maven emulate a unix terminal while running or something?* I think the (too) simple answer to that is, yes. I think this will be via its logging framework and fusesource `JAnsi`. I don&#39;t do Maven with Windows so can&#39;t say for certain","body":"<i>does Maven emulate a unix terminal while running or something?</i> I think the (too) simple answer to that is, yes. I think this will be via its logging framework and fusesource <code>JAnsi</code>. I don&#39;t do Maven with Windows so can&#39;t say for certain"}],"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685637014,"creation_date":1685637014,"question_id":76383973,"body_markdown":"I have been making a game in java, and the game is just text based in the terminal using sys.out, so I learned about using ansi escape characters to add colouring to the text to make it more readable. Additionally, the project was created with Maven, as there was a library I wanted to use that was only available through Maven, but now that I gotten further in the project I realize the library will not be needed.\r\n\r\nI thought that if I don&#39;t need Maven, I can just create the project without it just with the normal JDK tools like javac and then java to run it. I also wanted to do this because a lot of Unicode character don&#39;t print properly when running the program with Maven (im not sure why as when I make a test program without Maven these characters print just fine), so this would allow me more options for the graphics of the game as I could use character beyond just the basic ascii set. The issue is when I compile and run the program without Maven, the ansi escape character don&#39;t colour the text, but are instead printed literally.\r\n\r\nHere is it when run with Maven:\r\n[![How it displays in Maven](https://i.stack.imgur.com/b0El0.png)](https://i.stack.imgur.com/b0El0.png)\r\n\r\nAnd this is it just with plain Java:\r\n[![How it displays when just run with Java](https://i.stack.imgur.com/eBkhp.png)](https://i.stack.imgur.com/eBkhp.png)\r\n\r\nThis isn&#39;t a very big issue to me as I had already resigned myself to just using basic ascii and Maven, but I was moreso just curious why this happens. I have read that ansi may not work in Windows at all (?), but then that just makes me more confused as to why it was working with Maven. does Maven emulate a unix terminal while running or something?","title":"Why are ANSI escape sequences only printing properly in Maven and not otherwise","body":"<p>I have been making a game in java, and the game is just text based in the terminal using sys.out, so I learned about using ansi escape characters to add colouring to the text to make it more readable. Additionally, the project was created with Maven, as there was a library I wanted to use that was only available through Maven, but now that I gotten further in the project I realize the library will not be needed.</p>\n<p>I thought that if I don't need Maven, I can just create the project without it just with the normal JDK tools like javac and then java to run it. I also wanted to do this because a lot of Unicode character don't print properly when running the program with Maven (im not sure why as when I make a test program without Maven these characters print just fine), so this would allow me more options for the graphics of the game as I could use character beyond just the basic ascii set. The issue is when I compile and run the program without Maven, the ansi escape character don't colour the text, but are instead printed literally.</p>\n<p>Here is it when run with Maven:\n<a href=\"https://i.stack.imgur.com/b0El0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b0El0.png\" alt=\"How it displays in Maven\" /></a></p>\n<p>And this is it just with plain Java:\n<a href=\"https://i.stack.imgur.com/eBkhp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eBkhp.png\" alt=\"How it displays when just run with Java\" /></a></p>\n<p>This isn't a very big issue to me as I had already resigned myself to just using basic ascii and Maven, but I was moreso just curious why this happens. I have read that ansi may not work in Windows at all (?), but then that just makes me more confused as to why it was working with Maven. does Maven emulate a unix terminal while running or something?</p>\n"},{"tags":["java","eclipse","path","filesystems","absolute-path"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685633265,"post_id":76383470,"comment_id":134690771,"body_markdown":"Because execution directory is not the same as project directory.","body":"Because execution directory is not the same as project directory."},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685633302,"post_id":76383470,"comment_id":134690779,"body_markdown":"@aled thanks, is there any way to change execution directory?","body":"@aled thanks, is there any way to change execution directory?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685633353,"post_id":76383470,"comment_id":134690800,"body_markdown":"You should explain why and that is probably a different question.","body":"You should explain why and that is probably a different question."},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685633486,"post_id":76383470,"comment_id":134690842,"body_markdown":"@aled I want to write an image into the project&#39;s folder\n`ImageIO.write(subimage, &quot;jpg&quot;, new File(&quot;D:/WorkSpace/PuzzleApp/PuzzleApp/src/main/webapp/subimages/subimage_&quot; + counter + &quot;.jpg&quot;));` works, but (&quot;webapp/subimages/subimage&quot;); doesn&#39;t","body":"@aled I want to write an image into the project&#39;s folder <code>ImageIO.write(subimage, &quot;jpg&quot;, new File(&quot;D:&#47;WorkSpace&#47;PuzzleApp&#47;PuzzleApp&#47;src&#47;main&#47;webapp&#47;subim&zwnj;&#8203;ages&#47;subimage_&quot; + counter + &quot;.jpg&quot;));</code> works, but (&quot;webapp/subimages/subimage&quot;); doesn&#39;t"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685633600,"post_id":76383470,"comment_id":134690864,"body_markdown":"*@aled I want to write an image into the project&#39;s folder* You don&#39;t. Real software doesn&#39;t care about IDEs and projects. You need to write to *some location*. That location is best placed off the user&#39;s home directory","body":"<i>@aled I want to write an image into the project&#39;s folder</i> You don&#39;t. Real software doesn&#39;t care about IDEs and projects. You need to write to <i>some location</i>. That location is best placed off the user&#39;s home directory"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685633601,"post_id":76383470,"comment_id":134690865,"body_markdown":"You should not use the project directory at execution time.","body":"You should not use the project directory at execution time."},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685633699,"post_id":76383470,"comment_id":134690894,"body_markdown":"@g00se so, what&#39;s I need to do? write the image to something like D:/WorkSpace/PuzzleApp or how to correctly set the path","body":"@g00se so, what&#39;s I need to do? write the image to something like D:/WorkSpace/PuzzleApp or how to correctly set the path"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1685633730,"post_id":76383470,"comment_id":134690910,"body_markdown":"Do not have your application create files in your project directory. If your application needs to create files either have the user choose a destination for those files or create a profile directory in the corresponding operating system specific location. E.g. on Windows, you would want to write to `C:\\Users\\&lt;username&gt;\\AppData\\Roaming\\&lt;companyname&gt;\\&lt;applicationname&gt;`.","body":"Do not have your application create files in your project directory. If your application needs to create files either have the user choose a destination for those files or create a profile directory in the corresponding operating system specific location. E.g. on Windows, you would want to write to <code>C:\\Users\\&lt;username&gt;\\AppData\\Roaming\\&lt;companyname&gt;\\&lt;applicati&zwnj;&#8203;onname&gt;</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685633800,"post_id":76383470,"comment_id":134690926,"body_markdown":"@pure21_h Imagine if all software required you to have the exact directory structure the developer has, including the src code. Option 1: Write relative to the current folder (e.g. the current working directory) Option 2: Write relative to the user&#39;s home folder (`System.getProperty(&quot;user.home&quot;)`) Option 3: Write relative to some environment variable (`System.getenv(&quot;OUTFOLDER&quot;)`) Option 4: Do it your way, because it&#39;s &quot;easier&quot;","body":"@pure21_h Imagine if all software required you to have the exact directory structure the developer has, including the src code. Option 1: Write relative to the current folder (e.g. the current working directory) Option 2: Write relative to the user&#39;s home folder (<code>System.getProperty(&quot;user.home&quot;)</code>) Option 3: Write relative to some environment variable (<code>System.getenv(&quot;OUTFOLDER&quot;)</code>) Option 4: Do it your way, because it&#39;s &quot;easier&quot;"},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685633845,"post_id":76383470,"comment_id":134690938,"body_markdown":"@ThomasBehr alright thanks, the problem is I am struggling to get the images from directory like u wrote, because JSP wants exactly webapp/images/image.jpg path","body":"@ThomasBehr alright thanks, the problem is I am struggling to get the images from directory like u wrote, because JSP wants exactly webapp/images/image.jpg path"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1685633996,"post_id":76383470,"comment_id":134690970,"body_markdown":"What is JSP? And what has &quot;JSP **wants** ...&quot; to do with **writing** files? &quot;JSP wants ...&quot; means to me &quot;JSP wants to **read**&quot;. What is the purpose of those images you were trying to create?","body":"What is JSP? And what has &quot;JSP <b>wants</b> ...&quot; to do with <b>writing</b> files? &quot;JSP wants ...&quot; means to me &quot;JSP wants to <b>read</b>&quot;. What is the purpose of those images you were trying to create?"},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685634000,"post_id":76383470,"comment_id":134690971,"body_markdown":"@ElliottFrisch thank you, but I need this images to display on my JSP page and I am not sure I could get it from that","body":"@ElliottFrisch thank you, but I need this images to display on my JSP page and I am not sure I could get it from that"},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685634100,"post_id":76383470,"comment_id":134691000,"body_markdown":"@ThomasBehr yes, for the beginning I create these images and then I display them on the JSP page - home.jsp in this way `img scr = &#39;images/image_1&#39;`","body":"@ThomasBehr yes, for the beginning I create these images and then I display them on the JSP page - home.jsp in this way <code>img scr = &#39;images&#47;image_1&#39;</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685634217,"post_id":76383470,"comment_id":134691034,"body_markdown":"So it turns out you want to write static files dynamically ;)","body":"So it turns out you want to write static files dynamically ;)"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1685634248,"post_id":76383470,"comment_id":134691046,"body_markdown":"Are these images *static application resources*? In that case, create those static images, save them to any directory you want, then move them into the resources directory of your project. Do **not** have your application create the images.","body":"Are these images <i>static application resources</i>? In that case, create those static images, save them to any directory you want, then move them into the resources directory of your project. Do <b>not</b> have your application create the images."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685634281,"post_id":76383470,"comment_id":134691055,"body_markdown":"Write a servlet to read (and display) the images from the configured folder. You&#39;ve posted code that does not seem particularly relevant to your actual question.","body":"Write a servlet to read (and display) the images from the configured folder. You&#39;ve posted code that does not seem particularly relevant to your actual question."},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1685634427,"post_id":76383470,"comment_id":134691096,"body_markdown":"@ThomasBehr my program should split a given image into sub-images. and display them on the jsp page","body":"@ThomasBehr my program should split a given image into sub-images. and display them on the jsp page"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1685634597,"post_id":76383470,"comment_id":134691138,"body_markdown":"Ok, then you need to either split the input image *in memory* and display the resulting sub-images without writing those sub-images to files or you need to write the sub-images to a directory *on the server* to which your JSP page has read access. The latter is more or less what @ElliottFrisch suggested.","body":"Ok, then you need to either split the input image <i>in memory</i> and display the resulting sub-images without writing those sub-images to files or you need to write the sub-images to a directory <i>on the server</i> to which your JSP page has read access. The latter is more or less what @ElliottFrisch suggested."}],"answers":[{"tags":[],"owner":{"account_id":24307437,"reputation":61,"user_id":18249973,"display_name":"herman2lv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685636936,"creation_date":1685636936,"answer_id":76383965,"question_id":76383470,"body_markdown":"When you open File with relative path `&quot;.&quot;` this path is relative to the current process&#39; working directory.\r\nUsually, the process working directory is inherited from the parent process (e.g. if you run your app with Terminal - the current terminal&#39;s working directory will be your process&#39; working dir).\r\n\r\nUsing a relative path inside your application is considered a bad idea because you can not control this process&#39; working directory.\r\nBut using an absolute hardcoded path also goes with some problems and can&#39;t be called a good practice.\r\n\r\nThere are several ways to solve the issue:\r\n1. Use a path relative to some NOT hardcoded absolute path. This absolute path should be externalized to environment variables, properties files, etc.\r\n```\r\n//Getting the directory path from the external system variable\r\nString myAbsoultePath = System.getenv(&quot;LOCAL_STORAGE_DIR&quot;);\r\n```\r\n2. Use a path relative to your application root. It allows you to READ files even located inside .jar or .war archives.\r\n```\r\n//This path looks absolute, but the path&#39;s root is your project&#39;s root\r\nInputStream stream = MyClass.class.getResourceAsStream(&quot;/dir/another/file.txt&quot;);\r\n```\r\nBut you should understand, that your application won&#39;t run inside your IDE project folder. It will be deployed in a production server/user&#39;s desktop/android device environment and usually, it is packed in a jar/war/ear/... archive. It means that you won&#39;t have access to your `src` folder or something like this.\r\n","title":"Why by calling new File(&quot;.&quot;).getAbsolutePath() I get completely different path from my project&#39;s location?","body":"<p>When you open File with relative path <code>&quot;.&quot;</code> this path is relative to the current process' working directory.\nUsually, the process working directory is inherited from the parent process (e.g. if you run your app with Terminal - the current terminal's working directory will be your process' working dir).</p>\n<p>Using a relative path inside your application is considered a bad idea because you can not control this process' working directory.\nBut using an absolute hardcoded path also goes with some problems and can't be called a good practice.</p>\n<p>There are several ways to solve the issue:</p>\n<ol>\n<li>Use a path relative to some NOT hardcoded absolute path. This absolute path should be externalized to environment variables, properties files, etc.</li>\n</ol>\n<pre><code>//Getting the directory path from the external system variable\nString myAbsoultePath = System.getenv(&quot;LOCAL_STORAGE_DIR&quot;);\n</code></pre>\n<ol start=\"2\">\n<li>Use a path relative to your application root. It allows you to READ files even located inside .jar or .war archives.</li>\n</ol>\n<pre><code>//This path looks absolute, but the path's root is your project's root\nInputStream stream = MyClass.class.getResourceAsStream(&quot;/dir/another/file.txt&quot;);\n</code></pre>\n<p>But you should understand, that your application won't run inside your IDE project folder. It will be deployed in a production server/user's desktop/android device environment and usually, it is packed in a jar/war/ear/... archive. It means that you won't have access to your <code>src</code> folder or something like this.</p>\n"}],"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76383965,"answer_count":1,"score":0,"last_activity_date":1685636936,"creation_date":1685633040,"question_id":76383470,"body_markdown":"My project is located here:\r\n\r\n    D:/WorkSpace/PuzzleApp\r\nbut when I am calling\r\n\r\n    new File(&quot;.&quot;).getAbsolutePath();\r\nI get:\r\n\r\n    D:\\!Documents\\Desktop\\.\r\n\r\nWhy? And how to fix this?\r\n\r\nI&#39;m using Eclipse.","title":"Why by calling new File(&quot;.&quot;).getAbsolutePath() I get completely different path from my project&#39;s location?","body":"<p>My project is located here:</p>\n<pre><code>D:/WorkSpace/PuzzleApp\n</code></pre>\n<p>but when I am calling</p>\n<pre><code>new File(&quot;.&quot;).getAbsolutePath();\n</code></pre>\n<p>I get:</p>\n<pre><code>D:\\!Documents\\Desktop\\.\n</code></pre>\n<p>Why? And how to fix this?</p>\n<p>I'm using Eclipse.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1685417931,"post_id":76350288,"comment_id":134652933,"body_markdown":"i tried to add this line &quot;entityManager=entityManager.getEntityManagerFactory().createEntityManager();&quot; but this gives null pointer exception(https://stackoverflow.com/questions/14522691/java-lang-illegalstateexception-no-transactional-entitymanager-available)","body":"i tried to add this line &quot;entityManager=entityManager.getEntityManagerFactory().creat&zwnj;&#8203;eEntityManager();&quot; but this gives null pointer exception(<a href=\"https://stackoverflow.com/questions/14522691/java-lang-illegalstateexception-no-transactional-entitymanager-available\" title=\"java lang illegalstateexception no transactional entitymanager available\">stackoverflow.com/questions/14522691/&hellip;</a>)"},{"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"score":0,"creation_date":1685423268,"post_id":76350288,"comment_id":134653408,"body_markdown":"making method transactional resolved the issue","body":"making method transactional resolved the issue"}],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685636609,"creation_date":1685256619,"question_id":76350288,"body_markdown":"Recently upgrading my application from a very older versions. While running Tomcat getting the below error.\r\nI&#39;m using the below hibernate dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-search-orm&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.11.6.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-search-engine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.11.6.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.1.Final&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI&#39;m using MySQL 8\r\n\r\nError while running Tomcat 9:\r\n\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Exception sending context initialized event to listener instance of class [com.demoweb.web.util.demoWebContextListener]\r\n    java.lang.IllegalStateException: No transactional EntityManager available\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:287)\r\n    \tat com.sun.proxy.$Proxy71.unwrap(Unknown Source)\r\n    \tat org.hibernate.search.impl.FullTextSessionImpl.doUnwrap(FullTextSessionImpl.java:72)\r\n    \tat org.hibernate.search.impl.FullTextSessionImpl.&lt;init&gt;(FullTextSessionImpl.java:82)\r\n    \tat org.hibernate.search.impl.ImplementationFactory.createFullTextSession(ImplementationFactory.java:35)\r\n    \tat org.hibernate.search.Search.getFullTextSession(Search.java:45)\r\n    \tat org.hibernate.search.jpa.Search.getFullTextEntityManager(Search.java:49)\r\n    \tat com.demoweb.web.util.demoWebContextListener.contextInitialized(demoWebContextListener.java:69)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4494)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4946)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1910)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\r\n    \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\r\n    \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\r\n    \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n    \tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n    \r\n    May 28, 2023 11:46:52 AM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.core.StandardContext startInternal\r\n    SEVERE: Context [/abc] startup failed due to previous errors\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Closing Spring root WebApplicationContext\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesJdbc\r\n    WARNING: The web application [abc] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [abc] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.Object.wait(Object.java:502)\r\n     java.util.TimerThread.mainLoop(Timer.java:526)\r\n     java.util.TimerThread.run(Timer.java:505)\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [abc] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\r\n     com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n     java.lang.Thread.run(Thread.java:748)\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [abc] appears to have started a thread named [Hibernate Search sync consumer thread for index com.demoweb.backend.model.MomentBO] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.misc.Unsafe.park(Native Method)\r\n     java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:338)\r\n     org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.parkCurrentThread(SyncWorkProcessor.java:179)\r\n     org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.access$300(SyncWorkProcessor.java:37)\r\n     org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.run(SyncWorkProcessor.java:149)\r\n     java.lang.Thread.run(Thread.java:748)\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\r\n    WARNING: The web application [abc] appears to have started a thread named [Hibernate Search sync consumer thread for index com.demoweb.backend.model.LessonBO] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.misc.Unsafe.park(Native Method)\r\n     java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:338)\r\n     org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.parkCurrentThread(SyncWorkProcessor.java:179)\r\n     org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.access$300(SyncWorkProcessor.java:37)\r\n     org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.run(SyncWorkProcessor.java:149)\r\n     java.lang.Thread.run(Thread.java:748)\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.startup.HostConfig deployWAR\r\n    INFO: Deployment of web application archive [D:\\tomcat\\apache-tomcat-9.0.74\\webapps\\abc.war] has finished in [34,067] ms\r\n    May 28, 2023 11:46:52 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n\r\nAdding the `demoWebContextListener.java` from line 68-74:\r\n`DemoConstants.ENTITY_MANAGER_BEAN_NAME` value is `&quot;entityManager&quot;`\r\n\r\n    entityManager = (EntityManager) applicationContext.getBean(DemoConstants.ENTITY_MANAGER_BEAN_NAME);\r\n\tFullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\r\n\ttry {\r\n\t\tfullTextEntityManager.createIndexer(LessonBO.class).startAndWait();\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n`bean` definition in `applicationContext.xml` file:\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n\t\tclass=&quot;com.demo.backend.util.DemoLocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;demoDataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;demo&quot; /&gt;\r\n\t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;generateDdl&quot; value=&quot;${demo.database.generateddl}&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;databasePlatform&quot; value=&quot;${demo.database.platform}&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;false&quot; /&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n    &lt;bean id=&quot;entityManager&quot; class=&quot;org.springframework.orm.jpa.support.SharedEntityManagerBean&quot;&gt;\r\n    \t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;/&gt;\r\n  \t&lt;/bean&gt;","title":"Exception sending context initialized event to listener instance of class while running tomcat","body":"<p>Recently upgrading my application from a very older versions. While running Tomcat getting the below error.\nI'm using the below hibernate dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-search-orm&lt;/artifactId&gt;\n    &lt;version&gt;5.11.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-search-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.11.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;5.3.1.Final&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;cglib&lt;/groupId&gt;\n            &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm using MySQL 8</p>\n<p>Error while running Tomcat 9:</p>\n<pre><code>May 28, 2023 11:46:52 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class [com.demoweb.web.util.demoWebContextListener]\njava.lang.IllegalStateException: No transactional EntityManager available\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:287)\n    at com.sun.proxy.$Proxy71.unwrap(Unknown Source)\n    at org.hibernate.search.impl.FullTextSessionImpl.doUnwrap(FullTextSessionImpl.java:72)\n    at org.hibernate.search.impl.FullTextSessionImpl.&lt;init&gt;(FullTextSessionImpl.java:82)\n    at org.hibernate.search.impl.ImplementationFactory.createFullTextSession(ImplementationFactory.java:35)\n    at org.hibernate.search.Search.getFullTextSession(Search.java:45)\n    at org.hibernate.search.jpa.Search.getFullTextEntityManager(Search.java:49)\n    at com.demoweb.web.util.demoWebContextListener.contextInitialized(demoWebContextListener.java:69)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4494)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4946)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:662)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1023)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1910)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:824)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1617)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:318)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:795)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:249)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:917)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\n\nMay 28, 2023 11:46:52 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\nMay 28, 2023 11:46:52 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/abc] startup failed due to previous errors\nMay 28, 2023 11:46:52 AM org.apache.catalina.core.ApplicationContext log\nINFO: Closing Spring root WebApplicationContext\nMay 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesJdbc\nWARNING: The web application [abc] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\nMay 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [abc] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.Object.wait(Object.java:502)\n java.util.TimerThread.mainLoop(Timer.java:526)\n java.util.TimerThread.run(Timer.java:505)\nMay 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [abc] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\n java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n java.lang.Thread.run(Thread.java:748)\nMay 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [abc] appears to have started a thread named [Hibernate Search sync consumer thread for index com.demoweb.backend.model.MomentBO] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.misc.Unsafe.park(Native Method)\n java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:338)\n org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.parkCurrentThread(SyncWorkProcessor.java:179)\n org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.access$300(SyncWorkProcessor.java:37)\n org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.run(SyncWorkProcessor.java:149)\n java.lang.Thread.run(Thread.java:748)\nMay 28, 2023 11:46:52 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads\nWARNING: The web application [abc] appears to have started a thread named [Hibernate Search sync consumer thread for index com.demoweb.backend.model.LessonBO] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.misc.Unsafe.park(Native Method)\n java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:338)\n org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.parkCurrentThread(SyncWorkProcessor.java:179)\n org.hibernate.search.backend.impl.lucene.SyncWorkProcessor.access$300(SyncWorkProcessor.java:37)\n org.hibernate.search.backend.impl.lucene.SyncWorkProcessor$Consumer.run(SyncWorkProcessor.java:149)\n java.lang.Thread.run(Thread.java:748)\nMay 28, 2023 11:46:52 AM org.apache.catalina.startup.HostConfig deployWAR\nINFO: Deployment of web application archive [D:\\tomcat\\apache-tomcat-9.0.74\\webapps\\abc.war] has finished in [34,067] ms\nMay 28, 2023 11:46:52 AM org.apache.catalina.startup.HostConfig deployDirectory\n</code></pre>\n<p>Adding the <code>demoWebContextListener.java</code> from line 68-74:\n<code>DemoConstants.ENTITY_MANAGER_BEAN_NAME</code> value is <code>&quot;entityManager&quot;</code></p>\n<pre><code>entityManager = (EntityManager) applicationContext.getBean(DemoConstants.ENTITY_MANAGER_BEAN_NAME);\nFullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\ntry {\n    fullTextEntityManager.createIndexer(LessonBO.class).startAndWait();\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p><code>bean</code> definition in <code>applicationContext.xml</code> file:</p>\n<pre><code>&lt;bean id=&quot;entityManagerFactory&quot;\n    class=&quot;com.demo.backend.util.DemoLocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;demoDataSource&quot; /&gt;\n    &lt;property name=&quot;persistenceUnitName&quot; value=&quot;demo&quot; /&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\n            &lt;property name=&quot;generateDdl&quot; value=&quot;${demo.database.generateddl}&quot; /&gt;\n            &lt;property name=&quot;databasePlatform&quot; value=&quot;${demo.database.platform}&quot; /&gt;\n            &lt;property name=&quot;showSql&quot; value=&quot;false&quot; /&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;entityManager&quot; class=&quot;org.springframework.orm.jpa.support.SharedEntityManagerBean&quot;&gt;\n    &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1251204,"reputation":987,"user_id":1211581,"display_name":"mbj"},"score":5,"creation_date":1547554405,"post_id":54198594,"comment_id":95223879,"body_markdown":"toString isn&#39;t meant for serilization. I&#39;m sure Java has some other standard way of doing that.","body":"toString isn&#39;t meant for serilization. I&#39;m sure Java has some other standard way of doing that."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1547554438,"post_id":54198594,"comment_id":95223902,"body_markdown":"so basically you want to serialize an array and deserialize them back out of the box? out of the box we got [Serializable](https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html).. but it turns to binary.","body":"so basically you want to serialize an array and deserialize them back out of the box? out of the box we got <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Serializable</a>.. but it turns to binary."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1547554473,"post_id":54198594,"comment_id":95223914,"body_markdown":"What if your original list is `Arrays.asList(&quot;a, b&quot;, &quot;c&quot;)`?","body":"What if your original list is <code>Arrays.asList(&quot;a, b&quot;, &quot;c&quot;)</code>?"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1547554549,"post_id":54198594,"comment_id":95223947,"body_markdown":"Is the question &quot;how to properly serialize/deserialize an array (preferrably in human readable form)&quot;, or &quot;am I correct that it&#39;s not possible to deserialize a list&#39;s toString form back to the original list&quot;?","body":"Is the question &quot;how to properly serialize/deserialize an array (preferrably in human readable form)&quot;, or &quot;am I correct that it&#39;s not possible to deserialize a list&#39;s toString form back to the original list&quot;?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1547554618,"post_id":54198594,"comment_id":95223990,"body_markdown":"&quot;it&#39;s not possible to parse produced string with e.g. Jackson &quot; - that&#39;s because `toString()` _does not_ produce valid json which jackson will need to parse the string correctly.","body":"&quot;it&#39;s not possible to parse produced string with e.g. Jackson &quot; - that&#39;s because <code>toString()</code> <i>does not</i> produce valid json which jackson will need to parse the string correctly."},{"owner":{"account_id":15071962,"reputation":211,"user_id":10877141,"display_name":"ygbgames"},"score":0,"creation_date":1547554825,"post_id":54198594,"comment_id":95224103,"body_markdown":"So the target is to convert string to array of string if it is representation of a list.toString() ??","body":"So the target is to convert string to array of string if it is representation of a list.toString() ??"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1547555142,"post_id":54198594,"comment_id":95224261,"body_markdown":"The Arrays.toString () method is written that way only. So it is going to print the content seprated by comma.","body":"The Arrays.toString () method is written that way only. So it is going to print the content seprated by comma."},{"owner":{"account_id":5332585,"reputation":836,"user_id":4252764,"accept_rate":50,"display_name":"Vuk Djapic"},"score":0,"creation_date":1547555504,"post_id":54198594,"comment_id":95224471,"body_markdown":"@Tobias Yes, I hoped there is an easy way to do fromString/toString for collections, without any additional serialization methods. Something I overlooked. Just like there is Integer.parseInt(). Andy great example, additional reason why still don&#39;t understand how [a, b] is better than [&quot;a&quot;, &quot;b&quot;], no matter is it json or not.","body":"@Tobias Yes, I hoped there is an easy way to do fromString/toString for collections, without any additional serialization methods. Something I overlooked. Just like there is Integer.parseInt(). Andy great example, additional reason why still don&#39;t understand how [a, b] is better than [&quot;a&quot;, &quot;b&quot;], no matter is it json or not."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1547555704,"post_id":54198594,"comment_id":95224583,"body_markdown":"`[a, b]` is not better in any way. The folks at Java simply decided that `&quot;foo&quot;.toString() == &quot;foo&quot;` and not `&quot;\\&quot;foo\\&quot;&quot;`, which is good for reading but bad for parsing. For this reason, Python has two methods: `str` and `repr`.","body":"<code>[a, b]</code> is not better in any way. The folks at Java simply decided that <code>&quot;foo&quot;.toString() == &quot;foo&quot;</code> and not <code>&quot;\\&quot;foo\\&quot;&quot;</code>, which is good for reading but bad for parsing. For this reason, Python has two methods: <code>str</code> and <code>repr</code>."},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1547556011,"post_id":54198594,"comment_id":95224757,"body_markdown":"Instead of toString() use objectMapper.writeValueAsString(list);.","body":"Instead of toString() use objectMapper.writeValueAsString(list);."},{"owner":{"account_id":5332585,"reputation":836,"user_id":4252764,"accept_rate":50,"display_name":"Vuk Djapic"},"score":0,"creation_date":1547556119,"post_id":54198594,"comment_id":95224809,"body_markdown":"@SangamBelose Yes, already switched to that, thanks.","body":"@SangamBelose Yes, already switched to that, thanks."}],"answers":[{"tags":[],"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1547555853,"creation_date":1547554627,"answer_id":54198689,"question_id":54198594,"body_markdown":"&gt; So how to convert string [a, b] to a list of strings?\r\n\r\nIt is not intended for this purpose.\r\n\r\n&gt; Connected with it is the question why produced string isn&#39;t [&quot;a&quot;,&quot;b&quot;]? Because from string representations we cannot distinguish Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;) from Arrays.asList(1,2,3).\r\n\r\nThis has probably to tdo with the following: `Arrays.toString()` just concatenates the string representations of the items with `,` separator and puts `[]` around it. So the real answer is &quot;because string `&quot;1&quot;` and integer `1` have the same representation&quot;. And this, again, has to do with the fact that both should be printable as they are. E. g., Python differentiates between `__str__()` and `__repr()__`, Java has only `.toString()`.\r\n\r\nBut as the `.toString()` outputs are (apart from certain special cases) only made for debugging, it should not matter.\r\n\r\n&gt; And also it&#39;s not possible to parse produced string with e.g. Jackson with objectMapper.readValue(li1.toString(), String[].class);, which would be that one line solution.\r\n\r\nIf you want to do that, there are other solutions which are far better suitable for sertializtion and deserialization.\r\n\r\nFormats for serialization are\r\n\r\n* binary\r\n* XML\r\n* JSON\r\n\r\nall of which are made of a pair of unambiguous serialized data creation and deserialization which does the opposite.","title":"Convert string representation of a list to a list in Java","body":"<blockquote>\n  <p>So how to convert string [a, b] to a list of strings?</p>\n</blockquote>\n\n<p>It is not intended for this purpose.</p>\n\n<blockquote>\n  <p>Connected with it is the question why produced string isn't [\"a\",\"b\"]? Because from string representations we cannot distinguish Arrays.asList(\"1\",\"2\",\"3\") from Arrays.asList(1,2,3).</p>\n</blockquote>\n\n<p>This has probably to tdo with the following: <code>Arrays.toString()</code> just concatenates the string representations of the items with <code>,</code> separator and puts <code>[]</code> around it. So the real answer is \"because string <code>\"1\"</code> and integer <code>1</code> have the same representation\". And this, again, has to do with the fact that both should be printable as they are. E. g., Python differentiates between <code>__str__()</code> and <code>__repr()__</code>, Java has only <code>.toString()</code>.</p>\n\n<p>But as the <code>.toString()</code> outputs are (apart from certain special cases) only made for debugging, it should not matter.</p>\n\n<blockquote>\n  <p>And also it's not possible to parse produced string with e.g. Jackson with objectMapper.readValue(li1.toString(), String[].class);, which would be that one line solution.</p>\n</blockquote>\n\n<p>If you want to do that, there are other solutions which are far better suitable for sertializtion and deserialization.</p>\n\n<p>Formats for serialization are</p>\n\n<ul>\n<li>binary</li>\n<li>XML</li>\n<li>JSON</li>\n</ul>\n\n<p>all of which are made of a pair of unambiguous serialized data creation and deserialization which does the opposite.</p>\n"},{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685636440,"creation_date":1547555027,"answer_id":54198801,"question_id":54198594,"body_markdown":"As the other answer suggested, it&#39;s not a good idea to do that. But to still give an answer to your question:\r\n\r\n&gt; how to convert string [a, b] to a list of strings?\r\n\r\n    String s = &quot;[a, b]&quot;;\r\n\r\n    //remove first and last character and create array of Strings splitting around the characters &quot;, &quot;\r\n    String[] strings = s.substring(1, s.length() - 1).split(&quot;,&quot;);\r\n   \r\n    List&lt;String&gt; list = Arrays.asList(strings);\r\n    System.out.println(list);\r\n\r\nNote that if one of your strings in the list contains a comma, this will not work, but there is no way to handle this case.\r\n\r\n---\r\n\r\nOr you could use [org.springframework.util.StringUtils.commaDelimitedListToStringArray][1] but it will keep the leading spaces.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.1.x/javadoc-api/org/springframework/util/StringUtils.html#commaDelimitedListToStringArray(java.lang.String)","title":"Convert string representation of a list to a list in Java","body":"<p>As the other answer suggested, it's not a good idea to do that. But to still give an answer to your question:</p>\n<blockquote>\n<p>how to convert string [a, b] to a list of strings?</p>\n</blockquote>\n<pre><code>String s = &quot;[a, b]&quot;;\n\n//remove first and last character and create array of Strings splitting around the characters &quot;, &quot;\nString[] strings = s.substring(1, s.length() - 1).split(&quot;,&quot;);\n\nList&lt;String&gt; list = Arrays.asList(strings);\nSystem.out.println(list);\n</code></pre>\n<p>Note that if one of your strings in the list contains a comma, this will not work, but there is no way to handle this case.</p>\n<hr />\n<p>Or you could use <a href=\"https://docs.spring.io/spring/docs/3.1.x/javadoc-api/org/springframework/util/StringUtils.html#commaDelimitedListToStringArray(java.lang.String)\" rel=\"nofollow noreferrer\">org.springframework.util.StringUtils.commaDelimitedListToStringArray</a> but it will keep the leading spaces.</p>\n"},{"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547556528,"creation_date":1547556528,"answer_id":54199209,"question_id":54198594,"body_markdown":"Don&#39;t use the toString for serialization /deserialization. \r\n\r\nInstead of that you should convert it into string as below:\r\n\r\n     String str = objectMapper.writeValueAsString(list);\r\n\r\n    // To convert it back into string array\r\n\r\n    objectMapper.readValue(str, String[].class);","title":"Convert string representation of a list to a list in Java","body":"<p>Don't use the toString for serialization /deserialization. </p>\n\n<p>Instead of that you should convert it into string as below:</p>\n\n<pre><code> String str = objectMapper.writeValueAsString(list);\n\n// To convert it back into string array\n\nobjectMapper.readValue(str, String[].class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547558813,"creation_date":1547558813,"answer_id":54199793,"question_id":54198594,"body_markdown":"There are some ways how to do it, but I don&#39;t think there is any method how to make it directly.\r\nAnd Its also not a good idea to deal with `toString()` as you are trying (it can be overriden, eg.)\r\n\r\nOne of possible solutions can be like follows:\r\n \r\n    public static List&lt;String&gt; getListFromListStringArray(String inString){\r\n        List&lt;String&gt; returnList = null;\r\n\t\t\r\n\t    System.out.println(&quot;in: &quot; + inString);\r\n\t\t\r\n\t\t/*\r\n\t\t * Will remove leading and trailing [ ]\r\n\t\t * [a, b] =&gt; a, b \r\n\t\t */\r\n\t\tinString = inString.replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;);\r\n\t\t/* \r\n\t\t * Will create List from String array by delimiter (, ) in this case \r\n\t\t */\r\n\t\treturnList = Arrays.asList(inString.split(&quot;, &quot;));\r\n\t\t//[a, b]\r\n\t\tSystem.out.println(returnList.toString());\r\n\r\n\t\treturn returnList;\r\n\t}\r\n","title":"Convert string representation of a list to a list in Java","body":"<p>There are some ways how to do it, but I don't think there is any method how to make it directly.\nAnd Its also not a good idea to deal with <code>toString()</code> as you are trying (it can be overriden, eg.)</p>\n\n<p>One of possible solutions can be like follows:</p>\n\n<pre><code>public static List&lt;String&gt; getListFromListStringArray(String inString){\n    List&lt;String&gt; returnList = null;\n\n    System.out.println(\"in: \" + inString);\n\n    /*\n     * Will remove leading and trailing [ ]\n     * [a, b] =&gt; a, b \n     */\n    inString = inString.replaceAll(\"[\\\\[\\\\]]\", \"\");\n    /* \n     * Will create List from String array by delimiter (, ) in this case \n     */\n    returnList = Arrays.asList(inString.split(\", \"));\n    //[a, b]\n    System.out.println(returnList.toString());\n\n    return returnList;\n}\n</code></pre>\n"}],"owner":{"account_id":5332585,"reputation":836,"user_id":4252764,"accept_rate":50,"display_name":"Vuk Djapic"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54198689,"answer_count":4,"score":0,"last_activity_date":1685636440,"creation_date":1547554305,"question_id":54198594,"body_markdown":"Is there any easy, one (not too complicated) line for this?\r\n\r\nIf we have `List&lt;String&gt; li1 = Arrays.asList(&quot;a&quot;,&quot;b&quot;);`, then `li1.toString()` will yield `[a, b]`. So how to convert string `[a, b]` to a list of strings?\r\n\r\nConnected with it is the question why produced string isn&#39;t `[&quot;a&quot;,&quot;b&quot;]`? Because from string representations we cannot distinguish `Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;)` from `Arrays.asList(1,2,3)`. And also it&#39;s not possible to parse produced string with e.g. Jackson with `objectMapper.readValue(li1.toString(), String[].class);`, which would be that one line solution.","title":"Convert string representation of a list to a list in Java","body":"<p>Is there any easy, one (not too complicated) line for this?</p>\n\n<p>If we have <code>List&lt;String&gt; li1 = Arrays.asList(\"a\",\"b\");</code>, then <code>li1.toString()</code> will yield <code>[a, b]</code>. So how to convert string <code>[a, b]</code> to a list of strings?</p>\n\n<p>Connected with it is the question why produced string isn't <code>[\"a\",\"b\"]</code>? Because from string representations we cannot distinguish <code>Arrays.asList(\"1\",\"2\",\"3\")</code> from <code>Arrays.asList(1,2,3)</code>. And also it's not possible to parse produced string with e.g. Jackson with <code>objectMapper.readValue(li1.toString(), String[].class);</code>, which would be that one line solution.</p>\n"},{"tags":["java","android","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":13542367,"reputation":5828,"user_id":9769731,"display_name":"karllekko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685615849,"creation_date":1685615849,"answer_id":76381026,"question_id":76380893,"body_markdown":"I think you&#39;re a bit confused.\r\n\r\nThere&#39;s two components to a Stripe integration, the frontend and the backend.\r\n\r\nThe frontend is your HTML page or your Android app where the customer enters details. If it&#39;s an Android app, you use the [stripe-android](https://github.com/stripe/stripe-android/) library in your app for that.\r\n\r\nThe backend is your server on the cloud or so on, that processes payments and updates databases and tracks orders/accounts etc. If your backend server is using Java for business logic, you can use the [stripe-java](https://github.com/stripe/stripe-java/) library to interact with the backend Stripe API.\r\n\r\nSo it doesn&#39;t make sense to use stripe-java in an Android project, as your question implies you&#39;re doing.\r\n\r\nhttps://stripe.com/docs/payments/accept-a-payment?platform=android ","title":"PaymentConfiguration is not recognized in android studio java","body":"<p>I think you're a bit confused.</p>\n<p>There's two components to a Stripe integration, the frontend and the backend.</p>\n<p>The frontend is your HTML page or your Android app where the customer enters details. If it's an Android app, you use the <a href=\"https://github.com/stripe/stripe-android/\" rel=\"nofollow noreferrer\">stripe-android</a> library in your app for that.</p>\n<p>The backend is your server on the cloud or so on, that processes payments and updates databases and tracks orders/accounts etc. If your backend server is using Java for business logic, you can use the <a href=\"https://github.com/stripe/stripe-java/\" rel=\"nofollow noreferrer\">stripe-java</a> library to interact with the backend Stripe API.</p>\n<p>So it doesn't make sense to use stripe-java in an Android project, as your question implies you're doing.</p>\n<p><a href=\"https://stripe.com/docs/payments/accept-a-payment?platform=android\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/accept-a-payment?platform=android</a></p>\n"},{"tags":[],"owner":{"account_id":13542367,"reputation":5828,"user_id":9769731,"display_name":"karllekko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685618530,"creation_date":1685618530,"answer_id":76381347,"question_id":76380893,"body_markdown":"For the &quot;Can&#39;t determine type for tag&quot; error, see https://github.com/stripe/stripe-android/issues/6250 \r\n- i.e. make sure you you are using the latest version of everything in your environment, Material/Gradle/Android Studio/Android Gradle plugin.\r\n\r\n\r\nFor the general import error, note that it&#39;s called `com.stripe.android.PaymentConfiguration` with capital P and C(the case matters).","title":"PaymentConfiguration is not recognized in android studio java","body":"<p>For the &quot;Can't determine type for tag&quot; error, see <a href=\"https://github.com/stripe/stripe-android/issues/6250\" rel=\"nofollow noreferrer\">https://github.com/stripe/stripe-android/issues/6250</a></p>\n<ul>\n<li>i.e. make sure you you are using the latest version of everything in your environment, Material/Gradle/Android Studio/Android Gradle plugin.</li>\n</ul>\n<p>For the general import error, note that it's called <code>com.stripe.android.PaymentConfiguration</code> with capital P and C(the case matters).</p>\n"}],"owner":{"account_id":20981803,"reputation":322,"user_id":15416461,"display_name":"Bianca Balan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685635744,"creation_date":1685614731,"question_id":76380893,"body_markdown":"I am building an Android app in Java and i want to integrate Stripe payments. I configured the Stripe account and added android dependecies like\r\n\r\n&gt; implementation &#39;com.stripe:stripe-android:20.25.4&#39;\r\n\r\nWhen I want to use PaymentsConfigure class, it is not recognized at all and I&#39;ve tried with so many dependencies, upgraded or downgraded.\r\n\r\nThe import is never recognized.\r\n\r\n    import com.stripe.android.PaymentConfiguration\r\n\r\nAlso, with this dependency &quot;implementation &#39;com.stripe:stripe-android:20.25.4&#39;&quot; i have this error : &quot;Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_assist_chip_container_shape&quot;&gt;?attr/shapeAppearanceCornerSmall&lt;/macro&gt;&#39;&quot;\r\n\r\nDid someone uncountered this problem and solved it?\r\n\r\n\r\n","title":"PaymentConfiguration is not recognized in android studio java","body":"<p>I am building an Android app in Java and i want to integrate Stripe payments. I configured the Stripe account and added android dependecies like</p>\n<blockquote>\n<p>implementation 'com.stripe:stripe-android:20.25.4'</p>\n</blockquote>\n<p>When I want to use PaymentsConfigure class, it is not recognized at all and I've tried with so many dependencies, upgraded or downgraded.</p>\n<p>The import is never recognized.</p>\n<pre><code>import com.stripe.android.PaymentConfiguration\n</code></pre>\n<p>Also, with this dependency &quot;implementation 'com.stripe:stripe-android:20.25.4'&quot; i have this error : &quot;Can't determine type for tag '?attr/shapeAppearanceCornerSmall'&quot;</p>\n<p>Did someone uncountered this problem and solved it?</p>\n"},{"tags":["java","kotlin","iso8583","j8583"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685635500,"creation_date":1685635500,"answer_id":76383790,"question_id":76383617,"body_markdown":"This is from [the j8583 doc][1]\r\n\r\n&gt; You can also create a CompositeField, store several subfields inside it, and store it in any field inside an IsoMessage, specifying the same instance as the CustomField:\r\n```java\r\nCompositeField f = new CompositeField().addValue(new IsoValue&lt;String&gt;(IsoType.ALPHA, &quot;one&quot;, 5))\r\n    .addValue(new IsoValue&lt;String&gt;(IsoType.LLVAR, &quot;two&quot;))\r\n    .addValue(new IsoValue&lt;Long&gt;(IsoType.NUMERIC, 123l, 6))\r\n    .addValue(new IsoValue&lt;String&gt;(IsoType.ALPHA, &quot;OK&quot;, 2));\r\nmessage.setValue(125, f, f, IsoType.LLLVAR, 0);\r\n```\r\n\r\n\r\n  [1]: https://j8583.sourceforge.net/xmlconf.html","title":"J8583 set Subfields to IsoMessage object","body":"<p>This is from <a href=\"https://j8583.sourceforge.net/xmlconf.html\" rel=\"nofollow noreferrer\">the j8583 doc</a></p>\n<blockquote>\n<p>You can also create a CompositeField, store several subfields inside it, and store it in any field inside an IsoMessage, specifying the same instance as the CustomField:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>CompositeField f = new CompositeField().addValue(new IsoValue&lt;String&gt;(IsoType.ALPHA, &quot;one&quot;, 5))\n    .addValue(new IsoValue&lt;String&gt;(IsoType.LLVAR, &quot;two&quot;))\n    .addValue(new IsoValue&lt;Long&gt;(IsoType.NUMERIC, 123l, 6))\n    .addValue(new IsoValue&lt;String&gt;(IsoType.ALPHA, &quot;OK&quot;, 2));\nmessage.setValue(125, f, f, IsoType.LLLVAR, 0);\n</code></pre>\n"}],"owner":{"account_id":18846015,"reputation":76,"user_id":13746295,"display_name":"efe "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685635500,"creation_date":1685634145,"question_id":76383617,"body_markdown":"How can I set subfields to an IsoMessage object using the J8583 library?\r\nI use the j8583 library for sending ISO8583 messages which require only whole number data element indexes such as fields 7,11 and 12\r\n\r\n```\r\npublic void createIsoMessage(){\r\n        MessageFactory&lt;IsoMessage&gt; messageFactory = new MessageFactory&lt;&gt;();\r\n        IsoMessage isoMessage = messageFactory.newMessage(0x800);\r\n        isoMessage.setValue(7, &quot;0601163045&quot;, IsoType.DATE10, 10);\r\n        isoMessage.setValue(11, &quot;163045&quot;, IsoType.DATE10, 6);\r\n        isoMessage.setValue(12, &quot;163045&quot;, IsoType.DATE10, 6);\r\n    }\r\n```\r\n\r\nBut I need to send data elements that have subfields such as fields:\r\n127.2\r\n127.3\r\n127.12\r\n127.25.3\r\n127.25.4, however I can only set integer data element indexes using the `setValue()` function\r\n\r\nI need to be able to set data elements, particularly data element 127, that have subfields to be able to send ICCDATA which is required by the payment processor.","title":"J8583 set Subfields to IsoMessage object","body":"<p>How can I set subfields to an IsoMessage object using the J8583 library?\nI use the j8583 library for sending ISO8583 messages which require only whole number data element indexes such as fields 7,11 and 12</p>\n<pre><code>public void createIsoMessage(){\n        MessageFactory&lt;IsoMessage&gt; messageFactory = new MessageFactory&lt;&gt;();\n        IsoMessage isoMessage = messageFactory.newMessage(0x800);\n        isoMessage.setValue(7, &quot;0601163045&quot;, IsoType.DATE10, 10);\n        isoMessage.setValue(11, &quot;163045&quot;, IsoType.DATE10, 6);\n        isoMessage.setValue(12, &quot;163045&quot;, IsoType.DATE10, 6);\n    }\n</code></pre>\n<p>But I need to send data elements that have subfields such as fields:\n127.2\n127.3\n127.12\n127.25.3\n127.25.4, however I can only set integer data element indexes using the <code>setValue()</code> function</p>\n<p>I need to be able to set data elements, particularly data element 127, that have subfields to be able to send ICCDATA which is required by the payment processor.</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":6789066,"reputation":1549,"user_id":5226792,"display_name":"Wonka"},"score":0,"creation_date":1685615413,"post_id":76380912,"comment_id":134686234,"body_markdown":"learn more on Xpath, use attribute on elements like class, id, href to get what you want. DONT USE xpath wih index","body":"learn more on Xpath, use attribute on elements like class, id, href to get what you want. DONT USE xpath wih index"},{"owner":{"account_id":3029527,"reputation":7159,"user_id":2568849,"accept_rate":79,"display_name":"Mesut GUNES"},"score":0,"creation_date":1685622894,"post_id":76380912,"comment_id":134687898,"body_markdown":"pasting html here would help to create xpath.","body":"pasting html here would help to create xpath."}],"answers":[{"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685635090,"creation_date":1685632137,"answer_id":76383339,"question_id":76380912,"body_markdown":"Not very clear what you want: If you want all elements that contain direct text you could use:\r\n\r\n    /html/body[1]//*[text()[normalize-space()]]\r\n\r\nthis will return all elements with direct text()-nodes that after filtering unnecessary whitespace, have character-data. \r\n\r\nmeaning XPath-parts:\r\n\r\n`//` = any descendant; see [this info on axes][1]\r\n\r\n`*` = any element\r\n\r\n`[`some filter`]` = predicate to filter on direct previous node.\r\n\r\n`[#number]` = the position within its siblings. `body[1]` maybe seems redundant, but can help the XPath-engine not to look any further for other `body` elements\r\n\r\n`text()` = node of type text\r\n\r\n`normalize-space()` = strips white-space according [this rules][2]\r\n\r\n\r\n  [1]: https://www.w3schools.com/xml/xpath_axes.asp\r\n  [2]: https://www.w3.org/TR/xpath-functions-31/#func-normalize-space","title":"What is the best way to find text content under relatively indistinguishable tags by Selenium-webdriver?","body":"<p>Not very clear what you want: If you want all elements that contain direct text you could use:</p>\n<pre><code>/html/body[1]//*[text()[normalize-space()]]\n</code></pre>\n<p>this will return all elements with direct text()-nodes that after filtering unnecessary whitespace, have character-data.</p>\n<p>meaning XPath-parts:</p>\n<p><code>//</code> = any descendant; see <a href=\"https://www.w3schools.com/xml/xpath_axes.asp\" rel=\"nofollow noreferrer\">this info on axes</a></p>\n<p><code>*</code> = any element</p>\n<p><code>[</code>some filter<code>]</code> = predicate to filter on direct previous node.</p>\n<p><code>[#number]</code> = the position within its siblings. <code>body[1]</code> maybe seems redundant, but can help the XPath-engine not to look any further for other <code>body</code> elements</p>\n<p><code>text()</code> = node of type text</p>\n<p><code>normalize-space()</code> = strips white-space according <a href=\"https://www.w3.org/TR/xpath-functions-31/#func-normalize-space\" rel=\"nofollow noreferrer\">this rules</a></p>\n"}],"owner":{"account_id":19519702,"reputation":19,"user_id":14281861,"display_name":"Saynov Dias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76383339,"answer_count":1,"score":1,"last_activity_date":1685635090,"creation_date":1685614858,"question_id":76380912,"body_markdown":"As newbie I prefer use Abs XPath to get find WebElemnts where text is positioned.&lt;br&gt;\r\nI tried:\r\n\r\n    List&lt;WebElement&gt; elements = web.findElements(By.xpath(&quot;/html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div/div[1]/ol[5]/li[1]/div[2]/div/p&quot;));\r\n\r\nBut i failed to catch text under tags with minor changes&lt;br&gt;\r\nTarget xpaths:\r\n\r\n    /html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[6]/div[1]/ol[5]/li[1]/div[2]/div[4]/div[1]/div[1]/p[1]\r\n    /html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[6]/div[1]/ol[5]/li[1]/div[2]/div[8]/p\r\n    /html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[2]/div[1]/ol[5]/li[1]/div[2]/div[3]/h3[1]\r\n    /html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[2]/div[1]/ol[5]/li[1]/div[2]/div[2]/div[1]/p\r\n    /html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[5]/div[1]/ol[5]/li[1]/div[2]/div[1]/div[1]/p[1]/strong[1]\r\n\r\nWhat is correct formula or way to get all text content in the above mentioned xpaths ?","title":"What is the best way to find text content under relatively indistinguishable tags by Selenium-webdriver?","body":"<p>As newbie I prefer use Abs XPath to get find WebElemnts where text is positioned.<br>\nI tried:</p>\n<pre><code>List&lt;WebElement&gt; elements = web.findElements(By.xpath(&quot;/html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div/div[1]/ol[5]/li[1]/div[2]/div/p&quot;));\n</code></pre>\n<p>But i failed to catch text under tags with minor changes<br>\nTarget xpaths:</p>\n<pre><code>/html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[6]/div[1]/ol[5]/li[1]/div[2]/div[4]/div[1]/div[1]/p[1]\n/html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[6]/div[1]/ol[5]/li[1]/div[2]/div[8]/p\n/html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[2]/div[1]/ol[5]/li[1]/div[2]/div[3]/h3[1]\n/html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[2]/div[1]/ol[5]/li[1]/div[2]/div[2]/div[1]/p\n/html[1]/body[1]/div[2]/div[2]/dl[1]/dd[2]/div[2]/div[5]/div[1]/ol[5]/li[1]/div[2]/div[1]/div[1]/p[1]/strong[1]\n</code></pre>\n<p>What is correct formula or way to get all text content in the above mentioned xpaths ?</p>\n"},{"tags":["java","jmx","jconsole"],"answers":[{"tags":[],"owner":{"account_id":78268,"reputation":3821,"user_id":222867,"accept_rate":78,"display_name":"qwerty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301299952,"creation_date":1301299952,"answer_id":5456240,"question_id":5455831,"body_markdown":"I don&#39;t know if this is helpful, but perhaps you should use the the jconsole binary in the JDK bin directory rather than using the undocumented (and subject to change) sun.* classes to start up the console","title":"Debugging JConsole Connection Failed","body":"<p>I don't know if this is helpful, but perhaps you should use the the jconsole binary in the JDK bin directory rather than using the undocumented (and subject to change) sun.* classes to start up the console</p>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301302263,"creation_date":1301302263,"answer_id":5456607,"question_id":5455831,"body_markdown":"If your application is **running on JDK 1.6** then you should be able to connect it. If it is using **JDK prior to 1.6** then run it with specifying the following JVM argument\r\n\r\n**-Dcom.sun.management.jmxremote**","title":"Debugging JConsole Connection Failed","body":"<p>If your application is <strong>running on JDK 1.6</strong> then you should be able to connect it. If it is using <strong>JDK prior to 1.6</strong> then run it with specifying the following JVM argument</p>\n\n<p><strong>-Dcom.sun.management.jmxremote</strong></p>\n"},{"tags":[],"owner":{"account_id":760154,"reputation":31,"user_id":779309,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306929325,"creation_date":1306929325,"answer_id":6200712,"question_id":5455831,"body_markdown":"I encountered the same Problem when starting the Java-Process through cygwin. JConsole cannot connect. Started it through win7-cmd everything works as expected.","title":"Debugging JConsole Connection Failed","body":"<p>I encountered the same Problem when starting the Java-Process through cygwin. JConsole cannot connect. Started it through win7-cmd everything works as expected.</p>\n"},{"tags":[],"owner":{"account_id":448272,"reputation":3886,"user_id":842384,"accept_rate":80,"display_name":"samarth"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1407352337,"creation_date":1316176429,"answer_id":7444718,"question_id":5455831,"body_markdown":"Make sure you are running your application with following java properties set\r\n\r\n    -Dcom.sun.management.jmxremote.port=9005\r\n    -Dcom.sun.management.jmxremote.authenticate=false\r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n\r\nTry to connect now.\r\nIf you want to debug this ,you can run the jconsole with following command\r\n\r\n    jconsole -J-Djava.util.logging.config.file=path_to_logging.properties_for_jconsole\r\n\r\nBelow is the content of logging.properties file\r\n\r\n    Logging.properties\r\n\r\n    handlers = java.util.logging.ConsoleHandler\r\n\r\n\r\n    .level = INFO\r\n\r\n    java.util.logging.ConsoleHandler.level = FINEST\r\n\r\n    java.util.logging.ConsoleHandler.formatter = \\\r\n\r\n    java.util.logging.SimpleFormatter\r\n\r\n    // Use FINER or FINEST for javax.management.remote.level - FINEST is\r\n\r\n    // very verbose...\r\n\r\n    javax.management.level = FINEST\r\n\r\n    javax.management.remote.level = FINER\r\n\r\nOnce you run `jconsole` a separate window will pop up displaying logs.","title":"Debugging JConsole Connection Failed","body":"<p>Make sure you are running your application with following java properties set</p>\n\n<pre><code>-Dcom.sun.management.jmxremote.port=9005\n-Dcom.sun.management.jmxremote.authenticate=false\n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n\n<p>Try to connect now.\nIf you want to debug this ,you can run the jconsole with following command</p>\n\n<pre><code>jconsole -J-Djava.util.logging.config.file=path_to_logging.properties_for_jconsole\n</code></pre>\n\n<p>Below is the content of logging.properties file</p>\n\n<pre><code>Logging.properties\n\nhandlers = java.util.logging.ConsoleHandler\n\n\n.level = INFO\n\njava.util.logging.ConsoleHandler.level = FINEST\n\njava.util.logging.ConsoleHandler.formatter = \\\n\njava.util.logging.SimpleFormatter\n\n// Use FINER or FINEST for javax.management.remote.level - FINEST is\n\n// very verbose...\n\njavax.management.level = FINEST\n\njavax.management.remote.level = FINER\n</code></pre>\n\n<p>Once you run <code>jconsole</code> a separate window will pop up displaying logs.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1543411531,"creation_date":1326235722,"answer_id":8811691,"question_id":5455831,"body_markdown":"if you run `jconsole -debug` it gives you more diagnostic info on the failure. See \r\n[the Daniel Fuchs blog entry &quot;Troubleshooting connection problems in JConsole&quot;][1].\r\n\r\nI did this and it showed me I was using 32 bit jconsole the target process was started with a different (64 bit) jvm, so apparently this isn&#39;t allowed and it was thus failing.\r\n\r\n  [1]: https://web.archive.org/web/20160409213149/https://blogs.oracle.com/jmxetc/entry/troubleshooting_connection_problems_in_jconsole","title":"Debugging JConsole Connection Failed","body":"<p>if you run <code>jconsole -debug</code> it gives you more diagnostic info on the failure. See \n<a href=\"https://web.archive.org/web/20160409213149/https://blogs.oracle.com/jmxetc/entry/troubleshooting_connection_problems_in_jconsole\" rel=\"noreferrer\">the Daniel Fuchs blog entry \"Troubleshooting connection problems in JConsole\"</a>.</p>\n\n<p>I did this and it showed me I was using 32 bit jconsole the target process was started with a different (64 bit) jvm, so apparently this isn't allowed and it was thus failing.</p>\n"},{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374128695,"creation_date":1374127093,"answer_id":17715597,"question_id":5455831,"body_markdown":"I was having similar issue that remote machine was behind firewall and firewall was blocking ports defined by `-Dcom.sun.management.jmxremote.port` and RMI `46924`. After allowing me to cnnect to these port I connected succesfully.","title":"Debugging JConsole Connection Failed","body":"<p>I was having similar issue that remote machine was behind firewall and firewall was blocking ports defined by <code>-Dcom.sun.management.jmxremote.port</code> and RMI <code>46924</code>. After allowing me to cnnect to these port I connected succesfully.</p>\n"},{"tags":[],"owner":{"account_id":1816021,"reputation":1378,"user_id":1651085,"accept_rate":70,"display_name":"Lavixu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1611123029,"creation_date":1409214178,"answer_id":25544113,"question_id":5455831,"body_markdown":"This finally made it work for me : Giving this extra option: ` -Djava.rmi.server.hostname=&lt;ip addres where jvm is running`\r\n\r\nSo all the vm arguments used to open jconsole from a remote machine, the jvm on the remote machine must be started with \r\n\r\n     -Dcom.sun.management.jmxremote.authenticate=false  -Dcom.sun.management.jmxremote.port=&lt;port&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=&lt;ip address&gt;\r\n\r\nThe entire process is listed  [here][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/management/agent.html#gcykd","title":"Debugging JConsole Connection Failed","body":"<p>This finally made it work for me : Giving this extra option: <code> -Djava.rmi.server.hostname=&lt;ip addres where jvm is running</code></p>\n<p>So all the vm arguments used to open jconsole from a remote machine, the jvm on the remote machine must be started with</p>\n<pre><code> -Dcom.sun.management.jmxremote.authenticate=false  -Dcom.sun.management.jmxremote.port=&lt;port&gt; -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=&lt;ip address&gt;\n</code></pre>\n<p>The entire process is listed  <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/management/agent.html#gcykd\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552500358,"creation_date":1552500358,"answer_id":55148577,"question_id":5455831,"body_markdown":"If you are accessing a machine behind a firewall, you need to open both JMX and RMI ports.&lt;br&gt;\r\nIn this context, you are much better off forcing the value for RMI than relying on the auto assigned&lt;br&gt;\r\nIn my case, I was trying to access Tomcat so I had to do the following:\r\n\r\n    #!/bin/sh\r\n    CATALINA_OPTS=&quot;$CATALINA_OPTS -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Addresses=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8008 -Dcom.sun.management.jmxremote.rmi.port=8007 -Dcom.sun.\r\n    management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false&quot;\r\n\r\nand then\r\n\r\n    firewall-cmd --zone=public --add-port=8008/tcp --permanent\r\n    firewall-cmd --zone=public --add-port=8007/tcp --permanent\r\n    firewall-cmd --reload\r\n\r\n","title":"Debugging JConsole Connection Failed","body":"<p>If you are accessing a machine behind a firewall, you need to open both JMX and RMI ports.<br>\nIn this context, you are much better off forcing the value for RMI than relying on the auto assigned<br>\nIn my case, I was trying to access Tomcat so I had to do the following:</p>\n\n<pre><code>#!/bin/sh\nCATALINA_OPTS=\"$CATALINA_OPTS -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Addresses=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8008 -Dcom.sun.management.jmxremote.rmi.port=8007 -Dcom.sun.\nmanagement.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\"\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>firewall-cmd --zone=public --add-port=8008/tcp --permanent\nfirewall-cmd --zone=public --add-port=8007/tcp --permanent\nfirewall-cmd --reload\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13080975,"reputation":56,"user_id":9451541,"display_name":"schnejj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664553531,"creation_date":1664553531,"answer_id":73911285,"question_id":5455831,"body_markdown":"For me, I was using a local process connection and had the same issue as OP.  The misconception I had was, &quot;Connection can&#39;t be refused if it local, right?&quot; Not necessarily.\r\n\r\nAnother user, JeneralJames, mentioned the exact same symptoms I had in a comment on samarth&#39;s answer.\r\n\r\nWhat resolved it was disconnecting from VPN (or alternatively enabling LAN access while connected to VPN - a non-default configuration for my VPN settings).\r\n\r\nI discovered the issue by running `jconsole -debug` as suggested by rogerdpack, and it showed me an IP I was not expecting in the connection attempt (despite being a connection to a local process).  My VPN settings at the time disallowed connections on the local network entirely, so java was looking up the local IP, getting the value, but that IP is not allowed to connect due to the VPN configuration, so the &quot;local connection&quot; was rejected.\r\n\r\nApparently jconsole (or any other MBeans using JMX app for that matter) will use this incorrect IP by default even for local connections.  I hope this helps someone else out, I have spent 3 days perusing multiple stackoverflow threads and java documentation to no avail until discovering that -debug option.","title":"Debugging JConsole Connection Failed","body":"<p>For me, I was using a local process connection and had the same issue as OP.  The misconception I had was, &quot;Connection can't be refused if it local, right?&quot; Not necessarily.</p>\n<p>Another user, JeneralJames, mentioned the exact same symptoms I had in a comment on samarth's answer.</p>\n<p>What resolved it was disconnecting from VPN (or alternatively enabling LAN access while connected to VPN - a non-default configuration for my VPN settings).</p>\n<p>I discovered the issue by running <code>jconsole -debug</code> as suggested by rogerdpack, and it showed me an IP I was not expecting in the connection attempt (despite being a connection to a local process).  My VPN settings at the time disallowed connections on the local network entirely, so java was looking up the local IP, getting the value, but that IP is not allowed to connect due to the VPN configuration, so the &quot;local connection&quot; was rejected.</p>\n<p>Apparently jconsole (or any other MBeans using JMX app for that matter) will use this incorrect IP by default even for local connections.  I hope this helps someone else out, I have spent 3 days perusing multiple stackoverflow threads and java documentation to no avail until discovering that -debug option.</p>\n"}],"owner":{"account_id":20893,"reputation":3302,"user_id":1343428,"accept_rate":61,"display_name":"Franz See"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64751,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":7444718,"answer_count":9,"score":27,"last_activity_date":1685634915,"creation_date":1301297198,"question_id":5455831,"body_markdown":"I have a web application deployed to a remote resin server, and it has JMX turned on.\r\n\r\nI can telnet to the remote server i.e\r\n\r\n    franz@see:/tmp$ telnet &lt;remote-ip&gt; 5555\r\n    Trying &lt;remote-ip&gt;...\r\n    Connected to &lt;remote-ip&gt;.\r\n    Escape character is &#39;^]&#39;.\r\n    ÔøΩÔøΩsr5javax.management.remote.message.HandshakeBeginMessageÔøΩ,ÔøΩÔøΩÔøΩ6profilestLjava/lang/String;Lversionq~xppt1.0^]\r\n    \r\n    telnet&gt; q\r\n    Connection closed.\r\n\r\nBut I cannot connect to it using my JConsole\r\n\r\n    $JAVA_HOME/bin/java -cp $JAVA_HOME/lib/jconsole.jar:$JAVA_HOME/lib/tools.jar:pm-common/lib/jmxremote_optional-1_0_1_3.jar sun.tools.jconsole.JConsole service:jmx:jmxmp://&lt;remote-ip&gt;:5555\r\n\r\nI have tried this with the following java versions but I get a &#39;Connection Failed&#39; on both instances. \r\n\r\n    ## where JAVA_HOME=/opt/java/64/jdk1.5.0_22\r\n    java version &quot;1.5.0_22&quot;\r\n    Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_22-b03)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 1.5.0_22-b03, mixed mode)\r\n\r\n    ## where JAVA_HOME=/opt/java/64/jdk1.6.0_17\r\n    java version &quot;1.6.0_17&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_17-b04)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 14.3-b01, mixed mode)\r\n\r\nDo you guys have any idea as to how to debug this (i.e. find out what&#39;s wrong)?","title":"Debugging JConsole Connection Failed","body":"<p>I have a web application deployed to a remote resin server, and it has JMX turned on.</p>\n\n<p>I can telnet to the remote server i.e</p>\n\n<pre><code>franz@see:/tmp$ telnet &lt;remote-ip&gt; 5555\nTrying &lt;remote-ip&gt;...\nConnected to &lt;remote-ip&gt;.\nEscape character is '^]'.\nÔøΩÔøΩsr5javax.management.remote.message.HandshakeBeginMessageÔøΩ,ÔøΩÔøΩÔøΩ6profilestLjava/lang/String;Lversionq~xppt1.0^]\n\ntelnet&gt; q\nConnection closed.\n</code></pre>\n\n<p>But I cannot connect to it using my JConsole</p>\n\n<pre><code>$JAVA_HOME/bin/java -cp $JAVA_HOME/lib/jconsole.jar:$JAVA_HOME/lib/tools.jar:pm-common/lib/jmxremote_optional-1_0_1_3.jar sun.tools.jconsole.JConsole service:jmx:jmxmp://&lt;remote-ip&gt;:5555\n</code></pre>\n\n<p>I have tried this with the following java versions but I get a 'Connection Failed' on both instances. </p>\n\n<pre><code>## where JAVA_HOME=/opt/java/64/jdk1.5.0_22\njava version \"1.5.0_22\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_22-b03)\nJava HotSpot(TM) 64-Bit Server VM (build 1.5.0_22-b03, mixed mode)\n\n## where JAVA_HOME=/opt/java/64/jdk1.6.0_17\njava version \"1.6.0_17\"\nJava(TM) SE Runtime Environment (build 1.6.0_17-b04)\nJava HotSpot(TM) 64-Bit Server VM (build 14.3-b01, mixed mode)\n</code></pre>\n\n<p>Do you guys have any idea as to how to debug this (i.e. find out what's wrong)?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683658024,"post_id":76212508,"comment_id":134399635,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] your question to post the relevant text/output/scripts as text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/76212508/edit\">edit</a> your question to post the relevant text/output/scripts as text."}],"answers":[{"tags":[],"owner":{"account_id":28560749,"reputation":1,"user_id":21864325,"display_name":"Sambit Khandai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685634822,"creation_date":1685634822,"answer_id":76383706,"question_id":76212508,"body_markdown":"It works after I put @CrossOrigin on Top of StudentController.java","title":"Spring Boot API Calling returning status:200(OK), But No result is showing under the created database","body":"<p>It works after I put @CrossOrigin on Top of StudentController.java</p>\n"}],"owner":{"account_id":28560749,"reputation":1,"user_id":21864325,"display_name":"Sambit Khandai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76383706,"answer_count":1,"score":0,"last_activity_date":1685634822,"creation_date":1683657696,"question_id":76212508,"body_markdown":"After executing the following code in Visual Studio Thunder Client I got the Status code as 200(OK). But the main problem is the data is not getting aggregating in mongodb database.\r\n\r\n \r\n***Here is My code:***\r\n\r\n**Student.java**\r\n\r\n```\r\npackage MongodbExample.Entity;\r\n\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;students&quot;)\r\npublic class Students {\r\n\t\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String city;\r\n\tprivate String college;\r\n\r\n\tpublic Students(int id, String name, String city, String college) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.city = city;\r\n\t\tthis.college = college;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\r\n\tpublic String getCollege() {\r\n\t\treturn college;\r\n\t}\r\n\r\n\tpublic void setCollege(String college) {\r\n\t\tthis.college = college;\r\n\t}\r\n}\r\n```\r\n\r\n**StudentRepository.java**\r\n\r\n```\r\npackage MongodbExample.Repository;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\nimport MongodbExample.Entity.Students;\r\n\r\npublic interface StudentRepository extends MongoRepository&lt;Students, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\n**StudentController.java**\r\n\r\n```\r\npackage MongodbExample.Controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport MongodbExample.Entity.Students;\r\nimport MongodbExample.Repository.StudentRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/student&quot;)\r\npublic class StudentController {\r\n\r\n\t@Autowired\r\n\tprivate StudentRepository studentRepo;\r\n\t\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addStudent(@RequestBody Students student) {\r\n\t\tStudents save = this.studentRepo.save(student);\r\n\t\treturn ResponseEntity.ok(save);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getStudent() {\r\n\t\treturn ResponseEntity.ok(this.studentRepo.findAll());\r\n\t}\r\n}\r\n```\r\n\r\n**application.propertites**\r\n\r\n```\r\nspring.data.mongodb.host=localhost\r\nspring.data.mongodb.port=27017\r\nspring.data.mongodb.database=Spring_Testing\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mongodb.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;MongodbExample&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;MongodbExample&lt;/name&gt;\r\n\t&lt;description&gt;This is mongodb practice connection&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n**Here is my API Call screenshot in Visual Studio.**\r\n[API CALL](https://i.stack.imgur.com/lnEEC.png)\r\n\r\n**Here is my Mongodb screenshot in MongoDBCompass.**\r\n[Monogodb bashcell](https://i.stack.imgur.com/7TKe5.png)","title":"Spring Boot API Calling returning status:200(OK), But No result is showing under the created database","body":"<p>After executing the following code in Visual Studio Thunder Client I got the Status code as 200(OK). But the main problem is the data is not getting aggregating in mongodb database.</p>\n<p><em><strong>Here is My code:</strong></em></p>\n<p><strong>Student.java</strong></p>\n<pre><code>package MongodbExample.Entity;\n\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;students&quot;)\npublic class Students {\n    \n    private int id;\n    private String name;\n    private String city;\n    private String college;\n\n    public Students(int id, String name, String city, String college) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.city = city;\n        this.college = college;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getCollege() {\n        return college;\n    }\n\n    public void setCollege(String college) {\n        this.college = college;\n    }\n}\n</code></pre>\n<p><strong>StudentRepository.java</strong></p>\n<pre><code>package MongodbExample.Repository;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\nimport MongodbExample.Entity.Students;\n\npublic interface StudentRepository extends MongoRepository&lt;Students, Integer&gt; {\n\n}\n</code></pre>\n<p><strong>StudentController.java</strong></p>\n<pre><code>package MongodbExample.Controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport MongodbExample.Entity.Students;\nimport MongodbExample.Repository.StudentRepository;\n\n@RestController\n@RequestMapping(&quot;/student&quot;)\npublic class StudentController {\n\n    @Autowired\n    private StudentRepository studentRepo;\n    \n    @PostMapping(&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; addStudent(@RequestBody Students student) {\n        Students save = this.studentRepo.save(student);\n        return ResponseEntity.ok(save);\n    }\n    \n    @GetMapping(&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; getStudent() {\n        return ResponseEntity.ok(this.studentRepo.findAll());\n    }\n}\n</code></pre>\n<p><strong>application.propertites</strong></p>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=Spring_Testing\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mongodb.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MongodbExample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MongodbExample&lt;/name&gt;\n    &lt;description&gt;This is mongodb practice connection&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Here is my API Call screenshot in Visual Studio.</strong>\n<a href=\"https://i.stack.imgur.com/lnEEC.png\" rel=\"nofollow noreferrer\">API CALL</a></p>\n<p><strong>Here is my Mongodb screenshot in MongoDBCompass.</strong>\n<a href=\"https://i.stack.imgur.com/7TKe5.png\" rel=\"nofollow noreferrer\">Monogodb bashcell</a></p>\n"},{"tags":["java","android","flutter","performance","kotlin"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1685618396,"post_id":76381246,"comment_id":134686848,"body_markdown":"Please review the [ask] link and then consider sharing more pertinent information in your question.","body":"Please review the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link and then consider sharing more pertinent information in your question."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1685618776,"post_id":76381246,"comment_id":134686919,"body_markdown":"Also, have you checked the answers that can be found in the many [similar questions on this site](https://www.google.com/search?q=site%3Astackoverflow.com+java+Call+requires+permission+which+may+be+rejected+by+user)?","body":"Also, have you checked the answers that can be found in the many <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+Call+requires+permission+which+may+be+rejected+by+user\" rel=\"nofollow noreferrer\">similar questions on this site</a>?"}],"owner":{"account_id":23316709,"reputation":21,"user_id":17395229,"display_name":"Akash Soam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1685634270,"creation_date":1685617626,"question_id":76381246,"body_markdown":"I am trying to make Bluetooth chatting app. I have two activities in it:\\\r\n**please please see it is a short project**\\\r\ngit repo:https://github.com/soam1/BlueToothChattingApp.git \\\r\n1.MainActivity\\\r\n2.DeviceListActivity \\\r\nHere is my MainActivity.java:\r\n \r\n\r\n        package com.example.bluetoothchatapp;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.app.AlertDialog;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothManager;\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private Context context;\r\n        BluetoothManager bluetoothManager ;\r\n        private BluetoothAdapter bluetoothAdapter;\r\n        private static final int REQUEST_BLUETOOTH_PERMISSION = 1;\r\n        private static final int REQUEST_LOCATION_PERMISSION = 101;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            context = this;\r\n            bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n            initBluetooth();\r\n        }\r\n    \r\n        private void initBluetooth() {\r\n    //        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            bluetoothAdapter = bluetoothManager.getAdapter();\r\n            if (bluetoothAdapter == null) {\r\n                Toast.makeText(context, &quot;No Bluetooth found&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.menu_main_activity, menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n            if (item.getItemId() == R.id.menu_search_devices) {\r\n                Toast.makeText(context, &quot;searching for devices...&quot;, Toast.LENGTH_SHORT).show();\r\n                checkPermissions();\r\n                return true;\r\n            }\r\n            if (item.getItemId() == R.id.menu_enable_bluetooth) {\r\n    //            Toast.makeText(context, &quot;Turning on Bluetooth...&quot;, Toast.LENGTH_SHORT).show();\r\n                enableBluetooth();\r\n                return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n    \r\n        }\r\n        private  void checkPermissions(){\r\n            if(ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED){\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION_PERMISSION);\r\n            }\r\n            else{\r\n                Intent intent = new Intent(context, DeviceListActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            if(requestCode == REQUEST_LOCATION_PERMISSION){\r\n                if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                    Intent intent = new Intent(context, DeviceListActivity.class);\r\n                    startActivity(intent);\r\n    \r\n                }else {\r\n                    new AlertDialog.Builder(context).setCancelable(false).setMessage(&quot;Please grant location permission(required)&quot;).setPositiveButton(&quot;Grant&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            checkPermissions();\r\n                        }\r\n                    }).setNegativeButton(&quot;Deny&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            MainActivity.this.finish();\r\n                        }\r\n                    }).show();\r\n                }\r\n            }else {\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            }\r\n        }\r\n    \r\n        private void enableBluetooth() {\r\n            if (bluetoothAdapter.isEnabled())\r\n                Toast.makeText(context, &quot;Bluetooth already enable&quot;, Toast.LENGTH_SHORT).show();\r\n            else {\r\n                Toast.makeText(context, &quot;Turning on Bluetooth&quot;, Toast.LENGTH_SHORT).show();\r\n                if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n    //                bluetoothAdapter.enable();\r\n                    // Permission has not been granted, so we need to request it\r\n                    ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_BLUETOOTH_PERMISSION);\r\n    //                Toast.makeText(context, &quot;Could not turn on&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }else{\r\n                    bluetoothAdapter.enable();\r\n                }\r\n            }\r\n            if(bluetoothAdapter.getScanMode() != BluetoothAdapter.SCAN_MODE_CONNECTABLE){\r\n                Intent discoveryIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n                discoveryIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\r\n                startActivity(discoveryIntent);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    //    @Override\r\n    //    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n    //        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    //        if (requestCode == REQUEST_BLUETOOTH_PERMISSION) {\r\n    //            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    //                Toast.makeText(context,&quot;permission granted&quot;, Toast.LENGTH_SHORT).show();\r\n    //            }\r\n    //            else {\r\n    //                Toast.makeText(context,&quot;permission NOT granted&quot;, Toast.LENGTH_SHORT).show();\r\n    //            }\r\n    //        }\r\n    //    }\r\n    \r\n    \r\n    }\r\n\r\nHere is my DeviceListActivity.java:  \r\n***\r\n\r\n **error showing is:\r\n Call requires permission which may be rejected by user: code should explicitly check to see if permission is available (with\r\ncheckPermission) or explicitly handle a potential SecurityException**\r\n\r\n\r\n\r\n    \r\n    package com.example.bluetoothchatapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothManager;\r\n    import android.content.Context;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    \r\n    import java.util.Set;\r\n    \r\n    public class DeviceListActivity extends AppCompatActivity {\r\n    private ListView listPairedDevices, listAvailableDevices;\r\n    private ArrayAdapter&lt;String&gt; adapterPairedDevices;\r\n    private ArrayAdapter&lt;String&gt; adapterAvailableDevices;\r\n    private  static final int REQUEST_BLUETOOTH_PERMISSION = 101;\r\n    private Context context;\r\n    \r\n    \r\n    private BluetoothAdapter bluetoothAdapter;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_device_list);\r\n    context = this;\r\n    init();\r\n    }\r\n    \r\n    private void init() {\r\n    listAvailableDevices = findViewById(R.id.list_available_devices);\r\n    listPairedDevices = findViewById(R.id.list_paired_devices);\r\n    \r\n    adapterAvailableDevices = new ArrayAdapter&lt;&gt;(context, R.layout.device_list_item);\r\n    adapterPairedDevices = new ArrayAdapter&lt;&gt;(context, R.layout.device_list_item);\r\n    \r\n    listPairedDevices.setAdapter(adapterPairedDevices);\r\n    listPairedDevices.setAdapter(adapterAvailableDevices);\r\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    Set&lt;BluetoothDevice&gt; pairedDevices=null;\r\n    &gt;! # //***here(below line)***\r\n    pairedDevices = bluetoothAdapter.getBondedDevices();\r\n    if(pairedDevices!=null &amp;&amp; pairedDevices.size()&gt;0){\r\n    for (BluetoothDevice device: pairedDevices){\r\n    &gt;! # //***here(below line)***\r\n    adapterPairedDevices.add(device.getName()+&quot;\\n&quot;+device.getAddress());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\\\r\nand here is my AndroidManifest.xml:\\\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.BluetoothChatApp&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.DeviceListActivity&quot;\r\n                android:exported=&quot;false&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n\r\n","title":"code should explicitly check to see if permission is available (with checkPermission) or explicitly handle a potential SecurityException","body":"<p>I am trying to make Bluetooth chatting app. I have two activities in it:<br />\n<strong>please please see it is a short project</strong><br />\ngit repo:<a href=\"https://github.com/soam1/BlueToothChattingApp.git\" rel=\"nofollow noreferrer\">https://github.com/soam1/BlueToothChattingApp.git</a> <br />\n1.MainActivity<br />\n2.DeviceListActivity <br />\nHere is my MainActivity.java:</p>\n<pre><code>    package com.example.bluetoothchatapp;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.app.AlertDialog;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothManager;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private Context context;\n    BluetoothManager bluetoothManager ;\n    private BluetoothAdapter bluetoothAdapter;\n    private static final int REQUEST_BLUETOOTH_PERMISSION = 1;\n    private static final int REQUEST_LOCATION_PERMISSION = 101;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        context = this;\n        bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n        initBluetooth();\n    }\n\n    private void initBluetooth() {\n//        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        bluetoothAdapter = bluetoothManager.getAdapter();\n        if (bluetoothAdapter == null) {\n            Toast.makeText(context, &quot;No Bluetooth found&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main_activity, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        if (item.getItemId() == R.id.menu_search_devices) {\n            Toast.makeText(context, &quot;searching for devices...&quot;, Toast.LENGTH_SHORT).show();\n            checkPermissions();\n            return true;\n        }\n        if (item.getItemId() == R.id.menu_enable_bluetooth) {\n//            Toast.makeText(context, &quot;Turning on Bluetooth...&quot;, Toast.LENGTH_SHORT).show();\n            enableBluetooth();\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n\n    }\n    private  void checkPermissions(){\n        if(ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION_PERMISSION);\n        }\n        else{\n            Intent intent = new Intent(context, DeviceListActivity.class);\n            startActivity(intent);\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        if(requestCode == REQUEST_LOCATION_PERMISSION){\n            if(grantResults.length&gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                Intent intent = new Intent(context, DeviceListActivity.class);\n                startActivity(intent);\n\n            }else {\n                new AlertDialog.Builder(context).setCancelable(false).setMessage(&quot;Please grant location permission(required)&quot;).setPositiveButton(&quot;Grant&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        checkPermissions();\n                    }\n                }).setNegativeButton(&quot;Deny&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        MainActivity.this.finish();\n                    }\n                }).show();\n            }\n        }else {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        }\n    }\n\n    private void enableBluetooth() {\n        if (bluetoothAdapter.isEnabled())\n            Toast.makeText(context, &quot;Bluetooth already enable&quot;, Toast.LENGTH_SHORT).show();\n        else {\n            Toast.makeText(context, &quot;Turning on Bluetooth&quot;, Toast.LENGTH_SHORT).show();\n            if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n//                bluetoothAdapter.enable();\n                // Permission has not been granted, so we need to request it\n                ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.BLUETOOTH_CONNECT}, REQUEST_BLUETOOTH_PERMISSION);\n//                Toast.makeText(context, &quot;Could not turn on&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }else{\n                bluetoothAdapter.enable();\n            }\n        }\n        if(bluetoothAdapter.getScanMode() != BluetoothAdapter.SCAN_MODE_CONNECTABLE){\n            Intent discoveryIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n            discoveryIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\n            startActivity(discoveryIntent);\n        }\n    }\n\n\n\n\n//    @Override\n//    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n//        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n//        if (requestCode == REQUEST_BLUETOOTH_PERMISSION) {\n//            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n//                Toast.makeText(context,&quot;permission granted&quot;, Toast.LENGTH_SHORT).show();\n//            }\n//            else {\n//                Toast.makeText(context,&quot;permission NOT granted&quot;, Toast.LENGTH_SHORT).show();\n//            }\n//        }\n//    }\n\n\n}\n</code></pre>\n<p>Here is my DeviceListActivity.java:</p>\n<hr />\n<p><strong>error showing is:\nCall requires permission which may be rejected by user: code should explicitly check to see if permission is available (with\ncheckPermission) or explicitly handle a potential SecurityException</strong></p>\n<pre><code>package com.example.bluetoothchatapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothManager;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport java.util.Set;\n\npublic class DeviceListActivity extends AppCompatActivity {\nprivate ListView listPairedDevices, listAvailableDevices;\nprivate ArrayAdapter&lt;String&gt; adapterPairedDevices;\nprivate ArrayAdapter&lt;String&gt; adapterAvailableDevices;\nprivate  static final int REQUEST_BLUETOOTH_PERMISSION = 101;\nprivate Context context;\n\n\nprivate BluetoothAdapter bluetoothAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_device_list);\ncontext = this;\ninit();\n}\n\nprivate void init() {\nlistAvailableDevices = findViewById(R.id.list_available_devices);\nlistPairedDevices = findViewById(R.id.list_paired_devices);\n\nadapterAvailableDevices = new ArrayAdapter&lt;&gt;(context, R.layout.device_list_item);\nadapterPairedDevices = new ArrayAdapter&lt;&gt;(context, R.layout.device_list_item);\n\nlistPairedDevices.setAdapter(adapterPairedDevices);\nlistPairedDevices.setAdapter(adapterAvailableDevices);\nbluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\nSet&lt;BluetoothDevice&gt; pairedDevices=null;\n&gt;! # //***here(below line)***\npairedDevices = bluetoothAdapter.getBondedDevices();\nif(pairedDevices!=null &amp;&amp; pairedDevices.size()&gt;0){\nfor (BluetoothDevice device: pairedDevices){\n&gt;! # //***here(below line)***\nadapterPairedDevices.add(device.getName()+&quot;\\n&quot;+device.getAddress());\n            }\n        }\n    }\n}\n</code></pre>\n<p><br />\nand here is my AndroidManifest.xml:\\</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.BluetoothChatApp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.DeviceListActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["javascript","java","node.js","cryptography","diffie-hellman"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1545845233,"post_id":53933379,"comment_id":94710412,"body_markdown":"The public key from Java side is obtained from a call to `Key.getEncoded()`. By also calling `Key.getFormat()` you would have found the format of the output of `getEncoded` is X.509, also known as SubjectPublicKeyInfo (see RFC 5280). Evidently, node&#39;s crypto module doesn&#39;t accept that format. Since the node [documentation appears to be garbage](https://nodejs.org/api/crypto.html#crypto_diffiehellman_computesecret_otherpublickey_inputencoding_outputencoding), I can&#39;t tell what node expects.","body":"The public key from Java side is obtained from a call to <code>Key.getEncoded()</code>. By also calling <code>Key.getFormat()</code> you would have found the format of the output of <code>getEncoded</code> is X.509, also known as SubjectPublicKeyInfo (see RFC 5280). Evidently, node&#39;s crypto module doesn&#39;t accept that format. Since the node <a href=\"https://nodejs.org/api/crypto.html#crypto_diffiehellman_computesecret_otherpublickey_inputencoding_outputencoding\" rel=\"nofollow noreferrer\">documentation appears to be garbage</a>, I can&#39;t tell what node expects."},{"owner":{"account_id":10796204,"reputation":710,"user_id":8098918,"accept_rate":86,"display_name":"Geek Guy"},"score":0,"creation_date":1545849287,"post_id":53933379,"comment_id":94711674,"body_markdown":"@JamesKPolk so does that mean that I might need to write personal DH key exchange implementation in node since I know what it expects?","body":"@JamesKPolk so does that mean that I might need to write personal DH key exchange implementation in node since I know what it expects?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1545849572,"post_id":53933379,"comment_id":94711775,"body_markdown":"It means you must find a compatible way to exchange public DH keys between Java and node. Maybe you can look at the node crypto module source code and figure out what it expects, or maybe you can find the information somewhere. Nobody does this stuff by hand anymore anyway, the correct answer is almost always to use SSL/TLS unless you are already a cryptographer.","body":"It means you must find a compatible way to exchange public DH keys between Java and node. Maybe you can look at the node crypto module source code and figure out what it expects, or maybe you can find the information somewhere. Nobody does this stuff by hand anymore anyway, the correct answer is almost always to use SSL/TLS unless you are already a cryptographer."},{"owner":{"account_id":10796204,"reputation":710,"user_id":8098918,"accept_rate":86,"display_name":"Geek Guy"},"score":0,"creation_date":1545849768,"post_id":53933379,"comment_id":94711835,"body_markdown":"Possible solution then, would it be prudent if I convert the `X.509` back to Biginteger then encode it in a format node can use?","body":"Possible solution then, would it be prudent if I convert the <code>X.509</code> back to Biginteger then encode it in a format node can use?"},{"owner":{"account_id":10796204,"reputation":710,"user_id":8098918,"accept_rate":86,"display_name":"Geek Guy"},"score":0,"creation_date":1545849874,"post_id":53933379,"comment_id":94711861,"body_markdown":"Okay, I get it, let me go through the source code","body":"Okay, I get it, let me go through the source code"},{"owner":{"account_id":12247452,"reputation":158,"user_id":10971910,"display_name":"Vladlen Volkov"},"score":0,"creation_date":1575978992,"post_id":53933379,"comment_id":104740833,"body_markdown":"@GeekGuy, have you found any solution?","body":"@GeekGuy, have you found any solution?"},{"owner":{"account_id":10796204,"reputation":710,"user_id":8098918,"accept_rate":86,"display_name":"Geek Guy"},"score":0,"creation_date":1575987087,"post_id":53933379,"comment_id":104745442,"body_markdown":"@–í–ª–∞–¥–í–æ–ª–∫–æ–≤ This approach did not work for me but I have plans of getting back to it soon now that node&#39;s crypto module was updated. Feel free to advance it","body":"@–í–ª–∞–¥–í–æ–ª–∫–æ–≤ This approach did not work for me but I have plans of getting back to it soon now that node&#39;s crypto module was updated. Feel free to advance it"}],"answers":[{"tags":[],"owner":{"account_id":304512,"reputation":434,"user_id":614054,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635367761,"creation_date":1635367761,"answer_id":69745317,"question_id":53933379,"body_markdown":"Here is a working example of DH key exchange within NodeJS and Java.\r\n\r\nNode:\r\n\r\n    // Step 1. Generate Alice DH key in NodeJS side\r\n    let crypto = require(&#39;crypto&#39;);\r\n    let dh = crypto.getDiffieHellman(&#39;modp14&#39;);\r\n    dh.generateKeys();\r\n\r\n    let alicePublicKey = dh.getPublicKey().toString(&#39;hex&#39;);\r\n    console.log(alicePublicKey);    // 308a5cff.....e6ded9d5  ----&gt; send to Bob\r\n\r\n    // Step 5. Check shared secret\r\n    let bobPublicKey = &quot;00a8e459...61e210d9&quot;;     // &lt;---- receive from Bob   \r\n    let shared = dh.computeSecret(Buffer.from(bobPublicKey, &quot;hex&quot;), null, &#39;hex&#39;);   \r\n    console.log(shared);    // dd83430d...22156ebd - must be the same as in the Java side\r\n\r\nJava:\r\n\r\n    void testDH() {\r\n        // Step 2. Configure DH params on Java side\r\n        DHParameterSpec modp14 = modp14();\r\n\r\n        // Step 3. Encode public key from Alice\r\n        byte[] alicePubKeyEnc = hexStringToByteArray(&quot;308a5cff.....e6ded9d5&quot;);\r\n        BigInteger alicePublic = new BigInteger(alicePubKeyEnc);\r\n\r\n        KeyFactory bobKeyFactory = KeyFactory.getInstance(&quot;DH&quot;);\r\n        DHPublicKeySpec bobPubKeySpecs = new DHPublicKeySpec(\r\n            alicePublic,        // &lt;---- use Alice&#39;s public\r\n            modp14.getP(), \r\n            modp14.getG());        \r\n        DHPublicKey alicePubKey = (DHPublicKey)bobKeyFactory.generatePublic(bobPubKeySpecs);\r\n\r\n        // Step 4. Generate Bob DH key in Java side\r\n        KeyPairGenerator bobKpairGen = KeyPairGenerator.getInstance(&quot;DH&quot;);\r\n        bobKpairGen.initialize(modp14);\r\n        KeyPair bobKpair = bobKpairGen.generateKeyPair();\r\n        System.out.println(&quot;Bob public key: &quot; \r\n            + bytesToHex(((DHPublicKey)bobKpair.getPublic()).getY().toByteArray()));      \r\n        // 00a8e459...61e210d9\r\n\r\n        // Step 6. Generates shared secret\r\n        KeyAgreement bobKeyAgree = KeyAgreement.getInstance(&quot;DH&quot;);\r\n        bobKeyAgree.init(bobKpair.getPrivate());\r\n        bobKeyAgree.doPhase(alicePubKey, true);\r\n\r\n        byte[] bobSharedSecret = new byte[alicePubKeyEnc.length];\r\n        bobKeyAgree.generateSecret(bobSharedSecret, 0);\r\n        System.out.println(&quot;Bob&#39;s shared secret: &quot;\r\n             +  bytesToHex(bobSharedSecret));     // dd83430d...22156ebd\r\n    }\r\n\r\n    public static DHParameterSpec modp14() {\r\n        final BigInteger p =\r\n                new BigInteger(\r\n                        &quot;ffffffffffffffffc90fdaa22168c234c4c6628b80dc1c&quot; +\r\n                                &quot;d129024e088a67cc74020bbea63b139b22514a08798e3404&quot; +\r\n                                &quot;ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c2&quot; +\r\n                                &quot;45e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7&quot; +\r\n                                &quot;edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b&quot; +\r\n                                &quot;3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf&quot; +\r\n                                &quot;5f83655d23dca3ad961c62f356208552bb9ed52907709696&quot; +\r\n                                &quot;6d670c354e4abc9804f1746c08ca18217c32905e462e36ce&quot; +\r\n                                &quot;3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52&quot; +\r\n                                &quot;c9de2bcbf6955817183995497cea956ae515d2261898fa05&quot; +\r\n                                &quot;1015728e5a8aacaa68ffffffffffffffff&quot;,\r\n                        16);\r\n        final BigInteger g = new BigInteger(&quot;2&quot;);\r\n        return new DHParameterSpec(p, g);\r\n    }\r\n\r\n - Tested using NodeJS v17.0.1 and OpenJDK 14.0.1.\r\n - See [this SO question][1] about using `modp14`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60563334/node-js-crypto-key-creation-using-java","title":"Diffie Hellman Key exchange between Java Client an nodejs Server","body":"<p>Here is a working example of DH key exchange within NodeJS and Java.</p>\n<p>Node:</p>\n<pre><code>// Step 1. Generate Alice DH key in NodeJS side\nlet crypto = require('crypto');\nlet dh = crypto.getDiffieHellman('modp14');\ndh.generateKeys();\n\nlet alicePublicKey = dh.getPublicKey().toString('hex');\nconsole.log(alicePublicKey);    // 308a5cff.....e6ded9d5  ----&gt; send to Bob\n\n// Step 5. Check shared secret\nlet bobPublicKey = &quot;00a8e459...61e210d9&quot;;     // &lt;---- receive from Bob   \nlet shared = dh.computeSecret(Buffer.from(bobPublicKey, &quot;hex&quot;), null, 'hex');   \nconsole.log(shared);    // dd83430d...22156ebd - must be the same as in the Java side\n</code></pre>\n<p>Java:</p>\n<pre><code>void testDH() {\n    // Step 2. Configure DH params on Java side\n    DHParameterSpec modp14 = modp14();\n\n    // Step 3. Encode public key from Alice\n    byte[] alicePubKeyEnc = hexStringToByteArray(&quot;308a5cff.....e6ded9d5&quot;);\n    BigInteger alicePublic = new BigInteger(alicePubKeyEnc);\n\n    KeyFactory bobKeyFactory = KeyFactory.getInstance(&quot;DH&quot;);\n    DHPublicKeySpec bobPubKeySpecs = new DHPublicKeySpec(\n        alicePublic,        // &lt;---- use Alice's public\n        modp14.getP(), \n        modp14.getG());        \n    DHPublicKey alicePubKey = (DHPublicKey)bobKeyFactory.generatePublic(bobPubKeySpecs);\n\n    // Step 4. Generate Bob DH key in Java side\n    KeyPairGenerator bobKpairGen = KeyPairGenerator.getInstance(&quot;DH&quot;);\n    bobKpairGen.initialize(modp14);\n    KeyPair bobKpair = bobKpairGen.generateKeyPair();\n    System.out.println(&quot;Bob public key: &quot; \n        + bytesToHex(((DHPublicKey)bobKpair.getPublic()).getY().toByteArray()));      \n    // 00a8e459...61e210d9\n\n    // Step 6. Generates shared secret\n    KeyAgreement bobKeyAgree = KeyAgreement.getInstance(&quot;DH&quot;);\n    bobKeyAgree.init(bobKpair.getPrivate());\n    bobKeyAgree.doPhase(alicePubKey, true);\n\n    byte[] bobSharedSecret = new byte[alicePubKeyEnc.length];\n    bobKeyAgree.generateSecret(bobSharedSecret, 0);\n    System.out.println(&quot;Bob's shared secret: &quot;\n         +  bytesToHex(bobSharedSecret));     // dd83430d...22156ebd\n}\n\npublic static DHParameterSpec modp14() {\n    final BigInteger p =\n            new BigInteger(\n                    &quot;ffffffffffffffffc90fdaa22168c234c4c6628b80dc1c&quot; +\n                            &quot;d129024e088a67cc74020bbea63b139b22514a08798e3404&quot; +\n                            &quot;ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c2&quot; +\n                            &quot;45e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7&quot; +\n                            &quot;edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b&quot; +\n                            &quot;3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf&quot; +\n                            &quot;5f83655d23dca3ad961c62f356208552bb9ed52907709696&quot; +\n                            &quot;6d670c354e4abc9804f1746c08ca18217c32905e462e36ce&quot; +\n                            &quot;3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52&quot; +\n                            &quot;c9de2bcbf6955817183995497cea956ae515d2261898fa05&quot; +\n                            &quot;1015728e5a8aacaa68ffffffffffffffff&quot;,\n                    16);\n    final BigInteger g = new BigInteger(&quot;2&quot;);\n    return new DHParameterSpec(p, g);\n}\n</code></pre>\n<ul>\n<li>Tested using NodeJS v17.0.1 and OpenJDK 14.0.1.</li>\n<li>See <a href=\"https://stackoverflow.com/questions/60563334/node-js-crypto-key-creation-using-java\">this SO question</a> about using <code>modp14</code></li>\n</ul>\n"}],"owner":{"account_id":10796204,"reputation":710,"user_id":8098918,"accept_rate":86,"display_name":"Geek Guy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69745317,"answer_count":1,"score":1,"last_activity_date":1685633537,"creation_date":1545834515,"question_id":53933379,"body_markdown":"I have node js server for my android app and I want the communication to be secured using DH key exchange. I am able to generate the Prime `p` and the Base `g` in java same with nodejs(can be corrected if not right) \r\n\r\n**The Problem:**\r\n\r\n**1.** I want to use the secret `p` and `g` on both client side and server side since there will be encryption and decryption from both sides yet \r\n`crypto.createDiffieHellman()` nodejs function shown in documentation only takes the parameter of `bitlength` so I have hard-coded these params after finding that other method signatures exist. From the documentation, I understand only public key should be shared. These `p` and `g` are generated initially on client side\r\n\r\n**2.** In the sample code below, the key and secret generation  works well in nodejs however when I test with public key from the client(generated using `new String(Hex.encodeHex(kp.getPublic().getEncoded()))`), I get the `Error: Supplied key is too large at DiffieHellman.dhComputeSecret`\r\n\r\n\r\nFore more than a day, my thorough research reveals no examples/demo of DH key exchange between **two different languages** but one-language-examples with several comments/articles discussing the existing wiki docs and less or no code. I think this is a new question on cross language client-server with DH keys.\r\n\r\nNodejs:\r\n\r\n   \r\n    var crypto = require(&quot;crypto&quot;);\r\n        var assert = require(&quot;assert&quot;);\r\n    // the prime is shared by everyone\r\n        var p =&quot;7287927445664946359687239486223244248530331441696747442753348226106279800740207968417650493105155177035805265358863967196769895080354517146585830093038907&quot;;\r\n        var g=&quot;3519494160132765249824212078020429853238178237852596056897517714427148886750491954575952859563331424777669938328249242087811536189850912851560984760609308&quot;;\r\n        let server = crypto.createDiffieHellman(Buffer.from(p,).toString(&quot;hex&quot;),&quot;hex&quot;,Buffer.from(g,).toString(&quot;hex&quot;),&quot;hex&quot;);\r\n        let prime = server.getPrime();\r\n        console.log(&quot;Generate Alice&#39;s keys...&quot;);\r\n        console.log(Buffer.from(prime).toString());\r\n        let alice = crypto.createDiffieHellman(prime);\r\n        let alicePublicKey = alice.generateKeys();\r\n        console.log(&quot;Generate Bob&#39;s keys...&quot;);\r\n        let bob = crypto.createDiffieHellman(prime);\r\n        //let bobPublicKey = bob.generateKeys();\r\n        //THIS IS PUBLIC KEY FROM JAVA IN HEX FORMAT\r\n        let bobPublicKey = Buffer.from(&quot;3081df30819706092a864886f70d0103013081890241008b26a5b60fd75471c366a0e8f67abe84d6f4c16b0dc97a602937420af3a658b34bb484df2d85281417a1bde4c0c51a7f97e8ac3a70fb34f092c2b1ebba01253b02404332edd9db0820ef954487cc1b327c638e2876b88a0cabc498811b42f7528af7fe58286a521f2190e9cc8785feaa5a8f019624bf88587a8b5b79854a11bcea1c02020180034300024012e116bc4fbd90542e03c1a5a130f923e579b65a50b8ed02e61f6369375f3a17ef270b3d05c52085ffe6e185ec7b19ea3cba7fe40d87e62254dc15f0e6db63b5&quot;,&quot;hex&quot;);\r\n        console.log(&quot;Exchange and generate the secret...&quot;);\r\n        let aliceBobSecret = alice.computeSecret(bobPublicKey);\r\n        let bobAliceSecret = bob.computeSecret(alicePublicKey);\r\n        // let davidAliceSecret = david.computeSecret(alicePublicKey, &quot;latin1&quot;);\r\n        // let aliceDavidSecret = alice.computeSecret(davidPublicKey, &quot;latin1&quot;);\r\n     console.log(&quot;alicePublicKey&quot;, alicePublicKey);\r\n     console.log(&quot;bobPublicKey&quot;, bobPublicKey);\r\n        assert.notEqual(alicePublicKey, bobPublicKey);\r\n        console.log(&quot;alicePublicKey and bobPublicKey NOT equal&quot;);\r\n    // console.log(&quot;aliceBobSecret&quot;, aliceBobSecret.toString(&quot;latin1&quot;));\r\n    // console.log(&quot;bobAliceSecret&quot;, bobAliceSecret.toString(&quot;latin1&quot;));\r\n        assert.equal(aliceBobSecret.toString(&quot;hex&quot;), bobAliceSecret.toString(&quot;hex&quot;));\r\n        console.log(&quot;aliceBobSecret and bobAliceSecret equal&quot;);\r\n   \r\n\r\nJava:\r\n\r\n    \r\n    //THIS COMMENTED CODE IS USED TO INITIALLY GENERATE p AND g\r\n    /*AlgorithmParameterGenerator paramGen = AlgorithmParameterGenerator.getInstance(&quot;DH&quot;);\r\n        paramGen.init(512); // number of bits\r\n        AlgorithmParameters params = paramGen.generateParameters();\r\n        DHParameterSpec dhSpec = (DHParameterSpec) params.getParameterSpec(DHParameterSpec.class);\r\n        BigInteger p512 = dhSpec.getP();\r\n        BigInteger g512 = dhSpec.getG();*/\r\n        BigInteger p512 = new BigInteger(Hex.decodeHex(&quot;008b26a5b60fd75471c366a0e8f67abe84d6f4c16b0dc97a602937420af3a658b34bb484df2d85281417a1bde4c0c51a7f97e8ac3a70fb34f092c2b1ebba01253b&quot;));\r\n        BigInteger g512 = new BigInteger(Hex.decodeHex(&quot;4332edd9db0820ef954487cc1b327c638e2876b88a0cabc498811b42f7528af7fe58286a521f2190e9cc8785feaa5a8f019624bf88587a8b5b79854a11bcea1c&quot;));\r\n    //A\r\n        KeyPairGenerator akpg = KeyPairGenerator.getInstance(&quot;DiffieHellman&quot;);\r\n        DHParameterSpec param = new DHParameterSpec(p512, g512);\r\n        String a = p512 + &quot;&quot;;\r\n        String b = g512 + &quot;&quot;;\r\n        System.out.println(&quot;Prime: &quot; + new String(Hex.encodeHex(p512.toByteArray())));\r\n        System.out.println(&quot;PrimeH: &quot; + p512);\r\n        System.out.println(&quot;Base: &quot; + new String(Hex.encodeHex(g512.toByteArray())));\r\n        System.out.println(&quot;BaseH: &quot; + g512);\r\n        akpg.initialize(param);\r\n        KeyPair kp = akpg.generateKeyPair();\r\n    //B\r\n        KeyPairGenerator bkpg = KeyPairGenerator.getInstance(&quot;DiffieHellman&quot;);\r\n        DHParameterSpec param2 = new DHParameterSpec(p512, g512);\r\n        System.out.println(&quot;Prime: &quot; + p512);\r\n        System.out.println(&quot;Base: &quot; + g512);\r\n        bkpg.initialize(param2);\r\n        KeyPair kp2 = bkpg.generateKeyPair();\r\n        KeyAgreement aKeyAgree = KeyAgreement.getInstance(&quot;DiffieHellman&quot;);\r\n        KeyAgreement bKeyAgree = KeyAgreement.getInstance(&quot;DiffieHellman&quot;);\r\n        aKeyAgree.init(kp.getPrivate());\r\n        bKeyAgree.init(kp2.getPrivate());\r\n        System.out.println(&quot;2Key: &quot; +new String(Hex.encodeHex(kp.getPublic().getEncoded())));\r\n        aKeyAgree.doPhase(kp2.getPublic(), true);\r\n        bKeyAgree.doPhase(kp.getPublic(), true);\r\n    //System.out.println(&quot;Alice Secret Key: &quot; + aKeyAgree.generateSecret());\r\n    //System.out.println(&quot;Bob&#39;s Secret Key: &quot; + bKeyAgree.generateSecret());\r\n        MessageDigest hash = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        /*byte[] ASharedSecret = hash.digest(aKeyAgree.generateSecret());\r\n        byte[] BSharedSecret = hash.digest(bKeyAgree.generateSecret());*/\r\n        byte[] ASharedSecret = aKeyAgree.generateSecret();\r\n        byte[] BSharedSecret = bKeyAgree.generateSecret();\r\n        System.out.println(&quot;Alice&#39;s Shared Secret: &quot; + Arrays.toString(ASharedSecret));\r\n        System.out.println(&quot;Bob&#39;s Shared Secret: &quot; + Arrays.toString(BSharedSecret));\r\n\r\n\r\n","title":"Diffie Hellman Key exchange between Java Client an nodejs Server","body":"<p>I have node js server for my android app and I want the communication to be secured using DH key exchange. I am able to generate the Prime <code>p</code> and the Base <code>g</code> in java same with nodejs(can be corrected if not right) </p>\n\n<p><strong>The Problem:</strong></p>\n\n<p><strong>1.</strong> I want to use the secret <code>p</code> and <code>g</code> on both client side and server side since there will be encryption and decryption from both sides yet \n<code>crypto.createDiffieHellman()</code> nodejs function shown in documentation only takes the parameter of <code>bitlength</code> so I have hard-coded these params after finding that other method signatures exist. From the documentation, I understand only public key should be shared. These <code>p</code> and <code>g</code> are generated initially on client side</p>\n\n<p><strong>2.</strong> In the sample code below, the key and secret generation  works well in nodejs however when I test with public key from the client(generated using <code>new String(Hex.encodeHex(kp.getPublic().getEncoded()))</code>), I get the <code>Error: Supplied key is too large at DiffieHellman.dhComputeSecret</code></p>\n\n<p>Fore more than a day, my thorough research reveals no examples/demo of DH key exchange between <strong>two different languages</strong> but one-language-examples with several comments/articles discussing the existing wiki docs and less or no code. I think this is a new question on cross language client-server with DH keys.</p>\n\n<p>Nodejs:</p>\n\n<pre><code>var crypto = require(\"crypto\");\n    var assert = require(\"assert\");\n// the prime is shared by everyone\n    var p =\"7287927445664946359687239486223244248530331441696747442753348226106279800740207968417650493105155177035805265358863967196769895080354517146585830093038907\";\n    var g=\"3519494160132765249824212078020429853238178237852596056897517714427148886750491954575952859563331424777669938328249242087811536189850912851560984760609308\";\n    let server = crypto.createDiffieHellman(Buffer.from(p,).toString(\"hex\"),\"hex\",Buffer.from(g,).toString(\"hex\"),\"hex\");\n    let prime = server.getPrime();\n    console.log(\"Generate Alice's keys...\");\n    console.log(Buffer.from(prime).toString());\n    let alice = crypto.createDiffieHellman(prime);\n    let alicePublicKey = alice.generateKeys();\n    console.log(\"Generate Bob's keys...\");\n    let bob = crypto.createDiffieHellman(prime);\n    //let bobPublicKey = bob.generateKeys();\n    //THIS IS PUBLIC KEY FROM JAVA IN HEX FORMAT\n    let bobPublicKey = Buffer.from(\"3081df30819706092a864886f70d0103013081890241008b26a5b60fd75471c366a0e8f67abe84d6f4c16b0dc97a602937420af3a658b34bb484df2d85281417a1bde4c0c51a7f97e8ac3a70fb34f092c2b1ebba01253b02404332edd9db0820ef954487cc1b327c638e2876b88a0cabc498811b42f7528af7fe58286a521f2190e9cc8785feaa5a8f019624bf88587a8b5b79854a11bcea1c02020180034300024012e116bc4fbd90542e03c1a5a130f923e579b65a50b8ed02e61f6369375f3a17ef270b3d05c52085ffe6e185ec7b19ea3cba7fe40d87e62254dc15f0e6db63b5\",\"hex\");\n    console.log(\"Exchange and generate the secret...\");\n    let aliceBobSecret = alice.computeSecret(bobPublicKey);\n    let bobAliceSecret = bob.computeSecret(alicePublicKey);\n    // let davidAliceSecret = david.computeSecret(alicePublicKey, \"latin1\");\n    // let aliceDavidSecret = alice.computeSecret(davidPublicKey, \"latin1\");\n console.log(\"alicePublicKey\", alicePublicKey);\n console.log(\"bobPublicKey\", bobPublicKey);\n    assert.notEqual(alicePublicKey, bobPublicKey);\n    console.log(\"alicePublicKey and bobPublicKey NOT equal\");\n// console.log(\"aliceBobSecret\", aliceBobSecret.toString(\"latin1\"));\n// console.log(\"bobAliceSecret\", bobAliceSecret.toString(\"latin1\"));\n    assert.equal(aliceBobSecret.toString(\"hex\"), bobAliceSecret.toString(\"hex\"));\n    console.log(\"aliceBobSecret and bobAliceSecret equal\");\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>//THIS COMMENTED CODE IS USED TO INITIALLY GENERATE p AND g\n/*AlgorithmParameterGenerator paramGen = AlgorithmParameterGenerator.getInstance(\"DH\");\n    paramGen.init(512); // number of bits\n    AlgorithmParameters params = paramGen.generateParameters();\n    DHParameterSpec dhSpec = (DHParameterSpec) params.getParameterSpec(DHParameterSpec.class);\n    BigInteger p512 = dhSpec.getP();\n    BigInteger g512 = dhSpec.getG();*/\n    BigInteger p512 = new BigInteger(Hex.decodeHex(\"008b26a5b60fd75471c366a0e8f67abe84d6f4c16b0dc97a602937420af3a658b34bb484df2d85281417a1bde4c0c51a7f97e8ac3a70fb34f092c2b1ebba01253b\"));\n    BigInteger g512 = new BigInteger(Hex.decodeHex(\"4332edd9db0820ef954487cc1b327c638e2876b88a0cabc498811b42f7528af7fe58286a521f2190e9cc8785feaa5a8f019624bf88587a8b5b79854a11bcea1c\"));\n//A\n    KeyPairGenerator akpg = KeyPairGenerator.getInstance(\"DiffieHellman\");\n    DHParameterSpec param = new DHParameterSpec(p512, g512);\n    String a = p512 + \"\";\n    String b = g512 + \"\";\n    System.out.println(\"Prime: \" + new String(Hex.encodeHex(p512.toByteArray())));\n    System.out.println(\"PrimeH: \" + p512);\n    System.out.println(\"Base: \" + new String(Hex.encodeHex(g512.toByteArray())));\n    System.out.println(\"BaseH: \" + g512);\n    akpg.initialize(param);\n    KeyPair kp = akpg.generateKeyPair();\n//B\n    KeyPairGenerator bkpg = KeyPairGenerator.getInstance(\"DiffieHellman\");\n    DHParameterSpec param2 = new DHParameterSpec(p512, g512);\n    System.out.println(\"Prime: \" + p512);\n    System.out.println(\"Base: \" + g512);\n    bkpg.initialize(param2);\n    KeyPair kp2 = bkpg.generateKeyPair();\n    KeyAgreement aKeyAgree = KeyAgreement.getInstance(\"DiffieHellman\");\n    KeyAgreement bKeyAgree = KeyAgreement.getInstance(\"DiffieHellman\");\n    aKeyAgree.init(kp.getPrivate());\n    bKeyAgree.init(kp2.getPrivate());\n    System.out.println(\"2Key: \" +new String(Hex.encodeHex(kp.getPublic().getEncoded())));\n    aKeyAgree.doPhase(kp2.getPublic(), true);\n    bKeyAgree.doPhase(kp.getPublic(), true);\n//System.out.println(\"Alice Secret Key: \" + aKeyAgree.generateSecret());\n//System.out.println(\"Bob's Secret Key: \" + bKeyAgree.generateSecret());\n    MessageDigest hash = MessageDigest.getInstance(\"SHA-256\");\n    /*byte[] ASharedSecret = hash.digest(aKeyAgree.generateSecret());\n    byte[] BSharedSecret = hash.digest(bKeyAgree.generateSecret());*/\n    byte[] ASharedSecret = aKeyAgree.generateSecret();\n    byte[] BSharedSecret = bKeyAgree.generateSecret();\n    System.out.println(\"Alice's Shared Secret: \" + Arrays.toString(ASharedSecret));\n    System.out.println(\"Bob's Shared Secret: \" + Arrays.toString(BSharedSecret));\n</code></pre>\n"},{"tags":["java","listview","javafx","flexbox","responsive-design"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1685631826,"post_id":76383155,"comment_id":134690375,"body_markdown":"Do you really need a `ListView`? Your questions are all about layout, but a `ListView` is not a layout component; it&#39;s a virtualized control. The layout you describe is represented by a `TilePane`.","body":"Do you really need a <code>ListView</code>? Your questions are all about layout, but a <code>ListView</code> is not a layout component; it&#39;s a virtualized control. The layout you describe is represented by a <code>TilePane</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1685632412,"post_id":76383155,"comment_id":134690528,"body_markdown":"What I mean by the above is &quot;do you need the functionality of a `ListView`&quot; (other than the minimum amount of layout it provides). E.g. do you need selection, virtualization, etc.? If not, why are you using it? Why not just use a layout pane that provides the functionality you want?","body":"What I mean by the above is &quot;do you need the functionality of a <code>ListView</code>&quot; (other than the minimum amount of layout it provides). E.g. do you need selection, virtualization, etc.? If not, why are you using it? Why not just use a layout pane that provides the functionality you want?"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1685632454,"post_id":76383155,"comment_id":134690545,"body_markdown":"@James_D No I don&#39;t need it and I added an edit to my question. I did many different searches about fluid order and any similar and TilePane did not come up. As I&#39;m not an expert in JavaFX, that&#39;s new information to me. Now I&#39;ll learn about TilePane and see how to use it. Thank you!","body":"@James_D No I don&#39;t need it and I added an edit to my question. I did many different searches about fluid order and any similar and TilePane did not come up. As I&#39;m not an expert in JavaFX, that&#39;s new information to me. Now I&#39;ll learn about TilePane and see how to use it. Thank you!"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1685632533,"post_id":76383155,"comment_id":134690572,"body_markdown":"@James_D I see. I need on-click event for my items because this opens article view where I display more details about a product.","body":"@James_D I see. I need on-click event for my items because this opens article view where I display more details about a product."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1685632838,"post_id":76383155,"comment_id":134690662,"body_markdown":"The [standard layout tutorial](https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm) from Oracle describes all of the built-in layout panes. The [layout API package documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html) describes the general layout mechanism and provides API documentation for all of the provided layout panes. Always start with official documentation, rather than random things you might find on the internet.","body":"The <a href=\"https://docs.oracle.com/javafx/2/layout/builtin_layouts.htm\" rel=\"nofollow noreferrer\">standard layout tutorial</a> from Oracle describes all of the built-in layout panes. The <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/package-summary.html\" rel=\"nofollow noreferrer\">layout API package documentation</a> describes the general layout mechanism and provides API documentation for all of the provided layout panes. Always start with official documentation, rather than random things you might find on the internet."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685633530,"creation_date":1685633530,"answer_id":76383536,"question_id":76383155,"body_markdown":"The primary purpose of a `ListView` is to provide *virtualization*; i.e. it provides an efficient mechanism to display a large number of items, letting the user scroll through them, without the overhead of UI components for the items that are not currently displayed. It also provides some additional functionality, such as selection (allowing the user to put one or more items in the list into a &quot;selected&quot; state which is shown visually).\r\n\r\nIf you actually need virtualization, and perhaps selection, and want a grid-like layout, then the third-party library ControlsFX provides a similarly-virtualized [`GridView`](https://controlsfx.github.io/javadoc/11.1.2/org.controlsfx.controls/org/controlsfx/control/GridView.html).\r\n\r\nHowever, your question appears to be only about layout and your screenshots appear to show you using a [`Pagination`](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/Pagination.html) control, which would (probably) obviate the need for virtualization anyway. If you don&#39;t need the functionality of the `ListView`, then a standard layout pane such as [`FlowPane`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/FlowPane.html) or [`TilePane`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/TilePane.html), possibly wrapped in a [`ScrollPane`](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ScrollPane.html), should provide the layout you need.","title":"Fluid nodes list layout with JavaFX","body":"<p>The primary purpose of a <code>ListView</code> is to provide <em>virtualization</em>; i.e. it provides an efficient mechanism to display a large number of items, letting the user scroll through them, without the overhead of UI components for the items that are not currently displayed. It also provides some additional functionality, such as selection (allowing the user to put one or more items in the list into a &quot;selected&quot; state which is shown visually).</p>\n<p>If you actually need virtualization, and perhaps selection, and want a grid-like layout, then the third-party library ControlsFX provides a similarly-virtualized <a href=\"https://controlsfx.github.io/javadoc/11.1.2/org.controlsfx.controls/org/controlsfx/control/GridView.html\" rel=\"nofollow noreferrer\"><code>GridView</code></a>.</p>\n<p>However, your question appears to be only about layout and your screenshots appear to show you using a <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/Pagination.html\" rel=\"nofollow noreferrer\"><code>Pagination</code></a> control, which would (probably) obviate the need for virtualization anyway. If you don't need the functionality of the <code>ListView</code>, then a standard layout pane such as <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/FlowPane.html\" rel=\"nofollow noreferrer\"><code>FlowPane</code></a> or <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/TilePane.html\" rel=\"nofollow noreferrer\"><code>TilePane</code></a>, possibly wrapped in a <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ScrollPane.html\" rel=\"nofollow noreferrer\"><code>ScrollPane</code></a>, should provide the layout you need.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76383536,"answer_count":1,"score":3,"last_activity_date":1685633530,"creation_date":1685630952,"question_id":76383155,"body_markdown":"I use ListView to dynamically display items in my JavaFX app. Items are loaded through REST call to my backend app. Each item can be clicked and then product view is displayed instead of product list. That works (looks) fine until app window is resized. After resize, items look ugly and they use too much space.\r\n\r\n**The question: Is there a way to get some kind of fluid item order?**\r\n\r\nIn HTML and CSS that would be Flexbox if I remember well.\r\n\r\nAll items would be the same width and the same height not giving a chance to calculate width or height for each item separately.\r\n\r\nThe only solution I found on the internet is here: https://github.com/onexip/FlexBoxFX -\r\nbut it uses FXML files only and there is no option to add items dynamically. The last project update is 6 years ago which tells me it&#39;s abandoned or poorly maintained. Their official website is dead: http://flexboxfx.io\r\n\r\nEDIT: As `James_D` mentioned, I don&#39;t need ListView but any other solution that works.\r\n\r\nAlso I am aware of WebView but I would like to avoid HTML content in my app.\r\n\r\nTo make my case more clear, I made some screenshots and the first one is edited to represent the idea what I want. Numbers on edited screenshot represent desired order of items.\r\n\r\nIf window grows more in width, first row should have items 1, 2 and 3, next row 4, 5 and 6, next row 7, 8 and 9 and last row should have only one item (10). All rows should be centered and item 10 of last row should be positioned below item 8. \r\n\r\n---\r\n\r\nThis is the final layout I want to get but I don&#39;t know how.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n---\r\n\r\nEverything is nice when window is not resized, but after resize, it looks ugly.\r\n\r\n[![Before -- After][1]][1]\r\n\r\n----\r\n\r\n  [1]: https://i.stack.imgur.com/yuyyC.png\r\n  [4]: https://i.stack.imgur.com/Us9lw.png","title":"Fluid nodes list layout with JavaFX","body":"<p>I use ListView to dynamically display items in my JavaFX app. Items are loaded through REST call to my backend app. Each item can be clicked and then product view is displayed instead of product list. That works (looks) fine until app window is resized. After resize, items look ugly and they use too much space.</p>\n<p><strong>The question: Is there a way to get some kind of fluid item order?</strong></p>\n<p>In HTML and CSS that would be Flexbox if I remember well.</p>\n<p>All items would be the same width and the same height not giving a chance to calculate width or height for each item separately.</p>\n<p>The only solution I found on the internet is here: <a href=\"https://github.com/onexip/FlexBoxFX\" rel=\"nofollow noreferrer\">https://github.com/onexip/FlexBoxFX</a> -\nbut it uses FXML files only and there is no option to add items dynamically. The last project update is 6 years ago which tells me it's abandoned or poorly maintained. Their official website is dead: <a href=\"http://flexboxfx.io\" rel=\"nofollow noreferrer\">http://flexboxfx.io</a></p>\n<p>EDIT: As <code>James_D</code> mentioned, I don't need ListView but any other solution that works.</p>\n<p>Also I am aware of WebView but I would like to avoid HTML content in my app.</p>\n<p>To make my case more clear, I made some screenshots and the first one is edited to represent the idea what I want. Numbers on edited screenshot represent desired order of items.</p>\n<p>If window grows more in width, first row should have items 1, 2 and 3, next row 4, 5 and 6, next row 7, 8 and 9 and last row should have only one item (10). All rows should be centered and item 10 of last row should be positioned below item 8.</p>\n<hr />\n<p>This is the final layout I want to get but I don't know how.</p>\n<p><a href=\"https://i.stack.imgur.com/Us9lw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Us9lw.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>Everything is nice when window is not resized, but after resize, it looks ugly.</p>\n<p><a href=\"https://i.stack.imgur.com/yuyyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yuyyC.png\" alt=\"Before -- After\" /></a></p>\n<hr />\n"},{"tags":["java","list","for-loop","java-8"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1600959741,"post_id":64049024,"comment_id":113260025,"body_markdown":"Does this `List` contain `null` values or are you sure there are only initialized `String`s (like you&#39;re sure it&#39;s sorted)?","body":"Does this <code>List</code> contain <code>null</code> values or are you sure there are only initialized <code>String</code>s (like you&#39;re sure it&#39;s sorted)?"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685633129,"creation_date":1600959535,"answer_id":64049132,"question_id":64049024,"body_markdown":"With the introduction of [`Stream`s][StreamsAPI] in Java 8, we can express this in a functional way:\r\n\r\n    return schoolDetails.getStudentdata().stream()\r\n        .filter(Objects::nonNull)\r\n        .findFirst()\r\n        .orElse(null);\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Ideone]\r\n\r\nSince it is not guaranteed that a non-`null` value exists, we return `null` if no non-`null` value exists. Alternatively, we can skip the `orElse(...)`-step and return an [`Optional&lt;String&gt;`][OptionalAPI], signaling that the result might be empty:\r\n\r\n    return schoolDetails.getStudentdata().stream()\r\n        .filter(Objects::nonNull)\r\n        .findFirst();\r\n\r\nWe can furthermore modify what we want to filter by, for example, using [`String::isBlank`][StringIsBlankAPI] in addition to [`Objects::nonNull`][ObjectsNonNullAPI] and the help of [`Predicate::not`][PredicateNotApi]:\r\n\r\n    return schoolDetails.getStudentdata().stream()\r\n        .filter(Objects::nonNull)\r\n        .filter(Predicate.not(String::isBlank))\r\n        .findFirst();\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Idetwo]\r\n\r\n[StreamsAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Stream.html\r\n[OptionalAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html\r\n[Ideone]: https://ideone.com/ODtkaP\r\n[StringIsBlankAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html#isBlank()\r\n[ObjectsNonNullAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object)\r\n[PredicateNotAPI]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)\r\n[Idetwo]: https://ideone.com/Q4oEev","title":"How to return first non empty string value from list of strings(sorted) in java","body":"<p>With the introduction of <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code>s</a> in Java 8, we can express this in a functional way:</p>\n<pre><code>return schoolDetails.getStudentdata().stream()\n    .filter(Objects::nonNull)\n    .findFirst()\n    .orElse(null);\n</code></pre>\n<p><a href=\"https://ideone.com/ODtkaP\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>Since it is not guaranteed that a non-<code>null</code> value exists, we return <code>null</code> if no non-<code>null</code> value exists. Alternatively, we can skip the <code>orElse(...)</code>-step and return an <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional&lt;String&gt;</code></a>, signaling that the result might be empty:</p>\n<pre><code>return schoolDetails.getStudentdata().stream()\n    .filter(Objects::nonNull)\n    .findFirst();\n</code></pre>\n<p>We can furthermore modify what we want to filter by, for example, using <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\"><code>String::isBlank</code></a> in addition to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/Objects.html#nonNull(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects::nonNull</code></a> and the help of <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Predicate::not</code></a>:</p>\n<pre><code>return schoolDetails.getStudentdata().stream()\n    .filter(Objects::nonNull)\n    .filter(Predicate.not(String::isBlank))\n    .findFirst();\n</code></pre>\n<p><a href=\"https://ideone.com/Q4oEev\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n"}],"owner":{"display_name":"user14065864"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3243,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":64049132,"answer_count":1,"score":-3,"last_activity_date":1685633129,"creation_date":1600959189,"question_id":64049024,"body_markdown":"I have list of string values and wants to return first non empty value and this list is sorted. how to achieve this?\r\n\r\n    for( String data:schoolDetails.getStudentdata(){\r\n     // have to get first non empty data \r\n    }\r\nany leads would be helpful.Thanks in advance.","title":"How to return first non empty string value from list of strings(sorted) in java","body":"<p>I have list of string values and wants to return first non empty value and this list is sorted. how to achieve this?</p>\n<pre><code>for( String data:schoolDetails.getStudentdata(){\n // have to get first non empty data \n}\n</code></pre>\n<p>any leads would be helpful.Thanks in advance.</p>\n"},{"tags":["java","multithreading","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685576163,"creation_date":1685576163,"answer_id":76377869,"question_id":76377753,"body_markdown":"Different colors can be processed concurrently, but same colors must be processed serially.\r\n\r\nSo rather than trying to make all your threads communicate to one another what color they are doing let&#39;s just make a dedicated queue for each color, and one thread handling that queue.\r\n\r\nSo one distributor thread reads the event queue and based on the color of the event posts it on the appropriate queue.\r\n\r\nNow you indicate that you can&#39;t have as many threads as there are colors, but colors can share a queue. That still guarantees the serial processing of each color.","title":"Execute a thread in a queue only if its field value doesn&#39;t match an already running thread","body":"<p>Different colors can be processed concurrently, but same colors must be processed serially.</p>\n<p>So rather than trying to make all your threads communicate to one another what color they are doing let's just make a dedicated queue for each color, and one thread handling that queue.</p>\n<p>So one distributor thread reads the event queue and based on the color of the event posts it on the appropriate queue.</p>\n<p>Now you indicate that you can't have as many threads as there are colors, but colors can share a queue. That still guarantees the serial processing of each color.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685602849,"creation_date":1685602849,"answer_id":76379400,"question_id":76377753,"body_markdown":"The [Answer by bowmore][1] is correct. Here‚Äôs some code. \r\n\r\nDefine your various color tasks as a `Runnable` or `Callable` that implements an interface `hasColor` requiring a method `getColor`. Define an enum `TaskColor` for all possible colors. \r\n\r\nSay we have four colors but a limit of two threads. Define two executor service objects, each to handle a pair of our four colors. Make them single-threaded to run tasks one on a time. \r\n\r\n    ExecutorService esGreenYellow = Executors.newSingleThreadExecutor() ;\r\n    ExecutorService esBlueRed = Executors.newSingleThreadExecutor() ;\r\n\r\nWrite a method that receives all tasks of type `hasColor`. That method shunts tasks of green or yellow into the first of those two executor services, and tasks of the other two colors into the second executor service. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76377869/642706","title":"Execute a thread in a queue only if its field value doesn&#39;t match an already running thread","body":"<p>The <a href=\"https://stackoverflow.com/a/76377869/642706\">Answer by bowmore</a> is correct. Here‚Äôs some code.</p>\n<p>Define your various color tasks as a <code>Runnable</code> or <code>Callable</code> that implements an interface <code>hasColor</code> requiring a method <code>getColor</code>. Define an enum <code>TaskColor</code> for all possible colors.</p>\n<p>Say we have four colors but a limit of two threads. Define two executor service objects, each to handle a pair of our four colors. Make them single-threaded to run tasks one on a time.</p>\n<pre><code>ExecutorService esGreenYellow = Executors.newSingleThreadExecutor() ;\nExecutorService esBlueRed = Executors.newSingleThreadExecutor() ;\n</code></pre>\n<p>Write a method that receives all tasks of type <code>hasColor</code>. That method shunts tasks of green or yellow into the first of those two executor services, and tasks of the other two colors into the second executor service.</p>\n"}],"owner":{"account_id":1611366,"reputation":1566,"user_id":1490169,"accept_rate":63,"display_name":"Jack Cole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76377869,"answer_count":2,"score":0,"last_activity_date":1685633115,"creation_date":1685573867,"question_id":76377753,"body_markdown":"I have a large number of events coming in, and I must run the ones sequentially that have certain matching properties. Let&#39;s call this property &quot;color&quot;. If I get 3 green events, and 2 yellow events, then I must run all the 3 green events in the order received, so they must be run one at a time. Same goes for the yellow events. If all 3 green events are processed before the first yellow event completes, that&#39;s fine, because across colors the order doesn&#39;t matter.\r\n\r\nNow, I also have a limit to the total number of threads that can be run at once, and there&#39;s dozens of colors. So if I get 20 events of 20 different colors, I can&#39;t run them all at once. They must be under the thread pool limit. Ideally, **the executor always be running the oldest event first, so long as there is no other event with the same color currently running.**\r\n\r\nSo, what needs to happen is when it comes time for the ThreadPoolExecutor to dequeue a Runnable, it needs to check to see if there are any other Runnables of the same color. If so, look to the next Runnable in the Queue, until it finally finds one that doesn&#39;t have a matching color currently running. Then it will remove that from the Queue, without disturbing the order of any of the other elements in the Queue.\r\n\r\nHow would I go about implementing this way to dequeue threads in the ThreadPoolExecutor? Or is there another, better, way to do this?","title":"Execute a thread in a queue only if its field value doesn&#39;t match an already running thread","body":"<p>I have a large number of events coming in, and I must run the ones sequentially that have certain matching properties. Let's call this property &quot;color&quot;. If I get 3 green events, and 2 yellow events, then I must run all the 3 green events in the order received, so they must be run one at a time. Same goes for the yellow events. If all 3 green events are processed before the first yellow event completes, that's fine, because across colors the order doesn't matter.</p>\n<p>Now, I also have a limit to the total number of threads that can be run at once, and there's dozens of colors. So if I get 20 events of 20 different colors, I can't run them all at once. They must be under the thread pool limit. Ideally, <strong>the executor always be running the oldest event first, so long as there is no other event with the same color currently running.</strong></p>\n<p>So, what needs to happen is when it comes time for the ThreadPoolExecutor to dequeue a Runnable, it needs to check to see if there are any other Runnables of the same color. If so, look to the next Runnable in the Queue, until it finally finds one that doesn't have a matching color currently running. Then it will remove that from the Queue, without disturbing the order of any of the other elements in the Queue.</p>\n<p>How would I go about implementing this way to dequeue threads in the ThreadPoolExecutor? Or is there another, better, way to do this?</p>\n"},{"tags":["python","java","spring-boot","graphql","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685633048,"creation_date":1685633048,"answer_id":76383471,"question_id":76383226,"body_markdown":"Here&#39;s what I can tell you on this... There are good libraries out there that can simplify this process for you.\r\n\r\nSince you are using spring I would start off by grabbing the dependecy listed here:\r\nhttps://github.com/graphql-java-kickstart/graphql-spring-boot\r\nSource docs: https://www.graphql-java-kickstart.com/spring-boot/getting-started/\r\n\r\nUsing this dependency offers ease of consumption as you can set the query to be in a more readable format by placing your queries in the resources folder like\r\n\r\nquery.graphql\r\n\r\nFrom there\r\n\r\nYou can create a model object containing all of the values you are expecting to be returned by your graphql response. I would just make a pojo class using:  https://www.jsonschema2pojo.org/\r\n\r\nThen to consume here is an example:\r\n\r\n       // If no other function is calling then remove the docID param. Could be used to enable specific searching\r\n    public Example graphQl(String docID){\r\n        \r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        WebClient webClient = WebClient.builder()\r\n                .baseUrl(&quot;TheEndpointURI&quot;)\r\n                .defaultHeader(&quot;apikey&quot;, &quot;apikey value&quot;)\r\n                .build();\r\n        \r\n        Map&lt;String,Object&gt; vars = new HashMap&lt;&gt;();\r\n        vars.put(&quot;docId&quot;, docID); // remove if not using docID\r\n        vars.put(&quot;filter&quot;, &quot;anyFilters you might want?&quot; );\r\n        \r\n        GraphQLWebClient graphQLWebClient = GraphQLWebClient.newInstance(webClient, objectMapper);\r\n        \r\n        Example example = null;\r\n        \r\n        try{\r\n            \r\n            example = graphQLWebClient.post(&quot;query.graphql&quot;, vars, Example.class).cblock();\r\n            \r\n        } catch (Exception e){\r\n            log.error(e.getMessage());\r\n        }\r\n        return example;\r\n    }\r\n\r\nExample query.graphql\r\n\r\n        query bookDetails {\r\n      bookById(id: &quot;book-1&quot;){\r\n        id\r\n        name\r\n        pageCount\r\n        author {\r\n          firstName\r\n          lastName\r\n        }\r\n      }\r\n    }","title":"How to consume GraphQL api using spring boot Resttemplate","body":"<p>Here's what I can tell you on this... There are good libraries out there that can simplify this process for you.</p>\n<p>Since you are using spring I would start off by grabbing the dependecy listed here:\n<a href=\"https://github.com/graphql-java-kickstart/graphql-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/graphql-java-kickstart/graphql-spring-boot</a>\nSource docs: <a href=\"https://www.graphql-java-kickstart.com/spring-boot/getting-started/\" rel=\"nofollow noreferrer\">https://www.graphql-java-kickstart.com/spring-boot/getting-started/</a></p>\n<p>Using this dependency offers ease of consumption as you can set the query to be in a more readable format by placing your queries in the resources folder like</p>\n<p>query.graphql</p>\n<p>From there</p>\n<p>You can create a model object containing all of the values you are expecting to be returned by your graphql response. I would just make a pojo class using:  <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a></p>\n<p>Then to consume here is an example:</p>\n<pre><code>   // If no other function is calling then remove the docID param. Could be used to enable specific searching\npublic Example graphQl(String docID){\n    \n    ObjectMapper objectMapper = new ObjectMapper();\n    WebClient webClient = WebClient.builder()\n            .baseUrl(&quot;TheEndpointURI&quot;)\n            .defaultHeader(&quot;apikey&quot;, &quot;apikey value&quot;)\n            .build();\n    \n    Map&lt;String,Object&gt; vars = new HashMap&lt;&gt;();\n    vars.put(&quot;docId&quot;, docID); // remove if not using docID\n    vars.put(&quot;filter&quot;, &quot;anyFilters you might want?&quot; );\n    \n    GraphQLWebClient graphQLWebClient = GraphQLWebClient.newInstance(webClient, objectMapper);\n    \n    Example example = null;\n    \n    try{\n        \n        example = graphQLWebClient.post(&quot;query.graphql&quot;, vars, Example.class).cblock();\n        \n    } catch (Exception e){\n        log.error(e.getMessage());\n    }\n    return example;\n}\n</code></pre>\n<p>Example query.graphql</p>\n<pre><code>    query bookDetails {\n  bookById(id: &quot;book-1&quot;){\n    id\n    name\n    pageCount\n    author {\n      firstName\n      lastName\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7522259,"reputation":442,"user_id":5713709,"accept_rate":48,"display_name":"Babu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685633048,"creation_date":1685631409,"question_id":76383226,"body_markdown":"I want to consume a graphQL endpoint in a springboot application using resttemplate\r\n\r\nWhenever,I am make a POST request with the query and variables I am always receiving the same error {&quot;errors&quot;:[{&quot;message&quot;:&quot;Bad request&quot;}]}\r\n\r\nBelow is the sample query, I want to send,\r\n\r\n```\r\n{\r\n  &quot;query&quot;: &quot; query ($filter: SearchFilter!, $limit: Int!, $sorting: SearchSorting!) { search (filter: $filter, limit: $limit, sorting: $sorting)\r\n  { cursor totalCount documents { id title products { name primaryCode } count Date type { ids } } } }&quot;,\r\n  &quot;variables&quot;: {\r\n    &quot;filter&quot;: {\r\n      &quot;date&quot;: {\r\n        &quot;dt&quot;: &quot;2023-01-01&quot;\r\n      },\r\n      &quot;types&quot;: {\r\n        &quot;ids&quot;: [\r\n          &quot;1&quot;\r\n        ]\r\n      },\r\n      &quot;products&quot;: {\r\n        &quot;include&quot;: [\r\n          &quot;aaa&quot;\r\n        ],\r\n        &quot;available&quot;: True\r\n      },\r\n      &quot;category&quot;: {\r\n        &quot;ids&quot;: [\r\n          &quot;A12&quot;\r\n        ]\r\n      }\r\n    },\r\n    &quot;sorting&quot;: {\r\n      &quot;by&quot;: &quot;DATE&quot;\r\n    },\r\n    &quot;limit&quot;: 500\r\n  }\r\n}\r\n```\r\n\r\nBut from Python, I don&#39;t have any issues on consuming the endpoint, and I am geting response.\r\n\r\nPython code:\r\n```\r\nparams = {\r\n            &quot;filter&quot;: {\r\n      &quot;date&quot;: {\r\n        &quot;dt&quot;: &quot;2023-01-01&quot;\r\n      },\r\n      &quot;types&quot;: {\r\n        &quot;ids&quot;: [\r\n          &quot;1&quot;\r\n        ]\r\n      },\r\n      &quot;products&quot;: {\r\n        &quot;include&quot;: [\r\n          &quot;aaa&quot;\r\n        ],\r\n        &quot;primaryOnly&quot;: True\r\n      },\r\n      &quot;category&quot;: {\r\n        &quot;ids&quot;: [\r\n          &quot;A12&quot;\r\n        ]\r\n      }\r\n    },\r\n    &quot;sorting&quot;: {\r\n      &quot;field&quot;: &quot;DATE&quot;,\r\n      &quot;direction&quot;: &quot;DESC&quot;\r\n    },\r\n    &quot;limit&quot;: 500\r\n}\r\n\r\nquery = &#39;&#39;&#39;\r\n        query ($filter: SearchFilter!, $limit: Int!, $sorting: SearchSorting!) { search (filter: $filter, limit: $limit, sorting: $sorting)\r\n  { cursor totalCount documents { id title products { name primaryCode } count releasedDt type { ids } } } }&#39;&#39;&#39;\r\n\r\nresult = json.loads(requests.post(uri, headers=getHeaders(), json={&#39;query&#39;: query, &quot;variables&quot;: params}).text)\r\n```\r\n\r\nHelp to know how I can send query and variables using spring **resttemplate**.","title":"How to consume GraphQL api using spring boot Resttemplate","body":"<p>I want to consume a graphQL endpoint in a springboot application using resttemplate</p>\n<p>Whenever,I am make a POST request with the query and variables I am always receiving the same error {&quot;errors&quot;:[{&quot;message&quot;:&quot;Bad request&quot;}]}</p>\n<p>Below is the sample query, I want to send,</p>\n<pre><code>{\n  &quot;query&quot;: &quot; query ($filter: SearchFilter!, $limit: Int!, $sorting: SearchSorting!) { search (filter: $filter, limit: $limit, sorting: $sorting)\n  { cursor totalCount documents { id title products { name primaryCode } count Date type { ids } } } }&quot;,\n  &quot;variables&quot;: {\n    &quot;filter&quot;: {\n      &quot;date&quot;: {\n        &quot;dt&quot;: &quot;2023-01-01&quot;\n      },\n      &quot;types&quot;: {\n        &quot;ids&quot;: [\n          &quot;1&quot;\n        ]\n      },\n      &quot;products&quot;: {\n        &quot;include&quot;: [\n          &quot;aaa&quot;\n        ],\n        &quot;available&quot;: True\n      },\n      &quot;category&quot;: {\n        &quot;ids&quot;: [\n          &quot;A12&quot;\n        ]\n      }\n    },\n    &quot;sorting&quot;: {\n      &quot;by&quot;: &quot;DATE&quot;\n    },\n    &quot;limit&quot;: 500\n  }\n}\n</code></pre>\n<p>But from Python, I don't have any issues on consuming the endpoint, and I am geting response.</p>\n<p>Python code:</p>\n<pre><code>params = {\n            &quot;filter&quot;: {\n      &quot;date&quot;: {\n        &quot;dt&quot;: &quot;2023-01-01&quot;\n      },\n      &quot;types&quot;: {\n        &quot;ids&quot;: [\n          &quot;1&quot;\n        ]\n      },\n      &quot;products&quot;: {\n        &quot;include&quot;: [\n          &quot;aaa&quot;\n        ],\n        &quot;primaryOnly&quot;: True\n      },\n      &quot;category&quot;: {\n        &quot;ids&quot;: [\n          &quot;A12&quot;\n        ]\n      }\n    },\n    &quot;sorting&quot;: {\n      &quot;field&quot;: &quot;DATE&quot;,\n      &quot;direction&quot;: &quot;DESC&quot;\n    },\n    &quot;limit&quot;: 500\n}\n\nquery = '''\n        query ($filter: SearchFilter!, $limit: Int!, $sorting: SearchSorting!) { search (filter: $filter, limit: $limit, sorting: $sorting)\n  { cursor totalCount documents { id title products { name primaryCode } count releasedDt type { ids } } } }'''\n\nresult = json.loads(requests.post(uri, headers=getHeaders(), json={'query': query, &quot;variables&quot;: params}).text)\n</code></pre>\n<p>Help to know how I can send query and variables using spring <strong>resttemplate</strong>.</p>\n"},{"tags":["java","jfr","jmc"],"owner":{"account_id":12584827,"reputation":627,"user_id":9154203,"display_name":"Bostonian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685632586,"creation_date":1685632586,"question_id":76383404,"body_markdown":"In the method profiling area of JMC, I could observe some methods are annotated with `JIT_COMPILED` and some methods are annotated with `INLINED`.\r\n\r\nFor those methods annotated with `INLINED`, could I also say they are `JIT_COMPILED` too?","title":"Method Profiling of Java Mission Control","body":"<p>In the method profiling area of JMC, I could observe some methods are annotated with <code>JIT_COMPILED</code> and some methods are annotated with <code>INLINED</code>.</p>\n<p>For those methods annotated with <code>INLINED</code>, could I also say they are <code>JIT_COMPILED</code> too?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1685625052,"post_id":76382104,"comment_id":134688466,"body_markdown":"There&#39;s [Android API Desugaring](https://developer.android.com/studio/write/java8-support-table) and there&#39;s the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) which will both make most of `java.time` available in lower Android API Levels. I wouldn&#39;t rely on an outdated API if I didn&#39;t have to, it was supplanted for reason.","body":"There&#39;s <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Android API Desugaring</a> and there&#39;s the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> which will both make most of <code>java.time</code> available in lower Android API Levels. I wouldn&#39;t rely on an outdated API if I didn&#39;t have to, it was supplanted for reason."},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":1,"creation_date":1685626184,"post_id":76382104,"comment_id":134688779,"body_markdown":"I will try give it a try","body":"I will try give it a try"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685631838,"post_id":76382104,"comment_id":134690378,"body_markdown":"@deHaar Would you make an Answer of your Comment?","body":"@deHaar Would you make an Answer of your Comment?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1685632095,"post_id":76382104,"comment_id":134690445,"body_markdown":"OK, I can do that ;-)","body":"OK, I can do that ;-)"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685632261,"creation_date":1685632261,"answer_id":76383359,"question_id":76382104,"body_markdown":"If you want to have Java 8+ features available in lower Android version, you can use one of the following options:\r\n\r\n - import the [ThreeTen Android Backport (ABP)](https://github.com/JakeWharton/ThreeTenABP)\r\n - make use of [Android API Desugaring](https://developer.android.com/studio/write/java8-support-table)\r\n\r\nWith (one of) these two, you can use nearly all of the classes and functions of `java.time` in Android API Levels &lt; 26, including `LocalDate`.","title":"android app LocalDate alternative for older API level","body":"<p>If you want to have Java 8+ features available in lower Android version, you can use one of the following options:</p>\n<ul>\n<li>import the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTen Android Backport (ABP)</a></li>\n<li>make use of <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Android API Desugaring</a></li>\n</ul>\n<p>With (one of) these two, you can use nearly all of the classes and functions of <code>java.time</code> in Android API Levels &lt; 26, including <code>LocalDate</code>.</p>\n"}],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76383359,"answer_count":1,"score":1,"last_activity_date":1685632383,"creation_date":1685624094,"question_id":76382104,"body_markdown":"I am building a calendar app and mostly in my code I use `LocalDate` to set my `RecyclerView` and some more functions.  \r\nI have a tablet that it&#39;s android version is 7.1.1, so it cant run anything in my code related to `LocalDate`.\r\n\r\nI want to contest my self and make my app run to min SDK 16. Are there any alternatives for `LocalDate` for my code? I also use `Calendar` in my code but for my `RecyclerView` is almost the triple code to do same task. Any other suggestion would be apreciated.","title":"android app LocalDate alternative for older API level","body":"<p>I am building a calendar app and mostly in my code I use <code>LocalDate</code> to set my <code>RecyclerView</code> and some more functions.<br />\nI have a tablet that it's android version is 7.1.1, so it cant run anything in my code related to <code>LocalDate</code>.</p>\n<p>I want to contest my self and make my app run to min SDK 16. Are there any alternatives for <code>LocalDate</code> for my code? I also use <code>Calendar</code> in my code but for my <code>RecyclerView</code> is almost the triple code to do same task. Any other suggestion would be apreciated.</p>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging","kogito"],"answers":[{"tags":[],"owner":{"account_id":22672227,"reputation":121,"user_id":16843807,"display_name":"Francisco Javier Tirado Sarti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685632332,"creation_date":1685632332,"answer_id":76383369,"question_id":76308300,"body_markdown":"As explained [here][1], the important thing is that the name of your message name in your bpmn matches the name of the channel in your application.properties\r\nAs a recommendation use shorter channel names. For example, rather than kogito_outgoing_newEnds, just use newEnds (so you do not need to specify the topic, since the topic is by default equal to channel name)\r\nAs you will see in the blog, kogito_outgoing_stream is the default channel name (which can also be changed through configuration)\r\n\r\n\r\n  [1]: https://blog.kie.org/2021/09/kogito-process-eventing-add-ons.html","title":"Error trying to send Kogito end &amp; start messages using Smallrye Kafka in Quarkus","body":"<p>As explained <a href=\"https://blog.kie.org/2021/09/kogito-process-eventing-add-ons.html\" rel=\"nofollow noreferrer\">here</a>, the important thing is that the name of your message name in your bpmn matches the name of the channel in your application.properties\nAs a recommendation use shorter channel names. For example, rather than kogito_outgoing_newEnds, just use newEnds (so you do not need to specify the topic, since the topic is by default equal to channel name)\nAs you will see in the blog, kogito_outgoing_stream is the default channel name (which can also be changed through configuration)</p>\n"}],"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76383369,"answer_count":1,"score":0,"last_activity_date":1685632332,"creation_date":1684773629,"question_id":76308300,"body_markdown":"I have created a quarkus app with multiple BPMN&#39;s having start messages and end messages.\r\nThe below is my application.properties for messaging\r\n```\r\nkafka.bootstrap.servers=0.0.0.0\\:9092\r\nmp.messaging.incoming.endSales.auto.offset.reset=earliest\r\nmp.messaging.incoming.endSales.connector=smallrye-kafka\r\nmp.messaging.incoming.endSales.topic=endSales\r\nmp.messaging.incoming.endSales.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nmp.messaging.outgoing.kogito-processinstances-events.connector=smallrye-kafka\r\nmp.messaging.outgoing.kogito-processinstances-events.topic=kogito-processinstances-events\r\nmp.messaging.outgoing.kogito-processinstances-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\nmp.messaging.outgoing.kogito-usertaskinstances-events.connector=smallrye-kafka\r\nmp.messaging.outgoing.kogito-usertaskinstances-events.topic=kogito-usertaskinstances-events\r\nmp.messaging.outgoing.kogito-usertaskinstances-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\nmp.messaging.outgoing.kogito-variables-events.connector=smallrye-kafka\r\nmp.messaging.outgoing.kogito-variables-events.topic=kogito-variables-events\r\nmp.messaging.outgoing.kogito-variables-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\nmp.messaging.outgoing.kogito_outgoing_stream.connector=smallrye-kafka\r\nmp.messaging.outgoing.kogito_outgoing_stream.topic=endSales\r\nmp.messaging.outgoing.kogito.outgoing_stream.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\nmp.messaging.outgoing.kogito_outgoing_newEnds.connector=smallrye-kafka\r\nmp.messaging.outgoing.kogito_outgoing_newEnds.topic=newEnds\r\nmp.messaging.outgoing.kogito_outgoing_newEnds.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\nmp.messaging.outgoing.kogito_outgoing_sudoku.connector=smallrye-kafka\r\nmp.messaging.outgoing.kogito_outgoing_sudoku.topic=sudoku\r\nmp.messaging.outgoing.kogito_outgoing_sudoku.value.serializer=org.apache.kafka.common.serialization.StringSerializer\r\n```\r\n\r\nThis throws me the following error during build time\r\n```\r\n java.lang.IllegalArgumentException: SRMSG00071: Invalid channel configuration -  the `connector` attribute must be set for channel `kogito`\r\n        at io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$0(ConnectorConfig.java:50)\r\n        at java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$1(ConnectorConfig.java:50)\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.&lt;init&gt;(ConnectorConfig.java:49)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.lambda$extractConfigurationFor$0(ConfiguredChannelFactory.java:85)\r\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.extractConfigurationFor(ConfiguredChannelFactory.java:74)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.initialize(ConfiguredChannelFactory.java:101)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_Subclass.initialize$$superforward1(Unknown Source)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_Subclass$$function$$4.apply(Unknown Source)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_Subclass.initialize(Unknown Source)\r\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_ClientProxy.initialize(Unknown Source)\r\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n        at io.smallrye.reactive.messaging.providers.extension.MediatorManager.start(MediatorManager.java:192)\r\n```\r\n\r\nAlso are there any channel naming conventions related to kafka topics for Kogito messages in Quarkus?","title":"Error trying to send Kogito end &amp; start messages using Smallrye Kafka in Quarkus","body":"<p>I have created a quarkus app with multiple BPMN's having start messages and end messages.\nThe below is my application.properties for messaging</p>\n<pre><code>kafka.bootstrap.servers=0.0.0.0\\:9092\nmp.messaging.incoming.endSales.auto.offset.reset=earliest\nmp.messaging.incoming.endSales.connector=smallrye-kafka\nmp.messaging.incoming.endSales.topic=endSales\nmp.messaging.incoming.endSales.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nmp.messaging.outgoing.kogito-processinstances-events.connector=smallrye-kafka\nmp.messaging.outgoing.kogito-processinstances-events.topic=kogito-processinstances-events\nmp.messaging.outgoing.kogito-processinstances-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\nmp.messaging.outgoing.kogito-usertaskinstances-events.connector=smallrye-kafka\nmp.messaging.outgoing.kogito-usertaskinstances-events.topic=kogito-usertaskinstances-events\nmp.messaging.outgoing.kogito-usertaskinstances-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\nmp.messaging.outgoing.kogito-variables-events.connector=smallrye-kafka\nmp.messaging.outgoing.kogito-variables-events.topic=kogito-variables-events\nmp.messaging.outgoing.kogito-variables-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer\nmp.messaging.outgoing.kogito_outgoing_stream.connector=smallrye-kafka\nmp.messaging.outgoing.kogito_outgoing_stream.topic=endSales\nmp.messaging.outgoing.kogito.outgoing_stream.value.serializer=org.apache.kafka.common.serialization.StringSerializer\nmp.messaging.outgoing.kogito_outgoing_newEnds.connector=smallrye-kafka\nmp.messaging.outgoing.kogito_outgoing_newEnds.topic=newEnds\nmp.messaging.outgoing.kogito_outgoing_newEnds.value.serializer=org.apache.kafka.common.serialization.StringSerializer\nmp.messaging.outgoing.kogito_outgoing_sudoku.connector=smallrye-kafka\nmp.messaging.outgoing.kogito_outgoing_sudoku.topic=sudoku\nmp.messaging.outgoing.kogito_outgoing_sudoku.value.serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>This throws me the following error during build time</p>\n<pre><code> java.lang.IllegalArgumentException: SRMSG00071: Invalid channel configuration -  the `connector` attribute must be set for channel `kogito`\n        at io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$0(ConnectorConfig.java:50)\n        at java.base/java.util.Optional.orElseThrow(Optional.java:403)\n        at io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.lambda$new$1(ConnectorConfig.java:50)\n        at java.base/java.util.Optional.orElseGet(Optional.java:364)\n        at io.smallrye.reactive.messaging.providers.impl.ConnectorConfig.&lt;init&gt;(ConnectorConfig.java:49)\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.lambda$extractConfigurationFor$0(ConfiguredChannelFactory.java:85)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.extractConfigurationFor(ConfiguredChannelFactory.java:74)\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory.initialize(ConfiguredChannelFactory.java:101)\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_Subclass.initialize$$superforward1(Unknown Source)\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_Subclass$$function$$4.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_Subclass.initialize(Unknown Source)\n        at io.smallrye.reactive.messaging.providers.impl.ConfiguredChannelFactory_ClientProxy.initialize(Unknown Source)\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n        at io.smallrye.reactive.messaging.providers.extension.MediatorManager.start(MediatorManager.java:192)\n</code></pre>\n<p>Also are there any channel naming conventions related to kafka topics for Kogito messages in Quarkus?</p>\n"},{"tags":["java","string","escaping"],"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":1,"creation_date":1268099686,"post_id":2406121,"comment_id":2386305,"body_markdown":"Could you post you current code for reading and outputting?","body":"Could you post you current code for reading and outputting?"},{"owner":{"account_id":76594,"reputation":5792,"user_id":219155,"accept_rate":80,"display_name":"Nate C-K"},"score":0,"creation_date":1268099758,"post_id":2406121,"comment_id":2386315,"body_markdown":"How are you reading in the source file? And how exactly are you printing them? From your description it&#39;s not obvious to me where the escape sequences are getting converted into the escape characters that they represent.","body":"How are you reading in the source file? And how exactly are you printing them? From your description it&#39;s not obvious to me where the escape sequences are getting converted into the escape characters that they represent."}],"answers":[{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1268099801,"creation_date":1268099445,"answer_id":2406131,"question_id":2406121,"body_markdown":"Using:\r\n\r\n`\\\\n` and `\\\\t`\r\n\r\nSome characters preceded by a backslash (`\\`) form an ***escape sequence*** and have special meaning to the compiler. So in your case `\\n` and `\\t` are treated as special (newline and tab respectively). So we need to escape the backslash to make `n` and `t` treated literally.","title":"How do I escape a string in Java?","body":"<p>Using:</p>\n\n<p><code>\\\\n</code> and <code>\\\\t</code></p>\n\n<p>Some characters preceded by a backslash (<code>\\</code>) form an <strong><em>escape sequence</em></strong> and have special meaning to the compiler. So in your case <code>\\n</code> and <code>\\t</code> are treated as special (newline and tab respectively). So we need to escape the backslash to make <code>n</code> and <code>t</code> treated literally.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":14,"up_vote_count":13,"is_accepted":false,"score":-1,"last_activity_date":1268102589,"creation_date":1268102281,"answer_id":2406308,"question_id":2406121,"body_markdown":"Given `String s`,\r\n\r\n    s = s.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\r\nReplaces all `\\` with `\\\\`.","title":"How do I escape a string in Java?","body":"<p>Given <code>String s</code>,</p>\n\n<pre><code>s = s.replace(\"\\\\\", \"\\\\\\\\\");\n</code></pre>\n\n<p>Replaces all <code>\\</code> with <code>\\\\</code>.</p>\n"},{"tags":[],"owner":{"account_id":58153,"reputation":5728,"user_id":2922388,"accept_rate":65,"display_name":"Gopi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469764549,"creation_date":1268111336,"answer_id":2406801,"question_id":2406121,"body_markdown":"[StringEscapeUtils][1] is good for string related operations\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html","title":"How do I escape a string in Java?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">StringEscapeUtils</a> is good for string related operations</p>\n"},{"tags":[],"owner":{"account_id":109154,"reputation":1964,"user_id":289372,"accept_rate":100,"display_name":"schematic"},"down_vote_count":2,"up_vote_count":72,"is_accepted":true,"score":70,"last_activity_date":1625539686,"creation_date":1268111747,"answer_id":2406827,"question_id":2406121,"body_markdown":"You should use the [`StringEscapeUtils`][1] class from [Apache Commons Text][2] (you can also find the class in Apache Commons Lang3 but that one is deprecated).  You&#39;ll find that there are plenty of other offerings in Apache Commons that might serve useful for other problems you have in Java development, so that you don&#39;t reinvent the wheel.\r\n\r\nThe specific call you want has to do with &quot;Java escaping&quot;; the API call is [`StringEscapeUtils.escapeJava()`][3]. For example:\r\n\r\n    System.out.println(StringEscapeUtils.escapeJava(&quot;Hello\\r\\n\\tW\\&quot;o\\&quot;rld\\n&quot;));\r\n\r\nwould print out:\r\n\r\n    Hello\\r\\n\\tW\\&quot;o\\&quot;rld\\n\r\n\r\n\r\nThere are plenty of other escaping utilities in that library as well. You can find [Apache Commons Text in Maven Central][4] and you&#39;d add it to your Maven project like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand in case you are using Gradle:\r\n\r\n    compile &quot;org.apache.commons:commons-text:1.3&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-text/\r\n  [3]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJava-java.lang.String-\r\n  [4]: https://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-text%22","title":"How do I escape a string in Java?","body":"<p>You should use the <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\" rel=\"noreferrer\"><code>StringEscapeUtils</code></a> class from <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"noreferrer\">Apache Commons Text</a> (you can also find the class in Apache Commons Lang3 but that one is deprecated).  You'll find that there are plenty of other offerings in Apache Commons that might serve useful for other problems you have in Java development, so that you don't reinvent the wheel.</p>\n<p>The specific call you want has to do with &quot;Java escaping&quot;; the API call is <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeJava-java.lang.String-\" rel=\"noreferrer\"><code>StringEscapeUtils.escapeJava()</code></a>. For example:</p>\n<pre><code>System.out.println(StringEscapeUtils.escapeJava(&quot;Hello\\r\\n\\tW\\&quot;o\\&quot;rld\\n&quot;));\n</code></pre>\n<p>would print out:</p>\n<pre><code>Hello\\r\\n\\tW\\&quot;o\\&quot;rld\\n\n</code></pre>\n<p>There are plenty of other escaping utilities in that library as well. You can find <a href=\"https://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-text%22\" rel=\"noreferrer\">Apache Commons Text in Maven Central</a> and you'd add it to your Maven project like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and in case you are using Gradle:</p>\n<pre><code>compile &quot;org.apache.commons:commons-text:1.3&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3290972,"reputation":501,"user_id":2847743,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1685632035,"creation_date":1588745911,"answer_id":61628600,"question_id":2406121,"body_markdown":"Many of the solutions here suggest adding the [Apache Commons Text](https://commons.apache.org/proper/commons-text/) and using [StringEscapeUtils](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html). Some of the other solutions here are simply wrong.\r\n\r\nA potential solutions is as follows:\r\n\r\n```java\r\n/**\r\n * escape()\r\n *\r\n * Escape a give String to make it safe to be printed or stored.\r\n *\r\n * @param s The input String.\r\n * @return The output String.\r\n **/\r\npublic static String escape(String s){\r\n  return s.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;)\r\n          .replace(&quot;\\t&quot;, &quot;\\\\t&quot;)\r\n          .replace(&quot;\\b&quot;, &quot;\\\\b&quot;)\r\n          .replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\r\n          .replace(&quot;\\r&quot;, &quot;\\\\r&quot;)\r\n          .replace(&quot;\\f&quot;, &quot;\\\\f&quot;)\r\n          .replace(&quot;\\&#39;&quot;, &quot;\\\\&#39;&quot;)      // &lt;== not necessary\r\n          .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n}\r\n```\r\n\r\nThe escape list is from Oracle&#39;s [list](https://docs.oracle.com/javase/tutorial/java/data/characters.html). (**Note** that `\\\\` is escaped first as you don&#39;t want to re-escape it later.)\r\n\r\nThis solution isn&#39;t as fast as it could be, but it should work. Ideally you would only parse the String once and you wouldn&#39;t need to keep rebuilding your String array. For small Strings this should be fine.\r\n\r\nIf you&#39;re thinking about this from the perspective of storing data, also consider something like converting it to [Base64](https://en.wikipedia.org/wiki/Base64) representation - it&#39;s fast, single parse and uses not too much extra space.","title":"How do I escape a string in Java?","body":"<p>Many of the solutions here suggest adding the <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a> and using <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">StringEscapeUtils</a>. Some of the other solutions here are simply wrong.</p>\n<p>A potential solutions is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * escape()\n *\n * Escape a give String to make it safe to be printed or stored.\n *\n * @param s The input String.\n * @return The output String.\n **/\npublic static String escape(String s){\n  return s.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;)\n          .replace(&quot;\\t&quot;, &quot;\\\\t&quot;)\n          .replace(&quot;\\b&quot;, &quot;\\\\b&quot;)\n          .replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\n          .replace(&quot;\\r&quot;, &quot;\\\\r&quot;)\n          .replace(&quot;\\f&quot;, &quot;\\\\f&quot;)\n          .replace(&quot;\\'&quot;, &quot;\\\\'&quot;)      // &lt;== not necessary\n          .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n}\n</code></pre>\n<p>The escape list is from Oracle's <a href=\"https://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow noreferrer\">list</a>. (<strong>Note</strong> that <code>\\\\</code> is escaped first as you don't want to re-escape it later.)</p>\n<p>This solution isn't as fast as it could be, but it should work. Ideally you would only parse the String once and you wouldn't need to keep rebuilding your String array. For small Strings this should be fine.</p>\n<p>If you're thinking about this from the perspective of storing data, also consider something like converting it to <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a> representation - it's fast, single parse and uses not too much extra space.</p>\n"}],"owner":{"account_id":1191,"reputation":58105,"user_id":1585,"accept_rate":73,"display_name":"Marius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134325,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":2406827,"answer_count":5,"score":47,"last_activity_date":1685632035,"creation_date":1268099292,"question_id":2406121,"body_markdown":"I&#39;m reading a sourcefile in Java, but when I print it (sysout), the escaped characters are no longer escaped. How can I escape characters like `\\n` and `\\t` in a string in Java?","title":"How do I escape a string in Java?","body":"<p>I'm reading a sourcefile in Java, but when I print it (sysout), the escaped characters are no longer escaped. How can I escape characters like <code>\\n</code> and <code>\\t</code> in a string in Java?</p>\n"},{"tags":["java","eclipse","unit-testing","junit","noclassdeffounderror"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1290190316,"post_id":4228047,"comment_id":4575809,"body_markdown":"What class is missing according the error?","body":"What class is missing according the error?"}],"answers":[{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":3,"up_vote_count":118,"is_accepted":true,"score":115,"last_activity_date":1685631707,"creation_date":1290190381,"answer_id":4228074,"question_id":4228047,"body_markdown":"The problem is an incomplete runtime classpath. Your code may compile fine in the IDE but it needs additional classes (jars) at runtime. \r\n\r\n`ClassNotFoundException: org.hamcrest.SelfDescribing` is indicating which class is missing. `org.hamcrest` is required by JUnit any it may be missing in your project setup.\r\n\r\nTry the following steps to add all of the JUnit4 libraries (including required runtime jars) to the project&#39;s classpath:\r\n\r\n 1. Right click your project in Package Explorer &gt; click Properties\r\n 2. go to Java Build Path &gt; Libraries tab\r\n 3. click on &#39;Add Library&#39; button\r\n 4. select JUnit\r\n 5. click Next.\r\n 6. select in dropdown button JUnit4 or other new versions.\r\n 7. click finish.\r\n 8. Then Ok.\r\n\r\nNote, the steps are for a pure Eclipse project. If you use Maven, Gradle or another tool for dependency management you need to add the dependency there and refresh the project setup in Eclipse. This usually happens automatically with the proper integration.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>The problem is an incomplete runtime classpath. Your code may compile fine in the IDE but it needs additional classes (jars) at runtime.</p>\n<p><code>ClassNotFoundException: org.hamcrest.SelfDescribing</code> is indicating which class is missing. <code>org.hamcrest</code> is required by JUnit any it may be missing in your project setup.</p>\n<p>Try the following steps to add all of the JUnit4 libraries (including required runtime jars) to the project's classpath:</p>\n<ol>\n<li>Right click your project in Package Explorer &gt; click Properties</li>\n<li>go to Java Build Path &gt; Libraries tab</li>\n<li>click on 'Add Library' button</li>\n<li>select JUnit</li>\n<li>click Next.</li>\n<li>select in dropdown button JUnit4 or other new versions.</li>\n<li>click finish.</li>\n<li>Then Ok.</li>\n</ol>\n<p>Note, the steps are for a pure Eclipse project. If you use Maven, Gradle or another tool for dependency management you need to add the dependency there and refresh the project setup in Eclipse. This usually happens automatically with the proper integration.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1290195343,"creation_date":1290195343,"answer_id":4228701,"question_id":4228047,"body_markdown":"The org/hamcrest/SelfDescribing class is not on the run-time classpath.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>The org/hamcrest/SelfDescribing class is not on the run-time classpath.</p>\n"},{"tags":[],"owner":{"account_id":903865,"reputation":9,"user_id":939242,"display_name":"Bin"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1315751827,"creation_date":1315751827,"answer_id":7378915,"question_id":4228047,"body_markdown":"If you have more than one version of java, it may interfere with your program.\r\n\r\nI suggest you download JCreator. \r\n\r\nWhen you do, click configure, options, and JDK Profiles. Delete the old versions of Java from the list. Then click the play button. Your program should appear. \r\n\r\nIf it doesn&#39;t, press ctrl+alt+O and then press the play button again.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>If you have more than one version of java, it may interfere with your program.</p>\n\n<p>I suggest you download JCreator. </p>\n\n<p>When you do, click configure, options, and JDK Profiles. Delete the old versions of Java from the list. Then click the play button. Your program should appear. </p>\n\n<p>If it doesn't, press ctrl+alt+O and then press the play button again.</p>\n"},{"tags":[],"owner":{"account_id":1163843,"reputation":11,"user_id":1142848,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326273987,"creation_date":1326273766,"answer_id":8816829,"question_id":4228047,"body_markdown":"Try below steps:\r\n\r\n1. Go to your project&#39;s run configuration. In Classpath tab add JUnit library.\r\n2. Retry the same steps.\r\n\r\nIt worked for me.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>Try below steps:</p>\n\n<ol>\n<li>Go to your project's run configuration. In Classpath tab add JUnit library.</li>\n<li>Retry the same steps.</li>\n</ol>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1452994,"reputation":146,"user_id":1369354,"display_name":"Defrag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337494236,"creation_date":1336034266,"answer_id":10427833,"question_id":4228047,"body_markdown":"I had the same issue, the problem was in the @ContextConfiguration in me test classes, i was loading the servlet context too i just change:\r\n\r\n    @ContextConfiguration(locations = { &quot;classpath*:**\\*-context.xml&quot;, &quot;classpath*:**\\*-config.xml&quot; })\r\n\r\nto:\r\n\r\n    @ContextConfiguration(locations = { &quot;classpath:**\\*-context.xml&quot;, &quot;classpath:**\\*-config.xml&quot; })\r\n\r\nand that&#180;s it.\r\nthis way im only loading all the files with the pattern *-context.xml in me test path.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>I had the same issue, the problem was in the @ContextConfiguration in me test classes, i was loading the servlet context too i just change:</p>\n\n<pre><code>@ContextConfiguration(locations = { \"classpath*:**\\*-context.xml\", \"classpath*:**\\*-config.xml\" })\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>@ContextConfiguration(locations = { \"classpath:**\\*-context.xml\", \"classpath:**\\*-config.xml\" })\n</code></pre>\n\n<p>and that¬¥s it.\nthis way im only loading all the files with the pattern *-context.xml in me test path.</p>\n"},{"tags":[],"owner":{"account_id":1199403,"reputation":18392,"user_id":1170385,"accept_rate":58,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1361836400,"creation_date":1361836400,"answer_id":15078821,"question_id":4228047,"body_markdown":"The same problem can occur if you have downloaded JUnit jar from the JUnit website, but forgotten to download the Hamcrest jar - both are required (the instructions say to download both, but I skipped ahead! Oops)","title":"java.lang.NoClassDefFoundError in junit","body":"<p>The same problem can occur if you have downloaded JUnit jar from the JUnit website, but forgotten to download the Hamcrest jar - both are required (the instructions say to download both, but I skipped ahead! Oops)</p>\n"},{"tags":[],"owner":{"account_id":1709183,"reputation":567,"user_id":1567567,"accept_rate":67,"display_name":"AnandSonake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373115968,"creation_date":1373115968,"answer_id":17503263,"question_id":4228047,"body_markdown":"1. Make sure Environment variable JUNIT_HOME is set to c:\\JUNIT.\r\n2. then In run configuration &gt; select classpath &gt; add external jars junit-4.11.jar ","title":"java.lang.NoClassDefFoundError in junit","body":"<ol>\n<li>Make sure Environment variable JUNIT_HOME is set to c:\\JUNIT.</li>\n<li>then In run configuration > select classpath > add external jars junit-4.11.jar </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5010230,"reputation":11,"user_id":4026725,"display_name":"rishabhdaim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411707253,"creation_date":1411705850,"answer_id":26052087,"question_id":4228047,"body_markdown":"The reason for this is &quot;hamcrest-core&quot; jar is not in classpath as it doesn&#39;t comes directly with junit jar. So there are two ways to resolve this:\r\n\r\n1. select project -&gt; buildpath -&gt; add libraries and select junit (It contains both junit &amp; hamcrest-core)\r\n2. download hamcrest-core from maven repo and add this to your classpath.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>The reason for this is \"hamcrest-core\" jar is not in classpath as it doesn't comes directly with junit jar. So there are two ways to resolve this:</p>\n\n<ol>\n<li>select project -> buildpath -> add libraries and select junit (It contains both junit &amp; hamcrest-core)</li>\n<li>download hamcrest-core from maven repo and add this to your classpath.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":380339,"reputation":613,"user_id":734284,"accept_rate":43,"display_name":"Ujjwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427801071,"creation_date":1427801071,"answer_id":29367517,"question_id":4228047,"body_markdown":"This error also comes if 2 versions of hamcrest-library or hamcrest-core is present in the classpath.\r\n\r\nIn the pom file, you can exclude the extra version and it works.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>This error also comes if 2 versions of hamcrest-library or hamcrest-core is present in the classpath.</p>\n\n<p>In the pom file, you can exclude the extra version and it works.</p>\n"},{"tags":[],"owner":{"account_id":1049344,"reputation":1539,"user_id":1053629,"display_name":"Tires"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1428948015,"creation_date":1428948015,"answer_id":29611971,"question_id":4228047,"body_markdown":"When using in Maven, update artifact junit:junit from e.g. 4.8.2 to 4.11.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>When using in Maven, update artifact junit:junit from e.g. 4.8.2 to 4.11.</p>\n"},{"tags":[],"owner":{"account_id":9257647,"reputation":1,"user_id":6875944,"display_name":"Rohit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474749770,"creation_date":1474749770,"answer_id":39680786,"question_id":4228047,"body_markdown":"even Junit4.11.jar doesnot have the hamcrest-core.jar. I added explicitly in the classpath and the issue was resolved.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>even Junit4.11.jar doesnot have the hamcrest-core.jar. I added explicitly in the classpath and the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":1253895,"reputation":557,"user_id":1213764,"accept_rate":50,"display_name":"Hado99"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1488834247,"creation_date":1476226287,"answer_id":39987979,"question_id":4228047,"body_markdown":"1. Eclipse -&gt; Top menu -&gt; Run -&gt; Run Configurations\n2. Delete all the occurrences of your test. Your test may appear as YourTest.Method_1(). Delete that as well.\n3. Re-run. Let Eclipse build a fresh configuration.\n\nAddendum: Locally I have created a &quot;User Library&quot; and added to my projects which has \n\n&gt; `hamcrest-core-1.3.jar`\n&gt;\n&gt; `junit-4.12.jar`\n","title":"java.lang.NoClassDefFoundError in junit","body":"<ol>\n<li>Eclipse -&gt; Top menu -&gt; Run -&gt; Run Configurations</li>\n<li>Delete all the occurrences of your test. Your test may appear as YourTest.Method_1(). Delete that as well.</li>\n<li>Re-run. Let Eclipse build a fresh configuration.</li>\n</ol>\n<p>Addendum: Locally I have created a &quot;User Library&quot; and added to my projects which has</p>\n<blockquote>\n<p><code>hamcrest-core-1.3.jar</code></p>\n<p><code>junit-4.12.jar</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7263023,"reputation":447,"user_id":5538923,"display_name":"marcor92"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526919429,"creation_date":1526914617,"answer_id":50451482,"question_id":4228047,"body_markdown":"These steps worked for me when the error showed that the Filter class was missing (as reported in this *false-diplicated* question: https://stackoverflow.com/questions/33521436/junit-noclassdeffounderror-org-junit-runner-manipulation-filter/33521906 ):\r\n\r\n 1. Make sure to have JUnit 4 referenced only once in your project *(I also removed the Maven nature, but I am not sure if this step has any influence in solving the\r\n    problem)*.\r\n 2. Right click the **file** containing unit tests, select\r\n    Properties, and under the Run/Debug settings, remove any entries\r\n    from the Launch Configurations for that file. Hit Apply and close.\r\n 3. Right click the **project** containing unit tests, select\r\n    Properties, and under the Run/Debug settings, remove any entries\r\n    involving JUnit from the Launch Configurations. Hit Apply and close.\r\n 4. Clean the project, and run the test.\r\n\r\nThanks to these answers for giving me the hint for this solution: https://stackoverflow.com/a/34067333/5538923 and https://stackoverflow.com/a/39987979/5538923).","title":"java.lang.NoClassDefFoundError in junit","body":"<p>These steps worked for me when the error showed that the Filter class was missing (as reported in this <em>false-diplicated</em> question: <a href=\"https://stackoverflow.com/questions/33521436/junit-noclassdeffounderror-org-junit-runner-manipulation-filter/33521906\">JUnit: NoClassDefFoundError: org/junit/runner/manipulation/Filter</a> ):</p>\n\n<ol>\n<li>Make sure to have JUnit 4 referenced only once in your project <em>(I also removed the Maven nature, but I am not sure if this step has any influence in solving the\nproblem)</em>.</li>\n<li>Right click the <strong>file</strong> containing unit tests, select\nProperties, and under the Run/Debug settings, remove any entries\nfrom the Launch Configurations for that file. Hit Apply and close.</li>\n<li>Right click the <strong>project</strong> containing unit tests, select\nProperties, and under the Run/Debug settings, remove any entries\ninvolving JUnit from the Launch Configurations. Hit Apply and close.</li>\n<li>Clean the project, and run the test.</li>\n</ol>\n\n<p>Thanks to these answers for giving me the hint for this solution: <a href=\"https://stackoverflow.com/a/34067333/5538923\">https://stackoverflow.com/a/34067333/5538923</a> and <a href=\"https://stackoverflow.com/a/39987979/5538923\">https://stackoverflow.com/a/39987979/5538923</a>).</p>\n"},{"tags":[],"owner":{"account_id":10714354,"reputation":773,"user_id":7885582,"display_name":"sana"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1535540403,"creation_date":1535540403,"answer_id":52075826,"question_id":4228047,"body_markdown":"On Eclipse I was able to solve the above issue by following the below steps :\r\n\r\nRight-click on the test file which you want to run,\r\n**Select Run As -&gt; Run Configurations -&gt; Select Classpath tab -&gt; Select to the bootstrap Entries -&gt; Select Advanced -&gt; Select Add library -&gt; Select JUnit -&gt; Next -&gt;Select JUnit4 from the drop-down -&gt; Finish** \r\n\r\nThen Select **Apply -&gt; Run**\r\n","title":"java.lang.NoClassDefFoundError in junit","body":"<p>On Eclipse I was able to solve the above issue by following the below steps :</p>\n\n<p>Right-click on the test file which you want to run,\n<strong>Select Run As -> Run Configurations -> Select Classpath tab -> Select to the bootstrap Entries -> Select Advanced -> Select Add library -> Select JUnit -> Next ->Select JUnit4 from the drop-down -> Finish</strong> </p>\n\n<p>Then Select <strong>Apply -> Run</strong></p>\n"},{"tags":[],"owner":{"account_id":492738,"reputation":1361,"user_id":975639,"accept_rate":28,"display_name":"badbishop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564385497,"creation_date":1564385497,"answer_id":57249063,"question_id":4228047,"body_markdown":"Adding my two cents to other answers. \r\n\r\nCheck if you haven&#39;t by any chance created your test class under `src/main/java` instead of usual `src/test/java`. The former is the default in Eclipse when you create a new test class for whatever reason and can be overlooked. It can be as simple as that.","title":"java.lang.NoClassDefFoundError in junit","body":"<p>Adding my two cents to other answers. </p>\n\n<p>Check if you haven't by any chance created your test class under <code>src/main/java</code> instead of usual <code>src/test/java</code>. The former is the default in Eclipse when you create a new test class for whatever reason and can be overlooked. It can be as simple as that.</p>\n"},{"tags":[],"owner":{"account_id":1915570,"reputation":4789,"user_id":1993909,"accept_rate":85,"display_name":"Daniel Cheung"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585419741,"creation_date":1585419741,"answer_id":60905072,"question_id":4228047,"body_markdown":"In my case, I added my libraries to Modulepath instead on Classpath.\r\n\r\nIt only works if JUnit is correctly added to Classpath.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wj95g.png","title":"java.lang.NoClassDefFoundError in junit","body":"<p>In my case, I added my libraries to Modulepath instead on Classpath.</p>\n\n<p>It only works if JUnit is correctly added to Classpath.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wj95g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wj95g.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596453243,"creation_date":1596452929,"answer_id":63228334,"question_id":4228047,"body_markdown":"I was following this video: https://www.youtube.com/watch?v=WHPPQGOyy_Y\r\nbut failed to run the test. After that, I deleted all the downloaded files and add\r\nthe Junit using the step in the picture.\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T27t8.png\r\n\r\n","title":"java.lang.NoClassDefFoundError in junit","body":"<p>I was following this video: <a href=\"https://www.youtube.com/watch?v=WHPPQGOyy_Y\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=WHPPQGOyy_Y</a>\nbut failed to run the test. After that, I deleted all the downloaded files and add\nthe Junit using the step in the picture.</p>\n<p><a href=\"https://i.stack.imgur.com/T27t8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T27t8.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user506710"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208239,"favorite_count":0,"down_vote_count":1,"up_vote_count":92,"accepted_answer_id":4228074,"answer_count":17,"score":91,"last_activity_date":1685631707,"creation_date":1290190214,"question_id":4228047,"body_markdown":"I am getting this error in java in my junit test code. I looked up on the net and it says that I need to add the junit.jar in the classpath.\r\n\r\nIn Eclipse I have added it in the classpath of Project Properties windows but I still get initialisation error. What should I do..?\r\n\r\nThis is the complete trace of the error:\r\n\r\n    java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClassCond(Unknown Source)\r\n    \tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n    \tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.access$000(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:13)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    \tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\r\n    \tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    \tat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:32)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:41)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:31)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    Caused by: java.lang.ClassNotFoundException: org.hamcrest.SelfDescribing\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \t... 25 more\r\n","title":"java.lang.NoClassDefFoundError in junit","body":"<p>I am getting this error in java in my junit test code. I looked up on the net and it says that I need to add the junit.jar in the classpath.</p>\n\n<p>In Eclipse I have added it in the classpath of Project Properties windows but I still get initialisation error. What should I do..?</p>\n\n<p>This is the complete trace of the error:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/hamcrest/SelfDescribing\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClassCond(Unknown Source)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$000(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.junit.internal.builders.JUnit4Builder.runnerForClass(JUnit4Builder.java:13)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.&lt;init&gt;(JUnit4TestReference.java:32)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestClassReference.&lt;init&gt;(JUnit4TestClassReference.java:25)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createTest(JUnit4TestLoader.java:41)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.loadTests(JUnit4TestLoader.java:31)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.ClassNotFoundException: org.hamcrest.SelfDescribing\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2227385,"reputation":2344,"user_id":1965810,"display_name":"Vytautas Nuobara"},"down_vote_count":1,"up_vote_count":233,"is_accepted":true,"score":232,"last_activity_date":1473873403,"creation_date":1357802012,"answer_id":14252600,"question_id":14251624,"body_markdown":"Check ‚ÄúIgnored files and folders‚Äù in [File Types][1] settings:\r\n\r\n&gt; **File | Settings | Editor | File Types** for Windows and Linux\r\n&gt;\r\n&gt; **IntelliJ IDEA | Preferences | Editor | File Types** for OS X\r\n\r\nThen add **`*.iml;*.idea;`** in the text box in the bottom:\r\n\r\n[![Hide Files and Folders in Intellij][2]][2]\r\n\r\nhttp://blogs.jetbrains.com/idea/2011/04/intellij-idea-does-not-show-some-files-know-the-hiding-places/\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/file-types.html\r\n  [2]: http://i.stack.imgur.com/LvGLF.png","title":"Intellij IDEA. Hide .iml files","body":"<p>Check ‚ÄúIgnored files and folders‚Äù in <a href=\"https://www.jetbrains.com/help/idea/file-types.html\" rel=\"noreferrer\">File Types</a> settings:</p>\n\n<blockquote>\n  <p><strong>File | Settings | Editor | File Types</strong> for Windows and Linux</p>\n  \n  <p><strong>IntelliJ IDEA | Preferences | Editor | File Types</strong> for OS X</p>\n</blockquote>\n\n<p>Then add <strong><code>*.iml;*.idea;</code></strong> in the text box in the bottom:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LvGLF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LvGLF.png\" alt=\"Hide Files and Folders in Intellij\"></a></p>\n\n<p><a href=\"http://blogs.jetbrains.com/idea/2011/04/intellij-idea-does-not-show-some-files-know-the-hiding-places/\" rel=\"noreferrer\">http://blogs.jetbrains.com/idea/2011/04/intellij-idea-does-not-show-some-files-know-the-hiding-places/</a></p>\n"},{"tags":[],"owner":{"account_id":411202,"reputation":41987,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1370447833,"creation_date":1370447833,"answer_id":16944544,"question_id":14251624,"body_markdown":"* Go to `File` -&gt; `Settings` -&gt; `File Types`\r\n* Append `*.iml` to the list below &quot;Ignore files and folders&quot; (located at the bottom of the dialog)\r\n","title":"Intellij IDEA. Hide .iml files","body":"<ul>\n<li>Go to <code>File</code> -> <code>Settings</code> -> <code>File Types</code></li>\n<li>Append <code>*.iml</code> to the list below \"Ignore files and folders\" (located at the bottom of the dialog)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":105656,"reputation":10424,"user_id":281815,"display_name":"rbento"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1467292440,"creation_date":1392870164,"answer_id":21898081,"question_id":14251624,"body_markdown":"For Intellij IDEA 13 on OS X 10.9, do this:\r\n\r\n - Go to `Intellij IDEA &gt; Preferences`.\r\n - Scroll down to the `IDE Settings` section, go to `File Types`.\r\n - Add `*.iml` and `.idea` to the `Ignore files and folders` list box at the bottom of this window.\r\n\r\nThe project navigator will be much cleaner!\r\n\r\nI hope it helps!","title":"Intellij IDEA. Hide .iml files","body":"<p>For Intellij IDEA 13 on OS X 10.9, do this:</p>\n\n<ul>\n<li>Go to <code>Intellij IDEA &gt; Preferences</code>.</li>\n<li>Scroll down to the <code>IDE Settings</code> section, go to <code>File Types</code>.</li>\n<li>Add <code>*.iml</code> and <code>.idea</code> to the <code>Ignore files and folders</code> list box at the bottom of this window.</li>\n</ul>\n\n<p>The project navigator will be much cleaner!</p>\n\n<p>I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":319581,"reputation":3587,"user_id":637423,"display_name":"Geert"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1446806901,"creation_date":1425298320,"answer_id":28809506,"question_id":14251624,"body_markdown":"IntelliJ 14 and 15 on Mac OS X (they&#39;ve changed the hierarchy again in 14):\r\n\r\n* Go to `IntelliJ IDEA` -&gt; `Preferences` -&gt; `Editor` -&gt; `File Types`\r\n* Append `*.iml` to the list below &quot;Ignore files and folders&quot; (located at the bottom of the dialog)\r\n","title":"Intellij IDEA. Hide .iml files","body":"<p>IntelliJ 14 and 15 on Mac OS X (they've changed the hierarchy again in 14):</p>\n\n<ul>\n<li>Go to <code>IntelliJ IDEA</code> -> <code>Preferences</code> -> <code>Editor</code> -> <code>File Types</code></li>\n<li>Append <code>*.iml</code> to the list below \"Ignore files and folders\" (located at the bottom of the dialog)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":565244,"reputation":1685,"user_id":1139436,"accept_rate":68,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1437165695,"creation_date":1437165695,"answer_id":31484380,"question_id":14251624,"body_markdown":"For IntelliJ 14 on Windows, go to `File-&gt;Settings-&gt;Editor-&gt;File Types`. At the bottom, append `;.idea;*.iml`.","title":"Intellij IDEA. Hide .iml files","body":"<p>For IntelliJ 14 on Windows, go to <code>File-&gt;Settings-&gt;Editor-&gt;File Types</code>. At the bottom, append <code>;.idea;*.iml</code>.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494063653,"creation_date":1494063653,"answer_id":43818939,"question_id":14251624,"body_markdown":"`IntelliJ IDEA 2017.1.2 Ultimate` on `macOS Sierra 10.12.4`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ebIsk.png","title":"Intellij IDEA. Hide .iml files","body":"<p><code>IntelliJ IDEA 2017.1.2 Ultimate</code> on <code>macOS Sierra 10.12.4</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/ebIsk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebIsk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1585323143,"creation_date":1585323143,"answer_id":60889175,"question_id":14251624,"body_markdown":"Go to File -&gt; Settings -&gt; File Types\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wtkOm.png","title":"Intellij IDEA. Hide .iml files","body":"<p>Go to File -> Settings -> File Types</p>\n\n<p><a href=\"https://i.stack.imgur.com/wtkOm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wtkOm.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6672238,"reputation":131,"user_id":5148036,"display_name":"Neonchen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1600358484,"creation_date":1600358484,"answer_id":63941919,"question_id":14251624,"body_markdown":"Instead of hiding the files excluding them like folders seemed to be the better way for me.\r\n\r\nGo to `File` &gt; `Project Structure...` &gt; `Settings` &gt; `Modules`\r\n\r\nAt the bottom is a box where you can enter the file types:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow you can use the projects &quot;Show Options Menu&quot; to hide and show them:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kVQYc.png\r\n  [2]: https://i.stack.imgur.com/uIzxd.png","title":"Intellij IDEA. Hide .iml files","body":"<p>Instead of hiding the files excluding them like folders seemed to be the better way for me.</p>\n<p>Go to <code>File</code> &gt; <code>Project Structure...</code> &gt; <code>Settings</code> &gt; <code>Modules</code></p>\n<p>At the bottom is a box where you can enter the file types:</p>\n<p><a href=\"https://i.stack.imgur.com/kVQYc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kVQYc.png\" alt=\"enter image description here\" /></a></p>\n<p>Now you can use the projects &quot;Show Options Menu&quot; to hide and show them:</p>\n<p><a href=\"https://i.stack.imgur.com/uIzxd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uIzxd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3320190,"reputation":39,"user_id":2791560,"display_name":"user2791560"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685631538,"creation_date":1685528447,"answer_id":76372464,"question_id":14251624,"body_markdown":"The solution to: \r\n\r\n&gt; Check ‚ÄúIgnored files and folders‚Äù in [File Types][1] settings:\r\n\r\nas explained in [accepted answer][2], is located in the [new UI][3] as shown below:\r\n\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/creating-and-registering-file-types.html#create-new-file-type\r\n  [2]: https://stackoverflow.com/a/14252600/2791560\r\n  [3]: https://www.jetbrains.com/help/idea/new-ui.html\r\n  [4]: https://i.stack.imgur.com/K8ety.png","title":"Intellij IDEA. Hide .iml files","body":"<p>The solution to:</p>\n<blockquote>\n<p>Check ‚ÄúIgnored files and folders‚Äù in <a href=\"https://www.jetbrains.com/help/idea/creating-and-registering-file-types.html#create-new-file-type\" rel=\"nofollow noreferrer\">File Types</a> settings:</p>\n</blockquote>\n<p>as explained in <a href=\"https://stackoverflow.com/a/14252600/2791560\">accepted answer</a>, is located in the <a href=\"https://www.jetbrains.com/help/idea/new-ui.html\" rel=\"nofollow noreferrer\">new UI</a> as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/K8ety.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K8ety.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":558774,"reputation":20013,"user_id":921193,"accept_rate":62,"display_name":"WelcomeTo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59612,"favorite_count":0,"down_vote_count":1,"up_vote_count":128,"accepted_answer_id":14252600,"answer_count":9,"score":127,"last_activity_date":1685631538,"creation_date":1357797119,"question_id":14251624,"body_markdown":"I use Intellij IDEA 12 and I want to hide `.iml` files in Project view. How I can achieve this? ","title":"Intellij IDEA. Hide .iml files","body":"<p>I use Intellij IDEA 12 and I want to hide <code>.iml</code> files in Project view. How I can achieve this? </p>\n"},{"tags":["java","servlets","jvm","netty"],"answers":[{"tags":[],"owner":{"account_id":5962218,"reputation":91,"user_id":4687036,"display_name":"Ilker Ike kucuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685600915,"creation_date":1685600915,"answer_id":76379208,"question_id":76078229,"body_markdown":"Servlets exists due to historical context. In the past, Java EE Web Servers were a popular way of running web services such as WebLogic, JBOSS ...etc. What we used to do is to create a java service that abides by servlet specification and then any of these Java EE Web Servers could be able to run it. \r\nI personally prefer a modern approach that doesn&#39;t rely on Servlet specification because modern approaches offers better performance. ","title":"Why use a servlet container over netty in frameworks","body":"<p>Servlets exists due to historical context. In the past, Java EE Web Servers were a popular way of running web services such as WebLogic, JBOSS ...etc. What we used to do is to create a java service that abides by servlet specification and then any of these Java EE Web Servers could be able to run it.\nI personally prefer a modern approach that doesn't rely on Servlet specification because modern approaches offers better performance.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685630477,"creation_date":1685628665,"answer_id":76382821,"question_id":76078229,"body_markdown":"A servlet container is needed when your project uses a Java Servlet based web framework and/or the project produces a WAR file. This is simply because a servlet container is essential in order to parse `web.xml` and/or to register and run a `@WebServlet/@WebFilter/@WebListener` annotated class and/or to deploy a WAR file to a live environment.\r\n\r\nExamples of Java Servlet based web frameworks are:\r\n- Jakarta Faces\r\n- Spring MVC\r\n- Struts\r\n- Vaadin\r\n\r\nIf you however don&#39;t use any Java Servlet based web framework (i.e. you don&#39;t use `jakarta.servlet.*` dependencies anywhere, also not transitively) **and** the project doesn&#39;t produce a WAR file but a JAR file, then you can simply use an embedded server which is executable from a `main()` method such as Netty along with a Java based framework to respond on HTTP requests. These are essentially called Java Microservice frameworks and they are more than often used in combination with a JavaScript based web framework such as React and Angular.\r\n\r\nExamples of such Java Microservice frameworks are:\r\n- Jakarta REST\r\n- Quarkus\r\n- Vert.x\r\n- Micronaut\r\n","title":"Why use a servlet container over netty in frameworks","body":"<p>A servlet container is needed when your project uses a Java Servlet based web framework and/or the project produces a WAR file. This is simply because a servlet container is essential in order to parse <code>web.xml</code> and/or to register and run a <code>@WebServlet/@WebFilter/@WebListener</code> annotated class and/or to deploy a WAR file to a live environment.</p>\n<p>Examples of Java Servlet based web frameworks are:</p>\n<ul>\n<li>Jakarta Faces</li>\n<li>Spring MVC</li>\n<li>Struts</li>\n<li>Vaadin</li>\n</ul>\n<p>If you however don't use any Java Servlet based web framework (i.e. you don't use <code>jakarta.servlet.*</code> dependencies anywhere, also not transitively) <strong>and</strong> the project doesn't produce a WAR file but a JAR file, then you can simply use an embedded server which is executable from a <code>main()</code> method such as Netty along with a Java based framework to respond on HTTP requests. These are essentially called Java Microservice frameworks and they are more than often used in combination with a JavaScript based web framework such as React and Angular.</p>\n<p>Examples of such Java Microservice frameworks are:</p>\n<ul>\n<li>Jakarta REST</li>\n<li>Quarkus</li>\n<li>Vert.x</li>\n<li>Micronaut</li>\n</ul>\n"}],"owner":{"account_id":16073236,"reputation":85,"user_id":11601118,"display_name":"M I P A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76382821,"answer_count":2,"score":1,"last_activity_date":1685630477,"creation_date":1682143022,"question_id":76078229,"body_markdown":"I&#39;ve been reading and seeing examples about servlets, servlet containers and web frameworks for the JVM. I&#39;m now wondering, what&#39;s the point of using a servlet container instead of something like netty?\r\n\r\nI&#39;m not 100% I understand it correctly, but a way you can deploy a website backed by Java is by writing either servlets or better yet something that uses servlets but abstract them away, so you can choose your favorite servlet container.\r\n\r\nBut there are frameworks like Spark and ktor that don&#39;t seem to require a servlet container, and can run on things like netty, yet as far as I know you *can* run them on a servlet container if you want to... That&#39;s confusing to me: if I already have a web application that can run and binds itself to a port to work, and has a working engine to handle the networking IO, why would I do that? To be able to use servlet filters and other standarized things? Is there an issue if I just have a netty-backed app behind nginx?\r\n\r\nI think I know what a servet and servlet container are, but I don&#39;t understand what they *offer* (just some standarization?)","title":"Why use a servlet container over netty in frameworks","body":"<p>I've been reading and seeing examples about servlets, servlet containers and web frameworks for the JVM. I'm now wondering, what's the point of using a servlet container instead of something like netty?</p>\n<p>I'm not 100% I understand it correctly, but a way you can deploy a website backed by Java is by writing either servlets or better yet something that uses servlets but abstract them away, so you can choose your favorite servlet container.</p>\n<p>But there are frameworks like Spark and ktor that don't seem to require a servlet container, and can run on things like netty, yet as far as I know you <em>can</em> run them on a servlet container if you want to... That's confusing to me: if I already have a web application that can run and binds itself to a port to work, and has a working engine to handle the networking IO, why would I do that? To be able to use servlet filters and other standarized things? Is there an issue if I just have a netty-backed app behind nginx?</p>\n<p>I think I know what a servet and servlet container are, but I don't understand what they <em>offer</em> (just some standarization?)</p>\n"},{"tags":["java","spring","junit","spring-boot","spring-test"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1491541833,"creation_date":1445257277,"answer_id":33214253,"question_id":33213854,"body_markdown":"Try this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = TestApplication.class, \r\n        initializers = ConfigFileApplicationContextInitializer.class)\r\n    public class SomeTestClass {\r\n        ...\r\n    }\r\n\r\n**EDIT**:\r\n\r\nFor Spring Boot version 1.5+, `SpringApplicationConfiguration` was removed in favour of `SpringBootTest` or direct use of `SpringBootContextLoader`. \r\n\r\nYou can still use `initializers` parameter with `ContextConfiguration` annotation.","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>Try this:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = TestApplication.class, \n    initializers = ConfigFileApplicationContextInitializer.class)\npublic class SomeTestClass {\n    ...\n}\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>For Spring Boot version 1.5+, <code>SpringApplicationConfiguration</code> was removed in favour of <code>SpringBootTest</code> or direct use of <code>SpringBootContextLoader</code>. </p>\n\n<p>You can still use <code>initializers</code> parameter with <code>ContextConfiguration</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":1990818,"reputation":659,"user_id":1784875,"display_name":"Juha Hanka"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473401111,"creation_date":1473401111,"answer_id":39404830,"question_id":33213854,"body_markdown":"Here&#39;s another way: [Spring Boot v1.4.x]\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;own&quot;)\r\n    public class OwnSettings {\r\n    \r\n        private String name;\r\n        Getter &amp; setters...\r\n    \r\n    }\r\n\r\n--------------\r\n\r\n    import org.springframework.boot.test.context.SpringBootTestContextBootstrapper;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @BootstrapWith(SpringBootTestContextBootstrapper.class)\r\n    public class OwnSettingsTest {\r\n  \r\n      @Autowired\r\n      private OwnSettings bean;\r\n\r\n      @Test\r\n      public void test() {\r\n        bean.getName();\r\n      }\r\n    }\r\n\r\n**This works ONLY if also &#39;application.properties&#39; file exists.**&lt;br&gt;\r\n\r\n**e.g. maven project:**\r\n\r\nsrc/main/resources/application.properties [ **The file can be empty but it&#39;s mandatory!** ]&lt;br&gt;\r\nsrc/main/resources/application.yml [here&#39;s your real config file]\r\n\r\n","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>Here's another way: [Spring Boot v1.4.x]</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"own\")\npublic class OwnSettings {\n\n    private String name;\n    Getter &amp; setters...\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import org.springframework.boot.test.context.SpringBootTestContextBootstrapper;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@BootstrapWith(SpringBootTestContextBootstrapper.class)\npublic class OwnSettingsTest {\n\n  @Autowired\n  private OwnSettings bean;\n\n  @Test\n  public void test() {\n    bean.getName();\n  }\n}\n</code></pre>\n\n<p><strong>This works ONLY if also 'application.properties' file exists.</strong><br></p>\n\n<p><strong>e.g. maven project:</strong></p>\n\n<p>src/main/resources/application.properties [ <strong>The file can be empty but it's mandatory!</strong> ]<br>\nsrc/main/resources/application.yml [here's your real config file]</p>\n"},{"tags":[],"owner":{"account_id":132233,"reputation":3702,"user_id":332788,"accept_rate":71,"display_name":"aliopi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1488804596,"creation_date":1487248767,"answer_id":42274245,"question_id":33213854,"body_markdown":"Alternative in February 2017:\r\n\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = { TestApplication.class })\r\n    @RunWith(SpringRunner.class)\r\n    public class SomeTestClass {\r\n       ...\r\n    }\r\n\r\nthe lean variant (withouth `@SpringBootTest`):\r\n\r\n    @ContextConfiguration(classes = { TestApplication.class },\r\n                     initializers = { ConfigFileApplicationContextInitializer.class })\r\n    @RunWith(SpringRunner.class)\r\n    public class SomeTestClass {","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>Alternative in February 2017:</p>\n\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = { TestApplication.class })\n@RunWith(SpringRunner.class)\npublic class SomeTestClass {\n   ...\n}\n</code></pre>\n\n<p>the lean variant (withouth <code>@SpringBootTest</code>):</p>\n\n<pre><code>@ContextConfiguration(classes = { TestApplication.class },\n                 initializers = { ConfigFileApplicationContextInitializer.class })\n@RunWith(SpringRunner.class)\npublic class SomeTestClass {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7064054,"reputation":471,"user_id":5408030,"display_name":"Cesar Gomez Velazquez"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1494860973,"creation_date":1494860973,"answer_id":43982928,"question_id":33213854,"body_markdown":"This works\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class ApplicationTest {\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t}\r\n    \r\n    }","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>This works</p>\n\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class ApplicationTest {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29603,"reputation":3744,"user_id":80144,"accept_rate":80,"display_name":"Lyle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519184587,"creation_date":1519184587,"answer_id":48897832,"question_id":33213854,"body_markdown":"In my case I was trying to test a library without a `@SpringBootApp` declared in the regular app classpath, but I do have one in my test context. After debugging my way through the Spring Boot initialization process, I discovered that Spring Boot&#39;s [YamlPropertySourceLoader][1] (as of 1.5.2.RELEASE) will not load YAML properties unless `org.yaml.snakeyaml.Yaml` is on the classpath. The solution for me was to add snakeyaml as a test dependency in my POM:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.19&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/cd316e7f3d492201e858c1dd6602a1d4e349f4b2/spring-boot/src/main/java/org/springframework/boot/env/YamlPropertySourceLoader.java#L56","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>In my case I was trying to test a library without a <code>@SpringBootApp</code> declared in the regular app classpath, but I do have one in my test context. After debugging my way through the Spring Boot initialization process, I discovered that Spring Boot's <a href=\"https://github.com/spring-projects/spring-boot/blob/cd316e7f3d492201e858c1dd6602a1d4e349f4b2/spring-boot/src/main/java/org/springframework/boot/env/YamlPropertySourceLoader.java#L56\" rel=\"nofollow noreferrer\">YamlPropertySourceLoader</a> (as of 1.5.2.RELEASE) will not load YAML properties unless <code>org.yaml.snakeyaml.Yaml</code> is on the classpath. The solution for me was to add snakeyaml as a test dependency in my POM:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;version&gt;1.19&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1526531622,"creation_date":1526531622,"answer_id":50383387,"question_id":33213854,"body_markdown":"\r\n\r\nSpring boot 2 example:\r\n\r\n    private final ApplicationContextRunner contextRunner = new ApplicationContextRunner()\r\n            .withInitializer(new ConfigFileApplicationContextInitializer());\r\n    \r\n    @Test public void test() throws Exception {\r\n        \r\n        this.contextRunner\r\n        .withUserConfiguration(TestApplication.class)\r\n        .run((context) -&gt; {\r\n            \r\n            .....\r\n\r\n        });\r\n    }\r\n","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>Spring boot 2 example:</p>\n\n<pre><code>private final ApplicationContextRunner contextRunner = new ApplicationContextRunner()\n        .withInitializer(new ConfigFileApplicationContextInitializer());\n\n@Test public void test() throws Exception {\n\n    this.contextRunner\n    .withUserConfiguration(TestApplication.class)\n    .run((context) -&gt; {\n\n        .....\n\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1962267,"reputation":1261,"user_id":1763458,"display_name":"Yarix"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1584304994,"creation_date":1527284298,"answer_id":50537168,"question_id":33213854,"body_markdown":"The trick to load **any** custom yml file in SpringBoot 2.0 w/o using `@SpringBootTest`\r\n\r\n - create some yml file in test\\resources\r\n - Use `ConfigFileApplicationContextInitializer` and `spring.config.location` property\r\n\r\nExample Code:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(\r\n        classes = { MyConfiguration.class, AnotherDependancy.class },\r\n        initializers = {ConfigFileApplicationContextInitializer.class} )\r\n    @TestPropertySource(properties = { &quot;spring.config.location=classpath:myApp-test.yml&quot; })\r\n    public class ConfigProviderTest {\r\n        @Autowired\r\n        private MyConfiguration myConfiguration; //this will be filled with myApp-test.yml \r\n\r\n       @Value(&quot;${my.config-yml-string}&quot;)\r\n       private String someSrting; //will get value from the yml file.\r\n\r\n    }\r\n\r\nFor JUnit 5 use the `@ExtendWith(SpringExtension.class)` annotation instead of `@RunWith(SpringRunner.class)`","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>The trick to load <strong>any</strong> custom yml file in SpringBoot 2.0 w/o using <code>@SpringBootTest</code></p>\n\n<ul>\n<li>create some yml file in test\\resources</li>\n<li>Use <code>ConfigFileApplicationContextInitializer</code> and <code>spring.config.location</code> property</li>\n</ul>\n\n<p>Example Code:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration(\n    classes = { MyConfiguration.class, AnotherDependancy.class },\n    initializers = {ConfigFileApplicationContextInitializer.class} )\n@TestPropertySource(properties = { \"spring.config.location=classpath:myApp-test.yml\" })\npublic class ConfigProviderTest {\n    @Autowired\n    private MyConfiguration myConfiguration; //this will be filled with myApp-test.yml \n\n   @Value(\"${my.config-yml-string}\")\n   private String someSrting; //will get value from the yml file.\n\n}\n</code></pre>\n\n<p>For JUnit 5 use the <code>@ExtendWith(SpringExtension.class)</code> annotation instead of <code>@RunWith(SpringRunner.class)</code></p>\n"},{"tags":[],"owner":{"account_id":7279280,"reputation":575,"user_id":5549569,"display_name":"Liam"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1551944111,"creation_date":1551944111,"answer_id":55038365,"question_id":33213854,"body_markdown":"**Unit test with Spring Boot 2**\r\n\r\nspring boot 2 support &#39;application.properties&#39; by default,\r\nfor &#39;application.yml&#39; just add below:\r\n\r\n    @TestPropertySource(properties = { &quot;spring.config.location=classpath:application.yml&quot; })\r\n\r\ne.g.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @TestPropertySource(properties = { &quot;spring.config.location=classpath:application.yml&quot; })\r\n    public class ServiceTest {...}","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p><strong>Unit test with Spring Boot 2</strong></p>\n\n<p>spring boot 2 support 'application.properties' by default,\nfor 'application.yml' just add below:</p>\n\n<pre><code>@TestPropertySource(properties = { \"spring.config.location=classpath:application.yml\" })\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@TestPropertySource(properties = { \"spring.config.location=classpath:application.yml\" })\npublic class ServiceTest {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1583811397,"creation_date":1583811397,"answer_id":60611221,"question_id":33213854,"body_markdown":"adding to [Liam](https://stackoverflow.com/users/5549569/liam)&#39;s [answer](https://stackoverflow.com/a/55038365/918858), an alternative will be:\r\n\r\n```java\r\n@TestPropertySource(locations = { &quot;classpath:application.yaml&quot; })\r\n```\r\n\r\nthe key difference here is that the test will fail with a file not found exception if `application.yaml` is not in your `/test/resources` directory","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>adding to <a href=\"https://stackoverflow.com/users/5549569/liam\">Liam</a>'s <a href=\"https://stackoverflow.com/a/55038365/918858\">answer</a>, an alternative will be:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@TestPropertySource(locations = { \"classpath:application.yaml\" })\n</code></pre>\n\n<p>the key difference here is that the test will fail with a file not found exception if <code>application.yaml</code> is not in your <code>/test/resources</code> directory</p>\n"},{"tags":[],"owner":{"account_id":17154888,"reputation":21,"user_id":12467684,"display_name":"sergseven"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591257586,"creation_date":1591257586,"answer_id":62189637,"question_id":33213854,"body_markdown":"extending [Liam][1]&#39;s [answer][2]\r\n\r\nyou can add `spring.config.additional-location=classpath:application-overrides.yaml` property so config from default location will be merged with the additional config provided:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@TestPropertySource(properties = {\r\n  &quot;spring.config.additional-location=classpath:testcases/test-case-properties.yaml&quot;,\r\n})\r\npublic class SpecificTestCaseIntegrationTest {\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5549569/liam\r\n  [2]: https://stackoverflow.com/a/55038365/918858","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>extending <a href=\"https://stackoverflow.com/users/5549569/liam\">Liam</a>'s <a href=\"https://stackoverflow.com/a/55038365/918858\">answer</a></p>\n\n<p>you can add <code>spring.config.additional-location=classpath:application-overrides.yaml</code> property so config from default location will be merged with the additional config provided:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@TestPropertySource(properties = {\n  \"spring.config.additional-location=classpath:testcases/test-case-properties.yaml\",\n})\npublic class SpecificTestCaseIntegrationTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643219278,"creation_date":1643219278,"answer_id":70867994,"question_id":33213854,"body_markdown":"Since spring-boot version 2.6.0 `org.springframework.boot.test.context.ConfigFileApplicationContextInitializer` is deprecated and instead is recommended to be used `org.springframework.boot.test.context.ConfigDataApplicationContextInitializer`.\r\n\r\nIn your tests you can use it as:\r\n\r\n    @ContextConfiguration(classes = {\r\n      ...        \r\n    }, initializers = ConfigDataApplicationContextInitializer.class)\r\n    public class MyTestingClassIT","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>Since spring-boot version 2.6.0 <code>org.springframework.boot.test.context.ConfigFileApplicationContextInitializer</code> is deprecated and instead is recommended to be used <code>org.springframework.boot.test.context.ConfigDataApplicationContextInitializer</code>.</p>\n<p>In your tests you can use it as:</p>\n<pre><code>@ContextConfiguration(classes = {\n  ...        \n}, initializers = ConfigDataApplicationContextInitializer.class)\npublic class MyTestingClassIT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47700,"reputation":3323,"user_id":141408,"accept_rate":68,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679924544,"creation_date":1679923878,"answer_id":75856378,"question_id":33213854,"body_markdown":"With **JUnit 5** it is also possible to use `@SpringJUnitConfig` which is a composed annotation that combines `@ExtendWith(SpringExtension.class)` from JUnit Jupiter with `@ContextConfiguration` from the Spring TestContext Framework.\r\n\r\n```java\r\n@SpringJUnitConfig(classes = {MyClass.class},  initializers = ConfigDataApplicationContextInitializer.class)\r\nclass ApplicationTest {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n\r\n}\r\n```","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>With <strong>JUnit 5</strong> it is also possible to use <code>@SpringJUnitConfig</code> which is a composed annotation that combines <code>@ExtendWith(SpringExtension.class)</code> from JUnit Jupiter with <code>@ContextConfiguration</code> from the Spring TestContext Framework.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringJUnitConfig(classes = {MyClass.class},  initializers = ConfigDataApplicationContextInitializer.class)\nclass ApplicationTest {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13846532,"reputation":319,"user_id":9995556,"display_name":"pbthorste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685630356,"creation_date":1685630356,"answer_id":76383070,"question_id":33213854,"body_markdown":"Ran into the same issue with a unit test in spring boot 3.0.6\r\n\r\nMy setup was like this:\r\n\r\n```java\r\n@SpringBootTest(classes = {MyConfig.class, MyService.class})\r\nclass MyServiceTest {\r\n  @Autowired\r\n  MyConfig config;\r\n\r\n  @Autowired\r\n  MyService service;\r\n\r\n  @Test\r\n  void test() {}\r\n}\r\n```\r\nAnd I had a config file which was not being read (`src/test/resources/application.yml`)\r\n\r\nTurns out that in this case, it was enough to add the `@EnableConfigurationProperties` annotation\r\n\r\n","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>Ran into the same issue with a unit test in spring boot 3.0.6</p>\n<p>My setup was like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {MyConfig.class, MyService.class})\nclass MyServiceTest {\n  @Autowired\n  MyConfig config;\n\n  @Autowired\n  MyService service;\n\n  @Test\n  void test() {}\n}\n</code></pre>\n<p>And I had a config file which was not being read (<code>src/test/resources/application.yml</code>)</p>\n<p>Turns out that in this case, it was enough to add the <code>@EnableConfigurationProperties</code> annotation</p>\n"}],"owner":{"account_id":132233,"reputation":3702,"user_id":332788,"accept_rate":71,"display_name":"aliopi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143484,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":33214253,"answer_count":13,"score":72,"last_activity_date":1685630356,"creation_date":1445256035,"question_id":33213854,"body_markdown":"What am I doing wrong? I&#39;m using this little standalone App which runs and finds my `src/main/resources/config/application.yml`. The same configuration doesn&#39;t work from JUnit, see below:\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableConfigurationProperties\r\n    \r\n    public class TestApplication {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            SpringApplication.run(TestApplication.class);\r\n        }\r\n    }\r\n\r\n\r\n    @Component\r\n    @ConfigurationProperties\r\n\r\n    public class Bean{\r\n        ...\r\n    }\r\n\r\nThe following doesn&#39;t work, the same properties in `application.yml` are not loaded and `Bean` has only `null` values:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = TestApplication.class)\r\n\r\n    public class SomeTestClass {\r\n        ...\r\n    }\r\n\r\n","title":"Spring Boot properties in &#39;application.yml&#39; not loading from JUnit Test","body":"<p>What am I doing wrong? I'm using this little standalone App which runs and finds my <code>src/main/resources/config/application.yml</code>. The same configuration doesn't work from JUnit, see below:</p>\n\n<pre><code>@Configuration\n@ComponentScan\n@EnableConfigurationProperties\n\npublic class TestApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(TestApplication.class);\n    }\n}\n\n\n@Component\n@ConfigurationProperties\n\npublic class Bean{\n    ...\n}\n</code></pre>\n\n<p>The following doesn't work, the same properties in <code>application.yml</code> are not loaded and <code>Bean</code> has only <code>null</code> values:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = TestApplication.class)\n\npublic class SomeTestClass {\n    ...\n}\n</code></pre>\n"},{"tags":["java","mysql","eclipse","ubuntu","jdbc"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1647112350,"post_id":71452373,"comment_id":126293148,"body_markdown":"Try `Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();`","body":"Try <code>Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;).newInstance();</code>"},{"owner":{"account_id":301920,"reputation":2739,"user_id":609973,"display_name":"MarianP"},"score":0,"creation_date":1647119845,"post_id":71452373,"comment_id":126293840,"body_markdown":"you might have a wrong plugin version","body":"you might have a wrong plugin version"},{"owner":{"account_id":301920,"reputation":2739,"user_id":609973,"display_name":"MarianP"},"score":0,"creation_date":1647119982,"post_id":71452373,"comment_id":126293868,"body_markdown":"they recommend newInstance() call on the class loader https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-connect-drivermanager.html","body":"they recommend newInstance() call on the class loader <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-connect-drivermanager.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"},{"owner":{"account_id":21283646,"reputation":109,"user_id":15661685,"display_name":"Abhishek Jha"},"score":0,"creation_date":1647154100,"post_id":71452373,"comment_id":126296151,"body_markdown":"@ErmiyaEskandary that is also causing the same error, that even shows it&#39;s deprecatde","body":"@ErmiyaEskandary that is also causing the same error, that even shows it&#39;s deprecatde"},{"owner":{"account_id":21283646,"reputation":109,"user_id":15661685,"display_name":"Abhishek Jha"},"score":0,"creation_date":1647154166,"post_id":71452373,"comment_id":126296158,"body_markdown":"@MarianP I&#39;m using mysql 8.0.28 and mysql-connector-java-8.0.28.jar","body":"@MarianP I&#39;m using mysql 8.0.28 and mysql-connector-java-8.0.28.jar"},{"owner":{"account_id":13738374,"reputation":104,"user_id":9914120,"display_name":"Vlada"},"score":0,"creation_date":1657969821,"post_id":71452373,"comment_id":128939033,"body_markdown":"Could be SSL. Try to remove SSL for testing, then try with code you have. Also, try to put user/pass in connection string, for testing purposes, and use &quot;GetConnection&quot; only with one parameter.","body":"Could be SSL. Try to remove SSL for testing, then try with code you have. Also, try to put user/pass in connection string, for testing purposes, and use &quot;GetConnection&quot; only with one parameter."}],"answers":[{"tags":[],"owner":{"account_id":18011878,"reputation":1,"user_id":19561314,"display_name":"Holdmelol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657969007,"creation_date":1657967048,"answer_id":73003410,"question_id":71452373,"body_markdown":"try to do this\r\n\r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;localhost&#39;;\r\n    \r\n    \r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;username&#39;@&#39;127.0.0.1&#39;;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) (No available solution is working)","body":"<p>try to do this</p>\n<pre><code>GRANT ALL PRIVILEGES ON *.* TO 'username'@'localhost';\n\n\nGRANT ALL PRIVILEGES ON *.* TO 'username'@'127.0.0.1';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996394,"reputation":1,"user_id":9774880,"display_name":"Secun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663077866,"creation_date":1663077866,"answer_id":73704395,"question_id":71452373,"body_markdown":"Execute this sql statement:\r\n\r\n    update mysql.user set host = &#39;%&#39; where user = &#39;root&#39; and host = &#39;localhost&#39;;\r\n    flush privileges;\r\n\r\nAnd try again. It worked for me in a similar situation. Good luck!","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) (No available solution is working)","body":"<p>Execute this sql statement:</p>\n<pre><code>update mysql.user set host = '%' where user = 'root' and host = 'localhost';\nflush privileges;\n</code></pre>\n<p>And try again. It worked for me in a similar situation. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":19368537,"reputation":127,"user_id":14162287,"display_name":"Svante P&#229;lsson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663525252,"creation_date":1663525252,"answer_id":73765360,"question_id":71452373,"body_markdown":"In application.properties, add this statement:\r\n`server.port = 8034` in case you&#39;ve got some other application running that might be useing port 8080.\r\nThis helped me with this problem, took me several hours to find this solution.\r\nHope it helps someone.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) (No available solution is working)","body":"<p>In application.properties, add this statement:\n<code>server.port = 8034</code> in case you've got some other application running that might be useing port 8080.\nThis helped me with this problem, took me several hours to find this solution.\nHope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":21894990,"reputation":21,"user_id":18882656,"display_name":"Pensils"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676057962,"creation_date":1676057555,"answer_id":75415389,"question_id":71452373,"body_markdown":"That&#39;s because of the password, try to change the symbols of your password.\r\n\r\nI got the error when introducing some symbols like &#39;‚Ç¨&#39;","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) (No available solution is working)","body":"<p>That's because of the password, try to change the symbols of your password.</p>\n<p>I got the error when introducing some symbols like '‚Ç¨'</p>\n"},{"tags":[],"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685629674,"creation_date":1685629219,"answer_id":76382901,"question_id":71452373,"body_markdown":"If you&#39;re trying to connect to a containerized database, **you may have a local SQL server running already on port 3306** - especially if you&#39;ve just installed `mysql` locally.\r\n\r\nYou can check this by running:\r\n\r\n```shell\r\nsudo service mysql status # Linux\r\nbrew services info mysql  # Mac\r\n```\r\n\r\nIf this is the case, your Spring application may invisibly be connecting to the default `mysql` instance on your machine, rather than your containerized database.\r\n\r\nTo stop the default `mysql` instance,\r\n\r\n```shell\r\nsudo service mysql stop  # Linux\r\nbrew services stop mysql # Mac\r\n\r\n```\r\n\r\nTo disable auto-start,\r\n```shell\r\nsudo systemctl disable mysql                                      # Linux\r\nlaunchctl unload -w ~/Library/LaunchAgents/com.mysql.mysqld.plist # Mac\r\n```\r\n\r\nYou can confirm nothing else is running on port 3306 by `telnet`-ing it:\r\n```shell\r\ntelnet localhost 3306\r\n```\r\n\r\nRestart your Docker container and try and connect.","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) (No available solution is working)","body":"<p>If you're trying to connect to a containerized database, <strong>you may have a local SQL server running already on port 3306</strong> - especially if you've just installed <code>mysql</code> locally.</p>\n<p>You can check this by running:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo service mysql status # Linux\nbrew services info mysql  # Mac\n</code></pre>\n<p>If this is the case, your Spring application may invisibly be connecting to the default <code>mysql</code> instance on your machine, rather than your containerized database.</p>\n<p>To stop the default <code>mysql</code> instance,</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo service mysql stop  # Linux\nbrew services stop mysql # Mac\n\n</code></pre>\n<p>To disable auto-start,</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo systemctl disable mysql                                      # Linux\nlaunchctl unload -w ~/Library/LaunchAgents/com.mysql.mysqld.plist # Mac\n</code></pre>\n<p>You can confirm nothing else is running on port 3306 by <code>telnet</code>-ing it:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>telnet localhost 3306\n</code></pre>\n<p>Restart your Docker container and try and connect.</p>\n"}],"owner":{"account_id":21283646,"reputation":109,"user_id":15661685,"display_name":"Abhishek Jha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1685629674,"creation_date":1647111732,"question_id":71452373,"body_markdown":"I&#39;m trying to create a JDBC application using Java and MySQL in **Eclipse IDE** and **Ubuntu 20.04** OS.\r\n\r\nI&#39;m getting the very common error while connecting to database that is &quot;java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)&quot; and I&#39;ve tried every possible solution from stack overflow answers, youtube videos, articles, etc. but **nothing seems to work**. \r\n\r\n**The error:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**My java code:**\r\n\r\n```lang-java\r\npackage jdbcDemo;\r\nimport java.sql.*;\r\n\r\npublic class jdbcConnect {\r\n\r\n\tpublic static void main(String[] args) throws SQLException, ClassNotFoundException {\r\n\t\t\r\n\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\r\n\t\tString url = &quot;jdbc:mysql://localhost:3306/jdbcDemo&quot;;\r\n\t\tString user = &quot;root&quot;;\r\n\t\tString pswd = &quot;1234&quot;;\r\n\t\t\r\n\t\tConnection con = DriverManager.getConnection(url, user, pswd);\r\n\t\t\r\n\t\tif(con == null) {\r\n\t\t\tSystem.out.println(&quot;Connection not established&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Connection established&quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Users in my database:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Databse information:**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nConnection details (screenshots of mysql workbench):\r\n\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n\r\n&lt;p&gt;\r\nI&#39;m trying to access database through user &lt;b&gt;&quot;root&quot;&lt;/b&gt; which has password &lt;b&gt;&quot;1234&quot;&lt;/b&gt; and plugin is &lt;b&gt;&quot;mysql_native_password&quot;&lt;/b&gt;.\r\nI&#39;m trying to make connection with &lt;b&gt;jdbcDemo&lt;/b&gt; database which has &lt;b&gt;student&lt;/b&gt; table.\r\n&lt;/p&gt;\r\n\r\n&lt;p&gt;\r\nI&#39;m able to successfully access and manipulate database using the same user and password through &lt;b&gt;CLI and Workbench&lt;/b&gt; but getting the same error again and again in &lt;b&gt;JDBC&lt;/b&gt;.\r\n&lt;/p&gt;\r\n\r\n**Some of the solutions that I&#39;ve tried till now that didn&#39;t work:**\r\n\r\n - Creating new user with all privileges\r\n - re installing mysql server\r\n - creating database via mysql workbench\r\n - changing plugin of the users\r\n - tried all different ways to write the url\r\n - different types of connections (tci/ip, local socket/pipe)\r\n\r\nAll the solutions are either **outdated, not working or specific to windows** operating system.\r\n\r\nPlease suggest some solutions to solve this issue in Ubuntu 20.04 or different alternatives to do this task (remote databse, etc.) \r\n\r\n**Thanks in advance !**\r\n\r\n \r\n  [1]: https://i.stack.imgur.com/RuPkx.png\r\n  [2]: https://i.stack.imgur.com/miX0h.png\r\n  [3]: https://i.stack.imgur.com/G9aM6.png\r\n  [4]: https://i.stack.imgur.com/G4Qou.png\r\n  [5]: https://i.stack.imgur.com/CAWul.png","title":"java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES) (No available solution is working)","body":"<p>I'm trying to create a JDBC application using Java and MySQL in <strong>Eclipse IDE</strong> and <strong>Ubuntu 20.04</strong> OS.</p>\n<p>I'm getting the very common error while connecting to database that is &quot;java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)&quot; and I've tried every possible solution from stack overflow answers, youtube videos, articles, etc. but <strong>nothing seems to work</strong>.</p>\n<p><strong>The error:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/RuPkx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RuPkx.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My java code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package jdbcDemo;\nimport java.sql.*;\n\npublic class jdbcConnect {\n\n    public static void main(String[] args) throws SQLException, ClassNotFoundException {\n        \n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        \n        String url = &quot;jdbc:mysql://localhost:3306/jdbcDemo&quot;;\n        String user = &quot;root&quot;;\n        String pswd = &quot;1234&quot;;\n        \n        Connection con = DriverManager.getConnection(url, user, pswd);\n        \n        if(con == null) {\n            System.out.println(&quot;Connection not established&quot;);\n        }\n        else {\n            System.out.println(&quot;Connection established&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Users in my database:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/miX0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/miX0h.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Databse information:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/G9aM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9aM6.png\" alt=\"enter image description here\" /></a></p>\n<p>Connection details (screenshots of mysql workbench):</p>\n<p><a href=\"https://i.stack.imgur.com/G4Qou.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4Qou.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/CAWul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAWul.png\" alt=\"enter image description here\" /></a></p>\n<p>\nI'm trying to access database through user <b>\"root\"</b> which has password <b>\"1234\"</b> and plugin is <b>\"mysql_native_password\"</b>.\nI'm trying to make connection with <b>jdbcDemo</b> database which has <b>student</b> table.\n</p>\n<p>\nI'm able to successfully access and manipulate database using the same user and password through <b>CLI and Workbench</b> but getting the same error again and again in <b>JDBC</b>.\n</p>\n<p><strong>Some of the solutions that I've tried till now that didn't work:</strong></p>\n<ul>\n<li>Creating new user with all privileges</li>\n<li>re installing mysql server</li>\n<li>creating database via mysql workbench</li>\n<li>changing plugin of the users</li>\n<li>tried all different ways to write the url</li>\n<li>different types of connections (tci/ip, local socket/pipe)</li>\n</ul>\n<p>All the solutions are either <strong>outdated, not working or specific to windows</strong> operating system.</p>\n<p>Please suggest some solutions to solve this issue in Ubuntu 20.04 or different alternatives to do this task (remote databse, etc.)</p>\n<p><strong>Thanks in advance !</strong></p>\n"},{"tags":["java","spring","spring-boot","testing","spring-test"],"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685629652,"creation_date":1685627555,"question_id":76382634,"body_markdown":"About Spring Framework Test, for the [@SqlConfig](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/SqlConfig.html) annotation, it has some valuable attributes such as: \r\n\r\n* `dataSource`: where is possible define an explicit _dataSource_. It in case the app has **2** `DataSources` defined and one of them has `@Primary` but is need it the second in the Test class.\r\n* `transactionManager`: the same as above, therefore must be selected the _transactionManager_ according the secondary _dataSource_ - it to keep the same pair working together. _Correct me if I am wrong_.\r\n\r\nTherefore the `@Service` and `@Repository` are tested based on their `@Transactional` settings\r\n\r\nThe reason of this post is about the `transactionMode` attribute that works through the [SqlConfig.TransactionMode](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/SqlConfig.TransactionMode.html) enum with three values:\r\n\r\n    DEFAULT\r\n    INFERRED\r\n    ISOLATED\r\n\r\nI read the javadoc, but is not clear when use _explicitly_ any of them, specially the latest. \r\n\r\n**Consideration**\r\n\r\nThe app, for production, is going to work really with the current infrastructure based according with the _primary_ and _secondary_ pairs of `DataSource`s and `TransactionManager`s and the `@Transactional` settings. _Therefore that infrastructure must be tested_.\r\n\r\n**Question**\r\n\r\n* When is mandatory define each value for `SqlConfig.TransactionMode` for `@SqlConfig`?\r\n \r\nWhy use an alternative configuration against the expected and real configuration mentioned in the _Consideration_ section?\r\n","title":"When is mandatory define each value for SqlConfig.TransactionMode for @SqlConfig?","body":"<p>About Spring Framework Test, for the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/SqlConfig.html\" rel=\"nofollow noreferrer\">@SqlConfig</a> annotation, it has some valuable attributes such as:</p>\n<ul>\n<li><code>dataSource</code>: where is possible define an explicit <em>dataSource</em>. It in case the app has <strong>2</strong> <code>DataSources</code> defined and one of them has <code>@Primary</code> but is need it the second in the Test class.</li>\n<li><code>transactionManager</code>: the same as above, therefore must be selected the <em>transactionManager</em> according the secondary <em>dataSource</em> - it to keep the same pair working together. <em>Correct me if I am wrong</em>.</li>\n</ul>\n<p>Therefore the <code>@Service</code> and <code>@Repository</code> are tested based on their <code>@Transactional</code> settings</p>\n<p>The reason of this post is about the <code>transactionMode</code> attribute that works through the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/SqlConfig.TransactionMode.html\" rel=\"nofollow noreferrer\">SqlConfig.TransactionMode</a> enum with three values:</p>\n<pre><code>DEFAULT\nINFERRED\nISOLATED\n</code></pre>\n<p>I read the javadoc, but is not clear when use <em>explicitly</em> any of them, specially the latest.</p>\n<p><strong>Consideration</strong></p>\n<p>The app, for production, is going to work really with the current infrastructure based according with the <em>primary</em> and <em>secondary</em> pairs of <code>DataSource</code>s and <code>TransactionManager</code>s and the <code>@Transactional</code> settings. <em>Therefore that infrastructure must be tested</em>.</p>\n<p><strong>Question</strong></p>\n<ul>\n<li>When is mandatory define each value for <code>SqlConfig.TransactionMode</code> for <code>@SqlConfig</code>?</li>\n</ul>\n<p>Why use an alternative configuration against the expected and real configuration mentioned in the <em>Consideration</em> section?</p>\n"},{"tags":["java","selenium","dependencies","cucumber","testng"],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1630999074,"creation_date":1630999074,"answer_id":69083876,"question_id":67291545,"body_markdown":"I don&#39;t think you can merge both TestNG and Cucumber. In a project, you can develop both of them and even you can run them separately but you cannot execute them together. ","title":"Unable to run Cucumber scenarios via Testrunner class as TestNG tests in Intellij","body":"<p>I don't think you can merge both TestNG and Cucumber. In a project, you can develop both of them and even you can run them separately but you cannot execute them together.</p>\n"},{"tags":[],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685629611,"creation_date":1685629611,"answer_id":76382958,"question_id":67291545,"body_markdown":"You don&#39;t need to include the setup methods in your TestRunner class. The AbstractTestNGCucumberTests class that your runner extends already has all of the ones needed to run your scenarios.","title":"Unable to run Cucumber scenarios via Testrunner class as TestNG tests in Intellij","body":"<p>You don't need to include the setup methods in your TestRunner class. The AbstractTestNGCucumberTests class that your runner extends already has all of the ones needed to run your scenarios.</p>\n"}],"owner":{"account_id":10724667,"reputation":11,"user_id":7892589,"display_name":"Ramu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685629611,"creation_date":1619563394,"question_id":67291545,"body_markdown":"I want to run a basic cucumber feature file as a TestNG test via TestRunner class facilitating a cucumber-testng integration in Intellij.\r\n\r\nPlease note that I was able to successfully run the cucumber scenarios as cucumber java tests.\r\n\r\nBut when tried to run the same feature file scenarios via cucumber testNG integration via testrunner class extending AbstractTestNGCucumberTests,the following happens:\r\n\r\n 1. No scenarios mentioned in feature file gets executed\r\n \r\n 2. Browser does not get launched at all.\r\n\r\n 3. Console window says Test passed as shown below\r\n\r\nTo run as testNG tests, i tried two run configurations in Intellij ,first run the TestRunner class itself ,for that i went  to Run configurations- added a template under TestNG and ensured the below:\r\n\r\nTest Kind: Class, \r\nClass: points to the TestRunner class,\r\nVM options: -ea -Dtestng.dtd.http=true ,\r\nWorking Directory: $MODULE_WORKING_DIR$.\r\n\r\nSecond tried to run the TestNG.xml file from run configurations window:\r\nTest Kind: Suite,\r\nClass: points to the testNG xml file in project directory,\r\nVM options: -ea -Dtestng.dtd.http=true,\r\nWorking Directory: $MODULE_WORKING_DIR$ .\r\n\r\n**Note:-** getting an error warning &quot;Unable to parse the testNG.xml&quot; in the run Configuration  while trying to run the testng.xml file\r\nMuch appreciated if some one could advise me on what i am missing..\r\n\r\n\r\n[enter image description here][1]\r\n\r\n**My POM.xml has the following dependencies:**\r\n          \r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; \r\n\r\n**TestRunner class is :**\r\n```\r\nimport io.cucumber.testng.TestNGCucumberRunner;\r\nimport io.cucumber.testng.CucumberOptions;\r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.FeatureWrapper;\r\nimport io.cucumber.testng.CucumberOptions;\r\nimport io.cucumber.testng.PickleWrapper;\r\n\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.DataProvider;\r\nimport org.testng.annotations.Test;\r\n\r\n//@RunWith( ExtendedCucumber.class)\r\n@CucumberOptions(\r\n\t\tfeatures = &quot;classpath:Features&quot;,\r\n\t\tglue={&quot;com/cucumber/Projects/StepDefinitions&quot;},\r\n\t\ttags=&quot;@Type1&quot;,\r\n\t\tdryRun=true,\r\n\t\tmonochrome=true,\r\n\t\t/*plugin =  {&quot;html:target/cucumber-html-report&quot;,\r\n\t\t\t\t&quot;json:target/cucumber.json&quot;, &quot;pretty:target/cucumber-pretty.txt&quot; ,\r\n\t\t\t\t&quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/RunResults.html&quot;},*/\r\n\t\tplugin =  {&quot;html:target/cucumber-html-report&quot;,&quot;json:target/cucumber.json&quot;,&quot;pretty:target/cucumber-pretty.txt&quot;},\r\n\t\tstrict = true)\r\n\r\n\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n\r\n\r\n\tprivate TestNGCucumberRunner testNGCucumberRunner;\r\n\r\n\r\n\t@BeforeClass( alwaysRun = true )\r\n\tpublic void setUpClass()  {\r\n\t\ttestNGCucumberRunner = new TestNGCucumberRunner( this.getClass() );\r\n\t}\r\n\r\n\t@Test( groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Feature&quot;, dataProvider = &quot;features&quot; )\r\n\tpublic void feature( PickleWrapper pickleWrapper,FeatureWrapper cucumberFeature ) {\r\n\t\ttestNGCucumberRunner.runScenario( pickleWrapper.getPickle());\r\n\t}\r\n\r\n\t@DataProvider\r\n\tpublic Object[][] features() {\r\n\t\treturn testNGCucumberRunner.provideScenarios();\r\n\t}\r\n\r\n\t@AfterClass( alwaysRun = true )\r\n\tpublic void tearDownClass()  {\r\n\t\ttestNGCucumberRunner.finish();\r\n\t}\r\n}\r\n\r\n```\r\n**TestNGxml file:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot; parallel=&quot;instances&quot; thread-count=&quot;3&quot;&gt;\r\n    &lt;test name=&quot;testRunner&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.cucumber.Projects.TestRunner.TestRunner&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n\r\nConsole window Output:\r\n```\r\n===============================================\r\nDefault Suite\r\nTotal tests run: 1, Failures: 0, Skips: 0\r\n=============================================== ```\r\n\r\n\r\nProcess finished with exit code 0 *\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iDBdR.png","title":"Unable to run Cucumber scenarios via Testrunner class as TestNG tests in Intellij","body":"<p>I want to run a basic cucumber feature file as a TestNG test via TestRunner class facilitating a cucumber-testng integration in Intellij.</p>\n<p>Please note that I was able to successfully run the cucumber scenarios as cucumber java tests.</p>\n<p>But when tried to run the same feature file scenarios via cucumber testNG integration via testrunner class extending AbstractTestNGCucumberTests,the following happens:</p>\n<ol>\n<li><p>No scenarios mentioned in feature file gets executed</p>\n</li>\n<li><p>Browser does not get launched at all.</p>\n</li>\n<li><p>Console window says Test passed as shown below</p>\n</li>\n</ol>\n<p>To run as testNG tests, i tried two run configurations in Intellij ,first run the TestRunner class itself ,for that i went  to Run configurations- added a template under TestNG and ensured the below:</p>\n<p>Test Kind: Class,\nClass: points to the TestRunner class,\nVM options: -ea -Dtestng.dtd.http=true ,\nWorking Directory: $MODULE_WORKING_DIR$.</p>\n<p>Second tried to run the TestNG.xml file from run configurations window:\nTest Kind: Suite,\nClass: points to the testNG xml file in project directory,\nVM options: -ea -Dtestng.dtd.http=true,\nWorking Directory: $MODULE_WORKING_DIR$ .</p>\n<p><strong>Note:-</strong> getting an error warning &quot;Unable to parse the testNG.xml&quot; in the run Configuration  while trying to run the testng.xml file\nMuch appreciated if some one could advise me on what i am missing..</p>\n<p>[enter image description here][1]</p>\n<p><strong>My POM.xml has the following dependencies:</strong></p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;6.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n        &lt;version&gt;6.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;6.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n        &lt;version&gt;1.0.6&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;6.8.1&lt;/version&gt;\n    &lt;/dependency&gt; \n</code></pre>\n<p><strong>TestRunner class is :</strong></p>\n<pre><code>import io.cucumber.testng.TestNGCucumberRunner;\nimport io.cucumber.testng.CucumberOptions;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.FeatureWrapper;\nimport io.cucumber.testng.CucumberOptions;\nimport io.cucumber.testng.PickleWrapper;\n\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\n//@RunWith( ExtendedCucumber.class)\n@CucumberOptions(\n        features = &quot;classpath:Features&quot;,\n        glue={&quot;com/cucumber/Projects/StepDefinitions&quot;},\n        tags=&quot;@Type1&quot;,\n        dryRun=true,\n        monochrome=true,\n        /*plugin =  {&quot;html:target/cucumber-html-report&quot;,\n                &quot;json:target/cucumber.json&quot;, &quot;pretty:target/cucumber-pretty.txt&quot; ,\n                &quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/RunResults.html&quot;},*/\n        plugin =  {&quot;html:target/cucumber-html-report&quot;,&quot;json:target/cucumber.json&quot;,&quot;pretty:target/cucumber-pretty.txt&quot;},\n        strict = true)\n\n\npublic class TestRunner extends AbstractTestNGCucumberTests {\n\n\n    private TestNGCucumberRunner testNGCucumberRunner;\n\n\n    @BeforeClass( alwaysRun = true )\n    public void setUpClass()  {\n        testNGCucumberRunner = new TestNGCucumberRunner( this.getClass() );\n    }\n\n    @Test( groups = &quot;cucumber&quot;, description = &quot;Runs Cucumber Feature&quot;, dataProvider = &quot;features&quot; )\n    public void feature( PickleWrapper pickleWrapper,FeatureWrapper cucumberFeature ) {\n        testNGCucumberRunner.runScenario( pickleWrapper.getPickle());\n    }\n\n    @DataProvider\n    public Object[][] features() {\n        return testNGCucumberRunner.provideScenarios();\n    }\n\n    @AfterClass( alwaysRun = true )\n    public void tearDownClass()  {\n        testNGCucumberRunner.finish();\n    }\n}\n\n</code></pre>\n<p><strong>TestNGxml file:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot; parallel=&quot;instances&quot; thread-count=&quot;3&quot;&gt;\n    &lt;test name=&quot;testRunner&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.cucumber.Projects.TestRunner.TestRunner&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>Console window Output:</p>\n<pre><code>===============================================\nDefault Suite\nTotal tests run: 1, Failures: 0, Skips: 0\n=============================================== ```\n\n\nProcess finished with exit code 0 *\n\n\n  [1]: https://i.stack.imgur.com/iDBdR.png\n</code></pre>\n"},{"tags":["java","speech-recognition","text-to-speech","speech-to-text"],"owner":{"account_id":28726789,"reputation":1,"user_id":21999485,"display_name":"Furkan Balba≈üƒ±o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685629140,"creation_date":1685614588,"question_id":76380875,"body_markdown":"I am coding an application to have a text printed to the editText when it is read. My application works, but the application stops listening during pauses while reading the text.\r\n\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    EditText editText;\r\n\r\n    ImageView imageView;\r\n    TextView textView;\r\n\r\n\r\n    public static Integer RecordAudioRequestCode=1;\r\n\r\n    private SpeechRecognizer speechRecognizer;\r\n\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    editText=findViewById(R.id.editText);\r\n    textView=findViewById(R.id.textView);\r\n    imageView=findViewById(R.id.image);\r\n\r\n        if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.RECORD_AUDIO)!= PackageManager.PERMISSION_GRANTED){\r\n            checkPermission();\r\n        }\r\n        speechRecognizer=SpeechRecognizer.createSpeechRecognizer(this);\r\n\r\n        Intent speechIntent=new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        speechIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        speechIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n        speechIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS,50000000);\r\n\r\n        speechRecognizer.setRecognitionListener(new RecognitionListener() {\r\n            @Override\r\n            public void onReadyForSpeech(Bundle bundle) {\r\n            }\r\n            @Override\r\n            public void onBeginningOfSpeech() {\r\n            }\r\n            @Override\r\n            public void onRmsChanged(float v) {\r\n            }\r\n            @Override\r\n            public void onBufferReceived(byte[] bytes) {\r\n            }\r\n            @Override\r\n            public void onEndOfSpeech() {\r\n            }\r\n            @Override\r\n            public void onError(int i) {\r\n            }\r\n            @Override\r\n            public void onResults(Bundle bundle) {\r\n\r\n                imageView.setImageResource(R.drawable.baseline_mic_none_24);\r\n                ArrayList&lt;String&gt; arrayList=bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n                editText.setText(arrayList.get(0));\r\n            }\r\n            @Override\r\n            public void onPartialResults(Bundle bundle) {\r\n            }\r\n            @Override\r\n            public void onEvent(int i, Bundle bundle) {\r\n\r\n            }\r\n        });\r\n\r\n        imageView.setOnTouchListener((view, motionEvent) -&gt; {\r\n            if (motionEvent.getAction()==MotionEvent.ACTION_UP){\r\n                speechRecognizer.stopListening();\r\n            }\r\n            if (motionEvent.getAction()==MotionEvent.ACTION_DOWN){\r\n                imageView.setImageResource(R.drawable.baseline_mic_none_24);\r\n                speechRecognizer.startListening(speechIntent);\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n\r\n    private void checkPermission() {\r\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                Manifest.permission.RECORD_AUDIO},RecordAudioRequestCode);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy(){\r\n        super.onDestroy();\r\n        speechRecognizer.destroy();\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode==RecordAudioRequestCode &amp;&amp; grantResults.length&gt;0){\r\n            if (grantResults[0]==PackageManager.PERMISSION_GRANTED){\r\n                Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n\r\n    }\r\n}","title":"It stops listening when there is a sound gap in the text to speech application","body":"<p>I am coding an application to have a text printed to the editText when it is read. My application works, but the application stops listening during pauses while reading the text.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nEditText editText;\n\nImageView imageView;\nTextView textView;\n\n\npublic static Integer RecordAudioRequestCode=1;\n\nprivate SpeechRecognizer speechRecognizer;\n\n@SuppressLint(&quot;ClickableViewAccessibility&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\neditText=findViewById(R.id.editText);\ntextView=findViewById(R.id.textView);\nimageView=findViewById(R.id.image);\n\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.RECORD_AUDIO)!= PackageManager.PERMISSION_GRANTED){\n        checkPermission();\n    }\n    speechRecognizer=SpeechRecognizer.createSpeechRecognizer(this);\n\n    Intent speechIntent=new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    speechIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n    speechIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n    speechIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS,50000000);\n\n    speechRecognizer.setRecognitionListener(new RecognitionListener() {\n        @Override\n        public void onReadyForSpeech(Bundle bundle) {\n        }\n        @Override\n        public void onBeginningOfSpeech() {\n        }\n        @Override\n        public void onRmsChanged(float v) {\n        }\n        @Override\n        public void onBufferReceived(byte[] bytes) {\n        }\n        @Override\n        public void onEndOfSpeech() {\n        }\n        @Override\n        public void onError(int i) {\n        }\n        @Override\n        public void onResults(Bundle bundle) {\n\n            imageView.setImageResource(R.drawable.baseline_mic_none_24);\n            ArrayList&lt;String&gt; arrayList=bundle.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n            editText.setText(arrayList.get(0));\n        }\n        @Override\n        public void onPartialResults(Bundle bundle) {\n        }\n        @Override\n        public void onEvent(int i, Bundle bundle) {\n\n        }\n    });\n\n    imageView.setOnTouchListener((view, motionEvent) -&gt; {\n        if (motionEvent.getAction()==MotionEvent.ACTION_UP){\n            speechRecognizer.stopListening();\n        }\n        if (motionEvent.getAction()==MotionEvent.ACTION_DOWN){\n            imageView.setImageResource(R.drawable.baseline_mic_none_24);\n            speechRecognizer.startListening(speechIntent);\n        }\n        return false;\n    });\n}\n\nprivate void checkPermission() {\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n            Manifest.permission.RECORD_AUDIO},RecordAudioRequestCode);\n}\n\n@Override\nprotected void onDestroy(){\n    super.onDestroy();\n    speechRecognizer.destroy();\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode==RecordAudioRequestCode &amp;&amp; grantResults.length&gt;0){\n        if (grantResults[0]==PackageManager.PERMISSION_GRANTED){\n            Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_LONG).show();\n        }\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","hashcode"],"comments":[{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":1,"creation_date":1437633389,"post_id":31579666,"comment_id":51113173,"body_markdown":"possible duplicate of [How do hashCode() and identityHashCode() work at the back end?](http://stackoverflow.com/questions/4930781/how-do-hashcode-and-identityhashcode-work-at-the-back-end)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4930781/how-do-hashcode-and-identityhashcode-work-at-the-back-end\">How do hashCode() and identityHashCode() work at the back end?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1437633599,"creation_date":1437633599,"answer_id":31579883,"question_id":31579666,"body_markdown":"Well, for starters, while System of course has a `hashCode()` method (every Object has one), I don&#39;t see much reason in calling it. Or any chance of even getting a System object to call it on, as System is `final` and the constructor is `private`. So, probably &quot;pretty much never&quot; for `hashCode()`, I guess. \r\n\r\nSo, that leaves us with `System.identityHashCode(Object)` which gives your simply the default hashcode value for any Object. So, in other words, you don&#39;t need it very often, because if you don&#39;t override the hashCode() method in your class, you will already get the same return value by default for your Objects (because effectively the default hashCode(), when you have not overriden the hashCode() method, is simply `System.identityHashCode(this)`). There might be some use cases when to use it, but they are pretty rare.","title":"When to use the System.identityhashcode() and hashcode() methods?","body":"<p>Well, for starters, while System of course has a <code>hashCode()</code> method (every Object has one), I don't see much reason in calling it. Or any chance of even getting a System object to call it on, as System is <code>final</code> and the constructor is <code>private</code>. So, probably \"pretty much never\" for <code>hashCode()</code>, I guess. </p>\n\n<p>So, that leaves us with <code>System.identityHashCode(Object)</code> which gives your simply the default hashcode value for any Object. So, in other words, you don't need it very often, because if you don't override the hashCode() method in your class, you will already get the same return value by default for your Objects (because effectively the default hashCode(), when you have not overriden the hashCode() method, is simply <code>System.identityHashCode(this)</code>). There might be some use cases when to use it, but they are pretty rare.</p>\n"},{"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437634560,"creation_date":1437633900,"answer_id":31579958,"question_id":31579666,"body_markdown":"Some of your classes may override `hashcode()` method in your system. For those objects, this method provides the hash code of the provided Object as would be returned from its ultimate  parent `java.lang.Object`. Refer [Java API][1] to see the description from language designers.  \r\n\r\n\r\n I believe the use is when you want to create almost non-unique objects for some reasons. When I say almost, there may be objects with same hash code. You would actually minimize the use of `equals` methods in doing so.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode%28java.lang.Object%29","title":"When to use the System.identityhashcode() and hashcode() methods?","body":"<p>Some of your classes may override <code>hashcode()</code> method in your system. For those objects, this method provides the hash code of the provided Object as would be returned from its ultimate  parent <code>java.lang.Object</code>. Refer <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode%28java.lang.Object%29\" rel=\"nofollow\">Java API</a> to see the description from language designers.  </p>\n\n<p>I believe the use is when you want to create almost non-unique objects for some reasons. When I say almost, there may be objects with same hash code. You would actually minimize the use of <code>equals</code> methods in doing so.</p>\n"},{"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437633909,"creation_date":1437633909,"answer_id":31579962,"question_id":31579666,"body_markdown":"From the [documentation][1]:\n\n&gt;**public static int identityHashCode(Object x)**\n&gt;\n&gt;Returns the same hash code for the given object as would be returned by the default method hashCode(), whether or not the given object&#39;s class overrides hashCode(). The hash code for the null reference is zero.\n\nNote that `identityHashCode` returns the `hashCode` as implemented in the `Object` class and that&#39;s not what you usually want, so you should just use `yourObject.hashCode()`.\n\nRegarding if there could be some use cases for this method, if you have an array of `Objects` you are iterating through that could have some `null` in it, and you need the `hashCode` of those Objects, using `System.identityHashCode(obj)` could save you one null check, not that big of an improvement.\n\n\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)","title":"When to use the System.identityhashcode() and hashcode() methods?","body":"<p>From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>public static int identityHashCode(Object x)</strong></p>\n<p>Returns the same hash code for the given object as would be returned by the default method hashCode(), whether or not the given object's class overrides hashCode(). The hash code for the null reference is zero.</p>\n</blockquote>\n<p>Note that <code>identityHashCode</code> returns the <code>hashCode</code> as implemented in the <code>Object</code> class and that's not what you usually want, so you should just use <code>yourObject.hashCode()</code>.</p>\n<p>Regarding if there could be some use cases for this method, if you have an array of <code>Objects</code> you are iterating through that could have some <code>null</code> in it, and you need the <code>hashCode</code> of those Objects, using <code>System.identityHashCode(obj)</code> could save you one null check, not that big of an improvement.</p>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437635108,"creation_date":1437634428,"answer_id":31580144,"question_id":31579666,"body_markdown":"According to the javadoc, the [`System.identityHashCode(Object o)`][1]:\r\n\r\n&gt; Returns the same hash code for the given object as would be returned by the default method hashCode(), whether or not the given object&#39;s class overrides hashCode(). The hash code for the null reference is zero.\r\n\r\nSo, at the first place, `System.identityHashCode(nullReference)` will always give you `0`, instead of `nullReference.hashCode()` which will obviously give you a `NullPointerException` at Runtime.\r\n\r\nLet&#39;s, however, consider the following class:\r\n\r\n    public class MysteriousOne {\r\n        @Override\r\n        public int hashCode() {\r\n            return 0xAAAABBBB;\r\n        }\r\n \r\n        //override equals() and so on...\r\n    }\r\n\r\nThe class overrides `hashCode()`, which is perfectly fine, even though the hash code for every instance would be the same, which however is not fine, if you want to distinguish identities of several instances. Usually, you&#39;d try the output of the `.toString()` method (which by default gives the classname, followed by a `@` followed by the `hashCode()` output), for example, to find out the real identity of an object, but is in this case the output would be the same:\r\n\r\n    MysteriousOne first = new MysteriousOne();\r\n    MysteriousOne second = new MysteriousOne();\r\n    System.out.println(&quot;First: &quot; + first);\r\n    System.out.println(&quot;Second: &quot; + second);\r\n\r\nThe output would be:\r\n\r\n    First: MysteriousOne@aaaabbbb\r\n    Second: MysteriousOne@aaaabbbb\r\n\r\nSo, having such implementation of `hashCode()` is impossible to distinguish between identities of several instances. Which is where `System.identityHashCode()` is being handy. \r\n\r\nIf you do\r\n\r\n    System.out.println(&quot;First: &quot; + System.identityHashCode(first));\r\n    System.out.println(&quot;Second: &quot; + System.identityHashCode(second));\r\n\r\nyou&#39;d get two different numbers for the different instances, even though the `hashCode()` of their class implementation returns a constant (actually here the overridden implementation of `hashCode()` will not be called at all, as per javadoc):\r\n\r\n    First: 366712642\r\n    Second: 1829164700\r\n\r\nFurther, you can even pass primitives to `System.identityHashCode(Object o)`, as they will be boxed to their corresponding wrappers:\r\n\r\n    int i = 5;\r\n    System.out.println(System.identityHashCode(i));\r\n\r\nMore info:\r\n\r\n - [How do `Object#hashCode()` and `System#identityHashCode()` work at the back end?][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)\r\n  [2]: https://stackoverflow.com/questions/4930781/how-do-hashcode-and-identityhashcode-work-at-the-back-end","title":"When to use the System.identityhashcode() and hashcode() methods?","body":"<p>According to the javadoc, the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>System.identityHashCode(Object o)</code></a>:</p>\n\n<blockquote>\n  <p>Returns the same hash code for the given object as would be returned by the default method hashCode(), whether or not the given object's class overrides hashCode(). The hash code for the null reference is zero.</p>\n</blockquote>\n\n<p>So, at the first place, <code>System.identityHashCode(nullReference)</code> will always give you <code>0</code>, instead of <code>nullReference.hashCode()</code> which will obviously give you a <code>NullPointerException</code> at Runtime.</p>\n\n<p>Let's, however, consider the following class:</p>\n\n<pre><code>public class MysteriousOne {\n    @Override\n    public int hashCode() {\n        return 0xAAAABBBB;\n    }\n\n    //override equals() and so on...\n}\n</code></pre>\n\n<p>The class overrides <code>hashCode()</code>, which is perfectly fine, even though the hash code for every instance would be the same, which however is not fine, if you want to distinguish identities of several instances. Usually, you'd try the output of the <code>.toString()</code> method (which by default gives the classname, followed by a <code>@</code> followed by the <code>hashCode()</code> output), for example, to find out the real identity of an object, but is in this case the output would be the same:</p>\n\n<pre><code>MysteriousOne first = new MysteriousOne();\nMysteriousOne second = new MysteriousOne();\nSystem.out.println(\"First: \" + first);\nSystem.out.println(\"Second: \" + second);\n</code></pre>\n\n<p>The output would be:</p>\n\n<pre><code>First: MysteriousOne@aaaabbbb\nSecond: MysteriousOne@aaaabbbb\n</code></pre>\n\n<p>So, having such implementation of <code>hashCode()</code> is impossible to distinguish between identities of several instances. Which is where <code>System.identityHashCode()</code> is being handy. </p>\n\n<p>If you do</p>\n\n<pre><code>System.out.println(\"First: \" + System.identityHashCode(first));\nSystem.out.println(\"Second: \" + System.identityHashCode(second));\n</code></pre>\n\n<p>you'd get two different numbers for the different instances, even though the <code>hashCode()</code> of their class implementation returns a constant (actually here the overridden implementation of <code>hashCode()</code> will not be called at all, as per javadoc):</p>\n\n<pre><code>First: 366712642\nSecond: 1829164700\n</code></pre>\n\n<p>Further, you can even pass primitives to <code>System.identityHashCode(Object o)</code>, as they will be boxed to their corresponding wrappers:</p>\n\n<pre><code>int i = 5;\nSystem.out.println(System.identityHashCode(i));\n</code></pre>\n\n<p>More info:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4930781/how-do-hashcode-and-identityhashcode-work-at-the-back-end\">How do <code>Object#hashCode()</code> and <code>System#identityHashCode()</code> work at the back end?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5299388,"reputation":773,"user_id":4229567,"display_name":"sofia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505281430,"creation_date":1505281430,"answer_id":46189686,"question_id":31579666,"body_markdown":"The System.identityhashcode() always return the default java.lang.Object implementation, even if the class for a particular object overrides this and computes a different hash code.\r\n\r\nUnder some circumstance, you may need this kind of definition: Two objects o1 and o2 are considered equal if and only if o1 == o2. In normal implementations, two objects o1 and o2 are considered equal if and only if o1 == null ? o2 == null : o1.equals(o2). **If two objects are equal if and only if o1 == o2, they must have the same hashcode. So you should use System.identityhashcode().**\r\n\r\nHere are some code snippets I came across.\r\n\r\n\r\n----------\r\n\r\n    private static int hash(Object x, int length) {\r\n        int h = System.identityHashCode(x);\r\n        // Multiply by -127, and left-shift to use least bit as part of hash\r\n        return ((h &lt;&lt; 1) - (h &lt;&lt; 8)) &amp; (length - 1);\r\n    }\r\n\r\n**IdentityHashMap.java**\r\n\r\n    public int hashCode() {\r\n        return System.identityHashCode(instance);\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public boolean equals(final Object other) {\r\n        return other instanceof IdentityWrapper &amp;&amp;\r\n             ((IdentityWrapper) other).instance == instance;\r\n    }\r\n**IdentityWrapper.java** (From Apache Commons Pool 2)","title":"When to use the System.identityhashcode() and hashcode() methods?","body":"<p>The System.identityhashcode() always return the default java.lang.Object implementation, even if the class for a particular object overrides this and computes a different hash code.</p>\n\n<p>Under some circumstance, you may need this kind of definition: Two objects o1 and o2 are considered equal if and only if o1 == o2. In normal implementations, two objects o1 and o2 are considered equal if and only if o1 == null ? o2 == null : o1.equals(o2). <strong>If two objects are equal if and only if o1 == o2, they must have the same hashcode. So you should use System.identityhashcode().</strong></p>\n\n<p>Here are some code snippets I came across.</p>\n\n<hr>\n\n<pre><code>private static int hash(Object x, int length) {\n    int h = System.identityHashCode(x);\n    // Multiply by -127, and left-shift to use least bit as part of hash\n    return ((h &lt;&lt; 1) - (h &lt;&lt; 8)) &amp; (length - 1);\n}\n</code></pre>\n\n<p><strong>IdentityHashMap.java</strong></p>\n\n<pre><code>public int hashCode() {\n    return System.identityHashCode(instance);\n}\n\n@Override\n@SuppressWarnings(\"rawtypes\")\npublic boolean equals(final Object other) {\n    return other instanceof IdentityWrapper &amp;&amp;\n         ((IdentityWrapper) other).instance == instance;\n}\n</code></pre>\n\n<p><strong>IdentityWrapper.java</strong> (From Apache Commons Pool 2)</p>\n"}],"owner":{"account_id":6670308,"reputation":99,"user_id":5146602,"display_name":"Srinivas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2888,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1685629097,"creation_date":1437632850,"question_id":31579666,"body_markdown":"When should I use the `System.identityHashCode`() and `hashcode()` methods?","title":"When to use the System.identityhashcode() and hashcode() methods?","body":"<p>When should I use the <code>System.identityHashCode</code>() and <code>hashcode()</code> methods?</p>\n"},{"tags":["java","android-studio","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":3333705,"reputation":4380,"user_id":2801938,"display_name":"Jan B&#237;na"},"score":1,"creation_date":1685610152,"post_id":76379554,"comment_id":134685111,"body_markdown":"What&#39;s the usecase?","body":"What&#39;s the usecase?"},{"owner":{"account_id":269240,"reputation":5686,"user_id":558457,"accept_rate":62,"display_name":"Viacheslav Smityukh"},"score":0,"creation_date":1685615798,"post_id":76379554,"comment_id":134686321,"body_markdown":"You have no way to do it","body":"You have no way to do it"},{"owner":{"account_id":7665503,"reputation":992,"user_id":5809339,"display_name":"kishan verma"},"score":0,"creation_date":1685616588,"post_id":76379554,"comment_id":134686484,"body_markdown":"@JanB&#237;na Hi,\n\nI am building an application that will show all the child element attached to decoreview.\n\nhere is screenshots https://prnt.sc/nbvVwCGMRn8B","body":"@JanB&#237;na Hi,  I am building an application that will show all the child element attached to decoreview.  here is screenshots <a href=\"https://prnt.sc/nbvVwCGMRn8B\" rel=\"nofollow noreferrer\">prnt.sc/nbvVwCGMRn8B</a>"},{"owner":{"account_id":7665503,"reputation":992,"user_id":5809339,"display_name":"kishan verma"},"score":0,"creation_date":1685616621,"post_id":76379554,"comment_id":134686494,"body_markdown":"@ViacheslavSmityukh Hi,\nIs there any documents that says we can&#39;t get child of compose ?","body":"@ViacheslavSmityukh Hi, Is there any documents that says we can&#39;t get child of compose ?"}],"owner":{"account_id":7665503,"reputation":992,"user_id":5809339,"display_name":"kishan verma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685629095,"creation_date":1685604271,"question_id":76379554,"body_markdown":"Android: How can I get all child elements of a jetpack compose view?\r\n\r\nIn case of xml i am able to find child view using these line of code.\r\n\r\n    public void getChild() {\r\n        View v = getwindow().getdecorView().getrootView();\r\n        if (v instanceof ViewGroup) {\r\n            ViewGroup g = (ViewGroup) v;\r\n\r\n            for (int i = 0; i &lt; g.getChildCount(); i++) {\r\n                Log.d(&quot;find: &quot;, g.getChildAt(i).getClass().getName());\r\n            }\r\n        }\r\n    }\r\n\r\ntried this but unable to get\r\n\r\nas i run this after `androidx.compose.ui.platform.AndroidComposeView` view i am getting nothing.\r\nPlease suggest some solution if anyone can solve this.","title":"How can I get all child elements of a Jetpack Compose view in Android using Kotlin or Java?","body":"<p>Android: How can I get all child elements of a jetpack compose view?</p>\n<p>In case of xml i am able to find child view using these line of code.</p>\n<pre><code>public void getChild() {\n    View v = getwindow().getdecorView().getrootView();\n    if (v instanceof ViewGroup) {\n        ViewGroup g = (ViewGroup) v;\n\n        for (int i = 0; i &lt; g.getChildCount(); i++) {\n            Log.d(&quot;find: &quot;, g.getChildAt(i).getClass().getName());\n        }\n    }\n}\n</code></pre>\n<p>tried this but unable to get</p>\n<p>as i run this after <code>androidx.compose.ui.platform.AndroidComposeView</code> view i am getting nothing.\nPlease suggest some solution if anyone can solve this.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1685629782,"post_id":76378002,"comment_id":134689790,"body_markdown":"It allows your code to focus solely on the business/domain rather than these technicalities.","body":"It allows your code to focus solely on the business/domain rather than these technicalities."}],"answers":[{"tags":[],"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685628747,"creation_date":1685628747,"answer_id":76382835,"question_id":76378002,"body_markdown":"To my understanding, you&#39;re talking about [spring web feature to deliver you an object from payload in a transparent way][1], right?\r\n\r\nIf yes, then the key benefit is not to have the serialization/deserialization code visible to you.\r\n\r\nOn the other hand, if you&#39;re not sure about the payload shape then it can be troublesome, since spring will convert it into Exceptions/BAD_REQUESTS that will happen even before it enters on your code.\r\n\r\nIn most cases it&#39;s ok, because the payload is expected to be known. Besides that, it&#39;s just a matter to keep doing the parse by yourself or the let the framework do the job for you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-methods/requestbody.html#page-title","title":"Is using Spring to bind JSON to POJOs more efficient than manual parsing with ObjectMapper?","body":"<p>To my understanding, you're talking about <a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-methods/requestbody.html#page-title\" rel=\"nofollow noreferrer\">spring web feature to deliver you an object from payload in a transparent way</a>, right?</p>\n<p>If yes, then the key benefit is not to have the serialization/deserialization code visible to you.</p>\n<p>On the other hand, if you're not sure about the payload shape then it can be troublesome, since spring will convert it into Exceptions/BAD_REQUESTS that will happen even before it enters on your code.</p>\n<p>In most cases it's ok, because the payload is expected to be known. Besides that, it's just a matter to keep doing the parse by yourself or the let the framework do the job for you.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685628927,"creation_date":1685628927,"answer_id":76382861,"question_id":76378002,"body_markdown":"Spring behind the scenes uses the Json-Jackson library (`ObjectMapper` class) to marshal data between POJOs and JSON. This could be configured so you can tell Spring to use any other library, bu by default it uses Jackson. So, Letting Spring do the conversion is just cleaner than you doing it yourself. As for efficiency you don&#39;t get much of the benefit either way, but still if you can let Spring do it it is cleaner and it is done uniformly. So, Unless you have a special requirement for your POJO conversion that doesn&#39;t come with Spring out of the box, I would side with your manager and say let Spring do it.","title":"Is using Spring to bind JSON to POJOs more efficient than manual parsing with ObjectMapper?","body":"<p>Spring behind the scenes uses the Json-Jackson library (<code>ObjectMapper</code> class) to marshal data between POJOs and JSON. This could be configured so you can tell Spring to use any other library, bu by default it uses Jackson. So, Letting Spring do the conversion is just cleaner than you doing it yourself. As for efficiency you don't get much of the benefit either way, but still if you can let Spring do it it is cleaner and it is done uniformly. So, Unless you have a special requirement for your POJO conversion that doesn't come with Spring out of the box, I would side with your manager and say let Spring do it.</p>\n"}],"owner":{"account_id":19237253,"reputation":11,"user_id":14057962,"display_name":"Juzu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685628927,"creation_date":1685579180,"question_id":76378002,"body_markdown":"What are the differences of letting spring bind JSON objects to Custom Pojos vs retrieving the response as a JSON string and using the ObjectMapper to parse?\r\n\r\nWe had some legacy code that called an api and got a response as a JSON string. The code then went ahead and parsed the data into the new POJO objects. \r\n\r\nI was working on improving that area of the code and added some new functions, but I followed the legacy code to reuse the old helper functions to make things consistent. \r\n\r\nHowever, when I submitted it for review, my supervisor asked whether I can get it to skip the manual parsing, and get the JSON to deserialize into the POJO object. He said: &quot;...it would be nicer if you could....&quot; \r\n\r\nI got this completed, but I never heard why this is &quot;better&quot; than using the Object Mapper.\r\nHere is an example: (It&#39;s something like this, not exact, just basing this off memory\r\n\r\n- Legacy Code:\r\n\r\n```java\r\nString response = someCall();\r\n\r\nTry {\r\n  SomePojo object = ObjectMapper.parse(response ,SomePojo.class)\r\n  // Some helpers that extract a list of data from this object, error catching etc.\r\n  List&lt;SomeData&gt; data = object.getData().stream(//helpers to map etc);\r\n  return data;\r\n}\r\n```\r\n\r\n- Then the new version is:\r\n\r\n```java\r\ntry {\r\n SomePojo object = someCall()\r\n return object.getData()\r\n}\r\n```\r\n\r\nFrom what I was reading up, this method is still using the same Jackson objectmapper to parse, and it uses the getters and setters from the POJO object. \r\n\r\nOther than the fact that it looks cleaner, I couldn&#39;t really figure out why this is a better approach.\r\n\r\nAny thoughts?","title":"Is using Spring to bind JSON to POJOs more efficient than manual parsing with ObjectMapper?","body":"<p>What are the differences of letting spring bind JSON objects to Custom Pojos vs retrieving the response as a JSON string and using the ObjectMapper to parse?</p>\n<p>We had some legacy code that called an api and got a response as a JSON string. The code then went ahead and parsed the data into the new POJO objects.</p>\n<p>I was working on improving that area of the code and added some new functions, but I followed the legacy code to reuse the old helper functions to make things consistent.</p>\n<p>However, when I submitted it for review, my supervisor asked whether I can get it to skip the manual parsing, and get the JSON to deserialize into the POJO object. He said: &quot;...it would be nicer if you could....&quot;</p>\n<p>I got this completed, but I never heard why this is &quot;better&quot; than using the Object Mapper.\nHere is an example: (It's something like this, not exact, just basing this off memory</p>\n<ul>\n<li>Legacy Code:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>String response = someCall();\n\nTry {\n  SomePojo object = ObjectMapper.parse(response ,SomePojo.class)\n  // Some helpers that extract a list of data from this object, error catching etc.\n  List&lt;SomeData&gt; data = object.getData().stream(//helpers to map etc);\n  return data;\n}\n</code></pre>\n<ul>\n<li>Then the new version is:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n SomePojo object = someCall()\n return object.getData()\n}\n</code></pre>\n<p>From what I was reading up, this method is still using the same Jackson objectmapper to parse, and it uses the getters and setters from the POJO object.</p>\n<p>Other than the fact that it looks cleaner, I couldn't really figure out why this is a better approach.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","apache-poi","maven-assembly-plugin"],"owner":{"account_id":22049479,"reputation":41,"user_id":16313975,"display_name":"Drl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685628345,"creation_date":1685628345,"question_id":76382762,"body_markdown":"After upgrading to from  Apache Poi 4.1.2 to 5.2.3 I got this error: \r\n```\r\njava.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven&#39;t provide\r\nthe poi-ooxml*.jar in the classpath/modulepath - FileMagic: OOXML, having providers:org.apache.poi.hssf.usermodel.HSSFWorkbookFactory@4681c175]\r\n```\r\nafter a search I found this can be fixed with maven build plugin  **maven-shade-plugin** by adding a transformer in pom.xml:\r\n```\r\n&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n```\r\nAs I am using **maven-assembly-plugin**, Is there any way that I can achieve this with **maven-assembly-plugin**\r\n\r\nThis is my **maven-assembly-plugin** configuration in pom.xml\r\n\r\n```\r\n\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t&lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;test.poitest.Program&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n","title":"Error after upgrading from Apache Poi 4.1.2 to 5.2.3","body":"<p>After upgrading to from  Apache Poi 4.1.2 to 5.2.3 I got this error:</p>\n<pre><code>java.io.IOException: Your InputStream was neither an OLE2 stream, nor an OOXML stream or you haven't provide\nthe poi-ooxml*.jar in the classpath/modulepath - FileMagic: OOXML, having providers:org.apache.poi.hssf.usermodel.HSSFWorkbookFactory@4681c175]\n</code></pre>\n<p>after a search I found this can be fixed with maven build plugin  <strong>maven-shade-plugin</strong> by adding a transformer in pom.xml:</p>\n<pre><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n</code></pre>\n<p>As I am using <strong>maven-assembly-plugin</strong>, Is there any way that I can achieve this with <strong>maven-assembly-plugin</strong></p>\n<p>This is my <strong>maven-assembly-plugin</strong> configuration in pom.xml</p>\n<pre><code>        &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;test.poitest.Program&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"display_name":"user3335083"},"score":0,"creation_date":1517404073,"post_id":48542883,"comment_id":84080804,"body_markdown":"just so you know, if you use the annotation RestController, it combines Controller &amp; ResponseBody so you can just use RestController &amp; omit ResponseBody.","body":"just so you know, if you use the annotation RestController, it combines Controller &amp; ResponseBody so you can just use RestController &amp; omit ResponseBody."},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404145,"post_id":48542883,"comment_id":84080851,"body_markdown":"Thanks, I know about that. However I was keeping this example to an absolute minimum to make it easier to figure out where this problem is coming from.","body":"Thanks, I know about that. However I was keeping this example to an absolute minimum to make it easier to figure out where this problem is coming from."},{"owner":{"display_name":"user3335083"},"score":0,"creation_date":1517404201,"post_id":48542883,"comment_id":84080890,"body_markdown":"well. 1 annotation instead of 2 would be minimal... just sayin&#39;","body":"well. 1 annotation instead of 2 would be minimal... just sayin&#39;"},{"owner":{"account_id":3162153,"reputation":3611,"user_id":2672973,"accept_rate":86,"display_name":"andolsi zied"},"score":0,"creation_date":1517404326,"post_id":48542883,"comment_id":84080974,"body_markdown":"why you instantiate ObjectMapper class?","body":"why you instantiate ObjectMapper class?"},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404465,"post_id":48542883,"comment_id":84081071,"body_markdown":"Because I want to configure the `ObjectMapper` by, for example, adding mixin annotations, etc.\nEven if I take the alternative approach of just registering a `com.fasterxml.jackson.databind.Module` as a Spring `@Component`, which will automatically register it to the standard `ObjectMapper`, only _one_ of the created `ObjectMapper` instances will have those modules.","body":"Because I want to configure the <code>ObjectMapper</code> by, for example, adding mixin annotations, etc. Even if I take the alternative approach of just registering a <code>com.fasterxml.jackson.databind.Module</code> as a Spring <code>@Component</code>, which will automatically register it to the standard <code>ObjectMapper</code>, only <i>one</i> of the created <code>ObjectMapper</code> instances will have those modules."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1517404684,"post_id":48542883,"comment_id":84081226,"body_markdown":"For customizing the objectmapper, don&#39;t create a new object Mapper in your application. Instead you can customize the objectmapper provided by spring. Check my answer here https://stackoverflow.com/questions/48519772/how-to-configure-jackson-in-spring-boot-application-without-overriding-springs-d/48519868#48519868","body":"For customizing the objectmapper, don&#39;t create a new object Mapper in your application. Instead you can customize the objectmapper provided by spring. Check my answer here <a href=\"https://stackoverflow.com/questions/48519772/how-to-configure-jackson-in-spring-boot-application-without-overriding-springs-d/48519868#48519868\" title=\"how to configure jackson in spring boot application without overriding springs d\">stackoverflow.com/questions/48519772/&hellip;</a>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1517404703,"post_id":48542883,"comment_id":84081239,"body_markdown":"This way you can get rid of multiple Objectmapper issue","body":"This way you can get rid of multiple Objectmapper issue"},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404814,"post_id":48542883,"comment_id":84081313,"body_markdown":"No, I cannot. Even if I remove my custom `ObjectMapper` bean (no configuration at all except `@SpringBootApplication`) I still get _two_ `MappingJackson2HttpMessageConverter` instances. One of them uses the `ObjectMapper` that is available via Spring DI, which is therefor configurable, the other uses _some other mapper_, which I do not know where it comes from.","body":"No, I cannot. Even if I remove my custom <code>ObjectMapper</code> bean (no configuration at all except <code>@SpringBootApplication</code>) I still get <i>two</i> <code>MappingJackson2HttpMessageConverter</code> instances. One of them uses the <code>ObjectMapper</code> that is available via Spring DI, which is therefor configurable, the other uses <i>some other mapper</i>, which I do not know where it comes from."},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517404823,"post_id":48542883,"comment_id":84081319,"body_markdown":"Hmm, the problem can be that `org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration` has a `@Primary @ConditionalOnMissingBean(ObjectMapper.class)` marked ObjectMapper. Check that your configuration is loaded before this autoconfiguration. If the name of second `ObjectMapper` bean is &#39;jacksonObjectMapper&#39; - load a configuration before autoconfiguration. Also that mapper is marked as `@Primary` so it is injected with DI by default.","body":"Hmm, the problem can be that <code>org.springframework.boot.autoconfigure.jackson.JacksonAutoCo&zwnj;&#8203;nfiguration</code> has a <code>@Primary @ConditionalOnMissingBean(ObjectMapper.class)</code> marked ObjectMapper. Check that your configuration is loaded before this autoconfiguration. If the name of second <code>ObjectMapper</code> bean is &#39;jacksonObjectMapper&#39; - load a configuration before autoconfiguration. Also that mapper is marked as <code>@Primary</code> so it is injected with DI by default."},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517404971,"post_id":48542883,"comment_id":84081429,"body_markdown":"@BogdanOros Does that apply even if my configuration is completely empty (see above)? How can I load my configuration before said autoconfiguration?","body":"@BogdanOros Does that apply even if my configuration is completely empty (see above)? How can I load my configuration before said autoconfiguration?"},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517405136,"post_id":48542883,"comment_id":84081538,"body_markdown":"Try to create a configuration class with that bean with `@Order(Ordered.HIGHEST_PRECEDENCE)` annotation.","body":"Try to create a configuration class with that bean with <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code> annotation."},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517405252,"post_id":48542883,"comment_id":84081612,"body_markdown":"@BogdanOros That made absolutely no difference. I still get the two converters.","body":"@BogdanOros That made absolutely no difference. I still get the two converters."},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517405554,"post_id":48542883,"comment_id":84081828,"body_markdown":"Try to mark you `ObjectMapper` with `@Primary` annotation and check which one is injected by DI. Also can you paste the second mappers name?","body":"Try to mark you <code>ObjectMapper</code> with <code>@Primary</code> annotation and check which one is injected by DI. Also can you paste the second mappers name?"},{"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"score":0,"creation_date":1517405986,"post_id":48542883,"comment_id":84082150,"body_markdown":"Please read the edit to my question. This even happens if I do not make my own `ObjectMapper` at all!\nI also verified using `ApplicationContext.getBeansOfType`: There is only _one_ `ObjectMapper` in the IoC container (whether created by me or spring boot autoconfiguration). But there are _still_ two `MappingJackson2HttpMessageConverter` instances in the return value mapper.","body":"Please read the edit to my question. This even happens if I do not make my own <code>ObjectMapper</code> at all! I also verified using <code>ApplicationContext.getBeansOfType</code>: There is only <i>one</i> <code>ObjectMapper</code> in the IoC container (whether created by me or spring boot autoconfiguration). But there are <i>still</i> two <code>MappingJackson2HttpMessageConverter</code> instances in the return value mapper."},{"owner":{"account_id":9608425,"reputation":1249,"user_id":7133682,"display_name":"Bogdan Oros"},"score":0,"creation_date":1517406022,"post_id":48542883,"comment_id":84082176,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/164267/discussion-between-bogdan-oros-and-diesieben07).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/164267/discussion-between-bogdan-oros-and-diesieben07\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517418113,"creation_date":1517412174,"answer_id":48545620,"question_id":48542883,"body_markdown":"After further investigation I have found the issue and it was simply an issue with my Jackson configuration not working as I thought it would.\r\nHaving two `MappingJackson2HttpMessageConverter` is not a problem.","title":"Spring Boot configures two MappingJackson2HttpMessageConverter instances","body":"<p>After further investigation I have found the issue and it was simply an issue with my Jackson configuration not working as I thought it would.\nHaving two <code>MappingJackson2HttpMessageConverter</code> is not a problem.</p>\n"},{"tags":[],"owner":{"account_id":4550242,"reputation":439,"user_id":3695718,"display_name":"zolee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685628148,"creation_date":1685628148,"answer_id":76382731,"question_id":48542883,"body_markdown":"The reason of two jackson converters with spring boot and web mvc:\r\n\r\n`HttpMessageConvertersAutoConfiguration` creates the `stringHttpMessageConverter` and a `mappingJackson2HttpMessageConverter`  (with configurable object mapper) beans.\r\n`HttpMessageConvertersAutoConfiguration` also creates a `HttpMessageConverters` bean and takes the previously mentioned converters as a constructor param with the name &quot;additionalConverters&quot;.  The used constructor has an add default converters flag with true value as well. It gets the default converters by instantiating a `WebMvcConfigurationSupport` class and calling its `getDefaultConverters` method.\r\nThat method creates a second `mappingJackson2HttpMessageConverter` (with a default, non configurable object mapper).\r\n`HttpMessageConverters` concats the converters passed through the constructor with default ones from `WebMvcConfigurationSupport` instance.\r\n\r\nThe `HttpMessageConverters` containing the duplicate json converter is used in example by `RestTemplateAutoConfiguration` hence by `RestTemplateBuilder`.","title":"Spring Boot configures two MappingJackson2HttpMessageConverter instances","body":"<p>The reason of two jackson converters with spring boot and web mvc:</p>\n<p><code>HttpMessageConvertersAutoConfiguration</code> creates the <code>stringHttpMessageConverter</code> and a <code>mappingJackson2HttpMessageConverter</code>  (with configurable object mapper) beans.\n<code>HttpMessageConvertersAutoConfiguration</code> also creates a <code>HttpMessageConverters</code> bean and takes the previously mentioned converters as a constructor param with the name &quot;additionalConverters&quot;.  The used constructor has an add default converters flag with true value as well. It gets the default converters by instantiating a <code>WebMvcConfigurationSupport</code> class and calling its <code>getDefaultConverters</code> method.\nThat method creates a second <code>mappingJackson2HttpMessageConverter</code> (with a default, non configurable object mapper).\n<code>HttpMessageConverters</code> concats the converters passed through the constructor with default ones from <code>WebMvcConfigurationSupport</code> instance.</p>\n<p>The <code>HttpMessageConverters</code> containing the duplicate json converter is used in example by <code>RestTemplateAutoConfiguration</code> hence by <code>RestTemplateBuilder</code>.</p>\n"}],"owner":{"account_id":4473237,"reputation":1497,"user_id":3638966,"accept_rate":58,"display_name":"diesieben07"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1264,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48545620,"answer_count":2,"score":2,"last_activity_date":1685628148,"creation_date":1517403827,"question_id":48542883,"body_markdown":"I am having a problem with a newly created Spring Boot application. For some reason _something_ is adding _two_ `MappingJackson2HttpMessageConverter` instances to the return value processing of Spring Web MVC (I found this out using the debugger).\r\nOne of them uses the `ObjectMapper` instance I create via a `@Bean` method in my configuration class, the other one uses some random other instance. This 2nd `ObjectMapper` is therefor completely unconfigured and my `ObjectMapper` configurations are not applied to the JSON serialization used by `@ResponseBody`.\r\n\r\nHow can I stop this duplication? You can find all of my code below.\r\n\r\n*Edit:* This problem is _not_ related to my custom `ObjectMapper` bean. Even if I remove it (completely empty configuration except `@SpringBootApplication`), I still get _two_ `MappingJackson2HttpMessageConverter` instances, one of which uses a completely unconfigured and unreachable (as far as I can tell) `ObjectMapper`.\r\n\r\n*Edit&#178;:* This is not an issue of duplicate beans. `ApplicationContext.getBeansOfType` returns only _one_ instance for both `ObjectMapper` and `MappingJackson2HttpMessageConverter` no matter if I create the `ObjectMapper` myself or let it be created by spring autoconfiguration.\r\n\r\n**build.gradle:**\r\n\r\n    buildscript {\r\n        ext.springBootVersion = &#39;2.0.0.RC1&#39;\r\n\r\n        repositories {\r\n            mavenCentral()\r\n            maven { url &#39;http://repo.spring.io/snapshot&#39; }\r\n            maven { url &#39;http://repo.spring.io/milestone&#39; }\r\n            maven { url &#39;http://repo.spring.io/libs-snapshot&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion&quot;\r\n        }\r\n    }\r\n\r\n    group &#39;de.takeweiland.springtest&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;http://repo.spring.io/snapshot&#39; }\r\n        maven { url &#39;http://repo.spring.io/milestone&#39; }\r\n        maven { url &#39;http://repo.spring.io/libs-snapshot&#39; }\r\n    }\r\n\r\n    dependencies {\r\n        compile &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n    }\r\n\r\n**Configuration class**:\r\n\r\n    package main;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class Main {\r\n    \r\n        @Bean\r\n        public ObjectMapper createObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            return mapper;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Main.class);\r\n        }\r\n    }\r\n\r\n**Controller:**\r\n\r\n    package main;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class MyController {\r\n    \r\n        @GetMapping(&quot;**&quot;)\r\n        @ResponseBody\r\n        public String test() {\r\n            return &quot;Hello World&quot;;\r\n        }\r\n    }","title":"Spring Boot configures two MappingJackson2HttpMessageConverter instances","body":"<p>I am having a problem with a newly created Spring Boot application. For some reason <em>something</em> is adding <em>two</em> <code>MappingJackson2HttpMessageConverter</code> instances to the return value processing of Spring Web MVC (I found this out using the debugger).\nOne of them uses the <code>ObjectMapper</code> instance I create via a <code>@Bean</code> method in my configuration class, the other one uses some random other instance. This 2nd <code>ObjectMapper</code> is therefor completely unconfigured and my <code>ObjectMapper</code> configurations are not applied to the JSON serialization used by <code>@ResponseBody</code>.</p>\n\n<p>How can I stop this duplication? You can find all of my code below.</p>\n\n<p><em>Edit:</em> This problem is <em>not</em> related to my custom <code>ObjectMapper</code> bean. Even if I remove it (completely empty configuration except <code>@SpringBootApplication</code>), I still get <em>two</em> <code>MappingJackson2HttpMessageConverter</code> instances, one of which uses a completely unconfigured and unreachable (as far as I can tell) <code>ObjectMapper</code>.</p>\n\n<p><em>Edit¬≤:</em> This is not an issue of duplicate beans. <code>ApplicationContext.getBeansOfType</code> returns only <em>one</em> instance for both <code>ObjectMapper</code> and <code>MappingJackson2HttpMessageConverter</code> no matter if I create the <code>ObjectMapper</code> myself or let it be created by spring autoconfiguration.</p>\n\n<p><strong>build.gradle:</strong></p>\n\n<pre><code>buildscript {\n    ext.springBootVersion = '2.0.0.RC1'\n\n    repositories {\n        mavenCentral()\n        maven { url 'http://repo.spring.io/snapshot' }\n        maven { url 'http://repo.spring.io/milestone' }\n        maven { url 'http://repo.spring.io/libs-snapshot' }\n    }\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion\"\n    }\n}\n\ngroup 'de.takeweiland.springtest'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'java'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\nrepositories {\n    mavenCentral()\n    maven { url 'http://repo.spring.io/snapshot' }\n    maven { url 'http://repo.spring.io/milestone' }\n    maven { url 'http://repo.spring.io/libs-snapshot' }\n}\n\ndependencies {\n    compile \"org.springframework.boot:spring-boot-starter-web\"\n}\n</code></pre>\n\n<p><strong>Configuration class</strong>:</p>\n\n<pre><code>package main;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class Main {\n\n    @Bean\n    public ObjectMapper createObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class);\n    }\n}\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>package main;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class MyController {\n\n    @GetMapping(\"**\")\n    @ResponseBody\n    public String test() {\n        return \"Hello World\";\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","viewmodel"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1685628359,"post_id":76381483,"comment_id":134689395,"body_markdown":"You&#39;re starting to run into the unnecessary complexity that happens when you try to use BaseActivities. Someone below is even suggesting you compound the complexity by introducing BaseViewModels. Read the links here for some explanations of why I think this should be avoided entirely. Composition over inheritance. https://stackoverflow.com/a/75007744/506796","body":"You&#39;re starting to run into the unnecessary complexity that happens when you try to use BaseActivities. Someone below is even suggesting you compound the complexity by introducing BaseViewModels. Read the links here for some explanations of why I think this should be avoided entirely. Composition over inheritance. <a href=\"https://stackoverflow.com/a/75007744/506796\">stackoverflow.com/a/75007744/506796</a>"},{"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"score":0,"creation_date":1685953987,"post_id":76381483,"comment_id":134727477,"body_markdown":"Thanks for comment. Composition is nice idea, but I don&#39;t think I will use it in this scenario. This base class is doing exactly what I need (just load some data and show the list of it) so rewritting to composion what probably does not add any benefits right now. But I will this for other parts of my app.","body":"Thanks for comment. Composition is nice idea, but I don&#39;t think I will use it in this scenario. This base class is doing exactly what I need (just load some data and show the list of it) so rewritting to composion what probably does not add any benefits right now. But I will this for other parts of my app."}],"answers":[{"tags":[],"owner":{"account_id":4717273,"reputation":956,"user_id":3816129,"display_name":"Dmytro Batyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685622356,"creation_date":1685622356,"answer_id":76381844,"question_id":76381483,"body_markdown":"Introduce the base view model\r\n```\r\nabstract class BaseActivityViewModel: ViewModel() {\r\n abstract fun listDocQueue()\r\n}\r\n```\r\n\r\n\r\nYour base activity class could be generic and have a method to create a view model instance:\r\n```\r\npublic abstract class BaseActivity&lt;ViewModelT: BaseActivityViewModel&gt;: Activity {\r\n  protected open fun getViewModelFactory(): ViewModelProvider.Factory? = null\r\n\r\n  protected val viewModel: ViewModelT by lazy {\r\n      val viewModelFactory = getViewModelFactory()\r\n      if(viewModelFactory != null) {\r\n         ViewModelProvider(this, viewModelFactory).get(viewModelClass)\r\n      } else {\r\n         ViewModelProvider(this).get(viewModelClass)\r\n      }\r\n  }\r\n}\r\n\r\n```\r\n\r\nThen define your ViewModels and Activities based on your needs\r\n\r\n```\r\nclass ActivityViewModel1 : BaseActivityViewModel() {\r\n   override fun listDocQueue() { ... }\r\n}\r\n\r\nclass ActivityViewModel2 : BaseActivityViewModel() {\r\n   override fun listDocQueue() { ... }\r\n}\r\n```\r\n\r\n```\r\nclass Activity1: class BaseActivity&lt;ActivityViewModel1&gt;() {\r\n   override onCreate(...) {\r\n      onCreate(...)\r\n      viewModel.listDocQueue()\r\n}\r\n\r\nclass Activity2: class BaseActivity&lt;ActivityViewModel2&gt;() {\r\n   override onCreate(...) {\r\n      onCreate(...)\r\n      viewModel.listDocQueue()\r\n}\r\n```\r\n\r\nAlso make sure you have provided ViewModelFactory in case you need that.","title":"Correct way to use ViewModel from child activity","body":"<p>Introduce the base view model</p>\n<pre><code>abstract class BaseActivityViewModel: ViewModel() {\n abstract fun listDocQueue()\n}\n</code></pre>\n<p>Your base activity class could be generic and have a method to create a view model instance:</p>\n<pre><code>public abstract class BaseActivity&lt;ViewModelT: BaseActivityViewModel&gt;: Activity {\n  protected open fun getViewModelFactory(): ViewModelProvider.Factory? = null\n\n  protected val viewModel: ViewModelT by lazy {\n      val viewModelFactory = getViewModelFactory()\n      if(viewModelFactory != null) {\n         ViewModelProvider(this, viewModelFactory).get(viewModelClass)\n      } else {\n         ViewModelProvider(this).get(viewModelClass)\n      }\n  }\n}\n\n</code></pre>\n<p>Then define your ViewModels and Activities based on your needs</p>\n<pre><code>class ActivityViewModel1 : BaseActivityViewModel() {\n   override fun listDocQueue() { ... }\n}\n\nclass ActivityViewModel2 : BaseActivityViewModel() {\n   override fun listDocQueue() { ... }\n}\n</code></pre>\n<pre><code>class Activity1: class BaseActivity&lt;ActivityViewModel1&gt;() {\n   override onCreate(...) {\n      onCreate(...)\n      viewModel.listDocQueue()\n}\n\nclass Activity2: class BaseActivity&lt;ActivityViewModel2&gt;() {\n   override onCreate(...) {\n      onCreate(...)\n      viewModel.listDocQueue()\n}\n</code></pre>\n<p>Also make sure you have provided ViewModelFactory in case you need that.</p>\n"},{"tags":[],"owner":{"account_id":15602203,"reputation":149,"user_id":11256018,"display_name":"IbrahimTG99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627770,"creation_date":1685626957,"answer_id":76382533,"question_id":76381483,"body_markdown":"According to the latest architecture guidelines you should be passing usecases to the viewModel, instead of exposing repository and each Use-case handles a specific task. it makes testing and maintaining code very easy. I recommend you use some kind of dependency inject as-well I personally use Dagger-Hilt. it makes it very easy. \r\n\r\nRepository\r\n\r\n    interface Repository {}\r\n\r\nRepositoryimpl\r\n\r\n    class RepositoryImpl @Inject constructor(\r\n    private val Dao: Dao) : Repository {}\r\n\r\nUseCase\r\n\r\n    class getWordFromRep(\r\n    private val repository: Repository) {\r\n        suspend operator fun invoke(){\r\n          repository.getWord()\r\n       } \r\n    }\r\n\r\nThan in ViewModel\r\n\r\n    class HomeViewModel @Inject constructor(\r\n         private val getWord: GetWordFromRep\r\n       ) : ViewModel(){\r\n         fun getWord() = getword()\r\n    }\r\n\r\nAnd for Di you will be making a module\r\n\r\n    @Module\r\n    @InstallIn(SingletonComponent::class)\r\n    object AppModule {\r\n    @Provides\r\n    @Singleton\r\n    fun provideGetWordFromRep(repository: RepositoryImpl) = GetWordFromRep(repository)\r\n    }\r\n\r\nI recommend you watch the use-case video by [Philipp Lackner][1] It really helped me understand it. \r\n\r\nAlso I recommend using Flows and states instead of livedata it really makes getting data in views easier and makes the code much cleaner.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=ufq3LJ-5P6s","title":"Correct way to use ViewModel from child activity","body":"<p>According to the latest architecture guidelines you should be passing usecases to the viewModel, instead of exposing repository and each Use-case handles a specific task. it makes testing and maintaining code very easy. I recommend you use some kind of dependency inject as-well I personally use Dagger-Hilt. it makes it very easy.</p>\n<p>Repository</p>\n<pre><code>interface Repository {}\n</code></pre>\n<p>Repositoryimpl</p>\n<pre><code>class RepositoryImpl @Inject constructor(\nprivate val Dao: Dao) : Repository {}\n</code></pre>\n<p>UseCase</p>\n<pre><code>class getWordFromRep(\nprivate val repository: Repository) {\n    suspend operator fun invoke(){\n      repository.getWord()\n   } \n}\n</code></pre>\n<p>Than in ViewModel</p>\n<pre><code>class HomeViewModel @Inject constructor(\n     private val getWord: GetWordFromRep\n   ) : ViewModel(){\n     fun getWord() = getword()\n}\n</code></pre>\n<p>And for Di you will be making a module</p>\n<pre><code>@Module\n@InstallIn(SingletonComponent::class)\nobject AppModule {\n@Provides\n@Singleton\nfun provideGetWordFromRep(repository: RepositoryImpl) = GetWordFromRep(repository)\n}\n</code></pre>\n<p>I recommend you watch the use-case video by <a href=\"https://www.youtube.com/watch?v=ufq3LJ-5P6s\" rel=\"nofollow noreferrer\">Philipp Lackner</a> It really helped me understand it.</p>\n<p>Also I recommend using Flows and states instead of livedata it really makes getting data in views easier and makes the code much cleaner.</p>\n"}],"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685627770,"creation_date":1685619599,"question_id":76381483,"body_markdown":"My application have abstract activity class (`BaseQueueActivity`) implementing most of activity needed functionality. Class is also using one `ViewModel` class and one repository class. But now I need to create child activity which will call another API function (call `listAnotherDocQueue` instead of `listDocQueue`). What is the correct way to do it? Should I create new child `ViewModel` and override the `loadDocuments` function? I need to preserve other code that could be in *master* `ViewModel`. \r\n\r\n**Base activity**\r\n\r\n    public abstract class BaseQueueActivity{\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            viewModel = new ViewModelProvider(this, new QueueViewModelFactory(documentTypes)).get(QueueViewModel.class);\r\n    \r\n            viewModel.documents.observe(\r\n                    this,\r\n                    response -&gt; {\r\n                        showDocuments();\r\n                    }\r\n            );\r\n        }\r\n    }\r\n\r\n**ViewModel**\r\n\r\n    public class QueueViewModel extends ViewModel {\r\n        final private QueueRepository repository = new QueueRepository();\r\n    \r\n        private final MutableLiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; _documents = new MutableLiveData&lt;&gt;();\r\n        public LiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; documents = _documents;\r\n    \r\n        public QueueViewModel() {\r\n        }\r\n    \r\n        public void loadDocuments() {\r\n            loadDocuments(&quot;&quot;);\r\n        }\r\n        public void loadDocuments(String search) {\r\n            Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; response = repository.loadDocuments(_documentTypes.getValue(), search);\r\n            Disposable disposable = response\r\n                .subscribeOn(Schedulers.io())\r\n                .subscribe(\r\n                    it -&gt; {\r\n                        _documents.postValue(it);\r\n                    },\r\n                    it -&gt; {\r\n                        // some error handling\r\n                    }\r\n                );\r\n        }\r\n    }\r\n\r\n**Repository**\r\n\r\n    class QueueRepository {\r\n        fun loadDocuments(documentTypes: ArrayList&lt;DocumentType&gt;, search: String) {\r\n            return RESTConnection.getService().listDocQueue(documentTypesString, search)\r\n        }\r\n    }\r\n\r\n**Retrofit API**\r\n\r\n    @GET(&quot;listDocQueue/{DocType}/{Search}&quot;)\r\n    Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\r\n            @Path(&quot;DocType&quot;) String DocType,\r\n            @Path(&quot;Search&quot;) String search);\r\n    \r\n    @GET(&quot;listAnotherDocQueue/{DocType}/{Search}&quot;)\r\n    Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\r\n            @Path(&quot;DocType&quot;) String DocType,\r\n            @Path(&quot;Search&quot;) String search);","title":"Correct way to use ViewModel from child activity","body":"<p>My application have abstract activity class (<code>BaseQueueActivity</code>) implementing most of activity needed functionality. Class is also using one <code>ViewModel</code> class and one repository class. But now I need to create child activity which will call another API function (call <code>listAnotherDocQueue</code> instead of <code>listDocQueue</code>). What is the correct way to do it? Should I create new child <code>ViewModel</code> and override the <code>loadDocuments</code> function? I need to preserve other code that could be in <em>master</em> <code>ViewModel</code>.</p>\n<p><strong>Base activity</strong></p>\n<pre><code>public abstract class BaseQueueActivity{\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        viewModel = new ViewModelProvider(this, new QueueViewModelFactory(documentTypes)).get(QueueViewModel.class);\n\n        viewModel.documents.observe(\n                this,\n                response -&gt; {\n                    showDocuments();\n                }\n        );\n    }\n}\n</code></pre>\n<p><strong>ViewModel</strong></p>\n<pre><code>public class QueueViewModel extends ViewModel {\n    final private QueueRepository repository = new QueueRepository();\n\n    private final MutableLiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; _documents = new MutableLiveData&lt;&gt;();\n    public LiveData&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; documents = _documents;\n\n    public QueueViewModel() {\n    }\n\n    public void loadDocuments() {\n        loadDocuments(&quot;&quot;);\n    }\n    public void loadDocuments(String search) {\n        Single&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; response = repository.loadDocuments(_documentTypes.getValue(), search);\n        Disposable disposable = response\n            .subscribeOn(Schedulers.io())\n            .subscribe(\n                it -&gt; {\n                    _documents.postValue(it);\n                },\n                it -&gt; {\n                    // some error handling\n                }\n            );\n    }\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>class QueueRepository {\n    fun loadDocuments(documentTypes: ArrayList&lt;DocumentType&gt;, search: String) {\n        return RESTConnection.getService().listDocQueue(documentTypesString, search)\n    }\n}\n</code></pre>\n<p><strong>Retrofit API</strong></p>\n<pre><code>@GET(&quot;listDocQueue/{DocType}/{Search}&quot;)\nSingle&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\n        @Path(&quot;DocType&quot;) String DocType,\n        @Path(&quot;Search&quot;) String search);\n\n@GET(&quot;listAnotherDocQueue/{DocType}/{Search}&quot;)\nSingle&lt;ArrayList&lt;Models.QueueDoc&gt;&gt; listDocQueue(\n        @Path(&quot;DocType&quot;) String DocType,\n        @Path(&quot;Search&quot;) String search);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685584771,"post_id":76378207,"comment_id":134681831,"body_markdown":"`throw new IllegalArgumentException(&quot;username does not exist. &quot;);` is been called from within the `for-loop` looping over the customer information","body":"<code>throw new IllegalArgumentException(&quot;username does not exist. &quot;);</code> is been called from within the <code>for-loop</code> looping over the customer information"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627602,"creation_date":1685586252,"answer_id":76378304,"question_id":76378207,"body_markdown":"&gt; How do I make it do the for loop checks every user then throws the exceptions?\r\n\r\nMaybe something like:\r\n\r\n    //  Find the Customer\r\n    \r\n    Customer customerInUse = null;\r\n    \r\n    for (Customer customerU : carDealership.getCustomerList()) {\r\n        if (customerU.getUserName().equals(userNameAttempt)) {\r\n             customerInUse = customerU;\r\n             break;\r\n        }\r\n     }\r\n    \r\n    if (customerInUse == null)\r\n       // throw the Exception\r\n    \r\n    //  prompt and validate the password\r\n    \r\n    System.out.println(&quot;Enter password:&quot;);\r\n    passWordAttempt = scnr.next();\r\n    \r\n    if (!customerInUse.getPassWord().equals(passWordAttempt))\r\n        // throw the Exception\r\n    \r\n    //  valid sign in, display the appropriate menu\r\n    \r\n    if (customerInUse instanceof Admin)\r\n        adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n    else    \r\n        customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n       \r\n\r\n ","title":"Why does my sign in function only work for one user in my CSV file with usernames and passwords?","body":"<blockquote>\n<p>How do I make it do the for loop checks every user then throws the exceptions?</p>\n</blockquote>\n<p>Maybe something like:</p>\n<pre><code>//  Find the Customer\n\nCustomer customerInUse = null;\n\nfor (Customer customerU : carDealership.getCustomerList()) {\n    if (customerU.getUserName().equals(userNameAttempt)) {\n         customerInUse = customerU;\n         break;\n    }\n }\n\nif (customerInUse == null)\n   // throw the Exception\n\n//  prompt and validate the password\n\nSystem.out.println(&quot;Enter password:&quot;);\npassWordAttempt = scnr.next();\n\nif (!customerInUse.getPassWord().equals(passWordAttempt))\n    // throw the Exception\n\n//  valid sign in, display the appropriate menu\n\nif (customerInUse instanceof Admin)\n    adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\nelse    \n    customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685593681,"creation_date":1685592752,"answer_id":76378610,"question_id":76378207,"body_markdown":"There are a few thing to consider with your code.\r\n\r\nHere is the _customerU_ _for-loop_.\r\n\r\n```java\r\nfor (Customer customerU : carDealership.getCustomerList()) {\r\n    if (customerU.getUserName().equals(userNameAttempt)) {\r\n        System.out.println(&quot;Enter password:&quot;);\r\n        passWordAttempt = scnr.next();\r\n        if (customerU.getPassWord().equals(passWordAttempt)) {\r\n            System.out.println(&quot;Welcome &quot; + customerU.getFullName());\r\n            if (customerU instanceof Admin) {\r\n                Customer customerInUse = customerU;\r\n                adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n            }\r\n            Customer customerInUse = customerU;\r\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n        }\r\n        throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\r\n    }\r\n    throw new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n}\r\n```\r\n\r\nYour first _if-conitional_ statement is the following.\r\n\r\n```java\r\nif (customerU.getUserName().equals(userNameAttempt))\r\n```\r\n\r\nWhich, if not met, will skip directly to your throw for _IllegalArgumentException_.  \r\nAnd, at that rate, even if the _if-conditional_ was met, upon exit of the code block, the _exception_ would be thrown.\r\n\r\n```java\r\nthrow new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n```\r\n\r\nThus, if the first _Customer_ within _carDealership.getCustomerList()_ does not match _userNameAttempt_, the _exception_ will be thrown.\r\n\r\nI recommend re-ordering your code, as follows.\r\n\r\nWe&#39;ll need to capture whether the _userNameAttempt_ was found or not.  \r\nSo, I&#39;ve added a _boolean_ value, named _&quot;found&quot;_, that we&#39;ll assign as _true_ when the _if-conditional_ is met.\r\n\r\nI then placed it&#39;s accompanying _IllegalArgumentException_ outside of the _for-loop_, under the condition that _found == false_&amp;mdash; which can also be written as, _!found_.\r\n\r\nFurthermore, I inverted the _if-conditional_ for the _passWordAttempt_ evaluation.  \r\nThus, having it throw the _exception_ if the password is not a match.  \r\nTherefore, any code after would be under the condition that the password _was_ a match.\r\n\r\nI then placed a _break_ keyword within the conditional scope, to exit the _for-loop_&amp;mdash;since subsequent iterations would be erroneous.\r\n\r\nAnd, finally, you need to create a distinction between whether _customerU_ is an instance of _Admin_ or not.  \r\nSo, the _if-conditional_ here now includes an _else_ block.\r\n\r\nFeel free to provide feedback, as I cannot run the code.\r\n\r\n```java\r\nboolean found = false;\r\nfor (Customer customerU : carDealership.getCustomerList()) {\r\n    if (customerU.getUserName().equals(userNameAttempt)) {\r\n        found = true;\r\n        System.out.println(&quot;Enter password:&quot;);\r\n        passWordAttempt = scnr.next();\r\n        if (!customerU.getPassWord().equals(passWordAttempt))\r\n            throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\r\n        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\r\n        Customer customerInUse = customerU;\r\n        if (customerU instanceof Admin) {\r\n            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n        } else {\r\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n        }\r\n        break;\r\n    }\r\n}\r\nif (!found) throw new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n```","title":"Why does my sign in function only work for one user in my CSV file with usernames and passwords?","body":"<p>There are a few thing to consider with your code.</p>\n<p>Here is the <em>customerU</em> <em>for-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Customer customerU : carDealership.getCustomerList()) {\n    if (customerU.getUserName().equals(userNameAttempt)) {\n        System.out.println(&quot;Enter password:&quot;);\n        passWordAttempt = scnr.next();\n        if (customerU.getPassWord().equals(passWordAttempt)) {\n            System.out.println(&quot;Welcome &quot; + customerU.getFullName());\n            if (customerU instanceof Admin) {\n                Customer customerInUse = customerU;\n                adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n            }\n            Customer customerInUse = customerU;\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n        }\n        throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\n    }\n    throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n}\n</code></pre>\n<p>Your first <em>if-conitional</em> statement is the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (customerU.getUserName().equals(userNameAttempt))\n</code></pre>\n<p>Which, if not met, will skip directly to your throw for <em>IllegalArgumentException</em>.<br />\nAnd, at that rate, even if the <em>if-conditional</em> was met, upon exit of the code block, the <em>exception</em> would be thrown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n</code></pre>\n<p>Thus, if the first <em>Customer</em> within <em>carDealership.getCustomerList()</em> does not match <em>userNameAttempt</em>, the <em>exception</em> will be thrown.</p>\n<p>I recommend re-ordering your code, as follows.</p>\n<p>We'll need to capture whether the <em>userNameAttempt</em> was found or not.<br />\nSo, I've added a <em>boolean</em> value, named <em>&quot;found&quot;</em>, that we'll assign as <em>true</em> when the <em>if-conditional</em> is met.</p>\n<p>I then placed it's accompanying <em>IllegalArgumentException</em> outside of the <em>for-loop</em>, under the condition that <em>found == false</em>‚Äî which can also be written as, <em>!found</em>.</p>\n<p>Furthermore, I inverted the <em>if-conditional</em> for the <em>passWordAttempt</em> evaluation.<br />\nThus, having it throw the <em>exception</em> if the password is not a match.<br />\nTherefore, any code after would be under the condition that the password <em>was</em> a match.</p>\n<p>I then placed a <em>break</em> keyword within the conditional scope, to exit the <em>for-loop</em>‚Äîsince subsequent iterations would be erroneous.</p>\n<p>And, finally, you need to create a distinction between whether <em>customerU</em> is an instance of <em>Admin</em> or not.<br />\nSo, the <em>if-conditional</em> here now includes an <em>else</em> block.</p>\n<p>Feel free to provide feedback, as I cannot run the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean found = false;\nfor (Customer customerU : carDealership.getCustomerList()) {\n    if (customerU.getUserName().equals(userNameAttempt)) {\n        found = true;\n        System.out.println(&quot;Enter password:&quot;);\n        passWordAttempt = scnr.next();\n        if (!customerU.getPassWord().equals(passWordAttempt))\n            throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\n        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\n        Customer customerInUse = customerU;\n        if (customerU instanceof Admin) {\n            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n        } else {\n            customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n        }\n        break;\n    }\n}\nif (!found) throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n</code></pre>\n"}],"owner":{"account_id":28723807,"reputation":3,"user_id":21997018,"display_name":"Kevin Manoj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76378610,"answer_count":2,"score":-1,"last_activity_date":1685627602,"creation_date":1685584202,"question_id":76378207,"body_markdown":"I have a csv file that holds all the customers and admins of my car dealership and one of the pieces of information is a username and password. I have a sign in function where the user inputs their username and password and I use a for loop to see if the user is typing the correct credentials. I tried signing into one of my accounts which worked. However, I tried to sign into any other account and it doesnt work the same way. Below is the sign in function.\r\n\r\n\r\n```\r\nprivate static void signIn(CarDealership carDealership, Scanner scnr, ArrayList&lt;Customer&gt; customerList, Car carInUse) //method used to sign in\r\n    {\r\n        String userNameAttempt;\r\n        String passWordAttempt;\r\n        try {\r\n            System.out.println(&quot;Enter username:&quot;);\r\n            userNameAttempt = scnr.next();\r\n            for (Customer customerU : carDealership.getCustomerList()) {\r\n                if (customerU.getUserName().equals(userNameAttempt)) {\r\n                    System.out.println(&quot;Enter password:&quot;);\r\n                    passWordAttempt = scnr.next();\r\n                    if (customerU.getPassWord().equals(passWordAttempt)) {\r\n                        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\r\n                        if (customerU instanceof Admin) {\r\n                            Customer customerInUse = customerU;\r\n                            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n                        }\r\n                        Customer customerInUse = customerU;\r\n                        customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\r\n                    }\r\n                    throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\r\n                }\r\n                throw new IllegalArgumentException(&quot;username does not exist. &quot;);\r\n            }\r\n        } catch (IllegalArgumentException ex) {\r\n            System.out.println(ex.getMessage() + &quot;Would you like to retry?(1) register yourself?(2) or go back?(3) &quot;);\r\n            int input = scnr.nextInt();\r\n\r\n            switch (input) {\r\n                case 1 -&gt; {\r\n                    System.out.println(&quot;-----------------------------------&quot;);\r\n                    signIn(carDealership, scnr, customerList, carInUse);\r\n                    break;\r\n                }\r\n                case 2 -&gt; {\r\n                    System.out.println(&quot;-----------------------------------&quot;);\r\n                    registerCustomer(carDealership, scnr, customerList, carInUse);\r\n                    break;\r\n                }\r\n                case 3 -&gt; {\r\n                    System.out.println(&quot;-----------------------------------&quot;);\r\n                    beginningSite(carDealership, scnr, customerList, carInUse);\r\n                    break;\r\n                }\r\n                default -&gt; {\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nI will say that maybe the reason one of the customers works while the others doesnt is because its the first user in the csv file. How do I make it do the for loop checks every user then throws the exceptions?\r\n\r\n\r\nI did try moving the throws higher but it just made the password throw work before even asking the user for their password.","title":"Why does my sign in function only work for one user in my CSV file with usernames and passwords?","body":"<p>I have a csv file that holds all the customers and admins of my car dealership and one of the pieces of information is a username and password. I have a sign in function where the user inputs their username and password and I use a for loop to see if the user is typing the correct credentials. I tried signing into one of my accounts which worked. However, I tried to sign into any other account and it doesnt work the same way. Below is the sign in function.</p>\n<pre><code>private static void signIn(CarDealership carDealership, Scanner scnr, ArrayList&lt;Customer&gt; customerList, Car carInUse) //method used to sign in\n    {\n        String userNameAttempt;\n        String passWordAttempt;\n        try {\n            System.out.println(&quot;Enter username:&quot;);\n            userNameAttempt = scnr.next();\n            for (Customer customerU : carDealership.getCustomerList()) {\n                if (customerU.getUserName().equals(userNameAttempt)) {\n                    System.out.println(&quot;Enter password:&quot;);\n                    passWordAttempt = scnr.next();\n                    if (customerU.getPassWord().equals(passWordAttempt)) {\n                        System.out.println(&quot;Welcome &quot; + customerU.getFullName());\n                        if (customerU instanceof Admin) {\n                            Customer customerInUse = customerU;\n                            adminMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n                        }\n                        Customer customerInUse = customerU;\n                        customerMainMenu(carDealership, scnr, customerInUse, customerList, carInUse);\n                    }\n                    throw new IllegalArgumentException(&quot;password is incorrect. &quot;);\n                }\n                throw new IllegalArgumentException(&quot;username does not exist. &quot;);\n            }\n        } catch (IllegalArgumentException ex) {\n            System.out.println(ex.getMessage() + &quot;Would you like to retry?(1) register yourself?(2) or go back?(3) &quot;);\n            int input = scnr.nextInt();\n\n            switch (input) {\n                case 1 -&gt; {\n                    System.out.println(&quot;-----------------------------------&quot;);\n                    signIn(carDealership, scnr, customerList, carInUse);\n                    break;\n                }\n                case 2 -&gt; {\n                    System.out.println(&quot;-----------------------------------&quot;);\n                    registerCustomer(carDealership, scnr, customerList, carInUse);\n                    break;\n                }\n                case 3 -&gt; {\n                    System.out.println(&quot;-----------------------------------&quot;);\n                    beginningSite(carDealership, scnr, customerList, carInUse);\n                    break;\n                }\n                default -&gt; {\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I will say that maybe the reason one of the customers works while the others doesnt is because its the first user in the csv file. How do I make it do the for loop checks every user then throws the exceptions?</p>\n<p>I did try moving the throws higher but it just made the password throw work before even asking the user for their password.</p>\n"},{"tags":["java","android","android-productflavors","android-build-flavors","android-flavors"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685621259,"post_id":76380803,"comment_id":134687487,"body_markdown":"The flavor directories are added in addition to the standard directories in `app/src/main/java`. And you don&#39;t have to specify the directories, it is just `app/src/&lt;flavorname&gt;/main/java` and `app/src/&lt;flavorname&gt;/res`. You just have to create those directories.","body":"The flavor directories are added in addition to the standard directories in <code>app&#47;src&#47;main&#47;java</code>. And you don&#39;t have to specify the directories, it is just <code>app&#47;src&#47;&lt;flavorname&gt;&#47;main&#47;java</code> and <code>app&#47;src&#47;&lt;flavorname&gt;&#47;res</code>. You just have to create those directories."},{"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"score":0,"creation_date":1685627925,"post_id":76380803,"comment_id":134689291,"body_markdown":"I created those directories myself because there were no directories after I specified the sourceSets. If you could give me a detailed explanation, step by step, I would much appreciate it. Thank you.\nPlease note that I do not want redundant classes. Let&#39;s say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E only for RootFlavor and and Class F only for RootlessFlavor.","body":"I created those directories myself because there were no directories after I specified the sourceSets. If you could give me a detailed explanation, step by step, I would much appreciate it. Thank you. Please note that I do not want redundant classes. Let&#39;s say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E only for RootFlavor and and Class F only for RootlessFlavor."}],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685627486,"creation_date":1685613999,"question_id":76380803,"body_markdown":"I have two almost identical android projects that performs some tasks (heavy ones since I am using openCV) with the use of root permissions or simply without root. \r\nI want to use flavors since it gets boring handling two projects.\r\n\r\nI have plenty of classes that are identical, regardless of the flavor, so I want to share those classes with both flavors. \r\nFor classes/files that are unique (like MainActivity, layouts and AndroidManifest ) I would like of course to have each file for flavor.\r\n\r\n   \r\n\r\n     flavorDimensions &quot;default&quot;\r\n    \r\n     productFlavors {\r\n    \r\n            freeVersion {\r\n                dimension &quot;default&quot;\r\n                applicationIdSuffix &quot;.root&quot;\r\n            }\r\n    \r\n            proVersion {\r\n                dimension &quot;default&quot;\r\n                applicationIdSuffix &quot;.rootless&quot;\r\n            }\r\n        }\r\n\r\n      sourceSets {\r\n            RootFlavor {\r\n                res {\r\n                    srcDirs &#39;src/RootFlavor/res&#39;\r\n                }\r\n                java {\r\n                    srcDirs &#39;src/RootFlavor/java&#39;\r\n                }\r\n            }\r\n            RootlesFlavor {\r\n                res {\r\n                    srcDirs &#39;src/RootlesFlavor/res&#39;\r\n                }\r\n                java {\r\n                    srcDirs &#39;src/RootlesFlavor/java&#39;\r\n                }\r\n            }\r\n\r\n\r\nBut for some reason the folders don&#39;t appear in my project. Furthermore this way I would need also to have redundant classes (the ones that are identical) in each src subfolder. So how to achieve what I am saying?\r\n\r\n\r\nEdit:\r\n\r\nLet&#39;s say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E for RootFlavor and and Class F for RootlessFlavor.","title":"Sharing code for root version and rootless version with flavors","body":"<p>I have two almost identical android projects that performs some tasks (heavy ones since I am using openCV) with the use of root permissions or simply without root.\nI want to use flavors since it gets boring handling two projects.</p>\n<p>I have plenty of classes that are identical, regardless of the flavor, so I want to share those classes with both flavors.\nFor classes/files that are unique (like MainActivity, layouts and AndroidManifest ) I would like of course to have each file for flavor.</p>\n<pre><code> flavorDimensions &quot;default&quot;\n\n productFlavors {\n\n        freeVersion {\n            dimension &quot;default&quot;\n            applicationIdSuffix &quot;.root&quot;\n        }\n\n        proVersion {\n            dimension &quot;default&quot;\n            applicationIdSuffix &quot;.rootless&quot;\n        }\n    }\n\n  sourceSets {\n        RootFlavor {\n            res {\n                srcDirs 'src/RootFlavor/res'\n            }\n            java {\n                srcDirs 'src/RootFlavor/java'\n            }\n        }\n        RootlesFlavor {\n            res {\n                srcDirs 'src/RootlesFlavor/res'\n            }\n            java {\n                srcDirs 'src/RootlesFlavor/java'\n            }\n        }\n</code></pre>\n<p>But for some reason the folders don't appear in my project. Furthermore this way I would need also to have redundant classes (the ones that are identical) in each src subfolder. So how to achieve what I am saying?</p>\n<p>Edit:</p>\n<p>Let's say I have Classes A, B, C, D, E, F. I want to share classes A, B, C and D for both flavors. Class E for RootFlavor and and Class F for RootlessFlavor.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685627431,"creation_date":1685627431,"answer_id":76382613,"question_id":76380276,"body_markdown":"There are several mistakes in the code.\r\n\r\n**Always use subscription**\r\n\r\nMutiny as a reative and event driven library is using lazy evaluated events and subscriptions to run asynchronous code. That means, any operation without subscription will never run. \r\n\r\n```java\r\nUni.createFrom().voidItem().invoke(() -&gt; {\r\n    LOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n    try {\r\n        LOG.info(&quot;marked as printed&quot;);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    LOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\r\n}).emitOn(executor).subscribe().with(\r\n        item -&gt; LOG.info(&quot;Finished&quot;),\r\n        failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\r\n);\r\n```\r\n\r\nNOTE: other methods are available e.q. `onItem()`, `onFailure()` and so on.\r\n\r\nThe output is:\r\n\r\n```none\r\n2023-06-01 15:11:58,545 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Received markSeatsAsPrinted event\r\n2023-06-01 15:11:58,548 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Start long running mark tickets as printed job\r\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) marked as printed\r\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) End long running mark tickets as printed job\r\n2023-06-01 15:11:58,551 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\r\n```\r\n\r\n**Never block the event loop**\r\n\r\nAs you can see the previous operation was executed on `event-loop` thread pool. As a golden rule you should never block the event loop. When you have to run some blocking operations (e.g database modifications) or other long running tasks it has to be propagated to worker threads. Using  `@Blocking` annotation on the method Quarkus will run that on worker thread.\r\n\r\n```java\r\n@ConsumeEvent(&quot;greeting&quot;)\r\n@Blocking\r\npublic void markSeatsAsPrinted(String bookingId) {\r\n    LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\r\n    Uni.createFrom().voidItem().invoke(() -&gt; {\r\n                LOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n                try {\r\n                    printer.doSome(bookingId);\r\n                    LOG.info(&quot;marked as printed&quot;);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                LOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\r\n            }).emitOn(executor).\r\n            subscribe().with(\r\n                    item -&gt; LOG.info(&quot;Finished&quot;),\r\n                    failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\r\n            );\r\n}\r\n```\r\nNow, the log output is:\r\n\r\n```none\r\n2023-06-01 15:29:08,177 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Received markSeatsAsPrinted event\r\n2023-06-01 15:29:08,179 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Start long running mark tickets as printed job\r\n2023-06-01 15:29:08,180 INFO  [com.exa.SomePrinter] (vert.x-worker-thread-1) Printing\r\n2023-06-01 15:29:08,181 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) marked as printed\r\n2023-06-01 15:29:08,182 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) End long running mark tickets as printed job\r\n2023-06-01 15:29:08,183 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\r\n```\r\n\r\n**Suggestion: Use custom worker instead of event bus**\r\n\r\nAs I understood the business requirement by the code I don&#39;t think eventbus is the perfect solution. Probably I&#39;m wrong, but I prefer to create separated worker for the pdf generation.\r\n\r\nHere is a ground work.\r\n\r\n```java\r\n@Singleton\r\n@Startup\r\npublic class CustomWorker {\r\n\r\n    private static final Logger LOG = Logger.getLogger(CustomWorker.class);\r\n\r\n    private final WorkerExecutor executor;\r\n\r\n    CustomWorker(Vertx vertx) {\r\n        executor = vertx.createSharedWorkerExecutor(&quot;pdf-printer&quot;);\r\n    }\r\n\r\n    void tearDown(@Observes ShutdownEvent ev) {\r\n        executor.close();\r\n    }\r\n\r\n    public void markSeatsAsPrinted(String bookingId) {\r\n\r\n        LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\r\n        executor.executeBlocking(promise -&gt; {\r\n            LOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n            try {\r\n                // Block thread for 5 seconds\r\n                Thread.sleep(5000L);\r\n                LOG.info(&quot;marked as printed&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            LOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n            promise.complete();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Path(&quot;/booking&quot;)\r\npublic class ExampleResource {\r\n\r\n    private static final Logger LOG = Logger.getLogger(ExampleResource.class);\r\n\r\n    @Inject\r\n    CustomWorker worker;\r\n\r\n    @GET\r\n    @Path(&quot;/{bookingId}/print-tickets/&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) {\r\n\r\n        LOG.info(&quot;Got request&quot;);\r\n\r\n        // I did&#39;t implement so much (e.g. DAO logic)\r\n        var booking = new Booking(bookingId);\r\n        //....\r\n        PdfTicket pdfTicket = new PdfTicket(bookingId);\r\n\r\n        //this is the code which should run in background and the REST call should NOT wait vor the result\r\n        if (booking.hasFixedSeatingTickets()) {\r\n            worker.markSeatsAsPrinted(booking.getBookingId());\r\n        }\r\n\r\n        LOG.info(&quot;Return response&quot;);\r\n        return pdfTicket;\r\n    }\r\n}\r\n```\r\n\r\nThe outout is:\r\n\r\n```none\r\n2023-06-01 15:43:05,127 INFO  [com.exa.ExampleResource] (executor-thread-1) Got request\r\n2023-06-01 15:43:05,128 INFO  [com.exa.CustomWorker] (executor-thread-1) Received markSeatsAsPrinted event\r\n2023-06-01 15:43:05,130 INFO  [com.exa.ExampleResource] (executor-thread-1) Return response\r\n2023-06-01 15:43:05,130 INFO  [com.exa.CustomWorker] (pdf-printer-1) Start long running mark tickets as printed job\r\n2023-06-01 15:43:10,131 INFO  [com.exa.CustomWorker] (pdf-printer-1) marked as printed\r\n2023-06-01 15:43:10,132 INFO  [com.exa.CustomWorker] (pdf-printer-1) End long running mark tickets as printed job\r\n```\r\n\r\nOf course, `WorkerExecutor` is customizable. You can also set `poolSize` and `maxExecutionTime` if it needed.","title":"Execute background job with quarkus and don&#39;t wait for result","body":"<p>There are several mistakes in the code.</p>\n<p><strong>Always use subscription</strong></p>\n<p>Mutiny as a reative and event driven library is using lazy evaluated events and subscriptions to run asynchronous code. That means, any operation without subscription will never run.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uni.createFrom().voidItem().invoke(() -&gt; {\n    LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n    try {\n        LOG.info(&quot;marked as printed&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    LOG.info(&quot;End long running mark tickets as printed job&quot;);\n\n}).emitOn(executor).subscribe().with(\n        item -&gt; LOG.info(&quot;Finished&quot;),\n        failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\n);\n</code></pre>\n<p>NOTE: other methods are available e.q. <code>onItem()</code>, <code>onFailure()</code> and so on.</p>\n<p>The output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-01 15:11:58,545 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Received markSeatsAsPrinted event\n2023-06-01 15:11:58,548 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) Start long running mark tickets as printed job\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) marked as printed\n2023-06-01 15:11:58,549 INFO  [com.exa.TestRunner] (vert.x-eventloop-thread-9) End long running mark tickets as printed job\n2023-06-01 15:11:58,551 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\n</code></pre>\n<p><strong>Never block the event loop</strong></p>\n<p>As you can see the previous operation was executed on <code>event-loop</code> thread pool. As a golden rule you should never block the event loop. When you have to run some blocking operations (e.g database modifications) or other long running tasks it has to be propagated to worker threads. Using  <code>@Blocking</code> annotation on the method Quarkus will run that on worker thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConsumeEvent(&quot;greeting&quot;)\n@Blocking\npublic void markSeatsAsPrinted(String bookingId) {\n    LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\n    Uni.createFrom().voidItem().invoke(() -&gt; {\n                LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n                try {\n                    printer.doSome(bookingId);\n                    LOG.info(&quot;marked as printed&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                LOG.info(&quot;End long running mark tickets as printed job&quot;);\n\n            }).emitOn(executor).\n            subscribe().with(\n                    item -&gt; LOG.info(&quot;Finished&quot;),\n                    failure -&gt; LOG.error(&quot;Failed with &quot; + failure)\n            );\n}\n</code></pre>\n<p>Now, the log output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-01 15:29:08,177 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Received markSeatsAsPrinted event\n2023-06-01 15:29:08,179 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) Start long running mark tickets as printed job\n2023-06-01 15:29:08,180 INFO  [com.exa.SomePrinter] (vert.x-worker-thread-1) Printing\n2023-06-01 15:29:08,181 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) marked as printed\n2023-06-01 15:29:08,182 INFO  [com.exa.TestRunner] (vert.x-worker-thread-1) End long running mark tickets as printed job\n2023-06-01 15:29:08,183 INFO  [com.exa.TestRunner] (executor-thread-1) Finished\n</code></pre>\n<p><strong>Suggestion: Use custom worker instead of event bus</strong></p>\n<p>As I understood the business requirement by the code I don't think eventbus is the perfect solution. Probably I'm wrong, but I prefer to create separated worker for the pdf generation.</p>\n<p>Here is a ground work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\n@Startup\npublic class CustomWorker {\n\n    private static final Logger LOG = Logger.getLogger(CustomWorker.class);\n\n    private final WorkerExecutor executor;\n\n    CustomWorker(Vertx vertx) {\n        executor = vertx.createSharedWorkerExecutor(&quot;pdf-printer&quot;);\n    }\n\n    void tearDown(@Observes ShutdownEvent ev) {\n        executor.close();\n    }\n\n    public void markSeatsAsPrinted(String bookingId) {\n\n        LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\n        executor.executeBlocking(promise -&gt; {\n            LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n            try {\n                // Block thread for 5 seconds\n                Thread.sleep(5000L);\n                LOG.info(&quot;marked as printed&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            LOG.info(&quot;End long running mark tickets as printed job&quot;);\n            promise.complete();\n        });\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/booking&quot;)\npublic class ExampleResource {\n\n    private static final Logger LOG = Logger.getLogger(ExampleResource.class);\n\n    @Inject\n    CustomWorker worker;\n\n    @GET\n    @Path(&quot;/{bookingId}/print-tickets/&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) {\n\n        LOG.info(&quot;Got request&quot;);\n\n        // I did't implement so much (e.g. DAO logic)\n        var booking = new Booking(bookingId);\n        //....\n        PdfTicket pdfTicket = new PdfTicket(bookingId);\n\n        //this is the code which should run in background and the REST call should NOT wait vor the result\n        if (booking.hasFixedSeatingTickets()) {\n            worker.markSeatsAsPrinted(booking.getBookingId());\n        }\n\n        LOG.info(&quot;Return response&quot;);\n        return pdfTicket;\n    }\n}\n</code></pre>\n<p>The outout is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-06-01 15:43:05,127 INFO  [com.exa.ExampleResource] (executor-thread-1) Got request\n2023-06-01 15:43:05,128 INFO  [com.exa.CustomWorker] (executor-thread-1) Received markSeatsAsPrinted event\n2023-06-01 15:43:05,130 INFO  [com.exa.ExampleResource] (executor-thread-1) Return response\n2023-06-01 15:43:05,130 INFO  [com.exa.CustomWorker] (pdf-printer-1) Start long running mark tickets as printed job\n2023-06-01 15:43:10,131 INFO  [com.exa.CustomWorker] (pdf-printer-1) marked as printed\n2023-06-01 15:43:10,132 INFO  [com.exa.CustomWorker] (pdf-printer-1) End long running mark tickets as printed job\n</code></pre>\n<p>Of course, <code>WorkerExecutor</code> is customizable. You can also set <code>poolSize</code> and <code>maxExecutionTime</code> if it needed.</p>\n"}],"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76382613,"answer_count":1,"score":0,"last_activity_date":1685627431,"creation_date":1685610118,"question_id":76380276,"body_markdown":"My problem is, that I have a quarkus REST webservice which executes some tasks in a blocking/sequential way and then I want to execute a longer running task none blocking, but I found no running solution.\r\n\r\nSo the webservice looks like that (simplyfied!:\r\n\r\n    import io.vertx.mutiny.core.eventbus.EventBus;\r\n\r\n\t@Path(&quot;/booking&quot;)\r\n\t@ApplicationScoped\r\n\tpublic class BookingResource {\r\n\r\n\t    @Inject\r\n    \tEventBus eventBus;\r\n\r\n\t\t@POST\r\n\t\t@Path(&quot;/{bookingId}/print-tickets/&quot;)\r\n\t\t@Produces(MediaType.APPLICATION_JSON)\r\n\t\tpublic PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) throws Exception {\r\n\r\n\t\t\tvar optBooking = daoBooking.getBookingDetailsById(bookingId);\r\n\t\t\t//....\r\n\t\t\tvar eventOpt = daoEvent.getEventById(booking.getEventId());\r\n\t\t\t//...\r\n\t\t\tPdfTicket pdfTicket = myconverter(optBooking, eventOpt); //Some magic code which I removed here\r\n\t\t\r\n\t\t\t//this is the code which should run in background and the REST call should NOT wait vor the result\r\n\t\t\tif (booking.hasFixedSeatingTickets()) {\r\n\t\t\t\t// Mark seats as printed, so the fixed seats are not re-assigned to other guests\r\n\t\t\t\teventBus.requestAndForget(&quot;greeting&quot;, booking.getBookingId());\r\n\t\t\t}\r\n\t\t\treturn pdfTicket;\r\n\t\t}\r\n\t}\r\n\r\n\r\nI tried simple java threads, I tried Mutinity and lastly I tried the quarkus eventbus approach which you can see in the code above.\r\nSo here I am sending a message to &quot;greeting&quot;. I consume the event like that:\r\n\r\n\timport io.quarkus.vertx.ConsumeEvent;\r\n\timport io.smallrye.mutiny.Uni;\r\n\r\n\t@ApplicationScoped\r\n\tpublic class TestResource {\r\n\t\tprivate static final Logger LOG = Logger.getLogger(TestResource.class);\r\n\r\n\t\t@Inject\r\n\t\tprivate DaoBooking daoBooking;\r\n\r\n\t\t@Inject\r\n\t\tManagedExecutor executor;\r\n\r\n\t\t@ConsumeEvent(&quot;greeting&quot;)\r\n\t\tpublic void markSeatsAsPrinted(String bookingId) {\r\n\t\t\tLOG.info(&quot;Received markSeatsAsPrinted event&quot;);\r\n\t\t\tUni.createFrom().voidItem().invoke(() -&gt; {\r\n\t\t\t\tLOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdaoBooking.markSeatsAsPrinted(bookingId);\r\n\t\t\t\t} catch (FileMakerException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tLOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\r\n\t\t\t}).emitOn(executor);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nAccording to https://quarkus.io/guides/reactive-event-bus when the method returns `void` the calling service should NOT wait for the result. \r\n\r\nNow, when I call my REST service, I can see in the log &quot;Received markSeatsAsPrinted event&quot; but never &quot;Start long running mark tickets as printed job&quot;. So the code in the Uni block is just not executed.\r\n\r\nWhen I change my code to return a `Uni&lt;Boolean&gt;` like that:\r\n\r\n\t@ConsumeEvent(&quot;greeting&quot;)\r\n\tpublic Uni&lt;Boolean&gt; markSeatsAsPrinted(String bookingId) {\r\n\t\tLOG.info(&quot;Received markSeatsAsPrinted event&quot;);;\r\n\t\treturn Uni.createFrom().item(() -&gt; {\r\n\t\t\tLOG.info(&quot;Start long running mark tickets as printed job&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tdaoBooking.markSeatsAsPrinted(bookingId);\r\n\t\t\t} catch (FileMakerException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tLOG.info(&quot;End long running mark tickets as printed job&quot;);\r\n\t\t\treturn true;\r\n\r\n\t\t}).emitOn(executor);\r\n\r\n\t}\r\n\r\nthen the logfile does display &quot;Start long running mark tickets as printed job&quot; but now, also my main REST service blocks until the event is fully processed (which takes 10 seconds, so I have to do it in the background).\r\n\r\nWhat is wrong here?\r\nAlso, I had the same behaviour, when I did not use quarkus event bus but the Uni/Executor stuff in a simple method. Also, using Java Threads did not work because quarkus waited until the thread was finished with the REST response.\r\n\r\nAt the end of the day I just want to have that task which takes so much time running in background without waiting for the answer in the REST call. \r\n\r\nPlease help :-)\r\n\r\nThank you,\r\nschube","title":"Execute background job with quarkus and don&#39;t wait for result","body":"<p>My problem is, that I have a quarkus REST webservice which executes some tasks in a blocking/sequential way and then I want to execute a longer running task none blocking, but I found no running solution.</p>\n<p>So the webservice looks like that (simplyfied!:</p>\n<pre><code>import io.vertx.mutiny.core.eventbus.EventBus;\n\n@Path(&quot;/booking&quot;)\n@ApplicationScoped\npublic class BookingResource {\n\n    @Inject\n    EventBus eventBus;\n\n    @POST\n    @Path(&quot;/{bookingId}/print-tickets/&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public PdfTicket printTickets(@PathParam(&quot;bookingId&quot;) String bookingId) throws Exception {\n\n        var optBooking = daoBooking.getBookingDetailsById(bookingId);\n        //....\n        var eventOpt = daoEvent.getEventById(booking.getEventId());\n        //...\n        PdfTicket pdfTicket = myconverter(optBooking, eventOpt); //Some magic code which I removed here\n    \n        //this is the code which should run in background and the REST call should NOT wait vor the result\n        if (booking.hasFixedSeatingTickets()) {\n            // Mark seats as printed, so the fixed seats are not re-assigned to other guests\n            eventBus.requestAndForget(&quot;greeting&quot;, booking.getBookingId());\n        }\n        return pdfTicket;\n    }\n}\n</code></pre>\n<p>I tried simple java threads, I tried Mutinity and lastly I tried the quarkus eventbus approach which you can see in the code above.\nSo here I am sending a message to &quot;greeting&quot;. I consume the event like that:</p>\n<pre><code>import io.quarkus.vertx.ConsumeEvent;\nimport io.smallrye.mutiny.Uni;\n\n@ApplicationScoped\npublic class TestResource {\n    private static final Logger LOG = Logger.getLogger(TestResource.class);\n\n    @Inject\n    private DaoBooking daoBooking;\n\n    @Inject\n    ManagedExecutor executor;\n\n    @ConsumeEvent(&quot;greeting&quot;)\n    public void markSeatsAsPrinted(String bookingId) {\n        LOG.info(&quot;Received markSeatsAsPrinted event&quot;);\n        Uni.createFrom().voidItem().invoke(() -&gt; {\n            LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n            try {\n                daoBooking.markSeatsAsPrinted(bookingId);\n            } catch (FileMakerException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            LOG.info(&quot;End long running mark tickets as printed job&quot;);\n\n        }).emitOn(executor);\n\n    }\n\n}\n</code></pre>\n<p>According to <a href=\"https://quarkus.io/guides/reactive-event-bus\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/reactive-event-bus</a> when the method returns <code>void</code> the calling service should NOT wait for the result.</p>\n<p>Now, when I call my REST service, I can see in the log &quot;Received markSeatsAsPrinted event&quot; but never &quot;Start long running mark tickets as printed job&quot;. So the code in the Uni block is just not executed.</p>\n<p>When I change my code to return a <code>Uni&lt;Boolean&gt;</code> like that:</p>\n<pre><code>@ConsumeEvent(&quot;greeting&quot;)\npublic Uni&lt;Boolean&gt; markSeatsAsPrinted(String bookingId) {\n    LOG.info(&quot;Received markSeatsAsPrinted event&quot;);;\n    return Uni.createFrom().item(() -&gt; {\n        LOG.info(&quot;Start long running mark tickets as printed job&quot;);\n        try {\n            daoBooking.markSeatsAsPrinted(bookingId);\n        } catch (FileMakerException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        LOG.info(&quot;End long running mark tickets as printed job&quot;);\n        return true;\n\n    }).emitOn(executor);\n\n}\n</code></pre>\n<p>then the logfile does display &quot;Start long running mark tickets as printed job&quot; but now, also my main REST service blocks until the event is fully processed (which takes 10 seconds, so I have to do it in the background).</p>\n<p>What is wrong here?\nAlso, I had the same behaviour, when I did not use quarkus event bus but the Uni/Executor stuff in a simple method. Also, using Java Threads did not work because quarkus waited until the thread was finished with the REST response.</p>\n<p>At the end of the day I just want to have that task which takes so much time running in background without waiting for the answer in the REST call.</p>\n<p>Please help :-)</p>\n<p>Thank you,\nschube</p>\n"},{"tags":["java","object","equals"],"comments":[{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1685360283,"post_id":76356971,"comment_id":134645367,"body_markdown":"Does this answer your question? [how do I correctly override equals for inheritance in java?](https://stackoverflow.com/questions/9885773/how-do-i-correctly-override-equals-for-inheritance-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9885773/how-do-i-correctly-override-equals-for-inheritance-in-java\">how do I correctly override equals for inheritance in java?</a>"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeƒçek"},"score":1,"creation_date":1685360585,"post_id":76356971,"comment_id":134645408,"body_markdown":"This generally tends to be solved by `if (other.getClass != Date.class) return false` instead of the instanceof check, but it has its own problems (read Effective Java article 3.10). In general, please think about the symmetry, what should happen when date.equals(dateT), or dateT.eqauls(date) and if they should ever be equal, e.g. when somebody daoes `Date haha = dateT;` and then expects `date.equals(haha)` when the date components match.","body":"This generally tends to be solved by <code>if (other.getClass != Date.class) return false</code> instead of the instanceof check, but it has its own problems (read Effective Java article 3.10). In general, please think about the symmetry, what should happen when date.equals(dateT), or dateT.eqauls(date) and if they should ever be equal, e.g. when somebody daoes <code>Date haha = dateT;</code> and then expects <code>date.equals(haha)</code> when the date components match."},{"owner":{"account_id":28698013,"reputation":11,"user_id":21975806,"display_name":"nelad"},"score":0,"creation_date":1685361120,"post_id":76356971,"comment_id":134645511,"body_markdown":"I can&#39;t use getClass in the assignment","body":"I can&#39;t use getClass in the assignment"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685374801,"post_id":76356971,"comment_id":134648125,"body_markdown":"@nelad  *`&quot;I can&#39;t use getClass in the assignment&quot;`*  You didn&#39;t list that as one of  your constraints.  Can you be more general about what is or is not permitted.  Otherwise we are just guessing.","body":"@nelad  <i><code>&quot;I can&#39;t use getClass in the assignment&quot;</code></i>  You didn&#39;t list that as one of  your constraints.  Can you be more general about what is or is not permitted.  Otherwise we are just guessing."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685377760,"creation_date":1685371106,"answer_id":76358229,"question_id":76356971,"body_markdown":"Assuming I understand the issue, I believe the following should enforce the symmetric and transitive requirements of your `equals` implementations.\r\n\r\nYou need to make sure that you only `properly` compare `Date to Date` and `DateT to DateT`. So have them each return their own class name in `toString()` and check to see that it matches the passed object&#39;s `toString()`.  This is only needed in the `Date` class.\r\n\r\nThe following should meet your requirements as no `Date*` class mentions the other.\r\n\r\nSo in your `DateT` class, put\r\n```\r\n@Override\r\npubic String toString() { \r\n    return &quot;DateT&quot;;\r\n}\r\npublic boolean equals(Object date) {\r\n        if (this == date) { // same object\r\n           return true;\r\n        if (date instanceof DateT d) { // d is now cast as dateT\r\n            return &lt;comparison using DateT values&gt;\r\n        }\r\n        return false;\r\n}\r\n``` \r\nBut since `DateT` is a subtype of `Date`, put this in your `Date` class\r\n```\r\n@Override\r\npublic String toString() {\r\n    return &quot;Date&quot;;\r\n}\r\n\r\npublic boolean equals( Object date) {\r\n  if( this == date) {  // same object\r\n     return true;\r\n  }\r\n  if ((date instanceof Date d) &amp;&amp; date.toString().equals(&quot;Date&quot;)) {\r\n        return &lt;comparison using Date values&gt;\r\n  }\r\n  return false;\r\n}\r\n\r\n``` \r\nNote: As of Java 14 implied casting can be used as follows:\r\n```\r\npublic boolean equals(Object foo) {\r\n  if (foo instanceOf Foo f) { // if true f is now an instance of Foo and\r\n                                  // can be used directly.\r\n   ...\r\n} ","title":"Comparing objects with equals","body":"<p>Assuming I understand the issue, I believe the following should enforce the symmetric and transitive requirements of your <code>equals</code> implementations.</p>\n<p>You need to make sure that you only <code>properly</code> compare <code>Date to Date</code> and <code>DateT to DateT</code>. So have them each return their own class name in <code>toString()</code> and check to see that it matches the passed object's <code>toString()</code>.  This is only needed in the <code>Date</code> class.</p>\n<p>The following should meet your requirements as no <code>Date*</code> class mentions the other.</p>\n<p>So in your <code>DateT</code> class, put</p>\n<pre><code>@Override\npubic String toString() { \n    return &quot;DateT&quot;;\n}\npublic boolean equals(Object date) {\n        if (this == date) { // same object\n           return true;\n        if (date instanceof DateT d) { // d is now cast as dateT\n            return &lt;comparison using DateT values&gt;\n        }\n        return false;\n}\n</code></pre>\n<p>But since <code>DateT</code> is a subtype of <code>Date</code>, put this in your <code>Date</code> class</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;Date&quot;;\n}\n\npublic boolean equals( Object date) {\n  if( this == date) {  // same object\n     return true;\n  }\n  if ((date instanceof Date d) &amp;&amp; date.toString().equals(&quot;Date&quot;)) {\n        return &lt;comparison using Date values&gt;\n  }\n  return false;\n}\n\n</code></pre>\n<p>Note: As of Java 14 implied casting can be used as follows:</p>\n<pre><code>public boolean equals(Object foo) {\n  if (foo instanceOf Foo f) { // if true f is now an instance of Foo and\n                                  // can be used directly.\n   ...\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685380270,"creation_date":1685380270,"answer_id":76359187,"question_id":76356971,"body_markdown":"\r\nThis line `if (!(other instanceof Date))` will always be false when you supply `DateT` type as the argument to `equals` method because `DateT` is a subclass of `Date`. Thus the `return false;` will not be executed and the custom comparison will be checked.\r\n\r\nYou need to do two things before your custom comparison\r\n\r\n 1. Check the argument is not `null`. A `null` can be passed into any derived data type variable.\r\n 2. Return `false` if the argument is not the Canonical Name doesn&#39;t match with your class name (I&#39;m guessing it is `java.util.Date`).\r\n\r\nThis is how the equality should be checked.\r\n\r\n    public boolean equals(Object date) {\r\n    \r\n    \tif(date == null)\r\n    \t\treturn false;\r\n    \t\r\n\t\telse if(date.getClass().getCanonicalName() != &quot;java.util.Date&quot;)\r\n\t\t\treturn false;\r\n    \t\r\n    \telse {\r\n    \t\tDate d = (Date) other;\r\n    \t    return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    \t}\r\n    }","title":"Comparing objects with equals","body":"<p>This line <code>if (!(other instanceof Date))</code> will always be false when you supply <code>DateT</code> type as the argument to <code>equals</code> method because <code>DateT</code> is a subclass of <code>Date</code>. Thus the <code>return false;</code> will not be executed and the custom comparison will be checked.</p>\n<p>You need to do two things before your custom comparison</p>\n<ol>\n<li>Check the argument is not <code>null</code>. A <code>null</code> can be passed into any derived data type variable.</li>\n<li>Return <code>false</code> if the argument is not the Canonical Name doesn't match with your class name (I'm guessing it is <code>java.util.Date</code>).</li>\n</ol>\n<p>This is how the equality should be checked.</p>\n<pre><code>public boolean equals(Object date) {\n\n    if(date == null)\n        return false;\n    \n    else if(date.getClass().getCanonicalName() != &quot;java.util.Date&quot;)\n        return false;\n    \n    else {\n        Date d = (Date) other;\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685391305,"creation_date":1685391305,"answer_id":76360103,"question_id":76356971,"body_markdown":"To negate the comparison using the _DateT_ class, you can first check if the _obj_ parameter is an instance of _DateT_.\r\n\r\nAdditionally, here you can use a _[pattern variable](https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html)_ within the _instanceof_ statement.\r\n\r\n```java\r\nclass Date {\r\n    int years, months, days;\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj instanceof DateT) return false;\r\n        if (obj instanceof Date date) {\r\n            return years == date.years\r\n                &amp;&amp; months == date.months\r\n                &amp;&amp; days == date.days;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nThe sub-class _equals_ can be implemented in two ways, I&#39;m not sure which is more valid.  \r\nEssentially, it _could_ be equivalent if the _hours_ and _minutes_ of the _DateT_ class are _0_.\r\n\r\nIn this case, a _DateT_ will not equal a _Date_.\r\n\r\n```java\r\nclass DateT extends Date {\r\n    int hours, minutes;\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (!(obj instanceof DateT date)) return false;\r\n        return years == date.years\r\n            &amp;&amp; months == date.months\r\n            &amp;&amp; days == date.days\r\n            &amp;&amp; hours == date.hours\r\n            &amp;&amp; minutes == date.minutes;\r\n    }\r\n}\r\n```","title":"Comparing objects with equals","body":"<p>To negate the comparison using the <em>DateT</em> class, you can first check if the <em>obj</em> parameter is an instance of <em>DateT</em>.</p>\n<p>Additionally, here you can use a <em><a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">pattern variable</a></em> within the <em>instanceof</em> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Date {\n    int years, months, days;\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof DateT) return false;\n        if (obj instanceof Date date) {\n            return years == date.years\n                &amp;&amp; months == date.months\n                &amp;&amp; days == date.days;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>The sub-class <em>equals</em> can be implemented in two ways, I'm not sure which is more valid.<br />\nEssentially, it <em>could</em> be equivalent if the <em>hours</em> and <em>minutes</em> of the <em>DateT</em> class are <em>0</em>.</p>\n<p>In this case, a <em>DateT</em> will not equal a <em>Date</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DateT extends Date {\n    int hours, minutes;\n\n    @Override\n    public boolean equals(Object obj) {\n        if (!(obj instanceof DateT date)) return false;\n        return years == date.years\n            &amp;&amp; months == date.months\n            &amp;&amp; days == date.days\n            &amp;&amp; hours == date.hours\n            &amp;&amp; minutes == date.minutes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685627401,"creation_date":1685626661,"answer_id":76382487,"question_id":76356971,"body_markdown":"The answer should be that you shouldn‚Äôt design your software that way. Don‚Äôt look at bad examples, like [`Timestamp`] extending `Date` in an incompatible manner. Rather, look at examples like [`LocalDate`] and [`YearMonth`], which implement common interfaces but are not subclasses of each other.\r\n\r\n---\r\n\r\nBut since this is an *assignment*, here are two ways to solve this:\r\n\r\nThe problem is that the overridden method is invoked on the first object, which does not take into account that the second object might be a subclass. Therefore, split the comparison operation into two methods and invoke the second method on the second object:\r\n\r\n```java\r\nclass Date {\r\n    ‚Ä¶\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return obj instanceof Date &amp;&amp; ((Date)obj).sameDate(this);\r\n    }\r\n\r\n    protected boolean sameDate(Date d) {\r\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    }\r\n}\r\nclass DateT extends Date {\r\n    ‚Ä¶\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return obj instanceof DateT &amp;&amp; ((DateT)obj).sameDate(this);\r\n    }\r\n  \r\n    @Override\r\n    protected boolean sameDate(Date d) {\r\n        return d instanceof DateT &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    }\r\n}\r\n```\r\nThe overridable method `equals` delegates to the overridable method of the method argument, so if either `this` or the argument object is a `DateT`, at least one overridden method will be invoked, enforcing that both objects must be `DateT` to be equal.\r\n\r\nThere‚Äôs a small redundancy when both objects are `DateT`, as the `this` passed to `sameDate` is already known to be of type `DateT` but to avoid this check, the comparison logic would have to be extracted into a third method which is not worth the effort here.\r\n\r\n---\r\n\r\nThe alternative is to consider that even if `DateT` doesn‚Äôt use the `day` field, each instance will have it, inherited from `Day`. So, initialize it with a value that can never be equal to a valid value of a `Day` instance and you‚Äôre done. E.g.\r\n\r\n```java\r\npublic class Date {\r\n    final int day, month, year;\r\n\r\n    public Date(int day, int month, int year) {\r\n        if(day &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;day = &quot; + day);\r\n        }\r\n        this.day = day;\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n\r\n    // only for subclasses, might be even more restricted than protected,\r\n    // package-private or even private when using nested classes\r\n    protected Date(int month, int year) {\r\n        this.day = -1;\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return obj instanceof Date d\r\n            &amp;&amp; day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    }\r\n}\r\n\r\npublic class DateT extends Date {\r\n    public DateT(int month, int year) {\r\n        super(month, year);\r\n    }\r\n}\r\n```\r\nThis assumes that a day can never be negative and enforces this property in the constructor. Only the special constructor, which should only be accessible to subclasses, will initialize the day to `-1` which can never match a valid day of a `Date` instance. This way, `Date` instances are never equal to `DateT` instances without the need for a special handling in the `equals` method.\r\n\r\nIf you have a mutable `day` field, additional measures must be taken to ensure that no method can change these invariants.\r\n\r\n[`Timestamp`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Timestamp.html\r\n[`LocalDate`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\r\n[`YearMonth`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html","title":"Comparing objects with equals","body":"<p>The answer should be that you shouldn‚Äôt design your software that way. Don‚Äôt look at bad examples, like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\"><code>Timestamp</code></a> extending <code>Date</code> in an incompatible manner. Rather, look at examples like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>, which implement common interfaces but are not subclasses of each other.</p>\n<hr />\n<p>But since this is an <em>assignment</em>, here are two ways to solve this:</p>\n<p>The problem is that the overridden method is invoked on the first object, which does not take into account that the second object might be a subclass. Therefore, split the comparison operation into two methods and invoke the second method on the second object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Date {\n    ‚Ä¶\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Date &amp;&amp; ((Date)obj).sameDate(this);\n    }\n\n    protected boolean sameDate(Date d) {\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\nclass DateT extends Date {\n    ‚Ä¶\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof DateT &amp;&amp; ((DateT)obj).sameDate(this);\n    }\n  \n    @Override\n    protected boolean sameDate(Date d) {\n        return d instanceof DateT &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\n</code></pre>\n<p>The overridable method <code>equals</code> delegates to the overridable method of the method argument, so if either <code>this</code> or the argument object is a <code>DateT</code>, at least one overridden method will be invoked, enforcing that both objects must be <code>DateT</code> to be equal.</p>\n<p>There‚Äôs a small redundancy when both objects are <code>DateT</code>, as the <code>this</code> passed to <code>sameDate</code> is already known to be of type <code>DateT</code> but to avoid this check, the comparison logic would have to be extracted into a third method which is not worth the effort here.</p>\n<hr />\n<p>The alternative is to consider that even if <code>DateT</code> doesn‚Äôt use the <code>day</code> field, each instance will have it, inherited from <code>Day</code>. So, initialize it with a value that can never be equal to a valid value of a <code>Day</code> instance and you‚Äôre done. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Date {\n    final int day, month, year;\n\n    public Date(int day, int month, int year) {\n        if(day &lt; 0) {\n            throw new IllegalArgumentException(&quot;day = &quot; + day);\n        }\n        this.day = day;\n        this.month = month;\n        this.year = year;\n    }\n\n    // only for subclasses, might be even more restricted than protected,\n    // package-private or even private when using nested classes\n    protected Date(int month, int year) {\n        this.day = -1;\n        this.month = month;\n        this.year = year;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Date d\n            &amp;&amp; day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n    }\n}\n\npublic class DateT extends Date {\n    public DateT(int month, int year) {\n        super(month, year);\n    }\n}\n</code></pre>\n<p>This assumes that a day can never be negative and enforces this property in the constructor. Only the special constructor, which should only be accessible to subclasses, will initialize the day to <code>-1</code> which can never match a valid day of a <code>Date</code> instance. This way, <code>Date</code> instances are never equal to <code>DateT</code> instances without the need for a special handling in the <code>equals</code> method.</p>\n<p>If you have a mutable <code>day</code> field, additional measures must be taken to ensure that no method can change these invariants.</p>\n"}],"owner":{"account_id":28698013,"reputation":11,"user_id":21975806,"display_name":"nelad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1685627401,"creation_date":1685359994,"question_id":76356971,"body_markdown":"I have a task to compare between two objects in java. One is a `Date` that has days, months and years. the second one extends it, `DateT` with hours and minutes. In order to to that:\r\n - I **can&#39;t** use any function from Objects Class.\r\n - I also **can&#39;t** use the Name of one Class in the other Class.\r\n - But I **can** use `instanceof`.\r\n \r\nThe problem is that when I compare between `Date date` and `Date dateT`(the subclass object) I need to return `false`.\r\n\r\nThe problem is that `date.equals(dateT)` returns `true`. Do you have some suggestions?\r\n\r\n    public boolean equals(Object other) \r\n        if (!(other instanceof Date))\r\n            return false;\r\n        Date d = (Date) other;\r\n        return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\r\n    ","title":"Comparing objects with equals","body":"<p>I have a task to compare between two objects in java. One is a <code>Date</code> that has days, months and years. the second one extends it, <code>DateT</code> with hours and minutes. In order to to that:</p>\n<ul>\n<li>I <strong>can't</strong> use any function from Objects Class.</li>\n<li>I also <strong>can't</strong> use the Name of one Class in the other Class.</li>\n<li>But I <strong>can</strong> use <code>instanceof</code>.</li>\n</ul>\n<p>The problem is that when I compare between <code>Date date</code> and <code>Date dateT</code>(the subclass object) I need to return <code>false</code>.</p>\n<p>The problem is that <code>date.equals(dateT)</code> returns <code>true</code>. Do you have some suggestions?</p>\n<pre><code>public boolean equals(Object other) \n    if (!(other instanceof Date))\n        return false;\n    Date d = (Date) other;\n    return day == d.day &amp;&amp; month == d.month &amp;&amp; year == d.year;\n</code></pre>\n"},{"tags":["java","c","java-native-interface","swig"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":2,"creation_date":1685456202,"post_id":76365690,"comment_id":134660483,"body_markdown":"If your generated code needs changes, this might mean that the input to the code generator is wrong. Please [edit] your question and create a [mre]. Provide all code and commands needed to reproduce your problem.","body":"If your generated code needs changes, this might mean that the input to the code generator is wrong. Please <a href=\"https://stackoverflow.com/posts/76365690/edit\">edit</a> your question and create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Provide all code and commands needed to reproduce your problem."},{"owner":{"account_id":84277,"reputation":168374,"user_id":235698,"display_name":"Mark Tolonen"},"score":1,"creation_date":1685461570,"post_id":76365690,"comment_id":134661799,"body_markdown":"Did you tell SWIG what the definition of `uint32_t` was?  `%include &lt;stdint.i&gt;`.  For unknown types SWIG creates opaque pointers to the type.","body":"Did you tell SWIG what the definition of <code>uint32_t</code> was?  <code>%include &lt;stdint.i&gt;</code>.  For unknown types SWIG creates opaque pointers to the type."},{"owner":{"account_id":84277,"reputation":168374,"user_id":235698,"display_name":"Mark Tolonen"},"score":1,"creation_date":1685480416,"post_id":76365690,"comment_id":134665465,"body_markdown":"Note that even if `bitwuzla.h` included `stdint.h`, SWIG *does not* recurse when generating wrappers via `%include` for the simple reason that you wouldn&#39;t want all of `stdio.h`, `stdlib.h` or whatever else was included to be wrapped.  There is an `-includeall` switch, but it is generally not what you want.","body":"Note that even if <code>bitwuzla.h</code> included <code>stdint.h</code>, SWIG <i>does not</i> recurse when generating wrappers via <code>%include</code> for the simple reason that you wouldn&#39;t want all of <code>stdio.h</code>, <code>stdlib.h</code> or whatever else was included to be wrapped.  There is an <code>-includeall</code> switch, but it is generally not what you want."},{"owner":{"account_id":28710811,"reputation":13,"user_id":21986341,"display_name":"HDSL"},"score":0,"creation_date":1685627529,"post_id":76365690,"comment_id":134689183,"body_markdown":"@MarkTolonen Yes, that was the answer, thank you very much! I did use the -includeall switch, but I guess it was indeed not what I wanted. But with using -includeall and adding the libraries to the interface file it works perfectly. Thanks!","body":"@MarkTolonen Yes, that was the answer, thank you very much! I did use the -includeall switch, but I guess it was indeed not what I wanted. But with using -includeall and adding the libraries to the interface file it works perfectly. Thanks!"}],"owner":{"account_id":28710811,"reputation":13,"user_id":21986341,"display_name":"HDSL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685627384,"creation_date":1685455600,"question_id":76365690,"body_markdown":"It seems like SWIG is generating a pointer type, which then is used even when only a value itself is needed by the function. It does this by creating a function requiring the pointer type in Java, then passing its CPtr value to the generated wrapper function. However, this functions expects a pointer, not its value, and therefore leads to a Segmentation Fault. The Java file is a translation of a C file, that has been tested and works without problem. Accordingly, the problem is most likely not in the native code. I will omit it here, since the function is about 100 lines long.\r\nHere are the important parts of the various files:\r\n\r\nIn Main.java :\r\n```\r\n\r\n      bitwuzla.bitwuzla_set_option(bzla, BitwuzlaOption.BITWUZLA_OPT_INCREMENTAL, new SWIGTYPE_p_uint32_t(1, false));\r\n```\r\n\r\nThe generated type:\r\n\r\n\r\n```\r\npublic class SWIGTYPE_p_uint32_t {\r\n  private transient long swigCPtr;\r\n\r\n  protected SWIGTYPE_p_uint32_t(long cPtr, @SuppressWarnings(&quot;unused&quot;) boolean futureUse) {\r\n    swigCPtr = cPtr;\r\n  }\r\n\r\n  protected SWIGTYPE_p_uint32_t() {\r\n    swigCPtr = 0;\r\n  }\r\n\r\n  protected static long getCPtr(SWIGTYPE_p_uint32_t obj) {\r\n    return (obj == null) ? 0 : obj.swigCPtr;\r\n  }\r\n}\r\n```\r\n\r\nThe generated wrapper, of which only jarg3 and its handling is important:\r\n\r\n```\r\nSWIGEXPORT void JNICALL Java_bitwuzlaJNI_bitwuzla_1set_1option(JNIEnv *jenv, jclass jcls, jlong jarg1, jint jarg2, jlong jarg3) {\r\n  Bitwuzla *arg1 = (Bitwuzla *) 0 ;\r\n  BitwuzlaOption arg2 ;\r\n  uint32_t arg3 ;\r\n  uint32_t *argp3 ;\r\n  (void)jenv;\r\n  (void)jcls;\r\n  arg1 = *(Bitwuzla **)&amp;jarg1; \r\n  arg2 = (BitwuzlaOption)jarg2; \r\n  argp3 = *(uint32_t **)&amp;jarg3;\r\n\r\n  printf(&quot;jarg3: %ld\\n&quot;, jarg3); // 1\r\n\r\n  printf(&quot;argp3: %p\\n&quot;, (void *)argp3); // 0x1\r\n\r\n  if (!argp3) {\r\n    SWIG_JavaThrowException(jenv, SWIG_JavaNullPointerException, &quot;Attempt to dereference null uint32_t&quot;);\r\n    return ;\r\n  }\r\n  arg3 = *argp3; // The program crashes here, since it is trying to dereference 0x1\r\n  bitwuzla_set_option(arg1,arg2,arg3);\r\n}\r\n```\r\n\r\nThe native function:\r\n\r\n```\r\nvoid\r\nbitwuzla_set_option(Bitwuzla *bitwuzla, BitwuzlaOption option, uint32_t value)\r\n```\r\n\r\nThe SWIG interface file is fairly basic so far:\r\n\r\n```\r\n%module bitwuzla\r\n%{\r\n#include &quot;bitwuzla.h&quot;\r\n%}\r\n\r\ntypedef struct Bitwuzla Bitwuzla;\r\n\r\n%include &quot;bitwuzla.h&quot;\r\n```\r\nAnd the error:\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f1e74706a60, pid=28005, tid=28006\r\n#\r\n# JRE version: OpenJDK Runtime Environment (11.0.19+7) (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\r\n# Java VM: OpenJDK 64-Bit Server VM (11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libbitwuzla.so+0x47a60]  Java_bitwuzlaJNI_bitwuzla_1set_1option+0x9e\r\n```\r\n\r\n\r\nThe code does run if I change the wrapping file as follows:\r\n\r\n\r\n```\r\narg3 = *(uint32_t *)&amp;jarg3;\r\nbitwuzla_set_option(arg1,arg2,arg3);\r\n```\r\n\r\nHowever, changing all occorunces of this mistake manually seems labor intensive and prone to errors.\r\nI have looked through the SWIG documentation, specifically on typemaps, but it doesn&#39;t seem like anything addresses what to do if SWIG simply improperly uses a pointer type. I am hesitant to simply change the pointer type to a long type, since the native code does use uint32 pointers as well. Is there a specific way of modifying the interface file to change SWIGs behaviour regarding this type? ","title":"SWIG incorrectly using a generated pointer type when generating Java code from C. How to change the interface file?","body":"<p>It seems like SWIG is generating a pointer type, which then is used even when only a value itself is needed by the function. It does this by creating a function requiring the pointer type in Java, then passing its CPtr value to the generated wrapper function. However, this functions expects a pointer, not its value, and therefore leads to a Segmentation Fault. The Java file is a translation of a C file, that has been tested and works without problem. Accordingly, the problem is most likely not in the native code. I will omit it here, since the function is about 100 lines long.\nHere are the important parts of the various files:</p>\n<p>In Main.java :</p>\n<pre><code>\n      bitwuzla.bitwuzla_set_option(bzla, BitwuzlaOption.BITWUZLA_OPT_INCREMENTAL, new SWIGTYPE_p_uint32_t(1, false));\n</code></pre>\n<p>The generated type:</p>\n<pre><code>public class SWIGTYPE_p_uint32_t {\n  private transient long swigCPtr;\n\n  protected SWIGTYPE_p_uint32_t(long cPtr, @SuppressWarnings(&quot;unused&quot;) boolean futureUse) {\n    swigCPtr = cPtr;\n  }\n\n  protected SWIGTYPE_p_uint32_t() {\n    swigCPtr = 0;\n  }\n\n  protected static long getCPtr(SWIGTYPE_p_uint32_t obj) {\n    return (obj == null) ? 0 : obj.swigCPtr;\n  }\n}\n</code></pre>\n<p>The generated wrapper, of which only jarg3 and its handling is important:</p>\n<pre><code>SWIGEXPORT void JNICALL Java_bitwuzlaJNI_bitwuzla_1set_1option(JNIEnv *jenv, jclass jcls, jlong jarg1, jint jarg2, jlong jarg3) {\n  Bitwuzla *arg1 = (Bitwuzla *) 0 ;\n  BitwuzlaOption arg2 ;\n  uint32_t arg3 ;\n  uint32_t *argp3 ;\n  (void)jenv;\n  (void)jcls;\n  arg1 = *(Bitwuzla **)&amp;jarg1; \n  arg2 = (BitwuzlaOption)jarg2; \n  argp3 = *(uint32_t **)&amp;jarg3;\n\n  printf(&quot;jarg3: %ld\\n&quot;, jarg3); // 1\n\n  printf(&quot;argp3: %p\\n&quot;, (void *)argp3); // 0x1\n\n  if (!argp3) {\n    SWIG_JavaThrowException(jenv, SWIG_JavaNullPointerException, &quot;Attempt to dereference null uint32_t&quot;);\n    return ;\n  }\n  arg3 = *argp3; // The program crashes here, since it is trying to dereference 0x1\n  bitwuzla_set_option(arg1,arg2,arg3);\n}\n</code></pre>\n<p>The native function:</p>\n<pre><code>void\nbitwuzla_set_option(Bitwuzla *bitwuzla, BitwuzlaOption option, uint32_t value)\n</code></pre>\n<p>The SWIG interface file is fairly basic so far:</p>\n<pre><code>%module bitwuzla\n%{\n#include &quot;bitwuzla.h&quot;\n%}\n\ntypedef struct Bitwuzla Bitwuzla;\n\n%include &quot;bitwuzla.h&quot;\n</code></pre>\n<p>And the error:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f1e74706a60, pid=28005, tid=28006\n#\n# JRE version: OpenJDK Runtime Environment (11.0.19+7) (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\n# Java VM: OpenJDK 64-Bit Server VM (11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libbitwuzla.so+0x47a60]  Java_bitwuzlaJNI_bitwuzla_1set_1option+0x9e\n</code></pre>\n<p>The code does run if I change the wrapping file as follows:</p>\n<pre><code>arg3 = *(uint32_t *)&amp;jarg3;\nbitwuzla_set_option(arg1,arg2,arg3);\n</code></pre>\n<p>However, changing all occorunces of this mistake manually seems labor intensive and prone to errors.\nI have looked through the SWIG documentation, specifically on typemaps, but it doesn't seem like anything addresses what to do if SWIG simply improperly uses a pointer type. I am hesitant to simply change the pointer type to a long type, since the native code does use uint32 pointers as well. Is there a specific way of modifying the interface file to change SWIGs behaviour regarding this type?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1314958543,"post_id":7281875,"comment_id":8768475,"body_markdown":"*&quot;calcul&quot;*  Is that a word in your language, or are you just being lazy?","body":"<i>&quot;calcul&quot;</i>  Is that a word in your language, or are you just being lazy?"}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314958549,"creation_date":1314957860,"answer_id":7281908,"question_id":7281875,"body_markdown":"You have at least one empty cell in your table.\r\n\r\nHere&#39;s a suggestion:\r\n\r\n    try {\r\n       sum += Integer.parseInt(columnValue);\r\n    } catch (NumberFormatException nfe) {\r\n      // the cell is either empty or not an integer number\r\n      // will be treated as zero (0)\r\n    }\r\n\r\n---\r\n\r\nNote, that the method `getColumnValue(int i, String name)` is not defined for `javax.swing.JTable`. If you use a subclass of `JTable` then the error could be in that class/method too: it may return an empty string instead of a cell value.","title":"java : convert string value to int","body":"<p>You have at least one empty cell in your table.</p>\n\n<p>Here's a suggestion:</p>\n\n<pre><code>try {\n   sum += Integer.parseInt(columnValue);\n} catch (NumberFormatException nfe) {\n  // the cell is either empty or not an integer number\n  // will be treated as zero (0)\n}\n</code></pre>\n\n<hr>\n\n<p>Note, that the method <code>getColumnValue(int i, String name)</code> is not defined for <code>javax.swing.JTable</code>. If you use a subclass of <code>JTable</code> then the error could be in that class/method too: it may return an empty string instead of a cell value.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314958224,"creation_date":1314957906,"answer_id":7281916,"question_id":7281875,"body_markdown":"If `columnValue` is empty (`&quot;&quot;`), you can&#39;t parse it. Just skip the that column in this case, i.e. \r\n\r\n    if( columnValue != null || columnValue.length() &gt; 0 ) {\r\n     //parse and add here\r\n    }\r\n\r\nNote that I added the check for null just in case, you might not need it if `myTable.getColumnValue(...)` is guaranteed to never return null.\r\n\r\nAlso note that you might try and handle other cases as well, depending on what values might be in your table. If blank strings like `&quot;  &quot;` or general alpha-numeric values are allowed, you need to account for that as well.\r\n\r\nFinally, why are your values stored as strings if they actually are numbers? Why don&#39;t you store them as `Integer` objects right away?","title":"java : convert string value to int","body":"<p>If <code>columnValue</code> is empty (<code>\"\"</code>), you can't parse it. Just skip the that column in this case, i.e. </p>\n\n<pre><code>if( columnValue != null || columnValue.length() &gt; 0 ) {\n //parse and add here\n}\n</code></pre>\n\n<p>Note that I added the check for null just in case, you might not need it if <code>myTable.getColumnValue(...)</code> is guaranteed to never return null.</p>\n\n<p>Also note that you might try and handle other cases as well, depending on what values might be in your table. If blank strings like <code>\"  \"</code> or general alpha-numeric values are allowed, you need to account for that as well.</p>\n\n<p>Finally, why are your values stored as strings if they actually are numbers? Why don't you store them as <code>Integer</code> objects right away?</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314957921,"creation_date":1314957921,"answer_id":7281918,"question_id":7281875,"body_markdown":"An empty string cannot be converted to an int. If you want to treat it as 0, add the appropriate if statement.","title":"java : convert string value to int","body":"<p>An empty string cannot be converted to an int. If you want to treat it as 0, add the appropriate if statement.</p>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314957955,"creation_date":1314957955,"answer_id":7281926,"question_id":7281875,"body_markdown":"What the compiler is telling you is that you are trying to convert an empty string ``&quot;&quot;`` to an ``int`` . So you may want to check that you are converting strings that actually represent integers!","title":"java : convert string value to int","body":"<p>What the compiler is telling you is that you are trying to convert an empty string <code>\"\"</code> to an <code>int</code> . So you may want to check that you are converting strings that actually represent integers!</p>\n"},{"tags":[],"owner":{"account_id":102091,"reputation":116,"user_id":274247,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327926911,"creation_date":1314958096,"answer_id":7281956,"question_id":7281875,"body_markdown":"Put a check for null/empty string before calling the conversion with `parseInst`. \r\n\r\n    if (columnValue != null &amp;&amp; !columnValue.isEmpty())\r\n    \tsum=sum+Integer.parseInt(columnValue);\r\n\r\nI am not sure about exact syntax so verify before using it.\r\n\r\n","title":"java : convert string value to int","body":"<p>Put a check for null/empty string before calling the conversion with <code>parseInst</code>. </p>\n\n<pre><code>if (columnValue != null &amp;&amp; !columnValue.isEmpty())\n    sum=sum+Integer.parseInt(columnValue);\n</code></pre>\n\n<p>I am not sure about exact syntax so verify before using it.</p>\n"},{"tags":[],"owner":{"account_id":255356,"reputation":829,"user_id":535357,"accept_rate":60,"display_name":"Simson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314958598,"creation_date":1314958226,"answer_id":7281980,"question_id":7281875,"body_markdown":"If the empty String means 0 in your case, you can just check this before:\r\n\r\n    if (!columnValue.equals(&quot;&quot;))\r\n        sum=sum+Integer.parseInt(columnValue);\r\n\r\nOr even better:\r\n\r\n    if(!columnValue.isEmpty())\r\n        sum=sum+Integer.parseInt(columnValue);\r\n\r\n\r\n\r\n","title":"java : convert string value to int","body":"<p>If the empty String means 0 in your case, you can just check this before:</p>\n\n<pre><code>if (!columnValue.equals(\"\"))\n    sum=sum+Integer.parseInt(columnValue);\n</code></pre>\n\n<p>Or even better:</p>\n\n<pre><code>if(!columnValue.isEmpty())\n    sum=sum+Integer.parseInt(columnValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327925026,"creation_date":1314958359,"answer_id":7282003,"question_id":7281875,"body_markdown":"I guess you will need to convert an empty *String* or null value to zero.\r\n\r\nSo you need to trim the whitespaces when you get the *String* value and then check if the string  is empty.\r\n\r\nHere is what your code should look like\r\n\r\n    final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\r\n    final int nb = myTable.getRowCount();\r\n    int sum=0;\r\n    String columnValue = &quot;&quot;;\r\n    \r\n    for (int i = 1; i &lt; nb; i++)\r\n    {\r\n    \tcolumnValue = myTable.getColumnValue(i, columnName).trim();\r\n    \tif (!columnValue.isEmpty()) {\r\n    \t\tsum=sum+Integer.parseInt(columnValue);\r\n    \t}\r\n    \r\n    \tValuesList.add(columnValue);\r\n    }\r\n\r\n","title":"java : convert string value to int","body":"<p>I guess you will need to convert an empty <em>String</em> or null value to zero.</p>\n\n<p>So you need to trim the whitespaces when you get the <em>String</em> value and then check if the string  is empty.</p>\n\n<p>Here is what your code should look like</p>\n\n<pre><code>final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\nfinal int nb = myTable.getRowCount();\nint sum=0;\nString columnValue = \"\";\n\nfor (int i = 1; i &lt; nb; i++)\n{\n    columnValue = myTable.getColumnValue(i, columnName).trim();\n    if (!columnValue.isEmpty()) {\n        sum=sum+Integer.parseInt(columnValue);\n    }\n\n    ValuesList.add(columnValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9043062,"reputation":1293,"user_id":6736591,"display_name":"Nakamoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627289,"creation_date":1685627289,"answer_id":76382588,"question_id":7281875,"body_markdown":"You could use Java Optionals to accomplish that:\r\n\r\n    public class NumberUtil {\r\n        \r\n        public static Integer convertBlankOrNull(String string) {\r\n            return Optional.ofNullable(string)\r\n                    .map(String::trim)\r\n                    .filter(s -&gt; !s.isEmpty())\r\n                    .map(Integer::parseInt)\r\n                    .orElse(0);\r\n        }\r\n    }\r\n\r\n","title":"java : convert string value to int","body":"<p>You could use Java Optionals to accomplish that:</p>\n<pre><code>public class NumberUtil {\n    \n    public static Integer convertBlankOrNull(String string) {\n        return Optional.ofNullable(string)\n                .map(String::trim)\n                .filter(s -&gt; !s.isEmpty())\n                .map(Integer::parseInt)\n                .orElse(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":874984,"reputation":33,"user_id":924804,"display_name":"lamisse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19706,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":8,"score":2,"last_activity_date":1685627289,"creation_date":1314957715,"question_id":7281875,"body_markdown":"from *JTable*, I try to get values (which are string) of each column from [row 1 to ..end of row] and calcul sum of values as follow :\r\n\r\n    final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\r\n    final int nb = myTable.getRowCount();\r\n    int sum=0;\r\n    \r\n    for (int i = 1; i &lt; nb; i++)\r\n    {\r\n    \tString columnValue = myTable.getColumnValue(i, columnName);\r\n    \r\n    \tsum=sum+Integer.parseInt(columnValue);\r\n    \r\n    \tValuesList .add(columnValue);\r\n    }\r\n\r\nbut I got :\r\n\r\n    java.lang.NumberFormatException: For input string: &quot;&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n    \tat java.lang.Integer.parseInt(Unknown Source)\r\n\t","title":"java : convert string value to int","body":"<p>from <em>JTable</em>, I try to get values (which are string) of each column from [row 1 to ..end of row] and calcul sum of values as follow :</p>\n\n<pre><code>final ArrayList&lt;String&gt;ValuesList = new ArrayList&lt;String&gt;();\nfinal int nb = myTable.getRowCount();\nint sum=0;\n\nfor (int i = 1; i &lt; nb; i++)\n{\n    String columnValue = myTable.getColumnValue(i, columnName);\n\n    sum=sum+Integer.parseInt(columnValue);\n\n    ValuesList .add(columnValue);\n}\n</code></pre>\n\n<p>but I got :</p>\n\n<pre><code>java.lang.NumberFormatException: For input string: \"\"\n    at java.lang.NumberFormatException.forInputString(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n    at java.lang.Integer.parseInt(Unknown Source)\n</code></pre>\n"},{"tags":["java","sql","spring-boot","hibernate","hql"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685546370,"post_id":76374877,"comment_id":134676103,"body_markdown":"it is asking to define alias for `CHILD1.parent.id`","body":"it is asking to define alias for <code>CHILD1.parent.id</code>"},{"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"score":0,"creation_date":1685602063,"post_id":76374877,"comment_id":134683515,"body_markdown":"Thanks for the reply, are you referring to adding the alias to the group by statement e.g. \n\n\n\n`GROUP BY CHILD1.parent.id as ALIAS`\n\n\n\nIf so then I get a &#39;no viable alternative at input&#39; error \n\n\n\n`Caused by: org.hibernate.query.sqm.ParsingException: line 1:340 no viable alternative at input &#39;SELECTPARENT,CHILD1FROMParentPARENTINNERJOINChildCHILD1ONCHILD1.parent.id=PARENT.idINNERJOIN(SELECTCHILD1.parent.id,MAX(CHILD1.effectiveTimestamp)asMaxEff,MAX(CHILD1.createdTimestamp)asMaxCreFROMChildasCHILD2WHERECHILD1.effectiveTimestamp&lt;=:currentTimestampGROUPBYCHILD1.parent.idALIAS&#39;`","body":"Thanks for the reply, are you referring to adding the alias to the group by statement e.g.     <code>GROUP BY CHILD1.parent.id as ALIAS</code>    If so then I get a &#39;no viable alternative at input&#39; error     <code>Caused by: org.hibernate.query.sqm.ParsingException: line 1:340 no viable alternative at input &#39;SELECTPARENT,CHILD1FROMParentPARENTINNERJOINChildCHILD1ONCH&zwnj;&#8203;ILD1.parent.id=PAREN&zwnj;&#8203;T.idINNERJOIN(SELECT&zwnj;&#8203;CHILD1.parent.id,MAX&zwnj;&#8203;(CHILD1.effectiveTim&zwnj;&#8203;estamp)asMaxEff,MAX(&zwnj;&#8203;CHILD1.createdTimest&zwnj;&#8203;amp)asMaxCreFROMChil&zwnj;&#8203;dasCHILD2WHERECHILD1&zwnj;&#8203;.effectiveTimestamp&lt;&zwnj;&#8203;=:currentTimestampGR&zwnj;&#8203;OUPBYCHILD1.parent.i&zwnj;&#8203;dALIAS&#39;</code>"},{"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"score":0,"creation_date":1685602359,"post_id":76374877,"comment_id":134683561,"body_markdown":"If you are referring to adding to the join statements  `ON CHILD1.parent.id = PARENT.id` then I understandably get this error `Caused by: org.hibernate.query.sqm.ParsingException: line 1:92 mismatched input &#39;AS&#39; expecting {&lt;EOF&gt;, &#39;,&#39;, &#39;.&#39;, &#39;[&#39;, &#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;, &#39;%&#39;, &#39;||&#39;, AND, BY, CROSS, DAY, FULL, GROUP, HOUR, INNER, JOIN, LEFT, MINUTE, MONTH, NANOSECOND, OR, ORDER, OUTER, QUARTER, RIGHT, SECOND, WEEK, WHERE, YEAR}`","body":"If you are referring to adding to the join statements  <code>ON CHILD1.parent.id = PARENT.id</code> then I understandably get this error <code>Caused by: org.hibernate.query.sqm.ParsingException: line 1:92 mismatched input &#39;AS&#39; expecting {&lt;EOF&gt;, &#39;,&#39;, &#39;.&#39;, &#39;[&#39;, &#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;&#47;&#39;, &#39;%&#39;, &#39;||&#39;, AND, BY, CROSS, DAY, FULL, GROUP, HOUR, INNER, JOIN, LEFT, MINUTE, MONTH, NANOSECOND, OR, ORDER, OUTER, QUARTER, RIGHT, SECOND, WEEK, WHERE, YEAR}</code>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685603044,"post_id":76374877,"comment_id":134683667,"body_markdown":"`SELECT CHILD1.parent.id` -&gt; `SELECT CHILD1.parent.id AS parent_id`, `ON CHILD2.parent.id = CHILD1.parent.id` -&gt; `ON CHILD2.parent_id = CHILD1.parent.id`","body":"<code>SELECT CHILD1.parent.id</code> -&gt; <code>SELECT CHILD1.parent.id AS parent_id</code>, <code>ON CHILD2.parent.id = CHILD1.parent.id</code> -&gt; <code>ON CHILD2.parent_id = CHILD1.parent.id</code>"},{"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"score":0,"creation_date":1685608033,"post_id":76374877,"comment_id":134684659,"body_markdown":"Thanks, that&#39;s resolved the alias issue, I&#39;m now getting this exception instead `Caused by: org.hibernate.query.SemanticException: Could not resolve attribute &#39;parent&#39; of &#39;java.lang.Object[]&#39;`","body":"Thanks, that&#39;s resolved the alias issue, I&#39;m now getting this exception instead <code>Caused by: org.hibernate.query.SemanticException: Could not resolve attribute &#39;parent&#39; of &#39;java.lang.Object[]&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685627139,"creation_date":1685627139,"answer_id":76382558,"question_id":76374877,"body_markdown":"Using the alias I added off the back of the comment from Andrey B. Panfilov, I had to use that alias in my second inner join to fix the &#39;Could not resolve attribute&#39; error. The hibernate query below now works.\r\n\r\n\r\n```\r\n\r\n@Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\r\n              + &quot; INNER JOIN Child CHILD1 &quot;\r\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\r\n              + &quot;   INNER JOIN &quot;\r\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\r\n              + &quot;  FROM Child as CHILD2 &quot;\r\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\r\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\r\n              + &quot;     ) CHILD2 &quot;\r\n              + &quot;   ON NEWALIAS = CHILD2.parent.id &quot;\r\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\r\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\r\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\r\n```","title":"Error converting valid SQL query into valid HQL","body":"<p>Using the alias I added off the back of the comment from Andrey B. Panfilov, I had to use that alias in my second inner join to fix the 'Could not resolve attribute' error. The hibernate query below now works.</p>\n<pre><code>\n@Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\n              + &quot; INNER JOIN Child CHILD1 &quot;\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\n              + &quot;   INNER JOIN &quot;\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\n              + &quot;  FROM Child as CHILD2 &quot;\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\n              + &quot;     ) CHILD2 &quot;\n              + &quot;   ON NEWALIAS = CHILD2.parent.id &quot;\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\n</code></pre>\n"}],"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685627139,"creation_date":1685545252,"question_id":76374877,"body_markdown":"I&#39;m running a SpringBoot Java application which is currently using hibernate-core 6.1.7.Final. I have a valid SQL query that gives me the results I need which I need to convert into HQL so my app can run the query and return the same results. However, I keep getting an error during app start up. I&#39;ve had multiple different errors while trying to fix the HQL, the current error based on the current version of the code shown below is: \r\n\r\n`java.lang.IllegalArgumentException: Component at index 0 has no alias, but alias is required`\r\n\r\nBelow is the working SQL query that gives the correct results:\r\n\r\n```\r\nSELECT PARENT.* \r\n      , CHILD1.* \r\n    FROM [dbo].[PARENT] PARENT \r\n  INNER JOIN [dbo].[CHILD] CHILD1 \r\n      ON CHILD1.ParentId = PARENT.id \r\n  INNER JOIN ( \r\n      SELECT parentId, MAX(effectivetimestamp) as MaxEff, Max([createdtimestamp]) as MaxCre \r\n        FROM [dbo].[CHILD] as CHILD2\r\n        WHERE CHILD2.effectivetimestamp &lt; Cast(Getutcdate() at time zone &#39;UTC&#39; at time zone &#39;GMT Standard Time&#39; AS DATETIME2) \r\n        GROUP BY parentId \r\n      ) CHILD2 \r\n    ON CHILD2.parentId = CHILD1.parentId \r\n    AND CHILD2.MaxEff = CHILD1.effectiveTimestamp \r\n    AND CHILD2.MaxCre = CHILD1.createdTimestamp \r\n\r\n```\r\ndbo.PARENT has a one to many relationship with dbo.CHILD. dbo.CHILD has the columns effectiveTimestamp and this query is returning all Parents with the current active Child (latest effectiveTimestamp value that is not future dated for each parent).\r\n\r\nBelow are the Java entity classes for Parent and Child:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;PARENT&quot;)\r\npublic class Parent {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\r\n\t@OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@Fetch(value = FetchMode.SUBSELECT)\r\n\t@JsonManagedReference\r\n\tprivate List&lt;Child&gt; child;\r\n\r\n\tpublic List&lt;Child&gt; getChild() {\r\n\t\treturn child;\r\n\t}\r\n\r\n\tpublic void setChild(List&lt;Child&gt; child) {\r\n\t\tthis.child = child;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;CHILD&quot;)\r\npublic class Child {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;parentId&quot;)\r\n\t@JsonBackReference\r\n\tprivate Parent parent;\r\n\t\r\n\t@Column(name = &quot;effectiveTimestamp&quot;, nullable = false)\r\n\tprivate LocalDateTime effectiveTimestamp;\r\n\t\r\n\t@Column(name = &quot;createdTimestamp&quot;, nullable = false)\r\n\tprivate LocalDateTime createdTimestamp;\r\n\t\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Parent getParent() {\r\n\t\treturn parent;\r\n\t}\r\n\r\n\tpublic void setParent(Parent parent) {\r\n\t\tthis.parent = parent;\r\n\t}\r\n\r\n\tpublic LocalDateTime getEffectiveTimestamp() {\r\n\t\treturn effectiveTimestamp;\r\n\t}\r\n\r\n\tpublic void setEffectiveTimestamp(LocalDateTime effectiveTimestamp) {\r\n\t\tthis.effectiveTimestamp = effectiveTimestamp;\r\n\t}\r\n\r\n\tpublic LocalDateTime getCreatedTimestamp() {\r\n\t\treturn createdTimestamp;\r\n\t}\r\n\r\n\tpublic void setCreatedTimestamp(LocalDateTime createdTimestamp) {\r\n\t\tthis.createdTimestamp = createdTimestamp;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd this is my current attempt at the native hibernate query that is currently failing. I want it to return all Parent objects in the table, joining only the current active Child to the Parent.\r\n\r\n```\r\n\t  @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\r\n\t\t\t  + &quot; INNER JOIN Child CHILD1 &quot;\r\n\t\t\t  + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\r\n\t\t\t  + &quot;   INNER JOIN &quot;\r\n\t\t\t  + &quot;  ( SELECT CHILD1.parent.id, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\r\n\t\t\t  + &quot;  FROM Child as CHILD2 &quot;\r\n\t\t\t  + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\r\n\t\t\t  + &quot;     GROUP BY CHILD1.parent.id &quot;\r\n\t\t\t  + &quot;     ) CHILD2 &quot;\r\n\t\t\t  + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\r\n\t\t\t  + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\r\n\t\t\t  + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\r\n\t  Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\r\n```\r\n\r\nAny help will be greatly appreciated.\r\n\r\n**UPDATE**\r\nFollowing the comment from Andrey B. Panfilov below I have added the missing alias which can be seen below.\r\n\r\n```\r\n @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\r\n              + &quot; INNER JOIN Child CHILD1 &quot;\r\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\r\n              + &quot;   INNER JOIN &quot;\r\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\r\n              + &quot;  FROM Child as CHILD2 &quot;\r\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\r\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\r\n              + &quot;     ) CHILD2 &quot;\r\n              + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\r\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\r\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\r\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\r\n```\r\nHowever I am now getting this error:\r\n```\r\nCaused by: org.hibernate.query.SemanticException: Could not resolve attribute &#39;parent&#39; of &#39;java.lang.Object[]&#39;\r\n```\r\nBy breaking down the hibernate query I believe the error is coming from the 2nd inner join, but I can&#39;t see what in that section is causing the error.","title":"Error converting valid SQL query into valid HQL","body":"<p>I'm running a SpringBoot Java application which is currently using hibernate-core 6.1.7.Final. I have a valid SQL query that gives me the results I need which I need to convert into HQL so my app can run the query and return the same results. However, I keep getting an error during app start up. I've had multiple different errors while trying to fix the HQL, the current error based on the current version of the code shown below is:</p>\n<p><code>java.lang.IllegalArgumentException: Component at index 0 has no alias, but alias is required</code></p>\n<p>Below is the working SQL query that gives the correct results:</p>\n<pre><code>SELECT PARENT.* \n      , CHILD1.* \n    FROM [dbo].[PARENT] PARENT \n  INNER JOIN [dbo].[CHILD] CHILD1 \n      ON CHILD1.ParentId = PARENT.id \n  INNER JOIN ( \n      SELECT parentId, MAX(effectivetimestamp) as MaxEff, Max([createdtimestamp]) as MaxCre \n        FROM [dbo].[CHILD] as CHILD2\n        WHERE CHILD2.effectivetimestamp &lt; Cast(Getutcdate() at time zone 'UTC' at time zone 'GMT Standard Time' AS DATETIME2) \n        GROUP BY parentId \n      ) CHILD2 \n    ON CHILD2.parentId = CHILD1.parentId \n    AND CHILD2.MaxEff = CHILD1.effectiveTimestamp \n    AND CHILD2.MaxCre = CHILD1.createdTimestamp \n\n</code></pre>\n<p>dbo.PARENT has a one to many relationship with dbo.CHILD. dbo.CHILD has the columns effectiveTimestamp and this query is returning all Parents with the current active Child (latest effectiveTimestamp value that is not future dated for each parent).</p>\n<p>Below are the Java entity classes for Parent and Child:</p>\n<pre><code>@Entity\n@Table(name = &quot;PARENT&quot;)\npublic class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Integer id;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JsonManagedReference\n    private List&lt;Child&gt; child;\n\n    public List&lt;Child&gt; getChild() {\n        return child;\n    }\n\n    public void setChild(List&lt;Child&gt; child) {\n        this.child = child;\n    }\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;CHILD&quot;)\npublic class Child {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Integer id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;parentId&quot;)\n    @JsonBackReference\n    private Parent parent;\n    \n    @Column(name = &quot;effectiveTimestamp&quot;, nullable = false)\n    private LocalDateTime effectiveTimestamp;\n    \n    @Column(name = &quot;createdTimestamp&quot;, nullable = false)\n    private LocalDateTime createdTimestamp;\n    \n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Parent getParent() {\n        return parent;\n    }\n\n    public void setParent(Parent parent) {\n        this.parent = parent;\n    }\n\n    public LocalDateTime getEffectiveTimestamp() {\n        return effectiveTimestamp;\n    }\n\n    public void setEffectiveTimestamp(LocalDateTime effectiveTimestamp) {\n        this.effectiveTimestamp = effectiveTimestamp;\n    }\n\n    public LocalDateTime getCreatedTimestamp() {\n        return createdTimestamp;\n    }\n\n    public void setCreatedTimestamp(LocalDateTime createdTimestamp) {\n        this.createdTimestamp = createdTimestamp;\n    }\n\n}\n</code></pre>\n<p>And this is my current attempt at the native hibernate query that is currently failing. I want it to return all Parent objects in the table, joining only the current active Child to the Parent.</p>\n<pre><code>      @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\n              + &quot; INNER JOIN Child CHILD1 &quot;\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\n              + &quot;   INNER JOIN &quot;\n              + &quot;  ( SELECT CHILD1.parent.id, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\n              + &quot;  FROM Child as CHILD2 &quot;\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\n              + &quot;     ) CHILD2 &quot;\n              + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\n</code></pre>\n<p>Any help will be greatly appreciated.</p>\n<p><strong>UPDATE</strong>\nFollowing the comment from Andrey B. Panfilov below I have added the missing alias which can be seen below.</p>\n<pre><code> @Query(value = &quot;SELECT PARENT, CHILD1 FROM Parent PARENT &quot;\n              + &quot; INNER JOIN Child CHILD1 &quot;\n              + &quot;   ON CHILD1.parent.id = PARENT.id &quot;\n              + &quot;   INNER JOIN &quot;\n              + &quot;  ( SELECT CHILD1.parent.id as NEWALIAS, MAX(CHILD1.effectiveTimestamp) as MaxEff, MAX(CHILD1.createdTimestamp) as MaxCre &quot;\n              + &quot;  FROM Child as CHILD2 &quot;\n              + &quot;     WHERE CHILD1.effectiveTimestamp &lt;= :currentTimestamp &quot;\n              + &quot;     GROUP BY CHILD1.parent.id &quot;\n              + &quot;     ) CHILD2 &quot;\n              + &quot;   ON CHILD2.parent.id = CHILD1.parent.id &quot;\n              + &quot;   AND CHILD2.MaxEff = CHILD1.effectiveTimestamp &quot;\n              + &quot;   AND CHILD2.MaxCre = CHILD1.createdTimestamp &quot; )\n      Optional&lt;List&lt;Parent&gt;&gt; getAllActiveChildByParent(@Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\n</code></pre>\n<p>However I am now getting this error:</p>\n<pre><code>Caused by: org.hibernate.query.SemanticException: Could not resolve attribute 'parent' of 'java.lang.Object[]'\n</code></pre>\n<p>By breaking down the hibernate query I believe the error is coming from the 2nd inner join, but I can't see what in that section is causing the error.</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor","webtestclient"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1621005721,"post_id":67534602,"comment_id":119373059,"body_markdown":"The problem is that Reactor actually forbids calling `block` in Schedulers not explicitly marked as compatible with blocking code. I do not find detailed doc about that, but I think that. you have to use either `subscribeOn(Schedulers.boundedElastic())` or `.share()` method on your flux before block call. The difference in behaviour might come from the fact that in one case, block function triggers pipeline in current thread (non reactive scheduler), but in your test, you try to call `canDoIt` from a reactive stack, so the executing thread comes from a reactive scheduler.","body":"The problem is that Reactor actually forbids calling <code>block</code> in Schedulers not explicitly marked as compatible with blocking code. I do not find detailed doc about that, but I think that. you have to use either <code>subscribeOn(Schedulers.boundedElastic())</code> or <code>.share()</code> method on your flux before block call. The difference in behaviour might come from the fact that in one case, block function triggers pipeline in current thread (non reactive scheduler), but in your test, you try to call <code>canDoIt</code> from a reactive stack, so the executing thread comes from a reactive scheduler."},{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":0,"creation_date":1621253696,"post_id":67534602,"comment_id":119431394,"body_markdown":"I tried both with `subscribeOn` and `share` but I still get the same error. Please note that the error does not appear with `WebClient`, it appears only with `WebTestClient`.","body":"I tried both with <code>subscribeOn</code> and <code>share</code> but I still get the same error. Please note that the error does not appear with <code>WebClient</code>, it appears only with <code>WebTestClient</code>."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1621271034,"post_id":67534602,"comment_id":119439755,"body_markdown":"Maybe I miss/misunderstand something. Can you please make an edit with your attempt to use share and subscribeOn ? Also, the failing piece of code using WebTestClient and `flatMap` would be nice. It would help me to dig further and adapt my answer.","body":"Maybe I miss/misunderstand something. Can you please make an edit with your attempt to use share and subscribeOn ? Also, the failing piece of code using WebTestClient and <code>flatMap</code> would be nice. It would help me to dig further and adapt my answer."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1621271384,"post_id":67534602,"comment_id":119439878,"body_markdown":"Also, I&#39;ve made a rather generic answer because I was not too sure, but If I have the failing code (well, a minimal reproducible example of it), I will be able to make an answer really focused on your use-case.","body":"Also, I&#39;ve made a rather generic answer because I was not too sure, but If I have the failing code (well, a minimal reproducible example of it), I will be able to make an answer really focused on your use-case."}],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621101399,"creation_date":1621101399,"answer_id":67549756,"question_id":67534602,"body_markdown":"I validate my comment. `block()` checks if the calling thread is compatible with blocking code (thread external to reactor, or a thread of a specific reactor scheduler like `Schedulers.boundedElastic()`). \r\n\r\nThere&#39;s 2 ways to handle blocking calls in the middle of a reactive stack:\r\n\r\n* Use the *share* operator on publisher you will block upon. Be careful, the share operator caches the value internally.\r\n* Force `block()` call to be executed on a blocking compatible scheduler using `scheduleOn` or `publishOn`. Beware, this operators should not be called on the publisher that directly call `block()`, but on the publisher that will &quot;wrap&quot; the block call (see example below).\r\n\r\nSome references:\r\n\r\n* [The schedulers API doc](https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html) summaries available types of schedulers, and tells which ones are designed for blocking calls.\r\n* [Reference guide section about blocking call wrapping](https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking)\r\n* [share() operator documentation](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#share--)\r\n\r\nAnd a minimal reproducible example (tested on v3.4.6) giving this output:\r\n\r\n```logs\r\nOk context: not running from reactor Threads\r\nvalue is true\r\nProblematic stack: working with scheduler not compatible with blocking call\r\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\r\nBad way to subscribe on a blocking compatible scheduler\r\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-4\r\nBad way to publish on blocking compatible scheduler\r\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-6\r\nPossible workaround: share the reactive stream before blocking on it\r\nIt worked\r\nRight way to subscribe on blocking compatible scheduler\r\nIt worked\r\nRight way to publish on blocking compatible scheduler\r\nIt worked\r\n```\r\n\r\nHere comes the code:\r\n\r\n```java\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.scheduler.Schedulers;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.Callable;\r\nimport java.util.function.Supplier;\r\n\r\npublic class BlockingWorkaround {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(&quot;Ok context: not running from reactor Threads&quot;);\r\n        System.out.println(&quot;value is &quot;+blockingFunction());\r\n\r\n        System.out.println(&quot;Problematic stack: working with scheduler not compatible with blocking call&quot;);\r\n        executeAndWait(() -&gt; blockingFunction());\r\n\r\n        System.out.println(&quot;Bad way to subscribe on a blocking compatible scheduler&quot;);\r\n        executeAndWait(() -&gt; blockingFunctionUsingSubscribeOn());\r\n\r\n        System.out.println(&quot;Bad way to publish on blocking compatible scheduler&quot;);\r\n        executeAndWait(() -&gt; blockingFunctionUsingPublishOn());\r\n\r\n        System.out.println(&quot;Possible workaround: share the reactive stream before blocking on it&quot;);\r\n        executeAndWait(() -&gt; blockingFunctionShared());\r\n\r\n        System.out.println(&quot;Right way to subscribe on blocking compatible scheduler&quot;);\r\n        subscribeOnAndWait(() -&gt; blockingFunction());\r\n\r\n        System.out.println(&quot;Right way to publish on blocking compatible scheduler&quot;);\r\n        publishOnAndWait(() -&gt; blockingFunction());\r\n    }\r\n\r\n    static Boolean blockingFunction() {\r\n        return delay()\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .block();\r\n    }\r\n\r\n    static Boolean blockingFunctionShared() {\r\n        return delay()\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .share() // Mono result is cached internally\r\n                .block();\r\n    }\r\n\r\n    static Boolean blockingFunctionUsingSubscribeOn() {\r\n        return delay()\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .block();\r\n    }\r\n\r\n    static Boolean blockingFunctionUsingPublishOn() {\r\n        return delay()\r\n                .flatMap(delay -&gt; Mono.just(true))\r\n                .publishOn(Schedulers.boundedElastic())\r\n                .block();\r\n    }\r\n\r\n    static Mono&lt;Long&gt; delay() {\r\n        return Mono.delay(Duration.ofMillis(10));\r\n    }\r\n\r\n    private static void executeAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\r\n        delay()\r\n                .map(it -&gt; blockingAction.get())\r\n                .subscribe(\r\n                        val -&gt; System.out.println(&quot;It worked&quot;),\r\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\r\n                );\r\n\r\n        Thread.sleep(100);\r\n    }\r\n\r\n    private static void subscribeOnAndWait(Callable&lt;Boolean&gt; blockingAction) throws InterruptedException {\r\n        final Mono&lt;Boolean&gt; blockingMono = Mono.fromCallable(blockingAction)\r\n                .subscribeOn(Schedulers.boundedElastic()); // Upstream is executed on given scheduler\r\n\r\n        delay()\r\n                .flatMap(it -&gt; blockingMono)\r\n                .subscribe(\r\n                        val -&gt; System.out.println(&quot;It worked&quot;),\r\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\r\n                );\r\n\r\n        Thread.sleep(100);\r\n    }\r\n\r\n    private static void publishOnAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\r\n        delay()\r\n                .publishOn(Schedulers.boundedElastic()) // Cause downstream to be executed on given scheduler\r\n                .map(it -&gt; blockingAction.get())\r\n                .subscribe(\r\n                        val -&gt; System.out.println(&quot;It worked&quot;),\r\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\r\n                );\r\n\r\n        Thread.sleep(100);\r\n    }\r\n}\r\n```","title":"WebTestClient returning IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread","body":"<p>I validate my comment. <code>block()</code> checks if the calling thread is compatible with blocking code (thread external to reactor, or a thread of a specific reactor scheduler like <code>Schedulers.boundedElastic()</code>).</p>\n<p>There's 2 ways to handle blocking calls in the middle of a reactive stack:</p>\n<ul>\n<li>Use the <em>share</em> operator on publisher you will block upon. Be careful, the share operator caches the value internally.</li>\n<li>Force <code>block()</code> call to be executed on a blocking compatible scheduler using <code>scheduleOn</code> or <code>publishOn</code>. Beware, this operators should not be called on the publisher that directly call <code>block()</code>, but on the publisher that will &quot;wrap&quot; the block call (see example below).</li>\n</ul>\n<p>Some references:</p>\n<ul>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/scheduler/Schedulers.html\" rel=\"nofollow noreferrer\">The schedulers API doc</a> summaries available types of schedulers, and tells which ones are designed for blocking calls.</li>\n<li><a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">Reference guide section about blocking call wrapping</a></li>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#share--\" rel=\"nofollow noreferrer\">share() operator documentation</a></li>\n</ul>\n<p>And a minimal reproducible example (tested on v3.4.6) giving this output:</p>\n<pre><code>Ok context: not running from reactor Threads\nvalue is true\nProblematic stack: working with scheduler not compatible with blocking call\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\nBad way to subscribe on a blocking compatible scheduler\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-4\nBad way to publish on blocking compatible scheduler\nERROR: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-6\nPossible workaround: share the reactive stream before blocking on it\nIt worked\nRight way to subscribe on blocking compatible scheduler\nIt worked\nRight way to publish on blocking compatible scheduler\nIt worked\n</code></pre>\n<p>Here comes the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import reactor.core.publisher.Mono;\nimport reactor.core.scheduler.Schedulers;\n\nimport java.time.Duration;\nimport java.util.concurrent.Callable;\nimport java.util.function.Supplier;\n\npublic class BlockingWorkaround {\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;Ok context: not running from reactor Threads&quot;);\n        System.out.println(&quot;value is &quot;+blockingFunction());\n\n        System.out.println(&quot;Problematic stack: working with scheduler not compatible with blocking call&quot;);\n        executeAndWait(() -&gt; blockingFunction());\n\n        System.out.println(&quot;Bad way to subscribe on a blocking compatible scheduler&quot;);\n        executeAndWait(() -&gt; blockingFunctionUsingSubscribeOn());\n\n        System.out.println(&quot;Bad way to publish on blocking compatible scheduler&quot;);\n        executeAndWait(() -&gt; blockingFunctionUsingPublishOn());\n\n        System.out.println(&quot;Possible workaround: share the reactive stream before blocking on it&quot;);\n        executeAndWait(() -&gt; blockingFunctionShared());\n\n        System.out.println(&quot;Right way to subscribe on blocking compatible scheduler&quot;);\n        subscribeOnAndWait(() -&gt; blockingFunction());\n\n        System.out.println(&quot;Right way to publish on blocking compatible scheduler&quot;);\n        publishOnAndWait(() -&gt; blockingFunction());\n    }\n\n    static Boolean blockingFunction() {\n        return delay()\n                .flatMap(delay -&gt; Mono.just(true))\n                .block();\n    }\n\n    static Boolean blockingFunctionShared() {\n        return delay()\n                .flatMap(delay -&gt; Mono.just(true))\n                .share() // Mono result is cached internally\n                .block();\n    }\n\n    static Boolean blockingFunctionUsingSubscribeOn() {\n        return delay()\n                .subscribeOn(Schedulers.boundedElastic())\n                .flatMap(delay -&gt; Mono.just(true))\n                .block();\n    }\n\n    static Boolean blockingFunctionUsingPublishOn() {\n        return delay()\n                .flatMap(delay -&gt; Mono.just(true))\n                .publishOn(Schedulers.boundedElastic())\n                .block();\n    }\n\n    static Mono&lt;Long&gt; delay() {\n        return Mono.delay(Duration.ofMillis(10));\n    }\n\n    private static void executeAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\n        delay()\n                .map(it -&gt; blockingAction.get())\n                .subscribe(\n                        val -&gt; System.out.println(&quot;It worked&quot;),\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\n                );\n\n        Thread.sleep(100);\n    }\n\n    private static void subscribeOnAndWait(Callable&lt;Boolean&gt; blockingAction) throws InterruptedException {\n        final Mono&lt;Boolean&gt; blockingMono = Mono.fromCallable(blockingAction)\n                .subscribeOn(Schedulers.boundedElastic()); // Upstream is executed on given scheduler\n\n        delay()\n                .flatMap(it -&gt; blockingMono)\n                .subscribe(\n                        val -&gt; System.out.println(&quot;It worked&quot;),\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\n                );\n\n        Thread.sleep(100);\n    }\n\n    private static void publishOnAndWait(Supplier&lt;Boolean&gt; blockingAction) throws InterruptedException {\n        delay()\n                .publishOn(Schedulers.boundedElastic()) // Cause downstream to be executed on given scheduler\n                .map(it -&gt; blockingAction.get())\n                .subscribe(\n                        val -&gt; System.out.println(&quot;It worked&quot;),\n                        err -&gt; System.out.println(&quot;ERROR: &quot; + err.getMessage())\n                );\n\n        Thread.sleep(100);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685626959,"creation_date":1684587893,"answer_id":76295383,"question_id":67534602,"body_markdown":"Decrypting [amanin&#39;s answer](https://stackoverflow.com/q/67534602/1763602), this is her/his TL;DR:\r\n\r\n```\r\nScheduler scheduler = Schedulers.boundedElastic();\r\n\r\nMono\r\n    .fromCallable(myMono::block)\r\n    .subscribeOn(scheduler)\r\n    .subscribe(val -&gt; {});\r\n```\r\n\r\nWhere `myMono` is the `Mono` to block.\r\n\r\nIt works because the default scheduler is `Schedulers.parallel()`, that&#39;s a multiprocessing (workers) scheduler, while `Schedulers.boundedElastic()` is a multithread scheduler.","title":"WebTestClient returning IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread","body":"<p>Decrypting <a href=\"https://stackoverflow.com/q/67534602/1763602\">amanin's answer</a>, this is her/his TL;DR:</p>\n<pre><code>Scheduler scheduler = Schedulers.boundedElastic();\n\nMono\n    .fromCallable(myMono::block)\n    .subscribeOn(scheduler)\n    .subscribe(val -&gt; {});\n</code></pre>\n<p>Where <code>myMono</code> is the <code>Mono</code> to block.</p>\n<p>It works because the default scheduler is <code>Schedulers.parallel()</code>, that's a multiprocessing (workers) scheduler, while <code>Schedulers.boundedElastic()</code> is a multithread scheduler.</p>\n"}],"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10781,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1685626959,"creation_date":1620996465,"question_id":67534602,"body_markdown":"The following function:\r\n\r\n```java\r\nprivate Boolean canDoIt(Parameter param) {\r\n  return myService\r\n      .getMyObjectInReactiveWay(param)\r\n      .map(myObject -&gt; myService.checkMyObjectInImperativeWay(myObject))\r\n      .block();\r\n}\r\n```\r\nis working fine at runtime, but when testing a flow which uses it using `WebTestClient` I get the following error:\r\n```log\r\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-1\r\n\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.1.jar:3.4.1]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\r\n\treactor.core.publisher.Mono.flatMap\r\n```\r\n\r\nI know I am not supposed to use `block()` but I have no other choice: the function has to return a `Boolean` (not a `Mono&lt;Boolean&gt;`). Perhaps there is an alternative way to write it which doesn&#39;t use `block()`.\r\n\r\nIs there a way I can make `WebTestClient` not throw that error? \r\n\r\nUsing Reactor Core version `3.4.6`.","title":"WebTestClient returning IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread","body":"<p>The following function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Boolean canDoIt(Parameter param) {\n  return myService\n      .getMyObjectInReactiveWay(param)\n      .map(myObject -&gt; myService.checkMyObjectInImperativeWay(myObject))\n      .block();\n}\n</code></pre>\n<p>is working fine at runtime, but when testing a flow which uses it using <code>WebTestClient</code> I get the following error:</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-1\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83) ~[reactor-core-3.4.1.jar:3.4.1]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\n    reactor.core.publisher.Mono.flatMap\n</code></pre>\n<p>I know I am not supposed to use <code>block()</code> but I have no other choice: the function has to return a <code>Boolean</code> (not a <code>Mono&lt;Boolean&gt;</code>). Perhaps there is an alternative way to write it which doesn't use <code>block()</code>.</p>\n<p>Is there a way I can make <code>WebTestClient</code> not throw that error?</p>\n<p>Using Reactor Core version <code>3.4.6</code>.</p>\n"},{"tags":["java","mapstruct","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546507861,"creation_date":1546507861,"answer_id":54019501,"question_id":53938338,"body_markdown":"Yes you can use [Updating existing bean instances](http://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances) from MapStruct to do the updates you are looking for.\r\n\r\nThe mapper would look like:\r\n\r\n    @Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE, nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\r\n    public interface PersonMapper {\r\n    \r\n        void update(@MappingTarget Person toUpdate, Person person);\r\n    \r\n        void update(@MappingTarget Address toUpdate, Address address);\r\n    }\r\n\r\nThe generated code for this would look like:\r\n\r\n    public class PersonMapperImpl implements PersonMapper {\r\n    \r\n        @Override\r\n        public void update(Person toUpdate, Person person) {\r\n            if ( person == null ) {\r\n                return;\r\n            }\r\n    \r\n            if ( person.getName() != null ) {\r\n                toUpdate.setName( person.getName() );\r\n            }\r\n            if ( person.getAddress() != null ) {\r\n                if ( toUpdate.getAddress() == null ) {\r\n                    toUpdate.setAddress( new Address() );\r\n                }\r\n                update( toUpdate.getAddress(), person.getAddress() );\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void update(Address toUpdate, Address address) {\r\n            if ( address == null ) {\r\n                return;\r\n            }\r\n    \r\n            if ( address.getStreet() != null ) {\r\n                toUpdate.setStreet( address.getStreet() );\r\n            }\r\n            if ( address.getHome() != null ) {\r\n                toUpdate.setHome( address.getHome() );\r\n            }\r\n        }\r\n    }\r\n\r\n* `nullValuePropertyMappingStrategy` - The strategy to be applied when a source bean property is `null` or not present. The default is to set the value to target value to `null`\r\n* `nullValueCheckStrategy` - Determines when to include a `null` check on the source property value of a bean mapping\r\n\r\n**NB** The `nullValuePropertyMappingStrategy` is from MapStruct 1.3.0.Beta2","title":"How recursively update nested objects from one object by another use mapstruct or modelmapper?","body":"<p>Yes you can use <a href=\"http://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">Updating existing bean instances</a> from MapStruct to do the updates you are looking for.</p>\n\n<p>The mapper would look like:</p>\n\n<pre><code>@Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE, nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\npublic interface PersonMapper {\n\n    void update(@MappingTarget Person toUpdate, Person person);\n\n    void update(@MappingTarget Address toUpdate, Address address);\n}\n</code></pre>\n\n<p>The generated code for this would look like:</p>\n\n<pre><code>public class PersonMapperImpl implements PersonMapper {\n\n    @Override\n    public void update(Person toUpdate, Person person) {\n        if ( person == null ) {\n            return;\n        }\n\n        if ( person.getName() != null ) {\n            toUpdate.setName( person.getName() );\n        }\n        if ( person.getAddress() != null ) {\n            if ( toUpdate.getAddress() == null ) {\n                toUpdate.setAddress( new Address() );\n            }\n            update( toUpdate.getAddress(), person.getAddress() );\n        }\n    }\n\n    @Override\n    public void update(Address toUpdate, Address address) {\n        if ( address == null ) {\n            return;\n        }\n\n        if ( address.getStreet() != null ) {\n            toUpdate.setStreet( address.getStreet() );\n        }\n        if ( address.getHome() != null ) {\n            toUpdate.setHome( address.getHome() );\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li><code>nullValuePropertyMappingStrategy</code> - The strategy to be applied when a source bean property is <code>null</code> or not present. The default is to set the value to target value to <code>null</code></li>\n<li><code>nullValueCheckStrategy</code> - Determines when to include a <code>null</code> check on the source property value of a bean mapping</li>\n</ul>\n\n<p><strong>NB</strong> The <code>nullValuePropertyMappingStrategy</code> is from MapStruct 1.3.0.Beta2</p>\n"},{"tags":[],"owner":{"account_id":10390033,"reputation":76,"user_id":7661683,"display_name":"Radzivon Hrechukha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685626702,"creation_date":1685626702,"answer_id":76382493,"question_id":53938338,"body_markdown":"Although the existing answer is correct, there&#39;s another solution which does not require defining methods for all inner objects. I personally faced similar issue to define mappers for all inner classes when trying to map lots of Embeddable objects with the requirement to not replace but leave original instances of them.\r\n\r\nAccording to [official documentation][1] mapper behavior can be controlled using the `mappingControl` property. Combining `mappingControl = DeepClone.class` with `@BeanMapping` we can write very simple mapper:\r\n\r\n```\r\n    @BeanMapping(mappingControl = DeepClone.class)\r\n    public abstract User updateFields(@MappingTarget User oldUser, User newUser);\r\n```\r\n\r\nand generated mapper implementaion will go through inner objects and update them with the new values:\r\n```\r\n    @Override\r\n    public User updateFields(User oldUser, User newUser) {\r\n        if ( newUser == null ) {\r\n            return oldUser;\r\n        }\r\n\r\n        oldUser.setName( newUser.getName() );\r\n        oldUser.setEmail( newUser.getEmail() );\r\n        if ( newUser.getDepartment() != null ) {\r\n            if ( oldUser.getDepartment() == null ) {\r\n                oldUser.setDepartment( new Department() );\r\n            }\r\n            departmentToDepartment( newUser.getDepartment(), oldUser.getDepartment() );\r\n        }\r\n        else {\r\n            oldUser.setDepartment( null );\r\n        }\r\n\r\n        return oldUser;\r\n    }\r\n\r\n    protected void departmentToDepartment(Department department, Department mappingTarget) {\r\n        if ( department == null ) {\r\n            return;\r\n        }\r\n\r\n        mappingTarget.setName( department.getName() );\r\n        mappingTarget.setAddress( department.getAddress() );\r\n    }\r\n```\r\n\r\nNote that generated `departmentToDepartment` method sets all fields of the `Department` class one-by-one instead of just setting the reference to `department` from new object to mapping target.\r\n\r\nP.S.\r\n\r\nSource of `User.class`:\r\n```\r\npublic class User {\r\n    private String name;\r\n    private String email;\r\n    private Department department;\r\n}\r\n```\r\nSource of `Department.class`:\r\n```\r\npublic class Department {\r\n    private String name;\r\n    private String address;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-object-references","title":"How recursively update nested objects from one object by another use mapstruct or modelmapper?","body":"<p>Although the existing answer is correct, there's another solution which does not require defining methods for all inner objects. I personally faced similar issue to define mappers for all inner classes when trying to map lots of Embeddable objects with the requirement to not replace but leave original instances of them.</p>\n<p>According to <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-object-references\" rel=\"nofollow noreferrer\">official documentation</a> mapper behavior can be controlled using the <code>mappingControl</code> property. Combining <code>mappingControl = DeepClone.class</code> with <code>@BeanMapping</code> we can write very simple mapper:</p>\n<pre><code>    @BeanMapping(mappingControl = DeepClone.class)\n    public abstract User updateFields(@MappingTarget User oldUser, User newUser);\n</code></pre>\n<p>and generated mapper implementaion will go through inner objects and update them with the new values:</p>\n<pre><code>    @Override\n    public User updateFields(User oldUser, User newUser) {\n        if ( newUser == null ) {\n            return oldUser;\n        }\n\n        oldUser.setName( newUser.getName() );\n        oldUser.setEmail( newUser.getEmail() );\n        if ( newUser.getDepartment() != null ) {\n            if ( oldUser.getDepartment() == null ) {\n                oldUser.setDepartment( new Department() );\n            }\n            departmentToDepartment( newUser.getDepartment(), oldUser.getDepartment() );\n        }\n        else {\n            oldUser.setDepartment( null );\n        }\n\n        return oldUser;\n    }\n\n    protected void departmentToDepartment(Department department, Department mappingTarget) {\n        if ( department == null ) {\n            return;\n        }\n\n        mappingTarget.setName( department.getName() );\n        mappingTarget.setAddress( department.getAddress() );\n    }\n</code></pre>\n<p>Note that generated <code>departmentToDepartment</code> method sets all fields of the <code>Department</code> class one-by-one instead of just setting the reference to <code>department</code> from new object to mapping target.</p>\n<p>P.S.</p>\n<p>Source of <code>User.class</code>:</p>\n<pre><code>public class User {\n    private String name;\n    private String email;\n    private Department department;\n}\n</code></pre>\n<p>Source of <code>Department.class</code>:</p>\n<pre><code>public class Department {\n    private String name;\n    private String address;\n}\n</code></pre>\n"}],"owner":{"account_id":15013013,"reputation":109,"user_id":10836883,"display_name":"human547234923750547"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3457,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1685626702,"creation_date":1545868519,"question_id":53938338,"body_markdown":"Better i explain my task by an example of what I want to get.\r\nIs it possible to solve this use mapstruct / modelmapper / etc?\r\n\r\n\r\n    class Person{\r\n        String name;\r\n        Address address;\r\n    }\r\n    \r\n    class Address{\r\n        String street;\r\n        Integer home;\r\n    }\r\n\r\nUpdates:\r\n\r\n    {\r\n        name: &quot;Bob&quot;\r\n        address: {\r\n                     street: &quot;Abbey Road&quot;\r\n                 }\r\n    }\r\n\r\nTarget:\r\n\r\n    {\r\n        name: &quot;Michael&quot;\r\n        address: {\r\n                     street: &quot;Kitano&quot;\r\n                     home: 5\r\n                 }\r\n    }\r\n\r\nAnd as result i want get:\r\n\r\n    {\r\n        name: &quot;Bob&quot;\r\n        address: {\r\n                     street: &quot;Abbey Road&quot;\r\n                     home: 5\r\n                 }\r\n    }\r\n\r\nIt must&#39;t rewrite Address object. It recursively set new values in it.\r\n\r\n","title":"How recursively update nested objects from one object by another use mapstruct or modelmapper?","body":"<p>Better i explain my task by an example of what I want to get.\nIs it possible to solve this use mapstruct / modelmapper / etc?</p>\n\n<pre><code>class Person{\n    String name;\n    Address address;\n}\n\nclass Address{\n    String street;\n    Integer home;\n}\n</code></pre>\n\n<p>Updates:</p>\n\n<pre><code>{\n    name: \"Bob\"\n    address: {\n                 street: \"Abbey Road\"\n             }\n}\n</code></pre>\n\n<p>Target:</p>\n\n<pre><code>{\n    name: \"Michael\"\n    address: {\n                 street: \"Kitano\"\n                 home: 5\n             }\n}\n</code></pre>\n\n<p>And as result i want get:</p>\n\n<pre><code>{\n    name: \"Bob\"\n    address: {\n                 street: \"Abbey Road\"\n                 home: 5\n             }\n}\n</code></pre>\n\n<p>It must't rewrite Address object. It recursively set new values in it.</p>\n"},{"tags":["java","maven","jaxb","wsdl"],"comments":[{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1488627287,"post_id":42582550,"comment_id":72322080,"body_markdown":"Can you post w1/w2.wsdl (maybe in simplified form)?","body":"Can you post w1/w2.wsdl (maybe in simplified form)?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1488640782,"post_id":42582550,"comment_id":72326311,"body_markdown":"@ScottKurz Will be happy to, but it will have to wait until Monday (Eastern US Time); just tried to get into my work computer and there&#39;s something wrong with the login sequence...","body":"@ScottKurz Will be happy to, but it will have to wait until Monday (Eastern US Time); just tried to get into my work computer and there&#39;s something wrong with the login sequence..."},{"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"score":0,"creation_date":1638442577,"post_id":42582550,"comment_id":124091309,"body_markdown":"the simplest way for jaxb2-maven-plugin is here https://stackoverflow.com/a/10613686","body":"the simplest way for jaxb2-maven-plugin is here <a href=\"https://stackoverflow.com/a/10613686\">stackoverflow.com/a/10613686</a>"}],"answers":[{"tags":[],"owner":{"account_id":11758413,"reputation":31,"user_id":8605352,"display_name":"Adam T Poole"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505331253,"creation_date":1505331253,"answer_id":46205528,"question_id":42582550,"body_markdown":"I just got done converting to from the old jaxb2-maven-plugin that is a dependency of only 1 other project in Maven to maven-jaxb2-plugin which is a dependency for 18. There seems to be much more documentation for it. Check out the [JAXB2 Maven Plugin Wiki][1]\r\n\r\nHere is a pom.xml example:\r\n\r\n    &lt;build&gt;\r\n  \t&lt;plugins&gt;\r\n\t  &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.13.2&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t  &lt;execution&gt;\r\n\t\t\t&lt;id&gt;generate&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t  &lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t  &lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t  &lt;schemaDirectory&gt;src/main/resources/&lt;/schemaDirectory&gt;\r\n\t\t  &lt;generateDirectory&gt;${project.build.directory}/generated-sources/jaxb&lt;/generateDirectory&gt;\r\n\t\t  &lt;schemaIncludes&gt;\r\n\t\t  \t&lt;include&gt;MyXSD.xsd&lt;/include&gt;\r\n\t\t  &lt;/schemaIncludes&gt;\r\n\t\t  &lt;schemaExcludes&gt;\r\n\t\t  \t&lt;include&gt;ObeXSD.xsd&lt;/include&gt;\r\n\t\t  &lt;/schemaExcludes&gt;\r\n\t\t  &lt;args&gt;\r\n\t\t  \t&lt;arg&gt;-Xannotate&lt;/arg&gt;\r\n\t\t  &lt;/args&gt;\r\n\t\t  &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-basics-annotate&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t  &lt;/plugins&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t  &lt;/plugin&gt;\r\n\t  &lt;plugin&gt;\r\n\t  \t  &lt;inherited&gt;true&lt;/inherited&gt;\r\n\t\t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t  &lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t  &lt;target&gt;1.7&lt;/target&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t  &lt;/plugin&gt;\r\n\r\n  [1]: https://github.com/highsource/maven-jaxb2-plugin/wiki#quick-start\r\n\r\nHere is an example xsd:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n\t    xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n\t    jaxb:version=&quot;2.1&quot; \r\n\t    xmlns:annox=&quot;http://annox.dev.java.net&quot; \r\n\t    jaxb:extensionBindingPrefixes=&quot;annox&quot;&gt;\r\n        &lt;xsd:complexType name=&quot;AbstractProblemClass&quot; abstract=&quot;true&quot;&gt;\r\n\t\t&lt;xsd:sequence /&gt;\r\n        &lt;/xsd:complexType&gt;\r\n\r\n        &lt;xsd:complexType name=&quot;ConcreteClass&quot;&gt;\r\n\t\t&lt;xsd:annotation&gt;\r\n\t\t\t&lt;xsd:appinfo&gt;\r\n\t\t\t\t&lt;annox:annotate target=&quot;class&quot;&gt;@javax.xml.bind.annotation.XmlRootElement&lt;/annox:annotate&gt;\r\n\t\t\t&lt;/xsd:appinfo&gt;\r\n\t\t&lt;/xsd:annotation&gt;\r\n\t\t&lt;xsd:complexContent&gt;\r\n\t\t\t&lt;xsd:extension base=&quot;AbstractProblemClass&quot;&gt;\r\n\t\t\t\t&lt;xsd:sequence&gt;\r\n\t\t\t\t\t&lt;xsd:element name=&quot;Stuff&quot; type=&quot;xsd:String&quot; /&gt;\r\n\t\t\t\t&lt;/xsd:sequence&gt;\r\n\t\t\t&lt;/xsd:extension&gt;\r\n\t\t&lt;/xsd:complexContent&gt;\r\n        &lt;/xsd:complexType&gt;\r\n    &lt;/xsd:schema&gt;","title":"Want @XmlRootElement in classes generated by jaxb2-maven-plugin","body":"<p>I just got done converting to from the old jaxb2-maven-plugin that is a dependency of only 1 other project in Maven to maven-jaxb2-plugin which is a dependency for 18. There seems to be much more documentation for it. Check out the <a href=\"https://github.com/highsource/maven-jaxb2-plugin/wiki#quick-start\" rel=\"nofollow noreferrer\">JAXB2 Maven Plugin Wiki</a></p>\n\n<p>Here is a pom.xml example:</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.13.2&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;generate&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;schemaDirectory&gt;src/main/resources/&lt;/schemaDirectory&gt;\n      &lt;generateDirectory&gt;${project.build.directory}/generated-sources/jaxb&lt;/generateDirectory&gt;\n      &lt;schemaIncludes&gt;\n        &lt;include&gt;MyXSD.xsd&lt;/include&gt;\n      &lt;/schemaIncludes&gt;\n      &lt;schemaExcludes&gt;\n        &lt;include&gt;ObeXSD.xsd&lt;/include&gt;\n      &lt;/schemaExcludes&gt;\n      &lt;args&gt;\n        &lt;arg&gt;-Xannotate&lt;/arg&gt;\n      &lt;/args&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-basics-annotate&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n      &lt;inherited&gt;true&lt;/inherited&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>Here is an example xsd:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n    xmlns:jaxb=\"http://java.sun.com/xml/ns/jaxb\"\n    jaxb:version=\"2.1\" \n    xmlns:annox=\"http://annox.dev.java.net\" \n    jaxb:extensionBindingPrefixes=\"annox\"&gt;\n    &lt;xsd:complexType name=\"AbstractProblemClass\" abstract=\"true\"&gt;\n    &lt;xsd:sequence /&gt;\n    &lt;/xsd:complexType&gt;\n\n    &lt;xsd:complexType name=\"ConcreteClass\"&gt;\n    &lt;xsd:annotation&gt;\n        &lt;xsd:appinfo&gt;\n            &lt;annox:annotate target=\"class\"&gt;@javax.xml.bind.annotation.XmlRootElement&lt;/annox:annotate&gt;\n        &lt;/xsd:appinfo&gt;\n    &lt;/xsd:annotation&gt;\n    &lt;xsd:complexContent&gt;\n        &lt;xsd:extension base=\"AbstractProblemClass\"&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element name=\"Stuff\" type=\"xsd:String\" /&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:extension&gt;\n    &lt;/xsd:complexContent&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5728675,"reputation":21,"user_id":4524905,"display_name":"Rasto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685626643,"creation_date":1685626643,"answer_id":76382483,"question_id":42582550,"body_markdown":"For jakarta based annotations (Spring Boot 3 uses them eg) this one worked for me:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;verbose&gt;true&lt;/verbose&gt;\r\n                            &lt;packageName&gt;package.name&lt;/packageName&gt;\r\n                            &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n                            &lt;xjbSources&gt;\r\n                                &lt;xjbSource&gt;src/main/resources/bindings.xjb&lt;/xjbSource&gt;\r\n                            &lt;/xjbSources&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;src/main/resources/wsdl/some.wsdl&lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nbindings.xjb file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt; &lt;jxb:bindings version=&quot;3.0&quot; xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n                  jxb:extensionBindingPrefixes=&quot;xjc&quot;&gt;\r\n        &lt;jxb:globalBindings&gt;\r\n            &lt;xjc:simple/&gt; &lt;!-- adds @XmlRootElement annotations --&gt;\r\n        &lt;/jxb:globalBindings&gt; &lt;/jxb:bindings&gt;\r\n\r\n","title":"Want @XmlRootElement in classes generated by jaxb2-maven-plugin","body":"<p>For jakarta based annotations (Spring Boot 3 uses them eg) this one worked for me:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb2-maven-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;verbose&gt;true&lt;/verbose&gt;\n                        &lt;packageName&gt;package.name&lt;/packageName&gt;\n                        &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n                        &lt;xjbSources&gt;\n                            &lt;xjbSource&gt;src/main/resources/bindings.xjb&lt;/xjbSource&gt;\n                        &lt;/xjbSources&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;src/main/resources/wsdl/some.wsdl&lt;/source&gt;\n                        &lt;/sources&gt;\n                        &lt;outputDirectory&gt;target/generated-sources/&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>bindings.xjb file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt; &lt;jxb:bindings version=&quot;3.0&quot; xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\n              jxb:extensionBindingPrefixes=&quot;xjc&quot;&gt;\n    &lt;jxb:globalBindings&gt;\n        &lt;xjc:simple/&gt; &lt;!-- adds @XmlRootElement annotations --&gt;\n    &lt;/jxb:globalBindings&gt; &lt;/jxb:bindings&gt;\n</code></pre>\n"}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10431,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1685626643,"creation_date":1488554341,"question_id":42582550,"body_markdown":"I have one set of Java classes generated from a WSDL that work fine; I&#39;m adding another WSDL to the project for another webservice I&#39;m using, but I get no @XmlRootElement annotations in the generated classes from the second WSDL, and don&#39;t understand why not.\r\n\r\nHere&#39;s the plugin portion of the pom:\r\n\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;id&gt;xjc&lt;/id&gt;\r\n                      &lt;goals&gt;\r\n                          &lt;goal&gt;xjc&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n              &lt;configuration&gt;\r\n                  &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n                  &lt;sources&gt;\r\n                      &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w1.wsdl&lt;/source&gt;\r\n                      &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w2.wsdl&lt;/source&gt;\r\n                  &lt;/sources&gt;\r\n                  &lt;extension&gt;true&lt;/extension&gt;\r\n                  &lt;xjbSources&gt;\r\n                      &lt;xjbSource&gt;src/main/resources/xjb/bindings.xjb&lt;/xjbSource&gt;\r\n                  &lt;/xjbSources&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnd here&#39;s bindings.xjb:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;jxb:bindings version=&quot;1.0&quot; xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n                  xmlns:xjc= &quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n                  jxb:extensionBindingPrefixes=&quot;xjc&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings&gt;\r\n            &lt;!-- annotate tag here? --&gt;\r\n            &lt;jxb:globalBindings&gt;\r\n                &lt;xjc:simple/&gt;\r\n            &lt;/jxb:globalBindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n\r\n\r\nI read in [this][1] SO post about using an `annotate` tag, so I inserted \r\n\r\n            &lt;annox:annotate&gt;\r\n                &lt;annox:annotate annox:class=&quot;javax.xml.bind.annotation.XmlRootElement&quot; /&gt;\r\n            &lt;/annox:annotate&gt;\r\n\r\n\r\nat the indicated place in the bindings.xjb file, but of course I don&#39;t have a definition for the `annox` prefix, so that doesn&#39;t work. The post doesn&#39;t indicate where that&#39;s defined.\r\n\r\nI&#39;ve also been through multiple answers in [this][2] SO post; unfortunately the various methods each leave out some steps. For instance, I&#39;m willing to call marshall and unmarshall methods directly, but I need to know where to get the &quot;JAXBContext&quot; they speak of, and what the unmarshall call looks like, or where to look it up.\r\n\r\nIs `annox` the correct way to do this? Is there another correct way to do this?\r\n\r\n  [1]: https://stackoverflow.com/questions/18665053/generating-java-classes-using-maven-jaxb2-plugin &quot;this&quot;\r\n  [2]: https://stackoverflow.com/questions/819720/no-xmlrootelement-generated-by-jaxb","title":"Want @XmlRootElement in classes generated by jaxb2-maven-plugin","body":"<p>I have one set of Java classes generated from a WSDL that work fine; I'm adding another WSDL to the project for another webservice I'm using, but I get no @XmlRootElement annotations in the generated classes from the second WSDL, and don't understand why not.</p>\n\n<p>Here's the plugin portion of the pom:</p>\n\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.2&lt;/version&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;id&gt;xjc&lt;/id&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;xjc&lt;/goal&gt;\n                  &lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n              &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n              &lt;sources&gt;\n                  &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w1.wsdl&lt;/source&gt;\n                  &lt;source&gt;${resources.path}my-module/src/main/resources/wsdl/w2.wsdl&lt;/source&gt;\n              &lt;/sources&gt;\n              &lt;extension&gt;true&lt;/extension&gt;\n              &lt;xjbSources&gt;\n                  &lt;xjbSource&gt;src/main/resources/xjb/bindings.xjb&lt;/xjbSource&gt;\n              &lt;/xjbSources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>And here's bindings.xjb:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;jxb:bindings version=\"1.0\" xmlns:jxb=\"http://java.sun.com/xml/ns/jaxb\"\n              xmlns:xjc= \"http://java.sun.com/xml/ns/jaxb/xjc\"\n              jxb:extensionBindingPrefixes=\"xjc\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;\n    &lt;jxb:bindings&gt;\n        &lt;!-- annotate tag here? --&gt;\n        &lt;jxb:globalBindings&gt;\n            &lt;xjc:simple/&gt;\n        &lt;/jxb:globalBindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n\n<p>I read in <a href=\"https://stackoverflow.com/questions/18665053/generating-java-classes-using-maven-jaxb2-plugin\" title=\"this\">this</a> SO post about using an <code>annotate</code> tag, so I inserted </p>\n\n<pre><code>        &lt;annox:annotate&gt;\n            &lt;annox:annotate annox:class=\"javax.xml.bind.annotation.XmlRootElement\" /&gt;\n        &lt;/annox:annotate&gt;\n</code></pre>\n\n<p>at the indicated place in the bindings.xjb file, but of course I don't have a definition for the <code>annox</code> prefix, so that doesn't work. The post doesn't indicate where that's defined.</p>\n\n<p>I've also been through multiple answers in <a href=\"https://stackoverflow.com/questions/819720/no-xmlrootelement-generated-by-jaxb\">this</a> SO post; unfortunately the various methods each leave out some steps. For instance, I'm willing to call marshall and unmarshall methods directly, but I need to know where to get the \"JAXBContext\" they speak of, and what the unmarshall call looks like, or where to look it up.</p>\n\n<p>Is <code>annox</code> the correct way to do this? Is there another correct way to do this?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1553003056,"creation_date":1553002063,"answer_id":55242179,"question_id":55241976,"body_markdown":"Using an executor makes things complicated, with regard to managing committed offsets; it is not recommended.\r\n\r\nWith `@KafkaListener`, the framework creates a `ConcurrentKafkaListenerContainerFactory` for you.\r\n\r\n`concurrency` on the annotation is just a convenience; it overrides the factory setting.\r\n\r\nThis allows you to use the same factory with multiple listeners, each with different concurrency.\r\n\r\nYou can set the container concurrency (default) using a boot property; that value is overridden by the annotation value; see the javadocs...\r\n\r\n\t/**\r\n\t * Override the container factory&#39;s {@code concurrency} setting for this listener. May\r\n\t * be a property placeholder or SpEL expression that evaluates to a {@link Number}, in\r\n\t * which case {@link Number#intValue()} is used to obtain the value.\r\n\t * &lt;p&gt;SpEL {@code #{...}} and property place holders {@code ${...}} are supported.\r\n\t * @return the concurrency.\r\n\t * @since 2.2\r\n\t */\r\n\tString concurrency() default &quot;&quot;;\r\n","title":"How can I process @KafkaListener method in different threads?","body":"<p>Using an executor makes things complicated, with regard to managing committed offsets; it is not recommended.</p>\n\n<p>With <code>@KafkaListener</code>, the framework creates a <code>ConcurrentKafkaListenerContainerFactory</code> for you.</p>\n\n<p><code>concurrency</code> on the annotation is just a convenience; it overrides the factory setting.</p>\n\n<p>This allows you to use the same factory with multiple listeners, each with different concurrency.</p>\n\n<p>You can set the container concurrency (default) using a boot property; that value is overridden by the annotation value; see the javadocs...</p>\n\n<pre><code>/**\n * Override the container factory's {@code concurrency} setting for this listener. May\n * be a property placeholder or SpEL expression that evaluates to a {@link Number}, in\n * which case {@link Number#intValue()} is used to obtain the value.\n * &lt;p&gt;SpEL {@code #{...}} and property place holders {@code ${...}} are supported.\n * @return the concurrency.\n * @since 2.2\n */\nString concurrency() default \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561358667,"creation_date":1561358667,"answer_id":56731102,"question_id":55241976,"body_markdown":"`concurrency` option has nothing to do with concurrently processing the messages received by the same consumer. It&#39;s for consumer groups when you have multiple consumers that each processes their own partitions.\r\n\r\nPassing the processing to a separate thread is very complicated and Spring-Kafka team decided not to do that &quot;by design&quot;, I believe. You don&#39;t even need to dig into Spring-Kafka to understand why. Check the [KafkaConsumer&#39;s][1] ***Detecting Consumer Failures*** doc:\r\n\r\n&gt; Some care must be taken to ensure that committed offsets do not get\r\n&gt; ahead of the actual position. Typically, you must disable automatic\r\n&gt; commits and manually commit processed offsets for records only after\r\n&gt; the thread has finished handling them (depending on the delivery\r\n&gt; semantics you need). Note also that you will need to pause the\r\n&gt; partition so that no new records are received from poll until after\r\n&gt; thread has finished handling those previously returned.\r\n\r\n\r\n  [1]: https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#position-org.apache.kafka.common.TopicPartition-","title":"How can I process @KafkaListener method in different threads?","body":"<p><code>concurrency</code> option has nothing to do with concurrently processing the messages received by the same consumer. It's for consumer groups when you have multiple consumers that each processes their own partitions.</p>\n\n<p>Passing the processing to a separate thread is very complicated and Spring-Kafka team decided not to do that \"by design\", I believe. You don't even need to dig into Spring-Kafka to understand why. Check the <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#position-org.apache.kafka.common.TopicPartition-\" rel=\"noreferrer\">KafkaConsumer's</a> <strong><em>Detecting Consumer Failures</em></strong> doc:</p>\n\n<blockquote>\n  <p>Some care must be taken to ensure that committed offsets do not get\n  ahead of the actual position. Typically, you must disable automatic\n  commits and manually commit processed offsets for records only after\n  the thread has finished handling them (depending on the delivery\n  semantics you need). Note also that you will need to pause the\n  partition so that no new records are received from poll until after\n  thread has finished handling those previously returned.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3960968,"reputation":153,"user_id":4974813,"display_name":"entimaniac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685626324,"creation_date":1685626324,"answer_id":76382436,"question_id":55241976,"body_markdown":"Kinda old question I found here, but I don&#39;t think I see an actual answer about processing messages on different threads.\r\n\r\nIf you don&#39;t mind committing your messages with no regard to processing, you can take advantage of `@Async` on your processing logic (and make sure your project has `@EnableAsync` on your application).\r\n\r\nRead the messages in your listener:\r\n```\r\n  @KafkaListener(topics = &quot;my_topic&quot;)\r\n  void listen(ConsumerRecord&lt;String, String&gt; record) {\r\n    messageHandlingService.processMessage(record.value());\r\n  }\r\n```\r\nAnd then in a separate service, annotate your async processing message:\r\n``` \r\n @Async\r\n  public void processMessage(String messageString) {\r\n    // do stuff here\r\n  }\r\n```\r\n\r\nNow you can read multiple messages without being blocked by processing them. With all things, there are challenges and caveats and possible configurations, but this might help get you started.","title":"How can I process @KafkaListener method in different threads?","body":"<p>Kinda old question I found here, but I don't think I see an actual answer about processing messages on different threads.</p>\n<p>If you don't mind committing your messages with no regard to processing, you can take advantage of <code>@Async</code> on your processing logic (and make sure your project has <code>@EnableAsync</code> on your application).</p>\n<p>Read the messages in your listener:</p>\n<pre><code>  @KafkaListener(topics = &quot;my_topic&quot;)\n  void listen(ConsumerRecord&lt;String, String&gt; record) {\n    messageHandlingService.processMessage(record.value());\n  }\n</code></pre>\n<p>And then in a separate service, annotate your async processing message:</p>\n<pre><code> @Async\n  public void processMessage(String messageString) {\n    // do stuff here\n  }\n</code></pre>\n<p>Now you can read multiple messages without being blocked by processing them. With all things, there are challenges and caveats and possible configurations, but this might help get you started.</p>\n"}],"owner":{"account_id":2861266,"reputation":6734,"user_id":4781349,"accept_rate":33,"display_name":"ip696"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10696,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55242179,"answer_count":3,"score":2,"last_activity_date":1685626324,"creation_date":1553001338,"question_id":55241976,"body_markdown":"I have kafka handler in spring boot:\r\n\r\n        @KafkaListener(topics = &quot;topic-one&quot;, groupId = &quot;response&quot;)\r\n        public void listen(String response) {\r\n            myService.processResponse(response);\r\n        }\r\n\r\nFor example producer send one message every second. But `myService.processResponse` work 10 seconds. I need handle each message and start `myService.processResponse` in new thread. I can create my executor and delegate each response to it. But I think there are another configs in kafka for them. I found 2:\r\n\r\n1) add `concurrency = &quot;5&quot;` to `@KafkaListener` annotation - It seems to be working. But I&#39;m not sure how correct, because I have second way:\r\n\r\n2) I can create `ConcurrentKafkaListenerContainerFactory` and set to it `ConsumerFactory` and `concurrency`\r\n\r\nI do not understand the difference between these methods? is it enough just to add `concurrency = &quot;5&quot;` to `@KafkaListener` annotation or I need create `ConcurrentKafkaListenerContainerFactory`? \r\n\r\nOr I do not understand anything at all and is there another way?","title":"How can I process @KafkaListener method in different threads?","body":"<p>I have kafka handler in spring boot:</p>\n\n<pre><code>    @KafkaListener(topics = \"topic-one\", groupId = \"response\")\n    public void listen(String response) {\n        myService.processResponse(response);\n    }\n</code></pre>\n\n<p>For example producer send one message every second. But <code>myService.processResponse</code> work 10 seconds. I need handle each message and start <code>myService.processResponse</code> in new thread. I can create my executor and delegate each response to it. But I think there are another configs in kafka for them. I found 2:</p>\n\n<p>1) add <code>concurrency = \"5\"</code> to <code>@KafkaListener</code> annotation - It seems to be working. But I'm not sure how correct, because I have second way:</p>\n\n<p>2) I can create <code>ConcurrentKafkaListenerContainerFactory</code> and set to it <code>ConsumerFactory</code> and <code>concurrency</code></p>\n\n<p>I do not understand the difference between these methods? is it enough just to add <code>concurrency = \"5\"</code> to <code>@KafkaListener</code> annotation or I need create <code>ConcurrentKafkaListenerContainerFactory</code>? </p>\n\n<p>Or I do not understand anything at all and is there another way?</p>\n"},{"tags":["java","xml","ant","build.xml","vxml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685630648,"post_id":76382373,"comment_id":134690043,"body_markdown":"Where did you get that from? The current project on Github is built using Gradle, not th","body":"Where did you get that from? The current project on Github is built using Gradle, not th"},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1685698439,"post_id":76382373,"comment_id":134700599,"body_markdown":"I get it on sourceforge (https://sourceforge.net/projects/jvoicexml/files/latest/download) because they provide the java installer so i didnt need gradle.","body":"I get it on sourceforge (<a href=\"https://sourceforge.net/projects/jvoicexml/files/latest/download\" rel=\"nofollow noreferrer\">sourceforge.net/projects/jvoicexml/files/latest/download</a>) because they provide the java installer so i didnt need gradle."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685699234,"post_id":76382373,"comment_id":134700760,"body_markdown":"But you haven&#39;t got an *installer*. You&#39;ve got Ant - which isn&#39;t working. I would use the current Gradle version. Everything you need will be there","body":"But you haven&#39;t got an <i>installer</i>. You&#39;ve got Ant - which isn&#39;t working. I would use the current Gradle version. Everything you need will be there"},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1685714643,"post_id":76382373,"comment_id":134704072,"body_markdown":"If I&#39;m not mistaken, ANT allows to build project just as Gradle do. So you tell just install with gradle anyways ?","body":"If I&#39;m not mistaken, ANT allows to build project just as Gradle do. So you tell just install with gradle anyways ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685716095,"post_id":76382373,"comment_id":134704390,"body_markdown":"Yes. You don&#39;t even need to &#39;install&#39; Gradle (unlike Ant). Just run `gradlew(.bat)`","body":"Yes. You don&#39;t even need to &#39;install&#39; Gradle (unlike Ant). Just run <code>gradlew(.bat)</code>"},{"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"score":0,"creation_date":1685717465,"post_id":76382373,"comment_id":134704694,"body_markdown":"I&#39;m really thankfull for yours answears but I&#39;m a bit lost with the gradle version of the JVoiceXML project. Now i ran gradlew.bat, what do i do to run the demo ( i tried to found out by myself but as i said, i&#39;m new to these technologies).\n\nPS : When i was using ant version of the project, i used to, run the &quot;startup.bat&quot; file that start the JVoiceXML consol, and then go in demo folder (org.jvoicexml.demo.helloworlddemo for exemple ) and then run &quot; ant run &quot; on an other command promt.","body":"I&#39;m really thankfull for yours answears but I&#39;m a bit lost with the gradle version of the JVoiceXML project. Now i ran gradlew.bat, what do i do to run the demo ( i tried to found out by myself but as i said, i&#39;m new to these technologies).  PS : When i was using ant version of the project, i used to, run the &quot;startup.bat&quot; file that start the JVoiceXML consol, and then go in demo folder (org.jvoicexml.demo.helloworlddemo for exemple ) and then run &quot; ant run &quot; on an other command promt."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685717625,"post_id":76382373,"comment_id":134704739,"body_markdown":"Tbh I don&#39;t use Gradle myself. I would read a primer on it","body":"Tbh I don&#39;t use Gradle myself. I would read a primer on it"}],"owner":{"account_id":28728255,"reputation":1,"user_id":22000707,"display_name":"Florian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685625836,"creation_date":1685625836,"question_id":76382373,"body_markdown":"I&#39;m trying to run JVoiceXML demo but I&#39;m new to all theses new technologies. I succeed to run the demo except the servlet one (in which one you have to work with tomcat. The problem is: when I try to &quot;ant war&quot;, an error appears: \r\n&quot;BUILD FAILED\r\nC:\\Users\\a904778\\JVoiceXML\\V1\\demo\\org.jvoicexml.demo.helloworldservletdemo\\build.xml:113: jvxml.xml.lib doesn&#39;t denote a zipfileset or a fileset&quot;\r\n\r\nHere&#39;s my build.xml : \r\n\r\n```\r\n&lt;project name=&quot;HelloWorldServlet&quot; default=&quot;war&quot; basedir=&quot;.&quot;&gt;\r\n    &lt;description&gt;\r\nThis file builds the &#39;Hello world&#39; demo for JVoiceXML for a servlet container.\r\n\r\nThis demo consists of two servlets. The &#39;HelloWorldServlet&#39; as the initial\r\nservlet greets the user and passes a goodbye message to the next servlet,\r\nthe &#39;GoodbyServlet&#39;.\r\n\r\nYou will need a servlet container, i.e. tomcat, to run this demo.\r\n\r\nYou will need to adapt the settings for your servlet container in the file\r\n../personal-props/ant.properties.\r\nCall target checkJEE to check the current settings.\r\n\r\nI order to run the demo you will first have to call\r\nant war\r\nto create a deployable war file. After the installation in you sevlet\r\ncontainer, call\r\nant run\r\nto run the client.\r\n    &lt;/description&gt;\r\n\r\n    &lt;!-- allow the user to override setting in an own propertiesfile. --&gt;\r\n    &lt;property file=&quot;../personal-props/ant.properties&quot; /&gt;\r\n    &lt;property file=&quot;../config-props/ant.properties&quot; /&gt;\r\n\r\n    &lt;!-- Load the settings for 3rdparty libraries --&gt;\r\n    &lt;import file=&quot;3rdparty-libs.xml&quot; /&gt;\r\n\r\n    &lt;target name=&quot;-setup&quot; depends=&quot;-local-3rdparty-setup&quot;&gt;\r\n        &lt;!-- The component built here--&gt;\r\n        &lt;property name=&quot;component&quot;\r\n            value=&quot;org.jvoicexml.demo.helloworldservletdemo&quot;/&gt;\r\n        &lt;property name=&quot;component.path&quot;\r\n          value=&quot;org/jvoicexml/demo/helloworldservletdemo&quot;/&gt;\r\n\r\n        &lt;property name=&quot;src&quot; value=&quot;src&quot; /&gt;\r\n        &lt;property name=&quot;build&quot; value=&quot;classes&quot; /&gt;\r\n        &lt;property name=&quot;config&quot; value=&quot;config&quot; /&gt;\r\n        &lt;property name=&quot;dist&quot; value=&quot;${jvxml.core.dir}/dist&quot; /&gt;\r\n\r\n        &lt;property name=&quot;dist.war&quot; value=&quot;${dist}/${component}.war&quot; /&gt;\r\n\r\n        &lt;property name=&quot;optimize&quot; value=&quot;off&quot; /&gt;\r\n        &lt;property name=&quot;debug&quot; value=&quot;on&quot; /&gt;\r\n\r\n        &lt;!-- the used class path --&gt;\r\n        &lt;path id=&quot;build.classpath&quot;&gt;\r\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\r\n            &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\r\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\r\n        &lt;/path&gt;\r\n\r\n        &lt;path id=&quot;run.classpath&quot;&gt;\r\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\r\n            &lt;fileset refid=&quot;rhino.lib&quot; /&gt;\r\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\r\n        &lt;/path&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;-init&quot; depends=&quot;-setup&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build}&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;-checkJVoiceXML&quot;&gt;\r\n        &lt;available classname=&quot;org.jvoicexml.JVoiceXml&quot; property=&quot;jvoicexml.present&quot; classpathref=&quot;build.classpath&quot; /&gt;\r\n        &lt;fail unless=&quot;jvoicexml.present&quot;&gt;\r\nCannot find jvoicexml libraries needed to build this demo.\r\nBuild this jar from the main project first.\r\n    &lt;/fail&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;checkJEE&quot; description=&quot;Check JEE library settings&quot; depends=&quot;-init&quot;&gt;\r\n        &lt;available classname=&quot;javax.servlet.http.HttpServlet&quot; property=&quot;servlet.available&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/available&gt;\r\n        &lt;fail unless=&quot;servlet.available&quot;&gt;\r\nCannot find servlet libraries at &#39;${servlet.lib.dir}&#39;.\r\nAdapt the settings for your servlet container in the file\r\n../personal-props/ant.properties.\r\n      &lt;/fail&gt;\r\n        &lt;echo message=&quot;servlet.lib.dir = &#39;${servlet.lib.dir}&#39; usable:${servlet.available}&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;clean&quot; description=&quot;Remove all compiled and distribution files&quot;&gt;\r\n        &lt;delete dir=&quot;${build}&quot; /&gt;\r\n        &lt;delete file=&quot;${jar.file}&quot; /&gt;\r\n        &lt;delete file=&quot;${war.file}&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;-init,-checkJVoiceXML&quot; description=&quot;Compile the JAVA sources&quot;&gt;\r\n        &lt;copy todir=&quot;${build}&quot;&gt;\r\n            &lt;fileset dir=&quot;${config}&quot;&gt;\r\n                &lt;include name=&quot;**/*.xml&quot; /&gt;\r\n                &lt;include name=&quot;**/*.properties&quot; /&gt;\r\n                &lt;include name=&quot;**/*.policy&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;echo message=&quot;compiling with debug=${debug}, optimize=${optimize}&quot; /&gt;\r\n        &lt;javac destdir=&quot;${build}&quot; optimize=&quot;${optimize}&quot; debug=&quot;${debug}&quot;\r\n            deprecation=&quot;on&quot; includeantruntime=&quot;false&quot;&gt;\r\n            &lt;src path=&quot;${src}&quot; /&gt;\r\n            &lt;include name=&quot;**/*.java&quot; /&gt;\r\n            &lt;classpath refid=&quot;build.classpath&quot; /&gt;\r\n            &lt;compilerarg value=&quot;-Xlint:unchecked&quot; /&gt;\r\n        &lt;/javac&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;war&quot; depends=&quot;compile&quot; description=&quot;Pack all compiled servlet files into a single war&quot;&gt;\r\n        &lt;war destfile=&quot;${dist.war}&quot; webxml=&quot;WebContent/WEB-INF/web.xml&quot;&gt;\r\n            &lt;lib refid=&quot;log4j.lib&quot; /&gt;\r\n            &lt;lib refid=&quot;jvxml.xml.lib&quot; /&gt;\r\n            &lt;classes dir=&quot;${build}&quot;&gt;\r\n                &lt;include name=&quot;**/*Servlet.class&quot; /&gt;\r\n            &lt;/classes&gt;\r\n            &lt;classes dir=&quot;config&quot;&gt;\r\n                &lt;include name=&quot;log4j.xml&quot; /&gt;\r\n            &lt;/classes&gt;\r\n            &lt;fileset dir=&quot;WebContent&quot;&gt;\r\n                &lt;include name=&quot;*.html&quot; /&gt;\r\n                &lt;include name=&quot;META-INF/**&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/war&gt;\r\n\r\n        &lt;echo message=&quot;Install ${dist.war} to your servlet container!&quot; /&gt;\r\n        &lt;echo message=&quot;Then call &#39;ant run&#39; to run the client&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;run&quot; description=&quot;Run the &#39;hello world servlet demo&#39; demo&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;java classname=&quot;org.jvoicexml.demo.helloworldservletdemo.HelloWorldDemo&quot; fork=&quot;true&quot;&gt;\r\n            &lt;jvmarg value=&quot;-Djava.security.policy=${build}/jvoicexml.policy&quot; /&gt;\r\n            &lt;classpath&gt;\r\n                &lt;path refid=&quot;run.classpath&quot; /&gt;\r\n                &lt;pathelement path=&quot;${build}&quot; /&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;arg value=&quot;http://127.0.0.1:8080/helloworldservletdemo/HelloWorld&quot; /&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;checkstyle&quot; description=&quot;Check for JVoiceXML coding standard&quot; depends=&quot;compile, -initcheckstyle&quot; if=&quot;checkstyle.present&quot;&gt;\r\n        &lt;property name=&quot;checkstyle-target.dir&quot; value=&quot;${dist}/checkstyle/${component}&quot; /&gt;\r\n        &lt;mkdir dir=&quot;${checkstyle-target.dir}&quot; /&gt;\r\n        &lt;property name=&quot;checkstyle.data&quot; value=&quot;${checkstyle-target.dir}/checkstyle-data.xml&quot; /&gt;\r\n        &lt;checkstyle config=&quot;${jvxml.core.dir}/etc/jvoicexml-checks.xml&quot; failonviolation=&quot;false&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;pathelement path=&quot;${project.classpath}&quot; /&gt;\r\n                &lt;pathelement location=&quot;${build}&quot; /&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;classpath refid=&quot;jvxml.core.lib&quot; /&gt;\r\n            &lt;fileset dir=&quot;${src}&quot;&gt;\r\n                &lt;include name=&quot;${component.path}/**/*.java&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;formatter type=&quot;xml&quot; tofile=&quot;${checkstyle.data}&quot; /&gt;\r\n        &lt;/checkstyle&gt;\r\n        &lt;xslt style=&quot;${jvxml.core.dir}/etc/checkstyle-frames.xsl&quot; in=&quot;${checkstyle.data}&quot; out=&quot;${checkstyle-target.dir}/report.html&quot;&gt;\r\n            &lt;param name=&quot;output.dir&quot; expression=&quot;${checkstyle-target.dir}&quot; /&gt;\r\n        &lt;/xslt&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;all&quot; depends=&quot;run, war&quot; description=&quot;create binaries&quot; /&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI really try to find out what was the problem, but I didn&#39;t. Can someone could help me?\r\n\r\nI tried to look in every folder to understand, looked on the internet to understand build.xml files but nothing.\r\n\r\nPS: I need this war in order to deploy it on tomcat server","title":"Ant command &#39;war&#39; fails with error &#39;jvxml.xml.lib doesn&#39;t denote a zipfileset or a fileset&#39;","body":"<p>I'm trying to run JVoiceXML demo but I'm new to all theses new technologies. I succeed to run the demo except the servlet one (in which one you have to work with tomcat. The problem is: when I try to &quot;ant war&quot;, an error appears:\n&quot;BUILD FAILED\nC:\\Users\\a904778\\JVoiceXML\\V1\\demo\\org.jvoicexml.demo.helloworldservletdemo\\build.xml:113: jvxml.xml.lib doesn't denote a zipfileset or a fileset&quot;</p>\n<p>Here's my build.xml :</p>\n<pre><code>&lt;project name=&quot;HelloWorldServlet&quot; default=&quot;war&quot; basedir=&quot;.&quot;&gt;\n    &lt;description&gt;\nThis file builds the 'Hello world' demo for JVoiceXML for a servlet container.\n\nThis demo consists of two servlets. The 'HelloWorldServlet' as the initial\nservlet greets the user and passes a goodbye message to the next servlet,\nthe 'GoodbyServlet'.\n\nYou will need a servlet container, i.e. tomcat, to run this demo.\n\nYou will need to adapt the settings for your servlet container in the file\n../personal-props/ant.properties.\nCall target checkJEE to check the current settings.\n\nI order to run the demo you will first have to call\nant war\nto create a deployable war file. After the installation in you sevlet\ncontainer, call\nant run\nto run the client.\n    &lt;/description&gt;\n\n    &lt;!-- allow the user to override setting in an own propertiesfile. --&gt;\n    &lt;property file=&quot;../personal-props/ant.properties&quot; /&gt;\n    &lt;property file=&quot;../config-props/ant.properties&quot; /&gt;\n\n    &lt;!-- Load the settings for 3rdparty libraries --&gt;\n    &lt;import file=&quot;3rdparty-libs.xml&quot; /&gt;\n\n    &lt;target name=&quot;-setup&quot; depends=&quot;-local-3rdparty-setup&quot;&gt;\n        &lt;!-- The component built here--&gt;\n        &lt;property name=&quot;component&quot;\n            value=&quot;org.jvoicexml.demo.helloworldservletdemo&quot;/&gt;\n        &lt;property name=&quot;component.path&quot;\n          value=&quot;org/jvoicexml/demo/helloworldservletdemo&quot;/&gt;\n\n        &lt;property name=&quot;src&quot; value=&quot;src&quot; /&gt;\n        &lt;property name=&quot;build&quot; value=&quot;classes&quot; /&gt;\n        &lt;property name=&quot;config&quot; value=&quot;config&quot; /&gt;\n        &lt;property name=&quot;dist&quot; value=&quot;${jvxml.core.dir}/dist&quot; /&gt;\n\n        &lt;property name=&quot;dist.war&quot; value=&quot;${dist}/${component}.war&quot; /&gt;\n\n        &lt;property name=&quot;optimize&quot; value=&quot;off&quot; /&gt;\n        &lt;property name=&quot;debug&quot; value=&quot;on&quot; /&gt;\n\n        &lt;!-- the used class path --&gt;\n        &lt;path id=&quot;build.classpath&quot;&gt;\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\n            &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\n        &lt;/path&gt;\n\n        &lt;path id=&quot;run.classpath&quot;&gt;\n            &lt;fileset refid=&quot;log4j.lib&quot; /&gt;\n            &lt;fileset refid=&quot;rhino.lib&quot; /&gt;\n            &lt;path refid=&quot;jvxml.core.lib&quot; /&gt;\n        &lt;/path&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;-init&quot; depends=&quot;-setup&quot;&gt;\n        &lt;mkdir dir=&quot;${build}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;-checkJVoiceXML&quot;&gt;\n        &lt;available classname=&quot;org.jvoicexml.JVoiceXml&quot; property=&quot;jvoicexml.present&quot; classpathref=&quot;build.classpath&quot; /&gt;\n        &lt;fail unless=&quot;jvoicexml.present&quot;&gt;\nCannot find jvoicexml libraries needed to build this demo.\nBuild this jar from the main project first.\n    &lt;/fail&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;checkJEE&quot; description=&quot;Check JEE library settings&quot; depends=&quot;-init&quot;&gt;\n        &lt;available classname=&quot;javax.servlet.http.HttpServlet&quot; property=&quot;servlet.available&quot;&gt;\n            &lt;classpath&gt;\n                &lt;fileset refid=&quot;servlet.lib&quot; /&gt;\n            &lt;/classpath&gt;\n        &lt;/available&gt;\n        &lt;fail unless=&quot;servlet.available&quot;&gt;\nCannot find servlet libraries at '${servlet.lib.dir}'.\nAdapt the settings for your servlet container in the file\n../personal-props/ant.properties.\n      &lt;/fail&gt;\n        &lt;echo message=&quot;servlet.lib.dir = '${servlet.lib.dir}' usable:${servlet.available}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;clean&quot; description=&quot;Remove all compiled and distribution files&quot;&gt;\n        &lt;delete dir=&quot;${build}&quot; /&gt;\n        &lt;delete file=&quot;${jar.file}&quot; /&gt;\n        &lt;delete file=&quot;${war.file}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot; depends=&quot;-init,-checkJVoiceXML&quot; description=&quot;Compile the JAVA sources&quot;&gt;\n        &lt;copy todir=&quot;${build}&quot;&gt;\n            &lt;fileset dir=&quot;${config}&quot;&gt;\n                &lt;include name=&quot;**/*.xml&quot; /&gt;\n                &lt;include name=&quot;**/*.properties&quot; /&gt;\n                &lt;include name=&quot;**/*.policy&quot; /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n        &lt;echo message=&quot;compiling with debug=${debug}, optimize=${optimize}&quot; /&gt;\n        &lt;javac destdir=&quot;${build}&quot; optimize=&quot;${optimize}&quot; debug=&quot;${debug}&quot;\n            deprecation=&quot;on&quot; includeantruntime=&quot;false&quot;&gt;\n            &lt;src path=&quot;${src}&quot; /&gt;\n            &lt;include name=&quot;**/*.java&quot; /&gt;\n            &lt;classpath refid=&quot;build.classpath&quot; /&gt;\n            &lt;compilerarg value=&quot;-Xlint:unchecked&quot; /&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;war&quot; depends=&quot;compile&quot; description=&quot;Pack all compiled servlet files into a single war&quot;&gt;\n        &lt;war destfile=&quot;${dist.war}&quot; webxml=&quot;WebContent/WEB-INF/web.xml&quot;&gt;\n            &lt;lib refid=&quot;log4j.lib&quot; /&gt;\n            &lt;lib refid=&quot;jvxml.xml.lib&quot; /&gt;\n            &lt;classes dir=&quot;${build}&quot;&gt;\n                &lt;include name=&quot;**/*Servlet.class&quot; /&gt;\n            &lt;/classes&gt;\n            &lt;classes dir=&quot;config&quot;&gt;\n                &lt;include name=&quot;log4j.xml&quot; /&gt;\n            &lt;/classes&gt;\n            &lt;fileset dir=&quot;WebContent&quot;&gt;\n                &lt;include name=&quot;*.html&quot; /&gt;\n                &lt;include name=&quot;META-INF/**&quot; /&gt;\n            &lt;/fileset&gt;\n        &lt;/war&gt;\n\n        &lt;echo message=&quot;Install ${dist.war} to your servlet container!&quot; /&gt;\n        &lt;echo message=&quot;Then call 'ant run' to run the client&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;run&quot; description=&quot;Run the 'hello world servlet demo' demo&quot; depends=&quot;compile&quot;&gt;\n        &lt;java classname=&quot;org.jvoicexml.demo.helloworldservletdemo.HelloWorldDemo&quot; fork=&quot;true&quot;&gt;\n            &lt;jvmarg value=&quot;-Djava.security.policy=${build}/jvoicexml.policy&quot; /&gt;\n            &lt;classpath&gt;\n                &lt;path refid=&quot;run.classpath&quot; /&gt;\n                &lt;pathelement path=&quot;${build}&quot; /&gt;\n            &lt;/classpath&gt;\n            &lt;arg value=&quot;http://127.0.0.1:8080/helloworldservletdemo/HelloWorld&quot; /&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;checkstyle&quot; description=&quot;Check for JVoiceXML coding standard&quot; depends=&quot;compile, -initcheckstyle&quot; if=&quot;checkstyle.present&quot;&gt;\n        &lt;property name=&quot;checkstyle-target.dir&quot; value=&quot;${dist}/checkstyle/${component}&quot; /&gt;\n        &lt;mkdir dir=&quot;${checkstyle-target.dir}&quot; /&gt;\n        &lt;property name=&quot;checkstyle.data&quot; value=&quot;${checkstyle-target.dir}/checkstyle-data.xml&quot; /&gt;\n        &lt;checkstyle config=&quot;${jvxml.core.dir}/etc/jvoicexml-checks.xml&quot; failonviolation=&quot;false&quot;&gt;\n            &lt;classpath&gt;\n                &lt;pathelement path=&quot;${project.classpath}&quot; /&gt;\n                &lt;pathelement location=&quot;${build}&quot; /&gt;\n            &lt;/classpath&gt;\n            &lt;classpath refid=&quot;jvxml.core.lib&quot; /&gt;\n            &lt;fileset dir=&quot;${src}&quot;&gt;\n                &lt;include name=&quot;${component.path}/**/*.java&quot; /&gt;\n            &lt;/fileset&gt;\n            &lt;formatter type=&quot;xml&quot; tofile=&quot;${checkstyle.data}&quot; /&gt;\n        &lt;/checkstyle&gt;\n        &lt;xslt style=&quot;${jvxml.core.dir}/etc/checkstyle-frames.xsl&quot; in=&quot;${checkstyle.data}&quot; out=&quot;${checkstyle-target.dir}/report.html&quot;&gt;\n            &lt;param name=&quot;output.dir&quot; expression=&quot;${checkstyle-target.dir}&quot; /&gt;\n        &lt;/xslt&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;all&quot; depends=&quot;run, war&quot; description=&quot;create binaries&quot; /&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I really try to find out what was the problem, but I didn't. Can someone could help me?</p>\n<p>I tried to look in every folder to understand, looked on the internet to understand build.xml files but nothing.</p>\n<p>PS: I need this war in order to deploy it on tomcat server</p>\n"},{"tags":["java","microservices","hystrix"],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632200487,"creation_date":1632200487,"answer_id":69263584,"question_id":69263386,"body_markdown":"As per the docs for [Spring Cloud CircuitBreaker GatewayFilter Factory][1]\r\n\r\n&gt; To enable the Spring Cloud CircuitBreaker filter you will need to\r\n&gt; either place spring-cloud-starter-circuitbreaker-reactor-resilience4j\r\n&gt; or spring-cloud-starter-netflix-hystrix on the classpath.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory\r\n\r\nSo, Try after adding below dependencies in your `pom.xml` file :\r\n\r\n1. spring-cloud-starter-gateway\r\n2. spring-cloud-starter-circuitbreaker-reactor-resilience4j\r\n3. spring-cloud-starter-netflix-hystrix","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>As per the docs for <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory\" rel=\"noreferrer\">Spring Cloud CircuitBreaker GatewayFilter Factory</a></p>\n<blockquote>\n<p>To enable the Spring Cloud CircuitBreaker filter you will need to\neither place spring-cloud-starter-circuitbreaker-reactor-resilience4j\nor spring-cloud-starter-netflix-hystrix on the classpath.</p>\n</blockquote>\n<p>So, Try after adding below dependencies in your <code>pom.xml</code> file :</p>\n<ol>\n<li>spring-cloud-starter-gateway</li>\n<li>spring-cloud-starter-circuitbreaker-reactor-resilience4j</li>\n<li>spring-cloud-starter-netflix-hystrix</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17285700,"reputation":121,"user_id":12518452,"display_name":"Mami Alexandre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634243634,"creation_date":1634243634,"answer_id":69577032,"question_id":69263386,"body_markdown":"Check spring-boot version .\r\nI had the same problem . Spent a lot of time to find solution.\r\nProblem was resolved when a change the version of spring-boot in .pom file from 2.5.5 to 2.3.4 Release and spring-cloud.version from 2020.0.4 to Hoxton.SR8\r\n\r\n[![version 2.5.5][1]][1]\r\n\r\n\r\n-----------------------------------------\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n-----------------------------------------------\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n-------------------------------------------\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ut9hI.png\r\n  [2]: https://i.stack.imgur.com/mXFUp.png\r\n  [3]: https://i.stack.imgur.com/d39wS.png\r\n  [4]: https://i.stack.imgur.com/zUsOB.png","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Check spring-boot version .\nI had the same problem . Spent a lot of time to find solution.\nProblem was resolved when a change the version of spring-boot in .pom file from 2.5.5 to 2.3.4 Release and spring-cloud.version from 2020.0.4 to Hoxton.SR8</p>\n<p><a href=\"https://i.stack.imgur.com/Ut9hI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ut9hI.png\" alt=\"version 2.5.5\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/mXFUp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXFUp.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/d39wS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d39wS.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/zUsOB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUsOB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23438485,"reputation":1,"user_id":17496291,"display_name":"BOBY BURMAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639639098,"creation_date":1639637168,"answer_id":70374901,"question_id":69263386,"body_markdown":"use these versions:\r\n```\r\nparent version=2.4.3\r\nspring-cloud version=2020.0.1\r\n```\r\nimport dependencies:\r\n```\r\nspring-cloud-starter-circuitbreaker-reactor-resilience4j\r\njersey-apache-client4\t\t\r\n```\r\nThanks\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>use these versions:</p>\n<pre><code>parent version=2.4.3\nspring-cloud version=2020.0.1\n</code></pre>\n<p>import dependencies:</p>\n<pre><code>spring-cloud-starter-circuitbreaker-reactor-resilience4j\njersey-apache-client4       \n</code></pre>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":12734887,"reputation":183,"user_id":9250139,"display_name":"user9250139"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1641464882,"creation_date":1641464882,"answer_id":70605732,"question_id":69263386,"body_markdown":"Unlike what the docs https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory says about:\r\n\r\nTo enable the Spring Cloud CircuitBreaker filter you will need to either place **spring-cloud-starter-circuitbreaker-reactor-resilience4j or spring-cloud-starter-netflix-hystrix** on the classpath.\r\n\r\nOne will need to have **BOTH** of the dependencies in order to have the auto configuration to configure the SpringCloudCircuitBreakerResilience4JFilterFactory bean.\r\n\r\nie.\r\npom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIt is due to this auto configuration class&#39;s code:\r\n\r\n    @ConditionalOnClass({ DispatcherHandler.class,\r\n    \t\tReactiveResilience4JAutoConfiguration.class,\r\n    \t\tHystrixCircuitBreakerAutoConfiguration.class })\r\n    public class GatewayCircuitBreakerAutoConfiguration {\r\n    and @ConditionalOnClass&#39;s\r\n\r\n javadocs says:\r\n\r\nThe classes that must be present.\r\n\r\nHence whatever listed as the list param to @ConditionalOnClass are in and relationship instead of what the docs claims to be or relationship.","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Unlike what the docs <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory\" rel=\"noreferrer\">https://cloud.spring.io/spring-cloud-gateway/reference/html/#spring-cloud-circuitbreaker-filter-factory</a> says about:</p>\n<p>To enable the Spring Cloud CircuitBreaker filter you will need to either place <strong>spring-cloud-starter-circuitbreaker-reactor-resilience4j or spring-cloud-starter-netflix-hystrix</strong> on the classpath.</p>\n<p>One will need to have <strong>BOTH</strong> of the dependencies in order to have the auto configuration to configure the SpringCloudCircuitBreakerResilience4JFilterFactory bean.</p>\n<p>ie.\npom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>It is due to this auto configuration class's code:</p>\n<pre><code>@ConditionalOnClass({ DispatcherHandler.class,\n        ReactiveResilience4JAutoConfiguration.class,\n        HystrixCircuitBreakerAutoConfiguration.class })\npublic class GatewayCircuitBreakerAutoConfiguration {\nand @ConditionalOnClass's\n</code></pre>\n<p>javadocs says:</p>\n<p>The classes that must be present.</p>\n<p>Hence whatever listed as the list param to @ConditionalOnClass are in and relationship instead of what the docs claims to be or relationship.</p>\n"},{"tags":[],"owner":{"account_id":24057073,"reputation":1,"user_id":18034765,"display_name":"Pradyumn Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643630884,"creation_date":1643175733,"answer_id":70859046,"question_id":69263386,"body_markdown":"Add this dependency in your pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-circuitbreaker-reactor-resilience4j --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Add this dependency in your pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-circuitbreaker-reactor-resilience4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24056093,"reputation":11,"user_id":18033889,"display_name":"Edford Jongwe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643278378,"creation_date":1643270367,"answer_id":70875085,"question_id":69263386,"body_markdown":"Adding these dependencies worked for me. I had to add \r\n```\r\nspring-cloud-starter-circuitbreaker-reactor-circuitbreaker\r\n```\r\nto my pom.xml","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Adding these dependencies worked for me. I had to add</p>\n<pre><code>spring-cloud-starter-circuitbreaker-reactor-circuitbreaker\n</code></pre>\n<p>to my pom.xml</p>\n"},{"tags":[],"owner":{"account_id":10810559,"reputation":79,"user_id":7951276,"display_name":"Ayush Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657422527,"creation_date":1657422527,"answer_id":72925909,"question_id":69263386,"body_markdown":"Adding spring-cloud-starter-circuitbreaker-reactor-resilience4j dependency worked in my case.\r\nI have API-gateway with Java 11 and spring-boot version 2.7.1\r\n\r\nHere is the dependency versions for spring-boot,netflix-hystrix and reilience4j\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n        &lt;!--  lookup parent from repository  --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Adding spring-cloud-starter-circuitbreaker-reactor-resilience4j dependency worked in my case.\nI have API-gateway with Java 11 and spring-boot version 2.7.1</p>\n<p>Here is the dependency versions for spring-boot,netflix-hystrix and reilience4j</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;relativePath/&gt;\n    &lt;!--  lookup parent from repository  --&gt;\n&lt;/parent&gt;\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n        &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n        &lt;version&gt;2.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685625706,"creation_date":1664020245,"answer_id":73837005,"question_id":69263386,"body_markdown":"We need both **spring-cloud-starter-circuitbreaker-reactor-resilience4j** and **spring-cloud-starter-netflix-hystrix** for hystrix configuration\r\nImport the following dependencies\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;{new-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nFallBackController\r\n\r\n    @RestController\r\n    public class FallbackController {\r\n    @RequestMapping(&quot;/orderFallBack&quot;)\r\n    public Mono&lt;String&gt; orderServiceFallBack(){\r\n        return Mono.just(&quot;Order Service is taking too long to respond or is down. Please try again later&quot;);\r\n    }\r\n    @RequestMapping(&quot;/paymentFallBack&quot;)\r\n    public Mono&lt;String&gt; paymentServiceFallBack(){\r\n        return Mono.just(&quot;Payment Service is taking too long to respond or is down. Please try again later&quot;);\r\n    }\r\n    }\r\n\r\nMain Application Class\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    @EnableHystrix\r\n    public class CloudGatewayApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CloudGatewayApplication.class, args);\r\n\t}\r\n    }\r\napplication.properties\r\n\r\n    spring:\r\n      application:\r\n        name: GATEWAY-SERVICE\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: order-service\r\n              uri: lb://ORDER-SERVICE\r\n              predicates:\r\n                - Path=/order/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: order-service\r\n                    fallbackuri: forward:/orderFallBack\r\n            - id: payment-service\r\n              uri: lb://PAYMENT-SERVICE\r\n              predicates:\r\n                - Path=/payment/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: payment-service\r\n                    fallbackuri: forward:/paymentFallBack\r\n    \r\n    server:\r\n      port: 8989\r\n    \r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: true\r\n        service-url:\r\n          defaultZone: http://localhost:8761/eureka/\r\n      instance:\r\n        hostname: localhost\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: hystrix.stream\r\n    \r\n    hystrix:\r\n      command:\r\n        fallbackcmd:\r\n          execution:\r\n            isolation:\r\n              thread:\r\n                timeoutInMilliseconds: 5000\r\n\r\nI hope this helps! Let me know if you have any questions or if there&#39;s anything else I can assist you with.\r\n\r\nHappy coding! &#128104;‚Äç&#128187;\r\n\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>We need both <strong>spring-cloud-starter-circuitbreaker-reactor-resilience4j</strong> and <strong>spring-cloud-starter-netflix-hystrix</strong> for hystrix configuration\nImport the following dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n            &lt;version&gt;{new-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>FallBackController</p>\n<pre><code>@RestController\npublic class FallbackController {\n@RequestMapping(&quot;/orderFallBack&quot;)\npublic Mono&lt;String&gt; orderServiceFallBack(){\n    return Mono.just(&quot;Order Service is taking too long to respond or is down. Please try again later&quot;);\n}\n@RequestMapping(&quot;/paymentFallBack&quot;)\npublic Mono&lt;String&gt; paymentServiceFallBack(){\n    return Mono.just(&quot;Payment Service is taking too long to respond or is down. Please try again later&quot;);\n}\n}\n</code></pre>\n<p>Main Application Class</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@EnableHystrix\npublic class CloudGatewayApplication {\npublic static void main(String[] args) {\n    SpringApplication.run(CloudGatewayApplication.class, args);\n}\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring:\n  application:\n    name: GATEWAY-SERVICE\n  cloud:\n    gateway:\n      routes:\n        - id: order-service\n          uri: lb://ORDER-SERVICE\n          predicates:\n            - Path=/order/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: order-service\n                fallbackuri: forward:/orderFallBack\n        - id: payment-service\n          uri: lb://PAYMENT-SERVICE\n          predicates:\n            - Path=/payment/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: payment-service\n                fallbackuri: forward:/paymentFallBack\n\nserver:\n  port: 8989\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      defaultZone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: hystrix.stream\n\nhystrix:\n  command:\n    fallbackcmd:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 5000\n</code></pre>\n<p>I hope this helps! Let me know if you have any questions or if there's anything else I can assist you with.</p>\n<p>Happy coding! üë®‚Äçüíª</p>\n"},{"tags":[],"owner":{"account_id":22789129,"reputation":81,"user_id":16943764,"display_name":"dinakaran karan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675323440,"creation_date":1675323440,"answer_id":75319947,"question_id":69263386,"body_markdown":"Adding the following dependency in pom.xml worked for me\r\n   \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor- \r\n                resilience4j&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Adding the following dependency in pom.xml worked for me</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor- \n            resilience4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685625678,"creation_date":1685625345,"answer_id":76382301,"question_id":69263386,"body_markdown":"To use Reactor in a Spring Boot project, you need to add the appropriate dependency for Reactor. You can include the Reactor dependency in your project by adding the following entry to your Maven pom.xml file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.fazaltuts4u&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;CloudGateway&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;CloudGateway&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.7&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAdd the following lines of configuration to your application.yaml file:\r\n\r\n    server:\r\n      port: 9090\r\n    \r\n    spring:\r\n      application:\r\n        name: API-GATEWAY\r\n      config:\r\n        import: configserver:http://localhost:9296\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id : ORDER-SERVICE\r\n              uri: lb://ORDER-SERVICE\r\n              predicates:\r\n                - Path=/order/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: ORDER-SERVICE\r\n                    fallbackuri: forward:/orderServiceFallBack\r\n            - id: PRODUCT-SERVICE\r\n              uri: lb://PRODUCT-SERVICE\r\n              predicates:\r\n                - Path=/product/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: PRODUCT-SERVICE\r\n                    fallbackuri: forward:/productServiceFallBack\r\n            - id: PAYMENT-SERVICE\r\n              uri: lb://PAYMENT-SERVICE\r\n              predicates:\r\n                - Path=/payment/**\r\n              filters:\r\n                - name: CircuitBreaker\r\n                  args:\r\n                    name: PAYMENT-SERVICE\r\n                    fallbackuri: forward:/paymentServiceFallBack\r\n\r\nFallbackController file\r\n\r\n    package com.fazaltuts4u.CloudGateway.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class FallbackController {\r\n    \r\n        @GetMapping(&quot;/orderServiceFallBack&quot;)\r\n        public String orderServiceFallback(){\r\n            return &quot;Order Service is down!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/productServiceFallBack&quot;)\r\n        public String productServiceFallback(){\r\n            return &quot;Product Service is down!&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/paymentServiceFallBack&quot;)\r\n        public String paymentServiceFallback(){\r\n            return &quot;Payment Service is down!&quot;;\r\n        }\r\n    }\r\n\r\nMain Class\r\n\r\n    package com.fazaltuts4u.CloudGateway;\r\n    \r\n    import io.github.resilience4j.circuitbreaker.CircuitBreakerConfig;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JCircuitBreakerFactory;\r\n    import org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JConfigBuilder;\r\n    import org.springframework.cloud.client.circuitbreaker.Customizer;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class CloudGatewayApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(CloudGatewayApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Customizer&lt;Resilience4JCircuitBreakerFactory&gt; defaultCustomizer(){\r\n    \t\treturn factory -&gt; factory.configureDefault(\r\n    \t\t\t\tid -&gt; new Resilience4JConfigBuilder(id)\r\n    \t\t\t\t\t\t.circuitBreakerConfig(CircuitBreakerConfig.ofDefaults())\r\n    \t\t\t\t\t\t.build()\r\n    \t\t);\r\n    \t}\r\n    \r\n    }\r\n\r\nI hope this helps! Let me know if you have any questions or if there&#39;s anything else I can assist you with.\r\n\r\nHappy coding! &#128104;‚Äç&#128187;\r\n\r\n\r\n","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>To use Reactor in a Spring Boot project, you need to add the appropriate dependency for Reactor. You can include the Reactor dependency in your project by adding the following entry to your Maven pom.xml file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.fazaltuts4u&lt;/groupId&gt;\n    &lt;artifactId&gt;CloudGateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CloudGateway&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.7&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Add the following lines of configuration to your application.yaml file:</p>\n<pre><code>server:\n  port: 9090\n\nspring:\n  application:\n    name: API-GATEWAY\n  config:\n    import: configserver:http://localhost:9296\n  cloud:\n    gateway:\n      routes:\n        - id : ORDER-SERVICE\n          uri: lb://ORDER-SERVICE\n          predicates:\n            - Path=/order/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: ORDER-SERVICE\n                fallbackuri: forward:/orderServiceFallBack\n        - id: PRODUCT-SERVICE\n          uri: lb://PRODUCT-SERVICE\n          predicates:\n            - Path=/product/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: PRODUCT-SERVICE\n                fallbackuri: forward:/productServiceFallBack\n        - id: PAYMENT-SERVICE\n          uri: lb://PAYMENT-SERVICE\n          predicates:\n            - Path=/payment/**\n          filters:\n            - name: CircuitBreaker\n              args:\n                name: PAYMENT-SERVICE\n                fallbackuri: forward:/paymentServiceFallBack\n</code></pre>\n<p>FallbackController file</p>\n<pre><code>package com.fazaltuts4u.CloudGateway.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class FallbackController {\n\n    @GetMapping(&quot;/orderServiceFallBack&quot;)\n    public String orderServiceFallback(){\n        return &quot;Order Service is down!&quot;;\n    }\n\n    @GetMapping(&quot;/productServiceFallBack&quot;)\n    public String productServiceFallback(){\n        return &quot;Product Service is down!&quot;;\n    }\n\n    @GetMapping(&quot;/paymentServiceFallBack&quot;)\n    public String paymentServiceFallback(){\n        return &quot;Payment Service is down!&quot;;\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>package com.fazaltuts4u.CloudGateway;\n\nimport io.github.resilience4j.circuitbreaker.CircuitBreakerConfig;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JCircuitBreakerFactory;\nimport org.springframework.cloud.circuitbreaker.resilience4j.Resilience4JConfigBuilder;\nimport org.springframework.cloud.client.circuitbreaker.Customizer;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class CloudGatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CloudGatewayApplication.class, args);\n    }\n\n    @Bean\n    public Customizer&lt;Resilience4JCircuitBreakerFactory&gt; defaultCustomizer(){\n        return factory -&gt; factory.configureDefault(\n                id -&gt; new Resilience4JConfigBuilder(id)\n                        .circuitBreakerConfig(CircuitBreakerConfig.ofDefaults())\n                        .build()\n        );\n    }\n\n}\n</code></pre>\n<p>I hope this helps! Let me know if you have any questions or if there's anything else I can assist you with.</p>\n<p>Happy coding! üë®‚Äçüíª</p>\n"}],"owner":{"account_id":21802979,"reputation":81,"user_id":16101543,"display_name":"Swapnil Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14856,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":10,"score":8,"last_activity_date":1685625706,"creation_date":1632198596,"question_id":69263386,"body_markdown":"Properties File\r\n\r\n```\r\nserver:\r\n  port: 8999\r\n  \r\neureka:\r\n  instance:\r\n    hostname: localhost\r\n\r\n    \r\n#Actuator Configuration\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: hystrix.stream, health, info  \r\n        \r\n#Hystrix Configuration\r\nhystrix:\r\n  command:\r\n    fallbackcmd:\r\n      execution:\r\n        isolation:\r\n          thread:\r\n            timeoutInMilliseconds: 4000\r\n\r\n\r\nspring:\r\n  application:\r\n    name: gateway\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: capability-deck\r\n        uri: lb://capability-deck\r\n        predicates:\r\n        - Path=/capability/**\r\n        filters:\r\n            - name: CircuitBreaker\r\n              args:\r\n                name: capability-deck\r\n                fallbackuri: forward:/capabilityServiceFallBack\r\n        \r\n     \r\n      - id: home-page\r\n        uri: lb://home-page\r\n        predicates:\r\n        - Path=/home/**\r\n      \r\n        \r\n      - id: subscription\r\n        uri: lb://subscription\r\n        predicates:\r\n        - Path=/subscription/**\r\n       \r\n       \r\n        \r\n\r\n```\r\n\r\nController\r\n\r\n```\r\npackage com.valuepedia.gateway.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class FallBackController {\r\n\r\n\t@GetMapping(&quot;/subscriptionServiceFallBack&quot;)\r\n    public String userServiceFallBackMethod() {\r\n        return &quot;Subscription Service is taking longer than Expected.&quot; +\r\n                &quot; Please try again later&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/capabilityServiceFallBack&quot;)\r\n    public String capabilityServiceFallBackMethod() {\r\n        return &quot;Capability Service is taking longer than Expected.&quot; +\r\n                &quot; Please try again later&quot;;\r\n    }\r\n    \r\n    @GetMapping(&quot;/homeServiceFallBack&quot;)\r\n    public String homeServiceFallBackMethod() {\r\n        return &quot;Home Service is taking longer than Expected.&quot; +\r\n                &quot; Please try again later&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMain Class\r\n\r\n```\r\npackage com.valuepedia.gateway;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\r\nimport org.springframework.cloud.netflix.hystrix.EnableHystrix;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\n@EnableHystrix\r\npublic class GatewayApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(GatewayApplication.class, args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nGetting error message as\r\n\r\n```none\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m              [2m (v2.5.4)[0;39m\r\n\r\n[2m2021-09-21 09:44:08.705[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m Starting GatewayApplication using Java 15.0.2 on A2568L with PID 7852 (D:\\Valuepedia\\Gateway\\target\\classes started by Swapnil.Soni in D:\\Valuepedia\\Gateway)\r\n[2m2021-09-21 09:44:08.714[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m No active profile set, falling back to default profiles: default\r\n[2m2021-09-21 09:44:10.561[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.actuate.endpoint.EndpointId    [0;39m [2m:[0;39m Endpoint ID &#39;hystrix.stream&#39; contains invalid characters, please migrate to a valid format.\r\n[2m2021-09-21 09:44:13.646[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.cloud.context.scope.GenericScope    [0;39m [2m:[0;39m BeanFactory id=86068429-c6fe-399f-b31b-17fdee65f911\r\n[2m2021-09-21 09:44:14.693[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean &#39;org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[2m2021-09-21 09:44:14.697[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean &#39;org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[2m2021-09-21 09:44:14.701[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean &#39;reactorDeferringLoadBalancerExchangeFilterFunction&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[2m2021-09-21 09:44:15.438[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\r\n[2m2021-09-21 09:44:15.440[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\r\n[2m2021-09-21 09:44:15.463[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\r\n[2m2021-09-21 09:44:15.463[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\r\n[2m2021-09-21 09:44:19.020[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [After]\r\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Before]\r\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Between]\r\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Cookie]\r\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Header]\r\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Host]\r\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Method]\r\n[2m2021-09-21 09:44:19.023[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Path]\r\n[2m2021-09-21 09:44:19.025[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Query]\r\n[2m2021-09-21 09:44:19.026[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [ReadBody]\r\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [RemoteAddr]\r\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Weight]\r\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [CloudFoundryRouteService]\r\n[2m2021-09-21 09:44:21.669[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.a.e.web.EndpointLinksResolver     [0;39m [2m:[0;39m Exposing 3 endpoint(s) beneath base path &#39;/actuator&#39;\r\n[2m2021-09-21 09:44:22.230[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mDiscoveryClientOptionalArgsConfiguration[0;39m [2m:[0;39m Eureka HTTP Client uses RestTemplate.\r\n[2m2021-09-21 09:44:22.424[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36miguration$LoadBalancerCaffeineWarnLogger[0;39m [2m:[0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.\r\n[2m2021-09-21 09:44:22.611[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.eureka.InstanceInfoFactory      [0;39m [2m:[0;39m Setting initial instance status as: STARTING\r\n[2m2021-09-21 09:44:22.800[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Initializing Eureka in region us-east-1\r\n[2m2021-09-21 09:44:22.820[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.d.s.r.aws.ConfigClusterResolver     [0;39m [2m:[0;39m Resolving eureka endpoints via configuration\r\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Disable delta property : false\r\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Single vip registry refresh property : null\r\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Force full registry fetch : false\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application is null : false\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Registered Applications size is zero : true\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application version is -1: true\r\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Getting all instance registry info from the eureka server\r\n[2m2021-09-21 09:44:24.054[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m The response status is 200\r\n[2m2021-09-21 09:44:24.067[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Starting heartbeat executor: renew interval is: 30\r\n[2m2021-09-21 09:44:24.081[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.discovery.InstanceInfoReplicator    [0;39m [2m:[0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4\r\n[2m2021-09-21 09:44:24.119[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Discovery Client initialized at timestamp 1632197664116 with initial instances count: 0\r\n[2m2021-09-21 09:44:24.126[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.e.s.EurekaServiceRegistry       [0;39m [2m:[0;39m Registering application GATEWAY with eureka with status UP\r\n[2m2021-09-21 09:44:24.127[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Saw local status change event StatusChangeEvent [timestamp=1632197664127, current=UP, previous=STARTING]\r\n[2m2021-09-21 09:44:24.131[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999: registering service...\r\n[2m2021-09-21 09:44:24.201[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - registration status: 204\r\n[2m2021-09-21 09:44:24.270[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.gateway.route.CachingRouteLocator [0;39m [2m:[0;39m Refresh routes error !!!\r\n\r\njava.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\r\n\tat org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.loadGatewayFilters(RouteDefinitionRouteLocator.java:130) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.getFilters(RouteDefinitionRouteLocator.java:176) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.convertToRoute(RouteDefinitionRouteLocator.java:117) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmitScalar(FluxFlatMap.java:488) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:421) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.drain(FluxMergeSequential.java:432) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.innerComplete(FluxMergeSequential.java:328) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialInner.onSubscribe(FluxMergeSequential.java:552) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4338) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4453) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4309) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4245) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4217) ~[reactor-core-3.4.9.jar:3.4.9]\r\n\tat org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:81) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:40) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:73) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:54) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:85) ~[spring-cloud-netflix-eureka-client-3.0.3.jar:3.0.3]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat com.valuepedia.gateway.GatewayApplication.main(GatewayApplication.java:15) ~[classes/:na]\r\n\r\n[2m2021-09-21 09:44:24.290[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36monfigReactiveWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;eurekaAutoServiceRegistration&#39;; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\r\n[2m2021-09-21 09:44:24.347[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Shutting down DiscoveryClient ...\r\n[2m2021-09-21 09:44:27.370[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Unregistering ...\r\n[2m2021-09-21 09:44:27.384[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - deregister  status: 200\r\n[2m2021-09-21 09:44:27.538[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Completed shut down of DiscoveryClient\r\n[2m2021-09-21 09:44:27.549[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[2m2021-09-21 09:44:27.593[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;eurekaAutoServiceRegistration&#39;; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.9.jar:5.3.9]\r\n\tat \r\n\r\n```\r\n\r\n\r\nWhen I am trying to run my Gateway application I am getting the following error I have also tried by changing version of spring cloud to Hoxton.SR7 but it is still not working.\r\nPlease provide the solution for it. Also I have implemented the hystrix dashboard but is stuck in loading page only.","title":"Unable to find GatewayFilterFactory with name CircuitBreaker","body":"<p>Properties File</p>\n<pre><code>server:\n  port: 8999\n  \neureka:\n  instance:\n    hostname: localhost\n\n    \n#Actuator Configuration\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: hystrix.stream, health, info  \n        \n#Hystrix Configuration\nhystrix:\n  command:\n    fallbackcmd:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 4000\n\n\nspring:\n  application:\n    name: gateway\n  cloud:\n    gateway:\n      routes:\n      - id: capability-deck\n        uri: lb://capability-deck\n        predicates:\n        - Path=/capability/**\n        filters:\n            - name: CircuitBreaker\n              args:\n                name: capability-deck\n                fallbackuri: forward:/capabilityServiceFallBack\n        \n     \n      - id: home-page\n        uri: lb://home-page\n        predicates:\n        - Path=/home/**\n      \n        \n      - id: subscription\n        uri: lb://subscription\n        predicates:\n        - Path=/subscription/**\n       \n       \n        \n\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.valuepedia.gateway.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class FallBackController {\n\n    @GetMapping(&quot;/subscriptionServiceFallBack&quot;)\n    public String userServiceFallBackMethod() {\n        return &quot;Subscription Service is taking longer than Expected.&quot; +\n                &quot; Please try again later&quot;;\n    }\n\n    @GetMapping(&quot;/capabilityServiceFallBack&quot;)\n    public String capabilityServiceFallBackMethod() {\n        return &quot;Capability Service is taking longer than Expected.&quot; +\n                &quot; Please try again later&quot;;\n    }\n    \n    @GetMapping(&quot;/homeServiceFallBack&quot;)\n    public String homeServiceFallBackMethod() {\n        return &quot;Home Service is taking longer than Expected.&quot; +\n                &quot; Please try again later&quot;;\n    }\n}\n\n</code></pre>\n<p>Main Class</p>\n<pre><code>package com.valuepedia.gateway;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\nimport org.springframework.cloud.netflix.hystrix.EnableHystrix;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\n@EnableEurekaClient\n@EnableHystrix\npublic class GatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>Getting error message as</p>\n<pre class=\"lang-none prettyprint-override\"><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m              [2m (v2.5.4)[0;39m\n\n[2m2021-09-21 09:44:08.705[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m Starting GatewayApplication using Java 15.0.2 on A2568L with PID 7852 (D:\\Valuepedia\\Gateway\\target\\classes started by Swapnil.Soni in D:\\Valuepedia\\Gateway)\n[2m2021-09-21 09:44:08.714[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.valuepedia.gateway.GatewayApplication [0;39m [2m:[0;39m No active profile set, falling back to default profiles: default\n[2m2021-09-21 09:44:10.561[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.actuate.endpoint.EndpointId    [0;39m [2m:[0;39m Endpoint ID 'hystrix.stream' contains invalid characters, please migrate to a valid format.\n[2m2021-09-21 09:44:13.646[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.cloud.context.scope.GenericScope    [0;39m [2m:[0;39m BeanFactory id=86068429-c6fe-399f-b31b-17fdee65f911\n[2m2021-09-21 09:44:14.693[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[2m2021-09-21 09:44:14.697[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[2m2021-09-21 09:44:14.701[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mtrationDelegate$BeanPostProcessorChecker[0;39m [2m:[0;39m Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[2m2021-09-21 09:44:15.438[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\n[2m2021-09-21 09:44:15.440[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\n[2m2021-09-21 09:44:15.463[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m No URLs will be polled as dynamic configuration sources.\n[2m2021-09-21 09:44:15.463[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.c.sources.URLConfigurationSource    [0;39m [2m:[0;39m To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.\n[2m2021-09-21 09:44:19.020[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [After]\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Before]\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Between]\n[2m2021-09-21 09:44:19.021[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Cookie]\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Header]\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Host]\n[2m2021-09-21 09:44:19.022[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Method]\n[2m2021-09-21 09:44:19.023[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Path]\n[2m2021-09-21 09:44:19.025[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Query]\n[2m2021-09-21 09:44:19.026[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [ReadBody]\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [RemoteAddr]\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [Weight]\n[2m2021-09-21 09:44:19.027[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.g.r.RouteDefinitionRouteLocator   [0;39m [2m:[0;39m Loaded RoutePredicateFactory [CloudFoundryRouteService]\n[2m2021-09-21 09:44:21.669[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.a.e.web.EndpointLinksResolver     [0;39m [2m:[0;39m Exposing 3 endpoint(s) beneath base path '/actuator'\n[2m2021-09-21 09:44:22.230[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mDiscoveryClientOptionalArgsConfiguration[0;39m [2m:[0;39m Eureka HTTP Client uses RestTemplate.\n[2m2021-09-21 09:44:22.424[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36miguration$LoadBalancerCaffeineWarnLogger[0;39m [2m:[0;39m Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.\n[2m2021-09-21 09:44:22.611[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.eureka.InstanceInfoFactory      [0;39m [2m:[0;39m Setting initial instance status as: STARTING\n[2m2021-09-21 09:44:22.800[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Initializing Eureka in region us-east-1\n[2m2021-09-21 09:44:22.820[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.d.s.r.aws.ConfigClusterResolver     [0;39m [2m:[0;39m Resolving eureka endpoints via configuration\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Disable delta property : false\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Single vip registry refresh property : null\n[2m2021-09-21 09:44:22.919[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Force full registry fetch : false\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application is null : false\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Registered Applications size is zero : true\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Application version is -1: true\n[2m2021-09-21 09:44:22.920[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Getting all instance registry info from the eureka server\n[2m2021-09-21 09:44:24.054[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m The response status is 200\n[2m2021-09-21 09:44:24.067[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Starting heartbeat executor: renew interval is: 30\n[2m2021-09-21 09:44:24.081[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.n.discovery.InstanceInfoReplicator    [0;39m [2m:[0;39m InstanceInfoReplicator onDemand update allowed rate per min is 4\n[2m2021-09-21 09:44:24.119[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Discovery Client initialized at timestamp 1632197664116 with initial instances count: 0\n[2m2021-09-21 09:44:24.126[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.n.e.s.EurekaServiceRegistry       [0;39m [2m:[0;39m Registering application GATEWAY with eureka with status UP\n[2m2021-09-21 09:44:24.127[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Saw local status change event StatusChangeEvent [timestamp=1632197664127, current=UP, previous=STARTING]\n[2m2021-09-21 09:44:24.131[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999: registering service...\n[2m2021-09-21 09:44:24.201[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[nfoReplicator-0][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - registration status: 204\n[2m2021-09-21 09:44:24.270[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.c.gateway.route.CachingRouteLocator [0;39m [2m:[0;39m Refresh routes error !!!\n\njava.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\n    at org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.loadGatewayFilters(RouteDefinitionRouteLocator.java:130) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.getFilters(RouteDefinitionRouteLocator.java:176) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator.convertToRoute(RouteDefinitionRouteLocator.java:117) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmitScalar(FluxFlatMap.java:488) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:421) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.drain(FluxMergeSequential.java:432) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.innerComplete(FluxMergeSequential.java:328) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialInner.onSubscribe(FluxMergeSequential.java:552) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8411) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:237) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:270) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:228) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:164) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:86) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4338) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4453) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4309) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4245) ~[reactor-core-3.4.9.jar:3.4.9]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4217) ~[reactor-core-3.4.9.jar:3.4.9]\n    at org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:81) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.CachingRouteLocator.onApplicationEvent(CachingRouteLocator.java:40) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:73) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:54) ~[spring-cloud-gateway-server-3.0.3.jar:3.0.3]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:85) ~[spring-cloud-netflix-eureka-client-3.0.3.jar:3.0.3]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar:5.3.9]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar:2.5.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar:2.5.4]\n    at com.valuepedia.gateway.GatewayApplication.main(GatewayApplication.java:15) ~[classes/:na]\n\n[2m2021-09-21 09:44:24.290[0;39m [33m WARN[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36monfigReactiveWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'eurekaAutoServiceRegistration'; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\n[2m2021-09-21 09:44:24.347[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Shutting down DiscoveryClient ...\n[2m2021-09-21 09:44:27.370[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Unregistering ...\n[2m2021-09-21 09:44:27.384[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m DiscoveryClient_GATEWAY/A2568L.corp.ads.valuelabs.net:gateway:8999 - deregister  status: 200\n[2m2021-09-21 09:44:27.538[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.netflix.discovery.DiscoveryClient   [0;39m [2m:[0;39m Completed shut down of DiscoveryClient\n[2m2021-09-21 09:44:27.549[0;39m [32m INFO[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2021-09-21 09:44:27.593[0;39m [31mERROR[0;39m [35m7852[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'eurekaAutoServiceRegistration'; nested exception is java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name CircuitBreaker\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.9.jar:5.3.9]\n    at \n\n</code></pre>\n<p>When I am trying to run my Gateway application I am getting the following error I have also tried by changing version of spring cloud to Hoxton.SR7 but it is still not working.\nPlease provide the solution for it. Also I have implemented the hystrix dashboard but is stuck in loading page only.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1543621474,"post_id":53565534,"comment_id":93998559,"body_markdown":"Do you want to fix it, or just suppress the messages?","body":"Do you want to fix it, or just suppress the messages?"},{"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"score":0,"creation_date":1543683615,"post_id":53565534,"comment_id":94010451,"body_markdown":"@VGR is it a warning only and not an error? I assumed it was preventing the process from running since there is an exit immediately after","body":"@VGR is it a warning only and not an error? I assumed it was preventing the process from running since there is an exit immediately after"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1543685380,"post_id":53565534,"comment_id":94010964,"body_markdown":"Those messages, by themselves, are only warnings, but, as with all warnings in Java, they are worth paying attention to.  They are telling you that serializer-2.7.2.jar and xalan-2.7.2.jar were expecting to find other .jar files on which they depend, in the same directory, but Maven has not assembled them into a single directory when the program is run.  If they are placed in the classpath by other means, your program is probably returning prematurely for other reasons.","body":"Those messages, by themselves, are only warnings, but, as with all warnings in Java, they are worth paying attention to.  They are telling you that serializer-2.7.2.jar and xalan-2.7.2.jar were expecting to find other .jar files on which they depend, in the same directory, but Maven has not assembled them into a single directory when the program is run.  If they are placed in the classpath by other means, your program is probably returning prematurely for other reasons."},{"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"score":0,"creation_date":1543686125,"post_id":53565534,"comment_id":94011177,"body_markdown":"I just double-checked the paths listed and the files are not there. Since this is my first time working with this particular project (I was tasked with upgrading it to Java 11 as a sort of intro to the project), might this be a missing dependency I need to download manually to add?","body":"I just double-checked the paths listed and the files are not there. Since this is my first time working with this particular project (I was tasked with upgrading it to Java 11 as a sort of intro to the project), might this be a missing dependency I need to download manually to add?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1543720403,"post_id":53565534,"comment_id":94018156,"body_markdown":"If the dependency were not in the classpath at all, I would expect your program to throw a NoClassDefFoundError.  I think it‚Äôs more likely that your program needs to be debugged, to determine why it‚Äôs exiting.","body":"If the dependency were not in the classpath at all, I would expect your program to throw a NoClassDefFoundError.  I think it‚Äôs more likely that your program needs to be debugged, to determine why it‚Äôs exiting."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1554822694,"post_id":53565534,"comment_id":97888594,"body_markdown":"`they are placed in the classpath by other means` - they&#39;re probably in the application jar under `BOOT_INF/libs`, loaded by Spring Boot.","body":"<code>they are placed in the classpath by other means</code> - they&#39;re probably in the application jar under <code>BOOT_INF&#47;libs</code>, loaded by Spring Boot."},{"owner":{"account_id":4948196,"reputation":631,"user_id":4727210,"display_name":"mohitmayank"},"score":0,"creation_date":1559037949,"post_id":53565534,"comment_id":99284802,"body_markdown":"@8t12c7081 I&#39;m also trying to upgrade to Spring Boot 2 and the application is terminating prematurely with no logs at all. Were you able to fix it?","body":"@8t12c7081 I&#39;m also trying to upgrade to Spring Boot 2 and the application is terminating prematurely with no logs at all. Were you able to fix it?"},{"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"score":0,"creation_date":1559051707,"post_id":53565534,"comment_id":99292677,"body_markdown":"@mohitmayank there is probably another earlier issue causing your application to exit - look into what the application is doing before it gets to this point","body":"@mohitmayank there is probably another earlier issue causing your application to exit - look into what the application is doing before it gets to this point"},{"owner":{"account_id":4948196,"reputation":631,"user_id":4727210,"display_name":"mohitmayank"},"score":1,"creation_date":1559055351,"post_id":53565534,"comment_id":99294843,"body_markdown":"@8t12c7081 yeah, there was a dependency which was outdated. No idea why it was not printing any logs but just exiting.","body":"@8t12c7081 yeah, there was a dependency which was outdated. No idea why it was not printing any logs but just exiting."},{"owner":{"account_id":10997122,"reputation":121,"user_id":8078910,"accept_rate":67,"display_name":"Jo&#227;o Vieira"},"score":0,"creation_date":1562607806,"post_id":53565534,"comment_id":100420310,"body_markdown":"@mohitmayank which dependency was that ? i&#39;m having the same issue","body":"@mohitmayank which dependency was that ? i&#39;m having the same issue"},{"owner":{"account_id":4948196,"reputation":631,"user_id":4727210,"display_name":"mohitmayank"},"score":0,"creation_date":1562653880,"post_id":53565534,"comment_id":100432354,"body_markdown":"@Jo&#227;oVieira you&#39;ll have to revisit each of your dependencies one by one. for me it was a dependency which is specific to the company that I work in.\nword of advice - update each of the deps to their highest version (compatible with the Spring Boot version you&#39;re upgrading to)","body":"@Jo&#227;oVieira you&#39;ll have to revisit each of your dependencies one by one. for me it was a dependency which is specific to the company that I work in. word of advice - update each of the deps to their highest version (compatible with the Spring Boot version you&#39;re upgrading to)"}],"answers":[{"tags":[],"owner":{"account_id":1098758,"reputation":1662,"user_id":1091731,"display_name":"Illya Kysil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543616296,"creation_date":1543616296,"answer_id":53565664,"question_id":53565534,"body_markdown":"Add `-Xlint:-path` [option][1] to `maven-compiler-plugin`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;arg&gt;-Xlint:-path&lt;/arg&gt;\r\n            &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>Add <code>-Xlint:-path</code> <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">option</a> to <code>maven-compiler-plugin</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-Xlint:-path&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6342850,"reputation":1335,"user_id":4924260,"display_name":"mapm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590770427,"creation_date":1590770427,"answer_id":62090731,"question_id":53565534,"body_markdown":"I had a similar problem after changing my `logback-spring.xml` file.\r\n\r\nThe application wouldn&#39;t start anymore and I could only see some INFO messages like those you described but that wasn&#39;t the actual cause of the problem.\r\n\r\nThe application was failing after that point but couldn&#39;t log any erros messages exactly because of a issue in my `logback-spring.xml`.\r\n\r\nSo if you don&#39;t see any other error messages, try to double check that your logging mechanism is configured correctly.","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I had a similar problem after changing my <code>logback-spring.xml</code> file.</p>\n\n<p>The application wouldn't start anymore and I could only see some INFO messages like those you described but that wasn't the actual cause of the problem.</p>\n\n<p>The application was failing after that point but couldn't log any erros messages exactly because of a issue in my <code>logback-spring.xml</code>.</p>\n\n<p>So if you don't see any other error messages, try to double check that your logging mechanism is configured correctly.</p>\n"},{"tags":[],"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1591903397,"creation_date":1591903397,"answer_id":62331995,"question_id":53565534,"body_markdown":"Since this question continues to get traffic, I will post a summary of the answers and comments - \r\n\r\nThe messages described in the title are warnings, not errors, and should not be causing your app to crash.\r\n\r\nIf your app is crashing, check for errors earlier in the logs which would cause it to exit.\r\n\r\nIn cases where no error output was available, several people reported the issue was caused by an outdated dependency which needed to be updated as part of their Spring/Spring Boot/Java upgrade.","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>Since this question continues to get traffic, I will post a summary of the answers and comments - </p>\n\n<p>The messages described in the title are warnings, not errors, and should not be causing your app to crash.</p>\n\n<p>If your app is crashing, check for errors earlier in the logs which would cause it to exit.</p>\n\n<p>In cases where no error output was available, several people reported the issue was caused by an outdated dependency which needed to be updated as part of their Spring/Spring Boot/Java upgrade.</p>\n"},{"tags":[],"owner":{"account_id":18871770,"reputation":101,"user_id":13766162,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1685625641,"creation_date":1592444742,"answer_id":62441028,"question_id":53565534,"body_markdown":"Please check do you have &quot;spring-boot-devtools dependency&quot; in pom.xml then remove it and try again.\r\n\r\nNote that this simply removes the error log.","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>Please check do you have &quot;spring-boot-devtools dependency&quot; in pom.xml then remove it and try again.</p>\n<p>Note that this simply removes the error log.</p>\n"},{"tags":[],"owner":{"account_id":16733282,"reputation":11,"user_id":12095107,"display_name":"M.Mohammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595109563,"creation_date":1595109563,"answer_id":62974224,"question_id":53565534,"body_markdown":"vm options -Dspring.profiles.active={profileName}","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>vm options -Dspring.profiles.active={profileName}</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605823943,"creation_date":1605823943,"answer_id":64920791,"question_id":53565534,"body_markdown":"In my case the associated failure was due to other silent error (while those notifications were the only output in the log, that&#39;s why I have checked them and there were no log output associated with the actual error).\r\n\r\nI had the wrong `application.yml` structure like this:\r\n\r\n    logging:\r\n      level:\r\n        root: ${LOG_LEVEL:info}\r\n        ru.pflb.foundation.config.RequestResponseLoggingFilter: ${LOG_LEVEL_HTTP:trace}\r\n        org    #&lt;-- that caused the problem\r\n        org:\r\n          apache.kafka.clients.NetworkClient: ERROR\r\n          hibernate: WARN\r\n\r\n","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>In my case the associated failure was due to other silent error (while those notifications were the only output in the log, that's why I have checked them and there were no log output associated with the actual error).</p>\n<p>I had the wrong <code>application.yml</code> structure like this:</p>\n<pre><code>logging:\n  level:\n    root: ${LOG_LEVEL:info}\n    ru.pflb.foundation.config.RequestResponseLoggingFilter: ${LOG_LEVEL_HTTP:trace}\n    org    #&lt;-- that caused the problem\n    org:\n      apache.kafka.clients.NetworkClient: ERROR\n      hibernate: WARN\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12675085,"reputation":23,"user_id":9211195,"display_name":"Yash Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609791002,"creation_date":1609788657,"answer_id":65568684,"question_id":53565534,"body_markdown":"I had the same issue. After a format correction in the configuration file the app started.   ","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I had the same issue. After a format correction in the configuration file the app started.</p>\n"},{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609811383,"creation_date":1609811383,"answer_id":65572184,"question_id":53565534,"body_markdown":"In my case, I have got a similar error when I add a dependency to the `spring-boot-devtools`.\r\n\r\nFor the fast diagnostic you can try to disable (comment out) this dependency","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>In my case, I have got a similar error when I add a dependency to the <code>spring-boot-devtools</code>.</p>\n<p>For the fast diagnostic you can try to disable (comment out) this dependency</p>\n"},{"tags":[],"owner":{"account_id":8458385,"reputation":41,"user_id":6344903,"display_name":"MBill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626275764,"creation_date":1626275764,"answer_id":68380748,"question_id":53565534,"body_markdown":"I removed devtools dependency as well as spring web from pom file and it worked for me, it looks like its devtools dependency which was causing issues with different version of my oracle jar file","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I removed devtools dependency as well as spring web from pom file and it worked for me, it looks like its devtools dependency which was causing issues with different version of my oracle jar file</p>\n"}],"owner":{"account_id":14556223,"reputation":693,"user_id":10513675,"display_name":"8t12c7081"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20419,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":62331995,"answer_count":9,"score":19,"last_activity_date":1685625641,"creation_date":1543615528,"question_id":53565534,"body_markdown":"I am having a problem with Java 11/Spring Boot 2.1 migration where the project compiles but when run returns only:\r\n\r\n    Connected to the target VM, address: &#39;127.0.0.1:5754&#39;, transport: &#39;socket&#39;\r\n    The Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\serializer\\2.7.2\\serializer-2.7.2.jar referenced one or more files that do not exist: \r\n    file:/C:/Users/{user}/.m2/repository/xalan/serializer/2.7.2/xml-apis.jar\r\n    The Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\xalan\\2.7.2\\xalan-2.7.2.jar referenced one or more files that do not exist: \r\n    file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xercesImpl.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xml-apis.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/serializer.jar\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:5754&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 1\r\n\r\nI have tried updating maven versions, maven compiler version, etc.\r\n\r\nHow do I fix this?","title":"The Class-Path manifest attribute in [path] referenced one or more files that do not exist","body":"<p>I am having a problem with Java 11/Spring Boot 2.1 migration where the project compiles but when run returns only:</p>\n\n<pre><code>Connected to the target VM, address: '127.0.0.1:5754', transport: 'socket'\nThe Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\serializer\\2.7.2\\serializer-2.7.2.jar referenced one or more files that do not exist: \nfile:/C:/Users/{user}/.m2/repository/xalan/serializer/2.7.2/xml-apis.jar\nThe Class-Path manifest attribute in C:\\Users\\{user}\\.m2\\repository\\xalan\\xalan\\2.7.2\\xalan-2.7.2.jar referenced one or more files that do not exist: \nfile:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xercesImpl.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/xml-apis.jar,file:/C:/Users/{user}/.m2/repository/xalan/xalan/2.7.2/serializer.jar\nDisconnected from the target VM, address: '127.0.0.1:5754', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I have tried updating maven versions, maven compiler version, etc.</p>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","mapping","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685526314,"creation_date":1685526314,"answer_id":76372160,"question_id":76372159,"body_markdown":"Use ObjectMapper separately for additionalProperty setting\r\n\r\nLike this\r\n\r\n```\r\npublic SettingDto apply(SettingEntity settingEntity) {\r\n\r\n    SettingDto settingDto = mapper.map(settingEntity, SettingDto.class);\r\n\r\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n    String json = null;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    try {\r\n        json = ow.writeValueAsString(settingEntity.getAdditionalProperty());\r\n        settingDto.setAdditionalProperty( mapper.readValue(json, AdditionalPropertyDto.class));\r\n    } catch (JsonProcessingException e) {\r\n        LOGGER.debug(&quot;Error Converting entity to dto...&quot;);\r\n    }\r\n\r\n    return settingDto;\r\n}\r\n```","title":"When converting an Entity to a Bean, Model Mapper returns an empty object","body":"<p>Use ObjectMapper separately for additionalProperty setting</p>\n<p>Like this</p>\n<pre><code>public SettingDto apply(SettingEntity settingEntity) {\n\n    SettingDto settingDto = mapper.map(settingEntity, SettingDto.class);\n\n    ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n    String json = null;\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        json = ow.writeValueAsString(settingEntity.getAdditionalProperty());\n        settingDto.setAdditionalProperty( mapper.readValue(json, AdditionalPropertyDto.class));\n    } catch (JsonProcessingException e) {\n        LOGGER.debug(&quot;Error Converting entity to dto...&quot;);\n    }\n\n    return settingDto;\n}\n</code></pre>\n"}],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76372160,"answer_count":1,"score":0,"last_activity_date":1685625232,"creation_date":1685526314,"question_id":76372159,"body_markdown":"I want to map an entity to a bean class using a model mapper since they both have identical fields except for additional property in the entity class, which is an object type. It works for Dto to entity conversion, however, the additional property in this case returns null.\r\n\r\nBean/ Dto class\r\n\r\n```\r\npublic class SettingDto {\r\n\r\n    private UUID settingUUID;\r\n    private AdditionalPropertyDto additionalProperty;\r\n}\r\n```\r\nAdditionalPropertyDto Class\r\n```\r\npublic class AdditionalPropertyDto {\r\n    private String colorCode;\r\n}\r\n```\r\n\r\nEntity class\r\n```\r\npublic class SettingEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;setting_uuid&quot;, nullable = false)\r\n    private UUID settingUUID;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(name = &quot;additional_property&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private Object additionalProperty;\r\n    \r\n\r\n}\r\n```\r\n\r\nWhen I use this approach, the AdditionalPropertyDto class returns null, and only the UUID obtains mapping.\r\n\r\n\r\n```\r\n  public SettingDto apply(SettingEntity settingEntity) {\r\n        return mapper.map(settingEntity, SettingDto.class);\r\n  }\r\n\r\n```","title":"When converting an Entity to a Bean, Model Mapper returns an empty object","body":"<p>I want to map an entity to a bean class using a model mapper since they both have identical fields except for additional property in the entity class, which is an object type. It works for Dto to entity conversion, however, the additional property in this case returns null.</p>\n<p>Bean/ Dto class</p>\n<pre><code>public class SettingDto {\n\n    private UUID settingUUID;\n    private AdditionalPropertyDto additionalProperty;\n}\n</code></pre>\n<p>AdditionalPropertyDto Class</p>\n<pre><code>public class AdditionalPropertyDto {\n    private String colorCode;\n}\n</code></pre>\n<p>Entity class</p>\n<pre><code>public class SettingEntity {\n\n    @Id\n    @Column(name = &quot;setting_uuid&quot;, nullable = false)\n    private UUID settingUUID;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(name = &quot;additional_property&quot;, columnDefinition = &quot;jsonb&quot;)\n    private Object additionalProperty;\n    \n\n}\n</code></pre>\n<p>When I use this approach, the AdditionalPropertyDto class returns null, and only the UUID obtains mapping.</p>\n<pre><code>  public SettingDto apply(SettingEntity settingEntity) {\n        return mapper.map(settingEntity, SettingDto.class);\n  }\n\n</code></pre>\n"},{"tags":["java","encapsulation","private-methods"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1685563103,"post_id":76376783,"comment_id":134679422,"body_markdown":"You could add a static sum method to the Weight class that takes Weights and returns the sum as a Weight.","body":"You could add a static sum method to the Weight class that takes Weights and returns the sum as a Weight."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1685563991,"post_id":76376783,"comment_id":134679592,"body_markdown":"You could return `new Weight(0, averageOunces)` from the `findAverage()` method.","body":"You could return <code>new Weight(0, averageOunces)</code> from the <code>findAverage()</code> method."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685578495,"post_id":76376783,"comment_id":134681377,"body_markdown":"The link to the assignment isn‚Äôt accessible. Stack Overflow questions should aim to be self-contained, so please copy the assignment text into the question (if that doesn‚Äôt violate academic policy)","body":"The link to the assignment isn‚Äôt accessible. Stack Overflow questions should aim to be self-contained, so please copy the assignment text into the question (if that doesn‚Äôt violate academic policy)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685578728,"post_id":76376783,"comment_id":134681392,"body_markdown":"In general, the way you avoid violating encapsulation is by adding functionality to the encapsulated class. You could add a method to `Weight` that averages itself with another `Weight`. You can average three weights by taking the average of the first two, and then averaging that with the third. I don‚Äôt know if that‚Äôs what the instructor wants, though.","body":"In general, the way you avoid violating encapsulation is by adding functionality to the encapsulated class. You could add a method to <code>Weight</code> that averages itself with another <code>Weight</code>. You can average three weights by taking the average of the first two, and then averaging that with the third. I don‚Äôt know if that‚Äôs what the instructor wants, though."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685581489,"post_id":76376783,"comment_id":134681592,"body_markdown":"Typically, when resolve is required from an alternate source you would create an _[accessor](https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html)_ method.  So in this case, _&quot;getPoundsPerOunce&quot;_, and _&quot;getToOunces&quot;_.  If this appears to be typical for your design pattern, you could try creating an _[interface](https://docs.oracle.com/javase/tutorial/java/concepts/interface.html)_ or _[abstract class](https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)_, for which you can more easily maintain what data is for local use, and what is for an alternate source.","body":"Typically, when resolve is required from an alternate source you would create an <i><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\" rel=\"nofollow noreferrer\">accessor</a></i> method.  So in this case, <i>&quot;getPoundsPerOunce&quot;</i>, and <i>&quot;getToOunces&quot;</i>.  If this appears to be typical for your design pattern, you could try creating an <i><a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">interface</a></i> or <i><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">abstract class</a></i>, for which you can more easily maintain what data is for local use, and what is for an alternate source."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685624296,"post_id":76376783,"comment_id":134688261,"body_markdown":"@Reilas Neither of those is correct.  `toOunces()` is correct as it is, because it‚Äôs not a property of a Weight instance, it‚Äôs operation that‚Äôs performed on a Weight instance.  Pounds per ounce is not a property of any one Weight instance, so it should be static.  The correct solution here is either a static `sum` method like Hulk suggested, or a non-static `add` or `plus` method that takes one Weight argument and returns a new Weight instance.","body":"@Reilas Neither of those is correct.  <code>toOunces()</code> is correct as it is, because it‚Äôs not a property of a Weight instance, it‚Äôs operation that‚Äôs performed on a Weight instance.  Pounds per ounce is not a property of any one Weight instance, so it should be static.  The correct solution here is either a static <code>sum</code> method like Hulk suggested, or a non-static <code>add</code> or <code>plus</code> method that takes one Weight argument and returns a new Weight instance."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685625064,"creation_date":1685625064,"answer_id":76382260,"question_id":76376783,"body_markdown":"OUNCES_IN_A_POUND is private and should remain private.  This is why the Project class cannot access it.\r\n\r\nYou are on the right track:  this is indeed a matter of encapsulation.  What you want to do is encapsulate *all* mathematical operations, inside public methods of the Weight class itself.\r\n\r\nSo, instead of this:\r\n\r\n    double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\r\n    double averageOunces = totalOunces / 3.0;\r\n\r\n    int averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\r\n    double averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\r\n\r\nYou want to write something like this:\r\n\r\n    Weight sum = new Weight(weight1);\r\n    sum.addTo(weight2);\r\n    sum.addTo(weight3);\r\n\r\n    return sum.divideBy(3);\r\n\r\nThis achieves encapsulation by having the Weight class manage all computational operations.  Callers never need to break the encapsulation by manipulating its numeric properties directly.\r\n\r\nAs you can see, a couple additions to Weight are needed:\r\n\r\n    /**\r\n     * Makes a copy of an existing Weight instance.\r\n     *\r\n     * @param other non-null Weight instance to be copied\r\n     */\r\n    public Weight(Weight other) {\r\n        // ...\r\n    }\r\n\r\n    /**\r\n     * Divides this Weight by the given factor.\r\n     *\r\n     * @param divisor amount by which this Weight will be divided\r\n     */\r\n    public void divideBy(double divisor) {\r\n        // ...\r\n    }\r\n\r\nI leave it to you to implement that constructor and that method.\r\n\r\nAs a final note, you may want to consider renaming your `addTo` method to just `add`.  The method is not adding anything to the argument and is not altering the argument in any way;  rather, it is using the argument to add to the instance‚Äôs own value.\r\n","title":"trying to avoid violating encapsulation","body":"<p>OUNCES_IN_A_POUND is private and should remain private.  This is why the Project class cannot access it.</p>\n<p>You are on the right track:  this is indeed a matter of encapsulation.  What you want to do is encapsulate <em>all</em> mathematical operations, inside public methods of the Weight class itself.</p>\n<p>So, instead of this:</p>\n<pre><code>double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\ndouble averageOunces = totalOunces / 3.0;\n\nint averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\ndouble averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\n</code></pre>\n<p>You want to write something like this:</p>\n<pre><code>Weight sum = new Weight(weight1);\nsum.addTo(weight2);\nsum.addTo(weight3);\n\nreturn sum.divideBy(3);\n</code></pre>\n<p>This achieves encapsulation by having the Weight class manage all computational operations.  Callers never need to break the encapsulation by manipulating its numeric properties directly.</p>\n<p>As you can see, a couple additions to Weight are needed:</p>\n<pre><code>/**\n * Makes a copy of an existing Weight instance.\n *\n * @param other non-null Weight instance to be copied\n */\npublic Weight(Weight other) {\n    // ...\n}\n\n/**\n * Divides this Weight by the given factor.\n *\n * @param divisor amount by which this Weight will be divided\n */\npublic void divideBy(double divisor) {\n    // ...\n}\n</code></pre>\n<p>I leave it to you to implement that constructor and that method.</p>\n<p>As a final note, you may want to consider renaming your <code>addTo</code> method to just <code>add</code>.  The method is not adding anything to the argument and is not altering the argument in any way;  rather, it is using the argument to add to the instance‚Äôs own value.</p>\n"}],"owner":{"account_id":26381844,"reputation":9,"user_id":20034972,"display_name":"Oquin123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685625064,"creation_date":1685562139,"question_id":76376783,"body_markdown":"starting some new stuff in Java and im kind of having a hard time. I feel like im on the right track just for some reason cannot find a way around the problem I am having without violating encapsulation. I have these two classes called Weight and Project. I have finished both of them but get errors in the Project class. Which include, &#39;toOunces&#39;, &#39;ounces&#39;, and &#39;OUNCES_IN_A_POUND&#39;. these are private in the Weight class. I already understand that I cannot carry over private variables, methods, ect. from one class to another. I just have no clue how to go about this without violating encapsulation. below i have both the Weight class and the Project class as well as the assignment details. \r\n\r\nI am not looking for anyone to do the work for me as I am just looking for tips, tricks, and suggestions. Also please bear with me as I am still learning the Java language and on the first week of CMIS 242.\r\n\r\n```\r\npublic class Weight {\r\n\r\n    //Private variables\r\n    private static final int OUNCES_IN_A_POUND = 16;\r\n    private int pounds;\r\n    private double ounces;\r\n\r\n    //A public parameterized constructor, which initializes the private variables.\r\n    public Weight(int pounds, double ounces) {\r\n        this.pounds = pounds;\r\n        this.ounces = ounces;\r\n        normalize();\r\n    }\r\n\r\n    //instance methods\r\n    private double toOunces() {\r\n        return (pounds * OUNCES_IN_A_POUND) + ounces;\r\n    }\r\n\r\n    private void normalize() {\r\n        while (ounces &gt;= OUNCES_IN_A_POUND) {\r\n            pounds++;\r\n            ounces -= OUNCES_IN_A_POUND;\r\n        }\r\n    }\r\n\r\n    public boolean lessThan(Weight weight) {\r\n        double thisOunces = toOunces();\r\n        double otherOunces = weight.toOunces();\r\n        return thisOunces &lt; otherOunces;\r\n    }\r\n\r\n    public void addTo(Weight weight) {\r\n        double thisOunces = toOunces();\r\n        double otherOunces = weight.toOunces();\r\n        double totalOunces = thisOunces + otherOunces;\r\n\r\n        pounds = (int) (totalOunces / OUNCES_IN_A_POUND);\r\n        ounces = totalOunces % OUNCES_IN_A_POUND;\r\n        normalize();\r\n    }\r\n\r\n    public String toString() {\r\n        return pounds + &quot; pounds and &quot; + String.format(&quot;%.2f&quot;, ounces) + &quot; ounces&quot;;\r\n    }\r\n}\r\n\r\n----------------------------------------------------------------------------------------------------\r\npublic class Project {\r\n    private static Weight findMinimum(Weight weight1, Weight weight2, Weight weight3) {\r\n        Weight minimumWeight = weight1;\r\n\r\n        if (weight2.lessThan(minimumWeight)) {\r\n            minimumWeight = weight2;\r\n        }\r\n\r\n        if (weight3.lessThan(minimumWeight)) {\r\n            minimumWeight = weight3;\r\n        }\r\n\r\n        return minimumWeight;\r\n    }\r\n\r\n    private static Weight findMaximum(Weight weight1, Weight weight2, Weight weight3) {\r\n        Weight maximumWeight = weight1;\r\n\r\n        if (weight2.toOunces() &gt; maximumWeight.toOunces()) {\r\n            maximumWeight = weight2;\r\n        }\r\n\r\n        if (weight3.toOunces() &gt; maximumWeight.toOunces()) {\r\n            maximumWeight = weight3;\r\n        }\r\n\r\n        return maximumWeight;\r\n    }\r\n\r\n    private static Weight findAverage(Weight weight1, Weight weight2, Weight weight3) {\r\n        double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\r\n        double averageOunces = totalOunces / 3.0;\r\n\r\n        int averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\r\n        double averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\r\n\r\n        return new Weight(averagePounds, averageOuncesRemaining);\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        //instances of the weight class\r\n        Weight weight1 = new Weight(11, 3);\r\n        Weight weight2 = new Weight(7, 20);\r\n        Weight weight3 = new Weight(14, 6);\r\n\r\n        System.out.println(&quot;Weight 1: &quot; + weight1.toString());\r\n        System.out.println(&quot;Weight 2: &quot; + weight2.toString());\r\n        System.out.println(&quot;Weight 3: &quot; + weight3.toString());\r\n\r\n        Weight minimumWeight = findMinimum(weight1, weight2, weight3);\r\n        System.out.println(&quot;The minimum weight is &quot; + minimumWeight.toString());\r\n\r\n        Weight maximumWeight = findMaximum(weight1, weight2, weight3);\r\n        System.out.println(&quot;The maximum weight is &quot; + maximumWeight.toString());\r\n\r\n        Weight averageWeight = findAverage(weight1, weight2, weight3);\r\n        System.out.println(&quot;The average weight is &quot; + averageWeight.toString());\r\n    }\r\n}\r\n```\r\nlink to the PDF file for the assignment details:\r\nhttps://learn.umgc.edu/d2l/common/viewFile.d2lfile/Database/NzQ5OTk1NjE/Assignment1.pdf?ou=1016228\r\n\r\n","title":"trying to avoid violating encapsulation","body":"<p>starting some new stuff in Java and im kind of having a hard time. I feel like im on the right track just for some reason cannot find a way around the problem I am having without violating encapsulation. I have these two classes called Weight and Project. I have finished both of them but get errors in the Project class. Which include, 'toOunces', 'ounces', and 'OUNCES_IN_A_POUND'. these are private in the Weight class. I already understand that I cannot carry over private variables, methods, ect. from one class to another. I just have no clue how to go about this without violating encapsulation. below i have both the Weight class and the Project class as well as the assignment details.</p>\n<p>I am not looking for anyone to do the work for me as I am just looking for tips, tricks, and suggestions. Also please bear with me as I am still learning the Java language and on the first week of CMIS 242.</p>\n<pre><code>public class Weight {\n\n    //Private variables\n    private static final int OUNCES_IN_A_POUND = 16;\n    private int pounds;\n    private double ounces;\n\n    //A public parameterized constructor, which initializes the private variables.\n    public Weight(int pounds, double ounces) {\n        this.pounds = pounds;\n        this.ounces = ounces;\n        normalize();\n    }\n\n    //instance methods\n    private double toOunces() {\n        return (pounds * OUNCES_IN_A_POUND) + ounces;\n    }\n\n    private void normalize() {\n        while (ounces &gt;= OUNCES_IN_A_POUND) {\n            pounds++;\n            ounces -= OUNCES_IN_A_POUND;\n        }\n    }\n\n    public boolean lessThan(Weight weight) {\n        double thisOunces = toOunces();\n        double otherOunces = weight.toOunces();\n        return thisOunces &lt; otherOunces;\n    }\n\n    public void addTo(Weight weight) {\n        double thisOunces = toOunces();\n        double otherOunces = weight.toOunces();\n        double totalOunces = thisOunces + otherOunces;\n\n        pounds = (int) (totalOunces / OUNCES_IN_A_POUND);\n        ounces = totalOunces % OUNCES_IN_A_POUND;\n        normalize();\n    }\n\n    public String toString() {\n        return pounds + &quot; pounds and &quot; + String.format(&quot;%.2f&quot;, ounces) + &quot; ounces&quot;;\n    }\n}\n\n----------------------------------------------------------------------------------------------------\npublic class Project {\n    private static Weight findMinimum(Weight weight1, Weight weight2, Weight weight3) {\n        Weight minimumWeight = weight1;\n\n        if (weight2.lessThan(minimumWeight)) {\n            minimumWeight = weight2;\n        }\n\n        if (weight3.lessThan(minimumWeight)) {\n            minimumWeight = weight3;\n        }\n\n        return minimumWeight;\n    }\n\n    private static Weight findMaximum(Weight weight1, Weight weight2, Weight weight3) {\n        Weight maximumWeight = weight1;\n\n        if (weight2.toOunces() &gt; maximumWeight.toOunces()) {\n            maximumWeight = weight2;\n        }\n\n        if (weight3.toOunces() &gt; maximumWeight.toOunces()) {\n            maximumWeight = weight3;\n        }\n\n        return maximumWeight;\n    }\n\n    private static Weight findAverage(Weight weight1, Weight weight2, Weight weight3) {\n        double totalOunces = weight1.toOunces() + weight2.toOunces() + weight3.toOunces();\n        double averageOunces = totalOunces / 3.0;\n\n        int averagePounds = (int) (averageOunces / Weight.OUNCES_IN_A_POUND);\n        double averageOuncesRemaining = averageOunces % Weight.OUNCES_IN_A_POUND;\n\n        return new Weight(averagePounds, averageOuncesRemaining);\n    }\n\n\n    public static void main(String[] args) {\n        //instances of the weight class\n        Weight weight1 = new Weight(11, 3);\n        Weight weight2 = new Weight(7, 20);\n        Weight weight3 = new Weight(14, 6);\n\n        System.out.println(&quot;Weight 1: &quot; + weight1.toString());\n        System.out.println(&quot;Weight 2: &quot; + weight2.toString());\n        System.out.println(&quot;Weight 3: &quot; + weight3.toString());\n\n        Weight minimumWeight = findMinimum(weight1, weight2, weight3);\n        System.out.println(&quot;The minimum weight is &quot; + minimumWeight.toString());\n\n        Weight maximumWeight = findMaximum(weight1, weight2, weight3);\n        System.out.println(&quot;The maximum weight is &quot; + maximumWeight.toString());\n\n        Weight averageWeight = findAverage(weight1, weight2, weight3);\n        System.out.println(&quot;The average weight is &quot; + averageWeight.toString());\n    }\n}\n</code></pre>\n<p>link to the PDF file for the assignment details:\n<a href=\"https://learn.umgc.edu/d2l/common/viewFile.d2lfile/Database/NzQ5OTk1NjE/Assignment1.pdf?ou=1016228\" rel=\"nofollow noreferrer\">https://learn.umgc.edu/d2l/common/viewFile.d2lfile/Database/NzQ5OTk1NjE/Assignment1.pdf?ou=1016228</a></p>\n"},{"tags":["java","unit-testing","spring-boot"],"comments":[{"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"score":2,"creation_date":1585616482,"post_id":29669393,"comment_id":107818262,"body_markdown":"If you need to configure just a few properties, you can use the new @DynamicPropertySource annotation. https://stackoverflow.com/a/60941845/8650621","body":"If you need to configure just a few properties, you can use the new @DynamicPropertySource annotation. <a href=\"https://stackoverflow.com/a/60941845/8650621\">stackoverflow.com/a/60941845/8650621</a>"},{"owner":{"account_id":4701532,"reputation":636,"user_id":3804977,"display_name":"Pierre-Henri Sudre"},"score":0,"creation_date":1645533846,"post_id":29669393,"comment_id":125891695,"body_markdown":"I used ReflectionTestUtils.setField(myService, &quot;myPropery&quot;, myPropertyValue);","body":"I used ReflectionTestUtils.setField(myService, &quot;myPropery&quot;, myPropertyValue);"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":367,"is_accepted":true,"score":367,"last_activity_date":1429184713,"creation_date":1429184713,"answer_id":29673732,"question_id":29669393,"body_markdown":"You can use `@TestPropertySource` to override values in `application.properties`. From its javadoc:\r\n\r\n&gt; test property sources can be used to selectively override properties defined in system and application property sources\r\n\r\nFor example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = ExampleApplication.class)\r\n    @TestPropertySource(locations=&quot;classpath:test.properties&quot;)\r\n    public class ExampleApplicationTests {\r\n\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can use <code>@TestPropertySource</code> to override values in <code>application.properties</code>. From its javadoc:</p>\n\n<blockquote>\n  <p>test property sources can be used to selectively override properties defined in system and application property sources</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = ExampleApplication.class)\n@TestPropertySource(locations=\"classpath:test.properties\")\npublic class ExampleApplicationTests {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":307015,"reputation":21530,"user_id":618087,"display_name":"Rob Winch"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1532674373,"creation_date":1429205699,"answer_id":29682080,"question_id":29669393,"body_markdown":"You can also use [meta-annotations][1] to externalize the configuration. For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @DefaultTestAnnotations\r\n    public class ExampleApplicationTests { \r\n       ...\r\n    }\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @SpringApplicationConfiguration(classes = ExampleApplication.class)\r\n    @TestPropertySource(locations=&quot;classpath:test.properties&quot;)\r\n    public @interface DefaultTestAnnotations { }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-meta","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can also use <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-meta\" rel=\"noreferrer\">meta-annotations</a> to externalize the configuration. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@DefaultTestAnnotations\npublic class ExampleApplicationTests { \n   ...\n}\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@SpringApplicationConfiguration(classes = ExampleApplication.class)\n@TestPropertySource(locations=\"classpath:test.properties\")\npublic @interface DefaultTestAnnotations { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9146506,"reputation":19,"user_id":6802490,"display_name":"D. Soloviev"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478717516,"creation_date":1478717516,"answer_id":40514016,"question_id":29669393,"body_markdown":"Otherwise we may change the default property configurator name, setting the property `spring.config.name=test` and then having class-path resource \r\n`src/test/test.properties` our native instance of `org.springframework.boot.SpringApplication` will be auto-configured from this separated test.properties, ignoring application properties;\r\n\r\nBenefit: auto-configuration of tests;\r\n\r\nDrawback: exposing &quot;spring.config.name&quot; property at C.I. layer\r\n\r\nref: http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n\r\n&gt; spring.config.name=application # Config file name","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>Otherwise we may change the default property configurator name, setting the property <code>spring.config.name=test</code> and then having class-path resource \n<code>src/test/test.properties</code> our native instance of <code>org.springframework.boot.SpringApplication</code> will be auto-configured from this separated test.properties, ignoring application properties;</p>\n\n<p>Benefit: auto-configuration of tests;</p>\n\n<p>Drawback: exposing \"spring.config.name\" property at C.I. layer</p>\n\n<p>ref: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>\n\n<blockquote>\n  <p>spring.config.name=application # Config file name</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"down_vote_count":2,"up_vote_count":117,"is_accepted":false,"score":115,"last_activity_date":1609009250,"creation_date":1499721809,"answer_id":45021819,"question_id":29669393,"body_markdown":"Spring Boot automatically loads `src/test/resources/application.properties`, if following annotations are used\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n\r\nSo, rename `test.properties` to `application.properties` to utilize auto configuration. \r\n\r\n&gt; If you _*only*_ need to load the properties file (into the Environment) you can also use the following, as explained [here][1]\r\n&gt;\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(initializers = ConfigFileApplicationContextInitializer.class) \r\n\r\n[_Update: Overriding certain properties for testing_]  \r\n\r\n 1. Add `src/main/resources/application-test.properties`.\r\n 2. Annotate test class with `@ActiveProfiles(&quot;test&quot;)`.\r\n\r\nThis loads `application.properties` and _then_ `application-test.properties` properties into application context for the test case, as per rules defined [here][2].  \r\n\r\nDemo - [https://github.com/mohnish82/so-spring-boot-testprops](https://github.com/mohnish82/so-spring-boot-testprops)\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility\r\n[2]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-files-profile-specific\r\n","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>Spring Boot automatically loads <code>src/test/resources/application.properties</code>, if following annotations are used</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n</code></pre>\n<p>So, rename <code>test.properties</code> to <code>application.properties</code> to utilize auto configuration.</p>\n<blockquote>\n<p>If you <em><em>only</em></em> need to load the properties file (into the Environment) you can also use the following, as explained <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility\" rel=\"noreferrer\">here</a></p>\n</blockquote>\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration(initializers = ConfigFileApplicationContextInitializer.class) \n</code></pre>\n<p>[<em>Update: Overriding certain properties for testing</em>]</p>\n<ol>\n<li>Add <code>src/main/resources/application-test.properties</code>.</li>\n<li>Annotate test class with <code>@ActiveProfiles(&quot;test&quot;)</code>.</li>\n</ol>\n<p>This loads <code>application.properties</code> and <em>then</em> <code>application-test.properties</code> properties into application context for the test case, as per rules defined <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-files-profile-specific\" rel=\"noreferrer\">here</a>.</p>\n<p>Demo - <a href=\"https://github.com/mohnish82/so-spring-boot-testprops\" rel=\"noreferrer\">https://github.com/mohnish82/so-spring-boot-testprops</a></p>\n"},{"tags":[],"owner":{"account_id":175608,"reputation":529,"user_id":405749,"display_name":"elonderin"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1623167002,"creation_date":1533716035,"answer_id":51741730,"question_id":29669393,"body_markdown":"TLDR:\r\n-\r\nSo what I did was to have the standard `src/main/resources/application.properties` and also a `src/test/resources/application-default.properties` where i override some settings for ALL my tests.\r\n\r\nFor power-developers:\r\n--\r\nIn order to change/use even more easily different spring profiles, I have a now an `application-default.yaml` that declares the profiles I want to use.\r\nThis file is not committed, so that each developer may choose his way of activating profiles and needs (e.g. feature) he/she is working on.\r\n\r\n````yaml\r\nspring:\r\n  profiles:\r\n    include:\r\n      - local\r\n      - devlocal\r\n      - wip\r\n#      - kafka@docker\r\n\r\n---\r\nspring.profiles: wip\r\n# ... overriding properties \r\n\r\n````\r\n\r\n\r\nWhole Story\r\n-\r\nI ran into the same problem and was not using profiles either so far. It seemed to be bothersome to have to do it now and remember declaring the profile -- which can be easily forgotten.\r\n\r\nThe trick is, to leverage that a profile specific `application-&lt;profile&gt;.properties` overrides settings in the general profile. See https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties.","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<h2>TLDR:</h2>\n<p>So what I did was to have the standard <code>src/main/resources/application.properties</code> and also a <code>src/test/resources/application-default.properties</code> where i override some settings for ALL my tests.</p>\n<h2>For power-developers:</h2>\n<p>In order to change/use even more easily different spring profiles, I have a now an <code>application-default.yaml</code> that declares the profiles I want to use.\nThis file is not committed, so that each developer may choose his way of activating profiles and needs (e.g. feature) he/she is working on.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles:\n    include:\n      - local\n      - devlocal\n      - wip\n#      - kafka@docker\n\n---\nspring.profiles: wip\n# ... overriding properties \n\n</code></pre>\n<h2>Whole Story</h2>\n<p>I ran into the same problem and was not using profiles either so far. It seemed to be bothersome to have to do it now and remember declaring the profile -- which can be easily forgotten.</p>\n<p>The trick is, to leverage that a profile specific <code>application-&lt;profile&gt;.properties</code> overrides settings in the general profile. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties</a>.</p>\n"},{"tags":[],"owner":{"account_id":10500224,"reputation":65,"user_id":7739151,"display_name":"PragmaticFire"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1540310317,"creation_date":1540310317,"answer_id":52953348,"question_id":29669393,"body_markdown":"You can also create a application.properties file in src/test/resources where your JUnits are written. ","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can also create a application.properties file in src/test/resources where your JUnits are written. </p>\n"},{"tags":[],"owner":{"account_id":6980681,"reputation":2774,"user_id":5353734,"display_name":"Nima Ajdari"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1563624030,"creation_date":1563624030,"answer_id":57124491,"question_id":29669393,"body_markdown":"Another approach suitable for overriding a few properties in your test, if you are using `@SpringBootTest` annotation:\r\n\r\n    @SpringBootTest(properties = {&quot;propA=valueA&quot;, &quot;propB=valueB&quot;})","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>Another approach suitable for overriding a few properties in your test, if you are using <code>@SpringBootTest</code> annotation:</p>\n\n<pre><code>@SpringBootTest(properties = {\"propA=valueA\", \"propB=valueB\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16121915,"reputation":709,"user_id":11637696,"display_name":"Hilal Aissani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576642547,"creation_date":1576642547,"answer_id":59385382,"question_id":29669393,"body_markdown":"    I just configured min as the following :\r\n    \r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    \r\n    # changing the name of my data base for testing\r\n    spring.datasource.url= jdbc:h2:mem:mockedDB\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=sa\r\n    \r\n    \r\n    \r\n    # in testing i don`t need to know the port\r\n    \r\n    #Feature that determines what happens when no accessors are found for a type\r\n    #(and there are no annotations to indicate it is meant to be serialized).\r\n    spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false`enter code here`","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<pre><code>I just configured min as the following :\n\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\n\n# changing the name of my data base for testing\nspring.datasource.url= jdbc:h2:mem:mockedDB\nspring.datasource.username=sa\nspring.datasource.password=sa\n\n\n\n# in testing i don`t need to know the port\n\n#Feature that determines what happens when no accessors are found for a type\n#(and there are no annotations to indicate it is meant to be serialized).\nspring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false`enter code here`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1616723500,"creation_date":1582103824,"answer_id":60296719,"question_id":29669393,"body_markdown":"If you are like me and you have the same `application.properties` in `src/main/resources` and `src/test/resources`, and you are **wondering** why the `application.properties` in your test folder is **not overriding** the `application.properties` in your main resources, read on...&lt;br&gt;\r\n\r\n# Simple explanation:\r\n\r\nIf you have `application.properties` under `src/main/resources` and the same `application.properties` under `src/test/resources`, which `application.properties` gets picked up, **depends on how you are running your tests**. The folder *structure* `src/main/resources` and `src/test/resources`, is a Maven architectural convention, so if you run your test like `mvnw test` or even `gradlew test`, the `application.properties` in `src/test/resources` will get picked up, as *test* classpath will precede *main* classpath. But, if you run your test like `Run as JUnit Test` in Eclipse/STS, the `application.properties` in `src/main/resources` will get picked up, as *main* classpath precedes *test* classpath.&lt;br&gt; \r\n\r\nYou can check it out by opening the **menu bar** `Run &gt; Run Configurations &gt; JUnit &gt; *your_run_configuration* &gt; Click on &quot;Show Command Line&quot;`.\r\n\r\nYou will see something like this:&lt;br&gt;\r\n\r\n&gt; XXXbin\\javaw.exe -ea -Dfile.encoding=UTF-8 -classpath&lt;br&gt; \r\n&gt; XXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\main;&lt;br&gt;\r\n&gt; XXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\test;&lt;br&gt;\r\n&gt; &lt;many other jars&gt;&lt;br&gt;\r\n\r\nDo you see that *classpath* **xxx\\main** comes first, and then **xxx\\test**? Right, **it&#39;s all about classpath** :-)\r\n\r\n*Side-note:\r\nBe mindful that properties overridden in the Launch Configuration(In Spring Tool Suite IDE, for example) takes priority over application.properties.*\r\n\r\n# Change the order:\r\nNow, everything is configurable in Spring. You can change the build classpath, so that **xxx\\test** comes first, and then **xxx\\main**.\r\n\r\nSimply go to `Project &gt; Properties &gt; Java Build Path &gt; Order and Export`, change the build class path order by putting any of the **test** folder first such as:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OLBez.png\r\n\r\nAnd that&#39;s it!\r\n\r\n# Better solution\r\n\r\nA better solution though, when testing, would be to activate the `src/test/resources/application-{profile}.properties` (where `profile` can be test), such as the following in `src/main/resources/application.properties`:\r\n\r\n&gt; spring.profiles.active=test\r\n\r\nThis is neater, and gives you complete control on what profile to activate when doing what.","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>If you are like me and you have the same <code>application.properties</code> in <code>src/main/resources</code> and <code>src/test/resources</code>, and you are <strong>wondering</strong> why the <code>application.properties</code> in your test folder is <strong>not overriding</strong> the <code>application.properties</code> in your main resources, read on...<br></p>\n<h1>Simple explanation:</h1>\n<p>If you have <code>application.properties</code> under <code>src/main/resources</code> and the same <code>application.properties</code> under <code>src/test/resources</code>, which <code>application.properties</code> gets picked up, <strong>depends on how you are running your tests</strong>. The folder <em>structure</em> <code>src/main/resources</code> and <code>src/test/resources</code>, is a Maven architectural convention, so if you run your test like <code>mvnw test</code> or even <code>gradlew test</code>, the <code>application.properties</code> in <code>src/test/resources</code> will get picked up, as <em>test</em> classpath will precede <em>main</em> classpath. But, if you run your test like <code>Run as JUnit Test</code> in Eclipse/STS, the <code>application.properties</code> in <code>src/main/resources</code> will get picked up, as <em>main</em> classpath precedes <em>test</em> classpath.<br></p>\n<p>You can check it out by opening the <strong>menu bar</strong> <code>Run &gt; Run Configurations &gt; JUnit &gt; *your_run_configuration* &gt; Click on &quot;Show Command Line&quot;</code>.</p>\n<p>You will see something like this:<br></p>\n<blockquote>\n<p>XXXbin\\javaw.exe -ea -Dfile.encoding=UTF-8 -classpath<br>\nXXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\main;<br>\nXXX\\workspace-spring-tool-suite-4-4.5.1.RELEASE\\project_name\\bin\\test;<br>\n<br></p>\n</blockquote>\n<p>Do you see that <em>classpath</em> <strong>xxx\\main</strong> comes first, and then <strong>xxx\\test</strong>? Right, <strong>it's all about classpath</strong> :-)</p>\n<p><em>Side-note:\nBe mindful that properties overridden in the Launch Configuration(In Spring Tool Suite IDE, for example) takes priority over application.properties.</em></p>\n<h1>Change the order:</h1>\n<p>Now, everything is configurable in Spring. You can change the build classpath, so that <strong>xxx\\test</strong> comes first, and then <strong>xxx\\main</strong>.</p>\n<p>Simply go to <code>Project &gt; Properties &gt; Java Build Path &gt; Order and Export</code>, change the build class path order by putting any of the <strong>test</strong> folder first such as:</p>\n<p><a href=\"https://i.stack.imgur.com/OLBez.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OLBez.png\" alt=\"enter image description here\" /></a></p>\n<p>And that's it!</p>\n<h1>Better solution</h1>\n<p>A better solution though, when testing, would be to activate the <code>src/test/resources/application-{profile}.properties</code> (where <code>profile</code> can be test), such as the following in <code>src/main/resources/application.properties</code>:</p>\n<blockquote>\n<p>spring.profiles.active=test</p>\n</blockquote>\n<p>This is neater, and gives you complete control on what profile to activate when doing what.</p>\n"},{"tags":[],"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1585601600,"creation_date":1585601600,"answer_id":60939314,"question_id":29669393,"body_markdown":"If you&#39;re using Spring 5.2.5 and Spring Boot 2.2.6 and want to override just a few properties instead of the whole file. You can use the new annotation: @DynamicPropertySource\r\n\r\n    @SpringBootTest\r\n    @Testcontainers\r\n    class ExampleIntegrationTests {\r\n\r\n        @Container\r\n        static Neo4jContainer&lt;?&gt; neo4j = new Neo4jContainer&lt;&gt;();\r\n\r\n        @DynamicPropertySource\r\n        static void neo4jProperties(DynamicPropertyRegistry registry) {\r\n            registry.add(&quot;spring.data.neo4j.uri&quot;, neo4j::getBoltUrl);\r\n        }\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>If you're using Spring 5.2.5 and Spring Boot 2.2.6 and want to override just a few properties instead of the whole file. You can use the new annotation: @DynamicPropertySource</p>\n\n<pre><code>@SpringBootTest\n@Testcontainers\nclass ExampleIntegrationTests {\n\n    @Container\n    static Neo4jContainer&lt;?&gt; neo4j = new Neo4jContainer&lt;&gt;();\n\n    @DynamicPropertySource\n    static void neo4jProperties(DynamicPropertyRegistry registry) {\n        registry.add(\"spring.data.neo4j.uri\", neo4j::getBoltUrl);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631102192,"creation_date":1631102192,"answer_id":69102641,"question_id":29669393,"body_markdown":"I think you can also use this:\r\n\r\n```\r\n@TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\r\n```\r\n\r\nwhen custom config locations are configured by using spring.config.additional-location, they are used in addition to the default locations.\r\n\r\nThe file will have precedence\r\n\r\nPlease refer [here][1] for more details.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>I think you can also use this:</p>\n<pre><code>@TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\n</code></pre>\n<p>when custom config locations are configured by using spring.config.additional-location, they are used in addition to the default locations.</p>\n<p>The file will have precedence</p>\n<p>Please refer <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":21882291,"reputation":56,"user_id":16170369,"display_name":"Êú®ÂéüÈáë"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642327575,"creation_date":1642327575,"answer_id":70729047,"question_id":29669393,"body_markdown":"You can create a spring.factories file in src/test/resources/META-INF and a EnvironmentPostProcessor Implementation class in src/test/java.  \r\n`spring.factories` like\r\n```\r\n# Environment Post Processors\r\norg.springframework.boot.env.EnvironmentPostProcessor=\\\r\ncom.example.test.YourTestPropertiesConfig\r\n```\r\n`YourTestPropertiesConfig.java` like\r\n```\r\npackage com.example.test;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.env.EnvironmentPostProcessor;\r\nimport org.springframework.core.env.ConfigurableEnvironment;\r\nimport org.springframework.core.env.MapPropertySource;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class YourTestPropertiesConfig implements EnvironmentPostProcessor {\r\n    private static final Map&lt;String, Object&gt; testProperties = new HashMap&lt;&gt;();\r\n    private static final Set&lt;String&gt; testPropertiesFile = new HashSet&lt;&gt;();\r\n\r\n    static {\r\n    //Add the properties you need to take effect globally in the test directly here.\r\n        testProperties.put(&quot;spring.jackson.time-zone&quot;, &quot;GMT&quot;);\r\n        testPropertiesFile.add(&quot;classpath:test.properties&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n        environment.getPropertySources().addFirst(new MapPropertySource(&quot;TestProperties&quot;, testProperties));\r\n        for (String location : testPropertiesFile) {\r\n            try {\r\n                environment.getPropertySources().addFirst(new ResourcePropertySource(location));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void addProperty(String key, Object value) {\r\n        testProperties.put(key, value);\r\n    }\r\n\r\n    public static void addProperty(String location) {\r\n        testPropertiesFile.add(location);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>You can create a spring.factories file in src/test/resources/META-INF and a EnvironmentPostProcessor Implementation class in src/test/java.<br />\n<code>spring.factories</code> like</p>\n<pre><code># Environment Post Processors\norg.springframework.boot.env.EnvironmentPostProcessor=\\\ncom.example.test.YourTestPropertiesConfig\n</code></pre>\n<p><code>YourTestPropertiesConfig.java</code> like</p>\n<pre><code>package com.example.test;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.env.EnvironmentPostProcessor;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.MapPropertySource;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class YourTestPropertiesConfig implements EnvironmentPostProcessor {\n    private static final Map&lt;String, Object&gt; testProperties = new HashMap&lt;&gt;();\n    private static final Set&lt;String&gt; testPropertiesFile = new HashSet&lt;&gt;();\n\n    static {\n    //Add the properties you need to take effect globally in the test directly here.\n        testProperties.put(&quot;spring.jackson.time-zone&quot;, &quot;GMT&quot;);\n        testPropertiesFile.add(&quot;classpath:test.properties&quot;);\n    }\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n        environment.getPropertySources().addFirst(new MapPropertySource(&quot;TestProperties&quot;, testProperties));\n        for (String location : testPropertiesFile) {\n            try {\n                environment.getPropertySources().addFirst(new ResourcePropertySource(location));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static void addProperty(String key, Object value) {\n        testProperties.put(key, value);\n    }\n\n    public static void addProperty(String location) {\n        testPropertiesFile.add(location);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4895829,"reputation":61,"user_id":3945501,"display_name":"Hamid Pourgholi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659502255,"creation_date":1659501704,"answer_id":73216369,"question_id":29669393,"body_markdown":"This workes for me:\r\n\r\nMy Test:\r\n\r\n    @SpringBootTest\r\n    @TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\r\n    class EngineApplicationTests {\r\n        @Test\r\n        void contextLoads() {\r\n        }\r\n    }\r\n\r\nMy versions:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.kubemachine&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2021.0.3&quot;)\r\n    }\r\n\r\nThe only test dependency in my gradle file:\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\nI also have this in my build.gradle file:\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nand two properties file: \r\n\r\n- src/main/resources/application.yml\r\n- src/test/resources/application-test.yml\r\n\r\n\r\nAnd in this setup application-test.yml definitely ONLY overrides the values in application.yml. I don&#39;t have to repeat the property values from application.yml in application-test.yml. application-test.yml really extends application.yml.","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>This workes for me:</p>\n<p>My Test:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(properties = &quot;spring.config.additional-location=classpath:application-test.yml&quot;)\nclass EngineApplicationTests {\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<p>My versions:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.kubemachine'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.3&quot;)\n}\n</code></pre>\n<p>The only test dependency in my gradle file:</p>\n<pre><code>testImplementation 'org.springframework.boot:spring-boot-starter-test'\n</code></pre>\n<p>I also have this in my build.gradle file:</p>\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and two properties file:</p>\n<ul>\n<li>src/main/resources/application.yml</li>\n<li>src/test/resources/application-test.yml</li>\n</ul>\n<p>And in this setup application-test.yml definitely ONLY overrides the values in application.yml. I don't have to repeat the property values from application.yml in application-test.yml. application-test.yml really extends application.yml.</p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685625036,"creation_date":1660816355,"answer_id":73400956,"question_id":29669393,"body_markdown":"# Setup\r\nUsing\r\n* properties declared with `.yaml` file-ending\r\n* Spring-Boot 2.7\r\n* and multiple .yaml files in the classpath\r\n\r\n# Problem\r\n\r\nI noticed that the precedence of `@TestPropertySource(locations)` was not applied as it would be with `.properties` files.\r\n\r\nThe problem I was having was, that Spring kept loading all `.yaml` properties (especially those from production) and **overriding** the properties meant for the tests with the values specified for prod. (*sigh*)\r\n\r\n# Solution\r\nWe come up with the workaround of overwriting the config-scraping mechanism by specifying just my `application-test.yaml` as the only properties used like so:\r\n\r\n```yaml\r\n@TestPropertySource(properties = &quot;spring.config.location=classpath:/application-test.yaml&quot;)\r\n```\r\n\r\n# Alternative solution\r\nAs mentioned above: with `.properties` files everything works as expected.\r\n\r\nAnother solution would be to transpile the `.yaml` to `.properties`.\r\n\r\nHere is a handy online converter: https://mageddo.com/tools/yaml-converter (note its inability to cope with comments)","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<h1>Setup</h1>\n<p>Using</p>\n<ul>\n<li>properties declared with <code>.yaml</code> file-ending</li>\n<li>Spring-Boot 2.7</li>\n<li>and multiple .yaml files in the classpath</li>\n</ul>\n<h1>Problem</h1>\n<p>I noticed that the precedence of <code>@TestPropertySource(locations)</code> was not applied as it would be with <code>.properties</code> files.</p>\n<p>The problem I was having was, that Spring kept loading all <code>.yaml</code> properties (especially those from production) and <strong>overriding</strong> the properties meant for the tests with the values specified for prod. (<em>sigh</em>)</p>\n<h1>Solution</h1>\n<p>We come up with the workaround of overwriting the config-scraping mechanism by specifying just my <code>application-test.yaml</code> as the only properties used like so:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>@TestPropertySource(properties = &quot;spring.config.location=classpath:/application-test.yaml&quot;)\n</code></pre>\n<h1>Alternative solution</h1>\n<p>As mentioned above: with <code>.properties</code> files everything works as expected.</p>\n<p>Another solution would be to transpile the <code>.yaml</code> to <code>.properties</code>.</p>\n<p>Here is a handy online converter: <a href=\"https://mageddo.com/tools/yaml-converter\" rel=\"nofollow noreferrer\">https://mageddo.com/tools/yaml-converter</a> (note its inability to cope with comments)</p>\n"},{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674637747,"creation_date":1674637747,"answer_id":75231725,"question_id":29669393,"body_markdown":"If you really want/have to use `System.setProperties(...)` then use a Junit extension and annotate the test class:\r\n\r\n    ...\r\n    @ExtendWith(MyBeforeAllCallback.class)\r\n    public SomeTestClass ...\r\n\r\nand use the constructor of the callback to set the system properties.\r\n\r\n    public MyBeforeAllCallback implements BeforeAllCallback {\r\n        public MyBeforeAllCallback() {\r\n            // wicket 9 workaround for java 17 / cglib issue.\r\n            System.setProperty(&quot;wicket.ioc.useByteBuddy&quot;, &quot;true&quot;);\r\n            // ... whatever you want ...\r\n            System.setProperty(&quot;whatever&quot;, &quot;you need it badly&quot;);\r\n        }\r\n        void beforeAll(ExtensionContext context) {\r\n            // ... empty\r\n        }\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>If you really want/have to use <code>System.setProperties(...)</code> then use a Junit extension and annotate the test class:</p>\n<pre><code>...\n@ExtendWith(MyBeforeAllCallback.class)\npublic SomeTestClass ...\n</code></pre>\n<p>and use the constructor of the callback to set the system properties.</p>\n<pre><code>public MyBeforeAllCallback implements BeforeAllCallback {\n    public MyBeforeAllCallback() {\n        // wicket 9 workaround for java 17 / cglib issue.\n        System.setProperty(&quot;wicket.ioc.useByteBuddy&quot;, &quot;true&quot;);\n        // ... whatever you want ...\n        System.setProperty(&quot;whatever&quot;, &quot;you need it badly&quot;);\n    }\n    void beforeAll(ExtensionContext context) {\n        // ... empty\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":152633,"reputation":48303,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405974,"favorite_count":0,"down_vote_count":0,"up_vote_count":287,"accepted_answer_id":29673732,"answer_count":15,"score":287,"last_activity_date":1685625036,"creation_date":1429173172,"question_id":29669393,"body_markdown":"I have a Spring-Boot application where the default properties are set in an `application.properties` file in the classpath (src/main/resources/application.properties).\r\n\r\nI would like to override some default settings in my JUnit test with properties declared in a `test.properties` file (src/test/resources/test.properties)\r\n\r\nI usualy have a dedicated Config Class for my Junit Tests, e.g.\r\n\r\n    package foo.bar.test;\r\n    \r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    \r\n    @Configuration\r\n    @Import(CoreConfig.class)\r\n    @EnableAutoConfiguration\r\n    public class TestConfig {\r\n      \r\n    }\r\n\r\nI first thought that using `@PropertySource(&quot;classpath:test.properties&quot;)` in  the TestConfig class would do the trick, but these properties will not overwrite the application.properties settings (see Spring-Boot Reference Doc - [23. Externalized Configuration][1]).\r\n\r\nThen I tried to use `-Dspring.config.location=classpath:test.properties` when invoking the test. That was successful - but I don&#39;t want to set this system property for each test execution. Thus I put it in the code\r\n\r\n    @Configuration\r\n    @Import(CoreConfig.class)\r\n    @EnableAutoConfiguration\r\n    public class TestConfig {\r\n      \r\n      static {\r\n        System.setProperty(&quot;spring.config.location&quot;, &quot;classpath:test.properties&quot;);\r\n      }\r\n    \r\n    }\r\n\r\nwhich unfortunatly was again not successful.\r\n\r\nThere must be a simple solution on how to override `application.properties` settings in JUnit tests with `test.properties` that I must have overlooked.\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config","title":"Override default Spring-Boot application.properties settings in Junit Test","body":"<p>I have a Spring-Boot application where the default properties are set in an <code>application.properties</code> file in the classpath (src/main/resources/application.properties).</p>\n\n<p>I would like to override some default settings in my JUnit test with properties declared in a <code>test.properties</code> file (src/test/resources/test.properties)</p>\n\n<p>I usualy have a dedicated Config Class for my Junit Tests, e.g.</p>\n\n<pre><code>package foo.bar.test;\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\n\n@Configuration\n@Import(CoreConfig.class)\n@EnableAutoConfiguration\npublic class TestConfig {\n\n}\n</code></pre>\n\n<p>I first thought that using <code>@PropertySource(\"classpath:test.properties\")</code> in  the TestConfig class would do the trick, but these properties will not overwrite the application.properties settings (see Spring-Boot Reference Doc - <a href=\"http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config\">23. Externalized Configuration</a>).</p>\n\n<p>Then I tried to use <code>-Dspring.config.location=classpath:test.properties</code> when invoking the test. That was successful - but I don't want to set this system property for each test execution. Thus I put it in the code</p>\n\n<pre><code>@Configuration\n@Import(CoreConfig.class)\n@EnableAutoConfiguration\npublic class TestConfig {\n\n  static {\n    System.setProperty(\"spring.config.location\", \"classpath:test.properties\");\n  }\n\n}\n</code></pre>\n\n<p>which unfortunatly was again not successful.</p>\n\n<p>There must be a simple solution on how to override <code>application.properties</code> settings in JUnit tests with <code>test.properties</code> that I must have overlooked.</p>\n"},{"tags":["java","spring","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586055822,"creation_date":1586055822,"answer_id":61037494,"question_id":61035588,"body_markdown":"I created a simple bean.\r\n\r\n**Synchronous update:**\r\n\r\n    @Component\r\n    public class BeanTest {\r\n    \r\n        private String postConstructValue;\r\n    \r\n        @PostConstruct\r\n        public void init(){\r\n            try {\r\n                Thread.sleep(5000);\r\n                this.postConstructValue = &quot;Construction done&quot;;\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 500)\r\n        public void print(){\r\n            System.out.println(\r\n                    this.postConstructValue\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n - It took some time for app to start (more than 5 seconds) because we simulated some time consuming process in the post construct. Scheduled print method started printing only after the app started. It started printing &quot;Construction done&quot; message.\r\n\r\n**Asynchronous update:**\r\n\r\n    @Component\r\n    public class BeanTest {\r\n    \r\n        private String postConstructValue;\r\n    \r\n        @PostConstruct\r\n        public void init(){\r\n            Flux.just(&quot;Construction done&quot;)\r\n                    .delayElements(Duration.ofSeconds(5))\r\n                    .subscribe(s -&gt; this.postConstructValue = s);\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 500)\r\n        public void print(){\r\n            System.out.println(\r\n                    this.postConstructValue\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n - Now in this approach, the app started within 2 seconds. Print method starting printing `null` for few seconds. Then it started printing &quot;Construction done&quot;. It does not terminate the Flux postConstruct value update. It happened asynchronously. \r\n\r\nReactive approach is good when you want a non-blocking behavior and getting something done asynchronously. If you think that your component creation should wait for proper construction, you have to block! Otherwise, you can go with second approach.  ","title":"Reactive calls in @PostConstruct function","body":"<p>I created a simple bean.</p>\n\n<p><strong>Synchronous update:</strong></p>\n\n<pre><code>@Component\npublic class BeanTest {\n\n    private String postConstructValue;\n\n    @PostConstruct\n    public void init(){\n        try {\n            Thread.sleep(5000);\n            this.postConstructValue = \"Construction done\";\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Scheduled(fixedRate = 500)\n    public void print(){\n        System.out.println(\n                this.postConstructValue\n        );\n    }\n\n}\n</code></pre>\n\n<ul>\n<li>It took some time for app to start (more than 5 seconds) because we simulated some time consuming process in the post construct. Scheduled print method started printing only after the app started. It started printing \"Construction done\" message.</li>\n</ul>\n\n<p><strong>Asynchronous update:</strong></p>\n\n<pre><code>@Component\npublic class BeanTest {\n\n    private String postConstructValue;\n\n    @PostConstruct\n    public void init(){\n        Flux.just(\"Construction done\")\n                .delayElements(Duration.ofSeconds(5))\n                .subscribe(s -&gt; this.postConstructValue = s);\n    }\n\n    @Scheduled(fixedRate = 500)\n    public void print(){\n        System.out.println(\n                this.postConstructValue\n        );\n    }\n\n}\n</code></pre>\n\n<ul>\n<li>Now in this approach, the app started within 2 seconds. Print method starting printing <code>null</code> for few seconds. Then it started printing \"Construction done\". It does not terminate the Flux postConstruct value update. It happened asynchronously. </li>\n</ul>\n\n<p>Reactive approach is good when you want a non-blocking behavior and getting something done asynchronously. If you think that your component creation should wait for proper construction, you have to block! Otherwise, you can go with second approach.  </p>\n"},{"tags":[],"owner":{"account_id":1557852,"reputation":4589,"user_id":1448419,"accept_rate":64,"display_name":"rcomblen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685624878,"creation_date":1685624878,"answer_id":76382224,"question_id":61035588,"body_markdown":"You can use `toFuture` to use the standard Java async mechanisms:\r\n\r\n    @PostConstruct\r\n    public void postConstruct() throws ExecutionException, InterruptedException {\r\n        log.info(&quot;Start postConstruct&quot;);\r\n        WebClient webClient = WebClient.create();\r\n        webClient.get().uri(...).retrieve()\r\n            .toEntity(String.class)\r\n            .flatMap((responseEntity) -&gt; {\r\n                log.info(&quot;Data retrieved.&quot;);\r\n                return Mono.just(true);\r\n             })\r\n             .toFuture()\r\n             .get();\r\n        log.info(&quot;Setup complete&quot;);\r\n    }\r\n\r\nAnd you&#39;ll get in the logs:\r\n\r\n    Start postConstruct\r\n    Data retrieved\r\n    Setup complete\r\n\r\nIn that order ...","title":"Reactive calls in @PostConstruct function","body":"<p>You can use <code>toFuture</code> to use the standard Java async mechanisms:</p>\n<pre><code>@PostConstruct\npublic void postConstruct() throws ExecutionException, InterruptedException {\n    log.info(&quot;Start postConstruct&quot;);\n    WebClient webClient = WebClient.create();\n    webClient.get().uri(...).retrieve()\n        .toEntity(String.class)\n        .flatMap((responseEntity) -&gt; {\n            log.info(&quot;Data retrieved.&quot;);\n            return Mono.just(true);\n         })\n         .toFuture()\n         .get();\n    log.info(&quot;Setup complete&quot;);\n}\n</code></pre>\n<p>And you'll get in the logs:</p>\n<pre><code>Start postConstruct\nData retrieved\nSetup complete\n</code></pre>\n<p>In that order ...</p>\n"}],"owner":{"account_id":2881551,"reputation":35,"user_id":2472336,"display_name":"Dmitry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61037494,"answer_count":2,"score":1,"last_activity_date":1685624878,"creation_date":1586039090,"question_id":61035588,"body_markdown":"Could somebody help me to do the following:\r\n```\r\n@PostContruct public void func() {\r\n   webclient.get()...subscribe();\r\n}\r\n```\r\nwebclient call will terminate after func() returns. Most likely it will happen before the first request comes in, but no guarantees. The other option is to block(), which defeats the purpose of being reactive.\r\n\r\nWhat would be the right way to make reactive calls in @PostConstruct methods?\r\n\r\nThank you.","title":"Reactive calls in @PostConstruct function","body":"<p>Could somebody help me to do the following:</p>\n\n<pre><code>@PostContruct public void func() {\n   webclient.get()...subscribe();\n}\n</code></pre>\n\n<p>webclient call will terminate after func() returns. Most likely it will happen before the first request comes in, but no guarantees. The other option is to block(), which defeats the purpose of being reactive.</p>\n\n<p>What would be the right way to make reactive calls in @PostConstruct methods?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","parsing","spring-el"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1685622731,"post_id":76381020,"comment_id":134687852,"body_markdown":"Does formula.expression in application.properties really have a period/fullstop at the end? How is formula.expression injected? &#39;@Value(&quot;${formula.expression}&quot;)","body":"Does formula.expression in application.properties really have a period/fullstop at the end? How is formula.expression injected? &#39;@Value(&quot;${formula.expression}&quot;)"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685624944,"post_id":76381020,"comment_id":134688435,"body_markdown":"What does that period do in the end of your expression? The `loan` SpEL variable must be used as `#loan`. You can just have a unit test in Java to be sure that your expression is correct. For now it looks like there is some syntax typo, e.g. extra parenthesis. To be honest I wouldn&#39;t such a complex logic with SpEL: you always can have a static method with that one and call it from the expression. This has nothing to do with `scriptEngineManagaer`: SpEL is not a scripting language.","body":"What does that period do in the end of your expression? The <code>loan</code> SpEL variable must be used as <code>#loan</code>. You can just have a unit test in Java to be sure that your expression is correct. For now it looks like there is some syntax typo, e.g. extra parenthesis. To be honest I wouldn&#39;t such a complex logic with SpEL: you always can have a static method with that one and call it from the expression. This has nothing to do with <code>scriptEngineManagaer</code>: SpEL is not a scripting language."},{"owner":{"account_id":22682874,"reputation":137,"user_id":16852995,"display_name":"Karthik KK"},"score":0,"creation_date":1685670202,"post_id":76381020,"comment_id":134696767,"body_markdown":"@ArtemBilan I was trying to find the difference between due date and current date if the current date passes due date the formula becomes cur_date-due_date","body":"@ArtemBilan I was trying to find the difference between due date and current date if the current date passes due date the formula becomes cur_date-due_date"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1685710742,"post_id":76381020,"comment_id":134703114,"body_markdown":"Well, I didn&#39;t ask about the meaning of your expression: I just pointed to syntax errors. The syntax and logic must be covered by the unit test in your project. Probably after doing that you&#39;d have the question like this in the forum.","body":"Well, I didn&#39;t ask about the meaning of your expression: I just pointed to syntax errors. The syntax and logic must be covered by the unit test in your project. Probably after doing that you&#39;d have the question like this in the forum."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685624789,"creation_date":1685624789,"answer_id":76382209,"question_id":76381020,"body_markdown":"You have a typo in formula.expression - extra close parenthesis here loan.getDueDate().toLocalDate()**)** + 1, try:\r\n\r\n    formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate() + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\r\n\r\n","title":"Spel Expression Parser not able to recognise and read the formula in application.properties in SpringBoot 3","body":"<p>You have a typo in formula.expression - extra close parenthesis here loan.getDueDate().toLocalDate()<strong>)</strong> + 1, try:</p>\n<pre><code>formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate() + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\n</code></pre>\n"}],"owner":{"account_id":22682874,"reputation":137,"user_id":16852995,"display_name":"Karthik KK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685624789,"creation_date":1685615787,"question_id":76381020,"body_markdown":"I have a formula stored in my application.properties as follows:-\r\n\r\n    formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now())). \r\n\r\n T is a special operator  used for referencing types and invoking static methods.\r\nNow i am trying to update my urgencyFactor score by parsing the the formula stored in my application.properties,then evaluating it and then storing the result in my database. \r\nMy formula works properly if i store it in my service class and then evaluate it . But then if i store it in application.properties i get this error:-\r\n\r\n    java.lang.IllegalArgumentException: Error evaluating expression: T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\r\n    \tat com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.convertExpression(LoanPriorityScoreJob.java:89) ~[classes/:na]\r\n    \tat com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.updateLoanPriorityScoreJob1(LoanPriorityScoreJob.java:63) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.0.7.jar:6.0.7]\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]\r\n    Caused by: org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;comma(,)&#39;\r\nI have tried using scriptEngineManagaer, MveL to parse and evaluate it nothing works.\r\n\r\nHere is my code:-\r\nJob class:-\r\n\r\n    public ResponseEntity&lt;?&gt; updateLoanPriorityScore() throws LoanNotFoundException, IncorrectStatusException {\r\n            long loanId = 0;\r\n            List&lt;Loan&gt; allLoans = loanRepo.findAll();\r\n            for (Loan loan : allLoans) {\r\n                loanId++;\r\n                Loan loan1 = new Loan();\r\n                Date date = new Date();\r\n                LoanPriorityScore loanPriorityScore = loanPriorityScoreRepo.findByLoanId(loanId);\r\n                if (loanPriorityScore != null) {\r\n                    if (loan.getStatus().equalsIgnoreCase(&quot;assigned&quot;) || loan.getStatus().equalsIgnoreCase(&quot;unassigned&quot;)) {\r\n                        LocalDate currentDate = LocalDate.now();\r\n                        LocalDate dueDate = loan.getDueDate().toLocalDate();\r\n                        String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\r\n                        Double urgencyFactor = convertExpression(urgencyFactorExpression,loan);\r\n                        System.out.println(&quot;loannnnn &quot;+loan);\r\n    //                    String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\r\n    //                    String urgencyFactorString = convertExpression(urgencyFactorExpression,loan);\r\n    //                    double urgencyFactor = evaluateExpression(currentDate,dueDate,urgencyFactorString);\r\n                        System.out.println(&quot;urgency factor expression inside updateLoanPs &quot;+urgencyFactorExpression);\r\n    \r\n    \r\n    //                    double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);\r\n                        double loanPriorityScore1 = urgencyFactor;\r\n                        loanPriorityScore.setPriorityScore(loanPriorityScore1);\r\n                        loanPriorityScore.setUpdatedDate(date);\r\n                        loanPriorityScore.setCreatedDate(date);\r\n                        loanPriorityScoreRepo.save(loanPriorityScore);\r\n                    } else {\r\n                        loanPriorityScore.setUpdatedDate(date);\r\n                        loanPriorityScore.setCreatedDate(date);\r\n                        loanPriorityScore.setPriorityScore(0.0);\r\n                        loanPriorityScoreRepo.save(loanPriorityScore);\r\n                    }\r\n                }\r\n            }\r\n            return ResponseEntity.ok(&quot;Success&quot;);\r\n        }\r\n\r\nHere it works properly if i store it in database as :`-double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);` \r\nBut as soon as  I use convertExpression it dosent work here is the code for it:-\r\n\r\n    private double convertExpression(String expression,Loan loan) {\r\n        System.out.println(&quot;dueDate&quot;+loan.getDueDate());\r\n        try {\r\n            System.out.println(&quot;exp&quot;+expression);\r\n            ExpressionParser parser = new SpelExpressionParser();\r\n            StandardEvaluationContext evaluationContext = new StandardEvaluationContext();\r\n            evaluationContext.setVariable(&quot;loan&quot;, loan);\r\n            Expression exp = parser.parseExpression(expression);\r\n            System.out.println(exp+&quot;jhasbufwqfi&quot;);\r\n            Double evaluatedValue = exp.getValue(evaluationContext, Double.class);\r\n            System.out.println(&quot;evaluated&quot;+evaluatedValue);\r\n            return evaluatedValue;\r\n        } catch (Exception e) {\r\n            throw new IllegalArgumentException(&quot;Error evaluating expression: &quot; + expression, e);\r\n        }\r\n    }","title":"Spel Expression Parser not able to recognise and read the formula in application.properties in SpringBoot 3","body":"<p>I have a formula stored in my application.properties as follows:-</p>\n<pre><code>formula.expression=T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now())). \n</code></pre>\n<p>T is a special operator  used for referencing types and invoking static methods.\nNow i am trying to update my urgencyFactor score by parsing the the formula stored in my application.properties,then evaluating it and then storing the result in my database.\nMy formula works properly if i store it in my service class and then evaluate it . But then if i store it in application.properties i get this error:-</p>\n<pre><code>java.lang.IllegalArgumentException: Error evaluating expression: T(java.lang.Math).max((1.0 / T(java.time.temporal.ChronoUnit).DAYS.between(T(java.time.LocalDate).now(), loan.getDueDate().toLocalDate()) + 1)), T(java.time.temporal.ChronoUnit).DAYS.between(loan.getDueDate().toLocalDate(), T(java.time.LocalDate).now()))\n    at com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.convertExpression(LoanPriorityScoreJob.java:89) ~[classes/:na]\n    at com.realtimeDecision.realtimeDecision.Jobs.LoanPriorityScoreJob.updateLoanPriorityScoreJob1(LoanPriorityScoreJob.java:63) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.0.7.jar:6.0.7]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]\nCaused by: org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'comma(,)'\n</code></pre>\n<p>I have tried using scriptEngineManagaer, MveL to parse and evaluate it nothing works.</p>\n<p>Here is my code:-\nJob class:-</p>\n<pre><code>public ResponseEntity&lt;?&gt; updateLoanPriorityScore() throws LoanNotFoundException, IncorrectStatusException {\n        long loanId = 0;\n        List&lt;Loan&gt; allLoans = loanRepo.findAll();\n        for (Loan loan : allLoans) {\n            loanId++;\n            Loan loan1 = new Loan();\n            Date date = new Date();\n            LoanPriorityScore loanPriorityScore = loanPriorityScoreRepo.findByLoanId(loanId);\n            if (loanPriorityScore != null) {\n                if (loan.getStatus().equalsIgnoreCase(&quot;assigned&quot;) || loan.getStatus().equalsIgnoreCase(&quot;unassigned&quot;)) {\n                    LocalDate currentDate = LocalDate.now();\n                    LocalDate dueDate = loan.getDueDate().toLocalDate();\n                    String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\n                    Double urgencyFactor = convertExpression(urgencyFactorExpression,loan);\n                    System.out.println(&quot;loannnnn &quot;+loan);\n//                    String urgencyFactorExpression = formulaConfiguration.getUrgencyFactor();\n//                    String urgencyFactorString = convertExpression(urgencyFactorExpression,loan);\n//                    double urgencyFactor = evaluateExpression(currentDate,dueDate,urgencyFactorString);\n                    System.out.println(&quot;urgency factor expression inside updateLoanPs &quot;+urgencyFactorExpression);\n\n\n//                    double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);\n                    double loanPriorityScore1 = urgencyFactor;\n                    loanPriorityScore.setPriorityScore(loanPriorityScore1);\n                    loanPriorityScore.setUpdatedDate(date);\n                    loanPriorityScore.setCreatedDate(date);\n                    loanPriorityScoreRepo.save(loanPriorityScore);\n                } else {\n                    loanPriorityScore.setUpdatedDate(date);\n                    loanPriorityScore.setCreatedDate(date);\n                    loanPriorityScore.setPriorityScore(0.0);\n                    loanPriorityScoreRepo.save(loanPriorityScore);\n                }\n            }\n        }\n        return ResponseEntity.ok(&quot;Success&quot;);\n    }\n</code></pre>\n<p>Here it works properly if i store it in database as :<code>-double urgencyFactor = Math.max((1.0 / (ChronoUnit.DAYS.between(currentDate, dueDate) + urgencyFactorDivisor)), ChronoUnit.DAYS.between(dueDate, currentDate) + urgencyFactorOffset);</code>\nBut as soon as  I use convertExpression it dosent work here is the code for it:-</p>\n<pre><code>private double convertExpression(String expression,Loan loan) {\n    System.out.println(&quot;dueDate&quot;+loan.getDueDate());\n    try {\n        System.out.println(&quot;exp&quot;+expression);\n        ExpressionParser parser = new SpelExpressionParser();\n        StandardEvaluationContext evaluationContext = new StandardEvaluationContext();\n        evaluationContext.setVariable(&quot;loan&quot;, loan);\n        Expression exp = parser.parseExpression(expression);\n        System.out.println(exp+&quot;jhasbufwqfi&quot;);\n        Double evaluatedValue = exp.getValue(evaluationContext, Double.class);\n        System.out.println(&quot;evaluated&quot;+evaluatedValue);\n        return evaluatedValue;\n    } catch (Exception e) {\n        throw new IllegalArgumentException(&quot;Error evaluating expression: &quot; + expression, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","apache-spark","hive","snappy"],"answers":[{"tags":[],"owner":{"account_id":9537271,"reputation":131,"user_id":7087009,"display_name":"Thomas Maxwell"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1477760773,"creation_date":1477683504,"answer_id":40312141,"question_id":35418018,"body_markdown":"This issue occurs when (for security reasons) `/tmp` is mounted non-exec.  I ran into the same problem and our sysadmin fixed it by remounting `/tmp` as exec.","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>This issue occurs when (for security reasons) <code>/tmp</code> is mounted non-exec.  I ran into the same problem and our sysadmin fixed it by remounting <code>/tmp</code> as exec.</p>\n"},{"tags":[],"owner":{"account_id":8862649,"reputation":11,"user_id":6618563,"display_name":"Daniel Gitau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618673057,"creation_date":1618566338,"answer_id":67122917,"question_id":35418018,"body_markdown":"This worked for me.\r\n\r\n    sudo mount -o remount,exec /tmp\r\n\r\nMore details on [this Ask Ubuntu question](https://askubuntu.com/questions/311438/how-to-make-tmp-executable)\r\n\r\n","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>This worked for me.</p>\n<pre><code>sudo mount -o remount,exec /tmp\n</code></pre>\n<p>More details on <a href=\"https://askubuntu.com/questions/311438/how-to-make-tmp-executable\">this Ask Ubuntu question</a></p>\n"},{"tags":[],"owner":{"account_id":26216193,"reputation":1,"user_id":19894301,"display_name":"Saberedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685624750,"creation_date":1685576460,"answer_id":76377880,"question_id":35418018,"body_markdown":"This worked for me:\r\n```\r\nsudo mount -o remount,exec /tmp\r\n```\r\n\r\nHowever, after remounting /tmp with exec, I had to enable 777 on the /tmp. before it eventually worked.  \r\nI also did same on all the cluster nodes.\r\n\r\n","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>This worked for me:</p>\n<pre><code>sudo mount -o remount,exec /tmp\n</code></pre>\n<p>However, after remounting /tmp with exec, I had to enable 777 on the /tmp. before it eventually worked.<br />\nI also did same on all the cluster nodes.</p>\n"}],"owner":{"account_id":4138802,"reputation":2159,"user_id":3818405,"accept_rate":68,"display_name":"paolov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7462,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1685624750,"creation_date":1455566463,"question_id":35418018,"body_markdown":"I have just extracted and setup spark 1.6.0 into environment that has a fresh install of hadoop 2.6.0 and hive 0.14.\r\n\r\nI have verified that hive, beeline and mapreduce works fine on examples.\r\n\r\nHowever, as soon as I run `sc.textfile()` within spark-shell, it returns an error:\r\n\r\n\r\n    $ spark-shell\r\n    Welcome to\r\n          ____              __\r\n         / __/__  ___ _____/ /__\r\n        _\\ \\/ _ \\/ _ `/ __/  &#39;_/\r\n       /___/ .__/\\_,_/_/ /_/\\_\\   version 1.6.0\r\n          /_/\r\n    \r\n    Using Scala version 2.10.5 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_67)\r\n    Type in expressions to have them evaluated.\r\n    Type :help for more information.\r\n    Spark context available as sc.\r\n    SQL context available as sqlContext.\r\n    \r\n    scala&gt; val textFile = sc.textFile(&quot;README.md&quot;)\r\n    java.lang.IllegalArgumentException: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\r\n            at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:156)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n            at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:72)\r\n            at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:65)\r\n            at org.apache.spark.broadcast.TorrentBroadcast.org$apache$spark$broadcast$TorrentBroadcast$$setConf(TorrentBroadcast.scala:73)\r\n            at org.apache.spark.broadcast.TorrentBroadcast.&lt;init&gt;(TorrentBroadcast.scala:80)\r\n            at org.apache.spark.broadcast.TorrentBroadcastFactory.newBroadcast(TorrentBroadcastFactory.scala:34)\r\n            at org.apache.spark.broadcast.BroadcastManager.newBroadcast(BroadcastManager.scala:63)\r\n            at org.apache.spark.SparkContext.broadcast(SparkContext.scala:1326)\r\n            at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1014)\r\n            at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1011)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\r\n            at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\r\n            at org.apache.spark.SparkContext.hadoopFile(SparkContext.scala:1011)\r\n            at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:832)\r\n            at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:830)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\r\n            at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\r\n            at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\r\n            at org.apache.spark.SparkContext.textFile(SparkContext.scala:830)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:27)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:32)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:34)\r\n            at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:36)\r\n            at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:38)\r\n            at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:40)\r\n            at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:42)\r\n            at $iwC.&lt;init&gt;(&lt;console&gt;:44)\r\n            at &lt;init&gt;(&lt;console&gt;:46)\r\n            at .&lt;init&gt;(&lt;console&gt;:50)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at .&lt;init&gt;(&lt;console&gt;:7)\r\n            at .&lt;clinit&gt;(&lt;console&gt;)\r\n            at $print(&lt;console&gt;)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\r\n            at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1346)\r\n            at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\r\n            at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\r\n            at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\r\n            at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\r\n            at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\r\n            at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\r\n            at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\r\n            at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\r\n            at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\r\n            at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\r\n            at org.apache.spark.repl.Main$.main(Main.scala:31)\r\n            at org.apache.spark.repl.Main.main(Main.scala)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)\r\n            at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)\r\n            at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)\r\n            at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)\r\n            at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n    Caused by: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\r\n            at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n            at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\r\n            at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890)\r\n            at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1851)\r\n            at java.lang.Runtime.load0(Runtime.java:795)\r\n            at java.lang.System.load(System.java:1062)\r\n            at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:174)\r\n            at org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:152)\r\n            at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:46)\r\n            at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:154)\r\n            ... 69 more\r\n\r\n\r\nThere is not a lot in spark&#39;s conf. The setup for spark were as per:\r\nhttp://www.tutorialspoint.com/apache_spark/apache_spark_installation.htm\r\n\r\nI have already made certain that everything in /tmp is world accessible (uog+rwx).\r\n\r\nAny advice/ideas would be much appreciated.\r\n\r\n","title":"spark returns error libsnappyjava.so: failed to map segment from shared object: Operation not permitted","body":"<p>I have just extracted and setup spark 1.6.0 into environment that has a fresh install of hadoop 2.6.0 and hive 0.14.</p>\n\n<p>I have verified that hive, beeline and mapreduce works fine on examples.</p>\n\n<p>However, as soon as I run <code>sc.textfile()</code> within spark-shell, it returns an error:</p>\n\n<pre><code>$ spark-shell\nWelcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 1.6.0\n      /_/\n\nUsing Scala version 2.10.5 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_67)\nType in expressions to have them evaluated.\nType :help for more information.\nSpark context available as sc.\nSQL context available as sqlContext.\n\nscala&gt; val textFile = sc.textFile(\"README.md\")\njava.lang.IllegalArgumentException: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\n        at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:156)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n        at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:72)\n        at org.apache.spark.io.CompressionCodec$.createCodec(CompressionCodec.scala:65)\n        at org.apache.spark.broadcast.TorrentBroadcast.org$apache$spark$broadcast$TorrentBroadcast$$setConf(TorrentBroadcast.scala:73)\n        at org.apache.spark.broadcast.TorrentBroadcast.&lt;init&gt;(TorrentBroadcast.scala:80)\n        at org.apache.spark.broadcast.TorrentBroadcastFactory.newBroadcast(TorrentBroadcastFactory.scala:34)\n        at org.apache.spark.broadcast.BroadcastManager.newBroadcast(BroadcastManager.scala:63)\n        at org.apache.spark.SparkContext.broadcast(SparkContext.scala:1326)\n        at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1014)\n        at org.apache.spark.SparkContext$$anonfun$hadoopFile$1.apply(SparkContext.scala:1011)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n        at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\n        at org.apache.spark.SparkContext.hadoopFile(SparkContext.scala:1011)\n        at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:832)\n        at org.apache.spark.SparkContext$$anonfun$textFile$1.apply(SparkContext.scala:830)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n        at org.apache.spark.SparkContext.withScope(SparkContext.scala:714)\n        at org.apache.spark.SparkContext.textFile(SparkContext.scala:830)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:27)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:32)\n        at $iwC$$iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:34)\n        at $iwC$$iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:36)\n        at $iwC$$iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:38)\n        at $iwC$$iwC$$iwC.&lt;init&gt;(&lt;console&gt;:40)\n        at $iwC$$iwC.&lt;init&gt;(&lt;console&gt;:42)\n        at $iwC.&lt;init&gt;(&lt;console&gt;:44)\n        at &lt;init&gt;(&lt;console&gt;:46)\n        at .&lt;init&gt;(&lt;console&gt;:50)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at .&lt;init&gt;(&lt;console&gt;:7)\n        at .&lt;clinit&gt;(&lt;console&gt;)\n        at $print(&lt;console&gt;)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)\n        at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1346)\n        at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)\n        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)\n        at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)\n        at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)\n        at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)\n        at org.apache.spark.repl.SparkILoop.processLine$1(SparkILoop.scala:657)\n        at org.apache.spark.repl.SparkILoop.innerLoop$1(SparkILoop.scala:665)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$loop(SparkILoop.scala:670)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:997)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)\n        at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)\n        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)\n        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)\n        at org.apache.spark.repl.Main$.main(Main.scala:31)\n        at org.apache.spark.repl.Main.main(Main.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)\n        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)\n        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.UnsatisfiedLinkError: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: /tmp/snappy-1.1.2-2ccaf764-c7c4-4ff1-a68e-bbfdec0a3aa1-libsnappyjava.so: failed to map segment from shared object: Operation not permitted\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1851)\n        at java.lang.Runtime.load0(Runtime.java:795)\n        at java.lang.System.load(System.java:1062)\n        at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:174)\n        at org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:152)\n        at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:46)\n        at org.apache.spark.io.SnappyCompressionCodec.&lt;init&gt;(CompressionCodec.scala:154)\n        ... 69 more\n</code></pre>\n\n<p>There is not a lot in spark's conf. The setup for spark were as per:\n<a href=\"http://www.tutorialspoint.com/apache_spark/apache_spark_installation.htm\" rel=\"noreferrer\">http://www.tutorialspoint.com/apache_spark/apache_spark_installation.htm</a></p>\n\n<p>I have already made certain that everything in /tmp is world accessible (uog+rwx).</p>\n\n<p>Any advice/ideas would be much appreciated.</p>\n"},{"tags":["java","eclipse","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1685574838,"post_id":76377485,"comment_id":134681086,"body_markdown":"You must use an EOF-terminated start rule if you want the parser to consume all input. `start: condition EOF ;`","body":"You must use an EOF-terminated start rule if you want the parser to consume all input. <code>start: condition EOF ;</code>"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1685627868,"post_id":76377485,"comment_id":134689279,"body_markdown":"Also, you should know that if the lexer cannot lex the input, it will not throw an error. You will need to keep track of the number of errors the lexer sees, and then throw an error after parsing.","body":"Also, you should know that if the lexer cannot lex the input, it will not throw an error. You will need to keep track of the number of errors the lexer sees, and then throw an error after parsing."},{"owner":{"account_id":7047665,"reputation":3,"user_id":5397960,"display_name":"S. DAN"},"score":1,"creation_date":1685719857,"post_id":76377485,"comment_id":134705251,"body_markdown":"Thanks a lot @kaby76 for the hints. It solved the problem.","body":"Thanks a lot @kaby76 for the hints. It solved the problem."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685624720,"creation_date":1685624720,"answer_id":76382199,"question_id":76377485,"body_markdown":"For the input `id = 889xx88 OR y = 7`, the lexer will produce the following 9 tokens:\r\n\r\n - `IDENT`: `id`\r\n - `&#39;=&#39;`: `=`\r\n - `NUM`: `889`\r\n - `IDENT`: `xx`\r\n - `NUM`: `88`\r\n - `&#39;OR&#39;`: `OR`\r\n - `IDENT`: `y`\r\n - `&#39;=&#39;`: `=`\r\n - `NUM`: `7`\r\n\r\nIf you now let the parser rule `condition` consume these tokens, it happily creates `IDENT = NUM` (`id = 889`) from these tokens and will then stop parsing.\r\n\r\nAs mentioned by kaby76 in the comments: create a start rule that contains the built-in `EOF` (end-of-file) token to make sure *all* tokens are consumed (or an error will be reported, if it cannot do so):\r\n\r\n```\r\nstart\r\n : condition EOF\r\n ;\r\n```\r\n\r\nNote that chances are that the parser will only print an error to your STDERR and will (try to) continue parsing after the error. This is the default error recovery mode of ANTLR. If you want to change that, try searching for &quot;ANTLR custom error recovery&quot; or &quot;ANTLR custom error handler&quot; (or similar).","title":"Why does ANTLR parser not throw an error for invalid numerical input in Java?","body":"<p>For the input <code>id = 889xx88 OR y = 7</code>, the lexer will produce the following 9 tokens:</p>\n<ul>\n<li><code>IDENT</code>: <code>id</code></li>\n<li><code>'='</code>: <code>=</code></li>\n<li><code>NUM</code>: <code>889</code></li>\n<li><code>IDENT</code>: <code>xx</code></li>\n<li><code>NUM</code>: <code>88</code></li>\n<li><code>'OR'</code>: <code>OR</code></li>\n<li><code>IDENT</code>: <code>y</code></li>\n<li><code>'='</code>: <code>=</code></li>\n<li><code>NUM</code>: <code>7</code></li>\n</ul>\n<p>If you now let the parser rule <code>condition</code> consume these tokens, it happily creates <code>IDENT = NUM</code> (<code>id = 889</code>) from these tokens and will then stop parsing.</p>\n<p>As mentioned by kaby76 in the comments: create a start rule that contains the built-in <code>EOF</code> (end-of-file) token to make sure <em>all</em> tokens are consumed (or an error will be reported, if it cannot do so):</p>\n<pre><code>start\n : condition EOF\n ;\n</code></pre>\n<p>Note that chances are that the parser will only print an error to your STDERR and will (try to) continue parsing after the error. This is the default error recovery mode of ANTLR. If you want to change that, try searching for &quot;ANTLR custom error recovery&quot; or &quot;ANTLR custom error handler&quot; (or similar).</p>\n"}],"owner":{"account_id":7047665,"reputation":3,"user_id":5397960,"display_name":"S. DAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76382199,"answer_count":1,"score":0,"last_activity_date":1685624720,"creation_date":1685569368,"question_id":76377485,"body_markdown":"I built following ANTLR grammar (antlr4-runtime-4.13.0) for a simple condition:\r\n\r\n```\r\ngrammar Condition;\r\n\r\n@header {\r\npackage expression;\r\n}\r\n\r\ncondition\r\n    :(expression)(&#39;OR&#39; expression)*\r\n    ;\r\n\t\r\nexpression\r\n    : IDENT &#39;=&#39; NUM\r\n    ;\r\n\t\r\nIDENT : (&#39;a&#39;..&#39;z&#39; | &#39;A&#39;..&#39;Z&#39;)+;\r\nNUM   : [0-9]+;\r\nWS    : [ \\t\\r\\n]+ -&gt; skip;\r\n```\r\nI used this Java main test it:\r\n\r\n```\r\npublic class TestANTLRGrammar extends ConditionBaseListener   {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString entry = &quot;id = 889xx88 OR y = 7&quot;;\r\n\t\tConditionLexer lexer = new ConditionLexer(CharStreams.fromString(entry));\r\n\t\tTokenStream tokens = new CommonTokenStream(lexer);\r\n\t\tConditionParser parser = new ConditionParser(tokens);\r\n\t\tparser.condition();\r\n\t\tSystem.out.println(parser.getNumberOfSyntaxErrors());\r\n\t}\r\n}\r\n```\r\nI expected the parser to throw an error because &quot;889xx88&quot; shouldn&#39;t be considered as number but the parser identified &quot;id = 889&quot; and stops without continuing to the rest of the condition (i.e. &quot;OR y = 7&quot;). \r\nThe function getNumberOfSyntaxErrors() displayed &quot;0&quot;. \r\nCan anyone help me to fix this problem, please ?\r\n\r\n\r\n\r\nI expected the parser to throw an error as explained above.","title":"Why does ANTLR parser not throw an error for invalid numerical input in Java?","body":"<p>I built following ANTLR grammar (antlr4-runtime-4.13.0) for a simple condition:</p>\n<pre><code>grammar Condition;\n\n@header {\npackage expression;\n}\n\ncondition\n    :(expression)('OR' expression)*\n    ;\n    \nexpression\n    : IDENT '=' NUM\n    ;\n    \nIDENT : ('a'..'z' | 'A'..'Z')+;\nNUM   : [0-9]+;\nWS    : [ \\t\\r\\n]+ -&gt; skip;\n</code></pre>\n<p>I used this Java main test it:</p>\n<pre><code>public class TestANTLRGrammar extends ConditionBaseListener   {\n    \n    public static void main(String[] args) {\n        String entry = &quot;id = 889xx88 OR y = 7&quot;;\n        ConditionLexer lexer = new ConditionLexer(CharStreams.fromString(entry));\n        TokenStream tokens = new CommonTokenStream(lexer);\n        ConditionParser parser = new ConditionParser(tokens);\n        parser.condition();\n        System.out.println(parser.getNumberOfSyntaxErrors());\n    }\n}\n</code></pre>\n<p>I expected the parser to throw an error because &quot;889xx88&quot; shouldn't be considered as number but the parser identified &quot;id = 889&quot; and stops without continuing to the rest of the condition (i.e. &quot;OR y = 7&quot;).\nThe function getNumberOfSyntaxErrors() displayed &quot;0&quot;.\nCan anyone help me to fix this problem, please ?</p>\n<p>I expected the parser to throw an error as explained above.</p>\n"},{"tags":["java","kubernetes","spring-security","keycloak","spring-cloud-gateway"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1685644273,"post_id":76382182,"comment_id":134693106,"body_markdown":"Keycloak adapters for Spring are deprecated and incompatible with Boot 3 / Security 6. Plus spring-cloud-gateway is a reactive application and keycloak adapters where designed for servlets. Refer to [my tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials) (main README first and then BFF tutorial) to configure your gateway properly. Only then, will you get a chance to have it work in k8s (my BFF tutorial is [deployed to k8s](https://bff.demo.c4-soft.com/ui/)).","body":"Keycloak adapters for Spring are deprecated and incompatible with Boot 3 / Security 6. Plus spring-cloud-gateway is a reactive application and keycloak adapters where designed for servlets. Refer to <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a> (main README first and then BFF tutorial) to configure your gateway properly. Only then, will you get a chance to have it work in k8s (my BFF tutorial is <a href=\"https://bff.demo.c4-soft.com/ui/\" rel=\"nofollow noreferrer\">deployed to k8s</a>)."}],"owner":{"account_id":13316463,"reputation":55,"user_id":9612721,"display_name":"Kornext"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685624566,"creation_date":1685624566,"question_id":76382182,"body_markdown":"I can&#39;t figure out how to set up the infrastructure in such a way that everything works.\r\n    \r\n    @KeycloakConfiguration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class SpringWebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    LogoutSuccessHandler logoutSuccessHandler;\r\n\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new NullAuthenticatedSessionStrategy();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authManagerBuilder) {\r\n\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\r\n        authManagerBuilder.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n\r\n        http.csrf().and()\r\n                .authorizeRequests()\r\n                .anyRequest().fullyAuthenticated();\r\n        http.logout()\r\n                .addLogoutHandler(keycloakLogoutHandler())\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n                .logoutSuccessHandler(logoutSuccessHandler);\r\n    }\r\n    }\r\n\r\nConfig Keylock adapter\r\n\r\n    keycloak:\r\n      auth-server-url: ${KEYCLOAK_AUTH_URL}\r\n      realm: test-realm\r\n      resource: test-admin-client\r\n      use-resource-role-mappings: false\r\n      credentials:\r\n      secret: ${KEYCLOAK_CLIENT_SECRET}\r\n\r\nSpring Geteway\r\n\r\n      cloud:\r\n    gateway:\r\n      globalcors:\r\n        corsConfigurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;*&quot;\r\n            allowedMethods: &quot;*&quot;\r\n            allowedHeaders: &quot;*&quot;\r\n      routes:\r\n        - id: test-admin-client\r\n          uri: lb://test-admin-client\r\n          predicates:\r\n            - Path=/apps/test-admin-client/**\r\n          filters:\r\n            - TokenRelay=\r\n            - RewritePath=/apps/test-admin-client(?&lt;segment&gt;/?.*), $\\{segment}\r\n\r\nWhen visiting the gateway address (gateway.dev.test/app/test-admin-client), there was a redirect to http://10.244.130.77/sso/login (the local IP address of the k8s module).\r\n\r\nI fix this by:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n\r\n        KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\r\n        entryPoint.setLoginUri(&quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;);\r\n\r\n        http.csrf().and()\r\n                .authorizeRequests()\r\n                .anyRequest().fullyAuthenticated()\r\n                .and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(entryPoint);\r\n        http.logout()\r\n                .addLogoutHandler(keycloakLogoutHandler())\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n                .logoutSuccessHandler(logoutSuccessHandler);\r\n    }\r\n\r\nIt worked, now I could see the keycloak-server authorization window, but the request contained an incorrect redirect_uri with the local IP of my service pod. Like This:\r\n\r\n    https://{keycloack-server-hostname}\r\n      ?response_type=code\r\n      &amp;client_id=na-polke-admin-client\r\n      &amp;redirect_uri=http%3A%2F%2F10.244.130.77%2Fsso%2Flogin\r\n      &amp;state=057fabd5-27a1-4e19-9b61-90712f8c8a1\r\n      &amp;login=true\r\n      &amp;scope=openid\r\n\r\nI fixed it with override getReuest() method on KeycloakAuthenticationProcessingFilter\r\n\r\n    @Component\r\n    public class KeycloackAuthenticationProcessingFilterPostProcessor implements BeanPostProcessor {\r\n\r\n    private void process(KeycloakAuthenticationProcessingFilter filter) {\r\n\r\n        filter.setRequestAuthenticatorFactory(new SpringSecurityRequestAuthenticatorFactory() {\r\n\r\n            @Override\r\n            public RequestAuthenticator createRequestAuthenticator(HttpFacade facade, HttpServletRequest request, KeycloakDeployment deployment, AdapterTokenStore tokenStore, int sslRedirectPort) {\r\n\r\n                return new SpringSecurityRequestAuthenticator(facade, request, deployment, tokenStore, sslRedirectPort) {\r\n\r\n                    @Override\r\n                    protected OAuthRequestAuthenticator createOAuthAuthenticator() {\r\n\r\n                        return new OAuthRequestAuthenticator(this, facade, deployment, sslRedirectPort, tokenStore) {\r\n\r\n                            @Override\r\n                            protected String getRequestUrl() {\r\n\r\n                                return &quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;;\r\n                            }\r\n                        };\r\n                    }\r\n\r\n                };\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(Object bean, String beanName) {\r\n\r\n        if (bean instanceof KeycloakAuthenticationProcessingFilter) {\r\n            log.info(&quot;Injecting Custom handler...&quot;);\r\n            process(((KeycloakAuthenticationProcessingFilter) bean));\r\n        }\r\n        return bean;\r\n    }\r\n}\r\n\r\nIn the end, i manage to successfully pass authorization and I get a redirect to http://gateway.dev.test/app/test-admin-client/sso/login but then the redirects go into a loop referring to gateway/app/admin-client/sso/login\r\n\r\n\r\nWhat could be the problem? What am I doing wrong?","title":"Spring Security + Keylock Adapter + Gateway + Kubernetes - too many redirects","body":"<p>I can't figure out how to set up the infrastructure in such a way that everything works.</p>\n<pre><code>@KeycloakConfiguration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class SpringWebSecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n@Autowired\nLogoutSuccessHandler logoutSuccessHandler;\n\n@Override\nprotected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n    return new NullAuthenticatedSessionStrategy();\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder authManagerBuilder) {\n\n    KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n    keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n    authManagerBuilder.authenticationProvider(keycloakAuthenticationProvider);\n}\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n\n    http.csrf().and()\n            .authorizeRequests()\n            .anyRequest().fullyAuthenticated();\n    http.logout()\n            .addLogoutHandler(keycloakLogoutHandler())\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n            .logoutSuccessHandler(logoutSuccessHandler);\n}\n}\n</code></pre>\n<p>Config Keylock adapter</p>\n<pre><code>keycloak:\n  auth-server-url: ${KEYCLOAK_AUTH_URL}\n  realm: test-realm\n  resource: test-admin-client\n  use-resource-role-mappings: false\n  credentials:\n  secret: ${KEYCLOAK_CLIENT_SECRET}\n</code></pre>\n<p>Spring Geteway</p>\n<pre><code>  cloud:\ngateway:\n  globalcors:\n    corsConfigurations:\n      '[/**]':\n        allowedOrigins: &quot;*&quot;\n        allowedMethods: &quot;*&quot;\n        allowedHeaders: &quot;*&quot;\n  routes:\n    - id: test-admin-client\n      uri: lb://test-admin-client\n      predicates:\n        - Path=/apps/test-admin-client/**\n      filters:\n        - TokenRelay=\n        - RewritePath=/apps/test-admin-client(?&lt;segment&gt;/?.*), $\\{segment}\n</code></pre>\n<p>When visiting the gateway address (gateway.dev.test/app/test-admin-client), there was a redirect to <a href=\"http://10.244.130.77/sso/login\" rel=\"nofollow noreferrer\">http://10.244.130.77/sso/login</a> (the local IP address of the k8s module).</p>\n<p>I fix this by:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n\n    KeycloakAuthenticationEntryPoint entryPoint = (KeycloakAuthenticationEntryPoint)authenticationEntryPoint();\n    entryPoint.setLoginUri(&quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;);\n\n    http.csrf().and()\n            .authorizeRequests()\n            .anyRequest().fullyAuthenticated()\n            .and()\n            .exceptionHandling()\n            .authenticationEntryPoint(entryPoint);\n    http.logout()\n            .addLogoutHandler(keycloakLogoutHandler())\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n            .logoutSuccessHandler(logoutSuccessHandler);\n}\n</code></pre>\n<p>It worked, now I could see the keycloak-server authorization window, but the request contained an incorrect redirect_uri with the local IP of my service pod. Like This:</p>\n<pre><code>https://{keycloack-server-hostname}\n  ?response_type=code\n  &amp;client_id=na-polke-admin-client\n  &amp;redirect_uri=http%3A%2F%2F10.244.130.77%2Fsso%2Flogin\n  &amp;state=057fabd5-27a1-4e19-9b61-90712f8c8a1\n  &amp;login=true\n  &amp;scope=openid\n</code></pre>\n<p>I fixed it with override getReuest() method on KeycloakAuthenticationProcessingFilter</p>\n<pre><code>@Component\npublic class KeycloackAuthenticationProcessingFilterPostProcessor implements BeanPostProcessor {\n\nprivate void process(KeycloakAuthenticationProcessingFilter filter) {\n\n    filter.setRequestAuthenticatorFactory(new SpringSecurityRequestAuthenticatorFactory() {\n\n        @Override\n        public RequestAuthenticator createRequestAuthenticator(HttpFacade facade, HttpServletRequest request, KeycloakDeployment deployment, AdapterTokenStore tokenStore, int sslRedirectPort) {\n\n            return new SpringSecurityRequestAuthenticator(facade, request, deployment, tokenStore, sslRedirectPort) {\n\n                @Override\n                protected OAuthRequestAuthenticator createOAuthAuthenticator() {\n\n                    return new OAuthRequestAuthenticator(this, facade, deployment, sslRedirectPort, tokenStore) {\n\n                        @Override\n                        protected String getRequestUrl() {\n\n                            return &quot;http://gateway.dev.test/app/test-admin-client/sso/login&quot;;\n                        }\n                    };\n                }\n\n            };\n        }\n    });\n}\n\n@Override\npublic Object postProcessAfterInitialization(Object bean, String beanName) {\n\n    if (bean instanceof KeycloakAuthenticationProcessingFilter) {\n        log.info(&quot;Injecting Custom handler...&quot;);\n        process(((KeycloakAuthenticationProcessingFilter) bean));\n    }\n    return bean;\n}\n</code></pre>\n<p>}</p>\n<p>In the end, i manage to successfully pass authorization and I get a redirect to <a href=\"http://gateway.dev.test/app/test-admin-client/sso/login\" rel=\"nofollow noreferrer\">http://gateway.dev.test/app/test-admin-client/sso/login</a> but then the redirects go into a loop referring to gateway/app/admin-client/sso/login</p>\n<p>What could be the problem? What am I doing wrong?</p>\n"},{"tags":["java","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":740853,"reputation":5144,"user_id":718515,"display_name":"Rafal Borowiec"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1397064724,"creation_date":1397064724,"answer_id":22969865,"question_id":22959987,"body_markdown":"You can do it by utilizing `#messages.listMsg` and `#strings.listJoin`\r\n\r\nHaving the model returned from your @Controller:\r\n\r\n    model.addAttribute(&quot;messageKeyList&quot;, Lists.newArrayList(&quot;name&quot;, &quot;address&quot;));\r\n\r\nYou can join list of translated messages like this:\r\n\r\n    &lt;div th:text=&quot;${#strings.listJoin(#messages.listMsg(messageKeyList), &#39;,&#39;)}&quot;&gt;&lt;/div&gt;\r\n\r\nWhich should produce what you expect, e.g.:\r\n\r\n    Some name,Some address\r\n\r\nWhere name and address are keys in your messages file.","title":"How to process and join string in thymeleaf","body":"<p>You can do it by utilizing <code>#messages.listMsg</code> and <code>#strings.listJoin</code></p>\n\n<p>Having the model returned from your @Controller:</p>\n\n<pre><code>model.addAttribute(\"messageKeyList\", Lists.newArrayList(\"name\", \"address\"));\n</code></pre>\n\n<p>You can join list of translated messages like this:</p>\n\n<pre><code>&lt;div th:text=\"${#strings.listJoin(#messages.listMsg(messageKeyList), ',')}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Which should produce what you expect, e.g.:</p>\n\n<pre><code>Some name,Some address\n</code></pre>\n\n<p>Where name and address are keys in your messages file.</p>\n"},{"tags":[],"owner":{"account_id":13533258,"reputation":121,"user_id":9763114,"display_name":"Yiorgos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685623916,"creation_date":1685623916,"answer_id":76382076,"question_id":22959987,"body_markdown":"In case you are using localization, the *#messages.listMsg* part will try to translate each string in the list, resulting in what [@Oleksii][1] mentioned in his comment above. If you want just to print the strings as-is, use this:\r\n\r\n    &lt;div th:text=&quot;${#strings.listJoin(messageKeyList, &#39;,&#39;)}&quot;&gt;&lt;/div&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/7459856/oleksii-morenets","title":"How to process and join string in thymeleaf","body":"<p>In case you are using localization, the <em>#messages.listMsg</em> part will try to translate each string in the list, resulting in what <a href=\"https://stackoverflow.com/users/7459856/oleksii-morenets\">@Oleksii</a> mentioned in his comment above. If you want just to print the strings as-is, use this:</p>\n<pre><code>&lt;div th:text=&quot;${#strings.listJoin(messageKeyList, ',')}&quot;&gt;&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":1167779,"reputation":1569,"user_id":1145674,"accept_rate":54,"display_name":"Roxana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15732,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22969865,"answer_count":2,"score":10,"last_activity_date":1685623916,"creation_date":1397039819,"question_id":22959987,"body_markdown":"I have a list of strings - which are the properties names that I am interested in:\r\nI want to join the values of these strings, but not using the properties name, but the properties values for them.\r\nI saw that the starting point is &lt;code&gt;#strings.listJoin&lt;/code&gt; - but how can I say to match the elements in the list against their value in the properties files?\r\n\r\nThe list would be: &lt;code&gt;[name, address]&lt;/code&gt; and in the properties file I have:&lt;pre&gt;&lt;code&gt;name=stg\r\naddress=another something\r\n&lt;/code&gt;&lt;/pre&gt;\r\nI would like to obtain the string: &lt;code&gt;stg, another something&lt;/code&gt;","title":"How to process and join string in thymeleaf","body":"<p>I have a list of strings - which are the properties names that I am interested in:\nI want to join the values of these strings, but not using the properties name, but the properties values for them.\nI saw that the starting point is <code>#strings.listJoin</code> - but how can I say to match the elements in the list against their value in the properties files?</p>\n\n<p>The list would be: <code>[name, address]</code> and in the properties file I have:<pre><code>name=stg\naddress=another something\n</code></pre>\nI would like to obtain the string: <code>stg, another something</code></p>\n"},{"tags":["java","spring","gradle","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":17252039,"reputation":19,"user_id":12492027,"display_name":"–ú–∞–∫—Å–∏–º –ù–∞—É–º–æ–≤"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1575645077,"creation_date":1575645077,"answer_id":59215704,"question_id":48357592,"body_markdown":"You can right-click on src/main/java in Explorer and choose &quot;Add Folder to Java Source Path&quot;, and restart VSCode.","title":"Change java project source in VSCode?","body":"<p>You can right-click on src/main/java in Explorer and choose \"Add Folder to Java Source Path\", and restart VSCode.</p>\n"},{"tags":[],"owner":{"account_id":110166,"reputation":32552,"user_id":291641,"display_name":"patthoyts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685622161,"creation_date":1685622161,"answer_id":76381815,"question_id":48357592,"body_markdown":"In the .vscode/settings file set\r\n\r\n    &quot;java.project.sourcePaths&quot;: [\r\n         &quot;src/main/java&quot;\r\n     ]\r\n\r\nor edit the Workspace settings and find the java.sourcePaths property.\r\n","title":"Change java project source in VSCode?","body":"<p>In the .vscode/settings file set</p>\n<pre><code>&quot;java.project.sourcePaths&quot;: [\n     &quot;src/main/java&quot;\n ]\n</code></pre>\n<p>or edit the Workspace settings and find the java.sourcePaths property.</p>\n"}],"owner":{"account_id":4875403,"reputation":557,"user_id":3930681,"accept_rate":100,"display_name":"steve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8208,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1685622161,"creation_date":1516460590,"question_id":48357592,"body_markdown":"After creating the basic hello world Spring Java [application][1] I am getting this lint error for the &#39;hello&#39; package definition:\r\n\r\n    The declared package &quot;hello&quot; does not match the expected package &quot;main.java.hello&quot;\r\n\r\nI understand in Eclipse you can change the Java source directory to be /src/main/java instead of just /src. How can I achieve the same in VSCode?\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/serving-web-content/","title":"Change java project source in VSCode?","body":"<p>After creating the basic hello world Spring Java <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">application</a> I am getting this lint error for the 'hello' package definition:</p>\n\n<pre><code>The declared package \"hello\" does not match the expected package \"main.java.hello\"\n</code></pre>\n\n<p>I understand in Eclipse you can change the Java source directory to be /src/main/java instead of just /src. How can I achieve the same in VSCode?</p>\n"},{"tags":["java","netbeans","package","javadoc"],"answers":[{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342111085,"creation_date":1342109511,"answer_id":11456096,"question_id":11456069,"body_markdown":"You could use `packagenames` parameter for that. Syntax:\r\n\r\n    javadoc [ options ] [ packagenames ] [ sourcefilenames ] [ -subpackages pkg1:pkg2:... ] [ @argfiles ] \r\n\r\n[Documentation](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html):\r\n\r\n&gt; **packagenames** - \r\n&gt;     A series of names of packages, separated by spaces, such as java.lang java.lang.reflect java.awt. You must separately specify each\r\n&gt; package you want to document. Wildcards are not allowed; use\r\n&gt; -subpackages for recursion. The Javadoc tool uses -sourcepath to look for these package names. See Example - Documenting One or More\r\n&gt; Packages\r\n\r\nThis parameters you can apply to [Right Click on Project] &gt; Properties &gt; Build &gt; Documenting you can provide additional parameters but when I needed it as you need now I just did it manually (command line), I conclude that netbeans provides the source package as already a parameter to javadoc. ","title":"how to generate javadoc of only one package","body":"<p>You could use <code>packagenames</code> parameter for that. Syntax:</p>\n\n<pre><code>javadoc [ options ] [ packagenames ] [ sourcefilenames ] [ -subpackages pkg1:pkg2:... ] [ @argfiles ] \n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html\" rel=\"nofollow\">Documentation</a>:</p>\n\n<blockquote>\n  <p><strong>packagenames</strong> - \n      A series of names of packages, separated by spaces, such as java.lang java.lang.reflect java.awt. You must separately specify each\n  package you want to document. Wildcards are not allowed; use\n  -subpackages for recursion. The Javadoc tool uses -sourcepath to look for these package names. See Example - Documenting One or More\n  Packages</p>\n</blockquote>\n\n<p>This parameters you can apply to [Right Click on Project] > Properties > Build > Documenting you can provide additional parameters but when I needed it as you need now I just did it manually (command line), I conclude that netbeans provides the source package as already a parameter to javadoc. </p>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448276734,"creation_date":1448276734,"answer_id":33869513,"question_id":11456069,"body_markdown":"When using Netbeans 8.1:\r\n\r\n+ [Right Click on Project] &gt; Properties &gt; Actions\r\n+ Select Action &quot;Generate JavaDoc&quot;\r\n+ At &quot;Set Properties:&quot;, specify: `subpackages=&lt;your package(s)&gt;`\r\n+ Click &quot;OK&quot;\r\n\r\nNow for generating JavaDoc *for this project*, execute the maven `javadoc:javadoc` goal or run this goal directly from Netbeans:\r\n\r\n+ [Right Click on Project] &gt; Generate JavaDoc\r\n","title":"how to generate javadoc of only one package","body":"<p>When using Netbeans 8.1:</p>\n\n<ul>\n<li>[Right Click on Project] > Properties > Actions</li>\n<li>Select Action \"Generate JavaDoc\"</li>\n<li>At \"Set Properties:\", specify: <code>subpackages=&lt;your package(s)&gt;</code></li>\n<li>Click \"OK\"</li>\n</ul>\n\n<p>Now for generating JavaDoc <em>for this project</em>, execute the maven <code>javadoc:javadoc</code> goal or run this goal directly from Netbeans:</p>\n\n<ul>\n<li>[Right Click on Project] > Generate JavaDoc</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16906630,"reputation":11,"user_id":12226810,"display_name":"mohamed didi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685621984,"creation_date":1685621984,"answer_id":76381789,"question_id":11456069,"body_markdown":"\r\nTry to do this :\r\n\r\n 1. Place the curser on the package you want to generate the javadoc for.\r\n 2. Click on Tools -&gt; Generate JavaDoc\r\n 3. For JavaDoc Scop, you will see your package as choice, select it\r\n 4. After specifying the ouput directory, click on Generate.\r\n\r\n \r\n\r\n ","title":"how to generate javadoc of only one package","body":"<p>Try to do this :</p>\n<ol>\n<li>Place the curser on the package you want to generate the javadoc for.</li>\n<li>Click on Tools -&gt; Generate JavaDoc</li>\n<li>For JavaDoc Scop, you will see your package as choice, select it</li>\n<li>After specifying the ouput directory, click on Generate.</li>\n</ol>\n"}],"owner":{"account_id":1634583,"reputation":333,"user_id":1508419,"accept_rate":74,"display_name":"user1508419"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3428,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1685621984,"creation_date":1342109408,"question_id":11456069,"body_markdown":"I would generate through Netbeans javadoc for only one specific package.If I press on the panel &quot;Generate Javadocs&quot; I obtain Javadoc of all the project.Instead I would for only one package.","title":"how to generate javadoc of only one package","body":"<p>I would generate through Netbeans javadoc for only one specific package.If I press on the panel \"Generate Javadocs\" I obtain Javadoc of all the project.Instead I would for only one package.</p>\n"},{"tags":["java","hibernate","jpa","ddl"],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685621866,"creation_date":1685621866,"question_id":76381774,"body_markdown":"I have a test class that fetches a JWT token in its constructor. Or rather, it *tries to*: the tables are not yet created by the time constructor code is executed so all test methods fail with a 401 error\r\n```java\r\n// a snippet from my test class\r\npublic class UserQuestionCommentRestControllerTest extends IntegrationTestContext {\r\n    private static final String testUsername = &quot;mickey_m&quot;;\r\n    private static final String testPassword = &quot;mickey&quot;;\r\n    private final String token;\r\n    private static final String BASE_URI = &quot;/api/v1/user/question-comments/&quot;;\r\n    private static final String BASE_SCRIPT_PATH = &quot;/sql/UserQuestionCommentRestControllerTest/&quot;;\r\n    private ExpectationTester expectationTester;\r\n\r\n    @Autowired\r\n    public UserQuestionCommentRestControllerTest(TestUtil testUtil) throws Exception {\r\n        token = testUtil.getToken(testUsername, testPassword);\r\n    }\r\n    @Test\r\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\r\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\r\n    public void getCommentTest() throws Exception {\r\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\r\n                        .header(HttpHeaders.AUTHORIZATION, token))\r\n                .andExpect(status().isOk())\r\n                .andReturn()\r\n                .getResponse();\r\n    // asserts\r\n```\r\n```java\r\n// here&#39;s what getToken() does\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class TestUtil {\r\n\r\n    private final ObjectMapper objectMapper;\r\n    private final MockMvc mockMvc;\r\n\r\n    public String getToken(String username, String password) throws Exception {\r\n        MvcResult result = mockMvc.perform(post(&quot;/api/v1/token&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(new JwtRequestDto(username, password))))\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n        ObjectNode content = objectMapper.readValue(result.getResponse().getContentAsString(), ObjectNode.class);\r\n        return &quot;Bearer &quot; + objectMapper.readValue(content.get(&quot;data&quot;).toString(), String.class);\r\n    }\r\n}\r\n```\r\n```\r\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\r\nExpected :200\r\nActual   :401\r\n```\r\n```java\r\n// a snippet from the Account @Entity class\r\n    @NotNull\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;accounts_permissions&quot;, // ‚Üê here it is\r\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\r\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n```\r\nIt made me wonder: **when exactly does schema initialization happen when your `ddl-auto` is set to some value involving automatic table creation** (like `create`, as in my code)? I thought it happens once your `@Entity` classes are loaded in memory, but it appears it is not the case","title":"When exactly does Hibernate create tables according to @Entity mappings?","body":"<p>I have a test class that fetches a JWT token in its constructor. Or rather, it <em>tries to</em>: the tables are not yet created by the time constructor code is executed so all test methods fail with a 401 error</p>\n<pre class=\"lang-java prettyprint-override\"><code>// a snippet from my test class\npublic class UserQuestionCommentRestControllerTest extends IntegrationTestContext {\n    private static final String testUsername = &quot;mickey_m&quot;;\n    private static final String testPassword = &quot;mickey&quot;;\n    private final String token;\n    private static final String BASE_URI = &quot;/api/v1/user/question-comments/&quot;;\n    private static final String BASE_SCRIPT_PATH = &quot;/sql/UserQuestionCommentRestControllerTest/&quot;;\n    private ExpectationTester expectationTester;\n\n    @Autowired\n    public UserQuestionCommentRestControllerTest(TestUtil testUtil) throws Exception {\n        token = testUtil.getToken(testUsername, testPassword);\n    }\n    @Test\n    @Sql(executionPhase = BEFORE_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/before.sql&quot;) // e.g. attempts to insert into the security join table accounts_permissions\n    @Sql(executionPhase = AFTER_TEST_METHOD, value = BASE_SCRIPT_PATH + &quot;GetCommentTest/after.sql&quot;)\n    public void getCommentTest() throws Exception {\n        MockHttpServletResponse response = mockMvc.perform(get(BASE_URI + 1)\n                        .header(HttpHeaders.AUTHORIZATION, token))\n                .andExpect(status().isOk())\n                .andReturn()\n                .getResponse();\n    // asserts\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// here's what getToken() does\n@RequiredArgsConstructor\n@Component\npublic class TestUtil {\n\n    private final ObjectMapper objectMapper;\n    private final MockMvc mockMvc;\n\n    public String getToken(String username, String password) throws Exception {\n        MvcResult result = mockMvc.perform(post(&quot;/api/v1/token&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(new JwtRequestDto(username, password))))\n                .andExpect(status().isOk())\n                .andReturn();\n        ObjectNode content = objectMapper.readValue(result.getResponse().getContentAsString(), ObjectNode.class);\n        return &quot;Bearer &quot; + objectMapper.readValue(content.get(&quot;data&quot;).toString(), String.class);\n    }\n}\n</code></pre>\n<pre><code>java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\nExpected :200\nActual   :401\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// a snippet from the Account @Entity class\n    @NotNull\n    @ManyToMany\n    @JoinTable(name = &quot;accounts_permissions&quot;, // ‚Üê here it is\n            joinColumns = @JoinColumn(name = &quot;account_id&quot;, nullable = false),\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, nullable = false),\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;account_id&quot;, &quot;permission_id&quot;}))\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n</code></pre>\n<p>It made me wonder: <strong>when exactly does schema initialization happen when your <code>ddl-auto</code> is set to some value involving automatic table creation</strong> (like <code>create</code>, as in my code)? I thought it happens once your <code>@Entity</code> classes are loaded in memory, but it appears it is not the case</p>\n"},{"tags":["java","postgresql","r2dbc"],"owner":{"account_id":203656,"reputation":417,"user_id":451445,"accept_rate":42,"display_name":"GTY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685621757,"creation_date":1685621757,"question_id":76381760,"body_markdown":"While working on a Java application that connects to postgres DB, I encountered an error while using different database drivers. \r\n\r\nThe application connects to postgres DB 14.0 using \r\n* A connection obtained via `javax.sql.Datasource` used for applying database changes via liquibase.\r\n* The rest of the business logic was using reactor APIs and hence was using `r2dbc` driver to connect and execute any queries.\r\n\r\nWhile running the application locally, both the mechanisms worked fine. However, when this was run on AWS using an RDS postgres 14.0 instance, I observed a different behaviour. \r\n* The `Datasource` based part used by liquibase worked.\r\n* The `r2dbc` part failed with the following error.\r\n```\r\nCaused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlAuthenticationFailure: [28000] no pg_hba.conf entry for host &quot;*.*.*.*&quot;, user &quot;devuser&quot;, database &quot;devDB&quot;, no encryption\r\n```\r\nThis got me thinking on why JDBC4 connection obtained by `Datasource` worked while `r2dbc` based connection was interrupted in its path and asked for client authentication by having host entry in its path. \r\n\r\nBoth the ways are using standard way to connect i.e. username, password, etc. No SSL or encryption was enabled, it was just using default settings.\r\n\r\nDoes anyone have any idea what may be the difference in the way these drivers connect? Why one of them is not challenged by database for client authentication while the other is?\r\n","title":"Difference of connection between JDBC4 driver and r2dbc driver","body":"<p>While working on a Java application that connects to postgres DB, I encountered an error while using different database drivers.</p>\n<p>The application connects to postgres DB 14.0 using</p>\n<ul>\n<li>A connection obtained via <code>javax.sql.Datasource</code> used for applying database changes via liquibase.</li>\n<li>The rest of the business logic was using reactor APIs and hence was using <code>r2dbc</code> driver to connect and execute any queries.</li>\n</ul>\n<p>While running the application locally, both the mechanisms worked fine. However, when this was run on AWS using an RDS postgres 14.0 instance, I observed a different behaviour.</p>\n<ul>\n<li>The <code>Datasource</code> based part used by liquibase worked.</li>\n<li>The <code>r2dbc</code> part failed with the following error.</li>\n</ul>\n<pre><code>Caused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlAuthenticationFailure: [28000] no pg_hba.conf entry for host &quot;*.*.*.*&quot;, user &quot;devuser&quot;, database &quot;devDB&quot;, no encryption\n</code></pre>\n<p>This got me thinking on why JDBC4 connection obtained by <code>Datasource</code> worked while <code>r2dbc</code> based connection was interrupted in its path and asked for client authentication by having host entry in its path.</p>\n<p>Both the ways are using standard way to connect i.e. username, password, etc. No SSL or encryption was enabled, it was just using default settings.</p>\n<p>Does anyone have any idea what may be the difference in the way these drivers connect? Why one of them is not challenged by database for client authentication while the other is?</p>\n"},{"tags":["java","virtualbox"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685621750,"creation_date":1685621750,"answer_id":76381756,"question_id":76361805,"body_markdown":"&gt; Now, the first putMouseEventAbsolute(200, 200, places the mouse to 199x199, that is almost ok.\r\n\r\nThat looks like [VirtualBox issue 9321](https://www.virtualbox.org/ticket/9321), duplicate of [7566](https://www.virtualbox.org/ticket/7566) with the comment:\r\n\r\n&gt; Actually there is only a single pixel difference, as the API officially uses an origin of (1, 1) for reasons no one can remember.  \r\nWhich no one wants to change now.\r\n\r\nThat means, if you want the mouse to end up at (200,200) you would need to provide (202,202) as the arguments to putMouseEventAbsolute, given the current behavior of the VirtualBox API‚Äã.\r\n\r\nLooking at &quot;[IMouse::putMouseEventAbsolute - no mouse event received by VM ](https://vbox-dev.virtualbox.narkive.com/4R4MIaAd/imouse-putmouseeventabsolute-no-mouse-event-received-by-vm)&quot;, absolute mouse events will only get through if [`IMouse::absoluteSupported`](https://www.virtualbox.org/sdkref/interface_i_mouse.html) returns TRUE (similarly for relative mouse events and `IMouse::relativeSupported`).  \r\nIf the VM is configured to use an actual mouse (which is inherently relative), then this will only be the case if the Guest Additions are installed in the VM, because these add absolute support. If you configure the VM to use the USB tablet (which is the default configuration for reasonably new Linux VMs), then the absolute events should always go through.\r\n\r\nI see also &quot;[PutMouseEventAbsolute not moving mouse](https://forums.virtualbox.org/viewtopic.php?t=62753)&quot;: It has been suggested that when you send absolute position events, the guest OS may assume that you are telling it the location of the host cursor and stop drawing it itself.  \r\nUsing relative position events (`mouse.putMouseEvent(dx, dy, dz, dw, buttonState);`) would therefore be advisable, and yet, as you have seen, the result in strange.   \r\nIf the guest system&#39;s display is not at a 1:1 pixel ratio with the host system, or if there is any kind of display scaling going on, this could affect the interpretation of the mouse events: try and check both resolutions.  \r\nIn VirtualBox itself, do also check the &quot;Display&quot; settings for the specific virtual machine. Look at the &quot;Screen&quot; tab and make sure that the &quot;Scale Factor&quot; is set to 100%. Also, ensure that the &quot;Graphics Controller&quot; is set appropriately for your guest system.","title":"Weird virtualbox behaviour in unit-test","body":"<blockquote>\n<p>Now, the first putMouseEventAbsolute(200, 200, places the mouse to 199x199, that is almost ok.</p>\n</blockquote>\n<p>That looks like <a href=\"https://www.virtualbox.org/ticket/9321\" rel=\"nofollow noreferrer\">VirtualBox issue 9321</a>, duplicate of <a href=\"https://www.virtualbox.org/ticket/7566\" rel=\"nofollow noreferrer\">7566</a> with the comment:</p>\n<blockquote>\n<p>Actually there is only a single pixel difference, as the API officially uses an origin of (1, 1) for reasons no one can remember.<br />\nWhich no one wants to change now.</p>\n</blockquote>\n<p>That means, if you want the mouse to end up at (200,200) you would need to provide (202,202) as the arguments to putMouseEventAbsolute, given the current behavior of the VirtualBox API‚Äã.</p>\n<p>Looking at &quot;<a href=\"https://vbox-dev.virtualbox.narkive.com/4R4MIaAd/imouse-putmouseeventabsolute-no-mouse-event-received-by-vm\" rel=\"nofollow noreferrer\">IMouse::putMouseEventAbsolute - no mouse event received by VM </a>&quot;, absolute mouse events will only get through if <a href=\"https://www.virtualbox.org/sdkref/interface_i_mouse.html\" rel=\"nofollow noreferrer\"><code>IMouse::absoluteSupported</code></a> returns TRUE (similarly for relative mouse events and <code>IMouse::relativeSupported</code>).<br />\nIf the VM is configured to use an actual mouse (which is inherently relative), then this will only be the case if the Guest Additions are installed in the VM, because these add absolute support. If you configure the VM to use the USB tablet (which is the default configuration for reasonably new Linux VMs), then the absolute events should always go through.</p>\n<p>I see also &quot;<a href=\"https://forums.virtualbox.org/viewtopic.php?t=62753\" rel=\"nofollow noreferrer\">PutMouseEventAbsolute not moving mouse</a>&quot;: It has been suggested that when you send absolute position events, the guest OS may assume that you are telling it the location of the host cursor and stop drawing it itself.<br />\nUsing relative position events (<code>mouse.putMouseEvent(dx, dy, dz, dw, buttonState);</code>) would therefore be advisable, and yet, as you have seen, the result in strange.<br />\nIf the guest system's display is not at a 1:1 pixel ratio with the host system, or if there is any kind of display scaling going on, this could affect the interpretation of the mouse events: try and check both resolutions.<br />\nIn VirtualBox itself, do also check the &quot;Display&quot; settings for the specific virtual machine. Look at the &quot;Screen&quot; tab and make sure that the &quot;Scale Factor&quot; is set to 100%. Also, ensure that the &quot;Graphics Controller&quot; is set appropriately for your guest system.</p>\n"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685621750,"creation_date":1685424323,"question_id":76361805,"body_markdown":"Trying to control virtualbox programatically some unexpected behaviour occourse.\r\nI try to:\r\n1. Place the mouse-cursor at 200x200.\r\n2. Move the mouse-cursor by 10x10 to the lower-right.\r\n\r\nSteps to reproduce: \r\n\r\n1. Start a virtualbox-machine. \r\n2. Start xev in the virtualbox-machine.\r\n3. Start vboxwebsrv\r\n4. Enter user-credentials for vboxwebsrv-Server in the code below\r\n\r\nThis is my code:\r\n\r\n    VirtualBoxManager manager = VirtualBoxManager.createInstance(null);\r\n\r\n\tprivate IVirtualBox connect() throws IOException, FileNotFoundException {\r\n\t\tmanager.connect(&quot;http://localhost:18083&quot;, &quot;user&quot;, &quot;pass&quot;);\r\n\t\treturn manager.getVBox();\r\n\t}\r\n\r\n\tpublic void testMousePos() throws Exception {\r\n\t\tIVirtualBox box = connect();\r\n\t\tfor (IMachine machine : box.getMachines()) {\r\n\t\t\tif (machine.getState() == MachineState.Running) {\r\n\t\t\t\tISession session = manager.getSessionObject();\r\n\t\t\t\tmachine.lockMachine(session, LockType.Shared);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tIConsole console = session.getConsole();\r\n\t\t\t\t\tIMouse mouse = console.getMouse();\r\n\t\t\t\t\tmouse.putMouseEventAbsolute(200, 200, 0, 0, 0x00);\r\n\t\t\t\t\tmouse.putMouseEvent(10, 10, 0, 0, 0x00);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsession.unlockMachine();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis will produce this screenshot: \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/VJqCs.png&quot; width=&quot;300&quot;&gt;\r\n\r\nNow, the first `putMouseEventAbsolute(200, 200,` places the mouse to 199x199, that is *almost* ok. \r\n\r\nThen the `putMouseEvent(10, 10,` result in the new position of 203x203, that is **NOT** ok. \r\n\r\nThen\r\n---\r\nIf I restart the test it is getting more worst.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/OgIoh.png&quot; width=&quot;300&quot;&gt;\r\n\r\nThe position is now changed from 203x203 to 208x208. The `putMouseEventAbsolute` seems to be not executed at all anymore (even if I restart the vboxwebsvr-service).\r\n\r\nAny idea?","title":"Weird virtualbox behaviour in unit-test","body":"<p>Trying to control virtualbox programatically some unexpected behaviour occourse.\nI try to:</p>\n<ol>\n<li>Place the mouse-cursor at 200x200.</li>\n<li>Move the mouse-cursor by 10x10 to the lower-right.</li>\n</ol>\n<p>Steps to reproduce:</p>\n<ol>\n<li>Start a virtualbox-machine.</li>\n<li>Start xev in the virtualbox-machine.</li>\n<li>Start vboxwebsrv</li>\n<li>Enter user-credentials for vboxwebsrv-Server in the code below</li>\n</ol>\n<p>This is my code:</p>\n<pre><code>VirtualBoxManager manager = VirtualBoxManager.createInstance(null);\n\nprivate IVirtualBox connect() throws IOException, FileNotFoundException {\n    manager.connect(&quot;http://localhost:18083&quot;, &quot;user&quot;, &quot;pass&quot;);\n    return manager.getVBox();\n}\n\npublic void testMousePos() throws Exception {\n    IVirtualBox box = connect();\n    for (IMachine machine : box.getMachines()) {\n        if (machine.getState() == MachineState.Running) {\n            ISession session = manager.getSessionObject();\n            machine.lockMachine(session, LockType.Shared);\n            try {\n                IConsole console = session.getConsole();\n                IMouse mouse = console.getMouse();\n                mouse.putMouseEventAbsolute(200, 200, 0, 0, 0x00);\n                mouse.putMouseEvent(10, 10, 0, 0, 0x00);\n            } finally {\n                session.unlockMachine();\n            }\n        }\n    }\n}\n</code></pre>\n<p>This will produce this screenshot:</p>\n<img src=\"https://i.stack.imgur.com/VJqCs.png\" width=\"300\">\n<p>Now, the first <code>putMouseEventAbsolute(200, 200,</code> places the mouse to 199x199, that is <em>almost</em> ok.</p>\n<p>Then the <code>putMouseEvent(10, 10,</code> result in the new position of 203x203, that is <strong>NOT</strong> ok.</p>\n<h2>Then</h2>\n<p>If I restart the test it is getting more worst.</p>\n<img src=\"https://i.stack.imgur.com/OgIoh.png\" width=\"300\">\n<p>The position is now changed from 203x203 to 208x208. The <code>putMouseEventAbsolute</code> seems to be not executed at all anymore (even if I restart the vboxwebsvr-service).</p>\n<p>Any idea?</p>\n"},{"tags":["javascript","java","htmlunit-driver"],"answers":[{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685621569,"creation_date":1447855767,"answer_id":33782238,"question_id":33780849,"body_markdown":"This already enables the JavaScript:\r\n\r\n    webClient.getOptions().setJavaScriptEnabled(true);\r\n\r\nWhat you see in the logs are warning messages that the content type should not be used, but you can safely ignore them.","title":"How to enable javascript in HtmlUnit","body":"<p>This already enables the JavaScript:</p>\n<pre><code>webClient.getOptions().setJavaScriptEnabled(true);\n</code></pre>\n<p>What you see in the logs are warning messages that the content type should not be used, but you can safely ignore them.</p>\n"}],"owner":{"account_id":5888651,"reputation":81,"user_id":4635899,"accept_rate":17,"display_name":"Suresh S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6848,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685621569,"creation_date":1447851854,"question_id":33780849,"body_markdown":"  This is my coding for HtmlUnit\r\n\r\n\r\n    final WebClient webClient = new WebClient();\r\n\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\twebClient.getOptions().setCssEnabled(false);\r\n\twebClient.getOptions().setRedirectEnabled(true);\r\n\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\twebClient.setThrowExceptionOnFailingStatusCode(false);\r\n\twebClient.setTimeout(20000);\r\n\t//webClient.setSSLClientCertificate(certificateUrl,\r\n           certificatePassword, certificateType);\r\n\tHtmlPage page1 = (HtmlPage)webClient.getPage(&quot;http://oneurl&quot;);\r\n\r\n\r\nBut i got error like\r\n\r\n    WARN APOPERATOR &quot;htmlunit.IncorrectnessListenerImpl&quot; Obsolete content type encountered: &#39;text/javascript&#39;.\r\n    ERROR APOPERATOR &quot;javascript.StrictErrorReporter&quot; runtimeError: message=[The data necessary to complete this operation is not yet available.] sourceName=[http://easypay.swisscom.ch/charging-engine-checkout/js/libs/jquery-1.9.1.min.js] line=[3] lineSource=[null] lineOffset=[0]\r\n    WARN APOPERATOR &quot;html.HTMLDocument&quot; getElementById(sizzle-1447848465222) did a getElementByName for Internet Explorer\r\n    WARN APOPERATOR &quot;htmlunit.IncorrectnessListenerImpl&quot; Obsolete content type encountered: &#39;text/javascript&#39;.\r\n\r\n\r\nCan anyone please help to enable javascript in HtmlUnit?\r\n\r\n","title":"How to enable javascript in HtmlUnit","body":"<p>This is my coding for HtmlUnit</p>\n\n<pre><code>final WebClient webClient = new WebClient();\nwebClient.getOptions().setJavaScriptEnabled(true);\nwebClient.getOptions().setCssEnabled(false);\nwebClient.getOptions().setRedirectEnabled(true);\nwebClient.getOptions().setThrowExceptionOnScriptError(false);\nwebClient.setThrowExceptionOnFailingStatusCode(false);\nwebClient.setTimeout(20000);\n//webClient.setSSLClientCertificate(certificateUrl,\n       certificatePassword, certificateType);\nHtmlPage page1 = (HtmlPage)webClient.getPage(\"http://oneurl\");\n</code></pre>\n\n<p>But i got error like</p>\n\n<pre><code>WARN APOPERATOR \"htmlunit.IncorrectnessListenerImpl\" Obsolete content type encountered: 'text/javascript'.\nERROR APOPERATOR \"javascript.StrictErrorReporter\" runtimeError: message=[The data necessary to complete this operation is not yet available.] sourceName=[http://easypay.swisscom.ch/charging-engine-checkout/js/libs/jquery-1.9.1.min.js] line=[3] lineSource=[null] lineOffset=[0]\nWARN APOPERATOR \"html.HTMLDocument\" getElementById(sizzle-1447848465222) did a getElementByName for Internet Explorer\nWARN APOPERATOR \"htmlunit.IncorrectnessListenerImpl\" Obsolete content type encountered: 'text/javascript'.\n</code></pre>\n\n<p>Can anyone please help to enable javascript in HtmlUnit?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682755918,"post_id":76135151,"comment_id":134268225,"body_markdown":"Please add pom/gradle file to the question.","body":"Please add pom/gradle file to the question."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685621527,"creation_date":1685621527,"answer_id":76381730,"question_id":76135151,"body_markdown":"The annotation `jakarta.validation.Valid` will not fire in Spring5/Java11 - it&#39;s for Spring6/Java17.\r\n\r\nChange\r\n\r\n    public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\r\n\r\nto\r\n\r\n    public String showDetails(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\r\n\r\nwhere `@Validated` is `org.springframework.validation.annotation.Validated`\r\n","title":"Validation (@Size or @NotEmpty) is not working for Spring MVC","body":"<p>The annotation <code>jakarta.validation.Valid</code> will not fire in Spring5/Java11 - it's for Spring6/Java17.</p>\n<p>Change</p>\n<pre><code>public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\n</code></pre>\n<p>to</p>\n<pre><code>public String showDetails(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult)\n</code></pre>\n<p>where <code>@Validated</code> is <code>org.springframework.validation.annotation.Validated</code></p>\n"}],"owner":{"account_id":26969825,"reputation":3,"user_id":21770498,"display_name":"Vlad Zherikhov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76381730,"answer_count":1,"score":0,"last_activity_date":1685621527,"creation_date":1682755396,"question_id":76135151,"body_markdown":"I created a cimple program, and I want to add validation for my field (`firstName` and `secondName`).I use annotations `@Size` and `@NotEmpty`, but all my app works except validation.\r\n\r\n```\r\n/**\r\n* model\r\n*/\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.Size;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class User {\r\n    @Size(min = 2, message = &quot;Field must be min 2 symbols!&quot;)\r\n    private String firstName;\r\n    @NotEmpty(message = &quot;Field is required&quot;)\r\n    private String secondName;\r\n    private String department;\r\n    private Map&lt;String, String&gt; departments;\r\n\r\n    public User() {\r\n        departments = new HashMap&lt;&gt;();\r\n        departments.put(&quot;IT&quot;, &quot;Information Technology&quot;);\r\n        departments.put(&quot;HR&quot;, &quot;Human Resources&quot;);\r\n        departments.put(&quot;Sales&quot;, &quot;Sales&quot;);\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getSecondName() {\r\n        return secondName;\r\n    }\r\n\r\n    public void setSecondName(String secondName) {\r\n        this.secondName = secondName;\r\n    }\r\n\r\n    public String getDepartment() {\r\n        return department;\r\n    }\r\n\r\n    public void setDepartment(String department) {\r\n        this.department = department;\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getDepartments() {\r\n        return departments;\r\n    }\r\n\r\n    public void setDepartments(Map&lt;String, String&gt; departments) {\r\n        this.departments = departments;\r\n    }\r\n}\r\n```\r\n\r\n``` \r\n/**\r\n* Controller\r\n*/\r\nimport com.zherikhov.models.User;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class MyController {\r\n    @RequestMapping(&quot;/home&quot;)\r\n    public String showFirstView() {\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/authorization&quot;)\r\n    public String showAuthorization(Model model) {\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        return &quot;authorization&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/welcome&quot;)\r\n    public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;authorization&quot;;\r\n        } else {\r\n            return &quot;welcome&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n/**\r\n* authorization.jsp\r\n*/\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;div&gt;\r\n        &lt;p&gt;Authorization&lt;/p&gt;\r\n        &lt;form:form action=&quot;welcome&quot; modelAttribute=&quot;user&quot;&gt;\r\n            &lt;div&gt;\r\n                &lt;label&gt;Please enter your First name&lt;/label&gt;\r\n                &lt;form:input path=&quot;firstName&quot;/&gt;\r\n                &lt;form:errors path=&quot;firstName&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;label&gt;Please enter your Second name&lt;/label&gt;\r\n                &lt;form:input path=&quot;secondName&quot;/&gt;\r\n                &lt;form:errors path=&quot;secondName&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;label&gt;Please choose your department&lt;/label&gt;\r\n                &lt;form:select path=&quot;department&quot;&gt;\r\n                    &lt;form:options items=&quot;${user.departments}&quot;/&gt;\r\n                &lt;/form:select&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Send&quot;&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n```\r\n/**\r\n* welcome.jsp\r\n*/\r\n&lt;!DOCTYPE html&gt;\r\n\r\n&lt;html&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;h2&gt;Authorization was successful!&lt;/h2&gt;\r\nFirst name - ${user.firstName}\r\n&lt;br&gt;\r\nSecond name - ${user.secondName}\r\n&lt;br&gt;\r\nDepartment -  ${user.department}\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.zherikhov&lt;/groupId&gt;\r\n  &lt;artifactId&gt;myAccounting&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;myAccounting Maven Webapp&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.myAccounting.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;myAccounting&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI added annotations `@Size` and `@NotEmpty` for my fields, and when I will be to press button send, I have to see error, but it doesn&#39;t happen.","title":"Validation (@Size or @NotEmpty) is not working for Spring MVC","body":"<p>I created a cimple program, and I want to add validation for my field (<code>firstName</code> and <code>secondName</code>).I use annotations <code>@Size</code> and <code>@NotEmpty</code>, but all my app works except validation.</p>\n<pre><code>/**\n* model\n*/\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.Size;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class User {\n    @Size(min = 2, message = &quot;Field must be min 2 symbols!&quot;)\n    private String firstName;\n    @NotEmpty(message = &quot;Field is required&quot;)\n    private String secondName;\n    private String department;\n    private Map&lt;String, String&gt; departments;\n\n    public User() {\n        departments = new HashMap&lt;&gt;();\n        departments.put(&quot;IT&quot;, &quot;Information Technology&quot;);\n        departments.put(&quot;HR&quot;, &quot;Human Resources&quot;);\n        departments.put(&quot;Sales&quot;, &quot;Sales&quot;);\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getSecondName() {\n        return secondName;\n    }\n\n    public void setSecondName(String secondName) {\n        this.secondName = secondName;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    public Map&lt;String, String&gt; getDepartments() {\n        return departments;\n    }\n\n    public void setDepartments(Map&lt;String, String&gt; departments) {\n        this.departments = departments;\n    }\n}\n</code></pre>\n<pre><code>/**\n* Controller\n*/\nimport com.zherikhov.models.User;\nimport jakarta.validation.Valid;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class MyController {\n    @RequestMapping(&quot;/home&quot;)\n    public String showFirstView() {\n        return &quot;home&quot;;\n    }\n\n    @RequestMapping(&quot;/authorization&quot;)\n    public String showAuthorization(Model model) {\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;authorization&quot;;\n    }\n\n    @RequestMapping(&quot;/welcome&quot;)\n    public String showDetails(@Valid @ModelAttribute(&quot;user&quot;) User user, BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return &quot;authorization&quot;;\n        } else {\n            return &quot;welcome&quot;;\n        }\n    }\n}\n</code></pre>\n<pre><code>/**\n* authorization.jsp\n*/\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;div&gt;\n        &lt;p&gt;Authorization&lt;/p&gt;\n        &lt;form:form action=&quot;welcome&quot; modelAttribute=&quot;user&quot;&gt;\n            &lt;div&gt;\n                &lt;label&gt;Please enter your First name&lt;/label&gt;\n                &lt;form:input path=&quot;firstName&quot;/&gt;\n                &lt;form:errors path=&quot;firstName&quot;/&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;label&gt;Please enter your Second name&lt;/label&gt;\n                &lt;form:input path=&quot;secondName&quot;/&gt;\n                &lt;form:errors path=&quot;secondName&quot;/&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;label&gt;Please choose your department&lt;/label&gt;\n                &lt;form:select path=&quot;department&quot;&gt;\n                    &lt;form:options items=&quot;${user.departments}&quot;/&gt;\n                &lt;/form:select&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;Send&quot;&gt;\n            &lt;/div&gt;\n        &lt;/form:form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<pre><code>/**\n* welcome.jsp\n*/\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;body&gt;\n\n&lt;h2&gt;Authorization was successful!&lt;/h2&gt;\nFirst name - ${user.firstName}\n&lt;br&gt;\nSecond name - ${user.secondName}\n&lt;br&gt;\nDepartment -  ${user.department}\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.zherikhov&lt;/groupId&gt;\n  &lt;artifactId&gt;myAccounting&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;myAccounting Maven Webapp&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.myAccounting.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;5.3.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n      &lt;version&gt;8.0.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;myAccounting&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I added annotations <code>@Size</code> and <code>@NotEmpty</code> for my fields, and when I will be to press button send, I have to see error, but it doesn't happen.</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1654863362,"creation_date":1654863362,"answer_id":72574158,"question_id":72569019,"body_markdown":"For using the ```WebClient``` with Discovery, declare following bean in configuration.\r\n```\r\n    @Bean\r\n\t@LoadBalanced\r\n\tpublic WebClient.Builder loadBalancedWebClientBuilder() {\r\n\t return WebClient.builder();\r\n\t}\r\n```\r\n\r\nAutowire this in class where you are calling other service, \r\n```\r\n    @Autowired\r\n\tprivate WebClient.Builder webClientBuilder;\r\n```\r\nAnd, instead of ```webClient.get()```, use ```webClientBuilder.build().get()```","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>For using the <code>WebClient</code> with Discovery, declare following bean in configuration.</p>\n<pre><code>    @Bean\n    @LoadBalanced\n    public WebClient.Builder loadBalancedWebClientBuilder() {\n     return WebClient.builder();\n    }\n</code></pre>\n<p>Autowire this in class where you are calling other service,</p>\n<pre><code>    @Autowired\n    private WebClient.Builder webClientBuilder;\n</code></pre>\n<p>And, instead of <code>webClient.get()</code>, use <code>webClientBuilder.build().get()</code></p>\n"},{"tags":[],"owner":{"account_id":18549890,"reputation":1,"user_id":13516358,"display_name":"bui nam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668231536,"creation_date":1668231536,"answer_id":74410628,"question_id":72569019,"body_markdown":"for some reason I make it work by typing exactly the service url default zone like this: `eureka.client.service-url.defaultZone=http://localhost:8761/eureka/`","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>for some reason I make it work by typing exactly the service url default zone like this: <code>eureka.client.service-url.defaultZone=http://localhost:8761/eureka/</code></p>\n"},{"tags":[],"owner":{"account_id":28556527,"reputation":1,"user_id":21860660,"display_name":"Axe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685621260,"creation_date":1685620678,"answer_id":76381624,"question_id":72569019,"body_markdown":"I had the same problem and have now solved the issue, I don&#39;t care what registry is used and if a gateway service is used.\r\nFor example: \r\nDiscovery: nacos\r\nwebflux:spring-boot-starter-webflux:5.3.25 \r\nspring boot: 2.7.11\r\nJDK: open 19\r\nwhen I have a remote reqeust with WebClient\r\n[enter image description here][1]\r\nI got this error:\r\n[enter image description here][2]\r\nSo the real issue is why cann&#39;t find remote server by server name.\r\nClient cannot loadbalance by nacos instances information\r\nSo i add a new dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nit&#39;s will be working.\r\n  [1]: https://i.stack.imgur.com/AEpf9.png\r\n  [2]: https://i.stack.imgur.com/fxjXY.png","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>I had the same problem and have now solved the issue, I don't care what registry is used and if a gateway service is used.\nFor example:\nDiscovery: nacos\nwebflux:spring-boot-starter-webflux:5.3.25\nspring boot: 2.7.11\nJDK: open 19\nwhen I have a remote reqeust with WebClient\n[enter image description here][1]\nI got this error:\n[enter image description here][2]\nSo the real issue is why cann't find remote server by server name.\nClient cannot loadbalance by nacos instances information\nSo i add a new dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n  &lt;version&gt;3.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it's will be working.\n[1]: <a href=\"https://i.stack.imgur.com/AEpf9.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/AEpf9.png</a>\n[2]: <a href=\"https://i.stack.imgur.com/fxjXY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/fxjXY.png</a></p>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17087,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72574158,"answer_count":3,"score":3,"last_activity_date":1685621260,"creation_date":1654834241,"question_id":72569019,"body_markdown":"I&#39;m using **Spring Boot v2.7.0** and Spring Cloud stack to perform interservice communication. I saw few solutions like: https://github.com/spring-cloud/spring-cloud-gateway/issues/2091, but none of them worked for me.\r\n\r\nI&#39;ve updated code here: https://github.com/javaHelper/Spring-Boot-Microservices-sai-youtube/tree/main/3.Using-service-discovery\r\n\r\nError:\r\n\r\n    2022-06-10 09:31:26.600 ERROR 9506 --- [nio-8090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve &#39;inventory-service&#39; after 4 queries ; nested exception is java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries ] with root cause\r\n    \r\n    java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries \r\n    \tat io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n**Order-service calling to inventory-service**\r\n\r\norder-service\r\n\r\napplication.properties\r\n\r\n    spring.application.name=order-service\r\n    \r\n    \r\n    #MySQL DB\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/order-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=Password\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.sql.init.mode=always\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    \r\n    server.port=8090\r\n    \r\n    #Eureka\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.hostname=localhost\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\n    \r\n    eureka.client.register-with-eureka=true\r\n    eureka.client.fetch-registry=true\r\n    spring.cloud.discovery.enabled=true\r\n\r\nCalling Logic\r\n\r\n    private static final String INVENTORY_SERVICE_URI = &quot;http://inventory-service/api/inventory&quot;;\r\n    public void placeOrder(OrderRequest orderRequest) {\r\n    \t\tlog.info(&quot;OrderService | placeOrder method called &quot;);\r\n    \t\tList&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(this::mapToDto)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tOrder order = new Order();\r\n    \t\torder.setOrderNumber(UUID.randomUUID().toString());\r\n    \t\torder.setOrderLineItemsList(orderLineItems);\r\n    \r\n    \r\n    \t\tList&lt;String&gt; skuCodes = order.getOrderLineItemsList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(orderLineItem -&gt; orderLineItem.getSkuCode())\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\t// Call Inventory Service, and place order if product is in stock\r\n    \t\tboolean allProductsInStock = webClient.get()\r\n    \t\t\t\t.uri(INVENTORY_SERVICE_URI, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.map(e -&gt; Arrays.stream(e))\r\n    \t\t\t\t.block()\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);\r\n    \r\n    \t\tif(allProductsInStock){\r\n    \t\t\torderRepository.save(order);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Product is not in the stock, please try again later&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\ninventory-service\r\n\r\napplication.properties\r\n\r\n    spring.application.name=inventory-service\r\n    \r\n    #MySQL DB\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=Password\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.sql.init.mode=always\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    \r\n    server.port=0\r\n    \r\n    \r\n    #Eureka\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.hostname=localhost\r\n    eureka.instance.instance-id=${spring.application.name}:${random.int}\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\n    \r\n    eureka.client.register-with-eureka=true\r\n    eureka.client.fetch-registry=true\r\n    spring.cloud.discovery.enabled=true\r\n\r\n-------------\r\nAs per solution suggested by @Chetan - If I have multiple instances of inventory-service up, then only this logic works, it doesn&#39;t work with single instance ","title":"java.net.UnknownHostException: Failed to resolve &#39;inventory-service&#39; after 4 queries in Spring Boot and Cloud","body":"<p>I'm using <strong>Spring Boot v2.7.0</strong> and Spring Cloud stack to perform interservice communication. I saw few solutions like: <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/2091\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/issues/2091</a>, but none of them worked for me.</p>\n<p>I've updated code here: <a href=\"https://github.com/javaHelper/Spring-Boot-Microservices-sai-youtube/tree/main/3.Using-service-discovery\" rel=\"nofollow noreferrer\">https://github.com/javaHelper/Spring-Boot-Microservices-sai-youtube/tree/main/3.Using-service-discovery</a></p>\n<p>Error:</p>\n<pre><code>2022-06-10 09:31:26.600 ERROR 9506 --- [nio-8090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Failed to resolve 'inventory-service' after 4 queries ; nested exception is java.net.UnknownHostException: Failed to resolve 'inventory-service' after 4 queries ] with root cause\n\njava.net.UnknownHostException: Failed to resolve 'inventory-service' after 4 queries \n    at io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:1047) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:1000) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:418) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.onResponse(DnsResolveContext.java:629) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext.access$400(DnsResolveContext.java:66) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsResolveContext$2.operationComplete(DnsResolveContext.java:462) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsQueryContext.trySuccess(DnsQueryContext.java:216) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsQueryContext.finish(DnsQueryContext.java:208) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.resolver.dns.DnsNameResolver$DnsResponseHandler.channelRead(DnsNameResolver.java:1314) ~[netty-resolver-dns-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:97) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.77.Final.jar:4.1.77.Final]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p><strong>Order-service calling to inventory-service</strong></p>\n<p>order-service</p>\n<p>application.properties</p>\n<pre><code>spring.application.name=order-service\n\n\n#MySQL DB\nspring.datasource.url=jdbc:mysql://localhost:3306/order-service\nspring.datasource.username=root\nspring.datasource.password=Password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.sql.init.mode=always\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.port=8090\n\n#Eureka\neureka.instance.prefer-ip-address=true\neureka.instance.hostname=localhost\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\n\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\nspring.cloud.discovery.enabled=true\n</code></pre>\n<p>Calling Logic</p>\n<pre><code>private static final String INVENTORY_SERVICE_URI = &quot;http://inventory-service/api/inventory&quot;;\npublic void placeOrder(OrderRequest orderRequest) {\n        log.info(&quot;OrderService | placeOrder method called &quot;);\n        List&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\n                .stream()\n                .map(this::mapToDto)\n                .collect(Collectors.toList());\n\n        Order order = new Order();\n        order.setOrderNumber(UUID.randomUUID().toString());\n        order.setOrderLineItemsList(orderLineItems);\n\n\n        List&lt;String&gt; skuCodes = order.getOrderLineItemsList()\n                .stream()\n                .map(orderLineItem -&gt; orderLineItem.getSkuCode())\n                .collect(Collectors.toList());\n\n        // Call Inventory Service, and place order if product is in stock\n        boolean allProductsInStock = webClient.get()\n                .uri(INVENTORY_SERVICE_URI, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .map(e -&gt; Arrays.stream(e))\n                .block()\n                .allMatch(InventoryResponse::isInStock);\n\n        if(allProductsInStock){\n            orderRepository.save(order);\n        } else {\n            throw new IllegalArgumentException(&quot;Product is not in the stock, please try again later&quot;);\n        }\n\n    }\n</code></pre>\n<p>inventory-service</p>\n<p>application.properties</p>\n<pre><code>spring.application.name=inventory-service\n\n#MySQL DB\nspring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\nspring.datasource.username=root\nspring.datasource.password=Password\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.sql.init.mode=always\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.port=0\n\n\n#Eureka\neureka.instance.prefer-ip-address=true\neureka.instance.hostname=localhost\neureka.instance.instance-id=${spring.application.name}:${random.int}\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\n\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\nspring.cloud.discovery.enabled=true\n</code></pre>\n<hr />\n<p>As per solution suggested by @Chetan - If I have multiple instances of inventory-service up, then only this logic works, it doesn't work with single instance</p>\n"},{"tags":["java","guava","compiler-optimization","remote-debugging","preconditions"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1673454061,"post_id":75084167,"comment_id":132504065,"body_markdown":"Is that method even called at all?","body":"Is that method even called at all?"},{"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"score":0,"creation_date":1673456827,"post_id":75084167,"comment_id":132505140,"body_markdown":"Yes we call it in all flows. That&#39;s why it gets hit during remote debug.","body":"Yes we call it in all flows. That&#39;s why it gets hit during remote debug."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1673464190,"post_id":75084167,"comment_id":132507388,"body_markdown":"Let me rephrase : is that method called when you want it to be called? It could be called at some point, but not in every scenario you&#39;re testing. Just because it&#39;s a hit when you remote debug it means that it&#39;s exactly when you want it.","body":"Let me rephrase : is that method called when you want it to be called? It could be called at some point, but not in every scenario you&#39;re testing. Just because it&#39;s a hit when you remote debug it means that it&#39;s exactly when you want it."},{"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"score":0,"creation_date":1673489968,"post_id":75084167,"comment_id":132513003,"body_markdown":"Yes, we call it in all possible flows. What&#39;s expected is validation should fail for some flows.","body":"Yes, we call it in all possible flows. What&#39;s expected is validation should fail for some flows."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1673498386,"post_id":75084167,"comment_id":132514020,"body_markdown":"Then the answer is that it CANNOT be optimized away.  Your problem is caused by something else.  For example, some of your other assumptions are incorrect.   It is worth noting that debugging a program can cause various behavior related to memory visibility and concurrency to change.  So that&#39;s another implicit assumption that could be incorrect.","body":"Then the answer is that it CANNOT be optimized away.  Your problem is caused by something else.  For example, some of your other assumptions are incorrect.   It is worth noting that debugging a program can cause various behavior related to memory visibility and concurrency to change.  So that&#39;s another implicit assumption that could be incorrect."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1673499560,"post_id":75084167,"comment_id":132514210,"body_markdown":"Your analysis has a few assumptions ‚Äî like that this method gets called, that the getters return null, and that the catch isn&#39;t being triggered ‚Äî that a couple log lines could very quickly validate. If you haven&#39;t done that yet, it&#39;s where I might start. (Just as a guess: you haven&#39;t shown the getters, so could it be they&#39;re providing a default? And you haven&#39;t shown the object&#39;s instantiation, so could it be that process is setting defaults?)","body":"Your analysis has a few assumptions ‚Äî like that this method gets called, that the getters return null, and that the catch isn&#39;t being triggered ‚Äî that a couple log lines could very quickly validate. If you haven&#39;t done that yet, it&#39;s where I might start. (Just as a guess: you haven&#39;t shown the getters, so could it be they&#39;re providing a default? And you haven&#39;t shown the object&#39;s instantiation, so could it be that process is setting defaults?)"},{"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"score":0,"creation_date":1673500415,"post_id":75084167,"comment_id":132514364,"body_markdown":"-&gt; I am sure catch isn&#39;t triggered because Metric isn&#39;t emitted; same metric gets emitted when in remote debug exception is triggered. \n-&gt; Have noticed fields are null and not default during remote debugging as well.","body":"-&gt; I am sure catch isn&#39;t triggered because Metric isn&#39;t emitted; same metric gets emitted when in remote debug exception is triggered.  -&gt; Have noticed fields are null and not default during remote debugging as well."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685620929,"post_id":75084167,"comment_id":134687415,"body_markdown":"@StephenC let‚Äôs not call this an optimization, but *expected, reproducible behavior*. The strange thing here is that the OP says that the actual problem has not been revealed during debugging.","body":"@StephenC let‚Äôs not call this an optimization, but <i>expected, reproducible behavior</i>. The strange thing here is that the OP says that the actual problem has not been revealed during debugging."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685621112,"post_id":75084167,"comment_id":134687447,"body_markdown":"@Holger - it was the OP that is asking if this is the result of &quot;optimization&quot; ... not me.","body":"@Holger - it was the OP that is asking if this is the result of &quot;optimization&quot; ... not me."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685621439,"post_id":75084167,"comment_id":134687526,"body_markdown":"@StephenC I know. It‚Äôs an interesting case of a questioner‚Äôs preoccupation influencing the readers. I think, without it, more people would have noticed that the OP‚Äôs ‚Äú*It is as if Preconditions are never executed*‚Äù is actually spot on.","body":"@StephenC I know. It‚Äôs an interesting case of a questioner‚Äôs preoccupation influencing the readers. I think, without it, more people would have noticed that the OP‚Äôs ‚Äú<i>It is as if Preconditions are never executed</i>‚Äù is actually spot on."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685621542,"post_id":75084167,"comment_id":134687558,"body_markdown":"Or ... we were just answering the question that he asked :-)","body":"Or ... we were just answering the question that he asked :-)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685621776,"post_id":75084167,"comment_id":134687605,"body_markdown":"@StephenC yes, the good old *xy problem*. Though, in the OP‚Äôs defense, this question has enough context to get to the actual problem. It only took a bit longer‚Ä¶","body":"@StephenC yes, the good old <i>xy problem</i>. Though, in the OP‚Äôs defense, this question has enough context to get to the actual problem. It only took a bit longer‚Ä¶"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685619882,"creation_date":1685619882,"answer_id":76381535,"question_id":75084167,"body_markdown":"This code seems to be a kind of Cargo Cult Programming. It‚Äôs not clear what you expect from the call to `Preconditions.checkArgument(‚Ä¶)`, but whatever it is, it‚Äôs not there.\r\n\r\nWhen you call\r\n\r\n```java\r\nPreconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\r\n```\r\n\r\nThe expression `getField1() &gt;= 0` is evaluated *in your method*. You‚Äôve already done the check before even calling the `checkArgument` method. All, the method does, is throwing a new `IllegalArgumentException` if the argument is `false`, with the message you‚Äôve provided, i.e.\r\n\r\n```java\r\npublic static void checkArgument(boolean expression, Object errorMessage) {\r\n    if(!expression) {\r\n        throw new IllegalArgumentException(String.valueOf(errorMessage));\r\n    }\r\n}\r\n```\r\n\r\nwhich you then catch, to extract the very error message, you have provided yourself.\r\n\r\n```java\r\ncatch (IllegalArgumentException | NullPointerException e){\r\n    //emit some metric\r\n    return e.getMessage();\r\n}\r\n```\r\n\r\nSo, you have created an inefficient way to do the same as\r\n\r\n```java\r\nif(getField1() &lt; 0) return &quot;error message&quot;;\r\n```\r\n\r\n---\r\n\r\nSince the evaluation of `getField1() &gt;= 0` happens in your method, *before* the `checkArgument` method is invoked, it will also fail with a `NullPointerException` instead of ever invoking the `checkArgument` method when `getField1()` returned `null`. This JVM generated `NullPointerException` will have an implementation specific message or no message at all.\r\n\r\nThis is not an optimization but just the way method invocations work. First, the arguments are evaluated, then, the method is invoked. If the argument evaluation throws an exception the method is not invoked.\r\n\r\nIt‚Äôs not clear how you could see this working with a `getField1()` returning `null` during debugging, as it is impossible to pass `null` to a method expecting a primitive type `boolean`. Maybe you are confusing it with the scenario of `getField2()` returning `null`.\r\n\r\nYour second check uses the expression `StringUtils.isNotBlank(getField2())` which handles the `null` case, as `isNotBlank` will return `false` when the argument is `null`.\r\n\r\nYou can fix the first check by handling the `null` case, e.g.\r\n\r\n```java\r\nif(getField1() == null || getField1() &lt; 0) return &quot;error message&quot;;\r\n```\r\n\r\nor, if you insist on creating and catching an exception, just to extract the very message you have specified yourself,\r\n\r\n```java\r\nPreconditions.checkArgument(getField1()!=null &amp;&amp; getField1()&gt;=0, &quot;error message&quot;);\r\n```\r\n","title":"Can Java compiler optimisation cause Google Guava&#39;s Preconditions checks to be ignored?","body":"<p>This code seems to be a kind of Cargo Cult Programming. It‚Äôs not clear what you expect from the call to <code>Preconditions.checkArgument(‚Ä¶)</code>, but whatever it is, it‚Äôs not there.</p>\n<p>When you call</p>\n<pre class=\"lang-java prettyprint-override\"><code>Preconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\n</code></pre>\n<p>The expression <code>getField1() &gt;= 0</code> is evaluated <em>in your method</em>. You‚Äôve already done the check before even calling the <code>checkArgument</code> method. All, the method does, is throwing a new <code>IllegalArgumentException</code> if the argument is <code>false</code>, with the message you‚Äôve provided, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void checkArgument(boolean expression, Object errorMessage) {\n    if(!expression) {\n        throw new IllegalArgumentException(String.valueOf(errorMessage));\n    }\n}\n</code></pre>\n<p>which you then catch, to extract the very error message, you have provided yourself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>catch (IllegalArgumentException | NullPointerException e){\n    //emit some metric\n    return e.getMessage();\n}\n</code></pre>\n<p>So, you have created an inefficient way to do the same as</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(getField1() &lt; 0) return &quot;error message&quot;;\n</code></pre>\n<hr />\n<p>Since the evaluation of <code>getField1() &gt;= 0</code> happens in your method, <em>before</em> the <code>checkArgument</code> method is invoked, it will also fail with a <code>NullPointerException</code> instead of ever invoking the <code>checkArgument</code> method when <code>getField1()</code> returned <code>null</code>. This JVM generated <code>NullPointerException</code> will have an implementation specific message or no message at all.</p>\n<p>This is not an optimization but just the way method invocations work. First, the arguments are evaluated, then, the method is invoked. If the argument evaluation throws an exception the method is not invoked.</p>\n<p>It‚Äôs not clear how you could see this working with a <code>getField1()</code> returning <code>null</code> during debugging, as it is impossible to pass <code>null</code> to a method expecting a primitive type <code>boolean</code>. Maybe you are confusing it with the scenario of <code>getField2()</code> returning <code>null</code>.</p>\n<p>Your second check uses the expression <code>StringUtils.isNotBlank(getField2())</code> which handles the <code>null</code> case, as <code>isNotBlank</code> will return <code>false</code> when the argument is <code>null</code>.</p>\n<p>You can fix the first check by handling the <code>null</code> case, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(getField1() == null || getField1() &lt; 0) return &quot;error message&quot;;\n</code></pre>\n<p>or, if you insist on creating and catching an exception, just to extract the very message you have specified yourself,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Preconditions.checkArgument(getField1()!=null &amp;&amp; getField1()&gt;=0, &quot;error message&quot;);\n</code></pre>\n"}],"owner":{"account_id":10527367,"reputation":21,"user_id":7757968,"display_name":"Pankaj Jahagirdar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685619882,"creation_date":1673445370,"question_id":75084167,"body_markdown":"We have a POJO in our Java application let&#39;s say `Request` which has validateRequest() method that basically validates some of it&#39;s fields using Guava&#39;s Preconditions library. \r\n\r\nSo, Basically Class looks like this : \r\n\r\n\r\n```\r\npublic class Request { \r\n   private Integer field1; \r\n   \r\n   private String field2;\r\n   .\r\n   .\r\n   private String fieldN;\r\n\r\n   \r\n   public String validateRequest() {\r\n      try { \r\n           Preconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\r\n\r\n           Preconditions.checkArgument( StringUtils.isNotBlank(getField2()), &quot;error message&quot; );\r\n           .\r\n           .\r\n        } catch (IllegalArgumentException | NullPointerException e){\r\n            //emit some metric\r\n            return e.getMessage();\r\n        }\r\n        return null;\r\n   }\r\n}\r\n\r\n```\r\nWe call the below method in all the flows after building the Request POJO. \r\n\r\n```\r\npublic void someMethod(Request request) {\r\n    String message = request.validateRequest();\r\n    if(message!= null)\r\n       throw new Exception(message);\r\n}\r\n```\r\n\r\nIn some of the flows in our application we are never initialising field1 and field2 , so they are always null in those flows. So, ideal expectation is that validateRequest should return error message for those flows. But, what we notice is production is that this application never returns error message. It is as if Preconditions are never executed! Even metric that we emit is zero. On searching web, found out that compiler&#39;s optimisation can cause certain validation/assertion statements to be ignored, but didn&#39;t get more details around it. \r\n\r\n\r\nWhen we explicitly remote debug to our Production box and put break-point on precondition statements they get executed and error message is returned and metric is emitted. \r\n\r\nWhen we deploy this same application is deployed on Stage, code behaves as expected and throws validation error and metric is emitted.\r\n\r\nWant to understand if compiler optimisation is the culprit here, or if root cause could be something else. How to verify that compiler optimisation is causing Preconditions to be ignored?","title":"Can Java compiler optimisation cause Google Guava&#39;s Preconditions checks to be ignored?","body":"<p>We have a POJO in our Java application let's say <code>Request</code> which has validateRequest() method that basically validates some of it's fields using Guava's Preconditions library.</p>\n<p>So, Basically Class looks like this :</p>\n<pre><code>public class Request { \n   private Integer field1; \n   \n   private String field2;\n   .\n   .\n   private String fieldN;\n\n   \n   public String validateRequest() {\n      try { \n           Preconditions.checkArgument( getField1() &gt;= 0, &quot;error message&quot; );\n\n           Preconditions.checkArgument( StringUtils.isNotBlank(getField2()), &quot;error message&quot; );\n           .\n           .\n        } catch (IllegalArgumentException | NullPointerException e){\n            //emit some metric\n            return e.getMessage();\n        }\n        return null;\n   }\n}\n\n</code></pre>\n<p>We call the below method in all the flows after building the Request POJO.</p>\n<pre><code>public void someMethod(Request request) {\n    String message = request.validateRequest();\n    if(message!= null)\n       throw new Exception(message);\n}\n</code></pre>\n<p>In some of the flows in our application we are never initialising field1 and field2 , so they are always null in those flows. So, ideal expectation is that validateRequest should return error message for those flows. But, what we notice is production is that this application never returns error message. It is as if Preconditions are never executed! Even metric that we emit is zero. On searching web, found out that compiler's optimisation can cause certain validation/assertion statements to be ignored, but didn't get more details around it.</p>\n<p>When we explicitly remote debug to our Production box and put break-point on precondition statements they get executed and error message is returned and metric is emitted.</p>\n<p>When we deploy this same application is deployed on Stage, code behaves as expected and throws validation error and metric is emitted.</p>\n<p>Want to understand if compiler optimisation is the culprit here, or if root cause could be something else. How to verify that compiler optimisation is causing Preconditions to be ignored?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9596,"page":396,"page_size":100}
