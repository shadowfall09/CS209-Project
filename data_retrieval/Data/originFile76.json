{"items":[{"tags":["java","selenium-webdriver","log4j"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699442943,"post_id":77444598,"comment_id":136531238,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask). As part of your question you should detail everything that you tried that didn&#39;t work and what were the actual issues with those solutions. Note that this is an unusual use case for log4j. There are no guarantees log4j supports it.","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. As part of your question you should detail everything that you tried that didn&#39;t work and what were the actual issues with those solutions. Note that this is an unusual use case for log4j. There are no guarantees log4j supports it."},{"owner":{"account_id":29662298,"reputation":1,"user_id":22733603,"display_name":"Jonas"},"score":0,"creation_date":1699443231,"post_id":77444598,"comment_id":136531279,"body_markdown":"@aled What do you mean it&#39;s unusual? People use one log file for all executed tests?","body":"@aled What do you mean it&#39;s unusual? People use one log file for all executed tests?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699443556,"post_id":77444598,"comment_id":136531341,"body_markdown":"I don&#39;t know what people do for tests but I believe it is unusual for log4j to log to different files in the way you describe.","body":"I don&#39;t know what people do for tests but I believe it is unusual for log4j to log to different files in the way you describe."},{"owner":{"account_id":29662298,"reputation":1,"user_id":22733603,"display_name":"Jonas"},"score":0,"creation_date":1699443890,"post_id":77444598,"comment_id":136531384,"body_markdown":"@aled So let&#39;s say I have many classes that execute big tests so it&#39;s unusual to put each test logs in a separate log file?","body":"@aled So let&#39;s say I have many classes that execute big tests so it&#39;s unusual to put each test logs in a separate log file?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699444489,"post_id":77444598,"comment_id":136531459,"body_markdown":"One log file per class? Not usual in my experience, but other people may have different experiences.","body":"One log file per class? Not usual in my experience, but other people may have different experiences."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1699471214,"post_id":77444598,"comment_id":136537167,"body_markdown":"Does this answer your question? [Log4j2 Dynamically setting the log directory during tests](https://stackoverflow.com/questions/77098810/log4j2-dynamically-setting-the-log-directory-during-tests)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77098810/log4j2-dynamically-setting-the-log-directory-during-tests\">Log4j2 Dynamically setting the log directory during tests</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1699471311,"post_id":77444598,"comment_id":136537184,"body_markdown":"Check also an example of [`RoutingAppender` configuration](https://stackoverflow.com/a/71455641/11748454).","body":"Check also an example of <a href=\"https://stackoverflow.com/a/71455641/11748454\"><code>RoutingAppender</code> configuration</a>."}],"owner":{"account_id":29662298,"reputation":1,"user_id":22733603,"display_name":"Jonas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699438398,"creation_date":1699438398,"question_id":77444598,"body_markdown":"I have BaseClass that has @BeforeClass method and uses `Configurator.initialize(null, &quot;log4j2.xml&quot;);`, here is my log4j.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;warn&quot;&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        &lt;File name=&quot;LogFile&quot; fileName=&quot;src//test//resources//logs/application.log&quot; append=&quot;false&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d [%t] %-5p %c %x - %m%n&quot; /&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;LogFile&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\n```\r\n\r\nHow to approach it as every method found on internet didn&#39;t work?\r\n\r\n\r\nI tried System.setProperty and of two tests it made second test log file and put there all logs including from the first test.","title":"Log4j how to create separate log file for each test?","body":"<p>I have BaseClass that has @BeforeClass method and uses <code>Configurator.initialize(null, &quot;log4j2.xml&quot;);</code>, here is my log4j.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot;&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;File name=&quot;LogFile&quot; fileName=&quot;src//test//resources//logs/application.log&quot; append=&quot;false&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d [%t] %-5p %c %x - %m%n&quot; /&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;LogFile&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n\n</code></pre>\n<p>How to approach it as every method found on internet didn't work?</p>\n<p>I tried System.setProperty and of two tests it made second test log file and put there all logs including from the first test.</p>\n"},{"tags":["java","maven","pmd","automation-testing"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699373258,"post_id":77438202,"comment_id":136522164,"body_markdown":"Do not post images ... post text instead...","body":"Do not post images ... post text instead..."},{"owner":{"account_id":29846098,"reputation":11,"user_id":22873153,"display_name":"heidi hlm"},"score":0,"creation_date":1699374730,"post_id":77438202,"comment_id":136522430,"body_markdown":"ok, i have edited the post","body":"ok, i have edited the post"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699409113,"post_id":77438202,"comment_id":136527026,"body_markdown":"Without the full pom file etc. it&#39;s impossible to even guess whats really the problem..","body":"Without the full pom file etc. it&#39;s impossible to even guess whats really the problem.."}],"answers":[{"tags":[],"owner":{"account_id":29846098,"reputation":11,"user_id":22873153,"display_name":"heidi hlm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699437972,"creation_date":1699437934,"answer_id":77444543,"question_id":77438202,"body_markdown":"After some searching, i decided to create a pmd-exclude.xml file and write the inside similiar to this\r\nhttps://github.com/IHTSDO/drugMatch/blob/master/src/main/resource/pmd-exclude.xml\r\n\r\nthen just add the pmd-exclude.xml to the ruleset section in pom.xml using this format\r\n        \r\n    &lt;rulesets&gt;\r\n\t\t\t\t\t\t&lt;ruleset&gt;pmd-exclude.xml&lt;/ruleset&gt;\r\n\t\t\t\t\t&lt;/rulesets&gt;","title":"how to exclude ruleset in POM.XML?","body":"<p>After some searching, i decided to create a pmd-exclude.xml file and write the inside similiar to this\n<a href=\"https://github.com/IHTSDO/drugMatch/blob/master/src/main/resource/pmd-exclude.xml\" rel=\"nofollow noreferrer\">https://github.com/IHTSDO/drugMatch/blob/master/src/main/resource/pmd-exclude.xml</a></p>\n<p>then just add the pmd-exclude.xml to the ruleset section in pom.xml using this format</p>\n<pre><code>&lt;rulesets&gt;\n                    &lt;ruleset&gt;pmd-exclude.xml&lt;/ruleset&gt;\n                &lt;/rulesets&gt;\n</code></pre>\n"}],"owner":{"account_id":29846098,"reputation":11,"user_id":22873153,"display_name":"heidi hlm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699437972,"creation_date":1699360025,"question_id":77438202,"body_markdown":"iam doing class project using maven plugin and pmd to check our code smell, i have to modify the ruselset since stuff like stdCyclomatic is deprecated but i don&#39;t know how, all other example i saw on the internet all have un-satisfying answer, can anyone tell me how to exclude stdCyclomatic from the rule set with POM.xml like this. Please dont suggest deleting the POM.xml, here is the ruleset segment of the pom.xml\r\n\r\n        &lt;rulesets&gt;\r\n\t\t\t\t\t\t&lt;ruleset&gt;/category/java/bestpractices.xml&lt;/ruleset&gt;\r\n\t\t\t\t\t\t&lt;ruleset&gt;/category/java/design.xml&lt;/ruleset&gt;\r\n\t\t\t\t\t&lt;/rulesets&gt;\r\n\t\t\t\t\t&lt;format&gt;net.sourceforge.pmd.renderers.SummaryHTMLRenderer&lt;/format&gt; \r\n\r\ni expect i can exclude the stdCyclomatic from my ruleset so it wont show up anymore on the html report, i have try looking for example but there are none","title":"how to exclude ruleset in POM.XML?","body":"<p>iam doing class project using maven plugin and pmd to check our code smell, i have to modify the ruselset since stuff like stdCyclomatic is deprecated but i don't know how, all other example i saw on the internet all have un-satisfying answer, can anyone tell me how to exclude stdCyclomatic from the rule set with POM.xml like this. Please dont suggest deleting the POM.xml, here is the ruleset segment of the pom.xml</p>\n<pre><code>    &lt;rulesets&gt;\n                    &lt;ruleset&gt;/category/java/bestpractices.xml&lt;/ruleset&gt;\n                    &lt;ruleset&gt;/category/java/design.xml&lt;/ruleset&gt;\n                &lt;/rulesets&gt;\n                &lt;format&gt;net.sourceforge.pmd.renderers.SummaryHTMLRenderer&lt;/format&gt; \n</code></pre>\n<p>i expect i can exclude the stdCyclomatic from my ruleset so it wont show up anymore on the html report, i have try looking for example but there are none</p>\n"},{"tags":["javascript","java","jquery","validation","bootstrap-4"],"comments":[{"owner":{"account_id":10173407,"reputation":924,"user_id":7512960,"display_name":"Monkey_Dev1400"},"score":0,"creation_date":1497881581,"post_id":44632090,"comment_id":76251285,"body_markdown":"are you using knockout as well?","body":"are you using knockout as well?"},{"owner":{"account_id":11107704,"reputation":145,"user_id":8154435,"accept_rate":29,"display_name":"Hajrudin"},"score":0,"creation_date":1497882053,"post_id":44632090,"comment_id":76251633,"body_markdown":"yes and I tried instead of integer to put number and still doesn&#39;t work. :(","body":"yes and I tried instead of integer to put number and still doesn&#39;t work. :("},{"owner":{"account_id":10173407,"reputation":924,"user_id":7512960,"display_name":"Monkey_Dev1400"},"score":0,"creation_date":1497882133,"post_id":44632090,"comment_id":76251700,"body_markdown":"have you try using an event()?","body":"have you try using an event()?"},{"owner":{"account_id":11107704,"reputation":145,"user_id":8154435,"accept_rate":29,"display_name":"Hajrudin"},"score":0,"creation_date":1497882899,"post_id":44632090,"comment_id":76252247,"body_markdown":"No. My whole validation is like this and when u type something wrong input field get red when its ok input field is green and I want to make this validation like that?","body":"No. My whole validation is like this and when u type something wrong input field get red when its ok input field is green and I want to make this validation like that?"}],"answers":[{"tags":[],"owner":{"account_id":11107704,"reputation":145,"user_id":8154435,"accept_rate":29,"display_name":"Hajrudin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497953270,"creation_date":1497953270,"answer_id":44650055,"question_id":44632090,"body_markdown":"I found solution. Just changed a little bit my HTML code and it works perfect :D\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label class=&quot;col-md-2 control-label&quot;&gt;Min num&lt;/label&gt;\r\n    &lt;div class=&quot;col-md-4 inputGroupContainer&quot;&gt;\r\n        &lt;div class=&quot;input-group&quot;&gt;\r\n            &lt;span class=&quot;input-group-addon&quot;&gt; &lt;/span&gt; &lt;input type=&quot;number&quot;\r\n                class=&quot;form-control&quot; id=&quot;min_num&quot; name=&quot;min_num&quot; min=&quot;0&quot;\r\n                required data-bind=&quot;value:replyNumber&quot; /&gt;\r\n         &lt;/div&gt;\r\n       &lt;/div&gt;\r\n      &lt;/div&gt;\r\n       &lt;div class=&quot;form-group&quot;&gt;\r\n      &lt;label class=&quot;col-md-2 control-label&quot;&gt;Max num&lt;/label&gt;\r\n      &lt;div class=&quot;col-md-4 inputGroupContainer&quot;&gt;\r\n         &lt;div class=&quot;input-group&quot;&gt;\r\n             &lt;span class=&quot;input-group-addon&quot;&gt; &lt;/span&gt; &lt;input type=&quot;number&quot;\r\n                class=&quot;form-control&quot; id=&quot;max_num&quot; name=&quot;max_num&quot; \r\n         min=min_num required\r\n                 data-bind=&quot;value:replyNumber&quot; /&gt;\r\n        &lt;/div&gt;\r\n         &lt;/div&gt;\r\n        &lt;/div&gt;","title":"Bootstrap Validator validate number range","body":"<p>I found solution. Just changed a little bit my HTML code and it works perfect :D</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n&lt;label class=\"col-md-2 control-label\"&gt;Min num&lt;/label&gt;\n&lt;div class=\"col-md-4 inputGroupContainer\"&gt;\n    &lt;div class=\"input-group\"&gt;\n        &lt;span class=\"input-group-addon\"&gt; &lt;/span&gt; &lt;input type=\"number\"\n            class=\"form-control\" id=\"min_num\" name=\"min_num\" min=\"0\"\n            required data-bind=\"value:replyNumber\" /&gt;\n     &lt;/div&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n   &lt;div class=\"form-group\"&gt;\n  &lt;label class=\"col-md-2 control-label\"&gt;Max num&lt;/label&gt;\n  &lt;div class=\"col-md-4 inputGroupContainer\"&gt;\n     &lt;div class=\"input-group\"&gt;\n         &lt;span class=\"input-group-addon\"&gt; &lt;/span&gt; &lt;input type=\"number\"\n            class=\"form-control\" id=\"max_num\" name=\"max_num\" \n     min=min_num required\n             data-bind=\"value:replyNumber\" /&gt;\n    &lt;/div&gt;\n     &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":11107704,"reputation":145,"user_id":8154435,"accept_rate":29,"display_name":"Hajrudin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9986,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1699437965,"creation_date":1497879320,"question_id":44632090,"body_markdown":"How to set validation for the range for two numbers. I want to set max value of the first number to value of second number and min value of the second number to value of first numb. Here is my js code:\r\n\r\n    min_num : {\r\n\t\tvalidators : {\r\n\t\t\tinteger : {\t\r\n\t\t\t\tmessage : &#39;Please enter the valid number &#39;,\r\n\t\t\t\tmin : 1,\r\n\t\t\t\tmax : &#39;max_num&#39;\r\n\t\t\t},\r\n\t\t\tnotEmpty : {\r\n\t\t\t\tmessage : &#39;Please enter the number&#39;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmax_num : {\r\n\t\tvalidators : {\r\n\t\t\tinteger : {\r\n\t\t\t\tmessage : &#39;Please enter the valid number &#39;,\r\n\t\t\t\tmin : &#39;min_num&#39;,\r\n\t\t\t\tmax : 10000\r\n\t\t\t},\r\n\t\t\tnotEmpty : {\r\n\t\t\t\tmessage : &#39;Please enter the number&#39;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAnd HTML:\r\n\r\n\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t&lt;label class=&quot;col-md-2 control-label&quot;&gt;Min num&lt;/label&gt;\r\n\t\t&lt;div class=&quot;col-md-4 inputGroupContainer&quot;&gt;\r\n\t\t\t&lt;div class=&quot;input-group&quot;&gt;\r\n\t\t\t\t&lt;span class=&quot;input-group-addon&quot;&gt; &lt;/span&gt; &lt;input type=&quot;number&quot;\r\n\t\t\t\t\tclass=&quot;form-control&quot; id=&quot;min_num&quot; name=&quot;min_num&quot; min=&quot;0&quot;\r\n\t\t\t\t\trequired data-bind=&quot;value:replyNumber&quot; /&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t&lt;label class=&quot;col-md-2 control-label&quot;&gt;Max num&lt;/label&gt;\r\n\t\t&lt;div class=&quot;col-md-4 inputGroupContainer&quot;&gt;\r\n\t\t\t&lt;div class=&quot;input-group&quot;&gt;\r\n\t\t\t\t&lt;span class=&quot;input-group-addon&quot;&gt; &lt;/span&gt; &lt;input type=&quot;number&quot;\r\n\t\t\t\t\tclass=&quot;form-control&quot; id=&quot;max_num&quot; name=&quot;max_num&quot; min=&quot;0&quot; required\r\n\t\t\t\t\tdata-bind=&quot;value:replyNumber&quot; /&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\nPlease HELP THANKS","title":"Bootstrap Validator validate number range","body":"<p>How to set validation for the range for two numbers. I want to set max value of the first number to value of second number and min value of the second number to value of first numb. Here is my js code:</p>\n\n<pre><code>min_num : {\n    validators : {\n        integer : { \n            message : 'Please enter the valid number ',\n            min : 1,\n            max : 'max_num'\n        },\n        notEmpty : {\n            message : 'Please enter the number'\n        }\n    }\n},\nmax_num : {\n    validators : {\n        integer : {\n            message : 'Please enter the valid number ',\n            min : 'min_num',\n            max : 10000\n        },\n        notEmpty : {\n            message : 'Please enter the number'\n        }\n    }\n}\n</code></pre>\n\n<p>And HTML:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label class=\"col-md-2 control-label\"&gt;Min num&lt;/label&gt;\n    &lt;div class=\"col-md-4 inputGroupContainer\"&gt;\n        &lt;div class=\"input-group\"&gt;\n            &lt;span class=\"input-group-addon\"&gt; &lt;/span&gt; &lt;input type=\"number\"\n                class=\"form-control\" id=\"min_num\" name=\"min_num\" min=\"0\"\n                required data-bind=\"value:replyNumber\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n    &lt;label class=\"col-md-2 control-label\"&gt;Max num&lt;/label&gt;\n    &lt;div class=\"col-md-4 inputGroupContainer\"&gt;\n        &lt;div class=\"input-group\"&gt;\n            &lt;span class=\"input-group-addon\"&gt; &lt;/span&gt; &lt;input type=\"number\"\n                class=\"form-control\" id=\"max_num\" name=\"max_num\" min=\"0\" required\n                data-bind=\"value:replyNumber\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Please HELP THANKS</p>\n"},{"tags":["java","android","http-post","http-get"],"answers":[{"comments":[{"owner":{"account_id":1008930,"reputation":2893,"user_id":1021943,"accept_rate":80,"display_name":"Priidu Neemre"},"score":2,"creation_date":1481014009,"post_id":18944328,"comment_id":69190919,"body_markdown":"Tip: also specify the type of the `Enumeration` (*e.g.* `Enumeration&lt;String&gt;`) to avoid unwanted IDE errors and make use of generics properly.","body":"Tip: also specify the type of the <code>Enumeration</code> (<i>e.g.</i> <code>Enumeration&lt;String&gt;</code>) to avoid unwanted IDE errors and make use of generics properly."},{"owner":{"account_id":1772743,"reputation":1124,"user_id":1617210,"accept_rate":50,"display_name":"zfj3ub94rf576hc4eegm"},"score":1,"creation_date":1503588581,"post_id":18944328,"comment_id":78689617,"body_markdown":"Adding `Enumeration&lt;String&gt;` also makes the cast to String unnecessary.","body":"Adding <code>Enumeration&lt;String&gt;</code> also makes the cast to String unnecessary."},{"owner":{"account_id":1857756,"reputation":1598,"user_id":1682984,"display_name":"Aram Paronikyan"},"score":0,"creation_date":1504522982,"post_id":18944328,"comment_id":79031286,"body_markdown":"Or perhaps Enumeration&lt;?&gt;","body":"Or perhaps Enumeration&lt;?&gt;"},{"owner":{"account_id":455772,"reputation":1136,"user_id":854151,"accept_rate":71,"display_name":"Anders Rabo Thorbeck"},"score":1,"creation_date":1542791110,"post_id":18944328,"comment_id":93691850,"body_markdown":"To avoid `hasMoreElements()` and `nextElement()` as being separate statements, the `Enumeration` can be converted to a `List`: `for (String headerName : Collections.list(request.getHeaderNames()))`.","body":"To avoid <code>hasMoreElements()</code> and <code>nextElement()</code> as being separate statements, the <code>Enumeration</code> can be converted to a <code>List</code>: <code>for (String headerName : Collections.list(request.getHeaderNames()))</code>."}],"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":4,"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1589771031,"creation_date":1379856387,"answer_id":18944328,"question_id":18944302,"body_markdown":"You can print the request type using:\r\n\r\n    request.getMethod();\r\n\r\nYou can print all the headers as mentioned here:\r\n\r\n    Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\r\n    while(headerNames.hasMoreElements()) {\r\n      String headerName = headerNames.nextElement();\r\n      System.out.println(&quot;Header Name - &quot; + headerName + &quot;, Value - &quot; + request.getHeader(headerName));\r\n    }\r\n\r\nTo print all the request params, use this:\r\n\r\n    Enumeration&lt;String&gt; params = request.getParameterNames(); \r\n    while(params.hasMoreElements()){\r\n     String paramName = params.nextElement();\r\n     System.out.println(&quot;Parameter Name - &quot;+paramName+&quot;, Value - &quot;+request.getParameter(paramName));\r\n    }\r\n\r\n`request` is the instance of `HttpServletRequest`\r\n\r\nYou can beautify the outputs as you desire.","title":"How do I print the content of httprequest request?","body":"<p>You can print the request type using:</p>\n\n<pre><code>request.getMethod();\n</code></pre>\n\n<p>You can print all the headers as mentioned here:</p>\n\n<pre><code>Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\nwhile(headerNames.hasMoreElements()) {\n  String headerName = headerNames.nextElement();\n  System.out.println(\"Header Name - \" + headerName + \", Value - \" + request.getHeader(headerName));\n}\n</code></pre>\n\n<p>To print all the request params, use this:</p>\n\n<pre><code>Enumeration&lt;String&gt; params = request.getParameterNames(); \nwhile(params.hasMoreElements()){\n String paramName = params.nextElement();\n System.out.println(\"Parameter Name - \"+paramName+\", Value - \"+request.getParameter(paramName));\n}\n</code></pre>\n\n<p><code>request</code> is the instance of <code>HttpServletRequest</code></p>\n\n<p>You can beautify the outputs as you desire.</p>\n"},{"tags":[],"owner":{"account_id":5169775,"reputation":1532,"user_id":4138684,"display_name":"Jajikanth pydimarla"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1616408863,"creation_date":1526403612,"answer_id":50355660,"question_id":18944302,"body_markdown":"More details that help in logging\r\n\r\n```java\r\nString client = request.getRemoteAddr();\r\nlogger.info(&quot;###### requested client: {} , Session ID : {} , URI :&quot; + request.getMethod() + &quot;:&quot; + request.getRequestURI() + &quot;&quot;, client, request.getSession().getId());\r\n\r\nMap params = request.getParameterMap();\r\nIterator i = params.keySet().iterator();\r\n\r\nwhile (i.hasNext()) {\r\n\tString key = (String) i.next();\r\n\tString value = ((String[]) params.get(key))[0];\r\n\tlogger.info(&quot;###### Request Param Name : {} , Value :  {} &quot;, key, value);\r\n}\r\n```","title":"How do I print the content of httprequest request?","body":"<p>More details that help in logging</p>\n<pre class=\"lang-java prettyprint-override\"><code>String client = request.getRemoteAddr();\nlogger.info(&quot;###### requested client: {} , Session ID : {} , URI :&quot; + request.getMethod() + &quot;:&quot; + request.getRequestURI() + &quot;&quot;, client, request.getSession().getId());\n\nMap params = request.getParameterMap();\nIterator i = params.keySet().iterator();\n\nwhile (i.hasNext()) {\n    String key = (String) i.next();\n    String value = ((String[]) params.get(key))[0];\n    logger.info(&quot;###### Request Param Name : {} , Value :  {} &quot;, key, value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482474,"reputation":7545,"user_id":1652451,"display_name":"PbxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616408763,"creation_date":1531824916,"answer_id":51379643,"question_id":18944302,"body_markdown":"If you want the content string and this string does not have parameters you can use\r\n```java\r\nString line = null;\r\nBufferedReader reader = request.getReader();\r\n\r\nwhile ((line = reader.readLine()) != null){\r\n\tSystem.out.println(line);\r\n}\r\n```","title":"How do I print the content of httprequest request?","body":"<p>If you want the content string and this string does not have parameters you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line = null;\nBufferedReader reader = request.getReader();\n\nwhile ((line = reader.readLine()) != null){\n    System.out.println(line);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1534161219,"creation_date":1534161219,"answer_id":51821760,"question_id":18944302,"body_markdown":"This should be more helpful for debug.\r\nAnswer from @Juned Ahsan will not specify full URL and will not print multiple headers/parameters.\r\n\r\n\r\n\tprivate String httpServletRequestToString(HttpServletRequest request) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\r\n\t\tsb.append(&quot;Request Method = [&quot; + request.getMethod() + &quot;], &quot;);\r\n\t\tsb.append(&quot;Request URL Path = [&quot; + request.getRequestURL() + &quot;], &quot;);\r\n\t\t       \r\n\t\tString headers =\r\n\t\t\tCollections.list(request.getHeaderNames()).stream()\r\n\t\t\t\t.map(headerName -&gt; headerName + &quot; : &quot; + Collections.list(request.getHeaders(headerName)) )\r\n\t\t\t\t.collect(Collectors.joining(&quot;, &quot;));\r\n\t\t\r\n\t\tif (headers.isEmpty()) {\r\n\t\t\tsb.append(&quot;Request headers: NONE,&quot;);\r\n\t\t} else {\r\n\t\t\tsb.append(&quot;Request headers: [&quot;+headers+&quot;],&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tString parameters =\r\n\t\t\tCollections.list(request.getParameterNames()).stream()\r\n\t\t\t\t.map(p -&gt; p + &quot; : &quot; + Arrays.asList( request.getParameterValues(p)) )\r\n\t\t\t\t.collect(Collectors.joining(&quot;, &quot;));\t\t\t\t\r\n\r\n\t\tif (parameters.isEmpty()) {\r\n\t\t\tsb.append(&quot;Request parameters: NONE.&quot;);\r\n\t\t} else {\r\n\t\t\tsb.append(&quot;Request parameters: [&quot; + parameters + &quot;].&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn sb.toString();\r\n\t}","title":"How do I print the content of httprequest request?","body":"<p>This should be more helpful for debug.\nAnswer from @Juned Ahsan will not specify full URL and will not print multiple headers/parameters.</p>\n\n<pre><code>private String httpServletRequestToString(HttpServletRequest request) {\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(\"Request Method = [\" + request.getMethod() + \"], \");\n    sb.append(\"Request URL Path = [\" + request.getRequestURL() + \"], \");\n\n    String headers =\n        Collections.list(request.getHeaderNames()).stream()\n            .map(headerName -&gt; headerName + \" : \" + Collections.list(request.getHeaders(headerName)) )\n            .collect(Collectors.joining(\", \"));\n\n    if (headers.isEmpty()) {\n        sb.append(\"Request headers: NONE,\");\n    } else {\n        sb.append(\"Request headers: [\"+headers+\"],\");\n    }\n\n    String parameters =\n        Collections.list(request.getParameterNames()).stream()\n            .map(p -&gt; p + \" : \" + Arrays.asList( request.getParameterValues(p)) )\n            .collect(Collectors.joining(\", \"));             \n\n    if (parameters.isEmpty()) {\n        sb.append(\"Request parameters: NONE.\");\n    } else {\n        sb.append(\"Request parameters: [\" + parameters + \"].\");\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190384,"reputation":427,"user_id":1899591,"accept_rate":40,"display_name":"RyanShao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556099049,"creation_date":1556099049,"answer_id":55827069,"question_id":18944302,"body_markdown":"In case someone also want to dump response like me. i avoided to dump response body. following code just dump the StatusCode and Headers.\r\n\r\n    static private String dumpResponse(HttpServletResponse resp){\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        sb.append(&quot;Response Status = [&quot; + resp.getStatus() + &quot;], &quot;);\r\n        String headers = resp.getHeaderNames().stream()\r\n                        .map(headerName -&gt; headerName + &quot; : &quot; + resp.getHeaders(headerName) )\r\n                        .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n        if (headers.isEmpty()) {\r\n            sb.append(&quot;Response headers: NONE,&quot;);\r\n        } else {\r\n            sb.append(&quot;Response headers: &quot;+headers+&quot;,&quot;);\r\n        }\r\n\r\n        return sb.toString();\r\n    }","title":"How do I print the content of httprequest request?","body":"<p>In case someone also want to dump response like me. i avoided to dump response body. following code just dump the StatusCode and Headers.</p>\n\n<pre><code>static private String dumpResponse(HttpServletResponse resp){\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(\"Response Status = [\" + resp.getStatus() + \"], \");\n    String headers = resp.getHeaderNames().stream()\n                    .map(headerName -&gt; headerName + \" : \" + resp.getHeaders(headerName) )\n                    .collect(Collectors.joining(\", \"));\n\n    if (headers.isEmpty()) {\n        sb.append(\"Response headers: NONE,\");\n    } else {\n        sb.append(\"Response headers: \"+headers+\",\");\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1002291,"reputation":2383,"user_id":1016891,"accept_rate":100,"display_name":"tom_mai78101"},"score":0,"creation_date":1596637432,"post_id":57972670,"comment_id":111875881,"body_markdown":"Note, the `asIterator()` is a Java 9+ addition.","body":"Note, the <code>asIterator()</code> is a Java 9+ addition."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1596670406,"post_id":57972670,"comment_id":111889030,"body_markdown":"@tom_mai78101 colld you please explain your suggestion with more details?","body":"@tom_mai78101 colld you please explain your suggestion with more details?"},{"owner":{"account_id":1002291,"reputation":2383,"user_id":1016891,"accept_rate":100,"display_name":"tom_mai78101"},"score":1,"creation_date":1596728892,"post_id":57972670,"comment_id":111910635,"body_markdown":"The `asIterator()` in the `req.getParameterNames().asIterator()` is a method that is added and is supported in Java 9. Anyone who is using Java 8 cannot use this method.","body":"The <code>asIterator()</code> in the <code>req.getParameterNames().asIterator()</code> is a method that is added and is supported in Java 9. Anyone who is using Java 8 cannot use this method."}],"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568717379,"creation_date":1568717379,"answer_id":57972670,"question_id":18944302,"body_markdown":"Rewrite @Juned Ahsan solution via stream in one line (headers are treated the same way):\r\n\r\n    public static String printRequest(HttpServletRequest req) {\r\n        String params = StreamSupport.stream(\r\n                ((Iterable&lt;String&gt;) () -&gt; req.getParameterNames().asIterator()).spliterator(), false)\r\n                .map(pName -&gt; pName + &#39;=&#39; + req.getParameter(pName))\r\n                .collect(Collectors.joining(&quot;&amp;&quot;));\r\n        return req.getRequestURI() + &#39;?&#39; + params;\r\n    }\r\n\r\nSee also [how to convert an iterator to a stream](https://stackoverflow.com/a/24511534/548473) solution.","title":"How do I print the content of httprequest request?","body":"<p>Rewrite @Juned Ahsan solution via stream in one line (headers are treated the same way):</p>\n\n<pre><code>public static String printRequest(HttpServletRequest req) {\n    String params = StreamSupport.stream(\n            ((Iterable&lt;String&gt;) () -&gt; req.getParameterNames().asIterator()).spliterator(), false)\n            .map(pName -&gt; pName + '=' + req.getParameter(pName))\n            .collect(Collectors.joining(\"&amp;\"));\n    return req.getRequestURI() + '?' + params;\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/a/24511534/548473\">how to convert an iterator to a stream</a> solution.</p>\n"},{"tags":[],"owner":{"account_id":2705427,"reputation":1,"user_id":2335126,"display_name":"ildar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699437309,"creation_date":1699437309,"answer_id":77444467,"question_id":18944302,"body_markdown":"HttpHeaders class has entrySet method, it is better to use it:\r\n\r\n```\r\ngetHeadersAsString(httpRequest.getHeaders());\r\n...\r\n    private static String getHeadersAsString(HttpHeaders httpRequestHeaders) {\r\n        return httpRequestHeaders\r\n                .entrySet()\r\n                .stream()\r\n                .map(pStringListEntry -&gt; pStringListEntry.getKey() + &#39;=&#39; +\r\n                        (pStringListEntry.getValue() != null\r\n                                ? Arrays.toString(pStringListEntry.getValue().toArray())\r\n                                : &quot;&quot;))\r\n                .collect(Collectors.joining(&quot;&amp;&quot;));\r\n    }\r\n```","title":"How do I print the content of httprequest request?","body":"<p>HttpHeaders class has entrySet method, it is better to use it:</p>\n<pre><code>getHeadersAsString(httpRequest.getHeaders());\n...\n    private static String getHeadersAsString(HttpHeaders httpRequestHeaders) {\n        return httpRequestHeaders\n                .entrySet()\n                .stream()\n                .map(pStringListEntry -&gt; pStringListEntry.getKey() + '=' +\n                        (pStringListEntry.getValue() != null\n                                ? Arrays.toString(pStringListEntry.getValue().toArray())\n                                : &quot;&quot;))\n                .collect(Collectors.joining(&quot;&amp;&quot;));\n    }\n</code></pre>\n"}],"owner":{"account_id":451349,"reputation":24587,"user_id":847200,"accept_rate":69,"display_name":"Arsen Zahray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158487,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":18944328,"answer_count":7,"score":45,"last_activity_date":1699437309,"creation_date":1379856227,"question_id":18944302,"body_markdown":"I&#39;ve got a bug involving httprequest, which happens sometimes, so I&#39;d like to log HttpGet and HttpPost request&#39;s content when that happens.\r\n\r\nSo, let&#39;s say, I create HttpGet like this:\r\n\r\n    HttpGet g = new HttpGet();\r\n    g.setURI(new URI(&quot;http://www.google.com&quot;));\r\n    g.setHeader(&quot;test&quot;, &quot;hell yeah&quot;);\r\n\r\nThis is the string representation that I&#39;d like to get:\r\n\r\n    GET / HTTP/1.1\r\n    Host: www.google.com\r\n    test: hell yeah\r\n\r\nWith the post request, I&#39;d also like to get the content string.\r\n\r\nWhat is the easiest way to do it in java for android?","title":"How do I print the content of httprequest request?","body":"<p>I've got a bug involving httprequest, which happens sometimes, so I'd like to log HttpGet and HttpPost request's content when that happens.</p>\n\n<p>So, let's say, I create HttpGet like this:</p>\n\n<pre><code>HttpGet g = new HttpGet();\ng.setURI(new URI(\"http://www.google.com\"));\ng.setHeader(\"test\", \"hell yeah\");\n</code></pre>\n\n<p>This is the string representation that I'd like to get:</p>\n\n<pre><code>GET / HTTP/1.1\nHost: www.google.com\ntest: hell yeah\n</code></pre>\n\n<p>With the post request, I'd also like to get the content string.</p>\n\n<p>What is the easiest way to do it in java for android?</p>\n"},{"tags":["java","json","jackson","spring-data-jpa","gson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1552421495,"post_id":55129866,"comment_id":97001462,"body_markdown":"See [Pretty print JSON output of Spring Boot Actuator endpoints](https://stackoverflow.com/questions/24503790/pretty-print-json-output-of-spring-boot-actuator-endpoints) and [Spring MVC](https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html) Generally, you can customise your `Jackson` `ObjectMapper` but it depends what version of `Spring` do you use, configuration, libraries. `Serialisable` interface is not needed and it does not make it `true` `JSON`.","body":"See <a href=\"https://stackoverflow.com/questions/24503790/pretty-print-json-output-of-spring-boot-actuator-endpoints\">Pretty print JSON output of Spring Boot Actuator endpoints</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html\" rel=\"nofollow noreferrer\">Spring MVC</a> Generally, you can customise your <code>Jackson</code> <code>ObjectMapper</code> but it depends what version of <code>Spring</code> do you use, configuration, libraries. <code>Serialisable</code> interface is not needed and it does not make it <code>true</code> <code>JSON</code>."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1552422575,"post_id":55129866,"comment_id":97001920,"body_markdown":"Possible duplicate of [Jackson2ObjectMapperBuilder enable field visibility ANY](https://stackoverflow.com/questions/29807879/jackson2objectmapperbuilder-enable-field-visibility-any)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29807879/jackson2objectmapperbuilder-enable-field-visibility-any\">Jackson2ObjectMapperBuilder enable field visibility ANY</a>"}],"answers":[{"tags":[],"owner":{"account_id":7247949,"reputation":4924,"user_id":5529263,"display_name":"Boken"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699436834,"creation_date":1552421763,"answer_id":55129989,"question_id":55129866,"body_markdown":"You tagged `gson` so you can use this library to **display** `.json` file:\r\n\r\n`import org.json.JSONObject`\r\n```\r\nval json = &quot;{\\&quot;data\\&quot;:[{\\&quot;id\\&quot;:1,\\&quot;firstName\\&quot;:\\&quot;Bill\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Johnson\\&quot;}]\\n&quot;\r\n\r\nval jsonObject = JSONObject(json)\r\n\r\nprintln(jsonObject.toString(4))\r\n```\r\n\r\nhttps://github.com/google/gson","title":"Best way to make JSON pretty in Java","body":"<p>You tagged <code>gson</code> so you can use this library to <strong>display</strong> <code>.json</code> file:</p>\n<p><code>import org.json.JSONObject</code></p>\n<pre><code>val json = &quot;{\\&quot;data\\&quot;:[{\\&quot;id\\&quot;:1,\\&quot;firstName\\&quot;:\\&quot;Bill\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Johnson\\&quot;}]\\n&quot;\n\nval jsonObject = JSONObject(json)\n\nprintln(jsonObject.toString(4))\n</code></pre>\n<p><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">https://github.com/google/gson</a></p>\n"},{"tags":[],"owner":{"account_id":13721039,"reputation":720,"user_id":9900911,"display_name":"armitus"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552421828,"creation_date":1552421828,"answer_id":55130008,"question_id":55129866,"body_markdown":"I believe you are looking for Gson&#39;s pretty printing functionality.\r\nBeing that you&#39;ve tagged your question with gson, I presume that its okay if you use the library. Mkyong has a great tutorial on pretty printing [Here][1].\r\n\r\nThe essential line from the tutorial is:\r\n\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n  [1]: https://www.mkyong.com/java/how-to-enable-pretty-print-json-output-gson/","title":"Best way to make JSON pretty in Java","body":"<p>I believe you are looking for Gson's pretty printing functionality.\nBeing that you've tagged your question with gson, I presume that its okay if you use the library. Mkyong has a great tutorial on pretty printing <a href=\"https://www.mkyong.com/java/how-to-enable-pretty-print-json-output-gson/\" rel=\"nofollow noreferrer\">Here</a>.</p>\n\n<p>The essential line from the tutorial is:</p>\n\n<pre><code>Gson gson = new GsonBuilder().setPrettyPrinting().create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15515152,"reputation":1,"user_id":11192918,"display_name":"Mounica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552421986,"creation_date":1552421986,"answer_id":55130036,"question_id":55129866,"body_markdown":"You can use toString(int indentFactor) from JSONObject","title":"Best way to make JSON pretty in Java","body":"<p>You can use toString(int indentFactor) from JSONObject</p>\n"},{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552423892,"creation_date":1552422044,"answer_id":55130051,"question_id":55129866,"body_markdown":"You can define \r\n\r\n - a `MappingJacksonHttpMessageConverter` (no need for Spring Boot)\r\n - a `Jackson2ObjectMapperBuilder` Bean\r\n - a simple `ObjectMapper` Bean annotated with `@Primary`\r\n - a configuration property (Spring Boot - **skip to this one for the simplest**).\r\n\r\n\r\n----------\r\n\r\nFor the first solution you need to implement the `WebMvcConfigurer` interface&lt;br&gt;(skip this one if you&#39;re on Spring Boot)\r\n\r\n    @Configuration\r\n    class CustomWebMvcConfigurer implements WebMvcConfigurer {\r\n    \t@Override\r\n    \tpublic void configureMessageConverters(final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    \t\tfinal ObjectMapper mapper =\r\n    \t\t\t\tnew Jackson2ObjectMapperBuilder()\r\n    \t\t\t\t\t\t.indentOutput(true)\r\n    \t\t\t\t\t\t.build();\r\n\r\n            // Or build ObjectMapper without the Spring builder, it&#39;s the same thing\r\n    \t\tconverters.add(new MappingJackson2HttpMessageConverter(mapper));\r\n    \t}\r\n    }\r\n\r\nThe key is this line\r\n\r\n    indentOutput(true)\r\n\r\nWhich actually manipulates the underlying `ObjectMapper` configuration\r\n\r\n    public Jackson2ObjectMapperBuilder indentOutput(boolean indentOutput) {\r\n    \tthis.features.put(SerializationFeature.INDENT_OUTPUT, indentOutput);\r\n    \treturn this;\r\n    }\r\n\r\n\r\n----------\r\n\r\nThe second one is a bit simpler\r\n\r\n    @Bean\r\n    Jackson2ObjectMapperBuilder jackson() {\r\n       return new Jackson2ObjectMapperBuilder().indentOutput(true);\r\n    }\r\n\r\n----------\r\n\r\nThe third one is even simpler, just\r\n\r\n    @Bean\r\n    @Primary\r\n    ObjectMapper objectMapper() {\r\n       final ObjectMapper mapper = new ObjectMapper();\r\n       mapper.enable(SerializationFeature.INDENT_OUTPUT);  \r\n       return mapper;\r\n    }\r\n\r\n----------\r\n\r\nA fourth way consists only on using the configuration property\r\n\r\n    spring.jackson.serialization.indent_output=true\r\n\r\n\r\n","title":"Best way to make JSON pretty in Java","body":"<p>You can define </p>\n\n<ul>\n<li>a <code>MappingJacksonHttpMessageConverter</code> (no need for Spring Boot)</li>\n<li>a <code>Jackson2ObjectMapperBuilder</code> Bean</li>\n<li>a simple <code>ObjectMapper</code> Bean annotated with <code>@Primary</code></li>\n<li>a configuration property (Spring Boot - <strong>skip to this one for the simplest</strong>).</li>\n</ul>\n\n<hr>\n\n<p>For the first solution you need to implement the <code>WebMvcConfigurer</code> interface<br>(skip this one if you're on Spring Boot)</p>\n\n<pre><code>@Configuration\nclass CustomWebMvcConfigurer implements WebMvcConfigurer {\n    @Override\n    public void configureMessageConverters(final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        final ObjectMapper mapper =\n                new Jackson2ObjectMapperBuilder()\n                        .indentOutput(true)\n                        .build();\n\n        // Or build ObjectMapper without the Spring builder, it's the same thing\n        converters.add(new MappingJackson2HttpMessageConverter(mapper));\n    }\n}\n</code></pre>\n\n<p>The key is this line</p>\n\n<pre><code>indentOutput(true)\n</code></pre>\n\n<p>Which actually manipulates the underlying <code>ObjectMapper</code> configuration</p>\n\n<pre><code>public Jackson2ObjectMapperBuilder indentOutput(boolean indentOutput) {\n    this.features.put(SerializationFeature.INDENT_OUTPUT, indentOutput);\n    return this;\n}\n</code></pre>\n\n<hr>\n\n<p>The second one is a bit simpler</p>\n\n<pre><code>@Bean\nJackson2ObjectMapperBuilder jackson() {\n   return new Jackson2ObjectMapperBuilder().indentOutput(true);\n}\n</code></pre>\n\n<hr>\n\n<p>The third one is even simpler, just</p>\n\n<pre><code>@Bean\n@Primary\nObjectMapper objectMapper() {\n   final ObjectMapper mapper = new ObjectMapper();\n   mapper.enable(SerializationFeature.INDENT_OUTPUT);  \n   return mapper;\n}\n</code></pre>\n\n<hr>\n\n<p>A fourth way consists only on using the configuration property</p>\n\n<pre><code>spring.jackson.serialization.indent_output=true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1552676743,"post_id":55130127,"comment_id":97116580,"body_markdown":"@Angular_Newbie this isn&#39;t Spring specific, and you&#39;ll have to repeat it every time. A lot of duplication for nothing.","body":"@Angular_Newbie this isn&#39;t Spring specific, and you&#39;ll have to repeat it every time. A lot of duplication for nothing."},{"owner":{"account_id":5998471,"reputation":425,"user_id":4712509,"accept_rate":38,"display_name":"Angular_Newbie"},"score":0,"creation_date":1552678414,"post_id":55130127,"comment_id":97117357,"body_markdown":"I agree.  I will attempt using your third and fourth option.  Looks like Spring magic.","body":"I agree.  I will attempt using your third and fourth option.  Looks like Spring magic."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1552683910,"post_id":55130127,"comment_id":97119709,"body_markdown":"@Angular_Newbie well, let me know in case you need help. As a general rule, if you&#39;re on Spring, stick to the Spring way.","body":"@Angular_Newbie well, let me know in case you need help. As a general rule, if you&#39;re on Spring, stick to the Spring way."},{"owner":{"account_id":6807110,"reputation":4072,"user_id":5238522,"display_name":"Rakesh"},"score":0,"creation_date":1552684812,"post_id":55130127,"comment_id":97120043,"body_markdown":"@LppEdd The solution is just for beautifying Json. You can create ObjectMapper in in context once and use it across your application. I am not sure what you mean by duplication for nothing?","body":"@LppEdd The solution is just for beautifying Json. You can create ObjectMapper in in context once and use it across your application. I am not sure what you mean by duplication for nothing?"}],"tags":[],"owner":{"account_id":6807110,"reputation":4072,"user_id":5238522,"display_name":"Rakesh"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1552422435,"creation_date":1552422435,"answer_id":55130127,"question_id":55129866,"body_markdown":"I think the best way beautify the json string is as follows using Jackson:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourObject)","title":"Best way to make JSON pretty in Java","body":"<p>I think the best way beautify the json string is as follows using Jackson:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(yourObject)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514486,"reputation":21,"user_id":3669731,"display_name":"BoltX"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552424967,"creation_date":1552424625,"answer_id":55130619,"question_id":55129866,"body_markdown":"No need to import a bunch of new stuff. Only what system may complain about (if any). But if you&#39;re already using Jackson, and wanted to use the mapper -&gt; just use &quot;readValue&quot; or &quot;writeValue&quot; right? \r\n\r\nThis link explains a lot of ways to do this: [Jackson Examples][1]\r\n\r\nRemove your result assignment and use direct conversion with Mapper\r\n```\r\nObjectMapper jacksonMapper = new ObjectMapper();\r\njacksonMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\r\nList&lt;NameSearchDTO&gt; mappedResults = mapper.readValue(officeService.getByCode(code, idType) ,new TypeReference&lt;List&lt;NameSearchDTO&gt;&gt;() {} );\r\n```\r\nthen add that to your result return. (seems a bit clunky having that added container class, but I don&#39;t pretend to know your requirements).\r\n\r\n```\r\nif (!mappedResults.isEmpty()) {\r\n            response.setData(mappedResults);\r\n            response.setStatus(Enum.SUCCESS.getDescription());\r\n            response.setMessage(Enum.STATUS_SUCCESS.getDescription());\r\nreturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-object-mapper-tutorial","title":"Best way to make JSON pretty in Java","body":"<p>No need to import a bunch of new stuff. Only what system may complain about (if any). But if you're already using Jackson, and wanted to use the mapper -> just use \"readValue\" or \"writeValue\" right? </p>\n\n<p>This link explains a lot of ways to do this: <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">Jackson Examples</a></p>\n\n<p>Remove your result assignment and use direct conversion with Mapper</p>\n\n<pre><code>ObjectMapper jacksonMapper = new ObjectMapper();\njacksonMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\nList&lt;NameSearchDTO&gt; mappedResults = mapper.readValue(officeService.getByCode(code, idType) ,new TypeReference&lt;List&lt;NameSearchDTO&gt;&gt;() {} );\n</code></pre>\n\n<p>then add that to your result return. (seems a bit clunky having that added container class, but I don't pretend to know your requirements).</p>\n\n<pre><code>if (!mappedResults.isEmpty()) {\n            response.setData(mappedResults);\n            response.setStatus(Enum.SUCCESS.getDescription());\n            response.setMessage(Enum.STATUS_SUCCESS.getDescription());\nreturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n</code></pre>\n"}],"owner":{"account_id":5998471,"reputation":425,"user_id":4712509,"accept_rate":38,"display_name":"Angular_Newbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55130127,"answer_count":6,"score":2,"last_activity_date":1699436834,"creation_date":1552421118,"question_id":55129866,"body_markdown":"I have list of objects returning like the below format (not pretty).  \r\n\r\n    {&quot;data&quot;:[{&quot;id&quot;:1,&quot;firstName&quot;:&quot;Bill&quot;,&quot;lastName&quot;:&quot;Johnson&quot;}]\r\n\r\nI would like it to show like this (pretty).\r\n\r\n    {\r\n\t    &quot;data&quot;:[{\r\n\t\t\t&quot;id&quot;:1,&quot;\r\n\t\t\tfirstName&quot;:&quot;Bill&quot;,\r\n\t\t\t&quot;lastName&quot;:&quot;Johnson&quot;\r\n\t\t\t}]\r\n    }\r\n\r\n\r\n\r\nThis is my method signature, along with my call to the service to query the DB and the return that prints json to screen.  \r\n\r\n    public @ResponseBody ResponseEntity&lt;ResponseData&lt;List&lt;NameSearchDTO&gt;&gt;&gt; getInfo(@PathVariable String code, @PathVariable String idType)\r\n\r\n    ResponseData&lt;List&lt;NameSearchDTO&gt;&gt; response = new ResponseData&lt;&gt;();\r\n\r\n    List&lt;NameSearchDTO&gt; results = officeService.getByCode(code, idType); \r\n    if (!results.isEmpty()) {\r\n\t\t\t\tresponse.setData(results);\r\n\t\t\t\tresponse.setStatus(Enum.SUCCESS.getDescription());\r\n\t\t\t\tresponse.setMessage(Enum.STATUS_SUCCESS.getDescription());\r\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n    }\r\n\r\nThe ResponseData Class implements Serializable.  Does this make it &quot;true&quot; JSON as I&#39;m not using Jackson or any other JSON library?\r\n\r\nHow do I pass the response to the below ObjectMapper to make it pretty?  \r\n\r\n    ObjectMapper jacksonMapper = new ObjectMapper();\r\n    jacksonMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\r\n\r\nOr do I need to create some sort of JSONHelper class?  \r\n\r\n\r\nResponseData Class\r\n\r\n    public class ResponseData &lt;E&gt; implements Serializable{\r\n    \r\n    \t\r\n    \tprivate E data;\r\n    \tprivate String status;\r\n        private String message;\r\n        private boolean hasValidationError = false;\r\n        \r\n    \tpublic E getData() {\r\n    \t\treturn data;\r\n    \t}\r\n        \r\n    \tpublic void setData(E data) {\r\n    \t\tthis.data = data;\r\n    \t}\r\n        \r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n        \r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \t\r\n    \tpublic String getMessage() {\r\n    \t\treturn message;\r\n    \t}\r\n        \r\n    \tpublic void setMessage(String message) {\r\n    \t\tthis.message = message;\r\n    \t}\r\n    \t\r\n    \tpublic boolean getHasValidationError(){\r\n    \t\treturn hasValidationError;\r\n    \t}\r\n    \t\r\n    \tpublic void setHasValidationError(boolean hasValidationError){\r\n    \t\tthis.hasValidationError = hasValidationError;\r\n    \t}\r\n    }\r\n\r\n\r\n ","title":"Best way to make JSON pretty in Java","body":"<p>I have list of objects returning like the below format (not pretty).  </p>\n\n<pre><code>{\"data\":[{\"id\":1,\"firstName\":\"Bill\",\"lastName\":\"Johnson\"}]\n</code></pre>\n\n<p>I would like it to show like this (pretty).</p>\n\n<pre><code>{\n    \"data\":[{\n        \"id\":1,\"\n        firstName\":\"Bill\",\n        \"lastName\":\"Johnson\"\n        }]\n}\n</code></pre>\n\n<p>This is my method signature, along with my call to the service to query the DB and the return that prints json to screen.  </p>\n\n<pre><code>public @ResponseBody ResponseEntity&lt;ResponseData&lt;List&lt;NameSearchDTO&gt;&gt;&gt; getInfo(@PathVariable String code, @PathVariable String idType)\n\nResponseData&lt;List&lt;NameSearchDTO&gt;&gt; response = new ResponseData&lt;&gt;();\n\nList&lt;NameSearchDTO&gt; results = officeService.getByCode(code, idType); \nif (!results.isEmpty()) {\n            response.setData(results);\n            response.setStatus(Enum.SUCCESS.getDescription());\n            response.setMessage(Enum.STATUS_SUCCESS.getDescription());\nreturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n}\n</code></pre>\n\n<p>The ResponseData Class implements Serializable.  Does this make it \"true\" JSON as I'm not using Jackson or any other JSON library?</p>\n\n<p>How do I pass the response to the below ObjectMapper to make it pretty?  </p>\n\n<pre><code>ObjectMapper jacksonMapper = new ObjectMapper();\njacksonMapper.configure(SerializationFeature.INDENT_OUTPUT, true);\n</code></pre>\n\n<p>Or do I need to create some sort of JSONHelper class?  </p>\n\n<p>ResponseData Class</p>\n\n<pre><code>public class ResponseData &lt;E&gt; implements Serializable{\n\n\n    private E data;\n    private String status;\n    private String message;\n    private boolean hasValidationError = false;\n\n    public E getData() {\n        return data;\n    }\n\n    public void setData(E data) {\n        this.data = data;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public boolean getHasValidationError(){\n        return hasValidationError;\n    }\n\n    public void setHasValidationError(boolean hasValidationError){\n        this.hasValidationError = hasValidationError;\n    }\n}\n</code></pre>\n"},{"tags":["java","robot"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699453081,"post_id":77444282,"comment_id":136533226,"body_markdown":"It seems, the AWT only updates its state if a window is open and it has the focus or receives the focus some time after the change.","body":"It seems, the AWT only updates its state if a window is open and it has the focus or receives the focus some time after the change."}],"owner":{"account_id":28642160,"reputation":15,"user_id":21931046,"display_name":"Jupit90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699436754,"creation_date":1699435712,"question_id":77444282,"body_markdown":"I wrote code that changes the layout language on the PC until English is selected, the language changes, the key combination is correct, but the loop continues forever\r\n\r\n            InputContext context = InputContext.getInstance();\r\n\t\t\tLocale curLocale = context.getLocale();\r\n\t\t\t\r\n\t\t\twhile(!curLocale.equals(Locale.US)) {\r\n\t\t\t\trobot.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\trobot.keyPress(KeyEvent.VK_ALT);\r\n\t\t\t\trobot.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\trobot.keyRelease(KeyEvent.VK_ALT);\r\n\t\t\t\tThread.sleep(500);\r\n\t\t\t\tcontext = InputContext.getInstance();\r\n\t\t\t\tcurLocale = context.getLocale();\r\n\t\t\t}\r\nThat is, the old layout value is written to curLocale\r\n","title":"Get current keyboard layout using java","body":"<p>I wrote code that changes the layout language on the PC until English is selected, the language changes, the key combination is correct, but the loop continues forever</p>\n<pre><code>        InputContext context = InputContext.getInstance();\n        Locale curLocale = context.getLocale();\n        \n        while(!curLocale.equals(Locale.US)) {\n            robot.keyPress(KeyEvent.VK_SHIFT);\n            robot.keyPress(KeyEvent.VK_ALT);\n            robot.keyRelease(KeyEvent.VK_SHIFT);\n            robot.keyRelease(KeyEvent.VK_ALT);\n            Thread.sleep(500);\n            context = InputContext.getInstance();\n            curLocale = context.getLocale();\n        }\n</code></pre>\n<p>That is, the old layout value is written to curLocale</p>\n"},{"tags":["java","scala","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":230677,"reputation":6016,"user_id":494428,"accept_rate":80,"display_name":"hage"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694174521,"creation_date":1694174521,"answer_id":77066720,"question_id":76791776,"body_markdown":"I ran into a similar issue recently. \r\n\r\nThe thing is, that the Spark project shades the gRPC classes. You will have to do the same in your project.\r\n\r\nYou can read on this here: https://lists.apache.org/thread/t95pcdh5zw2154pc3cfhv27pv7nltdnf","title":"How to use spark connect interceptors?","body":"<p>I ran into a similar issue recently.</p>\n<p>The thing is, that the Spark project shades the gRPC classes. You will have to do the same in your project.</p>\n<p>You can read on this here: <a href=\"https://lists.apache.org/thread/t95pcdh5zw2154pc3cfhv27pv7nltdnf\" rel=\"nofollow noreferrer\">https://lists.apache.org/thread/t95pcdh5zw2154pc3cfhv27pv7nltdnf</a></p>\n"},{"tags":[],"owner":{"account_id":9282831,"reputation":16,"user_id":6893567,"display_name":"joaquin021"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699436373,"creation_date":1699436316,"answer_id":77444359,"question_id":76791776,"body_markdown":"I&#39;m not sure If you made it work.\r\n\r\nI have succeeded it, thanks to the comment from hage. Although, due to my own lack of knowledge, it took me a bit to understand it. \r\nI will share it in case it helps someone.\r\n\r\nAs hage mentioned, Spark shades the GRPC classes.\r\n\r\nI copied the configuration of the `maven-shade-plugin` from the `spark-connect-server` project to my own pom.xml.\r\nhttps://github.com/apache/spark/blob/master/connector/connect/server/pom.xml#L284\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;interceptor&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;spark.shade.packageName&gt;org.sparkproject&lt;/spark.shade.packageName&gt;\r\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\r\n        &lt;spark.version&gt;3.5.0&lt;/spark.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-connect-common_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;false&lt;/shadedArtifactAttached&gt;\r\n                    &lt;artifactSet&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;org.example:interceptor&lt;/include&gt;\r\n                            &lt;include&gt;com.google.guava:*&lt;/include&gt;\r\n                            &lt;include&gt;io.grpc:*:&lt;/include&gt;\r\n                            &lt;include&gt;com.google.protobuf:*&lt;/include&gt;\r\n\r\n                            &lt;!--\r\n                              The dependencies below are not added in SBT because SBT add them all\r\n                              as assembly build.\r\n                            --&gt;\r\n                            &lt;include&gt;com.google.android:annotations&lt;/include&gt;\r\n                            &lt;include&gt;com.google.api.grpc:proto-google-common-protos&lt;/include&gt;\r\n                            &lt;include&gt;io.perfmark:perfmark-api&lt;/include&gt;\r\n                            &lt;include&gt;org.codehaus.mojo:animal-sniffer-annotations&lt;/include&gt;\r\n                            &lt;include&gt;com.google.errorprone:error_prone_annotations&lt;/include&gt;\r\n                            &lt;include&gt;com.google.j2objc:j2objc-annotations&lt;/include&gt;\r\n                            &lt;include&gt;org.checkerframework:checker-qual&lt;/include&gt;\r\n                            &lt;include&gt;com.google.code.gson:gson&lt;/include&gt;\r\n                            &lt;include&gt;org.apache.spark:spark-connect-common_${scala.binary.version}&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/artifactSet&gt;\r\n                    &lt;relocations&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.common&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.guava&lt;/shadedPattern&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;com.google.common.**&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.thirdparty&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.guava&lt;/shadedPattern&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;com.google.thirdparty.**&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.protobuf&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.protobuf&lt;/shadedPattern&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;com.google.protobuf.**&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;io.grpc&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.grpc&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;android.annotation&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.android_annotation&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;io.perfmark&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.io_perfmark&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;org.codehaus.mojo.animal_sniffer&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.animal_sniffer&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.j2objc.annotations&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.j2objc_annotations&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.errorprone.annotations&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.errorprone_annotations&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;org.checkerframework&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.checkerframework&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.gson&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.gson&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n\r\n                        &lt;!--\r\n                          For `com.google.api.grpc:proto-google-common-protos`, do not directly define pattern\r\n                          as `common.google`, otherwise, otherwise, the relocation result may be uncertain due\r\n                          to the change of rule order.\r\n                        --&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.api&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.api&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.cloud&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.cloud&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.geo&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.geo&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.logging&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.logging&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.longrunning&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.longrunning&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.rpc&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.rpc&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                        &lt;relocation&gt;\r\n                            &lt;pattern&gt;com.google.type&lt;/pattern&gt;\r\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.type&lt;/shadedPattern&gt;\r\n                        &lt;/relocation&gt;\r\n                    &lt;/relocations&gt;\r\n                    &lt;transformers&gt;\r\n                        &lt;transformer\r\n                                implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                    &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nMy interceptor is like Matheus&#39;s.\r\n\r\n```\r\npackage org.example;\r\n\r\nimport io.grpc.Metadata;\r\nimport io.grpc.ServerCall;\r\nimport io.grpc.ServerCallHandler;\r\nimport io.grpc.ServerInterceptor;\r\n\r\npublic class Interceptor implements ServerInterceptor {\r\n\r\n\r\n    public Interceptor() {\r\n    }\r\n\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\r\n        System.out.println(&quot;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++&quot;);\r\n        System.out.println(&quot;HELLO WORLD&quot;);\r\n        System.out.println(&quot;-------------------------------------------------------------------------------------------&quot;);\r\n        return serverCallHandler.startCall(serverCall, metadata);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis way it has worked for me without any issues.\r\n","title":"How to use spark connect interceptors?","body":"<p>I'm not sure If you made it work.</p>\n<p>I have succeeded it, thanks to the comment from hage. Although, due to my own lack of knowledge, it took me a bit to understand it.\nI will share it in case it helps someone.</p>\n<p>As hage mentioned, Spark shades the GRPC classes.</p>\n<p>I copied the configuration of the <code>maven-shade-plugin</code> from the <code>spark-connect-server</code> project to my own pom.xml.\n<a href=\"https://github.com/apache/spark/blob/master/connector/connect/server/pom.xml#L284\" rel=\"nofollow noreferrer\">https://github.com/apache/spark/blob/master/connector/connect/server/pom.xml#L284</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;interceptor&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;spark.shade.packageName&gt;org.sparkproject&lt;/spark.shade.packageName&gt;\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\n        &lt;spark.version&gt;3.5.0&lt;/spark.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-connect-common_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;false&lt;/shadedArtifactAttached&gt;\n                    &lt;artifactSet&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;org.example:interceptor&lt;/include&gt;\n                            &lt;include&gt;com.google.guava:*&lt;/include&gt;\n                            &lt;include&gt;io.grpc:*:&lt;/include&gt;\n                            &lt;include&gt;com.google.protobuf:*&lt;/include&gt;\n\n                            &lt;!--\n                              The dependencies below are not added in SBT because SBT add them all\n                              as assembly build.\n                            --&gt;\n                            &lt;include&gt;com.google.android:annotations&lt;/include&gt;\n                            &lt;include&gt;com.google.api.grpc:proto-google-common-protos&lt;/include&gt;\n                            &lt;include&gt;io.perfmark:perfmark-api&lt;/include&gt;\n                            &lt;include&gt;org.codehaus.mojo:animal-sniffer-annotations&lt;/include&gt;\n                            &lt;include&gt;com.google.errorprone:error_prone_annotations&lt;/include&gt;\n                            &lt;include&gt;com.google.j2objc:j2objc-annotations&lt;/include&gt;\n                            &lt;include&gt;org.checkerframework:checker-qual&lt;/include&gt;\n                            &lt;include&gt;com.google.code.gson:gson&lt;/include&gt;\n                            &lt;include&gt;org.apache.spark:spark-connect-common_${scala.binary.version}&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/artifactSet&gt;\n                    &lt;relocations&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.common&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.guava&lt;/shadedPattern&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;com.google.common.**&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.thirdparty&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.guava&lt;/shadedPattern&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;com.google.thirdparty.**&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.protobuf&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.protobuf&lt;/shadedPattern&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;com.google.protobuf.**&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;io.grpc&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.grpc&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;android.annotation&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.android_annotation&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;io.perfmark&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.io_perfmark&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;org.codehaus.mojo.animal_sniffer&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.animal_sniffer&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.j2objc.annotations&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.j2objc_annotations&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.errorprone.annotations&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.errorprone_annotations&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;org.checkerframework&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.checkerframework&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.gson&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.gson&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n\n                        &lt;!--\n                          For `com.google.api.grpc:proto-google-common-protos`, do not directly define pattern\n                          as `common.google`, otherwise, otherwise, the relocation result may be uncertain due\n                          to the change of rule order.\n                        --&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.api&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.api&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.cloud&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.cloud&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.geo&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.geo&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.logging&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.logging&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.longrunning&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.longrunning&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.rpc&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.rpc&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;com.google.type&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;${spark.shade.packageName}.connect.google_protos.type&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                    &lt;/relocations&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                                implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My interceptor is like Matheus's.</p>\n<pre><code>package org.example;\n\nimport io.grpc.Metadata;\nimport io.grpc.ServerCall;\nimport io.grpc.ServerCallHandler;\nimport io.grpc.ServerInterceptor;\n\npublic class Interceptor implements ServerInterceptor {\n\n\n    public Interceptor() {\n    }\n\n    @Override\n    public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata, ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\n        System.out.println(&quot;+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++&quot;);\n        System.out.println(&quot;HELLO WORLD&quot;);\n        System.out.println(&quot;-------------------------------------------------------------------------------------------&quot;);\n        return serverCallHandler.startCall(serverCall, metadata);\n    }\n\n}\n</code></pre>\n<p>This way it has worked for me without any issues.</p>\n"}],"owner":{"account_id":11317286,"reputation":317,"user_id":11013417,"display_name":"Matheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77444359,"answer_count":2,"score":2,"last_activity_date":1699436373,"creation_date":1690595154,"question_id":76791776,"body_markdown":"I&#39;m trying to use a custom interceptor following the documentation present [here][1]. I just have a simple interceptor showed bellow:\r\n\r\n```java\r\npackage interceptorserver;\r\n\r\nimport io.grpc.Metadata;\r\nimport io.grpc.ServerCall;\r\nimport io.grpc.ServerCall.Listener;\r\nimport io.grpc.ServerCallHandler;\r\nimport io.grpc.ServerInterceptor;\r\n\r\npublic class Interceptor implements ServerInterceptor{\r\n\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\r\n        System.out.println(&quot;Hello world&quot;);\r\n        return next.startCall(call, headers);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, when I compile this code and send this to spark connect with the following command:\r\n\r\n```\r\n./start-connect-server.sh \\\r\n    --packages org.apache.spark:spark-connect_2.12:3.4.1 \\\r\n    --jars Interceptor.jar \\\r\n    --conf spark.connect.grpc.interceptor.classes=interceptorserver.Interceptor\r\n```\r\n\r\nI get the following error:\r\n```\r\n23/07/29 01:17:00 ERROR SparkConnectServer: Error starting Spark Connect server\r\norg.apache.spark.SparkException: [CONNECT.INTERCEPTOR_RUNTIME_ERROR] Generic Spark Connect error. Error instantiating GRPC interceptor: class interceptorserver.Interceptor cannot be cast to class org.sparkproject.connect.grpc.ServerInterceptor (interceptorserver.Interceptor and org.sparkproject.connect.grpc.ServerInterceptor are in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @a5272be)\r\n\tat org.apache.spark.sql.connect.service.SparkConnectInterceptorRegistry$.createInstance(SparkConnectInterceptorRegistry.scala:99)\r\n\tat org.apache.spark.sql.connect.service.SparkConnectInterceptorRegistry$.$anonfun$createConfiguredInterceptors$4(SparkConnectInterceptorRegistry.scala:67)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\r\n\tat scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\r\n\tat scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\r\n...\r\n```\r\n\r\nFirst I thought that `org.sparkproject.connect.grpc.ServerInterceptor` is different than `io.grpc.ServerInterceptor` but when I&#39;ve checked the [code][2] and I saw that Spark is indeed using `io.grpc.ServerInterceptor`, besides that, the [documentation][1] itself says to use `io.grpc.ServerInterceptor` so my second thought was: &quot;Does my class really implement the `io.grpc.ServerInterceptor` interface?&quot;, then I did the following dummy test\r\n\r\n```\r\n/*\r\n * This Java source file was generated by the Gradle &#39;init&#39; task.\r\n */\r\npackage interceptorserver;\r\n\r\nimport org.junit.Test;\r\n\r\nimport org.junit.Assert;\r\n\r\npublic class LibraryTest {\r\n    @Test public void someLibraryMethodReturnsTrue() {\r\n        Interceptor classUnderTest = new Interceptor();\r\n        Assert.assertTrue(classUnderTest instanceof io.grpc.ServerInterceptor);\r\n    }\r\n}\r\n```\r\n\r\nAnd my test passed. So my question is: What I&#39;m doing wrong? Why my class can&#39;t be casted to the needed one?\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/latest/configuration.html#server-configuration\r\n  [2]: https://github.com/apache/spark/blob/master/connector/connect/server/src/main/scala/org/apache/spark/sql/connect/service/SparkConnectInterceptorRegistry.scala#L66C33-L66C50","title":"How to use spark connect interceptors?","body":"<p>I'm trying to use a custom interceptor following the documentation present <a href=\"https://spark.apache.org/docs/latest/configuration.html#server-configuration\" rel=\"nofollow noreferrer\">here</a>. I just have a simple interceptor showed bellow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package interceptorserver;\n\nimport io.grpc.Metadata;\nimport io.grpc.ServerCall;\nimport io.grpc.ServerCall.Listener;\nimport io.grpc.ServerCallHandler;\nimport io.grpc.ServerInterceptor;\n\npublic class Interceptor implements ServerInterceptor{\n\n    @Override\n    public &lt;ReqT, RespT&gt; Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\n        System.out.println(&quot;Hello world&quot;);\n        return next.startCall(call, headers);\n    }\n}\n\n</code></pre>\n<p>However, when I compile this code and send this to spark connect with the following command:</p>\n<pre><code>./start-connect-server.sh \\\n    --packages org.apache.spark:spark-connect_2.12:3.4.1 \\\n    --jars Interceptor.jar \\\n    --conf spark.connect.grpc.interceptor.classes=interceptorserver.Interceptor\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>23/07/29 01:17:00 ERROR SparkConnectServer: Error starting Spark Connect server\norg.apache.spark.SparkException: [CONNECT.INTERCEPTOR_RUNTIME_ERROR] Generic Spark Connect error. Error instantiating GRPC interceptor: class interceptorserver.Interceptor cannot be cast to class org.sparkproject.connect.grpc.ServerInterceptor (interceptorserver.Interceptor and org.sparkproject.connect.grpc.ServerInterceptor are in unnamed module of loader org.apache.spark.util.MutableURLClassLoader @a5272be)\n    at org.apache.spark.sql.connect.service.SparkConnectInterceptorRegistry$.createInstance(SparkConnectInterceptorRegistry.scala:99)\n    at org.apache.spark.sql.connect.service.SparkConnectInterceptorRegistry$.$anonfun$createConfiguredInterceptors$4(SparkConnectInterceptorRegistry.scala:67)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.IndexedSeqOptimized.foreach(IndexedSeqOptimized.scala:36)\n    at scala.collection.IndexedSeqOptimized.foreach$(IndexedSeqOptimized.scala:33)\n    at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:198)\n...\n</code></pre>\n<p>First I thought that <code>org.sparkproject.connect.grpc.ServerInterceptor</code> is different than <code>io.grpc.ServerInterceptor</code> but when I've checked the <a href=\"https://github.com/apache/spark/blob/master/connector/connect/server/src/main/scala/org/apache/spark/sql/connect/service/SparkConnectInterceptorRegistry.scala#L66C33-L66C50\" rel=\"nofollow noreferrer\">code</a> and I saw that Spark is indeed using <code>io.grpc.ServerInterceptor</code>, besides that, the <a href=\"https://spark.apache.org/docs/latest/configuration.html#server-configuration\" rel=\"nofollow noreferrer\">documentation</a> itself says to use <code>io.grpc.ServerInterceptor</code> so my second thought was: &quot;Does my class really implement the <code>io.grpc.ServerInterceptor</code> interface?&quot;, then I did the following dummy test</p>\n<pre><code>/*\n * This Java source file was generated by the Gradle 'init' task.\n */\npackage interceptorserver;\n\nimport org.junit.Test;\n\nimport org.junit.Assert;\n\npublic class LibraryTest {\n    @Test public void someLibraryMethodReturnsTrue() {\n        Interceptor classUnderTest = new Interceptor();\n        Assert.assertTrue(classUnderTest instanceof io.grpc.ServerInterceptor);\n    }\n}\n</code></pre>\n<p>And my test passed. So my question is: What I'm doing wrong? Why my class can't be casted to the needed one?</p>\n"},{"tags":["java","intellij-idea","javafx","virtual-machine","fxml"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":2,"creation_date":1699413546,"post_id":77442472,"comment_id":136527332,"body_markdown":"Some useful information related to creating and running a JavaFX application - [Create a new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html)","body":"Some useful information related to creating and running a JavaFX application - <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">Create a new JavaFX project</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1699418230,"post_id":77442472,"comment_id":136527660,"body_markdown":"Do a Google search for **java platform module system**","body":"Do a Google search for <b>java platform module system</b>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699426188,"post_id":77442472,"comment_id":136528317,"body_markdown":"JFoenix is not maintained.  Additionally, older versions of JFoenix are not built to function correctly with modern JavaFX versions.  If you *need* similar functionality beyond the standard JavaFX controls, consider [MaterialFX](https://github.com/palexdev/MaterialFX) instead.","body":"JFoenix is not maintained.  Additionally, older versions of JFoenix are not built to function correctly with modern JavaFX versions.  If you <i>need</i> similar functionality beyond the standard JavaFX controls, consider <a href=\"https://github.com/palexdev/MaterialFX\" rel=\"nofollow noreferrer\">MaterialFX</a> instead."},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":1,"creation_date":1699431783,"post_id":77442472,"comment_id":136529158,"body_markdown":"Hello, please check https://stackoverflow.com/a/53037601/20979453, it seems the same problem as yours.","body":"Hello, please check <a href=\"https://stackoverflow.com/a/53037601/20979453\">stackoverflow.com/a/53037601/20979453</a>, it seems the same problem as yours."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699436365,"creation_date":1699436051,"answer_id":77444319,"question_id":77442472,"body_markdown":"**Preface:**\r\n\r\nYou do NOT need to pass any vm arguments. Just download and Run the main method of the launcher class.\r\n\r\nNote: The projects contain an action to create an executable fat JAR.\r\n\r\n**Solution 1:**\r\n\r\nDownload this preconfigured project template and edit it to your needs:\r\n\r\n*Example working JavaFX application with gradle:*\r\nhttps://github.com/davidweber411/JavaFxAppGradleNonModular\r\n\r\n*Example working JavaFX application with maven:*\r\nhttps://github.com/davidweber411/JavaFxAppMavenNonModular\r\n\r\n**Solution 2:**\r\n\r\nYou need at least JDK17 installed.\r\n\r\nGenerated a runnable preconfigured project with this generator:\r\n\r\nhttps://github.com/davidweber411/JavaFxProjectGenerator\r\n\r\n*Direkt Downloadlink of the generator:* https://wedasoft.com/wp-content/uploads/2023/10/JavaFxProjectGenerator-1.4.1.jar\r\n\r\n*Homepage:* https://wedasoft.com/projects/javafx-project-generator/","title":"How to run a javaFx program","body":"<p><strong>Preface:</strong></p>\n<p>You do NOT need to pass any vm arguments. Just download and Run the main method of the launcher class.</p>\n<p>Note: The projects contain an action to create an executable fat JAR.</p>\n<p><strong>Solution 1:</strong></p>\n<p>Download this preconfigured project template and edit it to your needs:</p>\n<p><em>Example working JavaFX application with gradle:</em>\n<a href=\"https://github.com/davidweber411/JavaFxAppGradleNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppGradleNonModular</a></p>\n<p><em>Example working JavaFX application with maven:</em>\n<a href=\"https://github.com/davidweber411/JavaFxAppMavenNonModular\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxAppMavenNonModular</a></p>\n<p><strong>Solution 2:</strong></p>\n<p>You need at least JDK17 installed.</p>\n<p>Generated a runnable preconfigured project with this generator:</p>\n<p><a href=\"https://github.com/davidweber411/JavaFxProjectGenerator\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/JavaFxProjectGenerator</a></p>\n<p><em>Direkt Downloadlink of the generator:</em> <a href=\"https://wedasoft.com/wp-content/uploads/2023/10/JavaFxProjectGenerator-1.4.1.jar\" rel=\"nofollow noreferrer\">https://wedasoft.com/wp-content/uploads/2023/10/JavaFxProjectGenerator-1.4.1.jar</a></p>\n<p><em>Homepage:</em> <a href=\"https://wedasoft.com/projects/javafx-project-generator/\" rel=\"nofollow noreferrer\">https://wedasoft.com/projects/javafx-project-generator/</a></p>\n"}],"owner":{"account_id":23701649,"reputation":1,"user_id":17724750,"display_name":"An Nguyễn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699472124,"answer_count":1,"score":-2,"last_activity_date":1699436365,"creation_date":1699409614,"question_id":77442472,"body_markdown":"&gt;class com.jfoenix.skins.JFXTabPaneSkin (in unnamed module @0x7f6b9ff9) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to unnamed module @0x7f6b9ff9\r\n\r\nSo I ran a program with this error, i don&#39;t know the way to solve this error. Is there somebody can help me, please?\r\n\r\nI added some lines into the VM options in IntelliJ IDE, but it&#39;s not working.","title":"How to run a javaFx program","body":"<blockquote>\n<p>class com.jfoenix.skins.JFXTabPaneSkin (in unnamed module @0x7f6b9ff9) cannot access class com.sun.javafx.scene.control.behavior.TabPaneBehavior (in module javafx.controls) because module javafx.controls does not export com.sun.javafx.scene.control.behavior to unnamed module @0x7f6b9ff9</p>\n</blockquote>\n<p>So I ran a program with this error, i don't know the way to solve this error. Is there somebody can help me, please?</p>\n<p>I added some lines into the VM options in IntelliJ IDE, but it's not working.</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"account_id":1489923,"reputation":11208,"user_id":1397268,"display_name":"Hakan Serce"},"score":0,"creation_date":1338121845,"post_id":10773979,"comment_id":14009047,"body_markdown":"How do you run your test? I mean through the main method in your BasicInfoTest class or through right clicking in the eclipse package explorer?","body":"How do you run your test? I mean through the main method in your BasicInfoTest class or through right clicking in the eclipse package explorer?"},{"owner":{"display_name":"user290043"},"score":1,"creation_date":1338122250,"post_id":10773979,"comment_id":14009090,"body_markdown":"I am right clicking and running as JUnit Test.","body":"I am right clicking and running as JUnit Test."},{"owner":{"account_id":137700,"reputation":8264,"user_id":342073,"accept_rate":64,"display_name":"Ramesh Kotha"},"score":0,"creation_date":1338122593,"post_id":10773979,"comment_id":14009149,"body_markdown":"that looks like a test suite for me, can u run it as a Junit Test Suite rather than Junit Test case..","body":"that looks like a test suite for me, can u run it as a Junit Test Suite rather than Junit Test case.."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338123420,"creation_date":1338123420,"answer_id":10774139,"question_id":10773979,"body_markdown":"One possibility is that Eclipse&#39;s JUnit runner is confused by the presence of the `main` method and is running that rather than the test methods.\r\n\r\nTry commenting out the `main` method.  It shouldn&#39;t be there at all, IMO. \r\n\r\n(By the way, the main method doesn&#39;t look right to me.  I&#39;d have thought it would instantiate a `TestSuite` with the unit test classes as parameters, but you seem to be giving it the class under test.  That won&#39;t have any &quot;test&quot; methods, which would explain why no tests are being run ...)","title":"JUnit Tests not running in Eclipse","body":"<p>One possibility is that Eclipse's JUnit runner is confused by the presence of the <code>main</code> method and is running that rather than the test methods.</p>\n\n<p>Try commenting out the <code>main</code> method.  It shouldn't be there at all, IMO. </p>\n\n<p>(By the way, the main method doesn't look right to me.  I'd have thought it would instantiate a <code>TestSuite</code> with the unit test classes as parameters, but you seem to be giving it the class under test.  That won't have any \"test\" methods, which would explain why no tests are being run ...)</p>\n"},{"comments":[{"owner":{"account_id":5847095,"reputation":69,"user_id":4606907,"display_name":"Daniel"},"score":1,"creation_date":1657038871,"post_id":10774428,"comment_id":128712683,"body_markdown":"This solved my problem! Eclipse was trying to run a JUnit 4 with JUnit 5 by default.","body":"This solved my problem! Eclipse was trying to run a JUnit 4 with JUnit 5 by default."}],"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1338126316,"creation_date":1338126316,"answer_id":10774428,"question_id":10773979,"body_markdown":"Manually define the run behavior: Right click -&gt; Run As -&gt; **Run Configurations**:\r\n\r\nThen you could define the every details of the test case: test class, test methods, class path, junit version, JVM arguments, etc.","title":"JUnit Tests not running in Eclipse","body":"<p>Manually define the run behavior: Right click -> Run As -> <strong>Run Configurations</strong>:</p>\n\n<p>Then you could define the every details of the test case: test class, test methods, class path, junit version, JVM arguments, etc.</p>\n"},{"tags":[],"owner":{"account_id":1520816,"reputation":21,"user_id":1420523,"display_name":"toobee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338147376,"creation_date":1338147376,"answer_id":10776678,"question_id":10773979,"body_markdown":"Like already mentioned, remove the main method, might helpt. Any particular reason for extend from TestCase that is Juni3 if I remember correctly? Did you try Junit 4 by using @Test annotation \r\n\r\nfor instance:\r\n\r\n    @Test\r\n    public void testSomething() {\r\n         //you stuff\r\n    }","title":"JUnit Tests not running in Eclipse","body":"<p>Like already mentioned, remove the main method, might helpt. Any particular reason for extend from TestCase that is Juni3 if I remember correctly? Did you try Junit 4 by using @Test annotation </p>\n\n<p>for instance:</p>\n\n<pre><code>@Test\npublic void testSomething() {\n     //you stuff\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2925007,"reputation":3574,"user_id":2506522,"accept_rate":23,"display_name":"betontalpfa"},"score":0,"creation_date":1487160281,"post_id":12636191,"comment_id":71655797,"body_markdown":"I have seen the same, but when I set back 1.6 (and 1.8) it worked too. So revert back to 1.5 and then set it again to 1.6","body":"I have seen the same, but when I set back 1.6 (and 1.8) it worked too. So revert back to 1.5 and then set it again to 1.6"}],"tags":[],"owner":{"account_id":1717423,"reputation":53,"user_id":1574192,"display_name":"Sandhya"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348879362,"creation_date":1348820196,"answer_id":12636191,"question_id":10773979,"body_markdown":"Not sure if your problem is already solved.\r\n\r\nI had a similar issue which got solved when I corrected the `Project` **-&gt;** `Properties` **-&gt;** `Java Compiler` **-&gt;** `JDK Compliance settings`. \r\n\r\nI had a conflict between 1.5 and 1.6. When I reverted back to 1.5 (which was the current active JRE), my JUnits started working again.","title":"JUnit Tests not running in Eclipse","body":"<p>Not sure if your problem is already solved.</p>\n\n<p>I had a similar issue which got solved when I corrected the <code>Project</code> <strong>-></strong> <code>Properties</code> <strong>-></strong> <code>Java Compiler</code> <strong>-></strong> <code>JDK Compliance settings</code>. </p>\n\n<p>I had a conflict between 1.5 and 1.6. When I reverted back to 1.5 (which was the current active JRE), my JUnits started working again.</p>\n"},{"tags":[],"owner":{"account_id":9709,"reputation":1423,"user_id":18051,"accept_rate":64,"display_name":"Jeffrey LeCours"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386083538,"creation_date":1386083538,"answer_id":20354772,"question_id":10773979,"body_markdown":"When I saw no tests being run I opened the console and saw the following error:\r\n\r\n    java.lang.UnsupportedClassVersionError: junit/framework/Test (Unsupported major.minor version 49.0)\r\n       at java.lang.ClassLoader.defineClass0(Native Method)\r\n       at java.lang.ClassLoader.defineClass(Unknown Source)\r\n       at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n       at java.net.URLClassLoader.defineClass(Unknown Source)\r\n       at java.net.URLClassLoader.access$100(Unknown Source)\r\n       at java.net.URLClassLoader$1.run(Unknown Source)\r\n       at java.security.AccessController.doPrivileged(Native Method)\r\n       at java.net.URLClassLoader.findClass(Unknown Source)\r\n       at java.lang.ClassLoader.loadClass(Unknown Source)\r\n       at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n       at java.lang.ClassLoader.loadClass(Unknown Source)\r\n       at java.lang.ClassLoader.loadClassInternal(Unknown Source)\r\n       at java.lang.Class.forName0(Native Method)\r\n       at java.lang.Class.forName(Unknown Source)\r\n       at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadTestLoaderClass(RemoteTestRunner.java:328)\r\n       at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:318)\r\n       at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:313)\r\n       at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:291)\r\n       at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:212)\r\n       at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)\r\n\r\n\r\nAfter further investigation I realized that the junit framework I was using was built against a 1.6 jre and I was building my unit tests against a 1.3 jre. When I built my unit tests against 1.6 my tests ran.  Alternatively, I suppose I could have built (or found) junit against 1.3 and I could have been in good shape. I went the path of least resistance.","title":"JUnit Tests not running in Eclipse","body":"<p>When I saw no tests being run I opened the console and saw the following error:</p>\n\n<pre><code>java.lang.UnsupportedClassVersionError: junit/framework/Test (Unsupported major.minor version 49.0)\n   at java.lang.ClassLoader.defineClass0(Native Method)\n   at java.lang.ClassLoader.defineClass(Unknown Source)\n   at java.security.SecureClassLoader.defineClass(Unknown Source)\n   at java.net.URLClassLoader.defineClass(Unknown Source)\n   at java.net.URLClassLoader.access$100(Unknown Source)\n   at java.net.URLClassLoader$1.run(Unknown Source)\n   at java.security.AccessController.doPrivileged(Native Method)\n   at java.net.URLClassLoader.findClass(Unknown Source)\n   at java.lang.ClassLoader.loadClass(Unknown Source)\n   at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n   at java.lang.ClassLoader.loadClass(Unknown Source)\n   at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n   at java.lang.Class.forName0(Native Method)\n   at java.lang.Class.forName(Unknown Source)\n   at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadTestLoaderClass(RemoteTestRunner.java:328)\n   at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:318)\n   at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:313)\n   at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:291)\n   at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:212)\n   at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)\n</code></pre>\n\n<p>After further investigation I realized that the junit framework I was using was built against a 1.6 jre and I was building my unit tests against a 1.3 jre. When I built my unit tests against 1.6 my tests ran.  Alternatively, I suppose I could have built (or found) junit against 1.3 and I could have been in good shape. I went the path of least resistance.</p>\n"},{"tags":[],"owner":{"account_id":102164,"reputation":1904,"user_id":274414,"display_name":"David Mann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392740136,"creation_date":1392740136,"answer_id":21859342,"question_id":10773979,"body_markdown":"Happened to me when I had two jars of junit on the classpath. One jar was hidden inside selenium server standalone. I fixed the issue by removing the other jar from the classpath and letting the runtime use the junit jar in the selenium server standalone. I couldn&#39;t find any messages in the console about a class conflict or java version warning.","title":"JUnit Tests not running in Eclipse","body":"<p>Happened to me when I had two jars of junit on the classpath. One jar was hidden inside selenium server standalone. I fixed the issue by removing the other jar from the classpath and letting the runtime use the junit jar in the selenium server standalone. I couldn't find any messages in the console about a class conflict or java version warning.</p>\n"},{"tags":[],"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422903386,"creation_date":1422903386,"answer_id":28284746,"question_id":10773979,"body_markdown":"In my case was that I had done a refactoring and the .classpath was not updated and the console was showing an error about invalid class. After updating the classpath file, everything started to work again. ","title":"JUnit Tests not running in Eclipse","body":"<p>In my case was that I had done a refactoring and the .classpath was not updated and the console was showing an error about invalid class. After updating the classpath file, everything started to work again. </p>\n"},{"tags":[],"owner":{"account_id":4134829,"reputation":21,"user_id":3391699,"display_name":"user3391699"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431945928,"creation_date":1431945928,"answer_id":30301142,"question_id":10773979,"body_markdown":"Not sure if this helps, but in my case the I had to update my project configuration Maven-&gt;update Project configuration before Junit finally started responding","title":"JUnit Tests not running in Eclipse","body":"<p>Not sure if this helps, but in my case the I had to update my project configuration Maven->update Project configuration before Junit finally started responding</p>\n"},{"tags":[],"owner":{"account_id":6965619,"reputation":99,"user_id":5343761,"display_name":"Andy Talkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444534923,"creation_date":1444534923,"answer_id":33061285,"question_id":10773979,"body_markdown":"In my case I was using an inner class which was not being identified as  eligible for tests. The fix was to make that class a static inner class like this:\r\n\r\n    public class MyClass { //... class I wanted to test\r\n    }\r\n\r\nThis inner class (i.e. in the same file) is used for testing MyClass - but eclipse does not found it ... unless it is static.\r\n\r\n    public static class MyClassTest  { // ....\r\n    }\r\n","title":"JUnit Tests not running in Eclipse","body":"<p>In my case I was using an inner class which was not being identified as  eligible for tests. The fix was to make that class a static inner class like this:</p>\n\n<pre><code>public class MyClass { //... class I wanted to test\n}\n</code></pre>\n\n<p>This inner class (i.e. in the same file) is used for testing MyClass - but eclipse does not found it ... unless it is static.</p>\n\n<pre><code>public static class MyClassTest  { // ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":437572,"reputation":380,"user_id":825348,"accept_rate":60,"display_name":"davo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515087641,"creation_date":1515087641,"answer_id":48100724,"question_id":10773979,"body_markdown":"Make sure you don&#39;t have another process blocking execution. In my case, building workspace was sleeping, blocking all junit execution.","title":"JUnit Tests not running in Eclipse","body":"<p>Make sure you don't have another process blocking execution. In my case, building workspace was sleeping, blocking all junit execution.</p>\n"},{"comments":[{"owner":{"account_id":5682380,"reputation":447,"user_id":4493060,"accept_rate":100,"display_name":"Benyam Ephrem"},"score":0,"creation_date":1580940046,"post_id":57697127,"comment_id":106267496,"body_markdown":"Thanks! I Added it to my Module Path and had no idea what was going on","body":"Thanks! I Added it to my Module Path and had no idea what was going on"}],"tags":[],"owner":{"account_id":15495233,"reputation":21,"user_id":11178332,"display_name":"Sarita Hedaya"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567012051,"creation_date":1567012051,"answer_id":57697127,"question_id":10773979,"body_markdown":"I had the same problem when first added the junit jar file to the build path. \r\nMake sure youre adding the junit.jar file to the Java Build Path -&gt; Classpath section, rather than modulepath section","title":"JUnit Tests not running in Eclipse","body":"<p>I had the same problem when first added the junit jar file to the build path. \nMake sure youre adding the junit.jar file to the Java Build Path -> Classpath section, rather than modulepath section</p>\n"},{"tags":[],"owner":{"account_id":17848050,"reputation":21,"user_id":14533848,"display_name":"Aug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612942329,"creation_date":1612942329,"answer_id":66132613,"question_id":10773979,"body_markdown":"Please check your bottom area &#39;Progress&#39; tab to see if there are any missing project dependencies when trying to run your JUnit test.  That was my issue.","title":"JUnit Tests not running in Eclipse","body":"<p>Please check your bottom area 'Progress' tab to see if there are any missing project dependencies when trying to run your JUnit test.  That was my issue.</p>\n"},{"tags":[],"owner":{"account_id":1089981,"reputation":6557,"user_id":1084813,"accept_rate":87,"display_name":"JohnEye"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1616456121,"creation_date":1616456121,"answer_id":66755249,"question_id":10773979,"body_markdown":"In my case it was because Eclipse started using JUnit 5 as the test runner. I resolved the issue by going to Run Configuration and selecting the older test runner:\r\n[![test config][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OU8JI.png","title":"JUnit Tests not running in Eclipse","body":"<p>In my case it was because Eclipse started using JUnit 5 as the test runner. I resolved the issue by going to Run Configuration and selecting the older test runner:\n<a href=\"https://i.stack.imgur.com/OU8JI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OU8JI.png\" alt=\"test config\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10729778,"reputation":166,"user_id":7896247,"display_name":"scae2201"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1634564834,"creation_date":1634564834,"answer_id":69617250,"question_id":10773979,"body_markdown":"My case is different but I got the same junit error. \r\nI had conflicts in junit dependences using:\r\n\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHaving this, you have to use \r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\ninstead of\r\n\r\n    import org.junit.Test;","title":"JUnit Tests not running in Eclipse","body":"<p>My case is different but I got the same junit error.\nI had conflicts in junit dependences using:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Having this, you have to use</p>\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n<p>instead of</p>\n<pre><code>import org.junit.Test;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658309785,"creation_date":1658309785,"answer_id":73049220,"question_id":10773979,"body_markdown":"I was having an issue with my test cases too until I realized am not using the right dependencies. Please try checking the test dependencies you&#39;re using. Moreso, you cannot add mockito dependency to test a J unit case. That&#39;s a disaster.","title":"JUnit Tests not running in Eclipse","body":"<p>I was having an issue with my test cases too until I realized am not using the right dependencies. Please try checking the test dependencies you're using. Moreso, you cannot add mockito dependency to test a J unit case. That's a disaster.</p>\n"},{"tags":[],"owner":{"account_id":16373826,"reputation":157,"user_id":11826481,"display_name":"Utkarsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659685241,"creation_date":1659685241,"answer_id":73246299,"question_id":10773979,"body_markdown":"I was using wrong @Test, try importing @Test from `org.junit.jupiter.api.Test`.","title":"JUnit Tests not running in Eclipse","body":"<p>I was using wrong @Test, try importing @Test from <code>org.junit.jupiter.api.Test</code>.</p>\n"},{"tags":[],"owner":{"account_id":27395217,"reputation":1,"user_id":20897538,"display_name":"Steve Hickman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672449346,"creation_date":1672449346,"answer_id":74966987,"question_id":10773979,"body_markdown":"My problem was with my VPN. I have to turn off my VPN whenever I use Debug. But apparently, it also needs to be turned off when running JUnit tests, whether in &#39;Run&#39; or &#39;Debug&#39; mode.","title":"JUnit Tests not running in Eclipse","body":"<p>My problem was with my VPN. I have to turn off my VPN whenever I use Debug. But apparently, it also needs to be turned off when running JUnit tests, whether in 'Run' or 'Debug' mode.</p>\n"},{"tags":[],"owner":{"account_id":21347392,"reputation":95,"user_id":15717256,"display_name":"Ems"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699436186,"creation_date":1699436186,"answer_id":77444338,"question_id":10773979,"body_markdown":"This may sound silly, but have you checked that Eclipse isn&#39;t running any other process in the background?\r\nIn my case, the tests were waiting for another process to complete.\r\nYou can check this in the Progress tab in the Java EE view.\r\n[![Progress tab in Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kGd4z.png\r\n\r\nI hope it helps!","title":"JUnit Tests not running in Eclipse","body":"<p>This may sound silly, but have you checked that Eclipse isn't running any other process in the background?\nIn my case, the tests were waiting for another process to complete.\nYou can check this in the Progress tab in the Java EE view.\n<a href=\"https://i.stack.imgur.com/kGd4z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kGd4z.png\" alt=\"Progress tab in Eclipse\" /></a></p>\n<p>I hope it helps!</p>\n"}],"owner":{"display_name":"user290043"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82032,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":18,"score":17,"last_activity_date":1699436186,"creation_date":1338121706,"question_id":10773979,"body_markdown":"This is a snapshot of the eclipse editor. You can see the test and the JUnit tab. When I try to run the test, it says Terminated.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nohv4.jpg\r\n\r\nAnybody know what is going on here?","title":"JUnit Tests not running in Eclipse","body":"<p>This is a snapshot of the eclipse editor. You can see the test and the JUnit tab. When I try to run the test, it says Terminated.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nohv4.jpg\" alt=\"enter image description here\"></p>\n\n<p>Anybody know what is going on here?</p>\n"},{"tags":["java","inheritance","polymorphism","field","member-hiding"],"comments":[{"owner":{"account_id":1218035,"reputation":11052,"user_id":1185254,"accept_rate":90,"display_name":"alex"},"score":1,"creation_date":1346662599,"post_id":12244670,"comment_id":16416730,"body_markdown":"[Oracle Tutorial](http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html) on hiding variables.","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a> on hiding variables."},{"owner":{"account_id":355311,"reputation":9089,"user_id":694195,"accept_rate":66,"display_name":"jsj"},"score":2,"creation_date":1346663606,"post_id":12244670,"comment_id":16413129,"body_markdown":"A son is not a type of father","body":"A son is not a type of father"},{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":3,"creation_date":1480524183,"post_id":12244670,"comment_id":69001245,"body_markdown":"I don&#39;t see how this question is &quot;too localized&quot;... :D","body":"I don&#39;t see how this question is &quot;too localized&quot;... :D"}],"answers":[{"comments":[{"owner":{"account_id":3291773,"reputation":3668,"user_id":2769917,"accept_rate":65,"display_name":"Asif Mushtaq"},"score":2,"creation_date":1458932375,"post_id":12244906,"comment_id":60083496,"body_markdown":"Just in java? any other language provide polymorphism on fields?","body":"Just in java? any other language provide polymorphism on fields?"}],"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1699436103,"creation_date":1346663232,"answer_id":12244906,"question_id":12244670,"body_markdown":"In Java, fields are not polymorphic.\r\n\r\n    Father father = new Son();\r\n    System.out.println(father.i); //why 1? Ans : reference is of type father, so 1 (fields are not polymorphic)\r\n    System.out.println(father.getI());  //2 : overridden method called\r\n    System.out.println(father.j);  //why 10? Ans : reference is of type father, so 2\r\n    System.out.println(father.getJ()); //why 10? there is not overridden getJ() method in Son class, so father.getJ() is called\r\n\r\n    System.out.println();\r\n\r\n    // same explanation as above for following \r\n    Son son = new Son();\r\n    System.out.println(son.i);  //2 \r\n    System.out.println(son.getI()); //2\r\n    System.out.println(son.j); //20\r\n    System.out.println(son.getJ()); //why 10?","title":"Hiding Fields in Java Inheritance","body":"<p>In Java, fields are not polymorphic.</p>\n<pre><code>Father father = new Son();\nSystem.out.println(father.i); //why 1? Ans : reference is of type father, so 1 (fields are not polymorphic)\nSystem.out.println(father.getI());  //2 : overridden method called\nSystem.out.println(father.j);  //why 10? Ans : reference is of type father, so 2\nSystem.out.println(father.getJ()); //why 10? there is not overridden getJ() method in Son class, so father.getJ() is called\n\nSystem.out.println();\n\n// same explanation as above for following \nSon son = new Son();\nSystem.out.println(son.i);  //2 \nSystem.out.println(son.getI()); //2\nSystem.out.println(son.j); //20\nSystem.out.println(son.getJ()); //why 10?\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1661144822,"post_id":12245012,"comment_id":129693044,"body_markdown":"I am sorry, but this is not true. The original source has been misquoted. Your quotation is specifically in reference to `static` methods, not general methods. Please note the original source wording, as follows. (1) &quot;The version of the overridden instance method that gets invoked is the one in the subclass.&quot;  (2) &quot;The version of the hidden static method that gets invoked depends on whether it is invoked from the superclass or the subclass.&quot;","body":"I am sorry, but this is not true. The original source has been misquoted. Your quotation is specifically in reference to <code>static</code> methods, not general methods. Please note the original source wording, as follows. (1) &quot;The version of the overridden instance method that gets invoked is the one in the subclass.&quot;  (2) &quot;The version of the hidden static method that gets invoked depends on whether it is invoked from the superclass or the subclass.&quot;"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1661145015,"post_id":12245012,"comment_id":129693068,"body_markdown":"So, in essence, if you invoke a method that is overridden in the subclass, via the superclass reference, the SUBCLASS method version is invoked... NOT the superclass method as you implied.","body":"So, in essence, if you invoke a method that is overridden in the subclass, via the superclass reference, the SUBCLASS method version is invoked... NOT the superclass method as you implied."}],"tags":[],"owner":{"account_id":62237,"reputation":14043,"user_id":185041,"accept_rate":87,"display_name":"Bharat Sinha"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1510502538,"creation_date":1346663724,"answer_id":12245012,"question_id":12244670,"body_markdown":"As per [Overriding and Hiding Methods][1]\r\n\r\n&gt;The version of the hidden method that gets invoked depends on whether it is invoked from the superclass or the subclass.\r\n\r\n*i.e. when you invoke a method which is overridden in subclass via a super class reference the super class method is invoked and it access super class members.*\r\n\r\nThis explains following as the reference used is of superclass:\r\n\r\n    System.out.println(father.i);  //why 1?\r\n    System.out.println(father.j);  //why 10?\r\n    System.out.println(father.getJ()); //why 10?\r\n\r\nSimilarly for the following:\r\n\r\n    System.out.println(son.getJ()); //why 10?\r\n\r\nsince `getJ()` is not defined in `Son` a `Father` version is invoked which sees member defined in the `Father` class.\r\n\r\nIf you read [Hiding Fields][2]; they specifically don&#39;t recommend such method of coding as\r\n&gt; Generally speaking, we don&#39;t recommend hiding fields as it makes code difficult to read.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/IandI/override.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html","title":"Hiding Fields in Java Inheritance","body":"<p>As per <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow noreferrer\">Overriding and Hiding Methods</a></p>\n\n<blockquote>\n  <p>The version of the hidden method that gets invoked depends on whether it is invoked from the superclass or the subclass.</p>\n</blockquote>\n\n<p><em>i.e. when you invoke a method which is overridden in subclass via a super class reference the super class method is invoked and it access super class members.</em></p>\n\n<p>This explains following as the reference used is of superclass:</p>\n\n<pre><code>System.out.println(father.i);  //why 1?\nSystem.out.println(father.j);  //why 10?\nSystem.out.println(father.getJ()); //why 10?\n</code></pre>\n\n<p>Similarly for the following:</p>\n\n<pre><code>System.out.println(son.getJ()); //why 10?\n</code></pre>\n\n<p>since <code>getJ()</code> is not defined in <code>Son</code> a <code>Father</code> version is invoked which sees member defined in the <code>Father</code> class.</p>\n\n<p>If you read <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\" rel=\"nofollow noreferrer\">Hiding Fields</a>; they specifically don't recommend such method of coding as</p>\n\n<blockquote>\n  <p>Generally speaking, we don't recommend hiding fields as it makes code difficult to read.</p>\n</blockquote>\n"}],"owner":{"account_id":1796566,"reputation":929,"user_id":1635855,"accept_rate":83,"display_name":"Wuaner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9319,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":12244906,"answer_count":2,"score":17,"last_activity_date":1699436103,"creation_date":1346662232,"question_id":12244670,"body_markdown":"Within a class, a field that has the same name as a field in the superclass hides the superclass&#39;s field.\r\n\r\n    public class Test {\r\n\t\r\n        public static void main(String[] args) {\r\n\t\t\r\n            Father father = new Son();\r\n            System.out.println(father.i); //why 1?\r\n            System.out.println(father.getI());  //2\r\n            System.out.println(father.j);  //why 10?\r\n            System.out.println(father.getJ()); //why 10?\r\n\t\t\r\n            System.out.println();\r\n\t\t\r\n            Son son = new Son();\r\n            System.out.println(son.i);  //2 \r\n            System.out.println(son.getI()); //2\r\n            System.out.println(son.j); //20\r\n            System.out.println(son.getJ()); //why 10?\r\n        }  \r\n    }\r\n\r\n    class Son extends Father {\r\n\t\r\n        int i = 2;\r\n        int j = 20;\r\n\t\r\n        @Override\r\n        public int getI() {\r\n            return i;\r\n        }\r\n    }\r\n\r\n    class Father {\r\n\t\r\n        int i = 1;\r\n        int j = 10;\r\n\t\r\n        public int getI() {\r\n            return i;\r\n        }\r\n\t\r\n        public int getJ() {\r\n            return j;\r\n        }\r\n    }\r\n\r\n\r\nCan someone explain the results for me?","title":"Hiding Fields in Java Inheritance","body":"<p>Within a class, a field that has the same name as a field in the superclass hides the superclass's field.</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        Father father = new Son();\n        System.out.println(father.i); //why 1?\n        System.out.println(father.getI());  //2\n        System.out.println(father.j);  //why 10?\n        System.out.println(father.getJ()); //why 10?\n\n        System.out.println();\n\n        Son son = new Son();\n        System.out.println(son.i);  //2 \n        System.out.println(son.getI()); //2\n        System.out.println(son.j); //20\n        System.out.println(son.getJ()); //why 10?\n    }  \n}\n\nclass Son extends Father {\n\n    int i = 2;\n    int j = 20;\n\n    @Override\n    public int getI() {\n        return i;\n    }\n}\n\nclass Father {\n\n    int i = 1;\n    int j = 10;\n\n    public int getI() {\n        return i;\n    }\n\n    public int getJ() {\n        return j;\n    }\n}\n</code></pre>\n\n<p>Can someone explain the results for me?</p>\n"},{"tags":["java","git","intellij-idea","version-control","dvcs"],"comments":[{"owner":{"account_id":7633620,"reputation":193,"user_id":5787841,"display_name":"Vikas Jilla"},"score":0,"creation_date":1666787432,"post_id":29140357,"comment_id":131017814,"body_markdown":"For me the branch name was long, I just had to expand the left window to make shelf tab visible :)","body":"For me the branch name was long, I just had to expand the left window to make shelf tab visible :)"}],"answers":[{"tags":[],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1426761035,"creation_date":1426761035,"answer_id":29142177,"question_id":29140357,"body_markdown":"The answer to the\r\n\r\n&gt; How can I make IntelliJ aware of the patch file in the change tool\r\n&gt; window ?\r\n\r\nquestion was :\r\n\r\n 1. Create a bogus shelved change so that the &quot;shelf&quot; tab is available. It will not show if there are currently no shelved changes.\r\n\r\n 2. Right click in the &quot;shelf&quot; tab, select &quot;import patch file&quot;, pick the previously create patch file. This creates the &quot;shelf&quot;\r\n\r\n 3. You can now &quot;unshelf&quot; the changes normally\r\n\r\nFinally, I had to manually merge the workspace.xml file. After this, I think I will think about stopping to commit IDE project files to VCS. At least when it is a trivial task to recreate the IDE project from e.g. a checked out Maven project.\r\n\r\n\r\n","title":"How to restore shelved changes in Intellij when the shelf tab is not shown?","body":"<p>The answer to the</p>\n\n<blockquote>\n  <p>How can I make IntelliJ aware of the patch file in the change tool\n  window ?</p>\n</blockquote>\n\n<p>question was :</p>\n\n<ol>\n<li><p>Create a bogus shelved change so that the \"shelf\" tab is available. It will not show if there are currently no shelved changes.</p></li>\n<li><p>Right click in the \"shelf\" tab, select \"import patch file\", pick the previously create patch file. This creates the \"shelf\"</p></li>\n<li><p>You can now \"unshelf\" the changes normally</p></li>\n</ol>\n\n<p>Finally, I had to manually merge the workspace.xml file. After this, I think I will think about stopping to commit IDE project files to VCS. At least when it is a trivial task to recreate the IDE project from e.g. a checked out Maven project.</p>\n"},{"tags":[],"owner":{"account_id":1509702,"reputation":6093,"user_id":2753596,"accept_rate":81,"display_name":"Maksim Luzik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580734237,"creation_date":1580734237,"answer_id":60039610,"question_id":29140357,"body_markdown":"I had similar issues, but shelving bogus changes did not help (was using WebStorm, but the underlaying IDE is the same). The shelf window did not show up no matter what I did. Even though the shelved changes were created in the `.idea/shelf` folder. What actually in the end helped was moving/deleting `.idea` folder under the project completely (good to backup before deletion). And restarting JetBrains IDE.","title":"How to restore shelved changes in Intellij when the shelf tab is not shown?","body":"<p>I had similar issues, but shelving bogus changes did not help (was using WebStorm, but the underlaying IDE is the same). The shelf window did not show up no matter what I did. Even though the shelved changes were created in the <code>.idea/shelf</code> folder. What actually in the end helped was moving/deleting <code>.idea</code> folder under the project completely (good to backup before deletion). And restarting JetBrains IDE.</p>\n"},{"tags":[],"owner":{"account_id":1853541,"reputation":965,"user_id":1679571,"accept_rate":60,"display_name":"Randy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645149341,"creation_date":1645149341,"answer_id":71167546,"question_id":29140357,"body_markdown":"If you are ever lose the Shelf tab in a Jetbrains IDE, you may have shelved too large of a file (a 1.81 GB .patch in my case). You can view all of your patches in the Jetbrains shelf by going to:\r\n&lt;project&gt;/.idea/shelf\r\n\r\nDelete the really large patch file and restart the IDEA and the Shelf tab reappears on the Git area [![Shelf Tab][1]][1].\r\n\r\nIf you don&#39;t see your .idea folder in your IDE, follow these steps:\r\n1. Help &gt; Find Action...\r\n2. Search &quot;Registry&quot; and click the found action [![See attached screenshot][2]][2]\r\n3. In the Registry search &quot;dot.idea&quot; and uncheck the checkbox in the Value column for the projectView.hide.dot.idea Key [![See other screenshot][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hTJoj.png\r\n  [2]: https://i.stack.imgur.com/Vik2V.png\r\n  [3]: https://i.stack.imgur.com/VVWzT.png","title":"How to restore shelved changes in Intellij when the shelf tab is not shown?","body":"<p>If you are ever lose the Shelf tab in a Jetbrains IDE, you may have shelved too large of a file (a 1.81 GB .patch in my case). You can view all of your patches in the Jetbrains shelf by going to:\n/.idea/shelf</p>\n<p>Delete the really large patch file and restart the IDEA and the Shelf tab reappears on the Git area <a href=\"https://i.stack.imgur.com/hTJoj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTJoj.png\" alt=\"Shelf Tab\" /></a>.</p>\n<p>If you don't see your .idea folder in your IDE, follow these steps:</p>\n<ol>\n<li>Help &gt; Find Action...</li>\n<li>Search &quot;Registry&quot; and click the found action <a href=\"https://i.stack.imgur.com/Vik2V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vik2V.png\" alt=\"See attached screenshot\" /></a></li>\n<li>In the Registry search &quot;dot.idea&quot; and uncheck the checkbox in the Value column for the projectView.hide.dot.idea Key <a href=\"https://i.stack.imgur.com/VVWzT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VVWzT.png\" alt=\"See other screenshot\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7719158,"reputation":226,"user_id":5845898,"display_name":"kirbby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666770443,"creation_date":1666770443,"answer_id":74204318,"question_id":29140357,"body_markdown":"For anyone (like me) still running into this issue:\r\n\r\nThe shelf tab is most likely there, but not displayed due to the width of the commit tab.\r\n\r\nIn the top right of the commit tab there are 3 icons:\r\n- arrow down\r\n- cogwheel\r\n- minimize\r\n\r\nOn the ARROW DOWN you see all the &quot;hidden&quot; tabs, which includes the tab &quot;Shelf&quot; for me.\r\nOr you make the commit tab wider then you should also see the tabs at the top.","title":"How to restore shelved changes in Intellij when the shelf tab is not shown?","body":"<p>For anyone (like me) still running into this issue:</p>\n<p>The shelf tab is most likely there, but not displayed due to the width of the commit tab.</p>\n<p>In the top right of the commit tab there are 3 icons:</p>\n<ul>\n<li>arrow down</li>\n<li>cogwheel</li>\n<li>minimize</li>\n</ul>\n<p>On the ARROW DOWN you see all the &quot;hidden&quot; tabs, which includes the tab &quot;Shelf&quot; for me.\nOr you make the commit tab wider then you should also see the tabs at the top.</p>\n"},{"tags":[],"owner":{"account_id":29853675,"reputation":1,"user_id":22878983,"display_name":"Chakravarthy Bevara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699436094,"creation_date":1699436041,"answer_id":77444317,"question_id":29140357,"body_markdown":"Click here(down arrow-&gt;shelf) and do unshelve the required stash from the list and now they revert back to commit tab \r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K1r8E.png","title":"How to restore shelved changes in Intellij when the shelf tab is not shown?","body":"<p>Click here(down arrow-&gt;shelf) and do unshelve the required stash from the list and now they revert back to commit tab</p>\n<p><img src=\"https://i.stack.imgur.com/K1r8E.png\" alt=\"Screenshot\" /></p>\n"}],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10847,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1699436094,"creation_date":1426755386,"question_id":29140357,"body_markdown":"I tried to use the &quot;shelf&quot; feature for the first time in IntelliJ IDEA today. I shelved all my current changes so that I could work on a quick bugfix, commit it, and come back to my current work afterwards. \r\n\r\nWhen I commited the &quot;shelf&quot; action, IntelliJ created the shelf and I could see it in the tool window. Then it reverted, and reloaded the project. \r\n\r\nNow the *shelf* tab in the Changes tool window does not appear any more.\r\n\r\nHowever in the file system I can see the patch file under `.idea/shelf`.\r\n\r\nWhy ? I suspect the problem is that the `.idea` directory is itself under version control. So when I shelved the changes, it file was included in the shelved changes, and then it was reverted, and IntelliJ is not aware of the shelved changes any more.\r\n\r\nI am using Git.\r\n\r\nHow can I make IntelliJ aware of the patch file in the change tool window ? Or if impossible how can I restore these changes based on the patch file only ?\r\n\r\nAnd how to use this feature in the future without encountering this problem ?\r\n\r\nIs it a bad practice to keep the `.idea` directory in te VCS ?","title":"How to restore shelved changes in Intellij when the shelf tab is not shown?","body":"<p>I tried to use the \"shelf\" feature for the first time in IntelliJ IDEA today. I shelved all my current changes so that I could work on a quick bugfix, commit it, and come back to my current work afterwards. </p>\n\n<p>When I commited the \"shelf\" action, IntelliJ created the shelf and I could see it in the tool window. Then it reverted, and reloaded the project. </p>\n\n<p>Now the <em>shelf</em> tab in the Changes tool window does not appear any more.</p>\n\n<p>However in the file system I can see the patch file under <code>.idea/shelf</code>.</p>\n\n<p>Why ? I suspect the problem is that the <code>.idea</code> directory is itself under version control. So when I shelved the changes, it file was included in the shelved changes, and then it was reverted, and IntelliJ is not aware of the shelved changes any more.</p>\n\n<p>I am using Git.</p>\n\n<p>How can I make IntelliJ aware of the patch file in the change tool window ? Or if impossible how can I restore these changes based on the patch file only ?</p>\n\n<p>And how to use this feature in the future without encountering this problem ?</p>\n\n<p>Is it a bad practice to keep the <code>.idea</code> directory in te VCS ?</p>\n"},{"tags":["java","scala","apache-spark","hadoop"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1639483893,"post_id":70347815,"comment_id":124354996,"body_markdown":"Can you describe your remote test environment? Cloud? Remember that the workers try to load the file, is it available to them?","body":"Can you describe your remote test environment? Cloud? Remember that the workers try to load the file, is it available to them?"},{"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"score":0,"creation_date":1639497211,"post_id":70347815,"comment_id":124360674,"body_markdown":"@jgp sorry but I haven&#39;t details about the remote environment because it is the Coursera online lab used for the assignments.","body":"@jgp sorry but I haven&#39;t details about the remote environment because it is the Coursera online lab used for the assignments."},{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1639525194,"post_id":70347815,"comment_id":124369783,"body_markdown":"I think your issue is with the path nevertheless…  is it an old course? RDDs are so 2018 :)","body":"I think your issue is with the path nevertheless…  is it an old course? RDDs are so 2018 :)"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1639527354,"post_id":70347815,"comment_id":124370200,"body_markdown":"`src/main` does not exist in your JAR or after the code compiles. There is a class called `SparkFiles`, I believe, which you should be using here.","body":"<code>src&#47;main</code> does not exist in your JAR or after the code compiles. There is a class called <code>SparkFiles</code>, I believe, which you should be using here."},{"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"score":0,"creation_date":1639556657,"post_id":70347815,"comment_id":124376126,"body_markdown":"@jgp maybe yes :) this is the course: https://www.coursera.org/learn/scala-spark-big-data","body":"@jgp maybe yes :) this is the course: <a href=\"https://www.coursera.org/learn/scala-spark-big-data\" rel=\"nofollow noreferrer\">coursera.org/learn/scala-spark-big-data</a>"},{"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"score":1,"creation_date":1639557380,"post_id":70347815,"comment_id":124376341,"body_markdown":"@OneCricketeer Thanks for your time, I found a solution. I leave a comment below :)","body":"@OneCricketeer Thanks for your time, I found a solution. I leave a comment below :)"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1639575971,"post_id":70360651,"comment_id":124383522,"body_markdown":"Depending on the size of the file, it&#39;s preferred to send it with `spark-submit ...  --files` rather than as part of the JAR","body":"Depending on the size of the file, it&#39;s preferred to send it with <code>spark-submit ...  --files</code> rather than as part of the JAR"}],"tags":[],"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639557843,"creation_date":1639557843,"answer_id":70360651,"question_id":70347815,"body_markdown":"The problem was using `getResource` and `textFile`, I had to use a combination of `getResourceAsStream` and `sc.parallelize` as follow:\r\n\r\n```scala\r\ndef lines: List[String] = {\r\n    Option(getClass.getResourceAsStream(&quot;/dataset/dataset.dat&quot;)) match {\r\n      case None =&gt; sys.error(&quot;Please download the dataset as explained in the assignment instructions&quot;)\r\n      case Some(resource) =&gt; Source.fromInputStream(resource).getLines().toList\r\n    }\r\n  }\r\n```\r\n\r\nand parse as Spark RDD of dataset objects\r\n```scala\r\nval dsRdd: RDD[DatasetObject] = sc.parallelize(lines).map(line =&gt; DatasetData.parse(line))\r\n```","title":"java.net.URISyntaxException: Relative path in absolute URI","body":"<p>The problem was using <code>getResource</code> and <code>textFile</code>, I had to use a combination of <code>getResourceAsStream</code> and <code>sc.parallelize</code> as follow:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def lines: List[String] = {\n    Option(getClass.getResourceAsStream(&quot;/dataset/dataset.dat&quot;)) match {\n      case None =&gt; sys.error(&quot;Please download the dataset as explained in the assignment instructions&quot;)\n      case Some(resource) =&gt; Source.fromInputStream(resource).getLines().toList\n    }\n  }\n</code></pre>\n<p>and parse as Spark RDD of dataset objects</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val dsRdd: RDD[DatasetObject] = sc.parallelize(lines).map(line =&gt; DatasetData.parse(line))\n</code></pre>\n"}],"owner":{"account_id":4176385,"reputation":2149,"user_id":3422795,"display_name":"Lorenzo D&#39;Isidoro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2887,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699436070,"creation_date":1639479815,"question_id":70347815,"body_markdown":"I need to read a file stored in my project&#39;s resources, the directory is `src/main/resources/dataset/dataset.dat`.\r\nI&#39;m using the following lines of Scala code to read a text file from HDFS and parse as Spark RDD of dataset objects:\r\n```scala\r\n// init Spark context\r\nval conf: SparkConf = new SparkConf().setAppName(&quot;mydataset&quot;).setMaster(&quot;local&quot;)\r\nval sc: SparkContext = new SparkContext(conf)\r\n\r\n// read dat file\r\nval resource = this.getClass.getClassLoader.getResource(&quot;dataset/dataset.dat&quot;)\r\nval dsRdd: RDD[DatasetObject] = sc.textFile(resource.toString(), 1).map(line =&gt; DatasetData.parse(line))\r\n```\r\n\r\nbut the following error occurred:\r\n```\r\nclass java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: jar:file:/grader/grader.jar!/dataset/dataset.dat\r\njava.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: jar:file:/grader/grader.jar!/dataset/dataset.dat\r\n```\r\n\r\nI tried to read the file in another way but the error keeps occurring:\r\n```\r\nval dsRdd: RDD[DatasetObject] = sc.textFile(&quot;src/main/resources/dataset/dataset.dat&quot;).map(line =&gt; DatasetData.parse(line))\r\n```\r\n\r\n**Important:** Unit tests are successfully run locally, the problem occurs on the remote test environment.","title":"java.net.URISyntaxException: Relative path in absolute URI","body":"<p>I need to read a file stored in my project's resources, the directory is <code>src/main/resources/dataset/dataset.dat</code>.\nI'm using the following lines of Scala code to read a text file from HDFS and parse as Spark RDD of dataset objects:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>// init Spark context\nval conf: SparkConf = new SparkConf().setAppName(&quot;mydataset&quot;).setMaster(&quot;local&quot;)\nval sc: SparkContext = new SparkContext(conf)\n\n// read dat file\nval resource = this.getClass.getClassLoader.getResource(&quot;dataset/dataset.dat&quot;)\nval dsRdd: RDD[DatasetObject] = sc.textFile(resource.toString(), 1).map(line =&gt; DatasetData.parse(line))\n</code></pre>\n<p>but the following error occurred:</p>\n<pre><code>class java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: jar:file:/grader/grader.jar!/dataset/dataset.dat\njava.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: jar:file:/grader/grader.jar!/dataset/dataset.dat\n</code></pre>\n<p>I tried to read the file in another way but the error keeps occurring:</p>\n<pre><code>val dsRdd: RDD[DatasetObject] = sc.textFile(&quot;src/main/resources/dataset/dataset.dat&quot;).map(line =&gt; DatasetData.parse(line))\n</code></pre>\n<p><strong>Important:</strong> Unit tests are successfully run locally, the problem occurs on the remote test environment.</p>\n"},{"tags":["java","spring-boot","asynchronous","apache-kafka"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1699435960,"post_id":77444150,"comment_id":136529962,"body_markdown":"In my opinion in this case you have to do it with `Saga design pattern`. The Saga design pattern is a way to manage data consistency across microservices in distributed transaction scenarios.","body":"In my opinion in this case you have to do it with <code>Saga design pattern</code>. The Saga design pattern is a way to manage data consistency across microservices in distributed transaction scenarios."}],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699435057,"creation_date":1699434577,"question_id":77444150,"body_markdown":"I have a java, springboot project where I am using Kafka for asynchronous communication. have a Kafka producer, which executes some logic and saves the record to the db. Then, it raises an event which is consumed by a consumer which in turn indexes the record on the elastic search. \r\n\r\nBut, if some exception occurs while indexing, there will be inconsistency between the data in db and elastic search.\r\n\r\nIs there a way given by KAFKA to maintain data consistency in these scenarios? Or, do I need to devise a way myself?\r\n\r\nWent through the kafka documentation but could not find anything helpful. ","title":"Maintain data consistency between producer and consumer in KAFKA","body":"<p>I have a java, springboot project where I am using Kafka for asynchronous communication. have a Kafka producer, which executes some logic and saves the record to the db. Then, it raises an event which is consumed by a consumer which in turn indexes the record on the elastic search.</p>\n<p>But, if some exception occurs while indexing, there will be inconsistency between the data in db and elastic search.</p>\n<p>Is there a way given by KAFKA to maintain data consistency in these scenarios? Or, do I need to devise a way myself?</p>\n<p>Went through the kafka documentation but could not find anything helpful.</p>\n"},{"tags":["java","c","java-native-interface","byte"],"answers":[{"comments":[{"owner":{"account_id":338061,"reputation":606,"user_id":666698,"accept_rate":69,"display_name":"Kyborg2011"},"score":0,"creation_date":1307549926,"post_id":6278080,"comment_id":7333474,"body_markdown":"Is there a function to copy the contrary PART of jbyte to jbyteArray?","body":"Is there a function to copy the contrary PART of jbyte to jbyteArray?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1307616265,"post_id":6278080,"comment_id":7347206,"body_markdown":"@Kyborg2011: yes, Set&lt;PrimitiveType&gt;ArrayRegion(). It&#39;s the next API in the JNI specification after Get&lt;PrimitiveType&gt;ArrayRegion().","body":"@Kyborg2011: yes, Set&lt;PrimitiveType&gt;ArrayRegion(). It&#39;s the next API in the JNI specification after Get&lt;PrimitiveType&gt;ArrayRegion()."},{"owner":{"account_id":1770942,"reputation":1061,"user_id":1615721,"accept_rate":67,"display_name":"cnvzmxcvmcx"},"score":0,"creation_date":1437093363,"post_id":6278080,"comment_id":50899536,"body_markdown":"Adding link to documentation: https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html","body":"Adding link to documentation: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/&hellip;</a>"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1699434311,"creation_date":1307532827,"answer_id":6278080,"question_id":6277572,"body_markdown":"`Get &lt;PrimitiveTypeArray&gt;ArrayRegion` is a family of functions that copies a region of a primitive array into a buffer. That&#39;s what the documentation says. It seems clear to me.","title":"GetByteArrayRegion in JNI","body":"<p><code>Get &lt;PrimitiveTypeArray&gt;ArrayRegion</code> is a family of functions that copies a region of a primitive array into a buffer. That's what the documentation says. It seems clear to me.</p>\n"}],"owner":{"account_id":338061,"reputation":606,"user_id":666698,"accept_rate":69,"display_name":"Kyborg2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13498,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":6278080,"answer_count":1,"score":1,"last_activity_date":1699434311,"creation_date":1307530293,"question_id":6277572,"body_markdown":"The question is:\r\nSuppose I use the function:\r\n(* env) -&gt; GetByteArrayRegion (env, array, 0, len, (jbyte *)buf);\r\nIn this case, a certain number of bytes written from the array to the buf or vice versa? Maybe a simple question, but I&#39;m confused. Help, please:. In the documentation is not found.","title":"GetByteArrayRegion in JNI","body":"<p>The question is:\nSuppose I use the function:\n(* env) -> GetByteArrayRegion (env, array, 0, len, (jbyte *)buf);\nIn this case, a certain number of bytes written from the array to the buf or vice versa? Maybe a simple question, but I'm confused. Help, please:. In the documentation is not found.</p>\n"},{"tags":["java","spring","spring-boot","sslcontext"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699397494,"post_id":77441790,"comment_id":136526040,"body_markdown":"Yes that&#39;s correct, it does.","body":"Yes that&#39;s correct, it does."},{"owner":{"account_id":5692953,"reputation":5,"user_id":9621031,"display_name":"Jacob"},"score":0,"creation_date":1699551313,"post_id":77441790,"comment_id":136549529,"body_markdown":"@user207421 Thanks!","body":"@user207421 Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":5692953,"reputation":5,"user_id":9621031,"display_name":"Jacob"},"score":1,"creation_date":1699551374,"post_id":77442803,"comment_id":136549537,"body_markdown":"Thanks! It also looks like hot reload is a feature in 3.2.0 https://spring.io/blog/2023/11/07/ssl-hot-reload-in-spring-boot-3-2-0","body":"Thanks! It also looks like hot reload is a feature in 3.2.0 <a href=\"https://spring.io/blog/2023/11/07/ssl-hot-reload-in-spring-boot-3-2-0\" rel=\"nofollow noreferrer\">spring.io/blog/2023/11/07/ssl-hot-reload-in-spring-boot-3-2-&zwnj;&#8203;0</a>"}],"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699416956,"creation_date":1699416956,"answer_id":77442803,"question_id":77441790,"body_markdown":"If you use spring throu Tomcat you could reload the ssl-truststore (`Re-read TLS configuration files`) by the tomcat-admin-layer. \r\n\r\n&lt;img src=&quot;https://www.devxperiences.com/hoachuju/2022/05/image-112-1024x707.png&quot;/&gt;\r\n\r\nSee here how to activate the admin-panel: https://stackoverflow.com/questions/25995635","title":"Does spring need to be restarted to reload keystore and truststore?","body":"<p>If you use spring throu Tomcat you could reload the ssl-truststore (<code>Re-read TLS configuration files</code>) by the tomcat-admin-layer.</p>\n<img src=\"https://www.devxperiences.com/hoachuju/2022/05/image-112-1024x707.png\"/>\n<p>See here how to activate the admin-panel: <a href=\"https://stackoverflow.com/questions/25995635\">Can I enable the tomcat manager app for Spring Boot&#39;s embedded tomcat?</a></p>\n"}],"owner":{"account_id":5692953,"reputation":5,"user_id":9621031,"display_name":"Jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699434113,"creation_date":1699395333,"question_id":77441790,"body_markdown":"I see that the keystore is constructed on spring initialization and thus the application needs to be restarted if a new entry is added to the keystore. Does this also apply to the truststore?\r\n\r\nCan I do a reload without restarting by creating a new SSLContext to use? Such as:\r\n\r\n    SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslcontext.init((KeyManager[])null, (TrustManager[])null, (SecureRandom)null);\r\n\r\nThanks!","title":"Does spring need to be restarted to reload keystore and truststore?","body":"<p>I see that the keystore is constructed on spring initialization and thus the application needs to be restarted if a new entry is added to the keystore. Does this also apply to the truststore?</p>\n<p>Can I do a reload without restarting by creating a new SSLContext to use? Such as:</p>\n<pre><code>SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\nsslcontext.init((KeyManager[])null, (TrustManager[])null, (SecureRandom)null);\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","azure-ad-b2c","azure-ad-msal"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1607676846,"post_id":65248230,"comment_id":115352444,"body_markdown":"What did you set as the authority?","body":"What did you set as the authority?"},{"owner":{"account_id":14105205,"reputation":11692,"user_id":10189459,"display_name":"Stanley Gong"},"score":0,"creation_date":1608082525,"post_id":65248230,"comment_id":115472536,"body_markdown":"How&#39;s going? has your issue got solved?","body":"How&#39;s going? has your issue got solved?"}],"answers":[{"tags":[],"owner":{"account_id":14105205,"reputation":11692,"user_id":10189459,"display_name":"Stanley Gong"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608005628,"creation_date":1608005628,"answer_id":65299894,"question_id":65248230,"body_markdown":"As @juunas asked, seems there is something wrong with your `authority` setting. \r\nTry the code below: \r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    import com.microsoft.aad.msal4j.ClientCredentialFactory;\r\n    import com.microsoft.aad.msal4j.ClientCredentialParameters;\r\n    import com.microsoft.aad.msal4j.ConfidentialClientApplication;\r\n    import com.microsoft.aad.msal4j.IAuthenticationResult;\r\n    \r\n    public class AADClientCred {\r\n        public static void main(String[] args) {\r\n    \r\n            String tenantID = &quot;&lt;your tenant ID or name&gt;&quot;;\r\n            String clientID = &quot;&lt;your Azure AD app id&gt;&quot;;\r\n            String Secret = &quot;&lt;your azure ad app secret&gt;&quot;;\r\n            String authority = &quot;https://login.microsoftonline.com/&quot; + tenantID;\r\n            //I use microsoft graph as resource for demo\r\n            String scope = &quot;https://graph.microsoft.com/.default&quot;;\r\n    \r\n            try {\r\n                String access_token = getAccessTokenByClientCredentialGrant(clientID, Secret, authority, scope)\r\n                        .accessToken();\r\n    \r\n                System.out.println(&quot;access token : &quot; + access_token);\r\n    \r\n            } catch (Exception e) {\r\n    \r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n        private static IAuthenticationResult getAccessTokenByClientCredentialGrant(String clientID, String Secret,\r\n                String authority, String scope) throws Exception {\r\n    \r\n            ConfidentialClientApplication app = ConfidentialClientApplication\r\n                    .builder(clientID, ClientCredentialFactory.createFromSecret(Secret)).authority(authority).build();\r\n    \r\n            ClientCredentialParameters clientCredentialParam = ClientCredentialParameters\r\n                    .builder(Collections.singleton(scope)).build();\r\n    \r\n            CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n            return future.get();\r\n        }\r\n    \r\n    }\r\n\r\nResult: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nLet me know if you have any further questions. \r\n\r\n  [1]: https://i.stack.imgur.com/4Wprj.png","title":"MSAL4J - token generation error : Unknown or Invalid instance","body":"<p>As @juunas asked, seems there is something wrong with your <code>authority</code> setting.\nTry the code below:</p>\n<pre><code>import java.util.Collections;\nimport java.util.concurrent.CompletableFuture;\n\nimport com.microsoft.aad.msal4j.ClientCredentialFactory;\nimport com.microsoft.aad.msal4j.ClientCredentialParameters;\nimport com.microsoft.aad.msal4j.ConfidentialClientApplication;\nimport com.microsoft.aad.msal4j.IAuthenticationResult;\n\npublic class AADClientCred {\n    public static void main(String[] args) {\n\n        String tenantID = &quot;&lt;your tenant ID or name&gt;&quot;;\n        String clientID = &quot;&lt;your Azure AD app id&gt;&quot;;\n        String Secret = &quot;&lt;your azure ad app secret&gt;&quot;;\n        String authority = &quot;https://login.microsoftonline.com/&quot; + tenantID;\n        //I use microsoft graph as resource for demo\n        String scope = &quot;https://graph.microsoft.com/.default&quot;;\n\n        try {\n            String access_token = getAccessTokenByClientCredentialGrant(clientID, Secret, authority, scope)\n                    .accessToken();\n\n            System.out.println(&quot;access token : &quot; + access_token);\n\n        } catch (Exception e) {\n\n            e.printStackTrace();\n        }\n\n    }\n\n    private static IAuthenticationResult getAccessTokenByClientCredentialGrant(String clientID, String Secret,\n            String authority, String scope) throws Exception {\n\n        ConfidentialClientApplication app = ConfidentialClientApplication\n                .builder(clientID, ClientCredentialFactory.createFromSecret(Secret)).authority(authority).build();\n\n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters\n                .builder(Collections.singleton(scope)).build();\n\n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n        return future.get();\n    }\n\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/4Wprj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Wprj.png\" alt=\"enter image description here\" /></a></p>\n<p>Let me know if you have any further questions.</p>\n"},{"tags":[],"owner":{"account_id":4438528,"reputation":2896,"user_id":3613702,"accept_rate":14,"display_name":"Code Name Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699433974,"creation_date":1699433974,"answer_id":77444097,"question_id":65248230,"body_markdown":"I was facing this same issue with `Microsoft.Identity.Web` while trying to get a client credentials token.\r\n\r\n``` csharp\r\nservices.AddMicrosoftIdentityWebAppAuthentication(configuration, Constants.AzureAdB2C)\r\n    .EnableTokenAcquisitionToCallDownstreamApi(new[] {configuration[&quot;TodoApi:Scope&quot;] }!)\r\n    .AddInMemoryTokenCaches();\r\n```\r\nThis was my original config,\r\n``` json\r\n  &quot;AzureAdB2C&quot;: {\r\n    &quot;Instance&quot;: &quot;https://mydomain.b2clogin.com/\r\n    &quot;TenantId&quot;: &quot;502be9ac-db65-41f1-b368-807e9868043e&quot;,\r\n    &quot;ClientId&quot;: &quot;7909238a-5a24-4da4-9960-e701d0dd3ed3&quot;,\r\n    &quot;ClientCredentials&quot;: [\r\n      {\r\n        &quot;SourceType&quot;: &quot;ClientSecret&quot;,\r\n        &quot;ClientSecret&quot;: &quot;&lt;secret-value&gt;&quot;\r\n      }\r\n    ]\r\n  },\r\n  &quot;TodoApi&quot;:{\r\n      &quot;Scope&quot;: &quot;https://mydomain.onmicrosoft.com/todo-api-client-id-or-name/.default&quot;\r\n    }\r\n```\r\nThen I changed the instance to what was suggested as authority in the other answer,\r\n```\r\n    &quot;Instance&quot;: &quot;https://mydomain.b2clogin.com/tfp/mydomain.onmicrosoft.com/&lt;b2c_policy_name&gt;&quot;,\r\n```\r\nThis works. However the documentation for this library never clarifies that nor  does the error. Had it mentioned the word Authority, it was easier to fix. Surprisingly same issue exists on the service side, but there the workaround is different","title":"MSAL4J - token generation error : Unknown or Invalid instance","body":"<p>I was facing this same issue with <code>Microsoft.Identity.Web</code> while trying to get a client credentials token.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddMicrosoftIdentityWebAppAuthentication(configuration, Constants.AzureAdB2C)\n    .EnableTokenAcquisitionToCallDownstreamApi(new[] {configuration[&quot;TodoApi:Scope&quot;] }!)\n    .AddInMemoryTokenCaches();\n</code></pre>\n<p>This was my original config,</p>\n<pre class=\"lang-json prettyprint-override\"><code>  &quot;AzureAdB2C&quot;: {\n    &quot;Instance&quot;: &quot;https://mydomain.b2clogin.com/\n    &quot;TenantId&quot;: &quot;502be9ac-db65-41f1-b368-807e9868043e&quot;,\n    &quot;ClientId&quot;: &quot;7909238a-5a24-4da4-9960-e701d0dd3ed3&quot;,\n    &quot;ClientCredentials&quot;: [\n      {\n        &quot;SourceType&quot;: &quot;ClientSecret&quot;,\n        &quot;ClientSecret&quot;: &quot;&lt;secret-value&gt;&quot;\n      }\n    ]\n  },\n  &quot;TodoApi&quot;:{\n      &quot;Scope&quot;: &quot;https://mydomain.onmicrosoft.com/todo-api-client-id-or-name/.default&quot;\n    }\n</code></pre>\n<p>Then I changed the instance to what was suggested as authority in the other answer,</p>\n<pre><code>    &quot;Instance&quot;: &quot;https://mydomain.b2clogin.com/tfp/mydomain.onmicrosoft.com/&lt;b2c_policy_name&gt;&quot;,\n</code></pre>\n<p>This works. However the documentation for this library never clarifies that nor  does the error. Had it mentioned the word Authority, it was easier to fix. Surprisingly same issue exists on the service side, but there the workaround is different</p>\n"}],"owner":{"account_id":6509627,"reputation":51,"user_id":5037392,"accept_rate":40,"display_name":"Priyanka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699433974,"creation_date":1607676624,"question_id":65248230,"body_markdown":"I am trying to generate token using MSAL4j-1.8 jar in my Java application.\r\nBelow is the code I am using :\r\n\r\n \r\n\r\n    private static IAuthenticationResult getAccessTokenByClientCredentialGrant() throws Exception {\r\n    \r\n            ConfidentialClientApplication app = ConfidentialClientApplication.builder(\r\n                    clientId,\r\n                    ClientCredentialFactory.createFromSecret(secret))\r\n                    .authority(authority)\r\n                    .build();\r\n    \r\n            // With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the\r\n            // application permissions need to be set statically (in the portal), and then granted by a tenant administrator\r\n            ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\r\n                    Collections.singleton(scope))\r\n                    .build();\r\n    \r\n            CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n            return future.get();\r\n        }\r\n\r\nI get an error :\r\n\r\n    Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS50049: Unknown or invalid instance.\r\n    Trace ID: c6a936bf-2b0f-489e-ada3-d2311e708500\r\n    Correlation ID: f515dd78-7915-43d7-9020-62631f27c955\r\n    Timestamp: 2020-12-10 16:14:09Z\r\n          at com.microsoft.aad.msal4j.AadInstanceDiscoveryProvider.validate(AadInstanceDiscoveryProvider.java:147)\r\n          at com.microsoft.aad.msal4j.AadInstanceDiscoveryProvider.doInstanceDiscoveryAndCache(AadInstanceDiscoveryProvider.java:138)\r\n          at com.microsoft.aad.msal4j.AadInstanceDiscoveryProvider.getMetadataEntry(AadInstanceDiscoveryProvider.java:42)\r\n          at com.microsoft.aad.msal4j.AuthenticationResultSupplier.getAuthorityWithPrefNetworkHost(AuthenticationResultSupplier.java:32)\r\n          at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGrantSupplier.java:59)\r\n          at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:59)\r\n          at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:17)\r\n          at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1601)\r\n          at java.lang.Thread.run(Thread.java:818)\r\n\r\n\r\nAny idea on what can be the problem?","title":"MSAL4J - token generation error : Unknown or Invalid instance","body":"<p>I am trying to generate token using MSAL4j-1.8 jar in my Java application.\nBelow is the code I am using :</p>\n<pre><code>private static IAuthenticationResult getAccessTokenByClientCredentialGrant() throws Exception {\n\n        ConfidentialClientApplication app = ConfidentialClientApplication.builder(\n                clientId,\n                ClientCredentialFactory.createFromSecret(secret))\n                .authority(authority)\n                .build();\n\n        // With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the\n        // application permissions need to be set statically (in the portal), and then granted by a tenant administrator\n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\n                Collections.singleton(scope))\n                .build();\n\n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n        return future.get();\n    }\n</code></pre>\n<p>I get an error :</p>\n<pre><code>Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS50049: Unknown or invalid instance.\nTrace ID: c6a936bf-2b0f-489e-ada3-d2311e708500\nCorrelation ID: f515dd78-7915-43d7-9020-62631f27c955\nTimestamp: 2020-12-10 16:14:09Z\n      at com.microsoft.aad.msal4j.AadInstanceDiscoveryProvider.validate(AadInstanceDiscoveryProvider.java:147)\n      at com.microsoft.aad.msal4j.AadInstanceDiscoveryProvider.doInstanceDiscoveryAndCache(AadInstanceDiscoveryProvider.java:138)\n      at com.microsoft.aad.msal4j.AadInstanceDiscoveryProvider.getMetadataEntry(AadInstanceDiscoveryProvider.java:42)\n      at com.microsoft.aad.msal4j.AuthenticationResultSupplier.getAuthorityWithPrefNetworkHost(AuthenticationResultSupplier.java:32)\n      at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGrantSupplier.java:59)\n      at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:59)\n      at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:17)\n      at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1601)\n      at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n<p>Any idea on what can be the problem?</p>\n"},{"tags":["java","spring","jwt","token"],"answers":[{"tags":[],"owner":{"account_id":10315060,"reputation":3,"user_id":7609613,"display_name":"Mojtaba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699373448,"creation_date":1699373448,"answer_id":77439794,"question_id":77432192,"body_markdown":"I&#39;ve done this using `jsonwebtoken` library. You should have jwt secret key that is used to encrypt the jwt token.\r\nYou can use these methods in your rest api:\r\n\r\n    public boolean validateJwtToken(String authToken) {\r\n      try {\r\n        Jwts.parserBuilder().setSigningKey(key()).build().parse(authToken);\r\n        return true;\r\n      } catch (MalformedJwtException e) {\r\n        logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n      }\r\n      return false;\r\n    }\r\n\r\n    private Key key() {\r\n        return Keys.hmacShaKeyFor(Decoders.BASE64.decode(jwtSecret));\r\n    }\r\n\r\nThe following dependencies are needed as well:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"How can i check a validate token jwt","body":"<p>I've done this using <code>jsonwebtoken</code> library. You should have jwt secret key that is used to encrypt the jwt token.\nYou can use these methods in your rest api:</p>\n<pre><code>public boolean validateJwtToken(String authToken) {\n  try {\n    Jwts.parserBuilder().setSigningKey(key()).build().parse(authToken);\n    return true;\n  } catch (MalformedJwtException e) {\n    logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\n  }\n  return false;\n}\n\nprivate Key key() {\n    return Keys.hmacShaKeyFor(Decoders.BASE64.decode(jwtSecret));\n}\n</code></pre>\n<p>The following dependencies are needed as well:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699434727,"post_id":77444081,"comment_id":136529669,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77444081/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25667539,"reputation":1,"user_id":19432251,"display_name":"Aloysius Tri Sulistyo Putranto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699433789,"creation_date":1699433789,"answer_id":77444081,"question_id":77432192,"body_markdown":"    public boolean validateToken(String authToken) throws IOException {\r\n        try {\r\n            Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(authToken);\r\n            return true;\r\n        } catch (ExpiredJwtException e) {\r\n            log.warn(Expired_JWT_TOKEN);\r\n        } catch (UnsupportedJwtException e) {\r\n            log.warn(INVALID_JWT_TOKEN);\r\n        } catch (MalformedJwtException e) {\r\n            log.warn(INVALID_JWT_TOKEN);\r\n        } catch (SignatureException e) {\r\n            log.warn(INVALID_JWT_TOKEN);\r\n        } catch (IllegalArgumentException e) {\r\n            log.warn(&quot;Token validation error {}&quot;, e.getMessage());\r\n        }\r\n        return false;\r\n    }","title":"How can i check a validate token jwt","body":"<pre><code>public boolean validateToken(String authToken) throws IOException {\n    try {\n        Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(authToken);\n        return true;\n    } catch (ExpiredJwtException e) {\n        log.warn(Expired_JWT_TOKEN);\n    } catch (UnsupportedJwtException e) {\n        log.warn(INVALID_JWT_TOKEN);\n    } catch (MalformedJwtException e) {\n        log.warn(INVALID_JWT_TOKEN);\n    } catch (SignatureException e) {\n        log.warn(INVALID_JWT_TOKEN);\n    } catch (IllegalArgumentException e) {\n        log.warn(&quot;Token validation error {}&quot;, e.getMessage());\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":25663259,"reputation":11,"user_id":19428720,"display_name":"Leonardo Cerchioni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699433789,"creation_date":1699283736,"question_id":77432192,"body_markdown":"I want to check the validity of a jwt token via rest api call, is there a possibility to do this? (java if possible, because i have a Back-End on Java with spring boot and Front-End on JavaScript with ReactJs)\r\nI have already made token generation with java, with antoher service that use the toeken jwt.","title":"How can i check a validate token jwt","body":"<p>I want to check the validity of a jwt token via rest api call, is there a possibility to do this? (java if possible, because i have a Back-End on Java with spring boot and Front-End on JavaScript with ReactJs)\nI have already made token generation with java, with antoher service that use the toeken jwt.</p>\n"},{"tags":["java","data-structures","binary-search"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699448419,"post_id":77443970,"comment_id":136532178,"body_markdown":"There *is* a `return` statement in the `if … else if … else` statement. Further, the expression is `start + (end-start)/2`, not `start + (end+start)/2`, maybe you’ll understand it when reading correctly. How do you calculate the middle of two values? Start value plus half of the distance between the points.","body":"There <i>is</i> a <code>return</code> statement in the <code>if … else if … else</code> statement. Further, the expression is <code>start + (end-start)&#47;2</code>, not <code>start + (end+start)&#47;2</code>, maybe you’ll understand it when reading correctly. How do you calculate the middle of two values? Start value plus half of the distance between the points."}],"answers":[{"comments":[{"owner":{"account_id":29723560,"reputation":29,"user_id":22780214,"display_name":"maulik"},"score":0,"creation_date":1699433848,"post_id":77444035,"comment_id":136529499,"body_markdown":"so how does it returns the value of control flow statements without return ? does it throws the last value before the loop broke?","body":"so how does it returns the value of control flow statements without return ? does it throws the last value before the loop broke?"},{"owner":{"account_id":7734898,"reputation":145,"user_id":5856780,"display_name":"Naim.Jusufi"},"score":1,"creation_date":1699434213,"post_id":77444035,"comment_id":136529561,"body_markdown":"It will return the midd which will potentially be a match, if no match is found it will return -1. Invalid index. You can imagine the binary search as looking for a word in a dictionary. If you are lloking for some word starting with H there is no point in starting from thenfirst page. You open it directly in the middle and go from there.","body":"It will return the midd which will potentially be a match, if no match is found it will return -1. Invalid index. You can imagine the binary search as looking for a word in a dictionary. If you are lloking for some word starting with H there is no point in starting from thenfirst page. You open it directly in the middle and go from there."}],"tags":[],"owner":{"account_id":7734898,"reputation":145,"user_id":5856780,"display_name":"Naim.Jusufi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699433410,"creation_date":1699433410,"answer_id":77444035,"question_id":77443970,"body_markdown":"We don&#39;t use return statement in the if / else if because the while loop has to continue shortening the array. If we add a return statement that would break the while loop. \r\n\r\nThe method doesn&#39;t return the found value, it returns the index where the value is stored in the array.\r\n\r\nRegarding doubt 2: the reason is we want to shorten the array so that we don&#39;t look after or before a certain value. The binary search algorithm works by halvening the array on each iteration. So if you are looking for the index of number 10 there and the current number you have checked is 6 there is no reason to look the previous numbers (that&#39;s why binary search only works in sorted arrays), so with the statement in if / else if we set boundaries (either top or bottom boundary).","title":"Some doubts regarding basics of binary search","body":"<p>We don't use return statement in the if / else if because the while loop has to continue shortening the array. If we add a return statement that would break the while loop.</p>\n<p>The method doesn't return the found value, it returns the index where the value is stored in the array.</p>\n<p>Regarding doubt 2: the reason is we want to shorten the array so that we don't look after or before a certain value. The binary search algorithm works by halvening the array on each iteration. So if you are looking for the index of number 10 there and the current number you have checked is 6 there is no reason to look the previous numbers (that's why binary search only works in sorted arrays), so with the statement in if / else if we set boundaries (either top or bottom boundary).</p>\n"},{"tags":[],"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699433432,"creation_date":1699433432,"answer_id":77444039,"question_id":77443970,"body_markdown":"Within the `if` and `else if` you&#39;re still trying to find the target element. The `if` clause is entered if the target element is smaller than the element of the array you&#39;re currently looking at. `else if` is executed if the target element is larger than the element of the array you&#39;re currently looking at. In those cases you haven&#39;t found your target element yet, so you don&#39;t want to return anything. The `else` part is executed if the current element equals the target element, so you found what you were looking for and return the index at which the target was found.\r\n\r\nThe code `int mid = start + (end - start) / 2;` calculates the middle index `mid` in a way that helps avoid integer overflow issues:\r\n\r\n`start` is the current leftmost index of the search range.\r\n`end` is the current rightmost index of the search range\r\n\r\nThe formula `(end - start) / 2` calculates the distance between the start and end indices and then divides it by 2 to get the halfway point. Adding start to this result gives you the actual middle index.\r\n\r\nThe reason for using `(end - start)` instead of `(end + start)` is to prevent integer overflow. If you used (end + start) and `start` and `end` were large values, adding them could potentially lead to an integer overflow problem. Subtracting them allows you to calculate the middle point without that problem.\r\n\r\nFor a more detail on how binary search works I like [this explanation][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/binary-search/","title":"Some doubts regarding basics of binary search","body":"<p>Within the <code>if</code> and <code>else if</code> you're still trying to find the target element. The <code>if</code> clause is entered if the target element is smaller than the element of the array you're currently looking at. <code>else if</code> is executed if the target element is larger than the element of the array you're currently looking at. In those cases you haven't found your target element yet, so you don't want to return anything. The <code>else</code> part is executed if the current element equals the target element, so you found what you were looking for and return the index at which the target was found.</p>\n<p>The code <code>int mid = start + (end - start) / 2;</code> calculates the middle index <code>mid</code> in a way that helps avoid integer overflow issues:</p>\n<p><code>start</code> is the current leftmost index of the search range.\n<code>end</code> is the current rightmost index of the search range</p>\n<p>The formula <code>(end - start) / 2</code> calculates the distance between the start and end indices and then divides it by 2 to get the halfway point. Adding start to this result gives you the actual middle index.</p>\n<p>The reason for using <code>(end - start)</code> instead of <code>(end + start)</code> is to prevent integer overflow. If you used (end + start) and <code>start</code> and <code>end</code> were large values, adding them could potentially lead to an integer overflow problem. Subtracting them allows you to calculate the middle point without that problem.</p>\n<p>For a more detail on how binary search works I like <a href=\"https://www.geeksforgeeks.org/binary-search/\" rel=\"nofollow noreferrer\">this explanation</a></p>\n"}],"owner":{"account_id":29723560,"reputation":29,"user_id":22780214,"display_name":"maulik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1699445754,"answer_count":2,"score":2,"last_activity_date":1699433432,"creation_date":1699432729,"question_id":77443970,"body_markdown":"```\r\npublic class sample{\r\n    public static void main(String[] args) {\r\n        int[] nums = {2, 2, 4, 6, 8, 12, 14, 15};\r\n        int target = 12;\r\n        int ans = search(nums, target);\r\n        System.out.println(ans);\r\n    }\r\n    static int search(int[] arr, int target){\r\n        int start = 0;\r\n        int end = arr.length - 1;\r\n        while(start &lt;= end){\r\n            int mid = start + (end-start)/2;\r\n            if (target &lt; arr[mid]){\r\n                end = mid -1;\r\n            }\r\n            else if (target &gt; arr[mid]){\r\n                start = mid +1;\r\n            }\r\n            else{\r\n                return mid;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI know it could be very lame but I&#39;m just starting out with java and dsa.\r\nDoubt#1 -&gt; why aren&#39;t we using return statement in if, else if? how does the method gives out the value once it has found the number?\r\nDoubt#2 -&gt; kindly explain the math and reason behind int mid = start + (end+start)/2;","title":"Some doubts regarding basics of binary search","body":"<pre><code>public class sample{\n    public static void main(String[] args) {\n        int[] nums = {2, 2, 4, 6, 8, 12, 14, 15};\n        int target = 12;\n        int ans = search(nums, target);\n        System.out.println(ans);\n    }\n    static int search(int[] arr, int target){\n        int start = 0;\n        int end = arr.length - 1;\n        while(start &lt;= end){\n            int mid = start + (end-start)/2;\n            if (target &lt; arr[mid]){\n                end = mid -1;\n            }\n            else if (target &gt; arr[mid]){\n                start = mid +1;\n            }\n            else{\n                return mid;\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>I know it could be very lame but I'm just starting out with java and dsa.\nDoubt#1 -&gt; why aren't we using return statement in if, else if? how does the method gives out the value once it has found the number?\nDoubt#2 -&gt; kindly explain the math and reason behind int mid = start + (end+start)/2;</p>\n"},{"tags":["java","hibernate","spring-jdbc","spring-orm"],"comments":[{"owner":{"account_id":11494602,"reputation":941,"user_id":8424923,"display_name":"Mikita Berazouski"},"score":0,"creation_date":1529172206,"post_id":50890282,"comment_id":88781841,"body_markdown":"Possible duplicate of [Annotation @Transactional. How to rollback?](https://stackoverflow.com/questions/7872773/annotation-transactional-how-to-rollback)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/7872773/annotation-transactional-how-to-rollback\">Annotation @Transactional. How to rollback?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529173345,"creation_date":1529171762,"answer_id":50890369,"question_id":50890282,"body_markdown":"&gt; I am also trying to understand if the exception thrown at line #4 is a\r\n&gt; checked or unchecked exception?\r\n\r\nAnswer: `java.lang.Exception` is a checked exception. \r\n\r\n&gt; If I am throwing &quot;throw new Exception(&quot;Details don&#39;t match&quot;)&quot; it is a\r\n&gt; Runtime exception I am assuming?\r\n\r\nAnswer: No, it is not a `RuntimeException`. RuntimeException is those which extends `java.lang.RuntimeException` or its `subclass`.\r\n\r\n\r\n\r\nIn spring by Transaction is Rollback when a `Runtime` exception occurs. That means any exception thrown in a transaction which `extends RuntimeException` or its subclass will rollback it. But in your case, you are throwing `Exception` which is not a type of `RuntimeException`. \r\n\r\nSolution:\r\n\r\nI will suggest creating a Custom exception which extends `RuntimeExction` and throws it.\r\n\r\n    class UnmatchedDetailException extends RuntimeException{\r\n    \tUnmatchedDetailException(String msg){\r\n    \t\tsuper(msg);\r\n    \t}\r\n    }\r\nAnd then throw the `UnmatchedDetailException`\r\n\r\n    throw new UnmatchedDetailException(&quot;Deatils not matched&quot;);\r\n\r\n","title":"Hibernate does not rollback in case of an exception thrown","body":"<blockquote>\n  <p>I am also trying to understand if the exception thrown at line #4 is a\n  checked or unchecked exception?</p>\n</blockquote>\n\n<p>Answer: <code>java.lang.Exception</code> is a checked exception. </p>\n\n<blockquote>\n  <p>If I am throwing \"throw new Exception(\"Details don't match\")\" it is a\n  Runtime exception I am assuming?</p>\n</blockquote>\n\n<p>Answer: No, it is not a <code>RuntimeException</code>. RuntimeException is those which extends <code>java.lang.RuntimeException</code> or its <code>subclass</code>.</p>\n\n<p>In spring by Transaction is Rollback when a <code>Runtime</code> exception occurs. That means any exception thrown in a transaction which <code>extends RuntimeException</code> or its subclass will rollback it. But in your case, you are throwing <code>Exception</code> which is not a type of <code>RuntimeException</code>. </p>\n\n<p>Solution:</p>\n\n<p>I will suggest creating a Custom exception which extends <code>RuntimeExction</code> and throws it.</p>\n\n<pre><code>class UnmatchedDetailException extends RuntimeException{\n    UnmatchedDetailException(String msg){\n        super(msg);\n    }\n}\n</code></pre>\n\n<p>And then throw the <code>UnmatchedDetailException</code></p>\n\n<pre><code>throw new UnmatchedDetailException(\"Deatils not matched\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13416320,"reputation":381,"user_id":9680682,"display_name":"Kunal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529178388,"creation_date":1529178388,"answer_id":50891194,"question_id":50890282,"body_markdown":"With default spring configurations, only un-checked runtime exceptions are rolled back. In order to customize this configuration, **rollbackFor** is used as a property in the **@Transactional** annotation.\r\n\r\nFor ex,\r\n\r\n&gt; @Transactional(rollbackFor = { MyInvalidUserException.class,\r\n&gt; MyApplicationException.class }) public void method() throws\r\n&gt; MyInvalidUserException,  MyApplicationException { \r\n&gt;     ... \r\n&gt;     ...  }","title":"Hibernate does not rollback in case of an exception thrown","body":"<p>With default spring configurations, only un-checked runtime exceptions are rolled back. In order to customize this configuration, <strong>rollbackFor</strong> is used as a property in the <strong>@Transactional</strong> annotation.</p>\n\n<p>For ex,</p>\n\n<blockquote>\n  <p>@Transactional(rollbackFor = { MyInvalidUserException.class,\n  MyApplicationException.class }) public void method() throws\n  MyInvalidUserException,  MyApplicationException { \n      ... \n      ...  }</p>\n</blockquote>\n"}],"owner":{"account_id":11462433,"reputation":263,"user_id":8401680,"display_name":"tech_questions"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699433084,"creation_date":1529171231,"question_id":50890282,"body_markdown":"I have below piece of code in my project. An exception is thrown at line # 4 still my product details are saved. I am having hard time to understand why does it save product details even after throwing the exception\r\n**I am also trying to understand if the exception thrown at line #4 is a checked or unchecked exception ? If i am throwing  &quot;throw new Exception(&quot;Details don&#39;t match&quot;)&quot; it is a Runtime exception I am assuming?**\r\n\r\n \r\n\r\n    class Product{\r\n        @Transactional\r\n            addDetails(){\r\n                try{\r\n                }\r\n                catch (Exception e) {\r\n                   throw new Exception(&quot;Details dont match&quot;) //Line 4\r\n                }\r\n               productDAO.save(productDetails) \r\n               addAdditionalDetails(productDetails)\r\n            }\r\n           }\r\n        \r\n    class ProductDAO {\r\n       @Transactional\r\n       public void save(Product productDetails){\r\n           entitiyManager.merge(productDetails)\r\n       }\r\n    }","title":"Hibernate does not rollback in case of an exception thrown","body":"<p>I have below piece of code in my project. An exception is thrown at line # 4 still my product details are saved. I am having hard time to understand why does it save product details even after throwing the exception\n<strong>I am also trying to understand if the exception thrown at line #4 is a checked or unchecked exception ? If i am throwing  \"throw new Exception(\"Details don't match\")\" it is a Runtime exception I am assuming?</strong></p>\n\n<pre><code>class Product{\n    @Transactional\n        addDetails(){\n            try{\n            }\n            catch (Exception e) {\n               throw new Exception(\"Details dont match\") //Line 4\n            }\n           productDAO.save(productDetails) \n           addAdditionalDetails(productDetails)\n        }\n       }\n\nclass ProductDAO {\n   @Transactional\n   public void save(Product productDetails){\n       entitiyManager.merge(productDetails)\n   }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","random","probability","probability-distribution"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1699465029,"post_id":77443979,"comment_id":136536092,"body_markdown":"This question is more about [Software Engineering](https://softwareengineering.stackexchange.com) (the algorithm) or even [Statistics](https://stats.stackexchange.com) and might be better on one of those sites.","body":"This question is more about <a href=\"https://softwareengineering.stackexchange.com\">Software Engineering</a> (the algorithm) or even <a href=\"https://stats.stackexchange.com\">Statistics</a> and might be better on one of those sites."},{"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"score":0,"creation_date":1699504155,"post_id":77443979,"comment_id":136541132,"body_markdown":"Thanks for your suggestion! I am new to the software world and didn&#39;t know about these two sites. Will post my question on one of them as well.","body":"Thanks for your suggestion! I am new to the software world and didn&#39;t know about these two sites. Will post my question on one of them as well."}],"owner":{"account_id":28470497,"reputation":43,"user_id":21785880,"display_name":"Anurator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699432864,"creation_date":1699432864,"question_id":77443979,"body_markdown":"I have a spring boot application for a notification system. Consider sms notifications for which I have n vendors to select from. Every vendor has been promised a certain percentage of our business, say their weightage. \r\n\r\nDuring a time duration say 24 hours, a particular vendor is selected based on their weightage percentage. Due to some reason if a vendor&#39;s services are down, our system selects the next highest priority vendor for delivering the notification or if a particular sms is to be sent by a particular vendor only then that is chosen. \r\n\r\nCurrently I am generating a random number between 0 to 100 and then using its value for selecting a vendor. What I want it to do is to use last window of sms notifications and then balance the percentage of sms sent in the current time window.\r\n\r\n**Example :** \r\n\r\n*Vendor 1*: **20% W**, *Vendor 2:* **30% W** and *Vendor 3*: **50% W**.\r\n\r\nIn first 24 hours I send 10 sms.\r\n \r\n\r\n 1. Vendor 1 sent **3 sms -&gt; 30%** \r\n 2. Vendor 2 sent **4 sms -&gt; 40%** \r\n 3. Vendor 3 sent **3 sms -&gt; 30%**\r\n\r\nSo what I would like is if I send 20 sms by the end next time window\r\nThen \r\n\r\n 1. Vendor 1 should have sent **3 sms -&gt; 15%** \r\n 2. Vendor 2 should have sent **5 sms -&gt; 25%**\r\n 3. Vendor 3 should have sent **12 sms -&gt; 60%**\r\n\r\nAveraging over 30 sms for 2 time windows, *vendor 1: 20%*, *vendor 2: 30%* and *vendor 3: 50%*\r\n\r\nThe same balancing/averaging is to be done over all time windows. \r\n\r\n**My issue is how to implement this when I don&#39;t know the number of sms I will send in a day.** The range is generally around a hundred thousands, but sometimes much more.\r\n\r\nMy current implementation:\r\n```\r\nif (Objects.nonNull(templateEntity.getSmsVendor())) {\r\n      // case 1 - when vendor is specified in notification template, use that vendor\r\n      smsNotifier.get(templateEntity.getSmsVendor()).send(notificationRequestDTO);\r\n    } else {\r\n      // case 2 - when vendor is NOT specified in notification template. Choose weightage wise vendor\r\n      int totalProbability = 0;\r\n      for (SmsNotifier notifier : smsNotifierList) {\r\n        totalProbability += notifier.getWeightage();\r\n      }\r\n    \r\n      int randomNumber = RandomUtils.nextInt(0, totalProbability);\r\n      int currentProbability = 0;\r\n    \r\n      // vendor1 = 60, vendor2 = 40, Mock = 0\r\n      for (SmsNotifier notifier : smsNotifierList) {\r\n        if (randomNumber &gt;= currentProbability &amp;&amp; randomNumber &lt; currentProbability + notifier.getWeightage()) {\r\n          log.error(&quot;Selected vendor for sms {} is {} weightage {} current probability {}&quot;, notificationRequestDTO, notifier.getId(), notifier.getWeightage(), currentProbability);\r\n          notifier.send(notificationRequestDTO);\r\n          break;\r\n        }\r\n        currentProbability += notifier.getWeightage();\r\n      }\r\n    }\r\n```","title":"Random selection based on weightage and previous history","body":"<p>I have a spring boot application for a notification system. Consider sms notifications for which I have n vendors to select from. Every vendor has been promised a certain percentage of our business, say their weightage.</p>\n<p>During a time duration say 24 hours, a particular vendor is selected based on their weightage percentage. Due to some reason if a vendor's services are down, our system selects the next highest priority vendor for delivering the notification or if a particular sms is to be sent by a particular vendor only then that is chosen.</p>\n<p>Currently I am generating a random number between 0 to 100 and then using its value for selecting a vendor. What I want it to do is to use last window of sms notifications and then balance the percentage of sms sent in the current time window.</p>\n<p><strong>Example :</strong></p>\n<p><em>Vendor 1</em>: <strong>20% W</strong>, <em>Vendor 2:</em> <strong>30% W</strong> and <em>Vendor 3</em>: <strong>50% W</strong>.</p>\n<p>In first 24 hours I send 10 sms.</p>\n<ol>\n<li>Vendor 1 sent <strong>3 sms -&gt; 30%</strong></li>\n<li>Vendor 2 sent <strong>4 sms -&gt; 40%</strong></li>\n<li>Vendor 3 sent <strong>3 sms -&gt; 30%</strong></li>\n</ol>\n<p>So what I would like is if I send 20 sms by the end next time window\nThen</p>\n<ol>\n<li>Vendor 1 should have sent <strong>3 sms -&gt; 15%</strong></li>\n<li>Vendor 2 should have sent <strong>5 sms -&gt; 25%</strong></li>\n<li>Vendor 3 should have sent <strong>12 sms -&gt; 60%</strong></li>\n</ol>\n<p>Averaging over 30 sms for 2 time windows, <em>vendor 1: 20%</em>, <em>vendor 2: 30%</em> and <em>vendor 3: 50%</em></p>\n<p>The same balancing/averaging is to be done over all time windows.</p>\n<p><strong>My issue is how to implement this when I don't know the number of sms I will send in a day.</strong> The range is generally around a hundred thousands, but sometimes much more.</p>\n<p>My current implementation:</p>\n<pre><code>if (Objects.nonNull(templateEntity.getSmsVendor())) {\n      // case 1 - when vendor is specified in notification template, use that vendor\n      smsNotifier.get(templateEntity.getSmsVendor()).send(notificationRequestDTO);\n    } else {\n      // case 2 - when vendor is NOT specified in notification template. Choose weightage wise vendor\n      int totalProbability = 0;\n      for (SmsNotifier notifier : smsNotifierList) {\n        totalProbability += notifier.getWeightage();\n      }\n    \n      int randomNumber = RandomUtils.nextInt(0, totalProbability);\n      int currentProbability = 0;\n    \n      // vendor1 = 60, vendor2 = 40, Mock = 0\n      for (SmsNotifier notifier : smsNotifierList) {\n        if (randomNumber &gt;= currentProbability &amp;&amp; randomNumber &lt; currentProbability + notifier.getWeightage()) {\n          log.error(&quot;Selected vendor for sms {} is {} weightage {} current probability {}&quot;, notificationRequestDTO, notifier.getId(), notifier.getWeightage(), currentProbability);\n          notifier.send(notificationRequestDTO);\n          break;\n        }\n        currentProbability += notifier.getWeightage();\n      }\n    }\n</code></pre>\n"},{"tags":["java","file","file-exists"],"comments":[{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":1,"creation_date":1661724955,"post_id":73522563,"comment_id":129833893,"body_markdown":"Uhm... I can&#39;t check now because not at home, but did you try with *foobarFile.toFile().exists();* Not sure if it uses the same code or not to test if the file exists.\n\nFor your question... perhaps the OS has a cache somewhere for the files, and it remembers if the file exists. I think that windows have a &quot;findFile&quot; service or something like that it uses to speed the search for files.","body":"Uhm... I can&#39;t check now because not at home, but did you try with <i>foobarFile.toFile().exists();</i> Not sure if it uses the same code or not to test if the file exists.  For your question... perhaps the OS has a cache somewhere for the files, and it remembers if the file exists. I think that windows have a &quot;findFile&quot; service or something like that it uses to speed the search for files."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1661725698,"post_id":73522563,"comment_id":129834001,"body_markdown":"Luca, amazingly your hunch was right: `File.exists()` is much more efficient. It looks like the culprit is Windows Defender (see my answer), but still it&#39;s startling that Java is using that sort of check with `Files.exists(Path)` to begin with.","body":"Luca, amazingly your hunch was right: <code>File.exists()</code> is much more efficient. It looks like the culprit is Windows Defender (see my answer), but still it&#39;s startling that Java is using that sort of check with <code>Files.exists(Path)</code> to begin with."}],"answers":[{"comments":[{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":0,"creation_date":1661726187,"post_id":73522678,"comment_id":129834065,"body_markdown":"I don&#39;t know the details, but file.exists() has its own problems and it&#39;s said to not be always reliable. Not sure why, because it always worked fine for me, but it seems it can have problems in a shared environment where other applications can access the same file.\nPerhaps File.exists() is more reliable in those conditions, don&#39;t really know. Well, if you need that for work, expecially in a shared environment, perhaps you should try to look into it.","body":"I don&#39;t know the details, but file.exists() has its own problems and it&#39;s said to not be always reliable. Not sure why, because it always worked fine for me, but it seems it can have problems in a shared environment where other applications can access the same file. Perhaps File.exists() is more reliable in those conditions, don&#39;t really know. Well, if you need that for work, expecially in a shared environment, perhaps you should try to look into it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661732974,"post_id":73522678,"comment_id":129834886,"body_markdown":"*&quot;Why, why, why is Java using this brute-force open-the-file to check for existence with Java NIO Files.exists(Path)? This is a problem.&quot;* - Raise an issue ... with evidence.","body":"<i>&quot;Why, why, why is Java using this brute-force open-the-file to check for existence with Java NIO Files.exists(Path)? This is a problem.&quot;</i> - Raise an issue ... with evidence."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661733189,"post_id":73522678,"comment_id":129834903,"body_markdown":"I expect (I haven&#39;t checked!!) that the reason is that the old `File.exist` implementation is insufficient to deal with some edge cases, and that it gives incorrect answers.  So they did it properly ... because people complained about the incorrect answers.  Now a different set of people complain because the new implementation it is too slow.  You can&#39;t win with Windows.","body":"I expect (I haven&#39;t checked!!) that the reason is that the old <code>File.exist</code> implementation is insufficient to deal with some edge cases, and that it gives incorrect answers.  So they did it properly ... because people complained about the incorrect answers.  Now a different set of people complain because the new implementation it is too slow.  You can&#39;t win with Windows."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661733451,"post_id":73522678,"comment_id":129834932,"body_markdown":"Having said that ... `exist` checks (to avoid exceptions) are a bad idea anyway.  In the best case you ask the system the checks twice; once in `exists` and again in the `open`.  In the worst case there are race conditions ...","body":"Having said that ... <code>exist</code> checks (to avoid exceptions) are a bad idea anyway.  In the best case you ask the system the checks twice; once in <code>exists</code> and again in the <code>open</code>.  In the worst case there are race conditions ..."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1661734068,"post_id":73522678,"comment_id":129834996,"body_markdown":"&quot;Having said that ... `exist` checks (to avoid exceptions) are a bad idea anyway.&quot; I&#39;m not doing `exists()` to avoid exceptions. As part of a data processing pipeline with hundreds of thousands of files, with a repeatable pipeline when there are errors, the pipeline simply needs to check whether the file needs to be downloaded or has already been downloaded. A later stage in the pipeline will worry about whether the file is readable or not. But we can&#39;t spend hours in the &quot;acquire&quot; stage of the pipeline just confirming that files have been downloaded.","body":"&quot;Having said that ... <code>exist</code> checks (to avoid exceptions) are a bad idea anyway.&quot; I&#39;m not doing <code>exists()</code> to avoid exceptions. As part of a data processing pipeline with hundreds of thousands of files, with a repeatable pipeline when there are errors, the pipeline simply needs to check whether the file needs to be downloaded or has already been downloaded. A later stage in the pipeline will worry about whether the file is readable or not. But we can&#39;t spend hours in the &quot;acquire&quot; stage of the pipeline just confirming that files have been downloaded."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1661734239,"post_id":73522678,"comment_id":129835013,"body_markdown":"One workaround will be for me to write my own logic to do a recursive traversal of the tree, put the paths in a map, and do my own &quot;exists&quot; logic by looking in the map. (But why should I have to?) Then I would have to worry about the huge map, maybe spilling some of it to disk to keep from running out of memory. Ugh.","body":"One workaround will be for me to write my own logic to do a recursive traversal of the tree, put the paths in a map, and do my own &quot;exists&quot; logic by looking in the map. (But why should I have to?) Then I would have to worry about the huge map, maybe spilling some of it to disk to keep from running out of memory. Ugh."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1661734712,"post_id":73522678,"comment_id":129835071,"body_markdown":"Ah ... OK.  So your use-case for `exists` sounds to be a legitimate one.   But the flipside is that the reasons for the &quot;slow&quot; `Path.exists` will most likely be legitimate too.  Suggestion: try using the old `File.exist` API instead.","body":"Ah ... OK.  So your use-case for <code>exists</code> sounds to be a legitimate one.   But the flipside is that the reasons for the &quot;slow&quot; <code>Path.exists</code> will most likely be legitimate too.  Suggestion: try using the old <code>File.exist</code> API instead."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1661734727,"post_id":73522678,"comment_id":129835076,"body_markdown":"&quot;Suggestion: try using the old `File.exist` API instead.&quot; I am a proud Java user and promoter. That suggestion does not make me proud to use Java, especially when I am constantly hounding my clients to upgrade from the old `File` API—not to mention in my [software development course](https://www.globalmentor.com/courses/softdev/io). This is disappointing to say the least.","body":"&quot;Suggestion: try using the old <code>File.exist</code> API instead.&quot; I am a proud Java user and promoter. That suggestion does not make me proud to use Java, especially when I am constantly hounding my clients to upgrade from the old <code>File</code> API—not to mention in my <a href=\"https://www.globalmentor.com/courses/softdev/io\" rel=\"nofollow noreferrer\">software development course</a>. This is disappointing to say the least."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1661734801,"post_id":73522678,"comment_id":129835088,"body_markdown":"Well ... yea.  I suggest you go have a beer with someone on the Java dev team ...","body":"Well ... yea.  I suggest you go have a beer with someone on the Java dev team ..."}],"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661725637,"creation_date":1661725314,"answer_id":73522678,"question_id":73522563,"body_markdown":"This seems to be related to Windows Defender. I went to **Windows Security Center &gt; Virus &amp; threat protection &gt; Virus &amp; threat protection settings** and added the `data` directory to the exclusions. Suddenly my program screamed through all the directories.\r\n\r\nApparently Java&#39;s approach for checking that a file exists (by opening the file) coupled with Windows Defender slows file existence checking to a halt!!\r\n\r\n(I just verified this by removing the Windows Defender exclusion; the loop screeched to a halt when I ran it immediately after doing that.)\r\n\r\nThis is not a good thing. This is not a good thing at all. Neither Java nor Windows Defender seem to be doing the ideal thing here, either.\r\n\r\n(I&#39;ve also noticed that the first time I do a Maven build in a directory, it&#39;s horribly slow after a reboot until I&#39;ve built the project once. I wonder if adding the project directory to the Windows Defender exclusion list would help …)\r\n\r\nAs Luca Scarcia suggested, `File.exist()` uses a different technique and amazingly seems to fly through all the directories, even without a Windows Defender exclusion.\r\n\r\nWhy, why, why is Java using this brute-force open-the-file to check for existence with Java NIO `Files.exists(Path)`? This is a problem.","title":"Java 17 path exists() taking an extraordinarily long time when file exists","body":"<p>This seems to be related to Windows Defender. I went to <strong>Windows Security Center &gt; Virus &amp; threat protection &gt; Virus &amp; threat protection settings</strong> and added the <code>data</code> directory to the exclusions. Suddenly my program screamed through all the directories.</p>\n<p>Apparently Java's approach for checking that a file exists (by opening the file) coupled with Windows Defender slows file existence checking to a halt!!</p>\n<p>(I just verified this by removing the Windows Defender exclusion; the loop screeched to a halt when I ran it immediately after doing that.)</p>\n<p>This is not a good thing. This is not a good thing at all. Neither Java nor Windows Defender seem to be doing the ideal thing here, either.</p>\n<p>(I've also noticed that the first time I do a Maven build in a directory, it's horribly slow after a reboot until I've built the project once. I wonder if adding the project directory to the Windows Defender exclusion list would help …)</p>\n<p>As Luca Scarcia suggested, <code>File.exist()</code> uses a different technique and amazingly seems to fly through all the directories, even without a Windows Defender exclusion.</p>\n<p>Why, why, why is Java using this brute-force open-the-file to check for existence with Java NIO <code>Files.exists(Path)</code>? This is a problem.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699432300,"creation_date":1661723924,"question_id":73522563,"body_markdown":"I&#39;m using Java 17 on Windows 10. I have a set of directories in this form:\r\n\r\n```\r\ndata/dir-0\r\ndata/dir-1\r\ndata/dir-2\r\n…\r\ndata/dir-999\r\n```\r\n\r\nI have a loop over the integers `0` to `999` with variable `i`. Within each loop, I just check to see if there is a `foo.bar` file inside the subdirectory:\r\n\r\n```java\r\nPath foobarFile = dataDir.resolve(&quot;dir-&quot;+i);\r\nif(Files.exists(fooBarFile)) {\r\n  //do something; currently does nothing\r\n}\r\n```\r\n\r\nIf all the `data/dir-*` directories are empty, them boom, the entire loop ends in a flash (some small fraction of a second).\r\n\r\nBut if some of the `data/dir-*` directories contain a `foo.bar` file, the loop speeds through the empty directories until it actually finds a `foo.bar` file, and then suddenly each `exists(fooBarFile)` call takes almost half a second! (And each call takes the same amount of time, as if there was some clock counting.)\r\n\r\nThen it gets even weirder: if I run the program again with no changes, it somehow &quot;remembers where it left off&quot;, and will speed through all the directories until it gets to one it hasn&#39;t checked before. Then each `exists(fooBarFile)` call takes almost a second.\r\n\r\nNote that this happens both within Eclipse and from the command line.\r\n\r\nWhy does `exists(fooBarFile)` take so long when the file actually exists? And how could it &quot;remember&quot; which ones it checked between running the application? I&#39;m flummoxed.\r\n\r\n_Update:_ Apparently here is how Java 17 checks to see if a Windows path exists, inside `sun.nio.fs.WindowsFileSystemProvider.checkReadAccess(WindowsPath file)`:\r\n\r\n```java\r\n\r\ntry {\r\n  Set&lt;OpenOption&gt; opts = Collections.emptySet();\r\n  FileChannel fc = WindowsChannelFactory\r\n      .newFileChannel(file.getPathForWin32Calls(),\r\n          file.getPathForPermissionCheck(), opts, 0L);\r\n  fc.close();\r\n} catch (WindowsException exc) {\r\n…\r\n```\r\n\r\nYes, it appears that Java tells if a file exists by opening up a channel to the file!! &#128550;&#128557;\r\n\r\nTell me it isn&#39;t so. I just need to know if a file is there so I&#39;ll know whether it needs to be generated or not. I don&#39;t need to check for read access or anything. Isn&#39;t there a more efficient way? And besides, surely opening and closing a channel shouldn&#39;t take a whole second on a recent machine with an SSD, should it??","title":"Java 17 path exists() taking an extraordinarily long time when file exists","body":"<p>I'm using Java 17 on Windows 10. I have a set of directories in this form:</p>\n<pre><code>data/dir-0\ndata/dir-1\ndata/dir-2\n…\ndata/dir-999\n</code></pre>\n<p>I have a loop over the integers <code>0</code> to <code>999</code> with variable <code>i</code>. Within each loop, I just check to see if there is a <code>foo.bar</code> file inside the subdirectory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path foobarFile = dataDir.resolve(&quot;dir-&quot;+i);\nif(Files.exists(fooBarFile)) {\n  //do something; currently does nothing\n}\n</code></pre>\n<p>If all the <code>data/dir-*</code> directories are empty, them boom, the entire loop ends in a flash (some small fraction of a second).</p>\n<p>But if some of the <code>data/dir-*</code> directories contain a <code>foo.bar</code> file, the loop speeds through the empty directories until it actually finds a <code>foo.bar</code> file, and then suddenly each <code>exists(fooBarFile)</code> call takes almost half a second! (And each call takes the same amount of time, as if there was some clock counting.)</p>\n<p>Then it gets even weirder: if I run the program again with no changes, it somehow &quot;remembers where it left off&quot;, and will speed through all the directories until it gets to one it hasn't checked before. Then each <code>exists(fooBarFile)</code> call takes almost a second.</p>\n<p>Note that this happens both within Eclipse and from the command line.</p>\n<p>Why does <code>exists(fooBarFile)</code> take so long when the file actually exists? And how could it &quot;remember&quot; which ones it checked between running the application? I'm flummoxed.</p>\n<p><em>Update:</em> Apparently here is how Java 17 checks to see if a Windows path exists, inside <code>sun.nio.fs.WindowsFileSystemProvider.checkReadAccess(WindowsPath file)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ntry {\n  Set&lt;OpenOption&gt; opts = Collections.emptySet();\n  FileChannel fc = WindowsChannelFactory\n      .newFileChannel(file.getPathForWin32Calls(),\n          file.getPathForPermissionCheck(), opts, 0L);\n  fc.close();\n} catch (WindowsException exc) {\n…\n</code></pre>\n<p>Yes, it appears that Java tells if a file exists by opening up a channel to the file!! 😦😭</p>\n<p>Tell me it isn't so. I just need to know if a file is there so I'll know whether it needs to be generated or not. I don't need to check for read access or anything. Isn't there a more efficient way? And besides, surely opening and closing a channel shouldn't take a whole second on a recent machine with an SSD, should it??</p>\n"},{"tags":["java","jakarta-ee","ejb","cdi"],"answers":[{"tags":[],"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1569670084,"creation_date":1489582442,"answer_id":42810401,"question_id":42810143,"body_markdown":"It&#39;s [@Dependent](https://docs.oracle.com/javaee/7/api/javax/enterprise/context/Dependent.html). \r\n\r\nAccording to &quot;[_2.4.4. Default scope_](https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#default_scope)&quot; from the [CDI (1.2) specification](https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html):\r\n\r\n&gt; When no scope is explicitly declared by annotating the bean class or\r\n&gt; producer method or field the scope of a bean is defaulted.\r\n&gt; \r\n&gt; \r\n&gt; The default scope for a bean which does not explicitly declare a scope\r\n&gt; depends upon its declared stereotypes:\r\n&gt; \r\n&gt; \r\n&gt;  • If the bean does not declare any stereotype with a declared default\r\n&gt; scope, the default scope for the bean is @Dependent.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; • If all stereotypes declared by the bean that have some declared\r\n&gt; default scope have the same default scope, then that scope is the\r\n&gt; default scope for the bean.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; • If there are two different stereotypes declared by the bean that\r\n&gt; declare different default scopes, then there is no default scope and\r\n&gt; the bean must explicitly declare a scope. If it does not explicitly\r\n&gt; declare a scope, the container automatically detects the problem and\r\n&gt; treats it as a definition error.\r\n&gt; \r\n&gt; \r\n&gt;  If a bean explicitly declares a scope, any default scopes declared by\r\n&gt; stereotypes are ignored.","title":"What&#39;s the default scope for a bean created by a @Produces method without a scope annotation?","body":"<p>It's <a href=\"https://docs.oracle.com/javaee/7/api/javax/enterprise/context/Dependent.html\" rel=\"nofollow noreferrer\">@Dependent</a>. </p>\n\n<p>According to \"<a href=\"https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html#default_scope\" rel=\"nofollow noreferrer\"><em>2.4.4. Default scope</em></a>\" from the <a href=\"https://docs.jboss.org/cdi/spec/1.2/cdi-spec.html\" rel=\"nofollow noreferrer\">CDI (1.2) specification</a>:</p>\n\n<blockquote>\n  <p>When no scope is explicitly declared by annotating the bean class or\n  producer method or field the scope of a bean is defaulted.</p>\n  \n  <p>The default scope for a bean which does not explicitly declare a scope\n  depends upon its declared stereotypes:</p>\n  \n  <p>• If the bean does not declare any stereotype with a declared default\n  scope, the default scope for the bean is @Dependent.</p>\n  \n  <p>• If all stereotypes declared by the bean that have some declared\n  default scope have the same default scope, then that scope is the\n  default scope for the bean.</p>\n  \n  <p>• If there are two different stereotypes declared by the bean that\n  declare different default scopes, then there is no default scope and\n  the bean must explicitly declare a scope. If it does not explicitly\n  declare a scope, the container automatically detects the problem and\n  treats it as a definition error.</p>\n  \n  <p>If a bean explicitly declares a scope, any default scopes declared by\n  stereotypes are ignored.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8854974,"reputation":1387,"user_id":6613014,"display_name":"Rouliboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585126837,"creation_date":1489583171,"answer_id":42810686,"question_id":42810143,"body_markdown":"As you do not define any Scope, your produced bean will be **`@Dependent`** by defaut.\r\n\r\nIt means that lifecycle of the produced bean will be the lifecycle of the bean which in which it is injected (contains the `@Inject`).\r\n\r\nSo if you have the following producer :\r\n\r\n    public class AppleProducer {\r\n        @Produces\r\n        public Apple createApple() {\r\n            return new Apple();\r\n        }\r\n    }\r\n\r\nIf you Inject an Apple in an `@ApplicationScoped` `Pie` Bean :\r\n\r\n    @ApplicationScoped\r\n    public class Pie {\r\n        \r\n        @Inject\r\n        private Apple apple;\r\n    }\r\n\r\nThen the `Apple` bean will be `@ApplicationScoped`, so created just one time.\r\n\r\nIf `Pie` bean is `@RequestScoped` then the `Apple` bean will be created at each request.\r\n","title":"What&#39;s the default scope for a bean created by a @Produces method without a scope annotation?","body":"<p>As you do not define any Scope, your produced bean will be <strong><code>@Dependent</code></strong> by defaut.</p>\n\n<p>It means that lifecycle of the produced bean will be the lifecycle of the bean which in which it is injected (contains the <code>@Inject</code>).</p>\n\n<p>So if you have the following producer :</p>\n\n<pre><code>public class AppleProducer {\n    @Produces\n    public Apple createApple() {\n        return new Apple();\n    }\n}\n</code></pre>\n\n<p>If you Inject an Apple in an <code>@ApplicationScoped</code> <code>Pie</code> Bean :</p>\n\n<pre><code>@ApplicationScoped\npublic class Pie {\n\n    @Inject\n    private Apple apple;\n}\n</code></pre>\n\n<p>Then the <code>Apple</code> bean will be <code>@ApplicationScoped</code>, so created just one time.</p>\n\n<p>If <code>Pie</code> bean is <code>@RequestScoped</code> then the <code>Apple</code> bean will be created at each request.</p>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1984,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42810401,"answer_count":2,"score":9,"last_activity_date":1699432174,"creation_date":1489581828,"question_id":42810143,"body_markdown":"I&#39;ve got a method with a [`@Produces`][1] annotation that creates an `Apple`.\r\n\r\nWhen I use it with `@ApplicationScoped` like this\r\n\r\n    public class AppleProducer {\r\n    \t@ApplicationScoped\r\n        @Produces\r\n        public Apple createApple() {\r\n            return new Apple();\r\n        }\r\n    }\r\n\r\nthen the Apple gets created only once for the whole application.\r\n\r\nWhen I use it with `@RequestScoped` like this\r\n\r\n    public class AppleProducer {\r\n    \t@RequestScoped\r\n        @Produces\r\n        public Apple createApple() {\r\n            return new Apple();\r\n        }\r\n    }\r\n\r\nthen it gets created for every request.\r\n\r\nBut what if I do not specify a scope?\r\n\r\n    public class AppleProducer {\r\n        @Produces\r\n        public Apple createApple() {\r\n            return new Apple();\r\n        }\r\n    }\r\n\r\nHow often will the Apple be created? I suspect on every access, is it correct? Is there documentation about this?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/enterprise/inject/Produces.html","title":"What&#39;s the default scope for a bean created by a @Produces method without a scope annotation?","body":"<p>I've got a method with a <a href=\"http://docs.oracle.com/javaee/7/api/javax/enterprise/inject/Produces.html\" rel=\"noreferrer\"><code>@Produces</code></a> annotation that creates an <code>Apple</code>.</p>\n\n<p>When I use it with <code>@ApplicationScoped</code> like this</p>\n\n<pre><code>public class AppleProducer {\n    @ApplicationScoped\n    @Produces\n    public Apple createApple() {\n        return new Apple();\n    }\n}\n</code></pre>\n\n<p>then the Apple gets created only once for the whole application.</p>\n\n<p>When I use it with <code>@RequestScoped</code> like this</p>\n\n<pre><code>public class AppleProducer {\n    @RequestScoped\n    @Produces\n    public Apple createApple() {\n        return new Apple();\n    }\n}\n</code></pre>\n\n<p>then it gets created for every request.</p>\n\n<p>But what if I do not specify a scope?</p>\n\n<pre><code>public class AppleProducer {\n    @Produces\n    public Apple createApple() {\n        return new Apple();\n    }\n}\n</code></pre>\n\n<p>How often will the Apple be created? I suspect on every access, is it correct? Is there documentation about this?</p>\n"},{"tags":["java","selenium-webdriver","package"],"answers":[{"tags":[],"owner":{"account_id":6681699,"reputation":1659,"user_id":5154601,"display_name":"leaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699431801,"creation_date":1699431356,"answer_id":77443836,"question_id":76448203,"body_markdown":"You can import devtools packages as well as `Netowrk` like\r\n```java\r\nimport org.openqa.selenium.devtools.DevTools;\r\nimport org.openqa.selenium.devtools.HasDevTools;\r\nimport org.openqa.selenium.devtools.v118.browser.Browser;\r\nimport org.openqa.selenium.devtools.v118.network.Network;\r\nimport org.openqa.selenium.devtools.v118.network.model.Headers;\r\nimport org.openqa.selenium.devtools.v118.performance.Performance;\r\nimport org.openqa.selenium.devtools.v118.performance.model.Metric;\r\nimport org.openqa.selenium.devtools.v118.runtime.Runtime;\r\n```\r\nwith `pom.xml` artifact declaration\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.15.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nSee https://www.selenium.dev/documentation/webdriver/bidirectional/chrome_devtools/cdp_api/\r\n\r\nIts example on Github: https://github.com/SeleniumHQ/seleniumhq.github.io/blob/trunk//examples/java/src/test/java/dev/selenium/bidirectional/chrome_devtools/CdpApiTest.java#L24-L31","title":"Selenium devtool network Java package","body":"<p>You can import devtools packages as well as <code>Netowrk</code> like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.devtools.DevTools;\nimport org.openqa.selenium.devtools.HasDevTools;\nimport org.openqa.selenium.devtools.v118.browser.Browser;\nimport org.openqa.selenium.devtools.v118.network.Network;\nimport org.openqa.selenium.devtools.v118.network.model.Headers;\nimport org.openqa.selenium.devtools.v118.performance.Performance;\nimport org.openqa.selenium.devtools.v118.performance.model.Metric;\nimport org.openqa.selenium.devtools.v118.runtime.Runtime;\n</code></pre>\n<p>with <code>pom.xml</code> artifact declaration</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.15.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See <a href=\"https://www.selenium.dev/documentation/webdriver/bidirectional/chrome_devtools/cdp_api/\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/bidirectional/chrome_devtools/cdp_api/</a></p>\n<p>Its example on Github: <a href=\"https://github.com/SeleniumHQ/seleniumhq.github.io/blob/trunk//examples/java/src/test/java/dev/selenium/bidirectional/chrome_devtools/CdpApiTest.java#L24-L31\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/seleniumhq.github.io/blob/trunk//examples/java/src/test/java/dev/selenium/bidirectional/chrome_devtools/CdpApiTest.java#L24-L31</a></p>\n"}],"owner":{"account_id":2435926,"reputation":21167,"user_id":2125837,"accept_rate":83,"display_name":"xpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77443836,"answer_count":1,"score":0,"last_activity_date":1699431801,"creation_date":1686432158,"question_id":76448203,"body_markdown":"Where can I get the Selenium devtool network related Java packages?\r\n\r\nI&#39;m getting the following errors:\r\n\r\n```\r\nerror: package org.openqa.selenium.devtools.network does not exist\r\nimport org.openqa.selenium.devtools.network.Network;\r\n\r\nerror: package org.openqa.selenium.devtools.network.model does not exist\r\nimport org.openqa.selenium.devtools.network.model.Headers;\r\n```\r\n\r\nand I was having a hard time fixing it.\r\n\r\nFrom these two urls, \r\n\r\n- https://jar-download.com/artifacts/org.seleniumhq.selenium/selenium-devtools/4.0.0-alpha-5/source-code/org/openqa/selenium/devtools/network/model/Headers.java\r\n- https://jar-download.com/artifacts/org.seleniumhq.selenium/selenium-devtools/4.0.0-alpha-5/source-code/org/openqa/selenium/devtools/network/Network.java\r\n\r\nIt seems they both comes from:\r\n\r\n```json\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIs it that I have to install this *specific* and *old* version? As I got the latest 4.0.0-rc-1 in `target/dependency/selenium-devtools-4.0.0-rc-1.jar`, but I&#39;m still getting the above compilation errors.\r\n\r\nHow to fix them please?\r\n\r\n","title":"Selenium devtool network Java package","body":"<p>Where can I get the Selenium devtool network related Java packages?</p>\n<p>I'm getting the following errors:</p>\n<pre><code>error: package org.openqa.selenium.devtools.network does not exist\nimport org.openqa.selenium.devtools.network.Network;\n\nerror: package org.openqa.selenium.devtools.network.model does not exist\nimport org.openqa.selenium.devtools.network.model.Headers;\n</code></pre>\n<p>and I was having a hard time fixing it.</p>\n<p>From these two urls,</p>\n<ul>\n<li><a href=\"https://jar-download.com/artifacts/org.seleniumhq.selenium/selenium-devtools/4.0.0-alpha-5/source-code/org/openqa/selenium/devtools/network/model/Headers.java\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.seleniumhq.selenium/selenium-devtools/4.0.0-alpha-5/source-code/org/openqa/selenium/devtools/network/model/Headers.java</a></li>\n<li><a href=\"https://jar-download.com/artifacts/org.seleniumhq.selenium/selenium-devtools/4.0.0-alpha-5/source-code/org/openqa/selenium/devtools/network/Network.java\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.seleniumhq.selenium/selenium-devtools/4.0.0-alpha-5/source-code/org/openqa/selenium/devtools/network/Network.java</a></li>\n</ul>\n<p>It seems they both comes from:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-devtools&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-alpha-5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is it that I have to install this <em>specific</em> and <em>old</em> version? As I got the latest 4.0.0-rc-1 in <code>target/dependency/selenium-devtools-4.0.0-rc-1.jar</code>, but I'm still getting the above compilation errors.</p>\n<p>How to fix them please?</p>\n"},{"tags":["java","compilation","containers","jit","java-17"],"owner":{"account_id":24935747,"reputation":33,"user_id":18802355,"display_name":"Viraj C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1699431618,"creation_date":1687776826,"question_id":76556012,"body_markdown":"I recently upgraded my web application from OpenJDK 8 to OpenJDK 17. During upgrade testing we realized that containers are being killed with OOMKilled (137) status. \r\n\r\n\r\n\r\nVM parameters provided for application\r\n```\r\n-Xms1024m -Xmx1024m -XX:InitiatingHeapOccupancyPercent=40 -XX:MaxDirectMemorySize=256m  -XX:MaxMetaspaceSize=256m -server -Xdebug -Xrunjdwp:server=y,transport=dt_socket,suspend=n -XX:+UseG1GC -Dfile.encoding=UTF-8 -DIGNITE_UPDATE_NOTIFIER=false -Xlog:gc:/var/log/service-gclog.txt  -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/log/dump -XX:+ExitOnOutOfMemoryError -XX:+FlightRecorder\r\n```\r\nPOD memory is having 2GB allocated to it.\r\n\r\nThe java log prints &quot;Killed&quot;. This is why I started looking in Native memory consumption, So started capturing details with `jcmd &lt;PS_ID&gt; VM.native_memory` command during test.\r\n\r\n**Test:** Test consist of creating purchase order(~7 API per order) via jmeter. The service fails around 50 order creation.\r\n\r\nBelow are the initial readings\r\n\r\n```\r\n-                  Compiler (reserved=1013KB, committed=1013KB)\r\n                            (malloc=849KB #1601) \r\n                            (arena=165KB #5)\r\n\r\n```\r\nBelow are the readings just before POD got killed\r\n\r\n```\r\n-                  Compiler (reserved=678349KB, committed=678349KB)\r\n                            (malloc=1729KB #2690) \r\n                            (arena=676621KB #13)\r\n\r\n```\r\nMeaning Compiler was using ~678MB before the container died.\r\n\r\n**Is there a way to limit this memory consumption?**\r\n\r\nHeap utilization is still within 1G and GC is working as expected.\r\n\r\nAfter this I have tried multiple options but nothing that provides real effect on compiler memory except disabling inline itself with `-XX:-Inline ` flag. This flag of-course has impact on performance which is why im still looking for another option.\r\nSo far I have tried \r\n- Disabling IncrementalInline \r\n- Enabling IncrementalInlineForceCleanup\r\n- Disabling Inline\r\n- Disabling InlineUnsafeOps - Reduces memory consumption upto certain limit but as soon as I add another test scenario(invoke another api apart from order creation) memory consumption increases and OOMKiled is triggered.\r\n- Reduce MaxInlineLevel to 9\r\n- Disabling UseInlineCaches\r\n- Disabling TieredCompilation\r\n\r\n\r\nOn the container side I am using Alpine-3.17.3 with cgroupv2 configuration \r\n\r\nI tried increasing POD memory to 2.5G (Thinking that jdk17 might need more native memory to do C2 level optimization )but the OOMKilled event still occurs\r\n\r\n    Continer Memory Details \r\n    \r\n    Runtime.availableProcessors: 2\r\n    OperatingSystemMXBean.getAvailableProcessors: 2\r\n    OperatingSystemMXBean.getTotalPhysicalMemorySize: 2684354560\r\n    OperatingSystemMXBean.getFreePhysicalMemorySize: 1241612288\r\n    OperatingSystemMXBean.getTotalSwapSpaceSize: 0\r\n    OperatingSystemMXBean.getFreeSwapSpaceSize: 0\r\n\r\n**Is there anything else I should be investigating in ?**\r\n\r\n","title":"Java JIT/Inline compiler memory causing container OOMKilled event","body":"<p>I recently upgraded my web application from OpenJDK 8 to OpenJDK 17. During upgrade testing we realized that containers are being killed with OOMKilled (137) status.</p>\n<p>VM parameters provided for application</p>\n<pre><code>-Xms1024m -Xmx1024m -XX:InitiatingHeapOccupancyPercent=40 -XX:MaxDirectMemorySize=256m  -XX:MaxMetaspaceSize=256m -server -Xdebug -Xrunjdwp:server=y,transport=dt_socket,suspend=n -XX:+UseG1GC -Dfile.encoding=UTF-8 -DIGNITE_UPDATE_NOTIFIER=false -Xlog:gc:/var/log/service-gclog.txt  -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/log/dump -XX:+ExitOnOutOfMemoryError -XX:+FlightRecorder\n</code></pre>\n<p>POD memory is having 2GB allocated to it.</p>\n<p>The java log prints &quot;Killed&quot;. This is why I started looking in Native memory consumption, So started capturing details with <code>jcmd &lt;PS_ID&gt; VM.native_memory</code> command during test.</p>\n<p><strong>Test:</strong> Test consist of creating purchase order(~7 API per order) via jmeter. The service fails around 50 order creation.</p>\n<p>Below are the initial readings</p>\n<pre><code>-                  Compiler (reserved=1013KB, committed=1013KB)\n                            (malloc=849KB #1601) \n                            (arena=165KB #5)\n\n</code></pre>\n<p>Below are the readings just before POD got killed</p>\n<pre><code>-                  Compiler (reserved=678349KB, committed=678349KB)\n                            (malloc=1729KB #2690) \n                            (arena=676621KB #13)\n\n</code></pre>\n<p>Meaning Compiler was using ~678MB before the container died.</p>\n<p><strong>Is there a way to limit this memory consumption?</strong></p>\n<p>Heap utilization is still within 1G and GC is working as expected.</p>\n<p>After this I have tried multiple options but nothing that provides real effect on compiler memory except disabling inline itself with <code>-XX:-Inline </code> flag. This flag of-course has impact on performance which is why im still looking for another option.\nSo far I have tried</p>\n<ul>\n<li>Disabling IncrementalInline</li>\n<li>Enabling IncrementalInlineForceCleanup</li>\n<li>Disabling Inline</li>\n<li>Disabling InlineUnsafeOps - Reduces memory consumption upto certain limit but as soon as I add another test scenario(invoke another api apart from order creation) memory consumption increases and OOMKiled is triggered.</li>\n<li>Reduce MaxInlineLevel to 9</li>\n<li>Disabling UseInlineCaches</li>\n<li>Disabling TieredCompilation</li>\n</ul>\n<p>On the container side I am using Alpine-3.17.3 with cgroupv2 configuration</p>\n<p>I tried increasing POD memory to 2.5G (Thinking that jdk17 might need more native memory to do C2 level optimization )but the OOMKilled event still occurs</p>\n<pre><code>Continer Memory Details \n\nRuntime.availableProcessors: 2\nOperatingSystemMXBean.getAvailableProcessors: 2\nOperatingSystemMXBean.getTotalPhysicalMemorySize: 2684354560\nOperatingSystemMXBean.getFreePhysicalMemorySize: 1241612288\nOperatingSystemMXBean.getTotalSwapSpaceSize: 0\nOperatingSystemMXBean.getFreeSwapSpaceSize: 0\n</code></pre>\n<p><strong>Is there anything else I should be investigating in ?</strong></p>\n"},{"tags":["java","spring-boot","sorting","substring","backend"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1699397482,"post_id":77441839,"comment_id":136526037,"body_markdown":"yes - parse the `String` attribute to a `LocalDate` attribute, and sort on day of month.  Also, what should be sort order if the list contains multiple months for the same day?","body":"yes - parse the <code>String</code> attribute to a <code>LocalDate</code> attribute, and sort on day of month.  Also, what should be sort order if the list contains multiple months for the same day?"},{"owner":{"account_id":29449413,"reputation":25,"user_id":22566131,"display_name":"Miguel Celos"},"score":0,"creation_date":1699400050,"post_id":77441839,"comment_id":136526327,"body_markdown":"The List will only return days for a month. Is that format acceptable for localdate?","body":"The List will only return days for a month. Is that format acceptable for localdate?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1699400065,"post_id":77441839,"comment_id":136526332,"body_markdown":"`list.sort(Comparator.comparing(e -&gt; e.attr.substring(8, 9)));`","body":"<code>list.sort(Comparator.comparing(e -&gt; e.attr.substring(8, 9)));</code>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699431595,"creation_date":1699431595,"answer_id":77443860,"question_id":77441839,"body_markdown":"&gt; I want to sort those objects by their substring(8,9) which is 26 in\r\n&gt; this case.\r\n\r\n`substring(8, 9)` will not provide 26 from `&quot;Thu Oct 26 2023&quot;`, it will provide **`2`**. To get `26` you would need `substring(8, 10)`. At this stage, it&#39;s hard to say whether or not the *days of the month* will always be in the format of two digits (as in `01`, `02`, `30`, etc) or will it possibly be in the format of single digits as well (as in `1`, `2`, `30`, etc). \r\n\r\nIn the provided date (`&quot;Thu Oct 26 2023&quot;`), one thing that is for sure is the fact that, if the actual string date format is always followed, there will always be a white-space between the date components. Based on this fact, it would be more beneficial to split the date components to collect the actual *day of the month* regardless of how many digits it may be.\r\n \r\n    // `hireDate` is an instance variable within the `MyObject` class:\r\n    // `list` is a List of MyObject instances, ex: List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\r\n    list.sort(java.util.Comparator.comparing(e -&gt; e.hireDate.split(&quot;\\\\s&quot;)[2]));\r\n\r\nThis however will not sort properly. Consider the fact that the date is a string and string represented integer numbers such as the *day of month* and the *year* do not sort the same as actual Integer (int or long type) numbers, for example, to sort string values of: &quot;10&quot;, &quot;3&quot;, &quot;1&quot;, and &quot;5&quot;, you would think that the sorted result would be: `&quot;1&quot;, &quot;3&quot;, &quot;5&quot;, &quot;10&quot;` but...it won&#39;t be. It will be sorted as `&quot;1&quot;, &quot;10&quot;, &quot;3&quot;, &quot;5&quot;`. If the above values were actual int or long type integer values: `10, 3, 1, and 5` then these numbers would indeed be sorted in ascending order as `1, 3, 5, 10` as expected.\r\n\r\nTo get around this little problem we can convert the String represented integer values to BigInteger which accepts string values and will allow the sort to be carried out properly:\r\n\r\n    // `hireDate` is an instance variable within the `MyObject` class:\r\n    // `list` is a List of MyObject instances, ex: List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\r\n    list.sort(java.util.Comparator.comparing(e -&gt; \r\n                new java.math.BigInteger(e.hireDate.split(&quot;\\\\s&quot;)[2])));\r\n\r\nwould result in a sorted list of: `&quot;1&quot;, &quot;3&quot;, &quot;5&quot;, &quot;10&quot;`. \r\n\r\nTo see the above code in action, create a new project and create a SortByDay class with a `main()` method and copy paste the following runnable code into it. Be sure to read the comments in code:\r\n\r\n```\r\npublic class SortByDay {\r\n    \r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for statics\r\n           unless we really want them:        */\r\n        new SortByDay().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        // Create a java.util.List of MyObject instances:\r\n        java.util.List&lt;MyObject&gt; objList = new java.util.ArrayList&lt;&gt;();\r\n        objList.add(new MyObject(&quot;Tom Jones&quot;, 66, &quot;Thu Oct 4 2023&quot;, 32.50));\r\n        objList.add(new MyObject(&quot;Tracey Johnson&quot;, 59, &quot;Tue Oct 10 2023&quot;, 31.00));\r\n        objList.add(new MyObject(&quot;Dave Simpson&quot;, 30, &quot;Wed Oct 1 2023&quot;, 43.75));\r\n        \r\n        /* Display the List before sorting in Ascending order\r\n           by day of month:            */\r\n        System.out.println(&quot;Before Sorting:\\n===============&quot;);\r\n        for (MyObject o : objList) {\r\n            System.out.println(o.toString());\r\n        }\r\n        System.out.println();\r\n        \r\n        /* Sort the List of MyObject based on the day of month \r\n           in each instance contained within the List:     */\r\n        sortListedObjectByDayOfMonth(objList);\r\n        \r\n        /* Display the List after sorting in Ascending order\r\n           by day of month:            */\r\n        System.out.println(&quot;After Sorting:\\n==============&quot;);\r\n        for (MyObject o : objList) {\r\n            System.out.println(o.toString());\r\n        }\r\n    }\r\n    \r\n    public void sortListedObjectByDayOfMonth(java.util.List&lt;MyObject&gt; list) {\r\n        list.sort(java.util.Comparator.comparing(e -&gt; \r\n                new java.math.BigInteger(e.hireDate.split(&quot;\\\\s&quot;)[2])));\r\n    }\r\n    \r\n    public class MyObject {\r\n        \r\n        // Instance (member) variables:\r\n        private String name;\r\n        private int age;\r\n        private String hireDate;\r\n        private double wage;\r\n\r\n        // Constructor:\r\n        public MyObject(String name, int age, String hireDate, double wage) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.hireDate = hireDate;\r\n            this.wage = wage;\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return name + &quot;, &quot; + age + &quot;, \\&quot;&quot; + hireDate + &quot;\\&quot;, $&quot; \r\n                                + String.format(&quot;%.02f&quot;, wage);\r\n        }\r\n    }    \r\n}\r\n```\r\n\r\nConsole Window output should look something like this when the code is run:\r\n\r\n```\r\nBefore Sorting:\r\n===============\r\nTom Jones, 66, &quot;Thu Oct 4 2023&quot;, $32.50\r\nTracey Johnson, 59, &quot;Tue Oct 10 2023&quot;, $31.00\r\nDave Simpson, 30, &quot;Wed Oct 1 2023&quot;, $43.75\r\n\r\nAfter Sorting:\r\n==============\r\nDave Simpson, 30, &quot;Wed Oct 1 2023&quot;, $43.75\r\nTom Jones, 66, &quot;Thu Oct 4 2023&quot;, $32.50\r\nTracey Johnson, 59, &quot;Tue Oct 10 2023&quot;, $31.00\r\n```","title":"Sorting a list of objects by an attribute&#39;s substring","body":"<blockquote>\n<p>I want to sort those objects by their substring(8,9) which is 26 in\nthis case.</p>\n</blockquote>\n<p><code>substring(8, 9)</code> will not provide 26 from <code>&quot;Thu Oct 26 2023&quot;</code>, it will provide <strong><code>2</code></strong>. To get <code>26</code> you would need <code>substring(8, 10)</code>. At this stage, it's hard to say whether or not the <em>days of the month</em> will always be in the format of two digits (as in <code>01</code>, <code>02</code>, <code>30</code>, etc) or will it possibly be in the format of single digits as well (as in <code>1</code>, <code>2</code>, <code>30</code>, etc).</p>\n<p>In the provided date (<code>&quot;Thu Oct 26 2023&quot;</code>), one thing that is for sure is the fact that, if the actual string date format is always followed, there will always be a white-space between the date components. Based on this fact, it would be more beneficial to split the date components to collect the actual <em>day of the month</em> regardless of how many digits it may be.</p>\n<pre><code>// `hireDate` is an instance variable within the `MyObject` class:\n// `list` is a List of MyObject instances, ex: List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\nlist.sort(java.util.Comparator.comparing(e -&gt; e.hireDate.split(&quot;\\\\s&quot;)[2]));\n</code></pre>\n<p>This however will not sort properly. Consider the fact that the date is a string and string represented integer numbers such as the <em>day of month</em> and the <em>year</em> do not sort the same as actual Integer (int or long type) numbers, for example, to sort string values of: &quot;10&quot;, &quot;3&quot;, &quot;1&quot;, and &quot;5&quot;, you would think that the sorted result would be: <code>&quot;1&quot;, &quot;3&quot;, &quot;5&quot;, &quot;10&quot;</code> but...it won't be. It will be sorted as <code>&quot;1&quot;, &quot;10&quot;, &quot;3&quot;, &quot;5&quot;</code>. If the above values were actual int or long type integer values: <code>10, 3, 1, and 5</code> then these numbers would indeed be sorted in ascending order as <code>1, 3, 5, 10</code> as expected.</p>\n<p>To get around this little problem we can convert the String represented integer values to BigInteger which accepts string values and will allow the sort to be carried out properly:</p>\n<pre><code>// `hireDate` is an instance variable within the `MyObject` class:\n// `list` is a List of MyObject instances, ex: List&lt;MyObject&gt; list = new ArrayList&lt;&gt;();\nlist.sort(java.util.Comparator.comparing(e -&gt; \n            new java.math.BigInteger(e.hireDate.split(&quot;\\\\s&quot;)[2])));\n</code></pre>\n<p>would result in a sorted list of: <code>&quot;1&quot;, &quot;3&quot;, &quot;5&quot;, &quot;10&quot;</code>.</p>\n<p>To see the above code in action, create a new project and create a SortByDay class with a <code>main()</code> method and copy paste the following runnable code into it. Be sure to read the comments in code:</p>\n<pre><code>public class SortByDay {\n    \n    public static void main(String[] args) {\n        /* App started this way to avoid the need for statics\n           unless we really want them:        */\n        new SortByDay().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        // Create a java.util.List of MyObject instances:\n        java.util.List&lt;MyObject&gt; objList = new java.util.ArrayList&lt;&gt;();\n        objList.add(new MyObject(&quot;Tom Jones&quot;, 66, &quot;Thu Oct 4 2023&quot;, 32.50));\n        objList.add(new MyObject(&quot;Tracey Johnson&quot;, 59, &quot;Tue Oct 10 2023&quot;, 31.00));\n        objList.add(new MyObject(&quot;Dave Simpson&quot;, 30, &quot;Wed Oct 1 2023&quot;, 43.75));\n        \n        /* Display the List before sorting in Ascending order\n           by day of month:            */\n        System.out.println(&quot;Before Sorting:\\n===============&quot;);\n        for (MyObject o : objList) {\n            System.out.println(o.toString());\n        }\n        System.out.println();\n        \n        /* Sort the List of MyObject based on the day of month \n           in each instance contained within the List:     */\n        sortListedObjectByDayOfMonth(objList);\n        \n        /* Display the List after sorting in Ascending order\n           by day of month:            */\n        System.out.println(&quot;After Sorting:\\n==============&quot;);\n        for (MyObject o : objList) {\n            System.out.println(o.toString());\n        }\n    }\n    \n    public void sortListedObjectByDayOfMonth(java.util.List&lt;MyObject&gt; list) {\n        list.sort(java.util.Comparator.comparing(e -&gt; \n                new java.math.BigInteger(e.hireDate.split(&quot;\\\\s&quot;)[2])));\n    }\n    \n    public class MyObject {\n        \n        // Instance (member) variables:\n        private String name;\n        private int age;\n        private String hireDate;\n        private double wage;\n\n        // Constructor:\n        public MyObject(String name, int age, String hireDate, double wage) {\n            this.name = name;\n            this.age = age;\n            this.hireDate = hireDate;\n            this.wage = wage;\n        }\n        \n        @Override\n        public String toString() {\n            return name + &quot;, &quot; + age + &quot;, \\&quot;&quot; + hireDate + &quot;\\&quot;, $&quot; \n                                + String.format(&quot;%.02f&quot;, wage);\n        }\n    }    \n}\n</code></pre>\n<p>Console Window output should look something like this when the code is run:</p>\n<pre><code>Before Sorting:\n===============\nTom Jones, 66, &quot;Thu Oct 4 2023&quot;, $32.50\nTracey Johnson, 59, &quot;Tue Oct 10 2023&quot;, $31.00\nDave Simpson, 30, &quot;Wed Oct 1 2023&quot;, $43.75\n\nAfter Sorting:\n==============\nDave Simpson, 30, &quot;Wed Oct 1 2023&quot;, $43.75\nTom Jones, 66, &quot;Thu Oct 4 2023&quot;, $32.50\nTracey Johnson, 59, &quot;Tue Oct 10 2023&quot;, $31.00\n</code></pre>\n"}],"owner":{"account_id":29449413,"reputation":25,"user_id":22566131,"display_name":"Miguel Celos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77443860,"answer_count":1,"score":0,"last_activity_date":1699431595,"creation_date":1699396192,"question_id":77441839,"body_markdown":"I have a list of objects containing an attribute date that looks like this &quot;Thu Oct 26 2023&quot;\r\n\r\nI want to sort those objects by their substring(8,9) which is 26 in this case.\r\n\r\nI&#39;ve looked up parsing the substring to int and using a Comparator and then Collections.sort but I am wondering if there is a better way to do this. ","title":"Sorting a list of objects by an attribute&#39;s substring","body":"<p>I have a list of objects containing an attribute date that looks like this &quot;Thu Oct 26 2023&quot;</p>\n<p>I want to sort those objects by their substring(8,9) which is 26 in this case.</p>\n<p>I've looked up parsing the substring to int and using a Comparator and then Collections.sort but I am wondering if there is a better way to do this.</p>\n"},{"tags":["java","download"],"comments":[{"owner":{"account_id":396097,"reputation":19603,"user_id":759452,"accept_rate":56,"display_name":"Adriano"},"score":2,"creation_date":1373526015,"post_id":921262,"comment_id":25592363,"body_markdown":"related http://stackoverflow.com/questions/8324862/how-to-create-file-object-from-url-object","body":"related <a href=\"http://stackoverflow.com/questions/8324862/how-to-create-file-object-from-url-object\" title=\"how to create file object from url object\">stackoverflow.com/questions/8324862/&hellip;</a>"},{"owner":{"account_id":3424517,"reputation":1119,"user_id":2870704,"accept_rate":100,"display_name":"Grigoriev Nick"},"score":0,"creation_date":1597825129,"post_id":921262,"comment_id":112256613,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#copy(java.io.InputStream,%20java.nio.file.Path,%20java.nio.file.CopyOption...)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#copy(java.io.InputStream,%20java.nio.file.Path,%20java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17205,"reputation":7140,"user_id":38264,"accept_rate":67,"display_name":"z  -"},"comment_count":0,"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1633979391,"creation_date":1243522865,"answer_id":921314,"question_id":921262,"body_markdown":"Downloading a file requires you to read it. Either way, you will have to go through the file in some way.  Instead of line by line, you can just read it by bytes from the stream:\r\n\r\n    BufferedInputStream in = new BufferedInputStream(new URL(&quot;http://www.website.com/information.asp&quot;).openStream())\r\n    byte data[] = new byte[1024];\r\n    int count;\r\n    while((count = in.read(data, 0, 1024)) != -1)\r\n    {\r\n        out.write(data, 0, count);\r\n    }\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>Downloading a file requires you to read it. Either way, you will have to go through the file in some way.  Instead of line by line, you can just read it by bytes from the stream:</p>\n<pre><code>BufferedInputStream in = new BufferedInputStream(new URL(&quot;http://www.website.com/information.asp&quot;).openStream())\nbyte data[] = new byte[1024];\nint count;\nwhile((count = in.read(data, 0, 1024)) != -1)\n{\n    out.write(data, 0, count);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"score":6,"creation_date":1243523936,"post_id":921400,"comment_id":729307,"body_markdown":"hey what is that shifty bit?","body":"hey what is that shifty bit?"},{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":8,"creation_date":1243524205,"post_id":921400,"comment_id":729329,"body_markdown":"@willcodejavaforfood: it is just an alias for 16777216. An arbitrary long block size. A magic costant (beware it!)","body":"@willcodejavaforfood: it is just an alias for 16777216. An arbitrary long block size. A magic costant (beware it!)"},{"owner":{"account_id":17205,"reputation":7140,"user_id":38264,"accept_rate":67,"display_name":"z  -"},"score":3,"creation_date":1243524265,"post_id":921400,"comment_id":729335,"body_markdown":"@will, the shift is just another way of representing 2^24 (the amount he is reading from the channel)","body":"@will, the shift is just another way of representing 2^24 (the amount he is reading from the channel)"},{"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"score":4,"creation_date":1243524892,"post_id":921400,"comment_id":729420,"body_markdown":"What if that file is bigger than 16777216 bytes?","body":"What if that file is bigger than 16777216 bytes?"},{"owner":{"account_id":4519,"reputation":11266,"user_id":6833,"accept_rate":100,"display_name":"echoblaze"},"score":3,"creation_date":1243525451,"post_id":921400,"comment_id":729492,"body_markdown":"sorry to sound like a total noob, but should i be closing fos? regardless of that, thanks, it works perfectly!","body":"sorry to sound like a total noob, but should i be closing fos? regardless of that, thanks, it works perfectly!"},{"owner":{"account_id":339209,"reputation":4831,"user_id":668540,"accept_rate":78,"display_name":"Austin"},"score":1,"creation_date":1343118964,"post_id":921400,"comment_id":15398004,"body_markdown":"Would it still be wise to close the FileOutputStream? Or does the transferFrom method do something different that it isn&#39;t required anymore?","body":"Would it still be wise to close the FileOutputStream? Or does the transferFrom method do something different that it isn&#39;t required anymore?"},{"owner":{"account_id":147308,"reputation":41036,"user_id":358328,"accept_rate":90,"display_name":"Uku Loskit"},"score":8,"creation_date":1348938829,"post_id":921400,"comment_id":17070832,"body_markdown":"1 &lt;&lt; 24 just seems so arbitrary, would something like Long.MAX_VALUE make more sense?","body":"1 &lt;&lt; 24 just seems so arbitrary, would something like Long.MAX_VALUE make more sense?"},{"owner":{"account_id":313842,"reputation":1285,"user_id":628696,"accept_rate":58,"display_name":"mazatwork"},"score":26,"creation_date":1352367890,"post_id":921400,"comment_id":18114529,"body_markdown":"Close all three with Java 7 try-with-resource: \t\ttry (InputStream inputStream = website.openStream();\n\t\t\t\tReadableByteChannel readableByteChannel = Channels.newChannel(inputStream);\n\t\t\t\tFileOutputStream fileOutputStream = new FileOutputStream(outputFileName)) {\n\t\t\tfileOutputStream.getChannel().transferFrom(readableByteChannel, 0, 1 &lt;&lt; 24);\n\t\t}","body":"Close all three with Java 7 try-with-resource: \t\ttry (InputStream inputStream = website.openStream(); \t\t\t\tReadableByteChannel readableByteChannel = Channels.newChannel(inputStream); \t\t\t\tFileOutputStream fileOutputStream = new FileOutputStream(outputFileName)) { \t\t\tfileOutputStream.getChannel().transferFrom(readableByteCh&zwnj;&#8203;annel, 0, 1 &lt;&lt; 24); \t\t}"},{"owner":{"account_id":25148,"reputation":18628,"user_id":64421,"accept_rate":86,"display_name":"Ben McCann"},"score":88,"creation_date":1358024681,"post_id":921400,"comment_id":19859124,"body_markdown":"This will only download the first 16MB of a file: http://stackoverflow.com/questions/8405062/downloading-files-with-java","body":"This will only download the first 16MB of a file: <a href=\"http://stackoverflow.com/questions/8405062/downloading-files-with-java\" title=\"downloading files with java\">stackoverflow.com/questions/8405062/downloading-files-with-j&zwnj;&#8203;ava</a>"},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":4,"creation_date":1369832003,"post_id":921400,"comment_id":24237500,"body_markdown":"Just use Integer.MAX_VALUE if your file can be bigger than 16 MB (or even Long.MAX_VALUE if it can be bigger than 2 GB).","body":"Just use Integer.MAX_VALUE if your file can be bigger than 16 MB (or even Long.MAX_VALUE if it can be bigger than 2 GB)."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":34,"creation_date":1381845761,"post_id":921400,"comment_id":28725761,"body_markdown":"@kirdie and if I want more than `8388608` TB?","body":"@kirdie and if I want more than <code>8388608</code> TB?"},{"owner":{"account_id":1140937,"reputation":483,"user_id":1124853,"accept_rate":42,"display_name":"moomoohk"},"score":6,"creation_date":1387421404,"post_id":921400,"comment_id":30954832,"body_markdown":"Is there any way to track the progress of the download with this method?","body":"Is there any way to track the progress of the download with this method?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":25,"creation_date":1406082757,"post_id":921400,"comment_id":38683848,"body_markdown":"A single call isn&#39;t adequate. `transferFrom()` isnt&#39; specified to complete the entire transfer in a single call. That&#39;s why it returns a count. You have to loop.","body":"A single call isn&#39;t adequate. <code>transferFrom()</code> isnt&#39; specified to complete the entire transfer in a single call. That&#39;s why it returns a count. You have to loop."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1432292428,"post_id":921400,"comment_id":48877554,"body_markdown":"@dfa, would you mind including also the slighly more modern solution mentioned [here](http://stackoverflow.com/a/30394778)?","body":"@dfa, would you mind including also the slighly more modern solution mentioned <a href=\"http://stackoverflow.com/a/30394778\">here</a>?"},{"owner":{"account_id":3436254,"reputation":5856,"user_id":2879325,"display_name":"Ext3h"},"score":15,"creation_date":1443520499,"post_id":921400,"comment_id":53516397,"body_markdown":"Why was this answer even accepted? `URL::openStream()`returns just a regular stream, meaning the entire traffic is still being copied through Java byte[] arrays instead of remaining in native buffers. Only `fos.getChannel()`is actually a native channel, so the overhead remains in full. That&#39;s zero gains from using NIO in this case. Apart from being broken, as EJP and Ben MacCann correctly noticed.","body":"Why was this answer even accepted? <code>URL::openStream()</code>returns just a regular stream, meaning the entire traffic is still being copied through Java byte[] arrays instead of remaining in native buffers. Only <code>fos.getChannel()</code>is actually a native channel, so the overhead remains in full. That&#39;s zero gains from using NIO in this case. Apart from being broken, as EJP and Ben MacCann correctly noticed."},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":4,"creation_date":1481893597,"post_id":921400,"comment_id":69569855,"body_markdown":"If you&#39;re using NIO, be consistent and also use `FileChannel.open(Paths.get(&quot;information.html&quot;), StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING, StandardOpenOption.WRITE)` instead of `FileOutputStream`","body":"If you&#39;re using NIO, be consistent and also use <code>FileChannel.open(Paths.get(&quot;information.html&quot;), StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING, StandardOpenOption.WRITE)</code> instead of <code>FileOutputStream</code>"},{"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"score":1,"creation_date":1498395137,"post_id":921400,"comment_id":76473902,"body_markdown":"@fabian that&#39;s an NIO/2 addition of Java 7, which came out two years after this question was originally answered. That being said, it might make sense to update the answer with the new method.","body":"@fabian that&#39;s an NIO/2 addition of Java 7, which came out two years after this question was originally answered. That being said, it might make sense to update the answer with the new method."},{"owner":{"account_id":3943503,"reputation":1464,"user_id":3257025,"accept_rate":50,"display_name":"ARLabs"},"score":0,"creation_date":1525712207,"post_id":921400,"comment_id":87455053,"body_markdown":"I tried transferFrom in android. With Long.MAX_VALUE give an &quot;invalid parameter&quot; value. Then I changed it in Integer.MAX_VALUE and it gives an OutOfMemory due to trying to allocate 2^31 bytes. So it does not work for every java.nio implementations.","body":"I tried transferFrom in android. With Long.MAX_VALUE give an &quot;invalid parameter&quot; value. Then I changed it in Integer.MAX_VALUE and it gives an OutOfMemory due to trying to allocate 2^31 bytes. So it does not work for every java.nio implementations."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1531261195,"post_id":921400,"comment_id":89527523,"body_markdown":"@EJP How can this use of `transferFrom()` fail to complete the entire transfer (ignoring exceptions)? The stream, opened from the url, blocks its `read` methods until input is available so the `transferFrom()` method only stops if its source channel has fewer than the requested number of bytes remaining.","body":"@EJP How can this use of <code>transferFrom()</code> fail to complete the entire transfer (ignoring exceptions)? The stream, opened from the url, blocks its <code>read</code> methods until input is available so the <code>transferFrom()</code> method only stops if its source channel has fewer than the requested number of bytes remaining."},{"owner":{"account_id":454683,"reputation":3190,"user_id":852406,"display_name":"Asad Rao"},"score":0,"creation_date":1586021306,"post_id":921400,"comment_id":107974232,"body_markdown":"How to set encoding utf-8","body":"How to set encoding utf-8"},{"owner":{"account_id":3424517,"reputation":1119,"user_id":2870704,"accept_rate":100,"display_name":"Grigoriev Nick"},"score":0,"creation_date":1597825145,"post_id":921400,"comment_id":112256619,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#copy(java.io.InputStream,%20java.nio.file.Path,%20java.nio.file.CopyOption...)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#copy(java.io.InputStream,%20java.nio.file.Path,%20java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a>"},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1604370350,"post_id":921400,"comment_id":114321295,"body_markdown":"that&#39;s for normal http get parameter....\nwhat about combining with post for downloading a same call?","body":"that&#39;s for normal http get parameter.... what about combining with post for downloading a same call?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1623929175,"post_id":921400,"comment_id":120220300,"body_markdown":"@Kr&#246;w Because there is nothing in the Javadoc that says it will transfer the entire stream. That&#39;s why it returns a count. You have to loop. Blocking has nothing to do with it.","body":"@Kr&#246;w Because there is nothing in the Javadoc that says it will transfer the entire stream. That&#39;s why it returns a count. You have to loop. Blocking has nothing to do with it."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1623932602,"post_id":921400,"comment_id":120221813,"body_markdown":"@user207421 &quot;Blocking has nothing to do with it&quot;  The documentation for `transferFrom()` points out the cases in which the call can fail, and describes them with regard to whether or not the source stream is blocking. So no, blocking has everything to do with it.","body":"@user207421 &quot;Blocking has nothing to do with it&quot;  The documentation for <code>transferFrom()</code> points out the cases in which the call can fail, and describes them with regard to whether or not the source stream is blocking. So no, blocking has everything to do with it."},{"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"score":0,"creation_date":1631338381,"post_id":921400,"comment_id":122200183,"body_markdown":"@Kr&#246;w Those sections in the JavaDoc are specific examples of how such a phenomenon might occur. It is not an exhaustive list of cases.","body":"@Kr&#246;w Those sections in the JavaDoc are specific examples of how such a phenomenon might occur. It is not an exhaustive list of cases."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":25,"down_vote_count":19,"up_vote_count":604,"is_accepted":true,"score":585,"last_activity_date":1512145943,"creation_date":1243523767,"answer_id":921400,"question_id":921262,"body_markdown":"Give [Java NIO][1] a try:\r\n\r\n    URL website = new URL(&quot;http://www.website.com/information.asp&quot;);\r\n    ReadableByteChannel rbc = Channels.newChannel(website.openStream());\r\n    FileOutputStream fos = new FileOutputStream(&quot;information.html&quot;);\r\n    fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n    \r\nUsing `transferFrom()` is **potentially** much more efficient than a simple loop that reads from the source channel and writes to this channel. Many operating systems can transfer bytes directly from the source channel into the filesystem cache without actually copying them.\r\n\r\nCheck more about it [here][2].\r\n\r\n**Note**: The third parameter in transferFrom is the maximum number of bytes to transfer.  `Integer.MAX_VALUE` will transfer at most 2^31 bytes, `Long.MAX_VALUE` will allow at most 2^63 bytes (larger than any file in existence). \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/New_I/O\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html","title":"How can I download and save a file from the Internet using Java?","body":"<p>Give <a href=\"http://en.wikipedia.org/wiki/New_I/O\" rel=\"noreferrer\">Java NIO</a> a try:</p>\n\n<pre><code>URL website = new URL(\"http://www.website.com/information.asp\");\nReadableByteChannel rbc = Channels.newChannel(website.openStream());\nFileOutputStream fos = new FileOutputStream(\"information.html\");\nfos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n</code></pre>\n\n<p>Using <code>transferFrom()</code> is <strong>potentially</strong> much more efficient than a simple loop that reads from the source channel and writes to this channel. Many operating systems can transfer bytes directly from the source channel into the filesystem cache without actually copying them.</p>\n\n<p>Check more about it <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p><strong>Note</strong>: The third parameter in transferFrom is the maximum number of bytes to transfer.  <code>Integer.MAX_VALUE</code> will transfer at most 2^31 bytes, <code>Long.MAX_VALUE</code> will allow at most 2^63 bytes (larger than any file in existence). </p>\n"},{"comments":[{"owner":{"account_id":163827,"reputation":1798,"user_id":386213,"accept_rate":100,"display_name":"digz6666"},"score":6,"creation_date":1326179337,"post_id":921408,"comment_id":10978369,"body_markdown":"How to download very faster? Like download accelerator?","body":"How to download very faster? Like download accelerator?"},{"owner":{"account_id":2776621,"reputation":12858,"user_id":2390083,"accept_rate":75,"display_name":"Beryllium"},"score":12,"creation_date":1376061322,"post_id":921408,"comment_id":26583846,"body_markdown":"If `in.close` throws an exception, `fout.close` is not called.","body":"If <code>in.close</code> throws an exception, <code>fout.close</code> is not called."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1406082810,"post_id":921408,"comment_id":38683860,"body_markdown":"@ComFreek That is simply untrue. Using a `BufferedInputStream` has precisely zero effect on socket timeouts. I had already refuted that as &#39;urban myth&#39; in my comments to the &#39;background details&#39; you cited. Three years earlier.","body":"@ComFreek That is simply untrue. Using a <code>BufferedInputStream</code> has precisely zero effect on socket timeouts. I had already refuted that as &#39;urban myth&#39; in my comments to the &#39;background details&#39; you cited. Three years earlier."},{"owner":{"account_id":297461,"reputation":29114,"user_id":603003,"accept_rate":92,"display_name":"ComFreek"},"score":0,"creation_date":1406217194,"post_id":921408,"comment_id":38754676,"body_markdown":"@EJP Thank you for the correction! I removed my comment (for the archive: I linked to [this answer](http://stackoverflow.com/a/2965406/603003) stating that `BufferedInputStream` &quot;can cause unpredictable failures&quot;).","body":"@EJP Thank you for the correction! I removed my comment (for the archive: I linked to <a href=\"http://stackoverflow.com/a/2965406/603003\">this answer</a> stating that <code>BufferedInputStream</code> &quot;can cause unpredictable failures&quot;)."},{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":0,"creation_date":1495316079,"post_id":921408,"comment_id":75203639,"body_markdown":"+1 My only objection to this answer (and others here) is that the caller cannot distinguish the event &quot;not found&quot; from some connection error (upon which you might want to retry).","body":"+1 My only objection to this answer (and others here) is that the caller cannot distinguish the event &quot;not found&quot; from some connection error (upon which you might want to retry)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1501412095,"post_id":921408,"comment_id":77758667,"body_markdown":"@leonbloy That&#39;s not correct. &#39;Not found&#39; becomes a `FileNotFoundException`. Nothing else does. *Ergo* the caller can distinguish.","body":"@leonbloy That&#39;s not correct. &#39;Not found&#39; becomes a <code>FileNotFoundException</code>. Nothing else does. <i>Ergo</i> the caller can distinguish."},{"owner":{"account_id":10348509,"reputation":292,"user_id":7632627,"accept_rate":62,"display_name":"Alex Jone"},"score":0,"creation_date":1503436199,"post_id":921408,"comment_id":78612061,"body_markdown":"`MalformedURLException` extends `IOException`, so you only have to throw the `IOException`","body":"<code>MalformedURLException</code> extends <code>IOException</code>, so you only have to throw the <code>IOException</code>"}],"tags":[],"owner":{"account_id":15533,"reputation":34400,"user_id":32899,"accept_rate":92,"display_name":"Ben Noland"},"comment_count":7,"down_vote_count":4,"up_vote_count":92,"is_accepted":false,"score":88,"last_activity_date":1394943440,"creation_date":1243523807,"answer_id":921408,"question_id":921262,"body_markdown":"    public void saveUrl(final String filename, final String urlString)\r\n            throws MalformedURLException, IOException {\r\n        BufferedInputStream in = null;\r\n        FileOutputStream fout = null;\r\n        try {\r\n            in = new BufferedInputStream(new URL(urlString).openStream());\r\n            fout = new FileOutputStream(filename);\r\n\r\n            final byte data[] = new byte[1024];\r\n            int count;\r\n            while ((count = in.read(data, 0, 1024)) != -1) {\r\n                fout.write(data, 0, count);\r\n            }\r\n        } finally {\r\n            if (in != null) {\r\n                in.close();\r\n            }\r\n            if (fout != null) {\r\n                fout.close();\r\n            }\r\n        }\r\n    }\r\nYou&#39;ll need to handle exceptions, probably external to this method.","title":"How can I download and save a file from the Internet using Java?","body":"<pre><code>public void saveUrl(final String filename, final String urlString)\n        throws MalformedURLException, IOException {\n    BufferedInputStream in = null;\n    FileOutputStream fout = null;\n    try {\n        in = new BufferedInputStream(new URL(urlString).openStream());\n        fout = new FileOutputStream(filename);\n\n        final byte data[] = new byte[1024];\n        int count;\n        while ((count = in.read(data, 0, 1024)) != -1) {\n            fout.write(data, 0, count);\n        }\n    } finally {\n        if (in != null) {\n            in.close();\n        }\n        if (fout != null) {\n            fout.close();\n        }\n    }\n}\n</code></pre>\n\n<p>You'll need to handle exceptions, probably external to this method.</p>\n"},{"comments":[{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":2,"creation_date":1243524720,"post_id":921494,"comment_id":729391,"body_markdown":"also commons-io is a great library","body":"also commons-io is a great library"}],"tags":[],"owner":{"account_id":28174,"reputation":1351,"user_id":74977,"display_name":"belgariontheking"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1243524557,"creation_date":1243524557,"answer_id":921494,"question_id":921262,"body_markdown":"Personally, I&#39;ve found [Apache&#39;s HttpClient][1] to be more than capable of everything I&#39;ve needed to do with regards to this.  [Here][2] is a great tutorial on using HttpClient\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/index.html\r\n  [2]: http://hc.apache.org/httpclient-3.x/tutorial.html","title":"How can I download and save a file from the Internet using Java?","body":"<p>Personally, I've found <a href=\"http://hc.apache.org/httpclient-3.x/index.html\" rel=\"noreferrer\">Apache's HttpClient</a> to be more than capable of everything I've needed to do with regards to this.  <a href=\"http://hc.apache.org/httpclient-3.x/tutorial.html\" rel=\"noreferrer\">Here</a> is a great tutorial on using HttpClient</p>\n"},{"comments":[{"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"score":30,"creation_date":1327331493,"post_id":7156178,"comment_id":11241243,"body_markdown":"Nice! Just what I&#39;m looking for! I knew Apache libraries would already cover this. BTW, it&#39;s recommended to use the overloaded version with timeout parameters!","body":"Nice! Just what I&#39;m looking for! I knew Apache libraries would already cover this. BTW, it&#39;s recommended to use the overloaded version with timeout parameters!"},{"owner":{"account_id":49616,"reputation":4025,"user_id":147806,"display_name":"L&#225;szl&#243; van den Hoek"},"score":9,"creation_date":1341576040,"post_id":7156178,"comment_id":14966912,"body_markdown":"...and when using that overloaded version, remember that the timeouts are specified in milliseconds, not seconds.","body":"...and when using that overloaded version, remember that the timeouts are specified in milliseconds, not seconds."},{"owner":{"account_id":1668809,"reputation":5077,"user_id":1535679,"accept_rate":100,"display_name":"Stanley"},"score":5,"creation_date":1365739221,"post_id":7156178,"comment_id":22750854,"body_markdown":"Take note that `copyURLToFile` with timeout parameter is only available since version 2.0 of Commons IO library. See [Java docs](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html)","body":"Take note that <code>copyURLToFile</code> with timeout parameter is only available since version 2.0 of Commons IO library. See <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">Java docs</a>"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1408121546,"post_id":7156178,"comment_id":39489011,"body_markdown":"@卢声远 how can we add cookies to the request?","body":"@卢声远 how can we add cookies to the request?"},{"owner":{"account_id":4746080,"reputation":447,"user_id":3837431,"accept_rate":71,"display_name":"William"},"score":0,"creation_date":1424425019,"post_id":7156178,"comment_id":45552312,"body_markdown":"&quot;The method copyURLToFile(URL, File) in the type FileUtils is not applicable for the arguments (String, String)&quot;","body":"&quot;The method copyURLToFile(URL, File) in the type FileUtils is not applicable for the arguments (String, String)&quot;"},{"owner":{"account_id":1348599,"reputation":1852,"user_id":1288852,"accept_rate":93,"display_name":"Nicholas Terry"},"score":0,"creation_date":1426624349,"post_id":7156178,"comment_id":46447776,"body_markdown":"Agreed. Mark this as the accepted answer. Why re-invent the wheel?","body":"Agreed. Mark this as the accepted answer. Why re-invent the wheel?"},{"owner":{"account_id":378737,"reputation":4024,"user_id":731650,"accept_rate":75,"display_name":"damian"},"score":8,"creation_date":1427985013,"post_id":7156178,"comment_id":47003257,"body_markdown":"what if basic authentication header has to be added to the request? is there a workaround?","body":"what if basic authentication header has to be added to the request? is there a workaround?"},{"owner":{"account_id":4871146,"reputation":1039,"user_id":3927621,"accept_rate":90,"display_name":"sguan"},"score":3,"creation_date":1449463889,"post_id":7156178,"comment_id":56001613,"body_markdown":"Although this is &quot;short&quot;, it&#39;s actually very slow.","body":"Although this is &quot;short&quot;, it&#39;s actually very slow."},{"owner":{"account_id":2007701,"reputation":1209,"user_id":2133216,"accept_rate":75,"display_name":"ndm13"},"score":3,"creation_date":1449664815,"post_id":7156178,"comment_id":56104338,"body_markdown":"A native Java solution is better than an external library, IMO.","body":"A native Java solution is better than an external library, IMO."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1475607878,"post_id":7156178,"comment_id":67007708,"body_markdown":"so in Java 8, this is not a thing anymore? Link is dad, and Eclipse doesn&#39;t know `FileUtils`.","body":"so in Java 8, this is not a thing anymore? Link is dad, and Eclipse doesn&#39;t know <code>FileUtils</code>."},{"owner":{"account_id":2519786,"reputation":333,"user_id":6947739,"display_name":"Pont"},"score":0,"creation_date":1476082953,"post_id":7156178,"comment_id":67185525,"body_markdown":"@Blauhirn commons-io is an external library, available from the [Apache Commons website](http://commons.apache.org/proper/commons-io/). I have just fixed the broken link to the Javadoc in the answer.","body":"@Blauhirn commons-io is an external library, available from the <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons website</a>. I have just fixed the broken link to the Javadoc in the answer."},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":0,"creation_date":1513678895,"post_id":7156178,"comment_id":82735143,"body_markdown":"How can I use this method, when I&#39;m behind a proxy?","body":"How can I use this method, when I&#39;m behind a proxy?"}],"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"comment_count":12,"down_vote_count":3,"up_vote_count":540,"is_accepted":false,"score":537,"last_activity_date":1633979596,"creation_date":1314072739,"answer_id":7156178,"question_id":921262,"body_markdown":"Use Apache [Commons IO][1]. It is just one line of code:\r\n\r\n    FileUtils.copyURLToFile(URL, File)\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>Use Apache <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File)\" rel=\"noreferrer\">Commons IO</a>. It is just one line of code:</p>\n<pre><code>FileUtils.copyURLToFile(URL, File)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2776621,"reputation":12858,"user_id":2390083,"accept_rate":75,"display_name":"Beryllium"},"score":6,"creation_date":1376061462,"post_id":16129162,"comment_id":26583938,"body_markdown":"If `in.close` throws an exception, `out.close` is not called.","body":"If <code>in.close</code> throws an exception, <code>out.close</code> is not called."}],"tags":[],"owner":{"account_id":1943548,"reputation":2798,"user_id":1749165,"accept_rate":70,"display_name":"mumair"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1523497077,"creation_date":1366531609,"answer_id":16129162,"question_id":921262,"body_markdown":"    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class filedown {\r\n    \tpublic static void download(String address, String localFileName) {\r\n    \t\tOutputStream out = null;\r\n    \t\tURLConnection conn = null;\r\n    \t\tInputStream in = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tURL url = new URL(address);\r\n    \t\t\tout = new BufferedOutputStream(new FileOutputStream(localFileName));\r\n    \t\t\tconn = url.openConnection();\r\n    \t\t\tin = conn.getInputStream();\r\n    \t\t\tbyte[] buffer = new byte[1024];\r\n    \t\t\t\r\n    \t\t\tint numRead;\r\n    \t\t\tlong numWritten = 0;\r\n    \t\t\t\r\n    \t\t\twhile ((numRead = in.read(buffer)) != -1) {\r\n    \t\t\t\tout.write(buffer, 0, numRead);\r\n    \t\t\t\tnumWritten += numRead;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(localFileName + &quot;\\t&quot; + numWritten);\r\n    \t\t} \r\n    \t\tcatch (Exception exception) { \r\n    \t\t\texception.printStackTrace();\r\n    \t\t} \r\n    \t\tfinally {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (in != null) {\r\n    \t\t\t\t\tin.close();\r\n    \t\t\t\t}\r\n    \t\t\t\tif (out != null) {\r\n    \t\t\t\t\tout.close();\r\n    \t\t\t\t}\r\n    \t\t\t} \r\n    \t\t\tcatch (IOException ioe) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void download(String address) {\r\n    \t\tint lastSlashIndex = address.lastIndexOf(&#39;/&#39;);\r\n    \t\tif (lastSlashIndex &gt;= 0 &amp;&amp;\r\n    \t\tlastSlashIndex &lt; address.length() - 1) {\r\n    \t\t\tdownload(address, (new URL(address)).getFile());\r\n    \t\t} \r\n    \t\telse {\r\n    \t\t\tSystem.err.println(&quot;Could not figure out local file name for &quot;+address);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tfor (int i = 0; i &lt; args.length; i++) {\r\n    \t\t\tdownload(args[i]);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How can I download and save a file from the Internet using Java?","body":"<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class filedown {\n    public static void download(String address, String localFileName) {\n        OutputStream out = null;\n        URLConnection conn = null;\n        InputStream in = null;\n\n        try {\n            URL url = new URL(address);\n            out = new BufferedOutputStream(new FileOutputStream(localFileName));\n            conn = url.openConnection();\n            in = conn.getInputStream();\n            byte[] buffer = new byte[1024];\n\n            int numRead;\n            long numWritten = 0;\n\n            while ((numRead = in.read(buffer)) != -1) {\n                out.write(buffer, 0, numRead);\n                numWritten += numRead;\n            }\n\n            System.out.println(localFileName + \"\\t\" + numWritten);\n        } \n        catch (Exception exception) { \n            exception.printStackTrace();\n        } \n        finally {\n            try {\n                if (in != null) {\n                    in.close();\n                }\n                if (out != null) {\n                    out.close();\n                }\n            } \n            catch (IOException ioe) {\n            }\n        }\n    }\n\n    public static void download(String address) {\n        int lastSlashIndex = address.lastIndexOf('/');\n        if (lastSlashIndex &gt;= 0 &amp;&amp;\n        lastSlashIndex &lt; address.length() - 1) {\n            download(address, (new URL(address)).getFile());\n        } \n        else {\n            System.err.println(\"Could not figure out local file name for \"+address);\n        }\n    }\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; args.length; i++) {\n            download(args[i]);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2311708,"reputation":2558,"user_id":2029699,"display_name":"Alexander K"},"score":6,"creation_date":1452318199,"post_id":24041297,"comment_id":57126646,"body_markdown":"Unfortunately this silently fails (downloads 0 bytes) in case there is a redirect such as &quot;302 Found&quot;.","body":"Unfortunately this silently fails (downloads 0 bytes) in case there is a redirect such as &quot;302 Found&quot;."},{"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"score":2,"creation_date":1452623002,"post_id":24041297,"comment_id":57248004,"body_markdown":"@AlexanderK But why would you blindly download such a resource anyway?","body":"@AlexanderK But why would you blindly download such a resource anyway?"},{"owner":{"account_id":263246,"reputation":1515,"user_id":548685,"display_name":"Miere"},"score":5,"creation_date":1460553431,"post_id":24041297,"comment_id":60796220,"body_markdown":"Despite the fact this is an elegant solution, behind the scenes this approach could silently betray you. Files.copy( InputStream, Paths, FileOption) delegates the copy process to the Files.copy( InputStream, OutputStream ). This last method does not check for the end of stream (-1) but checks for no byte read (0). It means that, if your network had a little pause, it could read 0 bytes and end the copy process, even if the stream isn&#39;t finished to be downloaded by the OS.","body":"Despite the fact this is an elegant solution, behind the scenes this approach could silently betray you. Files.copy( InputStream, Paths, FileOption) delegates the copy process to the Files.copy( InputStream, OutputStream ). This last method does not check for the end of stream (-1) but checks for no byte read (0). It means that, if your network had a little pause, it could read 0 bytes and end the copy process, even if the stream isn&#39;t finished to be downloaded by the OS."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":6,"creation_date":1467710805,"post_id":24041297,"comment_id":63823765,"body_markdown":"@Miere It is impossible for `InputStream.read()` to return zero unless you provided a zero length buffer or count, &#39;little pause&#39; or otherwise. It will block until at least one byte has been transferred or end of stream or an error occurs. Your claim about the internals of `Files.copy()` is baseless.","body":"@Miere It is impossible for <code>InputStream.read()</code> to return zero unless you provided a zero length buffer or count, &#39;little pause&#39; or otherwise. It will block until at least one byte has been transferred or end of stream or an error occurs. Your claim about the internals of <code>Files.copy()</code> is baseless."},{"owner":{"account_id":263246,"reputation":1515,"user_id":548685,"display_name":"Miere"},"score":3,"creation_date":1467823818,"post_id":24041297,"comment_id":63880638,"body_markdown":"I have an unit test that reads a binary file with 2.6TiB. Using Files.copy it always fails on my HDD storage server (XFS) but it fails only a few times my SSH one. Looking at JDK 8 the code of File.copy I&#39;ve identified that it checks for &#39;&gt; 0&#39; to leave the &#39;while&#39; loop. I just copied the exactly same code with the -1 and both unit tests never stopped again. Once InputStream can represent Network and local file descriptors, and both IO operations are subject to OS context switching, I cant see why my claim is baseless. One may claim it be working by luck, but it gave no headaches any more.","body":"I have an unit test that reads a binary file with 2.6TiB. Using Files.copy it always fails on my HDD storage server (XFS) but it fails only a few times my SSH one. Looking at JDK 8 the code of File.copy I&#39;ve identified that it checks for &#39;&gt; 0&#39; to leave the &#39;while&#39; loop. I just copied the exactly same code with the -1 and both unit tests never stopped again. Once InputStream can represent Network and local file descriptors, and both IO operations are subject to OS context switching, I cant see why my claim is baseless. One may claim it be working by luck, but it gave no headaches any more."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1510097187,"post_id":24041297,"comment_id":81288072,"body_markdown":"Is there a way to discover the extension before downloading?","body":"Is there a way to discover the extension before downloading?"},{"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"score":0,"creation_date":1510567358,"post_id":24041297,"comment_id":81474045,"body_markdown":"@CardinalSystem I believe you can                                                  `Path path = Paths.get(&quot;https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html&quot;);        \n        String fileName = path.getFileName().toString();\n        String ext = fileName.substring(fileName.lastIndexOf(&quot;.&quot;), fileName.length());` But there are libraries out there that will do the job (Apache Commons/Guava)","body":"@CardinalSystem I believe you can                                                  <code>Path path = Paths.get(&quot;https:&#47;&#47;docs.oracle.com&#47;javase&#47;7&#47;docs&#47;api&#47;java&#47;ni&zwnj;&#8203;o&#47;file&#47;Path.html&quot;);                 String fileName = path.getFileName().toString();         String ext = fileName.substring(fileName.lastIndexOf(&quot;.&quot;), fileName.length());</code> But there are libraries out there that will do the job (Apache Commons/Guava)"},{"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"score":0,"creation_date":1510567523,"post_id":24041297,"comment_id":81474168,"body_markdown":"@CardinalSystem Of course you cannot guarantee that extension will really correspond to its binary contents:) So, perhaps, you&#39;ll need to double-check after downloading","body":"@CardinalSystem Of course you cannot guarantee that extension will really correspond to its binary contents:) So, perhaps, you&#39;ll need to double-check after downloading"},{"owner":{"account_id":3030715,"reputation":11451,"user_id":2569793,"accept_rate":58,"display_name":"WISHY"},"score":0,"creation_date":1658154648,"post_id":24041297,"comment_id":128974401,"body_markdown":"What would be path where file is stored?","body":"What would be path where file is stored?"},{"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"score":0,"creation_date":1658209705,"post_id":24041297,"comment_id":128987872,"body_markdown":"It will save it to the `target` path","body":"It will save it to the <code>target</code> path"}],"tags":[],"owner":{"account_id":2765300,"reputation":3426,"user_id":2381172,"display_name":"xuesheng"},"comment_count":10,"down_vote_count":2,"up_vote_count":132,"is_accepted":false,"score":130,"last_activity_date":1631346294,"creation_date":1401894993,"answer_id":24041297,"question_id":921262,"body_markdown":"Simpler [non-blocking I/O][1] usage:\r\n\r\n    URL website = new URL(&quot;http://www.website.com/information.asp&quot;);\r\n    try (InputStream in = website.openStream()) {\r\n        Files.copy(in, target, StandardCopyOption.REPLACE_EXISTING);\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>Simpler <a href=\"https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\" rel=\"noreferrer\">non-blocking I/O</a> usage:</p>\n<pre><code>URL website = new URL(&quot;http://www.website.com/information.asp&quot;);\ntry (InputStream in = website.openStream()) {\n    Files.copy(in, target, StandardCopyOption.REPLACE_EXISTING);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1623929534,"post_id":25393228,"comment_id":120220470,"body_markdown":"This code doesn&#39;t handle retries any better than any other answer or comment here: that is to say, it doesn&#39;t do them at all.","body":"This code doesn&#39;t handle retries any better than any other answer or comment here: that is to say, it doesn&#39;t do them at all."}],"tags":[],"owner":{"account_id":2159033,"reputation":999,"user_id":1913626,"display_name":"oktieh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1633979975,"creation_date":1408483510,"answer_id":25393228,"question_id":921262,"body_markdown":"There is an issue with simple usage of:\r\n\r\n    org.apache.commons.io.FileUtils.copyURLToFile(URL, File)\r\n\r\nif you need to download and save very large files, or in general if you need automatic retries in case connection is dropped.\r\n\r\nI suggest Apache HttpClient in such cases, along with org.apache.commons.io.FileUtils. For example:\r\n\r\n    GetMethod method = new GetMethod(resource_url);\r\n    try {\r\n        int statusCode = client.executeMethod(method);\r\n        if (statusCode != HttpStatus.SC_OK) {\r\n            logger.error(&quot;Get method failed: &quot; + method.getStatusLine());\r\n        }\r\n        org.apache.commons.io.FileUtils.copyInputStreamToFile(\r\n            method.getResponseBodyAsStream(), new File(resource_file));\r\n        } catch (HttpException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n        method.releaseConnection();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>There is an issue with simple usage of:</p>\n<pre><code>org.apache.commons.io.FileUtils.copyURLToFile(URL, File)\n</code></pre>\n<p>if you need to download and save very large files, or in general if you need automatic retries in case connection is dropped.</p>\n<p>I suggest Apache HttpClient in such cases, along with org.apache.commons.io.FileUtils. For example:</p>\n<pre><code>GetMethod method = new GetMethod(resource_url);\ntry {\n    int statusCode = client.executeMethod(method);\n    if (statusCode != HttpStatus.SC_OK) {\n        logger.error(&quot;Get method failed: &quot; + method.getStatusLine());\n    }\n    org.apache.commons.io.FileUtils.copyInputStreamToFile(\n        method.getResponseBodyAsStream(), new File(resource_file));\n    } catch (HttpException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n    method.releaseConnection();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1467711019,"post_id":27190621,"comment_id":63823895,"body_markdown":"A single call isn&#39;t adequate. `transferFrom()` isnt&#39; specified to complete the entire transfer in a single call. That&#39;s why it returns a count. You have to loop.","body":"A single call isn&#39;t adequate. <code>transferFrom()</code> isnt&#39; specified to complete the entire transfer in a single call. That&#39;s why it returns a count. You have to loop."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1623929379,"post_id":27190621,"comment_id":120220389,"body_markdown":"And your code doesn&#39;t close anything if there is an exception.","body":"And your code doesn&#39;t close anything if there is an exception."}],"tags":[],"owner":{"account_id":3063446,"reputation":1329,"user_id":2595659,"accept_rate":50,"display_name":"Brian Risk"},"comment_count":2,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1633980079,"creation_date":1417184308,"answer_id":27190621,"question_id":921262,"body_markdown":"This answer is almost exactly like the selected answer, but with two enhancements:  it&#39;s a method and it closes out the FileOutputStream object:\r\n\r\n        public static void downloadFileFromURL(String urlString, File destination) {\r\n            try {\r\n                URL website = new URL(urlString);\r\n                ReadableByteChannel rbc;\r\n                rbc = Channels.newChannel(website.openStream());\r\n                FileOutputStream fos = new FileOutputStream(destination);\r\n                fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n                fos.close();\r\n                rbc.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>This answer is almost exactly like the selected answer, but with two enhancements:  it's a method and it closes out the FileOutputStream object:</p>\n<pre><code>    public static void downloadFileFromURL(String urlString, File destination) {\n        try {\n            URL website = new URL(urlString);\n            ReadableByteChannel rbc;\n            rbc = Channels.newChannel(website.openStream());\n            FileOutputStream fos = new FileOutputStream(destination);\n            fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n            fos.close();\n            rbc.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1664645198,"post_id":28269150,"comment_id":130521211,"body_markdown":"I wish there was a `StandardCopyOption` to rename the file instead of replacing existing.","body":"I wish there was a <code>StandardCopyOption</code> to rename the file instead of replacing existing."}],"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1633980211,"creation_date":1422832933,"answer_id":28269150,"question_id":921262,"body_markdown":"When using Java 7+, use the following method to download a file from the Internet and save it to some directory:\r\n\r\n    private static Path download(String sourceURL, String targetDirectory) throws IOException\r\n    {\r\n        URL url = new URL(sourceURL);\r\n        String fileName = sourceURL.substring(sourceURL.lastIndexOf(&#39;/&#39;) + 1, sourceURL.length());\r\n        Path targetPath = new File(targetDirectory + File.separator + fileName).toPath();\r\n        Files.copy(url.openStream(), targetPath, StandardCopyOption.REPLACE_EXISTING);\r\n\r\n        return targetPath;\r\n    }\r\n\r\nDocumentation is [here][1].\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#copy(java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...)\r\n\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>When using Java 7+, use the following method to download a file from the Internet and save it to some directory:</p>\n<pre><code>private static Path download(String sourceURL, String targetDirectory) throws IOException\n{\n    URL url = new URL(sourceURL);\n    String fileName = sourceURL.substring(sourceURL.lastIndexOf('/') + 1, sourceURL.length());\n    Path targetPath = new File(targetDirectory + File.separator + fileName).toPath();\n    Files.copy(url.openStream(), targetPath, StandardCopyOption.REPLACE_EXISTING);\n\n    return targetPath;\n}\n</code></pre>\n<p>Documentation is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#copy(java.nio.file.Path,%20java.nio.file.Path,%20java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1467711024,"post_id":31766981,"comment_id":63823900,"body_markdown":"A single call isn&#39;t adequate. `transferFrom()` isnt&#39; specified to complete the entire transfer in a single call. That&#39;s why it returns a count. You have to loop.","body":"A single call isn&#39;t adequate. <code>transferFrom()</code> isnt&#39; specified to complete the entire transfer in a single call. That&#39;s why it returns a count. You have to loop."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1501428681,"post_id":31766981,"comment_id":77763440,"body_markdown":"I don&#39;t know why you&#39;re addressing that stupid question to me. It doesn&#39;t have anything to do with what I said, and I really decline to have words put into my mouth.","body":"I don&#39;t know why you&#39;re addressing that stupid question to me. It doesn&#39;t have anything to do with what I said, and I really decline to have words put into my mouth."}],"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1631346593,"creation_date":1438469511,"answer_id":31766981,"question_id":921262,"body_markdown":"This is another Java 7 variant based on [Brian Risk&#39;s answer][1] with usage of a *try-with* statement:\r\n\r\n    public static void downloadFileFromURL(String urlString, File destination) throws Throwable {\r\n\r\n        URL website = new URL(urlString);\r\n        try(\r\n            ReadableByteChannel rbc = Channels.newChannel(website.openStream());\r\n            FileOutputStream fos = new FileOutputStream(destination);\r\n           ) {\r\n\r\n            fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/27190621/449553\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>This is another Java 7 variant based on <a href=\"https://stackoverflow.com/a/27190621/449553\">Brian Risk's answer</a> with usage of a <em>try-with</em> statement:</p>\n<pre><code>public static void downloadFileFromURL(String urlString, File destination) throws Throwable {\n\n    URL website = new URL(urlString);\n    try(\n        ReadableByteChannel rbc = Channels.newChannel(website.openStream());\n        FileOutputStream fos = new FileOutputStream(destination);\n       ) {\n\n        fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631347720,"creation_date":1458406412,"answer_id":36104446,"question_id":921262,"body_markdown":"It&#39;s possible to download the file with with Apache&#39;s `HttpComponents` instead of [Commons IO][1]. This code allows you to download a file in Java according to its URL and save it at the specific destination.\r\n\r\n    public static boolean saveFile(URL fileURL, String fileSavePath) {\r\n\r\n        boolean isSucceed = true;\r\n\r\n        CloseableHttpClient httpClient = HttpClients.createDefault();\r\n\r\n        HttpGet httpGet = new HttpGet(fileURL.toString());\r\n        httpGet.addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.3; WOW64; rv:34.0) Gecko/20100101 Firefox/34.0&quot;);\r\n        httpGet.addHeader(&quot;Referer&quot;, &quot;https://www.google.com&quot;);\r\n\r\n        try {\r\n            CloseableHttpResponse httpResponse = httpClient.execute(httpGet);\r\n            HttpEntity fileEntity = httpResponse.getEntity();\r\n\r\n            if (fileEntity != null) {\r\n                FileUtils.copyInputStreamToFile(fileEntity.getContent(), new File(fileSavePath));\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            isSucceed = false;\r\n        }\r\n\r\n        httpGet.releaseConnection();\r\n\r\n        return isSucceed;\r\n    }\r\n\r\nIn contrast to the single line of code:\r\n\r\n    FileUtils.copyURLToFile(fileURL, new File(fileSavePath),\r\n                            URLS_FETCH_TIMEOUT, URLS_FETCH_TIMEOUT);\r\n\r\nThis code will give you more control over a process and let you specify not only time-outs, but `User-Agent` and `Referer` values, which are critical for many websites.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>It's possible to download the file with with Apache's <code>HttpComponents</code> instead of <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Commons IO</a>. This code allows you to download a file in Java according to its URL and save it at the specific destination.</p>\n<pre><code>public static boolean saveFile(URL fileURL, String fileSavePath) {\n\n    boolean isSucceed = true;\n\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n\n    HttpGet httpGet = new HttpGet(fileURL.toString());\n    httpGet.addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.3; WOW64; rv:34.0) Gecko/20100101 Firefox/34.0&quot;);\n    httpGet.addHeader(&quot;Referer&quot;, &quot;https://www.google.com&quot;);\n\n    try {\n        CloseableHttpResponse httpResponse = httpClient.execute(httpGet);\n        HttpEntity fileEntity = httpResponse.getEntity();\n\n        if (fileEntity != null) {\n            FileUtils.copyInputStreamToFile(fileEntity.getContent(), new File(fileSavePath));\n        }\n\n    } catch (IOException e) {\n        isSucceed = false;\n    }\n\n    httpGet.releaseConnection();\n\n    return isSucceed;\n}\n</code></pre>\n<p>In contrast to the single line of code:</p>\n<pre><code>FileUtils.copyURLToFile(fileURL, new File(fileSavePath),\n                        URLS_FETCH_TIMEOUT, URLS_FETCH_TIMEOUT);\n</code></pre>\n<p>This code will give you more control over a process and let you specify not only time-outs, but <code>User-Agent</code> and <code>Referer</code> values, which are critical for many websites.</p>\n"},{"comments":[{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":1,"creation_date":1500970218,"post_id":43823182,"comment_id":77556501,"body_markdown":"how useful is this answer, when the link becomes invalid? Please look at [answer]","body":"how useful is this answer, when the link becomes invalid? Please look at <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1500984602,"post_id":43823182,"comment_id":77567071,"body_markdown":"You code won&#39;t compiles. Question ask for solution in `Java`, but your answer look like `JavaScript`","body":"You code won&#39;t compiles. Question ask for solution in <code>Java</code>, but your answer look like <code>JavaScript</code>"},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1501409991,"post_id":43823182,"comment_id":77758061,"body_markdown":"@talex I added pom.xml section and improved code example.","body":"@talex I added pom.xml section and improved code example."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1623929710,"post_id":43823182,"comment_id":120220543,"body_markdown":"The question is about saving data to a file in a directory, not reading it all into a string, which is invalid in the case of binary data.","body":"The question is about saving data to a file in a directory, not reading it all into a string, which is invalid in the case of binary data."},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1623978914,"post_id":43823182,"comment_id":120237731,"body_markdown":"@user207421 I added example with saving binary file. Files.write(Paths.get(&quot;data.bin&quot;), U.fetch(url).blob()).","body":"@user207421 I added example with saving binary file. Files.write(Paths.get(&quot;data.bin&quot;), U.fetch(url).blob())."},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":0,"creation_date":1667384641,"post_id":43823182,"comment_id":131152723,"body_markdown":"What is `U` here?","body":"What is <code>U</code> here?"}],"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":6,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1670939227,"creation_date":1494090424,"answer_id":43823182,"question_id":921262,"body_markdown":"There is a method, `U.fetch(url)`, in the [underscore-java][1] library.\r\n\r\nFile *pom.xml*:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.github.javadev&lt;/groupId&gt;\r\n  &lt;artifactId&gt;underscore&lt;/artifactId&gt;\r\n  &lt;version&gt;1.84&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCode example:\r\n\r\n    import com.github.underscore.U;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n    public class Download {\r\n        public static void main(String[] args) throws IOException {\r\n            Files.write(Paths.get(&quot;data.bin&quot;),\r\n                U.fetch(&quot;https://stackoverflow.com/questions&quot;\r\n                    + &quot;/921262/how-to-download-and-save-a-file-from-internet-using-java&quot;).blob());\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>There is a method, <code>U.fetch(url)</code>, in the <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library.</p>\n<p>File <em>pom.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.javadev&lt;/groupId&gt;\n  &lt;artifactId&gt;underscore&lt;/artifactId&gt;\n  &lt;version&gt;1.84&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code example:</p>\n<pre><code>import com.github.underscore.U;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class Download {\n    public static void main(String[] args) throws IOException {\n        Files.write(Paths.get(&quot;data.bin&quot;),\n            U.fetch(&quot;https://stackoverflow.com/questions&quot;\n                + &quot;/921262/how-to-download-and-save-a-file-from-internet-using-java&quot;).blob());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633981023,"creation_date":1495324250,"answer_id":44091895,"question_id":921262,"body_markdown":"To summarize (and somehow polish and update) previous answers. The three following methods are practically equivalent. (I added explicit timeouts, because I think they are a must. Nobody wants a download to freeze forever when the connection is lost.)\r\n\r\n    public static void saveUrl1(final Path file, final URL url,\r\n        int secsConnectTimeout, int secsReadTimeout))\r\n        throws MalformedURLException, IOException {\r\n\r\n        // Files.createDirectories(file.getParent()); // Optional, make sure parent directory exists\r\n        try (BufferedInputStream in = new BufferedInputStream(\r\n             streamFromUrl(url, secsConnectTimeout,secsReadTimeout));\r\n             OutputStream fout = Files.newOutputStream(file)) {\r\n\r\n                final byte data[] = new byte[8192];\r\n                int count;\r\n                while((count = in.read(data)) &gt; 0)\r\n                    fout.write(data, 0, count);\r\n            }\r\n    }\r\n\r\n    public static void saveUrl2(final Path file, final URL url,\r\n        int secsConnectTimeout, int secsReadTimeout))\r\n        throws MalformedURLException, IOException {\r\n\r\n        // Files.createDirectories(file.getParent()); // Optional, make sure parent directory exists\r\n        try (ReadableByteChannel rbc = Channels.newChannel(\r\n                 streamFromUrl(url, secsConnectTimeout, secsReadTimeout)\r\n            );\r\n            FileChannel channel = FileChannel.open(file,\r\n                 StandardOpenOption.CREATE,\r\n                 StandardOpenOption.TRUNCATE_EXISTING,\r\n                 StandardOpenOption.WRITE)\r\n            ) {\r\n\r\n            channel.transferFrom(rbc, 0, Long.MAX_VALUE);\r\n        }\r\n    }\r\n\r\n    public static void saveUrl3(final Path file, final URL url,\r\n        int secsConnectTimeout, int secsReadTimeout))\r\n        throws MalformedURLException, IOException {\r\n\r\n        // Files.createDirectories(file.getParent()); // Optional, make sure parent directory exists\r\n        try (InputStream in = streamFromUrl(url, secsConnectTimeout,secsReadTimeout) ) {\r\n            Files.copy(in, file, StandardCopyOption.REPLACE_EXISTING);\r\n        }\r\n    }\r\n\r\n    public static InputStream streamFromUrl(URL url,int secsConnectTimeout,int secsReadTimeout) throws IOException {\r\n        URLConnection conn = url.openConnection();\r\n        if(secsConnectTimeout&gt;0)\r\n            conn.setConnectTimeout(secsConnectTimeout*1000);\r\n        if(secsReadTimeout&gt;0)\r\n            conn.setReadTimeout(secsReadTimeout*1000);\r\n        return conn.getInputStream();\r\n    }\r\n\r\nI don&#39;t find significant differences, and all seem right to me. They are safe and efficient. (Differences in speed seem hardly relevant - I write 180&amp;nbsp;MB from the local server to a SSD disk in times that fluctuate around 1.2 to 1.5 secs). They don&#39;t require external libraries. All work with arbitrary sizes and (to my experience) HTTP redirections.\r\n\r\nAdditionally, all throw `FileNotFoundException` if the resource is not found (error 404, typically), and `java.net.UnknownHostException` if the DNS resolution failed; other IOException correspond to errors during transmission.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>To summarize (and somehow polish and update) previous answers. The three following methods are practically equivalent. (I added explicit timeouts, because I think they are a must. Nobody wants a download to freeze forever when the connection is lost.)</p>\n<pre><code>public static void saveUrl1(final Path file, final URL url,\n    int secsConnectTimeout, int secsReadTimeout))\n    throws MalformedURLException, IOException {\n\n    // Files.createDirectories(file.getParent()); // Optional, make sure parent directory exists\n    try (BufferedInputStream in = new BufferedInputStream(\n         streamFromUrl(url, secsConnectTimeout,secsReadTimeout));\n         OutputStream fout = Files.newOutputStream(file)) {\n\n            final byte data[] = new byte[8192];\n            int count;\n            while((count = in.read(data)) &gt; 0)\n                fout.write(data, 0, count);\n        }\n}\n\npublic static void saveUrl2(final Path file, final URL url,\n    int secsConnectTimeout, int secsReadTimeout))\n    throws MalformedURLException, IOException {\n\n    // Files.createDirectories(file.getParent()); // Optional, make sure parent directory exists\n    try (ReadableByteChannel rbc = Channels.newChannel(\n             streamFromUrl(url, secsConnectTimeout, secsReadTimeout)\n        );\n        FileChannel channel = FileChannel.open(file,\n             StandardOpenOption.CREATE,\n             StandardOpenOption.TRUNCATE_EXISTING,\n             StandardOpenOption.WRITE)\n        ) {\n\n        channel.transferFrom(rbc, 0, Long.MAX_VALUE);\n    }\n}\n\npublic static void saveUrl3(final Path file, final URL url,\n    int secsConnectTimeout, int secsReadTimeout))\n    throws MalformedURLException, IOException {\n\n    // Files.createDirectories(file.getParent()); // Optional, make sure parent directory exists\n    try (InputStream in = streamFromUrl(url, secsConnectTimeout,secsReadTimeout) ) {\n        Files.copy(in, file, StandardCopyOption.REPLACE_EXISTING);\n    }\n}\n\npublic static InputStream streamFromUrl(URL url,int secsConnectTimeout,int secsReadTimeout) throws IOException {\n    URLConnection conn = url.openConnection();\n    if(secsConnectTimeout&gt;0)\n        conn.setConnectTimeout(secsConnectTimeout*1000);\n    if(secsReadTimeout&gt;0)\n        conn.setReadTimeout(secsReadTimeout*1000);\n    return conn.getInputStream();\n}\n</code></pre>\n<p>I don't find significant differences, and all seem right to me. They are safe and efficient. (Differences in speed seem hardly relevant - I write 180 MB from the local server to a SSD disk in times that fluctuate around 1.2 to 1.5 secs). They don't require external libraries. All work with arbitrary sizes and (to my experience) HTTP redirections.</p>\n<p>Additionally, all throw <code>FileNotFoundException</code> if the resource is not found (error 404, typically), and <code>java.net.UnknownHostException</code> if the DNS resolution failed; other IOException correspond to errors during transmission.</p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1495331017,"creation_date":1495331017,"answer_id":44092410,"question_id":921262,"body_markdown":"There are many elegant and efficient answers here. But the conciseness can make us lose some useful information. In particular, one **often does not want to consider a connection error an Exception**, and one might want to treat differently some kind of network-related errors - for example, to decide if we should retry the download.\r\n\r\nHere&#39;s a method that does not throw Exceptions for network errors (only for truly exceptional problems, as malformed url or problems writing to the file)\r\n\r\n\t/**\r\n\t * Downloads from a (http/https) URL and saves to a file. \r\n\t * Does not consider a connection error an Exception. Instead it returns:\r\n\t *  \r\n\t *    0=ok  \r\n\t *    1=connection interrupted, timeout (but something was read)\r\n\t *    2=not found (FileNotFoundException) (404) \r\n\t *    3=server error (500...) \r\n\t *    4=could not connect: connection timeout (no internet?) java.net.SocketTimeoutException\r\n\t *    5=could not connect: (server down?) java.net.ConnectException\r\n\t *    6=could not resolve host (bad host, or no internet - no dns)\r\n\t * \r\n\t * @param file File to write. Parent directory will be created if necessary\r\n\t * @param url  http/https url to connect\r\n\t * @param secsConnectTimeout Seconds to wait for connection establishment\r\n\t * @param secsReadTimeout Read timeout in seconds - trasmission will abort if it freezes more than this \r\n\t * @return See above\r\n\t * @throws IOException Only if URL is malformed or if could not create the file\r\n\t */\r\n\tpublic static int saveUrl(final Path file, final URL url, \r\n      int secsConnectTimeout, int secsReadTimeout) throws IOException {\r\n\t\tFiles.createDirectories(file.getParent()); // make sure parent dir exists , this can throw exception\r\n\t\tURLConnection conn = url.openConnection(); // can throw exception if bad url\r\n\t\tif( secsConnectTimeout &gt; 0 ) conn.setConnectTimeout(secsConnectTimeout * 1000);\r\n\t\tif( secsReadTimeout &gt; 0 ) conn.setReadTimeout(secsReadTimeout * 1000);\r\n\t\tint ret = 0;\r\n\t\tboolean somethingRead = false;\r\n\t\ttry (InputStream is = conn.getInputStream()) {\r\n\t\t\ttry (BufferedInputStream in = new BufferedInputStream(is); OutputStream fout = Files\r\n\t\t\t\t\t.newOutputStream(file)) {\r\n\t\t\t\tfinal byte data[] = new byte[8192];\r\n\t\t\t\tint count;\r\n\t\t\t\twhile((count = in.read(data)) &gt; 0) {\r\n\t\t\t\t\tsomethingRead = true;\r\n\t\t\t\t\tfout.write(data, 0, count);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch(java.io.IOException e) { \r\n\t\t\tint httpcode = 999;\r\n\t\t\ttry {\r\n\t\t\t\thttpcode = ((HttpURLConnection) conn).getResponseCode();\r\n\t\t\t} catch(Exception ee) {}\r\n\t\t\tif( somethingRead &amp;&amp; e instanceof java.net.SocketTimeoutException ) ret = 1;\r\n\t\t\telse if( e instanceof FileNotFoundException &amp;&amp; httpcode &gt;= 400 &amp;&amp; httpcode &lt; 500 ) ret = 2; \r\n\t\t\telse if( httpcode &gt;= 400 &amp;&amp; httpcode &lt; 600 ) ret = 3; \r\n\t\t\telse if( e instanceof java.net.SocketTimeoutException ) ret = 4; \r\n\t\t\telse if( e instanceof java.net.ConnectException ) ret = 5; \r\n\t\t\telse if( e instanceof java.net.UnknownHostException ) ret = 6;  \r\n\t\t\telse throw e;\r\n\t\t}\r\n\t\treturn ret;\r\n\t}","title":"How can I download and save a file from the Internet using Java?","body":"<p>There are many elegant and efficient answers here. But the conciseness can make us lose some useful information. In particular, one <strong>often does not want to consider a connection error an Exception</strong>, and one might want to treat differently some kind of network-related errors - for example, to decide if we should retry the download.</p>\n\n<p>Here's a method that does not throw Exceptions for network errors (only for truly exceptional problems, as malformed url or problems writing to the file)</p>\n\n<pre><code>/**\n * Downloads from a (http/https) URL and saves to a file. \n * Does not consider a connection error an Exception. Instead it returns:\n *  \n *    0=ok  \n *    1=connection interrupted, timeout (but something was read)\n *    2=not found (FileNotFoundException) (404) \n *    3=server error (500...) \n *    4=could not connect: connection timeout (no internet?) java.net.SocketTimeoutException\n *    5=could not connect: (server down?) java.net.ConnectException\n *    6=could not resolve host (bad host, or no internet - no dns)\n * \n * @param file File to write. Parent directory will be created if necessary\n * @param url  http/https url to connect\n * @param secsConnectTimeout Seconds to wait for connection establishment\n * @param secsReadTimeout Read timeout in seconds - trasmission will abort if it freezes more than this \n * @return See above\n * @throws IOException Only if URL is malformed or if could not create the file\n */\npublic static int saveUrl(final Path file, final URL url, \n  int secsConnectTimeout, int secsReadTimeout) throws IOException {\n    Files.createDirectories(file.getParent()); // make sure parent dir exists , this can throw exception\n    URLConnection conn = url.openConnection(); // can throw exception if bad url\n    if( secsConnectTimeout &gt; 0 ) conn.setConnectTimeout(secsConnectTimeout * 1000);\n    if( secsReadTimeout &gt; 0 ) conn.setReadTimeout(secsReadTimeout * 1000);\n    int ret = 0;\n    boolean somethingRead = false;\n    try (InputStream is = conn.getInputStream()) {\n        try (BufferedInputStream in = new BufferedInputStream(is); OutputStream fout = Files\n                .newOutputStream(file)) {\n            final byte data[] = new byte[8192];\n            int count;\n            while((count = in.read(data)) &gt; 0) {\n                somethingRead = true;\n                fout.write(data, 0, count);\n            }\n        }\n    } catch(java.io.IOException e) { \n        int httpcode = 999;\n        try {\n            httpcode = ((HttpURLConnection) conn).getResponseCode();\n        } catch(Exception ee) {}\n        if( somethingRead &amp;&amp; e instanceof java.net.SocketTimeoutException ) ret = 1;\n        else if( e instanceof FileNotFoundException &amp;&amp; httpcode &gt;= 400 &amp;&amp; httpcode &lt; 500 ) ret = 2; \n        else if( httpcode &gt;= 400 &amp;&amp; httpcode &lt; 600 ) ret = 3; \n        else if( e instanceof java.net.SocketTimeoutException ) ret = 4; \n        else if( e instanceof java.net.ConnectException ) ret = 5; \n        else if( e instanceof java.net.UnknownHostException ) ret = 6;  \n        else throw e;\n    }\n    return ret;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":372647,"reputation":2159,"user_id":721809,"accept_rate":100,"display_name":"Matej Kormuth"},"score":1,"creation_date":1498948012,"post_id":44864849,"comment_id":76711240,"body_markdown":"You can improve your answer by providing information how does your code work instead of just dumping it.","body":"You can improve your answer by providing information how does your code work instead of just dumping it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1623929884,"post_id":44864849,"comment_id":120220632,"body_markdown":"and by fixing it to close resources if there is an exception.","body":"and by fixing it to close resources if there is an exception."}],"tags":[],"owner":{"account_id":11236117,"reputation":1,"user_id":8242241,"display_name":"Gegi4321"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1498960988,"creation_date":1498938779,"answer_id":44864849,"question_id":921262,"body_markdown":"    public class DownloadManager {\r\n    \t\r\n    \tstatic String urls = &quot;[WEBSITE NAME]&quot;;\r\n    \r\n    \tpublic static void main(String[] args) throws IOException{\r\n    \t\tURL url = verify(urls);\r\n    \t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    \t\tInputStream in = null;\r\n    \t\tString filename = url.getFile();\r\n    \t\tfilename = filename.substring(filename.lastIndexOf(&#39;/&#39;) + 1);\r\n    \t\tFileOutputStream out = new FileOutputStream(&quot;C:\\\\Java2_programiranje/Network/DownloadTest1/Project/Output&quot; + File.separator + filename);\r\n    \t\tin = connection.getInputStream();\r\n    \t\tint read = -1;\r\n    \t\tbyte[] buffer = new byte[4096];\r\n    \t\twhile((read = in.read(buffer)) != -1){\r\n    \t\t\tout.write(buffer, 0, read);\r\n    \t\t\tSystem.out.println(&quot;[SYSTEM/INFO]: Downloading file...&quot;);\r\n    \t\t}\r\n    \t\tin.close();\r\n    \t\tout.close();\r\n    \t\tSystem.out.println(&quot;[SYSTEM/INFO]: File Downloaded!&quot;);\r\n    \t}\r\n    \tprivate static URL verify(String url){\r\n    \t\tif(!url.toLowerCase().startsWith(&quot;http://&quot;)) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tURL verifyUrl = null;\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\tverifyUrl = new URL(url);\r\n    \t\t}catch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn verifyUrl;\r\n    \t}\r\n    }","title":"How can I download and save a file from the Internet using Java?","body":"<pre><code>public class DownloadManager {\n\n    static String urls = \"[WEBSITE NAME]\";\n\n    public static void main(String[] args) throws IOException{\n        URL url = verify(urls);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        InputStream in = null;\n        String filename = url.getFile();\n        filename = filename.substring(filename.lastIndexOf('/') + 1);\n        FileOutputStream out = new FileOutputStream(\"C:\\\\Java2_programiranje/Network/DownloadTest1/Project/Output\" + File.separator + filename);\n        in = connection.getInputStream();\n        int read = -1;\n        byte[] buffer = new byte[4096];\n        while((read = in.read(buffer)) != -1){\n            out.write(buffer, 0, read);\n            System.out.println(\"[SYSTEM/INFO]: Downloading file...\");\n        }\n        in.close();\n        out.close();\n        System.out.println(\"[SYSTEM/INFO]: File Downloaded!\");\n    }\n    private static URL verify(String url){\n        if(!url.toLowerCase().startsWith(\"http://\")) {\n            return null;\n        }\n        URL verifyUrl = null;\n\n        try{\n            verifyUrl = new URL(url);\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n        return verifyUrl;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9035851,"reputation":448,"user_id":6731871,"display_name":"Celestine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631347870,"creation_date":1499891102,"answer_id":45066896,"question_id":921262,"body_markdown":"You can do this in one line using [netloader for Java][1]:\r\n\r\n    new NetFile(new File(&quot;my/zips/1.zip&quot;), &quot;https://example.com/example.zip&quot;, -1).load(); // Returns true if succeed, otherwise false.\r\n\r\n  [1]: https://github.com/intlink/netloader\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>You can do this in one line using <a href=\"https://github.com/intlink/netloader\" rel=\"nofollow noreferrer\">netloader for Java</a>:</p>\n<pre><code>new NetFile(new File(&quot;my/zips/1.zip&quot;), &quot;https://example.com/example.zip&quot;, -1).load(); // Returns true if succeed, otherwise false.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1623929829,"post_id":47328670,"comment_id":120220604,"body_markdown":"`systemSettings.put(&quot;proxySet&quot;, &quot;true&quot;);` is an urban myth deriving from the HotJava bean that became defunct in 1998. In any Sun or Oracle JDK it does exactly nothing. Proof: set it to `false` in any situation when you need the other proxy settings and watch it continue to work.","body":"<code>systemSettings.put(&quot;proxySet&quot;, &quot;true&quot;);</code> is an urban myth deriving from the HotJava bean that became defunct in 1998. In any Sun or Oracle JDK it does exactly nothing. Proof: set it to <code>false</code> in any situation when you need the other proxy settings and watch it continue to work."},{"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"score":0,"creation_date":1623993552,"post_id":47328670,"comment_id":120240242,"body_markdown":"hmm interesting, gonna check more about it. thanks","body":"hmm interesting, gonna check more about it. thanks"}],"tags":[],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633981173,"creation_date":1510832211,"answer_id":47328670,"question_id":921262,"body_markdown":"If you are behind a proxy, you can set the proxies in the Java program as below:\r\n\r\n    Properties systemSettings = System.getProperties();\r\n    systemSettings.put(&quot;proxySet&quot;, &quot;true&quot;);\r\n    systemSettings.put(&quot;https.proxyHost&quot;, &quot;HTTPS proxy of your org&quot;);\r\n    systemSettings.put(&quot;https.proxyPort&quot;, &quot;8080&quot;);\r\n\r\nIf you are not behind a proxy, don&#39;t include the lines above in your code. Full working code to download a file when you are behind a proxy.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String url = &quot;https://raw.githubusercontent.com/bpjoshi/fxservice/master/src/test/java/com/bpjoshi/fxservice/api/TradeControllerTest.java&quot;;\r\n        OutputStream outStream = null;\r\n        URLConnection connection = null;\r\n        InputStream is = null;\r\n        File targetFile = null;\r\n        URL server = null;\r\n\r\n        // Setting up proxies\r\n        Properties systemSettings = System.getProperties();\r\n            systemSettings.put(&quot;proxySet&quot;, &quot;true&quot;);\r\n            systemSettings.put(&quot;https.proxyHost&quot;, &quot;HTTPS proxy of my organisation&quot;);\r\n            systemSettings.put(&quot;https.proxyPort&quot;, &quot;8080&quot;);\r\n            // The same way we could also set proxy for HTTP\r\n            System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n            // Code to fetch file\r\n        try {\r\n            server = new URL(url);\r\n            connection = server.openConnection();\r\n            is = connection.getInputStream();\r\n            byte[] buffer = new byte[is.available()];\r\n            is.read(buffer);\r\n\r\n            targetFile = new File(&quot;src/main/resources/targetFile.java&quot;);\r\n            outStream = new FileOutputStream(targetFile);\r\n            outStream.write(buffer);\r\n        } catch (MalformedURLException e) {\r\n            System.out.println(&quot;THE URL IS NOT CORRECT &quot;);\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;I/O exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        finally{\r\n            if(outStream != null)\r\n                outStream.close();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>If you are behind a proxy, you can set the proxies in the Java program as below:</p>\n<pre><code>Properties systemSettings = System.getProperties();\nsystemSettings.put(&quot;proxySet&quot;, &quot;true&quot;);\nsystemSettings.put(&quot;https.proxyHost&quot;, &quot;HTTPS proxy of your org&quot;);\nsystemSettings.put(&quot;https.proxyPort&quot;, &quot;8080&quot;);\n</code></pre>\n<p>If you are not behind a proxy, don't include the lines above in your code. Full working code to download a file when you are behind a proxy.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String url = &quot;https://raw.githubusercontent.com/bpjoshi/fxservice/master/src/test/java/com/bpjoshi/fxservice/api/TradeControllerTest.java&quot;;\n    OutputStream outStream = null;\n    URLConnection connection = null;\n    InputStream is = null;\n    File targetFile = null;\n    URL server = null;\n\n    // Setting up proxies\n    Properties systemSettings = System.getProperties();\n        systemSettings.put(&quot;proxySet&quot;, &quot;true&quot;);\n        systemSettings.put(&quot;https.proxyHost&quot;, &quot;HTTPS proxy of my organisation&quot;);\n        systemSettings.put(&quot;https.proxyPort&quot;, &quot;8080&quot;);\n        // The same way we could also set proxy for HTTP\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n        // Code to fetch file\n    try {\n        server = new URL(url);\n        connection = server.openConnection();\n        is = connection.getInputStream();\n        byte[] buffer = new byte[is.available()];\n        is.read(buffer);\n\n        targetFile = new File(&quot;src/main/resources/targetFile.java&quot;);\n        outStream = new FileOutputStream(targetFile);\n        outStream.write(buffer);\n    } catch (MalformedURLException e) {\n        System.out.println(&quot;THE URL IS NOT CORRECT &quot;);\n        e.printStackTrace();\n    } catch (IOException e) {\n        System.out.println(&quot;I/O exception&quot;);\n        e.printStackTrace();\n    }\n    finally{\n        if(outStream != null)\n            outStream.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10381187,"reputation":339,"user_id":7655916,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1658946773,"post_id":47598360,"comment_id":129181227,"body_markdown":"this works for me thanks.  I have URL to PDF file and it downloads the exact PDF without using any library for PDF.  I appreciate it very much","body":"this works for me thanks.  I have URL to PDF file and it downloads the exact PDF without using any library for PDF.  I appreciate it very much"}],"tags":[],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1633680315,"creation_date":1512148699,"answer_id":47598360,"question_id":921262,"body_markdown":"Here is a concise, readable, JDK-only solution with properly closed resources:\r\n\r\n\tstatic long download(String url, String fileName) throws IOException {\r\n\t    try (InputStream in = URI.create(url).toURL().openStream()) {\r\n\t        return Files.copy(in, Paths.get(fileName));\r\n\t    }\r\n\t}\r\n\r\nTwo lines of code and no dependencies.\r\n\r\nHere&#39;s a [complete file downloader example][1] program with output, error checking, and command line argument checks:\r\n\r\n    package so.downloader;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URI;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class Application {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tif (2 != args.length) {\r\n    \t\t\tSystem.out.println(&quot;USAGE: java -jar so-downloader.jar &lt;source-URL&gt; &lt;target-filename&gt;&quot;);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \r\n    \t\tString sourceUrl = args[0];\r\n    \t\tString targetFilename = args[1];\r\n    \r\n    \t\tlong bytesDownloaded = download(sourceUrl, targetFilename);\r\n\r\n    \t\tSystem.out.println(String.format(&quot;Downloaded %d bytes from %s to %s.&quot;, bytesDownloaded, sourceUrl, targetFilename));\r\n    \t}\r\n    \r\n    \tstatic long download(String url, String fileName) throws IOException {\r\n    \t    try (InputStream in = URI.create(url).toURL().openStream()) {\r\n    \t        return Files.copy(in, Paths.get(fileName));\r\n    \t    }\r\n    \t}    \r\n    }\r\n\r\nAs noted in the [so-downloader repository][1] README:\r\n\r\nTo run file download program:\r\n\r\n    java -jar so-downloader.jar &lt;source-URL&gt; &lt;target-filename&gt;\r\n\r\nFor example:\r\n\r\n    java -jar so-downloader.jar https://github.com/JanStureNielsen/so-downloader/archive/main.zip so-downloader-source.zip\r\n\r\n  [1]: https://github.com/JanStureNielsen/so-downloader\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>Here is a concise, readable, JDK-only solution with properly closed resources:</p>\n<pre><code>static long download(String url, String fileName) throws IOException {\n    try (InputStream in = URI.create(url).toURL().openStream()) {\n        return Files.copy(in, Paths.get(fileName));\n    }\n}\n</code></pre>\n<p>Two lines of code and no dependencies.</p>\n<p>Here's a <a href=\"https://github.com/JanStureNielsen/so-downloader\" rel=\"nofollow noreferrer\">complete file downloader example</a> program with output, error checking, and command line argument checks:</p>\n<pre><code>package so.downloader;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URI;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class Application {\n    public static void main(String[] args) throws IOException {\n        if (2 != args.length) {\n            System.out.println(&quot;USAGE: java -jar so-downloader.jar &lt;source-URL&gt; &lt;target-filename&gt;&quot;);\n            System.exit(1);\n        }\n\n        String sourceUrl = args[0];\n        String targetFilename = args[1];\n\n        long bytesDownloaded = download(sourceUrl, targetFilename);\n\n        System.out.println(String.format(&quot;Downloaded %d bytes from %s to %s.&quot;, bytesDownloaded, sourceUrl, targetFilename));\n    }\n\n    static long download(String url, String fileName) throws IOException {\n        try (InputStream in = URI.create(url).toURL().openStream()) {\n            return Files.copy(in, Paths.get(fileName));\n        }\n    }    \n}\n</code></pre>\n<p>As noted in the <a href=\"https://github.com/JanStureNielsen/so-downloader\" rel=\"nofollow noreferrer\">so-downloader repository</a> README:</p>\n<p>To run file download program:</p>\n<pre><code>java -jar so-downloader.jar &lt;source-URL&gt; &lt;target-filename&gt;\n</code></pre>\n<p>For example:</p>\n<pre><code>java -jar so-downloader.jar https://github.com/JanStureNielsen/so-downloader/archive/main.zip so-downloader-source.zip\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3769196,"reputation":7953,"user_id":3131852,"accept_rate":100,"display_name":"Tim Diekmann"},"score":0,"creation_date":1527419891,"post_id":50551419,"comment_id":88113971,"body_markdown":"Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others.","body":"Generally, answers are much more helpful if they include an explanation of what the code is intended to do, and why that solves the problem without introducing others."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1623929506,"post_id":50551419,"comment_id":120220459,"body_markdown":"This code never closes anything, and uses a ridiculously small buffer,","body":"This code never closes anything, and uses a ridiculously small buffer,"}],"tags":[],"owner":{"account_id":12454550,"reputation":76,"user_id":9068196,"display_name":"Sachin Rane"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1631348382,"creation_date":1527418671,"answer_id":50551419,"question_id":921262,"body_markdown":"Below is the sample code to download a movie from the Internet with Java code:\r\n\r\n    URL url = new\r\n    URL(&quot;http://103.66.178.220/ftp/HDD2/Hindi%20Movies/2018/Hichki%202018.mkv&quot;);\r\n        BufferedInputStream bufferedInputStream = new  BufferedInputStream(url.openStream());\r\n        FileOutputStream stream = new FileOutputStream(&quot;/home/sachin/Desktop/test.mkv&quot;);\r\n\r\n        int count = 0;\r\n        byte[] b1 = new byte[100];\r\n\r\n        while((count = bufferedInputStream.read(b1)) != -1) {\r\n            System.out.println(&quot;b1:&quot; + b1 + &quot;&gt;&gt;&quot; + count + &quot;&gt;&gt; KB downloaded:&quot; + new File(&quot;/home/sachin/Desktop/test.mkv&quot;).length()/1024);\r\n            stream.write(b1, 0, count);\r\n        }\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>Below is the sample code to download a movie from the Internet with Java code:</p>\n<pre><code>URL url = new\nURL(&quot;http://103.66.178.220/ftp/HDD2/Hindi%20Movies/2018/Hichki%202018.mkv&quot;);\n    BufferedInputStream bufferedInputStream = new  BufferedInputStream(url.openStream());\n    FileOutputStream stream = new FileOutputStream(&quot;/home/sachin/Desktop/test.mkv&quot;);\n\n    int count = 0;\n    byte[] b1 = new byte[100];\n\n    while((count = bufferedInputStream.read(b1)) != -1) {\n        System.out.println(&quot;b1:&quot; + b1 + &quot;&gt;&gt;&quot; + count + &quot;&gt;&gt; KB downloaded:&quot; + new File(&quot;/home/sachin/Desktop/test.mkv&quot;).length()/1024);\n        stream.write(b1, 0, count);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1623929946,"post_id":62109217,"comment_id":120220666,"body_markdown":"3rd method does not compile. Neither the 1st nor the 3rd woudl actually copy anything.","body":"3rd method does not compile. Neither the 1st nor the 3rd woudl actually copy anything."}],"tags":[],"owner":{"account_id":7795457,"reputation":145,"user_id":5896734,"display_name":"Ashish Gupta"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631348463,"creation_date":1590876295,"answer_id":62109217,"question_id":921262,"body_markdown":"First method using the new channel\r\n\r\n    ReadableByteChannel aq = Channels.newChannel(new url(&quot;https//asd/abc.txt&quot;).openStream());\r\n    FileOutputStream fileOS = new FileOutputStream(&quot;C:Users/local/abc.txt&quot;)\r\n    FileChannel writech = fileOS.getChannel();\r\n\r\nSecond method using FileUtils\r\n\r\n    FileUtils.copyURLToFile(new url(&quot;https//asd/abc.txt&quot;, new local file on system(&quot;C&quot;:/Users/system/abc.txt&quot;));\r\n\r\nThird method using\r\n\r\n    InputStream xy = new (&quot;https//asd/abc.txt&quot;).openStream();\r\n\r\nThis is how we can download file by using basic Java code and other third-party libraries. These are just for quick reference. Please google with the above keywords to get detailed information and other options.\r\n\r\n\r\n\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>First method using the new channel</p>\n<pre><code>ReadableByteChannel aq = Channels.newChannel(new url(&quot;https//asd/abc.txt&quot;).openStream());\nFileOutputStream fileOS = new FileOutputStream(&quot;C:Users/local/abc.txt&quot;)\nFileChannel writech = fileOS.getChannel();\n</code></pre>\n<p>Second method using FileUtils</p>\n<pre><code>FileUtils.copyURLToFile(new url(&quot;https//asd/abc.txt&quot;, new local file on system(&quot;C&quot;:/Users/system/abc.txt&quot;));\n</code></pre>\n<p>Third method using</p>\n<pre><code>InputStream xy = new (&quot;https//asd/abc.txt&quot;).openStream();\n</code></pre>\n<p>This is how we can download file by using basic Java code and other third-party libraries. These are just for quick reference. Please google with the above keywords to get detailed information and other options.</p>\n"},{"tags":[],"owner":{"account_id":19492157,"reputation":132,"user_id":14260156,"display_name":"Suchin Madusha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631349042,"creation_date":1611827996,"answer_id":65934800,"question_id":921262,"body_markdown":"This can read a file on the Internet and write it into a file.\r\n\r\n    import java.net.URL;\r\n    import java.io.FileOutputStream;\r\n    import java.io.File;\r\n\r\n    public class Download {\r\n        public static void main(String[] args) throws Exception {\r\n             URL url = new URL(&quot;https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png&quot;);  // Input URL\r\n             FileOutputStream out = new FileOutputStream(new File(&quot;out.png&quot;));  // Output file\r\n             out.write(url.openStream().readAllBytes());\r\n             out.close();\r\n        }\r\n    }\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>This can read a file on the Internet and write it into a file.</p>\n<pre><code>import java.net.URL;\nimport java.io.FileOutputStream;\nimport java.io.File;\n\npublic class Download {\n    public static void main(String[] args) throws Exception {\n         URL url = new URL(&quot;https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png&quot;);  // Input URL\n         FileOutputStream out = new FileOutputStream(new File(&quot;out.png&quot;));  // Output file\n         out.write(url.openStream().readAllBytes());\n         out.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1631348952,"post_id":67549531,"comment_id":122201848,"body_markdown":"&quot;Authorization&quot; is commented out. What is its role (in light of the first sentence&#39;s *&quot;...using Authorization&quot;*)?","body":"&quot;Authorization&quot; is commented out. What is its role (in light of the first sentence&#39;s <i>&quot;...using Authorization&quot;</i>)?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1631348970,"post_id":67549531,"comment_id":122201852,"body_markdown":"This doesn&#39;t even compile (also indicated by the syntax highligting) - near `&quot;screenshot-1.png&quot;&quot;`.","body":"This doesn&#39;t even compile (also indicated by the syntax highligting) - near <code>&quot;screenshot-1.png&quot;&quot;</code>."},{"owner":{"account_id":20390432,"reputation":9,"user_id":14958470,"display_name":"ruslanKhodzhaev"},"score":0,"creation_date":1631438288,"post_id":67549531,"comment_id":122217569,"body_markdown":"@PeterMortensen\nIf resource is free, you don&#39;t need Authorization. \nSyntax error has been fixed.","body":"@PeterMortensen If resource is free, you don&#39;t need Authorization.  Syntax error has been fixed."}],"tags":[],"owner":{"account_id":20390432,"reputation":9,"user_id":14958470,"display_name":"ruslanKhodzhaev"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631438009,"creation_date":1621099865,"answer_id":67549531,"question_id":921262,"body_markdown":"Solution on java.net.http.HttpClient using Authorization:\r\n\r\n    HttpClient client = HttpClient.newHttpClient();\r\n\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n            .GET()\r\n            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            // .header(&quot;Authorization&quot;, &quot;Basic ci5raG9kemhhZXY6NDdiYdfjlmNUM=&quot;) if you need\r\n            .uri(URI.create(&quot;https://jira.google.ru/secure/attachment/234096/screenshot-1.png&quot;))\r\n            .build();\r\n\r\n    HttpResponse&lt;InputStream&gt; response = client.send(request, HttpResponse.BodyHandlers.ofInputStream());\r\n\r\n    try (InputStream in = response.body()) {\r\n        Files.copy(in, Paths.get(target + &quot;screenshot-1.png&quot;), StandardCopyOption.REPLACE_EXISTING);\r\n    }\r\n\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>Solution on java.net.http.HttpClient using Authorization:</p>\n<pre><code>HttpClient client = HttpClient.newHttpClient();\n\nHttpRequest request = HttpRequest.newBuilder()\n        .GET()\n        .header(&quot;Accept&quot;, &quot;application/json&quot;)\n        // .header(&quot;Authorization&quot;, &quot;Basic ci5raG9kemhhZXY6NDdiYdfjlmNUM=&quot;) if you need\n        .uri(URI.create(&quot;https://jira.google.ru/secure/attachment/234096/screenshot-1.png&quot;))\n        .build();\n\nHttpResponse&lt;InputStream&gt; response = client.send(request, HttpResponse.BodyHandlers.ofInputStream());\n\ntry (InputStream in = response.body()) {\n    Files.copy(in, Paths.get(target + &quot;screenshot-1.png&quot;), StandardCopyOption.REPLACE_EXISTING);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699431290,"creation_date":1681873978,"answer_id":76050505,"question_id":921262,"body_markdown":"One liner with the built-in [Java HTTP Client][1] added in Java 11:\r\n\r\n    URI url = ...;\r\n    Path path = ...; // output file path\r\n    HttpClient.newHttpClient().send(HttpRequest.newBuilder(url).build(), HttpResponse.BodyHandlers.ofFile(path));\r\n\r\nIf you&#39;re making multiple requests, you can reuse the HttpClient and the body handler.\r\n\r\nYou can also customize the request by adding parameters to the `HttpRequest` and customize writing/creating the file by adding parameters to the `HttpResponse.BodyHandlers.ofFile` method.\r\n\r\n    \r\n\r\nNo need to worry about closing resources.\r\n\r\n\r\n  [1]: https://openjdk.org/groups/net/httpclient/intro.html","title":"How can I download and save a file from the Internet using Java?","body":"<p>One liner with the built-in <a href=\"https://openjdk.org/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">Java HTTP Client</a> added in Java 11:</p>\n<pre><code>URI url = ...;\nPath path = ...; // output file path\nHttpClient.newHttpClient().send(HttpRequest.newBuilder(url).build(), HttpResponse.BodyHandlers.ofFile(path));\n</code></pre>\n<p>If you're making multiple requests, you can reuse the HttpClient and the body handler.</p>\n<p>You can also customize the request by adding parameters to the <code>HttpRequest</code> and customize writing/creating the file by adding parameters to the <code>HttpResponse.BodyHandlers.ofFile</code> method.</p>\n<p>No need to worry about closing resources.</p>\n"}],"owner":{"account_id":4519,"reputation":11266,"user_id":6833,"accept_rate":100,"display_name":"echoblaze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749577,"favorite_count":0,"down_vote_count":3,"up_vote_count":471,"accepted_answer_id":921400,"answer_count":24,"score":468,"last_activity_date":1699431290,"creation_date":1243522439,"question_id":921262,"body_markdown":"There is an online file (such as `http://www.example.com/information.asp`) I need to grab and save to a directory. I know there are several methods for grabbing and reading online files (URLs) line-by-line, but is there a way to just download and save the file using Java?\r\n","title":"How can I download and save a file from the Internet using Java?","body":"<p>There is an online file (such as <code>http://www.example.com/information.asp</code>) I need to grab and save to a directory. I know there are several methods for grabbing and reading online files (URLs) line-by-line, but is there a way to just download and save the file using Java?</p>\n"},{"tags":["java","date","java-time"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1699271515,"post_id":77430683,"comment_id":136506340,"body_markdown":"What is your default timezone `ZoneId.systemDefault()`?","body":"What is your default timezone <code>ZoneId.systemDefault()</code>?"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":3,"creation_date":1699271961,"post_id":77430683,"comment_id":136506426,"body_markdown":"How did you create an instance of `java.util.Date` with `01.01.0001`?","body":"How did you create an instance of <code>java.util.Date</code> with <code>01.01.0001</code>?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1699275978,"post_id":77430683,"comment_id":136507115,"body_markdown":"better not use such an old class like `Date` (years are 1900-based, months 0-based, and days 1-based); if there is no option but to use it, maybe using a `Calendar` to get day, month and year to be used with `LocalDate.of(year, month, day)` (after adjusting the values) || some testing will show that `Date` and `Instant` will show different (textual) dates for the same *milliseconds* (for dates so far in the past as in this question)","body":"better not use such an old class like <code>Date</code> (years are 1900-based, months 0-based, and days 1-based); if there is no option but to use it, maybe using a <code>Calendar</code> to get day, month and year to be used with <code>LocalDate.of(year, month, day)</code> (after adjusting the values) || some testing will show that <code>Date</code> and <code>Instant</code> will show different (textual) dates for the same <i>milliseconds</i> (for dates so far in the past as in this question)"},{"owner":{"account_id":5691351,"reputation":60,"user_id":4499348,"display_name":"Der Till"},"score":0,"creation_date":1699276142,"post_id":77430683,"comment_id":136507148,"body_markdown":"I created the Date with Date date = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;)\n\nZoneId.systemDefault()\n=&gt; (java.time.ZoneRegion) Europe/Berlin","body":"I created the Date with Date date = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;)  ZoneId.systemDefault() =&gt; (java.time.ZoneRegion) Europe/Berlin"},{"owner":{"account_id":5691351,"reputation":60,"user_id":4499348,"display_name":"Der Till"},"score":2,"creation_date":1699276545,"post_id":77430683,"comment_id":136507243,"body_markdown":"I do not want to use Date. But it is part of legacy code.  To refactor the legacy code ist not an option at this point :(. So i have to convert the old Date to LocalDate.","body":"I do not want to use Date. But it is part of legacy code.  To refactor the legacy code ist not an option at this point :(. So i have to convert the old Date to LocalDate."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699277539,"post_id":77430683,"comment_id":136507420,"body_markdown":"as suggested, something *like*: `var c = Calendar.getInstance(); c.setTime(date); var local = LocalDate.of(c.get(Calendar.YEAR), 1+c.get(Calendar.MONTH), c.get(Calendar.DAY_OF_MONTH));` || BTW code posted in question should work with *more actual* dates (after 1582 - see [Gregorian Calendar](https://en.wikipedia.org/wiki/Gregorian_calendar))","body":"as suggested, something <i>like</i>: <code>var c = Calendar.getInstance(); c.setTime(date); var local = LocalDate.of(c.get(Calendar.YEAR), 1+c.get(Calendar.MONTH), c.get(Calendar.DAY_OF_MONTH));</code> || BTW code posted in question should work with <i>more actual</i> dates (after 1582 - see <a href=\"https://en.wikipedia.org/wiki/Gregorian_calendar\" rel=\"nofollow noreferrer\">Gregorian Calendar</a>)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1699279027,"post_id":77430683,"comment_id":136507800,"body_markdown":"What about `date.toInstant().atZone(ZoneOffset.UTC).toLocalDate();`? You can later convert to another `ZoneId` or `ZoneOffset` but initially and explicitly using UTC would get you rid of surprises like `29.12.0000` instead of the expected `01.01.0001`.","body":"What about <code>date.toInstant().atZone(ZoneOffset.UTC).toLocalDate();</code>? You can later convert to another <code>ZoneId</code> or <code>ZoneOffset</code> but initially and explicitly using UTC would get you rid of surprises like <code>29.12.0000</code> instead of the expected <code>01.01.0001</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699281846,"post_id":77430683,"comment_id":136508500,"body_markdown":"`Date date = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;)` ← What time of day do think that Date has?  What timezone was used to determine that date?  You can answer these questions by printing the value of `date.toInstant()`.  This happens because a java.util.Date is not just a calendar date; it’s a date and time, always UTC, expressed in milliseconds.  SimpleDateFormat makes assumptions about the timezone, which makes SimpleDateFormat unreliable unless used very carefully.","body":"<code>Date date = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;)</code> ← What time of day do think that Date has?  What timezone was used to determine that date?  You can answer these questions by printing the value of <code>date.toInstant()</code>.  This happens because a java.util.Date is not just a calendar date; it’s a date and time, always UTC, expressed in milliseconds.  SimpleDateFormat makes assumptions about the timezone, which makes SimpleDateFormat unreliable unless used very carefully."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699281995,"post_id":77430683,"comment_id":136508531,"body_markdown":"@VGR but is that alone enough to explain the result being apparently 3 days back?","body":"@VGR but is that alone enough to explain the result being apparently 3 days back?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699282387,"post_id":77430683,"comment_id":136508609,"body_markdown":"@user85421 Indeed it is not.  But avoiding SimpleDateFormat at least reduces the number of confounding and compounding factors.","body":"@user85421 Indeed it is not.  But avoiding SimpleDateFormat at least reduces the number of confounding and compounding factors."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1699290241,"post_id":77430683,"comment_id":136510263,"body_markdown":"@user85421 admittedly, I hadn&#39;t… Have you? However, I have now, and it turns out I should have tested it before ^^. There&#39;s no input value shown in the question, so I&#39;ve used different ways to create one but none produced the expected value the way my previous comment suggests…","body":"@user85421 admittedly, I hadn&#39;t… Have you? However, I have now, and it turns out I should have tested it before ^^. There&#39;s no input value shown in the question, so I&#39;ve used different ways to create one but none produced the expected value the way my previous comment suggests…"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699290963,"post_id":77430683,"comment_id":136510410,"body_markdown":"@deHaar you have suggested it, so why *must* **I** have tested it??? But there will be discrepancies between `Date` and `Instant` up to, partly including, year 1582 (I suppose it is related to the Julian, the Gregorian and the Proleptic Gregorian Calendars)","body":"@deHaar you have suggested it, so why <i>must</i> <b>I</b> have tested it??? But there will be discrepancies between <code>Date</code> and <code>Instant</code> up to, partly including, year 1582 (I suppose it is related to the Julian, the Gregorian and the Proleptic Gregorian Calendars)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1699293495,"post_id":77430683,"comment_id":136510852,"body_markdown":"I didn&#39;t say you&#39;d have to test it, just asked if you had…","body":"I didn&#39;t say you&#39;d have to test it, just asked if you had…"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699301103,"post_id":77430683,"comment_id":136512063,"body_markdown":"Specify the result of `ZoneId.systemDefault()` in your test code.","body":"Specify the result of <code>ZoneId.systemDefault()</code> in your test code."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1699301176,"post_id":77430683,"comment_id":136512084,"body_markdown":"Provide an [MCVE](https://stackoverflow.com/help/mcve).","body":"Provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699301231,"post_id":77430683,"comment_id":136512091,"body_markdown":"@HonzaZidek The down-votes may be due to a lack of important details, and a lack of an MCVE.","body":"@HonzaZidek The down-votes may be due to a lack of important details, and a lack of an MCVE."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1699347419,"post_id":77430683,"comment_id":136516946,"body_markdown":"Then let&#39;s clarify the matter: You don&#39;t have to test it and I should have tested it ;-)","body":"Then let&#39;s clarify the matter: You don&#39;t have to test it and I should have tested it ;-)"}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699310889,"post_id":77433946,"comment_id":136513464,"body_markdown":"timezone was given in this [comment](https://stackoverflow.com/questions/77430683/converting-java-util-date-01-01-0001-to-java-time-localdate-returns-29-12-0000#comment136507148_77430683) and the next comment explains the *problem* - unfortunately not in the question itself","body":"timezone was given in this <a href=\"https://stackoverflow.com/questions/77430683/converting-java-util-date-01-01-0001-to-java-time-localdate-returns-29-12-0000#comment136507148_77430683\">comment</a> and the next comment explains the <i>problem</i> - unfortunately not in the question itself"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1699321136,"post_id":77433946,"comment_id":136514443,"body_markdown":"@user85421 On Stack Overflow, the reader is not expected to trawl through Comments to understand a Question. It is the author’s responsibility to edit their Question with all relevant facts.","body":"@user85421 On Stack Overflow, the reader is not expected to trawl through Comments to understand a Question. It is the author’s responsibility to edit their Question with all relevant facts."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699342971,"post_id":77433946,"comment_id":136516300,"body_markdown":"I know and exactly why I commented to inform you; I am not the author and will not do theirs *job*  (as I already have commented: &quot;unfortunately not in the question&quot;)","body":"I know and exactly why I commented to inform you; I am not the author and will not do theirs <i>job</i>  (as I already have commented: &quot;unfortunately not in the question&quot;)"},{"owner":{"account_id":5691351,"reputation":60,"user_id":4499348,"display_name":"Der Till"},"score":0,"creation_date":1699354585,"post_id":77433946,"comment_id":136518384,"body_markdown":"I am sorry. It was my fault not to edit my post. I am not used to write posts, because i can resolve moste of my problems by a web-searche. I have edited my original posts. thank you, for your time.","body":"I am sorry. It was my fault not to edit my post. I am not used to write posts, because i can resolve moste of my problems by a web-searche. I have edited my original posts. thank you, for your time."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1699367655,"creation_date":1699300955,"answer_id":77433946,"question_id":77430683,"body_markdown":"# *java.time* \r\n\r\nUnderstand that Java comes with two different date-time frameworks. \r\n\r\n - One is terribly flawed, and is now [legacy][1]. \r\n - The other is industry-leading, defined in JSR 310, with all classes found in the `java.time.*` packages.\r\n\r\nLet&#39;s get the first moment of your year 1. \r\n\r\n    Instant yearOneStartInUtc = Instant.parse ( &quot;0001-01-01T00:00:00Z&quot; );\r\n\r\n&gt;yearOneStartInUtc.toString() = 0001-01-01T00:00:00Z\r\n\r\nThe `Z` on the end is pronounced “Zulu”, and represents an offset of zero hours-minutes-seconds from the temporal meridian of UTC.\r\n\r\nWe can freely convert back and forth between the legacy and modern frameworks by calling new methods added to the old classes.\r\n\r\n    java.util.Date judStart = java.util.Date.from ( yearOneStartInUtc );\r\n\r\n&gt;judStart.toString() = Sun Jan 02 16:00:00 PST 1\r\n\r\n## Avoid legacy date-time classes \r\n\r\nNotice that the `java.util.Date#toString` method lies to us. While `java.util.Date` represents a moment as seen in UTC (an offset of zero), its `toString` method dynamically applies the JVM’s current default time zone while generating its text result. This is one of many reasons to **avoid this legacy class** as well as `Calendar`, `SimpleDateFormat`, etc.\r\n\r\nNow we can look at the rest of your code. \r\n\r\n## Adjusting between zones\r\n\r\nYou applied a time zone to an `Instant` to adjust from UTC. You neglected to tell us what is that time zone. So let&#39;s arbitrarily choose the time zone [`America/Edmonton`][2]. This time zone uses an offset of several hours behind UTC.\r\n\r\n```java\r\nZoneId zoneEdmonton = ZoneId.of ( &quot;America/Edmonton&quot; );\r\nZonedDateTime zdtYearOneStart = yearOneStartInUtc.atZone ( zoneEdmonton );\r\n```\r\n\r\n&gt;zdtYearOneStart.toString() = 0000-12-31T16:26:08-07:33:52[America/Edmonton]\r\n\r\nNotice the date differs from the input, 0000-12-31 versus 0001-01-01. The time differs as well, 16:26:08-07:33:52 versus 00:00:00. And therein lies our explanation. \r\n\r\nImagine that at that very moment, when the date and the year rolled over, Alice stood at the future site of the [Royal Observatory, Greenwich][3]. She observed the current time of 00:00:00 on New Year&#39;s Day. But for Bob sipping nog over in Edmonton Alberta Canada, that same **simultaneous moment was New Year’s *Eve*, not New Year’s *Day*.** And when Bob looked up at the clock on his wall, he would see a time several hours *before* midnight. Alice was in “next year” 0001, while Bob was simultaneously in “last year” 0000.\r\n\r\n&#128073;&#127997; For any given moment, the time and date vary around the globe by time zone.\r\n\r\nSo the difference in dates of January 1 versus December 31 makes sense. However, your result of December 29 does *not* make sense. You have neglected to provide an [MCVE][4], so I suspect you have made a mistake.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Legacy_system\r\n  [2]: https://time.is/Edmonton\r\n  [3]: https://en.wikipedia.org/wiki/Royal_Observatory,_Greenwich\r\n  [4]: https://stackoverflow.com/help/mcve","title":"Converting java.util.Date (01.01.0001) to java.time.LocalDate returns 29.12.0000","body":"<h1><em>java.time</em></h1>\n<p>Understand that Java comes with two different date-time frameworks.</p>\n<ul>\n<li>One is terribly flawed, and is now <a href=\"https://en.m.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>.</li>\n<li>The other is industry-leading, defined in JSR 310, with all classes found in the <code>java.time.*</code> packages.</li>\n</ul>\n<p>Let's get the first moment of your year 1.</p>\n<pre><code>Instant yearOneStartInUtc = Instant.parse ( &quot;0001-01-01T00:00:00Z&quot; );\n</code></pre>\n<blockquote>\n<p>yearOneStartInUtc.toString() = 0001-01-01T00:00:00Z</p>\n</blockquote>\n<p>The <code>Z</code> on the end is pronounced “Zulu”, and represents an offset of zero hours-minutes-seconds from the temporal meridian of UTC.</p>\n<p>We can freely convert back and forth between the legacy and modern frameworks by calling new methods added to the old classes.</p>\n<pre><code>java.util.Date judStart = java.util.Date.from ( yearOneStartInUtc );\n</code></pre>\n<blockquote>\n<p>judStart.toString() = Sun Jan 02 16:00:00 PST 1</p>\n</blockquote>\n<h2>Avoid legacy date-time classes</h2>\n<p>Notice that the <code>java.util.Date#toString</code> method lies to us. While <code>java.util.Date</code> represents a moment as seen in UTC (an offset of zero), its <code>toString</code> method dynamically applies the JVM’s current default time zone while generating its text result. This is one of many reasons to <strong>avoid this legacy class</strong> as well as <code>Calendar</code>, <code>SimpleDateFormat</code>, etc.</p>\n<p>Now we can look at the rest of your code.</p>\n<h2>Adjusting between zones</h2>\n<p>You applied a time zone to an <code>Instant</code> to adjust from UTC. You neglected to tell us what is that time zone. So let's arbitrarily choose the time zone <a href=\"https://time.is/Edmonton\" rel=\"nofollow noreferrer\"><code>America/Edmonton</code></a>. This time zone uses an offset of several hours behind UTC.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zoneEdmonton = ZoneId.of ( &quot;America/Edmonton&quot; );\nZonedDateTime zdtYearOneStart = yearOneStartInUtc.atZone ( zoneEdmonton );\n</code></pre>\n<blockquote>\n<p>zdtYearOneStart.toString() = 0000-12-31T16:26:08-07:33:52[America/Edmonton]</p>\n</blockquote>\n<p>Notice the date differs from the input, 0000-12-31 versus 0001-01-01. The time differs as well, 16:26:08-07:33:52 versus 00:00:00. And therein lies our explanation.</p>\n<p>Imagine that at that very moment, when the date and the year rolled over, Alice stood at the future site of the <a href=\"https://en.wikipedia.org/wiki/Royal_Observatory,_Greenwich\" rel=\"nofollow noreferrer\">Royal Observatory, Greenwich</a>. She observed the current time of 00:00:00 on New Year's Day. But for Bob sipping nog over in Edmonton Alberta Canada, that same <strong>simultaneous moment was New Year’s <em>Eve</em>, not New Year’s <em>Day</em>.</strong> And when Bob looked up at the clock on his wall, he would see a time several hours <em>before</em> midnight. Alice was in “next year” 0001, while Bob was simultaneously in “last year” 0000.</p>\n<p>👉🏽 For any given moment, the time and date vary around the globe by time zone.</p>\n<p>So the difference in dates of January 1 versus December 31 makes sense. However, your result of December 29 does <em>not</em> make sense. You have neglected to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I suspect you have made a mistake.</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699351855,"creation_date":1699351855,"answer_id":77437314,"question_id":77430683,"body_markdown":"&gt; 29.12.0000 and 01.01.0001 are not the same.\r\n\r\nIndeed. What we need to understand is the following: whenever you convert a time or a date to another timezone, if the two time-zones are different, then the resulting date might end up being different as well.\r\n\r\nYou have two date conversions:\r\n\r\n- `atZone()`\r\n- `toLocalDate()`\r\n\r\n[atZone][1] returns `ZonedDateTime`. `toLocalDate` converts your date into another timezone&#39;d date: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html.\r\n\r\n[There are more than 24 time-zones.][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo, if you do two conversions in this manner, then it is quite possible that the two conversions in total subtract at least 24 hours and therefore result in two date differences.\r\n\r\nI&#39;m puzzled to see that you actually have a 3-day difference. You will need to break up your code and see where the data changes actually happen. They could be time-zone differences like I described. Or they could be some bugs either in your code or the legacy library. Maybe you have more conversions.\r\n\r\nA very &quot;simple&quot; way to go back in time in this manner to convert actual dates to time-zones and forget the hours. Then, if the time-zone changes have decreasing time-zone offsets, then you repeatedly get subtracted days.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/instant-atzone-method-in-java-with-examples/\r\n  [2]: https://www.timeanddate.com/time/current-number-time-zones.html\r\n  [3]: https://i.stack.imgur.com/t797G.png","title":"Converting java.util.Date (01.01.0001) to java.time.LocalDate returns 29.12.0000","body":"<blockquote>\n<p>29.12.0000 and 01.01.0001 are not the same.</p>\n</blockquote>\n<p>Indeed. What we need to understand is the following: whenever you convert a time or a date to another timezone, if the two time-zones are different, then the resulting date might end up being different as well.</p>\n<p>You have two date conversions:</p>\n<ul>\n<li><code>atZone()</code></li>\n<li><code>toLocalDate()</code></li>\n</ul>\n<p><a href=\"https://www.geeksforgeeks.org/instant-atzone-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">atZone</a> returns <code>ZonedDateTime</code>. <code>toLocalDate</code> converts your date into another timezone'd date: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a>.</p>\n<p><a href=\"https://www.timeanddate.com/time/current-number-time-zones.html\" rel=\"nofollow noreferrer\">There are more than 24 time-zones.</a></p>\n<p><a href=\"https://i.stack.imgur.com/t797G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t797G.png\" alt=\"enter image description here\" /></a></p>\n<p>So, if you do two conversions in this manner, then it is quite possible that the two conversions in total subtract at least 24 hours and therefore result in two date differences.</p>\n<p>I'm puzzled to see that you actually have a 3-day difference. You will need to break up your code and see where the data changes actually happen. They could be time-zone differences like I described. Or they could be some bugs either in your code or the legacy library. Maybe you have more conversions.</p>\n<p>A very &quot;simple&quot; way to go back in time in this manner to convert actual dates to time-zones and forget the hours. Then, if the time-zone changes have decreasing time-zone offsets, then you repeatedly get subtracted days.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1699431055,"creation_date":1699372386,"answer_id":77439659,"question_id":77430683,"body_markdown":"### Multiple problems  \r\n- *1 day difference*: the time zone as already explained in other answers, that is, for example, midnight at the time zone `Europe/Berlin` corresponds to 23:00 the day before at `UTC` (no daylight saving time)  \r\n- *2 day difference*: the old classes (`Date`, `SimpleDateFormat`, `Calendar`) are using the Julian Calendar up to October 1582, while the *new* classes in `java.time` are using the Proleptic Gregorian Calendar\r\n\r\nFrom [Wikipedia](https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar) we can see the difference between both, and following code confirms that:\r\n\r\n````java\r\nTimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;)); // one error less\r\nfor (var year : List.of(1, 101, 201, 1401, 1501, 1601)) {\r\n    var date = new Date(year-1900, 0, 10);\r\n    var instant = date.toInstant();\r\n    System.out.println(date.getTime() + &quot; = &quot; + date);\r\n    System.out.println(instant.toEpochMilli() + &quot; = &quot; + instant);\r\n    System.out.println();\r\n}\r\n````\r\nOutput:\r\n&gt; ````none\r\n&gt;    -62134992000000 = Mon Jan 10 00:00:00 UTC 1\r\n&gt;    -62134992000000 = 0001-01-08T00:00:00Z\r\n&gt;    \r\n&gt;    -58979232000000 = Sun Jan 10 00:00:00 UTC 101\r\n&gt;    -58979232000000 = 0101-01-09T00:00:00Z\r\n&gt;    \r\n&gt;    -55823472000000 = Sat Jan 10 00:00:00 UTC 201\r\n&gt;    -55823472000000 = 0201-01-10T00:00:00Z\r\n&gt;    \r\n&gt;    -17954352000000 = Mon Jan 10 00:00:00 UTC 1401\r\n&gt;    -17954352000000 = 1401-01-19T00:00:00Z\r\n&gt;    \r\n&gt;    -14798592000000 = Sun Jan 10 00:00:00 UTC 1501\r\n&gt;    -14798592000000 = 1501-01-20T00:00:00Z\r\n&gt;    \r\n&gt;    -11643696000000 = Wed Jan 10 00:00:00 UTC 1601\r\n&gt;    -11643696000000 = 1601-01-10T00:00:00Z\r\n&gt; ````\r\n\r\n-----\r\n\r\n### Javadoc  \r\nWe can find the explanation for difference in the documentation (emphasis added):\r\n- [GregorianCalendar](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/GregorianCalendar.html)  \r\n    &gt; Historically, in those countries which adopted the Gregorian calendar first, October 4, 1582 (Julian) was thus followed by October 15, 1582 (Gregorian). This calendar models this correctly. Before the Gregorian cutover, GregorianCalendar implements the Julian calendar. The only difference between the Gregorian and the Julian calendar is the leap year rule. **The Julian calendar specifies leap years every four years, whereas the Gregorian calendar omits century years which are not divisible by 400**.\r\n- [java.time](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html)  \r\n    &gt; The classes defined here represent the principle date-time concepts, including instants, durations, dates, times, time-zones and periods. They are **based on the ISO calendar system**, which is the de facto world calendar following the **proleptic Gregorian rules**.\r\n\r\n-----\r\n\r\n### Conclusion  \r\nIf dealing with dates after 1582, `Date#toInstant`, `Instant#atOffset` (`Instant#atZone`) and `OffsetDateTime#toLocalDate` (`ZonedDateTime#toLocalDate`) can be used, taking care to use the correct time zone (offset.) Anyway, as already warned, using these classes is strongly discouraged!  \r\nOtherwise, for dates before/at 1582, you will need to first check which calendar was (should be) used to represent these dates.\r\n\r\nFor a Julian Calendar (before 1583), as I already commented, following or similar code can be used:\r\n````java\r\nvar calendar = Calendar.getInstance(); \r\ncalendar.setTime(date); \r\nvar localDate = LocalDate.of(\r\n    calendar.get(Calendar.YEAR), \r\n    1 + calendar.get(Calendar.MONTH),   // months are 0-based\r\n    calendar.get(Calendar.DAY_OF_MONTH));\r\n````","title":"Converting java.util.Date (01.01.0001) to java.time.LocalDate returns 29.12.0000","body":"<h3>Multiple problems</h3>\n<ul>\n<li><em>1 day difference</em>: the time zone as already explained in other answers, that is, for example, midnight at the time zone <code>Europe/Berlin</code> corresponds to 23:00 the day before at <code>UTC</code> (no daylight saving time)</li>\n<li><em>2 day difference</em>: the old classes (<code>Date</code>, <code>SimpleDateFormat</code>, <code>Calendar</code>) are using the Julian Calendar up to October 1582, while the <em>new</em> classes in <code>java.time</code> are using the Proleptic Gregorian Calendar</li>\n</ul>\n<p>From <a href=\"https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar\" rel=\"nofollow noreferrer\">Wikipedia</a> we can see the difference between both, and following code confirms that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;)); // one error less\nfor (var year : List.of(1, 101, 201, 1401, 1501, 1601)) {\n    var date = new Date(year-1900, 0, 10);\n    var instant = date.toInstant();\n    System.out.println(date.getTime() + &quot; = &quot; + date);\n    System.out.println(instant.toEpochMilli() + &quot; = &quot; + instant);\n    System.out.println();\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>   -62134992000000 = Mon Jan 10 00:00:00 UTC 1\n   -62134992000000 = 0001-01-08T00:00:00Z\n   \n   -58979232000000 = Sun Jan 10 00:00:00 UTC 101\n   -58979232000000 = 0101-01-09T00:00:00Z\n   \n   -55823472000000 = Sat Jan 10 00:00:00 UTC 201\n   -55823472000000 = 0201-01-10T00:00:00Z\n   \n   -17954352000000 = Mon Jan 10 00:00:00 UTC 1401\n   -17954352000000 = 1401-01-19T00:00:00Z\n   \n   -14798592000000 = Sun Jan 10 00:00:00 UTC 1501\n   -14798592000000 = 1501-01-20T00:00:00Z\n   \n   -11643696000000 = Wed Jan 10 00:00:00 UTC 1601\n   -11643696000000 = 1601-01-10T00:00:00Z\n</code></pre>\n</blockquote>\n<hr />\n<h3>Javadoc</h3>\n<p>We can find the explanation for difference in the documentation (emphasis added):</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/GregorianCalendar.html\" rel=\"nofollow noreferrer\">GregorianCalendar</a>\n<blockquote>\n<p>Historically, in those countries which adopted the Gregorian calendar first, October 4, 1582 (Julian) was thus followed by October 15, 1582 (Gregorian). This calendar models this correctly. Before the Gregorian cutover, GregorianCalendar implements the Julian calendar. The only difference between the Gregorian and the Julian calendar is the leap year rule. <strong>The Julian calendar specifies leap years every four years, whereas the Gregorian calendar omits century years which are not divisible by 400</strong>.</p>\n</blockquote>\n</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>\n<blockquote>\n<p>The classes defined here represent the principle date-time concepts, including instants, durations, dates, times, time-zones and periods. They are <strong>based on the ISO calendar system</strong>, which is the de facto world calendar following the <strong>proleptic Gregorian rules</strong>.</p>\n</blockquote>\n</li>\n</ul>\n<hr />\n<h3>Conclusion</h3>\n<p>If dealing with dates after 1582, <code>Date#toInstant</code>, <code>Instant#atOffset</code> (<code>Instant#atZone</code>) and <code>OffsetDateTime#toLocalDate</code> (<code>ZonedDateTime#toLocalDate</code>) can be used, taking care to use the correct time zone (offset.) Anyway, as already warned, using these classes is strongly discouraged!<br />\nOtherwise, for dates before/at 1582, you will need to first check which calendar was (should be) used to represent these dates.</p>\n<p>For a Julian Calendar (before 1583), as I already commented, following or similar code can be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var calendar = Calendar.getInstance(); \ncalendar.setTime(date); \nvar localDate = LocalDate.of(\n    calendar.get(Calendar.YEAR), \n    1 + calendar.get(Calendar.MONTH),   // months are 0-based\n    calendar.get(Calendar.DAY_OF_MONTH));\n</code></pre>\n"}],"owner":{"account_id":5691351,"reputation":60,"user_id":4499348,"display_name":"Der Till"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":77439659,"answer_count":3,"score":0,"last_activity_date":1699431055,"creation_date":1699269544,"question_id":77430683,"body_markdown":"I want to parse `java.util.Date` to `java.time.LocalDate`\r\nI found this code, when I searched for the problem:\r\n```Java\r\nDate date = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;);\r\ndate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n```\r\nif I have the `01.01.0001` as start date, I got problems:\r\n\r\n```Java\r\ndate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n```\r\n==&gt; (java.time.LocalDate) 0000-12-29\r\n\r\n`29.12.0000` and `01.01.0001` are not the same. \r\n\r\n1. Why is the actual result different from the expected?\r\n2. What can I do if I also want to receive the `LocalDate` with the value `01.01.0001`?\r\n\r\nInformations to the time-zone:\r\n```Java\r\nZoneId.systemDefault()\r\n```\r\n==&gt; (java.time.ZoneRegion) Europe/Berlin\r\n\r\n\r\n1. I think, the problem is this step: `date.toInstant()`\r\n2. I do not think, that it is (only) a time-zone problem. If I test it with an different year. For example 1901, than it end at 31.12.1900.\r\n```Java\r\n\t\tDate date0001 = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;);\r\n\t\tSystem.out.println(date0001.toInstant());\r\n```\r\n==&gt; 0000-12-29T23:00:00Z\r\n```Java\r\n\t\tDate date1901 = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.1901&quot;);\r\n\t\tSystem.out.println(date1901.toInstant());\r\n```\r\n==&gt; 1900-12-31T23:00:00Z\r\n","title":"Converting java.util.Date (01.01.0001) to java.time.LocalDate returns 29.12.0000","body":"<p>I want to parse <code>java.util.Date</code> to <code>java.time.LocalDate</code>\nI found this code, when I searched for the problem:</p>\n<pre><code>Date date = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;);\ndate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n</code></pre>\n<p>if I have the <code>01.01.0001</code> as start date, I got problems:</p>\n<pre><code>date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n</code></pre>\n<p>==&gt; (java.time.LocalDate) 0000-12-29</p>\n<p><code>29.12.0000</code> and <code>01.01.0001</code> are not the same.</p>\n<ol>\n<li>Why is the actual result different from the expected?</li>\n<li>What can I do if I also want to receive the <code>LocalDate</code> with the value <code>01.01.0001</code>?</li>\n</ol>\n<p>Informations to the time-zone:</p>\n<pre><code>ZoneId.systemDefault()\n</code></pre>\n<p>==&gt; (java.time.ZoneRegion) Europe/Berlin</p>\n<ol>\n<li>I think, the problem is this step: <code>date.toInstant()</code></li>\n<li>I do not think, that it is (only) a time-zone problem. If I test it with an different year. For example 1901, than it end at 31.12.1900.</li>\n</ol>\n<pre><code>        Date date0001 = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.0001&quot;);\n        System.out.println(date0001.toInstant());\n</code></pre>\n<p>==&gt; 0000-12-29T23:00:00Z</p>\n<pre><code>        Date date1901 = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;).parse(&quot;01.01.1901&quot;);\n        System.out.println(date1901.toInstant());\n</code></pre>\n<p>==&gt; 1900-12-31T23:00:00Z</p>\n"},{"tags":["java","spring-boot","kotlin","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1699428105,"post_id":77443491,"comment_id":136528576,"body_markdown":"So you are constructing an instance of `UserService` outside the scope of Spring and wonder why there is no dependency injection? You need to inject the Sprng Managed version and not create a new one yourself.","body":"So you are constructing an instance of <code>UserService</code> outside the scope of Spring and wonder why there is no dependency injection? You need to inject the Sprng Managed version and not create a new one yourself."},{"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"score":0,"creation_date":1699428763,"post_id":77443491,"comment_id":136528680,"body_markdown":"i guess you mean that i would need to make a @Bean instead of `UserService()` in `oauth2Login`?","body":"i guess you mean that i would need to make a @Bean instead of <code>UserService()</code> in <code>oauth2Login</code>?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1699429961,"post_id":77443491,"comment_id":136528868,"body_markdown":"No, your userservice is already an `@Service` which should be detected, you should be able to just inject it into your class of configure methoid.","body":"No, your userservice is already an <code>@Service</code> which should be detected, you should be able to just inject it into your class of configure methoid."},{"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"score":0,"creation_date":1699430570,"post_id":77443491,"comment_id":136528963,"body_markdown":"oh, now i get it, thank you","body":"oh, now i get it, thank you"}],"answers":[{"tags":[],"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699430749,"creation_date":1699430749,"answer_id":77443778,"question_id":77443491,"body_markdown":"The key was to inject service into configuration.\r\n\r\nFor those who wondering, here&#39;s the code:\r\n```kotlin\r\n@Autowired\r\nprivate lateinit var userService: CustomUserService\r\n\r\n@Bean\r\n    fun securityFilterChain(http: HttpSecurity): SecurityFilterChain =\r\n        http.run {\r\n            oauth2Login { oauth2 -&gt;\r\n                oauth2.userInfoEndpoint { endpoint -&gt;\r\n                    endpoint.userService(userService)\r\n                }\r\n            }\r\n        }.build()","title":"Spring can&#39;t autowire with custom UserService","body":"<p>The key was to inject service into configuration.</p>\n<p>For those who wondering, here's the code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Autowired\nprivate lateinit var userService: CustomUserService\n\n@Bean\n    fun securityFilterChain(http: HttpSecurity): SecurityFilterChain =\n        http.run {\n            oauth2Login { oauth2 -&gt;\n                oauth2.userInfoEndpoint { endpoint -&gt;\n                    endpoint.userService(userService)\n                }\n            }\n        }.build()\n</code></pre>\n"}],"owner":{"account_id":25807987,"reputation":63,"user_id":19549245,"display_name":"OffeeX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699430749,"creation_date":1699427911,"question_id":77443491,"body_markdown":"I&#39;m trying to set up custom `OAuth2UserService` so that i can persist my own Custom User.\r\n\r\n**Problem is:** i&#39;m getting `lateinit property userRepo has not been initialized` the moment `loadUser` being invoked\r\n\r\nSo why wouldn&#39;t `@Autowired` initialize `userRepo`?\r\n\r\n**Steps i did**:\r\n 1. Custom User entity\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\nclass User(\r\n    @Id var id: Long,\r\n    var username: String\r\n)\r\n```\r\n 2. Custom repo\r\n```kotlin\r\n@Repository\r\ninterface UserRepository: CrudRepository&lt;User, Int&gt;{\r\n    fun findUserByUsername(username: String): User?\r\n}\r\n```\r\n 3. Custom service\r\n```kotlin\r\n@Service\r\nclass UserService : DefaultOAuth2UserService() {\r\n\r\n    @Autowired\r\n    lateinit var userRepo: UserRepository\r\n\r\n    override fun loadUser(request: OAuth2UserRequest): OAuth2User {\r\n        val oauth2User = super.loadUser(request)\r\n        val user = userRepo.findUserByUsername(oauth2User.name)\r\n            ?: throw UsernameNotFoundException(oauth2User.name)\r\n        return CustomOAuth2User(\r\n            user,\r\n            oauth2User.authorities,\r\n            oauth2User.attributes,\r\n            oauth2User.name\r\n        )\r\n    }\r\n}\r\n```\r\n 4. Configuration\r\n```kotlin\r\noauth2Login { oauth2 -&gt;\r\n   oauth2.userInfoEndpoint { endpoint -&gt;\r\n      endpoint.userService(UserService())\r\n   }\r\n}\r\n```\r\n\r\n","title":"Spring can&#39;t autowire with custom UserService","body":"<p>I'm trying to set up custom <code>OAuth2UserService</code> so that i can persist my own Custom User.</p>\n<p><strong>Problem is:</strong> i'm getting <code>lateinit property userRepo has not been initialized</code> the moment <code>loadUser</code> being invoked</p>\n<p>So why wouldn't <code>@Autowired</code> initialize <code>userRepo</code>?</p>\n<p><strong>Steps i did</strong>:</p>\n<ol>\n<li>Custom User entity</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\nclass User(\n    @Id var id: Long,\n    var username: String\n)\n</code></pre>\n<ol start=\"2\">\n<li>Custom repo</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Repository\ninterface UserRepository: CrudRepository&lt;User, Int&gt;{\n    fun findUserByUsername(username: String): User?\n}\n</code></pre>\n<ol start=\"3\">\n<li>Custom service</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\nclass UserService : DefaultOAuth2UserService() {\n\n    @Autowired\n    lateinit var userRepo: UserRepository\n\n    override fun loadUser(request: OAuth2UserRequest): OAuth2User {\n        val oauth2User = super.loadUser(request)\n        val user = userRepo.findUserByUsername(oauth2User.name)\n            ?: throw UsernameNotFoundException(oauth2User.name)\n        return CustomOAuth2User(\n            user,\n            oauth2User.authorities,\n            oauth2User.attributes,\n            oauth2User.name\n        )\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Configuration</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>oauth2Login { oauth2 -&gt;\n   oauth2.userInfoEndpoint { endpoint -&gt;\n      endpoint.userService(UserService())\n   }\n}\n</code></pre>\n"},{"tags":["java","macos","frameworks","native","jna"],"comments":[{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1398339091,"post_id":23262313,"comment_id":35608018,"body_markdown":"Looks like your JNA is a little out of date; the error is a bit misleading (saying &quot;JNA native support&quot; when it&#39;s referring to your library).  What JVM/JNA versions are you using?","body":"Looks like your JNA is a little out of date; the error is a bit misleading (saying &quot;JNA native support&quot; when it&#39;s referring to your library).  What JVM/JNA versions are you using?"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1398344223,"post_id":23262313,"comment_id":35611773,"body_markdown":"I&#39;ll check it next week (into a public holiday now...) But I do know we&#39;re a bit out of date because when I went to investigate in the debugger, I found we&#39;re using a version somewhat older than the source I have.","body":"I&#39;ll check it next week (into a public holiday now...) But I do know we&#39;re a bit out of date because when I went to investigate in the debugger, I found we&#39;re using a version somewhat older than the source I have."}],"answers":[{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1455598810,"post_id":35407376,"comment_id":58547971,"body_markdown":"Which at the time I was investigating avoiding the use of, because it was doing all kinds of weird stuff... Anyway, I suspect that this issue was a case of a misleading error message from JNA, as suggested by the comment above.","body":"Which at the time I was investigating avoiding the use of, because it was doing all kinds of weird stuff... Anyway, I suspect that this issue was a case of a misleading error message from JNA, as suggested by the comment above."},{"owner":{"account_id":7656850,"reputation":207,"user_id":5929508,"display_name":"Nadia Solovyeva"},"score":0,"creation_date":1455621976,"post_id":35407376,"comment_id":58560540,"body_markdown":"Well, I have two recommendations. 1) Official. Go to &quot;Support&quot;. 2) Actual. Go to C++.","body":"Well, I have two recommendations. 1) Official. Go to &quot;Support&quot;. 2) Actual. Go to C++."}],"tags":[],"owner":{"account_id":7656850,"reputation":207,"user_id":5929508,"display_name":"Nadia Solovyeva"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455533371,"creation_date":1455533371,"answer_id":35407376,"question_id":23262313,"body_markdown":"The reason why FREngine library does not work in this case in a wrong Engine load method. FREngine is expected to be loaded  via com.abbyy.FREngine only.","title":"&quot;Unable to load library: JNA native support not found in resource path&quot; on trying to load JNA library on Mac OS X","body":"<p>The reason why FREngine library does not work in this case in a wrong Engine load method. FREngine is expected to be loaded  via com.abbyy.FREngine only.</p>\n"}],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699430575,"creation_date":1398323788,"question_id":23262313,"body_markdown":"I have a JNA library stub like this:\r\n\r\n    public interface FREngine extends Library {\r\n        NativeLibrary JNA_NATIVE_LIB = NativeLibrary.getInstance(&quot;FREngine&quot;);\r\n        FREngine INSTANCE = (FREngine) Native.loadLibrary(&quot;FREngine&quot;, FREngine.class);\r\n    }\r\n\r\nIf I try to use this library in any way, I get a really confusing error:\r\n\r\n    java.lang.UnsatisfiedLinkError: Unable to load library &#39;FREngine&#39;: \r\n        JNA native support (darwin/libFREngine.jnilib) not found in resource path \r\n        (...entire classpath here...)\r\n\r\nWhy this is confusing to me:\r\n\r\n* .jnilib is the file extension for JNI libraries. Since I&#39;m using JNA, I wouldn&#39;t expect JNA to be using any JNI library other than its own one, &quot;jnidispatch&quot;.\r\n* JNA is looking on the classpath for this file, but there is *no way in hell* it will be there because it&#39;s just some random library I&#39;m trying to import. Shouldn&#39;t it be looking on `DYLD_FRAMEWORK_PATH`?\r\n* Other native libraries which are initialised in exactly the same way work fine. For instance, CoreFoundation can be resolved. Its code for loading the library is the same aside from the name of the library being different.\r\n\r\nI tried looking at the frameworks themselves and can only see minor differences:\r\n\r\n* `FREngine.framework` is in `/Library`, `CoreFoundation.framework` is in `/System/Library`\r\n* `FREngine.framework/Versions` contains a directory with a longer and more complex name than `CoreFoundation.framework`, which only has one version called `A`.\r\n* `FREngine.framework/Versions/[ver]` contains `Headers` and `Libraries`\r\n\r\nThe version of JNA in use is 3.5.2. We can&#39;t upgrade to 4.x because there is some other bug which causes an exception as soon as we try to load our native library.","title":"&quot;Unable to load library: JNA native support not found in resource path&quot; on trying to load JNA library on Mac OS X","body":"<p>I have a JNA library stub like this:</p>\n\n<pre><code>public interface FREngine extends Library {\n    NativeLibrary JNA_NATIVE_LIB = NativeLibrary.getInstance(\"FREngine\");\n    FREngine INSTANCE = (FREngine) Native.loadLibrary(\"FREngine\", FREngine.class);\n}\n</code></pre>\n\n<p>If I try to use this library in any way, I get a really confusing error:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: Unable to load library 'FREngine': \n    JNA native support (darwin/libFREngine.jnilib) not found in resource path \n    (...entire classpath here...)\n</code></pre>\n\n<p>Why this is confusing to me:</p>\n\n<ul>\n<li>.jnilib is the file extension for JNI libraries. Since I'm using JNA, I wouldn't expect JNA to be using any JNI library other than its own one, \"jnidispatch\".</li>\n<li>JNA is looking on the classpath for this file, but there is <em>no way in hell</em> it will be there because it's just some random library I'm trying to import. Shouldn't it be looking on <code>DYLD_FRAMEWORK_PATH</code>?</li>\n<li>Other native libraries which are initialised in exactly the same way work fine. For instance, CoreFoundation can be resolved. Its code for loading the library is the same aside from the name of the library being different.</li>\n</ul>\n\n<p>I tried looking at the frameworks themselves and can only see minor differences:</p>\n\n<ul>\n<li><code>FREngine.framework</code> is in <code>/Library</code>, <code>CoreFoundation.framework</code> is in <code>/System/Library</code></li>\n<li><code>FREngine.framework/Versions</code> contains a directory with a longer and more complex name than <code>CoreFoundation.framework</code>, which only has one version called <code>A</code>.</li>\n<li><code>FREngine.framework/Versions/[ver]</code> contains <code>Headers</code> and <code>Libraries</code></li>\n</ul>\n\n<p>The version of JNA in use is 3.5.2. We can't upgrade to 4.x because there is some other bug which causes an exception as soon as we try to load our native library.</p>\n"},{"tags":["java","oracle19c","ojdbc"],"comments":[{"owner":{"account_id":62482,"reputation":23878,"user_id":185647,"display_name":"Squirrel"},"score":0,"creation_date":1699409388,"post_id":77442405,"comment_id":136527046,"body_markdown":"Why tag `SQL Server` when the question is about `Oracle`?","body":"Why tag <code>SQL Server</code> when the question is about <code>Oracle</code>?"}],"answers":[{"comments":[{"owner":{"account_id":19951507,"reputation":1,"user_id":14621063,"display_name":"AMIT PATEL"},"score":0,"creation_date":1699410034,"post_id":77442478,"comment_id":136527085,"body_markdown":"Thanks for your support but My connection is established. When I try Select FIRSTNAME from users where ID=1;  I got the results. FirstName.","body":"Thanks for your support but My connection is established. When I try Select FIRSTNAME from users where ID=1;  I got the results. FirstName."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699411196,"post_id":77442478,"comment_id":136527168,"body_markdown":"How is that possible if `connection` is set to `null` and not updated before being used in `connection.prepareStatement`? Is there something missing from the question? What is the actual exception?","body":"How is that possible if <code>connection</code> is set to <code>null</code> and not updated before being used in <code>connection.prepareStatement</code>? Is there something missing from the question? What is the actual exception?"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699409686,"creation_date":1699409686,"answer_id":77442478,"question_id":77442405,"body_markdown":"```\r\nConnection connection = null;\r\n```\r\nThe problem is that you haven&#39;t established a connection to the database first. Because of your exception handling you are missing the actual error because you are not printing the actual exception and only see that message. I recommend to read some tutorials on how to establish JDBC connections and always log the real exception.","title":"Retrieve content from 2 tables in Java using Oracle database","body":"<pre><code>Connection connection = null;\n</code></pre>\n<p>The problem is that you haven't established a connection to the database first. Because of your exception handling you are missing the actual error because you are not printing the actual exception and only see that message. I recommend to read some tutorials on how to establish JDBC connections and always log the real exception.</p>\n"},{"comments":[{"owner":{"account_id":19951507,"reputation":1,"user_id":14621063,"display_name":"AMIT PATEL"},"score":0,"creation_date":1699410666,"post_id":77442508,"comment_id":136527131,"body_markdown":"I try to set the &quot;Id&quot; value to &quot;preparedStatement.setInt(1,&quot;1&quot;);&quot;. still I&#39;m getting the same  &quot;Results not found&quot;,","body":"I try to set the &quot;Id&quot; value to &quot;preparedStatement.setInt(1,&quot;1&quot;);&quot;. still I&#39;m getting the same  &quot;Results not found&quot;,"},{"owner":{"account_id":26647380,"reputation":28,"user_id":20262142,"display_name":"RedSnack-BCS"},"score":0,"creation_date":1699410997,"post_id":77442508,"comment_id":136527154,"body_markdown":"this is an example,set the parameter to a value that can fetch the data in the SQL Tool.Such as &quot;preparedStatement.setInt(1,1);&quot;.Beacuse this parameter type is int.","body":"this is an example,set the parameter to a value that can fetch the data in the SQL Tool.Such as &quot;preparedStatement.setInt(1,1);&quot;.Beacuse this parameter type is int."}],"tags":[],"owner":{"account_id":26647380,"reputation":28,"user_id":20262142,"display_name":"RedSnack-BCS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699410401,"creation_date":1699410401,"answer_id":77442508,"question_id":77442405,"body_markdown":"This code executes get &quot;Results not found&quot;,which means the code does not have an error.\r\nAnd SQL execute in SQL Developer Tool is also successful,which means SQL does not make errors as well.\r\n\r\nIn the code for this `preparedStatement.setInt(1,Id);`, the &quot;Id&quot; is a parameter\r\nYou should check this parameter.\r\n\r\nYou can set the &quot;Id&quot; value to `preparedStatement.setInt(1,&quot;1&quot;);`.\r\nIf you get the result, it indicates that there is a problem the parameter values passed.","title":"Retrieve content from 2 tables in Java using Oracle database","body":"<p>This code executes get &quot;Results not found&quot;,which means the code does not have an error.\nAnd SQL execute in SQL Developer Tool is also successful,which means SQL does not make errors as well.</p>\n<p>In the code for this <code>preparedStatement.setInt(1,Id);</code>, the &quot;Id&quot; is a parameter\nYou should check this parameter.</p>\n<p>You can set the &quot;Id&quot; value to <code>preparedStatement.setInt(1,&quot;1&quot;);</code>.\nIf you get the result, it indicates that there is a problem the parameter values passed.</p>\n"},{"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699430564,"creation_date":1699430564,"answer_id":77443758,"question_id":77442405,"body_markdown":"Un`COMMIT`ted data is only visible within the session that created it (and will `ROLLBACK` at the end of the session if it has not been `COMMIT`ted). If you can&#39;t see the data from another session (i.e. in Java) then make sure you have issued a `COMMIT` command in the SQL client where you `INSERT`ed the data (i.e. SQL Developer).\r\n\r\n*Note: even if you connect as the same user, this will create a separate session and you will not be able to see the uncommitted data in the other session.*\r\n\r\nFrom the [`COMMIT` documentation](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2):\r\n\r\n&gt; Until you commit a transaction:\r\n&gt;\r\n&gt; - You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users&#39; statements that execute after the commit.\r\n&gt; - You can roll back (undo) any changes made during the transaction with the `ROLLBACK` statement (see `ROLLBACK`).","title":"Retrieve content from 2 tables in Java using Oracle database","body":"<p>Un<code>COMMIT</code>ted data is only visible within the session that created it (and will <code>ROLLBACK</code> at the end of the session if it has not been <code>COMMIT</code>ted). If you can't see the data from another session (i.e. in Java) then make sure you have issued a <code>COMMIT</code> command in the SQL client where you <code>INSERT</code>ed the data (i.e. SQL Developer).</p>\n<p><em>Note: even if you connect as the same user, this will create a separate session and you will not be able to see the uncommitted data in the other session.</em></p>\n<p>From the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/COMMIT.html#GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2\" rel=\"nofollow noreferrer\"><code>COMMIT</code> documentation</a>:</p>\n<blockquote>\n<p>Until you commit a transaction:</p>\n<ul>\n<li>You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users' statements that execute after the commit.</li>\n<li>You can roll back (undo) any changes made during the transaction with the <code>ROLLBACK</code> statement (see <code>ROLLBACK</code>).</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":19951507,"reputation":1,"user_id":14621063,"display_name":"AMIT PATEL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1699430564,"creation_date":1699408357,"question_id":77442405,"body_markdown":"This is my connection code and when I try same query directly in to SQL Developer tool I got my results. But when I&#39;m trying to get that results in my java code that time I&#39;m getting error.\r\n\r\nI try this in java \r\n```\r\nConnection connection = null;\r\n\t\r\n\ttry {\r\n\t\tString sql1=&quot;SELECT u.FIRSTNAME, u.MOBILE, ca.STREET_ADDRESS, ca.CITY, ca.POSTAL_CODE &quot; +\r\n                &quot;FROM USERS u &quot; +\r\n                &quot;JOIN ADDRESSES ca ON u.ID = ca.CUSTOMER_ID &quot; +\r\n                &quot;WHERE u.id = ?&quot;;\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tPreparedStatement preparedStatement = connection.prepareStatement(sql1);\r\n\t\t\t\r\n\t\t\t preparedStatement.setInt(1,Id);\r\n\t\t\t \r\n\t         //preparedStatement.setString(2, pswd);\r\n\t\t\t\r\n\t\t\tResultSet resultSet = preparedStatement.executeQuery();\r\n\t\t\t   \r\n\t\t\tif(resultSet.next()) {\r\n\t\t\t\t String userId = resultSet.getString(&quot;MOBILE&quot;);\r\n\t\t\t\t String un= resultSet.getString(&quot;FIRSTNAME&quot;);\r\n\t\t\t\t String ad=resultSet.getString(&quot;STREET_ADDRESS&quot;);\r\n\t\t\t\t \r\n\t\t\t\t System.out.println(ad);\r\n\t\t\t\t System.out.println(un);\r\n\t\t\t\t System.out.println(&quot;User ID: &quot; + userId);\r\n\t\t\t\t            \r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Results not found&quot;);\r\n# resultSet.close();\r\n\t         preparedStatement.close();\r\n```\r\nI&#39;m getting Results not found","title":"Retrieve content from 2 tables in Java using Oracle database","body":"<p>This is my connection code and when I try same query directly in to SQL Developer tool I got my results. But when I'm trying to get that results in my java code that time I'm getting error.</p>\n<p>I try this in java</p>\n<pre><code>Connection connection = null;\n    \n    try {\n        String sql1=&quot;SELECT u.FIRSTNAME, u.MOBILE, ca.STREET_ADDRESS, ca.CITY, ca.POSTAL_CODE &quot; +\n                &quot;FROM USERS u &quot; +\n                &quot;JOIN ADDRESSES ca ON u.ID = ca.CUSTOMER_ID &quot; +\n                &quot;WHERE u.id = ?&quot;;\n        \n        \n        try {\n            PreparedStatement preparedStatement = connection.prepareStatement(sql1);\n            \n             preparedStatement.setInt(1,Id);\n             \n             //preparedStatement.setString(2, pswd);\n            \n            ResultSet resultSet = preparedStatement.executeQuery();\n               \n            if(resultSet.next()) {\n                 String userId = resultSet.getString(&quot;MOBILE&quot;);\n                 String un= resultSet.getString(&quot;FIRSTNAME&quot;);\n                 String ad=resultSet.getString(&quot;STREET_ADDRESS&quot;);\n                 \n                 System.out.println(ad);\n                 System.out.println(un);\n                 System.out.println(&quot;User ID: &quot; + userId);\n                            \n            }\n            else {\n                System.out.println(&quot;Results not found&quot;);\n# resultSet.close();\n             preparedStatement.close();\n</code></pre>\n<p>I'm getting Results not found</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1699427826,"post_id":77443433,"comment_id":136528528,"body_markdown":"You have all the components, just make the `ZendeskClient` construction in an `@Bean` method. Call retrieve token, use that to create the client. As it is in an `@Bean` method it will be a spring bean.","body":"You have all the components, just make the <code>ZendeskClient</code> construction in an <code>@Bean</code> method. Call retrieve token, use that to create the client. As it is in an <code>@Bean</code> method it will be a spring bean."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1699427881,"post_id":77443433,"comment_id":136528539,"body_markdown":"You can either fetch the token from a `Configuration` class and provide it to the `ZendeskClient` and return the instance from a `Bean` method. Alternatively, you can also do this in a `PostConstruct` method in the `ZendeskClient`","body":"You can either fetch the token from a <code>Configuration</code> class and provide it to the <code>ZendeskClient</code> and return the instance from a <code>Bean</code> method. Alternatively, you can also do this in a <code>PostConstruct</code> method in the <code>ZendeskClient</code>"},{"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"score":0,"creation_date":1699430222,"post_id":77443433,"comment_id":136528905,"body_markdown":"I&#39;m worried about how to pass the integrationId. I&#39;m a bit uncertain. Any example would be highly appreciated.@AbhijitSarkar @M.Deinum","body":"I&#39;m worried about how to pass the integrationId. I&#39;m a bit uncertain. Any example would be highly appreciated.@AbhijitSarkar @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699430355,"post_id":77443433,"comment_id":136528926,"body_markdown":"We don&#39;t know where that id comes from so that is impossible for us to answer.","body":"We don&#39;t know where that id comes from so that is impossible for us to answer."},{"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"score":0,"creation_date":1699430402,"post_id":77443433,"comment_id":136528932,"body_markdown":"Assume the id comes from spring web controller. @M.Deinum","body":"Assume the id comes from spring web controller. @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699430471,"post_id":77443433,"comment_id":136528939,"body_markdown":"THen just construct the client as you need it.","body":"THen just construct the client as you need it."},{"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"score":0,"creation_date":1699430625,"post_id":77443433,"comment_id":136528970,"body_markdown":"I apologize for the inconvenience. Could you please share a sample template? @M.Deinum","body":"I apologize for the inconvenience. Could you please share a sample template? @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699431005,"post_id":77443433,"comment_id":136529023,"body_markdown":"You already provided that yourself. All the code is already there, pass the id along to the service call the method to obtain a token and construct the client as needed.","body":"You already provided that yourself. All the code is already there, pass the id along to the service call the method to obtain a token and construct the client as needed."}],"answers":[{"comments":[{"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"score":0,"creation_date":1699429484,"post_id":77443601,"comment_id":136528788,"body_markdown":"hi, how to pass the integrationId ?","body":"hi, how to pass the integrationId ?"}],"tags":[],"owner":{"account_id":8124714,"reputation":55,"user_id":6120074,"display_name":"Varun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699429099,"creation_date":1699429099,"answer_id":77443601,"question_id":77443433,"body_markdown":"You cannot autowire object which is not created by spring. So, in your configuration class add bean for ZendeskClient.\r\n\r\n    @Configuration\r\n    public class ConfigurationClass {\r\n    // some other configuration\r\n\r\n       @Bean\r\n       public ZendeskClient getZendeskClient() {\r\n           return new ZendeskClient(getToken(integrationId));\r\n       }\r\n      \r\n    }\r\n\r\n","title":"how to dynamically autowire a bean in spring boot","body":"<p>You cannot autowire object which is not created by spring. So, in your configuration class add bean for ZendeskClient.</p>\n<pre><code>@Configuration\npublic class ConfigurationClass {\n// some other configuration\n\n   @Bean\n   public ZendeskClient getZendeskClient() {\n       return new ZendeskClient(getToken(integrationId));\n   }\n  \n}\n</code></pre>\n"}],"owner":{"account_id":21726590,"reputation":41,"user_id":16035933,"display_name":"James K J"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699430502,"creation_date":1699427347,"question_id":77443433,"body_markdown":"I&#39;ve come across a few examples on Stack Overflow related to this issue, such as [Link 1][1] [Link][2] and an Article [Article][3]. Despite going through them, I&#39;m still struggling to implement a proper solution. Can someone provide guidance on how to achieve this?\r\n\r\nI have a class named ZendeskClient that requires a token parameter for instantiation. Without this token, the class cannot be instantiated. Here&#39;s an example of how the ZendeskClient is typically instantiated:\r\n\r\n```\r\n          ZendeskClient zendesk = new ZendeskClient(token)\r\n```\r\n\r\nThe token is retrieved from the database, and below is a sample implementation of fetching the token: Assume the integrationId comes from spring web controller.\r\n\r\n```\r\npublic String getToken(long integrationId) {\r\n  var integration = integration.findById(integrationId):\r\n  var integrationToken = integrationTokenRepository.findById(integration.getId)\r\n  return integrationToken.getToken();\r\n}\r\n```\r\n\r\nWith this information, I&#39;m trying to achieve the following in a ZendeskService class:\r\n\r\n```\r\npublic class ZendeskServiceImpl {\r\n\r\n@Autowire\r\npublic ZendeskClient client;\r\n\r\n}\r\n```\r\nAny thoughts or suggestions on how to accomplish this?\r\n\r\n  [1]: https://stackoverflow.com/questions/60137278/how-to-dynamically-create-spring-beans-based-on-properties-file-and-then-autowir\r\n  [2]: https://stackoverflow.com/questions/40105044/inject-spring-bean-dynamically\r\n  [3]: https://www.baeldung.com/spring-dynamic-autowire","title":"how to dynamically autowire a bean in spring boot","body":"<p>I've come across a few examples on Stack Overflow related to this issue, such as <a href=\"https://stackoverflow.com/questions/60137278/how-to-dynamically-create-spring-beans-based-on-properties-file-and-then-autowir\">Link 1</a> <a href=\"https://stackoverflow.com/questions/40105044/inject-spring-bean-dynamically\">Link</a> and an Article <a href=\"https://www.baeldung.com/spring-dynamic-autowire\" rel=\"nofollow noreferrer\">Article</a>. Despite going through them, I'm still struggling to implement a proper solution. Can someone provide guidance on how to achieve this?</p>\n<p>I have a class named ZendeskClient that requires a token parameter for instantiation. Without this token, the class cannot be instantiated. Here's an example of how the ZendeskClient is typically instantiated:</p>\n<pre><code>          ZendeskClient zendesk = new ZendeskClient(token)\n</code></pre>\n<p>The token is retrieved from the database, and below is a sample implementation of fetching the token: Assume the integrationId comes from spring web controller.</p>\n<pre><code>public String getToken(long integrationId) {\n  var integration = integration.findById(integrationId):\n  var integrationToken = integrationTokenRepository.findById(integration.getId)\n  return integrationToken.getToken();\n}\n</code></pre>\n<p>With this information, I'm trying to achieve the following in a ZendeskService class:</p>\n<pre><code>public class ZendeskServiceImpl {\n\n@Autowire\npublic ZendeskClient client;\n\n}\n</code></pre>\n<p>Any thoughts or suggestions on how to accomplish this?</p>\n"},{"tags":["java","rest","soap","microservices","spring-cloud-gateway"],"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699430243,"creation_date":1699419996,"question_id":77442948,"body_markdown":"I have a microservice for payment which I must consume a soap webservice in it. also each request is proxing by a spring cloud gateway which gets an authentication token from microservice and then sends the request to external services. something like this:\r\n     \r\nmicroservice --\\&gt; gateway --\\&gt; external service\r\n\r\nNow I wanna know how to call a soap service from microservice by putting gateway token on the request.\r\n\r\nI used apache-cxf and spring-ws dependencies in pom.xml","title":"Consume a soap webservice in spring microservice with spring cloud gateway","body":"<p>I have a microservice for payment which I must consume a soap webservice in it. also each request is proxing by a spring cloud gateway which gets an authentication token from microservice and then sends the request to external services. something like this:</p>\n<p>microservice --&gt; gateway --&gt; external service</p>\n<p>Now I wanna know how to call a soap service from microservice by putting gateway token on the request.</p>\n<p>I used apache-cxf and spring-ws dependencies in pom.xml</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-data-redis"],"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699430149,"creation_date":1699430149,"question_id":77443719,"body_markdown":"I am trying to add a specific pattern for my key in redis spring data listener but its not working. Can anybody help me to advice how can I achieve the listener only for a specific command?\r\nBelow is my message listener container.\r\n\r\n    @Bean\r\n    public RedisMessageListenerContainer redisMessageListenerContainer(\r\n                RedisConnectionFactory connectionFactory,\r\n                MyMessageListener myMessageListener) {\r\n            RedisMessageListenerContainer listenerContainer = new RedisMessageListenerContainer();\r\n            listenerContainer.setConnectionFactory(connectionFactory);\r\n            listenerContainer.addMessageListener(myMessageListener,\r\n                       new PatternTopic(&quot;__keyspace@*__:SampleProj:Message:*&quot;)); \r\n                return listenerContainer;\r\n            }\r\n\r\nThe above pattern works fine and I can get all the event messages in my `messageListener` class. like all events: del, hset etc..\r\nNow I need to get the only the hset events for mykey and I follwed the commands as mentioned in https://redis.io/docs/manual/keyspace-notifications/ and couldnt succeed the expectations. Below are the patterns I tried.\r\n\r\n    new PatternTopic(&quot;__keyevent*:hset SampleProj:Message:*&quot;)\r\n    new PatternTopic(&quot;__keyevent@*__:hset:SampleProj:Message:*&quot;));\r\n    new PatternTopic(&quot;__keyevent@*__:hset SampleProj:Message:*&quot;));\r\n\r\nEven with combined list:\r\n\r\n    Arrays.asList(new PatternTopic(&quot;__keyevent@*__:hset SampleProj:Message:&quot;),\r\n    new PatternTopic(&quot;__keyspace@*__:SampleProj:Message:* hset&quot;)));","title":"Redis spring data message listener for mykey with generic command filter","body":"<p>I am trying to add a specific pattern for my key in redis spring data listener but its not working. Can anybody help me to advice how can I achieve the listener only for a specific command?\nBelow is my message listener container.</p>\n<pre><code>@Bean\npublic RedisMessageListenerContainer redisMessageListenerContainer(\n            RedisConnectionFactory connectionFactory,\n            MyMessageListener myMessageListener) {\n        RedisMessageListenerContainer listenerContainer = new RedisMessageListenerContainer();\n        listenerContainer.setConnectionFactory(connectionFactory);\n        listenerContainer.addMessageListener(myMessageListener,\n                   new PatternTopic(&quot;__keyspace@*__:SampleProj:Message:*&quot;)); \n            return listenerContainer;\n        }\n</code></pre>\n<p>The above pattern works fine and I can get all the event messages in my <code>messageListener</code> class. like all events: del, hset etc..\nNow I need to get the only the hset events for mykey and I follwed the commands as mentioned in <a href=\"https://redis.io/docs/manual/keyspace-notifications/\" rel=\"nofollow noreferrer\">https://redis.io/docs/manual/keyspace-notifications/</a> and couldnt succeed the expectations. Below are the patterns I tried.</p>\n<pre><code>new PatternTopic(&quot;__keyevent*:hset SampleProj:Message:*&quot;)\nnew PatternTopic(&quot;__keyevent@*__:hset:SampleProj:Message:*&quot;));\nnew PatternTopic(&quot;__keyevent@*__:hset SampleProj:Message:*&quot;));\n</code></pre>\n<p>Even with combined list:</p>\n<pre><code>Arrays.asList(new PatternTopic(&quot;__keyevent@*__:hset SampleProj:Message:&quot;),\nnew PatternTopic(&quot;__keyspace@*__:SampleProj:Message:* hset&quot;)));\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-cloudwatch","amazon-cloudwatchlogs","aws-cloudwatch-log-insights"],"comments":[{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1560912136,"post_id":56652085,"comment_id":99888191,"body_markdown":"What happens if you put a logging statement immediately after? I wonder if your debug setup is using different AWS credentials, or a different AWS region? You can use **AWS CloudTrail** to see the API calls that are being made to your account to try and diagnose the situation.","body":"What happens if you put a logging statement immediately after? I wonder if your debug setup is using different AWS credentials, or a different AWS region? You can use <b>AWS CloudTrail</b> to see the API calls that are being made to your account to try and diagnose the situation."}],"answers":[{"tags":[],"owner":{"account_id":14735731,"reputation":23,"user_id":10641832,"display_name":"RumanaC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1560959077,"creation_date":1560951440,"answer_id":56669036,"question_id":56652085,"body_markdown":"Adding the below line of code, prior to that line of code, has fixed the issue:\r\n\r\n*TimeUnit.SECONDS.sleep(2);*\r\n\r\nThanks","title":"AWS CloudWatch Query Result","body":"<p>Adding the below line of code, prior to that line of code, has fixed the issue:</p>\n\n<p><em>TimeUnit.SECONDS.sleep(2);</em></p>\n\n<p>Thanks</p>\n"},{"comments":[{"owner":{"account_id":3151170,"reputation":261,"user_id":2664597,"accept_rate":11,"display_name":"sathiya"},"score":0,"creation_date":1651728857,"post_id":61133001,"comment_id":127432947,"body_markdown":"could you share some working examples for &#39;StartQuery&#39; and &#39;GetQueryResults&#39; using java","body":"could you share some working examples for &#39;StartQuery&#39; and &#39;GetQueryResults&#39; using java"}],"tags":[],"owner":{"account_id":1298217,"reputation":222,"user_id":1248704,"display_name":"Marto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586484452,"creation_date":1586484452,"answer_id":61133001,"question_id":56652085,"body_markdown":"The query is not executed by the method `getQueryResults` of the `CloudWatchLogsClient`, is executed when you call `startQuery`.\r\n\r\nThe `startQuery` can take a long to finish its execution, so if you call the `getQueryResults` immediately after the `startQuery`, it won&#39;t get the results because the query may still be running.\r\n\r\nSo, to get the results, you can verify if the query is still running by checking the status of the `GetQueryResultsResponse` like this:\r\n\r\n     GetQueryResultsResponse getQueryResultsResponse = null;\r\n     do {\r\n          getQueryResultsResponse = awslogs.getQueryResults(getQueryResultsRequest);\r\n     } while (&quot;Running&quot;.equals(getQueryResultsResponse.status().toString()));\r\n\r\n","title":"AWS CloudWatch Query Result","body":"<p>The query is not executed by the method <code>getQueryResults</code> of the <code>CloudWatchLogsClient</code>, is executed when you call <code>startQuery</code>.</p>\n\n<p>The <code>startQuery</code> can take a long to finish its execution, so if you call the <code>getQueryResults</code> immediately after the <code>startQuery</code>, it won't get the results because the query may still be running.</p>\n\n<p>So, to get the results, you can verify if the query is still running by checking the status of the <code>GetQueryResultsResponse</code> like this:</p>\n\n<pre><code> GetQueryResultsResponse getQueryResultsResponse = null;\n do {\n      getQueryResultsResponse = awslogs.getQueryResults(getQueryResultsRequest);\n } while (\"Running\".equals(getQueryResultsResponse.status().toString()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697897861,"post_id":77323449,"comment_id":136338591,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77323449/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29708167,"reputation":1,"user_id":22768518,"display_name":"Christson Johnny"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699429447,"creation_date":1697715576,"answer_id":77323449,"question_id":56652085,"body_markdown":"Use iterative &quot;DescribeQueriesCommand&quot; to check and wait until the query is in &quot;Complete&quot; state and then call the &quot;GetQueryResultsCommand&quot;.\r\n\r\nCalling the &quot;GetQueryResultsCommand&quot; iteratively only wastes the AWS CloudWatch Insights query limits.\r\n\r\nhttps://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/client/cloudwatch-logs/command/DescribeQueriesCommand/","title":"AWS CloudWatch Query Result","body":"<p>Use iterative &quot;DescribeQueriesCommand&quot; to check and wait until the query is in &quot;Complete&quot; state and then call the &quot;GetQueryResultsCommand&quot;.</p>\n<p>Calling the &quot;GetQueryResultsCommand&quot; iteratively only wastes the AWS CloudWatch Insights query limits.</p>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/client/cloudwatch-logs/command/DescribeQueriesCommand/\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/client/cloudwatch-logs/command/DescribeQueriesCommand/</a></p>\n"}],"owner":{"account_id":14735731,"reputation":23,"user_id":10641832,"display_name":"RumanaC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56669036,"answer_count":3,"score":0,"last_activity_date":1699429447,"creation_date":1560870296,"question_id":56652085,"body_markdown":"The below code returns records when I run it in debug mode with a breakpoint on this line and stepping into the line. But when I run it in regular Run and do not step into this line, it produces 0 result.\r\nWhat am I doing wrong? Thanks\r\n```Java\r\nGetQueryResultsResult getQueryResultsResult = awslogs.getQueryResults(getQueryResultsRequest);\r\n```","title":"AWS CloudWatch Query Result","body":"<p>The below code returns records when I run it in debug mode with a breakpoint on this line and stepping into the line. But when I run it in regular Run and do not step into this line, it produces 0 result.\nWhat am I doing wrong? Thanks</p>\n\n<pre><code>GetQueryResultsResult getQueryResultsResult = awslogs.getQueryResults(getQueryResultsRequest);\n</code></pre>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699432135,"post_id":77443264,"comment_id":136529206,"body_markdown":"@AlexK are you sure that is the correct duplicate? The linked question does not handle a format like asked here","body":"@AlexK are you sure that is the correct duplicate? The linked question does not handle a format like asked here"},{"owner":{"account_id":16166615,"reputation":9,"user_id":11671458,"display_name":"ChhornMengHong"},"score":0,"creation_date":1699441418,"post_id":77443264,"comment_id":136530990,"body_markdown":"Hi AlexK, I don&#39;t know why my question go to duplicate. Could you kindly to response my query above?","body":"Hi AlexK, I don&#39;t know why my question go to duplicate. Could you kindly to response my query above?"}],"owner":{"account_id":16166615,"reputation":9,"user_id":11671458,"display_name":"ChhornMengHong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1699426068,"answer_count":0,"score":0,"last_activity_date":1699429219,"creation_date":1699425138,"question_id":77443264,"body_markdown":"I would like to convert the field from String to Big Decimal with Format (&quot;##,##0.00&quot;) in Java.\r\nPreviously, we got the DataSource from sql, but for now using csv as datasource. it mean all of the fields is using string format.\r\n****Note****\r\n-GRP_FAC_ACT_BAL: String\r\n\r\nSyntax: $F{GRP_FAC_ACT_BAL}==null?&quot;&quot;:new DecimalFormat(&quot;##,##0.00&quot;).format($F{GRP_FAC_ACT_BAL})\r\n","title":"Convert the String to Big Decimal with format (&quot;##,##0.00&quot;) in Jasperreport","body":"<p>I would like to convert the field from String to Big Decimal with Format (&quot;##,##0.00&quot;) in Java.\nPreviously, we got the DataSource from sql, but for now using csv as datasource. it mean all of the fields is using string format.\n<strong><strong>Note</strong></strong>\n-GRP_FAC_ACT_BAL: String</p>\n<p>Syntax: $F{GRP_FAC_ACT_BAL}==null?&quot;&quot;:new DecimalFormat(&quot;##,##0.00&quot;).format($F{GRP_FAC_ACT_BAL})</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1699423058,"post_id":77443062,"comment_id":136528021,"body_markdown":"What did you try? You should clarify which application you need to start.","body":"What did you try? You should clarify which application you need to start."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699424044,"post_id":77443062,"comment_id":136528111,"body_markdown":"Are you still allowed to use Spring Boot without `@SpringBootApplication`?","body":"Are you still allowed to use Spring Boot without <code>@SpringBootApplication</code>?"},{"owner":{"account_id":24829674,"reputation":1,"user_id":18708993,"display_name":"Tilek Zholdoshbek"},"score":0,"creation_date":1699424760,"post_id":77443062,"comment_id":136528183,"body_markdown":"I have a simple Spring Boot application which has different endpoints, but right now I need to run my project so that I can call my endpoints, but without using @SpringBootApplication at all. No, I&#39;m not allowed to use Spring Boot.","body":"I have a simple Spring Boot application which has different endpoints, but right now I need to run my project so that I can call my endpoints, but without using @SpringBootApplication at all. No, I&#39;m not allowed to use Spring Boot."}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699424198,"creation_date":1699424198,"answer_id":77443190,"question_id":77443062,"body_markdown":"Annotation ```SpringBootApplication``` is a enterence for convenient load into spring context , it located at ```spring-boot-auto-configure-starter``` package , In general , the ```SpringBootApplication``` would automaticcally inject the bean which  is required , such as web application scenario , it would  inject network context like tomcat , netty ,Datasourcebean like oracle , mysql ,pgsql .\r\n\r\n\r\nIn a nutshell  , if you would like to  get the compact spring context  you read the following code snippet\r\n\r\n```java\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class MainApp {\r\n    public static void main(String[] args) {\r\n         ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\r\n        // previous applicationContext.xml is your bean Definition scope  or else you can use AnnotationContext \r\n         // ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\r\n\r\n        // Your Spring context is now initialized.\r\n        // You can access beans and use them.\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nmore about spring ioc container click here [spring doc](https://docs.spring.io/spring-framework/reference/core/beans/basics.html)","title":"Spring Core as Spring Boot","body":"<p>Annotation <code>SpringBootApplication</code> is a enterence for convenient load into spring context , it located at <code>spring-boot-auto-configure-starter</code> package , In general , the <code>SpringBootApplication</code> would automaticcally inject the bean which  is required , such as web application scenario , it would  inject network context like tomcat , netty ,Datasourcebean like oracle , mysql ,pgsql .</p>\n<p>In a nutshell  , if you would like to  get the compact spring context  you read the following code snippet</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class MainApp {\n    public static void main(String[] args) {\n         ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n\n        // previous applicationContext.xml is your bean Definition scope  or else you can use AnnotationContext \n         // ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\n\n        // Your Spring context is now initialized.\n        // You can access beans and use them.\n    }\n}\n\n\n</code></pre>\n<p>more about spring ioc container click here <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/basics.html\" rel=\"nofollow noreferrer\">spring doc</a></p>\n"},{"tags":[],"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699428362,"creation_date":1699424469,"answer_id":77443206,"question_id":77443062,"body_markdown":"Annotate your class with\r\n@ComponentScan and \r\n@EnableAutoConfiguration and try the following method to run you application\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication app = new SpringApplication(YourApp.class);\r\n        app.run();\r\n    }\r\n","title":"Spring Core as Spring Boot","body":"<p>Annotate your class with\n@ComponentScan and\n@EnableAutoConfiguration and try the following method to run you application</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication app = new SpringApplication(YourApp.class);\n    app.run();\n}\n</code></pre>\n"}],"owner":{"account_id":24829674,"reputation":1,"user_id":18708993,"display_name":"Tilek Zholdoshbek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699428362,"creation_date":1699421942,"question_id":77443062,"body_markdown":"I have a Spring Boot project with entities, repositories, services, and rest controllers. It all works, but my mentor gave me a task where I must start my application without @SpringBootApplication.\r\n\r\nSo how can I achieve it without creating webapp, xml and especially any html files?\r\n\r\nIn other words, how can I replace the annotation with f.ex. Java custom(or not) classes?\r\n\r\nThanks!","title":"Spring Core as Spring Boot","body":"<p>I have a Spring Boot project with entities, repositories, services, and rest controllers. It all works, but my mentor gave me a task where I must start my application without @SpringBootApplication.</p>\n<p>So how can I achieve it without creating webapp, xml and especially any html files?</p>\n<p>In other words, how can I replace the annotation with f.ex. Java custom(or not) classes?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","maven","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1513779597,"post_id":47907992,"comment_id":82783323,"body_markdown":"And why should it use your tomcat? Why would you need JNDI? Why the added complexity?","body":"And why should it use your tomcat? Why would you need JNDI? Why the added complexity?"},{"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"score":0,"creation_date":1513780622,"post_id":47907992,"comment_id":82784016,"body_markdown":"where do i put the JNDI resource config if it contains a path to a sqlite database as above?","body":"where do i put the JNDI resource config if it contains a path to a sqlite database as above?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1513780660,"post_id":47907992,"comment_id":82784034,"body_markdown":"Why would you need JNDI for that. Configure it is a standalone database by putting the information in `application.properties`.","body":"Why would you need JNDI for that. Configure it is a standalone database by putting the information in <code>application.properties</code>."},{"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"score":1,"creation_date":1513781042,"post_id":47907992,"comment_id":82784319,"body_markdown":"I am not saying I need to use JNDI. The only reason why I am using it at the moment is that I can reference the catalina.home directory in the JNDI resource and thereby get a reference to the .sqlite database file that I dont want to store in my project","body":"I am not saying I need to use JNDI. The only reason why I am using it at the moment is that I can reference the catalina.home directory in the JNDI resource and thereby get a reference to the .sqlite database file that I dont want to store in my project"},{"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"score":1,"creation_date":1513781068,"post_id":47907992,"comment_id":82784340,"body_markdown":"But I am open to suggestions for how to improve that.","body":"But I am open to suggestions for how to improve that."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1513781195,"post_id":47907992,"comment_id":82784436,"body_markdown":"The question is do you want to deploy the app to an app server or run it standalone. Next to that you can still do the same with the `spring.datasource.url` the only challenge is what are you going to do when running locally...","body":"The question is do you want to deploy the app to an app server or run it standalone. Next to that you can still do the same with the <code>spring.datasource.url</code> the only challenge is what are you going to do when running locally..."},{"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"score":0,"creation_date":1513781544,"post_id":47907992,"comment_id":82784712,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/161629/discussion-between-tenticon-and-m-deinum).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/161629/discussion-between-tenticon-and-m-deinum\">continue this discussion in chat</a>."},{"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"score":0,"creation_date":1513782948,"post_id":47907992,"comment_id":82785672,"body_markdown":"Instead of using a sqlite datasource via jndi I use an embedded h2 db for now because i dont need more for dev. However i would be interested in how to force the spring boot app to use a specific tomcat installation where i can configure a jndi datasource","body":"Instead of using a sqlite datasource via jndi I use an embedded h2 db for now because i dont need more for dev. However i would be interested in how to force the spring boot app to use a specific tomcat installation where i can configure a jndi datasource"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1513839153,"post_id":47907992,"comment_id":82806408,"body_markdown":"Why.. Why do you want the added complexity of JNDI? Just use the JDBC URL you have now as the `spring.datasouce.url` in your `application.properties`.","body":"Why.. Why do you want the added complexity of JNDI? Just use the JDBC URL you have now as the <code>spring.datasouce.url</code> in your <code>application.properties</code>."}],"answers":[{"tags":[],"owner":{"account_id":1801218,"reputation":1,"user_id":1639527,"display_name":"Brian Kalbfus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653432150,"creation_date":1653432150,"answer_id":72370194,"question_id":47907992,"body_markdown":"I just ironed out this issue in Tomcat 9.  What you have looks fine, and is just missing two things from what worked for me:\r\n1.  a `@Resource` annotation in your Spring Configuration.  Something like:\r\n```\r\n@Configuration\r\npublic class AppManifest {\r\n\t@Resource(name = &quot;jdbc/spring-jdbc-test&quot;, lookup = &quot;jdbc/spring-jdbc-test&quot;) private javax.sql.DataSource springJdbcTest;\r\n}\r\n```\r\n2.  application.properties:\r\n```\r\nspring.datasource.jndi-name=java:comp/env/jdbc/spring-jdbc-test\r\n```\r\n","title":"Spring Boot - DataSource from JNDI: NoInitialContextException: Need to specify class name in environment or system property","body":"<p>I just ironed out this issue in Tomcat 9.  What you have looks fine, and is just missing two things from what worked for me:</p>\n<ol>\n<li>a <code>@Resource</code> annotation in your Spring Configuration.  Something like:</li>\n</ol>\n<pre><code>@Configuration\npublic class AppManifest {\n    @Resource(name = &quot;jdbc/spring-jdbc-test&quot;, lookup = &quot;jdbc/spring-jdbc-test&quot;) private javax.sql.DataSource springJdbcTest;\n}\n</code></pre>\n<ol start=\"2\">\n<li>application.properties:</li>\n</ol>\n<pre><code>spring.datasource.jndi-name=java:comp/env/jdbc/spring-jdbc-test\n</code></pre>\n"}],"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10283,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699427270,"creation_date":1513779307,"question_id":47907992,"body_markdown":"I am relatively new to web apps with spring boot so bear with me.\r\n\r\n***Problem*** When I run my spring boot app I get\r\n\r\n \r\n\r\n       Caused by: org.springframework.jdbc.datasource.lookup.DataSourceLookupFailureException: Failed to look up JNDI DataSource with name &#39;jdbc/spring-jdbc-test&#39;; nested exception is javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\r\n    \tat org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup.getDataSource(JndiDataSourceLookup.java:48) ~[spring-jdbc-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration.dataSource(JndiDataSourceAutoConfiguration.java:61) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$495e06f0.CGLIB$dataSource$0(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$495e06f0$$FastClassBySpringCGLIB$$7a21dc8c.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$495e06f0.dataSource(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_102]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_102]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_102]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_102]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \t... 59 common frames omitted\r\n    Caused by: javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\r\n    \tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:662) ~[na:1.8.0_102]\r\n    \tat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313) ~[na:1.8.0_102]\r\n    \tat javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:350) ~[na:1.8.0_102]\r\n    \tat javax.naming.InitialContext.lookup(InitialContext.java:417) ~[na:1.8.0_102]\r\n    \tat org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:155) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:87) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:152) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:179) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:104) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup.getDataSource(JndiDataSourceLookup.java:45) ~[spring-jdbc-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \t... 70 common frames omitted\r\n\r\nThe line `Failed to look up JNDI DataSource with name &#39;jdbc/spring-jdbc-test&#39;` gives me suspicions that the app runs on its own tomcat server and not the one that I have installed.\r\n\r\nThe app starts on tomcat 8.5.23 as configured in my pom (see below)\r\n\r\n    2017-12-20 13:22:35.477  INFO 19188 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2017-12-20 13:22:35.478  INFO 19188 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.23\r\n\r\nIn eclipse I added a tomcat server of that version, added the sqlite jar to `catalina.base/lib/` and configured the JNDI resource in `catalina.base/conf/context.xml`\r\n\r\n    &lt;Resource \r\n\t\tauth=&quot;Container&quot; \r\n\t\tdriverClassName=&quot;org.sqlite.JDBC&quot; \r\n\t\tmaxActive=&quot;100&quot; \r\n\t\tmaxIdle=&quot;30&quot; \r\n\t\tmaxWait=&quot;10000&quot; \r\n\t\tname=&quot;jdbc/spring-jdbc-test&quot; \r\n\t\ttype=&quot;javax.sql.DataSource&quot; \r\n\t\turl=&quot;jdbc:sqlite:/${catalina.home}/databases/spring-test.sqlite&quot;&gt;\r\n     &lt;/Resource&gt;\r\n\r\n***application.properties***\r\n\r\n    #server.tomcat.basedir=C:\\Dev\\tomcat\\apache-tomcat-8.5.23\\ &lt;-- Error when I uncomment this\r\n    spring.datasource.jndi-name=jdbc/spring-jdbc-test\r\n\r\n***POM***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;spring.jdbc.demo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-demo-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;spring-demo-jdbc&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;tomcat.version&gt;8.5.23&lt;/tomcat.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;tomcat-juli&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n***App***\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages=&quot;spring.jdbc.demo.*&quot;)\r\n    public class SpringDemoJdbcApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringDemoJdbcApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n***Class that uses DataSource***\r\n\r\n    @Repository\r\n    public class JdbcMessageDAO implements MessageDAO\r\n    {\r\n    \tprivate static final String SELECT_STATEMENT = &quot;SELECT id, name, message FROM MESSAGES WHERE id=?&quot;;\r\n    \tprivate static final String SELECT_ALL_STATEMENT = &quot;SELECT id, name, message FROM MESSAGES&quot;;\r\n    \t\r\n    \tprivate final JdbcTemplate jdbcTemplate;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic JdbcMessageDAO(DataSource dataSource)\r\n    \t{\r\n    \t\tjdbcTemplate = new JdbcTemplate(dataSource);\r\n    \t}\r\n        /*...*/\r\n    }\r\n\r\nThanks for the help!","title":"Spring Boot - DataSource from JNDI: NoInitialContextException: Need to specify class name in environment or system property","body":"<p>I am relatively new to web apps with spring boot so bear with me.</p>\n\n<p><strong><em>Problem</em></strong> When I run my spring boot app I get</p>\n\n<pre><code>   Caused by: org.springframework.jdbc.datasource.lookup.DataSourceLookupFailureException: Failed to look up JNDI DataSource with name 'jdbc/spring-jdbc-test'; nested exception is javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\n    at org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup.getDataSource(JndiDataSourceLookup.java:48) ~[spring-jdbc-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration.dataSource(JndiDataSourceAutoConfiguration.java:61) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$495e06f0.CGLIB$dataSource$0(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$495e06f0$$FastClassBySpringCGLIB$$7a21dc8c.invoke(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration$$EnhancerBySpringCGLIB$$495e06f0.dataSource(&lt;generated&gt;) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_102]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_102]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_102]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_102]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 59 common frames omitted\nCaused by: javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial\n    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:662) ~[na:1.8.0_102]\n    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313) ~[na:1.8.0_102]\n    at javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:350) ~[na:1.8.0_102]\n    at javax.naming.InitialContext.lookup(InitialContext.java:417) ~[na:1.8.0_102]\n    at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:155) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:87) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:152) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:179) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:104) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.jdbc.datasource.lookup.JndiDataSourceLookup.getDataSource(JndiDataSourceLookup.java:45) ~[spring-jdbc-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 70 common frames omitted\n</code></pre>\n\n<p>The line <code>Failed to look up JNDI DataSource with name 'jdbc/spring-jdbc-test'</code> gives me suspicions that the app runs on its own tomcat server and not the one that I have installed.</p>\n\n<p>The app starts on tomcat 8.5.23 as configured in my pom (see below)</p>\n\n<pre><code>2017-12-20 13:22:35.477  INFO 19188 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2017-12-20 13:22:35.478  INFO 19188 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.23\n</code></pre>\n\n<p>In eclipse I added a tomcat server of that version, added the sqlite jar to <code>catalina.base/lib/</code> and configured the JNDI resource in <code>catalina.base/conf/context.xml</code></p>\n\n<pre><code>&lt;Resource \n    auth=\"Container\" \n    driverClassName=\"org.sqlite.JDBC\" \n    maxActive=\"100\" \n    maxIdle=\"30\" \n    maxWait=\"10000\" \n    name=\"jdbc/spring-jdbc-test\" \n    type=\"javax.sql.DataSource\" \n    url=\"jdbc:sqlite:/${catalina.home}/databases/spring-test.sqlite\"&gt;\n &lt;/Resource&gt;\n</code></pre>\n\n<p><strong><em>application.properties</em></strong></p>\n\n<pre><code>#server.tomcat.basedir=C:\\Dev\\tomcat\\apache-tomcat-8.5.23\\ &lt;-- Error when I uncomment this\nspring.datasource.jndi-name=jdbc/spring-jdbc-test\n</code></pre>\n\n<p><strong><em>POM</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;spring.jdbc.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-demo-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;spring-demo-jdbc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;tomcat.version&gt;8.5.23&lt;/tomcat.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-juli&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong><em>App</em></strong></p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages=\"spring.jdbc.demo.*\")\npublic class SpringDemoJdbcApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDemoJdbcApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong><em>Class that uses DataSource</em></strong></p>\n\n<pre><code>@Repository\npublic class JdbcMessageDAO implements MessageDAO\n{\n    private static final String SELECT_STATEMENT = \"SELECT id, name, message FROM MESSAGES WHERE id=?\";\n    private static final String SELECT_ALL_STATEMENT = \"SELECT id, name, message FROM MESSAGES\";\n\n    private final JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public JdbcMessageDAO(DataSource dataSource)\n    {\n        jdbcTemplate = new JdbcTemplate(dataSource);\n    }\n    /*...*/\n}\n</code></pre>\n\n<p>Thanks for the help!</p>\n"},{"tags":["java","ibm-mq","mq"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":2,"creation_date":1699346259,"post_id":77436386,"comment_id":136516768,"body_markdown":"Unfortunately, the `MQHeaderIterator` does not support all MQ headers, see [Handling IBM MQ message headers with IBM MQ classes for Java](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-handling-mq-message-headers-mq-classes-java).","body":"Unfortunately, the <code>MQHeaderIterator</code> does not support all MQ headers, see <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-handling-mq-message-headers-mq-classes-java\" rel=\"nofollow noreferrer\">Handling IBM MQ message headers with IBM MQ classes for Java</a>."},{"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"score":0,"creation_date":1699346537,"post_id":77436386,"comment_id":136516809,"body_markdown":"Yes. But a header like `MQRFH2` is supported right? So I should be able to read it from the iterator. But I am unable to read that single type of header as well.","body":"Yes. But a header like <code>MQRFH2</code> is supported right? So I should be able to read it from the iterator. But I am unable to read that single type of header as well."},{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":1,"creation_date":1699346751,"post_id":77436386,"comment_id":136516838,"body_markdown":"Does the processing enter the while loop. IE. does `hasNext` return true at least once?","body":"Does the processing enter the while loop. IE. does <code>hasNext</code> return true at least once?"},{"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"score":0,"creation_date":1699350147,"post_id":77436386,"comment_id":136517471,"body_markdown":"@chughts nope\nIt&#39;s always false. I&#39;m wondering whether I need to add some configuration value when creating the TOPIC or QM.","body":"@chughts nope It&#39;s always false. I&#39;m wondering whether I need to add some configuration value when creating the TOPIC or QM."},{"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"score":0,"creation_date":1699350188,"post_id":77436386,"comment_id":136517480,"body_markdown":"I saw this option - `PROPCTL` [1]. But I don&#39;t know where to set it.\n\n[1] https://www.ibm.com/docs/en/ibm-mq/9.3?topic=options-propctl-queue-mqgmo","body":"I saw this option - <code>PROPCTL</code> [1]. But I don&#39;t know where to set it.  [1] <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=options-propctl-queue-mqgmo\" rel=\"nofollow noreferrer\">ibm.com/docs/en/ibm-mq/9.3?topic=options-propctl-queue-mqgmo</a>"}],"answers":[{"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":1,"creation_date":1699356303,"post_id":77437590,"comment_id":136518708,"body_markdown":"PROPTL only affects MQRFH2 headers - that is message properties. Why do you think that this will impact OP? He says the headers are on the message if he accesses them individually. Why would PROPCTL have an impact on an iterator?","body":"PROPTL only affects MQRFH2 headers - that is message properties. Why do you think that this will impact OP? He says the headers are on the message if he accesses them individually. Why would PROPCTL have an impact on an iterator?"},{"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"score":0,"creation_date":1699359176,"post_id":77437590,"comment_id":136519197,"body_markdown":"@MoragHughson If PROPCTL only relates to MQRFH2 headers, at least other headers should be available right?\n\nFor the moment, what I am doing is manually trying to read the header and go through all the header types. Something like my latest edit on the above question. Can this solution go wrong?","body":"@MoragHughson If PROPCTL only relates to MQRFH2 headers, at least other headers should be available right?  For the moment, what I am doing is manually trying to read the header and go through all the header types. Something like my latest edit on the above question. Can this solution go wrong?"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":1,"creation_date":1699392507,"post_id":77437590,"comment_id":136525364,"body_markdown":"@dilanSachi - I a not familiar enough with Java iterators to know why they don&#39;t work. If I were writing an application like yours in my chosen language then what you have done is what I would have to do anyway.","body":"@dilanSachi - I a not familiar enough with Java iterators to know why they don&#39;t work. If I were writing an application like yours in my chosen language then what you have done is what I would have to do anyway."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1699392658,"post_id":77437590,"comment_id":136525385,"body_markdown":"In this answer, your final statement is contradictory. If the default is `COMPAT` (which it is) then it will be already set to `COMPAT` and an admin has not deliberately change it, it was set by default. Are you missing the word &quot;not&quot; somewhere in there?","body":"In this answer, your final statement is contradictory. If the default is <code>COMPAT</code> (which it is) then it will be already set to <code>COMPAT</code> and an admin has not deliberately change it, it was set by default. Are you missing the word &quot;not&quot; somewhere in there?"},{"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"score":0,"creation_date":1699426401,"post_id":77437590,"comment_id":136528353,"body_markdown":"corrected the typo.","body":"corrected the typo."}],"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699426362,"creation_date":1699354245,"answer_id":77437590,"question_id":77436386,"body_markdown":"This is a comment in response to a request made in a comment, but it wouldn&#39;t fit it into a comment. It does not answer the original question, just a follow up.\r\n\r\nYou can use `runmqsc` to check and to update the `PROPCTL` option for a queue. You need to be an administrator, but you can run `runmqsc` remotely. You will need the redistributable client installed - https://developer.ibm.com/articles/mq-downloads/\r\n\r\nIf you are running MQ in a docker image locally on your machine, then you can run:\r\n\r\n````\r\nexport MQSERVER=DEV.ADMIN.SVRCONN/TCP/localhost(1414)\r\n\r\nrunmqsc -c -u admin QM1\r\n\r\n````\r\n\r\n\r\nIf your queue manager is running elsewhere then you will most likely need a ccdt to connect.\r\n\r\n````\r\nunset MQSERVER\r\nexport MQCCDTURL=&lt;path-to-ccdt-file&gt;\r\nexport MQSSLKEYR=&lt;full-path-to-keydb-file&gt; \r\n\r\nrunmqsc -c -u &lt;admin user id&gt; -w 60 QM1\r\n\r\n````\r\n\r\nOnce runmqsc is running you can issue MQSC commands. You can check the queue options by running\r\n\r\n\r\n````\r\ndisplay queue(DEV.QUEUE.1)\r\n````\r\n\r\nIf you see `PROPCTL(NONE)` then the headers will not be sent, unless\r\n\r\n\r\n&gt; If the application calls MQCRTMH to create a message handle, it must\r\n&gt; query the message properties using MQINQMP. Name-value pairs that are\r\n&gt; not message properties remain in the MQRFH2, which is stripped of any\r\n&gt; message properties. If the application does not create a message\r\n&gt; handle, all the message properties are removed from the MQRFH2.\r\n&gt; Name-value pairs in the MQRFH2 headers remain in the message.\r\n\r\nYou can set PROPCTL by running\r\n\r\n````\r\nALTER QLOCAL(DEV.QUEUE.1) PROPCTL(COMPAT)\r\n````\r\n\r\n`COMPAT` is the default setting. If its not set to COMPAT, then an admin has deliberately changed it.","title":"Headers are not read in IBM MQ","body":"<p>This is a comment in response to a request made in a comment, but it wouldn't fit it into a comment. It does not answer the original question, just a follow up.</p>\n<p>You can use <code>runmqsc</code> to check and to update the <code>PROPCTL</code> option for a queue. You need to be an administrator, but you can run <code>runmqsc</code> remotely. You will need the redistributable client installed - <a href=\"https://developer.ibm.com/articles/mq-downloads/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/articles/mq-downloads/</a></p>\n<p>If you are running MQ in a docker image locally on your machine, then you can run:</p>\n<pre><code>export MQSERVER=DEV.ADMIN.SVRCONN/TCP/localhost(1414)\n\nrunmqsc -c -u admin QM1\n\n</code></pre>\n<p>If your queue manager is running elsewhere then you will most likely need a ccdt to connect.</p>\n<pre><code>unset MQSERVER\nexport MQCCDTURL=&lt;path-to-ccdt-file&gt;\nexport MQSSLKEYR=&lt;full-path-to-keydb-file&gt; \n\nrunmqsc -c -u &lt;admin user id&gt; -w 60 QM1\n\n</code></pre>\n<p>Once runmqsc is running you can issue MQSC commands. You can check the queue options by running</p>\n<pre><code>display queue(DEV.QUEUE.1)\n</code></pre>\n<p>If you see <code>PROPCTL(NONE)</code> then the headers will not be sent, unless</p>\n<blockquote>\n<p>If the application calls MQCRTMH to create a message handle, it must\nquery the message properties using MQINQMP. Name-value pairs that are\nnot message properties remain in the MQRFH2, which is stripped of any\nmessage properties. If the application does not create a message\nhandle, all the message properties are removed from the MQRFH2.\nName-value pairs in the MQRFH2 headers remain in the message.</p>\n</blockquote>\n<p>You can set PROPCTL by running</p>\n<pre><code>ALTER QLOCAL(DEV.QUEUE.1) PROPCTL(COMPAT)\n</code></pre>\n<p><code>COMPAT</code> is the default setting. If its not set to COMPAT, then an admin has deliberately changed it.</p>\n"},{"comments":[{"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"score":0,"creation_date":1699415849,"post_id":77442091,"comment_id":136527478,"body_markdown":"Thanks for the comment @Roger. I&#39;m not exactly familiar with IBM MQ and my idea was that we can send different types of headers in one single message. That&#39;s why I tried this way. What I&#39;m trying to do is, create a wrapper around the IBM MQ java client and provide a way for users to read the headers without using the `HeaderIterator` or `HeaderList`. Looks like `MQHeaderIterator` won&#39;t work for me :(","body":"Thanks for the comment @Roger. I&#39;m not exactly familiar with IBM MQ and my idea was that we can send different types of headers in one single message. That&#39;s why I tried this way. What I&#39;m trying to do is, create a wrapper around the IBM MQ java client and provide a way for users to read the headers without using the <code>HeaderIterator</code> or <code>HeaderList</code>. Looks like <code>MQHeaderIterator</code> won&#39;t work for me :("},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1699660788,"post_id":77442091,"comment_id":136564020,"body_markdown":"I think you are making a work project where one is not required. Forget about MQTM &amp; MQDLH structures because applications don&#39;t need it. For MQRFH2 structure, just treat the message as a JMS message &amp; life will be good. No wrapper is needed.","body":"I think you are making a work project where one is not required. Forget about MQTM &amp; MQDLH structures because applications don&#39;t need it. For MQRFH2 structure, just treat the message as a JMS message &amp; life will be good. No wrapper is needed."}],"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699400823,"creation_date":1699400823,"answer_id":77442091,"question_id":77436386,"body_markdown":"I am so confused why you are trying to do what you are doing.\r\n\r\nWhy in the world would you ever create a message with two embedded structures: \r\n- Dead Letter Header (MQDLH)\r\n- Trigger Monitor (MQTM)\r\n\r\nThat means your messages would look like:\r\n\r\n    {MQDLH}{MQTM}{message_payload}\r\n\r\nThen, push that message to a topic. Why?? It is the strangest thing I ever seen.\r\n\r\nAnd you add your workaround that has MQRFH2 followed by MQDLH embedded structures\r\nThat means your messages would look like:\r\n\r\n    {MQRFH2}{MQTM}{message_payload}\r\n\r\nIn case you don&#39;t know, a JMS message is stored by MQ as an MQRFH2 message. So, if you simply put a JMS message to the topic, it will automatically have the embedded MQRFH2 structure.\r\ni.e. JMS message internally looks like this:\r\n\r\n    {MQRFH2}{message_payload}\r\n\r\nYears ago, I gave up trying to get the MQHeaderIterator class to work because it was very poorly implemented.","title":"Headers are not read in IBM MQ","body":"<p>I am so confused why you are trying to do what you are doing.</p>\n<p>Why in the world would you ever create a message with two embedded structures:</p>\n<ul>\n<li>Dead Letter Header (MQDLH)</li>\n<li>Trigger Monitor (MQTM)</li>\n</ul>\n<p>That means your messages would look like:</p>\n<pre><code>{MQDLH}{MQTM}{message_payload}\n</code></pre>\n<p>Then, push that message to a topic. Why?? It is the strangest thing I ever seen.</p>\n<p>And you add your workaround that has MQRFH2 followed by MQDLH embedded structures\nThat means your messages would look like:</p>\n<pre><code>{MQRFH2}{MQTM}{message_payload}\n</code></pre>\n<p>In case you don't know, a JMS message is stored by MQ as an MQRFH2 message. So, if you simply put a JMS message to the topic, it will automatically have the embedded MQRFH2 structure.\ni.e. JMS message internally looks like this:</p>\n<pre><code>{MQRFH2}{message_payload}\n</code></pre>\n<p>Years ago, I gave up trying to get the MQHeaderIterator class to work because it was very poorly implemented.</p>\n"}],"owner":{"account_id":9088275,"reputation":691,"user_id":6765336,"display_name":"dilanSachi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699426362,"creation_date":1699343408,"question_id":77436386,"body_markdown":"Im trying to put a message with some headers to a topic and get them using the java client [1]. However, I am able to successfully put the message with headers, but unable to get the headers from the message. Here is the code I&#39;m trying.\r\n\r\n**Put to Topic**\r\n```java\r\nMQMessage message = new MQMessage();\r\nMQDLH mqdlh = new MQDLH();\r\nmqdlh.setDestQName(&quot;DEV.QUEUE.1&quot;);\r\nmqdlh.setIntValue(&quot;Reason&quot;, 10);\r\n\r\nMQTM mqtm = new MQTM();\r\nmqtm.setApplId(&quot;TestAppId&quot;);\r\nmqtm.setProcessName(&quot;TestProcessName&quot;);\r\n\r\nMQHeaderList headerList = new MQHeaderList();\r\nheaderList.add(mqdlh);\r\nheaderList.add(mqtm);\r\nheaderList.write(message);\r\n\r\nMQPropertyDescriptor d = new MQPropertyDescriptor();\r\nd.version = MQPD_USER_CONTEXT;\r\nmessage.writeString(&quot;Your message payload&quot;);\r\ntopic.put(message);\r\n```\r\n\r\n**Get from Topic**\r\n\r\n```java\r\nMQMessage msg = new MQMessage();\r\nMQGetMessageOptions gmo = new MQGetMessageOptions();\r\ngmo.options = MQGMO_WAIT;\r\ngmo.waitInterval = MQConstants.MQWI_UNLIMITED;\r\ntopic.get(msg, gmo);\r\n\r\nMQHeaderIterator iterator = new MQHeaderIterator(msg);\r\n\r\nwhile (iterator.hasNext()) {\r\n          MQHeader header = iterator.nextHeader();\r\n          System.out.println(header);\r\n}\r\n```\r\nThe iterator always returns an empty result here. However, if I try to read headers one by one as follows, I&#39;m able to successfully get them.\r\n\r\n```java\r\nMQDLH dlh = new MQDLH();\r\ndlh.read(msg);\r\nSystem.out.println(new String(dlh.getDestQName()));\r\nSystem.out.println((dlh.getValue(&quot;Reason&quot;)));\r\n```\r\nI&#39;m unable to understand the issue here and any help regarding this is much appreciated. Is there any configuration that I should give to make this work?\r\n\r\n*Edit*\r\n\r\nSince I couldn&#39;t make above format work, I&#39;m manually reading the headers and going through all the available types. Something like below.\r\n```java\r\nswitch (type) {\r\n            case MQRFH2: {\r\n                MQRFH2 mqrfh2 = new MQRFH2();\r\n                try {\r\n                    mqrfh2.read(msg);\r\n                    headers.add(getBHeaderFromMQRFH2(runtime, mqrfh2));\r\n                    break;\r\n                } catch (MQDataException e) {\r\n                    msg.seek(dataOffset);\r\n                }\r\n            }\r\n            /*-fallthrough*/\r\n            case MQDLH: {\r\n                MQDLH dlh = new MQDLH();\r\n                try {\r\n                    // Only MQRFH2 headers is supported at the moment. Other headers are read here\r\n                    // to move the cursor to the payload value.\r\n                    dlh.read(msg);\r\n                    break;\r\n                } catch (MQDataException e) {\r\n                    msg.seek(dataOffset);\r\n                }\r\n            }\r\n            .......\r\n            .......\r\n            .......\r\n}\r\n```\r\nThis workaround is not perfect. But is there any other workaround available?\r\n\r\n[1] https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0","title":"Headers are not read in IBM MQ","body":"<p>Im trying to put a message with some headers to a topic and get them using the java client [1]. However, I am able to successfully put the message with headers, but unable to get the headers from the message. Here is the code I'm trying.</p>\n<p><strong>Put to Topic</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>MQMessage message = new MQMessage();\nMQDLH mqdlh = new MQDLH();\nmqdlh.setDestQName(&quot;DEV.QUEUE.1&quot;);\nmqdlh.setIntValue(&quot;Reason&quot;, 10);\n\nMQTM mqtm = new MQTM();\nmqtm.setApplId(&quot;TestAppId&quot;);\nmqtm.setProcessName(&quot;TestProcessName&quot;);\n\nMQHeaderList headerList = new MQHeaderList();\nheaderList.add(mqdlh);\nheaderList.add(mqtm);\nheaderList.write(message);\n\nMQPropertyDescriptor d = new MQPropertyDescriptor();\nd.version = MQPD_USER_CONTEXT;\nmessage.writeString(&quot;Your message payload&quot;);\ntopic.put(message);\n</code></pre>\n<p><strong>Get from Topic</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>MQMessage msg = new MQMessage();\nMQGetMessageOptions gmo = new MQGetMessageOptions();\ngmo.options = MQGMO_WAIT;\ngmo.waitInterval = MQConstants.MQWI_UNLIMITED;\ntopic.get(msg, gmo);\n\nMQHeaderIterator iterator = new MQHeaderIterator(msg);\n\nwhile (iterator.hasNext()) {\n          MQHeader header = iterator.nextHeader();\n          System.out.println(header);\n}\n</code></pre>\n<p>The iterator always returns an empty result here. However, if I try to read headers one by one as follows, I'm able to successfully get them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>MQDLH dlh = new MQDLH();\ndlh.read(msg);\nSystem.out.println(new String(dlh.getDestQName()));\nSystem.out.println((dlh.getValue(&quot;Reason&quot;)));\n</code></pre>\n<p>I'm unable to understand the issue here and any help regarding this is much appreciated. Is there any configuration that I should give to make this work?</p>\n<p><em>Edit</em></p>\n<p>Since I couldn't make above format work, I'm manually reading the headers and going through all the available types. Something like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (type) {\n            case MQRFH2: {\n                MQRFH2 mqrfh2 = new MQRFH2();\n                try {\n                    mqrfh2.read(msg);\n                    headers.add(getBHeaderFromMQRFH2(runtime, mqrfh2));\n                    break;\n                } catch (MQDataException e) {\n                    msg.seek(dataOffset);\n                }\n            }\n            /*-fallthrough*/\n            case MQDLH: {\n                MQDLH dlh = new MQDLH();\n                try {\n                    // Only MQRFH2 headers is supported at the moment. Other headers are read here\n                    // to move the cursor to the payload value.\n                    dlh.read(msg);\n                    break;\n                } catch (MQDataException e) {\n                    msg.seek(dataOffset);\n                }\n            }\n            .......\n            .......\n            .......\n}\n</code></pre>\n<p>This workaround is not perfect. But is there any other workaround available?</p>\n<p>[1] <a href=\"https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient/9.3.4.0</a></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-kinesis","amazon-kcl"],"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699426018,"creation_date":1699426018,"question_id":77443324,"body_markdown":"I do not want to use hardcoded AWS credentials in the application to access the services. \r\n\r\nSo we are planning to use IAM role for the service account. And using SDK&#39;s &#39;credentials chain providers&#39; implementations it will be able to establish the connection. We have successfully done for s3, sqs. But while doing the same for kinesis bean, we are getting below exception. \r\n\r\n```\r\nsoftware.amazon.awssdk.services.kinesis.model.AccessDeniedException: \r\nUser: arn:aws:sts::683177151963:assumed-role/eks-node-group-instance-role-NodeInstanceRole-1N9FQ0HM24DTN/i-07c0a7aec9981c318 \r\nis not authorized to perform: kinesis:ListShards on resource: \r\narn:aws:kinesis:us-east-1:683177151963:stream/evse-events-rel \r\nbecause no identity-based policy allows the kinesis:ListShards action \r\n(Service: Kinesis, Status Code: 400, Request ID: f753a873-f33a-4c50-aac4-cad99e9fd7e0, Extended Request ID: mLCLkfpM7o+2NKQRWYntzs6On5EGRAvBOswTkfozg6tTkG8L3zTDdmNQvq+J4Ti79xrhAkzGjsQEq68myEJPyYj6hJvFJm78)\r\n```\r\n\r\nBelow is the bean instantiation implementation:\r\n\r\n```\r\n@Bean\r\npublic ConfigsBuilder configsBuilder(@Value(&quot;${aws.kinesis_stream_name}&quot;) String kinesisStreamName) {\r\n\r\n        kinesisClient = KinesisAsyncClient.builder().region(Region.US_EAST_1).build();\r\n        CompletableFuture&lt;ListShardsResponse&gt; listShardsResponseCompletableFuture = kinesisClient.listShards(ListShardsRequest.builder().streamName(kinesisStreamName).build());\r\n        CompletableFuture.allOf(listShardsResponseCompletableFuture.thenApply(listShardsResponse -&gt; listShardsResponse.shards().stream().map(shard -&gt; kinesisClient.getShardIterator(GetShardIteratorRequest.builder().streamName(kinesisStreamName).shardId(shard.shardId()).shardIteratorType(ShardIteratorType.AT_TIMESTAMP).timestamp(Instant.now()).build())).toList().toArray(new CompletableFuture[0]))).join();\r\n\r\n\r\n        return new ConfigsBuilder(kinesisStreamName, APPLICATION_PREFIX + &quot;-&quot; + springProfilesActive + &quot;-&quot; + IDENTIFIER, kinesisClient, DynamoDbAsyncClient.builder().region(Region.US_EAST_1).build(),\r\n                CloudWatchAsyncClient.builder().region(Region.US_EAST_1).build(), System.getenv(&quot;HOSTNAME&quot;) + IDENTIFIER, ApplicationContextProvider.getContext().getBean(ShardProcessorFactory.class));\r\n}\r\n```\r\n\r\nAnd below policy we are using:\r\n\r\n```\r\n{\r\n\t&quot;Version&quot;: &quot;2012-10-17&quot;,\r\n\t&quot;Statement&quot;: [\r\n\t\t{\r\n\t\t\t&quot;Action&quot;: [\r\n\t\t\t\t&quot;kinesis:DescribeStream&quot;,\r\n\t\t\t\t&quot;kinesis:GetRecords&quot;,\r\n\t\t\t\t&quot;kinesis:GetShardIterator&quot;,\r\n\t\t\t\t&quot;kinesis:ListShards&quot;,\r\n\t\t\t\t&quot;kinesis:ListStreams&quot;,\r\n\t\t\t\t&quot;kinesis:ListStreamConsumers&quot;,\r\n\t\t\t\t&quot;kinesis:PutRecord&quot;,\r\n\t\t\t\t&quot;kinesis:PutRecords&quot;\r\n\t\t\t],\r\n\t\t\t&quot;Effect&quot;: &quot;Allow&quot;,\r\n\t\t\t&quot;Resource&quot;: [\r\n\t\t\t\t&quot;arn:aws:kinesis:us-east-1:683177151963:stream/evse-events-rel&quot;,\r\n\t\t\t\t&quot;arn:aws:kinesis:us-east-1:683177151963:stream/evse-events-rel/*&quot;\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;Action&quot;: [\r\n\t\t\t\t&quot;dynamodb:CreateTable&quot;,\r\n\t\t\t\t&quot;dynamodb:DescribeTable&quot;,\r\n\t\t\t\t&quot;dynamodb:GetItem&quot;,\r\n\t\t\t\t&quot;dynamodb:PutItem&quot;,\r\n\t\t\t\t&quot;dynamodb:Scan&quot;,\r\n\t\t\t\t&quot;dynamodb:UpdateItem&quot;,\r\n\t\t\t\t&quot;dynamodb:DeleteItem&quot;\r\n\t\t\t],\r\n\t\t\t&quot;Effect&quot;: &quot;Allow&quot;,\r\n\t\t\t&quot;Resource&quot;: [\r\n\t\t\t\t&quot;arn:aws:dynamodb:us-east-1:683177151963:table/SSE-rel-*&quot;\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;Action&quot;: [\r\n\t\t\t\t&quot;cloudwatch:PutMetricData&quot;\r\n\t\t\t],\r\n\t\t\t&quot;Effect&quot;: &quot;Allow&quot;,\r\n\t\t\t&quot;Resource&quot;: [\r\n\t\t\t\t&quot;*&quot;\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nWe tried putting * also in the kinesis action, but still getting same issue. Need anyny help around this","title":"AccessDeniedException coming for ListShard Action of Kinesis when trying to setup IAM role policy for spring based application deployed in eks cluster","body":"<p>I do not want to use hardcoded AWS credentials in the application to access the services.</p>\n<p>So we are planning to use IAM role for the service account. And using SDK's 'credentials chain providers' implementations it will be able to establish the connection. We have successfully done for s3, sqs. But while doing the same for kinesis bean, we are getting below exception.</p>\n<pre><code>software.amazon.awssdk.services.kinesis.model.AccessDeniedException: \nUser: arn:aws:sts::683177151963:assumed-role/eks-node-group-instance-role-NodeInstanceRole-1N9FQ0HM24DTN/i-07c0a7aec9981c318 \nis not authorized to perform: kinesis:ListShards on resource: \narn:aws:kinesis:us-east-1:683177151963:stream/evse-events-rel \nbecause no identity-based policy allows the kinesis:ListShards action \n(Service: Kinesis, Status Code: 400, Request ID: f753a873-f33a-4c50-aac4-cad99e9fd7e0, Extended Request ID: mLCLkfpM7o+2NKQRWYntzs6On5EGRAvBOswTkfozg6tTkG8L3zTDdmNQvq+J4Ti79xrhAkzGjsQEq68myEJPyYj6hJvFJm78)\n</code></pre>\n<p>Below is the bean instantiation implementation:</p>\n<pre><code>@Bean\npublic ConfigsBuilder configsBuilder(@Value(&quot;${aws.kinesis_stream_name}&quot;) String kinesisStreamName) {\n\n        kinesisClient = KinesisAsyncClient.builder().region(Region.US_EAST_1).build();\n        CompletableFuture&lt;ListShardsResponse&gt; listShardsResponseCompletableFuture = kinesisClient.listShards(ListShardsRequest.builder().streamName(kinesisStreamName).build());\n        CompletableFuture.allOf(listShardsResponseCompletableFuture.thenApply(listShardsResponse -&gt; listShardsResponse.shards().stream().map(shard -&gt; kinesisClient.getShardIterator(GetShardIteratorRequest.builder().streamName(kinesisStreamName).shardId(shard.shardId()).shardIteratorType(ShardIteratorType.AT_TIMESTAMP).timestamp(Instant.now()).build())).toList().toArray(new CompletableFuture[0]))).join();\n\n\n        return new ConfigsBuilder(kinesisStreamName, APPLICATION_PREFIX + &quot;-&quot; + springProfilesActive + &quot;-&quot; + IDENTIFIER, kinesisClient, DynamoDbAsyncClient.builder().region(Region.US_EAST_1).build(),\n                CloudWatchAsyncClient.builder().region(Region.US_EAST_1).build(), System.getenv(&quot;HOSTNAME&quot;) + IDENTIFIER, ApplicationContextProvider.getContext().getBean(ShardProcessorFactory.class));\n}\n</code></pre>\n<p>And below policy we are using:</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Action&quot;: [\n                &quot;kinesis:DescribeStream&quot;,\n                &quot;kinesis:GetRecords&quot;,\n                &quot;kinesis:GetShardIterator&quot;,\n                &quot;kinesis:ListShards&quot;,\n                &quot;kinesis:ListStreams&quot;,\n                &quot;kinesis:ListStreamConsumers&quot;,\n                &quot;kinesis:PutRecord&quot;,\n                &quot;kinesis:PutRecords&quot;\n            ],\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Resource&quot;: [\n                &quot;arn:aws:kinesis:us-east-1:683177151963:stream/evse-events-rel&quot;,\n                &quot;arn:aws:kinesis:us-east-1:683177151963:stream/evse-events-rel/*&quot;\n            ]\n        },\n        {\n            &quot;Action&quot;: [\n                &quot;dynamodb:CreateTable&quot;,\n                &quot;dynamodb:DescribeTable&quot;,\n                &quot;dynamodb:GetItem&quot;,\n                &quot;dynamodb:PutItem&quot;,\n                &quot;dynamodb:Scan&quot;,\n                &quot;dynamodb:UpdateItem&quot;,\n                &quot;dynamodb:DeleteItem&quot;\n            ],\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Resource&quot;: [\n                &quot;arn:aws:dynamodb:us-east-1:683177151963:table/SSE-rel-*&quot;\n            ]\n        },\n        {\n            &quot;Action&quot;: [\n                &quot;cloudwatch:PutMetricData&quot;\n            ],\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Resource&quot;: [\n                &quot;*&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>We tried putting * also in the kinesis action, but still getting same issue. Need anyny help around this</p>\n"},{"tags":["java","mvvm"],"owner":{"account_id":28611553,"reputation":1,"user_id":21906446,"display_name":"Sabino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699425910,"creation_date":1699389649,"question_id":77441338,"body_markdown":"I have questions about how to pass a fagment code to the viewmodel, I want to pass input validation methods that are related to the registration screen This method is related to password validation, if the password does not meet all the requirements, display a component with the characteristics of how the password should be If the password was complying with the characteristics, the component with the characteristics of what the password should be will be hidden I want to know how to pass valid_Password() and input Password() function to viewmodel\r\n\r\n```\r\nif(password.length &lt;8){\r\nisChar = true\r\nbinding.txtConditionsPassword.visibility = View.VISIBLE \r\n           \r\nbinding.txtpasswordNotCharacteristics.visibility = View.VISIBLE \r\n           \r\nbinding.linearLayout.visibility = View.VISIBLE    \r\n        \r\nbinding.txtpasswordFeature.visibility = View.GONE\r\n            \r\nbinding.txtMinimumCharacters.setTextColor(Color.RED) \r\n           \r\nbinding.ImgCloseMinimumCharacters.visibility = View.VISIBLE\r\n            \r\nbinding.ImgCheckMinimumCharacters.visibility = View.GONE\r\n        \r\n} else {\r\n            \r\nisChar = false\r\n            \r\nbinding.txtMinimumCharacters.setTextColor(Color.GREEN)\r\n            \r\nbinding.ImgCheckMinimumCharacters.visibility = View.VISIBLE\r\n           \r\n binding.ImgCloseMinimumCharacters.visibility = View.GONE\r\n        \r\n}\r\n```","title":"How to pass code from fragment to viewmodel","body":"<p>I have questions about how to pass a fagment code to the viewmodel, I want to pass input validation methods that are related to the registration screen This method is related to password validation, if the password does not meet all the requirements, display a component with the characteristics of how the password should be If the password was complying with the characteristics, the component with the characteristics of what the password should be will be hidden I want to know how to pass valid_Password() and input Password() function to viewmodel</p>\n<pre><code>if(password.length &lt;8){\nisChar = true\nbinding.txtConditionsPassword.visibility = View.VISIBLE \n           \nbinding.txtpasswordNotCharacteristics.visibility = View.VISIBLE \n           \nbinding.linearLayout.visibility = View.VISIBLE    \n        \nbinding.txtpasswordFeature.visibility = View.GONE\n            \nbinding.txtMinimumCharacters.setTextColor(Color.RED) \n           \nbinding.ImgCloseMinimumCharacters.visibility = View.VISIBLE\n            \nbinding.ImgCheckMinimumCharacters.visibility = View.GONE\n        \n} else {\n            \nisChar = false\n            \nbinding.txtMinimumCharacters.setTextColor(Color.GREEN)\n            \nbinding.ImgCheckMinimumCharacters.visibility = View.VISIBLE\n           \n binding.ImgCloseMinimumCharacters.visibility = View.GONE\n        \n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699352525,"post_id":77437389,"comment_id":136517959,"body_markdown":"That is what `getReference` is for, or rather the `get*` methods on the JPA repository, they return a proxy and don&#39;t go to the database.","body":"That is what <code>getReference</code> is for, or rather the <code>get*</code> methods on the JPA repository, they return a proxy and don&#39;t go to the database."},{"owner":{"account_id":29246922,"reputation":1,"user_id":22407165,"display_name":"mammut"},"score":0,"creation_date":1699353023,"post_id":77437389,"comment_id":136518058,"body_markdown":"Thanks for the quick response! I&#39;ll go with the getReference","body":"Thanks for the quick response! I&#39;ll go with the getReference"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699353273,"post_id":77437389,"comment_id":136518098,"body_markdown":"The `getReference` is on the `EntityManager`, using `getById` from the `JpaRepository` will do the same.","body":"The <code>getReference</code> is on the <code>EntityManager</code>, using <code>getById</code> from the <code>JpaRepository</code> will do the same."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699413161,"post_id":77441131,"comment_id":136527302,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77441131/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20279877,"reputation":28,"user_id":14874053,"display_name":"Сестренка 8 лет"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699424301,"creation_date":1699387274,"answer_id":77441131,"question_id":77437389,"body_markdown":"You can use the result of`irelationshipOwnerRepository.save(relationshipOwner);` and get your `entity` because this method returns an entity that you save\r\n","title":"Fetch entity data without a find JPA Hibernate","body":"<p>You can use the result of<code>irelationshipOwnerRepository.save(relationshipOwner);</code> and get your <code>entity</code> because this method returns an entity that you save</p>\n"}],"owner":{"account_id":29246922,"reputation":1,"user_id":22407165,"display_name":"mammut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699424301,"creation_date":1699352464,"question_id":77437389,"body_markdown":"I am using spring, jpa, hibernate.\r\n\r\nLet&#39;s say I have a @ManyToMany relationship, and I have updated the owner of the relationship in the following way:\r\n\r\n\r\n```\r\nentity.getRelationshipOwners().addAll(_relatioshipOwners);\r\nfor (RelationshipOwner relationshipOwner : _relatioshipOwners) {\r\n    relationshipOwner.getEntities().add(entity);\r\n    irelationshipOwnerRepository.save(relationshipOwner);\r\n}\r\n```\r\n\r\nNow, the object `entity` is in the detached state although it has been persisted on the database.\r\nI don&#39;t want to get the persisted entity with a &quot;find&quot; on the database, it will add overhead.\r\n\r\nIs there a way to fetch the persisted entity without looking for the entity in the database?","title":"Fetch entity data without a find JPA Hibernate","body":"<p>I am using spring, jpa, hibernate.</p>\n<p>Let's say I have a @ManyToMany relationship, and I have updated the owner of the relationship in the following way:</p>\n<pre><code>entity.getRelationshipOwners().addAll(_relatioshipOwners);\nfor (RelationshipOwner relationshipOwner : _relatioshipOwners) {\n    relationshipOwner.getEntities().add(entity);\n    irelationshipOwnerRepository.save(relationshipOwner);\n}\n</code></pre>\n<p>Now, the object <code>entity</code> is in the detached state although it has been persisted on the database.\nI don't want to get the persisted entity with a &quot;find&quot; on the database, it will add overhead.</p>\n<p>Is there a way to fetch the persisted entity without looking for the entity in the database?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":5,"creation_date":1506092174,"post_id":3852091,"comment_id":79694870,"body_markdown":"[Add jdk9 compiler support #985](https://github.com/rzwitserloot/lombok/issues/985) is unresolved at time of my comment. Package system of Java 9 require adding a lot of CLI option to `javac` in order to open access to internal `sun.*` classes ((","body":"<a href=\"https://github.com/rzwitserloot/lombok/issues/985\" rel=\"nofollow noreferrer\">Add jdk9 compiler support #985</a> is unresolved at time of my comment. Package system of Java 9 require adding a lot of CLI option to <code>javac</code> in order to open access to internal <code>sun.*</code> classes (("},{"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"score":1,"creation_date":1529394275,"post_id":3852091,"comment_id":88845451,"body_markdown":"Maybe interessant: https://medium.com/@gabor.liptak/some-dangers-of-using-lombok-d759fc8f701f","body":"Maybe interessant: <a href=\"https://medium.com/@gabor.liptak/some-dangers-of-using-lombok-d759fc8f701f\" rel=\"nofollow noreferrer\">medium.com/@gabor.liptak/&hellip;</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1542019913,"post_id":3852091,"comment_id":93405500,"body_markdown":"These days projects use the annotation preprocessor built into javac to do things like this - this mechanism is standard and it can be expected of good programmers to know this.","body":"These days projects use the annotation preprocessor built into javac to do things like this - this mechanism is standard and it can be expected of good programmers to know this."}],"answers":[{"comments":[{"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"score":2,"creation_date":1286152698,"post_id":3852155,"comment_id":4094768,"body_markdown":"What about in small open source projects? Your idea of the team agreeing is really good, but I&#39;m also curious in the 1-2 person OS project point of view","body":"What about in small open source projects? Your idea of the team agreeing is really good, but I&#39;m also curious in the 1-2 person OS project point of view"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1286153397,"post_id":3852155,"comment_id":4094807,"body_markdown":"Same principle really, except that getting the agreement of one person (yourself) is a non-issue.  I guess it might put off other possible project participants, but the kind of people who would be put off are probably not the kind of people you want anyway.  Besides, they are hypothetical.","body":"Same principle really, except that getting the agreement of one person (yourself) is a non-issue.  I guess it might put off other possible project participants, but the kind of people who would be put off are probably not the kind of people you want anyway.  Besides, they are hypothetical."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":1,"creation_date":1286161889,"post_id":3852155,"comment_id":4095419,"body_markdown":"I thing when he talks about missing JavaDoc, he means that getters and setters will not have JavaDoc, which is not very good.","body":"I thing when he talks about missing JavaDoc, he means that getters and setters will not have JavaDoc, which is not very good."},{"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"score":82,"creation_date":1286178405,"post_id":3852155,"comment_id":4096410,"body_markdown":"As a Lombok developer, I can say that generating javadoc is technically possible. Please participate in the google group if you&#39;ve any bright ideas how to implement it. I mean, just generating a standard text is not that useful. Like getFoo, returns foo, setFoo sets the foo? How is that going to help?","body":"As a Lombok developer, I can say that generating javadoc is technically possible. Please participate in the google group if you&#39;ve any bright ideas how to implement it. I mean, just generating a standard text is not that useful. Like getFoo, returns foo, setFoo sets the foo? How is that going to help?"},{"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"score":192,"creation_date":1286191219,"post_id":3852155,"comment_id":4097814,"body_markdown":"I&#39;d say that javadoc for bean getters/setters does more harm than good. Those methods follow a well-understood convention that does not need to be added to the javadoc; that just adds to the noise. Only add documentation to getters and setters when they do something unexpected i.e. when they have side-effects.","body":"I&#39;d say that javadoc for bean getters/setters does more harm than good. Those methods follow a well-understood convention that does not need to be added to the javadoc; that just adds to the noise. Only add documentation to getters and setters when they do something unexpected i.e. when they have side-effects."},{"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"score":9,"creation_date":1286265157,"post_id":3852155,"comment_id":4106597,"body_markdown":"I just realized that the javadoc remark might refer to the fact that if you generate javadoc for your lomboked code, the getters and setters don&#39;t show up at all. The way to fix that is to run javadoc over your delomboked code.","body":"I just realized that the javadoc remark might refer to the fact that if you generate javadoc for your lomboked code, the getters and setters don&#39;t show up at all. The way to fix that is to run javadoc over your delomboked code."},{"owner":{"account_id":3325,"reputation":54581,"user_id":4794,"accept_rate":94,"display_name":"Don Kirkby"},"score":0,"creation_date":1375377956,"post_id":3852155,"comment_id":26321206,"body_markdown":"It looks like [javadoc for generated getters and setters](https://code.google.com/p/projectlombok/issues/detail?id=59) will come in the next release of Lombok, but only in the compiled code, not in Eclipse.","body":"It looks like <a href=\"https://code.google.com/p/projectlombok/issues/detail?id=59\" rel=\"nofollow noreferrer\">javadoc for generated getters and setters</a> will come in the next release of Lombok, but only in the compiled code, not in Eclipse."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":17,"creation_date":1446609399,"post_id":3852155,"comment_id":54809919,"body_markdown":"@GaryF Really? How about documenting whether the value can be null? Or the permissible range for a numeric value? Or the permissible length and/or format of a String value? Or whether a String value is suitable for presenting to an end user? Or documenting what the property actually means, when its name can&#39;t possibly explain it in full? ([JList.getLayoutOrientation](https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#getLayoutOrientation--) and [JList.setLayoutOrientation](https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#setLayoutOrientation-int-) come to mind.)","body":"@GaryF Really? How about documenting whether the value can be null? Or the permissible range for a numeric value? Or the permissible length and/or format of a String value? Or whether a String value is suitable for presenting to an end user? Or documenting what the property actually means, when its name can&#39;t possibly explain it in full? (<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#getLayoutOrientation--\" rel=\"nofollow noreferrer\">JList.getLayoutOrientation</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JList.html#setLayoutOrientation-int-\" rel=\"nofollow noreferrer\">JList.setLayoutOrientation</a> come to mind.)"},{"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"score":3,"creation_date":1446623842,"post_id":3852155,"comment_id":54814934,"body_markdown":"@VGR those are some useful counter-examples of where, yes, we might want some Javadoc. I&#39;d still say generally that most Javadoc of getters/setters is noise: auto-generated docs for mostly generated or trivial property getting/setting. Keep in mind the context here, too: Lombok is for generating getters/setters on simple property-style fields, and not where additional validating logic is applied.","body":"@VGR those are some useful counter-examples of where, yes, we might want some Javadoc. I&#39;d still say generally that most Javadoc of getters/setters is noise: auto-generated docs for mostly generated or trivial property getting/setting. Keep in mind the context here, too: Lombok is for generating getters/setters on simple property-style fields, and not where additional validating logic is applied."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1446645519,"post_id":3852155,"comment_id":54828580,"body_markdown":"@GaryF It&#39;s noise because developers are too lazy to document substantively.  Business objects, especially, need documentation.  I&#39;ve lost count of the number of bean classes I&#39;ve dealt with whose properties made no sense to anyone who didn&#39;t have months or years of domain-specific knowledge.  Most developers would document `getDate()` with javadoc that just says `Gets this object&#39;s date`, which might seem to support your argument, but really, the developer should have explained *what* the date is for.  (Date of submission?  Date of creation?  Date due?  Date of expiration?)","body":"@GaryF It&#39;s noise because developers are too lazy to document substantively.  Business objects, especially, need documentation.  I&#39;ve lost count of the number of bean classes I&#39;ve dealt with whose properties made no sense to anyone who didn&#39;t have months or years of domain-specific knowledge.  Most developers would document <code>getDate()</code> with javadoc that just says <code>Gets this object&#39;s date</code>, which might seem to support your argument, but really, the developer should have explained <i>what</i> the date is for.  (Date of submission?  Date of creation?  Date due?  Date of expiration?)"},{"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"score":24,"creation_date":1446799486,"post_id":3852155,"comment_id":54903508,"body_markdown":"@VGR I agree with what you&#39;re saying generally, but a better solution in that specific case is better naming, not comments. i.e. `getCreationDate`, `getDueDate`. Naming trumps comments where possible.","body":"@VGR I agree with what you&#39;re saying generally, but a better solution in that specific case is better naming, not comments. i.e. <code>getCreationDate</code>, <code>getDueDate</code>. Naming trumps comments where possible."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":11,"down_vote_count":7,"up_vote_count":195,"is_accepted":true,"score":188,"last_activity_date":1354712043,"creation_date":1286152442,"answer_id":3852155,"question_id":3852091,"body_markdown":"It sounds like you&#39;ve already decided that Project Lombok gives you significant technical advantages for your proposed new project.  (To be clear from the start, I have no particular views on Project Lombok, one way or the other.)\r\n\r\nBefore you use Project Lombok (or any other game-changing technology) in some project (open source or other wise), you need to make sure that the project stake holders agree to this.  This includes the developers, and any important users (e.g. formal or informal sponsors).\r\n\r\nYou mention these potential issues:\r\n\r\n&gt; Flamewars will erupt in the ##Java Freenode channel when I mention it,\r\n\r\nEasy.  Ignore / don&#39;t participate in the flamewars, or simply refrain from mentioning Lombok.\r\n\r\n&gt; providing code snippets will confuse possible helpers, \r\n\r\nIf the project strategy is to use Lombok, then the possible helpers will need to get used to it.\r\n\r\n&gt; people will complain about missing JavaDoc, \r\n\r\nThat is their problem.  Nobody in their right mind tries to rigidly apply their organization&#39;s source code / documentation rules to third-party open source software.  The project team should be free to set project source code / documentation standards that are appropriate to the technology being used.\r\n\r\n(**FOLLOWUP** - The Lombok developers recognize that not generating javadoc comments for synthesized getter and setter methods is an issue.  If this is a major problem for your project(s), then one alternative is to create and submit a Lombok patch to address this.) \r\n\r\n&gt; and future commiters might just remove it all anyway.\r\n\r\nThat&#39;s not on!  If the agreed project strategy is to use Lombok, then commiters who gratuitously de-Lombok the code should be chastised, and if necessary have their commit rights withdrawn.\r\n\r\nOf course, this assumes that you&#39;ve got buy-in from the stakeholders ... including the developers.  And it assumes that you are prepared to argue your cause, and appropriately handle the inevitable dissenting voices.","title":"Is it safe to use Project Lombok?","body":"<p>It sounds like you've already decided that Project Lombok gives you significant technical advantages for your proposed new project.  (To be clear from the start, I have no particular views on Project Lombok, one way or the other.)</p>\n\n<p>Before you use Project Lombok (or any other game-changing technology) in some project (open source or other wise), you need to make sure that the project stake holders agree to this.  This includes the developers, and any important users (e.g. formal or informal sponsors).</p>\n\n<p>You mention these potential issues:</p>\n\n<blockquote>\n  <p>Flamewars will erupt in the ##Java Freenode channel when I mention it,</p>\n</blockquote>\n\n<p>Easy.  Ignore / don't participate in the flamewars, or simply refrain from mentioning Lombok.</p>\n\n<blockquote>\n  <p>providing code snippets will confuse possible helpers, </p>\n</blockquote>\n\n<p>If the project strategy is to use Lombok, then the possible helpers will need to get used to it.</p>\n\n<blockquote>\n  <p>people will complain about missing JavaDoc, </p>\n</blockquote>\n\n<p>That is their problem.  Nobody in their right mind tries to rigidly apply their organization's source code / documentation rules to third-party open source software.  The project team should be free to set project source code / documentation standards that are appropriate to the technology being used.</p>\n\n<p>(<strong>FOLLOWUP</strong> - The Lombok developers recognize that not generating javadoc comments for synthesized getter and setter methods is an issue.  If this is a major problem for your project(s), then one alternative is to create and submit a Lombok patch to address this.) </p>\n\n<blockquote>\n  <p>and future commiters might just remove it all anyway.</p>\n</blockquote>\n\n<p>That's not on!  If the agreed project strategy is to use Lombok, then commiters who gratuitously de-Lombok the code should be chastised, and if necessary have their commit rights withdrawn.</p>\n\n<p>Of course, this assumes that you've got buy-in from the stakeholders ... including the developers.  And it assumes that you are prepared to argue your cause, and appropriately handle the inevitable dissenting voices.</p>\n"},{"comments":[{"owner":{"account_id":184855,"reputation":10523,"user_id":421162,"display_name":"Kerem Baydoğan"},"score":5,"creation_date":1400659271,"post_id":3853322,"comment_id":36565895,"body_markdown":"@fastcodejava when you say &quot;+1 for x&quot;, x should be one of the points listed not the one and only point :)","body":"@fastcodejava when you say &quot;+1 for x&quot;, x should be one of the points listed not the one and only point :)"},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":7,"creation_date":1423065142,"post_id":3853322,"comment_id":44998816,"body_markdown":"In this particular situation, I interpreted &quot;+1 for delombok&quot; as &quot;long live delombok&quot;. I like it.","body":"In this particular situation, I interpreted &quot;+1 for delombok&quot; as &quot;long live delombok&quot;. I like it."},{"owner":{"account_id":62540,"reputation":417,"user_id":185764,"accept_rate":90,"display_name":"fwonce"},"score":1,"creation_date":1485081445,"post_id":3853322,"comment_id":70768571,"body_markdown":"&quot;+1 for delombok&quot; - especially true when you want to use lombok in projects that will be provided to your clients. You can take all advantages of lombok and let your clients see a clean jar without lombok dependency.","body":"&quot;+1 for delombok&quot; - especially true when you want to use lombok in projects that will be provided to your clients. You can take all advantages of lombok and let your clients see a clean jar without lombok dependency."},{"owner":{"account_id":39195,"reputation":3455,"user_id":112934,"accept_rate":88,"display_name":"AJPerez"},"score":3,"creation_date":1566821157,"post_id":3853322,"comment_id":101764701,"body_markdown":"For people thinking &quot;ok, I&#39;ll give Lombok a try, and if I don&#39;t like it I&#39;ll just Delombok&quot;: think twice. Running Delombok is a painful process. And the resulting code will work like it did with Lombok... but it will also be a complete mess.","body":"For people thinking &quot;ok, I&#39;ll give Lombok a try, and if I don&#39;t like it I&#39;ll just Delombok&quot;: think twice. Running Delombok is a painful process. And the resulting code will work like it did with Lombok... but it will also be a complete mess."}],"tags":[],"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"comment_count":4,"down_vote_count":4,"up_vote_count":127,"is_accepted":false,"score":123,"last_activity_date":1286177081,"creation_date":1286177081,"answer_id":3853322,"question_id":3852091,"body_markdown":"Go ahead and use Lombok, you can if necessary &quot;delombok&quot; your code afterwards http://projectlombok.org/features/delombok.html","title":"Is it safe to use Project Lombok?","body":"<p>Go ahead and use Lombok, you can if necessary \"delombok\" your code afterwards <a href=\"http://projectlombok.org/features/delombok.html\">http://projectlombok.org/features/delombok.html</a></p>\n"},{"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":23,"creation_date":1286179985,"post_id":3853538,"comment_id":4096545,"body_markdown":"And to add to this: switching to Lombok has actually allowed to solve some intricate bugs in the past due to mismatched equals / hashCode implementations, and cases in which I forgot to update now-generated methods when a field was added. These potential benefits should be able to out balance most of the negatives you&#39;ve mentioned.","body":"And to add to this: switching to Lombok has actually allowed to solve some intricate bugs in the past due to mismatched equals / hashCode implementations, and cases in which I forgot to update now-generated methods when a field was added. These potential benefits should be able to out balance most of the negatives you&#39;ve mentioned."}],"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"comment_count":1,"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1286190870,"creation_date":1286179576,"answer_id":3853538,"question_id":3852091,"body_markdown":"Personally (and therefore subjectively) I&#39;ve found that using Lombok makes my code more expressive about what I&#39;m trying to achieve when compared to IDE/own implementations of intricate methods such as hashcode &amp; equals.\r\n\r\nWhen using \r\n\r\n\t@EqualsAndHashCode(callSuper = false, of = { &quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot; })\r\n\r\nit&#39;s much easier to keep Equals &amp; HashCode consistent and keep track of which fields are evaluated, than any IDE/own implementation. This is especially true when you&#39;re still adding / removing fields regularly.\r\n\r\nThe same goes for the `@ToString` annotation and its parameters which clearly communicate the desired behavior regarding included / excluded fields, usage of getters or field access and wether or not to call `super.toString()`.\r\n\r\nAnd again by annotating an entire class with `@Getter` or `@Setter(AccessLevel.NONE)` (and optionally overriding any divergent methods) it&#39;s immediately clear what methods will be available for the fields.\r\n\r\nThe benefits go on and on..\r\n\r\nIn my mind it&#39;s not about reducing code, but about clearly communicating what you desire to achieve, rather than having to figure it out from Javadoc or implementations. The reduced code just makes it easier to spot any divergent-method implementations.\r\n","title":"Is it safe to use Project Lombok?","body":"<p>Personally (and therefore subjectively) I've found that using Lombok makes my code more expressive about what I'm trying to achieve when compared to IDE/own implementations of intricate methods such as hashcode &amp; equals.</p>\n\n<p>When using </p>\n\n<pre><code>@EqualsAndHashCode(callSuper = false, of = { \"field1\", \"field2\", \"field3\" })\n</code></pre>\n\n<p>it's much easier to keep Equals &amp; HashCode consistent and keep track of which fields are evaluated, than any IDE/own implementation. This is especially true when you're still adding / removing fields regularly.</p>\n\n<p>The same goes for the <code>@ToString</code> annotation and its parameters which clearly communicate the desired behavior regarding included / excluded fields, usage of getters or field access and wether or not to call <code>super.toString()</code>.</p>\n\n<p>And again by annotating an entire class with <code>@Getter</code> or <code>@Setter(AccessLevel.NONE)</code> (and optionally overriding any divergent methods) it's immediately clear what methods will be available for the fields.</p>\n\n<p>The benefits go on and on..</p>\n\n<p>In my mind it's not about reducing code, but about clearly communicating what you desire to achieve, rather than having to figure it out from Javadoc or implementations. The reduced code just makes it easier to spot any divergent-method implementations.</p>\n"},{"tags":[],"owner":{"account_id":886682,"reputation":144,"user_id":925968,"display_name":"Dov Tsal S"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1314995945,"creation_date":1314995945,"answer_id":7288994,"question_id":3852091,"body_markdown":"When I showed the project to my team the enthusiasm was high, so I think you should not be afraid of team response.\r\n\r\n- As far as ROI, it is a snap to integrate, and requires no code change in its basic form. (just adding a single annotation to your class)\r\n\r\n- And last, if you change your mind, you can run the unlombok, or let your IDE create these setters, getters, and ctors, (which I think no one will ask for once they see how clear your pojo becomes)","title":"Is it safe to use Project Lombok?","body":"<p>When I showed the project to my team the enthusiasm was high, so I think you should not be afraid of team response.</p>\n\n<ul>\n<li><p>As far as ROI, it is a snap to integrate, and requires no code change in its basic form. (just adding a single annotation to your class)</p></li>\n<li><p>And last, if you change your mind, you can run the unlombok, or let your IDE create these setters, getters, and ctors, (which I think no one will ask for once they see how clear your pojo becomes)</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":29,"creation_date":1347293455,"post_id":11294204,"comment_id":16591237,"body_markdown":"can you elaborate on the headaches?","body":"can you elaborate on the headaches?"},{"owner":{"display_name":"user41871"},"score":2,"creation_date":1397674871,"post_id":11294204,"comment_id":35341004,"body_markdown":"The setup for Eclipse is extremely straightforward. Just &quot;java -jar lombok.jar&quot;.","body":"The setup for Eclipse is extremely straightforward. Just &quot;java -jar lombok.jar&quot;."},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":16,"creation_date":1404918386,"post_id":11294204,"comment_id":38223567,"body_markdown":"I think the hardest part of setting up a new developer is realizing that _you need_ to setup Lombok.  There&#39;s no message saying &quot;Lombok has not been setup&quot; or anything like that.  Instead you get weird messages like &quot;setFoo&quot; is not defined.  If Lombok education is not part of your new developer on-board training process, then there will be major confusion.","body":"I think the hardest part of setting up a new developer is realizing that <i>you need</i> to setup Lombok.  There&#39;s no message saying &quot;Lombok has not been setup&quot; or anything like that.  Instead you get weird messages like &quot;setFoo&quot; is not defined.  If Lombok education is not part of your new developer on-board training process, then there will be major confusion."},{"owner":{"account_id":1112584,"reputation":629,"user_id":1102761,"display_name":"jtonic"},"score":0,"creation_date":1481781002,"post_id":11294204,"comment_id":69515970,"body_markdown":"@Snekse. \nI don&#39;t know exactly which lombok plugin version introduced the intellij idea notification and suggestion (a red message and suggestion pops up in error log to urge the user to enable the annotation and even provided the link to the configuration section), but  Idea 2016.3 and 0.13.16 plugin version contains contains this useful support.","body":"@Snekse.  I don&#39;t know exactly which lombok plugin version introduced the intellij idea notification and suggestion (a red message and suggestion pops up in error log to urge the user to enable the annotation and even provided the link to the configuration section), but  Idea 2016.3 and 0.13.16 plugin version contains contains this useful support."},{"owner":{"account_id":1112584,"reputation":629,"user_id":1102761,"display_name":"jtonic"},"score":2,"creation_date":1481781665,"post_id":11294204,"comment_id":69516199,"body_markdown":"The lombok idea plugin (I use the version  0.13.16)  recently introduces the support to notify the user the annotation processor was not configured and also provide a link to the configuration settings section to enable the apt. \nPlease see the screenshot at.\nhttps://postimg.org/image/5tm2zzvkh/","body":"The lombok idea plugin (I use the version  0.13.16)  recently introduces the support to notify the user the annotation processor was not configured and also provide a link to the configuration settings section to enable the apt.  Please see the screenshot at. <a href=\"https://postimg.org/image/5tm2zzvkh/\" rel=\"nofollow noreferrer\">postimg.org/image/5tm2zzvkh</a>"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1481827747,"post_id":11294204,"comment_id":69542798,"body_markdown":"@jtonic Sorry, I mean in Eclipse.  I haven&#39;t used Eclipse or Lombok in 2+ years, so I&#39;m not even sure if it&#39;s an issue still.","body":"@jtonic Sorry, I mean in Eclipse.  I haven&#39;t used Eclipse or Lombok in 2+ years, so I&#39;m not even sure if it&#39;s an issue still."},{"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"score":0,"creation_date":1590833497,"post_id":11294204,"comment_id":109834191,"body_markdown":"Lombok setup (such `Enable annotation processing` can be documented, so new developers will not struggle when joining a project.","body":"Lombok setup (such <code>Enable annotation processing</code> can be documented, so new developers will not struggle when joining a project."}],"tags":[],"owner":{"account_id":349447,"reputation":326,"user_id":684751,"display_name":"vici"},"comment_count":7,"down_vote_count":5,"up_vote_count":21,"is_accepted":false,"score":16,"last_activity_date":1519196211,"creation_date":1341233975,"answer_id":11294204,"question_id":3852091,"body_markdown":"I have used Lombok in almost all my projects for one year but unfortunately removed it. In the beginning it was a very clean way of development but setting up the development environment for new team members is not very easy and straightforward. When it became a headache I just removed it. But it is a good work and needs some more simplicity to setting up.","title":"Is it safe to use Project Lombok?","body":"<p>I have used Lombok in almost all my projects for one year but unfortunately removed it. In the beginning it was a very clean way of development but setting up the development environment for new team members is not very easy and straightforward. When it became a headache I just removed it. But it is a good work and needs some more simplicity to setting up.</p>\n"},{"comments":[{"owner":{"account_id":22171,"reputation":1630,"user_id":54427,"accept_rate":94,"display_name":"chaostheory"},"score":62,"creation_date":1362102176,"post_id":12807937,"comment_id":21328965,"body_markdown":"Thanks I think this was the information the OP really wanted as opposed to a philosophical response.","body":"Thanks I think this was the information the OP really wanted as opposed to a philosophical response."},{"owner":{"account_id":281669,"reputation":506,"user_id":578101,"display_name":"mauhiz"},"score":16,"creation_date":1444210859,"post_id":12807937,"comment_id":53802371,"body_markdown":"`UPDATE 6` feels a lot like Scala :)","body":"<code>UPDATE 6</code> feels a lot like Scala :)"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":5,"creation_date":1444227985,"post_id":12807937,"comment_id":53814454,"body_markdown":"@mauhiz And Groovy.  If I ever had to work at a place where I couldn&#39;t use Groovy or Scala at least for testing, I&#39;d probably quit in a short amount of time.","body":"@mauhiz And Groovy.  If I ever had to work at a place where I couldn&#39;t use Groovy or Scala at least for testing, I&#39;d probably quit in a short amount of time."},{"owner":{"account_id":1602651,"reputation":1314,"user_id":1483412,"display_name":"severin.julien"},"score":1,"creation_date":1464323922,"post_id":12807937,"comment_id":62448069,"body_markdown":"I&#39;m going to forget about Lombrok. Nice review by the way :)","body":"I&#39;m going to forget about Lombrok. Nice review by the way :)"},{"owner":{"account_id":442995,"reputation":5799,"user_id":833960,"accept_rate":69,"display_name":"MattG"},"score":16,"creation_date":1469743345,"post_id":12807937,"comment_id":64677564,"body_markdown":"I really like your updates over time style response. Particularly for a question/response of this style it really helps.","body":"I really like your updates over time style response. Particularly for a question/response of this style it really helps."},{"owner":{"account_id":80069,"reputation":2177,"user_id":226642,"accept_rate":68,"display_name":"jfneis"},"score":1,"creation_date":1485431317,"post_id":12807937,"comment_id":70927137,"body_markdown":"Great work doing this! You just convinced me to add Lombok to our project! thanks, thanks, thanks!","body":"Great work doing this! You just convinced me to add Lombok to our project! thanks, thanks, thanks!"},{"owner":{"account_id":385056,"reputation":36653,"user_id":741970,"accept_rate":61,"display_name":"Dmitry Minkovsky"},"score":2,"creation_date":1485711368,"post_id":12807937,"comment_id":71028185,"body_markdown":"Top 25 answers on SO right here.","body":"Top 25 answers on SO right here."},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1506476325,"post_id":12807937,"comment_id":79833072,"body_markdown":"Thanks @sixtyfootersdude for the bounty! It was a nice gesture. https://stackoverflow.com/users/251589/sixtyfootersdude?tab=bounties&amp;sort=offered","body":"Thanks @sixtyfootersdude for the bounty! It was a nice gesture. <a href=\"https://stackoverflow.com/users/251589/sixtyfootersdude?tab=bounties&amp;sort=offered\">stackoverflow.com/users/251589/&hellip;</a>"},{"owner":{"account_id":2818703,"reputation":2420,"user_id":2423030,"accept_rate":80,"display_name":"Keyhan"},"score":2,"creation_date":1512978614,"post_id":12807937,"comment_id":82456919,"body_markdown":"Lombok project has a new beta release that seems fix most of the java 9 issues.","body":"Lombok project has a new beta release that seems fix most of the java 9 issues."},{"owner":{"account_id":135268,"reputation":3319,"user_id":6999882,"accept_rate":86,"display_name":"leventunver"},"score":4,"creation_date":1520160628,"post_id":12807937,"comment_id":85194169,"body_markdown":"It seems that Java 9 support is now available. You can update your answer.\n\nhttps://stackoverflow.com/questions/41520511/does-project-lombok-support-java-9","body":"It seems that Java 9 support is now available. You can update your answer.  <a href=\"https://stackoverflow.com/questions/41520511/does-project-lombok-support-java-9\" title=\"does project lombok support java 9\">stackoverflow.com/questions/41520511/&hellip;</a>"},{"owner":{"account_id":2088824,"reputation":1426,"user_id":1859100,"accept_rate":27,"display_name":"Vivek Panday"},"score":0,"creation_date":1520188757,"post_id":12807937,"comment_id":85203164,"body_markdown":"Very helpful very nicely written","body":"Very helpful very nicely written"},{"owner":{"account_id":26247,"reputation":33763,"user_id":68105,"accept_rate":69,"display_name":"MK."},"score":3,"creation_date":1522100347,"post_id":12807937,"comment_id":86006153,"body_markdown":"this reads like a novel.","body":"this reads like a novel."},{"owner":{"account_id":509384,"reputation":554,"user_id":2666055,"display_name":"MikeThomas"},"score":1,"creation_date":1532445881,"post_id":12807937,"comment_id":89973144,"body_markdown":"Thanks for the entertaining and informative answer.  I&#39;m coming back to Java from JavaScript and Kotlin, and Lombok is very tempting.  But I&#39;m writing code to eventually be taken over by others (I&#39;ll say no more) and it feels like a bridge too far in this particular case.","body":"Thanks for the entertaining and informative answer.  I&#39;m coming back to Java from JavaScript and Kotlin, and Lombok is very tempting.  But I&#39;m writing code to eventually be taken over by others (I&#39;ll say no more) and it feels like a bridge too far in this particular case."},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1532448408,"post_id":12807937,"comment_id":89974858,"body_markdown":"@MikeThomas I think my biggest hesitation would be the IDE integration.  It&#39;s not a straight &quot;Clone repo, run build tool&quot;.  Though it&#39;s pretty easily covered w/ a project README and a link to the Lombok docs which are pretty good.   And maybe a link to this SO answer :-)","body":"@MikeThomas I think my biggest hesitation would be the IDE integration.  It&#39;s not a straight &quot;Clone repo, run build tool&quot;.  Though it&#39;s pretty easily covered w/ a project README and a link to the Lombok docs which are pretty good.   And maybe a link to this SO answer :-)"},{"owner":{"account_id":2091109,"reputation":74136,"user_id":1860929,"accept_rate":100,"display_name":"Anshul Goyal"},"score":2,"creation_date":1536553850,"post_id":12807937,"comment_id":91449813,"body_markdown":"Nice answer! +1 for keeping answer up to date with various developments around Lombok.","body":"Nice answer! +1 for keeping answer up to date with various developments around Lombok."},{"owner":{"account_id":928280,"reputation":3199,"user_id":958616,"display_name":"raevilman"},"score":4,"creation_date":1545040839,"post_id":12807937,"comment_id":94473884,"body_markdown":"Best answer I&#39;ve read on SO so far +1","body":"Best answer I&#39;ve read on SO so far +1"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1561152998,"post_id":12807937,"comment_id":99984596,"body_markdown":"Really appreciate the timely response. One thing I would like to add is `Careful with ToString()` method, it will cause infinite recursion with Jackson and JPA relationships like `ManyToMany , OneToMany`. I typically use Lombok `@Getter,` `@Setter` annotations and implement `equals()` and `hashCode()` separately","body":"Really appreciate the timely response. One thing I would like to add is <code>Careful with ToString()</code> method, it will cause infinite recursion with Jackson and JPA relationships like <code>ManyToMany , OneToMany</code>. I typically use Lombok <code>@Getter,</code> <code>@Setter</code> annotations and implement <code>equals()</code> and <code>hashCode()</code> separately"},{"owner":{"account_id":3838953,"reputation":2411,"user_id":3182598,"display_name":"nomadSK25"},"score":0,"creation_date":1562583632,"post_id":12807937,"comment_id":100407447,"body_markdown":"this should be an accepted answer","body":"this should be an accepted answer"},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1568812981,"post_id":12807937,"comment_id":102394316,"body_markdown":"Very good answer, but I am missing one point: I think it is *unsafe* by using it inappropriate. Eg if you add a private member, you could expect it to really be private, but Lombok does generate getters and setters. And even worse, if you later add a private member to a Lombok-class it automatically is added to the equals and hashcode methods and could break your application. This would not happen, if coded manually. But as long you use Lombok for simple POJOs, it should be safe.","body":"Very good answer, but I am missing one point: I think it is <i>unsafe</i> by using it inappropriate. Eg if you add a private member, you could expect it to really be private, but Lombok does generate getters and setters. And even worse, if you later add a private member to a Lombok-class it automatically is added to the equals and hashcode methods and could break your application. This would not happen, if coded manually. But as long you use Lombok for simple POJOs, it should be safe."},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1568824098,"post_id":12807937,"comment_id":102400739,"body_markdown":"@Datz That&#39;s on the developer who adds that private member.  If you truly want it to be private, then you need to exclude it from those annotations. \n\nAnd if you decide for your project that it&#39;s not worth the risk, then your team can set the `lombok.data.flagUsage` props for the annotations you want to disallow and continue to use the other things that you find provide a benefit.","body":"@Datz That&#39;s on the developer who adds that private member.  If you truly want it to be private, then you need to exclude it from those annotations.   And if you decide for your project that it&#39;s not worth the risk, then your team can set the <code>lombok.data.flagUsage</code> props for the annotations you want to disallow and continue to use the other things that you find provide a benefit."},{"owner":{"account_id":9125029,"reputation":180,"user_id":6789123,"display_name":"Mayank Sharma"},"score":4,"creation_date":1611305677,"post_id":12807937,"comment_id":116413366,"body_markdown":"This is one of those Hall of Fame answers, should&#39;ve been the accepted answer. Thanks for your inputs!","body":"This is one of those Hall of Fame answers, should&#39;ve been the accepted answer. Thanks for your inputs!"},{"owner":{"account_id":12959354,"reputation":205,"user_id":9369080,"display_name":"Coder"},"score":0,"creation_date":1622842335,"post_id":12807937,"comment_id":119917104,"body_markdown":"Are there any alternatives to using @Data in my POJO java classes if I want to hide all the boilerplate code? Any others that are deemed secure/safe in latest versions of Java?","body":"Are there any alternatives to using @Data in my POJO java classes if I want to hide all the boilerplate code? Any others that are deemed secure/safe in latest versions of Java?"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1622944558,"post_id":12807937,"comment_id":119935786,"body_markdown":"@Coder Is your concern specifically about the `@Data` annotation, or Lombok in general?  If you just don&#39;t like the Data annotation, there is `@Value`, `@Builder`, and a couple of other annotations you could mix and match","body":"@Coder Is your concern specifically about the <code>@Data</code> annotation, or Lombok in general?  If you just don&#39;t like the Data annotation, there is <code>@Value</code>, <code>@Builder</code>, and a couple of other annotations you could mix and match"},{"owner":{"account_id":12959354,"reputation":205,"user_id":9369080,"display_name":"Coder"},"score":0,"creation_date":1623053978,"post_id":12807937,"comment_id":119958927,"body_markdown":"@Snekse just Lombok in general, I&#39;m told there are flaws with using Lombok in Gradle, so I&#39;m looking at alternatives","body":"@Snekse just Lombok in general, I&#39;m told there are flaws with using Lombok in Gradle, so I&#39;m looking at alternatives"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1623157370,"post_id":12807937,"comment_id":119992940,"body_markdown":"@Coder I am currently using Lombok _with_ Gradle.  I have never tried using Lombok _in_ Gradle.  If you were thinking of doing that, I&#39;d consider creating a plugin project that gets compiled to a jar that is used instead.  Then I can&#39;t see why you would run into a problem.","body":"@Coder I am currently using Lombok <i>with</i> Gradle.  I have never tried using Lombok <i>in</i> Gradle.  If you were thinking of doing that, I&#39;d consider creating a plugin project that gets compiled to a jar that is used instead.  Then I can&#39;t see why you would run into a problem."},{"owner":{"account_id":1384758,"reputation":23053,"user_id":1317018,"accept_rate":59,"display_name":"Mahesha999"},"score":1,"creation_date":1652304022,"post_id":12807937,"comment_id":127577305,"body_markdown":"Cant say enough thanks. Thank you for keeping us updated with your experiences ... Should the last three line paragraph can sum it up? ... I always felt that yet another convenience library is not great, especially if its from third party and that may lag to keep up with core (JDK) libraries updates. This might lead to unpatched vulnerabilities. This is something that Java or eclipse should develop or support &quot;officially&quot;.  Am I correct with this understanding?","body":"Cant say enough thanks. Thank you for keeping us updated with your experiences ... Should the last three line paragraph can sum it up? ... I always felt that yet another convenience library is not great, especially if its from third party and that may lag to keep up with core (JDK) libraries updates. This might lead to unpatched vulnerabilities. This is something that Java or eclipse should develop or support &quot;officially&quot;.  Am I correct with this understanding?"},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":1,"creation_date":1652305335,"post_id":12807937,"comment_id":127577618,"body_markdown":"@Mahesha999 I added a final update with my thoughts","body":"@Mahesha999 I added a final update with my thoughts"}],"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"comment_count":27,"down_vote_count":2,"up_vote_count":950,"is_accepted":false,"score":948,"last_activity_date":1652305310,"creation_date":1349814653,"answer_id":12807937,"question_id":3852091,"body_markdown":"**TL; DR:**\r\n\r\nYes, it&#39;s pretty safe to use and I&#39;d recommend using it. (May 2022)\r\n\r\n----------\r\n*Original Answer*\r\n\r\nJust started using Lombok today.  So far I like it, but one drawback I didn&#39;t see mentioned was refactoring support.\r\n\r\nIf you have a class annotated with `@Data`, it will generate the getters and setters for you based on the field names.  If you use one of those getters in another class, then decide the field is poorly named, it will not find usages of those getters and setters and replace the old name with the new name.  \r\n\r\nI would imagine this would have to be done via an IDE plug-in and not via Lombok.\r\n\r\n**UPDATE (Jan 22 &#39;13)**  \r\nAfter using Lombok for 3 months, I still recommend it for most projects.  I did, however, find another drawback that is similar to the one listed above.\r\n\r\nIf you have a class, say `MyCompoundObject.java` that has 2 members, both annotated with `@Delegate`, say `myWidgets` and `myGadgets`, when you call `myCompoundObject.getThingies()` from another class, it&#39;s impossible to know if it&#39;s delegating to the `Widget` or `Gadget` because you can no longer jump to source within the IDE.  \r\n\r\nUsing the Eclipse &quot;Generate Delegate Methods...&quot; provides you with the same functionality, is just as quick and provides source jumping.  The downside is it clutters your source with boilerplate code that take the focus off the important stuff.\r\n\r\n**UPDATE 2 (Feb 26 &#39;13)**  \r\nAfter 5 months, we&#39;re still using Lombok, but I have some other annoyances.  The lack of a declared getter &amp; setter can get annoying at times when you are trying to familiarize yourself with new code.  \r\n\r\nFor example, if I see a method called `getDynamicCols()` but I don&#39;t know what it&#39;s about, I have some extra hurdles to jump to determine the purpose of this method. Some of the hurdles are Lombok, some are the lack of a Lombok smart plugin.  Hurdles include: \r\n\r\n - Lack of JavaDocs. If I javadoc the field, I would hope the getter and setter would inherit that javadoc through the Lombok compilation step.\r\n - Jump to method definition jumps me to the class, but not the property that generated the getter. This is a plugin issue.\r\n - Obviously you are not able to set a breakpoint in a getter/setter unless you generate or code the method.\r\n - NOTE: This Reference Search is not an issue as I first thought it was.  You do need to be using a perspective that enables the Outline view though. Not a problem for most developers. My problem was I am using Mylyn which was filtering my `Outline` view, so I didn&#39;t see the methods.  _Lack of References search.  If I want to see who&#39;s calling `getDynamicCols(args...)`, I have to generate or code the setter to be able to search for references._ \r\n\r\n**UPDATE 3 (Mar 7 &#39;13)**  \r\nLearning to use the various ways of doing things in Eclipse I guess.  You can actually set a conditional breakpoint (BP) on a Lombok generated method.  Using the `Outline` view, you can right-click the method to `Toggle Method Breakpoint`.  Then when you hit the BP, you can use the debugging `Variables` view to see what the generated method named the parameters (usually the same as the field name) and finally, use the `Breakpoints` view to right-click the BP and select `Breakpoint Properties...` to add a condition.  Nice.\r\n\r\n**UPDATE 4 (Aug 16 &#39;13)**  \r\nNetbeans doesn&#39;t like it when you update your Lombok dependencies in your Maven pom.  The project still compiles, but files get flagged for having compilation errors because it can&#39;t see the methods Lombok is creating.  Clearing the Netbeans cache resolves the issue.  Not sure if there is a &quot;Clean Project&quot; option like there is in Eclipse.  Minor issue, but wanted to make it known.\r\n\r\n**UPDATE 5 (Jan 17 &#39;14)**  \r\nLombok doesn&#39;t always play nice with Groovy, or at least the `groovy-eclipse-compiler`.  You might have to downgrade your version of the compiler.\r\n[https://stackoverflow.com/questions/8524891/maven-groovy-and-java-lombok][1]\r\n\r\n**UPDATE 6 (Jun 26 &#39;14)**  \r\nA word of warning. Lombok is slightly addictive and if you work on a project where you can&#39;t use it for some reason, it will annoy the piss out of you.  You may be better off just never using it at all.\r\n\r\n**UPDATE 7 (Jul 23 &#39;14)**  \r\nThis is a bit of an interesting update because it directly addresses the _safety_ of adopting Lombok that the OP asked about.\r\n\r\nAs of v1.14, the `@Delegate` annotation has been demoted to an Experimental status. The details are documented on their site ([Lombok Delegate Docs][2]).\r\n\r\nThe thing is, if you were using this feature, your backout options are limited.  I see the options as:\r\n\r\n - Manually remove `@Delegate` annotations and generate/handcode the delegate code. This is a little harder if you were using attributes within the annotation.\r\n - Delombok the files that have the `@Delegate` annotation and maybe add back in the annotations that you do want.\r\n - Never update Lombok or maintain a fork (or live with using experiential features).\r\n - Delombok your entire project and stop using Lombok.\r\n\r\nAs far as I can tell, [Delombok doesn&#39;t have an option to remove a subset of annotations][3]; it&#39;s all or nothing at least for the context of a single file. I opened [a ticket to request this feature][4] with Delombok flags, but I wouldn&#39;t expect that in the near future.\r\n\r\n**UPDATE 8 (Oct 20 &#39;14)**  \r\nIf it&#39;s an option for you, Groovy offers most of the same benefits of Lombok, plus a boat load of other features, including [@Delegate][5].  If you think you&#39;ll have a hard time selling the idea to the powers that be, take a look at the `@CompileStatic` or `@TypeChecked` annotation to see if that can help your cause.  In fact, [the primary focus of the Groovy 2.0 release was static safety][6].\r\n\r\n**UPDATE 9 (Sep 1 &#39;15)**  \r\nLombok is still being [actively maintained and enhanced][7], which bodes well to the safety level of adoption.  The [@Builder][8] annotations is one of my favorite new features.\r\n\r\n**UPDATE 10 (Nov 17 &#39;15)**  \r\nThis may not seem directly related to the OP&#39;s question, but worth sharing.  If you&#39;re looking for tools to help you reduce the amount of boilerplate code you write, you can also check out [Google Auto][9] - in particular [AutoValue][10].  If you look at their [slide deck][11], the list Lombok as a possible solution to the problem they are trying to solve. The cons they list for Lombok are:\r\n\r\n - The inserted code is invisible (you can&#39;t &quot;see&quot; the the methods it generates) [ed note - actually you can, but it just requires a decompiler]\r\n - The compiler hacks are non-standard and fragile\r\n - &quot;In our view, your code is no longer really Java&quot;\r\n\r\nI&#39;m not sure how much I agree with their evaluation.  And given the cons of AutoValue that are documented in the slides, I&#39;ll be sticking with Lombok (if Groovy is not an option).\r\n\r\n**UPDATE 11 (Feb 8 &#39;16)**  \r\nI found out [Spring Roo][12] has some [similar annotations][13]. I was a little surprised to find out Roo is still a thing and finding documentation for the annotations is a bit rough.  Removal also doesn&#39;t look as easy as de-lombok.  Lombok seems like the safer choice. \r\n\r\n**UPDATE 12 (Feb 17 &#39;16)**  \r\nWhile trying to come up with justifications for why it&#39;s safe to bring in Lombok for the project I&#39;m currently working on, I found a piece of gold that was added with `v1.14` - The [Configuration System][14]!  This is means you can configure a project to dis-allow certain features that your team deems unsafe or undesirable.  Better yet, it can also create directory specific config with different settings.  This is AWESOME.\r\n\r\n**UPDATE 13 (Oct 4 &#39;16)**  \r\nIf this kind of thing matters to you, [Oliver Gierke][15] felt it was safe to [add Lombok to Spring Data Rest][16].\r\n\r\n**UPDATE 14 (Sep 26 &#39;17)**  \r\nAs pointed out by [@gavenkoa][17] in the comments on the OPs question, [JDK9 compiler support isn&#39;t yet available][18] (Issue #985). It also sounds like it&#39;s not going to be an easy fix for the Lombok team to get around.\r\n\r\n**UPDATE 15 (Mar 26 &#39;18)**  \r\nThe Lombok changelog indicates as of v1.16.20 &quot;[Compiling lombok on JDK1.9 is now possible][19]&quot; even though [#985][18] is still open.\r\n\r\nChanges to accommodate JDK9, however, necessitated some breaking changes; all isolated to changes in config defaults.  It&#39;s a little concerning that they introduced breaking changes, but the version only bumped the &quot;Incremental&quot; version number (going from v1.16.18 to v1.16.20). Since this post was about the safety, if you had a `yarn/npm` like build system that automatically upgraded to the latest incremental version, you might be in for a rude awakening.\r\n\r\n**UPDATE 16 (Jan 9 &#39;19)**  \r\n\r\nIt seems [the JDK9 issues have been resolved][19] and Lombok works with JDK10, and even JDK11 as far as I can tell. \r\n\r\nOne thing I noticed though that was concerning from a safety aspect is the fact that the change log going from v1.18.2 to v1.18.4 lists two items as `BREAKING CHANGE`!?  I&#39;m not sure how a breaking change happens in a semver &quot;patch&quot; update. Could be an issue if you use a tool that auto-updates patch versions. \r\n\r\n**UPDATE 17 (Mar 17 &#39;21)**  \r\n\r\nThere is some drama unfolding between the Lombok developers and an OpenJDK developer around JDK 16.  [The JDK developers argue][20] that Lombok is taking advantage of unpublished JDK internals via loopholes the JDK team would like to close, but have intentionally left open for various reasons. \r\n\r\n[They have stated their concern][21] (about the safety of Lombok) as such:\r\n\r\n&gt; All access to internals will remain available as before, provided that\r\n&gt; the client application explicitly allows it, acknowledging that it is\r\n&gt; knowingly taking on any maintenance (or security) issue this might\r\n&gt; entail.\r\n&gt; \r\n&gt; While Lombok might think they&#39;re deceiving OpenJDK, all they&#39;re doing\r\n&gt; is announcing that it is their intention to deceive their own users.\r\n\r\nThere may come a day soon where Lombok will not be able to find any more creative solutions around the JDK&#39;s security restrictions.  Even if they do, the safety of using Lombok in your project may be in question.\r\n\r\n**UPDATE 18 (May 11 &#39;22)** \r\n\r\nA recent comment asked for a summary, so I put that at the top.\r\n\r\nThe short answer is it&#39;s perfectly safe to use and I&#39;d highly recommend using it if we&#39;re writing Java code.\r\n\r\nGiven that support for JDK 17 has been out for awhile and was released less than a month after the JDK was officially released, the safety of Lombok sticking around is high.  And you can always de-lombok if you need to.\r\n\r\nAs a consultant, I get to see how a lot of different companies write code.  Every client I&#39;ve had for the past 5 years has used Lombok. These have all been Fortune 1000 companies. It speeds development and makes it less error prone. \r\n\r\nThat said, you still need to keep up on the latest features of the JDK. Consider using the Java `record` keyword to make your objects immutable instead of some Lombok feature.  Use Lombok where it makes sense.  Use the Lombok config options to prevent usage of it in ways you don&#39;t agree with.\r\n\r\nSo unless something major happens, this will probably be my last update to this answer.  Thanks for all the votes. I&#39;m glad it helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8524891/maven-groovy-and-java-lombok\r\n  [2]: http://projectlombok.org/features/experimental/Delegate.html &quot;Delegate Docs&quot;\r\n  [3]: https://github.com/rzwitserloot/lombok/blob/master/src/delombok/lombok/delombok/Delombok.java\r\n  [4]: https://code.google.com/p/projectlombok/issues/detail?id=711\r\n  [5]: http://groovy.codehaus.org/Delegate+transformation\r\n  [6]: http://docs.codehaus.org/display/GROOVY/Groovy+2.0+release+notes#Groovy2.0releasenotes-A%E2%80%9Cstatictheme%E2%80%9Dforadynamiclanguage\r\n  [7]: https://projectlombok.org/changelog.html\r\n  [8]: https://projectlombok.org/features/Builder.html\r\n  [9]: https://github.com/google/auto\r\n  [10]: https://github.com/google/auto/tree/master/value\r\n  [11]: https://docs.google.com/presentation/d/14u_h-lMn7f1rXE1nDiLX0azS3IkgjGl5uxp5jGJ75RE/edit#slide=id.g2a5e9c4a8_0104\r\n  [12]: http://projects.spring.io/spring-roo/\r\n  [13]: https://stackoverflow.com/search?q=RooEquals\r\n  [14]: https://projectlombok.org/features/configuration.html\r\n  [15]: https://stackoverflow.com/users/18122/oliver-gierke\r\n  [16]: https://github.com/spring-projects/spring-data-rest/blame/897bc88d6922e755038a6a8e34ca25ace6a27689/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/alps/RootResourceInformationToAlpsDescriptorConverter.java#L20\r\n  [17]: https://stackoverflow.com/users/173149/gavenkoa\r\n  [18]: https://github.com/rzwitserloot/lombok/issues/985\r\n  [19]: https://projectlombok.org/changelog\r\n  [20]: https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-791452056\r\n  [21]: https://www.reddit.com/r/java/comments/m66r8w/is_lombok_in_danger_of_becoming_incompatible_with/gr49s1h?utm_medium=web2x&amp;context=3","title":"Is it safe to use Project Lombok?","body":"<p><strong>TL; DR:</strong></p>\n<p>Yes, it's pretty safe to use and I'd recommend using it. (May 2022)</p>\n<hr />\n<p><em>Original Answer</em></p>\n<p>Just started using Lombok today.  So far I like it, but one drawback I didn't see mentioned was refactoring support.</p>\n<p>If you have a class annotated with <code>@Data</code>, it will generate the getters and setters for you based on the field names.  If you use one of those getters in another class, then decide the field is poorly named, it will not find usages of those getters and setters and replace the old name with the new name.</p>\n<p>I would imagine this would have to be done via an IDE plug-in and not via Lombok.</p>\n<p><strong>UPDATE (Jan 22 '13)</strong><br />\nAfter using Lombok for 3 months, I still recommend it for most projects.  I did, however, find another drawback that is similar to the one listed above.</p>\n<p>If you have a class, say <code>MyCompoundObject.java</code> that has 2 members, both annotated with <code>@Delegate</code>, say <code>myWidgets</code> and <code>myGadgets</code>, when you call <code>myCompoundObject.getThingies()</code> from another class, it's impossible to know if it's delegating to the <code>Widget</code> or <code>Gadget</code> because you can no longer jump to source within the IDE.</p>\n<p>Using the Eclipse &quot;Generate Delegate Methods...&quot; provides you with the same functionality, is just as quick and provides source jumping.  The downside is it clutters your source with boilerplate code that take the focus off the important stuff.</p>\n<p><strong>UPDATE 2 (Feb 26 '13)</strong><br />\nAfter 5 months, we're still using Lombok, but I have some other annoyances.  The lack of a declared getter &amp; setter can get annoying at times when you are trying to familiarize yourself with new code.</p>\n<p>For example, if I see a method called <code>getDynamicCols()</code> but I don't know what it's about, I have some extra hurdles to jump to determine the purpose of this method. Some of the hurdles are Lombok, some are the lack of a Lombok smart plugin.  Hurdles include:</p>\n<ul>\n<li>Lack of JavaDocs. If I javadoc the field, I would hope the getter and setter would inherit that javadoc through the Lombok compilation step.</li>\n<li>Jump to method definition jumps me to the class, but not the property that generated the getter. This is a plugin issue.</li>\n<li>Obviously you are not able to set a breakpoint in a getter/setter unless you generate or code the method.</li>\n<li>NOTE: This Reference Search is not an issue as I first thought it was.  You do need to be using a perspective that enables the Outline view though. Not a problem for most developers. My problem was I am using Mylyn which was filtering my <code>Outline</code> view, so I didn't see the methods.  <em>Lack of References search.  If I want to see who's calling <code>getDynamicCols(args...)</code>, I have to generate or code the setter to be able to search for references.</em></li>\n</ul>\n<p><strong>UPDATE 3 (Mar 7 '13)</strong><br />\nLearning to use the various ways of doing things in Eclipse I guess.  You can actually set a conditional breakpoint (BP) on a Lombok generated method.  Using the <code>Outline</code> view, you can right-click the method to <code>Toggle Method Breakpoint</code>.  Then when you hit the BP, you can use the debugging <code>Variables</code> view to see what the generated method named the parameters (usually the same as the field name) and finally, use the <code>Breakpoints</code> view to right-click the BP and select <code>Breakpoint Properties...</code> to add a condition.  Nice.</p>\n<p><strong>UPDATE 4 (Aug 16 '13)</strong><br />\nNetbeans doesn't like it when you update your Lombok dependencies in your Maven pom.  The project still compiles, but files get flagged for having compilation errors because it can't see the methods Lombok is creating.  Clearing the Netbeans cache resolves the issue.  Not sure if there is a &quot;Clean Project&quot; option like there is in Eclipse.  Minor issue, but wanted to make it known.</p>\n<p><strong>UPDATE 5 (Jan 17 '14)</strong><br />\nLombok doesn't always play nice with Groovy, or at least the <code>groovy-eclipse-compiler</code>.  You might have to downgrade your version of the compiler.\n<a href=\"https://stackoverflow.com/questions/8524891/maven-groovy-and-java-lombok\">Maven Groovy and Java + Lombok</a></p>\n<p><strong>UPDATE 6 (Jun 26 '14)</strong><br />\nA word of warning. Lombok is slightly addictive and if you work on a project where you can't use it for some reason, it will annoy the piss out of you.  You may be better off just never using it at all.</p>\n<p><strong>UPDATE 7 (Jul 23 '14)</strong><br />\nThis is a bit of an interesting update because it directly addresses the <em>safety</em> of adopting Lombok that the OP asked about.</p>\n<p>As of v1.14, the <code>@Delegate</code> annotation has been demoted to an Experimental status. The details are documented on their site (<a href=\"http://projectlombok.org/features/experimental/Delegate.html\" rel=\"noreferrer\" title=\"Delegate Docs\">Lombok Delegate Docs</a>).</p>\n<p>The thing is, if you were using this feature, your backout options are limited.  I see the options as:</p>\n<ul>\n<li>Manually remove <code>@Delegate</code> annotations and generate/handcode the delegate code. This is a little harder if you were using attributes within the annotation.</li>\n<li>Delombok the files that have the <code>@Delegate</code> annotation and maybe add back in the annotations that you do want.</li>\n<li>Never update Lombok or maintain a fork (or live with using experiential features).</li>\n<li>Delombok your entire project and stop using Lombok.</li>\n</ul>\n<p>As far as I can tell, <a href=\"https://github.com/rzwitserloot/lombok/blob/master/src/delombok/lombok/delombok/Delombok.java\" rel=\"noreferrer\">Delombok doesn't have an option to remove a subset of annotations</a>; it's all or nothing at least for the context of a single file. I opened <a href=\"https://code.google.com/p/projectlombok/issues/detail?id=711\" rel=\"noreferrer\">a ticket to request this feature</a> with Delombok flags, but I wouldn't expect that in the near future.</p>\n<p><strong>UPDATE 8 (Oct 20 '14)</strong><br />\nIf it's an option for you, Groovy offers most of the same benefits of Lombok, plus a boat load of other features, including <a href=\"http://groovy.codehaus.org/Delegate+transformation\" rel=\"noreferrer\">@Delegate</a>.  If you think you'll have a hard time selling the idea to the powers that be, take a look at the <code>@CompileStatic</code> or <code>@TypeChecked</code> annotation to see if that can help your cause.  In fact, <a href=\"http://docs.codehaus.org/display/GROOVY/Groovy+2.0+release+notes#Groovy2.0releasenotes-A%E2%80%9Cstatictheme%E2%80%9Dforadynamiclanguage\" rel=\"noreferrer\">the primary focus of the Groovy 2.0 release was static safety</a>.</p>\n<p><strong>UPDATE 9 (Sep 1 '15)</strong><br />\nLombok is still being <a href=\"https://projectlombok.org/changelog.html\" rel=\"noreferrer\">actively maintained and enhanced</a>, which bodes well to the safety level of adoption.  The <a href=\"https://projectlombok.org/features/Builder.html\" rel=\"noreferrer\">@Builder</a> annotations is one of my favorite new features.</p>\n<p><strong>UPDATE 10 (Nov 17 '15)</strong><br />\nThis may not seem directly related to the OP's question, but worth sharing.  If you're looking for tools to help you reduce the amount of boilerplate code you write, you can also check out <a href=\"https://github.com/google/auto\" rel=\"noreferrer\">Google Auto</a> - in particular <a href=\"https://github.com/google/auto/tree/master/value\" rel=\"noreferrer\">AutoValue</a>.  If you look at their <a href=\"https://docs.google.com/presentation/d/14u_h-lMn7f1rXE1nDiLX0azS3IkgjGl5uxp5jGJ75RE/edit#slide=id.g2a5e9c4a8_0104\" rel=\"noreferrer\">slide deck</a>, the list Lombok as a possible solution to the problem they are trying to solve. The cons they list for Lombok are:</p>\n<ul>\n<li>The inserted code is invisible (you can't &quot;see&quot; the the methods it generates) [ed note - actually you can, but it just requires a decompiler]</li>\n<li>The compiler hacks are non-standard and fragile</li>\n<li>&quot;In our view, your code is no longer really Java&quot;</li>\n</ul>\n<p>I'm not sure how much I agree with their evaluation.  And given the cons of AutoValue that are documented in the slides, I'll be sticking with Lombok (if Groovy is not an option).</p>\n<p><strong>UPDATE 11 (Feb 8 '16)</strong><br />\nI found out <a href=\"http://projects.spring.io/spring-roo/\" rel=\"noreferrer\">Spring Roo</a> has some <a href=\"https://stackoverflow.com/search?q=RooEquals\">similar annotations</a>. I was a little surprised to find out Roo is still a thing and finding documentation for the annotations is a bit rough.  Removal also doesn't look as easy as de-lombok.  Lombok seems like the safer choice.</p>\n<p><strong>UPDATE 12 (Feb 17 '16)</strong><br />\nWhile trying to come up with justifications for why it's safe to bring in Lombok for the project I'm currently working on, I found a piece of gold that was added with <code>v1.14</code> - The <a href=\"https://projectlombok.org/features/configuration.html\" rel=\"noreferrer\">Configuration System</a>!  This is means you can configure a project to dis-allow certain features that your team deems unsafe or undesirable.  Better yet, it can also create directory specific config with different settings.  This is AWESOME.</p>\n<p><strong>UPDATE 13 (Oct 4 '16)</strong><br />\nIf this kind of thing matters to you, <a href=\"https://stackoverflow.com/users/18122/oliver-gierke\">Oliver Gierke</a> felt it was safe to <a href=\"https://github.com/spring-projects/spring-data-rest/blame/897bc88d6922e755038a6a8e34ca25ace6a27689/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/alps/RootResourceInformationToAlpsDescriptorConverter.java#L20\" rel=\"noreferrer\">add Lombok to Spring Data Rest</a>.</p>\n<p><strong>UPDATE 14 (Sep 26 '17)</strong><br />\nAs pointed out by <a href=\"https://stackoverflow.com/users/173149/gavenkoa\">@gavenkoa</a> in the comments on the OPs question, <a href=\"https://github.com/rzwitserloot/lombok/issues/985\" rel=\"noreferrer\">JDK9 compiler support isn't yet available</a> (Issue #985). It also sounds like it's not going to be an easy fix for the Lombok team to get around.</p>\n<p><strong>UPDATE 15 (Mar 26 '18)</strong><br />\nThe Lombok changelog indicates as of v1.16.20 &quot;<a href=\"https://projectlombok.org/changelog\" rel=\"noreferrer\">Compiling lombok on JDK1.9 is now possible</a>&quot; even though <a href=\"https://github.com/rzwitserloot/lombok/issues/985\" rel=\"noreferrer\">#985</a> is still open.</p>\n<p>Changes to accommodate JDK9, however, necessitated some breaking changes; all isolated to changes in config defaults.  It's a little concerning that they introduced breaking changes, but the version only bumped the &quot;Incremental&quot; version number (going from v1.16.18 to v1.16.20). Since this post was about the safety, if you had a <code>yarn/npm</code> like build system that automatically upgraded to the latest incremental version, you might be in for a rude awakening.</p>\n<p><strong>UPDATE 16 (Jan 9 '19)</strong></p>\n<p>It seems <a href=\"https://projectlombok.org/changelog\" rel=\"noreferrer\">the JDK9 issues have been resolved</a> and Lombok works with JDK10, and even JDK11 as far as I can tell.</p>\n<p>One thing I noticed though that was concerning from a safety aspect is the fact that the change log going from v1.18.2 to v1.18.4 lists two items as <code>BREAKING CHANGE</code>!?  I'm not sure how a breaking change happens in a semver &quot;patch&quot; update. Could be an issue if you use a tool that auto-updates patch versions.</p>\n<p><strong>UPDATE 17 (Mar 17 '21)</strong></p>\n<p>There is some drama unfolding between the Lombok developers and an OpenJDK developer around JDK 16.  <a href=\"https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-791452056\" rel=\"noreferrer\">The JDK developers argue</a> that Lombok is taking advantage of unpublished JDK internals via loopholes the JDK team would like to close, but have intentionally left open for various reasons.</p>\n<p><a href=\"https://www.reddit.com/r/java/comments/m66r8w/is_lombok_in_danger_of_becoming_incompatible_with/gr49s1h?utm_medium=web2x&amp;context=3\" rel=\"noreferrer\">They have stated their concern</a> (about the safety of Lombok) as such:</p>\n<blockquote>\n<p>All access to internals will remain available as before, provided that\nthe client application explicitly allows it, acknowledging that it is\nknowingly taking on any maintenance (or security) issue this might\nentail.</p>\n<p>While Lombok might think they're deceiving OpenJDK, all they're doing\nis announcing that it is their intention to deceive their own users.</p>\n</blockquote>\n<p>There may come a day soon where Lombok will not be able to find any more creative solutions around the JDK's security restrictions.  Even if they do, the safety of using Lombok in your project may be in question.</p>\n<p><strong>UPDATE 18 (May 11 '22)</strong></p>\n<p>A recent comment asked for a summary, so I put that at the top.</p>\n<p>The short answer is it's perfectly safe to use and I'd highly recommend using it if we're writing Java code.</p>\n<p>Given that support for JDK 17 has been out for awhile and was released less than a month after the JDK was officially released, the safety of Lombok sticking around is high.  And you can always de-lombok if you need to.</p>\n<p>As a consultant, I get to see how a lot of different companies write code.  Every client I've had for the past 5 years has used Lombok. These have all been Fortune 1000 companies. It speeds development and makes it less error prone.</p>\n<p>That said, you still need to keep up on the latest features of the JDK. Consider using the Java <code>record</code> keyword to make your objects immutable instead of some Lombok feature.  Use Lombok where it makes sense.  Use the Lombok config options to prevent usage of it in ways you don't agree with.</p>\n<p>So unless something major happens, this will probably be my last update to this answer.  Thanks for all the votes. I'm glad it helps.</p>\n"},{"comments":[{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1377728803,"post_id":18280625,"comment_id":27198597,"body_markdown":"I like Scala and Lombok, but I can&#39;t see which ideas are you talking about. \\@SneakyThrows, \\@Data, ...?","body":"I like Scala and Lombok, but I can&#39;t see which ideas are you talking about. \\@SneakyThrows, \\@Data, ...?"},{"owner":{"account_id":1988170,"reputation":2527,"user_id":1782868,"accept_rate":100,"display_name":"sorencito"},"score":2,"creation_date":1377757856,"post_id":18280625,"comment_id":27205741,"body_markdown":"@sinuhepop Generating getters and setters looks like Case Classes. The immutable-feature is Scala inherent and enriching APIs about your own methods is a built in Scala feature, too.","body":"@sinuhepop Generating getters and setters looks like Case Classes. The immutable-feature is Scala inherent and enriching APIs about your own methods is a built in Scala feature, too."},{"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"score":5,"creation_date":1525255023,"post_id":18280625,"comment_id":87281401,"body_markdown":"try Kotlin, too","body":"try Kotlin, too"}],"tags":[],"owner":{"account_id":1988170,"reputation":2527,"user_id":1782868,"accept_rate":100,"display_name":"sorencito"},"comment_count":3,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1376680807,"creation_date":1376680807,"answer_id":18280625,"question_id":3852091,"body_markdown":"I know I&#39;m late, but I can&#39;t resist the temptation: anybody liking Lombok should also have a look at Scala. Many good ideas that you find in Lombok are part of the Scala language.\r\n\r\nOn your question: it&#39;s definitely easier to get your developers trying Lombok than Scala. Give it a try and if they like it, try Scala.\r\n\r\nJust as a disclaimer: I like Java, too!","title":"Is it safe to use Project Lombok?","body":"<p>I know I'm late, but I can't resist the temptation: anybody liking Lombok should also have a look at Scala. Many good ideas that you find in Lombok are part of the Scala language.</p>\n\n<p>On your question: it's definitely easier to get your developers trying Lombok than Scala. Give it a try and if they like it, try Scala.</p>\n\n<p>Just as a disclaimer: I like Java, too!</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1521823390,"creation_date":1386568651,"answer_id":20464082,"question_id":3852091,"body_markdown":"Wanted to use lombok&#39;s `@ToString` but soon faced random compile errors on project rebuild in Intellij IDEA. Had to hit compile several times before incremental compilation could complete with success.\n\nTried both lombok 1.12.2 and 0.9.3 with Intellij IDEA 12.1.6 and 13.0 without any lombok plugin under jdk 1.6.0_39 and 1.6.0_45.\n\nHad to manually copy generated methods from delomboked source and put lombok on hold until better times.\n\n**Update**\n\nThe problem happens only with parallel compile enabled.\n\nFiled an issue:\nhttps://github.com/rzwitserloot/lombok/issues/648\n\n**Update**\n\n&gt; mplushnikov commented on 30 Jan 2016: \n&gt;\n&gt; Newer version of Intellij\n&gt; doesn&#39;t have such issues anymore. I think it can be closed here.\n\n**Update**\n\nI would highly recommend to switch from Java+Lombok to [Kotlin][1] if possible.\nAs it has resolved from the ground up all Java issues that Lombok tries to work around.\n\n\n  [1]: https://kotlinlang.org/","title":"Is it safe to use Project Lombok?","body":"<p>Wanted to use lombok's <code>@ToString</code> but soon faced random compile errors on project rebuild in Intellij IDEA. Had to hit compile several times before incremental compilation could complete with success.</p>\n<p>Tried both lombok 1.12.2 and 0.9.3 with Intellij IDEA 12.1.6 and 13.0 without any lombok plugin under jdk 1.6.0_39 and 1.6.0_45.</p>\n<p>Had to manually copy generated methods from delomboked source and put lombok on hold until better times.</p>\n<p><strong>Update</strong></p>\n<p>The problem happens only with parallel compile enabled.</p>\n<p>Filed an issue:\n<a href=\"https://github.com/rzwitserloot/lombok/issues/648\" rel=\"noreferrer\">https://github.com/rzwitserloot/lombok/issues/648</a></p>\n<p><strong>Update</strong></p>\n<blockquote>\n<p>mplushnikov commented on 30 Jan 2016:</p>\n<p>Newer version of Intellij\ndoesn't have such issues anymore. I think it can be closed here.</p>\n</blockquote>\n<p><strong>Update</strong></p>\n<p>I would highly recommend to switch from Java+Lombok to <a href=\"https://kotlinlang.org/\" rel=\"noreferrer\">Kotlin</a> if possible.\nAs it has resolved from the ground up all Java issues that Lombok tries to work around.</p>\n"},{"comments":[{"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"score":1,"creation_date":1445310054,"post_id":23366066,"comment_id":54258892,"body_markdown":"Just for the record, that issue was migrated to https://github.com/rzwitserloot/lombok/issues/524","body":"Just for the record, that issue was migrated to <a href=\"https://github.com/rzwitserloot/lombok/issues/524\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/524</a>"},{"owner":{"account_id":43300,"reputation":9257,"user_id":126529,"accept_rate":54,"display_name":"Alexey"},"score":1,"creation_date":1468065392,"post_id":23366066,"comment_id":63981673,"body_markdown":"I don&#39;t have any problems with lombok on Java 8","body":"I don&#39;t have any problems with lombok on Java 8"},{"owner":{"account_id":5720276,"reputation":304,"user_id":4518912,"display_name":"kevenlolo"},"score":1,"creation_date":1527558610,"post_id":23366066,"comment_id":88159789,"body_markdown":"I was working with lombok for months now and it works well with Java 8.  The project that I am working is already using lombok for years and no problems encountered so far.","body":"I was working with lombok for months now and it works well with Java 8.  The project that I am working is already using lombok for years and no problems encountered so far."}],"tags":[],"owner":{"account_id":1751424,"reputation":105,"user_id":1600428,"display_name":"ChrisA"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1398778071,"creation_date":1398778071,"answer_id":23366066,"question_id":3852091,"body_markdown":"I haven&#39;t tried using Lombok yet - it is/was next on my list, but it sounds as if Java 8 has caused significant problems for it, and remedial work was still in progress as of a week ago.  My source for that is https://code.google.com/p/projectlombok/issues/detail?id=451 .  \r\n","title":"Is it safe to use Project Lombok?","body":"<p>I haven't tried using Lombok yet - it is/was next on my list, but it sounds as if Java 8 has caused significant problems for it, and remedial work was still in progress as of a week ago.  My source for that is <a href=\"https://code.google.com/p/projectlombok/issues/detail?id=451\" rel=\"nofollow\">https://code.google.com/p/projectlombok/issues/detail?id=451</a> .  </p>\n"},{"tags":[],"owner":{"account_id":2775552,"reputation":1028,"user_id":2389207,"accept_rate":24,"display_name":"gokan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1457016587,"creation_date":1457016587,"answer_id":35775371,"question_id":3852091,"body_markdown":"I have encountered a problem with **Lombok** and **Jackson CSV**, when I marshalized my object (java bean) to a CSV file, columns where duplicated, then I removed Lombok&#39;s @Data annotation and marshalizing worked fine. ","title":"Is it safe to use Project Lombok?","body":"<p>I have encountered a problem with <strong>Lombok</strong> and <strong>Jackson CSV</strong>, when I marshalized my object (java bean) to a CSV file, columns where duplicated, then I removed Lombok's @Data annotation and marshalizing worked fine. </p>\n"},{"comments":[{"owner":{"account_id":1836585,"reputation":578,"user_id":1666844,"display_name":"vladich"},"score":8,"creation_date":1487361322,"post_id":37596394,"comment_id":71767533,"body_markdown":"Well, in case you can&#39;t use Lombok anymore, just run delombok and continue development without it.","body":"Well, in case you can&#39;t use Lombok anymore, just run delombok and continue development without it."},{"owner":{"account_id":449078,"reputation":1338,"user_id":843660,"display_name":"dskrvk"},"score":3,"creation_date":1517429803,"post_id":37596394,"comment_id":84097460,"body_markdown":"This is like learning to drive wearing glasses and then losing them before the driving test. If your team is used to working with Lombok&#39;ed code and is suddenly forced to change their process due to a breaking change, that&#39;s going to have a huge impact on ongoing projects. Is it not better to avoid this risk altogether and use a framework that doesn&#39;t rely on undocumented features or a language like Scala that provides the same features out of the box?","body":"This is like learning to drive wearing glasses and then losing them before the driving test. If your team is used to working with Lombok&#39;ed code and is suddenly forced to change their process due to a breaking change, that&#39;s going to have a huge impact on ongoing projects. Is it not better to avoid this risk altogether and use a framework that doesn&#39;t rely on undocumented features or a language like Scala that provides the same features out of the box?"}],"tags":[],"owner":{"account_id":449078,"reputation":1338,"user_id":843660,"display_name":"dskrvk"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1464882045,"creation_date":1464882045,"answer_id":37596394,"question_id":3852091,"body_markdown":"There are long-term maintenance risks as well. First, I&#39;d recommend reading about how Lombok actually works, e.g. some answers from its developers [here](https://stackoverflow.com/questions/6107197/how-does-lombok-work).\r\n\r\nThe official site also contains a [list of downsides](http://jnb.ociweb.com/jnb/jnbJan2010.html#costbenefit), including this quote from Reinier Zwitserloot:\r\n\r\n&gt; It&#39;s a total hack. Using non-public API. Presumptuous casting (knowing\r\n&gt; that an annotation processor running in javac will get an instance of\r\n&gt; JavacAnnotationProcessor, which is the internal implementation of\r\n&gt; AnnotationProcessor (an interface), which so happens to have a couple\r\n&gt; of extra methods that are used to get at the live AST).\r\n&gt; \r\n&gt; On eclipse, it&#39;s arguably worse (and yet more robust) - a java agent\r\n&gt; is used to inject code into the eclipse grammar and parser class,\r\n&gt; which is of course entirely non-public API and totally off limits.\r\n&gt; \r\n&gt; If you could do what lombok does with standard API, I would have done\r\n&gt; it that way, but you can&#39;t. Still, for what its worth, I developed the\r\n&gt; eclipse plugin for eclipse v3.5 running on java 1.6, and without\r\n&gt; making any changes it worked on eclipse v3.4 running on java 1.5 as\r\n&gt; well, so it&#39;s not completely fragile.\r\n\r\nAs a summary, while Lombok may save you some development time, if there is a non-backwards compatible javac update (e.g. a vulnerability mitigation) Lombok might get you stuck with an old version of Java while the developers scramble to update their usage of those internal APIs. Whether this is a serious risk obviously depends on the project.","title":"Is it safe to use Project Lombok?","body":"<p>There are long-term maintenance risks as well. First, I'd recommend reading about how Lombok actually works, e.g. some answers from its developers <a href=\"https://stackoverflow.com/questions/6107197/how-does-lombok-work\">here</a>.</p>\n\n<p>The official site also contains a <a href=\"http://jnb.ociweb.com/jnb/jnbJan2010.html#costbenefit\" rel=\"noreferrer\">list of downsides</a>, including this quote from Reinier Zwitserloot:</p>\n\n<blockquote>\n  <p>It's a total hack. Using non-public API. Presumptuous casting (knowing\n  that an annotation processor running in javac will get an instance of\n  JavacAnnotationProcessor, which is the internal implementation of\n  AnnotationProcessor (an interface), which so happens to have a couple\n  of extra methods that are used to get at the live AST).</p>\n  \n  <p>On eclipse, it's arguably worse (and yet more robust) - a java agent\n  is used to inject code into the eclipse grammar and parser class,\n  which is of course entirely non-public API and totally off limits.</p>\n  \n  <p>If you could do what lombok does with standard API, I would have done\n  it that way, but you can't. Still, for what its worth, I developed the\n  eclipse plugin for eclipse v3.5 running on java 1.6, and without\n  making any changes it worked on eclipse v3.4 running on java 1.5 as\n  well, so it's not completely fragile.</p>\n</blockquote>\n\n<p>As a summary, while Lombok may save you some development time, if there is a non-backwards compatible javac update (e.g. a vulnerability mitigation) Lombok might get you stuck with an old version of Java while the developers scramble to update their usage of those internal APIs. Whether this is a serious risk obviously depends on the project.</p>\n"},{"tags":[],"owner":{"account_id":2172319,"reputation":1248,"user_id":1923959,"accept_rate":50,"display_name":"twentylemon"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1699423775,"creation_date":1469377503,"answer_id":38554197,"question_id":3852091,"body_markdown":"Lombok is great, but...\r\n\r\nLombok breaks the rules of annotation processing, in that it doesn&#39;t generate new source files. This means it can&#39;t be used with other annotation processors if they expect the getters/setters or whatever else to exist.\r\n\r\nAnnotation processing runs in a series of rounds. In each round, each one gets a turn to run. If any new java files are found after the round is completed, another round begins. In this way, the order of annotation processors doesn&#39;t matter if they only generate new files. Since lombok doesn&#39;t generate any new files, no new rounds are started so some AP that relies on lombok code don&#39;t run as expected. This was a huge source of pain for me while using mapstruct, and delombok-ing isn&#39;t a useful option since it destroys your line numbers in logs.\r\n\r\nI eventually hacked a build script to work with both lombok and mapstruct. But I want to drop lombok due to how hacky it is -- in this project at least. I use lombok all the time in other stuff.\r\nUpdate to specifically mapstruct+lombok: the two libraries work out of the box with each other nowadays. The problem will still exist for other annotation processors though.","title":"Is it safe to use Project Lombok?","body":"<p>Lombok is great, but...</p>\n<p>Lombok breaks the rules of annotation processing, in that it doesn't generate new source files. This means it can't be used with other annotation processors if they expect the getters/setters or whatever else to exist.</p>\n<p>Annotation processing runs in a series of rounds. In each round, each one gets a turn to run. If any new java files are found after the round is completed, another round begins. In this way, the order of annotation processors doesn't matter if they only generate new files. Since lombok doesn't generate any new files, no new rounds are started so some AP that relies on lombok code don't run as expected. This was a huge source of pain for me while using mapstruct, and delombok-ing isn't a useful option since it destroys your line numbers in logs.</p>\n<p>I eventually hacked a build script to work with both lombok and mapstruct. But I want to drop lombok due to how hacky it is -- in this project at least. I use lombok all the time in other stuff.\nUpdate to specifically mapstruct+lombok: the two libraries work out of the box with each other nowadays. The problem will still exist for other annotation processors though.</p>\n"},{"comments":[{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":1,"creation_date":1547160671,"post_id":48899032,"comment_id":95107623,"body_markdown":"One counter argument to this would be - what if someone used IDE to build all the boilderplate of a POJO, but then later one of the getters/setters was renamed or removed.  The class is no longer a strict POJO, but this must be inferred from careful inspection of all the methods of the class.  I find that lombok annotations at least avoid this and make the business logic of my classes much more salient.  All of your points are valid; however, just wanted to offer this thought.  And lombok takes this further with @Data/@Value/@Utility/@Builder","body":"One counter argument to this would be - what if someone used IDE to build all the boilderplate of a POJO, but then later one of the getters/setters was renamed or removed.  The class is no longer a strict POJO, but this must be inferred from careful inspection of all the methods of the class.  I find that lombok annotations at least avoid this and make the business logic of my classes much more salient.  All of your points are valid; however, just wanted to offer this thought.  And lombok takes this further with @Data/@Value/@Utility/@Builder"}],"tags":[],"owner":{"account_id":8466234,"reputation":1271,"user_id":6350321,"display_name":"Sanjeev Sachdev"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1519227012,"creation_date":1519192695,"answer_id":48899032,"question_id":3852091,"body_markdown":"My take on Lombok is that it merely provides shortcuts for writing bolilerplate Java code.&lt;BR&gt; \r\nWhen it comes to using shortcuts for writing bolilerplate Java code, I would rely on such features provided by IDE -- like in Eclipse, we can go to menu Source &gt; Generate Getters and Setters for generating getters and setters.&lt;BR&gt;\r\nI would not rely on a library like Lombok for this:\r\n\r\n 1. It pollutes your code with an indirection layer of alternative syntax (read `@Getter`, `@Setter`, etc. annotations). Rather than learning an alternative syntax for Java, I would switch to any other language that natively provides Lombok like syntax.\r\n 2. Lombok requires the use of a Lombok supported IDE to work with your code. This dependency introduces a considerable risk for any non-trivial project. Does the open source Lombok project have enough resources to keep providing support for different versions of a wide range of Java IDE&#39;s available?\r\n 3. Does the open source Lombok project have enough resources to keep providing support for newer versions of Java that will be coming in future?\r\n 4. I also feel nervous that Lombok may introduce compatibility issues with widely used frameworks/libraries (like Spring, Hibernate, Jackson, JUnit, Mockito) that work with your byte code at runtime.\r\n\r\nAll in all I would not prefer to &quot;spice up&quot; my Java with Lombok.\r\n\r\n ","title":"Is it safe to use Project Lombok?","body":"<p>My take on Lombok is that it merely provides shortcuts for writing bolilerplate Java code.<BR> \nWhen it comes to using shortcuts for writing bolilerplate Java code, I would rely on such features provided by IDE -- like in Eclipse, we can go to menu Source > Generate Getters and Setters for generating getters and setters.<BR>\nI would not rely on a library like Lombok for this:</p>\n\n<ol>\n<li>It pollutes your code with an indirection layer of alternative syntax (read <code>@Getter</code>, <code>@Setter</code>, etc. annotations). Rather than learning an alternative syntax for Java, I would switch to any other language that natively provides Lombok like syntax.</li>\n<li>Lombok requires the use of a Lombok supported IDE to work with your code. This dependency introduces a considerable risk for any non-trivial project. Does the open source Lombok project have enough resources to keep providing support for different versions of a wide range of Java IDE's available?</li>\n<li>Does the open source Lombok project have enough resources to keep providing support for newer versions of Java that will be coming in future?</li>\n<li>I also feel nervous that Lombok may introduce compatibility issues with widely used frameworks/libraries (like Spring, Hibernate, Jackson, JUnit, Mockito) that work with your byte code at runtime.</li>\n</ol>\n\n<p>All in all I would not prefer to \"spice up\" my Java with Lombok.</p>\n"},{"comments":[{"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"score":13,"creation_date":1525254940,"post_id":49453946,"comment_id":87281338,"body_markdown":"I&#39;d say go for Kotlin or stay with plain Java. You may spend more time going around Lombok issues than you save by not typing the java code.","body":"I&#39;d say go for Kotlin or stay with plain Java. You may spend more time going around Lombok issues than you save by not typing the java code."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":3,"creation_date":1580922709,"post_id":49453946,"comment_id":106260004,"body_markdown":"Whoever hates Java only because of the verbosity is his fault for not making his code less verbose...","body":"Whoever hates Java only because of the verbosity is his fault for not making his code less verbose..."}],"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1580126798,"creation_date":1521821286,"answer_id":49453946,"question_id":3852091,"body_markdown":"I read some opinions about the Lombok and actually I&#39;m using it in some projects.\r\n\r\nWell, in the first contact with Lombok I had a bad impression. After some weeks, I started to like it. But after some months I figure out a lot of tiny problems using it. So, my final impression about Lombok is not so positive.\r\n\r\nMy reasons to think in this way:\r\n\r\n - **IDE plugin dependency**. The IDE support for Lombok is through plugins. Even working good in most part of the time, you are always a hostage from this plugins to be maintained in the future releases of the IDEs and [even the language version][1] (Java 10+ will accelerate the development of the language). For example, I tried to update from Intellij IDEA 2017.3 to 2018.1 and I couldn&#39;t do that because there was some problem on the actual lombok plugin version and I needed to wait the plugin be updated... This also is a problem if you would like to use a more alternative IDE that don&#39;t have any Lombok plugin support.\r\n - **&#39;Find usages&#39; problem.**. Using Lombok you don&#39;t see the generated getter, setter, constructor, builder methods and etc. So, if you are planning to find out where these methods are being used in your project by your IDE, you can&#39;t do this only looking for the class that owns this hidden methods.\r\n - **So easy that the developers don&#39;t care to break the encapsulation**. I know that it&#39;s not really a problem from Lombok. But I saw a bigger tendency from the developers to not control anymore what methods needs to be visible or not. So, many times they are just copying and pasting `@Getter @Setter @Builder @AllArgsConstructor @NoArgsConstructor` annotations block without thinking what methods the class really need to be exposed.\r\n - **Builder Obssession** &#169;. I invented this name (get off, Martin Fowler). Jokes apart, a Builder is so easy to create that even when a class have only two parameters the developers prefer to use `@Builder` instead of constructor or a static constructor method. Sometimes they even try to create a Builder inside the lombok Builder, creating weird situations like `MyClass.builder().name(&quot;Name&quot;).build().create()`.\r\n - **Barriers when refactoring**. If you are using, for example, a `@AllArgsConstructor` and need to add one more parameter on the constructor, the IDE can&#39;t help you to add this extra parameter in all places (mostly, tests) that are instantiating the class.\r\n - **Mixing Lombok with concrete methods**. You can&#39;t use Lombok in all scenarios to create a getter/setter/etc. So, you will see these two approaches mixed in your code. You get used to this after some time, but feels like a hack on the language.\r\n\r\nLike another answer said, if you are angry about the Java verbosity and use Lombok to deal with it, try Kotlin.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/53866929/2387977","title":"Is it safe to use Project Lombok?","body":"<p>I read some opinions about the Lombok and actually I'm using it in some projects.</p>\n\n<p>Well, in the first contact with Lombok I had a bad impression. After some weeks, I started to like it. But after some months I figure out a lot of tiny problems using it. So, my final impression about Lombok is not so positive.</p>\n\n<p>My reasons to think in this way:</p>\n\n<ul>\n<li><strong>IDE plugin dependency</strong>. The IDE support for Lombok is through plugins. Even working good in most part of the time, you are always a hostage from this plugins to be maintained in the future releases of the IDEs and <a href=\"https://stackoverflow.com/q/53866929/2387977\">even the language version</a> (Java 10+ will accelerate the development of the language). For example, I tried to update from Intellij IDEA 2017.3 to 2018.1 and I couldn't do that because there was some problem on the actual lombok plugin version and I needed to wait the plugin be updated... This also is a problem if you would like to use a more alternative IDE that don't have any Lombok plugin support.</li>\n<li><strong>'Find usages' problem.</strong>. Using Lombok you don't see the generated getter, setter, constructor, builder methods and etc. So, if you are planning to find out where these methods are being used in your project by your IDE, you can't do this only looking for the class that owns this hidden methods.</li>\n<li><strong>So easy that the developers don't care to break the encapsulation</strong>. I know that it's not really a problem from Lombok. But I saw a bigger tendency from the developers to not control anymore what methods needs to be visible or not. So, many times they are just copying and pasting <code>@Getter @Setter @Builder @AllArgsConstructor @NoArgsConstructor</code> annotations block without thinking what methods the class really need to be exposed.</li>\n<li><strong>Builder Obssession</strong> ©. I invented this name (get off, Martin Fowler). Jokes apart, a Builder is so easy to create that even when a class have only two parameters the developers prefer to use <code>@Builder</code> instead of constructor or a static constructor method. Sometimes they even try to create a Builder inside the lombok Builder, creating weird situations like <code>MyClass.builder().name(\"Name\").build().create()</code>.</li>\n<li><strong>Barriers when refactoring</strong>. If you are using, for example, a <code>@AllArgsConstructor</code> and need to add one more parameter on the constructor, the IDE can't help you to add this extra parameter in all places (mostly, tests) that are instantiating the class.</li>\n<li><strong>Mixing Lombok with concrete methods</strong>. You can't use Lombok in all scenarios to create a getter/setter/etc. So, you will see these two approaches mixed in your code. You get used to this after some time, but feels like a hack on the language.</li>\n</ul>\n\n<p>Like another answer said, if you are angry about the Java verbosity and use Lombok to deal with it, try Kotlin.</p>\n"}],"owner":{"account_id":137942,"reputation":14900,"user_id":342518,"accept_rate":89,"display_name":"TheLQ"},"comment_count":3,"delete_vote_count":7,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156786,"favorite_count":0,"down_vote_count":3,"up_vote_count":473,"closed_date":1522823872,"accepted_answer_id":3852155,"answer_count":14,"score":470,"last_activity_date":1699423775,"creation_date":1286151018,"question_id":3852091,"body_markdown":"In case you don&#39;t know [Project Lombok][1] helps with some of the annoyances of Java with stuff like [generating getters and setters with annotations][2] and even [simple JavaBean like generation with @Data][3]. It could really help me, especially in 50 different event objects where you have up to 7 different fields that need to be constructed and hidden with getters. I could remove almost a thousand lines of code with this.\r\n\r\nHowever, I&#39;m worried that in the long run, it will be a regretful decision. Flamewars will erupt in the `##Java Freenode` channel when I mention it, providing code snippets will confuse possible helpers, [people will complain about missing JavaDoc][4], and future commiters might just remove it all anyway. I would really enjoy the positive, but I&#39;m worried about the negative. \r\n\r\nSo: Is it safe to use Lombok on any project, small or large? Are the positive effects worth the negatives?\r\n\r\n\r\n  [1]: http://projectlombok.org\r\n  [2]: http://projectlombok.org/features/GetterSetter.html\r\n  [3]: http://projectlombok.org/features/Data.html\r\n  [4]: http://groups.google.com/group/project-lombok/browse_thread/thread/9beea685c5e85529?tvc=2","title":"Is it safe to use Project Lombok?","body":"<p>In case you don't know <a href=\"http://projectlombok.org\" rel=\"noreferrer\">Project Lombok</a> helps with some of the annoyances of Java with stuff like <a href=\"http://projectlombok.org/features/GetterSetter.html\" rel=\"noreferrer\">generating getters and setters with annotations</a> and even <a href=\"http://projectlombok.org/features/Data.html\" rel=\"noreferrer\">simple JavaBean like generation with @Data</a>. It could really help me, especially in 50 different event objects where you have up to 7 different fields that need to be constructed and hidden with getters. I could remove almost a thousand lines of code with this.</p>\n\n<p>However, I'm worried that in the long run, it will be a regretful decision. Flamewars will erupt in the <code>##Java Freenode</code> channel when I mention it, providing code snippets will confuse possible helpers, <a href=\"http://groups.google.com/group/project-lombok/browse_thread/thread/9beea685c5e85529?tvc=2\" rel=\"noreferrer\">people will complain about missing JavaDoc</a>, and future commiters might just remove it all anyway. I would really enjoy the positive, but I'm worried about the negative. </p>\n\n<p>So: Is it safe to use Lombok on any project, small or large? Are the positive effects worth the negatives?</p>\n"},{"tags":["java","crystal-reports","htmlunit","headless-browser","opendocument"],"answers":[{"tags":[],"owner":{"account_id":29834231,"reputation":39,"user_id":22863970,"display_name":"happyDayJeffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699407351,"creation_date":1699407287,"answer_id":77442368,"question_id":77442129,"body_markdown":"I don&#39;t know the exactly meaning of getPage(), get a list of DOM which you can query of modify? or get the PDF document data? Different result decides different ways to handle it.\r\n\r\nIf I have the problem like yours, I will do that:\r\n\r\n1.Find the final path through repeatedly redirecting.\r\n\r\n2.Use Http tools to call the path with correct request method. \r\n\r\n3.Get the data from http body(maybe Blog, JSON ,etc).\r\n\r\n4.Convert the data to PDF file by some opensource library like Apache PDFBox ,etc.\r\n\r\nThen you get what you want.","title":"How to auto submit forms using Java headless browser HtmlUnit","body":"<p>I don't know the exactly meaning of getPage(), get a list of DOM which you can query of modify? or get the PDF document data? Different result decides different ways to handle it.</p>\n<p>If I have the problem like yours, I will do that:</p>\n<p>1.Find the final path through repeatedly redirecting.</p>\n<p>2.Use Http tools to call the path with correct request method.</p>\n<p>3.Get the data from http body(maybe Blog, JSON ,etc).</p>\n<p>4.Convert the data to PDF file by some opensource library like Apache PDFBox ,etc.</p>\n<p>Then you get what you want.</p>\n"},{"comments":[{"owner":{"account_id":5210789,"reputation":79,"user_id":4167296,"display_name":"Munny"},"score":0,"creation_date":1699465452,"post_id":77443165,"comment_id":136536175,"body_markdown":"yes you are right, The downloadable pdf opened in a new window, once I got all the windows from webclient and I see the pdf content in one of the window. Thank you :-)","body":"yes you are right, The downloadable pdf opened in a new window, once I got all the windows from webclient and I see the pdf content in one of the window. Thank you :-)"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1699466640,"post_id":77443165,"comment_id":136536374,"body_markdown":"Your welcome....","body":"Your welcome...."}],"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699423765,"creation_date":1699423765,"answer_id":77443165,"question_id":77442129,"body_markdown":"There might be several reasons for all that. One is the way the redirect is done - by HttpHeader or by js magic. Both is supported but if the redirect is done by js sometimes a bit more code is required.\r\n\r\nAnd second, the browser handling of non-html responses is looking easy if you are a real person in front of your real browsers but for headless browsers the handling is not that simple (see https://www.htmlunit.org/filedownload-howto.html for details how HtmlUnit tries to do that).\r\n\r\nWhat you can do:\r\n\r\nAt first try to understand what page you reach with your current code / check the page type HtmlPage or UnexpectedPage. If you got an HtmlPage use asXml() to get an idea what you really got and try to understand how browsers moving on from there.\r\n\r\nNext thing to check is the number of windows you got - maybe the download opens a new window containing the content (again see https://www.htmlunit.org/filedownload-howto.html). You can ask the webClient for the list of windows and check before/after.\r\n\r\nAnd finally feel free to open an issue at github and i will try to help with more details.","title":"How to auto submit forms using Java headless browser HtmlUnit","body":"<p>There might be several reasons for all that. One is the way the redirect is done - by HttpHeader or by js magic. Both is supported but if the redirect is done by js sometimes a bit more code is required.</p>\n<p>And second, the browser handling of non-html responses is looking easy if you are a real person in front of your real browsers but for headless browsers the handling is not that simple (see <a href=\"https://www.htmlunit.org/filedownload-howto.html\" rel=\"nofollow noreferrer\">https://www.htmlunit.org/filedownload-howto.html</a> for details how HtmlUnit tries to do that).</p>\n<p>What you can do:</p>\n<p>At first try to understand what page you reach with your current code / check the page type HtmlPage or UnexpectedPage. If you got an HtmlPage use asXml() to get an idea what you really got and try to understand how browsers moving on from there.</p>\n<p>Next thing to check is the number of windows you got - maybe the download opens a new window containing the content (again see <a href=\"https://www.htmlunit.org/filedownload-howto.html\" rel=\"nofollow noreferrer\">https://www.htmlunit.org/filedownload-howto.html</a>). You can ask the webClient for the list of windows and check before/after.</p>\n<p>And finally feel free to open an issue at github and i will try to help with more details.</p>\n"}],"owner":{"account_id":5210789,"reputation":79,"user_id":4167296,"display_name":"Munny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77443165,"answer_count":2,"score":0,"last_activity_date":1699423765,"creation_date":1699401467,"question_id":77442129,"body_markdown":"I&#39;m quite new to HtmlUnit but what I&#39;m trying to do here is as follows\r\n\r\nwe have a crystal server where we need to call to fetch reports\r\n\r\nwe are using Restful APIs that are exposed from crystal server to fetch reports\r\n\r\nIn this process of fetching document crustal don&#39;t have a Direct API to fetch the reports\r\n\r\nSo we got a final link from one of the API endpoint and by opening that link in the regular browser it loads the pdf document after roughly three different redirects \r\n\r\nso I&#39;m trying to achieve this browser behavior inside java using HtmlUnit library \r\n\r\n```\r\ntry (final WebClient webClient = new WebClient()) {\r\n\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\twebClient.getOptions().setRedirectEnabled(true);\r\n\thtmlPage = webClient.getPage(linkString);\r\n}\r\n```\r\n\r\nhere until this I&#39;m getting to second redirect but not to the document itself.\r\n\r\nany suggestions on how to archive final page which is document?\r\n\r\nDo I need the capture the end result and perform the third call again using new webclient or is there any easy way to achieve the end page","title":"How to auto submit forms using Java headless browser HtmlUnit","body":"<p>I'm quite new to HtmlUnit but what I'm trying to do here is as follows</p>\n<p>we have a crystal server where we need to call to fetch reports</p>\n<p>we are using Restful APIs that are exposed from crystal server to fetch reports</p>\n<p>In this process of fetching document crustal don't have a Direct API to fetch the reports</p>\n<p>So we got a final link from one of the API endpoint and by opening that link in the regular browser it loads the pdf document after roughly three different redirects</p>\n<p>so I'm trying to achieve this browser behavior inside java using HtmlUnit library</p>\n<pre><code>try (final WebClient webClient = new WebClient()) {\n    webClient.getOptions().setJavaScriptEnabled(true);\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\n    webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n    webClient.getOptions().setRedirectEnabled(true);\n    htmlPage = webClient.getPage(linkString);\n}\n</code></pre>\n<p>here until this I'm getting to second redirect but not to the document itself.</p>\n<p>any suggestions on how to archive final page which is document?</p>\n<p>Do I need the capture the end result and perform the third call again using new webclient or is there any easy way to achieve the end page</p>\n"},{"tags":["java","binary"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1493561761,"post_id":43706904,"comment_id":74458816,"body_markdown":"Possible duplicate of [how to combine 2 string using or operator?](http://stackoverflow.com/questions/43658281/how-to-combine-2-string-using-or-operator) (I know with that title it sounds crazy, but take a look at [my answer there](http://stackoverflow.com/a/43658944/5772882)).","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/43658281/how-to-combine-2-string-using-or-operator\">how to combine 2 string using or operator?</a> (I know with that title it sounds crazy, but take a look at <a href=\"http://stackoverflow.com/a/43658944/5772882\">my answer there</a>)."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1493559848,"creation_date":1493559848,"answer_id":43707078,"question_id":43706904,"body_markdown":"&gt; *its suppose to be **010010***.... \r\n\r\nnot really, integer type have made up from 32 bits, so it *should* be:\r\n\r\n***000000000000000000000000010010***, java is not going to print that information, left zeros are in this case not relevant for the magnitude of that number..\r\n\r\n\r\nso you need to append the leading zeros by yourself, since that method is returning a string you can format that:\r\n\r\n    String.format(&quot;%32s&quot;, Integer.toBinaryString(18)).replace(&#39; &#39;, &#39;0&#39;)\r\nor in your case using 6 bits\r\n\r\n    String.format(&quot;%6s&quot;, Integer.toBinaryString(18)).replace(&#39; &#39;, &#39;0&#39;)\r\n","title":"Integer to BinaryString removes leading zero in Java","body":"<blockquote>\n  <p><em>its suppose to be <strong>010010</em></strong>.... </p>\n</blockquote>\n\n<p>not really, integer type have made up from 32 bits, so it <em>should</em> be:</p>\n\n<p><strong><em>000000000000000000000000010010</em></strong>, java is not going to print that information, left zeros are in this case not relevant for the magnitude of that number..</p>\n\n<p>so you need to append the leading zeros by yourself, since that method is returning a string you can format that:</p>\n\n<pre><code>String.format(\"%32s\", Integer.toBinaryString(18)).replace(' ', '0')\n</code></pre>\n\n<p>or in your case using 6 bits</p>\n\n<pre><code>String.format(\"%6s\", Integer.toBinaryString(18)).replace(' ', '0')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493560009,"creation_date":1493560009,"answer_id":43707105,"question_id":43706904,"body_markdown":"From the documentation:\r\n\r\n&gt; This value is converted to a string of ASCII digits in binary (base 2) with no extra leading 0s\r\n\r\nSo no, you aren&#39;t doing something wrong. To get your desired output, you&#39;ll need to write a small method yourself. One way would be to prepare a string with zeros with the length of your desired output, substring it and append the value.\r\nLike\r\n\r\n    private String getBinaryString6Bit(int n) {\r\n        String binaryNoLeadingZero = Integer.toBinaryString(n);\r\n        return &quot;000000&quot;\r\n                .substring(binaryNoLeadingZero.length())\r\n                + binaryNoLeadingZero;\r\n    }","title":"Integer to BinaryString removes leading zero in Java","body":"<p>From the documentation:</p>\n\n<blockquote>\n  <p>This value is converted to a string of ASCII digits in binary (base 2) with no extra leading 0s</p>\n</blockquote>\n\n<p>So no, you aren't doing something wrong. To get your desired output, you'll need to write a small method yourself. One way would be to prepare a string with zeros with the length of your desired output, substring it and append the value.\nLike</p>\n\n<pre><code>private String getBinaryString6Bit(int n) {\n    String binaryNoLeadingZero = Integer.toBinaryString(n);\n    return \"000000\"\n            .substring(binaryNoLeadingZero.length())\n            + binaryNoLeadingZero;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29852174,"reputation":1,"user_id":22877783,"display_name":"Jayden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699423728,"creation_date":1699423617,"answer_id":77443156,"question_id":43706904,"body_markdown":"if you would like to add the leading zeros you can make a new string that puts zeros in the front the add the old string with binary at the end to get the leading zeros a example would look like this:\r\n\r\n    String binaryString = &quot;&quot;;\r\n    int n = 126;\r\n    binaryString = Integer.toBinaryString(n);\r\n    String finalBinary = &quot;&quot;;\r\n    for(int i = binaryString.length(); i &lt; 8; i++) {\r\n          finalBinary += &quot;0&quot;;\r\n        }\r\n    finalBinary += binaryString;\r\n    System.out.println(finalBinary);\r\n\r\nThis code will take 126 transfer it into binary then add any leading zeros that are missing which in this case would only be 1 leading zero.","title":"Integer to BinaryString removes leading zero in Java","body":"<p>if you would like to add the leading zeros you can make a new string that puts zeros in the front the add the old string with binary at the end to get the leading zeros a example would look like this:</p>\n<pre><code>String binaryString = &quot;&quot;;\nint n = 126;\nbinaryString = Integer.toBinaryString(n);\nString finalBinary = &quot;&quot;;\nfor(int i = binaryString.length(); i &lt; 8; i++) {\n      finalBinary += &quot;0&quot;;\n    }\nfinalBinary += binaryString;\nSystem.out.println(finalBinary);\n</code></pre>\n<p>This code will take 126 transfer it into binary then add any leading zeros that are missing which in this case would only be 1 leading zero.</p>\n"}],"owner":{"account_id":9110826,"reputation":815,"user_id":6779637,"accept_rate":100,"display_name":"JackSlayer94"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6243,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43707078,"answer_count":3,"score":4,"last_activity_date":1699423728,"creation_date":1493558811,"question_id":43706904,"body_markdown":"I wanted to convert an integer to binary string. I opted to use the native function that java allows `Integer.toBinaryString(n)`. But unfortunately, this trims the leading zero from my output. Lets say for example, I give the input as `18`, it gives me output of `10010` but the actual output is supposed to be `010010`. Is there a better/short-way to convert int to string than writing a user defined function? Or am I doing something wrong here?\r\n\r\n    int n = scan.nextInt();\r\n    System.out.println(Integer.toBinaryString(n));","title":"Integer to BinaryString removes leading zero in Java","body":"<p>I wanted to convert an integer to binary string. I opted to use the native function that java allows <code>Integer.toBinaryString(n)</code>. But unfortunately, this trims the leading zero from my output. Lets say for example, I give the input as <code>18</code>, it gives me output of <code>10010</code> but the actual output is supposed to be <code>010010</code>. Is there a better/short-way to convert int to string than writing a user defined function? Or am I doing something wrong here?</p>\n\n<pre><code>int n = scan.nextInt();\nSystem.out.println(Integer.toBinaryString(n));\n</code></pre>\n"},{"tags":["java","maven","wildfly","netbeans-12"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":2,"creation_date":1621986162,"post_id":67693002,"comment_id":119658362,"body_markdown":"Given the error message it looks like you&#39;re writing an invalid character to the cookie. What are you writing to the cookie?","body":"Given the error message it looks like you&#39;re writing an invalid character to the cookie. What are you writing to the cookie?"},{"owner":{"account_id":21719002,"reputation":9,"user_id":16029568,"display_name":"MakoMario"},"score":0,"creation_date":1622036902,"post_id":67693002,"comment_id":119674444,"body_markdown":"sorry, i&#39;m new to this, its part of an university project. Never used WildFly before, i mostly used tomcat.\nanyways, what do you mean by that? where can i check this? I&#39;m using netbeans 12 together with a databank on mysql using the WildFly server, that I only connected, and added a dependency on the pom to &quot;work&quot;, for now only opens my browser but saying there&#39;s no data received.","body":"sorry, i&#39;m new to this, its part of an university project. Never used WildFly before, i mostly used tomcat. anyways, what do you mean by that? where can i check this? I&#39;m using netbeans 12 together with a databank on mysql using the WildFly server, that I only connected, and added a dependency on the pom to &quot;work&quot;, for now only opens my browser but saying there&#39;s no data received."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1622040285,"post_id":67693002,"comment_id":119676258,"body_markdown":"In your application are you writing any cookie data?","body":"In your application are you writing any cookie data?"},{"owner":{"account_id":21719002,"reputation":9,"user_id":16029568,"display_name":"MakoMario"},"score":0,"creation_date":1622040774,"post_id":67693002,"comment_id":119676530,"body_markdown":"I don&#39;t think so, all I did was some java codes, (Bean, RN, DAO, Entity), some xhtml and adding dependencies on the pom.xml","body":"I don&#39;t think so, all I did was some java codes, (Bean, RN, DAO, Entity), some xhtml and adding dependencies on the pom.xml"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1622044933,"post_id":67693002,"comment_id":119678726,"body_markdown":"Given the error message it could be a request attribute or a cookie. The simple test is to ensure you&#39;re only using Latin characters. It could be a simple issues of requiring some encoding of values, but there&#39;s not much to go on with just a stack trace and no code or values.","body":"Given the error message it could be a request attribute or a cookie. The simple test is to ensure you&#39;re only using Latin characters. It could be a simple issues of requiring some encoding of values, but there&#39;s not much to go on with just a stack trace and no code or values."},{"owner":{"account_id":21719002,"reputation":9,"user_id":16029568,"display_name":"MakoMario"},"score":0,"creation_date":1622045522,"post_id":67693002,"comment_id":119679015,"body_markdown":"Thanks for the help anyways, so i should check just those codes, right? there&#39;s nothing wrong with the connection between netbeans and wildfly server, correct?","body":"Thanks for the help anyways, so i should check just those codes, right? there&#39;s nothing wrong with the connection between netbeans and wildfly server, correct?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1622063919,"post_id":67693002,"comment_id":119686244,"body_markdown":"I would assume not. It just looks like invalid or non-encoded data.","body":"I would assume not. It just looks like invalid or non-encoded data."}],"answers":[{"tags":[],"owner":{"account_id":23286604,"reputation":1,"user_id":17369346,"display_name":"priyansh490"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655803190,"creation_date":1655803190,"answer_id":72698249,"question_id":67693002,"body_markdown":"\r\n\r\nFollow this steps and it will work fine.\r\n \r\n\r\n 1. Download this `jdk1.8.0_65` version java.\r\n 2. Update the `JAVA_HOME` and `PATH` in Environment Variables.\r\n 3. Deploy again.\r\n ","title":"ERROR [io.undertow.request] (default task-1) UT005071: Undertow request failed HttpServerExchange","body":"<p>Follow this steps and it will work fine.</p>\n<ol>\n<li>Download this <code>jdk1.8.0_65</code> version java.</li>\n<li>Update the <code>JAVA_HOME</code> and <code>PATH</code> in Environment Variables.</li>\n<li>Deploy again.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1656936326,"post_id":72812516,"comment_id":128684952,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/32141191)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/32141191\">From Review</a>"}],"tags":[],"owner":{"account_id":2933617,"reputation":1,"user_id":2513122,"display_name":"BDP"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656577427,"creation_date":1656577427,"answer_id":72812516,"question_id":67693002,"body_markdown":"I had a similar problem when I installed Eclipse Temurin 11.0.15 on my new computer. Installing an older JDK (from Oracle) really helps.","title":"ERROR [io.undertow.request] (default task-1) UT005071: Undertow request failed HttpServerExchange","body":"<p>I had a similar problem when I installed Eclipse Temurin 11.0.15 on my new computer. Installing an older JDK (from Oracle) really helps.</p>\n"}],"owner":{"account_id":21719002,"reputation":9,"user_id":16029568,"display_name":"MakoMario"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9714,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699423360,"creation_date":1621964369,"question_id":67693002,"body_markdown":"I&#39;m doing a maven project with WildFly as a server, although the web page opens, it shows that the localhost isn&#39;t sending any data\r\n\r\nthat&#39;s what shows on my WildFly output regarding to errors:\r\n\r\n    14:37:21,257 ERROR [io.undertow.request] (default task-1) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\r\n        at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\r\n        at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\r\n        at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\r\n        at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\r\n        at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\r\n        at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\r\n        at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\r\n        at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\r\n        at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\r\n        at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\r\n        at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n    14:37:21,269 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\r\n        at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\r\n        at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\r\n        at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\r\n        at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\r\n        at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\r\n        at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\r\n        at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\r\n        at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\r\n        at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\r\n        at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\r\n        at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n    14:37:21,582 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\r\n        at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\r\n        at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\r\n        at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\r\n        at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\r\n        at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\r\n        at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\r\n        at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\r\n        at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\r\n        at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\r\n        at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\r\n        at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n    14:37:22,618 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\r\n        at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\r\n        at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\r\n        at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\r\n        at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\r\n        at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\r\n        at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\r\n        at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\r\n        at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\r\n        at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\r\n        at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\r\n        at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n    14:37:22,921 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\r\n        at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\r\n        at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\r\n        at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\r\n        at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\r\n        at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\r\n        at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\r\n        at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\r\n        at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\r\n        at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\r\n        at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\r\n        at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n    14:37:28,252 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\r\n        at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\r\n        at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\r\n        at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\r\n        at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\r\n        at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\r\n        at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\r\n        at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\r\n        at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\r\n        at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\r\n        at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\r\n        at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\r\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\r\n        at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\r\n        at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\r\n        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n    \r\n   ","title":"ERROR [io.undertow.request] (default task-1) UT005071: Undertow request failed HttpServerExchange","body":"<p>I'm doing a maven project with WildFly as a server, although the web page opens, it shows that the localhost isn't sending any data</p>\n<p>that's what shows on my WildFly output regarding to errors:</p>\n<pre><code>14:37:21,257 ERROR [io.undertow.request] (default task-1) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\n    at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\n    at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\n    at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\n    at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\n    at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\n    at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\n    at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\n    at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\n    at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\n    at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\n    at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\n    at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:748)\n\n14:37:21,269 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\n    at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\n    at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\n    at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\n    at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\n    at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\n    at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\n    at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\n    at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\n    at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\n    at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\n    at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\n    at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:748)\n\n14:37:21,582 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\n    at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\n    at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\n    at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\n    at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\n    at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\n    at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\n    at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\n    at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\n    at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\n    at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\n    at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\n    at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:748)\n\n14:37:22,618 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\n    at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\n    at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\n    at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\n    at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\n    at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\n    at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\n    at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\n    at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\n    at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\n    at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\n    at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\n    at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:748)\n\n14:37:22,921 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\n    at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\n    at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\n    at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\n    at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\n    at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\n    at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\n    at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\n    at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\n    at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\n    at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\n    at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\n    at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:748)\n\n14:37:28,252 ERROR [io.undertow.request] (default task-2) UT005071: Undertow request failed HttpServerExchange{ GET /Professores/}: java.lang.IllegalArgumentException: UT000173: An invalid control character [225] was present in the cookie value or attribute\n    at io.undertow.util.LegacyCookieSupport.isHttpSeparator(LegacyCookieSupport.java:149)\n    at io.undertow.util.LegacyCookieSupport.isHttpToken(LegacyCookieSupport.java:170)\n    at io.undertow.util.LegacyCookieSupport.adjustedCookieVersion(LegacyCookieSupport.java:255)\n    at io.undertow.server.Connectors.getCookieString(Connectors.java:187)\n    at io.undertow.server.Connectors.flattenCookies(Connectors.java:117)\n    at io.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:163)\n    at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:606)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)\n    at org.xnio.conduits.Conduits.writeFinalBasic(Conduits.java:132)\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.writeFinal(AbstractFixedLengthStreamSinkConduit.java:175)\n    at org.xnio.conduits.ConduitStreamSinkChannel.writeFinal(ConduitStreamSinkChannel.java:104)\n    at io.undertow.channels.DetachableStreamSinkChannel.writeFinal(DetachableStreamSinkChannel.java:195)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.writeFinal(HttpServerExchange.java:2160)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:573)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.close(ServletOutputStreamImpl.java:610)\n    at io.undertow.servlet.spec.ServletPrintWriter.close(ServletPrintWriter.java:117)\n    at io.undertow.servlet.spec.ServletPrintWriterDelegate.close(ServletPrintWriterDelegate.java:81)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.closeStreamAndWriter(HttpServletResponseImpl.java:491)\n    at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:586)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:328)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","spring","micrometer","spring-micrometer","micrometer-tracing"],"answers":[{"tags":[],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699423272,"creation_date":1699423272,"answer_id":77443134,"question_id":77395860,"body_markdown":"This is happening because, in `BraveAutoConfiguration` the `Tracing` object is built with `.traceId128Bit(true)`.\r\n\r\n\r\nTo override this, we will have to define custom `Tracing` bean within our application instead of relying on Spring auto config.\r\n\r\nFollowing is the bean:\r\n\r\n    package com.example.trace;\r\n\r\n\r\n    import brave.Tracing;\r\n    import brave.TracingCustomizer;\r\n    import brave.handler.SpanHandler;\r\n    import brave.propagation.CurrentTraceContext;\r\n    import brave.propagation.Propagation;\r\n    import brave.sampler.Sampler;\r\n    import org.springframework.boot.actuate.autoconfigure.tracing.TracingProperties;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n\r\n    import java.util.List;\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties(TracingProperties.class)\r\n    public class BraveAutoConf {\r\n\r\n\r\n        @Bean\r\n        public Tracing braveTracing(Environment environment, TracingProperties properties, List&lt;SpanHandler&gt; spanHandlers,\r\n                                    List&lt;TracingCustomizer&gt; tracingCustomizers, CurrentTraceContext currentTraceContext,\r\n                                    Propagation.Factory propagationFactory, Sampler sampler) {\r\n\r\n\r\n            //NOTE: skipped the type/produce/consume=W3C and span joining property compatibility check. (This is invalid config)\r\n\r\n            String applicationName = environment.getProperty(&quot;spring.application.name&quot;, &quot;AppName&quot;);\r\n            Tracing.Builder builder = Tracing.newBuilder()\r\n                    .currentTraceContext(currentTraceContext)\r\n                    .traceId128Bit(false)\r\n                    .supportsJoin(properties.getBrave().isSpanJoiningSupported())\r\n                    .propagationFactory(propagationFactory)\r\n                    .sampler(sampler)\r\n                    .localServiceName(applicationName);\r\n            spanHandlers.forEach(builder::addSpanHandler);\r\n            for (TracingCustomizer tracingCustomizer : tracingCustomizers) {\r\n                tracingCustomizer.customize(builder);\r\n            }\r\n            return builder.build();\r\n        }\r\n\r\n    }\r\n\r\n\r\nThis will generate 16 character `traceId` instead of 32 character trace+spanId. However, do note that the traceId and the first spanId will be the same with this configuration.\r\n  ","title":"Micrometer tracing: Why spanId is a part of traceId and 32 characters long instead of 16?","body":"<p>This is happening because, in <code>BraveAutoConfiguration</code> the <code>Tracing</code> object is built with <code>.traceId128Bit(true)</code>.</p>\n<p>To override this, we will have to define custom <code>Tracing</code> bean within our application instead of relying on Spring auto config.</p>\n<p>Following is the bean:</p>\n<pre><code>package com.example.trace;\n\n\nimport brave.Tracing;\nimport brave.TracingCustomizer;\nimport brave.handler.SpanHandler;\nimport brave.propagation.CurrentTraceContext;\nimport brave.propagation.Propagation;\nimport brave.sampler.Sampler;\nimport org.springframework.boot.actuate.autoconfigure.tracing.TracingProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\n\nimport java.util.List;\n\n@Configuration\n@EnableConfigurationProperties(TracingProperties.class)\npublic class BraveAutoConf {\n\n\n    @Bean\n    public Tracing braveTracing(Environment environment, TracingProperties properties, List&lt;SpanHandler&gt; spanHandlers,\n                                List&lt;TracingCustomizer&gt; tracingCustomizers, CurrentTraceContext currentTraceContext,\n                                Propagation.Factory propagationFactory, Sampler sampler) {\n\n\n        //NOTE: skipped the type/produce/consume=W3C and span joining property compatibility check. (This is invalid config)\n\n        String applicationName = environment.getProperty(&quot;spring.application.name&quot;, &quot;AppName&quot;);\n        Tracing.Builder builder = Tracing.newBuilder()\n                .currentTraceContext(currentTraceContext)\n                .traceId128Bit(false)\n                .supportsJoin(properties.getBrave().isSpanJoiningSupported())\n                .propagationFactory(propagationFactory)\n                .sampler(sampler)\n                .localServiceName(applicationName);\n        spanHandlers.forEach(builder::addSpanHandler);\n        for (TracingCustomizer tracingCustomizer : tracingCustomizers) {\n            tracingCustomizer.customize(builder);\n        }\n        return builder.build();\n    }\n\n}\n</code></pre>\n<p>This will generate 16 character <code>traceId</code> instead of 32 character trace+spanId. However, do note that the traceId and the first spanId will be the same with this configuration.</p>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699423272,"creation_date":1698755073,"question_id":77395860,"body_markdown":"AFAIK, `spanId` and `traceId` which goes into MDC are 16 character Strings. But in my application, I noticed the `spanId` is part of the 32 character traceId. Below is a sample of the same.\r\n\r\n&gt; 2023-10-31, [[[traceId=6540ee3f2997f144f45483631005208e, spanId=f45483631005208e]]] [http-nio-8085-exec-1] INFO  com.example.trace.Controller - Inside Hi\r\n\r\n\r\nI am using micrometer-tracing v1.1.6 with Brave v5.15.1 as my vendor. Following is my `application.properties`\r\n\r\n\r\n    server.port=8085\r\n    spring.application.name=exampleApp\r\n\r\n    logging.pattern.console=%d{yyyy-MM-dd }, [[[%mdc]]] [%thread] %-5level %logger{36} - %msg%n\r\n\r\n    management.tracing.sampling.probability=0.0\r\n    management.tracing.propagation.type=B3_MULTI\r\n\r\n    logging.level.root=info\r\n\r\n\r\nI tried looking into things in debugging mode and found the method that generates it:\r\n\r\n    static String toTraceIdString(long traceIdHigh, long traceId) {\r\n        if (traceIdHigh != 0) {\r\n          char[] result = RecyclableBuffers.parseBuffer();\r\n          writeHexLong(result, 0, traceIdHigh);\r\n          writeHexLong(result, 16, traceId);\r\n          return new String(result, 0, 32);\r\n       }\r\n        return toLowerHex(traceId);\r\n    }\r\n\r\nHowever this didn&#39;t help me much.\r\n\r\nHow do I get this to add 16 character `traceId` into MDC instead of 32 character traceId+spanId as `traceId`? ","title":"Micrometer tracing: Why spanId is a part of traceId and 32 characters long instead of 16?","body":"<p>AFAIK, <code>spanId</code> and <code>traceId</code> which goes into MDC are 16 character Strings. But in my application, I noticed the <code>spanId</code> is part of the 32 character traceId. Below is a sample of the same.</p>\n<blockquote>\n<p>2023-10-31, [[[traceId=6540ee3f2997f144f45483631005208e, spanId=f45483631005208e]]] [http-nio-8085-exec-1] INFO  com.example.trace.Controller - Inside Hi</p>\n</blockquote>\n<p>I am using micrometer-tracing v1.1.6 with Brave v5.15.1 as my vendor. Following is my <code>application.properties</code></p>\n<pre><code>server.port=8085\nspring.application.name=exampleApp\n\nlogging.pattern.console=%d{yyyy-MM-dd }, [[[%mdc]]] [%thread] %-5level %logger{36} - %msg%n\n\nmanagement.tracing.sampling.probability=0.0\nmanagement.tracing.propagation.type=B3_MULTI\n\nlogging.level.root=info\n</code></pre>\n<p>I tried looking into things in debugging mode and found the method that generates it:</p>\n<pre><code>static String toTraceIdString(long traceIdHigh, long traceId) {\n    if (traceIdHigh != 0) {\n      char[] result = RecyclableBuffers.parseBuffer();\n      writeHexLong(result, 0, traceIdHigh);\n      writeHexLong(result, 16, traceId);\n      return new String(result, 0, 32);\n   }\n    return toLowerHex(traceId);\n}\n</code></pre>\n<p>However this didn't help me much.</p>\n<p>How do I get this to add 16 character <code>traceId</code> into MDC instead of 32 character traceId+spanId as <code>traceId</code>?</p>\n"},{"tags":["java","logging","stack-trace"],"comments":[{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":0,"creation_date":1268521360,"post_id":80692,"comment_id":2425895,"body_markdown":"This code example is great, if you want to log method and line number (and put this code in method log(...) of a class, derived from Logger). Using `Throwable` is a great idea! **Thank you a lot!** - Since logging means overhead anyway, I don&#39;t care about overhead. BTW: calling `Throwable` in log(...) method would only mean overhead, when the log record is allowed.","body":"This code example is great, if you want to log method and line number (and put this code in method log(...) of a class, derived from Logger). Using <code>Throwable</code> is a great idea! <b>Thank you a lot!</b> - Since logging means overhead anyway, I don&#39;t care about overhead. BTW: calling <code>Throwable</code> in log(...) method would only mean overhead, when the log record is allowed."},{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":4,"creation_date":1300109136,"post_id":80692,"comment_id":5975260,"body_markdown":"This code does not work with every Java VM. There exist Java VMs that include in the stacktrace the constructors of the exceptions. This means the first entry is: java.lang.Throwable.&lt;init&gt;","body":"This code does not work with every Java VM. There exist Java VMs that include in the stacktrace the constructors of the exceptions. This means the first entry is: java.lang.Throwable.&lt;init&gt;"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1345481229,"post_id":80692,"comment_id":16075606,"body_markdown":"@Horcrux7 agree.  I&#39;ve seen JVM&#39;s not reporting all lines in stack traces due to optimization.  Anyway, you are not guaranteed anything about which lines show up in the stack trace, meaning that your program is now vendor dependent.","body":"@Horcrux7 agree.  I&#39;ve seen JVM&#39;s not reporting all lines in stack traces due to optimization.  Anyway, you are not guaranteed anything about which lines show up in the stack trace, meaning that your program is now vendor dependent."}],"answers":[{"comments":[{"owner":{"account_id":1476,"reputation":8526,"user_id":1969,"accept_rate":71,"display_name":"Brian Matthews"},"score":1,"creation_date":1221636907,"post_id":80754,"comment_id":9980,"body_markdown":"Don&#39;t over look the WARNING the use of %C. It will impact your performance.","body":"Don&#39;t over look the WARNING the use of %C. It will impact your performance."},{"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"score":0,"creation_date":1227158593,"post_id":80754,"comment_id":148969,"body_markdown":"Using the standard idiom will give you the same result from the appender name *without* the performance impact. It is also subject to the StackTrace format being parsable e.g. AS400 Java had a weird stacktrace, it was human readable but sufficiently different as to be unusable for this purpose.","body":"Using the standard idiom will give you the same result from the appender name <i>without</i> the performance impact. It is also subject to the StackTrace format being parsable e.g. AS400 Java had a weird stacktrace, it was human readable but sufficiently different as to be unusable for this purpose."}],"tags":[],"owner":{"account_id":3097,"reputation":4238,"user_id":4396,"display_name":"Ian"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221635938,"creation_date":1221635938,"answer_id":80754,"question_id":80692,"body_markdown":"You could of course just use Log4J with the appropriate pattern layout:\r\n\r\n\r\n&gt; For example, for the class name &quot;org.apache.xyz.SomeClass&quot;, the pattern %C{1} will output &quot;SomeClass&quot;. \r\n\r\n\r\n\r\n[http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html][1]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>You could of course just use Log4J with the appropriate pattern layout:</p>\n\n<blockquote>\n  <p>For example, for the class name \"org.apache.xyz.SomeClass\", the pattern %C{1} will output \"SomeClass\". </p>\n</blockquote>\n\n<p><a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html</a></p>\n"},{"comments":[{"owner":{"account_id":62626,"reputation":10896,"user_id":185919,"accept_rate":89,"display_name":"java.is.for.desktop"},"score":1,"creation_date":1268520270,"post_id":80762,"comment_id":2425818,"body_markdown":"Isn&#39;t logging an overhead anyway? ;)","body":"Isn&#39;t logging an overhead anyway? ;)"},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":3,"creation_date":1288883717,"post_id":80762,"comment_id":4409841,"body_markdown":"&quot;A lot of overhead&quot;? This code will be executed once for every class (not object) using this method. I think is negligible.","body":"&quot;A lot of overhead&quot;? This code will be executed once for every class (not object) using this method. I think is negligible."},{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":0,"creation_date":1344873608,"post_id":80762,"comment_id":15901574,"body_markdown":"@sinuhepop you have no way of knowing how many times it will be called.  This is only a static method, and without knowing how it&#39;s used you can&#39;t make that statement.  It may be that he&#39;ll call it and hold onto it, or he may call it every time he needs to issue a log statement.","body":"@sinuhepop you have no way of knowing how many times it will be called.  This is only a static method, and without knowing how it&#39;s used you can&#39;t make that statement.  It may be that he&#39;ll call it and hold onto it, or he may call it every time he needs to issue a log statement."},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":2,"creation_date":1344898767,"post_id":80762,"comment_id":15911203,"body_markdown":"@Matt: You&#39;re right. But this method is usually declared as an static and final field, as loggers usually are.","body":"@Matt: You&#39;re right. But this method is usually declared as an static and final field, as loggers usually are."},{"owner":{"account_id":8613736,"reputation":724,"user_id":6451395,"accept_rate":50,"display_name":"Krish"},"score":0,"creation_date":1588728010,"post_id":80762,"comment_id":109008762,"body_markdown":"We have a similar function, after removing that we were able to increase performance","body":"We have a similar function, after removing that we were able to increase performance"}],"tags":[],"owner":{"account_id":160,"reputation":10074,"user_id":197,"display_name":"Daan"},"comment_count":5,"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1221636065,"creation_date":1221636065,"answer_id":80762,"question_id":80692,"body_markdown":"I guess it adds a lot of overhead for every class. Every class has to be &#39;looked up&#39;. You create new Throwable objects to do that... These throwables don&#39;t come for free.\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>I guess it adds a lot of overhead for every class. Every class has to be 'looked up'. You create new Throwable objects to do that... These throwables don't come for free.</p>\n"},{"comments":[{"owner":{"account_id":199833,"reputation":1718,"user_id":445367,"display_name":"Eelco"},"score":0,"creation_date":1265087836,"post_id":80851,"comment_id":2129316,"body_markdown":"Because it is readable and predictable rather than magic of course! ;-)","body":"Because it is readable and predictable rather than magic of course! ;-)"},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1693536796,"post_id":80851,"comment_id":135777278,"body_markdown":"This would mean doing unnecessary amounts of work for log statements that are not usually being emitted &gt;99% of the time. And it also prevents you from logging in static methods.","body":"This would mean doing unnecessary amounts of work for log statements that are not usually being emitted &gt;99% of the time. And it also prevents you from logging in static methods."}],"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221637158,"creation_date":1221637158,"answer_id":80851,"question_id":80692,"body_markdown":"Why not?\r\n\r\n    public static Logger getLogger(Object o) {\r\n      final Logger logger = Logger.getLogger(o.getClass());\r\n      logger.setLevel(ResourceManager.LOGLEVEL);\r\n      return logger;\r\n    }\r\n\r\nAnd then when you need a logger for a class:\r\n\r\n    getLogger(this).debug(&quot;Some log message&quot;)\r\n\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Why not?</p>\n\n<pre><code>public static Logger getLogger(Object o) {\n  final Logger logger = Logger.getLogger(o.getClass());\n  logger.setLevel(ResourceManager.LOGLEVEL);\n  return logger;\n}\n</code></pre>\n\n<p>And then when you need a logger for a class:</p>\n\n<pre><code>getLogger(this).debug(\"Some log message\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8455,"reputation":1834,"user_id":15254,"display_name":"Philip Helger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221637609,"creation_date":1221637609,"answer_id":80898,"question_id":80692,"body_markdown":"I prefer creating a (static) Logger for each class (with it&#39;s explicit class name). I than use the logger as is.","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>I prefer creating a (static) Logger for each class (with it's explicit class name). I than use the logger as is.</p>\n"},{"tags":[],"owner":{"account_id":5059,"reputation":8280,"user_id":7938,"display_name":"Bill Michell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221644122,"creation_date":1221644122,"answer_id":81494,"question_id":80692,"body_markdown":"This mechanism puts in a lot of extra effort at runtime.\r\n\r\nIf you use Eclipse as your IDE, consider using [Log4e][1]. This handy plugin will generate logger declarations for you using your favourite logging framework. A fraction more effort at coding time, but **much** less work at runtime.\r\n\r\n\r\n  [1]: http://log4e.jayefem.de/","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>This mechanism puts in a lot of extra effort at runtime.</p>\n\n<p>If you use Eclipse as your IDE, consider using <a href=\"http://log4e.jayefem.de/\" rel=\"nofollow noreferrer\">Log4e</a>. This handy plugin will generate logger declarations for you using your favourite logging framework. A fraction more effort at coding time, but <strong>much</strong> less work at runtime.</p>\n"},{"tags":[],"owner":{"account_id":7316,"reputation":3201,"user_id":12662,"accept_rate":60,"display_name":"18Rabbit"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1221661857,"creation_date":1221661857,"answer_id":83847,"question_id":80692,"body_markdown":"For every class that you use this with, you&#39;re going to have to look up the Logger anyway, so you might as well just use a static Logger in those classes.\r\n\r\n    private static final Logger logger = Logger.getLogger(MyClass.class.getName());\r\n\r\nThen you just reference that logger when you need to do your log messages.  Your method does the same thing that the static Log4J Logger does already so why reinvent the wheel?","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>For every class that you use this with, you're going to have to look up the Logger anyway, so you might as well just use a static Logger in those classes.</p>\n\n<pre><code>private static final Logger logger = Logger.getLogger(MyClass.class.getName());\n</code></pre>\n\n<p>Then you just reference that logger when you need to do your log messages.  Your method does the same thing that the static Log4J Logger does already so why reinvent the wheel?</p>\n"},{"comments":[{"owner":{"account_id":3189787,"reputation":190,"user_id":2694399,"accept_rate":100,"display_name":"Abdelghani AINOUSS"},"score":0,"creation_date":1531397486,"post_id":83866,"comment_id":89587244,"body_markdown":"what happens if getClass() is overrided ? even worse, what the if class is instantiated with inheritance ?","body":"what happens if getClass() is overrided ? even worse, what the if class is instantiated with inheritance ?"}],"tags":[],"owner":{"account_id":8810,"reputation":1137,"user_id":16023,"accept_rate":50,"display_name":"Asgeir S. Nilsen"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221661994,"creation_date":1221661994,"answer_id":83866,"question_id":80692,"body_markdown":"Unless you *really* need your Logger to be static, you could use\r\n\r\n    final Logger logger = LoggerFactory.getLogger(getClass());","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Unless you <em>really</em> need your Logger to be static, you could use</p>\n\n<pre><code>final Logger logger = LoggerFactory.getLogger(getClass());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"score":2,"creation_date":1227158711,"post_id":104851,"comment_id":148971,"body_markdown":"Standard idiom&#39;s are standard for a reason. If you do something different make sure that the additional maintenence hit of having to understand the difference is worth the effort.","body":"Standard idiom&#39;s are standard for a reason. If you do something different make sure that the additional maintenence hit of having to understand the difference is worth the effort."},{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":3,"creation_date":1335369590,"post_id":104851,"comment_id":13284542,"body_markdown":"I think that getLogger method can use a class as parameter at least in java 6. But you can use MyClass.class.getCanonicalName() since java 5.","body":"I think that getLogger method can use a class as parameter at least in java 6. But you can use MyClass.class.getCanonicalName() since java 5."},{"owner":{"account_id":6154,"reputation":11330,"user_id":10245,"accept_rate":74,"display_name":"Tim Abell"},"score":0,"creation_date":1339287435,"post_id":104851,"comment_id":14317204,"body_markdown":"Didn&#39;t work for me. `The method getLogger(String) in the type Logger is not applicable for the arguments (Class&lt;DbType&gt;)`","body":"Didn&#39;t work for me. <code>The method getLogger(String) in the type Logger is not applicable for the arguments (Class&lt;DbType&gt;)</code>"}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1221853815,"creation_date":1221852943,"answer_id":104851,"question_id":80692,"body_markdown":"Creating a stack trace is a relatively slow operation. Your caller already knows what class and method it is in, so the effort is wasted. This aspect of your solution is inefficient.\r\n\r\nEven if you use static class information, you should not fetch the Logger again for each message. [From the author][1] of Log4j,Ceki G&#252;lc&#252;: \r\n\r\n&gt; The most common error in wrapper classes is the invocation of the Logger.getLogger method on each log request. This is guaranteed to wreak havoc on your application&#39;s performance. Really!!! \r\n\r\nThis is the conventional, efficient idiom for getting a Logger is during class initialization:\r\n\r\n    private static final Logger log = Logger.getLogger(MyClass.class);\r\n\r\nNote that this gives you a separate Logger for each type in a hierarchy. If you come up with a method that invokes `getClass()` on an instance, you will see messages logged by a base type showing up under the subtype&#39;s logger. Maybe this is desirable in some cases, but I find it confusing (and I tend to favor composition over inheritance anyway). \r\n\r\nObviously, using the dynamic type via `getClass()` will require you to obtain the logger at least once per instance, rather than once per class like the recommended idiom using static type information.\r\n\r\n  [1]: http://www.qos.ch/logging/thinkAgain.jsp","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Creating a stack trace is a relatively slow operation. Your caller already knows what class and method it is in, so the effort is wasted. This aspect of your solution is inefficient.</p>\n\n<p>Even if you use static class information, you should not fetch the Logger again for each message. <a href=\"http://www.qos.ch/logging/thinkAgain.jsp\" rel=\"noreferrer\">From the author</a> of Log4j,Ceki Gülcü: </p>\n\n<blockquote>\n  <p>The most common error in wrapper classes is the invocation of the Logger.getLogger method on each log request. This is guaranteed to wreak havoc on your application's performance. Really!!! </p>\n</blockquote>\n\n<p>This is the conventional, efficient idiom for getting a Logger is during class initialization:</p>\n\n<pre><code>private static final Logger log = Logger.getLogger(MyClass.class);\n</code></pre>\n\n<p>Note that this gives you a separate Logger for each type in a hierarchy. If you come up with a method that invokes <code>getClass()</code> on an instance, you will see messages logged by a base type showing up under the subtype's logger. Maybe this is desirable in some cases, but I find it confusing (and I tend to favor composition over inheritance anyway). </p>\n\n<p>Obviously, using the dynamic type via <code>getClass()</code> will require you to obtain the logger at least once per instance, rather than once per class like the recommended idiom using static type information.</p>\n"},{"comments":[{"owner":{"account_id":199833,"reputation":1718,"user_id":445367,"display_name":"Eelco"},"score":3,"creation_date":1265087749,"post_id":303344,"comment_id":2129311,"body_markdown":"Look at the source code of Thread. It actually creates an exception if the thread you call getStrackTrace on is the same as the current one. So it&#39;s even (very slightly) more expensive.","body":"Look at the source code of Thread. It actually creates an exception if the thread you call getStrackTrace on is the same as the current one. So it&#39;s even (very slightly) more expensive."}],"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1227128332,"creation_date":1227128332,"answer_id":303344,"question_id":80692,"body_markdown":"You don&#39;t need to create a new Throwable object. You can just call \r\n`Thread.currentThread().getStackTrace()[1]`\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>You don't need to create a new Throwable object. You can just call \n<code>Thread.currentThread().getStackTrace()[1]</code></p>\n"},{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":2,"creation_date":1255558024,"post_id":1268633,"comment_id":1429366,"body_markdown":"Nice trick.  I would suggest keeping around the SecurityManager though.  When you create an instance of it, it goes and checks a permission each time.  Also you would have to instantiate your LoggerUtils inside a doPrivileged() block because of that.","body":"Nice trick.  I would suggest keeping around the SecurityManager though.  When you create an instance of it, it goes and checks a permission each time.  Also you would have to instantiate your LoggerUtils inside a doPrivileged() block because of that."}],"tags":[],"owner":{"account_id":52012,"reputation":266,"user_id":155399,"display_name":"EGB"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1250109899,"creation_date":1250109899,"answer_id":1268633,"question_id":80692,"body_markdown":"Assuming you are keeping static refs to the loggers, here&#39;s a standalone static singleton:\r\n\r\n    public class LoggerUtils extends SecurityManager\r\n    {\r\n    \tpublic static Logger getLogger()\r\n    \t{\r\n    \t\tString className = new LoggerUtils().getClassName();\r\n    \t\tLogger logger = Logger.getLogger(className);\r\n    \t\treturn logger;\r\n    \t}\r\n    \r\n    \tprivate String getClassName()\r\n    \t{\r\n    \t\treturn getClassContext()[2].getName();\r\n    \t}\r\n    }\r\n\r\n\r\nUsage is nice and clean:\r\n\r\n    Logger logger = LoggerUtils.getLogger();\r\n\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Assuming you are keeping static refs to the loggers, here's a standalone static singleton:</p>\n\n<pre><code>public class LoggerUtils extends SecurityManager\n{\n    public static Logger getLogger()\n    {\n        String className = new LoggerUtils().getClassName();\n        Logger logger = Logger.getLogger(className);\n        return logger;\n    }\n\n    private String getClassName()\n    {\n        return getClassContext()[2].getName();\n    }\n}\n</code></pre>\n\n<p>Usage is nice and clean:</p>\n\n<pre><code>Logger logger = LoggerUtils.getLogger();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":0,"creation_date":1344873791,"post_id":1705696,"comment_id":15901653,"body_markdown":"so ours (somewhat hackily) ensures that it can ONLY be called from a static initializer context:  So what happens when someone decides to use your code differently, say:  LogUtils.loggerForThisClass().info(....).    You can&#39;t guarantee it will be used properly.  I don&#39;t see how your solution does anything but solve the copy and paste issue, while opening up a whole other can of worms.","body":"so ours (somewhat hackily) ensures that it can ONLY be called from a static initializer context:  So what happens when someone decides to use your code differently, say:  LogUtils.loggerForThisClass().info(....).    You can&#39;t guarantee it will be used properly.  I don&#39;t see how your solution does anything but solve the copy and paste issue, while opening up a whole other can of worms."},{"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"score":3,"creation_date":1345426674,"post_id":1705696,"comment_id":16058812,"body_markdown":"Matt: if they use it improperly (like in the case you say) the assertion will fail and throw a RuntimeException. This generally encourages fixing the problem. :)\n\n(In reality, AFAIK this never happened while I was at that company; yet copy-and-pasting a logger and logging something with the wrong logger name happened at least a dozen times in my tenure there)","body":"Matt: if they use it improperly (like in the case you say) the assertion will fail and throw a RuntimeException. This generally encourages fixing the problem. :)  (In reality, AFAIK this never happened while I was at that company; yet copy-and-pasting a logger and logging something with the wrong logger name happened at least a dozen times in my tenure there)"},{"owner":{"account_id":203782,"reputation":52318,"user_id":451634,"accept_rate":58,"display_name":"Benny Code"},"score":0,"creation_date":1402439097,"post_id":1705696,"comment_id":37271770,"body_markdown":"Do you use &quot;Assert&quot; from the &quot;com.sun.tools.javac.util&quot; package? If yes, can the same then be achieved without using a class from a &quot;com.sun&quot; package?","body":"Do you use &quot;Assert&quot; from the &quot;com.sun.tools.javac.util&quot; package? If yes, can the same then be achieved without using a class from a &quot;com.sun&quot; package?"}],"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1257828889,"creation_date":1257828889,"answer_id":1705696,"question_id":80692,"body_markdown":"We actually have something quite similar in a LogUtils class. Yes, it&#39;s kind of icky, but the advantages are worth it as far as I&#39;m concerned. We wanted to make sure we didn&#39;t have any overhead from it being repeatedly called though, so ours (somewhat hackily) ensures that it can ONLY be called from a static initializer context, a la:\r\n\r\n    private static final Logger LOG = LogUtils.loggerForThisClass();\r\n\r\nIt will fail if it&#39;s invoked from a normal method, or from an instance initializer (i.e. if the &#39;static&#39; was left off above) to reduce the risk of performance overhead. The method is:\r\n\r\n    public static Logger loggerForThisClass() {\r\n        // We use the third stack element; second is this method, first is .getStackTrace()\r\n        StackTraceElement myCaller = Thread.currentThread().getStackTrace()[2];\r\n        Assert.equal(&quot;&lt;clinit&gt;&quot;, myCaller.getMethodName());\r\n        return Logger.getLogger(myCaller.getClassName());\r\n    }\r\n\r\nAnyone who asks what advantage does this have over \r\n\r\n    = Logger.getLogger(MyClass.class);\r\n\r\nhas probably never had to deal with someone who copies and pastes that line from somewhere else and forgets to change the class name, leaving you dealing with a class which sends all its stuff to another logger.","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>We actually have something quite similar in a LogUtils class. Yes, it's kind of icky, but the advantages are worth it as far as I'm concerned. We wanted to make sure we didn't have any overhead from it being repeatedly called though, so ours (somewhat hackily) ensures that it can ONLY be called from a static initializer context, a la:</p>\n\n<pre><code>private static final Logger LOG = LogUtils.loggerForThisClass();\n</code></pre>\n\n<p>It will fail if it's invoked from a normal method, or from an instance initializer (i.e. if the 'static' was left off above) to reduce the risk of performance overhead. The method is:</p>\n\n<pre><code>public static Logger loggerForThisClass() {\n    // We use the third stack element; second is this method, first is .getStackTrace()\n    StackTraceElement myCaller = Thread.currentThread().getStackTrace()[2];\n    Assert.equal(\"&lt;clinit&gt;\", myCaller.getMethodName());\n    return Logger.getLogger(myCaller.getClassName());\n}\n</code></pre>\n\n<p>Anyone who asks what advantage does this have over </p>\n\n<pre><code>= Logger.getLogger(MyClass.class);\n</code></pre>\n\n<p>has probably never had to deal with someone who copies and pastes that line from somewhere else and forgets to change the class name, leaving you dealing with a class which sends all its stuff to another logger.</p>\n"},{"tags":[],"owner":{"account_id":595228,"reputation":31,"user_id":288624,"display_name":"Alaa Murad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268039406,"creation_date":1268039406,"answer_id":2400226,"question_id":80692,"body_markdown":"Then the best thing is mix of two . \r\n\r\n    public class LoggerUtil {\r\n    \t\r\n    \tpublic static Level level=Level.ALL;\r\n    \r\n    \tpublic static java.util.logging.Logger getLogger() {\r\n    \t\tfinal Throwable t = new Throwable();\r\n    \t\tfinal StackTraceElement methodCaller = t.getStackTrace()[1];\r\n    \t\tfinal java.util.logging.Logger logger = java.util.logging.Logger.getLogger(methodCaller.getClassName());\r\n    \t\tlogger.setLevel(level);\r\n    \t\r\n    \t\treturn logger;\r\n    \t}\r\n    }\r\n\r\nAnd then in every class:\r\n\r\n    private static final Logger LOG = LoggerUtil.getLogger();\r\n\r\nin code :\r\n\r\n    LOG.fine(&quot;debug that !...&quot;);\r\n\r\n\r\nYou get static logger that you can just copy&amp;paste in every class and with no overhead ...\r\n\r\nAlaa","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Then the best thing is mix of two . </p>\n\n<pre><code>public class LoggerUtil {\n\n    public static Level level=Level.ALL;\n\n    public static java.util.logging.Logger getLogger() {\n        final Throwable t = new Throwable();\n        final StackTraceElement methodCaller = t.getStackTrace()[1];\n        final java.util.logging.Logger logger = java.util.logging.Logger.getLogger(methodCaller.getClassName());\n        logger.setLevel(level);\n\n        return logger;\n    }\n}\n</code></pre>\n\n<p>And then in every class:</p>\n\n<pre><code>private static final Logger LOG = LoggerUtil.getLogger();\n</code></pre>\n\n<p>in code :</p>\n\n<pre><code>LOG.fine(\"debug that !...\");\n</code></pre>\n\n<p>You get static logger that you can just copy&amp;paste in every class and with no overhead ...</p>\n\n<p>Alaa</p>\n"},{"tags":[],"owner":{"account_id":771353,"reputation":31,"user_id":812881,"display_name":"Ed Sarrazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308854865,"creation_date":1308854865,"answer_id":6459115,"question_id":80692,"body_markdown":"From reading through all the other feedback on this site, I created the following for use with Log4j:\r\n\r\n    package com.edsdev.testapp.util;\r\n\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    \r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Priority;\r\n\r\n    public class Logger extends SecurityManager {\r\n\r\n\tprivate static ConcurrentHashMap&lt;String, org.apache.log4j.Logger&gt; loggerMap = new ConcurrentHashMap&lt;String, org.apache.log4j.Logger&gt;();\r\n\t\r\n\tpublic static org.apache.log4j.Logger getLog() {\r\n\t\tString className = new Logger().getClassName();\r\n\t\tif (!loggerMap.containsKey(className)) {\r\n\t\t\tloggerMap.put(className, org.apache.log4j.Logger.getLogger(className));\r\n\t\t}\r\n\t\treturn loggerMap.get(className);\r\n\t}\r\n\tpublic String getClassName() {\r\n\t\treturn getClassContext()[3].getName();\r\n\t}\r\n\tpublic static void trace(Object message) {\r\n\t\tgetLog().trace(message);\r\n\t}\r\n\tpublic static void trace(Object message, Throwable t) {\r\n\t\tgetLog().trace(message, t);\r\n\t}\r\n\tpublic static boolean isTraceEnabled() {\r\n\t\treturn getLog().isTraceEnabled();\r\n\t}\r\n\tpublic static void debug(Object message) {\r\n\t\tgetLog().debug(message);\r\n\t}\r\n\tpublic static void debug(Object message, Throwable t) {\r\n\t\tgetLog().debug(message, t);\r\n\t}\r\n\tpublic static void error(Object message) {\r\n\t\tgetLog().error(message);\r\n\t}\r\n\tpublic static void error(Object message, Throwable t) {\r\n\t\tgetLog().error(message, t);\r\n\t}\r\n\tpublic static void fatal(Object message) {\r\n\t\tgetLog().fatal(message);\r\n\t}\r\n\tpublic static void fatal(Object message, Throwable t) {\r\n\t\tgetLog().fatal(message, t);\r\n\t}\r\n\tpublic static void info(Object message) {\r\n\t\tgetLog().info(message);\r\n\t}\r\n\tpublic static void info(Object message, Throwable t) {\r\n\t\tgetLog().info(message, t);\r\n\t}\r\n\tpublic static boolean isDebugEnabled() {\r\n\t\treturn getLog().isDebugEnabled();\r\n\t}\r\n\tpublic static boolean isEnabledFor(Priority level) {\r\n\t\treturn getLog().isEnabledFor(level);\r\n\t}\r\n\tpublic static boolean isInfoEnabled() {\r\n\t\treturn getLog().isInfoEnabled();\r\n\t}\r\n\tpublic static void setLevel(Level level) {\r\n\t\tgetLog().setLevel(level);\r\n\t}\r\n\tpublic static void warn(Object message) {\r\n\t\tgetLog().warn(message);\r\n\t}\r\n\tpublic static void warn(Object message, Throwable t) {\r\n\t\tgetLog().warn(message, t);\r\n\t}\r\n}\r\n\r\nNow in your code all you need is\r\n\r\n    Logger.debug(&quot;This is a test&quot;);\r\n\r\nor\r\n\r\n    Logger.error(&quot;Look what happened Ma!&quot;, e);\r\n\r\nIf you need more exposure to log4j methods, just delegate them from the Logger class listed above.\r\n\r\n\r\n\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>From reading through all the other feedback on this site, I created the following for use with Log4j:</p>\n\n<pre><code>package com.edsdev.testapp.util;\n\nimport java.util.concurrent.ConcurrentHashMap;\n\nimport org.apache.log4j.Level;\nimport org.apache.log4j.Priority;\n\npublic class Logger extends SecurityManager {\n\nprivate static ConcurrentHashMap&lt;String, org.apache.log4j.Logger&gt; loggerMap = new ConcurrentHashMap&lt;String, org.apache.log4j.Logger&gt;();\n\npublic static org.apache.log4j.Logger getLog() {\n    String className = new Logger().getClassName();\n    if (!loggerMap.containsKey(className)) {\n        loggerMap.put(className, org.apache.log4j.Logger.getLogger(className));\n    }\n    return loggerMap.get(className);\n}\npublic String getClassName() {\n    return getClassContext()[3].getName();\n}\npublic static void trace(Object message) {\n    getLog().trace(message);\n}\npublic static void trace(Object message, Throwable t) {\n    getLog().trace(message, t);\n}\npublic static boolean isTraceEnabled() {\n    return getLog().isTraceEnabled();\n}\npublic static void debug(Object message) {\n    getLog().debug(message);\n}\npublic static void debug(Object message, Throwable t) {\n    getLog().debug(message, t);\n}\npublic static void error(Object message) {\n    getLog().error(message);\n}\npublic static void error(Object message, Throwable t) {\n    getLog().error(message, t);\n}\npublic static void fatal(Object message) {\n    getLog().fatal(message);\n}\npublic static void fatal(Object message, Throwable t) {\n    getLog().fatal(message, t);\n}\npublic static void info(Object message) {\n    getLog().info(message);\n}\npublic static void info(Object message, Throwable t) {\n    getLog().info(message, t);\n}\npublic static boolean isDebugEnabled() {\n    return getLog().isDebugEnabled();\n}\npublic static boolean isEnabledFor(Priority level) {\n    return getLog().isEnabledFor(level);\n}\npublic static boolean isInfoEnabled() {\n    return getLog().isInfoEnabled();\n}\npublic static void setLevel(Level level) {\n    getLog().setLevel(level);\n}\npublic static void warn(Object message) {\n    getLog().warn(message);\n}\npublic static void warn(Object message, Throwable t) {\n    getLog().warn(message, t);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now in your code all you need is</p>\n\n<pre><code>Logger.debug(\"This is a test\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Logger.error(\"Look what happened Ma!\", e);\n</code></pre>\n\n<p>If you need more exposure to log4j methods, just delegate them from the Logger class listed above.</p>\n"},{"tags":[],"owner":{"account_id":1379066,"reputation":767,"user_id":1312464,"display_name":"joseaio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345481070,"creation_date":1344871747,"answer_id":11937492,"question_id":80692,"body_markdown":"Please see my static getLogger() implementation (use same &quot;sun.*&quot; magic on JDK 7 as default java Logger doit)\r\n\r\n - note static logging methods (with static import) without ugly log property...\r\n\r\n   import static my.pakg.Logger.*;\r\n\r\n\r\nAnd their speed is equivalent to native Java implementation (checked with 1 million of log traces)\r\n\r\n    package my.pkg;\r\n\r\n    import java.text.MessageFormat;\r\n    import java.util.Arrays;\r\n    import java.util.IllegalFormatException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.LogRecord;\r\n\r\n    import sun.misc.JavaLangAccess;\r\n    import sun.misc.SharedSecrets;\r\n\r\n\r\n    public class Logger {\r\n\tstatic final int CLASS_NAME = 0;\r\n\tstatic final int METHOD_NAME = 1;\r\n\r\n\t// Private method to infer the caller&#39;s class and method names\r\n\tprotected static String[] getClassName() {\r\n\t\tJavaLangAccess access = SharedSecrets.getJavaLangAccess();\r\n\t\tThrowable throwable = new Throwable();\r\n\t\tint depth = access.getStackTraceDepth(throwable);\r\n\r\n\t\tboolean lookingForLogger = true;\r\n\t\tfor (int i = 0; i &lt; depth; i++) {\r\n\t\t\t// Calling getStackTraceElement directly prevents the VM\r\n\t\t\t// from paying the cost of building the entire stack frame.\r\n\t\t\tStackTraceElement frame = access.getStackTraceElement(throwable, i);\r\n\t\t\tString cname = frame.getClassName();\r\n\t\t\tboolean isLoggerImpl = isLoggerImplFrame(cname);\r\n\t\t\tif (lookingForLogger) {\r\n\t\t\t\t// Skip all frames until we have found the first logger frame.\r\n\t\t\t\tif (isLoggerImpl) {\r\n\t\t\t\t\tlookingForLogger = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!isLoggerImpl) {\r\n\t\t\t\t\t// skip reflection call\r\n\t\t\t\t\tif (!cname.startsWith(&quot;java.lang.reflect.&quot;) &amp;&amp; !cname.startsWith(&quot;sun.reflect.&quot;)) {\r\n\t\t\t\t\t\t// We&#39;ve found the relevant frame.\r\n\t\t\t\t\t\treturn new String[] {cname, frame.getMethodName()};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new String[] {};\r\n\t\t// We haven&#39;t found a suitable frame, so just punt.  This is\r\n\t\t// OK as we are only committed to making a &quot;best effort&quot; here.\r\n\t}\r\n\r\n\tprotected static String[] getClassNameJDK5() {\r\n\t\t// Get the stack trace.\r\n\t\tStackTraceElement stack[] = (new Throwable()).getStackTrace();\r\n\t\t// First, search back to a method in the Logger class.\r\n\t\tint ix = 0;\r\n\t\twhile (ix &lt; stack.length) {\r\n\t\t\tStackTraceElement frame = stack[ix];\r\n\t\t\tString cname = frame.getClassName();\r\n\t\t\tif (isLoggerImplFrame(cname)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tix++;\r\n\t\t}\r\n\t\t// Now search for the first frame before the &quot;Logger&quot; class.\r\n\t\twhile (ix &lt; stack.length) {\r\n\t\t\tStackTraceElement frame = stack[ix];\r\n\t\t\tString cname = frame.getClassName();\r\n\t\t\tif (isLoggerImplFrame(cname)) {\r\n\t\t\t\t// We&#39;ve found the relevant frame.\r\n\t\t\t\treturn new String[] {cname, frame.getMethodName()};\r\n\t\t\t}\r\n\t\t\tix++;\r\n\t\t}\r\n\t\treturn new String[] {};\r\n\t\t// We haven&#39;t found a suitable frame, so just punt.  This is\r\n\t\t// OK as we are only committed to making a &quot;best effort&quot; here.\r\n\t}\r\n\r\n\r\n\tprivate static boolean isLoggerImplFrame(String cname) {\r\n\t\t// the log record could be created for a platform logger\r\n\t\treturn (\r\n\t\t\t\tcname.equals(&quot;my.package.Logger&quot;) ||\r\n\t\t\t\tcname.equals(&quot;java.util.logging.Logger&quot;) ||\r\n\t\t\t\tcname.startsWith(&quot;java.util.logging.LoggingProxyImpl&quot;) ||\r\n\t\t\t\tcname.startsWith(&quot;sun.util.logging.&quot;));\r\n\t}\r\n\r\n\tprotected static java.util.logging.Logger getLogger(String name) {\r\n\t\treturn java.util.logging.Logger.getLogger(name);\r\n\t}\r\n\r\n\tprotected static boolean log(Level level, String msg, Object... args) {\r\n\t\treturn log(level, null, msg, args);\r\n\t}\r\n\r\n\tprotected static boolean log(Level level, Throwable thrown, String msg, Object... args) {\r\n\t\tString[] values = getClassName();\r\n\t\tjava.util.logging.Logger log = getLogger(values[CLASS_NAME]);\r\n\t\tif (level != null &amp;&amp; log.isLoggable(level)) {\r\n\t\t\tif (msg != null) {\r\n\t\t\t\tlog.log(getRecord(level, thrown, values[CLASS_NAME], values[METHOD_NAME], msg, args));\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprotected static LogRecord getRecord(Level level, Throwable thrown, String className, String methodName, String msg, Object... args) {\r\n\t\tLogRecord record = new LogRecord(level, format(msg, args));\r\n\t\trecord.setSourceClassName(className);\r\n\t\trecord.setSourceMethodName(methodName);\r\n\t\tif (thrown != null) {\r\n\t\t\trecord.setThrown(thrown);\r\n\t\t}\r\n\t\treturn record;\r\n\t}\r\n\r\n\tprivate static String format(String msg, Object... args) {\r\n\t\tif (msg == null || args == null || args.length == 0) {\r\n\t\t\treturn msg;\r\n\t\t} else if (msg.indexOf(&#39;%&#39;) &gt;= 0) {\r\n\t\t\ttry {\r\n\t\t\t\treturn String.format(msg, args);\r\n\t\t\t} catch (IllegalFormatException esc) {\r\n\t\t\t\t// none\r\n\t\t\t}\r\n\t\t} else if (msg.indexOf(&#39;{&#39;) &gt;= 0) {\r\n\t\t\ttry {\r\n\t\t\t\treturn MessageFormat.format(msg, args);\r\n\t\t\t} catch (IllegalArgumentException exc) {\r\n\t\t\t\t// none\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (args.length == 1) {\r\n\t\t\tObject param = args[0];\r\n\t\t\tif (param != null &amp;&amp; param.getClass().isArray()) {\r\n\t\t\t\treturn msg + Arrays.toString((Object[]) param);\r\n\t\t\t} else if (param instanceof Throwable){\r\n\t\t\t\treturn msg;\r\n\t\t\t} else {\r\n\t\t\t\treturn msg + param;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn msg + Arrays.toString(args);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void severe(String msg, Object... args) {\r\n\t\tlog(Level.SEVERE, msg, args);\r\n\t}\r\n\r\n\tpublic static void warning(String msg, Object... args) {\r\n\t\tlog(Level.WARNING, msg, args);\r\n\t}\r\n\r\n\tpublic static void info(Throwable thrown, String format, Object... args) {\r\n\t\tlog(Level.INFO, thrown, format, args);\r\n\t}\r\n\r\n\tpublic static void warning(Throwable thrown, String format, Object... args) {\r\n\t\tlog(Level.WARNING, thrown, format, args);\r\n\t}\r\n\r\n\tpublic static void warning(Throwable thrown) {\r\n\t\tlog(Level.WARNING, thrown, thrown.getMessage());\r\n\t}\r\n\r\n\tpublic static void severe(Throwable thrown, String format, Object... args) {\r\n\t\tlog(Level.SEVERE, thrown, format, args);\r\n\t}\r\n\r\n\tpublic static void severe(Throwable thrown) {\r\n\t\tlog(Level.SEVERE, thrown, thrown.getMessage());\r\n\t}\r\n\r\n\tpublic static void info(String msg, Object... args) {\r\n\t\tlog(Level.INFO, msg, args);\r\n\t}\r\n\r\n\tpublic static void fine(String msg, Object... args) {\r\n\t\tlog(Level.FINE, msg, args);\r\n\t}\r\n\r\n\tpublic static void finer(String msg, Object... args) {\r\n\t\tlog(Level.FINER, msg, args);\r\n\t}\r\n\r\n\tpublic static void finest(String msg, Object... args) {\r\n\t\tlog(Level.FINEST, msg, args);\r\n\t}\r\n\r\n\tpublic static boolean isLoggableFinest() {\r\n\t\treturn isLoggable(Level.FINEST);\r\n\t}\r\n\r\n\tpublic static boolean isLoggableFiner() {\r\n\t\treturn isLoggable(Level.FINER);\r\n\t}\r\n\r\n\tpublic static boolean isLoggableFine() {\r\n\t\treturn isLoggable(Level.FINE);\r\n\t}\r\n\r\n\tpublic static boolean isLoggableInfo() {\r\n\t\treturn isLoggable(Level.INFO);\r\n\t}\r\n\r\n\tpublic static boolean isLoggableWarning() {\r\n\t\treturn isLoggable(Level.WARNING);\r\n\t}\r\n\tpublic static boolean isLoggableSevere() {\r\n\t\treturn isLoggable(Level.SEVERE);\r\n\t}\r\n\r\n\tprivate static boolean isLoggable(Level level) {\r\n\t\treturn log(level, null);\r\n\t}\r\n\r\n    }","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Please see my static getLogger() implementation (use same \"sun.*\" magic on JDK 7 as default java Logger doit)</p>\n\n<ul>\n<li><p>note static logging methods (with static import) without ugly log property...</p>\n\n<p>import static my.pakg.Logger.*;</p></li>\n</ul>\n\n<p>And their speed is equivalent to native Java implementation (checked with 1 million of log traces)</p>\n\n<pre><code>package my.pkg;\n\nimport java.text.MessageFormat;\nimport java.util.Arrays;\nimport java.util.IllegalFormatException;\nimport java.util.logging.Level;\nimport java.util.logging.LogRecord;\n\nimport sun.misc.JavaLangAccess;\nimport sun.misc.SharedSecrets;\n\n\npublic class Logger {\nstatic final int CLASS_NAME = 0;\nstatic final int METHOD_NAME = 1;\n\n// Private method to infer the caller's class and method names\nprotected static String[] getClassName() {\n    JavaLangAccess access = SharedSecrets.getJavaLangAccess();\n    Throwable throwable = new Throwable();\n    int depth = access.getStackTraceDepth(throwable);\n\n    boolean lookingForLogger = true;\n    for (int i = 0; i &lt; depth; i++) {\n        // Calling getStackTraceElement directly prevents the VM\n        // from paying the cost of building the entire stack frame.\n        StackTraceElement frame = access.getStackTraceElement(throwable, i);\n        String cname = frame.getClassName();\n        boolean isLoggerImpl = isLoggerImplFrame(cname);\n        if (lookingForLogger) {\n            // Skip all frames until we have found the first logger frame.\n            if (isLoggerImpl) {\n                lookingForLogger = false;\n            }\n        } else {\n            if (!isLoggerImpl) {\n                // skip reflection call\n                if (!cname.startsWith(\"java.lang.reflect.\") &amp;&amp; !cname.startsWith(\"sun.reflect.\")) {\n                    // We've found the relevant frame.\n                    return new String[] {cname, frame.getMethodName()};\n                }\n            }\n        }\n    }\n    return new String[] {};\n    // We haven't found a suitable frame, so just punt.  This is\n    // OK as we are only committed to making a \"best effort\" here.\n}\n\nprotected static String[] getClassNameJDK5() {\n    // Get the stack trace.\n    StackTraceElement stack[] = (new Throwable()).getStackTrace();\n    // First, search back to a method in the Logger class.\n    int ix = 0;\n    while (ix &lt; stack.length) {\n        StackTraceElement frame = stack[ix];\n        String cname = frame.getClassName();\n        if (isLoggerImplFrame(cname)) {\n            break;\n        }\n        ix++;\n    }\n    // Now search for the first frame before the \"Logger\" class.\n    while (ix &lt; stack.length) {\n        StackTraceElement frame = stack[ix];\n        String cname = frame.getClassName();\n        if (isLoggerImplFrame(cname)) {\n            // We've found the relevant frame.\n            return new String[] {cname, frame.getMethodName()};\n        }\n        ix++;\n    }\n    return new String[] {};\n    // We haven't found a suitable frame, so just punt.  This is\n    // OK as we are only committed to making a \"best effort\" here.\n}\n\n\nprivate static boolean isLoggerImplFrame(String cname) {\n    // the log record could be created for a platform logger\n    return (\n            cname.equals(\"my.package.Logger\") ||\n            cname.equals(\"java.util.logging.Logger\") ||\n            cname.startsWith(\"java.util.logging.LoggingProxyImpl\") ||\n            cname.startsWith(\"sun.util.logging.\"));\n}\n\nprotected static java.util.logging.Logger getLogger(String name) {\n    return java.util.logging.Logger.getLogger(name);\n}\n\nprotected static boolean log(Level level, String msg, Object... args) {\n    return log(level, null, msg, args);\n}\n\nprotected static boolean log(Level level, Throwable thrown, String msg, Object... args) {\n    String[] values = getClassName();\n    java.util.logging.Logger log = getLogger(values[CLASS_NAME]);\n    if (level != null &amp;&amp; log.isLoggable(level)) {\n        if (msg != null) {\n            log.log(getRecord(level, thrown, values[CLASS_NAME], values[METHOD_NAME], msg, args));\n        }\n        return true;\n    }\n    return false;\n}\n\nprotected static LogRecord getRecord(Level level, Throwable thrown, String className, String methodName, String msg, Object... args) {\n    LogRecord record = new LogRecord(level, format(msg, args));\n    record.setSourceClassName(className);\n    record.setSourceMethodName(methodName);\n    if (thrown != null) {\n        record.setThrown(thrown);\n    }\n    return record;\n}\n\nprivate static String format(String msg, Object... args) {\n    if (msg == null || args == null || args.length == 0) {\n        return msg;\n    } else if (msg.indexOf('%') &gt;= 0) {\n        try {\n            return String.format(msg, args);\n        } catch (IllegalFormatException esc) {\n            // none\n        }\n    } else if (msg.indexOf('{') &gt;= 0) {\n        try {\n            return MessageFormat.format(msg, args);\n        } catch (IllegalArgumentException exc) {\n            // none\n        }\n    }\n    if (args.length == 1) {\n        Object param = args[0];\n        if (param != null &amp;&amp; param.getClass().isArray()) {\n            return msg + Arrays.toString((Object[]) param);\n        } else if (param instanceof Throwable){\n            return msg;\n        } else {\n            return msg + param;\n        }\n    } else {\n        return msg + Arrays.toString(args);\n    }\n}\n\npublic static void severe(String msg, Object... args) {\n    log(Level.SEVERE, msg, args);\n}\n\npublic static void warning(String msg, Object... args) {\n    log(Level.WARNING, msg, args);\n}\n\npublic static void info(Throwable thrown, String format, Object... args) {\n    log(Level.INFO, thrown, format, args);\n}\n\npublic static void warning(Throwable thrown, String format, Object... args) {\n    log(Level.WARNING, thrown, format, args);\n}\n\npublic static void warning(Throwable thrown) {\n    log(Level.WARNING, thrown, thrown.getMessage());\n}\n\npublic static void severe(Throwable thrown, String format, Object... args) {\n    log(Level.SEVERE, thrown, format, args);\n}\n\npublic static void severe(Throwable thrown) {\n    log(Level.SEVERE, thrown, thrown.getMessage());\n}\n\npublic static void info(String msg, Object... args) {\n    log(Level.INFO, msg, args);\n}\n\npublic static void fine(String msg, Object... args) {\n    log(Level.FINE, msg, args);\n}\n\npublic static void finer(String msg, Object... args) {\n    log(Level.FINER, msg, args);\n}\n\npublic static void finest(String msg, Object... args) {\n    log(Level.FINEST, msg, args);\n}\n\npublic static boolean isLoggableFinest() {\n    return isLoggable(Level.FINEST);\n}\n\npublic static boolean isLoggableFiner() {\n    return isLoggable(Level.FINER);\n}\n\npublic static boolean isLoggableFine() {\n    return isLoggable(Level.FINE);\n}\n\npublic static boolean isLoggableInfo() {\n    return isLoggable(Level.INFO);\n}\n\npublic static boolean isLoggableWarning() {\n    return isLoggable(Level.WARNING);\n}\npublic static boolean isLoggableSevere() {\n    return isLoggable(Level.SEVERE);\n}\n\nprivate static boolean isLoggable(Level level) {\n    return log(level, null);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359878336,"creation_date":1359878336,"answer_id":14670532,"question_id":80692,"body_markdown":"Take a look at [`Logger`](http://www.jcabi.com/jcabi-log/apidocs-0.7.7/com/jcabi/log/Logger.html) class from [jcabi-log](http://www.jcabi.com/jcabi-log/). It does exactly what you&#39;re looking for, providing a collection of static methods. You don&#39;t need to embed loggers into classes any more:\r\n\r\n    import com.jcabi.log.Logger;\r\n    class Foo {\r\n      public void bar() {\r\n        Logger.info(this, &quot;doing something...&quot;);\r\n      }\r\n    }\r\n\r\n`Logger` sends all logs to SLF4J, which you can redirect to any other logging facility, in runtime.","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Take a look at <a href=\"http://www.jcabi.com/jcabi-log/apidocs-0.7.7/com/jcabi/log/Logger.html\" rel=\"nofollow\"><code>Logger</code></a> class from <a href=\"http://www.jcabi.com/jcabi-log/\" rel=\"nofollow\">jcabi-log</a>. It does exactly what you're looking for, providing a collection of static methods. You don't need to embed loggers into classes any more:</p>\n\n<pre><code>import com.jcabi.log.Logger;\nclass Foo {\n  public void bar() {\n    Logger.info(this, \"doing something...\");\n  }\n}\n</code></pre>\n\n<p><code>Logger</code> sends all logs to SLF4J, which you can redirect to any other logging facility, in runtime.</p>\n"},{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439556092,"creation_date":1439556092,"answer_id":32010391,"question_id":80692,"body_markdown":"I just have the following line at the beginning of most of my classes.\r\n\r\n      private static final Logger log = \r\n         LoggerFactory.getLogger(new Throwable().getStackTrace()[0].getClassName());\r\n\r\nyes there is some overhead the very first time an object of that class is created, but I work mostly in webapps, so adding microseconds onto a 20 second startup isn&#39;t really a problem.","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>I just have the following line at the beginning of most of my classes.</p>\n\n<pre><code>  private static final Logger log = \n     LoggerFactory.getLogger(new Throwable().getStackTrace()[0].getClassName());\n</code></pre>\n\n<p>yes there is some overhead the very first time an object of that class is created, but I work mostly in webapps, so adding microseconds onto a 20 second startup isn't really a problem.</p>\n"},{"comments":[{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":2,"creation_date":1489859080,"post_id":32132312,"comment_id":72859159,"body_markdown":"Why this is not included by default in logger API&#39;s like slf4j as for example: LoggerFactory.getLogger();","body":"Why this is not included by default in logger API&#39;s like slf4j as for example: LoggerFactory.getLogger();"},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":4,"creation_date":1489861712,"post_id":32132312,"comment_id":72860080,"body_markdown":"getSimpleName is not needed in the expression.\nprivate static Logger logger = Logger.getLogger(MethodHandles.lookup().lookupClass());","body":"getSimpleName is not needed in the expression. private static Logger logger = Logger.getLogger(MethodHandles.lookup().lookupClass());"}],"tags":[],"owner":{"account_id":251405,"reputation":1163,"user_id":528757,"accept_rate":94,"display_name":"Neeraj"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1462298280,"creation_date":1440130887,"answer_id":32132312,"question_id":80692,"body_markdown":"The [MethodHandles][1] class (as of Java 7) includes a [Lookup][2] class that, from a static context, can find and return the name of the current class. Consider the following example:\r\n\r\n    import java.lang.invoke.MethodHandles;\r\n\r\n    public class Main {\r\n      private static final Class clazz = MethodHandles.lookup().lookupClass();\r\n      private static final String CLASSNAME = clazz.getSimpleName();\r\n\r\n      public static void main( String args[] ) {\r\n        System.out.println( CLASSNAME );\r\n      }\r\n    }\r\n\r\nWhen run this produces:\r\n\r\n    Main\r\n\r\nFor a logger, you could use:\r\n\r\n    private static Logger LOGGER = \r\n      Logger.getLogger(MethodHandles.lookup().lookupClass().getSimpleName());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandles.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandles.Lookup.html","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandles.html\" rel=\"noreferrer\">MethodHandles</a> class (as of Java 7) includes a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandles.Lookup.html\" rel=\"noreferrer\">Lookup</a> class that, from a static context, can find and return the name of the current class. Consider the following example:</p>\n\n<pre><code>import java.lang.invoke.MethodHandles;\n\npublic class Main {\n  private static final Class clazz = MethodHandles.lookup().lookupClass();\n  private static final String CLASSNAME = clazz.getSimpleName();\n\n  public static void main( String args[] ) {\n    System.out.println( CLASSNAME );\n  }\n}\n</code></pre>\n\n<p>When run this produces:</p>\n\n<pre><code>Main\n</code></pre>\n\n<p>For a logger, you could use:</p>\n\n<pre><code>private static Logger LOGGER = \n  Logger.getLogger(MethodHandles.lookup().lookupClass().getSimpleName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2519330,"reputation":728,"user_id":2189998,"display_name":"user2189998"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1699422803,"creation_date":1473670675,"answer_id":39446629,"question_id":80692,"body_markdown":"A good alternative is to use (one of) the lombok logs annotations:\r\nhttps://projectlombok.org/features/log\r\n\r\nIt generates the corresponding log statement with the current class.\r\n\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>A good alternative is to use (one of) the lombok logs annotations:\n<a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/log</a></p>\n<p>It generates the corresponding log statement with the current class.</p>\n"},{"comments":[{"owner":{"account_id":1058505,"reputation":368,"user_id":1060650,"accept_rate":50,"display_name":"Wisteso"},"score":2,"creation_date":1544112644,"post_id":52744364,"comment_id":94169358,"body_markdown":"This is just internally using a stack trace as well. https://github.com/google/flogger/blob/master/api/src/main/java/com/google/common/flogger/backend/system/StackBasedCallerFinder.java#L34","body":"This is just internally using a stack trace as well. <a href=\"https://github.com/google/flogger/blob/master/api/src/main/java/com/google/common/flogger/backend/system/StackBasedCallerFinder.java#L34\" rel=\"nofollow noreferrer\">github.com/google/flogger/blob/master/api/src/main/java/com/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539187149,"creation_date":1539187149,"answer_id":52744364,"question_id":80692,"body_markdown":"Google Flogger logging API supports this e.g.\r\n\r\n    private static final FluentLogger logger = FluentLogger.forEnclosingClass();\r\n\r\nSee https://github.com/google/flogger for more details.\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>Google Flogger logging API supports this e.g.</p>\n\n<pre><code>private static final FluentLogger logger = FluentLogger.forEnclosingClass();\n</code></pre>\n\n<p>See <a href=\"https://github.com/google/flogger\" rel=\"nofollow noreferrer\">https://github.com/google/flogger</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550668421,"creation_date":1550668421,"answer_id":54787201,"question_id":80692,"body_markdown":"A nice way to do this from Java 7 onwards:\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\r\n\r\nThe logger can be `static` and that fine.\r\nHere its using the SLF4J API\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\nBut in principal can be used with any logging framework. If the logger needs a string argument add `toString()`","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>A nice way to do this from Java 7 onwards:</p>\n\n<pre><code>private static final Logger logger = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n</code></pre>\n\n<p>The logger can be <code>static</code> and that fine.\nHere its using the SLF4J API</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n</code></pre>\n\n<p>But in principal can be used with any logging framework. If the logger needs a string argument add <code>toString()</code></p>\n"},{"tags":[],"owner":{"account_id":4412923,"reputation":7184,"user_id":3595288,"accept_rate":60,"display_name":"Choletski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561026612,"creation_date":1561026612,"answer_id":56684047,"question_id":80692,"body_markdown":"**Simple and trivial OLD SCHOOL:**\r\n\r\nJust create your own class and pass there class name, method name + comment (if class /method changed they&#39;re refactored automatically Shift+F6)\r\n\r\n    public class MyLogs {    \r\n        public static void LOG(String theClass, String theMethod, String theComment) {\r\n            Log.d(&quot;MY_TAG&quot;, &quot;class: &quot; + theClass + &quot; meth : &quot; + theMethod + &quot; comm : &quot; + theComment);\r\n        }\r\n    }\r\n\r\nand just use it anywhere in the app (no context required, no initialzation, no extra libs and no look up) - can be used for any programing language!\r\n\r\n    MyLogs.LOG(&quot;MainActivity&quot;, &quot;onCreate&quot;, &quot;Hello world&quot;);\r\n\r\nthis will print in your console:\r\n&gt; MY_TAG class: MainActivity meth: onCreate comm: Hello world\r\n\r\n\r\n","title":"Java logger that automatically determines caller&#39;s class name","body":"<p><strong>Simple and trivial OLD SCHOOL:</strong></p>\n\n<p>Just create your own class and pass there class name, method name + comment (if class /method changed they're refactored automatically Shift+F6)</p>\n\n<pre><code>public class MyLogs {    \n    public static void LOG(String theClass, String theMethod, String theComment) {\n        Log.d(\"MY_TAG\", \"class: \" + theClass + \" meth : \" + theMethod + \" comm : \" + theComment);\n    }\n}\n</code></pre>\n\n<p>and just use it anywhere in the app (no context required, no initialzation, no extra libs and no look up) - can be used for any programing language!</p>\n\n<pre><code>MyLogs.LOG(\"MainActivity\", \"onCreate\", \"Hello world\");\n</code></pre>\n\n<p>this will print in your console:</p>\n\n<blockquote>\n  <p>MY_TAG class: MainActivity meth: onCreate comm: Hello world</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13512904,"reputation":98,"user_id":9748566,"display_name":"PhilKes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696061110,"creation_date":1696058982,"answer_id":77206064,"question_id":80692,"body_markdown":"For anyone looking for a more current solution, I wrote a **maven-plugin** addressing this issue, while not generating any performance issues either:\r\nhttps://github.com/PhilKes/slf4j-caller-info-maven-plugin\r\n\r\nThis plugin **injects the class name, optionally also the method name and source code line number into all SLF4J log statements at compile time**.\r\nAll you need to do is to add the `callerInformation` MDC parameter to your log-pattern (see [Code Example](https://github.com/PhilKes/slf4j-caller-info-maven-plugin#code-example)) and add the plugin in your `pom.xml`:\r\n```xml\r\n&lt;plugin&gt;\r\n &lt;groupId&gt;io.github.philkes&lt;/groupId&gt;\r\n &lt;artifactId&gt;slf4j-caller-info-maven-plugin&lt;/artifactId&gt;\r\n &lt;version&gt;1.1.0&lt;/version&gt;\r\n &lt;executions&gt;\r\n   &lt;execution&gt;\r\n     &lt;goals&gt;\r\n        &lt;goal&gt;inject&lt;/goal&gt;\r\n     &lt;/goals&gt;\r\n   &lt;/execution&gt;\r\n &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Java logger that automatically determines caller&#39;s class name","body":"<p>For anyone looking for a more current solution, I wrote a <strong>maven-plugin</strong> addressing this issue, while not generating any performance issues either:\n<a href=\"https://github.com/PhilKes/slf4j-caller-info-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/PhilKes/slf4j-caller-info-maven-plugin</a></p>\n<p>This plugin <strong>injects the class name, optionally also the method name and source code line number into all SLF4J log statements at compile time</strong>.\nAll you need to do is to add the <code>callerInformation</code> MDC parameter to your log-pattern (see <a href=\"https://github.com/PhilKes/slf4j-caller-info-maven-plugin#code-example\" rel=\"nofollow noreferrer\">Code Example</a>) and add the plugin in your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n &lt;groupId&gt;io.github.philkes&lt;/groupId&gt;\n &lt;artifactId&gt;slf4j-caller-info-maven-plugin&lt;/artifactId&gt;\n &lt;version&gt;1.1.0&lt;/version&gt;\n &lt;executions&gt;\n   &lt;execution&gt;\n     &lt;goals&gt;\n        &lt;goal&gt;inject&lt;/goal&gt;\n     &lt;/goals&gt;\n   &lt;/execution&gt;\n &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76827,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":80762,"answer_count":22,"score":43,"last_activity_date":1699422803,"creation_date":1221635207,"question_id":80692,"body_markdown":"\tpublic static Logger getLogger() {\r\n\t\tfinal Throwable t = new Throwable();\r\n\t\tfinal StackTraceElement methodCaller = t.getStackTrace()[1];\r\n\t\tfinal Logger logger = Logger.getLogger(methodCaller.getClassName());\r\n\t\tlogger.setLevel(ResourceManager.LOGLEVEL);\r\n\t\treturn logger;\r\n\t}\r\n\r\nThis method would return a logger that knows the class it&#39;s logging for.\r\nAny ideas against it?\r\n\r\nMany years later: https://github.com/yanchenko/droidparts/blob/master/droidparts/src/org/droidparts/util/L.java","title":"Java logger that automatically determines caller&#39;s class name","body":"<pre><code>public static Logger getLogger() {\n    final Throwable t = new Throwable();\n    final StackTraceElement methodCaller = t.getStackTrace()[1];\n    final Logger logger = Logger.getLogger(methodCaller.getClassName());\n    logger.setLevel(ResourceManager.LOGLEVEL);\n    return logger;\n}\n</code></pre>\n\n<p>This method would return a logger that knows the class it's logging for.\nAny ideas against it?</p>\n\n<p>Many years later: <a href=\"https://github.com/yanchenko/droidparts/blob/master/droidparts/src/org/droidparts/util/L.java\" rel=\"noreferrer\">https://github.com/yanchenko/droidparts/blob/master/droidparts/src/org/droidparts/util/L.java</a></p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","pairing"],"comments":[{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1658995163,"post_id":73140296,"comment_id":129191554,"body_markdown":"Most likely a bug in Android","body":"Most likely a bug in Android"},{"owner":{"account_id":3766511,"reputation":183,"user_id":3129901,"accept_rate":100,"display_name":"Fabman22"},"score":0,"creation_date":1659083497,"post_id":73140296,"comment_id":129215673,"body_markdown":"@Emil thanks for your answer - can you maybe point me to the source where this could lead to a wrong behavior? I assume this depends on the HAL interface, which expects something special of the BLE device (missing parameters, wrong response, etc.). In BluetoothPairingDialog.java, the intent ACTION_PAIRING_REQUEST is the reason for showing this dialog. But showing this dialog is the result of start paring again, since I got unpaired before by Android. What could be a reason for Android to unpair an already bonded device? How I wrote, I cannot exclude some wrong behavior of the BLE device.","body":"@Emil thanks for your answer - can you maybe point me to the source where this could lead to a wrong behavior? I assume this depends on the HAL interface, which expects something special of the BLE device (missing parameters, wrong response, etc.). In BluetoothPairingDialog.java, the intent ACTION_PAIRING_REQUEST is the reason for showing this dialog. But showing this dialog is the result of start paring again, since I got unpaired before by Android. What could be a reason for Android to unpair an already bonded device? How I wrote, I cannot exclude some wrong behavior of the BLE device."},{"owner":{"account_id":3766511,"reputation":183,"user_id":3129901,"accept_rate":100,"display_name":"Fabman22"},"score":0,"creation_date":1663316649,"post_id":73140296,"comment_id":130215355,"body_markdown":"@Emil it looks like you are right, I tried to connect with the Windows nrf connect app - this works as expected, no wrong connection attempts. Trying it with the official nrf connect Android app leads to the same behavior! May you help me by giving an advice which parameters could be changed for a sufficient result?","body":"@Emil it looks like you are right, I tried to connect with the Windows nrf connect app - this works as expected, no wrong connection attempts. Trying it with the official nrf connect Android app leads to the same behavior! May you help me by giving an advice which parameters could be changed for a sufficient result?"},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1663348017,"post_id":73140296,"comment_id":130226360,"body_markdown":"Tried another phone or tablet?","body":"Tried another phone or tablet?"},{"owner":{"account_id":272685,"reputation":12778,"user_id":563904,"accept_rate":100,"display_name":"Entreco"},"score":0,"creation_date":1684142391,"post_id":73140296,"comment_id":134468113,"body_markdown":"According to this link https://github.com/PhilipsHue/flutter_reactive_ble/issues/507 it&#39;s an Android 12 issue. Haven&#39;t been able to confirm this myself.","body":"According to this link <a href=\"https://github.com/PhilipsHue/flutter_reactive_ble/issues/507\" rel=\"nofollow noreferrer\">github.com/PhilipsHue/flutter_reactive_ble/issues/507</a> it&#39;s an Android 12 issue. Haven&#39;t been able to confirm this myself."}],"answers":[{"tags":[],"owner":{"account_id":11861623,"reputation":11,"user_id":8680137,"display_name":"한원우"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699421822,"creation_date":1699421822,"answer_id":77443058,"question_id":73140296,"body_markdown":"It will be helpful for you to call createBond() before connecting to the device.\r\nAnd be aware that getBondState() also has BluetoothDevice.BONDING\r\n","title":"Android Paring-Dialog popups twice after connect to bonded BLE device","body":"<p>It will be helpful for you to call createBond() before connecting to the device.\nAnd be aware that getBondState() also has BluetoothDevice.BONDING</p>\n"}],"owner":{"account_id":3766511,"reputation":183,"user_id":3129901,"accept_rate":100,"display_name":"Fabman22"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699421822,"creation_date":1658934103,"question_id":73140296,"body_markdown":"I&#39;m trying to connect an Android Tablet to an already bonded BLE device via `BluetoothDevice::connectGatt(...)`, but the [BluetoothParingDialog][1] gets called **again twice**.\r\n\r\nThe BLE device is based on the Nordic nRF5 series.\r\n\r\nI created a very simplified Android app (targetSdk 30) to isolate the problem:\r\n\r\nManifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.bluetooth_le&quot;\r\n        android:required=&quot;true&quot;/&gt;\r\n\r\nScan for the device:\r\n\r\n    BluetoothManager bluetoothManager = (BluetoothManager)getContext().getSystemService(BLUETOOTH_SERVICE);\r\n    bluetoothLeScanner = bluetoothManager.getAdapter().getBluetoothLeScanner();\r\n    bluetoothLeScanner.startScan(scanCallback);\r\n\r\n\r\nScan callback:\r\n\r\n    ScanCallback scanCallback = new ScanCallback() {\r\n        @Override\r\n        public void onScanResult(int callbackType, ScanResult result) {\r\n            BluetoothDevice device = result.getDevice();\r\n            if (device != null) {\r\n                String deviceName = device.getName();\r\n                    if (deviceName != null) {\r\n                        if (deviceName.startsWith(&quot;MY_BLE_DEVICE&quot;)) {\r\n                            bluetoothLeScanner.stopScan(scanCallback);\r\n                            bluetoothDevice = device;\r\n                            TryConnect();\r\n                        }\r\n                    }\r\n            }\r\n            super.onScanResult(callbackType, result);\r\n        }\r\n\r\n        private void TryConnect() {\r\n            if (bluetoothDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\r\n                bluetoothDevice.connectGatt(getContext(), false, new BluetoothGattCallback(){});\r\n            } else {\r\n                bluetoothDevice.createBond();\r\n            }\r\n        }\r\n    };\r\n\r\nAnd here the broadcast receiver for connecting after the first bonding:\r\n\r\n    receiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            int state = (int)intent.getExtras().get(BluetoothDevice.EXTRA_BOND_STATE);\r\n\r\n            if (BluetoothDevice.ACTION_BOND_STATE_CHANGED.equals(action) &amp;&amp; !isConnection){\r\n                bluetoothDevice = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                if (bluetoothDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\r\n                    isConnection = true;\r\n                    TryConnect();\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\nOn first time, everything works fine. The device starts bonding via `BluetoothDevice::createBond()`, the dialog pops-up and after pressing &quot;pair&quot;, I can connect to the device. Afterwards, it&#39;s also displayed as &quot;Paired&quot; in the Android Bluetooth Settings. \r\n\r\nOn the second time, the scanner finds the device, and I&#39;m calling directly `connectGatt()` -&gt; The Paring-Dialog gets displayed again (and once again if I press &quot;Pair&quot;). Also, the device is not paired anymore (see in the logs).\r\n\r\nThis also happens if I pair the device at first via Android Bluetooth Settings.\r\n\r\nFollowing the logcat output directly after calling `connectGatt(..)`\r\n\r\n\r\n    2022-07-27 16:37:33.145 21289-21289/com.example.bletestapp I/BluetoothAdapter: STATE_ON\r\n    2022-07-27 16:37:33.154 21289-21289/com.example.bletestapp D/BluetoothGatt: connect() - device: DE:D6:D2:33:40:03, auto: false\r\n    2022-07-27 16:37:33.155 21289-21289/com.example.bletestapp I/BluetoothAdapter: isSecureModeEnabled\r\n    2022-07-27 16:37:33.156 2777-4160/? D/BtConfig.SecureMode: isSecureModeOn:false\r\n    2022-07-27 16:37:33.156 21289-21289/com.example.bletestapp D/BluetoothGatt: registerApp()\r\n    2022-07-27 16:37:33.160 21289-21289/com.example.bletestapp D/BluetoothGatt: registerApp() - UUID=ca7f6fdc-54b5-4412-9ce8-82044123d264\r\n    2022-07-27 16:37:33.163 2777-4160/? D/BtGatt.GattService: registerClient(com.example.bletestapp) - UUID=ca7f6fdc-54b5-4412-9ce8-82044123d264\r\n    2022-07-27 16:37:33.165 2777-4160/? D/BtGatt.ContextMap: add() - appUid: 10426, appPid: 21289, appName: com.example.bletestapp\r\n    2022-07-27 16:37:33.166 2777-3876/? I/bt_stack: [INFO:gatt_api.cc(950)] GATT_Register ca7f6fdc-54b5-4412-9ce8-82044123d264\r\n    2022-07-27 16:37:33.166 2777-3876/? I/bt_stack: [INFO:gatt_api.cc(994)] allocated gatt_if=13\r\n    2022-07-27 16:37:33.166 2777-2979/? D/BtGatt.GattService: onClientRegistered() - UUID=ca7f6fdc-54b5-4412-9ce8-82044123d264, clientIf=13\r\n    2022-07-27 16:37:33.168 21289-23039/com.example.bletestapp D/BluetoothGatt: onClientRegistered() - status=0 clientIf=13\r\n    2022-07-27 16:37:33.218 21289-21289/com.example.bletestapp I/BluetoothAdapter: STATE_ON\r\n    2022-07-27 16:37:33.218 21289-21289/com.example.bletestapp D/BluetoothLeScanner: could not find callback wrapper\r\n    2022-07-27 16:37:33.223 2777-4160/? D/BtGatt.GattService: clientConnect(com.example.bletestapp) - address = 33:4, isDirect=true transport =0 set own addr = false own addr type:0, clientIf: 13, opportunistic=false, phy: 1\r\n    2022-07-27 16:37:33.225 2777-3876/? W/bt_btm: BTM_SecAddBleDevice: dev_type=0x2\r\n    2022-07-27 16:37:33.225 2777-3876/? E/bt_stack: [ERROR:gatt_api.cc(1150)] GATT_Connectgatt_if=13, address=de:d6:d2:33:40:03, is_direct=1, opportunistic=0\r\n    2022-07-27 16:37:33.226 2777-3876/? W/bt_btm: btm_find_dev_by_identity_addr find pseudo-&gt;random match with diff addr type: 1 vs 0\r\n    2022-07-27 16:37:33.226 2777-3876/? W/bt_btm: btm_find_dev_by_identity_addr find pseudo-&gt;random match with diff addr type: 1 vs 0\r\n    2022-07-27 16:37:33.226 2777-3876/? W/bt_btm: btm_ble_enable_resolving_list() rl_state = 0xb, rl_mask = 0x1\r\n    2022-07-27 16:37:33.226 773-773/? D/vendor.qti.bluetooth@1.0-ibs_handler: SerialClockVote: vote for UART CLK ON\r\n    2022-07-27 16:37:33.227 773-773/? D/vendor.qti.bluetooth@1.0-wake_lock: Acquire wakelock is acquired \r\n    2022-07-27 16:37:33.227 773-773/? I/vendor.qti.bluetooth@1.0-ibs_handler: DeviceWakeUp: Writing IBS_WAKE_IND\r\n    2022-07-27 16:37:33.230 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Received IBS_WAKE_ACK: 0xFC\r\n    2022-07-27 16:37:33.230 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Signal wack_cond_\r\n    2022-07-27 16:37:33.230 773-773/? D/vendor.qti.bluetooth@1.0-ibs_handler: DeviceWakeUp: Unblocked from waiting for FC\r\n    2022-07-27 16:37:33.231 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Received IBS_WAKE_IND: 0xFD\r\n    2022-07-27 16:37:33.231 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Writing IBS_WAKE_ACK\r\n    2022-07-27 16:37:33.258 2805-2805/? I/ViewRootImpl@bceb956[Toast]: Relayout returned: old=(0,36,1200,1920) new=(422,1762,778,1824) req=(356,62)0 dur=13 res=0x7 s={true 500290883584} ch=true fn=-1\r\n    2022-07-27 16:37:33.259 2777-3876/? W/bt_l2cap: l2cble_conn_comp: HANDLE=6 addr_type=1 conn_interval=36 slave_latency=0 supervision_tout=500\r\n    2022-07-27 16:37:33.259 2777-3876/? W/bt_l2cap: l2cu_initialize_fixed_ccb: don&#39;t cancel l2c_lcb_timer\r\n    2022-07-27 16:37:33.259 2777-3876/? W/bt_btm: btm_ble_disable_resolving_list() rl_state = 0xb, rl_mask = 0x1, to_resume = 1\r\n    2022-07-27 16:37:33.267 2777-3876/? D/IOP_DB_BT: db_query_create: id EnforceMasterRole :: key KEY_BDADDR\r\n    2022-07-27 16:37:33.268 2777-3876/? D/IOP_DB_BT: db_query_add_key: key KEY_DIR_ALL\r\n    2022-07-27 16:37:33.268 2777-3876/? D/IOP_DB_BT: db_query_execute: result 1\r\n    2022-07-27 16:37:33.269 2777-3876/? W/bt_btif: bta_dm_acl_change info: 0x0\r\n    2022-07-27 16:37:33.290 2777-2979/? E/BluetoothRemoteDevices: Remote class is UNCATEGORIZED\r\n    2022-07-27 16:37:33.290 2777-2979/? I/BluetoothBondStateMachine: bondStateChangeCallback: Status: 0 Address: DE:D6:D2:33:40:03 newState: 1\r\n    2022-07-27 16:37:33.294 1210-3535/? D/SecContentProvider: query(), uri = 4 selection = bluetoothLogForRemote\r\n    2022-07-27 16:37:33.294 1210-3535/? D/SecContentProvider: called from android.uid.bluetooth:1002\r\n    2022-07-27 16:37:33.295 2777-2979/? I/BluetoothBondStateMachine: sspRequestCallback: [B@f395de name: [B@714a3bf cod: 7936 pairingVariant 2 passkey: ******\r\n    2022-07-27 16:37:33.296 2777-2979/? E/bt_btif: remote name callback registration fail.\r\n    2022-07-27 16:37:33.298 2777-3638/? D/BluetoothAdapterService: updateDataBase() bondstate : 11\r\n    2022-07-27 16:37:33.298 2777-3638/? E/BluetoothAdapterService: updateDataBase - newState is bonding. return.\r\n\r\n\r\n\r\nIs there a way to get the reason, why the dialog is shown twice? Since it&#39;s hidden in the SDK, I can&#39;t get the stack trace to figure it out in detail. \r\nDoes the BLE device miss something in the handshake / connection procedure which could lead to this behavior? Could it be a timing problem or key exchange failure? If more information of the BLE device is necessary, I can submit it later.\r\n\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/packages/apps/Settings/+/jb-dev/src/com/android/settings/bluetooth/BluetoothPairingDialog.java","title":"Android Paring-Dialog popups twice after connect to bonded BLE device","body":"<p>I'm trying to connect an Android Tablet to an already bonded BLE device via <code>BluetoothDevice::connectGatt(...)</code>, but the <a href=\"https://android.googlesource.com/platform/packages/apps/Settings/+/jb-dev/src/com/android/settings/bluetooth/BluetoothPairingDialog.java\" rel=\"nofollow noreferrer\">BluetoothParingDialog</a> gets called <strong>again twice</strong>.</p>\n<p>The BLE device is based on the Nordic nRF5 series.</p>\n<p>I created a very simplified Android app (targetSdk 30) to isolate the problem:</p>\n<p>Manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-feature\n    android:name=&quot;android.hardware.bluetooth_le&quot;\n    android:required=&quot;true&quot;/&gt;\n</code></pre>\n<p>Scan for the device:</p>\n<pre><code>BluetoothManager bluetoothManager = (BluetoothManager)getContext().getSystemService(BLUETOOTH_SERVICE);\nbluetoothLeScanner = bluetoothManager.getAdapter().getBluetoothLeScanner();\nbluetoothLeScanner.startScan(scanCallback);\n</code></pre>\n<p>Scan callback:</p>\n<pre><code>ScanCallback scanCallback = new ScanCallback() {\n    @Override\n    public void onScanResult(int callbackType, ScanResult result) {\n        BluetoothDevice device = result.getDevice();\n        if (device != null) {\n            String deviceName = device.getName();\n                if (deviceName != null) {\n                    if (deviceName.startsWith(&quot;MY_BLE_DEVICE&quot;)) {\n                        bluetoothLeScanner.stopScan(scanCallback);\n                        bluetoothDevice = device;\n                        TryConnect();\n                    }\n                }\n        }\n        super.onScanResult(callbackType, result);\n    }\n\n    private void TryConnect() {\n        if (bluetoothDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\n            bluetoothDevice.connectGatt(getContext(), false, new BluetoothGattCallback(){});\n        } else {\n            bluetoothDevice.createBond();\n        }\n    }\n};\n</code></pre>\n<p>And here the broadcast receiver for connecting after the first bonding:</p>\n<pre><code>receiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        int state = (int)intent.getExtras().get(BluetoothDevice.EXTRA_BOND_STATE);\n\n        if (BluetoothDevice.ACTION_BOND_STATE_CHANGED.equals(action) &amp;&amp; !isConnection){\n            bluetoothDevice = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n            if (bluetoothDevice.getBondState() == BluetoothDevice.BOND_BONDED) {\n                isConnection = true;\n                TryConnect();\n            }\n        }\n    }\n};\n</code></pre>\n<p>On first time, everything works fine. The device starts bonding via <code>BluetoothDevice::createBond()</code>, the dialog pops-up and after pressing &quot;pair&quot;, I can connect to the device. Afterwards, it's also displayed as &quot;Paired&quot; in the Android Bluetooth Settings.</p>\n<p>On the second time, the scanner finds the device, and I'm calling directly <code>connectGatt()</code> -&gt; The Paring-Dialog gets displayed again (and once again if I press &quot;Pair&quot;). Also, the device is not paired anymore (see in the logs).</p>\n<p>This also happens if I pair the device at first via Android Bluetooth Settings.</p>\n<p>Following the logcat output directly after calling <code>connectGatt(..)</code></p>\n<pre><code>2022-07-27 16:37:33.145 21289-21289/com.example.bletestapp I/BluetoothAdapter: STATE_ON\n2022-07-27 16:37:33.154 21289-21289/com.example.bletestapp D/BluetoothGatt: connect() - device: DE:D6:D2:33:40:03, auto: false\n2022-07-27 16:37:33.155 21289-21289/com.example.bletestapp I/BluetoothAdapter: isSecureModeEnabled\n2022-07-27 16:37:33.156 2777-4160/? D/BtConfig.SecureMode: isSecureModeOn:false\n2022-07-27 16:37:33.156 21289-21289/com.example.bletestapp D/BluetoothGatt: registerApp()\n2022-07-27 16:37:33.160 21289-21289/com.example.bletestapp D/BluetoothGatt: registerApp() - UUID=ca7f6fdc-54b5-4412-9ce8-82044123d264\n2022-07-27 16:37:33.163 2777-4160/? D/BtGatt.GattService: registerClient(com.example.bletestapp) - UUID=ca7f6fdc-54b5-4412-9ce8-82044123d264\n2022-07-27 16:37:33.165 2777-4160/? D/BtGatt.ContextMap: add() - appUid: 10426, appPid: 21289, appName: com.example.bletestapp\n2022-07-27 16:37:33.166 2777-3876/? I/bt_stack: [INFO:gatt_api.cc(950)] GATT_Register ca7f6fdc-54b5-4412-9ce8-82044123d264\n2022-07-27 16:37:33.166 2777-3876/? I/bt_stack: [INFO:gatt_api.cc(994)] allocated gatt_if=13\n2022-07-27 16:37:33.166 2777-2979/? D/BtGatt.GattService: onClientRegistered() - UUID=ca7f6fdc-54b5-4412-9ce8-82044123d264, clientIf=13\n2022-07-27 16:37:33.168 21289-23039/com.example.bletestapp D/BluetoothGatt: onClientRegistered() - status=0 clientIf=13\n2022-07-27 16:37:33.218 21289-21289/com.example.bletestapp I/BluetoothAdapter: STATE_ON\n2022-07-27 16:37:33.218 21289-21289/com.example.bletestapp D/BluetoothLeScanner: could not find callback wrapper\n2022-07-27 16:37:33.223 2777-4160/? D/BtGatt.GattService: clientConnect(com.example.bletestapp) - address = 33:4, isDirect=true transport =0 set own addr = false own addr type:0, clientIf: 13, opportunistic=false, phy: 1\n2022-07-27 16:37:33.225 2777-3876/? W/bt_btm: BTM_SecAddBleDevice: dev_type=0x2\n2022-07-27 16:37:33.225 2777-3876/? E/bt_stack: [ERROR:gatt_api.cc(1150)] GATT_Connectgatt_if=13, address=de:d6:d2:33:40:03, is_direct=1, opportunistic=0\n2022-07-27 16:37:33.226 2777-3876/? W/bt_btm: btm_find_dev_by_identity_addr find pseudo-&gt;random match with diff addr type: 1 vs 0\n2022-07-27 16:37:33.226 2777-3876/? W/bt_btm: btm_find_dev_by_identity_addr find pseudo-&gt;random match with diff addr type: 1 vs 0\n2022-07-27 16:37:33.226 2777-3876/? W/bt_btm: btm_ble_enable_resolving_list() rl_state = 0xb, rl_mask = 0x1\n2022-07-27 16:37:33.226 773-773/? D/vendor.qti.bluetooth@1.0-ibs_handler: SerialClockVote: vote for UART CLK ON\n2022-07-27 16:37:33.227 773-773/? D/vendor.qti.bluetooth@1.0-wake_lock: Acquire wakelock is acquired \n2022-07-27 16:37:33.227 773-773/? I/vendor.qti.bluetooth@1.0-ibs_handler: DeviceWakeUp: Writing IBS_WAKE_IND\n2022-07-27 16:37:33.230 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Received IBS_WAKE_ACK: 0xFC\n2022-07-27 16:37:33.230 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Signal wack_cond_\n2022-07-27 16:37:33.230 773-773/? D/vendor.qti.bluetooth@1.0-ibs_handler: DeviceWakeUp: Unblocked from waiting for FC\n2022-07-27 16:37:33.231 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Received IBS_WAKE_IND: 0xFD\n2022-07-27 16:37:33.231 773-3872/? I/vendor.qti.bluetooth@1.0-ibs_handler: ProcessIbsCmd: Writing IBS_WAKE_ACK\n2022-07-27 16:37:33.258 2805-2805/? I/ViewRootImpl@bceb956[Toast]: Relayout returned: old=(0,36,1200,1920) new=(422,1762,778,1824) req=(356,62)0 dur=13 res=0x7 s={true 500290883584} ch=true fn=-1\n2022-07-27 16:37:33.259 2777-3876/? W/bt_l2cap: l2cble_conn_comp: HANDLE=6 addr_type=1 conn_interval=36 slave_latency=0 supervision_tout=500\n2022-07-27 16:37:33.259 2777-3876/? W/bt_l2cap: l2cu_initialize_fixed_ccb: don't cancel l2c_lcb_timer\n2022-07-27 16:37:33.259 2777-3876/? W/bt_btm: btm_ble_disable_resolving_list() rl_state = 0xb, rl_mask = 0x1, to_resume = 1\n2022-07-27 16:37:33.267 2777-3876/? D/IOP_DB_BT: db_query_create: id EnforceMasterRole :: key KEY_BDADDR\n2022-07-27 16:37:33.268 2777-3876/? D/IOP_DB_BT: db_query_add_key: key KEY_DIR_ALL\n2022-07-27 16:37:33.268 2777-3876/? D/IOP_DB_BT: db_query_execute: result 1\n2022-07-27 16:37:33.269 2777-3876/? W/bt_btif: bta_dm_acl_change info: 0x0\n2022-07-27 16:37:33.290 2777-2979/? E/BluetoothRemoteDevices: Remote class is UNCATEGORIZED\n2022-07-27 16:37:33.290 2777-2979/? I/BluetoothBondStateMachine: bondStateChangeCallback: Status: 0 Address: DE:D6:D2:33:40:03 newState: 1\n2022-07-27 16:37:33.294 1210-3535/? D/SecContentProvider: query(), uri = 4 selection = bluetoothLogForRemote\n2022-07-27 16:37:33.294 1210-3535/? D/SecContentProvider: called from android.uid.bluetooth:1002\n2022-07-27 16:37:33.295 2777-2979/? I/BluetoothBondStateMachine: sspRequestCallback: [B@f395de name: [B@714a3bf cod: 7936 pairingVariant 2 passkey: ******\n2022-07-27 16:37:33.296 2777-2979/? E/bt_btif: remote name callback registration fail.\n2022-07-27 16:37:33.298 2777-3638/? D/BluetoothAdapterService: updateDataBase() bondstate : 11\n2022-07-27 16:37:33.298 2777-3638/? E/BluetoothAdapterService: updateDataBase - newState is bonding. return.\n</code></pre>\n<p>Is there a way to get the reason, why the dialog is shown twice? Since it's hidden in the SDK, I can't get the stack trace to figure it out in detail.\nDoes the BLE device miss something in the handshake / connection procedure which could lead to this behavior? Could it be a timing problem or key exchange failure? If more information of the BLE device is necessary, I can submit it later.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":212305,"reputation":24681,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1510010339,"post_id":14127381,"comment_id":81245178,"body_markdown":"I faced exactly same problem in Android Studio as well as it is also based on intelliJ platform only.","body":"I faced exactly same problem in Android Studio as well as it is also based on intelliJ platform only."}],"answers":[{"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1357153236,"post_id":14127412,"comment_id":19557686,"body_markdown":"Even `JO&lt;tab&gt;` is enough -- just tested :p","body":"Even <code>JO&lt;tab&gt;</code> is enough -- just tested :p"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1699421351,"creation_date":1357152347,"answer_id":14127412,"question_id":14127381,"body_markdown":"IDEA is very senstive to capitalisation so I doubt it will ignore it.  You can type `JOP+&lt;tab&gt;` and it will give you JOptionPane.","title":"IntelliJ IDEA 12 code completion without capitalisation","body":"<p>IDEA is very senstive to capitalisation so I doubt it will ignore it.  You can type <code>JOP+&lt;tab&gt;</code> and it will give you JOptionPane.</p>\n"},{"comments":[{"owner":{"account_id":1072190,"reputation":1518,"user_id":1071196,"accept_rate":72,"display_name":"jasiustasiu"},"score":6,"creation_date":1419338360,"post_id":14127986,"comment_id":43661736,"body_markdown":"File -&gt; Settings -&gt; Editor -&gt; General -&gt; Code completion -&gt; Case sensitive completion in Intellij 14","body":"File -&gt; Settings -&gt; Editor -&gt; General -&gt; Code completion -&gt; Case sensitive completion in Intellij 14"},{"owner":{"account_id":221813,"reputation":4653,"user_id":480007,"accept_rate":100,"display_name":"Timu&#231;in"},"score":7,"creation_date":1447764913,"post_id":14127986,"comment_id":55282509,"body_markdown":"Default should have been case insensitive.","body":"Default should have been case insensitive."}],"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"comment_count":2,"down_vote_count":0,"up_vote_count":193,"is_accepted":true,"score":193,"last_activity_date":1552331997,"creation_date":1357155127,"answer_id":14127986,"question_id":14127381,"body_markdown":"You can disable the case sensitivity of the code completion in the settings menu:\n\nFile -&gt; Settings -&gt; Editor -&gt; Code completion -&gt; Case sensitive completion\n\n![enter image description here][1]\n\nIf you then type &quot;jo&quot; and hit TAB, it will expand to JOptionPane.\n\n# Updated screenshot for IntelliJ 15\n\n[![enter image description here][2]][2]\n\n# Update screenshot for IntelliJ 2018\n\n[![enter image description here][3]][3]\n\n\n  [1]: https://i.stack.imgur.com/Gkciu.png\n  [2]: https://i.stack.imgur.com/qex2m.png\n  [3]: https://i.stack.imgur.com/dLTqK.png","title":"IntelliJ IDEA 12 code completion without capitalisation","body":"<p>You can disable the case sensitivity of the code completion in the settings menu:</p>\n<p>File -&gt; Settings -&gt; Editor -&gt; Code completion -&gt; Case sensitive completion</p>\n<p><img src=\"https://i.stack.imgur.com/Gkciu.png\" alt=\"enter image description here\" /></p>\n<p>If you then type &quot;jo&quot; and hit TAB, it will expand to JOptionPane.</p>\n<h1>Updated screenshot for IntelliJ 15</h1>\n<p><a href=\"https://i.stack.imgur.com/qex2m.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qex2m.png\" alt=\"enter image description here\" /></a></p>\n<h1>Update screenshot for IntelliJ 2018</h1>\n<p><a href=\"https://i.stack.imgur.com/dLTqK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dLTqK.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1782592,"reputation":80842,"user_id":1624921,"accept_rate":83,"display_name":"Games Brainiac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13891,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":14127986,"answer_count":2,"score":96,"last_activity_date":1699421351,"creation_date":1357152204,"question_id":14127381,"body_markdown":"In eclipse 4.2, I can just type:\r\n\r\n    joptionpane\r\n\r\nand press **&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;SPACE&lt;/kbd&gt;** and it will turn into:\r\n\r\n    JOptionPane\r\n\r\nIs there any way to do the same with intelliJ IDEA? I have tried pressing **&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;SPACE&lt;/kbd&gt;**, and **&lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;/&lt;/kbd&gt;**. But, for some reason it just does not work.\r\n\r\nI would be most grateful if anyone could show me how to do this.\r\n\r\nI am just trying out version 12 of IDEA, since some of my friends told me that it was a better IDE and had better code completion (their opinions).","title":"IntelliJ IDEA 12 code completion without capitalisation","body":"<p>In eclipse 4.2, I can just type:</p>\n\n<pre><code>joptionpane\n</code></pre>\n\n<p>and press <strong><kbd>CTRL</kbd>+<kbd>SPACE</kbd></strong> and it will turn into:</p>\n\n<pre><code>JOptionPane\n</code></pre>\n\n<p>Is there any way to do the same with intelliJ IDEA? I have tried pressing <strong><kbd>CTRL</kbd>+<kbd>SPACE</kbd></strong>, and <strong><kbd>ALT</kbd>+<kbd>/</kbd></strong>. But, for some reason it just does not work.</p>\n\n<p>I would be most grateful if anyone could show me how to do this.</p>\n\n<p>I am just trying out version 12 of IDEA, since some of my friends told me that it was a better IDE and had better code completion (their opinions).</p>\n"},{"tags":["java","if-statement","methods"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1542328506,"post_id":53329697,"comment_id":93539945,"body_markdown":"You need to be a lot more specific if you want a helpful response.","body":"You need to be a lot more specific if you want a helpful response."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1542328748,"post_id":53329697,"comment_id":93539994,"body_markdown":"I can&#39;t see anything obviously wrong with your initial yes/no code.  However, I do see some code later on where you later where you haven&#39;t done the same thing.  Suggest that you *create a method* to ask a question with a yes/no answer, and *call* it in the 2 (or more) places where to need to do that.","body":"I can&#39;t see anything obviously wrong with your initial yes/no code.  However, I do see some code later on where you later where you haven&#39;t done the same thing.  Suggest that you <i>create a method</i> to ask a question with a yes/no answer, and <i>call</i> it in the 2 (or more) places where to need to do that."},{"owner":{"account_id":14355499,"reputation":33,"user_id":10369537,"display_name":"Ghetto Lisa"},"score":0,"creation_date":1542329186,"post_id":53329697,"comment_id":93540089,"body_markdown":"I was very specific of what I wanted... I am confused...","body":"I was very specific of what I wanted... I am confused..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1542329282,"post_id":53329697,"comment_id":93540112,"body_markdown":"I suspect that your real problem is the way that you are going about this.  Rather than asking a series of different people (including StackOverflow) to help you each time you get stuck, you need to work through the problems for yourself.  If you continually rely on other people&#39;s knowledge (the easy way) rather than developing your own (the hard way) you end up not really understanding how to do anything apart from trivial programming tasks ... with no real path forwards.  You may get the marks ... but the skills won&#39;t be there.","body":"I suspect that your real problem is the way that you are going about this.  Rather than asking a series of different people (including StackOverflow) to help you each time you get stuck, you need to work through the problems for yourself.  If you continually rely on other people&#39;s knowledge (the easy way) rather than developing your own (the hard way) you end up not really understanding how to do anything apart from trivial programming tasks ... with no real path forwards.  You may get the marks ... but the skills won&#39;t be there."}],"answers":[{"tags":[],"owner":{"account_id":13289053,"reputation":37,"user_id":9594111,"display_name":"Biblioburro"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1542328936,"creation_date":1542328936,"answer_id":53329837,"question_id":53329697,"body_markdown":"If you would want the charges to be added to the value of answer you should do it in only one for loop and because the index of services and prices line up just use and if statement to check if the response is yes\r\n\r\n    String[] services = {&quot;Oil Change&quot;, &quot;Coolant Flush&quot;, &quot;Brake Job&quot;, &quot;Tune Up&quot;};                      \r\n          for(int i=0; i&lt;services.length; i++)\r\n             {\r\n               System.out.println(&quot;Do you want a &quot; +services[i]);\r\n               answer = keyboard.next();   \r\n               if(answer.equalsIgnoresCase()){\r\n                       answer += prices[i]\r\n                 }  \r\n              }  \r\n    \r\n         double amount = 0;\r\n         double[] price = {39.99, 59.99, 119.99, 109.99};  \r\n         for(int i =0; i&lt;price.length; i++)\r\n               {\r\n                  amount = (price[i] + price [i]);\r\n               }","title":"How Do I Add Charges Based On Yes or No?","body":"<p>If you would want the charges to be added to the value of answer you should do it in only one for loop and because the index of services and prices line up just use and if statement to check if the response is yes</p>\n\n<pre><code>String[] services = {\"Oil Change\", \"Coolant Flush\", \"Brake Job\", \"Tune Up\"};                      \n      for(int i=0; i&lt;services.length; i++)\n         {\n           System.out.println(\"Do you want a \" +services[i]);\n           answer = keyboard.next();   \n           if(answer.equalsIgnoresCase()){\n                   answer += prices[i]\n             }  \n          }  \n\n     double amount = 0;\n     double[] price = {39.99, 59.99, 119.99, 109.99};  \n     for(int i =0; i&lt;price.length; i++)\n           {\n              amount = (price[i] + price [i]);\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699421262,"creation_date":1542330979,"answer_id":53330103,"question_id":53329697,"body_markdown":"Before I talk about your code, I recommend you read this article.  \r\n\r\n  - [Rubber Duck Debugging][1].\r\n\r\nIt is a bit flippant, but there is a deep truth to it.  And it maps neatly with a debugging technique that I was taught .... umm ... 40 years ago.\r\n\r\n----------------\r\n\r\nFirst I draw your attention to this:\r\n\r\n      System.out.println(&quot;Is your car an import?&quot;);\r\n      while (true)\r\n      {\r\n         answer = keyboard.nextLine();\r\n         if (answer.equalsIgnoreCase(&quot;yes&quot;)) \r\n       {\r\n         yn = true;\r\n         break;\r\n       } \r\n            else if (answer.equalsIgnoreCase(&quot;no&quot;))\r\n            {\r\n               yn = false;\r\n               break;\r\n             } \r\n               else \r\n               {\r\n               System.out.println(&quot;Sorry, I didn&#39;t catch that. Please answer yes or no&quot;);\r\n               }\r\n    \r\n       } \r\n\r\nThat code does a pretty good job of asking a &quot;yes or no&quot; question and getting the answer.  It includes code to retry if the user responds with something that isn&#39;t recognizable as &quot;yes&quot; or &quot;no&quot;.\r\n\r\nSo I&#39;m guessing that someone wrote that code for you ... or you found it somewhere.  You need to read that code carefully, and make sure you understand exactly how it works.\r\n\r\n-------------------- \r\n\r\nNext, I draw your attention to this:\r\n\r\n      for(int i=0; i&lt;services.length; i++)\r\n         {\r\n           System.out.println(&quot;Do you want a &quot; +services[i]);\r\n           answer = keyboard.next();    \r\n          }  \r\n\r\nThis code does not make sense.  (Explain it to your rubber duck!)\r\n\r\nYour earlier code is a good example of how to ask a yes / no question.  But this is nothing like that:\r\n\r\n  - You are not testing for &quot;yes&quot; or &quot;no&quot;.\r\n  - You are not repeating if the user gives an unrecognizable answer\r\n  - You are not even storing the answer .... for each distinct service.\r\n\r\nThen this:\r\n\r\n     double amount = 0;\r\n     double[] price = {39.99, 59.99, 119.99, 109.99};  \r\n     for(int i =0; i&lt;price.length; i++)\r\n           {\r\n              amount = (price[i] + price [i]);\r\n           }\r\n\r\nIt looks like this is trying to add the price of service items to the overall amount.  But:\r\n\r\n  - You are doing it for *every* service item, not just the items that the customer asked for.\r\n  - You are actually doing the calculation incorrectly anyway.  (Talk to your Rubber Duck about it!)\r\n\r\nHow to fix this?\r\n\r\n  - Some things should be obvious from what I said above.\r\n  - The problem of remembering the answers from the first `for` loop and using them in the second `for` loop ... is actually a problem you can / should avoid.  Instead, combine the two loops into one.  Here&#39;s some pseudo code:\r\n\r\n            for each service:\r\n                ask the user if he wants this service\r\n                if the user wants this service:\r\n                    add the service cost to the total.\r\n\r\n     Understand the *logic* of that, and translate it into Java code.  (Yes I could write it for you, but that defeats the purpose!)           \r\n\r\n  [1]: https://rubberduckdebugging.com/\r\n\r\n","title":"How Do I Add Charges Based On Yes or No?","body":"<p>Before I talk about your code, I recommend you read this article.</p>\n<ul>\n<li><a href=\"https://rubberduckdebugging.com/\" rel=\"nofollow noreferrer\">Rubber Duck Debugging</a>.</li>\n</ul>\n<p>It is a bit flippant, but there is a deep truth to it.  And it maps neatly with a debugging technique that I was taught .... umm ... 40 years ago.</p>\n<hr />\n<p>First I draw your attention to this:</p>\n<pre><code>  System.out.println(&quot;Is your car an import?&quot;);\n  while (true)\n  {\n     answer = keyboard.nextLine();\n     if (answer.equalsIgnoreCase(&quot;yes&quot;)) \n   {\n     yn = true;\n     break;\n   } \n        else if (answer.equalsIgnoreCase(&quot;no&quot;))\n        {\n           yn = false;\n           break;\n         } \n           else \n           {\n           System.out.println(&quot;Sorry, I didn't catch that. Please answer yes or no&quot;);\n           }\n\n   } \n</code></pre>\n<p>That code does a pretty good job of asking a &quot;yes or no&quot; question and getting the answer.  It includes code to retry if the user responds with something that isn't recognizable as &quot;yes&quot; or &quot;no&quot;.</p>\n<p>So I'm guessing that someone wrote that code for you ... or you found it somewhere.  You need to read that code carefully, and make sure you understand exactly how it works.</p>\n<hr />\n<p>Next, I draw your attention to this:</p>\n<pre><code>  for(int i=0; i&lt;services.length; i++)\n     {\n       System.out.println(&quot;Do you want a &quot; +services[i]);\n       answer = keyboard.next();    \n      }  \n</code></pre>\n<p>This code does not make sense.  (Explain it to your rubber duck!)</p>\n<p>Your earlier code is a good example of how to ask a yes / no question.  But this is nothing like that:</p>\n<ul>\n<li>You are not testing for &quot;yes&quot; or &quot;no&quot;.</li>\n<li>You are not repeating if the user gives an unrecognizable answer</li>\n<li>You are not even storing the answer .... for each distinct service.</li>\n</ul>\n<p>Then this:</p>\n<pre><code> double amount = 0;\n double[] price = {39.99, 59.99, 119.99, 109.99};  \n for(int i =0; i&lt;price.length; i++)\n       {\n          amount = (price[i] + price [i]);\n       }\n</code></pre>\n<p>It looks like this is trying to add the price of service items to the overall amount.  But:</p>\n<ul>\n<li>You are doing it for <em>every</em> service item, not just the items that the customer asked for.</li>\n<li>You are actually doing the calculation incorrectly anyway.  (Talk to your Rubber Duck about it!)</li>\n</ul>\n<p>How to fix this?</p>\n<ul>\n<li><p>Some things should be obvious from what I said above.</p>\n</li>\n<li><p>The problem of remembering the answers from the first <code>for</code> loop and using them in the second <code>for</code> loop ... is actually a problem you can / should avoid.  Instead, combine the two loops into one.  Here's some pseudo code:</p>\n<pre><code>    for each service:\n        ask the user if he wants this service\n        if the user wants this service:\n            add the service cost to the total.\n</code></pre>\n<p>Understand the <em>logic</em> of that, and translate it into Java code.  (Yes I could write it for you, but that defeats the purpose!)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":14355499,"reputation":33,"user_id":10369537,"display_name":"Ghetto Lisa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":53330103,"answer_count":2,"score":-1,"last_activity_date":1699421262,"creation_date":1542327697,"question_id":53329697,"body_markdown":"Working on a coding assignment and we have to incorporate methods and returning it. However, that is the beside the point. I am struggling on the price calculation portion. Okay, here&#39;s the gist of what I am stuck with. When the program asks, is your car and import. If the answer is yes, you will be charge with a 7% import tax, if no, the charge is negated. Now, the program asks for four services, depending on yes or no, the charge will be added based on their answer.\r\n \r\nSo, if the user wants an Oil Change and Tune Up and if their car is an import the services price will be added along with the import tax or if the car is not an import but want all services then the charges will be displayed without the import tax added, etc... The final outcome would display &quot;Before taxes, it would be $# and after taxes, your total is...&quot; An if statement is required but I do not know where to start because I am mainly struggling with the yes or no... Any help? My professor advised me to use an accumulator so I added one.. No avail, I am lost, any help would be greatly appreciated.\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class CarMaintenance\r\n    {\r\n    public static void main(String[] args)\r\n    {     \r\n       \r\n      Scanner keyboard = new Scanner(System.in);\r\n      String car; \r\n     \r\n      //capture car\r\n      System.out.println(&quot;What is the make of your car&quot;); \r\n      car = keyboard.nextLine();\r\n      \r\n      String answer;\r\n      boolean yn;\r\n      \r\n      System.out.println(&quot;Is your car an import?&quot;);\r\n      while (true)\r\n      {\r\n         answer = keyboard.nextLine();\r\n         if (answer.equalsIgnoreCase(&quot;yes&quot;)) \r\n       {\r\n         yn = true;\r\n         break;\r\n       } \r\n            else if (answer.equalsIgnoreCase(&quot;no&quot;))\r\n            {\r\n               yn = false;\r\n               break;\r\n             } \r\n               else \r\n               {\r\n               System.out.println(&quot;Sorry, I didn&#39;t catch that. Please answer yes or no&quot;);\r\n               }\r\n\r\n       } \r\n         \r\n          String[] services = {&quot;Oil Change&quot;, &quot;Coolant Flush&quot;, &quot;Brake Job&quot;, &quot;Tune Up&quot;};                      \r\n          for(int i=0; i&lt;services.length; i++)\r\n             {\r\n               System.out.println(&quot;Do you want a &quot; +services[i]);\r\n               answer = keyboard.next();    \r\n              }  \r\n      \r\n         double amount = 0;\r\n         double[] price = {39.99, 59.99, 119.99, 109.99};  \r\n         for(int i =0; i&lt;price.length; i++)\r\n               {\r\n                  amount = (price[i] + price [i]);\r\n               }\r\n   \r\n      // double total = 0;\r\n         double c = 0;\r\n         c = car(amount);\r\n    //   c = car(total);\r\n         System.out.println(&quot;The price for your services for your&quot; + &quot; &quot; + car + &quot; &quot; + &quot;is&quot; + &quot; &quot;+ c + &quot;.&quot;);\r\n  \r\n      \r\n     }\r\n \r\n     public static double car(double amount)\r\n     {\r\n     return (double) ((amount-32)* 5/9);\r\n     }      \r\n\r\n    }\r\n \r\n\r\n\r\n","title":"How Do I Add Charges Based On Yes or No?","body":"<p>Working on a coding assignment and we have to incorporate methods and returning it. However, that is the beside the point. I am struggling on the price calculation portion. Okay, here's the gist of what I am stuck with. When the program asks, is your car and import. If the answer is yes, you will be charge with a 7% import tax, if no, the charge is negated. Now, the program asks for four services, depending on yes or no, the charge will be added based on their answer.</p>\n\n<p>So, if the user wants an Oil Change and Tune Up and if their car is an import the services price will be added along with the import tax or if the car is not an import but want all services then the charges will be displayed without the import tax added, etc... The final outcome would display \"Before taxes, it would be $# and after taxes, your total is...\" An if statement is required but I do not know where to start because I am mainly struggling with the yes or no... Any help? My professor advised me to use an accumulator so I added one.. No avail, I am lost, any help would be greatly appreciated.</p>\n\n<pre><code>import java.util.Scanner;\npublic class CarMaintenance\n{\npublic static void main(String[] args)\n{     \n\n  Scanner keyboard = new Scanner(System.in);\n  String car; \n\n  //capture car\n  System.out.println(\"What is the make of your car\"); \n  car = keyboard.nextLine();\n\n  String answer;\n  boolean yn;\n\n  System.out.println(\"Is your car an import?\");\n  while (true)\n  {\n     answer = keyboard.nextLine();\n     if (answer.equalsIgnoreCase(\"yes\")) \n   {\n     yn = true;\n     break;\n   } \n        else if (answer.equalsIgnoreCase(\"no\"))\n        {\n           yn = false;\n           break;\n         } \n           else \n           {\n           System.out.println(\"Sorry, I didn't catch that. Please answer yes or no\");\n           }\n\n   } \n\n      String[] services = {\"Oil Change\", \"Coolant Flush\", \"Brake Job\", \"Tune Up\"};                      \n      for(int i=0; i&lt;services.length; i++)\n         {\n           System.out.println(\"Do you want a \" +services[i]);\n           answer = keyboard.next();    \n          }  \n\n     double amount = 0;\n     double[] price = {39.99, 59.99, 119.99, 109.99};  \n     for(int i =0; i&lt;price.length; i++)\n           {\n              amount = (price[i] + price [i]);\n           }\n\n  // double total = 0;\n     double c = 0;\n     c = car(amount);\n//   c = car(total);\n     System.out.println(\"The price for your services for your\" + \" \" + car + \" \" + \"is\" + \" \"+ c + \".\");\n\n\n }\n\n public static double car(double amount)\n {\n return (double) ((amount-32)* 5/9);\n }      \n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","redis"],"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1697914463,"post_id":77336426,"comment_id":136340286,"body_markdown":"Can you provide the part of `application.properties` you use to set `RedisProperties`?","body":"Can you provide the part of <code>application.properties</code> you use to set <code>RedisProperties</code>?"},{"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"score":0,"creation_date":1697953584,"post_id":77336426,"comment_id":136342657,"body_markdown":"I&#39;ve modified the question by adding both the RedisProperties class and my application.yml file. Of course, I had to obscure the actual values {hostName}....","body":"I&#39;ve modified the question by adding both the RedisProperties class and my application.yml file. Of course, I had to obscure the actual values {hostName}...."},{"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"score":0,"creation_date":1697954403,"post_id":77336426,"comment_id":136342700,"body_markdown":"I tried to connect using both Lettuce and Jedis, and with both I always get the same error: org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}/&lt;unresolved&gt;:6379.","body":"I tried to connect using both Lettuce and Jedis, and with both I always get the same error: org.springframework.data.redis.RedisConnectionFailureExcepti&zwnj;&#8203;on: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}/&lt;unresolved&gt;:6379."}],"answers":[{"tags":[],"owner":{"account_id":17891578,"reputation":35,"user_id":12997928,"display_name":"shuai yan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699420712,"creation_date":1699420712,"answer_id":77442990,"question_id":77336426,"body_markdown":"the redis password is not set or wrong. I see the problem when java working directory is changed and property file is not loaded.","title":"Unable to connect to Redis,RedisConnectionException: Unable to connect to {hostName}:6379/&lt;unresolved&gt;:6379*","body":"<p>the redis password is not set or wrong. I see the problem when java working directory is changed and property file is not loaded.</p>\n"}],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699420712,"creation_date":1697898570,"question_id":77336426,"body_markdown":"I&#39;m trying to configure a redis connection within my SpringBoot project. \r\nThe application starts up without any issues, but when I try to test any Redis operation, specifically when making a call to a REST controller that actually invokes the repository, I keep encountering the same error.\r\n\r\nHere are the versions I&#39;m using in my pom.xml:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nBelow is the configuration class I use for connecting to Redis:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class RedisConfigurationBuilder {\r\n    \r\n    \tprivate final RedisProperties redisProperties;\r\n    \r\n    \t@Bean\r\n    \tpublic RedisConnectionFactory redisConnectionFactory() {\r\n    \t\ttry {\r\n    \t\t\tRedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n    \t\t\tredisStandaloneConfiguration.setHostName(redisProperties.getHost());\r\n    \t\t\tredisStandaloneConfiguration.setPort(redisProperties.getPort());\r\n    \t\t\tredisStandaloneConfiguration.setUsername(redisProperties.getUsername());\r\n    \t\t\tredisStandaloneConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\r\n    \r\n    \t\t\tLettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder().useSsl().and()\r\n    \t\t\t\t\t.commandTimeout(Duration.ofSeconds(2)).build();\r\n    \r\n    \t\t\treturn new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfig);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(&quot;Failed to configure Redis&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\r\n    \t\tRedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    \t\ttemplate.setConnectionFactory(connectionFactory);\r\n    \t\ttemplate.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\r\n    \t\ttemplate.setKeySerializer(new StringRedisSerializer());\r\n    \t\ttemplate.setHashKeySerializer(new GenericJackson2JsonRedisSerializer());\r\n    \t\ttemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n    \t\treturn template;\r\n    \t}\r\n    }\r\n\r\n\r\nThis is the RedisProperties class, which reads the properties from my application.yml file:\r\n\r\n    @Component\r\n    @Getter\r\n    public class RedisProperties {\r\n    \r\n    \t@Value(&quot;${spring.data.redis.host}&quot;)\r\n    \tprivate String host;\r\n    \r\n    \t@Value(&quot;${spring.data.redis.port}&quot;)\r\n    \tprivate int port;\r\n    \r\n    \t@Value(&quot;${spring.data.redis.username}&quot;)\r\n    \tprivate String username;\r\n    \r\n    \t@Value(&quot;${spring.data.redis.password}&quot;)\r\n    \tprivate String password;\r\n    \r\n    }\r\n\r\nand finally, this is my application.yml:\r\n\r\n    spring:\r\n      application:\r\n        name: &quot;application-name&quot;\r\n      data:\r\n        redis:\r\n          host: {hostName}\r\n          port: 6379\r\n          username: {myUsername}\r\n          password: {myPassword}\r\n          ssl: \r\n            enabled: true\r\n\r\n\r\nNote: In the stack trace, I&#39;ve replaced the real hostname with `{hostName}` just to hide the actual server I&#39;m connecting to. The error message is as follows:\r\n\r\n&gt; org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}:6379/ &lt; unresolved &gt; :6379\r\n\r\nAnd this is the stack trace of the error I keep getting:\r\n \r\n&gt; org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}:6379/&lt; unresolved &gt;:6379\tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1689) \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1597) \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1383) \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \tat java.base/java.lang.Thread.run(Thread.java:833) **Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}/&lt;unresolved&gt;:6379 \tat** io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78) \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56) \tat io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:330) \tat io.lettuce.core.RedisClient.connect(RedisClient.java:216) \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:115) \tat java.base/java.util.Optional.orElseGet(Optional.java:364) \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:115) \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1595) \t... 77 common frames omitted Caused by: java.lang.IllegalArgumentException: Host has a port: {hostName}:6379 \tat io.lettuce.core.internal.LettuceAssert.isTrue(LettuceAssert.java:222) \tat io.lettuce.core.internal.HostAndPort.of(HostAndPort.java:57) \tat io.lettuce.core.SslConnectionBuilder.toHostAndPort(SslConnectionBuilder.java:109) \tat io.lettuce.core.SslConnectionBuilder.build(SslConnectionBuilder.java:99) \tat","title":"Unable to connect to Redis,RedisConnectionException: Unable to connect to {hostName}:6379/&lt;unresolved&gt;:6379*","body":"<p>I'm trying to configure a redis connection within my SpringBoot project.\nThe application starts up without any issues, but when I try to test any Redis operation, specifically when making a call to a REST controller that actually invokes the repository, I keep encountering the same error.</p>\n<p>Here are the versions I'm using in my pom.xml:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Below is the configuration class I use for connecting to Redis:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class RedisConfigurationBuilder {\n\n    private final RedisProperties redisProperties;\n\n    @Bean\n    public RedisConnectionFactory redisConnectionFactory() {\n        try {\n            RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n            redisStandaloneConfiguration.setHostName(redisProperties.getHost());\n            redisStandaloneConfiguration.setPort(redisProperties.getPort());\n            redisStandaloneConfiguration.setUsername(redisProperties.getUsername());\n            redisStandaloneConfiguration.setPassword(RedisPassword.of(redisProperties.getPassword()));\n\n            LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder().useSsl().and()\n                    .commandTimeout(Duration.ofSeconds(2)).build();\n\n            return new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfig);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Failed to configure Redis&quot;, e);\n        }\n    }\n\n    @Bean\n    public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory connectionFactory) {\n        RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(connectionFactory);\n        template.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new GenericJackson2JsonRedisSerializer());\n        template.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n        return template;\n    }\n}\n</code></pre>\n<p>This is the RedisProperties class, which reads the properties from my application.yml file:</p>\n<pre><code>@Component\n@Getter\npublic class RedisProperties {\n\n    @Value(&quot;${spring.data.redis.host}&quot;)\n    private String host;\n\n    @Value(&quot;${spring.data.redis.port}&quot;)\n    private int port;\n\n    @Value(&quot;${spring.data.redis.username}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.data.redis.password}&quot;)\n    private String password;\n\n}\n</code></pre>\n<p>and finally, this is my application.yml:</p>\n<pre><code>spring:\n  application:\n    name: &quot;application-name&quot;\n  data:\n    redis:\n      host: {hostName}\n      port: 6379\n      username: {myUsername}\n      password: {myPassword}\n      ssl: \n        enabled: true\n</code></pre>\n<p>Note: In the stack trace, I've replaced the real hostname with <code>{hostName}</code> just to hide the actual server I'm connecting to. The error message is as follows:</p>\n<blockquote>\n<p>org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}:6379/ &lt; unresolved &gt; :6379</p>\n</blockquote>\n<p>And this is the stack trace of the error I keep getting:</p>\n<blockquote>\n<p>org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}:6379/&lt; unresolved &gt;:6379    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1689)     at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1597)  at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1383)      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)   at java.base/java.lang.Thread.run(Thread.java:833) <strong>Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to {hostName}/:6379     at</strong> io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)  at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)    at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:330)  at io.lettuce.core.RedisClient.connect(RedisClient.java:216)    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:115)     at java.base/java.util.Optional.orElseGet(Optional.java:364)    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:115)  at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1595)  ... 77 common frames omitted Caused by: java.lang.IllegalArgumentException: Host has a port: {hostName}:6379    at io.lettuce.core.internal.LettuceAssert.isTrue(LettuceAssert.java:222)    at io.lettuce.core.internal.HostAndPort.of(HostAndPort.java:57)     at io.lettuce.core.SslConnectionBuilder.toHostAndPort(SslConnectionBuilder.java:109)    at io.lettuce.core.SslConnectionBuilder.build(SslConnectionBuilder.java:99)     at</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1699105770,"post_id":77422247,"comment_id":136490938,"body_markdown":"Cannot reproduce. When h.txt contains an h and a newline, I get `2h12&lt;newline&gt;1`, as expected.","body":"Cannot reproduce. When h.txt contains an h and a newline, I get <code>2h12&lt;newline&gt;1</code>, as expected."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699108215,"post_id":77422247,"comment_id":136491208,"body_markdown":"How is a question that doesn’t mention `BufferedReader` a duplicate of a question about it?","body":"How is a question that doesn’t mention <code>BufferedReader</code> a duplicate of a question about it?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1699112501,"post_id":77422247,"comment_id":136491670,"body_markdown":"&quot;However, adding Enter to the file make an unexpected result&quot; - what result, and what did you expect?","body":"&quot;However, adding Enter to the file make an unexpected result&quot; - what result, and what did you expect?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699125174,"post_id":77422247,"comment_id":136493040,"body_markdown":"that is not related to `read()`. but seems like your console, or whatever output being used, is interpreting the so called *Enter* as a carriage return","body":"that is not related to <code>read()</code>. but seems like your console, or whatever output being used, is interpreting the so called <i>Enter</i> as a carriage return"}],"answers":[{"tags":[],"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699111810,"creation_date":1699111810,"answer_id":77422677,"question_id":77422247,"body_markdown":"Found h, write 2h1 on console,  \r\nfound CR: write 2 : 2h12  \r\nthen write CR :cursor goes back to the begining of Line, write 1: 1h12,  \r\n found another char , write 2 : 1212,  \r\n This char (null?) is not writable: write space in place: 12 2   \r\n,remember cursor is after Space,  \r\n write final 1 (overwriting previous 2): 12 1\r\n\r\nI think your &#39;enter&#39; put a CR while on other case it could be a LF CR or a crlf.\r\n\r\nI can&#39;t explain &#39;another char&#39; (may be your *while* is wrong and is -1 one round later. I can&#39;t test here, I am on my phone...).  \r\n\r\nThat remembers me the beginning of printers in 80th where the print head goes back to beginning and overwrite previous line if only a CR...","title":"in Java, How read() method from FileReader class works?","body":"<p>Found h, write 2h1 on console,<br />\nfound CR: write 2 : 2h12<br />\nthen write CR :cursor goes back to the begining of Line, write 1: 1h12,<br />\nfound another char , write 2 : 1212,<br />\nThis char (null?) is not writable: write space in place: 12 2<br />\n,remember cursor is after Space,<br />\nwrite final 1 (overwriting previous 2): 12 1</p>\n<p>I think your 'enter' put a CR while on other case it could be a LF CR or a crlf.</p>\n<p>I can't explain 'another char' (may be your <em>while</em> is wrong and is -1 one round later. I can't test here, I am on my phone...).</p>\n<p>That remembers me the beginning of printers in 80th where the print head goes back to beginning and overwrite previous line if only a CR...</p>\n"},{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699180080,"creation_date":1699179550,"answer_id":77425518,"question_id":77422247,"body_markdown":"Depending on how the &quot;Enter&quot; is actually saved in the file (see https://en.wikipedia.org/wiki/Newline) and how the console is interpreting these characters, specially when a `CRLF` sequence is split, the output can be explained like this:\r\n\r\nWe assume the content of the file are the three bytes `0x68`, `0x0d` and `0x0a`, which are the characters `h`, `\\r` and `\\n`. Then the `while` loop will generate the output in order:\r\n\r\n1. `2h1`\r\n2. `2\\r1`\r\n3. `2\\n1`\r\n\r\nIf we generate the output step by step by simulating a console we will read the output `12 1` like this at the end:\r\n\r\nFirst we print the first loop iteration result, that&#39;s easy:\r\n\r\n    2h1\r\n       ^\r\n\r\nThe `^` indicate where the cursor currently is. Then we print the text `2\\r1`. We split it up to print these characters individually. First the `2`:\r\n\r\n    2h12\r\n        ^\r\n\r\nNow we &quot;print&quot; the [carriage return](https://en.wikipedia.org/wiki/Carriage_return), which moves the cursor to the start **without** going to the next line:\r\n\r\n    2h12\r\n    ^\r\n\r\nNow we print the remaining `1`, overriding the previous written start.\r\n\r\n    1h12\r\n     ^\r\n\r\nNow we print the third loop iteration result, the text `2\\n1`. Again, we split the print to separate characters. First the `2` will overwrite the `h` character:\r\n\r\n    1212\r\n      ^\r\n\r\nNow it gets tricky. The [line feed](https://en.wikipedia.org/wiki/Newline) gets printed, but your console you are using (my guess it is the windows command line, but I could be wrong) does not recognize a single `\\n` sequence as a new line, but expect such new lines to be generated with `\\r\\n` (CRLF). Therefore, it &quot;prints&quot; the character as a white space in the same line without going to the next line, overwriting the `1` at the current place:\r\n\r\n    12 2\r\n       ^\r\n\r\nAnd finally, it prints the remaining `1` character, overwriting the exist `2` character at this place:\r\n\r\n    12 1\r\n       ^\r\n\r\nThat&#39;s how the output is generated, assuming all the assumptions I made are true. As an example, on linux it generates a different output:\r\n\r\n    1212\r\n    1\r\n\r\nAnd on https://www.jdoodle.com/ia/PXR (or https://www.mycompiler.io/view/1enrA60VJkU) it generates the following output:\r\n\r\n    2h12\r\n    12\r\n    1","title":"in Java, How read() method from FileReader class works?","body":"<p>Depending on how the &quot;Enter&quot; is actually saved in the file (see <a href=\"https://en.wikipedia.org/wiki/Newline\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Newline</a>) and how the console is interpreting these characters, specially when a <code>CRLF</code> sequence is split, the output can be explained like this:</p>\n<p>We assume the content of the file are the three bytes <code>0x68</code>, <code>0x0d</code> and <code>0x0a</code>, which are the characters <code>h</code>, <code>\\r</code> and <code>\\n</code>. Then the <code>while</code> loop will generate the output in order:</p>\n<ol>\n<li><code>2h1</code></li>\n<li><code>2\\r1</code></li>\n<li><code>2\\n1</code></li>\n</ol>\n<p>If we generate the output step by step by simulating a console we will read the output <code>12 1</code> like this at the end:</p>\n<p>First we print the first loop iteration result, that's easy:</p>\n<pre><code>2h1\n   ^\n</code></pre>\n<p>The <code>^</code> indicate where the cursor currently is. Then we print the text <code>2\\r1</code>. We split it up to print these characters individually. First the <code>2</code>:</p>\n<pre><code>2h12\n    ^\n</code></pre>\n<p>Now we &quot;print&quot; the <a href=\"https://en.wikipedia.org/wiki/Carriage_return\" rel=\"nofollow noreferrer\">carriage return</a>, which moves the cursor to the start <strong>without</strong> going to the next line:</p>\n<pre><code>2h12\n^\n</code></pre>\n<p>Now we print the remaining <code>1</code>, overriding the previous written start.</p>\n<pre><code>1h12\n ^\n</code></pre>\n<p>Now we print the third loop iteration result, the text <code>2\\n1</code>. Again, we split the print to separate characters. First the <code>2</code> will overwrite the <code>h</code> character:</p>\n<pre><code>1212\n  ^\n</code></pre>\n<p>Now it gets tricky. The <a href=\"https://en.wikipedia.org/wiki/Newline\" rel=\"nofollow noreferrer\">line feed</a> gets printed, but your console you are using (my guess it is the windows command line, but I could be wrong) does not recognize a single <code>\\n</code> sequence as a new line, but expect such new lines to be generated with <code>\\r\\n</code> (CRLF). Therefore, it &quot;prints&quot; the character as a white space in the same line without going to the next line, overwriting the <code>1</code> at the current place:</p>\n<pre><code>12 2\n   ^\n</code></pre>\n<p>And finally, it prints the remaining <code>1</code> character, overwriting the exist <code>2</code> character at this place:</p>\n<pre><code>12 1\n   ^\n</code></pre>\n<p>That's how the output is generated, assuming all the assumptions I made are true. As an example, on linux it generates a different output:</p>\n<pre><code>1212\n1\n</code></pre>\n<p>And on <a href=\"https://www.jdoodle.com/ia/PXR\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/ia/PXR</a> (or <a href=\"https://www.mycompiler.io/view/1enrA60VJkU\" rel=\"nofollow noreferrer\">https://www.mycompiler.io/view/1enrA60VJkU</a>) it generates the following output:</p>\n<pre><code>2h12\n12\n1\n</code></pre>\n"}],"owner":{"account_id":25817348,"reputation":15,"user_id":19557082,"display_name":"Hamed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77425518,"answer_count":2,"score":0,"last_activity_date":1699420143,"creation_date":1699105206,"question_id":77422247,"body_markdown":"I have a file (h.txt) in which I wrote a letter &#39;h&#39; and press Enter and I saved and closed it. I used the FileReader class to read the content of the file as follows:\r\n\r\n        FileReader inf = new FileReader(&quot;h.txt&quot;);\r\n        int chCode;\r\n        while (-1 != (chCode = inf.read())) System.out.print(&quot;2&quot; + (char) chCode + &quot;1&quot;);\r\n        inf.close();\r\n\r\nThe output is:\r\n\r\n`12`\r\n\r\n`1`\r\n\r\nHow the read() method read the characters? \r\n\r\nIn h.txt file I removed the Enter so the file contains only &#39;h&#39; character and as I expected the output became:\r\n\r\n`2h1`\r\n\r\nHowever, adding Enter to the file make an unexpected result. I meant how 12 appeared?","title":"in Java, How read() method from FileReader class works?","body":"<p>I have a file (h.txt) in which I wrote a letter 'h' and press Enter and I saved and closed it. I used the FileReader class to read the content of the file as follows:</p>\n<pre><code>    FileReader inf = new FileReader(&quot;h.txt&quot;);\n    int chCode;\n    while (-1 != (chCode = inf.read())) System.out.print(&quot;2&quot; + (char) chCode + &quot;1&quot;);\n    inf.close();\n</code></pre>\n<p>The output is:</p>\n<p><code>12</code></p>\n<p><code>1</code></p>\n<p>How the read() method read the characters?</p>\n<p>In h.txt file I removed the Enter so the file contains only 'h' character and as I expected the output became:</p>\n<p><code>2h1</code></p>\n<p>However, adding Enter to the file make an unexpected result. I meant how 12 appeared?</p>\n"},{"tags":["java","android","push-notification"],"comments":[{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1699420591,"post_id":77442920,"comment_id":136527835,"body_markdown":"pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\n change this line","body":"pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);  change this line"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1699420601,"post_id":77442920,"comment_id":136527837,"body_markdown":"PendingIntent pendingIntent = PendingIntent.getActivity(getApplicationContext(), 0, resultIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);","body":"PendingIntent pendingIntent = PendingIntent.getActivity(getApplicationContext(), 0, resultIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);"},{"owner":{"account_id":15269764,"reputation":98,"user_id":11017313,"display_name":"Kalpana Aneyrao"},"score":0,"creation_date":1699421842,"post_id":77442920,"comment_id":136527922,"body_markdown":"Shall I write this? pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);","body":"Shall I write this? pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);"},{"owner":{"account_id":15269764,"reputation":98,"user_id":11017313,"display_name":"Kalpana Aneyrao"},"score":0,"creation_date":1699422308,"post_id":77442920,"comment_id":136527956,"body_markdown":"Shall I write this?\n\npendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);","body":"Shall I write this?  pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1699423568,"post_id":77442920,"comment_id":136528062,"body_markdown":"this line PendingIntent.FLAG_ONE_SHOT You can change after ur problem slove","body":"this line PendingIntent.FLAG_ONE_SHOT You can change after ur problem slove"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1699423918,"post_id":77442920,"comment_id":136528098,"body_markdown":"pendingIntent = PendingIntent.getActivity(this,0, notificationIntent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_UPDATE_CURRENT);","body":"pendingIntent = PendingIntent.getActivity(this,0, notificationIntent, PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_UPDATE_CURRENT);"},{"owner":{"account_id":15269764,"reputation":98,"user_id":11017313,"display_name":"Kalpana Aneyrao"},"score":0,"creation_date":1699428305,"post_id":77442920,"comment_id":136528610,"body_markdown":"If I keep FLAG_ONE+SHOT only then my pending intent doesn&#39;t work","body":"If I keep FLAG_ONE+SHOT only then my pending intent doesn&#39;t work"},{"owner":{"account_id":15269764,"reputation":98,"user_id":11017313,"display_name":"Kalpana Aneyrao"},"score":0,"creation_date":1699429434,"post_id":77442920,"comment_id":136528777,"body_markdown":"My pending Intent doesn&#39;t work with FLAG_ONE_SHOT or FLAG_ONE_SHOT | FLAG_UPDATE_CURRENT","body":"My pending Intent doesn&#39;t work with FLAG_ONE_SHOT or FLAG_ONE_SHOT | FLAG_UPDATE_CURRENT"},{"owner":{"account_id":15269764,"reputation":98,"user_id":11017313,"display_name":"Kalpana Aneyrao"},"score":0,"creation_date":1699429466,"post_id":77442920,"comment_id":136528785,"body_markdown":"I think after adding this notification plate is receiving api notification only","body":"I think after adding this notification plate is receiving api notification only"},{"owner":{"account_id":7497949,"reputation":370,"user_id":5697456,"display_name":"suresh madaparthi"},"score":0,"creation_date":1699439827,"post_id":77442920,"comment_id":136530684,"body_markdown":"yes Api Notification u will get","body":"yes Api Notification u will get"}],"owner":{"account_id":15269764,"reputation":98,"user_id":11017313,"display_name":"Kalpana Aneyrao"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699419501,"creation_date":1699419501,"question_id":77442920,"body_markdown":"&gt; I have integrated an api to send the push notification and I am receiving notification from that api itself. But then I wanted to add pending Intent on the notification so I have written below code\r\n\r\n\r\n    private void sendNotification(RemoteMessage remoteMessage) {\r\n            notification_id = (int) System.currentTimeMillis();\r\n    \r\n            if (remoteMessage.getNotification() != null &amp;&amp; remoteMessage.getNotification().getTitle() != null)\r\n            {\r\n                final int NOTIFY_ID = 1002;\r\n                String title = remoteMessage.getNotification().getTitle();\r\n                String body = remoteMessage.getNotification().getBody();\r\n                String type = remoteMessage.getData().get(&quot;type&quot;);\r\n                String name = &quot;my_package_channel&quot;;\r\n                String id = &quot;my_package_channel_1&quot;; // The user-visible name of the channel.\r\n                String description = &quot;my_package_first_channel&quot;; // The user-visible description of the channel.\r\n                Intent notificationIntent = null;\r\n                PendingIntent pendingIntent = null;\r\n                NotificationCompat.Builder builder;\r\n    \r\n                //PENDING INTENT\r\n                notificationIntent = new Intent(this, SplashScreen.class);\r\n                notificationIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                notificationIntent.putExtra(&quot;isNotification&quot;, true);\r\n                pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\r\n    \r\n                if (notifManager == null) {\r\n                    notifManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n                }\r\n    \r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    int importance = NotificationManager.IMPORTANCE_HIGH;\r\n                    NotificationChannel mChannel = notifManager.getNotificationChannel(id);\r\n                    if (mChannel == null) {\r\n                        mChannel = new NotificationChannel(id, name, importance);\r\n                        mChannel.setDescription(description);\r\n                        mChannel.enableVibration(true);\r\n                        mChannel.setLightColor(Color.GREEN);\r\n                        mChannel.setVibrationPattern(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\r\n                        notifManager.createNotificationChannel(mChannel);\r\n                    }\r\n                    builder = new NotificationCompat.Builder(this, id);\r\n                    builder.setContentTitle(title)  // required\r\n                            .setSmallIcon(R.drawable.eyeplus_logo) // required\r\n                            .setContentText(body)  // required\r\n                            .setDefaults(Notification.DEFAULT_ALL)\r\n                            .setAutoCancel(true)\r\n                            .setTicker(title)\r\n                            .setContentIntent(pendingIntent)\r\n                            .setVibrate(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\r\n                } else {\r\n                    builder = new NotificationCompat.Builder(this);\r\n                    builder.setContentTitle(title)                           // required\r\n                            .setSmallIcon(R.drawable.eyeplus_logo) // required\r\n                            .setContentText(body)  // required\r\n                            .setDefaults(Notification.DEFAULT_ALL)\r\n                            .setAutoCancel(true)\r\n                            .setTicker(title)\r\n                            .setContentIntent(pendingIntent)\r\n                            .setVibrate(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400})\r\n                            .setPriority(Notification.PRIORITY_HIGH);\r\n                }\r\n    \r\n                Notification notification = builder.build();\r\n                notifManager.notify(NOTIFY_ID, notification);\r\n            }\r\n\r\n\r\n&gt; After this I am receiving notification twice. What can should I do to resolve this?\r\n&gt; \r\n&gt; Thanks in Advance","title":"Receiving Push Notification twice","body":"<blockquote>\n<p>I have integrated an api to send the push notification and I am receiving notification from that api itself. But then I wanted to add pending Intent on the notification so I have written below code</p>\n</blockquote>\n<pre><code>private void sendNotification(RemoteMessage remoteMessage) {\n        notification_id = (int) System.currentTimeMillis();\n\n        if (remoteMessage.getNotification() != null &amp;&amp; remoteMessage.getNotification().getTitle() != null)\n        {\n            final int NOTIFY_ID = 1002;\n            String title = remoteMessage.getNotification().getTitle();\n            String body = remoteMessage.getNotification().getBody();\n            String type = remoteMessage.getData().get(&quot;type&quot;);\n            String name = &quot;my_package_channel&quot;;\n            String id = &quot;my_package_channel_1&quot;; // The user-visible name of the channel.\n            String description = &quot;my_package_first_channel&quot;; // The user-visible description of the channel.\n            Intent notificationIntent = null;\n            PendingIntent pendingIntent = null;\n            NotificationCompat.Builder builder;\n\n            //PENDING INTENT\n            notificationIntent = new Intent(this, SplashScreen.class);\n            notificationIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n            notificationIntent.putExtra(&quot;isNotification&quot;, true);\n            pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT);\n\n            if (notifManager == null) {\n                notifManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            }\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                int importance = NotificationManager.IMPORTANCE_HIGH;\n                NotificationChannel mChannel = notifManager.getNotificationChannel(id);\n                if (mChannel == null) {\n                    mChannel = new NotificationChannel(id, name, importance);\n                    mChannel.setDescription(description);\n                    mChannel.enableVibration(true);\n                    mChannel.setLightColor(Color.GREEN);\n                    mChannel.setVibrationPattern(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\n                    notifManager.createNotificationChannel(mChannel);\n                }\n                builder = new NotificationCompat.Builder(this, id);\n                builder.setContentTitle(title)  // required\n                        .setSmallIcon(R.drawable.eyeplus_logo) // required\n                        .setContentText(body)  // required\n                        .setDefaults(Notification.DEFAULT_ALL)\n                        .setAutoCancel(true)\n                        .setTicker(title)\n                        .setContentIntent(pendingIntent)\n                        .setVibrate(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400});\n            } else {\n                builder = new NotificationCompat.Builder(this);\n                builder.setContentTitle(title)                           // required\n                        .setSmallIcon(R.drawable.eyeplus_logo) // required\n                        .setContentText(body)  // required\n                        .setDefaults(Notification.DEFAULT_ALL)\n                        .setAutoCancel(true)\n                        .setTicker(title)\n                        .setContentIntent(pendingIntent)\n                        .setVibrate(new long[]{100, 200, 300, 400, 500, 400, 300, 200, 400})\n                        .setPriority(Notification.PRIORITY_HIGH);\n            }\n\n            Notification notification = builder.build();\n            notifManager.notify(NOTIFY_ID, notification);\n        }\n</code></pre>\n<blockquote>\n<p>After this I am receiving notification twice. What can should I do to resolve this?</p>\n<p>Thanks in Advance</p>\n</blockquote>\n"},{"tags":["java","eclipse","listview","javafx","scenebuilder"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1699427600,"post_id":77442804,"comment_id":136528507,"body_markdown":"You should never have a public setter method  like `setListView` to set the value of an @FXML member that has been initialized by the FXMLLoader.  You may have other issues in your code.","body":"You should never have a public setter method  like <code>setListView</code> to set the value of an @FXML member that has been initialized by the FXMLLoader.  You may have other issues in your code."}],"owner":{"account_id":29851505,"reputation":1,"user_id":22877278,"display_name":"BeginnerCodeLearner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699417999,"creation_date":1699416982,"question_id":77442804,"body_markdown":"So I am trying to add a item in AddListController.java that is connected to addList.fxml, and then transfer that added item into my ListView in my MyListEducationController in my MyList_Education.fxml. The thing is, the console showed that the item is added, but my ListView is still empty. I am also using a DataModel class to connect the two. \r\n\r\nhandleAddListButton clicked\r\nTitle:  testing one two three\r\nDataModel contents: [ testing one two three]\r\nupdateListView method called\r\nItems in DataModel: [ testing one two three]\r\nListView items set: [ testing one two three]\r\n\r\n\r\n\r\nThese are my following codes\r\n\r\n[MyListEducationController]\r\n\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\nimport application.DataModel;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.stage.Stage;\r\n\r\npublic class MyListEducationController implements Initializable{\r\n\t\r\n\t\r\n\r\n\r\n\t@FXML\r\n\tprivate ListView&lt;String&gt; listView;\r\n\tprivate DataModel dataModel;\r\n\t\r\n\t\r\n\t\t@FXML\r\n\t    private Button addListButton;\r\n\t\t@FXML\r\n\t    private Button homeButton;\r\n\t\t@FXML\r\n\t    private Button myListButton;\r\n\t\t@FXML\r\n\t    private Button profileButton;\r\n\t\t@FXML\r\n\t\tprivate Scene myListScene;\r\n\t\t@FXML\r\n\t\tprivate Main mainController;\r\n\r\n\t    \r\n\t\t@FXML\r\n\t\tprivate Button eduDoneList;\r\n\t    \r\n\t\tpublic DataModel getDataModel() {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\treturn dataModel;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void initialize(URL location, ResourceBundle resources) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t        if (listView != null) {\r\n\t            listView.setItems(FXCollections.observableArrayList()); \r\n\t        }\r\n\t\t}\r\n\r\n\t\t\r\n\t    public ListView&lt;String&gt; getListView() {\r\n\t        return listView;\r\n\t    }\r\n\t    public void setListView(ListView&lt;String&gt; listView) {\r\n\t        this.listView = listView;\r\n\t    }\r\n\t    \r\n\t    public void updateListView() {\r\n\t        System.out.println(&quot;updateListView method called&quot;);\r\n\t        if (dataModel != null &amp;&amp; listView != null) {\r\n\t            ObservableList&lt;String&gt; items = dataModel.getLists();\r\n\t            System.out.println(&quot;Items in DataModel: &quot; + items);\r\n\t            listView.setItems(items);\r\n\t            System.out.println(&quot;ListView items set: &quot; + listView.getItems());\r\n\r\n\t        }  else {\r\n\t            System.out.println(&quot;DataModel or ListView is null. Unable to update the ListView.&quot;);\r\n\t        }\r\n\t    }\r\n\t    \r\n\r\n\r\n\t\tpublic MyListEducationController() {\r\n\t\t    dataModel = DataModel.getInstance(); \r\n\t\t}\r\n\r\n\t\tpublic void addItemToListView(String item) {\r\n\t\t    if (listView != null) {\r\n\t\t        listView.getItems().add(item);\r\n\t\t    }\r\n\t\t}\r\n\t    \r\n\t\tpublic void setMyListScene(Scene myListScene) {\r\n\t\t    this.myListScene = myListScene;\r\n\t\t}\r\n\r\n\r\n\t    public void setDataModel(DataModel dataModel) {\r\n\t        this.dataModel = dataModel; \r\n\r\n\t    }\r\n\t    \r\n\t    \r\n\t    @FXML\r\n\t\tpublic void navigateToHomeEducationPage(ActionEvent e) throws IOException {\r\n\t\t    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home26_Education.fxml&quot;));\r\n\t\t    Parent root = loader.load();\r\n\r\n\t\t    MainController eduController = loader.getController();\r\n\t\t    Scene eduScene = new Scene(root);\r\n\r\n\t\t    Stage stage = (Stage) homeButton.getScene().getWindow();\r\n\t\t    if (stage != null) {\r\n\t\t        stage.setScene(eduScene);\r\n\t\t    }\r\n\t    }\r\n\t    \r\n\t    @FXML\r\n\t\tpublic void navigateToMyListEdu(ActionEvent e) throws IOException {\r\n\r\n\t        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;MyList_Education.fxml&quot;));\r\n\t        Parent root = loader.load();\r\n\r\n\t        MyListEducationController myListController = loader.getController();\r\n\r\n\t        myListController.setDataModel(DataModel.getInstance());\r\n\t        \r\n\t        Scene myListScene = new Scene(root);\r\n\t        myListController.setMyListScene(myListScene); \r\n\t        \r\n\t        \r\n\r\n\t        \r\n\t        Stage stage = (Stage) eduDoneList.getScene().getWindow();\r\n\t        if (stage != null) {\r\n\t            stage.setScene(myListScene);\r\n\t        }\r\n\r\n\t\t\t\r\n\t\t}\r\n\t\tpublic void navigateToProfilePage(ActionEvent e) throws IOException {\r\n\t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Profile.fxml&quot;));\r\n\t\t\tParent root = loader.load();\r\n\r\n\t\t\tMainController educationController = loader.getController();\r\n\t\t\tScene ProfileScene = new Scene(root);\r\n\t\t\t\r\n\t\t\tStage stage = (Stage) profileButton.getScene().getWindow();\r\n\t\t\tSystem.out.println(&quot;Profile page&quot;);\r\n\t\t\troot =  FXMLLoader.load(getClass().getResource(&quot;Profile.fxml&quot;));\r\n\t\t\tstage.setScene(ProfileScene);\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t    \r\n\t    @FXML\r\n\t\tpublic void navigateToAddListPage(ActionEvent e) throws IOException {\r\n\t        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;addList.fxml&quot;));\r\n\t        Parent root = loader.load();\r\n\r\n\t        AddListController addListController = loader.getController();\r\n\r\n\t        DataModel dataModel = DataModel.getInstance();\r\n\t        addListController.initialize(dataModel, this); \r\n\r\n\t        addListController.setMyListScene((Scene) addListButton.getScene());\r\n\r\n\t        Scene addListScene = new Scene(root);\r\n\t        \r\n\t        Stage stage = (Stage) addListButton.getScene().getWindow();\r\n\t        stage.setScene(addListScene);\r\n\t\t\t\r\n\t\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n[DataModel Class]\r\n\r\n```\r\npackage application;\r\n\r\n\r\nimport javafx.collections.FXCollections;\r\n\r\nimport javafx.collections.ObservableList;\r\n\r\npublic class DataModel {\r\n    private static DataModel instance;\r\n\r\n    private final ObservableList&lt;String&gt; lists;\r\n    \r\n\tpublic DataModel() {\r\n        lists = FXCollections.observableArrayList();\r\n        \r\n\t}\r\n\tpublic static DataModel getInstance() {\r\n        if (instance == null) {\r\n            instance = new DataModel();\r\n        }\r\n        return instance;\r\n    }\r\n\t\r\n    public ObservableList&lt;String&gt; getLists() {\r\n        return lists;\r\n    }\r\n    \r\n    public void addList(String title) {\r\n        if (title != null &amp;&amp; !title.isEmpty()) {\r\n            lists.add(title);\r\n        }\r\n    }\r\n\r\n\r\n    public static void setInstance(DataModel instance) {\r\n\t\tDataModel.instance = instance;\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n[AddListController Class]\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ListCell;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.stage.Stage;\r\n\r\npublic class AddListController{\r\n    @FXML\r\n    private TextField addEduTitle;\r\n    @FXML\r\n    private Button eduDoneList;\r\n    @FXML\r\n    private Button homeButton;\r\n    @FXML\r\n    private Button profileButton;\r\n    @FXML\r\n    private Button collabButton;\r\n    @FXML\r\n    private Button lockButton;\r\n    \r\n    private Scene myListScene;\r\n    \r\n\r\n\r\n    @FXML\r\n    private MyListEducationController myListController;\r\n\r\n    private DataModel dataModel; \r\n    \r\n\tpublic void setMyListEducationController(MyListEducationController myListController) {\r\n\t    this.myListController = myListController;\r\n\t}\r\n\tpublic void setMyListScene(Scene scene) {\r\n\t\t// TODO Auto-generated method stub\r\n        this.myListScene = scene;\r\n\t}\r\n  \r\n\tpublic void initialize(DataModel dataModel, MyListEducationController myListController) {\r\n\t\t// TODO Auto-generated method stub\r\n\t    this.dataModel = dataModel;\r\n\t    this.myListController = myListController;\r\n\r\n\t    addEduTitle.setOnKeyPressed(event -&gt; {\r\n\t        if (event.getCode() == KeyCode.ENTER) {\r\n\t            try {\r\n\t\t\t\t\thandleAddListButton(new ActionEvent());\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} \r\n\t        }\r\n\t    });\r\n\t}\r\n\r\n\t\r\n    \r\n\r\n    public String getTextFieldText() {\r\n        return addEduTitle.getText();\r\n    }\r\n    \r\n\r\n\r\n\tpublic void setDataModel(DataModel dataModel) {\r\n\t\t// TODO Auto-generated method stub\r\n        this.dataModel = dataModel;\r\n\t}\r\n\tpublic void setMainController(MainController mainController) {\r\n\t}\r\n    \r\n    @FXML\r\n  \tpublic void navigateToHomeEducationPage(ActionEvent e) throws IOException {\r\n  \t    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home26_Education.fxml&quot;));\r\n  \t    Parent root = loader.load();\r\n\r\n  \t    MainController eduController = loader.getController();\r\n  \t    Scene eduScene = new Scene(root);\r\n\r\n  \t    Stage stage = (Stage) homeButton.getScene().getWindow();\r\n  \t    if (stage != null) {\r\n  \t        stage.setScene(eduScene);\r\n  \t    }\r\n      }\r\n      \r\n  \t\r\n  \tpublic void navigateToProfilePage(ActionEvent e) throws IOException {\r\n  \t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Profile.fxml&quot;));\r\n  \t\tParent root = loader.load();\r\n\r\n  \t\tMainController educationController = loader.getController();\r\n  \t\tScene ProfileScene = new Scene(root);\r\n  \t\t\r\n  \t\tStage stage = (Stage) profileButton.getScene().getWindow();\r\n  \t\tSystem.out.println(&quot;Profile page&quot;);\r\n  \t\troot =  FXMLLoader.load(getClass().getResource(&quot;Profile.fxml&quot;));\r\n  \t\tstage.setScene(ProfileScene);\r\n  \t\t\r\n  \t\t\r\n  \t}\r\n  \tpublic void navigateToCollabPage(ActionEvent e) throws IOException {\r\n\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Collaborate_Edu.fxml&quot;));\r\n\t\tParent root = loader.load();\r\n\r\n\t\tMainController collabController = loader.getController();\r\n\t\tScene collabChoice = new Scene(root);\r\n\t\t\r\n\t\tStage stage = (Stage) collabButton.getScene().getWindow();\r\n\t\tSystem.out.println(&quot;Collaboration page&quot;);\r\n\t\troot =  FXMLLoader.load(getClass().getResource(&quot;Collaborate_Edu.fxml&quot;));\r\n\t\tstage.setScene(collabChoice);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void navigateToCollabSetPass(ActionEvent e) throws IOException {\r\n\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;MyList_SetPass.fxml&quot;));\r\n\t\tParent root = loader.load();\r\n\r\n\t\tMainController lockController = loader.getController();\r\n\t\tScene lockScene = new Scene(root);\r\n\t\t\r\n\t\tStage stage = (Stage) lockButton.getScene().getWindow();\r\n\t\tSystem.out.println(&quot;Lock Set Pass page&quot;);\r\n\t\troot =  FXMLLoader.load(getClass().getResource(&quot;MyList_SetPass.fxml&quot;));\r\n\t\tstage.setScene(lockScene);\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t@FXML\r\n    private void handleAddListButton(ActionEvent e) throws IOException {\r\n\t\t String title = addEduTitle.getText();\r\n\r\n\t\t    \r\n\t        System.out.println(&quot;handleAddListButton clicked&quot;);\r\n\t        System.out.println(&quot;Title: &quot; + title);\r\n\t       \r\n\t        if (dataModel != null) {\r\n\t            if (!title.isEmpty()) {\r\n\t                dataModel.addList(title); \r\n\t                System.out.println(&quot;DataModel contents: &quot; + dataModel.getLists());\r\n\t                myListController.updateListView(); \r\n\t                addEduTitle.clear();\r\n\t            } else {\r\n\t                System.out.println(&quot;Error: Title is empty.&quot;);\r\n\t            }\r\n\t        } else {\r\n\t            System.out.println(&quot;Error: DataModel is null.&quot;);\r\n\t        }\r\n\t\r\n\r\n\t\t    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;MyList_Education.fxml&quot;));\r\n\t\t    Parent root = loader.load();\r\n\t\t    \r\n\t\t    MyListEducationController myListController = loader.getController();\r\n\t\t    Scene myListScene = new Scene(root);\r\n\t\t    myListController.setMyListScene(myListScene);\r\n\t\t    \r\n\t\t    Stage stage = (Stage) eduDoneList.getScene().getWindow();\r\n\t\t    stage.setScene(myListScene);\r\n\r\n\t\r\n        }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nMy MyList_Education.fxml file with the ListView as listView\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ListView?&gt;\r\n&lt;?import javafx.scene.control.RadioButton?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.shape.Line?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane id=&quot;root&quot; maxHeight=&quot;579.0&quot; maxWidth=&quot;288.0&quot; minHeight=&quot;579.0&quot; minWidth=&quot;288.0&quot; prefHeight=&quot;579.0&quot; prefWidth=&quot;288.0&quot; style=&quot;-fx-background-color: #FFF9FC&quot; styleClass=&quot;scene2&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.MyListEducationController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane layoutX=&quot;15.0&quot; layoutY=&quot;66.0&quot; prefHeight=&quot;485.0&quot; prefWidth=&quot;255.0&quot; style=&quot;-fx-background-color: #F9DBE9; -fx-background-radius: 10;&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label layoutX=&quot;11.0&quot; layoutY=&quot;14.0&quot; text=&quot;Education&quot; textFill=&quot;#3c004b&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;18.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;117.0&quot; textFill=&quot;#3c004b&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;15.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Line endX=&quot;108.33334350585938&quot; fill=&quot;#360045&quot; layoutX=&quot;148.0&quot; layoutY=&quot;103.0&quot; startX=&quot;-107.99998474121094&quot; stroke=&quot;#3c004b70&quot; strokeWidth=&quot;2.0&quot; style=&quot;-fx-background-color: rgba(60, 0, 75, 0.15);&quot; /&gt;\r\n            &lt;Line endX=&quot;108.33334350585938&quot; fill=&quot;#360045&quot; layoutX=&quot;148.0&quot; layoutY=&quot;156.0&quot; startX=&quot;-107.99998474121094&quot; stroke=&quot;#3c004b70&quot; strokeWidth=&quot;2.0&quot; style=&quot;-fx-background-color: rgba(60, 0, 75, 0.15);&quot; /&gt;\r\n            &lt;RadioButton fx:id=&quot;eduList1Button&quot; layoutX=&quot;16.0&quot; layoutY=&quot;67.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;225.0&quot; text=&quot;Final Exam Business Application Development&quot; textFill=&quot;#3c004b&quot; /&gt;\r\n            &lt;RadioButton layoutX=&quot;16.0&quot; layoutY=&quot;119.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;225.0&quot; style=&quot;-fx-background-color: #F9DBE9;&quot; text=&quot;Mockup&quot; textFill=&quot;#3c004b&quot; /&gt;\r\n            &lt;Button fx:id=&quot;addListButton&quot; contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; layoutX=&quot;215.0&quot; layoutY=&quot;413.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#navigateToAddListPage&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;25.0&quot; style=&quot;-fx-background-color: #F9DBE9;&quot; textFill=&quot;#676769&quot;&gt;\r\n               &lt;opaqueInsets&gt;\r\n                  &lt;Insets /&gt;\r\n               &lt;/opaqueInsets&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n               &lt;graphic&gt;\r\n                  &lt;ImageView fitHeight=&quot;32.0&quot; fitWidth=&quot;25.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; style=&quot;-fx-background-color: #F9DBE9;&quot;&gt;\r\n                     &lt;image&gt;\r\n                        &lt;Image url=&quot;@../../../../Downloads/myListImages/myList_page/AddListButton.png&quot; /&gt;\r\n                     &lt;/image&gt;\r\n                  &lt;/ImageView&gt;\r\n               &lt;/graphic&gt;\r\n            &lt;/Button&gt;\r\n            &lt;ListView fx:id=&quot;listView&quot; layoutX=&quot;29.0&quot; layoutY=&quot;182.0&quot; pickOnBounds=&quot;false&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-text-fill: #3c004b;&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n      &lt;ImageView fitHeight=&quot;34.0&quot; fitWidth=&quot;288.0&quot; layoutY=&quot;-2.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@../../../../Downloads/statusBar_myList.png&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;35.0&quot; text=&quot;MyList&quot; textFill=&quot;#3c004b&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;16.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Button layoutX=&quot;14.0&quot; layoutY=&quot;35.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;25.0&quot; style=&quot;-fx-background-color: #FFF9FC;&quot; text=&quot;&amp;lt;&quot; textFill=&quot;#380047&quot; /&gt;\r\n      &lt;HBox alignment=&quot;CENTER&quot; layoutY=&quot;531.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;288.0&quot; spacing=&quot;50.0&quot; style=&quot;-fx-background-color: #FFFFFF;&quot; AnchorPane.bottomAnchor=&quot;8.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button fx:id=&quot;homeButton&quot; contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#navigateToHomeEducationPage&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;51.0&quot; style=&quot;-fx-background-color: white;&quot; text=&quot;Home&quot; textFill=&quot;#3c004b&quot;&gt;\r\n               &lt;graphic&gt;\r\n                  &lt;ImageView fitHeight=&quot;22.0&quot; fitWidth=&quot;24.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                     &lt;image&gt;\r\n                        &lt;Image url=&quot;@../../../../eclipse/myListGUIImages/NavigationPanel_Home.png&quot; /&gt;\r\n                     &lt;/image&gt;\r\n                  &lt;/ImageView&gt;\r\n               &lt;/graphic&gt;\r\n               &lt;opaqueInsets&gt;\r\n                  &lt;Insets /&gt;\r\n               &lt;/opaqueInsets&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;51.0&quot; style=&quot;-fx-background-color: white;&quot; text=&quot;MyList&quot; textFill=&quot;#676769&quot;&gt;\r\n               &lt;opaqueInsets&gt;\r\n                  &lt;Insets /&gt;\r\n               &lt;/opaqueInsets&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n               &lt;graphic&gt;\r\n                  &lt;ImageView fitHeight=&quot;22.0&quot; fitWidth=&quot;24.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                     &lt;image&gt;\r\n                        &lt;Image url=&quot;@../../../../eclipse/myListGUIImages/myListIcon.png&quot; /&gt;\r\n                     &lt;/image&gt;\r\n                  &lt;/ImageView&gt;\r\n               &lt;/graphic&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button fx:id=&quot;profileButton&quot; contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#navigateToProfilePage&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;51.0&quot; style=&quot;-fx-background-color: white;&quot; text=&quot;Profile&quot; textFill=&quot;#676769&quot;&gt;\r\n               &lt;opaqueInsets&gt;\r\n                  &lt;Insets /&gt;\r\n               &lt;/opaqueInsets&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n               &lt;graphic&gt;\r\n                  &lt;ImageView fitHeight=&quot;22.0&quot; fitWidth=&quot;24.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                     &lt;image&gt;\r\n                        &lt;Image url=&quot;@../../../../eclipse/myListGUIImages/ProfileIcon.png&quot; /&gt;\r\n                     &lt;/image&gt;\r\n                  &lt;/ImageView&gt;\r\n               &lt;/graphic&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n         &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;5.0&quot; /&gt;\r\n         &lt;/padding&gt;\r\n      &lt;/HBox&gt;\r\n      &lt;Line endX=&quot;194.0&quot; endY=&quot;623.0&quot; layoutX=&quot;94.0&quot; layoutY=&quot;-92.0&quot; startX=&quot;-94.00000762939453&quot; startY=&quot;623.0&quot; stroke=&quot;#fbebff&quot; strokeWidth=&quot;4.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\n\r\nHow do I get the items to show on my ListView in my MyList_Education.fxml?","title":"ListView in Scenebuilder not showing (Java FX Eclipse IDE)","body":"<p>So I am trying to add a item in AddListController.java that is connected to addList.fxml, and then transfer that added item into my ListView in my MyListEducationController in my MyList_Education.fxml. The thing is, the console showed that the item is added, but my ListView is still empty. I am also using a DataModel class to connect the two.</p>\n<p>handleAddListButton clicked\nTitle:  testing one two three\nDataModel contents: [ testing one two three]\nupdateListView method called\nItems in DataModel: [ testing one two three]\nListView items set: [ testing one two three]</p>\n<p>These are my following codes</p>\n<p>[MyListEducationController]</p>\n<pre><code>package application;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport application.DataModel;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListView;\nimport javafx.stage.Stage;\n\npublic class MyListEducationController implements Initializable{\n    \n    \n\n\n    @FXML\n    private ListView&lt;String&gt; listView;\n    private DataModel dataModel;\n    \n    \n        @FXML\n        private Button addListButton;\n        @FXML\n        private Button homeButton;\n        @FXML\n        private Button myListButton;\n        @FXML\n        private Button profileButton;\n        @FXML\n        private Scene myListScene;\n        @FXML\n        private Main mainController;\n\n        \n        @FXML\n        private Button eduDoneList;\n        \n        public DataModel getDataModel() {\n            // TODO Auto-generated method stub\n            return dataModel;\n        }\n        \n        @Override\n        public void initialize(URL location, ResourceBundle resources) {\n            // TODO Auto-generated method stub\n            if (listView != null) {\n                listView.setItems(FXCollections.observableArrayList()); \n            }\n        }\n\n        \n        public ListView&lt;String&gt; getListView() {\n            return listView;\n        }\n        public void setListView(ListView&lt;String&gt; listView) {\n            this.listView = listView;\n        }\n        \n        public void updateListView() {\n            System.out.println(&quot;updateListView method called&quot;);\n            if (dataModel != null &amp;&amp; listView != null) {\n                ObservableList&lt;String&gt; items = dataModel.getLists();\n                System.out.println(&quot;Items in DataModel: &quot; + items);\n                listView.setItems(items);\n                System.out.println(&quot;ListView items set: &quot; + listView.getItems());\n\n            }  else {\n                System.out.println(&quot;DataModel or ListView is null. Unable to update the ListView.&quot;);\n            }\n        }\n        \n\n\n        public MyListEducationController() {\n            dataModel = DataModel.getInstance(); \n        }\n\n        public void addItemToListView(String item) {\n            if (listView != null) {\n                listView.getItems().add(item);\n            }\n        }\n        \n        public void setMyListScene(Scene myListScene) {\n            this.myListScene = myListScene;\n        }\n\n\n        public void setDataModel(DataModel dataModel) {\n            this.dataModel = dataModel; \n\n        }\n        \n        \n        @FXML\n        public void navigateToHomeEducationPage(ActionEvent e) throws IOException {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home26_Education.fxml&quot;));\n            Parent root = loader.load();\n\n            MainController eduController = loader.getController();\n            Scene eduScene = new Scene(root);\n\n            Stage stage = (Stage) homeButton.getScene().getWindow();\n            if (stage != null) {\n                stage.setScene(eduScene);\n            }\n        }\n        \n        @FXML\n        public void navigateToMyListEdu(ActionEvent e) throws IOException {\n\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;MyList_Education.fxml&quot;));\n            Parent root = loader.load();\n\n            MyListEducationController myListController = loader.getController();\n\n            myListController.setDataModel(DataModel.getInstance());\n            \n            Scene myListScene = new Scene(root);\n            myListController.setMyListScene(myListScene); \n            \n            \n\n            \n            Stage stage = (Stage) eduDoneList.getScene().getWindow();\n            if (stage != null) {\n                stage.setScene(myListScene);\n            }\n\n            \n        }\n        public void navigateToProfilePage(ActionEvent e) throws IOException {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Profile.fxml&quot;));\n            Parent root = loader.load();\n\n            MainController educationController = loader.getController();\n            Scene ProfileScene = new Scene(root);\n            \n            Stage stage = (Stage) profileButton.getScene().getWindow();\n            System.out.println(&quot;Profile page&quot;);\n            root =  FXMLLoader.load(getClass().getResource(&quot;Profile.fxml&quot;));\n            stage.setScene(ProfileScene);\n            \n            \n        }\n        \n        @FXML\n        public void navigateToAddListPage(ActionEvent e) throws IOException {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;addList.fxml&quot;));\n            Parent root = loader.load();\n\n            AddListController addListController = loader.getController();\n\n            DataModel dataModel = DataModel.getInstance();\n            addListController.initialize(dataModel, this); \n\n            addListController.setMyListScene((Scene) addListButton.getScene());\n\n            Scene addListScene = new Scene(root);\n            \n            Stage stage = (Stage) addListButton.getScene().getWindow();\n            stage.setScene(addListScene);\n            \n        }\n\n}\n</code></pre>\n<p>[DataModel Class]</p>\n<pre><code>package application;\n\n\nimport javafx.collections.FXCollections;\n\nimport javafx.collections.ObservableList;\n\npublic class DataModel {\n    private static DataModel instance;\n\n    private final ObservableList&lt;String&gt; lists;\n    \n    public DataModel() {\n        lists = FXCollections.observableArrayList();\n        \n    }\n    public static DataModel getInstance() {\n        if (instance == null) {\n            instance = new DataModel();\n        }\n        return instance;\n    }\n    \n    public ObservableList&lt;String&gt; getLists() {\n        return lists;\n    }\n    \n    public void addList(String title) {\n        if (title != null &amp;&amp; !title.isEmpty()) {\n            lists.add(title);\n        }\n    }\n\n\n    public static void setInstance(DataModel instance) {\n        DataModel.instance = instance;\n    }\n\n\n\n\n}\n</code></pre>\n<p>[AddListController Class]</p>\n<pre><code>package application;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.application.Platform;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.input.KeyCode;\nimport javafx.stage.Stage;\n\npublic class AddListController{\n    @FXML\n    private TextField addEduTitle;\n    @FXML\n    private Button eduDoneList;\n    @FXML\n    private Button homeButton;\n    @FXML\n    private Button profileButton;\n    @FXML\n    private Button collabButton;\n    @FXML\n    private Button lockButton;\n    \n    private Scene myListScene;\n    \n\n\n    @FXML\n    private MyListEducationController myListController;\n\n    private DataModel dataModel; \n    \n    public void setMyListEducationController(MyListEducationController myListController) {\n        this.myListController = myListController;\n    }\n    public void setMyListScene(Scene scene) {\n        // TODO Auto-generated method stub\n        this.myListScene = scene;\n    }\n  \n    public void initialize(DataModel dataModel, MyListEducationController myListController) {\n        // TODO Auto-generated method stub\n        this.dataModel = dataModel;\n        this.myListController = myListController;\n\n        addEduTitle.setOnKeyPressed(event -&gt; {\n            if (event.getCode() == KeyCode.ENTER) {\n                try {\n                    handleAddListButton(new ActionEvent());\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } \n            }\n        });\n    }\n\n    \n    \n\n    public String getTextFieldText() {\n        return addEduTitle.getText();\n    }\n    \n\n\n    public void setDataModel(DataModel dataModel) {\n        // TODO Auto-generated method stub\n        this.dataModel = dataModel;\n    }\n    public void setMainController(MainController mainController) {\n    }\n    \n    @FXML\n    public void navigateToHomeEducationPage(ActionEvent e) throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Home26_Education.fxml&quot;));\n        Parent root = loader.load();\n\n        MainController eduController = loader.getController();\n        Scene eduScene = new Scene(root);\n\n        Stage stage = (Stage) homeButton.getScene().getWindow();\n        if (stage != null) {\n            stage.setScene(eduScene);\n        }\n      }\n      \n    \n    public void navigateToProfilePage(ActionEvent e) throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Profile.fxml&quot;));\n        Parent root = loader.load();\n\n        MainController educationController = loader.getController();\n        Scene ProfileScene = new Scene(root);\n        \n        Stage stage = (Stage) profileButton.getScene().getWindow();\n        System.out.println(&quot;Profile page&quot;);\n        root =  FXMLLoader.load(getClass().getResource(&quot;Profile.fxml&quot;));\n        stage.setScene(ProfileScene);\n        \n        \n    }\n    public void navigateToCollabPage(ActionEvent e) throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Collaborate_Edu.fxml&quot;));\n        Parent root = loader.load();\n\n        MainController collabController = loader.getController();\n        Scene collabChoice = new Scene(root);\n        \n        Stage stage = (Stage) collabButton.getScene().getWindow();\n        System.out.println(&quot;Collaboration page&quot;);\n        root =  FXMLLoader.load(getClass().getResource(&quot;Collaborate_Edu.fxml&quot;));\n        stage.setScene(collabChoice);\n        \n        \n    }\n    \n    public void navigateToCollabSetPass(ActionEvent e) throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;MyList_SetPass.fxml&quot;));\n        Parent root = loader.load();\n\n        MainController lockController = loader.getController();\n        Scene lockScene = new Scene(root);\n        \n        Stage stage = (Stage) lockButton.getScene().getWindow();\n        System.out.println(&quot;Lock Set Pass page&quot;);\n        root =  FXMLLoader.load(getClass().getResource(&quot;MyList_SetPass.fxml&quot;));\n        stage.setScene(lockScene);\n        \n    }\n\n    \n    @FXML\n    private void handleAddListButton(ActionEvent e) throws IOException {\n         String title = addEduTitle.getText();\n\n            \n            System.out.println(&quot;handleAddListButton clicked&quot;);\n            System.out.println(&quot;Title: &quot; + title);\n           \n            if (dataModel != null) {\n                if (!title.isEmpty()) {\n                    dataModel.addList(title); \n                    System.out.println(&quot;DataModel contents: &quot; + dataModel.getLists());\n                    myListController.updateListView(); \n                    addEduTitle.clear();\n                } else {\n                    System.out.println(&quot;Error: Title is empty.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Error: DataModel is null.&quot;);\n            }\n    \n\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;MyList_Education.fxml&quot;));\n            Parent root = loader.load();\n            \n            MyListEducationController myListController = loader.getController();\n            Scene myListScene = new Scene(root);\n            myListController.setMyListScene(myListScene);\n            \n            Stage stage = (Stage) eduDoneList.getScene().getWindow();\n            stage.setScene(myListScene);\n\n    \n        }\n\n\n}\n</code></pre>\n<p>My MyList_Education.fxml file with the ListView as listView</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.control.RadioButton?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.shape.Line?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane id=&quot;root&quot; maxHeight=&quot;579.0&quot; maxWidth=&quot;288.0&quot; minHeight=&quot;579.0&quot; minWidth=&quot;288.0&quot; prefHeight=&quot;579.0&quot; prefWidth=&quot;288.0&quot; style=&quot;-fx-background-color: #FFF9FC&quot; styleClass=&quot;scene2&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.MyListEducationController&quot;&gt;\n   &lt;children&gt;\n      &lt;AnchorPane layoutX=&quot;15.0&quot; layoutY=&quot;66.0&quot; prefHeight=&quot;485.0&quot; prefWidth=&quot;255.0&quot; style=&quot;-fx-background-color: #F9DBE9; -fx-background-radius: 10;&quot;&gt;\n         &lt;children&gt;\n            &lt;Label layoutX=&quot;11.0&quot; layoutY=&quot;14.0&quot; text=&quot;Education&quot; textFill=&quot;#3c004b&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;18.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;117.0&quot; textFill=&quot;#3c004b&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;15.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Line endX=&quot;108.33334350585938&quot; fill=&quot;#360045&quot; layoutX=&quot;148.0&quot; layoutY=&quot;103.0&quot; startX=&quot;-107.99998474121094&quot; stroke=&quot;#3c004b70&quot; strokeWidth=&quot;2.0&quot; style=&quot;-fx-background-color: rgba(60, 0, 75, 0.15);&quot; /&gt;\n            &lt;Line endX=&quot;108.33334350585938&quot; fill=&quot;#360045&quot; layoutX=&quot;148.0&quot; layoutY=&quot;156.0&quot; startX=&quot;-107.99998474121094&quot; stroke=&quot;#3c004b70&quot; strokeWidth=&quot;2.0&quot; style=&quot;-fx-background-color: rgba(60, 0, 75, 0.15);&quot; /&gt;\n            &lt;RadioButton fx:id=&quot;eduList1Button&quot; layoutX=&quot;16.0&quot; layoutY=&quot;67.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;225.0&quot; text=&quot;Final Exam Business Application Development&quot; textFill=&quot;#3c004b&quot; /&gt;\n            &lt;RadioButton layoutX=&quot;16.0&quot; layoutY=&quot;119.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;225.0&quot; style=&quot;-fx-background-color: #F9DBE9;&quot; text=&quot;Mockup&quot; textFill=&quot;#3c004b&quot; /&gt;\n            &lt;Button fx:id=&quot;addListButton&quot; contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; layoutX=&quot;215.0&quot; layoutY=&quot;413.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#navigateToAddListPage&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;25.0&quot; style=&quot;-fx-background-color: #F9DBE9;&quot; textFill=&quot;#676769&quot;&gt;\n               &lt;opaqueInsets&gt;\n                  &lt;Insets /&gt;\n               &lt;/opaqueInsets&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;graphic&gt;\n                  &lt;ImageView fitHeight=&quot;32.0&quot; fitWidth=&quot;25.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; style=&quot;-fx-background-color: #F9DBE9;&quot;&gt;\n                     &lt;image&gt;\n                        &lt;Image url=&quot;@../../../../Downloads/myListImages/myList_page/AddListButton.png&quot; /&gt;\n                     &lt;/image&gt;\n                  &lt;/ImageView&gt;\n               &lt;/graphic&gt;\n            &lt;/Button&gt;\n            &lt;ListView fx:id=&quot;listView&quot; layoutX=&quot;29.0&quot; layoutY=&quot;182.0&quot; pickOnBounds=&quot;false&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-text-fill: #3c004b;&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n      &lt;ImageView fitHeight=&quot;34.0&quot; fitWidth=&quot;288.0&quot; layoutY=&quot;-2.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@../../../../Downloads/statusBar_myList.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;35.0&quot; text=&quot;MyList&quot; textFill=&quot;#3c004b&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;16.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button layoutX=&quot;14.0&quot; layoutY=&quot;35.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;25.0&quot; style=&quot;-fx-background-color: #FFF9FC;&quot; text=&quot;&amp;lt;&quot; textFill=&quot;#380047&quot; /&gt;\n      &lt;HBox alignment=&quot;CENTER&quot; layoutY=&quot;531.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;288.0&quot; spacing=&quot;50.0&quot; style=&quot;-fx-background-color: #FFFFFF;&quot; AnchorPane.bottomAnchor=&quot;8.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;homeButton&quot; contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#navigateToHomeEducationPage&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;51.0&quot; style=&quot;-fx-background-color: white;&quot; text=&quot;Home&quot; textFill=&quot;#3c004b&quot;&gt;\n               &lt;graphic&gt;\n                  &lt;ImageView fitHeight=&quot;22.0&quot; fitWidth=&quot;24.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                     &lt;image&gt;\n                        &lt;Image url=&quot;@../../../../eclipse/myListGUIImages/NavigationPanel_Home.png&quot; /&gt;\n                     &lt;/image&gt;\n                  &lt;/ImageView&gt;\n               &lt;/graphic&gt;\n               &lt;opaqueInsets&gt;\n                  &lt;Insets /&gt;\n               &lt;/opaqueInsets&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/Button&gt;\n            &lt;Button contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;51.0&quot; style=&quot;-fx-background-color: white;&quot; text=&quot;MyList&quot; textFill=&quot;#676769&quot;&gt;\n               &lt;opaqueInsets&gt;\n                  &lt;Insets /&gt;\n               &lt;/opaqueInsets&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;graphic&gt;\n                  &lt;ImageView fitHeight=&quot;22.0&quot; fitWidth=&quot;24.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                     &lt;image&gt;\n                        &lt;Image url=&quot;@../../../../eclipse/myListGUIImages/myListIcon.png&quot; /&gt;\n                     &lt;/image&gt;\n                  &lt;/ImageView&gt;\n               &lt;/graphic&gt;\n            &lt;/Button&gt;\n            &lt;Button fx:id=&quot;profileButton&quot; contentDisplay=&quot;TOP&quot; graphicTextGap=&quot;0.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#navigateToProfilePage&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;51.0&quot; style=&quot;-fx-background-color: white;&quot; text=&quot;Profile&quot; textFill=&quot;#676769&quot;&gt;\n               &lt;opaqueInsets&gt;\n                  &lt;Insets /&gt;\n               &lt;/opaqueInsets&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=&quot;-10.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;graphic&gt;\n                  &lt;ImageView fitHeight=&quot;22.0&quot; fitWidth=&quot;24.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                     &lt;image&gt;\n                        &lt;Image url=&quot;@../../../../eclipse/myListGUIImages/ProfileIcon.png&quot; /&gt;\n                     &lt;/image&gt;\n                  &lt;/ImageView&gt;\n               &lt;/graphic&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n         &lt;padding&gt;\n            &lt;Insets bottom=&quot;5.0&quot; /&gt;\n         &lt;/padding&gt;\n      &lt;/HBox&gt;\n      &lt;Line endX=&quot;194.0&quot; endY=&quot;623.0&quot; layoutX=&quot;94.0&quot; layoutY=&quot;-92.0&quot; startX=&quot;-94.00000762939453&quot; startY=&quot;623.0&quot; stroke=&quot;#fbebff&quot; strokeWidth=&quot;4.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>How do I get the items to show on my ListView in my MyList_Education.fxml?</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699419483,"post_id":77442801,"comment_id":136527747,"body_markdown":"Looking at the example, is the new location created by adding the offset, or subtracting it? What does your code do?","body":"Looking at the example, is the new location created by adding the offset, or subtracting it? What does your code do?"}],"owner":{"account_id":26568556,"reputation":43,"user_id":20195143,"display_name":"Maybe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699416922,"creation_date":1699416922,"question_id":77442801,"body_markdown":"I&#39;m working on an image project that requires a specific method called &quot;translate&quot; to same some time here is a description of the method and a visual demonstration. \r\n\r\nDescription: \r\nIn this method you should create a new image whose pixel coordinates have been shifted in the xdimension by an offset of dx pixels, and shifted in the y dimension by an offset of dy pixels, relative to those in the source image (dx and dy are provided as parameters). For example, if dx is 2 and dy is -1, the pixels of the source are moved by 2px to the right (positive x) and 1px upward (negative y). The resulting image is the same size as the source image. For example, if the 6x4 image below were moved by dx=2 and dy=1, the pixel at (x=2, y=3) labeled as &quot;U&quot; would move to (x=4, y=2).\r\n\r\n\r\n\r\nIf shifting a pixel causes it to pass the edge of the image, &quot;wrap&quot; that pixel around to the opposite side of the image (think of the image as an infinite canvas that &quot;wraps around&quot; on itself in all directions). For example, if dx is 2 and dy is -1, the pixel at (x=5, y=2) labeled as &quot;R&quot; above would normally have shifted to (x=7, y=1), but x=7 is off the edge, so we wrap it around to (x=1, y=1) in the result. Similarly, &quot;D&quot; at (3, 0) moves to (5, 3). The dx and/or dy might be negative or larger than the overall size of the image. In the example above, translating by a dx of 8, or 14, or 320, or -4, or -6004, etc., would yield the same result as translating by a dx of 2.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNow here is my real problem, I have written what I believed to be the solution to this algorithm but for some reason I am getting a large pixel difference when comparing the correct image. In which I am unsure what manipulating variable is needed to be modified or removed in order for the pixel differences to be solved. Here is my code below:\r\n```java\r\npublic GImage translate(GImage source, int dx, int dy) {\r\n        int[][] pixel = source.getPixelArray();\r\n        int width = pixel.length;\r\n        int height = pixel[0].length;\r\n        int[][] translate = new int[width][height];\r\n\r\n        for (int x = 0; x &lt; width; x++) {\r\n            for (int y = 0; y &lt; height; y++) {\r\n                int newX = (x - dx + width) % width;\r\n                int newY = (y - dy + height) % height;\r\n\r\n                translate[x][y] = pixel[newX][newY];\r\n            }\r\n        }\r\n\r\n        GImage image = new GImage(translate);\r\n        return image;\r\n    }\r\n```\r\nOutput (dx = 100 , dy = 50)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xSALO.png\r\n  [2]: https://i.stack.imgur.com/NP7nQ.png\r\n  [3]: https://i.stack.imgur.com/PPiTD.png\r\n","title":"How can I translate an Image to the point where there are no pixel differences?","body":"<p>I'm working on an image project that requires a specific method called &quot;translate&quot; to same some time here is a description of the method and a visual demonstration.</p>\n<p>Description:\nIn this method you should create a new image whose pixel coordinates have been shifted in the xdimension by an offset of dx pixels, and shifted in the y dimension by an offset of dy pixels, relative to those in the source image (dx and dy are provided as parameters). For example, if dx is 2 and dy is -1, the pixels of the source are moved by 2px to the right (positive x) and 1px upward (negative y). The resulting image is the same size as the source image. For example, if the 6x4 image below were moved by dx=2 and dy=1, the pixel at (x=2, y=3) labeled as &quot;U&quot; would move to (x=4, y=2).</p>\n<p>If shifting a pixel causes it to pass the edge of the image, &quot;wrap&quot; that pixel around to the opposite side of the image (think of the image as an infinite canvas that &quot;wraps around&quot; on itself in all directions). For example, if dx is 2 and dy is -1, the pixel at (x=5, y=2) labeled as &quot;R&quot; above would normally have shifted to (x=7, y=1), but x=7 is off the edge, so we wrap it around to (x=1, y=1) in the result. Similarly, &quot;D&quot; at (3, 0) moves to (5, 3). The dx and/or dy might be negative or larger than the overall size of the image. In the example above, translating by a dx of 8, or 14, or 320, or -4, or -6004, etc., would yield the same result as translating by a dx of 2.</p>\n<p><a href=\"https://i.stack.imgur.com/xSALO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xSALO.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NP7nQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NP7nQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Now here is my real problem, I have written what I believed to be the solution to this algorithm but for some reason I am getting a large pixel difference when comparing the correct image. In which I am unsure what manipulating variable is needed to be modified or removed in order for the pixel differences to be solved. Here is my code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public GImage translate(GImage source, int dx, int dy) {\n        int[][] pixel = source.getPixelArray();\n        int width = pixel.length;\n        int height = pixel[0].length;\n        int[][] translate = new int[width][height];\n\n        for (int x = 0; x &lt; width; x++) {\n            for (int y = 0; y &lt; height; y++) {\n                int newX = (x - dx + width) % width;\n                int newY = (y - dy + height) % height;\n\n                translate[x][y] = pixel[newX][newY];\n            }\n        }\n\n        GImage image = new GImage(translate);\n        return image;\n    }\n</code></pre>\n<p>Output (dx = 100 , dy = 50)</p>\n<p><a href=\"https://i.stack.imgur.com/PPiTD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PPiTD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","arraylist","linked-list","jgrasp"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1699416085,"post_id":77442764,"comment_id":136527503,"body_markdown":"Maybe start with [Arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)","body":"Maybe start with <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1699416182,"post_id":77442764,"comment_id":136527518,"body_markdown":"`new Object[]()` is not valid syntax. What are you trying to do?","body":"<code>new Object[]()</code> is not valid syntax. What are you trying to do?"},{"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"score":0,"creation_date":1699417278,"post_id":77442764,"comment_id":136527583,"body_markdown":"I know but I need to write an array but I don&#39;t which array to write String, int, char, or double.","body":"I know but I need to write an array but I don&#39;t which array to write String, int, char, or double."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1699417969,"post_id":77442764,"comment_id":136527636,"body_markdown":"Review the _ArrayList_ implementation.  Here is the _OpenJDK_ source-code, _https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java_.","body":"Review the <i>ArrayList</i> implementation.  Here is the <i>OpenJDK</i> source-code, <i><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a></i>."}],"owner":{"account_id":29374491,"reputation":5,"user_id":22506381,"display_name":"RWorker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699416128,"creation_date":1699415950,"question_id":77442764,"body_markdown":"I&#39;m doing this revel programming where it wants to implement certain stuff into MyLinkedList\r\nI think I got the gist of it but I&#39;m still having trouble figured it out and revel wants me to use this: https://liveexample.pearsoncmg.com/test/Exercise24_01_13e.txt\r\n\r\nThe methods I&#39;m trying to implement are addAll, removeAll, retainAll, containsAll, toArray() and toArray(T[])\r\n\r\n    import java.util.*;\r\n\r\n    public class Exercise24_01 {\r\n      public static void main(String[] args) {\r\n        new Exercise24_01();\r\n      }\r\n\r\n      public Exercise24_01() {\r\n        Scanner input = new Scanner(System.in);\r\n        String[] name1 = new String[5];\r\n        String[] name2 = new String[5];\r\n        String[] name3 = new String[2];\r\n        System.out.print(&quot;Enter five strings for array name1 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          name1[i] = input.next();\r\n        }\r\n        \r\n        System.out.print(&quot;Enter five strings for array name2 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n          name2[i] = input.next();\r\n        }\r\n\r\n        System.out.print(&quot;Enter two strings for array name3 separated by space: &quot;);\r\n        for (int i = 0; i &lt; 2; i++) {\r\n          name3[i] = input.next();\r\n        }\r\n        \r\n        MyList&lt;String&gt; list1 = new MyArrayList&lt;&gt;(name1);   \r\n        MyList&lt;String&gt; list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.addAll(list2);\r\n        System.out.println(&quot;After addAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.removeAll(list2);\r\n        System.out.println(&quot;After removeAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.retainAll(list2);\r\n        System.out.println(&quot;After retainAll: list1 is &quot; + list1 + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name2);   \r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        list1.retainAll(list2);\r\n        System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\r\n        \r\n        list1 = new MyArrayList&lt;&gt;(name1);\r\n        list2 = new MyArrayList&lt;&gt;(name3);\r\n        System.out.println(&quot;list1: &quot; + list1);\r\n        System.out.println(&quot;list2: &quot; + list2);\r\n        System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\r\n        \r\n        Object[] name4 = list1.toArray();\r\n        System.out.print(&quot;name4: &quot;);\r\n        for (Object e: name4) {\r\n          System.out.print(e + &quot; &quot;);\r\n        }\r\n        \r\n        String[] name5 = new String[list1.size()];\r\n        String[] name6 = list1.toArray(name5);\r\n        System.out.print(&quot;\\nname6: &quot;);\r\n        for (Object e: name6) {\r\n          System.out.print(e + &quot; &quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n    class MyArrayList&lt;E&gt; implements MyList&lt;E&gt; {\r\n        public static final int INITIAL_CAPACITY = 16;\r\n        private E[] data = (E[])new Object[INITIAL_CAPACITY];\r\n        private int size = 0; // Number of elements in the list\r\n\r\n        /** Create an empty list */\r\n        public MyArrayList() {\r\n        }\r\n\r\n        /** Create a list from an array of objects */\r\n        public MyArrayList(E[] objects) {\r\n          for (int i = 0; i &lt; objects.length; i++)\r\n            add(objects[i]); // Warning: don&#39;t use super(objects)! \r\n        }\r\n\r\n        @Override /** Add a new element at the specified index */\r\n        public void add(int index, E e) {   \r\n          ensureCapacity();\r\n\r\n          // Move the elements to the right after the specified index\r\n          for (int i = size - 1; i &gt;= index; i--)\r\n            data[i + 1] = data[i];\r\n\r\n          // Insert new element to data[index]\r\n          data[index] = e;\r\n\r\n          // Increase size by 1\r\n          size++;\r\n        }\r\n\r\n        /** Create a new larger array, double the current size + 1 */\r\n        private void ensureCapacity() {\r\n          if (size &gt;= data.length) {\r\n            E[] newData = (E[])(new Object[size * 2 + 1]);\r\n            System.arraycopy(data, 0, newData, 0, size);\r\n            data = newData;\r\n          }\r\n        }\r\n\r\n        @Override /** Clear the list */\r\n        public void clear() {\r\n          data = (E[])new Object[INITIAL_CAPACITY];\r\n          size = 0;\r\n        }\r\n\r\n        @Override /** Return true if this list contains the element */\r\n        public boolean contains(Object e) {\r\n          for (int i = 0; i &lt; size; i++)\r\n            if (e.equals(data[i])) return true;\r\n\r\n          return false;\r\n        }\r\n\r\n        @Override /** Return the element at the specified index */\r\n        public E get(int index) {\r\n          checkIndex(index);\r\n          return data[index];\r\n        }\r\n\r\n        private void checkIndex(int index) {\r\n          if (index &lt; 0 || index &gt;= size)\r\n            throw new IndexOutOfBoundsException\r\n              (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\r\n        }\r\n        \r\n        @Override /** Return the index of the first matching element \r\n         *  in this list. Return -1 if no match. */\r\n        public int indexOf(Object e) {\r\n          for (int i = 0; i &lt; size; i++)\r\n            if (e.equals(data[i])) return i;\r\n\r\n          return -1;\r\n        }\r\n\r\n        @Override /** Return the index of the last matching element \r\n         *  in this list. Return -1 if no match. */\r\n        public int lastIndexOf(E e) {\r\n          for (int i = size - 1; i &gt;= 0; i--)\r\n            if (e.equals(data[i])) return i;\r\n\r\n          return -1;\r\n        }\r\n\r\n        @Override /** Remove the element at the specified position \r\n         *  in this list. Shift any subsequent elements to the left.\r\n         *  Return the element that was removed from the list. */\r\n        public E remove(int index) {\r\n          checkIndex(index);\r\n          \r\n          E e = data[index];\r\n\r\n          // Shift data to the left\r\n          for (int j = index; j &lt; size - 1; j++)\r\n            data[j] = data[j + 1];\r\n\r\n          data[size - 1] = null; // This element is now null\r\n\r\n          // Decrement size\r\n          size--;\r\n\r\n          return e;\r\n        }\r\n\r\n        @Override /** Replace the element at the specified position \r\n         *  in this list with the specified element. */\r\n        public E set(int index, E e) {\r\n          checkIndex(index);\r\n          E old = data[index];\r\n          data[index] = e;\r\n          return old;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n          StringBuilder result = new StringBuilder(&quot;[&quot;);\r\n\r\n          for (int i = 0; i &lt; size; i++) {\r\n            result.append(data[i]);\r\n            if (i &lt; size - 1) result.append(&quot;, &quot;);\r\n          }\r\n\r\n          return result.toString() + &quot;]&quot;;\r\n        }\r\n\r\n        /** Trims the capacity to current size */\r\n        public void trimToSize() {\r\n          if (size != data.length) { \r\n            E[] newData = (E[])(new Object[size]);\r\n            System.arraycopy(data, 0, newData, 0, size);\r\n            data = newData;\r\n          } // If size == capacity, no need to trim\r\n        }\r\n\r\n        @Override /** Override iterator() defined in Iterable */\r\n        public java.util.Iterator&lt;E&gt; iterator() {\r\n          return new ArrayListIterator();\r\n        }\r\n       \r\n        private class ArrayListIterator \r\n            implements java.util.Iterator&lt;E&gt; {\r\n          private int current = 0; // Current index \r\n\r\n          @Override\r\n          public boolean hasNext() {\r\n            return (current &lt; size);\r\n          }\r\n\r\n          @Override\r\n          public E next() {\r\n            return data[current++];\r\n          }\r\n\r\n          @Override\r\n          public void remove() {\r\n            if (current == 0) // next() has not been called yet\r\n              throw new IllegalStateException(); \r\n            MyArrayList.this.remove(--current);\r\n          }\r\n        }\r\n        \r\n        @Override /** Return the number of elements in this list */\r\n        public int size() {\r\n          return size;\r\n        }\r\n    }\r\n\r\n    interface MyList&lt;E&gt; extends java.util.Collection&lt;E&gt; {\r\n      // WRITE YOUR CODE HERE\r\n      /** Add a new element at the specified index in this list */\r\n      public void add(int index, E e);\r\n\r\n      /** Return the element from this list at the specified index */\r\n      public E get(int index);\r\n\r\n      /** Return the index of the first matching element in this list.\r\n       *  Return -1 if no match. */\r\n      public int indexOf(Object e);\r\n\r\n      /** Return the index of the last matching element in this list\r\n       *  Return -1 if no match. */\r\n      public int lastIndexOf(E e);\r\n\r\n      /** Remove the element at the specified position in this list\r\n       *  Shift any subsequent elements to the left.\r\n       *  Return the element that was removed from the list. */\r\n      public E remove(int index);\r\n\r\n      /** Replace the element at the specified position in this list\r\n       *  with the specified element and returns the new set. */\r\n      public E set(int index, E e);\r\n      \r\n      @Override /** Add a new element at the end of this list */\r\n      public default boolean add(E e) {\r\n        add(size(), e);\r\n        return true;\r\n      }\r\n\r\n      @Override /** Return true if this list contains no elements */\r\n      public default boolean isEmpty() {\r\n        return size() == 0;\r\n      }\r\n      \r\n      @Override /** Remove the first occurrence of the element e \r\n       *  from this list. Shift any subsequent elements to the left.\r\n       *  Return true if the element is removed. */\r\n      public default boolean remove(Object e) {\r\n        if (indexOf(e) &gt;= 0) {\r\n          remove(indexOf(e));\r\n          return true;\r\n        }\r\n        else\r\n          return false;\r\n      }\r\n\r\n      @Override\r\n      public default boolean containsAll(Collection&lt;?&gt; c) {\r\n        // Left as an exercise\r\n        boolean containE;\r\n        for (E e: c) {\r\n          if (contains(c)) {\r\n            containE = true;\r\n          } else {\r\n            containE = false;\r\n          }\r\n        }\r\n        if (containE != true) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n\r\n      @Override\r\n      public default boolean addAll(Collection&lt;? extends E&gt; c) {\r\n        // Left as an exercise\r\n        boolean addE;\r\n        for (E e : c) {\r\n          if (add(e)) {\r\n            addE = true;\r\n          } else {\r\n            addE = false;\r\n          }\r\n        }\r\n        if (addE != true) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n\r\n      @Override\r\n      public default boolean removeAll(Collection&lt;?&gt; c) {\r\n        // Left as an exercise\r\n        boolean removeE;\r\n        for (E e : c) {\r\n          if (remove(e)) {\r\n             removeE = true;\r\n          } else {\r\n            removeE = false;\r\n          }\r\n        }\r\n        if (removeE != true) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      @Override\r\n      public default boolean retainAll(Collection&lt;?&gt; c) {\r\n        // Left as an exercise\r\n        boolean retainE;\r\n        for (E e : c) {\r\n          if (retain(e)) {\r\n            retainE = true;\r\n          } else {\r\n            retainE = false;\r\n          }\r\n        }\r\n        if (retainE != true) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n\r\n      @Override\r\n      public default Object[] toArray() {\r\n        // Left as an exercise\r\n        Object[] array = new Object[]();\r\n        for (int i = 0; i &lt; array.length(); i++) {\r\n          Object[i] = array[i];\r\n        }\r\n        return null;\r\n      }\r\n\r\n      @Override\r\n      public default &lt;T&gt; T[] toArray(T[] array) {\r\n        // Left as an exercise\r\n        for (E element : array) {\r\n        System.out.println(element);\r\n        }\r\n        System.out.println();\r\n        return null;\r\n      }\r\n    }\r\n\r\n\r\nBut only comes out is this :\r\n\r\n\r\n     ----jGRASP exec: javac -g --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls -Xlint:unchecked Exercise24_01.java\r\n    Exercise24_01.java:361: error: array dimension missing\r\n        Object[] array = new Object[]();\r\n                                     ^\r\n    1 error\r\n    \r\n     ----jGRASP wedge2: exit code for process is 1.\r\n     ----jGRASP: operation complete.\r\n\r\nI would really appreciate if someone can help me with this but the default methods cannot be changed.\r\n\r\n","title":"Is there some way to make an object into an array?","body":"<p>I'm doing this revel programming where it wants to implement certain stuff into MyLinkedList\nI think I got the gist of it but I'm still having trouble figured it out and revel wants me to use this: <a href=\"https://liveexample.pearsoncmg.com/test/Exercise24_01_13e.txt\" rel=\"nofollow noreferrer\">https://liveexample.pearsoncmg.com/test/Exercise24_01_13e.txt</a></p>\n<p>The methods I'm trying to implement are addAll, removeAll, retainAll, containsAll, toArray() and toArray(T[])</p>\n<pre><code>import java.util.*;\n\npublic class Exercise24_01 {\n  public static void main(String[] args) {\n    new Exercise24_01();\n  }\n\n  public Exercise24_01() {\n    Scanner input = new Scanner(System.in);\n    String[] name1 = new String[5];\n    String[] name2 = new String[5];\n    String[] name3 = new String[2];\n    System.out.print(&quot;Enter five strings for array name1 separated by space: &quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      name1[i] = input.next();\n    }\n    \n    System.out.print(&quot;Enter five strings for array name2 separated by space: &quot;);\n    for (int i = 0; i &lt; 5; i++) {\n      name2[i] = input.next();\n    }\n\n    System.out.print(&quot;Enter two strings for array name3 separated by space: &quot;);\n    for (int i = 0; i &lt; 2; i++) {\n      name3[i] = input.next();\n    }\n    \n    MyList&lt;String&gt; list1 = new MyArrayList&lt;&gt;(name1);   \n    MyList&lt;String&gt; list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.addAll(list2);\n    System.out.println(&quot;After addAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.removeAll(list2);\n    System.out.println(&quot;After removeAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.retainAll(list2);\n    System.out.println(&quot;After retainAll: list1 is &quot; + list1 + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name2);   \n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    list1.retainAll(list2);\n    System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\n    \n    list1 = new MyArrayList&lt;&gt;(name1);\n    list2 = new MyArrayList&lt;&gt;(name3);\n    System.out.println(&quot;list1: &quot; + list1);\n    System.out.println(&quot;list2: &quot; + list2);\n    System.out.println(&quot;list1 contains all list2? &quot; + list1.containsAll(list2) + &quot;\\n&quot;);\n    \n    Object[] name4 = list1.toArray();\n    System.out.print(&quot;name4: &quot;);\n    for (Object e: name4) {\n      System.out.print(e + &quot; &quot;);\n    }\n    \n    String[] name5 = new String[list1.size()];\n    String[] name6 = list1.toArray(name5);\n    System.out.print(&quot;\\nname6: &quot;);\n    for (Object e: name6) {\n      System.out.print(e + &quot; &quot;);\n    }\n  }\n}\n\nclass MyArrayList&lt;E&gt; implements MyList&lt;E&gt; {\n    public static final int INITIAL_CAPACITY = 16;\n    private E[] data = (E[])new Object[INITIAL_CAPACITY];\n    private int size = 0; // Number of elements in the list\n\n    /** Create an empty list */\n    public MyArrayList() {\n    }\n\n    /** Create a list from an array of objects */\n    public MyArrayList(E[] objects) {\n      for (int i = 0; i &lt; objects.length; i++)\n        add(objects[i]); // Warning: don't use super(objects)! \n    }\n\n    @Override /** Add a new element at the specified index */\n    public void add(int index, E e) {   \n      ensureCapacity();\n\n      // Move the elements to the right after the specified index\n      for (int i = size - 1; i &gt;= index; i--)\n        data[i + 1] = data[i];\n\n      // Insert new element to data[index]\n      data[index] = e;\n\n      // Increase size by 1\n      size++;\n    }\n\n    /** Create a new larger array, double the current size + 1 */\n    private void ensureCapacity() {\n      if (size &gt;= data.length) {\n        E[] newData = (E[])(new Object[size * 2 + 1]);\n        System.arraycopy(data, 0, newData, 0, size);\n        data = newData;\n      }\n    }\n\n    @Override /** Clear the list */\n    public void clear() {\n      data = (E[])new Object[INITIAL_CAPACITY];\n      size = 0;\n    }\n\n    @Override /** Return true if this list contains the element */\n    public boolean contains(Object e) {\n      for (int i = 0; i &lt; size; i++)\n        if (e.equals(data[i])) return true;\n\n      return false;\n    }\n\n    @Override /** Return the element at the specified index */\n    public E get(int index) {\n      checkIndex(index);\n      return data[index];\n    }\n\n    private void checkIndex(int index) {\n      if (index &lt; 0 || index &gt;= size)\n        throw new IndexOutOfBoundsException\n          (&quot;Index: &quot; + index + &quot;, Size: &quot; + size);\n    }\n    \n    @Override /** Return the index of the first matching element \n     *  in this list. Return -1 if no match. */\n    public int indexOf(Object e) {\n      for (int i = 0; i &lt; size; i++)\n        if (e.equals(data[i])) return i;\n\n      return -1;\n    }\n\n    @Override /** Return the index of the last matching element \n     *  in this list. Return -1 if no match. */\n    public int lastIndexOf(E e) {\n      for (int i = size - 1; i &gt;= 0; i--)\n        if (e.equals(data[i])) return i;\n\n      return -1;\n    }\n\n    @Override /** Remove the element at the specified position \n     *  in this list. Shift any subsequent elements to the left.\n     *  Return the element that was removed from the list. */\n    public E remove(int index) {\n      checkIndex(index);\n      \n      E e = data[index];\n\n      // Shift data to the left\n      for (int j = index; j &lt; size - 1; j++)\n        data[j] = data[j + 1];\n\n      data[size - 1] = null; // This element is now null\n\n      // Decrement size\n      size--;\n\n      return e;\n    }\n\n    @Override /** Replace the element at the specified position \n     *  in this list with the specified element. */\n    public E set(int index, E e) {\n      checkIndex(index);\n      E old = data[index];\n      data[index] = e;\n      return old;\n    }\n\n    @Override\n    public String toString() {\n      StringBuilder result = new StringBuilder(&quot;[&quot;);\n\n      for (int i = 0; i &lt; size; i++) {\n        result.append(data[i]);\n        if (i &lt; size - 1) result.append(&quot;, &quot;);\n      }\n\n      return result.toString() + &quot;]&quot;;\n    }\n\n    /** Trims the capacity to current size */\n    public void trimToSize() {\n      if (size != data.length) { \n        E[] newData = (E[])(new Object[size]);\n        System.arraycopy(data, 0, newData, 0, size);\n        data = newData;\n      } // If size == capacity, no need to trim\n    }\n\n    @Override /** Override iterator() defined in Iterable */\n    public java.util.Iterator&lt;E&gt; iterator() {\n      return new ArrayListIterator();\n    }\n   \n    private class ArrayListIterator \n        implements java.util.Iterator&lt;E&gt; {\n      private int current = 0; // Current index \n\n      @Override\n      public boolean hasNext() {\n        return (current &lt; size);\n      }\n\n      @Override\n      public E next() {\n        return data[current++];\n      }\n\n      @Override\n      public void remove() {\n        if (current == 0) // next() has not been called yet\n          throw new IllegalStateException(); \n        MyArrayList.this.remove(--current);\n      }\n    }\n    \n    @Override /** Return the number of elements in this list */\n    public int size() {\n      return size;\n    }\n}\n\ninterface MyList&lt;E&gt; extends java.util.Collection&lt;E&gt; {\n  // WRITE YOUR CODE HERE\n  /** Add a new element at the specified index in this list */\n  public void add(int index, E e);\n\n  /** Return the element from this list at the specified index */\n  public E get(int index);\n\n  /** Return the index of the first matching element in this list.\n   *  Return -1 if no match. */\n  public int indexOf(Object e);\n\n  /** Return the index of the last matching element in this list\n   *  Return -1 if no match. */\n  public int lastIndexOf(E e);\n\n  /** Remove the element at the specified position in this list\n   *  Shift any subsequent elements to the left.\n   *  Return the element that was removed from the list. */\n  public E remove(int index);\n\n  /** Replace the element at the specified position in this list\n   *  with the specified element and returns the new set. */\n  public E set(int index, E e);\n  \n  @Override /** Add a new element at the end of this list */\n  public default boolean add(E e) {\n    add(size(), e);\n    return true;\n  }\n\n  @Override /** Return true if this list contains no elements */\n  public default boolean isEmpty() {\n    return size() == 0;\n  }\n  \n  @Override /** Remove the first occurrence of the element e \n   *  from this list. Shift any subsequent elements to the left.\n   *  Return true if the element is removed. */\n  public default boolean remove(Object e) {\n    if (indexOf(e) &gt;= 0) {\n      remove(indexOf(e));\n      return true;\n    }\n    else\n      return false;\n  }\n\n  @Override\n  public default boolean containsAll(Collection&lt;?&gt; c) {\n    // Left as an exercise\n    boolean containE;\n    for (E e: c) {\n      if (contains(c)) {\n        containE = true;\n      } else {\n        containE = false;\n      }\n    }\n    if (containE != true) {\n      return false;\n    }\n    return true;\n  }\n\n  @Override\n  public default boolean addAll(Collection&lt;? extends E&gt; c) {\n    // Left as an exercise\n    boolean addE;\n    for (E e : c) {\n      if (add(e)) {\n        addE = true;\n      } else {\n        addE = false;\n      }\n    }\n    if (addE != true) {\n      return false;\n    }\n    return true;\n  }\n\n  @Override\n  public default boolean removeAll(Collection&lt;?&gt; c) {\n    // Left as an exercise\n    boolean removeE;\n    for (E e : c) {\n      if (remove(e)) {\n         removeE = true;\n      } else {\n        removeE = false;\n      }\n    }\n    if (removeE != true) {\n      return false;\n    }\n    return true;\n  }\n  @Override\n  public default boolean retainAll(Collection&lt;?&gt; c) {\n    // Left as an exercise\n    boolean retainE;\n    for (E e : c) {\n      if (retain(e)) {\n        retainE = true;\n      } else {\n        retainE = false;\n      }\n    }\n    if (retainE != true) {\n      return false;\n    }\n    return true;\n  }\n\n  @Override\n  public default Object[] toArray() {\n    // Left as an exercise\n    Object[] array = new Object[]();\n    for (int i = 0; i &lt; array.length(); i++) {\n      Object[i] = array[i];\n    }\n    return null;\n  }\n\n  @Override\n  public default &lt;T&gt; T[] toArray(T[] array) {\n    // Left as an exercise\n    for (E element : array) {\n    System.out.println(element);\n    }\n    System.out.println();\n    return null;\n  }\n}\n</code></pre>\n<p>But only comes out is this :</p>\n<pre><code> ----jGRASP exec: javac -g --module-path C:\\Users\\rmeri\\Downloads\\openjfx-19_windows-x64_bin-sdk\\javafx-sdk-19\\lib --add-modules=javafx.controls -Xlint:unchecked Exercise24_01.java\nExercise24_01.java:361: error: array dimension missing\n    Object[] array = new Object[]();\n                                 ^\n1 error\n\n ----jGRASP wedge2: exit code for process is 1.\n ----jGRASP: operation complete.\n</code></pre>\n<p>I would really appreciate if someone can help me with this but the default methods cannot be changed.</p>\n"},{"tags":["java","mysql","database","oop"],"comments":[{"owner":{"account_id":11495,"reputation":7156,"user_id":22186,"accept_rate":100,"display_name":"tafa"},"score":0,"creation_date":1372174302,"post_id":17301327,"comment_id":25089016,"body_markdown":"Have you heard about ORMs? A widely-used instance would be [Hibernate](http://en.wikipedia.org/wiki/Hibernate_(Java)) and I suggest you to have a look at it.","body":"Have you heard about ORMs? A widely-used instance would be <a href=\"http://en.wikipedia.org/wiki/Hibernate_(Java)\" rel=\"nofollow noreferrer\">Hibernate</a> and I suggest you to have a look at it."}],"answers":[{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1372174772,"creation_date":1372174336,"answer_id":17301475,"question_id":17301327,"body_markdown":"To answer your question, Yes, create objects for each. The main principle of Object oriented programming is having different &quot;types&quot; of Objects and doing stuffs (Behaviors - methods) around them.\r\n\r\nI suggest you to look at the concept of [ORM][2]. ORM is the process of mapping Objects to their persistent representation, i.e Database tables.\r\n\r\nIf you go for plain JDBC, you may need to write a lot of native SQLs and code to extract individual column&#39;s values from your table. When the complexity of your schema increases, it will get difficult to maintain these queries.\r\n\r\nWith ORM, you can write simple java programs to get and save data from persistent layers.\r\n\r\nYou can go through [this thread][1] to look at the ORM advantages\r\n\r\n[Hibernate][3] is a great framework available for Java which does ORM\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4667906/the-advantages-and-disadvantages-of-using-orm\r\n  [2]: https://en.wikipedia.org/wiki/Object-relational_mapping\r\n  [3]: http://www.hibernate.org/","title":"Converting database data into objects","body":"<p>To answer your question, Yes, create objects for each. The main principle of Object oriented programming is having different \"types\" of Objects and doing stuffs (Behaviors - methods) around them.</p>\n\n<p>I suggest you to look at the concept of <a href=\"https://en.wikipedia.org/wiki/Object-relational_mapping\" rel=\"nofollow noreferrer\">ORM</a>. ORM is the process of mapping Objects to their persistent representation, i.e Database tables.</p>\n\n<p>If you go for plain JDBC, you may need to write a lot of native SQLs and code to extract individual column's values from your table. When the complexity of your schema increases, it will get difficult to maintain these queries.</p>\n\n<p>With ORM, you can write simple java programs to get and save data from persistent layers.</p>\n\n<p>You can go through <a href=\"https://stackoverflow.com/questions/4667906/the-advantages-and-disadvantages-of-using-orm\">this thread</a> to look at the ORM advantages</p>\n\n<p><a href=\"http://www.hibernate.org/\" rel=\"nofollow noreferrer\">Hibernate</a> is a great framework available for Java which does ORM</p>\n"},{"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372174397,"creation_date":1372174397,"answer_id":17301503,"question_id":17301327,"body_markdown":"1) If you use **Hibernate** or other **ORM**, you **must** use **POJOs**. There&#39;s no other way.\r\n\r\n2) If you use **JDBC** directly, for example **Spring JDBC**, you could use maps (`SimpleJdbcTemplate` returns maps in many functions etc.), but reading POJO field is much quicker and less error-prone than reading field from map. Maps take also more place in memory.\r\n\r\n3) If you are using **JSF**, you need POJOs with getters and setters, maps could theoretically be used for read-only, but the syntax is going obscure.\r\n\r\nReassuming, there&#39;s no good alternative for POJOs in Java for storing datas. In some cases you can use maps, but it&#39;s good only when the data structures are dynamic or as temporary solution.","title":"Converting database data into objects","body":"<p>1) If you use <strong>Hibernate</strong> or other <strong>ORM</strong>, you <strong>must</strong> use <strong>POJOs</strong>. There's no other way.</p>\n\n<p>2) If you use <strong>JDBC</strong> directly, for example <strong>Spring JDBC</strong>, you could use maps (<code>SimpleJdbcTemplate</code> returns maps in many functions etc.), but reading POJO field is much quicker and less error-prone than reading field from map. Maps take also more place in memory.</p>\n\n<p>3) If you are using <strong>JSF</strong>, you need POJOs with getters and setters, maps could theoretically be used for read-only, but the syntax is going obscure.</p>\n\n<p>Reassuming, there's no good alternative for POJOs in Java for storing datas. In some cases you can use maps, but it's good only when the data structures are dynamic or as temporary solution.</p>\n"},{"tags":[],"owner":{"display_name":"user22877227"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699415370,"creation_date":1699415370,"answer_id":77442733,"question_id":17301327,"body_markdown":"\r\n\r\n1) If you use Hibernate or other ORM, you must use POJOs. There&#39;s no other way.\r\n\r\n2) If you use JDBC directly, for example Spring JDBC, you could use maps (SimpleJdbcTemplate returns maps in many functions etc.), but reading POJO field is much quicker and less error-prone than reading field from map. Maps take also more place in memory.\r\n\r\n3) If you are using JSF, you need POJOs with getters and setters, maps could theoretically be used for read-only, but the syntax is going obscure.\r\n\r\nReassuming, there&#39;s no good alternative for POJOs in Java for storing datas. In some cases you can use maps, but it&#39;s good only when the data structures are dynamic or as temporary solution.\r\n\r\n","title":"Converting database data into objects","body":"<ol>\n<li><p>If you use Hibernate or other ORM, you must use POJOs. There's no other way.</p>\n</li>\n<li><p>If you use JDBC directly, for example Spring JDBC, you could use maps (SimpleJdbcTemplate returns maps in many functions etc.), but reading POJO field is much quicker and less error-prone than reading field from map. Maps take also more place in memory.</p>\n</li>\n<li><p>If you are using JSF, you need POJOs with getters and setters, maps could theoretically be used for read-only, but the syntax is going obscure.</p>\n</li>\n</ol>\n<p>Reassuming, there's no good alternative for POJOs in Java for storing datas. In some cases you can use maps, but it's good only when the data structures are dynamic or as temporary solution.</p>\n"}],"owner":{"account_id":1367445,"reputation":579,"user_id":1303598,"accept_rate":72,"display_name":"Kyle Walker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1699430751,"accepted_answer_id":17301475,"answer_count":3,"score":2,"last_activity_date":1699415370,"creation_date":1372173900,"question_id":17301327,"body_markdown":"I&#39;m building my first real Java application, and I&#39;m confused about following good object-oriented design practices.  \r\n\r\nMy application allows a yoga instructor to design a yoga session. There is a MySQL database with five tables: \r\n\r\n- a table of yoga poses, \r\n- a table for the warmup section of the session \r\n- a table for the work section of the session \r\n- a table for the restore section of the session \r\n- and finally a table containing the various yoga sessions the user has created. \r\n\r\nThe sessions are composed of sections, and the sections are composed of poses.  I purposefully chose to use a database in this design rather than lists or arrays for the purpose of learning how to integrate a database with Java. \r\n\r\n**Here is my question:** \r\nIs it really necessary to make objects out of the poses, sections and sessions?  \r\nThey are merely data, and they don&#39;t have behavior of any kind.  The real objects in my application are the windows and tools the user is using to assemble these poses and sections into yoga sessions. It just seems that my code will become unnecessarily inflated and complicated if I force each pose and section and session to be an object.  I realize that I may be asking for opinions here, and that is generally discouraged on this forum.  But my intent is to understand and follow object-oriented design in what seems to me to be a murky area.","title":"Converting database data into objects","body":"<p>I'm building my first real Java application, and I'm confused about following good object-oriented design practices.  </p>\n\n<p>My application allows a yoga instructor to design a yoga session. There is a MySQL database with five tables: </p>\n\n<ul>\n<li>a table of yoga poses, </li>\n<li>a table for the warmup section of the session </li>\n<li>a table for the work section of the session </li>\n<li>a table for the restore section of the session </li>\n<li>and finally a table containing the various yoga sessions the user has created. </li>\n</ul>\n\n<p>The sessions are composed of sections, and the sections are composed of poses.  I purposefully chose to use a database in this design rather than lists or arrays for the purpose of learning how to integrate a database with Java. </p>\n\n<p><strong>Here is my question:</strong> \nIs it really necessary to make objects out of the poses, sections and sessions?<br>\nThey are merely data, and they don't have behavior of any kind.  The real objects in my application are the windows and tools the user is using to assemble these poses and sections into yoga sessions. It just seems that my code will become unnecessarily inflated and complicated if I force each pose and section and session to be an object.  I realize that I may be asking for opinions here, and that is generally discouraged on this forum.  But my intent is to understand and follow object-oriented design in what seems to me to be a murky area.</p>\n"},{"tags":["java","aspectj"],"answers":[{"tags":[],"owner":{"account_id":15097358,"reputation":35,"user_id":10895438,"display_name":"Ivan Jevtic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699384101,"creation_date":1699384101,"answer_id":77440834,"question_id":77438354,"body_markdown":"Okay, the right way to intercept a constructor call is with an Aspect\r\n\r\n    @Around(&quot;call(ExampleClass.new(..))&quot;)\r\nNow the program acts as expected. The still confusing part is what actually happened in the snippet above, it seems that a new default constructor was created, thus it was called, and the new instance was made.","title":"How to intercept constructor call and insert another object with AspectJ?","body":"<p>Okay, the right way to intercept a constructor call is with an Aspect</p>\n<pre><code>@Around(&quot;call(ExampleClass.new(..))&quot;)\n</code></pre>\n<p>Now the program acts as expected. The still confusing part is what actually happened in the snippet above, it seems that a new default constructor was created, thus it was called, and the new instance was made.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699415110,"creation_date":1699415110,"answer_id":77442717,"question_id":77438354,"body_markdown":"That is an interesting question, so I want to answer it a bit more extensively. As a reference for the additional pointcut types I am going to mention, please use [this overview from the AspectJ Programming Guide](https://eclipse.dev/aspectj/doc/next/progguide/printable.html#quick-pointcuts).\r\n\r\nFor constructor interception, there are 4 relevant pointcut types:\r\n  * `call`: marks the place in the code where the constructor is called\r\n  * `execution`: marks the place in the code where the constructor is executed\r\n  * `preinitialization`: encompasses the entry of the first-called constructor to the call to the super constructor\r\n  * `initialization`: encompasses the return from the super constructor call to the return of the first-called constructor\r\n\r\nPlease note that while for the former two, an around advice is possible, for the latter two only before/after advice types are permitted, i.e. you cannot stop them from being executed by not proceeding. I.e., you cannot just return null from a constructor call, because the JVM is not designed that way.\r\n\r\nFirst, let us extend the sample code, so we can see more:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77438354;\r\n\r\npublic class BaseClass {\r\n  final int id;\r\n\r\n  public BaseClass(int id) {\r\n    System.out.println(&quot;In BaseClass constructor&quot;);\r\n    this.id = id;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77438354;\r\n\r\npublic class ExampleClass extends BaseClass {\r\n  final String name;\r\n\r\n  public ExampleClass() {\r\n    super(11);\r\n    System.out.println(&quot;In ExampleClass constructor&quot;);\r\n    name = &quot;Jane Doe&quot;;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return &quot;ExampleClass{id=&quot; + id + &quot;, name=&quot; + name + &quot;}&quot;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77438354;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    System.out.println(new ExampleClass());\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77438354;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.After;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\n\r\n@Aspect\r\npublic class ConstructorInterceptorAspect {\r\n  @Around(&quot;execution(ExampleClass.new())&quot;)\r\n  public Object aroundObjectCreation(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;[B] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\r\n    try {\r\n      System.out.println(&quot;Intercepting object creation&quot;);\r\n      return null;\r\n    } finally {\r\n      System.out.println(&quot;[A] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\r\n    }\r\n  }\r\n\r\n  @Before(&quot;preinitialization(ExampleClass.new()) || initialization(ExampleClass.new()) || call(ExampleClass.new())&quot;)\r\n  public void beforeInit(JoinPoint joinPoint) {\r\n    System.out.println(&quot;[B] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\r\n  }\r\n\r\n  @After(&quot;preinitialization(ExampleClass.new()) || initialization(ExampleClass.new()) || call(ExampleClass.new())&quot;)\r\n  public void afterInit(JoinPoint joinPoint) {\r\n    System.out.println(&quot;[A] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\r\n  }\r\n}\r\n```\r\n\r\nThe console log looks as follows:\r\n\r\n```none\r\n[B] call(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\r\n[B] preinitialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\r\n[A] preinitialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\r\nIn BaseClass constructor\r\n[B] initialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\r\n[B] execution(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\r\nIntercepting object creation\r\n[A] execution(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\r\n[A] initialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\r\n[A] call(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\r\nExampleClass{id=11, name=null}\r\n```\r\n\r\nPlease note:\r\n  * Before `execution` is even reached, `preinitialization` has finished already and `initialization` wraps `execution`, i.e. it starts before `execution` and ends later.\r\n  * That means e.g., that the super constructor has finished running. You can see in the log `ExampleClass{id=11, name=null}` at that time, i.e. the super class field was initialised already, while the subclass field has no value yet. \r\n  * Further above, you see `null`, i.e. during pre-initialisation there is not even an instance constructed yet.\r\n  * Next, you see how the non-proceeding `execution` advice successfully blocks field initialisation in the intercepted constructor, i.e. the field value remains `name=null`. BTW, the same way you could also prohibit field initialisation in the super class constructor, if you would change your around execution pointcut correspondingly.\r\n\r\nActually, your log output &quot;Intercepting object creation&quot; is not entirely correct. You are just intercepting constructor execution, but there is no way to stop object creation and return null instead. You could only throw an exception to stop the object from being created.\r\n\r\nThe reason that you can return `null` in the around `call` advice is that the object has already been created, i.e. execution has finished, but you simply replace the created value by null.\r\n\r\n","title":"How to intercept constructor call and insert another object with AspectJ?","body":"<p>That is an interesting question, so I want to answer it a bit more extensively. As a reference for the additional pointcut types I am going to mention, please use <a href=\"https://eclipse.dev/aspectj/doc/next/progguide/printable.html#quick-pointcuts\" rel=\"nofollow noreferrer\">this overview from the AspectJ Programming Guide</a>.</p>\n<p>For constructor interception, there are 4 relevant pointcut types:</p>\n<ul>\n<li><code>call</code>: marks the place in the code where the constructor is called</li>\n<li><code>execution</code>: marks the place in the code where the constructor is executed</li>\n<li><code>preinitialization</code>: encompasses the entry of the first-called constructor to the call to the super constructor</li>\n<li><code>initialization</code>: encompasses the return from the super constructor call to the return of the first-called constructor</li>\n</ul>\n<p>Please note that while for the former two, an around advice is possible, for the latter two only before/after advice types are permitted, i.e. you cannot stop them from being executed by not proceeding. I.e., you cannot just return null from a constructor call, because the JVM is not designed that way.</p>\n<p>First, let us extend the sample code, so we can see more:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77438354;\n\npublic class BaseClass {\n  final int id;\n\n  public BaseClass(int id) {\n    System.out.println(&quot;In BaseClass constructor&quot;);\n    this.id = id;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77438354;\n\npublic class ExampleClass extends BaseClass {\n  final String name;\n\n  public ExampleClass() {\n    super(11);\n    System.out.println(&quot;In ExampleClass constructor&quot;);\n    name = &quot;Jane Doe&quot;;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;ExampleClass{id=&quot; + id + &quot;, name=&quot; + name + &quot;}&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77438354;\n\npublic class Application {\n  public static void main(String[] args) {\n    System.out.println(new ExampleClass());\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77438354;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\n\n@Aspect\npublic class ConstructorInterceptorAspect {\n  @Around(&quot;execution(ExampleClass.new())&quot;)\n  public Object aroundObjectCreation(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;[B] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\n    try {\n      System.out.println(&quot;Intercepting object creation&quot;);\n      return null;\n    } finally {\n      System.out.println(&quot;[A] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\n    }\n  }\n\n  @Before(&quot;preinitialization(ExampleClass.new()) || initialization(ExampleClass.new()) || call(ExampleClass.new())&quot;)\n  public void beforeInit(JoinPoint joinPoint) {\n    System.out.println(&quot;[B] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\n  }\n\n  @After(&quot;preinitialization(ExampleClass.new()) || initialization(ExampleClass.new()) || call(ExampleClass.new())&quot;)\n  public void afterInit(JoinPoint joinPoint) {\n    System.out.println(&quot;[A] &quot; + joinPoint + &quot; -&gt; &quot; + joinPoint.getTarget());\n  }\n}\n</code></pre>\n<p>The console log looks as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[B] call(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\n[B] preinitialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\n[A] preinitialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\nIn BaseClass constructor\n[B] initialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\n[B] execution(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\nIntercepting object creation\n[A] execution(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\n[A] initialization(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; ExampleClass{id=11, name=null}\n[A] call(de.scrum_master.stackoverflow.q77438354.ExampleClass()) -&gt; null\nExampleClass{id=11, name=null}\n</code></pre>\n<p>Please note:</p>\n<ul>\n<li>Before <code>execution</code> is even reached, <code>preinitialization</code> has finished already and <code>initialization</code> wraps <code>execution</code>, i.e. it starts before <code>execution</code> and ends later.</li>\n<li>That means e.g., that the super constructor has finished running. You can see in the log <code>ExampleClass{id=11, name=null}</code> at that time, i.e. the super class field was initialised already, while the subclass field has no value yet.</li>\n<li>Further above, you see <code>null</code>, i.e. during pre-initialisation there is not even an instance constructed yet.</li>\n<li>Next, you see how the non-proceeding <code>execution</code> advice successfully blocks field initialisation in the intercepted constructor, i.e. the field value remains <code>name=null</code>. BTW, the same way you could also prohibit field initialisation in the super class constructor, if you would change your around execution pointcut correspondingly.</li>\n</ul>\n<p>Actually, your log output &quot;Intercepting object creation&quot; is not entirely correct. You are just intercepting constructor execution, but there is no way to stop object creation and return null instead. You could only throw an exception to stop the object from being created.</p>\n<p>The reason that you can return <code>null</code> in the around <code>call</code> advice is that the object has already been created, i.e. execution has finished, but you simply replace the created value by null.</p>\n"}],"owner":{"account_id":15097358,"reputation":35,"user_id":10895438,"display_name":"Ivan Jevtic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77442717,"answer_count":2,"score":0,"last_activity_date":1699415110,"creation_date":1699361471,"question_id":77438354,"body_markdown":"I want to intercept object creation for a certain class using AspectJ, and insert some other object.\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    \r\n    @Aspect\r\n    public class AnnotationAspect {\r\n    \r\n        @Around(&quot;execution(ExampleClass.new())&quot;)\r\n        public Object aroundObjectCreation(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \t    System.out.println(&quot;Intercepting object creation&quot;);\r\n    \t    return null;\r\n        }\r\n    }\r\n\r\nWhen I create an object in the main program:\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n    \t    ExampleClass e = new ExampleClass();\r\n    \t    System.out.println(e);\r\n        }\r\n    \r\n    }\r\n\r\ninstead of the expected null value, I get the following output:\r\n\r\n    Intercepting object creation\r\n    com.example.ExampleClass@19bb07ed\r\n\r\nHow is this possible? The program never reached the real ExampleClass constructor, yet somehow the object is created.","title":"How to intercept constructor call and insert another object with AspectJ?","body":"<p>I want to intercept object creation for a certain class using AspectJ, and insert some other object.</p>\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class AnnotationAspect {\n\n    @Around(&quot;execution(ExampleClass.new())&quot;)\n    public Object aroundObjectCreation(ProceedingJoinPoint joinPoint) throws Throwable {\n        System.out.println(&quot;Intercepting object creation&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>When I create an object in the main program:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        ExampleClass e = new ExampleClass();\n        System.out.println(e);\n    }\n\n}\n</code></pre>\n<p>instead of the expected null value, I get the following output:</p>\n<pre><code>Intercepting object creation\ncom.example.ExampleClass@19bb07ed\n</code></pre>\n<p>How is this possible? The program never reached the real ExampleClass constructor, yet somehow the object is created.</p>\n"},{"tags":["java","jpa","jakarta-ee","annotations","transient"],"answers":[{"comments":[{"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"score":3,"creation_date":1264692055,"post_id":2154640,"comment_id":2098583,"body_markdown":"Yes, the semantics are different. But why was JPA designed this way?","body":"Yes, the semantics are different. But why was JPA designed this way?"},{"owner":{"account_id":69925,"reputation":6977,"user_id":203200,"display_name":"Jawher"},"score":1,"creation_date":1264693568,"post_id":2154640,"comment_id":2098882,"body_markdown":"Not sure I&#39;m understanding you, but have a look at &quot;Pascal Thivent&quot;&#39;s answer ;)","body":"Not sure I&#39;m understanding you, but have a look at &quot;Pascal Thivent&quot;&#39;s answer ;)"},{"owner":{"account_id":116850,"reputation":13719,"user_id":306276,"accept_rate":92,"display_name":"Kdeveloper"},"score":45,"creation_date":1286921623,"post_id":2154640,"comment_id":4179803,"body_markdown":"This is handy because you might not want to store the data in the database, but you do want to store it in the JPA Chaching system that uses serialization for store/restore of entities.","body":"This is handy because you might not want to store the data in the database, but you do want to store it in the JPA Chaching system that uses serialization for store/restore of entities."},{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":1,"creation_date":1287582966,"post_id":2154640,"comment_id":4256244,"body_markdown":"What &quot;JPA Caching system&quot; that uses serialisation for store/restore of entities ? a JPA implementation can cache an object in any way they wish, and serialisation doesn&#39;t enter into it.","body":"What &quot;JPA Caching system&quot; that uses serialisation for store/restore of entities ? a JPA implementation can cache an object in any way they wish, and serialisation doesn&#39;t enter into it."},{"owner":{"account_id":1421665,"reputation":3294,"user_id":1346155,"accept_rate":41,"display_name":"Satish Sharma"},"score":0,"creation_date":1357299100,"post_id":2154640,"comment_id":19608595,"body_markdown":"@Jawher , here for transient not presistant means to not to presist any value or it will insert default value for that attribute.","body":"@Jawher , here for transient not presistant means to not to presist any value or it will insert default value for that attribute."},{"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"score":0,"creation_date":1456452016,"post_id":2154640,"comment_id":58965297,"body_markdown":"@DilumRanatunga I tried to address your question in my (late) answer below.","body":"@DilumRanatunga I tried to address your question in my (late) answer below."}],"tags":[],"owner":{"account_id":69925,"reputation":6977,"user_id":203200,"display_name":"Jawher"},"comment_count":6,"down_vote_count":0,"up_vote_count":591,"is_accepted":true,"score":591,"last_activity_date":1450269181,"creation_date":1264683800,"answer_id":2154640,"question_id":2154622,"body_markdown":"Java&#39;s `transient` keyword is used to denote that a field is not to be serialized, whereas JPA&#39;s `@Transient` annotation is used to indicate that a field is not to be persisted in the database, i.e. their semantics are different.\r\n\r\n","title":"Why does JPA have a @Transient annotation?","body":"<p>Java's <code>transient</code> keyword is used to denote that a field is not to be serialized, whereas JPA's <code>@Transient</code> annotation is used to indicate that a field is not to be persisted in the database, i.e. their semantics are different.</p>\n"},{"comments":[{"owner":{"account_id":2078190,"reputation":1221,"user_id":1850930,"display_name":"jfajunior"},"score":3,"creation_date":1579773378,"post_id":2154646,"comment_id":105881446,"body_markdown":"Thanks for the answer Pascal. As a note from your comment: &quot;You might want to have a @Transient property and still serialize it.&quot; (That was what I was looking for) I also want to add that the contrary is not true. If one set a variable as transient, than you cannot persist it.","body":"Thanks for the answer Pascal. As a note from your comment: &quot;You might want to have a @Transient property and still serialize it.&quot; (That was what I was looking for) I also want to add that the contrary is not true. If one set a variable as transient, than you cannot persist it."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1287594216,"creation_date":1264683841,"answer_id":2154646,"question_id":2154622,"body_markdown":"Because they have different meanings. The `@Transient` annotation tells the JPA provider to not persist any (non-`transient`) attribute. The other tells the serialization framework to not serialize an attribute. You might want to have a `@Transient` property and still serialize it.","title":"Why does JPA have a @Transient annotation?","body":"<p>Because they have different meanings. The <code>@Transient</code> annotation tells the JPA provider to not persist any (non-<code>transient</code>) attribute. The other tells the serialization framework to not serialize an attribute. You might want to have a <code>@Transient</code> property and still serialize it.</p>\n"},{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":8,"creation_date":1444989734,"post_id":2154778,"comment_id":54143256,"body_markdown":"This should be IMHO the accepted answer as it is much more explaining that the current accepted one...","body":"This should be IMHO the accepted answer as it is much more explaining that the current accepted one..."},{"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"score":0,"creation_date":1645549259,"post_id":2154778,"comment_id":125898779,"body_markdown":"c&#39;mon.. do you really use `equals()` to compare enums? It&#39;s like writing `new Integer(3).equals(new Integer(3))` to compare numbers","body":"c&#39;mon.. do you really use <code>equals()</code> to compare enums? It&#39;s like writing <code>new Integer(3).equals(new Integer(3))</code> to compare numbers"},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1646404969,"post_id":2154778,"comment_id":126121549,"body_markdown":"@Jack C&#39;mon, you&#39;re replying to 12 year old answer. I haven&#39;t touched Java since 2016 even, I&#39;m a full stack Clojurist these days.","body":"@Jack C&#39;mon, you&#39;re replying to 12 year old answer. I haven&#39;t touched Java since 2016 even, I&#39;m a full stack Clojurist these days."},{"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"score":1,"creation_date":1646406936,"post_id":2154778,"comment_id":126122275,"body_markdown":"Just in case you&#39;re returning to Java again :P","body":"Just in case you&#39;re returning to Java again :P"}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":4,"down_vote_count":0,"up_vote_count":135,"is_accepted":false,"score":135,"last_activity_date":1276420202,"creation_date":1264685341,"answer_id":2154778,"question_id":2154622,"body_markdown":"As others have said, `@Transient` is used to mark fields which shouldn&#39;t be persisted. Consider this short example:\r\n\r\n    public enum Gender { MALE, FEMALE, UNKNOWN }\r\n\r\n    @Entity\r\n    public Person {\r\n    \tprivate Gender g;\r\n    \tprivate long id;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tpublic long getId() { return id; }\r\n    \tpublic void setId(long id) { this.id = id; }\r\n\r\n    \tpublic Gender getGender() { return g; }    \r\n    \tpublic void setGender(Gender g) { this.g = g; }\r\n    \r\n    \t@Transient\r\n    \tpublic boolean isMale() {\r\n    \t\treturn Gender.MALE.equals(g);\r\n    \t}\r\n    \r\n    \t@Transient\r\n    \tpublic boolean isFemale() {\r\n    \t\treturn Gender.FEMALE.equals(g);\r\n    \t}\r\n    }\r\n\r\nWhen this class is fed to the JPA, it persists the `gender` and `id` but doesn&#39;t try to persist the helper boolean methods - without `@Transient` the underlying system would complain that the Entity class `Person` is missing `setMale()` and `setFemale()` methods and thus wouldn&#39;t persist `Person` at all.","title":"Why does JPA have a @Transient annotation?","body":"<p>As others have said, <code>@Transient</code> is used to mark fields which shouldn't be persisted. Consider this short example:</p>\n\n<pre><code>public enum Gender { MALE, FEMALE, UNKNOWN }\n\n@Entity\npublic Person {\n    private Gender g;\n    private long id;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    public long getId() { return id; }\n    public void setId(long id) { this.id = id; }\n\n    public Gender getGender() { return g; }    \n    public void setGender(Gender g) { this.g = g; }\n\n    @Transient\n    public boolean isMale() {\n        return Gender.MALE.equals(g);\n    }\n\n    @Transient\n    public boolean isFemale() {\n        return Gender.FEMALE.equals(g);\n    }\n}\n</code></pre>\n\n<p>When this class is fed to the JPA, it persists the <code>gender</code> and <code>id</code> but doesn't try to persist the helper boolean methods - without <code>@Transient</code> the underlying system would complain that the Entity class <code>Person</code> is missing <code>setMale()</code> and <code>setFemale()</code> methods and thus wouldn't persist <code>Person</code> at all.</p>\n"},{"comments":[{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1484638063,"post_id":33771726,"comment_id":70578708,"body_markdown":"can you please provide example to make it more clear ?","body":"can you please provide example to make it more clear ?"},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":0,"creation_date":1537975394,"post_id":33771726,"comment_id":91981985,"body_markdown":"is there an annotation that jpa will treat as transient but jackson will not?","body":"is there an annotation that jpa will treat as transient but jackson will not?"}],"tags":[],"owner":{"account_id":5036993,"reputation":2210,"user_id":4045489,"display_name":"Sheng.W"},"comment_count":2,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1450269307,"creation_date":1447820145,"answer_id":33771726,"question_id":2154622,"body_markdown":"If you just want a field won&#39;t get persisted, both **transient** and **@Transient** work. But the question is why **@Transient** since **transient** already exists. \r\n\r\n**Because @Transient field will still get serialized!** \r\n\r\nSuppose you create a entity, doing some CPU-consuming calculation to get a result and this result will not save in database. But you want to sent the entity to other Java applications to use by JMS, then you should use `@Transient`, not the JavaSE keyword `transient`. So the receivers running on other VMs can save their time to re-calculate again. ","title":"Why does JPA have a @Transient annotation?","body":"<p>If you just want a field won't get persisted, both <strong>transient</strong> and <strong>@Transient</strong> work. But the question is why <strong>@Transient</strong> since <strong>transient</strong> already exists. </p>\n\n<p><strong>Because @Transient field will still get serialized!</strong> </p>\n\n<p>Suppose you create a entity, doing some CPU-consuming calculation to get a result and this result will not save in database. But you want to sent the entity to other Java applications to use by JMS, then you should use <code>@Transient</code>, not the JavaSE keyword <code>transient</code>. So the receivers running on other VMs can save their time to re-calculate again. </p>\n"},{"tags":[],"owner":{"account_id":358377,"reputation":997,"user_id":699111,"accept_rate":65,"display_name":"Dima R."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1450294597,"creation_date":1450294597,"answer_id":34320625,"question_id":2154622,"body_markdown":"I will try to answer the question of &quot;why&quot;.\r\nImagine a situation where you have a huge database with a lot of columns in a table, and your project/system uses tools to generate entities from database. (Hibernate has those, etc...)\r\nNow, suppose that by your business logic you need a particular field NOT to be persisted.  You have to &quot;configure&quot; your entity in a particular way.\r\nWhile Transient keyword works on an object - as it behaves within a java language, the @Transient only designed to answer the tasks that pertains only to persistence tasks.","title":"Why does JPA have a @Transient annotation?","body":"<p>I will try to answer the question of \"why\".\nImagine a situation where you have a huge database with a lot of columns in a table, and your project/system uses tools to generate entities from database. (Hibernate has those, etc...)\nNow, suppose that by your business logic you need a particular field NOT to be persisted.  You have to \"configure\" your entity in a particular way.\nWhile Transient keyword works on an object - as it behaves within a java language, the @Transient only designed to answer the tasks that pertains only to persistence tasks.</p>\n"},{"comments":[{"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"score":2,"creation_date":1457805850,"post_id":35641998,"comment_id":59577665,"body_markdown":"If they actually are different concerns, surely there exists a different word that captures the nuances. Why overload the term? As a starter suggestion, `@Unpersisted`.","body":"If they actually are different concerns, surely there exists a different word that captures the nuances. Why overload the term? As a starter suggestion, <code>@Unpersisted</code>."},{"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"score":4,"creation_date":1493087439,"post_id":35641998,"comment_id":74251179,"body_markdown":"I personally like `@Ephemeral`. According to Merriam Webster: When ephemeral was first printed in English in the 1600s, &quot;it was a scientific term applied to short-term fevers, and later, to organisms (such as insects and flowers) with very short life spans. Soon after that, it acquired an extended sense referring to anything fleeting and short-lived (as in &quot;ephemeral pleasures&quot;).&quot;","body":"I personally like <code>@Ephemeral</code>. According to Merriam Webster: When ephemeral was first printed in English in the 1600s, &quot;it was a scientific term applied to short-term fevers, and later, to organisms (such as insects and flowers) with very short life spans. Soon after that, it acquired an extended sense referring to anything fleeting and short-lived (as in &quot;ephemeral pleasures&quot;).&quot;"},{"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"score":1,"creation_date":1540469636,"post_id":35641998,"comment_id":92883058,"body_markdown":"What I also like about this answer is that it mentions that JPA regards `transient` fields as implicitly having the `@Transient` annotation. So if you use the `transient` keyword to prevent serialization of a field then it will not end up in the database either.","body":"What I also like about this answer is that it mentions that JPA regards <code>transient</code> fields as implicitly having the <code>@Transient</code> annotation. So if you use the <code>transient</code> keyword to prevent serialization of a field then it will not end up in the database either."},{"owner":{"account_id":9091178,"reputation":340,"user_id":6767002,"display_name":"Sibulele"},"score":1,"creation_date":1681242097,"post_id":35641998,"comment_id":134024286,"body_markdown":"This is the most accurate answer","body":"This is the most accurate answer"}],"tags":[],"owner":{"account_id":4688412,"reputation":8118,"user_id":3795219,"accept_rate":70,"display_name":"Austin"},"comment_count":4,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1456451726,"creation_date":1456451726,"answer_id":35641998,"question_id":2154622,"body_markdown":"**Purpose is different:**\r\n\r\nThe `transient` keyword and `@Transient` annotation have two different purposes: one deals with **serialization** and one deals with **persistence**. As programmers, we often marry these two concepts into one, but this is not accurate in general. [Persistence][1] refers to the characteristic of state that outlives the process that created it. [Serialization][2] in Java refers to the process of encoding/decoding an object&#39;s state as a byte stream. \r\n\r\n**The `transient` keyword is a stronger condition than `@Transient`:**\r\n\r\nIf a field uses the `transient` keyword, that field will not be serialized when the object is converted to a byte stream. Furthermore, since JPA treats fields marked with the `transient` keyword as having the `@Transient` annotation, the field will not be persisted by JPA either. \r\n\r\nOn the other hand, fields annotated `@Transient` alone **will** be converted to a byte stream when the object is serialized, but it will not be persisted by JPA. Therefore, the `transient` keyword is a stronger condition than the `@Transient` annotation.\r\n\r\n**Example**\r\n\r\nThis begs the question: Why would anyone want to serialize a field that is not persisted to the application&#39;s database?\r\nThe reality is that **serialization is used for more than just persistence**. In an Enterprise Java application there needs to be *a mechanism to exchange objects between distributed components*; serialization provides a common communication protocol to handle this.  Thus, a field may hold critical information for the purpose of inter-component communication; but that same field may have no value from a persistence perspective. \r\n\r\nFor example, suppose an optimization algorithm is run on a server, and suppose this algorithm takes several hours to complete. To a client, having the most up-to-date set of solutions is important. So, a client can subscribe to the server and receive periodic updates during the algorithm&#39;s execution phase. These updates are provided using the `ProgressReport` object: \r\n\r\n\t@Entity\r\n\tpublic class ProgressReport implements Serializable{\r\n\t\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n        @Transient\r\n        long estimatedMinutesRemaining;\r\n\t\tString statusMessage;\r\n\t\tSolution currentBestSolution;\r\n\t\t\r\n\t}\r\nThe `Solution` class might look like this:\r\n\r\n\t@Entity\r\n\tpublic class Solution implements Serializable{\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n\t\tdouble[][] dataArray;\r\n        Properties properties;\r\n\t}\r\n\r\nThe server persists each `ProgressReport` to its database. The server does not care to persist `estimatedMinutesRemaining`, but the client certainly cares about this information. Therefore, the `estimatedMinutesRemaining` is annotated using `@Transient`. When the final `Solution` is located by the algorithm, it is persisted by JPA directly without using a `ProgressReport`.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Persistence_(computer_science)\r\n  [2]: https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html","title":"Why does JPA have a @Transient annotation?","body":"<p><strong>Purpose is different:</strong></p>\n\n<p>The <code>transient</code> keyword and <code>@Transient</code> annotation have two different purposes: one deals with <strong>serialization</strong> and one deals with <strong>persistence</strong>. As programmers, we often marry these two concepts into one, but this is not accurate in general. <a href=\"https://en.wikipedia.org/wiki/Persistence_(computer_science)\" rel=\"noreferrer\">Persistence</a> refers to the characteristic of state that outlives the process that created it. <a href=\"https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\" rel=\"noreferrer\">Serialization</a> in Java refers to the process of encoding/decoding an object's state as a byte stream. </p>\n\n<p><strong>The <code>transient</code> keyword is a stronger condition than <code>@Transient</code>:</strong></p>\n\n<p>If a field uses the <code>transient</code> keyword, that field will not be serialized when the object is converted to a byte stream. Furthermore, since JPA treats fields marked with the <code>transient</code> keyword as having the <code>@Transient</code> annotation, the field will not be persisted by JPA either. </p>\n\n<p>On the other hand, fields annotated <code>@Transient</code> alone <strong>will</strong> be converted to a byte stream when the object is serialized, but it will not be persisted by JPA. Therefore, the <code>transient</code> keyword is a stronger condition than the <code>@Transient</code> annotation.</p>\n\n<p><strong>Example</strong></p>\n\n<p>This begs the question: Why would anyone want to serialize a field that is not persisted to the application's database?\nThe reality is that <strong>serialization is used for more than just persistence</strong>. In an Enterprise Java application there needs to be <em>a mechanism to exchange objects between distributed components</em>; serialization provides a common communication protocol to handle this.  Thus, a field may hold critical information for the purpose of inter-component communication; but that same field may have no value from a persistence perspective. </p>\n\n<p>For example, suppose an optimization algorithm is run on a server, and suppose this algorithm takes several hours to complete. To a client, having the most up-to-date set of solutions is important. So, a client can subscribe to the server and receive periodic updates during the algorithm's execution phase. These updates are provided using the <code>ProgressReport</code> object: </p>\n\n<pre><code>@Entity\npublic class ProgressReport implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Transient\n    long estimatedMinutesRemaining;\n    String statusMessage;\n    Solution currentBestSolution;\n\n}\n</code></pre>\n\n<p>The <code>Solution</code> class might look like this:</p>\n\n<pre><code>@Entity\npublic class Solution implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    double[][] dataArray;\n    Properties properties;\n}\n</code></pre>\n\n<p>The server persists each <code>ProgressReport</code> to its database. The server does not care to persist <code>estimatedMinutesRemaining</code>, but the client certainly cares about this information. Therefore, the <code>estimatedMinutesRemaining</code> is annotated using <code>@Transient</code>. When the final <code>Solution</code> is located by the algorithm, it is persisted by JPA directly without using a <code>ProgressReport</code>.</p>\n"},{"tags":[],"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606911266,"creation_date":1606911266,"answer_id":65107891,"question_id":2154622,"body_markdown":"For **Kotlin** developers, remember the Java `transient` keyword becomes the built-in Kotlin `@Transient` annotation. Therefore, make sure you have the JPA import if you&#39;re using JPA `@Transient` in your entity: \r\n\r\n    import javax.persistence.Transient","title":"Why does JPA have a @Transient annotation?","body":"<p>For <strong>Kotlin</strong> developers, remember the Java <code>transient</code> keyword becomes the built-in Kotlin <code>@Transient</code> annotation. Therefore, make sure you have the JPA import if you're using JPA <code>@Transient</code> in your entity:</p>\n<pre><code>import javax.persistence.Transient\n</code></pre>\n"},{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":4,"creation_date":1663105118,"post_id":65367972,"comment_id":130160407,"body_markdown":"This doesn&#39;t answer the question. The question is NOT &quot;what does `@Transient` do?&quot; but rather, &quot;Why not use the keyword.&quot;","body":"This doesn&#39;t answer the question. The question is NOT &quot;what does <code>@Transient</code> do?&quot; but rather, &quot;Why not use the keyword.&quot;"},{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1675144983,"post_id":65367972,"comment_id":132860194,"body_markdown":"@E-Riz nah. by showing what it does it shows why not to use it as I elaborated in my explanation and screen shot, as 6 ppl have also agreed with. pls and thank you.","body":"@E-Riz nah. by showing what it does it shows why not to use it as I elaborated in my explanation and screen shot, as 6 ppl have also agreed with. pls and thank you."}],"tags":[],"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1699414809,"creation_date":1608366404,"answer_id":65367972,"question_id":2154622,"body_markdown":"In laymen&#39;s terms, if you use the @Transient annotation on an attribute of an entity: this attribute will be singled out and will not be saved to the database. The rest of the attributes of the object within the entity will still be saved. \r\n\r\n[![example:][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UI7gm.png\r\n\r\nI&#39;m saving the Object to the database using the jpa repository built-in save method as so: \r\n```java\r\nuserRoleJoinRepository.save(user2);\r\n```","title":"Why does JPA have a @Transient annotation?","body":"<p>In laymen's terms, if you use the @Transient annotation on an attribute of an entity: this attribute will be singled out and will not be saved to the database. The rest of the attributes of the object within the entity will still be saved.</p>\n<p><a href=\"https://i.stack.imgur.com/UI7gm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UI7gm.png\" alt=\"example:\" /></a></p>\n<p>I'm saving the Object to the database using the jpa repository built-in save method as so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>userRoleJoinRepository.save(user2);\n</code></pre>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434717,"favorite_count":0,"down_vote_count":1,"up_vote_count":378,"accepted_answer_id":2154640,"answer_count":8,"score":377,"last_activity_date":1699414870,"creation_date":1264683620,"question_id":2154622,"body_markdown":"Java has the `transient` keyword. Why does JPA have `@Transient` instead of simply using the already existing java keyword?\r\n","title":"Why does JPA have a @Transient annotation?","body":"<p>Java has the <code>transient</code> keyword. Why does JPA have <code>@Transient</code> instead of simply using the already existing java keyword?</p>\n"},{"tags":["java","jpa","sonarqube"],"owner":{"account_id":13732279,"reputation":55,"user_id":9909533,"display_name":"Luis Marcelo Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699413849,"creation_date":1699413849,"question_id":77442659,"body_markdown":"What is the reason for this criticism and how should it be corrected?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kWSGF.png","title":"sonQube review:This use of javax/persistence/EntityManager.createNativeQuery(Ljav","body":"<p>What is the reason for this criticism and how should it be corrected?</p>\n<p><a href=\"https://i.stack.imgur.com/kWSGF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWSGF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","selenium-webdriver","ssl-certificate","browsermob-proxy"],"comments":[{"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"score":1,"creation_date":1557212660,"post_id":56017155,"comment_id":98678190,"body_markdown":"Check out https://stackoverflow.com/q/6774235/3141682","body":"Check out <a href=\"https://stackoverflow.com/q/6774235/3141682\">stackoverflow.com/q/6774235/3141682</a>"},{"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"score":0,"creation_date":1557213499,"post_id":56017155,"comment_id":98678663,"body_markdown":"@AdiOhana I already searched SO quite extensively... The person in this link just describes how to avoid the untrusted certificate error - this is not what I want, I need to programatically set a certificate to be used.","body":"@AdiOhana I already searched SO quite extensively... The person in this link just describes how to avoid the untrusted certificate error - this is not what I want, I need to programatically set a certificate to be used."},{"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"score":0,"creation_date":1557246033,"post_id":56017155,"comment_id":98697254,"body_markdown":"right, but one of the answers is describing: &quot;You can tell the Chrome browser to use a specific client certificate for a particual URL by adding a registry KEY with the following content:&quot; is this what you are looking for?","body":"right, but one of the answers is describing: &quot;You can tell the Chrome browser to use a specific client certificate for a particual URL by adding a registry KEY with the following content:&quot; is this what you are looking for?"},{"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"score":0,"creation_date":1557256805,"post_id":56017155,"comment_id":98701909,"body_markdown":"Not really... Feels a bit dirty to make changes to the registry for each test. Also, at some point I would like to run these tests in docker containers, so this won&#39;t be possible anymore.","body":"Not really... Feels a bit dirty to make changes to the registry for each test. Also, at some point I would like to run these tests in docker containers, so this won&#39;t be possible anymore."},{"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"score":0,"creation_date":1557510938,"post_id":56017155,"comment_id":98803486,"body_markdown":"It would be possible to run in docker containers if you create a new driver (and browser) for each of your test cases with the desired certificate according to your website.","body":"It would be possible to run in docker containers if you create a new driver (and browser) for each of your test cases with the desired certificate according to your website."}],"answers":[{"tags":[],"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1558014589,"creation_date":1558014589,"answer_id":56170148,"question_id":56017155,"body_markdown":"So apparantly this is not possible with BrowserMob out of the box. I therefore wrote a proxy extension `SeleniumSslProxy` that can be plugged into Selenium and adds certificate based authentication to create a HTTPS connection. \r\n\r\nThis is how it works:\r\n\r\n- intercept Selenium HTTP requests with BrowserMob\r\n- setup an `SSLContext` given a certificate (.pfx file) and password \r\n- use [okhttp](https://github.com/square/okhttp) to forward the request to the target URL\r\n- convert the okhttp `Response` to a netty `FullHttpResponse` so it can be handled by Selenium\r\n\r\nYou can find the code on [github](https://github.com/patricsteiner/seleniumSslProxy). Here&#39;s an example how it can be used in Selenium end-to-end tests (also works in headless mode):\r\n\r\n```Java\r\n@Before\r\npublic void setup() {\r\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\r\n    File clientSslCertificate = new File(\r\n    \tclassLoader.getResource(&quot;certificates/some-certificate.pfx&quot;).getFile());\r\n    String certificatePassword = &quot;superSecret&quot;;\r\n\r\n    this.proxy = new SeleniumSslProxy(clientSslCertificate, certificatePassword);\r\n    this.proxy.start();\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setProxy(proxy);\r\n    this.webDriver = new ChromeDriver(chromeOptions);\r\n}\r\n\r\n@Test\r\npublic void pageTitleIsFoo() {\r\n    // given\r\n    String url = &quot;http://myurl.lol&quot;;\r\n    // NOTE: do not use https in the URL here. It will be converted to https by the proxy.\r\n\r\n    // when\r\n    this.webDriver.get(url);\r\n    this.webDriver.manage().timeouts().implicitlyWait(5, SECONDS);\r\n\r\n    // then\r\n    WebElement title = this.webDriver.findElement(By.className(&quot;title&quot;));\r\n    assertEquals(&quot;Foo&quot;, title.getText());\r\n}\r\n\r\n@After\r\npublic void teardown() {\r\n    this.webDriver.quit();\r\n    this.proxy.stop();\r\n}\r\n```\r\n\r\nNote that I only used chromeDriver and never tested it with other drivers. Minor adjustments to the `SeleniumSslProxy` might be necessary to be used with other drivers.\r\n","title":"Add ssl certificate to selenium-webdriver","body":"<p>So apparantly this is not possible with BrowserMob out of the box. I therefore wrote a proxy extension <code>SeleniumSslProxy</code> that can be plugged into Selenium and adds certificate based authentication to create a HTTPS connection. </p>\n\n<p>This is how it works:</p>\n\n<ul>\n<li>intercept Selenium HTTP requests with BrowserMob</li>\n<li>setup an <code>SSLContext</code> given a certificate (.pfx file) and password </li>\n<li>use <a href=\"https://github.com/square/okhttp\" rel=\"noreferrer\">okhttp</a> to forward the request to the target URL</li>\n<li>convert the okhttp <code>Response</code> to a netty <code>FullHttpResponse</code> so it can be handled by Selenium</li>\n</ul>\n\n<p>You can find the code on <a href=\"https://github.com/patricsteiner/seleniumSslProxy\" rel=\"noreferrer\">github</a>. Here's an example how it can be used in Selenium end-to-end tests (also works in headless mode):</p>\n\n<pre><code>@Before\npublic void setup() {\n    ClassLoader classLoader = ClassLoader.getSystemClassLoader();\n    File clientSslCertificate = new File(\n        classLoader.getResource(\"certificates/some-certificate.pfx\").getFile());\n    String certificatePassword = \"superSecret\";\n\n    this.proxy = new SeleniumSslProxy(clientSslCertificate, certificatePassword);\n    this.proxy.start();\n\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.setProxy(proxy);\n    this.webDriver = new ChromeDriver(chromeOptions);\n}\n\n@Test\npublic void pageTitleIsFoo() {\n    // given\n    String url = \"http://myurl.lol\";\n    // NOTE: do not use https in the URL here. It will be converted to https by the proxy.\n\n    // when\n    this.webDriver.get(url);\n    this.webDriver.manage().timeouts().implicitlyWait(5, SECONDS);\n\n    // then\n    WebElement title = this.webDriver.findElement(By.className(\"title\"));\n    assertEquals(\"Foo\", title.getText());\n}\n\n@After\npublic void teardown() {\n    this.webDriver.quit();\n    this.proxy.stop();\n}\n</code></pre>\n\n<p>Note that I only used chromeDriver and never tested it with other drivers. Minor adjustments to the <code>SeleniumSslProxy</code> might be necessary to be used with other drivers.</p>\n"}],"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8961,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":56170148,"answer_count":1,"score":15,"last_activity_date":1699413668,"creation_date":1557212330,"question_id":56017155,"body_markdown":"I use selenium for end-to-end test with chromeDriver. The websites to test require an ssl certificate. When I manually open the browser, there is a popup that lets me select an installed certificate. Different tests access different URLs and also need different certificates. However, if I run the tests in headless mode, there is no popup. So I need a way to programatically set a certificate (eg. set a `.pem` file) to be used for the current test.\r\n\r\nHow can I achieve this?\r\nI tried setting up a [browserMob](https://github.com/lightbody/browsermob-proxy) proxy which I then configured as a proxy in selenium - however, this does not seem to do anything... Are there better approaches? What am I doing wrong? Here&#39;s what I tried:\r\n\r\n```java\r\nPemFileCertificateSource pemFileCertificateSource = new PemFileCertificateSource(\r\n        new File(&quot;myCertificate.pem&quot;),\r\n        new File(&quot;myPrivateKey.pem&quot;),\r\n        &quot;myPrivateKeyPassword&quot;);\r\n\r\nImpersonatingMitmManager mitmManager = ImpersonatingMitmManager.builder()\r\n        .rootCertificateSource(pemFileCertificateSource)\r\n        .build();\r\n\r\nBrowserMobProxy browserMobProxy = new BrowserMobProxyServer();\r\nbrowserMobProxy.setTrustAllServers(true);\r\nbrowserMobProxy.setMitmManager(mitmManager);\r\n\r\nbrowserMobProxy.start(8080);\r\n\r\n\r\nChromeOptions chromeOptions = new ChromeOptions();\r\nchromeOptions.setProxy(ClientUtil.createSeleniumProxy(browserMobProxy));\r\n\r\nWebDriver webDriver = new ChromeDriver(chromeOptions);\r\n\r\n// use the webdriver for tests, e.g. assertEquals(&quot;foo&quot;, webDriver.findElement(...))\r\n```","title":"Add ssl certificate to selenium-webdriver","body":"<p>I use selenium for end-to-end test with chromeDriver. The websites to test require an ssl certificate. When I manually open the browser, there is a popup that lets me select an installed certificate. Different tests access different URLs and also need different certificates. However, if I run the tests in headless mode, there is no popup. So I need a way to programatically set a certificate (eg. set a <code>.pem</code> file) to be used for the current test.</p>\n\n<p>How can I achieve this?\nI tried setting up a <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"noreferrer\">browserMob</a> proxy which I then configured as a proxy in selenium - however, this does not seem to do anything... Are there better approaches? What am I doing wrong? Here's what I tried:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PemFileCertificateSource pemFileCertificateSource = new PemFileCertificateSource(\n        new File(\"myCertificate.pem\"),\n        new File(\"myPrivateKey.pem\"),\n        \"myPrivateKeyPassword\");\n\nImpersonatingMitmManager mitmManager = ImpersonatingMitmManager.builder()\n        .rootCertificateSource(pemFileCertificateSource)\n        .build();\n\nBrowserMobProxy browserMobProxy = new BrowserMobProxyServer();\nbrowserMobProxy.setTrustAllServers(true);\nbrowserMobProxy.setMitmManager(mitmManager);\n\nbrowserMobProxy.start(8080);\n\n\nChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setProxy(ClientUtil.createSeleniumProxy(browserMobProxy));\n\nWebDriver webDriver = new ChromeDriver(chromeOptions);\n\n// use the webdriver for tests, e.g. assertEquals(\"foo\", webDriver.findElement(...))\n</code></pre>\n"},{"tags":["java","text","jframe","size"],"comments":[{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1436806002,"post_id":31388790,"comment_id":50754587,"body_markdown":"which text you want to make bigger ?","body":"which text you want to make bigger ?"},{"owner":{"account_id":5735475,"reputation":5343,"user_id":4529790,"accept_rate":81,"display_name":"Michele Lacorte"},"score":0,"creation_date":1436806552,"post_id":31388790,"comment_id":50754904,"body_markdown":"Add this line on your code: three.setFont(new Font(&quot;Bold&quot;,100,100));","body":"Add this line on your code: three.setFont(new Font(&quot;Bold&quot;,100,100));"}],"answers":[{"tags":[],"owner":{"account_id":6958337,"reputation":954,"user_id":5338668,"accept_rate":56,"display_name":"Jamal H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442428958,"creation_date":1442428958,"answer_id":32616319,"question_id":31388790,"body_markdown":"Do not use setSize on the Label, for that does not change the font. If you want to make the font bigger then you would use:\r\n\r\n    three.setFont(new Font(&quot;Courier&quot;, Font.BOLD,75));\r\n\r\nif you wanted a different font, then you could change it to &quot;Arial&quot; or something like that, if you don&#39;t want it bolded, then change the second parameter to Font.PLAIN, and the last parameter is the font size, which in this case is 75","title":"JFrame Text Size","body":"<p>Do not use setSize on the Label, for that does not change the font. If you want to make the font bigger then you would use:</p>\n\n<pre><code>three.setFont(new Font(\"Courier\", Font.BOLD,75));\n</code></pre>\n\n<p>if you wanted a different font, then you could change it to \"Arial\" or something like that, if you don't want it bolded, then change the second parameter to Font.PLAIN, and the last parameter is the font size, which in this case is 75</p>\n"}],"owner":{"account_id":6619813,"reputation":21,"user_id":5111927,"display_name":"Roderosity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13070,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699412675,"creation_date":1436805412,"question_id":31388790,"body_markdown":"I have been working to try and make a JFrame that has text in the middle that is really big, but every attempt I&#39;ve made to change the size of the text has just resulted in teeny tinny little words in the corner of the screen.\r\n\r\n    public class StuffMost {\r\n    \tpublic static JLabel three = new JLabel();\r\n    \tpublic static JFrame one = new JFrame();\r\n    \tpublic static JButton four = new JButton();\r\n\r\n    \tpublic static void seconday() {\r\n    \t\tone.setVisible(true);\r\n    \t\tone.setResizable(true);\r\n    \r\n    \t\tone.setDefaultCloseOperation(one.EXIT_ON_CLOSE);\r\n    \t\tone.setSize(1280, 800);\r\n    \t\tone.setTitle(&quot;Hello! Welcome to my window. You Shall Never Leave.&quot;);\r\n    \t\tone.setBackground(Color.BLUE);\r\n    \t\tthree.setText(&quot;Dont&quot;);\r\n    \t\tone.add(three);\r\n    \t\tthree.setSize(900, 300);\r\n    \t\tone.add(four);\r\n    \t}\r\n    \r\n    }","title":"JFrame Text Size","body":"<p>I have been working to try and make a JFrame that has text in the middle that is really big, but every attempt I've made to change the size of the text has just resulted in teeny tinny little words in the corner of the screen.</p>\n\n<pre><code>public class StuffMost {\n    public static JLabel three = new JLabel();\n    public static JFrame one = new JFrame();\n    public static JButton four = new JButton();\n\n    public static void seconday() {\n        one.setVisible(true);\n        one.setResizable(true);\n\n        one.setDefaultCloseOperation(one.EXIT_ON_CLOSE);\n        one.setSize(1280, 800);\n        one.setTitle(\"Hello! Welcome to my window. You Shall Never Leave.\");\n        one.setBackground(Color.BLUE);\n        three.setText(\"Dont\");\n        one.add(three);\n        three.setSize(900, 300);\n        one.add(four);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","c#","string-interning"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695686218,"post_id":77030584,"comment_id":136054703,"body_markdown":"On an earlier question, you @&#39;ed me to answer this one.  I&#39;m not going to answer because questions about string interning of literals are (IMO) pointless.  As I said before, if you compare strings the right way (e.g. don&#39;t use `==` for strings in Java), then interning behavior has zero impact on functional behavior.  And the rest is just fragile micro-optimization; i.e. 98% a waste of time.  Leave it to the compiler / runtime ... and spend your time learning useful programming skills.","body":"On an earlier question, you @&#39;ed me to answer this one.  I&#39;m not going to answer because questions about string interning of literals are (IMO) pointless.  As I said before, if you compare strings the right way (e.g. don&#39;t use <code>==</code> for strings in Java), then interning behavior has zero impact on functional behavior.  And the rest is just fragile micro-optimization; i.e. 98% a waste of time.  Leave it to the compiler / runtime ... and spend your time learning useful programming skills."}],"answers":[{"comments":[{"owner":{"account_id":23555344,"reputation":463,"user_id":17597436,"display_name":"f877576"},"score":0,"creation_date":1695515007,"post_id":77030753,"comment_id":136034808,"body_markdown":"@OwnageIsMagic let me see if i understand the upd that you edited : What you exactly say in the upd is that ( if this is `static` or if I swap this lines the code (the Java code) works as expected ) when you said if this is `static` you meant if i add this line ( `String constantInCtor = &quot;heellll&quot;;`  ) to my code (the code in my question) ( but I must add the line outside the `main` function to make the variable (`constantInCtor`) static ) and if we apply what you said &quot; if I swap this lines &quot; the code will change into this code (the code is in the link)\nhttps://i.stack.imgur.com/TfzdN.png","body":"@OwnageIsMagic let me see if i understand the upd that you edited : What you exactly say in the upd is that ( if this is <code>static</code> or if I swap this lines the code (the Java code) works as expected ) when you said if this is <code>static</code> you meant if i add this line ( <code>String constantInCtor = &quot;heellll&quot;;</code>  ) to my code (the code in my question) ( but I must add the line outside the <code>main</code> function to make the variable (<code>constantInCtor</code>) static ) and if we apply what you said &quot; if I swap this lines &quot; the code will change into this code (the code is in the link) <a href=\"https://i.stack.imgur.com/TfzdN.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/TfzdN.png</a>"},{"owner":{"account_id":7424525,"reputation":2094,"user_id":5647513,"accept_rate":60,"display_name":"OwnageIsMagic"},"score":0,"creation_date":1695515712,"post_id":77030753,"comment_id":136034844,"body_markdown":"@f877576 see @user85421 comment regardless class constant pool and string intern pool. By unexpected I meant *unexpected from my strong .NET background* as I only occasionally develop for Android. By making `static String constantInCtor` the first use of literal happens in static field initializer, which happens before call of static method `main`. Sorry for confusion.","body":"@f877576 see @user85421 comment regardless class constant pool and string intern pool. By unexpected I meant <i>unexpected from my strong .NET background</i> as I only occasionally develop for Android. By making <code>static String constantInCtor</code> the first use of literal happens in static field initializer, which happens before call of static method <code>main</code>. Sorry for confusion."}],"tags":[],"owner":{"account_id":7424525,"reputation":2094,"user_id":5647513,"accept_rate":60,"display_name":"OwnageIsMagic"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695516035,"creation_date":1693709704,"answer_id":77030753,"question_id":77030584,"body_markdown":"**UPD2**: See @user85421 comments below this post.\r\n\r\n**UPD**: I was assuming that JVM checks string pool in string constructor, but actually it doesn&#39;t. Actually I don&#39;t really understand what is happening here, seems like some weird JVM optimization. Normative documents suggest that string should be loaded to pool on class load (see https://stackoverflow.com/a/3451183/5647513), but small examples show that it doesn&#39;t.\r\n```java\r\npublic class MyClass {\r\n    String constantInCtor = &quot;heellll&quot;; // works as expected if this is `static`\r\n\r\n    public static void main(String[] args) {\r\n        String string = new String(new char[]{&#39;h&#39;,&#39;e&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;l&#39;,&#39;l&#39;});\r\n\r\n        String interned = string.intern(); // &lt;-+\r\n                                           //   | or if I swap this lines \r\n        String constant = &quot;heellll&quot;;       // &lt;-+\r\n\r\n        System.out.println(string == interned);   // true, expected false // &quot;heellll&quot; was not interned before string.intern()\r\n        System.out.println(constant == interned); // true\r\n        System.out.println(string == constant);   // true, expected false\r\n    }\r\n}\r\n```\r\nSeems that JVM interns literals on first use.\r\n\r\n```c#\r\n// CLR\r\nvar newstring = new string(new []{&#39;a&#39;,&#39;b&#39;});\r\nvar interned = string.Intern(newstring); // \r\nvar constant = &quot;ab&quot;;\r\n\r\nConsole.WriteLine(ReferenceEquals(newstring, interned)); // False // &quot;ab&quot; is interned before string.Intern\r\nConsole.WriteLine(ReferenceEquals(constant, interned)); // True\r\nConsole.WriteLine(ReferenceEquals(newstring, constant)); // False\r\n```\r\n\r\n----\r\nstring interning is performed before execution at class/method load (&lt;s&gt;both JVM&lt;/s&gt;(see comments) and CLR). The reason why `object.ReferenceEquals(s1, i1)` returns `false` is that `String` constructor in CLR doesn&#39;t check string pool when called and always creates new object. \r\n\r\nYou probably want to ask -- why it does so? The exact answer is: CLR team decided that way. But it&#39;s not very informative, so I will speculate a bit on this topic.\r\n\r\nString constructor is used to create strings in runtime, probably from untrusted source (user input), so checking is string interned provides very little benefit (small chance that random string will be in the pool), but hinders every string creation (pool lookup is not free, it&#39;s O(n) at least + thread synchronization).\r\n\r\nString interning provided by runtime rarely finds good application beside reduced binary size (all duplicate string literals in source code are collapsed into 1). If you are certain that you are going to compare a lot of strings (from trusted source) manually crafted string cache would perform better in all cases (at least it will not contain all the unrelated string from your program and all of it&#39;s dependencies). Caching strings from untrusted source leads to unbound heap growth, it can be dealt if you are managing pool by itself, but runtime string pool is append only.\r\n\r\n----\r\n\r\nDo not use `unsafe`, it&#39;s really unsafe (probably even more unsafe than using C/C++ directly instead) and doesn&#39;t provide **any** benefits in regular code.","title":"How does String Intern work ( C# vs Java )?","body":"<p><strong>UPD2</strong>: See @user85421 comments below this post.</p>\n<p><strong>UPD</strong>: I was assuming that JVM checks string pool in string constructor, but actually it doesn't. Actually I don't really understand what is happening here, seems like some weird JVM optimization. Normative documents suggest that string should be loaded to pool on class load (see <a href=\"https://stackoverflow.com/a/3451183/5647513\">https://stackoverflow.com/a/3451183/5647513</a>), but small examples show that it doesn't.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    String constantInCtor = &quot;heellll&quot;; // works as expected if this is `static`\n\n    public static void main(String[] args) {\n        String string = new String(new char[]{'h','e','e','l','l','l','l'});\n\n        String interned = string.intern(); // &lt;-+\n                                           //   | or if I swap this lines \n        String constant = &quot;heellll&quot;;       // &lt;-+\n\n        System.out.println(string == interned);   // true, expected false // &quot;heellll&quot; was not interned before string.intern()\n        System.out.println(constant == interned); // true\n        System.out.println(string == constant);   // true, expected false\n    }\n}\n</code></pre>\n<p>Seems that JVM interns literals on first use.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>// CLR\nvar newstring = new string(new []{'a','b'});\nvar interned = string.Intern(newstring); // \nvar constant = &quot;ab&quot;;\n\nConsole.WriteLine(ReferenceEquals(newstring, interned)); // False // &quot;ab&quot; is interned before string.Intern\nConsole.WriteLine(ReferenceEquals(constant, interned)); // True\nConsole.WriteLine(ReferenceEquals(newstring, constant)); // False\n</code></pre>\n<hr />\n<p>string interning is performed before execution at class/method load (<s>both JVM</s>(see comments) and CLR). The reason why <code>object.ReferenceEquals(s1, i1)</code> returns <code>false</code> is that <code>String</code> constructor in CLR doesn't check string pool when called and always creates new object.</p>\n<p>You probably want to ask -- why it does so? The exact answer is: CLR team decided that way. But it's not very informative, so I will speculate a bit on this topic.</p>\n<p>String constructor is used to create strings in runtime, probably from untrusted source (user input), so checking is string interned provides very little benefit (small chance that random string will be in the pool), but hinders every string creation (pool lookup is not free, it's O(n) at least + thread synchronization).</p>\n<p>String interning provided by runtime rarely finds good application beside reduced binary size (all duplicate string literals in source code are collapsed into 1). If you are certain that you are going to compare a lot of strings (from trusted source) manually crafted string cache would perform better in all cases (at least it will not contain all the unrelated string from your program and all of it's dependencies). Caching strings from untrusted source leads to unbound heap growth, it can be dealt if you are managing pool by itself, but runtime string pool is append only.</p>\n<hr />\n<p>Do not use <code>unsafe</code>, it's really unsafe (probably even more unsafe than using C/C++ directly instead) and doesn't provide <strong>any</strong> benefits in regular code.</p>\n"},{"comments":[{"owner":{"account_id":23555344,"reputation":463,"user_id":17597436,"display_name":"f877576"},"score":0,"creation_date":1695259608,"post_id":77030760,"comment_id":136001739,"body_markdown":"is there any source about Java JVM that inform that  &quot; Java JVM does not load the string literals into memory before running any line in that function &quot;  ?","body":"is there any source about Java JVM that inform that  &quot; Java JVM does not load the string literals into memory before running any line in that function &quot;  ?"},{"owner":{"account_id":23555344,"reputation":463,"user_id":17597436,"display_name":"f877576"},"score":0,"creation_date":1695259758,"post_id":77030760,"comment_id":136001752,"body_markdown":"and when you said &quot; references are not replace using string.Intern unless you replace them yourself. &quot;  is that mean there is a way to replace references ( by myself )   ?","body":"and when you said &quot; references are not replace using string.Intern unless you replace them yourself. &quot;  is that mean there is a way to replace references ( by myself )   ?"},{"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1695261699,"post_id":77030760,"comment_id":136001898,"body_markdown":"Meaning you can do `x = string.Intern(x);` but if you do just `string.Intern(x);` it doesn&#39;t go and update `x` automatically. I don&#39;t know about the JVM.","body":"Meaning you can do <code>x = string.Intern(x);</code> but if you do just <code>string.Intern(x);</code> it doesn&#39;t go and update <code>x</code> automatically. I don&#39;t know about the JVM."}],"tags":[],"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693709946,"creation_date":1693709946,"answer_id":77030760,"question_id":77030584,"body_markdown":"I don&#39;t know Java JVM well, but as far as .NET is concerned, **your first assumption is mostly correct,** except that no code is executed.\r\n\r\nReworded:\r\n\r\nIn .Net, the CLR loads the string literals into memory when compiling (JIT), before running any line in that function. So although `String o = &quot;heellll&quot;;` is **not** executed before the rest of the code, the `&quot;heellll&quot;` string is already in the Intern pool.\r\n\r\nSo when you execute the line `String i1 = string.Intern(s1);` s1 is not added because the string is already in the pool, it returns the reference of `&quot;heellll&quot;` instead.\r\n\r\nOne thing I can categorically state: references are not replace using `string.Intern` unless you replace them yourself.","title":"How does String Intern work ( C# vs Java )?","body":"<p>I don't know Java JVM well, but as far as .NET is concerned, <strong>your first assumption is mostly correct,</strong> except that no code is executed.</p>\n<p>Reworded:</p>\n<p>In .Net, the CLR loads the string literals into memory when compiling (JIT), before running any line in that function. So although <code>String o = &quot;heellll&quot;;</code> is <strong>not</strong> executed before the rest of the code, the <code>&quot;heellll&quot;</code> string is already in the Intern pool.</p>\n<p>So when you execute the line <code>String i1 = string.Intern(s1);</code> s1 is not added because the string is already in the pool, it returns the reference of <code>&quot;heellll&quot;</code> instead.</p>\n<p>One thing I can categorically state: references are not replace using <code>string.Intern</code> unless you replace them yourself.</p>\n"}],"owner":{"account_id":23555344,"reputation":463,"user_id":17597436,"display_name":"f877576"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":2,"score":-2,"last_activity_date":1699412138,"creation_date":1693703513,"question_id":77030584,"body_markdown":"I know that the string interning optimization is in both **C#** and **Java**.\r\n\r\nWhen I try these two codes using Java: \r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    char p[]={&#39;h&#39;,&#39;e&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;l&#39;,&#39;l&#39;}; // Make string from char[] to ensure it&#39;s not already interned\r\n    String s1 = new String(p);\r\n    String i1 = s1.intern(); \r\n    System.out.println(s1== i1); // true\r\n}\r\n```\r\n\r\nCode number 2:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    char p[]={&#39;h&#39;,&#39;e&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;l&#39;,&#39;l&#39;}; // Make string from char[] to ensure it&#39;s not already interned\r\n    String s1 = new String(p);\r\n    String i1 = s1.intern(); \r\n    System.out.println(s1== i1); // true\r\n    String o = &quot;heellll&quot;;\r\n    System.out.println(o== i1); // true\r\n    System.out.println(s1== o); // true\r\n}\r\n```\r\n\r\nHowever, when I try the same two code using C#:\r\n\r\n```c#\r\nunsafe static void Main(string[] args)\r\n{\r\n    char[] p = { &#39;h&#39;, &#39;e&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;l&#39;, &#39;l&#39; }; // Make string from char[] to ensure it&#39;s not already interned\r\n    String s1 = new String(p);\r\n    String i1 = string.Intern(s1);\r\n    Console.WriteLine(object.ReferenceEquals(s1, i1)); // True\r\n}\r\n```\r\n\r\nCode number 2:\r\n   \r\n```c#\r\nunsafe static void Main(string[] args)\r\n{\r\n    char[] p = { &#39;h&#39;, &#39;e&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;l&#39;, &#39;l&#39; }; // Make string from char[] to ensure it&#39;s not already interned\r\n    String s1 = new String(p);\r\n    String i1 = string.Intern(s1);\r\n    Console.WriteLine(object.ReferenceEquals(s1, i1)); // False\r\n    String o = &quot;heellll&quot;;\r\n    Console.WriteLine(object.ReferenceEquals(o, i1)); // True\r\n    Console.WriteLine(object.ReferenceEquals(s1, o)); // False\r\n}\r\n```\r\n\r\nI expect two different scenarios, and I hope one of these scenarios shows the reason why the output of the C# code (code number 2) is not the same as the output of the Java code (code number 2):\r\n\r\nMy first expectation: in C#, the CLR checks the string literals before it runs any line in your code, so `String o = &quot;heellll&quot;;` is executed before running the code (So `String o = &quot;heellll&quot;;` is executed `String s1 = new String(p);` then `&quot;heellll&quot;` is added to the `intern pool` before `s1` so when you execute the line `String i1 = string.Intern(s1);` `s1` is not added but `string.Intern(s1);` returns the reference of `&quot;heellll&quot;`), on the other hand (in Java) the JVM does not check the string literals before run any line in your code.\r\n\r\nMy second expectation: in C# for the CLR, it is a priority to save references of string literals (the CLR saves `s1` reference (in the line `String i1 = string.Intern(s1);`) but when the CLR finds a string literals that represents the value of a string object (`s1`) (in line `String o = &quot;heellll&quot;;`) the CLR replaces `s1` reference ( that is in the intern pool) with that string literals reference, but if the CLR finds a string object that represents the value of another string object, the CLR does nothing), on the other hand (in Java) for the JVM, it is not a priority to save references of string literals.\r\n\r\nSo, which scenario is the right scenario? If the two scenarios are wrong, what is the reason why the output of the C# code (code number 2) is not the same as the output of the Java code (code number 2)?\r\n\r\n\r\n","title":"How does String Intern work ( C# vs Java )?","body":"<p>I know that the string interning optimization is in both <strong>C#</strong> and <strong>Java</strong>.</p>\n<p>When I try these two codes using Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    char p[]={'h','e','e','l','l','l','l'}; // Make string from char[] to ensure it's not already interned\n    String s1 = new String(p);\n    String i1 = s1.intern(); \n    System.out.println(s1== i1); // true\n}\n</code></pre>\n<p>Code number 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    char p[]={'h','e','e','l','l','l','l'}; // Make string from char[] to ensure it's not already interned\n    String s1 = new String(p);\n    String i1 = s1.intern(); \n    System.out.println(s1== i1); // true\n    String o = &quot;heellll&quot;;\n    System.out.println(o== i1); // true\n    System.out.println(s1== o); // true\n}\n</code></pre>\n<p>However, when I try the same two code using C#:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>unsafe static void Main(string[] args)\n{\n    char[] p = { 'h', 'e', 'e', 'l', 'l', 'l', 'l' }; // Make string from char[] to ensure it's not already interned\n    String s1 = new String(p);\n    String i1 = string.Intern(s1);\n    Console.WriteLine(object.ReferenceEquals(s1, i1)); // True\n}\n</code></pre>\n<p>Code number 2:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>unsafe static void Main(string[] args)\n{\n    char[] p = { 'h', 'e', 'e', 'l', 'l', 'l', 'l' }; // Make string from char[] to ensure it's not already interned\n    String s1 = new String(p);\n    String i1 = string.Intern(s1);\n    Console.WriteLine(object.ReferenceEquals(s1, i1)); // False\n    String o = &quot;heellll&quot;;\n    Console.WriteLine(object.ReferenceEquals(o, i1)); // True\n    Console.WriteLine(object.ReferenceEquals(s1, o)); // False\n}\n</code></pre>\n<p>I expect two different scenarios, and I hope one of these scenarios shows the reason why the output of the C# code (code number 2) is not the same as the output of the Java code (code number 2):</p>\n<p>My first expectation: in C#, the CLR checks the string literals before it runs any line in your code, so <code>String o = &quot;heellll&quot;;</code> is executed before running the code (So <code>String o = &quot;heellll&quot;;</code> is executed <code>String s1 = new String(p);</code> then <code>&quot;heellll&quot;</code> is added to the <code>intern pool</code> before <code>s1</code> so when you execute the line <code>String i1 = string.Intern(s1);</code> <code>s1</code> is not added but <code>string.Intern(s1);</code> returns the reference of <code>&quot;heellll&quot;</code>), on the other hand (in Java) the JVM does not check the string literals before run any line in your code.</p>\n<p>My second expectation: in C# for the CLR, it is a priority to save references of string literals (the CLR saves <code>s1</code> reference (in the line <code>String i1 = string.Intern(s1);</code>) but when the CLR finds a string literals that represents the value of a string object (<code>s1</code>) (in line <code>String o = &quot;heellll&quot;;</code>) the CLR replaces <code>s1</code> reference ( that is in the intern pool) with that string literals reference, but if the CLR finds a string object that represents the value of another string object, the CLR does nothing), on the other hand (in Java) for the JVM, it is not a priority to save references of string literals.</p>\n<p>So, which scenario is the right scenario? If the two scenarios are wrong, what is the reason why the output of the C# code (code number 2) is not the same as the output of the Java code (code number 2)?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","postman"],"answers":[{"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699410652,"creation_date":1699410652,"answer_id":77442517,"question_id":77441826,"body_markdown":"You can remove ` mappedBy = &quot;estudiante&quot;, ` in the  @OneToMany relationship \r\nRefer [Hibernate collections-bidirectional-bag](https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#collections-bidirectional-bag)\r\n\r\nFor example if\r\n&lt;b&gt;Note need to be owning side of the bidirectional bag association then @OneToMany need to configure with mappedBy attribute &lt;/b&gt; else not needed.\r\n\r\n\r\nEstudiante\r\n```\r\n@Entity\r\n@Table(name = &quot;Estudiante&quot;)\r\n@Getter \r\n@Setter \r\n@NoArgsConstructor\r\npublic class Estudiante {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    private String nombre;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;estudiante_id&quot;)\r\n    private List&lt;Note&gt; notes;\r\n}\r\n```\r\n\r\nNote:\r\n```\r\n@Entity\r\n@Table(name = &quot;Note&quot;)\r\n@Getter \r\n@Setter \r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Note {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    private String materia;\r\n    private String calificacion;\r\n\r\n    @ManyToOne\r\n    private Estudiante estudiante;\r\n}\r\n\r\n```","title":"Why does my JPA @ManyToOne relationship return an empty array?","body":"<p>You can remove <code>mappedBy = &quot;estudiante&quot;,</code> in the  @OneToMany relationship\nRefer <a href=\"https://docs.jboss.org/hibernate/orm/6.3/userguide/html_single/Hibernate_User_Guide.html#collections-bidirectional-bag\" rel=\"nofollow noreferrer\">Hibernate collections-bidirectional-bag</a></p>\n<p>For example if\n<b>Note need to be owning side of the bidirectional bag association then @OneToMany need to configure with mappedBy attribute </b> else not needed.</p>\n<p>Estudiante</p>\n<pre><code>@Entity\n@Table(name = &quot;Estudiante&quot;)\n@Getter \n@Setter \n@NoArgsConstructor\npublic class Estudiante {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String nombre;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;estudiante_id&quot;)\n    private List&lt;Note&gt; notes;\n}\n</code></pre>\n<p>Note:</p>\n<pre><code>@Entity\n@Table(name = &quot;Note&quot;)\n@Getter \n@Setter \n@NoArgsConstructor\n@AllArgsConstructor\npublic class Note {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String materia;\n    private String calificacion;\n\n    @ManyToOne\n    private Estudiante estudiante;\n}\n\n</code></pre>\n"}],"owner":{"account_id":29849812,"reputation":1,"user_id":22875962,"display_name":"Wilder Hernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699410652,"creation_date":1699395981,"question_id":77441826,"body_markdown":"I&#39;m creating a REST API. When I send the Student with their Grades from Postman, it seems like my Java Spring Boot backend receives it and saves it in the database. The issue arises when I call what I saved in the database from Postman because it&#39;s returning the student and an empty array of grades.\r\n\r\n[backend java springboot](https://i.stack.imgur.com/CYArU.jpg)\r\n\r\n[Post Postman with url](https://i.stack.imgur.com/FL3ux.jpg)\r\n\r\n[Get Postman with url and empty array of grades](https://i.stack.imgur.com/waGKa.jpg)\r\n\r\n\r\nI have been removing the &#39;mappedBy&#39; annotation from my Student class, and it works, but it creates a new table in the database, and that&#39;s not the goal of my project. My intention is to receive the student and their grades through the GET request in Postman.\r\n\r\n@OneToMany(mappedBy = &quot;estudiante&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER).\r\n\r\n[backend without mappedBy](https://i.stack.imgur.com/cVAAU.jpg)\r\n\r\n[Post postman](https://i.stack.imgur.com/HAJ1y.jpg)\r\n\r\n[Get Postman with Array &#39;student&#39; and &#39;grades&#39; filled. ](https://i.stack.imgur.com/lPQ8B.jpg)\r\n\r\n[Extra table created in PostgreSQL](https://i.stack.imgur.com/KG75B.jpg)\r\n\r\n\r\n","title":"Why does my JPA @ManyToOne relationship return an empty array?","body":"<p>I'm creating a REST API. When I send the Student with their Grades from Postman, it seems like my Java Spring Boot backend receives it and saves it in the database. The issue arises when I call what I saved in the database from Postman because it's returning the student and an empty array of grades.</p>\n<p><a href=\"https://i.stack.imgur.com/CYArU.jpg\" rel=\"nofollow noreferrer\">backend java springboot</a></p>\n<p><a href=\"https://i.stack.imgur.com/FL3ux.jpg\" rel=\"nofollow noreferrer\">Post Postman with url</a></p>\n<p><a href=\"https://i.stack.imgur.com/waGKa.jpg\" rel=\"nofollow noreferrer\">Get Postman with url and empty array of grades</a></p>\n<p>I have been removing the 'mappedBy' annotation from my Student class, and it works, but it creates a new table in the database, and that's not the goal of my project. My intention is to receive the student and their grades through the GET request in Postman.</p>\n<p>@OneToMany(mappedBy = &quot;estudiante&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER).</p>\n<p><a href=\"https://i.stack.imgur.com/cVAAU.jpg\" rel=\"nofollow noreferrer\">backend without mappedBy</a></p>\n<p><a href=\"https://i.stack.imgur.com/HAJ1y.jpg\" rel=\"nofollow noreferrer\">Post postman</a></p>\n<p><a href=\"https://i.stack.imgur.com/lPQ8B.jpg\" rel=\"nofollow noreferrer\">Get Postman with Array 'student' and 'grades' filled. </a></p>\n<p><a href=\"https://i.stack.imgur.com/KG75B.jpg\" rel=\"nofollow noreferrer\">Extra table created in PostgreSQL</a></p>\n"},{"tags":["java","gradle","javafx","tableview","concurrentmodification"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":4,"creation_date":1699392516,"post_id":77441482,"comment_id":136525365,"body_markdown":"The stack trace clearly shows that the problem is in the `toString` method of the Purchase class.  Please edit your question and show us the code of that method.","body":"The stack trace clearly shows that the problem is in the <code>toString</code> method of the Purchase class.  Please edit your question and show us the code of that method."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1699396906,"post_id":77441482,"comment_id":136525966,"body_markdown":"Usually calling `refresh` on a table is not necessary and is indicative of some issue elsewhere with your code.","body":"Usually calling <code>refresh</code> on a table is not necessary and is indicative of some issue elsewhere with your code."}],"answers":[{"comments":[{"owner":{"account_id":29849582,"reputation":3,"user_id":22875794,"display_name":"jeser_e"},"score":0,"creation_date":1699487942,"post_id":77441639,"comment_id":136539775,"body_markdown":"Solved! Indeed it was an issue with not using a copy with one of the called DAO item lists - make sure you have immutable copies being used everywhere the exception leads you!","body":"Solved! Indeed it was an issue with not using a copy with one of the called DAO item lists - make sure you have immutable copies being used everywhere the exception leads you!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1699410642,"creation_date":1699393225,"answer_id":77441639,"question_id":77441482,"body_markdown":"You have some list `a`. You have created a sublist of this and use this sublist all over the place (specifically, the `toString` of some a reference to this sublist). You then modify `a` directly. __This invalidates all sublists you made before that modification__ - any interaction with it, even asking its `size()`, will get you this exception. Don&#39;t hand out sublists of a thing you intend to change. Make copies:\r\n\r\n```\r\n// do this:\r\nnew ArrayList&lt;&gt;(someList.subList(start, end))\r\n// not\r\nsomeList.subList(start, end)\r\n```\r\n","title":"ConcurrentModificationException when trying to set TableView items from another TableView&#39;s selected row","body":"<p>You have some list <code>a</code>. You have created a sublist of this and use this sublist all over the place (specifically, the <code>toString</code> of some a reference to this sublist). You then modify <code>a</code> directly. <strong>This invalidates all sublists you made before that modification</strong> - any interaction with it, even asking its <code>size()</code>, will get you this exception. Don't hand out sublists of a thing you intend to change. Make copies:</p>\n<pre><code>// do this:\nnew ArrayList&lt;&gt;(someList.subList(start, end))\n// not\nsomeList.subList(start, end)\n</code></pre>\n"}],"owner":{"account_id":29849582,"reputation":3,"user_id":22875794,"display_name":"jeser_e"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699461187,"accepted_answer_id":77441639,"answer_count":1,"score":-2,"last_activity_date":1699410642,"creation_date":1699391369,"question_id":77441482,"body_markdown":"Running into an ConcurrentModificationException when using getSelectionModel().selectedItemProperty() with a listener to get row from historyTableView and using the Purchase item it stores to add information to the purchaseTableView. This exception only arises when selecting any row from historyTableView that is not the last one.\r\n\r\n```\r\npublic void refreshStock() {\r\n        historyTableView.setItems(FXCollections.observableList(dao.getPurchaseList()));\r\n        historyTableView.refresh();\r\n    }\r\n\r\n    @Override\r\n    @FXML\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        historyTableView.refresh();\r\n        purchaseTableView.refresh();\r\n\r\n\r\n\r\n// error on line below?\r\n   historyTableView.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            log.debug(&quot;Clicked on: &quot; + newValue.toString());\r\n            purchaseTableView.setItems(FXCollections.observableList(newValue.getSoldItemListStream()));\r\n\r\n            historyTableView.getSelectionModel().clearSelection();\r\n            purchaseTableView.refresh();\r\n        });\r\n    }\r\n```\r\nException is as follows, thrown when log.debug attempts newValue.toString() (to the best of my understanding)\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1415)\r\n\tat java.base/java.util.ArrayList$SubList.size(ArrayList.java:1155)\r\n\tat ee.ut.math.tvt.salessystem.dataobjects.Purchase.toString(Purchase.java:66)\r\n\tat ee.ut.math.tvt.salessystem.ui.controllers.HistoryController.lambda$initialize$0(HistoryController.java:76)\r\n\tat javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:181)\r\n\tat javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\r\n\tat javafx.base/javafx.beans.property.ReadOnlyObjectPropertyBase.fireValueChangedEvent(ReadOnlyObjectPropertyBase.java:80)\r\n\tat javafx.base/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:102)\r\n\tat javafx.base/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)\r\n\tat javafx.base/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\r\n\tat javafx.controls/javafx.scene.control.SelectionModel.setSelectedItem(SelectionModel.java:105)\r\n\tat javafx.controls/javafx.scene.control.MultipleSelectionModelBase.lambda$new$0(MultipleSelectionModelBase.java:67)\r\n\tat javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:136)\r\n\tat javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\r\n        ...\r\n```\r\n\r\n\r\n\r\nDifferent listeners, making a Collections.copy() of the DAO list and clearing/refreshing the selection at different moments makes no difference. Mainly I would like to know how this exception is created in a situation such as this and why specifically the last row doesnt throw this exception (clicking on last row changes the purchaseTableView as far as I can tell, this doesnt happen and exception is thrown with other historyTableView rows)","title":"ConcurrentModificationException when trying to set TableView items from another TableView&#39;s selected row","body":"<p>Running into an ConcurrentModificationException when using getSelectionModel().selectedItemProperty() with a listener to get row from historyTableView and using the Purchase item it stores to add information to the purchaseTableView. This exception only arises when selecting any row from historyTableView that is not the last one.</p>\n<pre><code>public void refreshStock() {\n        historyTableView.setItems(FXCollections.observableList(dao.getPurchaseList()));\n        historyTableView.refresh();\n    }\n\n    @Override\n    @FXML\n    public void initialize(URL location, ResourceBundle resources) {\n        historyTableView.refresh();\n        purchaseTableView.refresh();\n\n\n\n// error on line below?\n   historyTableView.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\n            log.debug(&quot;Clicked on: &quot; + newValue.toString());\n            purchaseTableView.setItems(FXCollections.observableList(newValue.getSoldItemListStream()));\n\n            historyTableView.getSelectionModel().clearSelection();\n            purchaseTableView.refresh();\n        });\n    }\n</code></pre>\n<p>Exception is as follows, thrown when log.debug attempts newValue.toString() (to the best of my understanding)</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1415)\n    at java.base/java.util.ArrayList$SubList.size(ArrayList.java:1155)\n    at ee.ut.math.tvt.salessystem.dataobjects.Purchase.toString(Purchase.java:66)\n    at ee.ut.math.tvt.salessystem.ui.controllers.HistoryController.lambda$initialize$0(HistoryController.java:76)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:181)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectPropertyBase.fireValueChangedEvent(ReadOnlyObjectPropertyBase.java:80)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:102)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\n    at javafx.controls/javafx.scene.control.SelectionModel.setSelectedItem(SelectionModel.java:105)\n    at javafx.controls/javafx.scene.control.MultipleSelectionModelBase.lambda$new$0(MultipleSelectionModelBase.java:67)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:136)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\n        ...\n</code></pre>\n<p>Different listeners, making a Collections.copy() of the DAO list and clearing/refreshing the selection at different moments makes no difference. Mainly I would like to know how this exception is created in a situation such as this and why specifically the last row doesnt throw this exception (clicking on last row changes the purchaseTableView as far as I can tell, this doesnt happen and exception is thrown with other historyTableView rows)</p>\n"},{"tags":["java","gradle","intellij-idea","javafx","executable-jar"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1565547035,"post_id":57452363,"comment_id":101379544,"body_markdown":"See https://openjfx.io/openjfx-docs/#modular, section non-modular project with Gradle.","body":"See <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#modular</a>, section non-modular project with Gradle."},{"owner":{"account_id":7631210,"reputation":360,"user_id":7370915,"display_name":"erik p"},"score":0,"creation_date":1565547417,"post_id":57452363,"comment_id":101379616,"body_markdown":"@Jos&#233;Pereda I&#39;ve already read that through and tried it. Doing so provided me with another issue in that I couldn&#39;t generate the jar to begin with. Received a bunch of errors such as: javafx.graphicsEmpty reads package org.xml.sax from both xml.apis and java.xml","body":"@Jos&#233;Pereda I&#39;ve already read that through and tried it. Doing so provided me with another issue in that I couldn&#39;t generate the jar to begin with. Received a bunch of errors such as: javafx.graphicsEmpty reads package org.xml.sax from both xml.apis and java.xml"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1565549366,"post_id":57452363,"comment_id":101380034,"body_markdown":"When you run `java -jar yourfatjar.jar` on command line, does it work?","body":"When you run <code>java -jar yourfatjar.jar</code> on command line, does it work?"},{"owner":{"account_id":7631210,"reputation":360,"user_id":7370915,"display_name":"erik p"},"score":0,"creation_date":1565549459,"post_id":57452363,"comment_id":101380063,"body_markdown":"@Jos&#233;Pereda yes, that works just fine. It&#39;s only when I double click. I&#39;ve tried messing around with registry and default programs but nothing. I also am stuck with the issue then, that if I close CMD it will close the GUI.","body":"@Jos&#233;Pereda yes, that works just fine. It&#39;s only when I double click. I&#39;ve tried messing around with registry and default programs but nothing. I also am stuck with the issue then, that if I close CMD it will close the GUI."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1565550506,"post_id":57452363,"comment_id":101380291,"body_markdown":"About double-click, this [post](https://stackoverflow.com/questions/52536971/oracle-jdk-11-installer-jar-file-association-on-windows) might help.","body":"About double-click, this <a href=\"https://stackoverflow.com/questions/52536971/oracle-jdk-11-installer-jar-file-association-on-windows\">post</a> might help."}],"answers":[{"comments":[{"owner":{"account_id":18423934,"reputation":355,"user_id":13420795,"display_name":"Macintosh Fan"},"score":1,"creation_date":1693460253,"post_id":57452893,"comment_id":135764346,"body_markdown":"This may be needed (definitely so for me): duplicatesStrategy(DuplicatesStrategy.EXCLUDE)","body":"This may be needed (definitely so for me): duplicatesStrategy(DuplicatesStrategy.EXCLUDE)"}],"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1646986963,"creation_date":1565551192,"answer_id":57452893,"question_id":57452363,"body_markdown":"If you want to do a fat jar using Gradle but not a shadow plugin, usually you will do:\r\n\r\n```\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.CAM.Starter&#39;\r\n    }\r\n    from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n}\r\n```\r\n\r\nHowever, there is an important fact: `compile` is deprecated, and the JavaFX plugin uses `implementation` by [default](https://github.com/openjfx/javafx-gradle-plugin/blob/master/src/main/java/org/openjfx/gradle/JavaFXOptions.java#L53).\r\n\r\nAs a consequence, `configuration.compile` might be empty, or at least, it won&#39;t contain the JavaFX classes.\r\n\r\nThe solution is to check the `runtimeClasspath` configuration, as we will have all the classes there, and we can make the fat jar:\r\n\r\n```\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.CAM.Starter&#39;\r\n    }\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n}\r\n```\r\n\r\nThis is explained in the OpenJFX docs, https://openjfx.io/openjfx-docs/#modular, section non-modular projects, subsection gradle.\r\n\r\nOnce you have your fat jar, you can run it with:\r\n\r\n    java -jar yourFatJar.jar\r\n\r\nNote that double-clicking on it won&#39;t work, as explained in detail [here](https://stackoverflow.com/questions/52536971/oracle-jdk-11-installer-jar-file-association-on-windows), so it can be convenient to create a small batch instead.\r\n\r\nA better solution is to do a modular project and use `jlink` to create a runtime image (it also includes a launcher script). You can distribute this image to other users that don&#39;t have even JDK installed. With gradle, you can just include the `&#39;org.beryx.jlink&#39;` plugin, like in this [sample](https://github.com/openjfx/samples/blob/master/CommandLine/Modular/Gradle/hellofx/build.gradle).\r\n\r\nAnd you can also use the [early version](http://jdk.java.net/jpackage/) of `jpackage` to create and distribute an installer. \r\n\r\n","title":"Building FatJar for JavaFX with gradle and intellij, getting NoClassDefFOundError","body":"<p>If you want to do a fat jar using Gradle but not a shadow plugin, usually you will do:</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'com.CAM.Starter'\n    }\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<p>However, there is an important fact: <code>compile</code> is deprecated, and the JavaFX plugin uses <code>implementation</code> by <a href=\"https://github.com/openjfx/javafx-gradle-plugin/blob/master/src/main/java/org/openjfx/gradle/JavaFXOptions.java#L53\" rel=\"noreferrer\">default</a>.</p>\n<p>As a consequence, <code>configuration.compile</code> might be empty, or at least, it won't contain the JavaFX classes.</p>\n<p>The solution is to check the <code>runtimeClasspath</code> configuration, as we will have all the classes there, and we can make the fat jar:</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'com.CAM.Starter'\n    }\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<p>This is explained in the OpenJFX docs, <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"noreferrer\">https://openjfx.io/openjfx-docs/#modular</a>, section non-modular projects, subsection gradle.</p>\n<p>Once you have your fat jar, you can run it with:</p>\n<pre><code>java -jar yourFatJar.jar\n</code></pre>\n<p>Note that double-clicking on it won't work, as explained in detail <a href=\"https://stackoverflow.com/questions/52536971/oracle-jdk-11-installer-jar-file-association-on-windows\">here</a>, so it can be convenient to create a small batch instead.</p>\n<p>A better solution is to do a modular project and use <code>jlink</code> to create a runtime image (it also includes a launcher script). You can distribute this image to other users that don't have even JDK installed. With gradle, you can just include the <code>'org.beryx.jlink'</code> plugin, like in this <a href=\"https://github.com/openjfx/samples/blob/master/CommandLine/Modular/Gradle/hellofx/build.gradle\" rel=\"noreferrer\">sample</a>.</p>\n<p>And you can also use the <a href=\"http://jdk.java.net/jpackage/\" rel=\"noreferrer\">early version</a> of <code>jpackage</code> to create and distribute an installer.</p>\n"}],"owner":{"account_id":7631210,"reputation":360,"user_id":7370915,"display_name":"erik p"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4930,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":57452893,"answer_count":1,"score":6,"last_activity_date":1699410341,"creation_date":1565546579,"question_id":57452363,"body_markdown":"I have set up an OpenJDK 12 project in IntelliJ (2019.2) using the built-in Gradle support. To design the GUI I&#39;m using JavaFX 12. I have followed and read the [setup](https://openjfx.io/openjfx-docs/) guide several times, I have no issues running the program in my IDE, the issue is when I try to build a .jar file for distribution that I run into problems. I have not been able to find a solution that works so far and I&#39;ve searched QUITE a lot, nearly tearing my hair out over this. Currently when i try to run my jar file with java -jar &quot;jarName&quot;.jar I get the following error:\r\n\r\n````\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at com.CAM.Starter.main(Starter.java:6)\r\nCaused by: java.lang.ClassNotFoundException: javafx.application.Application\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 10 more\r\n````\r\n\r\nI have tried moving my main class to a separate one that doesn&#39;t extend Application, which is what gives the above error. Without moving my Main class I get a different error. \r\n\r\nMy build.gradle looks like this currently:\r\n\r\n````\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.8&#39;\r\n}\r\n\r\ngroup &#39;ClassicAddonManager&#39;\r\nversion &#39;0.2&#39;\r\nsourceCompatibility = 11\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;12.0.2&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\ndependencies {\r\n    testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    compile &#39;net.sourceforge.htmlunit:htmlunit:2.13&#39;\r\n    compile group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.7&#39;\r\n    compile group: &#39;net.lingala.zip4j&#39;, name: &#39;zip4j&#39;, version: &#39;1.2.4&#39;\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.CAM.Starter&#39;\r\n    }\r\n    from {\r\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n}\r\n````\r\n\r\nIf I have my main method extending Application then I get an error stating that my main class could not be found even though I can see it is present in the generated .jar file.\r\n\r\nAll I&#39;m trying to do, is to generate a file that a friend with no knowledge of programming could run. Ideally, a file that they could run without having to install Java first. I know it should be possible to do this, but Gradle is new to me so I&#39;m not sure if that is what is causing all this headache. Is there potentially an easier way to deploy? Especially given that this is a solo-project?\r\n\r\n**EDIT**\r\n\r\nI have tried the modular part of the guide. Doing that I have over 100 error when attempting to build. They are all something in the vein of:\r\n\r\n````\r\njavafx.graphicsEmpty reads package org.xml.sax from both xml.apis and java.xml\r\n````","title":"Building FatJar for JavaFX with gradle and intellij, getting NoClassDefFOundError","body":"<p>I have set up an OpenJDK 12 project in IntelliJ (2019.2) using the built-in Gradle support. To design the GUI I'm using JavaFX 12. I have followed and read the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"noreferrer\">setup</a> guide several times, I have no issues running the program in my IDE, the issue is when I try to build a .jar file for distribution that I run into problems. I have not been able to find a solution that works so far and I've searched QUITE a lot, nearly tearing my hair out over this. Currently when i try to run my jar file with java -jar \"jarName\".jar I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: javafx/application/Application\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:802)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:700)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:623)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at com.CAM.Starter.main(Starter.java:6)\nCaused by: java.lang.ClassNotFoundException: javafx.application.Application\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 10 more\n</code></pre>\n\n<p>I have tried moving my main class to a separate one that doesn't extend Application, which is what gives the above error. Without moving my Main class I get a different error. </p>\n\n<p>My build.gradle looks like this currently:</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.8'\n}\n\ngroup 'ClassicAddonManager'\nversion '0.2'\nsourceCompatibility = 11\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = \"12.0.2\"\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile 'net.sourceforge.htmlunit:htmlunit:2.13'\n    compile group: 'com.google.code.gson', name: 'gson', version: '2.7'\n    compile group: 'net.lingala.zip4j', name: 'zip4j', version: '1.2.4'\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.CAM.Starter'\n    }\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n\n<p>If I have my main method extending Application then I get an error stating that my main class could not be found even though I can see it is present in the generated .jar file.</p>\n\n<p>All I'm trying to do, is to generate a file that a friend with no knowledge of programming could run. Ideally, a file that they could run without having to install Java first. I know it should be possible to do this, but Gradle is new to me so I'm not sure if that is what is causing all this headache. Is there potentially an easier way to deploy? Especially given that this is a solo-project?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have tried the modular part of the guide. Doing that I have over 100 error when attempting to build. They are all something in the vein of:</p>\n\n<pre><code>javafx.graphicsEmpty reads package org.xml.sax from both xml.apis and java.xml\n</code></pre>\n"},{"tags":["java","html","intellij-idea"],"comments":[{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1699529157,"post_id":77442490,"comment_id":136544863,"body_markdown":"Can you share a sample code for the problem, better with a screenshot?","body":"Can you share a sample code for the problem, better with a screenshot?"}],"owner":{"account_id":8426206,"reputation":11,"user_id":6323600,"display_name":"Rafael B. Marc&#237;lio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699409938,"creation_date":1699409938,"question_id":77442490,"body_markdown":"I&#39;m trying to use Intellij IDEA language injection with Java 21 template expressions.\r\n\r\nWithout adding a variable interpolation it works fine, but by adding some interpolation ( \\\\{someVariable} ) the syntax highlighting disappears.\r\n\r\n\r\n(the thymeleaf tags is because I&#39;m doing an experiment to convert thymeleaf templates to html string using java 21)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/nzltQ.jpg)](https://i.stack.imgur.com/nzltQ.jpg)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/PY4Qy.jpg)](https://i.stack.imgur.com/PY4Qy.jpg)\r\n\r\nI tried adding a custom configuration in the language injection plugin, but I was unsuccessful.\r\n\r\nI wanted the html highlighting to be maintained using the Java 21 string template","title":"Intellij IDEA Language injection with Java 21 template expression","body":"<p>I'm trying to use Intellij IDEA language injection with Java 21 template expressions.</p>\n<p>Without adding a variable interpolation it works fine, but by adding some interpolation ( \\{someVariable} ) the syntax highlighting disappears.</p>\n<p>(the thymeleaf tags is because I'm doing an experiment to convert thymeleaf templates to html string using java 21)</p>\n<p><a href=\"https://i.stack.imgur.com/nzltQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzltQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PY4Qy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PY4Qy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I tried adding a custom configuration in the language injection plugin, but I was unsuccessful.</p>\n<p>I wanted the html highlighting to be maintained using the Java 21 string template</p>\n"},{"tags":["java","listener","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":13090448,"reputation":88,"user_id":9458102,"display_name":"oljica"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699409846,"creation_date":1548503772,"answer_id":54378117,"question_id":54376359,"body_markdown":"A few tips to get you started;\r\n\r\nA bit on an IBM MQ listener here: https://github.com/ibm-messaging/mq-dev-samples/tree/master/jms/DemoMessageListenerApplication\r\n\r\nIf you&#39;re new to writing apps for IBM MQ, check out the Developer Essentials badge: https://developer.ibm.com/messaging/learn-mq/mq-tutorials/mq-dev-essentials/","title":"pull data from MQ using java","body":"<p>A few tips to get you started;</p>\n<p>A bit on an IBM MQ listener here: <a href=\"https://github.com/ibm-messaging/mq-dev-samples/tree/master/jms/DemoMessageListenerApplication\" rel=\"nofollow noreferrer\">https://github.com/ibm-messaging/mq-dev-samples/tree/master/jms/DemoMessageListenerApplication</a></p>\n<p>If you're new to writing apps for IBM MQ, check out the Developer Essentials badge: <a href=\"https://developer.ibm.com/messaging/learn-mq/mq-tutorials/mq-dev-essentials/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/messaging/learn-mq/mq-tutorials/mq-dev-essentials/</a></p>\n"}],"owner":{"account_id":7427461,"reputation":19,"user_id":5649519,"accept_rate":0,"display_name":"M.."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1548535040,"answer_count":1,"score":-5,"last_activity_date":1699409846,"creation_date":1548486049,"question_id":54376359,"body_markdown":"I want to build listener using Java to pull data from IBM MQ once the data existing in the queue, anyone have the idea?\r\n\r\n    .","title":"pull data from MQ using java","body":"<p>I want to build listener using Java to pull data from IBM MQ once the data existing in the queue, anyone have the idea?</p>\n\n<pre><code>.\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1699445500,"post_id":77438715,"comment_id":136531639,"body_markdown":"I do not believe there is a &quot;cd&quot; functionality per se, but there is a search (you can just start typing from the Gradle Tool Window). To simplify the navigation you can also link/unlink Projects with +/- buttons.","body":"I do not believe there is a &quot;cd&quot; functionality per se, but there is a search (you can just start typing from the Gradle Tool Window). To simplify the navigation you can also link/unlink Projects with +/- buttons."},{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1699445635,"post_id":77438715,"comment_id":136531666,"body_markdown":"You can also approach it from Run Configurations end - it gives you a command line-like  interface to pick both Gradle Project and the Task.","body":"You can also approach it from Run Configurations end - it gives you a command line-like  interface to pick both Gradle Project and the Task."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699369972,"creation_date":1699369393,"answer_id":77439297,"question_id":77438715,"body_markdown":"# *Gradle* pane ➤ *Tasks*\r\n\r\nYou appear to be showing the *Dependencies* branch of the *Gradle* pane. Look for the sibling branch, *Tasks*, in that tree hierarchy. \r\n\r\nThere you’ll find the Gradle commands. Double-click to execute. \r\n\r\nSee [the documentation](https://www.jetbrains.com/help/idea/getting-started-with-gradle.html#create_project). \r\n\r\n------\r\n\r\nFor other readers… \r\n\r\nIntelliJ knows how to work with Gradle.  \r\n\r\nOpen the *Gradle* pane within your project window. \r\n\r\nIf no *Gradle* pane is available, you may have the necessary plugin disabled. Use the Settings tool to activate the Gradle plugin. \r\n\r\nYou may choose to use the console pane within IntelliJ to execute Gradle commands on the command-line rather than through the IntelliJ GUI. ","title":"A question about building a project with Gradle in IDEA","body":"<h1><em>Gradle</em> pane ➤ <em>Tasks</em></h1>\n<p>You appear to be showing the <em>Dependencies</em> branch of the <em>Gradle</em> pane. Look for the sibling branch, <em>Tasks</em>, in that tree hierarchy.</p>\n<p>There you’ll find the Gradle commands. Double-click to execute.</p>\n<p>See <a href=\"https://www.jetbrains.com/help/idea/getting-started-with-gradle.html#create_project\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<hr />\n<p>For other readers…</p>\n<p>IntelliJ knows how to work with Gradle.</p>\n<p>Open the <em>Gradle</em> pane within your project window.</p>\n<p>If no <em>Gradle</em> pane is available, you may have the necessary plugin disabled. Use the Settings tool to activate the Gradle plugin.</p>\n<p>You may choose to use the console pane within IntelliJ to execute Gradle commands on the command-line rather than through the IntelliJ GUI.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699450715,"post_id":77442419,"comment_id":136532608,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77442419/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28743558,"reputation":5,"user_id":22013203,"display_name":"victorli"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699408725,"creation_date":1699408725,"answer_id":77442419,"question_id":77438715,"body_markdown":"I found that we can choose execution context and run any gradle tasks like this:\r\n[Operating procedures][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uJn5N.png","title":"A question about building a project with Gradle in IDEA","body":"<p>I found that we can choose execution context and run any gradle tasks like this:\n<a href=\"https://i.stack.imgur.com/uJn5N.png\" rel=\"nofollow noreferrer\">Operating procedures</a></p>\n"}],"owner":{"account_id":28743558,"reputation":5,"user_id":22013203,"display_name":"victorli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77439297,"answer_count":2,"score":0,"last_activity_date":1699408725,"creation_date":1699364635,"question_id":77438715,"body_markdown":"This is a question about building a project with Gradle. In Linux, I can directly go to a specific directory to execute &quot;`./gradlew`&quot;; but when I use JetBrains&#39; IDEA on Windows, how do I use the column on the right to &quot;cd&quot; to a specific directory to execute&quot; `./gradlew`&quot;?\r\n\r\n![enter image description here](https://i.stack.imgur.com/Iyskw.png)\r\n\r\nI hope to get some official documentation.","title":"A question about building a project with Gradle in IDEA","body":"<p>This is a question about building a project with Gradle. In Linux, I can directly go to a specific directory to execute &quot;<code>./gradlew</code>&quot;; but when I use JetBrains' IDEA on Windows, how do I use the column on the right to &quot;cd&quot; to a specific directory to execute&quot; <code>./gradlew</code>&quot;?</p>\n<p><img src=\"https://i.stack.imgur.com/Iyskw.png\" alt=\"enter image description here\" /></p>\n<p>I hope to get some official documentation.</p>\n"},{"tags":["java","mongodb","spring-boot"],"owner":{"account_id":29836041,"reputation":11,"user_id":22865371,"display_name":"guai er"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699408511,"creation_date":1699258021,"question_id":77429621,"body_markdown":"In compass, below script can work:\r\n\r\n```\r\ndb.documentName.updateMany({}, {$pull:{arrayField:{$in:[/^aaa$/i,/^bbb$/i]}}})\r\n```\r\nCould please help how to realize this operation in JAVA spring boot application?\r\n\r\nThe Document like \r\n\r\n```\r\n{\r\n    &quot;_id&quot;: &quot;003&quot;,\r\n    &quot;arrayField&quot;: [\r\n        &quot;AaA&quot;,\r\n        &quot;BbB&quot;,\r\n        &quot;AAaa&quot;\r\n    ]\r\n}\r\n```\r\nI tried to use mongoTemplate.pullAll\r\n```\r\nQuery query=new Query();\r\nUpdate update = new Update();\r\nupdate.pullAll(&quot;arrayField&quot;, new String[]{&quot;/^aaa$/i&quot;, &quot;/^bbb$/i&quot;});\r\nmongoTemplate.updateMulti(query, update, entityClass);\r\n\r\n```\r\nor\r\n```\r\nupdate.pullAll(&quot;arrayField&quot;, new Pattern[]{Pattern.compile(&quot;aaa&quot;, Pattern.CASE_INSENSITIVE),\r\n                Pattern.compile(&quot;bbb&quot;, Pattern.CASE_INSENSITIVE)});\r\n```\r\nBut it doesn&#39;t work:(\r\n","title":"JAVA+Mongodb: $pull with pattern list","body":"<p>In compass, below script can work:</p>\n<pre><code>db.documentName.updateMany({}, {$pull:{arrayField:{$in:[/^aaa$/i,/^bbb$/i]}}})\n</code></pre>\n<p>Could please help how to realize this operation in JAVA spring boot application?</p>\n<p>The Document like</p>\n<pre><code>{\n    &quot;_id&quot;: &quot;003&quot;,\n    &quot;arrayField&quot;: [\n        &quot;AaA&quot;,\n        &quot;BbB&quot;,\n        &quot;AAaa&quot;\n    ]\n}\n</code></pre>\n<p>I tried to use mongoTemplate.pullAll</p>\n<pre><code>Query query=new Query();\nUpdate update = new Update();\nupdate.pullAll(&quot;arrayField&quot;, new String[]{&quot;/^aaa$/i&quot;, &quot;/^bbb$/i&quot;});\nmongoTemplate.updateMulti(query, update, entityClass);\n\n</code></pre>\n<p>or</p>\n<pre><code>update.pullAll(&quot;arrayField&quot;, new Pattern[]{Pattern.compile(&quot;aaa&quot;, Pattern.CASE_INSENSITIVE),\n                Pattern.compile(&quot;bbb&quot;, Pattern.CASE_INSENSITIVE)});\n</code></pre>\n<p>But it doesn't work:(</p>\n"},{"tags":["java","mysql","intellij-idea","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1699420166,"post_id":77442376,"comment_id":136527799,"body_markdown":"If you&#39;re going to use `PropertyValueFactory` (which you shouldn&#39;t), then the [string] parameter that you send to the `PropertyValueFactory` constructor must match the name of the field (in class `Data`) and you need to use the same case, e.g. `new PropertyValueFactory(&quot;museum&quot;)`","body":"If you&#39;re going to use <code>PropertyValueFactory</code> (which you shouldn&#39;t), then the [string] parameter that you send to the <code>PropertyValueFactory</code> constructor must match the name of the field (in class <code>Data</code>) and you need to use the same case, e.g. <code>new PropertyValueFactory(&quot;museum&quot;)</code>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1699427013,"post_id":77442376,"comment_id":136528438,"body_markdown":"PropertyValueFactory is an anachronism.  Just delete everything to do with PropertyValueFactory, forget you ever heard of it, and [use lambdas instead](https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx).  There are other issues with your code and other questions you have but it is best to focus, split your problem apart and ask one question per question.","body":"PropertyValueFactory is an anachronism.  Just delete everything to do with PropertyValueFactory, forget you ever heard of it, and <a href=\"https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx\">use lambdas instead</a>.  There are other issues with your code and other questions you have but it is best to focus, split your problem apart and ask one question per question."}],"owner":{"account_id":29850380,"reputation":1,"user_id":22876400,"display_name":"Lexi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699407498,"creation_date":1699407498,"question_id":77442376,"body_markdown":"I&#39;ve been trying to load a TableView with data queried from a database but I can&#39;t seem to understand how I am supposed to attach it to the database and display it on the TableView. Note: I wanna access multiple tables within my database\r\n\r\nThis is the database connection:\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.sql.ResultSet;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n//dataAccess\r\npublic class DBConnect {\r\n\r\n    public Connection link;\r\n\r\n    public DBConnect(String driverClassName, String dbURL, String user, String password) throws ClassNotFoundException, SQLException {\r\n        Class.forName(driverClassName);\r\n        link = DriverManager.getConnection(dbURL, user, password);\r\n    }\r\n\r\n    public void shutdown() throws SQLException {\r\n        if (link != null){\r\n            link.close();\r\n        }\r\n    }\r\n\r\n    public List&lt;Data&gt; getDataList() throws SQLException {\r\n        try (Statement stmnt = link.createStatement();\r\n             ResultSet rs = stmnt.executeQuery(&quot;select * from fish&quot;); //only connects to fish table\r\n        ){\r\n            List&lt;Data&gt; dataList = new ArrayList&lt;&gt;();\r\n            while (rs.next()) {\r\n                String museum = rs.getString(&quot;MuseumID&quot;);\r\n                String name = rs.getString(&quot;FishID&quot;);\r\n                String location = rs.getString(&quot;Location&quot;);\r\n                String date_found = rs.getString(&quot;DateFound&quot;);\r\n\r\n                Data dataset = new Data(museum, name, location, date_found);\r\n                dataList.add(dataset);\r\n            }\r\n            return dataList ;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is the FXML script\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.nookipediademo.NookController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;AnchorPane prefHeight=&quot;414.0&quot; prefWidth=&quot;500.0&quot; style=&quot;-fx-background-color: #ece5ce;&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button fx:id=&quot;btn_insects&quot; layoutX=&quot;28.0&quot; layoutY=&quot;90.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Insects&quot; textFill=&quot;#774f38&quot; /&gt;\r\n            &lt;Button fx:id=&quot;btn_seacreatures&quot; layoutX=&quot;29.0&quot; layoutY=&quot;55.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Sea Creatures&quot; textFill=&quot;#774f38&quot; /&gt;\r\n            &lt;Button fx:id=&quot;btn_fish&quot; layoutX=&quot;28.0&quot; layoutY=&quot;22.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Fish&quot; textFill=&quot;#774f38&quot; /&gt;\r\n            &lt;Text fill=&quot;#774f38&quot; layoutX=&quot;139.0&quot; layoutY=&quot;63.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Nook Pack&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;334.0000305175782&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font name=&quot;Britannic Bold&quot; size=&quot;48.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Text&gt;\r\n            &lt;Button fx:id=&quot;btn_search&quot; layoutX=&quot;414.0&quot; layoutY=&quot;90.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;SEARCH&quot; textFill=&quot;#774f38&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;search_input&quot; layoutX=&quot;139.0&quot; layoutY=&quot;90.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;263.0&quot; promptText=&quot;Search Museum Catalog&quot; /&gt;\r\n            &lt;BorderPane layoutX=&quot;25.0&quot; layoutY=&quot;150.0&quot; prefHeight=&quot;250.0&quot; prefWidth=&quot;450.0&quot;&gt;\r\n               &lt;center&gt;\r\n                  &lt;TableView fx:id=&quot;table_display&quot; editable=&quot;true&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-background-color: #83af9b;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n                    &lt;columns&gt;\r\n                      &lt;TableColumn id=&quot;museum_display&quot; fx:id=&quot;museum_display&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Museum&quot; /&gt;\r\n                      &lt;TableColumn id=&quot;name_display&quot; fx:id=&quot;name_display&quot; prefWidth=&quot;150.0&quot; style=&quot;-fx-background-color: #c8c8a9; -fx-text-color: #774f38;&quot; text=&quot;Name&quot; /&gt;\r\n                        &lt;TableColumn id=&quot;location_display&quot; fx:id=&quot;location_display&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Location&quot; /&gt;\r\n                        &lt;TableColumn id=&quot;datefound_display&quot; fx:id=&quot;datefound_display&quot; prefWidth=&quot;117.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Date Found&quot; /&gt;\r\n                    &lt;/columns&gt;\r\n                  &lt;/TableView&gt;\r\n               &lt;/center&gt;\r\n            &lt;/BorderPane&gt;\r\n         &lt;/children&gt;\r\n      &lt;/AnchorPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\nThis is the data information class \r\n```\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\n\r\npublic class Data {\r\n    private final StringProperty museum = new SimpleStringProperty();\r\n    private final StringProperty name = new SimpleStringProperty();\r\n    private final StringProperty location = new SimpleStringProperty();\r\n    private final StringProperty date_found = new SimpleStringProperty();\r\n\r\n    public StringProperty getMuseum() { return museum; }\r\n    public void setMuseum(String museum) { this.museum.set(museum); }\r\n    public StringProperty getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name.set(name);\r\n    }\r\n    public StringProperty getLocation() {\r\n        return location;\r\n    }\r\n    public void setLocation(String location) { this.location.set(location);}\r\n    public StringProperty getDate_found() {\r\n        return date_found;\r\n    }\r\n    public void setDate_found(String date_found) { this.date_found.set(date_found); }\r\n\r\n    public Data(String museumID, String name, String place, String found_date){\r\n        setMuseum(museumID);\r\n        setName(name);\r\n        setLocation(place);\r\n        setDate_found(found_date);\r\n    }\r\n\r\n    public Data(String museumID, String name, String found_date){\r\n        setMuseum(museumID);\r\n        setName(name);\r\n        setDate_found(found_date);\r\n    }\r\n}\r\n```\r\nthe controller currently only has the gui names\r\n```\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TextField;\r\n\r\npublic class NookController {\r\n\r\n    @FXML\r\n    private Button btn_fish;\r\n\r\n    @FXML\r\n    private Button btn_insects;\r\n\r\n    @FXML\r\n    private Button btn_seacreatures;\r\n\r\n    @FXML\r\n    private TextField search_input;\r\n\r\n    @FXML\r\n    private Button btn_search;\r\n\r\n    @FXML\r\n    private TableView&lt;Data&gt; table_display;\r\n\r\n    @FXML\r\n    private TableColumn&lt;Data, String&gt; datefound_display;\r\n\r\n    @FXML\r\n    private TableColumn&lt;Data, String&gt; location_display;\r\n\r\n    @FXML\r\n    private TableColumn&lt;Data, String&gt; museum_display;\r\n\r\n    @FXML\r\n    private TableColumn&lt;Data, String&gt; name_display;\r\n\r\n\r\n}\r\n```\r\nfinally this is my application that also pulls up the error \r\n&gt; java: incompatible types: cannot infer type arguments for javafx.scene.control.cell.PropertyValueFactory&lt;&gt;\r\n```\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class NookApplication extends Application {\r\n    private DBConnect connection;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        connection = new DBConnect(&quot;com.mysql.jdbc.Driver&quot;,&quot;jdbc:mysql://localhost:3306/Nookipedia&quot;,&quot;tsc&quot;,&quot;&quot;);\r\n\r\n        TableView&lt;Data&gt; dataTable = new TableView&lt;&gt;();\r\n        TableColumn&lt;Data, String&gt; museumCol = new TableColumn&lt;&gt;(&quot;Musuem&quot;);\r\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;MuseumID&quot;));\r\n        TableColumn&lt;Data, String&gt; nameCol = new TableColumn&lt;&gt;(&quot;Name&quot;);\r\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;FishID&quot;));\r\n        TableColumn&lt;Data, String&gt; locationCol = new TableColumn&lt;&gt;(&quot;Location&quot;);\r\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;Location&quot;));\r\n        TableColumn&lt;Data, String&gt; dfCol = new TableColumn&lt;&gt;(&quot;Date Found&quot;);\r\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;DateFound&quot;));\r\n\r\n        dataTable.getColumns().addAll(museumCol, nameCol, locationCol,dfCol);\r\n        dataTable.getItems().addAll(connection.getDataList());\r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setCenter(dataTable);\r\n        Scene scene = new Scene(root, 600, 400);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        /*FXMLLoader fxmlLoader = new FXMLLoader(NookApplication.class.getResource(&quot;NookPack.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Nookpedia Backpack&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();*/\r\n    }\r\n    @Override\r\n    public void stop() throws Exception {\r\n        if (connection != null){\r\n            connection.shutdown();\r\n        }\r\n\r\n    }\r\n    public static void main(String[] args){\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve been reading up on all the tableview and database connections enough to know I&#39;m on the right track but everyone seems to make the table within the application .java meanwhile, I&#39;ve created it already in the FXML. Wouldnt it need to be in the controller somehow? and why do I get an error for using PropertyValueFactory? when I know I need it to go into an observable list? My knowledge is a little jumbled together right now.","title":"How to fill up a TableView with database data javaFX","body":"<p>I've been trying to load a TableView with data queried from a database but I can't seem to understand how I am supposed to attach it to the database and display it on the TableView. Note: I wanna access multiple tables within my database</p>\n<p>This is the database connection:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.util.ArrayList;\nimport java.util.List;\n\n//dataAccess\npublic class DBConnect {\n\n    public Connection link;\n\n    public DBConnect(String driverClassName, String dbURL, String user, String password) throws ClassNotFoundException, SQLException {\n        Class.forName(driverClassName);\n        link = DriverManager.getConnection(dbURL, user, password);\n    }\n\n    public void shutdown() throws SQLException {\n        if (link != null){\n            link.close();\n        }\n    }\n\n    public List&lt;Data&gt; getDataList() throws SQLException {\n        try (Statement stmnt = link.createStatement();\n             ResultSet rs = stmnt.executeQuery(&quot;select * from fish&quot;); //only connects to fish table\n        ){\n            List&lt;Data&gt; dataList = new ArrayList&lt;&gt;();\n            while (rs.next()) {\n                String museum = rs.getString(&quot;MuseumID&quot;);\n                String name = rs.getString(&quot;FishID&quot;);\n                String location = rs.getString(&quot;Location&quot;);\n                String date_found = rs.getString(&quot;DateFound&quot;);\n\n                Data dataset = new Data(museum, name, location, date_found);\n                dataList.add(dataset);\n            }\n            return dataList ;\n        }\n    }\n\n}\n</code></pre>\n<p>This is the FXML script</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.nookipediademo.NookController&quot;&gt;\n   &lt;children&gt;\n      &lt;AnchorPane prefHeight=&quot;414.0&quot; prefWidth=&quot;500.0&quot; style=&quot;-fx-background-color: #ece5ce;&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;btn_insects&quot; layoutX=&quot;28.0&quot; layoutY=&quot;90.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Insects&quot; textFill=&quot;#774f38&quot; /&gt;\n            &lt;Button fx:id=&quot;btn_seacreatures&quot; layoutX=&quot;29.0&quot; layoutY=&quot;55.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Sea Creatures&quot; textFill=&quot;#774f38&quot; /&gt;\n            &lt;Button fx:id=&quot;btn_fish&quot; layoutX=&quot;28.0&quot; layoutY=&quot;22.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;89.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Fish&quot; textFill=&quot;#774f38&quot; /&gt;\n            &lt;Text fill=&quot;#774f38&quot; layoutX=&quot;139.0&quot; layoutY=&quot;63.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Nook Pack&quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;334.0000305175782&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font name=&quot;Britannic Bold&quot; size=&quot;48.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Text&gt;\n            &lt;Button fx:id=&quot;btn_search&quot; layoutX=&quot;414.0&quot; layoutY=&quot;90.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;SEARCH&quot; textFill=&quot;#774f38&quot; /&gt;\n            &lt;TextField fx:id=&quot;search_input&quot; layoutX=&quot;139.0&quot; layoutY=&quot;90.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;263.0&quot; promptText=&quot;Search Museum Catalog&quot; /&gt;\n            &lt;BorderPane layoutX=&quot;25.0&quot; layoutY=&quot;150.0&quot; prefHeight=&quot;250.0&quot; prefWidth=&quot;450.0&quot;&gt;\n               &lt;center&gt;\n                  &lt;TableView fx:id=&quot;table_display&quot; editable=&quot;true&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; style=&quot;-fx-background-color: #83af9b;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n                    &lt;columns&gt;\n                      &lt;TableColumn id=&quot;museum_display&quot; fx:id=&quot;museum_display&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Museum&quot; /&gt;\n                      &lt;TableColumn id=&quot;name_display&quot; fx:id=&quot;name_display&quot; prefWidth=&quot;150.0&quot; style=&quot;-fx-background-color: #c8c8a9; -fx-text-color: #774f38;&quot; text=&quot;Name&quot; /&gt;\n                        &lt;TableColumn id=&quot;location_display&quot; fx:id=&quot;location_display&quot; prefWidth=&quot;90.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Location&quot; /&gt;\n                        &lt;TableColumn id=&quot;datefound_display&quot; fx:id=&quot;datefound_display&quot; prefWidth=&quot;117.0&quot; style=&quot;-fx-background-color: #c8c8a9;&quot; text=&quot;Date Found&quot; /&gt;\n                    &lt;/columns&gt;\n                  &lt;/TableView&gt;\n               &lt;/center&gt;\n            &lt;/BorderPane&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p>This is the data information class</p>\n<pre><code>import javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\npublic class Data {\n    private final StringProperty museum = new SimpleStringProperty();\n    private final StringProperty name = new SimpleStringProperty();\n    private final StringProperty location = new SimpleStringProperty();\n    private final StringProperty date_found = new SimpleStringProperty();\n\n    public StringProperty getMuseum() { return museum; }\n    public void setMuseum(String museum) { this.museum.set(museum); }\n    public StringProperty getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name.set(name);\n    }\n    public StringProperty getLocation() {\n        return location;\n    }\n    public void setLocation(String location) { this.location.set(location);}\n    public StringProperty getDate_found() {\n        return date_found;\n    }\n    public void setDate_found(String date_found) { this.date_found.set(date_found); }\n\n    public Data(String museumID, String name, String place, String found_date){\n        setMuseum(museumID);\n        setName(name);\n        setLocation(place);\n        setDate_found(found_date);\n    }\n\n    public Data(String museumID, String name, String found_date){\n        setMuseum(museumID);\n        setName(name);\n        setDate_found(found_date);\n    }\n}\n</code></pre>\n<p>the controller currently only has the gui names</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TextField;\n\npublic class NookController {\n\n    @FXML\n    private Button btn_fish;\n\n    @FXML\n    private Button btn_insects;\n\n    @FXML\n    private Button btn_seacreatures;\n\n    @FXML\n    private TextField search_input;\n\n    @FXML\n    private Button btn_search;\n\n    @FXML\n    private TableView&lt;Data&gt; table_display;\n\n    @FXML\n    private TableColumn&lt;Data, String&gt; datefound_display;\n\n    @FXML\n    private TableColumn&lt;Data, String&gt; location_display;\n\n    @FXML\n    private TableColumn&lt;Data, String&gt; museum_display;\n\n    @FXML\n    private TableColumn&lt;Data, String&gt; name_display;\n\n\n}\n</code></pre>\n<p>finally this is my application that also pulls up the error</p>\n<blockquote>\n<p>java: incompatible types: cannot infer type arguments for javafx.scene.control.cell.PropertyValueFactory&lt;&gt;</p>\n</blockquote>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class NookApplication extends Application {\n    private DBConnect connection;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        connection = new DBConnect(&quot;com.mysql.jdbc.Driver&quot;,&quot;jdbc:mysql://localhost:3306/Nookipedia&quot;,&quot;tsc&quot;,&quot;&quot;);\n\n        TableView&lt;Data&gt; dataTable = new TableView&lt;&gt;();\n        TableColumn&lt;Data, String&gt; museumCol = new TableColumn&lt;&gt;(&quot;Musuem&quot;);\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;MuseumID&quot;));\n        TableColumn&lt;Data, String&gt; nameCol = new TableColumn&lt;&gt;(&quot;Name&quot;);\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;FishID&quot;));\n        TableColumn&lt;Data, String&gt; locationCol = new TableColumn&lt;&gt;(&quot;Location&quot;);\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;Location&quot;));\n        TableColumn&lt;Data, String&gt; dfCol = new TableColumn&lt;&gt;(&quot;Date Found&quot;);\n        museumCol.setCellFactory(new PropertyValueFactory&lt;&gt;(&quot;DateFound&quot;));\n\n        dataTable.getColumns().addAll(museumCol, nameCol, locationCol,dfCol);\n        dataTable.getItems().addAll(connection.getDataList());\n\n        BorderPane root = new BorderPane();\n        root.setCenter(dataTable);\n        Scene scene = new Scene(root, 600, 400);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        /*FXMLLoader fxmlLoader = new FXMLLoader(NookApplication.class.getResource(&quot;NookPack.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Nookpedia Backpack&quot;);\n        stage.setScene(scene);\n        stage.show();*/\n    }\n    @Override\n    public void stop() throws Exception {\n        if (connection != null){\n            connection.shutdown();\n        }\n\n    }\n    public static void main(String[] args){\n        launch(args);\n    }\n}\n</code></pre>\n<p>I've been reading up on all the tableview and database connections enough to know I'm on the right track but everyone seems to make the table within the application .java meanwhile, I've created it already in the FXML. Wouldnt it need to be in the controller somehow? and why do I get an error for using PropertyValueFactory? when I know I need it to go into an observable list? My knowledge is a little jumbled together right now.</p>\n"},{"tags":["java","database","hibernate","criteria","escaping"],"answers":[{"comments":[{"owner":{"account_id":29913,"reputation":10102,"user_id":81193,"accept_rate":83,"display_name":"Kevin Crowell"},"score":0,"creation_date":1237905639,"post_id":673664,"comment_id":490913,"body_markdown":"Thanks. Hopefully I can find the time to try this later today. I will update after I try it.","body":"Thanks. Hopefully I can find the time to try this later today. I will update after I try it."},{"owner":{"account_id":30651,"reputation":3007,"user_id":83674,"display_name":"HMM"},"score":0,"creation_date":1238185473,"post_id":673664,"comment_id":504887,"body_markdown":"IlikeExpression does not have it though.","body":"IlikeExpression does not have it though."},{"owner":{"account_id":296447,"reputation":1429,"user_id":601409,"accept_rate":89,"display_name":"EkcenierK"},"score":0,"creation_date":1313758371,"post_id":673664,"comment_id":8534226,"body_markdown":"All of LikeExpression&#39;s constructors are protected, you would need to subclass and make a public constructor.","body":"All of LikeExpression&#39;s constructors are protected, you would need to subclass and make a public constructor."}],"tags":[],"owner":{"account_id":560983,"reputation":1379,"user_id":46430,"display_name":"james"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1237819772,"creation_date":1237819772,"answer_id":673664,"question_id":673508,"body_markdown":"if you use LikeExpression directly, it enables you to specify the escape character.  i assume that should be all you need.","title":"Using hibernate criteria, is there a way to escape special characters?","body":"<p>if you use LikeExpression directly, it enables you to specify the escape character.  i assume that should be all you need.</p>\n"},{"comments":[{"owner":{"account_id":3410181,"reputation":304,"user_id":2860318,"accept_rate":0,"display_name":"hasha"},"score":0,"creation_date":1521689925,"post_id":1111801,"comment_id":85841537,"body_markdown":"Hi , I know this is very old post .Would you mind to post complete example if possible.","body":"Hi , I know this is very old post .Would you mind to post complete example if possible."}],"tags":[],"owner":{"account_id":877454,"reputation":166,"user_id":136316,"display_name":"Daniel Reeves"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1247257664,"creation_date":1247257664,"answer_id":1111801,"question_id":673508,"body_markdown":"LikeExpression&#39;s constructors are all protected, so it&#39;s not a viable option.  Also, it has [problems of its own][1].\r\n\r\nA colleague and I created a patch which works pretty well.  The gist of the patch is that for the LikeExpression constructor which consumes a MatchMode, we escape the special characters.  For the constructor which consumes a Character (the escape character), we assume the user escapes the special characters on their own.\r\n\r\nWe also parameterized the escape character to ensure that it can&#39;t corrupt the SQL query if they use something like \\ or a quote character.\r\n\r\n    package org.hibernate.criterion;\r\n\r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.dialect.Dialect;\r\n    import org.hibernate.engine.TypedValue;\r\n\r\n    public class LikeExpression implements Criterion {\r\n        private final String propertyName;\r\n        private final String value;\r\n        private final Character escapeChar;\r\n\r\n        protected LikeExpression(\r\n                String propertyName,\r\n                Object value) {\r\n            this(propertyName, value.toString(), (Character) null);\r\n        }\r\n\r\n        protected LikeExpression(\r\n                String propertyName,\r\n                String value,\r\n                MatchMode matchMode) {\r\n            this( propertyName, matchMode.toMatchString( value\r\n                    .toString()\r\n                    .replaceAll(&quot;!&quot;, &quot;!!&quot;)\r\n                    .replaceAll(&quot;%&quot;, &quot;!%&quot;)\r\n                    .replaceAll(&quot;_&quot;, &quot;!_&quot;)), &#39;!&#39; );\r\n        }\r\n\r\n        protected LikeExpression(\r\n                String propertyName,\r\n                String value,\r\n                Character escapeChar) {\r\n            this.propertyName = propertyName;\r\n            this.value = value;\r\n            this.escapeChar = escapeChar;\r\n        }\r\n\r\n        public String toSqlString(\r\n                Criteria criteria,\r\n                CriteriaQuery criteriaQuery) throws HibernateException {\r\n            Dialect dialect = criteriaQuery.getFactory().getDialect();\r\n            String[] columns = criteriaQuery.getColumnsUsingProjection( criteria, propertyName );\r\n            if ( columns.length != 1 ) {\r\n                throw new HibernateException( &quot;Like may only be used with single-column properties&quot; );\r\n            }\r\n            String lhs = lhs(dialect, columns[0]);\r\n            return lhs + &quot; like ?&quot; + ( escapeChar == null ? &quot;&quot; : &quot; escape ?&quot; );\r\n\r\n        }\r\n\r\n        public TypedValue[] getTypedValues(\r\n                Criteria criteria,\r\n                CriteriaQuery criteriaQuery) throws HibernateException {\r\n            return new TypedValue[] {\r\n                    criteriaQuery.getTypedValue( criteria, propertyName, typedValue(value) ),\r\n                    criteriaQuery.getTypedValue( criteria, propertyName, escapeChar.toString() )\r\n            };\r\n        }\r\n\r\n        protected String lhs(Dialect dialect, String column) {\r\n            return column;\r\n        }\r\n\r\n        protected String typedValue(String value) {\r\n            return value;\r\n        }\r\n\r\n    }\r\n\r\nIf you&#39;re wondering what the lhs and typedValue methods are for, the new IlikeExpression should answer those questions.\r\n\r\n    package org.hibernate.criterion;\r\n\r\n    import org.hibernate.dialect.Dialect;\r\n\r\n    public class IlikeExpression extends LikeExpression {\r\n\r\n        protected IlikeExpression(\r\n                String propertyName,\r\n                Object value) {\r\n            super(propertyName, value);\r\n        }\r\n\r\n        protected IlikeExpression(\r\n                String propertyName,\r\n                String value,\r\n                MatchMode matchMode) {\r\n            super(propertyName, value, matchMode);\r\n\r\n        }\r\n\r\n        protected IlikeExpression(\r\n                String propertyName,\r\n                String value,\r\n                Character escapeChar) {\r\n            super(propertyName, value, escapeChar);\r\n        }\r\n\r\n        @Override\r\n        protected String lhs(Dialect dialect, String column) {\r\n            return dialect.getLowercaseFunction() + &#39;(&#39; + column + &#39;)&#39;;\r\n        }\r\n\r\n        @Override\r\n        protected String typedValue(String value) {\r\n            return super.typedValue(value).toLowerCase();\r\n        }\r\n\r\n    }\r\n\r\nAfter this, the only thing left is to make Restrictions use these new classes:\r\n\r\n    public static Criterion like(String propertyName, Object value) {\r\n        return new LikeExpression(propertyName, value);\r\n    }\r\n\r\n    public static Criterion like(String propertyName, String value, MatchMode matchMode) {\r\n        return new LikeExpression(propertyName, value, matchMode);\r\n    }\r\n\r\n    public static Criterion like(String propertyName, String value, Character escapeChar) {\r\n        return new LikeExpression(propertyName, value, escapeChar);\r\n    }\r\n\r\n    public static Criterion ilike(String propertyName, Object value) {\r\n        return new IlikeExpression(propertyName, value);\r\n    }\r\n\r\n    public static Criterion ilike(String propertyName, String value, MatchMode matchMode) {\r\n        return new IlikeExpression(propertyName, value, matchMode);\r\n    }\r\n\r\n    public static Criterion ilike(String propertyName, String value, Character escapeChar) {\r\n        return new IlikeExpression(propertyName, value, escapeChar);\r\n    }\r\n\r\nEdit: Oh yeah.  This works for Oracle.  We&#39;re not sure about other databases though.\r\n\r\n  [1]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-2997","title":"Using hibernate criteria, is there a way to escape special characters?","body":"<p>LikeExpression's constructors are all protected, so it's not a viable option.  Also, it has <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-2997\" rel=\"noreferrer\">problems of its own</a>.</p>\n\n<p>A colleague and I created a patch which works pretty well.  The gist of the patch is that for the LikeExpression constructor which consumes a MatchMode, we escape the special characters.  For the constructor which consumes a Character (the escape character), we assume the user escapes the special characters on their own.</p>\n\n<p>We also parameterized the escape character to ensure that it can't corrupt the SQL query if they use something like \\ or a quote character.</p>\n\n<pre><code>package org.hibernate.criterion;\n\nimport org.hibernate.Criteria;\nimport org.hibernate.HibernateException;\nimport org.hibernate.dialect.Dialect;\nimport org.hibernate.engine.TypedValue;\n\npublic class LikeExpression implements Criterion {\n    private final String propertyName;\n    private final String value;\n    private final Character escapeChar;\n\n    protected LikeExpression(\n            String propertyName,\n            Object value) {\n        this(propertyName, value.toString(), (Character) null);\n    }\n\n    protected LikeExpression(\n            String propertyName,\n            String value,\n            MatchMode matchMode) {\n        this( propertyName, matchMode.toMatchString( value\n                .toString()\n                .replaceAll(\"!\", \"!!\")\n                .replaceAll(\"%\", \"!%\")\n                .replaceAll(\"_\", \"!_\")), '!' );\n    }\n\n    protected LikeExpression(\n            String propertyName,\n            String value,\n            Character escapeChar) {\n        this.propertyName = propertyName;\n        this.value = value;\n        this.escapeChar = escapeChar;\n    }\n\n    public String toSqlString(\n            Criteria criteria,\n            CriteriaQuery criteriaQuery) throws HibernateException {\n        Dialect dialect = criteriaQuery.getFactory().getDialect();\n        String[] columns = criteriaQuery.getColumnsUsingProjection( criteria, propertyName );\n        if ( columns.length != 1 ) {\n            throw new HibernateException( \"Like may only be used with single-column properties\" );\n        }\n        String lhs = lhs(dialect, columns[0]);\n        return lhs + \" like ?\" + ( escapeChar == null ? \"\" : \" escape ?\" );\n\n    }\n\n    public TypedValue[] getTypedValues(\n            Criteria criteria,\n            CriteriaQuery criteriaQuery) throws HibernateException {\n        return new TypedValue[] {\n                criteriaQuery.getTypedValue( criteria, propertyName, typedValue(value) ),\n                criteriaQuery.getTypedValue( criteria, propertyName, escapeChar.toString() )\n        };\n    }\n\n    protected String lhs(Dialect dialect, String column) {\n        return column;\n    }\n\n    protected String typedValue(String value) {\n        return value;\n    }\n\n}\n</code></pre>\n\n<p>If you're wondering what the lhs and typedValue methods are for, the new IlikeExpression should answer those questions.</p>\n\n<pre><code>package org.hibernate.criterion;\n\nimport org.hibernate.dialect.Dialect;\n\npublic class IlikeExpression extends LikeExpression {\n\n    protected IlikeExpression(\n            String propertyName,\n            Object value) {\n        super(propertyName, value);\n    }\n\n    protected IlikeExpression(\n            String propertyName,\n            String value,\n            MatchMode matchMode) {\n        super(propertyName, value, matchMode);\n\n    }\n\n    protected IlikeExpression(\n            String propertyName,\n            String value,\n            Character escapeChar) {\n        super(propertyName, value, escapeChar);\n    }\n\n    @Override\n    protected String lhs(Dialect dialect, String column) {\n        return dialect.getLowercaseFunction() + '(' + column + ')';\n    }\n\n    @Override\n    protected String typedValue(String value) {\n        return super.typedValue(value).toLowerCase();\n    }\n\n}\n</code></pre>\n\n<p>After this, the only thing left is to make Restrictions use these new classes:</p>\n\n<pre><code>public static Criterion like(String propertyName, Object value) {\n    return new LikeExpression(propertyName, value);\n}\n\npublic static Criterion like(String propertyName, String value, MatchMode matchMode) {\n    return new LikeExpression(propertyName, value, matchMode);\n}\n\npublic static Criterion like(String propertyName, String value, Character escapeChar) {\n    return new LikeExpression(propertyName, value, escapeChar);\n}\n\npublic static Criterion ilike(String propertyName, Object value) {\n    return new IlikeExpression(propertyName, value);\n}\n\npublic static Criterion ilike(String propertyName, String value, MatchMode matchMode) {\n    return new IlikeExpression(propertyName, value, matchMode);\n}\n\npublic static Criterion ilike(String propertyName, String value, Character escapeChar) {\n    return new IlikeExpression(propertyName, value, escapeChar);\n}\n</code></pre>\n\n<p>Edit: Oh yeah.  This works for Oracle.  We're not sure about other databases though.</p>\n"},{"comments":[{"owner":{"account_id":296447,"reputation":1429,"user_id":601409,"accept_rate":89,"display_name":"EkcenierK"},"score":1,"creation_date":1313758856,"post_id":6901323,"comment_id":8534365,"body_markdown":"I started with this solution and it worked well for me on simple queries, but a later encountered an issue with it - if you need to use the `{alias}` placeholder in `columnName`, this placeholder always refers to the table that the root entity is mapped to. If you are using any joins in your query, Hibernate cannot insert the aliases for the join tables. In this case, I had to resort to subclassing `LikeExpression`.","body":"I started with this solution and it worked well for me on simple queries, but a later encountered an issue with it - if you need to use the <code>{alias}</code> placeholder in <code>columnName</code>, this placeholder always refers to the table that the root entity is mapped to. If you are using any joins in your query, Hibernate cannot insert the aliases for the join tables. In this case, I had to resort to subclassing <code>LikeExpression</code>."},{"owner":{"account_id":1643336,"reputation":2196,"user_id":1515379,"accept_rate":83,"display_name":"senior"},"score":0,"creation_date":1449756234,"post_id":6901323,"comment_id":56152162,"body_markdown":"That helps: I tried criterions.add(Restrictions.sqlRestriction(columnName+ &quot; like &#39;!%&#39; escape &#39;!&#39;&quot;)); ilike doesn&#39;t work for me","body":"That helps: I tried criterions.add(Restrictions.sqlRestriction(columnName+ &quot; like &#39;!%&#39; escape &#39;!&#39;&quot;)); ilike doesn&#39;t work for me"}],"tags":[],"owner":{"account_id":337511,"reputation":1132,"user_id":665823,"accept_rate":83,"display_name":"Kalem"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1312272052,"creation_date":1312215297,"answer_id":6901323,"question_id":673508,"body_markdown":"It&#39;s not a very clean way to do it but a sqlRestrinction should be easier:\r\n\r\n    criterions.add(Restrictions.sqlRestriction(columnName+ &quot; ilike &#39;!%&#39; escape &#39;!&#39;&quot;));\r\n\r\nYou can even do a start with search using the same principle:\r\n\r\n    criterions.add(Restrictions.sqlRestriction(columnName+ &quot; ilike &#39;!%%&#39; escape &#39;!&#39;&quot;));","title":"Using hibernate criteria, is there a way to escape special characters?","body":"<p>It's not a very clean way to do it but a sqlRestrinction should be easier:</p>\n\n<pre><code>criterions.add(Restrictions.sqlRestriction(columnName+ \" ilike '!%' escape '!'\"));\n</code></pre>\n\n<p>You can even do a start with search using the same principle:</p>\n\n<pre><code>criterions.add(Restrictions.sqlRestriction(columnName+ \" ilike '!%%' escape '!'\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35933,"reputation":651,"user_id":102140,"accept_rate":80,"display_name":"Yahor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456248812,"creation_date":1456248812,"answer_id":35584326,"question_id":673508,"body_markdown":"If you use Hibernate 3.2+, you can subclass `LikeExpression`, and then create factory `like`/`ilike` methods:\r\n\r\n    import org.hibernate.criterion.Criterion;\r\n    import org.hibernate.criterion.LikeExpression;\r\n    import org.hibernate.criterion.MatchMode;\r\n\r\n    public class EscapedLikeRestrictions {\r\n        private EscapedLikeRestrictions() {}\r\n\r\n        public static Criterion likeEscaped(String propertyName, String value, MatchMode matchMode) {\r\n            return likeEscaped(propertyName, value, matchMode, false);\r\n        }\r\n\r\n        public static Criterion ilikeEscaped(String propertyName, String value, MatchMode matchMode) {\r\n            return likeEscaped(propertyName, value, matchMode, true);\r\n        }\r\n\r\n        private static Criterion likeEscaped(String propertyName, String value, MatchMode matchMode, boolean ignoreCase) {\r\n            return new LikeExpression(propertyName, escape(value), matchMode, &#39;!&#39;, ignoreCase) {/*a trick to call protected constructor*/};\r\n        }\r\n\r\n        private static String escape(String value) {\r\n            return value\r\n                    .replace(&quot;!&quot;, &quot;!!&quot;)\r\n                    .replace(&quot;%&quot;, &quot;!%&quot;)\r\n                    .replace(&quot;_&quot;, &quot;!_&quot;);\r\n        }\r\n    }\r\n","title":"Using hibernate criteria, is there a way to escape special characters?","body":"<p>If you use Hibernate 3.2+, you can subclass <code>LikeExpression</code>, and then create factory <code>like</code>/<code>ilike</code> methods:</p>\n\n<pre><code>import org.hibernate.criterion.Criterion;\nimport org.hibernate.criterion.LikeExpression;\nimport org.hibernate.criterion.MatchMode;\n\npublic class EscapedLikeRestrictions {\n    private EscapedLikeRestrictions() {}\n\n    public static Criterion likeEscaped(String propertyName, String value, MatchMode matchMode) {\n        return likeEscaped(propertyName, value, matchMode, false);\n    }\n\n    public static Criterion ilikeEscaped(String propertyName, String value, MatchMode matchMode) {\n        return likeEscaped(propertyName, value, matchMode, true);\n    }\n\n    private static Criterion likeEscaped(String propertyName, String value, MatchMode matchMode, boolean ignoreCase) {\n        return new LikeExpression(propertyName, escape(value), matchMode, '!', ignoreCase) {/*a trick to call protected constructor*/};\n    }\n\n    private static String escape(String value) {\n        return value\n                .replace(\"!\", \"!!\")\n                .replace(\"%\", \"!%\")\n                .replace(\"_\", \"!_\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5738656,"reputation":1,"user_id":4531974,"display_name":"Alexis P&#233;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547637370,"creation_date":1547637019,"answer_id":54215788,"question_id":673508,"body_markdown":"If you use sqlRectrictions, the correct way to do it is the following:\r\n\r\n`criterions.add(Restrictions.sqlRestriction(columnName+&quot; LIKE &#39;!%&#39; ESCAPE &#39;!&#39;&quot;));`\r\n\r\nIs like a sql query, doesn&#39;t work ilike =&gt; use LIKE using Oracle 12i.","title":"Using hibernate criteria, is there a way to escape special characters?","body":"<p>If you use sqlRectrictions, the correct way to do it is the following:</p>\n\n<p><code>criterions.add(Restrictions.sqlRestriction(columnName+\" LIKE '!%' ESCAPE '!'\"));</code></p>\n\n<p>Is like a sql query, doesn't work ilike => use LIKE using Oracle 12i.</p>\n"}],"owner":{"account_id":29913,"reputation":10102,"user_id":81193,"accept_rate":83,"display_name":"Kevin Crowell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40485,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":1111801,"answer_count":5,"score":16,"last_activity_date":1699407139,"creation_date":1237817322,"question_id":673508,"body_markdown":"For this question, we want to avoid having to write a special query since the query would have to be different across multiple databases. Using only hibernate criteria, we want to be able to escape special characters.\r\n\r\nThis situation is the reason for needing the ability to escape special characters: \r\n\r\nAssume that we have table &#39;foo&#39; in the database. Table &#39;foo&#39; contains only 1 field, called &#39;name&#39;. The &#39;name&#39; field can contain characters that may be considered special in a database. Two examples of such a name are &#39;name\\_1&#39; and &#39;name%1&#39;. Both the &#39;_&#39; and &#39;%&#39; are special characters, at least in Oracle. If a user wants to search for one of these examples after they are entered in the database, problems may occur.\r\n\r\n    criterion = Restrictions.ilike(&quot;name&quot;, searchValue, MatchMode.ANYWHERE);\r\n    return findByCriteria(null, criterion);\r\n\r\nIn this code, &#39;searchValue&#39; is the value that the user has given the application to use for its search. If the user wants to search for &#39;%&#39;, the user is going to be returned with every &#39;foo&#39; entry in the database. This is because the &#39;%&#39; character represents the &quot;any number of characters&quot; wildcard for string matching and the SQL code that hibernate produces will look like: \r\n    \r\n    select * from foo where name like &#39;%&#39; \r\n\r\nIs there a way to tell hibernate to escape certain characters, or to create a workaround that is not database type specific?\r\n\r\n\r\n","title":"Using hibernate criteria, is there a way to escape special characters?","body":"<p>For this question, we want to avoid having to write a special query since the query would have to be different across multiple databases. Using only hibernate criteria, we want to be able to escape special characters.</p>\n\n<p>This situation is the reason for needing the ability to escape special characters: </p>\n\n<p>Assume that we have table 'foo' in the database. Table 'foo' contains only 1 field, called 'name'. The 'name' field can contain characters that may be considered special in a database. Two examples of such a name are 'name_1' and 'name%1'. Both the '_' and '%' are special characters, at least in Oracle. If a user wants to search for one of these examples after they are entered in the database, problems may occur.</p>\n\n<pre><code>criterion = Restrictions.ilike(\"name\", searchValue, MatchMode.ANYWHERE);\nreturn findByCriteria(null, criterion);\n</code></pre>\n\n<p>In this code, 'searchValue' is the value that the user has given the application to use for its search. If the user wants to search for '%', the user is going to be returned with every 'foo' entry in the database. This is because the '%' character represents the \"any number of characters\" wildcard for string matching and the SQL code that hibernate produces will look like: </p>\n\n<pre><code>select * from foo where name like '%' \n</code></pre>\n\n<p>Is there a way to tell hibernate to escape certain characters, or to create a workaround that is not database type specific?</p>\n"},{"tags":["java","jpa","derby","criteria-api"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1566570555,"post_id":57628146,"comment_id":101710117,"body_markdown":"It&#39;s just [this](https://www.objectdb.com/api/java/jpa/criteria/CriteriaBuilder/like_Expression__String_Expression_) method, isn&#39;t it? I don&#39;t quite follow the whole question.","body":"It&#39;s just <a href=\"https://www.objectdb.com/api/java/jpa/criteria/CriteriaBuilder/like_Expression__String_Expression_\" rel=\"nofollow noreferrer\">this</a> method, isn&#39;t it? I don&#39;t quite follow the whole question."},{"owner":{"account_id":16476504,"reputation":118,"user_id":11904333,"display_name":"Kipperfer"},"score":0,"creation_date":1566570982,"post_id":57628146,"comment_id":101710301,"body_markdown":"Exactly that, thanks.  Sooo long searching without looking in the right place :-(","body":"Exactly that, thanks.  Sooo long searching without looking in the right place :-("},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1566571334,"post_id":57628146,"comment_id":101710485,"body_markdown":"@M.Prokhorov Can you please add this as the answer. Thank you","body":"@M.Prokhorov Can you please add this as the answer. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1595331656,"creation_date":1566572341,"answer_id":57628754,"question_id":57628146,"body_markdown":"In JPA, `CriteriaBuilder`&#39;s `like` method has several overloads which have a third parameter, that is the escape character. It can be either of types `char` or `Expression&lt;Character&gt;`.\r\n\r\nSo, for your case, easiest way is to go like this:\r\n\r\n    cb.like(set.get(AttributeSetMeta_.setName), name, &#39;\\\\&#39;)\r\n\r\nRelevant API references:\r\n\r\n* [like(Expression&amp;lt;String&gt;, Expression&amp;lt;String&gt;, char)](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-javax.persistence.criteria.Expression-char-)\r\n\r\n* [like(Expression&amp;lt;String&gt;, String, char)](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-java.lang.String-char-)\r\n* [like(Expression&amp;lt;String&gt;, Expression&amp;lt;String&gt;, Expression&amp;lt;Character&gt;)](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-javax.persistence.criteria.Expression-javax.persistence.criteria.Expression-)\r\n* [like(Expression&amp;lt;String&gt;, String, Expression&amp;lt;Character&gt;)](https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-java.lang.String-javax.persistence.criteria.Expression-)","title":"Escape character in LIKE through Criteria api","body":"<p>In JPA, <code>CriteriaBuilder</code>'s <code>like</code> method has several overloads which have a third parameter, that is the escape character. It can be either of types <code>char</code> or <code>Expression&lt;Character&gt;</code>.</p>\n<p>So, for your case, easiest way is to go like this:</p>\n<pre><code>cb.like(set.get(AttributeSetMeta_.setName), name, '\\\\')\n</code></pre>\n<p>Relevant API references:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-javax.persistence.criteria.Expression-char-\" rel=\"noreferrer\">like(Expression&lt;String&gt;, Expression&lt;String&gt;, char)</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-java.lang.String-char-\" rel=\"noreferrer\">like(Expression&lt;String&gt;, String, char)</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-javax.persistence.criteria.Expression-javax.persistence.criteria.Expression-\" rel=\"noreferrer\">like(Expression&lt;String&gt;, Expression&lt;String&gt;, Expression&lt;Character&gt;)</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html#like-javax.persistence.criteria.Expression-java.lang.String-javax.persistence.criteria.Expression-\" rel=\"noreferrer\">like(Expression&lt;String&gt;, String, Expression&lt;Character&gt;)</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699407047,"creation_date":1699407047,"answer_id":77442358,"question_id":57628146,"body_markdown":"I was having the same issue and I resolved it using [EscapeCharacter][1] by wrapping the value like \r\n\r\n```\r\nsearchKey = EscapeCharacter.DEFAULT.escape(searchKey)\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/query/EscapeCharacter.html","title":"Escape character in LIKE through Criteria api","body":"<p>I was having the same issue and I resolved it using <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/query/EscapeCharacter.html\" rel=\"nofollow noreferrer\">EscapeCharacter</a> by wrapping the value like</p>\n<pre><code>searchKey = EscapeCharacter.DEFAULT.escape(searchKey)\n</code></pre>\n"}],"owner":{"account_id":16476504,"reputation":118,"user_id":11904333,"display_name":"Kipperfer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7667,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57628754,"answer_count":2,"score":5,"last_activity_date":1699407047,"creation_date":1566569932,"question_id":57628146,"body_markdown":"I&#39;m trying to allow users from a web front end to search for some attributes in a database.  The attribute names may include the special SQL characters % and _ used in like.  Is there a way to escape the special characters?\r\n\r\nI&#39;m using Criteria API with Glassfish 5.1, Apache Derby, JPA 2.1 and EclipseLink 2.7.4.\r\n\r\nOther databases use \\ as a default escape character but Derby doesn&#39;t. From reading, it seems the strict standard calls for no implicit escape characters.\r\n\r\nI&#39;ll illustrate with this data:\r\n~~~\r\nID           SETNAME             DESCRIPTION                                         \r\n----------------------------------------------\r\n1            Set_1               The very first set\r\n2            Set%2               The second set\r\n~~~\r\nand SQL direct to Derby through JDBC.  The tables are generated from the below entities.\r\n~~~\r\nSELECT * FROM ATTRIBUTESETMETA WHERE SETNAME LIKE &#39;Set%2&#39;\r\n~~~\r\nreturns both rows, as you&#39;d expect (% = wildcard).\r\n\r\nI&#39;m looking to replicate the following in Criteria API\r\n~~~\r\nSELECT * FROM ATTRIBUTESETMETA WHERE SETNAME LIKE &#39;Set\\%2&#39; ESCAPE &#39;\\&#39;\r\n~~~\r\nwhich just returns the first row because \\ is explicitly set as the escape character.\r\n\r\nIf I use\r\n~~~\r\nSELECT * FROM ATTRIBUTEMETA WHERE SETNAME LIKE &#39;Set\\%2&#39;\r\n~~~\r\nwithout the escape clause, I get nothing (unlike other DBs)\r\n\r\n\r\nHere are the entity class and a wrapper to execute the criteria api query.\r\n~~~java\r\n/* Imports ... */\r\n@Entity\r\npublic class AttributeSetMeta implements Serializable {\r\n    private static final long serialVersionUID = 3L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String setName;\r\n    private String description;\r\n\r\n// Getters and setters ...\r\n~~~\r\n\r\n~~~java\r\n// Imports\r\n@Dependent\r\npublic class AttributeSetMetaFacade {\r\n\r\n    @PersistenceContext(unitName = &quot;oms&quot;)\r\n    private EntityManager em;\r\n\r\n    public AttributeSetMeatFacade() {\r\n    }\r\n\r\n    public List&lt;AttributeSetMeta&gt; getSetByName(String name) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;AttributeSetMeta&gt; cq = \r\n                cb.createQuery(AttributeSetMeta.class);\r\n        Root&lt;AttributeSetMeta&gt; set = cq.from(AttributeSetMeta.class);\r\n        cq.select(set)\r\n                .where(cb.like(\r\n                    set.get(AttributeSetMeta_.setName), name)\r\n                );\r\n        return em.createQuery(cq).getResultList();\r\n    }\r\n\r\n// Other code ...\r\n~~~\r\n\r\nThe code is equivalent to my first SQL query and returns the same results.\r\n\r\nIs there any way to change the code to make it behave like my second query?  (pun intended)","title":"Escape character in LIKE through Criteria api","body":"<p>I'm trying to allow users from a web front end to search for some attributes in a database.  The attribute names may include the special SQL characters % and _ used in like.  Is there a way to escape the special characters?</p>\n\n<p>I'm using Criteria API with Glassfish 5.1, Apache Derby, JPA 2.1 and EclipseLink 2.7.4.</p>\n\n<p>Other databases use \\ as a default escape character but Derby doesn't. From reading, it seems the strict standard calls for no implicit escape characters.</p>\n\n<p>I'll illustrate with this data:</p>\n\n<pre><code>ID           SETNAME             DESCRIPTION                                         \n----------------------------------------------\n1            Set_1               The very first set\n2            Set%2               The second set\n</code></pre>\n\n<p>and SQL direct to Derby through JDBC.  The tables are generated from the below entities.</p>\n\n<pre><code>SELECT * FROM ATTRIBUTESETMETA WHERE SETNAME LIKE 'Set%2'\n</code></pre>\n\n<p>returns both rows, as you'd expect (% = wildcard).</p>\n\n<p>I'm looking to replicate the following in Criteria API</p>\n\n<pre><code>SELECT * FROM ATTRIBUTESETMETA WHERE SETNAME LIKE 'Set\\%2' ESCAPE '\\'\n</code></pre>\n\n<p>which just returns the first row because \\ is explicitly set as the escape character.</p>\n\n<p>If I use</p>\n\n<pre><code>SELECT * FROM ATTRIBUTEMETA WHERE SETNAME LIKE 'Set\\%2'\n</code></pre>\n\n<p>without the escape clause, I get nothing (unlike other DBs)</p>\n\n<p>Here are the entity class and a wrapper to execute the criteria api query.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/* Imports ... */\n@Entity\npublic class AttributeSetMeta implements Serializable {\n    private static final long serialVersionUID = 3L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String setName;\n    private String description;\n\n// Getters and setters ...\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Imports\n@Dependent\npublic class AttributeSetMetaFacade {\n\n    @PersistenceContext(unitName = \"oms\")\n    private EntityManager em;\n\n    public AttributeSetMeatFacade() {\n    }\n\n    public List&lt;AttributeSetMeta&gt; getSetByName(String name) {\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;AttributeSetMeta&gt; cq = \n                cb.createQuery(AttributeSetMeta.class);\n        Root&lt;AttributeSetMeta&gt; set = cq.from(AttributeSetMeta.class);\n        cq.select(set)\n                .where(cb.like(\n                    set.get(AttributeSetMeta_.setName), name)\n                );\n        return em.createQuery(cq).getResultList();\n    }\n\n// Other code ...\n</code></pre>\n\n<p>The code is equivalent to my first SQL query and returns the same results.</p>\n\n<p>Is there any way to change the code to make it behave like my second query?  (pun intended)</p>\n"},{"tags":["java","oracle","hibernate","h2"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1647263227,"post_id":71468253,"comment_id":126319831,"body_markdown":"Oracle does not have a `BOOLEAN` data type in SQL. It does have a `BOOLEAN` data type in PL/SQL (but your query appears to be SQL and not PL/SQL).","body":"Oracle does not have a <code>BOOLEAN</code> data type in SQL. It does have a <code>BOOLEAN</code> data type in PL/SQL (but your query appears to be SQL and not PL/SQL)."},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1647263310,"post_id":71468253,"comment_id":126319864,"body_markdown":"The query works correctly in Oracle. It must map `t.value` to `0` or `1`. It just doesn&#39;t work in H2.","body":"The query works correctly in Oracle. It must map <code>t.value</code> to <code>0</code> or <code>1</code>. It just doesn&#39;t work in H2."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1647263392,"post_id":71468253,"comment_id":126319894,"body_markdown":"My point is that when you say &quot;This is due to a @Query comparing a boolean to an integer.&quot; cannot be correct as Oracle does not have `BOOLEAN` data type in SQL so, inside the database, you are probably comparing an integer to an integer.","body":"My point is that when you say &quot;This is due to a @Query comparing a boolean to an integer.&quot; cannot be correct as Oracle does not have <code>BOOLEAN</code> data type in SQL so, inside the database, you are probably comparing an integer to an integer."},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1647263791,"post_id":71468253,"comment_id":126320075,"body_markdown":"In my object `value` is of type `Boolean`. In the database it will be stored as `0` or `1` but Hibernate must be mapping it based on the dialect. I believe my statement is correct as I&#39;m not saying Oracle has a boolean type. I&#39;m saying that my code is essentially running `&quot;TRUE&quot; = 1` instead of mapping the values first. When executed in Oracle it runs `1 = 1` as expected. I&#39;ve updated my question to make it clearer.","body":"In my object <code>value</code> is of type <code>Boolean</code>. In the database it will be stored as <code>0</code> or <code>1</code> but Hibernate must be mapping it based on the dialect. I believe my statement is correct as I&#39;m not saying Oracle has a boolean type. I&#39;m saying that my code is essentially running <code>&quot;TRUE&quot; = 1</code> instead of mapping the values first. When executed in Oracle it runs <code>1 = 1</code> as expected. I&#39;ve updated my question to make it clearer."}],"answers":[{"comments":[{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1647270716,"post_id":71469186,"comment_id":126323113,"body_markdown":"This sounds like what I want although I&#39;m having some trouble with it. If I use `t.value = false` I still get the same error. I&#39;ve also tried setting the `@Type` for the variable. In the exception I can see it&#39;s converting the `false` to `0`. E.g `tableName.value=0`","body":"This sounds like what I want although I&#39;m having some trouble with it. If I use <code>t.value = false</code> I still get the same error. I&#39;ve also tried setting the <code>@Type</code> for the variable. In the exception I can see it&#39;s converting the <code>false</code> to <code>0</code>. E.g <code>tableName.value=0</code>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647270920,"post_id":71469186,"comment_id":126323203,"body_markdown":"@Michael do you get the same exception message with `@Type(type= &quot;org.hibernate.type.NumericBooleanType&quot;)` ?","body":"@Michael do you get the same exception message with <code>@Type(type= &quot;org.hibernate.type.NumericBooleanType&quot;)</code> ?"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1647271256,"post_id":71469186,"comment_id":126323349,"body_markdown":"Yes the same message with @Type added. If I change it to `t.value = false` or `t.value = 0` it throws the same exception in both cases.","body":"Yes the same message with @Type added. If I change it to <code>t.value = false</code> or <code>t.value = 0</code> it throws the same exception in both cases."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647271326,"post_id":71469186,"comment_id":126323375,"body_markdown":"@Michael please share the properties that you use for test, in order to set h2 in Oracle mode","body":"@Michael please share the properties that you use for test, in order to set h2 in Oracle mode"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1647271580,"post_id":71469186,"comment_id":126323492,"body_markdown":"I&#39;ve updated the question with the H2/Hibernate config.","body":"I&#39;ve updated the question with the H2/Hibernate config."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647272273,"post_id":71469186,"comment_id":126323791,"body_markdown":"@Michael try to use the property `spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect`","body":"@Michael try to use the property <code>spring.jpa.database-platform=org.hibernate.dialect.Oracle10g&zwnj;&#8203;Dialect</code>"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1647272596,"post_id":71469186,"comment_id":126323920,"body_markdown":"Both H2Dialect and Oracle10gDialect throw the same exception. If I downgrade to H2 `1.4.200` it works for both dialects. Sounds like it&#39;s linked to this? https://groups.google.com/g/h2-database/c/AKjKqvGr9j8","body":"Both H2Dialect and Oracle10gDialect throw the same exception. If I downgrade to H2 <code>1.4.200</code> it works for both dialects. Sounds like it&#39;s linked to this? <a href=\"https://groups.google.com/g/h2-database/c/AKjKqvGr9j8\" rel=\"nofollow noreferrer\">groups.google.com/g/h2-database/c/AKjKqvGr9j8</a>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647272937,"post_id":71469186,"comment_id":126324059,"body_markdown":"@Michael you don&#39;t have to downgrade. You can have your current version and run it with `MODE=LEGACY` where as indicated `Unsafe comparison operators between numeric and boolean values are allowed.`  http://www.h2database.com/html/features.html#compatibility. This does not seem to be the case for `MODE=Oracle` though :/","body":"@Michael you don&#39;t have to downgrade. You can have your current version and run it with <code>MODE=LEGACY</code> where as indicated <code>Unsafe comparison operators between numeric and boolean values are allowed.</code>  <a href=\"http://www.h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">h2database.com/html/features.html#compatibility</a>. This does not seem to be the case for <code>MODE=Oracle</code> though :/"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1647273139,"post_id":71469186,"comment_id":126324140,"body_markdown":"Yeah I should have mentioned it works fine in LEGACY mode however shouldn&#39;t it be possible in Oracle mode like this in the latest version?","body":"Yeah I should have mentioned it works fine in LEGACY mode however shouldn&#39;t it be possible in Oracle mode like this in the latest version?"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":2,"creation_date":1647423921,"post_id":71469186,"comment_id":126365107,"body_markdown":"I upgraded to Hibernate 5.6.5 and the changes you mentioned solved it! I didn&#39;t need the `@Type` annotations but changing `t.value=0` to `t.value=false` worked nicely.","body":"I upgraded to Hibernate 5.6.5 and the changes you mentioned solved it! I didn&#39;t need the <code>@Type</code> annotations but changing <code>t.value=0</code> to <code>t.value=false</code> worked nicely."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699406057,"creation_date":1647267358,"answer_id":71469186,"question_id":71468253,"body_markdown":"If this `@Query(&quot;FROM TABLE_NAME t WHERE t.value= 0&quot;)` is exactly what you have, then it means that this is JPQL language, not SQL language. The way that you compare it, it is like the entity related with this has a integer field, which should not be the case. The Java field should have been `boolean`.\r\n\r\nThen this should have been `@Query(&quot;FROM TABLE_NAME t WHERE t.value= false&quot;)` and it would be able to work both for Oracle and H2.\r\n\r\nBy default, when you use an ORM vendor like Hibernate and you have an Oracle database, the entity field `boolean value` will be matched in database level with type of Number(1) where `0 == false` and `1 == true` on ORM layer.\r\n\r\nOne way for this to work would be to have your entity field as the following:\r\n\r\n    @Type(type= &quot;org.hibernate.type.NumericBooleanType&quot;)\r\n    private Boolean value;\r\n","title":"H2 Oracle Mode - Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable","body":"<p>If this <code>@Query(&quot;FROM TABLE_NAME t WHERE t.value= 0&quot;)</code> is exactly what you have, then it means that this is JPQL language, not SQL language. The way that you compare it, it is like the entity related with this has a integer field, which should not be the case. The Java field should have been <code>boolean</code>.</p>\n<p>Then this should have been <code>@Query(&quot;FROM TABLE_NAME t WHERE t.value= false&quot;)</code> and it would be able to work both for Oracle and H2.</p>\n<p>By default, when you use an ORM vendor like Hibernate and you have an Oracle database, the entity field <code>boolean value</code> will be matched in database level with type of Number(1) where <code>0 == false</code> and <code>1 == true</code> on ORM layer.</p>\n<p>One way for this to work would be to have your entity field as the following:</p>\n<pre><code>@Type(type= &quot;org.hibernate.type.NumericBooleanType&quot;)\nprivate Boolean value;\n</code></pre>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3790,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71469186,"answer_count":1,"score":0,"last_activity_date":1699406057,"creation_date":1647263016,"question_id":71468253,"body_markdown":"I&#39;m using Spring Boot and Hibernate and when running my tests in H2 (`2.1.210`)  I get an `Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable` error. This is due to a `@Query` comparing a boolean to an integer. This works in Oracle correctly.\r\n\r\n    @Query(&quot;FROM TABLE_NAME t WHERE t.value= 0&quot;)\r\n    public List&lt;Example&gt; findExample();\r\n\r\n`t.value` is of type `Boolean`.\r\n\r\nI&#39;ve found other questions with similar issues and the recommendation is to add this.\r\n\r\n    import org.hibernate.dialect.H2Dialect;\r\n\r\n    public class H2DialectExtended extends H2Dialect {\r\n\r\n        @Override\r\n        public String toBooleanValueString(boolean bool) {\r\n            return bool ? &quot;TRUE&quot; : &quot;FALSE&quot;;\r\n        }\r\n    }\r\n\r\nHowever this doesn&#39;t work.\r\n\r\nHow can I solve this?\r\n\r\nH2/Hibernate Settings - `application.yml`\r\n\r\n    spring:\r\n\r\n      driver:\r\n        class-name: org.h2.Driver\r\n\r\n      datasource:\r\n        platform:\r\n          url: jdbc:h2:mem:project_name;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;\r\n          username: username\r\n          password:\r\n\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.H2Dialect\r\n","title":"H2 Oracle Mode - Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable","body":"<p>I'm using Spring Boot and Hibernate and when running my tests in H2 (<code>2.1.210</code>)  I get an <code>Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable</code> error. This is due to a <code>@Query</code> comparing a boolean to an integer. This works in Oracle correctly.</p>\n<pre><code>@Query(&quot;FROM TABLE_NAME t WHERE t.value= 0&quot;)\npublic List&lt;Example&gt; findExample();\n</code></pre>\n<p><code>t.value</code> is of type <code>Boolean</code>.</p>\n<p>I've found other questions with similar issues and the recommendation is to add this.</p>\n<pre><code>import org.hibernate.dialect.H2Dialect;\n\npublic class H2DialectExtended extends H2Dialect {\n\n    @Override\n    public String toBooleanValueString(boolean bool) {\n        return bool ? &quot;TRUE&quot; : &quot;FALSE&quot;;\n    }\n}\n</code></pre>\n<p>However this doesn't work.</p>\n<p>How can I solve this?</p>\n<p>H2/Hibernate Settings - <code>application.yml</code></p>\n<pre><code>spring:\n\n  driver:\n    class-name: org.h2.Driver\n\n  datasource:\n    platform:\n      url: jdbc:h2:mem:project_name;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;\n      username: username\n      password:\n\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.H2Dialect\n</code></pre>\n"},{"tags":["java","postgresql","jboss","datasource"],"comments":[{"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"score":0,"creation_date":1439325173,"post_id":31951345,"comment_id":51812192,"body_markdown":"This probably isn&#39;t the cause of your problem, but why do you have a `ResultSet` and why are you calling `getResultSet()`?","body":"This probably isn&#39;t the cause of your problem, but why do you have a <code>ResultSet</code> and why are you calling <code>getResultSet()</code>?"},{"owner":{"account_id":6774168,"reputation":11,"user_id":5216542,"display_name":"Diego Flores Almeida"},"score":0,"creation_date":1439326023,"post_id":31951345,"comment_id":51812611,"body_markdown":"@Samuel hi man, thanks, the resultSet is wrong, I removed it, bad still does not work :(","body":"@Samuel hi man, thanks, the resultSet is wrong, I removed it, bad still does not work :("},{"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"score":0,"creation_date":1439326049,"post_id":31951345,"comment_id":51812618,"body_markdown":"Why don&#39;t you look up the data source instead of your custom bean and get the connection from it?","body":"Why don&#39;t you look up the data source instead of your custom bean and get the connection from it?"},{"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"score":0,"creation_date":1439326207,"post_id":31951345,"comment_id":51812702,"body_markdown":"Do you have the Transactional annotation on your classes/methods?","body":"Do you have the Transactional annotation on your classes/methods?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1439327163,"post_id":31951345,"comment_id":51813196,"body_markdown":"What happens if you call `commit()` on the connection? Maybe the connection you get has auto commit disabled. Btw. why are you using a XADataSource? And not a &quot;regular&quot; DataSource? The XA DataSource is for distribute transactions (between different application servers). Does using the `org.postgresql.ds.PGConnectionPoolDataSource` change anything?","body":"What happens if you call <code>commit()</code> on the connection? Maybe the connection you get has auto commit disabled. Btw. why are you using a XADataSource? And not a &quot;regular&quot; DataSource? The XA DataSource is for distribute transactions (between different application servers). Does using the <code>org.postgresql.ds.PGConnectionPoolDataSource</code> change anything?"},{"owner":{"account_id":6774168,"reputation":11,"user_id":5216542,"display_name":"Diego Flores Almeida"},"score":0,"creation_date":1439389684,"post_id":31951345,"comment_id":51843292,"body_markdown":"Hi All, \nMy problem was solved, I&#39;m JTA = &quot;true&quot; found that when we use JTA he did not enter my data if any exception happens, then hung up the JTA solved my problem with the data bank and it worked :))))))))","body":"Hi All,  My problem was solved, I&#39;m JTA = &quot;true&quot; found that when we use JTA he did not enter my data if any exception happens, then hung up the JTA solved my problem with the data bank and it worked :))))))))"}],"answers":[{"comments":[{"owner":{"account_id":313735,"reputation":1777,"user_id":628532,"display_name":"Jan &#39;splite&#39; K."},"score":0,"creation_date":1439326703,"post_id":31951647,"comment_id":51812949,"body_markdown":"welcome to SO! Please, take a [tour](http://stackoverflow.com/tour) to earn your first shiny badge.","body":"welcome to SO! Please, take a <a href=\"http://stackoverflow.com/tour\">tour</a> to earn your first shiny badge."},{"owner":{"account_id":6774168,"reputation":11,"user_id":5216542,"display_name":"Diego Flores Almeida"},"score":1,"creation_date":1439389694,"post_id":31951647,"comment_id":51843299,"body_markdown":"Hi All, \nMy problem was solved, I&#39;m JTA = &quot;true&quot; found that when we use JTA he did not enter my data if any exception happens, then hung up the JTA solved my problem with the data bank and it worked :))))))))","body":"Hi All,  My problem was solved, I&#39;m JTA = &quot;true&quot; found that when we use JTA he did not enter my data if any exception happens, then hung up the JTA solved my problem with the data bank and it worked :))))))))"}],"tags":[],"owner":{"account_id":6774459,"reputation":1,"user_id":5216748,"display_name":"Juliano Martins"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439379073,"creation_date":1439326030,"answer_id":31951647,"question_id":31951345,"body_markdown":"In order to isolate the problem, try:\r\n\r\n1. Perform a manual insert in the DB to check the autocommit setting? If work - problem in Java. If do not work - problem in DB\r\n\r\n2. Create a simple class to perform the insert and check if it works. It work, problem with app settings. If do not work - FU## something with Java/Driver!\r\n \r\n\r\n3. If 1 and 2 work, try to use a Transaction:\r\n\r\n        Transaction t =  beginTransaction(); // session???\r\n        //your code here\r\n        tx.commit;","title":"My executeUpdate() working, but not commit","body":"<p>In order to isolate the problem, try:</p>\n\n<ol>\n<li><p>Perform a manual insert in the DB to check the autocommit setting? If work - problem in Java. If do not work - problem in DB</p></li>\n<li><p>Create a simple class to perform the insert and check if it works. It work, problem with app settings. If do not work - FU## something with Java/Driver!</p></li>\n<li><p>If 1 and 2 work, try to use a Transaction:</p>\n\n<pre><code>Transaction t =  beginTransaction(); // session???\n//your code here\ntx.commit;\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":6774168,"reputation":11,"user_id":5216542,"display_name":"Diego Flores Almeida"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699405595,"creation_date":1439324857,"question_id":31951345,"body_markdown":"I&#39;m trying to insert data in my postgresql database, but, when I execute the executeUpdate() method, it doesn&#39;t insert any data on my DB, and I cannot see where I&#39;m doing wrong... \r\n\r\nPs: My database is autocommit: on;\r\n\r\nI&#39;m using Jboss 7.1.1 here my dataSource configuration: \r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:datasources:1.0&quot;&gt;\r\n                &lt;datasources&gt;\r\n                    &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:jboss/datasources/PostgresqlDS&quot; pool-name=&quot;PostgreDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; use-ccm=&quot;true&quot;&gt;\r\n                        &lt;connection-url&gt;jdbc:postgresql://dataBaseAddress/dataBaseName&lt;/connection-url&gt;\r\n                        &lt;driver&gt;org.postgresql&lt;/driver&gt;\r\n                        &lt;pool&gt;\r\n                            &lt;min-pool-size&gt;2&lt;/min-pool-size&gt;\r\n                            &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\r\n                        &lt;/pool&gt;\r\n                        &lt;security&gt;\r\n                            &lt;user-name&gt;user&lt;/user-name&gt;\r\n                            &lt;password&gt;password&lt;/password&gt;\r\n                        &lt;/security&gt;\r\n                    &lt;/datasource&gt;\r\n                    &lt;drivers&gt;\r\n                        &lt;driver name=&quot;org.postgresql&quot; module=&quot;org.postgresql&quot;&gt;\r\n                            &lt;xa-datasource-class&gt;org.postgresql.xa.PGXADataSource&lt;/xa-datasource-class&gt;\r\n                        &lt;/driver&gt;\r\n                        &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt;\r\n                            &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\r\n                        &lt;/driver&gt;\r\n                    &lt;/drivers&gt;\r\n                &lt;/datasources&gt;\r\n            &lt;/subsystem&gt;\r\n\r\nHere is my connection class: \r\n\r\n\r\n\r\n    public Connection getConnection() throws TopLevelException, SQLException {\r\n    \t\tConnection conn = null;\r\n    \t\ttry {\r\n    \t\t      Context ctx = new InitialContext();\r\n    \t\t      TransactionBean tal = (TransactionBean) ctx.lookup(&quot;java:global/snrng-ear/snrng-ejb-lgc/TransactionBean!br.com.compplied.snrng.ejb.TransactionBean&quot;);\r\n    \t\t      conn = tal.getConnection();\r\n    \t\t  } catch (NamingException e) {\r\n    \t\t\t  throw new TopLevelException(e);\r\n    \t\t  }\r\n    \t\t  return conn;\r\n    \t}\r\n\r\n\r\n\r\n\r\n\r\nHere is the method that execute my insert\r\n\r\n    public int inserirHistorico(RetornoHistoricoObject retorno) throws TopLevelException {\r\n    \t\tint update = 0;\r\n    \t\tPreparedStatement ps = null;\r\n    \t\tResultSet rs = null;\r\n    \t\tConnection con = null;\r\n    \t\tString sql = &quot;INSERT INTO table ( column1, column2, column3, column4, column5, column6) values (?, ?, ?, ?, ?, localtimestamp)&quot;;\r\n    \t\ttry {\r\n    \t\t\tcon = getConnection();\r\n    \t\t\tps = con.prepareStatement(sql);\r\n    \t\t\trs = ps.getResultSet();\r\n    \t\t\tps.setString(1, retorno.getNome_arquivo());\r\n    \t\t\tps.setString(2, retorno.getNumero_autenticacao().trim());\r\n    \t\t\tps.setString(3, retorno.getNosso_numero());\r\n    \t\t\tps.setDate(4, retorno.getData_pagamento());\r\n    \t\t\tps.setDouble(5, retorno.getValor());\r\n    \t\t\tupdate = ps.executeUpdate();  \r\n    \r\n    \t\t} catch (SQLException e) {\r\n    \t\t\tthrow new TopLevelException(e);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new TopLevelException(e);\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tclose(rs, ps, con);\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tthrow new TopLevelException(e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn update;\r\n    \t}\t\r\n\r\nWhen I execute the ps.executeUpdate() method, is returned to me a success message with the new id inserted, but, when I look for this id on my table, there&#39;s nothing inserted there. I&#39;ve already checked my DB parameter, connection and so, but it&#39;s still not working... Can anyone help me?\r\n\r\n\r\n","title":"My executeUpdate() working, but not commit","body":"<p>I'm trying to insert data in my postgresql database, but, when I execute the executeUpdate() method, it doesn't insert any data on my DB, and I cannot see where I'm doing wrong... </p>\n\n<p>Ps: My database is autocommit: on;</p>\n\n<p>I'm using Jboss 7.1.1 here my dataSource configuration: </p>\n\n<pre><code>&lt;subsystem xmlns=\"urn:jboss:domain:datasources:1.0\"&gt;\n            &lt;datasources&gt;\n                &lt;datasource jta=\"true\" jndi-name=\"java:jboss/datasources/PostgresqlDS\" pool-name=\"PostgreDS\" enabled=\"true\" use-java-context=\"true\" use-ccm=\"true\"&gt;\n                    &lt;connection-url&gt;jdbc:postgresql://dataBaseAddress/dataBaseName&lt;/connection-url&gt;\n                    &lt;driver&gt;org.postgresql&lt;/driver&gt;\n                    &lt;pool&gt;\n                        &lt;min-pool-size&gt;2&lt;/min-pool-size&gt;\n                        &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\n                    &lt;/pool&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;user&lt;/user-name&gt;\n                        &lt;password&gt;password&lt;/password&gt;\n                    &lt;/security&gt;\n                &lt;/datasource&gt;\n                &lt;drivers&gt;\n                    &lt;driver name=\"org.postgresql\" module=\"org.postgresql\"&gt;\n                        &lt;xa-datasource-class&gt;org.postgresql.xa.PGXADataSource&lt;/xa-datasource-class&gt;\n                    &lt;/driver&gt;\n                    &lt;driver name=\"h2\" module=\"com.h2database.h2\"&gt;\n                        &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\n                    &lt;/driver&gt;\n                &lt;/drivers&gt;\n            &lt;/datasources&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n\n<p>Here is my connection class: </p>\n\n<pre><code>public Connection getConnection() throws TopLevelException, SQLException {\n        Connection conn = null;\n        try {\n              Context ctx = new InitialContext();\n              TransactionBean tal = (TransactionBean) ctx.lookup(\"java:global/snrng-ear/snrng-ejb-lgc/TransactionBean!br.com.compplied.snrng.ejb.TransactionBean\");\n              conn = tal.getConnection();\n          } catch (NamingException e) {\n              throw new TopLevelException(e);\n          }\n          return conn;\n    }\n</code></pre>\n\n<p>Here is the method that execute my insert</p>\n\n<pre><code>public int inserirHistorico(RetornoHistoricoObject retorno) throws TopLevelException {\n        int update = 0;\n        PreparedStatement ps = null;\n        ResultSet rs = null;\n        Connection con = null;\n        String sql = \"INSERT INTO table ( column1, column2, column3, column4, column5, column6) values (?, ?, ?, ?, ?, localtimestamp)\";\n        try {\n            con = getConnection();\n            ps = con.prepareStatement(sql);\n            rs = ps.getResultSet();\n            ps.setString(1, retorno.getNome_arquivo());\n            ps.setString(2, retorno.getNumero_autenticacao().trim());\n            ps.setString(3, retorno.getNosso_numero());\n            ps.setDate(4, retorno.getData_pagamento());\n            ps.setDouble(5, retorno.getValor());\n            update = ps.executeUpdate();  \n\n        } catch (SQLException e) {\n            throw new TopLevelException(e);\n        } catch (Exception e) {\n            throw new TopLevelException(e);\n        } finally {\n            try {\n                close(rs, ps, con);\n            } catch (SQLException e) {\n                throw new TopLevelException(e);\n            }\n        }\n        return update;\n    }   \n</code></pre>\n\n<p>When I execute the ps.executeUpdate() method, is returned to me a success message with the new id inserted, but, when I look for this id on my table, there's nothing inserted there. I've already checked my DB parameter, connection and so, but it's still not working... Can anyone help me?</p>\n"},{"tags":["java","android","jwt"],"comments":[{"owner":{"account_id":10059343,"reputation":4094,"user_id":7436566,"display_name":"OhhhThatVarun"},"score":0,"creation_date":1667033398,"post_id":37695877,"comment_id":131078525,"body_markdown":"https://stackoverflow.com/a/74243959/7436566","body":"<a href=\"https://stackoverflow.com/a/74243959/7436566\">stackoverflow.com/a/74243959/7436566</a>"}],"answers":[{"tags":[],"owner":{"account_id":558953,"reputation":1204,"user_id":921335,"accept_rate":46,"display_name":"Akhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656581602,"creation_date":1465371116,"answer_id":37696004,"question_id":37695877,"body_markdown":"I&#39;ve used it in a Java web application and the code will look something like the below:-\r\n```\r\nJwts.parser().setSigningKey(&#39;secret-key&#39;).parseClaimsJws(token).getBody()\r\n```\r\nIt will return claims which contain the required values.","title":"How can I decode JWT token in android?","body":"<p>I've used it in a Java web application and the code will look something like the below:-</p>\n<pre><code>Jwts.parser().setSigningKey('secret-key').parseClaimsJws(token).getBody()\n</code></pre>\n<p>It will return claims which contain the required values.</p>\n"},{"tags":[],"owner":{"account_id":6230966,"reputation":6483,"user_id":4847767,"display_name":"Alex Zaraos"},"comment_count":0,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1699404868,"creation_date":1470248548,"answer_id":38751017,"question_id":37695877,"body_markdown":"You should split JWT string using dot `.` as the delimeter.\r\n\r\nIf you pass the first two sections through a [Base64][1] decoder, you&#39;ll get the following (formatting added for clarity):\r\n\r\n### Header:\r\n\r\n    {\r\n      &quot;alg&quot;: &quot;HS256&quot;,\r\n      &quot;typ&quot;: &quot;JWT&quot;\r\n    }\r\n\r\n### Body:\r\n\r\n    {\r\n      &quot;sub&quot;: &quot;1234567890&quot;,\r\n      &quot;name&quot;: &quot;John Doe&quot;,\r\n      &quot;admin&quot;: true\r\n    }\r\n\r\n---\r\n## Code example:\r\n\r\n    public class JWTUtils {\r\n    \r\n        public static void decoded(String JWTEncoded) throws Exception {\r\n            try {\r\n                String[] split = JWTEncoded.split(&quot;\\\\.&quot;);\r\n                Log.d(&quot;JWT_DECODED&quot;, &quot;Header: &quot; + getJson(split[0]));\r\n                Log.d(&quot;JWT_DECODED&quot;, &quot;Body: &quot; + getJson(split[1]));\r\n            } catch (UnsupportedEncodingException e) {\r\n                //Error\r\n            }\r\n        }\r\n    \r\n        private static String getJson(String strEncoded) throws UnsupportedEncodingException{\r\n            byte[] decodedBytes = Base64.decode(strEncoded, Base64.URL_SAFE);\r\n            return new String(decodedBytes, &quot;UTF-8&quot;);\r\n        }\r\n    }\r\n\r\n### Usage example: \r\n\r\n    JWTUtils.decoded(&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&quot;);\r\n\r\n---\r\n\r\n - Library reference:  https://github.com/jwtk/jjwt\r\n - JWT test: https://jwt.io/\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Base64","title":"How can I decode JWT token in android?","body":"<p>You should split JWT string using dot <code>.</code> as the delimeter.</p>\n<p>If you pass the first two sections through a <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a> decoder, you'll get the following (formatting added for clarity):</p>\n<h3>Header:</h3>\n<pre><code>{\n  &quot;alg&quot;: &quot;HS256&quot;,\n  &quot;typ&quot;: &quot;JWT&quot;\n}\n</code></pre>\n<h3>Body:</h3>\n<pre><code>{\n  &quot;sub&quot;: &quot;1234567890&quot;,\n  &quot;name&quot;: &quot;John Doe&quot;,\n  &quot;admin&quot;: true\n}\n</code></pre>\n<hr />\n<h2>Code example:</h2>\n<pre><code>public class JWTUtils {\n\n    public static void decoded(String JWTEncoded) throws Exception {\n        try {\n            String[] split = JWTEncoded.split(&quot;\\\\.&quot;);\n            Log.d(&quot;JWT_DECODED&quot;, &quot;Header: &quot; + getJson(split[0]));\n            Log.d(&quot;JWT_DECODED&quot;, &quot;Body: &quot; + getJson(split[1]));\n        } catch (UnsupportedEncodingException e) {\n            //Error\n        }\n    }\n\n    private static String getJson(String strEncoded) throws UnsupportedEncodingException{\n        byte[] decodedBytes = Base64.decode(strEncoded, Base64.URL_SAFE);\n        return new String(decodedBytes, &quot;UTF-8&quot;);\n    }\n}\n</code></pre>\n<h3>Usage example:</h3>\n<pre><code>JWTUtils.decoded(&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&quot;);\n</code></pre>\n<hr />\n<ul>\n<li>Library reference:  <a href=\"https://github.com/jwtk/jjwt\" rel=\"nofollow noreferrer\">https://github.com/jwtk/jjwt</a></li>\n<li>JWT test: <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11476937,"reputation":6532,"user_id":8412192,"display_name":"musooff"},"score":0,"creation_date":1556247323,"post_id":42835534,"comment_id":98381124,"body_markdown":"@angryITguy it&#39;s not like it should be. Because other answers with different libraries are also correct. This library makes it easier.","body":"@angryITguy it&#39;s not like it should be. Because other answers with different libraries are also correct. This library makes it easier."}],"tags":[],"owner":{"account_id":1266636,"reputation":2145,"user_id":1223807,"accept_rate":25,"display_name":"diptia"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1656578480,"creation_date":1489671050,"answer_id":42835534,"question_id":37695877,"body_markdown":"I used a third-party library named JWTDecode.Android https://github.com/auth0/JWTDecode.Android. The documentation is reasonably good. From your question, The sub, name, etc are a part of the body and are called Claims. You could get them like this using the above library: \r\n```\r\nJWT parsedJWT = new JWT(jwtToken);\r\nClaim subscriptionMetaData = parsedJWT.getClaim(&quot;name&quot;);\r\nString parsedValue = subscriptionMetaData.asString();\r\n```","title":"How can I decode JWT token in android?","body":"<p>I used a third-party library named JWTDecode.Android <a href=\"https://github.com/auth0/JWTDecode.Android\" rel=\"nofollow noreferrer\">https://github.com/auth0/JWTDecode.Android</a>. The documentation is reasonably good. From your question, The sub, name, etc are a part of the body and are called Claims. You could get them like this using the above library:</p>\n<pre><code>JWT parsedJWT = new JWT(jwtToken);\nClaim subscriptionMetaData = parsedJWT.getClaim(&quot;name&quot;);\nString parsedValue = subscriptionMetaData.asString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5801459,"reputation":762,"user_id":4575505,"accept_rate":100,"display_name":"Thecave3"},"score":3,"creation_date":1517594518,"post_id":43987314,"comment_id":84173976,"body_markdown":"The issue with this is that is works only since API 26","body":"The issue with this is that is works only since API 26"}],"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1494876242,"creation_date":1494876242,"answer_id":43987314,"question_id":37695877,"body_markdown":"This works using Java 8&#39;s Base64 class:\r\n\r\n\r\n    public String getDecodedJwt(String jwt)\r\n    {\r\n      String result = &quot;&quot;;\r\n    \r\n      String[] parts = jwt.split(&quot;[.]&quot;);\r\n      try\r\n      {\r\n        int index = 0;\r\n        for(String part: parts)\r\n        {\r\n          if (index &gt;= 2)\r\n            break;\r\n    \r\n          index++;\r\n          byte[] partAsBytes = part.getBytes(&quot;UTF-8&quot;);\r\n          String decodedPart = new String(java.util.Base64.getUrlDecoder().decode(partAsBytes), &quot;UTF-8&quot;);\r\n    \r\n          result += decodedPart;\r\n        }\r\n      }\r\n      catch(Exception e)\r\n      {\r\n        throw new RuntimeException(&quot;Couldnt decode jwt&quot;, e);\r\n      }\r\n    \r\n      return result;\r\n    }\r\n\r\n\r\n","title":"How can I decode JWT token in android?","body":"<p>This works using Java 8's Base64 class:</p>\n\n<pre><code>public String getDecodedJwt(String jwt)\n{\n  String result = \"\";\n\n  String[] parts = jwt.split(\"[.]\");\n  try\n  {\n    int index = 0;\n    for(String part: parts)\n    {\n      if (index &gt;= 2)\n        break;\n\n      index++;\n      byte[] partAsBytes = part.getBytes(\"UTF-8\");\n      String decodedPart = new String(java.util.Base64.getUrlDecoder().decode(partAsBytes), \"UTF-8\");\n\n      result += decodedPart;\n    }\n  }\n  catch(Exception e)\n  {\n    throw new RuntimeException(\"Couldnt decode jwt\", e);\n  }\n\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076556,"reputation":64,"user_id":2605727,"display_name":"imdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560247735,"creation_date":1560247486,"answer_id":56541284,"question_id":37695877,"body_markdown":"If the project is already using AWSCognito SDK then `CognitoJWTParser` class can be used.\r\nIt has static methods `getHeader()`, `getPayload()`, `getSignature()`.\r\n\r\nhttps://github.com/aws-amplify/aws-sdk-android/blob/master/aws-android-sdk-cognitoidentityprovider/src/main/java/com/amazonaws/mobileconnectors/cognitoidentityprovider/util/CognitoJWTParser.java","title":"How can I decode JWT token in android?","body":"<p>If the project is already using AWSCognito SDK then <code>CognitoJWTParser</code> class can be used.\nIt has static methods <code>getHeader()</code>, <code>getPayload()</code>, <code>getSignature()</code>.</p>\n\n<p><a href=\"https://github.com/aws-amplify/aws-sdk-android/blob/master/aws-android-sdk-cognitoidentityprovider/src/main/java/com/amazonaws/mobileconnectors/cognitoidentityprovider/util/CognitoJWTParser.java\" rel=\"nofollow noreferrer\">https://github.com/aws-amplify/aws-sdk-android/blob/master/aws-android-sdk-cognitoidentityprovider/src/main/java/com/amazonaws/mobileconnectors/cognitoidentityprovider/util/CognitoJWTParser.java</a></p>\n"},{"tags":[],"owner":{"account_id":1607271,"reputation":133,"user_id":1487109,"display_name":"omniuni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602804801,"creation_date":1602804801,"answer_id":64380991,"question_id":37695877,"body_markdown":"Based partially on the code provided by [Brad Parks][1], adapted for use with lower versions of Android by using [Apache Commons][2] and converted to Kotlin:\r\n\r\nIn `build.gradle`:\r\n\r\n    implementation &#39;apache-codec:commons-codec:1.2&#39;\r\n\r\nIn a Kotlin class:\r\n\r\n    fun decodeToken(token: String): String{\r\n\t\tval tokenParts: Array&lt;String&gt; = token.split(&quot;.&quot;).toTypedArray()\r\n\t\tif(tokenParts.isEmpty()) return token\r\n\t\tvar decodedString = &quot;&quot;\r\n\t\tfor(part: String in tokenParts){\r\n\t\t\tval partByteArray: ByteArray =\r\n\t\t\t\tstringToFullBase64EncodedLength(part).toByteArray(Charsets.US_ASCII)\r\n\t\t\tval decodedPart = String(Base64.decodeBase64(partByteArray))\r\n\t\t\tdecodedString+=decodedPart\r\n\t\t\t// There are a maximum of two parts in an OAuth token,\r\n\t\t\t// and arrays are 0-indexed, so if the index is 1\r\n\t\t\t// we have processed the second part and should break.\r\n\t\t\tif(tokenParts.indexOf(part) == 1) break\r\n\t\t}\r\n\t\treturn decodedString\r\n\t}\r\n\r\n\tprivate fun stringToFullBase64EncodedLength(string: String): String{\r\n\r\n\t\t// A properly base64 encoded string must be divisible by 4\r\n\t\t// We&#39;ll pad it to the nearest multiple of 4 without losing data:\r\n\t\tval targetLength: Int = ( 4 * ceil( string.length.toDouble()/4 ) ).toInt()\r\n\r\n\t\t// Now, we get the difference, and add it with a reserved character (`=`)\r\n\t\t// to the end of the string. It will get removed later.\r\n\t\tval requiredPadding: Int =  targetLength-string.length\r\n\t\treturn string+&quot;=&quot;.repeat(requiredPadding)\r\n\r\n\t}\r\n\r\n\r\n[1]: https://stackoverflow.com/users/26510/brad-parks\r\n[2]: https://mvnrepository.com/artifact/commons-codec/commons-codec","title":"How can I decode JWT token in android?","body":"<p>Based partially on the code provided by <a href=\"https://stackoverflow.com/users/26510/brad-parks\">Brad Parks</a>, adapted for use with lower versions of Android by using <a href=\"https://mvnrepository.com/artifact/commons-codec/commons-codec\" rel=\"nofollow noreferrer\">Apache Commons</a> and converted to Kotlin:</p>\n<p>In <code>build.gradle</code>:</p>\n<pre><code>implementation 'apache-codec:commons-codec:1.2'\n</code></pre>\n<p>In a Kotlin class:</p>\n<pre><code>fun decodeToken(token: String): String{\n    val tokenParts: Array&lt;String&gt; = token.split(&quot;.&quot;).toTypedArray()\n    if(tokenParts.isEmpty()) return token\n    var decodedString = &quot;&quot;\n    for(part: String in tokenParts){\n        val partByteArray: ByteArray =\n            stringToFullBase64EncodedLength(part).toByteArray(Charsets.US_ASCII)\n        val decodedPart = String(Base64.decodeBase64(partByteArray))\n        decodedString+=decodedPart\n        // There are a maximum of two parts in an OAuth token,\n        // and arrays are 0-indexed, so if the index is 1\n        // we have processed the second part and should break.\n        if(tokenParts.indexOf(part) == 1) break\n    }\n    return decodedString\n}\n\nprivate fun stringToFullBase64EncodedLength(string: String): String{\n\n    // A properly base64 encoded string must be divisible by 4\n    // We'll pad it to the nearest multiple of 4 without losing data:\n    val targetLength: Int = ( 4 * ceil( string.length.toDouble()/4 ) ).toInt()\n\n    // Now, we get the difference, and add it with a reserved character (`=`)\n    // to the end of the string. It will get removed later.\n    val requiredPadding: Int =  targetLength-string.length\n    return string+&quot;=&quot;.repeat(requiredPadding)\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1215711,"reputation":921,"user_id":1183356,"accept_rate":44,"display_name":"Marty Miller"},"score":0,"creation_date":1692376104,"post_id":66089814,"comment_id":135619293,"body_markdown":"This worked perfectly, and I didn&#39;t have to import any libraries.  Thank you!","body":"This worked perfectly, and I didn&#39;t have to import any libraries.  Thank you!"}],"tags":[],"owner":{"account_id":476802,"reputation":8150,"user_id":887894,"accept_rate":56,"display_name":"Anonsage"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612712847,"creation_date":1612712847,"answer_id":66089814,"question_id":37695877,"body_markdown":"A no dependency version in Kotlin with Android SDK 26+ (Oreo):\r\n\r\n    fun extractJwt(jwt: String): String {\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) return &quot;Requires SDK 26&quot;\r\n        val parts = jwt.split(&quot;.&quot;)\r\n        return try {\r\n            val charset = charset(&quot;UTF-8&quot;)\r\n            val header = String(Base64.getUrlDecoder().decode(parts[0].toByteArray(charset)), charset)\r\n            val payload = String(Base64.getUrlDecoder().decode(parts[1].toByteArray(charset)), charset)\r\n            &quot;$header\\n$payload&quot;\r\n        } catch (e: Exception) {\r\n            &quot;Error parsing JWT: $e&quot;\r\n        }\r\n    }","title":"How can I decode JWT token in android?","body":"<p>A no dependency version in Kotlin with Android SDK 26+ (Oreo):</p>\n<pre><code>fun extractJwt(jwt: String): String {\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) return &quot;Requires SDK 26&quot;\n    val parts = jwt.split(&quot;.&quot;)\n    return try {\n        val charset = charset(&quot;UTF-8&quot;)\n        val header = String(Base64.getUrlDecoder().decode(parts[0].toByteArray(charset)), charset)\n        val payload = String(Base64.getUrlDecoder().decode(parts[1].toByteArray(charset)), charset)\n        &quot;$header\\n$payload&quot;\n    } catch (e: Exception) {\n        &quot;Error parsing JWT: $e&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10258436,"reputation":124,"user_id":7570616,"display_name":"PrimeSquid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632746535,"creation_date":1632746535,"answer_id":69346822,"question_id":37695877,"body_markdown":"If you are using the library `io.jsonwebtoken.Jwts`, then use the following snippet. It works for me.\r\n\r\n    try {\r\n            val claims: Claims =\r\n                Jwts.parser().setSigningKey(secretKey.toByteArray()).parseClaimsJws(token).body\r\n            return ConnectionClaim(claims[&quot;uid&quot;].toString(), claims[&quot;key&quot;].toString())\r\n\r\n     } catch (e: JwtException) {\r\n            e.printStackTrace()\r\n     }","title":"How can I decode JWT token in android?","body":"<p>If you are using the library <code>io.jsonwebtoken.Jwts</code>, then use the following snippet. It works for me.</p>\n<pre><code>try {\n        val claims: Claims =\n            Jwts.parser().setSigningKey(secretKey.toByteArray()).parseClaimsJws(token).body\n        return ConnectionClaim(claims[&quot;uid&quot;].toString(), claims[&quot;key&quot;].toString())\n\n } catch (e: JwtException) {\n        e.printStackTrace()\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1670070444,"post_id":72366826,"comment_id":131790085,"body_markdown":"Please, add imports.","body":"Please, add imports."}],"tags":[],"owner":{"account_id":12531580,"reputation":716,"user_id":9119669,"display_name":"Pouria Hemi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653411950,"creation_date":1653411950,"answer_id":72366826,"question_id":37695877,"body_markdown":"this code convert `JWT` to `String` and work on any `API`\r\n\r\n\r\n   \r\n\r\n     public static String getDecodedJwt(String jwt)\r\n       {\r\n          StringBuilder result = new StringBuilder();\r\n    \r\n          String[] parts = jwt.split(&quot;[.]&quot;);\r\n          try\r\n          {\r\n             int index = 0;\r\n             for(String part: parts)\r\n             {\r\n                if (index &gt;= 2)\r\n                   break;\r\n                index++;\r\n                 byte[] decodedBytes = Base64.decode(part.getBytes(&quot;UTF-8&quot;), Base64.URL_SAFE);\r\n                result.append(new String(decodedBytes, &quot;UTF-8&quot;));\r\n             }\r\n          }\r\n          catch(Exception e)\r\n          {\r\n             throw new RuntimeException(&quot;Couldnt decode jwt&quot;, e);\r\n          }\r\n    \r\n          return result.toString();\r\n       }\r\n\r\nExample : \r\n\r\n    JWTUtils.getDecodedJwt(&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c&quot;)\r\n\r\nAnd finally the resulting conversion\r\n\r\n\r\n    {&quot;alg&quot;:&quot;HS256&quot;,&quot;typ&quot;:&quot;JWT&quot;}{&quot;sub&quot;:&quot;1234567890&quot;,&quot;name&quot;:&quot;John Doe&quot;,&quot;iat&quot;:1516239022}","title":"How can I decode JWT token in android?","body":"<p>this code convert <code>JWT</code> to <code>String</code> and work on any <code>API</code></p>\n<pre><code> public static String getDecodedJwt(String jwt)\n   {\n      StringBuilder result = new StringBuilder();\n\n      String[] parts = jwt.split(&quot;[.]&quot;);\n      try\n      {\n         int index = 0;\n         for(String part: parts)\n         {\n            if (index &gt;= 2)\n               break;\n            index++;\n             byte[] decodedBytes = Base64.decode(part.getBytes(&quot;UTF-8&quot;), Base64.URL_SAFE);\n            result.append(new String(decodedBytes, &quot;UTF-8&quot;));\n         }\n      }\n      catch(Exception e)\n      {\n         throw new RuntimeException(&quot;Couldnt decode jwt&quot;, e);\n      }\n\n      return result.toString();\n   }\n</code></pre>\n<p>Example :</p>\n<pre><code>JWTUtils.getDecodedJwt(&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c&quot;)\n</code></pre>\n<p>And finally the resulting conversion</p>\n<pre><code>{&quot;alg&quot;:&quot;HS256&quot;,&quot;typ&quot;:&quot;JWT&quot;}{&quot;sub&quot;:&quot;1234567890&quot;,&quot;name&quot;:&quot;John Doe&quot;,&quot;iat&quot;:1516239022}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670084160,"creation_date":1670084160,"answer_id":74668414,"question_id":37695877,"body_markdown":"Almost all forgot to add imports and select **android.util.Base64**!\r\n\r\n    import android.util.Base64\r\n    import org.json.JSONException\r\n\r\n    // Json data class\r\n    data class Data(\r\n        val name: String?,\r\n        val nonce: String?,\r\n        // Other access_token fields\r\n    )\r\n\r\n    fun parseAccessToken(token: String): Data? {\r\n        return try {\r\n            val part = token.split(&quot;.&quot;)[1]\r\n            val s = decodeJwt(part)\r\n            // obj is an object of Gson or Moshi library\r\n            obj.fromJson(s)\r\n        } catch (e: Exception) {\r\n            null\r\n        }\r\n    }\r\n\r\n    @Throws(JSONException::class)\r\n    private fun decodeJwt(text: String): String {\r\n        val s = Base64.decode(text, Base64.URL_SAFE)\r\n        return String(s)\r\n    }\r\n","title":"How can I decode JWT token in android?","body":"<p>Almost all forgot to add imports and select <strong>android.util.Base64</strong>!</p>\n<pre><code>import android.util.Base64\nimport org.json.JSONException\n\n// Json data class\ndata class Data(\n    val name: String?,\n    val nonce: String?,\n    // Other access_token fields\n)\n\nfun parseAccessToken(token: String): Data? {\n    return try {\n        val part = token.split(&quot;.&quot;)[1]\n        val s = decodeJwt(part)\n        // obj is an object of Gson or Moshi library\n        obj.fromJson(s)\n    } catch (e: Exception) {\n        null\n    }\n}\n\n@Throws(JSONException::class)\nprivate fun decodeJwt(text: String): String {\n    val s = Base64.decode(text, Base64.URL_SAFE)\n    return String(s)\n}\n</code></pre>\n"}],"owner":{"account_id":8595876,"reputation":411,"user_id":6438917,"display_name":"aroM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60070,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":10,"score":41,"last_activity_date":1699404868,"creation_date":1465370779,"question_id":37695877,"body_markdown":"I have a [jwt][1] token like this \r\n\r\n    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\r\n\r\nHow can I decode this so that I can get the payload like this \r\n\r\n    {\r\n      &quot;sub&quot;: &quot;1234567890&quot;,\r\n      &quot;name&quot;: &quot;John Doe&quot;,\r\n      &quot;admin&quot;: true\r\n    }\r\n\r\nI have used [this][2]  library , but can&#39;t find a way to do what I want \r\n\r\n\r\n  [1]: https://jwt.io/\r\n  [2]: https://github.com/jwtk/jjwt","title":"How can I decode JWT token in android?","body":"<p>I have a <a href=\"https://jwt.io/\" rel=\"noreferrer\">jwt</a> token like this </p>\n\n<pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\n</code></pre>\n\n<p>How can I decode this so that I can get the payload like this </p>\n\n<pre><code>{\n  \"sub\": \"1234567890\",\n  \"name\": \"John Doe\",\n  \"admin\": true\n}\n</code></pre>\n\n<p>I have used <a href=\"https://github.com/jwtk/jjwt\" rel=\"noreferrer\">this</a>  library , but can't find a way to do what I want </p>\n"},{"tags":["java","spring-boot","google-alloydb"],"answers":[{"comments":[{"owner":{"account_id":2856668,"reputation":2398,"user_id":2452792,"accept_rate":60,"display_name":"Andre Araujo"},"score":0,"creation_date":1699403098,"post_id":77231318,"comment_id":136526592,"body_markdown":"This doesn&#39;t support IAM yet!","body":"This doesn&#39;t support IAM yet!"}],"tags":[],"owner":{"account_id":4328614,"reputation":3204,"user_id":3534690,"display_name":"Gabe Weiss"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696436480,"creation_date":1696436480,"answer_id":77231318,"question_id":77067883,"body_markdown":"Is this: https://github.com/GoogleCloudPlatform/alloydb-java-connector what you&#39;re looking for? It still leverages JDBC, but it has support for IAM authentication built into it, and you should be able to use default application credentials with it.","title":"What are the alternatives to using ADCs to authenticate to AlloyDB from a Spring Boot Java app?","body":"<p>Is this: <a href=\"https://github.com/GoogleCloudPlatform/alloydb-java-connector\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/alloydb-java-connector</a> what you're looking for? It still leverages JDBC, but it has support for IAM authentication built into it, and you should be able to use default application credentials with it.</p>\n"},{"tags":[],"owner":{"account_id":2856668,"reputation":2398,"user_id":2452792,"accept_rate":60,"display_name":"Andre Araujo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699403256,"creation_date":1699403256,"answer_id":77442205,"question_id":77067883,"body_markdown":"I have a workaround: refresh a short lived SA password when is needed.\r\n\r\n\r\n    package br.com.xyzservices.cloudSA;\r\n    \r\n    \r\n    import com.google.auth.oauth2.AccessToken;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    import com.zaxxer.hikari.HikariConfig;\r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CloudSqlAutoIamAuthnDataSource extends HikariDataSource {\r\n    \r\n        public CloudSqlAutoIamAuthnDataSource(HikariConfig configuration) {\r\n            super(configuration);\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            GoogleCredentials credentials;\r\n            try {\r\n                credentials = GoogleCredentials.getApplicationDefault();\r\n    \r\n            } catch (IOException err) {\r\n                throw new RuntimeException(\r\n                        &quot;Unable to obtain credentials to communicate with the Cloud SQL API&quot;, err);\r\n            }\r\n    \r\n            // Scope the token to ensure it&#39;s scoped to logins only.\r\n            GoogleCredentials scoped = credentials.createScoped(\r\n                    &quot;https://www.googleapis.com/auth/sqlservice.login&quot;);\r\n    \r\n            try {\r\n                scoped.refresh();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            AccessToken accessToken = scoped.getAccessToken();\r\n            return accessToken.getTokenValue();\r\n        }\r\n    }\r\n\r\nSource code: https://github.com/dedeco/spring-boot-app-sa-iam-based","title":"What are the alternatives to using ADCs to authenticate to AlloyDB from a Spring Boot Java app?","body":"<p>I have a workaround: refresh a short lived SA password when is needed.</p>\n<pre><code>package br.com.xyzservices.cloudSA;\n\n\nimport com.google.auth.oauth2.AccessToken;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\n\nimport java.io.IOException;\n\npublic class CloudSqlAutoIamAuthnDataSource extends HikariDataSource {\n\n    public CloudSqlAutoIamAuthnDataSource(HikariConfig configuration) {\n        super(configuration);\n    }\n\n    @Override\n    public String getPassword() {\n        GoogleCredentials credentials;\n        try {\n            credentials = GoogleCredentials.getApplicationDefault();\n\n        } catch (IOException err) {\n            throw new RuntimeException(\n                    &quot;Unable to obtain credentials to communicate with the Cloud SQL API&quot;, err);\n        }\n\n        // Scope the token to ensure it's scoped to logins only.\n        GoogleCredentials scoped = credentials.createScoped(\n                &quot;https://www.googleapis.com/auth/sqlservice.login&quot;);\n\n        try {\n            scoped.refresh();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        AccessToken accessToken = scoped.getAccessToken();\n        return accessToken.getTokenValue();\n    }\n}\n</code></pre>\n<p>Source code: <a href=\"https://github.com/dedeco/spring-boot-app-sa-iam-based\" rel=\"nofollow noreferrer\">https://github.com/dedeco/spring-boot-app-sa-iam-based</a></p>\n"}],"owner":{"account_id":2856668,"reputation":2398,"user_id":2452792,"accept_rate":60,"display_name":"Andre Araujo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77442205,"answer_count":2,"score":0,"last_activity_date":1699403256,"creation_date":1694184482,"question_id":77067883,"body_markdown":"In this thread https://www.googlecloudcommunity.com/gc/Databases/AlloyDB-ORM-Support/m-p/537212 some engineer from Google said that AlloyDb doesn&#39;t have support to spring boot natively and open sourced.\r\n\r\nSo, I can not handle use Application Default Credentials (https://cloud.google.com/docs/authentication/provide-credentials-adc#local-user-cred) and impersonate the SA.\r\n\r\nSo, Can someone confirm if i need to generates pass/user (https://cloud.google.com/iam/docs/create-short-lived-credentials-direct) is only way to proceed (using JDBC dependencies)?\r\n\r\n I was expecting use as cloud sql dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- Add CloudSQL Starter for PostgreSQL --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter-sql-postgresql&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"What are the alternatives to using ADCs to authenticate to AlloyDB from a Spring Boot Java app?","body":"<p>In this thread <a href=\"https://www.googlecloudcommunity.com/gc/Databases/AlloyDB-ORM-Support/m-p/537212\" rel=\"nofollow noreferrer\">https://www.googlecloudcommunity.com/gc/Databases/AlloyDB-ORM-Support/m-p/537212</a> some engineer from Google said that AlloyDb doesn't have support to spring boot natively and open sourced.</p>\n<p>So, I can not handle use Application Default Credentials (<a href=\"https://cloud.google.com/docs/authentication/provide-credentials-adc#local-user-cred\" rel=\"nofollow noreferrer\">https://cloud.google.com/docs/authentication/provide-credentials-adc#local-user-cred</a>) and impersonate the SA.</p>\n<p>So, Can someone confirm if i need to generates pass/user (<a href=\"https://cloud.google.com/iam/docs/create-short-lived-credentials-direct\" rel=\"nofollow noreferrer\">https://cloud.google.com/iam/docs/create-short-lived-credentials-direct</a>) is only way to proceed (using JDBC dependencies)?</p>\n<p>I was expecting use as cloud sql dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- Add CloudSQL Starter for PostgreSQL --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-sql-postgresql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":1065971,"reputation":1683,"user_id":1066531,"accept_rate":57,"display_name":"Zymus"},"score":0,"creation_date":1425511620,"post_id":28858298,"comment_id":45998923,"body_markdown":"Can you post the entire error?","body":"Can you post the entire error?"}],"answers":[{"tags":[],"owner":{"account_id":4946142,"reputation":21,"user_id":3981432,"display_name":"Gerardo Guijarro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425483689,"creation_date":1425483519,"answer_id":28858530,"question_id":28858298,"body_markdown":"This is what i do to include local jars.\r\n\r\nI place them in a app/libs folder.\r\n\r\nThen in the build.gradle (Module: app) looks like this:\r\n \r\n\r\n    dependencies {\r\n    \r\n        compile project(&#39;:protobuf&#39;)\r\n        compile files(&#39;libs/android-support-v13.jar&#39;)\r\n    \r\n    }\r\n\r\nWhere &quot;android-support-v13.jar&quot; is the jar file i previously placed in libs folder.\r\n\r\n","title":"How do I include a local jar dependency in Gradle?","body":"<p>This is what i do to include local jars.</p>\n\n<p>I place them in a app/libs folder.</p>\n\n<p>Then in the build.gradle (Module: app) looks like this:</p>\n\n<pre><code>dependencies {\n\n    compile project(':protobuf')\n    compile files('libs/android-support-v13.jar')\n\n}\n</code></pre>\n\n<p>Where \"android-support-v13.jar\" is the jar file i previously placed in libs folder.</p>\n"},{"tags":[],"owner":{"account_id":1248059,"reputation":83,"user_id":1209101,"display_name":"Yu Lu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425559748,"creation_date":1425510741,"answer_id":28866937,"question_id":28858298,"body_markdown":"I think the problem might be that you are using single quote in your file path. Single quoted String in Groovy does not do String interpolation so what you essentially get as your path is just `${buildDir}/dist/my-jar-${project.myVersion}.jar` itself, which is clearly not right.\r\n\r\nJust try double quotes like below:\r\n\r\n    dependencies {\r\n      compile files(&quot;${buildDir}/dist/my-jar-${project.myVersion}.jar&quot;) \r\n    }\r\n\r\nThe variables, &#39;buildDir&#39; and &#39;project.myVersion&#39;, will be substituted with the real value when the String is evaluated.\r\n\r\nTake a look at the Groovy documentation about [String and GString][1] and I&#39;m sure it&#39;ll be useful.\r\n\r\n\r\n  [1]: http://groovy.codehaus.org/Strings+and+GString","title":"How do I include a local jar dependency in Gradle?","body":"<p>I think the problem might be that you are using single quote in your file path. Single quoted String in Groovy does not do String interpolation so what you essentially get as your path is just <code>${buildDir}/dist/my-jar-${project.myVersion}.jar</code> itself, which is clearly not right.</p>\n\n<p>Just try double quotes like below:</p>\n\n<pre><code>dependencies {\n  compile files(\"${buildDir}/dist/my-jar-${project.myVersion}.jar\") \n}\n</code></pre>\n\n<p>The variables, 'buildDir' and 'project.myVersion', will be substituted with the real value when the String is evaluated.</p>\n\n<p>Take a look at the Groovy documentation about <a href=\"http://groovy.codehaus.org/Strings+and+GString\" rel=\"nofollow\">String and GString</a> and I'm sure it'll be useful.</p>\n"}],"owner":{"account_id":354956,"reputation":1238,"user_id":693614,"accept_rate":64,"display_name":"CDelaney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699402065,"creation_date":1425482938,"question_id":28858298,"body_markdown":"This must be fairly simple to accomplish, but I can&#39;t seem to get it right.\r\n\r\nI have a gradle task that creates a jar from some external classes, and my code is heavily dependent on those classes. When I try to build, I get errors from compileJava saying `package &lt;com.etc...&gt; does not exist` for the import lines in my classes.\r\n\r\nHere&#39;s the relevant code\r\n\r\n    project.ext.set(&quot;myVersion&quot;, &quot;v1&quot;)\r\n\r\n    dependencies {\r\n      // tried this, but it gives  me a circular dependency error for my compile &amp; zip tasks\r\n      compile files(&#39;${buildDir}/dist/my-jar-${project.myVersion}.jar&#39;) {\r\n          builtBy &#39;zipExternalClasses&#39;\r\n      }\r\n      // tried either of these, but still get package does not exist\r\n      compile files(&#39;${buildDir}/dist/my-jar-${project.myVersion}.jar&#39;) \r\n      runtime files(&#39;${buildDir}/dist/my-jar-${project.myVersion}.jar&#39;)\r\n    }\r\n\r\n\r\n    // The dependent task compileExternalClasses compiles the classes from a source folder\r\n    // I can see that the jar is successfully created in &#39;build/dist&#39;\r\n    task zipExternalClasses(dependsOn: &#39;compileExternalClasses&#39;, type: Jar) {\r\n        // code for zipping compiled external classes\r\n    }","title":"How do I include a local jar dependency in Gradle?","body":"<p>This must be fairly simple to accomplish, but I can't seem to get it right.</p>\n\n<p>I have a gradle task that creates a jar from some external classes, and my code is heavily dependent on those classes. When I try to build, I get errors from compileJava saying <code>package &lt;com.etc...&gt; does not exist</code> for the import lines in my classes.</p>\n\n<p>Here's the relevant code</p>\n\n<pre><code>project.ext.set(\"myVersion\", \"v1\")\n\ndependencies {\n  // tried this, but it gives  me a circular dependency error for my compile &amp; zip tasks\n  compile files('${buildDir}/dist/my-jar-${project.myVersion}.jar') {\n      builtBy 'zipExternalClasses'\n  }\n  // tried either of these, but still get package does not exist\n  compile files('${buildDir}/dist/my-jar-${project.myVersion}.jar') \n  runtime files('${buildDir}/dist/my-jar-${project.myVersion}.jar')\n}\n\n\n// The dependent task compileExternalClasses compiles the classes from a source folder\n// I can see that the jar is successfully created in 'build/dist'\ntask zipExternalClasses(dependsOn: 'compileExternalClasses', type: Jar) {\n    // code for zipping compiled external classes\n}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot","banner"],"comments":[{"owner":{"account_id":412894,"reputation":9674,"user_id":786223,"display_name":"Chris Nauroth"},"score":0,"creation_date":1451429334,"post_id":34519759,"comment_id":56782071,"body_markdown":"This worked fine for me.  I generated a project from start.spring.io.  Then, I added file src/main/resources/banner.txt, with contents referencing `${application.version}`.  Then, I reran `./mvnw clean package`.  Then, I ran `java -jar target/demo-0.0.1-SNAPSHOT.jar`.  It printed `0.0.1-SNAPSHOT` as expected.  If this is not working for you, do you want to provide more details, like perhaps your banner.txt file?","body":"This worked fine for me.  I generated a project from start.spring.io.  Then, I added file src/main/resources/banner.txt, with contents referencing <code>${application.version}</code>.  Then, I reran <code>.&#47;mvnw clean package</code>.  Then, I ran <code>java -jar target&#47;demo-0.0.1-SNAPSHOT.jar</code>.  It printed <code>0.0.1-SNAPSHOT</code> as expected.  If this is not working for you, do you want to provide more details, like perhaps your banner.txt file?"}],"answers":[{"comments":[{"owner":{"account_id":1615161,"reputation":6022,"user_id":1493081,"accept_rate":61,"display_name":"Alireza Mirian"},"score":4,"creation_date":1455525538,"post_id":34521123,"comment_id":58510778,"body_markdown":"It doesn&#39;t work for me even when running the jar file with java. Any idea why? I have this line inside my banner.txt file: `Version ${application.version}` which is shown exactly the same in the console","body":"It doesn&#39;t work for me even when running the jar file with java. Any idea why? I have this line inside my banner.txt file: <code>Version ${application.version}</code> which is shown exactly the same in the console"},{"owner":{"account_id":412894,"reputation":9674,"user_id":786223,"display_name":"Chris Nauroth"},"score":0,"creation_date":1455644734,"post_id":34521123,"comment_id":58576812,"body_markdown":"@AlirezaMirian, did you follow the exact same steps to build and execute that I described in my comment on the question?  That&#39;s working fine for me.  If that still doesn&#39;t work for you, then I&#39;m afraid I&#39;m out of ideas.  There must be something different in your environment, but I&#39;m not sure what.","body":"@AlirezaMirian, did you follow the exact same steps to build and execute that I described in my comment on the question?  That&#39;s working fine for me.  If that still doesn&#39;t work for you, then I&#39;m afraid I&#39;m out of ideas.  There must be something different in your environment, but I&#39;m not sure what."},{"owner":{"account_id":1531647,"reputation":2090,"user_id":1428716,"accept_rate":32,"display_name":"user1428716"},"score":0,"creation_date":1523449489,"post_id":34521123,"comment_id":86564918,"body_markdown":"If you package the spring-boot application as WebApp and deploy it on Liberty server it does not print the application version etc.","body":"If you package the spring-boot application as WebApp and deploy it on Liberty server it does not print the application version etc."}],"tags":[],"owner":{"account_id":412894,"reputation":9674,"user_id":786223,"display_name":"Chris Nauroth"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1547022754,"creation_date":1451434149,"answer_id":34521123,"question_id":34519759,"body_markdown":"&gt; Ok, the version gets printed if i build the project and run it via java -jar. But if i start the application within my IDE (IntelliJ IDEA) the version will not be printed.\r\n\r\nAccording to the Spring Boot documentation on [Customizing the Banner](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-banner), the value of `${application.version}` is taken from the jar manifest.\r\n\r\n&gt; The version number of your application as declared in MANIFEST.MF. For example Implementation-Version: 1.0 is printed as 1.0.\r\n\r\nWhen running from an IDE, it&#39;s typical for execution to occur against the class files compiled by the IDE.  The IDE typically doesn&#39;t go through a full cycle of building the whole jar with a manifest.  Therefore, there is no MANIFEST.MF available at runtime for substituting the value of `${application.version}`, and you&#39;re left with the bare token.\r\n\r\nThis is not a bug in your code, and you&#39;ve already seen that it works correctly when doing a full jar build.  If it&#39;s really important to fix this while running through the IDE, then you could consider setting up a custom build step that does go through the full jar build and manifest generation first.  That&#39;s probably overkill though.  The banner could be validated later outside the IDE by testing against a real release build of the jar.","title":"Application version does not show up in Spring Boot banner.txt","body":"<blockquote>\n  <p>Ok, the version gets printed if i build the project and run it via java -jar. But if i start the application within my IDE (IntelliJ IDEA) the version will not be printed.</p>\n</blockquote>\n\n<p>According to the Spring Boot documentation on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-banner\" rel=\"noreferrer\">Customizing the Banner</a>, the value of <code>${application.version}</code> is taken from the jar manifest.</p>\n\n<blockquote>\n  <p>The version number of your application as declared in MANIFEST.MF. For example Implementation-Version: 1.0 is printed as 1.0.</p>\n</blockquote>\n\n<p>When running from an IDE, it's typical for execution to occur against the class files compiled by the IDE.  The IDE typically doesn't go through a full cycle of building the whole jar with a manifest.  Therefore, there is no MANIFEST.MF available at runtime for substituting the value of <code>${application.version}</code>, and you're left with the bare token.</p>\n\n<p>This is not a bug in your code, and you've already seen that it works correctly when doing a full jar build.  If it's really important to fix this while running through the IDE, then you could consider setting up a custom build step that does go through the full jar build and manifest generation first.  That's probably overkill though.  The banner could be validated later outside the IDE by testing against a real release build of the jar.</p>\n"},{"tags":[],"owner":{"account_id":7825961,"reputation":185,"user_id":5917466,"display_name":"bolivier"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477044289,"creation_date":1477044289,"answer_id":40173774,"question_id":34519759,"body_markdown":"In my case, I look inside the manifest created by spring-boot-maven-plugin\r\nand there were no Implementation-version inside.\r\n\r\nTo add it, I add the plugin maven-jar-plugin in build.plugins section of my pom.xml. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n             &lt;archive&gt;\r\n                  &lt;manifestEntries&gt;\r\n                        &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\r\n                  &lt;/manifestEntries&gt;\r\n             &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter that as already mention before I can see the banner with the application version only when I do java -jar et not with my ide\r\n","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>In my case, I look inside the manifest created by spring-boot-maven-plugin\nand there were no Implementation-version inside.</p>\n\n<p>To add it, I add the plugin maven-jar-plugin in build.plugins section of my pom.xml. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;configuration&gt;\n         &lt;archive&gt;\n              &lt;manifestEntries&gt;\n                    &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\n              &lt;/manifestEntries&gt;\n         &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After that as already mention before I can see the banner with the application version only when I do java -jar et not with my ide</p>\n"},{"tags":[],"owner":{"account_id":2911666,"reputation":4689,"user_id":2495717,"accept_rate":88,"display_name":"ben3000"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1537244004,"creation_date":1537244004,"answer_id":52378838,"question_id":34519759,"body_markdown":"Just for reference, here&#39;s what I found works *for the command-line* in Spring Boot 2 with a Gradle-based project (using the Spring Boot Gradle plugin). Intellij’s console still doesn&#39;t work for me, but that [problem has been around for several years now][4].\r\n\r\nUsing the `jar` task wasn&#39;t working for me on a standard 2.0.5.RELEASE `build.gradle`, [because the `bootJar` task takes precedence][1]:\r\n\r\n&gt; By default, when the bootJar or bootWar tasks are configured, the jar or war tasks are disabled.\r\n\r\nSo I tried the `bootJar` task, and it works:\r\n\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\n    bootJar {\r\n        mainClassName = &#39;com.demo.Application&#39;\r\n        manifest {\r\n            attributes(&#39;Implementation-Title&#39;:   &#39;Demo Application&#39;,\r\n                       &#39;Implementation-Version&#39;: version)\r\n        }\r\n    }\r\n\r\nNote: There is no need for `mainClassName` and its equivalents [if you have only one main class][2]. The discovered or configured main class is automatically added to the MANIFEST.MF as &#39;Start-Class&#39;.\r\n\r\nOnce this is working, you can use `${application.title}` and `${application.version}` as usual in your [Spring Boot banner.txt file][3].\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-and-normal\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring-main-class\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-banner\r\n  [4]: https://stackoverflow.com/questions/28571678/intellij-idea-doesnt-intercept-jline-code-completion-in-bebug-mode","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>Just for reference, here's what I found works <em>for the command-line</em> in Spring Boot 2 with a Gradle-based project (using the Spring Boot Gradle plugin). Intellij’s console still doesn't work for me, but that <a href=\"https://stackoverflow.com/questions/28571678/intellij-idea-doesnt-intercept-jline-code-completion-in-bebug-mode\">problem has been around for several years now</a>.</p>\n\n<p>Using the <code>jar</code> task wasn't working for me on a standard 2.0.5.RELEASE <code>build.gradle</code>, <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-and-normal\" rel=\"noreferrer\">because the <code>bootJar</code> task takes precedence</a>:</p>\n\n<blockquote>\n  <p>By default, when the bootJar or bootWar tasks are configured, the jar or war tasks are disabled.</p>\n</blockquote>\n\n<p>So I tried the <code>bootJar</code> task, and it works:</p>\n\n<pre><code>version = '0.0.1-SNAPSHOT'\n\nbootJar {\n    mainClassName = 'com.demo.Application'\n    manifest {\n        attributes('Implementation-Title':   'Demo Application',\n                   'Implementation-Version': version)\n    }\n}\n</code></pre>\n\n<p>Note: There is no need for <code>mainClassName</code> and its equivalents <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#packaging-executable-configuring-main-class\" rel=\"noreferrer\">if you have only one main class</a>. The discovered or configured main class is automatically added to the MANIFEST.MF as 'Start-Class'.</p>\n\n<p>Once this is working, you can use <code>${application.title}</code> and <code>${application.version}</code> as usual in your <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-banner\" rel=\"noreferrer\">Spring Boot banner.txt file</a>.</p>\n"},{"tags":[],"owner":{"account_id":14687064,"reputation":1,"user_id":10606735,"display_name":"NotLikeNames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541405817,"creation_date":1541405817,"answer_id":53150601,"question_id":34519759,"body_markdown":"For me works perfectly replace texts on mvn build by:\r\n\r\n&gt; com.google.code.maven-replacer-plugin\r\n\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;replacer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.3&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;replace&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;file&gt;target/classes/banner.txt&lt;/file&gt;\r\n          &lt;replacements&gt;\r\n            &lt;replacement&gt;\r\n              &lt;token&gt;application.title&lt;/token&gt;\r\n              &lt;value&gt;${artifactId}&lt;/value&gt;\r\n            &lt;/replacement&gt;\r\n            &lt;replacement&gt;\r\n              &lt;token&gt;application.version&lt;/token&gt;\r\n              &lt;value&gt;${version}&lt;/value&gt;\r\n            &lt;/replacement&gt;\r\n          &lt;/replacements&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nYes I did remove ${} from banner.txt","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>For me works perfectly replace texts on mvn build by:</p>\n\n<blockquote>\n  <p>com.google.code.maven-replacer-plugin</p>\n</blockquote>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;replacer&lt;/artifactId&gt;\n    &lt;version&gt;1.5.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;prepare-package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;replace&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;file&gt;target/classes/banner.txt&lt;/file&gt;\n      &lt;replacements&gt;\n        &lt;replacement&gt;\n          &lt;token&gt;application.title&lt;/token&gt;\n          &lt;value&gt;${artifactId}&lt;/value&gt;\n        &lt;/replacement&gt;\n        &lt;replacement&gt;\n          &lt;token&gt;application.version&lt;/token&gt;\n          &lt;value&gt;${version}&lt;/value&gt;\n        &lt;/replacement&gt;\n      &lt;/replacements&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>Yes I did remove ${} from banner.txt</p>\n"},{"comments":[{"owner":{"account_id":8013531,"reputation":191,"user_id":6044526,"display_name":"kitekat"},"score":1,"creation_date":1666947278,"post_id":53671036,"comment_id":131059725,"body_markdown":"This worked fine for me with no adaptation in name &lt;include&gt;application.properties&lt;/include&gt; even though my properties-file reads application.yml","body":"This worked fine for me with no adaptation in name &lt;include&gt;application.properties&lt;/include&gt; even though my properties-file reads application.yml"},{"owner":{"account_id":8013531,"reputation":191,"user_id":6044526,"display_name":"kitekat"},"score":0,"creation_date":1666947633,"post_id":53671036,"comment_id":131059830,"body_markdown":"I see the version info in the Banner in IntelliJ without building a JAR, anyhow project is set up to build a WAR.","body":"I see the version info in the Banner in IntelliJ without building a JAR, anyhow project is set up to build a WAR."}],"tags":[],"owner":{"account_id":1360573,"reputation":581,"user_id":1298031,"display_name":"Nicolas Dos Santos"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1544191083,"creation_date":1544191083,"answer_id":53671036,"question_id":34519759,"body_markdown":"Another solution:\r\n\r\nUse the maven resources plugin to &quot;filter&quot; (replace) properties in resource files.\r\n\r\nIn the pom, activate resources filtering with the following definition:\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;application.properties&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n\r\nIn the application.properties file:\r\n\r\n    info.app.name=@project.artifactId@\r\n    info.app.version=@project.version@\r\n\r\nIn the banner.txt file:\r\n\r\n    ${info.app.name} (${info.app.version})\r\n","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>Another solution:</p>\n\n<p>Use the maven resources plugin to \"filter\" (replace) properties in resource files.</p>\n\n<p>In the pom, activate resources filtering with the following definition:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;application.properties&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>In the application.properties file:</p>\n\n<pre><code>info.app.name=@project.artifactId@\ninfo.app.version=@project.version@\n</code></pre>\n\n<p>In the banner.txt file:</p>\n\n<pre><code>${info.app.name} (${info.app.version})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1550570324,"post_id":54762970,"comment_id":96307133,"body_markdown":"Can you please add an example.","body":"Can you please add an example."},{"owner":{"account_id":1832727,"reputation":21,"user_id":1663761,"display_name":"ManjuGH"},"score":0,"creation_date":1551099394,"post_id":54762970,"comment_id":96503760,"body_markdown":"https://www.boraji.com/spring-boot-changing-the-default-banner-example  please refer this example","body":"<a href=\"https://www.boraji.com/spring-boot-changing-the-default-banner-example\" rel=\"nofollow noreferrer\">boraji.com/spring-boot-changing-the-default-banner-example</a>  please refer this example"}],"tags":[],"owner":{"account_id":1832727,"reputation":21,"user_id":1663761,"display_name":"ManjuGH"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550569039,"creation_date":1550569039,"answer_id":54762970,"question_id":34519759,"body_markdown":"Basically  ${application.title}  ${application.formatted-version} values are picked from the manifest file of the packaged jar file. so i am not sure we can really print them during build life cycle of the project.[enter link description here][1]\r\n\r\nyou can refer below example\r\n\r\n  [1]: https://www.boraji.com/spring-boot-changing-the-default-banner-example","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>Basically  ${application.title}  ${application.formatted-version} values are picked from the manifest file of the packaged jar file. so i am not sure we can really print them during build life cycle of the project.<a href=\"https://www.boraji.com/spring-boot-changing-the-default-banner-example\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<p>you can refer below example</p>\n"},{"tags":[],"owner":{"account_id":3686681,"reputation":359,"user_id":3070319,"display_name":"spx01"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1599115078,"creation_date":1599115078,"answer_id":63718125,"question_id":34519759,"body_markdown":"You can also use resource filtering in banner.txt. Just use ${project.version} in banner.txt\r\n\r\nExample for maven:\r\n```\r\n&lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;banner.txt&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n```","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>You can also use resource filtering in banner.txt. Just use ${project.version} in banner.txt</p>\n<p>Example for maven:</p>\n<pre><code>&lt;resources&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;banner.txt&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9754586,"reputation":161,"user_id":7231760,"display_name":"BENMOHAMED Charfeddine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699401277,"creation_date":1699401277,"answer_id":77442119,"question_id":34519759,"body_markdown":"I used another way may be can be helpful ,You can add a plugin in pom.xml\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-resources&lt;/id&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                            &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\r\n                            &lt;delimiters&gt;\r\n                                &lt;delimiter&gt;#&lt;/delimiter&gt;\r\n                            &lt;/delimiters&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;*.yml&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/resource&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;*.yml&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnd create a banner.txt under resources like \r\n\r\n    ,------.,--.   ,--.  ,---.  ,--.   ,--.,------. ,--.   ,------. \r\n    |  .---&#39; \\  `.&#39;  /  /  O  \\ |   `.&#39;   ||  .--. &#39;|  |   |  .---&#39; \r\n    |  `--,   .&#39;    \\  |  .-.  ||  |&#39;.&#39;|  ||  &#39;--&#39; ||  |   |  `--,  \r\n    |  `---. /  .&#39;.  \\ |  | |  ||  |   |  ||  | --&#39; |  &#39;--.|  `---. \r\n    `------&#39;&#39;--&#39;   &#39;--&#39;`--&#39; `--&#39;`--&#39;   `--&#39;`--&#39;     `-----&#39;`------&#39; \r\n                                                                    \r\n    ${application.title} ${application.version}\r\n\r\nand assert in your application.yml file you have the properties\r\n\r\n    application:\r\n      title: Hello\r\n      version: V1","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>I used another way may be can be helpful ,You can add a plugin in pom.xml</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-resources&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                        &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\n                        &lt;delimiters&gt;\n                            &lt;delimiter&gt;#&lt;/delimiter&gt;\n                        &lt;/delimiters&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;*.yml&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n                                &lt;filtering&gt;false&lt;/filtering&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;*.yml&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>And create a banner.txt under resources like</p>\n<pre><code>,------.,--.   ,--.  ,---.  ,--.   ,--.,------. ,--.   ,------. \n|  .---' \\  `.'  /  /  O  \\ |   `.'   ||  .--. '|  |   |  .---' \n|  `--,   .'    \\  |  .-.  ||  |'.'|  ||  '--' ||  |   |  `--,  \n|  `---. /  .'.  \\ |  | |  ||  |   |  ||  | --' |  '--.|  `---. \n`------''--'   '--'`--' `--'`--'   `--'`--'     `-----'`------' \n                                                                \n${application.title} ${application.version}\n</code></pre>\n<p>and assert in your application.yml file you have the properties</p>\n<pre><code>application:\n  title: Hello\n  version: V1\n</code></pre>\n"}],"owner":{"account_id":3446839,"reputation":574,"user_id":2887472,"accept_rate":100,"display_name":"pas2al"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47029,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":34521123,"answer_count":8,"score":43,"last_activity_date":1699401277,"creation_date":1451426380,"question_id":34519759,"body_markdown":"The application version defined in the banner.txt does not show up on console, when running the application. It is defined according to the [docs of Spring Boot][1] \r\n\r\n    ${application.version}\r\n\r\nThe project uses the spring-boot-starter-parent as parent pom (Basic project setup from [start.spring.io][2])\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-banner\r\n  [2]: http://start.spring.io/","title":"Application version does not show up in Spring Boot banner.txt","body":"<p>The application version defined in the banner.txt does not show up on console, when running the application. It is defined according to the <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-banner\" rel=\"noreferrer\">docs of Spring Boot</a> </p>\n\n<pre><code>${application.version}\n</code></pre>\n\n<p>The project uses the spring-boot-starter-parent as parent pom (Basic project setup from <a href=\"http://start.spring.io/\" rel=\"noreferrer\">start.spring.io</a>)</p>\n"},{"tags":["java","spring","maven","spring-boot","environment-variables"],"comments":[{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":4,"creation_date":1495030455,"post_id":44026687,"comment_id":75081078,"body_markdown":"You can use properties from application.yml or applications.properties in banner.txt like this ${my.custom.property}","body":"You can use properties from application.yml or applications.properties in banner.txt like this ${my.custom.property}"},{"owner":{"account_id":7202832,"reputation":363,"user_id":7182480,"accept_rate":12,"display_name":"neelrotno"},"score":0,"creation_date":1495039392,"post_id":44026687,"comment_id":75087505,"body_markdown":"Thanks @IssamEL-ATIF\nActually, I want to place some variables into the banner.txt file from a class of my project. Would you please tell me how can I get those class variable in the banner.txt file? #Sorry for my bad English","body":"Thanks @IssamEL-ATIF Actually, I want to place some variables into the banner.txt file from a class of my project. Would you please tell me how can I get those class variable in the banner.txt file? #Sorry for my bad English"},{"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"score":0,"creation_date":1495093400,"post_id":44026687,"comment_id":75109082,"body_markdown":"How do you run the application?","body":"How do you run the application?"},{"owner":{"account_id":7202832,"reputation":363,"user_id":7182480,"accept_rate":12,"display_name":"neelrotno"},"score":0,"creation_date":1495093632,"post_id":44026687,"comment_id":75109234,"body_markdown":"In ubuntu terminal `mvn clean install` then `mvn test -DskipTests=false`","body":"In ubuntu terminal <code>mvn clean install</code> then <code>mvn test -DskipTests=false</code>"}],"answers":[{"tags":[],"owner":{"account_id":6271315,"reputation":395,"user_id":4875473,"display_name":"Nathan Niesen"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1538674803,"creation_date":1538674803,"answer_id":52652559,"question_id":44026687,"body_markdown":"This is one way:\r\n\r\n    @SpringBootApplication\r\n    public class BootApplication extends SpringBootServletInitializer {\r\n    \r\n        public static void main(final String[] args) {\r\n            SpringApplication springApplication = new SpringApplication(BootApplication.class);\r\n            springApplication.setBanner(new CustomBanner());\r\n            springApplication.run(args);\r\n        }\r\n    \r\n        private static class CustomBanner implements Banner {\r\n            //@formatter:off\r\n            private static final String[] BANNER = {\r\n                    &quot;  ______          &quot;,\r\n                    &quot; |  ____|         &quot;,\r\n                    &quot; | |__ ___   ___  &quot;,\r\n                    &quot; |  __/ _ \\\\ / _ \\\\ &quot;,\r\n                    &quot; | | | (_) | (_) |&quot;,\r\n                    &quot; |_|  \\\\___/ \\\\___/ &quot;,\r\n                    &quot;                  &quot;\r\n            };\r\n            //@formatter:on\r\n    \r\n            private static final String SPRING_BOOT = &quot; :: Spring Boot :: &quot;;\r\n    \r\n            @Override\r\n            public void printBanner(final Environment environment, final Class&lt;?&gt; sourceClass, final PrintStream printStream) {\r\n                String padding = &quot;&quot;;\r\n                for (String line : BANNER) {\r\n                    printStream.println(line);\r\n                }\r\n                AppProfile appProfile = new AppProfile();\r\n                printStream.println(AnsiOutput.toString(AnsiColor.YELLOW, appProfile.title, AnsiColor.DEFAULT, padding, AnsiStyle.FAINT,\r\n                        appProfile.version));\r\n                printStream.println(AnsiOutput.toString(AnsiColor.GREEN, SPRING_BOOT, AnsiColor.DEFAULT, padding, AnsiStyle.FAINT,\r\n                        SpringBootVersion.getVersion()));\r\n                printStream.println();\r\n            }\r\n    \r\n        }\r\n    \r\n        private static class AppProfile {\r\n            public String title = &quot; :: Foo App :: &quot;;\r\n            public String version = &quot;4.2.12.123&quot;;\r\n        }\r\n    }","title":"Show custom variable in Spring Boot Banner","body":"<p>This is one way:</p>\n\n<pre><code>@SpringBootApplication\npublic class BootApplication extends SpringBootServletInitializer {\n\n    public static void main(final String[] args) {\n        SpringApplication springApplication = new SpringApplication(BootApplication.class);\n        springApplication.setBanner(new CustomBanner());\n        springApplication.run(args);\n    }\n\n    private static class CustomBanner implements Banner {\n        //@formatter:off\n        private static final String[] BANNER = {\n                \"  ______          \",\n                \" |  ____|         \",\n                \" | |__ ___   ___  \",\n                \" |  __/ _ \\\\ / _ \\\\ \",\n                \" | | | (_) | (_) |\",\n                \" |_|  \\\\___/ \\\\___/ \",\n                \"                  \"\n        };\n        //@formatter:on\n\n        private static final String SPRING_BOOT = \" :: Spring Boot :: \";\n\n        @Override\n        public void printBanner(final Environment environment, final Class&lt;?&gt; sourceClass, final PrintStream printStream) {\n            String padding = \"\";\n            for (String line : BANNER) {\n                printStream.println(line);\n            }\n            AppProfile appProfile = new AppProfile();\n            printStream.println(AnsiOutput.toString(AnsiColor.YELLOW, appProfile.title, AnsiColor.DEFAULT, padding, AnsiStyle.FAINT,\n                    appProfile.version));\n            printStream.println(AnsiOutput.toString(AnsiColor.GREEN, SPRING_BOOT, AnsiColor.DEFAULT, padding, AnsiStyle.FAINT,\n                    SpringBootVersion.getVersion()));\n            printStream.println();\n        }\n\n    }\n\n    private static class AppProfile {\n        public String title = \" :: Foo App :: \";\n        public String version = \"4.2.12.123\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3857021,"reputation":729,"user_id":3195676,"display_name":"MrKulli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548954097,"creation_date":1548954097,"answer_id":54465697,"question_id":44026687,"body_markdown":"Spring gives capability to override banner by adding banner.txt file in your application. Add your custom logo banner text to /src/main/resources/banner.txt file.\r\n\r\nBelow is the cool tool to generate banner text.\r\n\r\nhttps://devops.datenkollektiv.de/banner.txt/index.html","title":"Show custom variable in Spring Boot Banner","body":"<p>Spring gives capability to override banner by adding banner.txt file in your application. Add your custom logo banner text to /src/main/resources/banner.txt file.</p>\n\n<p>Below is the cool tool to generate banner text.</p>\n\n<p><a href=\"https://devops.datenkollektiv.de/banner.txt/index.html\" rel=\"nofollow noreferrer\">https://devops.datenkollektiv.de/banner.txt/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":9754586,"reputation":161,"user_id":7231760,"display_name":"BENMOHAMED Charfeddine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699401217,"creation_date":1699401217,"answer_id":77442116,"question_id":44026687,"body_markdown":"You can add a plugin in pom.xml\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-resources&lt;/id&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                            &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\r\n                            &lt;delimiters&gt;\r\n                                &lt;delimiter&gt;#&lt;/delimiter&gt;\r\n                            &lt;/delimiters&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;*.yml&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/resource&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;*.yml&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnd create a banner.txt under resources like \r\n\r\n    ,------.,--.   ,--.  ,---.  ,--.   ,--.,------. ,--.   ,------. \r\n    |  .---&#39; \\  `.&#39;  /  /  O  \\ |   `.&#39;   ||  .--. &#39;|  |   |  .---&#39; \r\n    |  `--,   .&#39;    \\  |  .-.  ||  |&#39;.&#39;|  ||  &#39;--&#39; ||  |   |  `--,  \r\n    |  `---. /  .&#39;.  \\ |  | |  ||  |   |  ||  | --&#39; |  &#39;--.|  `---. \r\n    `------&#39;&#39;--&#39;   &#39;--&#39;`--&#39; `--&#39;`--&#39;   `--&#39;`--&#39;     `-----&#39;`------&#39; \r\n                                                                    \r\n    ${application.title} ${application.version}\r\n\r\nand assert in your application.yml file you have the properties\r\n\r\n    application:\r\n      title: Hello\r\n      version: V1","title":"Show custom variable in Spring Boot Banner","body":"<p>You can add a plugin in pom.xml</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-resources&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                        &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;\n                        &lt;delimiters&gt;\n                            &lt;delimiter&gt;#&lt;/delimiter&gt;\n                        &lt;/delimiters&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;*.yml&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n                                &lt;filtering&gt;false&lt;/filtering&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;*.yml&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>And create a banner.txt under resources like</p>\n<pre><code>,------.,--.   ,--.  ,---.  ,--.   ,--.,------. ,--.   ,------. \n|  .---' \\  `.'  /  /  O  \\ |   `.'   ||  .--. '|  |   |  .---' \n|  `--,   .'    \\  |  .-.  ||  |'.'|  ||  '--' ||  |   |  `--,  \n|  `---. /  .'.  \\ |  | |  ||  |   |  ||  | --' |  '--.|  `---. \n`------''--'   '--'`--' `--'`--'   `--'`--'     `-----'`------' \n                                                                \n${application.title} ${application.version}\n</code></pre>\n<p>and assert in your application.yml file you have the properties</p>\n<pre><code>application:\n  title: Hello\n  version: V1\n</code></pre>\n"}],"owner":{"account_id":7202832,"reputation":363,"user_id":7182480,"accept_rate":12,"display_name":"neelrotno"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699401217,"creation_date":1495028693,"question_id":44026687,"body_markdown":"I want to customize spring boot banner in my Spring Boot Application. I want to show custom variable in my banner. \r\n\r\n    class AppProfile {\r\n\r\n        String title;\r\n        String version;\r\n\r\n        //getter-setter and all other stafs\r\n        ......................\r\n        ......................\r\n        ......................\r\n\r\n    }\r\nHow can I show the title, version in my Spring Boot Banner?","title":"Show custom variable in Spring Boot Banner","body":"<p>I want to customize spring boot banner in my Spring Boot Application. I want to show custom variable in my banner. </p>\n\n<pre><code>class AppProfile {\n\n    String title;\n    String version;\n\n    //getter-setter and all other stafs\n    ......................\n    ......................\n    ......................\n\n}\n</code></pre>\n\n<p>How can I show the title, version in my Spring Boot Banner?</p>\n"},{"tags":["java","c#","proxy","netty","raknet"],"comments":[{"owner":{"account_id":3825161,"reputation":613,"user_id":3172137,"accept_rate":65,"display_name":"Mantracker"},"score":0,"creation_date":1520789721,"post_id":45607877,"comment_id":85449528,"body_markdown":"Try asking your question at https://www.slikesoft.com/forum/ and see if anyone can help you with it","body":"Try asking your question at <a href=\"https://www.slikesoft.com/forum/\" rel=\"nofollow noreferrer\">slikesoft.com/forum</a> and see if anyone can help you with it"}],"answers":[{"tags":[],"owner":{"account_id":4158511,"reputation":423,"user_id":3409092,"display_name":"percygrunwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699401053,"creation_date":1699400709,"answer_id":77442085,"question_id":45607877,"body_markdown":"I recently discovered [this page](https://wiki.vg/Raknet_Protocol), which lists a number of libraries for RakNet, of which I assume some could be used to build a RakNet proxy. That page also has a good description of the different packets that make up the various communication that occurs. It&#39;s been really useful for me in conjunction with a packet capture viewed in WireShark (which identifies and decodes RakNet packets).\r\n\r\nI also found this project in golang: [Sandertv/go-raknet](https://wiki.vg/Raknet_Protocol), which mentions it could be used to implement a proxy.","title":"How to make a proxy for an existing Raknet Application","body":"<p>I recently discovered <a href=\"https://wiki.vg/Raknet_Protocol\" rel=\"nofollow noreferrer\">this page</a>, which lists a number of libraries for RakNet, of which I assume some could be used to build a RakNet proxy. That page also has a good description of the different packets that make up the various communication that occurs. It's been really useful for me in conjunction with a packet capture viewed in WireShark (which identifies and decodes RakNet packets).</p>\n<p>I also found this project in golang: <a href=\"https://wiki.vg/Raknet_Protocol\" rel=\"nofollow noreferrer\">Sandertv/go-raknet</a>, which mentions it could be used to implement a proxy.</p>\n"}],"owner":{"account_id":6867403,"reputation":800,"user_id":5279269,"accept_rate":88,"display_name":"Ryan_DS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699401053,"creation_date":1502352350,"question_id":45607877,"body_markdown":"I am currently trying to make a proxy for an application that uses the Raknet protocol. I want to to have the ability to receive the client connection, log/manipulate it and send it to the server, but I&#39;m having difficulties replicating the protocol. I am preferably trying to do this in Java, but I wouldn&#39;t mind switching languages if I need to.\r\n\r\nI tried using a standard Java socket and a Netty socket, but when I try to immediately forward a connection, it is refused. \r\n\r\nCan anyone help me by pointing me in the right direction to replicating the protocol? \r\n\r\nI can provide packets I captured from Wireshark if needed. ","title":"How to make a proxy for an existing Raknet Application","body":"<p>I am currently trying to make a proxy for an application that uses the Raknet protocol. I want to to have the ability to receive the client connection, log/manipulate it and send it to the server, but I'm having difficulties replicating the protocol. I am preferably trying to do this in Java, but I wouldn't mind switching languages if I need to.</p>\n\n<p>I tried using a standard Java socket and a Netty socket, but when I try to immediately forward a connection, it is refused. </p>\n\n<p>Can anyone help me by pointing me in the right direction to replicating the protocol? </p>\n\n<p>I can provide packets I captured from Wireshark if needed. </p>\n"},{"tags":["java","spring-webflux","project-reactor","vavr"],"comments":[{"owner":{"account_id":7840259,"reputation":2347,"user_id":5927073,"accept_rate":100,"display_name":"beastlyCoder"},"score":0,"creation_date":1597888577,"post_id":63497038,"comment_id":112281858,"body_markdown":"If you notice in the error, it&#39;s saying you are passing in an Object, versus the desired value of a String, make sure you are passing in the correct values","body":"If you notice in the error, it&#39;s saying you are passing in an Object, versus the desired value of a String, make sure you are passing in the correct values"},{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":0,"creation_date":1597891747,"post_id":63497038,"comment_id":112282388,"body_markdown":"@beastlyCoder  I passed a string `&quot;ERROR&quot;` into the left of Either. A string object in fact is an Object, and the integer object also is.","body":"@beastlyCoder  I passed a string <code>&quot;ERROR&quot;</code> into the left of Either. A string object in fact is an Object, and the integer object also is."}],"answers":[{"comments":[{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":0,"creation_date":1597903824,"post_id":63498888,"comment_id":112285045,"body_markdown":"Thanks a lot and it works. However, when comparing with the `testEither` method, the compiler does also not know the type of `Right` when returning `Either.left(&quot;Wrong&quot;)`, but the type inference works perfectly in the case. Does it mean there are issues of type inference in `reactor`?","body":"Thanks a lot and it works. However, when comparing with the <code>testEither</code> method, the compiler does also not know the type of <code>Right</code> when returning <code>Either.left(&quot;Wrong&quot;)</code>, but the type inference works perfectly in the case. Does it mean there are issues of type inference in <code>reactor</code>?"},{"owner":{"account_id":196875,"reputation":350,"user_id":440565,"display_name":"Hinse ter Schuur"},"score":0,"creation_date":1597911639,"post_id":63498888,"comment_id":112288342,"body_markdown":"I&#39;m not an expert on the topic of type inference. I don&#39;t think that it&#39;s reactor specific. My guess would be that it has to do with the fact that the type inference has to deal with two &#39;levels&#39; of type inference. \nSo type inference would have had similar issue if the `Either` was wrapped in, for example, a Vavr `Optional` instead of a `Mono`.","body":"I&#39;m not an expert on the topic of type inference. I don&#39;t think that it&#39;s reactor specific. My guess would be that it has to do with the fact that the type inference has to deal with two &#39;levels&#39; of type inference.  So type inference would have had similar issue if the <code>Either</code> was wrapped in, for example, a Vavr <code>Optional</code> instead of a <code>Mono</code>."},{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":1,"creation_date":1597915390,"post_id":63498888,"comment_id":112290137,"body_markdown":"Thanks very much for your clue, and it seems that the case is indeed a limitation of java type inference. I added some (useful) links in the question.","body":"Thanks very much for your clue, and it seems that the case is indeed a limitation of java type inference. I added some (useful) links in the question."}],"tags":[],"owner":{"account_id":196875,"reputation":350,"user_id":440565,"display_name":"Hinse ter Schuur"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597901807,"creation_date":1597901807,"answer_id":63498888,"question_id":63497038,"body_markdown":"The second example seems to &#39;lose&#39; the type information for the left side when the `map(Either::right)` is applied.\r\n\r\nAdding some type &#39;hints&#39; to the map method call should do the trick. So the testReactorEither will look like this:\r\n\r\n```java\r\npublic Mono&lt;Either&lt;String, Integer&gt;&gt; testReactorEither(int s) {\r\n    return Mono.just(s)\r\n            .filter(x -&gt; x == 0)\r\n            .&lt;Either&lt;String, Integer&gt;&gt;map(Either::right)\r\n            .switchIfEmpty(Mono.just(Either.left(&quot;ERROR&quot;)));\r\n}\r\n```","title":"Unexpected return type of vavr&#39;s Either in reactor","body":"<p>The second example seems to 'lose' the type information for the left side when the <code>map(Either::right)</code> is applied.</p>\n<p>Adding some type 'hints' to the map method call should do the trick. So the testReactorEither will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;Either&lt;String, Integer&gt;&gt; testReactorEither(int s) {\n    return Mono.just(s)\n            .filter(x -&gt; x == 0)\n            .&lt;Either&lt;String, Integer&gt;&gt;map(Either::right)\n            .switchIfEmpty(Mono.just(Either.left(&quot;ERROR&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63498888,"answer_count":1,"score":1,"last_activity_date":1699400826,"creation_date":1597886491,"question_id":63497038,"body_markdown":"There are two simple methods using vavr&#39;s Either.\r\n\r\n    public Either&lt;String, Integer&gt; testEither(int s) {\r\n        if (s == 0)\r\n            return Either.left(&quot;Wrong&quot;);\r\n        return Either.right(s);\r\n    }\r\n\r\n    public Mono&lt;Either&lt;String, Integer&gt;&gt; testReactorEither(int s) {\r\n        return Mono.just(s).filter(x -&gt; x == 0).map(Either::right)\r\n                .switchIfEmpty(Mono.just(Either.left(&quot;ERROR&quot;)));\r\n    }\r\n\r\nThe `testEither` works normally, but meanwhile,  the `testReactorEither` raises a compile error of &quot;incompatible types&quot; which says the provided return type of `reactor.core.publisher.Mono&lt;io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;` is incompatible with required return of `reactor.core.publisher.Mono&lt;io.vavr.control.Either&lt;java.lang.String,java.lang.Integer&gt;&gt;`.\r\n\r\nI&#39;m afraid the problem is just because the method of `map(Either::right)` just defines the `Right` type of `Integer` but not do the `Left` type, and then the return type of the method is `Either&lt;?, Integer&gt;`. Then the question is how I can get the expected return type in this case?  \r\n\r\n[UPDATED]\r\n\r\nAs Hinse mentioned in his comment, the issue is related to the limitation of Java type inference, and some links I found for the problem is listed as follows:\r\n\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=511252\r\n\r\nhttps://e.printstacktrace.blog/java-type-inference-generic-methods-chain-call/\r\n\r\nhttps://openjdk.java.net/jeps/101","title":"Unexpected return type of vavr&#39;s Either in reactor","body":"<p>There are two simple methods using vavr's Either.</p>\n<pre><code>public Either&lt;String, Integer&gt; testEither(int s) {\n    if (s == 0)\n        return Either.left(&quot;Wrong&quot;);\n    return Either.right(s);\n}\n\npublic Mono&lt;Either&lt;String, Integer&gt;&gt; testReactorEither(int s) {\n    return Mono.just(s).filter(x -&gt; x == 0).map(Either::right)\n            .switchIfEmpty(Mono.just(Either.left(&quot;ERROR&quot;)));\n}\n</code></pre>\n<p>The <code>testEither</code> works normally, but meanwhile,  the <code>testReactorEither</code> raises a compile error of &quot;incompatible types&quot; which says the provided return type of <code>reactor.core.publisher.Mono&lt;io.vavr.control.Either&lt;java.lang.Object,java.lang.Integer&gt;&gt;</code> is incompatible with required return of <code>reactor.core.publisher.Mono&lt;io.vavr.control.Either&lt;java.lang.String,java.lang.Integer&gt;&gt;</code>.</p>\n<p>I'm afraid the problem is just because the method of <code>map(Either::right)</code> just defines the <code>Right</code> type of <code>Integer</code> but not do the <code>Left</code> type, and then the return type of the method is <code>Either&lt;?, Integer&gt;</code>. Then the question is how I can get the expected return type in this case?</p>\n<p>[UPDATED]</p>\n<p>As Hinse mentioned in his comment, the issue is related to the limitation of Java type inference, and some links I found for the problem is listed as follows:</p>\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=511252\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=511252</a></p>\n<p><a href=\"https://e.printstacktrace.blog/java-type-inference-generic-methods-chain-call/\" rel=\"nofollow noreferrer\">https://e.printstacktrace.blog/java-type-inference-generic-methods-chain-call/</a></p>\n<p><a href=\"https://openjdk.java.net/jeps/101\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/101</a></p>\n"},{"tags":["java","angular","dom","selenium-webdriver"],"comments":[{"owner":{"account_id":3037545,"reputation":6288,"user_id":2575259,"accept_rate":88,"display_name":"Naveen Kumar R B"},"score":0,"creation_date":1483780835,"post_id":41517161,"comment_id":70245499,"body_markdown":"some information available here related to `clear` method, http://stackoverflow.com/a/15172140/2575259","body":"some information available here related to <code>clear</code> method, <a href=\"http://stackoverflow.com/a/15172140/2575259\">stackoverflow.com/a/15172140/2575259</a>"},{"owner":{"account_id":6188411,"reputation":51,"user_id":4839853,"display_name":"Cyndi Russell"},"score":0,"creation_date":1484164252,"post_id":41517161,"comment_id":70401721,"body_markdown":"Hi @Naveen I appreciate you comment. But this issue appears to be specific to how Selenium is handling Angular 2 in the DOM. .clear() works perfect with other languages.","body":"Hi @Naveen I appreciate you comment. But this issue appears to be specific to how Selenium is handling Angular 2 in the DOM. .clear() works perfect with other languages."}],"answers":[{"comments":[{"owner":{"account_id":6188411,"reputation":51,"user_id":4839853,"display_name":"Cyndi Russell"},"score":0,"creation_date":1486403613,"post_id":42013030,"comment_id":71319617,"body_markdown":"Hi MK thanks. I&#39;ve tried that and a similar RobotUtility. Basically string.length, loops and &quot;types&quot; char for any keycode you want. It requires a separate Java thread to run which kicks Selenium off the browser so I have to force it to re-click specific coordinates (so only runs local). Have to type a char first for field to recognize backspace.\n\nMethod:\n`RobotUtilities.type(&quot;char&quot;);\nobject.sendKeys(&quot;&quot;);\nobject.click();\nRobotUtlities.moveMouse(x, y);\nRobotUtlities.moveLeftClick();\nRobotUtlities.type(&quot;char&quot;);\nRobotUtlities (loops backspace);`","body":"Hi MK thanks. I&#39;ve tried that and a similar RobotUtility. Basically string.length, loops and &quot;types&quot; char for any keycode you want. It requires a separate Java thread to run which kicks Selenium off the browser so I have to force it to re-click specific coordinates (so only runs local). Have to type a char first for field to recognize backspace.  Method: <code>RobotUtilities.type(&quot;char&quot;); object.sendKeys(&quot;&quot;); object.click(); RobotUtlities.moveMouse(x, y); RobotUtlities.moveLeftClick(); RobotUtlities.type(&quot;char&quot;); RobotUtlities (loops backspace);</code>"}],"tags":[],"owner":{"account_id":2362412,"reputation":83,"user_id":2068819,"accept_rate":50,"display_name":"Mike Kiewicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486072500,"creation_date":1486072500,"answer_id":42013030,"question_id":41517161,"body_markdown":"Have you tried sending a Control-A to select all in the field and then a backspace to clear the field? \r\n\r\nobject.sendkeys(&quot;^a{BACKSPACE}&quot;);","title":"Java Selenium &amp; Angular 2 | Webdriver Visually Clears Text Field But Not From DOM","body":"<p>Have you tried sending a Control-A to select all in the field and then a backspace to clear the field? </p>\n\n<p>object.sendkeys(\"^a{BACKSPACE}\");</p>\n"},{"tags":[],"owner":{"account_id":6133729,"reputation":1,"user_id":4783216,"display_name":"Arpitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699400573,"creation_date":1699040486,"answer_id":77419303,"question_id":41517161,"body_markdown":"Try this:\r\n```\r\nActions action = new Actions(driver);\r\naction.moveToElement(element).doubleClick().click().sendKeys(Keys.BACK_SPACE).perform();\r\n```","title":"Java Selenium &amp; Angular 2 | Webdriver Visually Clears Text Field But Not From DOM","body":"<p>Try this:</p>\n<pre><code>Actions action = new Actions(driver);\naction.moveToElement(element).doubleClick().click().sendKeys(Keys.BACK_SPACE).perform();\n</code></pre>\n"}],"owner":{"account_id":6188411,"reputation":51,"user_id":4839853,"display_name":"Cyndi Russell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1699400573,"creation_date":1483755677,"question_id":41517161,"body_markdown":"I have a test written in Java using Selenium Webdriver which visually clears a text field written in Angular 2 but Selenium doesn&#39;t actually clear the field in the DOM. \r\n\r\nI need to get an alert from the text field that says that you can&#39;t create an empty title, and that alert doesn&#39;t appear because the DOM still says that there is a title even though Selenium supposedly cleared the field:\r\n\r\n    ng-reflect-length=&quot;10&quot;\r\n    ng-reflect-model=&quot;New Survey&quot;\r\n\r\nIf it actually did clear, the DOM should not include the above angular code.\r\n\r\n&lt;br&gt;\r\nI originally tried using the correct format of Java Selenium to clear:\r\n\r\n    public void clearTextField(){\r\n     webElement.clear();\r\n    }\r\n\r\nAnd this will visually clear the text field, but those Angular 2 attributes and values do not disappear in the DOM as they should. This causes the character counter in the text field to remain at 90 chars instead of what it should be at 100 chars. If it was 100 chars, I would get my alert. \r\n\r\n&lt;br&gt;\r\nThe above Angular 2 attributes and values will reflect a sendKeys change if I:\r\n\r\n    public void sendKeysToTextField(String inputText){        \r\n     webElement.sendKeys(inputText);\r\n    } \r\n\r\nBut still, the DOM doesn&#39;t update when clearing the text field.\r\n\r\n&lt;br&gt;\r\nI have a hacky workaround, which forces a RobotUtility to backspace and it needs coordinates to locate the page. But this only works locally.\r\n\r\nPlease help! Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EmZU7.png","title":"Java Selenium &amp; Angular 2 | Webdriver Visually Clears Text Field But Not From DOM","body":"<p>I have a test written in Java using Selenium Webdriver which visually clears a text field written in Angular 2 but Selenium doesn't actually clear the field in the DOM. </p>\n\n<p>I need to get an alert from the text field that says that you can't create an empty title, and that alert doesn't appear because the DOM still says that there is a title even though Selenium supposedly cleared the field:</p>\n\n<pre><code>ng-reflect-length=\"10\"\nng-reflect-model=\"New Survey\"\n</code></pre>\n\n<p>If it actually did clear, the DOM should not include the above angular code.</p>\n\n<p><br>\nI originally tried using the correct format of Java Selenium to clear:</p>\n\n<pre><code>public void clearTextField(){\n webElement.clear();\n}\n</code></pre>\n\n<p>And this will visually clear the text field, but those Angular 2 attributes and values do not disappear in the DOM as they should. This causes the character counter in the text field to remain at 90 chars instead of what it should be at 100 chars. If it was 100 chars, I would get my alert. </p>\n\n<p><br>\nThe above Angular 2 attributes and values will reflect a sendKeys change if I:</p>\n\n<pre><code>public void sendKeysToTextField(String inputText){        \n webElement.sendKeys(inputText);\n} \n</code></pre>\n\n<p>But still, the DOM doesn't update when clearing the text field.</p>\n\n<p><br>\nI have a hacky workaround, which forces a RobotUtility to backspace and it needs coordinates to locate the page. But this only works locally.</p>\n\n<p>Please help! Thank you.</p>\n"},{"tags":["java","stream","java-io","encoder","avro"],"answers":[{"tags":[],"owner":{"account_id":259114,"reputation":2928,"user_id":541763,"display_name":"LiMuBei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374746004,"creation_date":1374746004,"answer_id":17854663,"question_id":17093739,"body_markdown":"Not sure I understand correctly what you want, but why don&#39;t you specify a default value for the name field?\r\n\r\n    {&quot;type&quot;: &quot;record&quot;,\r\n     &quot;name&quot;: &quot;Member&quot;,\r\n     &quot;fields&quot;: [\r\n        {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: [&quot;string&quot;, &quot;null&quot;], &quot;default&quot;: &quot;unknown&quot; },\r\n        {&quot;name&quot;: &quot;skill&quot;, &quot;type&quot;: &quot;string&quot;}\r\n    ]}\r\nThen, if you don&#39;t explicitly set the field value to null it should use the string default.","title":"Problems in avro schema .. String, null","body":"<p>Not sure I understand correctly what you want, but why don't you specify a default value for the name field?</p>\n\n<pre><code>{\"type\": \"record\",\n \"name\": \"Member\",\n \"fields\": [\n    {\"name\": \"name\", \"type\": [\"string\", \"null\"], \"default\": \"unknown\" },\n    {\"name\": \"skill\", \"type\": \"string\"}\n]}\n</code></pre>\n\n<p>Then, if you don't explicitly set the field value to null it should use the string default.</p>\n"}],"owner":{"account_id":2250079,"reputation":1325,"user_id":1982483,"accept_rate":16,"display_name":"ramu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699398415,"creation_date":1371145730,"question_id":17093739,"body_markdown":" In this avro schema\r\n\r\n    {&quot;type&quot;: &quot;record&quot;,\r\n    &quot;name&quot;: &quot;Member&quot;,\r\n    &quot;fields&quot;: [\r\n     {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: [&quot;string&quot;, &quot;null&quot;] },\r\n     {&quot;name&quot;: &quot;skill&quot;, &quot;type&quot;: &quot;string&quot;}\r\n    ]}\r\n\r\nWhen I try to assign multiple values to name like multiple records ... \r\n \r\n\r\n    ByteArrayOutputStream bos=new ByteArrayOutputStream();\r\n    Encoder e= EncoderFactory.get().binaryEncoder(bos, null);\r\n    GenericRecord rec=new GenericData.Record(schema);\r\n    GenericDatumWriter&lt;GenericRecord&gt; datumWriter = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\r\n\r\n    for(int i=0;i&lt;memlist.size();i++)\r\n    {\r\n       rec.put(&quot;name&quot;, memlist.get(i).name);\r\n       rec.put(&quot;skill&quot;, memlist.get(i).skill);\r\n       datumWriter.write(rec, e);\r\n    }\r\n\r\n    e.flush();\r\n    bos.close();\r\n    System.out.println(bos.toString());\r\n\r\n It always assign Null FOR the NAME field in the schema ... except for the first record that I put ... \r\nIs there a way I can use default as STRING ... and if there is no string then only it uses null mentioned in the schema\r\n\r\nUnions, as mentioned above, are represented using JSON arrays. For example, [&quot;string&quot;, &quot;null&quot;] declares a schema which may be either a string or null.\r\n\r\nUnions may not contain more than one schema with the same type, except for the named types record, fixed and enum. For example, unions containing two array types or two map types are not permitted, but two types with different names are permitted. (Names permit efficient resolution when reading and writing unions.)\r\n\r\nSo it always take NULL even though string value exist except for the first record","title":"Problems in avro schema .. String, null","body":"<p>In this avro schema</p>\n\n<pre><code>{\"type\": \"record\",\n\"name\": \"Member\",\n\"fields\": [\n {\"name\": \"name\", \"type\": [\"string\", \"null\"] },\n {\"name\": \"skill\", \"type\": \"string\"}\n]}\n</code></pre>\n\n<p>When I try to assign multiple values to name like multiple records ... </p>\n\n<pre><code>ByteArrayOutputStream bos=new ByteArrayOutputStream();\nEncoder e= EncoderFactory.get().binaryEncoder(bos, null);\nGenericRecord rec=new GenericData.Record(schema);\nGenericDatumWriter&lt;GenericRecord&gt; datumWriter = new GenericDatumWriter&lt;GenericRecord&gt;(schema);\n\nfor(int i=0;i&lt;memlist.size();i++)\n{\n   rec.put(\"name\", memlist.get(i).name);\n   rec.put(\"skill\", memlist.get(i).skill);\n   datumWriter.write(rec, e);\n}\n\ne.flush();\nbos.close();\nSystem.out.println(bos.toString());\n</code></pre>\n\n<p>It always assign Null FOR the NAME field in the schema ... except for the first record that I put ... \nIs there a way I can use default as STRING ... and if there is no string then only it uses null mentioned in the schema</p>\n\n<p>Unions, as mentioned above, are represented using JSON arrays. For example, [\"string\", \"null\"] declares a schema which may be either a string or null.</p>\n\n<p>Unions may not contain more than one schema with the same type, except for the named types record, fixed and enum. For example, unions containing two array types or two map types are not permitted, but two types with different names are permitted. (Names permit efficient resolution when reading and writing unions.)</p>\n\n<p>So it always take NULL even though string value exist except for the first record</p>\n"},{"tags":["java","spring-boot","intellij-idea","tomcat"],"answers":[{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1699393295,"post_id":77441600,"comment_id":136525471,"body_markdown":"&quot;If Tomcat classes *do* this for you...&quot;","body":"&quot;If Tomcat classes <i>do</i> this for you...&quot;"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699398370,"creation_date":1699392686,"answer_id":77441600,"question_id":77441431,"body_markdown":"&quot;Regular Tomcat&quot; means that you launch the Tomcat bootstrap which in turn loads the main Tomcat classes, configures the Tomcat instance and starts the connection listeners.\r\n\r\n&quot;Embeded Tomcat&quot; means that you launch a different application (Spring Boot or something else) and that application loads the Tomcat classes, configures the Tomcat instance and starts the connection listeners.\r\n\r\nFrom the [Tomcat documentation](https://tomcat.apache.org/tomcat-10.1-doc/architecture/startup.html):\r\n\r\n&gt; [...] There are several different ways to start tomcat, including:\r\n&gt; \r\n&gt; * From the command line.\r\n&gt; * From a Java program as an embedded server.\r\n&gt; * Automatically as a Windows service.\r\n\r\nIn the end, configuring and running a Tomcat instance is creating some Java objects, set properties on them and execute some methods on them. Whether Tomcat classes to this for you according to some configuration files or Spring Boot does this for you according to some Spring Boot configuration doesn&#39;t make a difference.","title":"How does IntelliJ Run APIs Locally without Tomcat?","body":"<p>&quot;Regular Tomcat&quot; means that you launch the Tomcat bootstrap which in turn loads the main Tomcat classes, configures the Tomcat instance and starts the connection listeners.</p>\n<p>&quot;Embeded Tomcat&quot; means that you launch a different application (Spring Boot or something else) and that application loads the Tomcat classes, configures the Tomcat instance and starts the connection listeners.</p>\n<p>From the <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/architecture/startup.html\" rel=\"nofollow noreferrer\">Tomcat documentation</a>:</p>\n<blockquote>\n<p>[...] There are several different ways to start tomcat, including:</p>\n<ul>\n<li>From the command line.</li>\n<li>From a Java program as an embedded server.</li>\n<li>Automatically as a Windows service.</li>\n</ul>\n</blockquote>\n<p>In the end, configuring and running a Tomcat instance is creating some Java objects, set properties on them and execute some methods on them. Whether Tomcat classes to this for you according to some configuration files or Spring Boot does this for you according to some Spring Boot configuration doesn't make a difference.</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699393404,"creation_date":1699393404,"answer_id":77441654,"question_id":77441431,"body_markdown":"In short, running your Spring Boot application is how it works. The Spring Boot framework is managing the details of instantiating a servlet container--by default, an embedded version of Tomcat--and routing incoming requests to your classes for you. It&#39;s not the only servlet container it can use, but most of the time you&#39;re not going to care about this detail. That&#39;s kind of the point.","title":"How does IntelliJ Run APIs Locally without Tomcat?","body":"<p>In short, running your Spring Boot application is how it works. The Spring Boot framework is managing the details of instantiating a servlet container--by default, an embedded version of Tomcat--and routing incoming requests to your classes for you. It's not the only servlet container it can use, but most of the time you're not going to care about this detail. That's kind of the point.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77441600,"answer_count":2,"score":2,"last_activity_date":1699398370,"creation_date":1699390696,"question_id":77441431,"body_markdown":"When I run a Spring Boot Java sample application locally in IntelliJ, how does it run the APIs in Localhost eg 8080 (GET, POST, etc)  ? I don&#39;t even have Tomcat installed on my desktop. Trying to understand the internals of &quot;Run Application&quot; Deployment.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\nUpdate: I keep reading &quot;embedded Tomcat&quot;, however when I google it, I don&#39;t get a clear definition of what this means, and how it differs from Regular Tomcat.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hiGw8.png","title":"How does IntelliJ Run APIs Locally without Tomcat?","body":"<p>When I run a Spring Boot Java sample application locally in IntelliJ, how does it run the APIs in Localhost eg 8080 (GET, POST, etc)  ? I don't even have Tomcat installed on my desktop. Trying to understand the internals of &quot;Run Application&quot; Deployment.</p>\n<p><a href=\"https://i.stack.imgur.com/hiGw8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hiGw8.png\" alt=\"enter image description here\" /></a></p>\n<p>Update: I keep reading &quot;embedded Tomcat&quot;, however when I google it, I don't get a clear definition of what this means, and how it differs from Regular Tomcat.</p>\n"},{"tags":["java","spring","spring-boot","gradle","dependency-management"],"owner":{"account_id":29645,"reputation":5434,"user_id":80280,"accept_rate":76,"display_name":"Eric Liprandi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699396766,"creation_date":1699396766,"question_id":77441886,"body_markdown":"We have a relatively large Java project (~20 modules) building with Gradle that we have been upgrading over the past few months to follow better practices.\r\nOne of the main issue we have is around _dependency management_. For very obvious reason, we need to keep our dependencies as up-to-date as we can. \r\nWe recently consolidated our projects by more judiciously using `allprojects` and `subprojects` blocks.\r\n\r\nWe are now focusing on actually making maintaining dependencies easier. We first started using Gradle&#39;s newer `dependencyResolutionManagement` ([docs][gradle-doc]) and that seems like a great option. We already started consolidating some external dependencies similar to:\r\n```groovy\r\n// settings.gradle\r\ndependencyResolutionManagement {\r\n    versionCatalogs {\r\n        libs {\r\n            version(&#39;aws&#39;, &#39;2.20.29&#39;)\r\n            library(&#39;aws-athena&#39;, &#39;software.amazon.awssdk&#39;, &#39;athena&#39;).versionRef(&#39;aws&#39;)\r\n            library(&#39;aws-auth&#39;, &#39;software.amazon.awssdk&#39;, &#39;auth&#39;).versionRef(&#39;aws&#39;)\r\n            library(&#39;aws-bom&#39;, &#39;software.amazon.awssdk&#39;, &#39;bom&#39;).versionRef(&#39;aws&#39;)\r\n            library(&#39;aws-ssm&#39;, &#39;software.amazon.awssdk&#39;, &#39;ssm&#39;).versionRef(&#39;aws&#39;)\r\n            library(&#39;aws-sqs&#39;, &#39;software.amazon.awssdk&#39;, &#39;sqs&#39;).versionRef(&#39;aws&#39;)\r\n\r\n            version(&#39;jackson&#39;, &#39;2.15.2&#39;)\r\n            library(&#39;jackson-core&#39;, &#39;com.fasterxml.jackson.core&#39;, &#39;jackson-core&#39;).versionRef(&#39;jackson&#39;)\r\n            library(&#39;jackson-databind&#39;, &#39;com.fasterxml.jackson.core&#39;, &#39;jackson-databind&#39;).versionRef(&#39;jackson&#39;)\r\n            library(&#39;jackson-csv&#39;, &#39;com.fasterxml.jackson.dataformat&#39;, &#39;jackson-dataformat-csv&#39;).versionRef(&#39;jackson&#39;)\r\n            library(&#39;jackson-jdk8&#39;, &#39;com.fasterxml.jackson.datatype&#39;, &#39;jackson-datatype-jdk8&#39;).versionRef(&#39;jackson&#39;)\r\n            library(&#39;jackson-jsr310&#39;, &#39;com.fasterxml.jackson.datatype&#39;, &#39;jackson-datatype-jsr310&#39;).versionRef(&#39;jackson&#39;)\r\n\r\n            version(&#39;junit&#39;, &#39;5.9.1&#39;)\r\n            library(&#39;junit-bom&#39;, &#39;org.junit&#39;, &#39;junit-bom&#39;).versionRef(&#39;junit&#39;)\r\n            library(&#39;junit-jupiter&#39;, &#39;org.junit.jupiter&#39;, &#39;junit-jupiter&#39;).versionRef(&#39;junit&#39;)\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut, our project is heavily leveraging Spring Boot. All our artifacts are Spring Boot apps, services, etc. So, we use the `io.spring.dependency-management` [Gradle plugin][spring-plugin].\r\n\r\nI am trying to figure if both of them do the same thing? or does the Spring Boot plugin only deal with dependencies that are brought via Spring Boot&#39;s starter projects like `spring-boot-starter-web`? \r\n\r\n[gradle-doc]: https://docs.gradle.org/current/userguide/platforms.html#sec:sharing-catalogs\r\n[spring-plugin]: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/","title":"difference between Spring Boot&#39;s dependency-management Gradle plugin and Gradle&#39;s dependencyResolutionManagement / versionCatalogs","body":"<p>We have a relatively large Java project (~20 modules) building with Gradle that we have been upgrading over the past few months to follow better practices.\nOne of the main issue we have is around <em>dependency management</em>. For very obvious reason, we need to keep our dependencies as up-to-date as we can.\nWe recently consolidated our projects by more judiciously using <code>allprojects</code> and <code>subprojects</code> blocks.</p>\n<p>We are now focusing on actually making maintaining dependencies easier. We first started using Gradle's newer <code>dependencyResolutionManagement</code> (<a href=\"https://docs.gradle.org/current/userguide/platforms.html#sec:sharing-catalogs\" rel=\"nofollow noreferrer\">docs</a>) and that seems like a great option. We already started consolidating some external dependencies similar to:</p>\n<pre><code>// settings.gradle\ndependencyResolutionManagement {\n    versionCatalogs {\n        libs {\n            version('aws', '2.20.29')\n            library('aws-athena', 'software.amazon.awssdk', 'athena').versionRef('aws')\n            library('aws-auth', 'software.amazon.awssdk', 'auth').versionRef('aws')\n            library('aws-bom', 'software.amazon.awssdk', 'bom').versionRef('aws')\n            library('aws-ssm', 'software.amazon.awssdk', 'ssm').versionRef('aws')\n            library('aws-sqs', 'software.amazon.awssdk', 'sqs').versionRef('aws')\n\n            version('jackson', '2.15.2')\n            library('jackson-core', 'com.fasterxml.jackson.core', 'jackson-core').versionRef('jackson')\n            library('jackson-databind', 'com.fasterxml.jackson.core', 'jackson-databind').versionRef('jackson')\n            library('jackson-csv', 'com.fasterxml.jackson.dataformat', 'jackson-dataformat-csv').versionRef('jackson')\n            library('jackson-jdk8', 'com.fasterxml.jackson.datatype', 'jackson-datatype-jdk8').versionRef('jackson')\n            library('jackson-jsr310', 'com.fasterxml.jackson.datatype', 'jackson-datatype-jsr310').versionRef('jackson')\n\n            version('junit', '5.9.1')\n            library('junit-bom', 'org.junit', 'junit-bom').versionRef('junit')\n            library('junit-jupiter', 'org.junit.jupiter', 'junit-jupiter').versionRef('junit')\n\n        }\n    }\n}\n</code></pre>\n<p>But, our project is heavily leveraging Spring Boot. All our artifacts are Spring Boot apps, services, etc. So, we use the <code>io.spring.dependency-management</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Gradle plugin</a>.</p>\n<p>I am trying to figure if both of them do the same thing? or does the Spring Boot plugin only deal with dependencies that are brought via Spring Boot's starter projects like <code>spring-boot-starter-web</code>?</p>\n"},{"tags":["java","rest","sockets","websocket","quarkus"],"comments":[{"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1699657676,"post_id":77441864,"comment_id":136563805,"body_markdown":"you need to use something like a message broker (JMS) to accomplish this. Each incoming chat message from websocket should push the message to a topic, and then every instance of your server should broadcast it to the subscribed websocket sessions.","body":"you need to use something like a message broker (JMS) to accomplish this. Each incoming chat message from websocket should push the message to a topic, and then every instance of your server should broadcast it to the subscribed websocket sessions."},{"owner":{"account_id":24280811,"reputation":63,"user_id":22370136,"display_name":"Vlajic Stevan"},"score":0,"creation_date":1699756251,"post_id":77441864,"comment_id":136571065,"body_markdown":"you mean something like apache kafka?","body":"you mean something like apache kafka?"}],"owner":{"account_id":24280811,"reputation":63,"user_id":22370136,"display_name":"Vlajic Stevan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699396760,"creation_date":1699396415,"question_id":77441864,"body_markdown":"**Problem**\r\nI am currently working on a JAVA Quarkus backend and I am trying to solve the problem of communtication between users in different so called &quot;rooms&quot; like socket io does it with joining the sockets together ([https://socket.io/docs/v3/rooms/](https://socket.io/docs/v3/rooms).\r\n\r\n[![Room architecture](https://i.stack.imgur.com/vwbxG.png)](https://i.stack.imgur.com/vwbxG.png)\r\n\r\nBasically I want to implement the functionality shown in the image above in Quarkus with WebSockets. \r\n\r\n\r\n**What have I tried?**\r\nI have found a web-socket solution on the official quarkus website ([https://quarkus.io/guides/websockets](https://quarkus.io/guides/websockets)) but with the provided solution, there is no way to join the websockets together and create these &quot;rooms&quot;/lobbies like in socket io. \r\n\r\nThe provided code block has a single session for every user:\r\n\r\n```\r\nMap&lt;String, Session&gt; sessions = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @OnOpen\r\n    public void onOpen(Session session, @PathParam(&quot;username&quot;) String username) {\r\n        broadcast(&quot;User &quot; + username + &quot; joined&quot;);\r\n        sessions.put(username, session);\r\n    }\r\n\r\n```\r\n\r\nThe architecture of the provided quarkus websocket solution looks like this:\r\n\r\n[![Single session-architecture](https://i.stack.imgur.com/W84il.png)](https://i.stack.imgur.com/W84il.png)\r\n\r\n**My questions**\r\n- Is there a way to join a different session together or to create a custom session by PathParams?\r\n- Are there any useful Java libraries providing such lobby/room/join functionality equivalent to socket.io in js?\r\n- Is the provided code somehow changeable to achieve the goal?\r\n","title":"Does Quarkus provides any solution for joining websockets together like in socket.io?","body":"<p><strong>Problem</strong>\nI am currently working on a JAVA Quarkus backend and I am trying to solve the problem of communtication between users in different so called &quot;rooms&quot; like socket io does it with joining the sockets together (<a href=\"https://socket.io/docs/v3/rooms\" rel=\"nofollow noreferrer\">https://socket.io/docs/v3/rooms/</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/vwbxG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vwbxG.png\" alt=\"Room architecture\" /></a></p>\n<p>Basically I want to implement the functionality shown in the image above in Quarkus with WebSockets.</p>\n<p><strong>What have I tried?</strong>\nI have found a web-socket solution on the official quarkus website (<a href=\"https://quarkus.io/guides/websockets\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/websockets</a>) but with the provided solution, there is no way to join the websockets together and create these &quot;rooms&quot;/lobbies like in socket io.</p>\n<p>The provided code block has a single session for every user:</p>\n<pre><code>Map&lt;String, Session&gt; sessions = new ConcurrentHashMap&lt;&gt;();\n\n    @OnOpen\n    public void onOpen(Session session, @PathParam(&quot;username&quot;) String username) {\n        broadcast(&quot;User &quot; + username + &quot; joined&quot;);\n        sessions.put(username, session);\n    }\n\n</code></pre>\n<p>The architecture of the provided quarkus websocket solution looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/W84il.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W84il.png\" alt=\"Single session-architecture\" /></a></p>\n<p><strong>My questions</strong></p>\n<ul>\n<li>Is there a way to join a different session together or to create a custom session by PathParams?</li>\n<li>Are there any useful Java libraries providing such lobby/room/join functionality equivalent to socket.io in js?</li>\n<li>Is the provided code somehow changeable to achieve the goal?</li>\n</ul>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":7506666,"reputation":433,"user_id":5702956,"display_name":"Nico T"},"score":0,"creation_date":1470748467,"post_id":38851732,"comment_id":65067645,"body_markdown":"please provide some of your current code","body":"please provide some of your current code"},{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":0,"creation_date":1470748626,"post_id":38851732,"comment_id":65067771,"body_markdown":"Is the class you made the change in a POJO or a JPA Entity? How is the configuration in your `persistence.xml` for the property `hibernate.hbm2ddl.auto`? please add more Infos to your question to make it more clear.","body":"Is the class you made the change in a POJO or a JPA Entity? How is the configuration in your <code>persistence.xml</code> for the property <code>hibernate.hbm2ddl.auto</code>? please add more Infos to your question to make it more clear."},{"owner":{"account_id":8980392,"reputation":25,"user_id":6695816,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1470749264,"post_id":38851732,"comment_id":65068286,"body_markdown":"I have changed into my POJO . I am new to java dont know much about this","body":"I have changed into my POJO . I am new to java dont know much about this"},{"owner":{"account_id":8980392,"reputation":25,"user_id":6695816,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1470749530,"post_id":38851732,"comment_id":65068483,"body_markdown":"I got this in my persistance.xml for the property hibernate.hbm2ddl.auto        &lt;property name =&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;","body":"I got this in my persistance.xml for the property hibernate.hbm2ddl.auto        &lt;property name =&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;"},{"owner":{"account_id":8980392,"reputation":25,"user_id":6695816,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1470749671,"post_id":38851732,"comment_id":65068584,"body_markdown":"@ruhungry : not totally new.","body":"@ruhungry : not totally new."},{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":0,"creation_date":1470749834,"post_id":38851732,"comment_id":65068712,"body_markdown":"to answer your question with the provided info, i would say the change you did will have no effect. Please add the code of the so called &quot;POJO&quot; to your question. And if you search a bit more for `hibernate.hbm2ddl.auto` you will find [this](http://stackoverflow.com/q/15978368/1113392) which most likely will explain the problem you are facing.","body":"to answer your question with the provided info, i would say the change you did will have no effect. Please add the code of the so called &quot;POJO&quot; to your question. And if you search a bit more for <code>hibernate.hbm2ddl.auto</code> you will find <a href=\"http://stackoverflow.com/q/15978368/1113392\">this</a> which most likely will explain the problem you are facing."},{"owner":{"account_id":8980392,"reputation":25,"user_id":6695816,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1470750213,"post_id":38851732,"comment_id":65069022,"body_markdown":"currently it is having value=&quot;update&quot;","body":"currently it is having value=&quot;update&quot;"},{"owner":{"account_id":8980392,"reputation":25,"user_id":6695816,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1470750495,"post_id":38851732,"comment_id":65069244,"body_markdown":"I am not getting why the schema is not updated . since i changed in POJO","body":"I am not getting why the schema is not updated . since i changed in POJO"}],"answers":[{"tags":[],"owner":{"account_id":20210552,"reputation":1,"user_id":14823515,"display_name":"ayomikuolatunji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699396163,"creation_date":1699394640,"answer_id":77441741,"question_id":38851732,"body_markdown":"This should help\r\n\r\n```sql\r\n-- AlterTable\r\nALTER TABLE `Recipe` MODIFY `totalServings` FLOAT(5) NOT NULL DEFAULT 1;\r\n\r\n-- AlterTable\r\nALTER TABLE `RecipeIngredient` MODIFY `servingAmount` FLOAT(5) NOT NULL DEFAULT 0.0\r\n```\r\n\r\nWarnings:\r\n\r\n  - You are about to alter the column `totalServings` on the `Recipe` table. The data in that column could be lost. The data in that column will be cast from `Int` to `Double`.\r\n  - You are about to alter the column `servingAmount` on the `RecipeIngredient` table. The data in that column could be lost. The data in that column will be cast from `Int` to `Double`.\r\n","title":"My table has one column with datatype as int but now I have decided to change it into float","body":"<p>This should help</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- AlterTable\nALTER TABLE `Recipe` MODIFY `totalServings` FLOAT(5) NOT NULL DEFAULT 1;\n\n-- AlterTable\nALTER TABLE `RecipeIngredient` MODIFY `servingAmount` FLOAT(5) NOT NULL DEFAULT 0.0\n</code></pre>\n<p>Warnings:</p>\n<ul>\n<li>You are about to alter the column <code>totalServings</code> on the <code>Recipe</code> table. The data in that column could be lost. The data in that column will be cast from <code>Int</code> to <code>Double</code>.</li>\n<li>You are about to alter the column <code>servingAmount</code> on the <code>RecipeIngredient</code> table. The data in that column could be lost. The data in that column will be cast from <code>Int</code> to <code>Double</code>.</li>\n</ul>\n"}],"owner":{"account_id":8980392,"reputation":25,"user_id":6695816,"display_name":"Muddassir Rahman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699396163,"creation_date":1470748231,"question_id":38851732,"body_markdown":"My table has one column with datatype as int but now I have decided to change it into float. so I changed my pojo from into to float . But i cannot see the changes in my table as it is still showing column with int dataype. How can i do this from my code.","title":"My table has one column with datatype as int but now I have decided to change it into float","body":"<p>My table has one column with datatype as int but now I have decided to change it into float. so I changed my pojo from into to float . But i cannot see the changes in my table as it is still showing column with int dataype. How can i do this from my code.</p>\n"},{"tags":["java","testing","junit","junit5"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":2,"creation_date":1561012771,"post_id":56680294,"comment_id":99926560,"body_markdown":"look at [TestWatcher](https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/TestWatcher.html)","body":"look at <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/TestWatcher.html\" rel=\"nofollow noreferrer\">TestWatcher</a>"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1561012959,"post_id":56680294,"comment_id":99926650,"body_markdown":"possible duplicate of https://stackoverflow.com/questions/49037406/testwatcher-in-junit5","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/49037406/testwatcher-in-junit5\" title=\"testwatcher in junit5\">stackoverflow.com/questions/49037406/testwatcher-in-junit5</a>"}],"answers":[{"comments":[{"owner":{"account_id":1086656,"reputation":89,"user_id":1082211,"display_name":"Bram Meerten"},"score":0,"creation_date":1662616305,"post_id":56680643,"comment_id":130047718,"body_markdown":"TestWatcher link no longer working: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestWatcher.html","body":"TestWatcher link no longer working: <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/extension/TestWatcher.html\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":6531931,"reputation":781,"user_id":5838252,"accept_rate":58,"display_name":"Bat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699395877,"creation_date":1561014133,"answer_id":56680643,"question_id":56680294,"body_markdown":"This can be done using [TestWatcher][1] in JUnit 5. On JUnit 4 however, you can use [ErrorCollector][2].\r\n\r\n[This answer][3] brilliantly provides a solution to the problem.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/TestWatcher.html\r\n  [2]: https://junit.org/junit4/javadoc/4.12/org/junit/rules/ErrorCollector.html\r\n  [3]: https://stackoverflow.com/a/54690217/5838252","title":"How to run code after test failure in JUnit5?","body":"<p>This can be done using <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/TestWatcher.html\" rel=\"nofollow noreferrer\">TestWatcher</a> in JUnit 5. On JUnit 4 however, you can use <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/rules/ErrorCollector.html\" rel=\"nofollow noreferrer\">ErrorCollector</a>.</p>\n<p><a href=\"https://stackoverflow.com/a/54690217/5838252\">This answer</a> brilliantly provides a solution to the problem.</p>\n"}],"owner":{"account_id":6531931,"reputation":781,"user_id":5838252,"accept_rate":58,"display_name":"Bat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2019,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56680643,"answer_count":1,"score":3,"last_activity_date":1699395877,"creation_date":1561012623,"question_id":56680294,"body_markdown":"How can I run a function or a wrap-up code after a test failed in JUnit 5?","title":"How to run code after test failure in JUnit5?","body":"<p>How can I run a function or a wrap-up code after a test failed in JUnit 5?</p>\n"},{"tags":["java","swing","jpanel","repaint","jcheckbox"],"answers":[{"comments":[{"owner":{"account_id":2585708,"reputation":3215,"user_id":2241463,"accept_rate":84,"display_name":"Piovezan"},"score":0,"creation_date":1596662079,"post_id":63273430,"comment_id":111886776,"body_markdown":"Thanks, I suppose the best approach will eliminate the need for `revalidate()/updateFrame()` and also will be simpler (no adding JScrollPane for instance), so I guess that will be the last one, am I right?","body":"Thanks, I suppose the best approach will eliminate the need for <code>revalidate()&#47;updateFrame()</code> and also will be simpler (no adding JScrollPane for instance), so I guess that will be the last one, am I right?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1596662180,"post_id":63273430,"comment_id":111886822,"body_markdown":"@Piovezan: go with the easiest to maintain and use, not necessarily the up-front simplest. Myself, I&#39;d probably put it into a JScrollPane using the Gridlayout.","body":"@Piovezan: go with the easiest to maintain and use, not necessarily the up-front simplest. Myself, I&#39;d probably put it into a JScrollPane using the Gridlayout."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1596662847,"post_id":63273430,"comment_id":111887024,"body_markdown":"@Piovezan: for example","body":"@Piovezan: for example"},{"owner":{"account_id":2585708,"reputation":3215,"user_id":2241463,"accept_rate":84,"display_name":"Piovezan"},"score":0,"creation_date":1596663340,"post_id":63273430,"comment_id":111887192,"body_markdown":"Thanks. Great example. So the `revalidate()` call is necessary anyway.","body":"Thanks. Great example. So the <code>revalidate()</code> call is necessary anyway."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1596665191,"post_id":63273430,"comment_id":111887771,"body_markdown":"@Piovezan: `revalidate()` is necessary any time you add or remove a component to or from a container since you need to reactivate the layout manager of that container and all nested containers that it holds. Sometimes `repaint()` must follow, especially if removing components in order to clean up &quot;dirty pixels&quot;","body":"@Piovezan: <code>revalidate()</code> is necessary any time you add or remove a component to or from a container since you need to reactivate the layout manager of that container and all nested containers that it holds. Sometimes <code>repaint()</code> must follow, especially if removing components in order to clean up &quot;dirty pixels&quot;"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1596675215,"post_id":63273430,"comment_id":111889951,"body_markdown":"*&quot; I&#39;d probably put it into a JScrollPane&quot;* I&#39;d definitely put them in a `JList` and put **that** into a `JScrollPane`..","body":"<i>&quot; I&#39;d probably put it into a JScrollPane&quot;</i> I&#39;d definitely put them in a <code>JList</code> and put <b>that</b> into a <code>JScrollPane</code>.."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596662841,"creation_date":1596661270,"answer_id":63273430,"question_id":63273227,"body_markdown":"The JPanel will resize, but you&#39;re not seeing it because it is constrained by the JFrame that holds it, which can&#39;t resize without explicitly telling it to do so.\r\n\r\nSuggestions: \r\n\r\n1. Put the JPanel inside of a JScrollPane which will allow the JPanel to resize as components are added (and `revalidate()` is called) or \r\n2. Call `pack()` on the enclosing top-level  window, here a JFrame, after adding components to the JPanel which will re-size the entire GUI.\r\n\r\nAlso consider \r\n\r\n* giving the JPanel a GridLayout(0, 1)...\r\n* ...embedding it in the BorderLayout.PAGE_START position of another BorderLayout-using JPanel...\r\n* ...then adding that JPanel to the scroll pane or to the BorderLayout.CENTER position of the JFrame&#39;s contentPane. This will compress the added components to the top of the JPanel.\r\n\r\nFor example:\r\n\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.GridLayout;\r\n\timport java.awt.event.KeyEvent;\r\n\timport javax.swing.*;\r\n\t\r\n\tpublic class UserInterface3 {\r\n\t\tprivate JPanel mainPanel = new JPanel(new BorderLayout());\r\n\t\tprivate JPanel panel = new JPanel(new GridLayout(0, 1));\r\n\t\t\r\n\t\tpublic UserInterface3() {\r\n\t\t\tJPanel wrapperPanel = new JPanel(new BorderLayout());\r\n\t\t\twrapperPanel.add(panel, BorderLayout.PAGE_START);\t\t\r\n\t\t\tJScrollPane scrollPane = new JScrollPane(wrapperPanel);\r\n\t\t\tscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t\tscrollPane.getViewport().setPreferredSize(new Dimension(300, 300));\r\n\t\t\t\r\n\t\t\tJButton addCheckBoxBtn = new JButton(&quot;Add CheckBox&quot;);\r\n\t\t\taddCheckBoxBtn.addActionListener(e -&gt; addCheckBox());\r\n\t\t\taddCheckBoxBtn.setMnemonic(KeyEvent.VK_A);\r\n\t\t\tJPanel btnPanel = new JPanel();\r\n\t\t\tbtnPanel.add(addCheckBoxBtn);\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tmainPanel.add(scrollPane);\r\n\t\t\tmainPanel.add(btnPanel, BorderLayout.PAGE_END);\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate void addCheckBox() {\r\n\t\t\tpanel.add(new JCheckBox(&quot;Test&quot;));\r\n\t\t\tmainPanel.revalidate();\r\n\t\t}\r\n\t\r\n\t\tpublic JPanel getMainPanel() {\r\n\t\t\treturn mainPanel;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\tUserInterface3 ui3 = new UserInterface3();\r\n\t\t\t\tframe.add(ui3.getMainPanel());\r\n\t\t\t\tframe.pack();\r\n\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\tframe.setVisible(true);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n","title":"Which of those different update methods should I call to make components appear after being added to a JPanel?","body":"<p>The JPanel will resize, but you're not seeing it because it is constrained by the JFrame that holds it, which can't resize without explicitly telling it to do so.</p>\n<p>Suggestions:</p>\n<ol>\n<li>Put the JPanel inside of a JScrollPane which will allow the JPanel to resize as components are added (and <code>revalidate()</code> is called) or</li>\n<li>Call <code>pack()</code> on the enclosing top-level  window, here a JFrame, after adding components to the JPanel which will re-size the entire GUI.</li>\n</ol>\n<p>Also consider</p>\n<ul>\n<li>giving the JPanel a GridLayout(0, 1)...</li>\n<li>...embedding it in the BorderLayout.PAGE_START position of another BorderLayout-using JPanel...</li>\n<li>...then adding that JPanel to the scroll pane or to the BorderLayout.CENTER position of the JFrame's contentPane. This will compress the added components to the top of the JPanel.</li>\n</ul>\n<p>For example:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.KeyEvent;\nimport javax.swing.*;\n\npublic class UserInterface3 {\n    private JPanel mainPanel = new JPanel(new BorderLayout());\n    private JPanel panel = new JPanel(new GridLayout(0, 1));\n    \n    public UserInterface3() {\n        JPanel wrapperPanel = new JPanel(new BorderLayout());\n        wrapperPanel.add(panel, BorderLayout.PAGE_START);       \n        JScrollPane scrollPane = new JScrollPane(wrapperPanel);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        scrollPane.getViewport().setPreferredSize(new Dimension(300, 300));\n        \n        JButton addCheckBoxBtn = new JButton(&quot;Add CheckBox&quot;);\n        addCheckBoxBtn.addActionListener(e -&gt; addCheckBox());\n        addCheckBoxBtn.setMnemonic(KeyEvent.VK_A);\n        JPanel btnPanel = new JPanel();\n        btnPanel.add(addCheckBoxBtn);       \n        \n        \n        mainPanel.add(scrollPane);\n        mainPanel.add(btnPanel, BorderLayout.PAGE_END);     \n    }\n    \n    private void addCheckBox() {\n        panel.add(new JCheckBox(&quot;Test&quot;));\n        mainPanel.revalidate();\n    }\n\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            UserInterface3 ui3 = new UserInterface3();\n            frame.add(ui3.getMainPanel());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699395098,"creation_date":1699395098,"answer_id":77441772,"question_id":63273227,"body_markdown":"Here is your code, slightly modified, with unnecessary things removed. \r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class UserInterface2 {\r\n    \r\n        private JButton button;\r\n        private JPanel panel;\r\n    \r\n        public UserInterface2() {\r\n            JFrame frame = new JFrame(&quot;Test App&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            frame.getContentPane().setLayout(new BorderLayout());\r\n    \r\n            createButton();\r\n            panel = new JPanel();\r\n            panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\r\n    \r\n            frame.getContentPane().add(button, BorderLayout.WEST);\r\n            frame.getContentPane().add(panel, BorderLayout.CENTER);\r\n            frame.setSize (200, 200);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private void createButton() {\r\n            button = new JButton(&quot;Text&quot;);\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    add(&quot;TEST&quot;);\r\n                    panel.revalidate();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void add(String text) {\r\n            panel.add(new JCheckBox(text));\r\n        }\r\n    \r\n        public static void main(String [] args) {\r\n            SwingUtilities.invokeLater(() -&gt; new UserInterface2());\r\n        }\r\n    }\r\n\r\nNo show(), no updateFrame(). \r\nThe problem was, that your Panel in the center had no content, therefore wasn&#39;t drawn, occupied no space. I used `frame.setSize (200, 200);` to enforce a size &gt; 0. \r\n\r\nNow you see the Checkboxes appear until you added to many. But if you resize the frame, they too become visible. But `panel.revalidate ()` is necessary.","title":"Which of those different update methods should I call to make components appear after being added to a JPanel?","body":"<p>Here is your code, slightly modified, with unnecessary things removed.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class UserInterface2 {\n\n    private JButton button;\n    private JPanel panel;\n\n    public UserInterface2() {\n        JFrame frame = new JFrame(&quot;Test App&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.getContentPane().setLayout(new BorderLayout());\n\n        createButton();\n        panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\n\n        frame.getContentPane().add(button, BorderLayout.WEST);\n        frame.getContentPane().add(panel, BorderLayout.CENTER);\n        frame.setSize (200, 200);\n        frame.setVisible(true);\n    }\n\n    private void createButton() {\n        button = new JButton(&quot;Text&quot;);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                add(&quot;TEST&quot;);\n                panel.revalidate();\n            }\n        });\n    }\n\n    private void add(String text) {\n        panel.add(new JCheckBox(text));\n    }\n\n    public static void main(String [] args) {\n        SwingUtilities.invokeLater(() -&gt; new UserInterface2());\n    }\n}\n</code></pre>\n<p>No show(), no updateFrame().\nThe problem was, that your Panel in the center had no content, therefore wasn't drawn, occupied no space. I used <code>frame.setSize (200, 200);</code> to enforce a size &gt; 0.</p>\n<p>Now you see the Checkboxes appear until you added to many. But if you resize the frame, they too become visible. But <code>panel.revalidate ()</code> is necessary.</p>\n"}],"owner":{"account_id":2585708,"reputation":3215,"user_id":2241463,"accept_rate":84,"display_name":"Piovezan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63273430,"answer_count":2,"score":1,"last_activity_date":1699395098,"creation_date":1596660274,"question_id":63273227,"body_markdown":"In this simple code if I click the button a few times a few JCheckBoxes will be added to the JPanel. However the display is not updated unless right after `add(&quot;TEST&quot;)` I call either `revalidate()` (just `invalidate()` won&#39;t work), or `updateFrame()`. Also, if I use `revalidate()`, the JCheckBoxes appear but the JPanel is not resized. I&#39;m also aware of the `repaint()` method, but I&#39;m not sure how to use it or those other methods.\r\n\r\nWhat is the relationship between those component update methods so I can achieve the minimum I want (the JCheckBoxes to appear and the JPanel to be resized)?\r\n\r\nHow could I simplify the code?\r\n\r\n    public class UserInterface2 {\r\n    \r\n        private final JFrame frame;\r\n        private JButton button;\r\n        private JPanel panel;\r\n        \r\n        public UserInterface2() {\r\n            \r\n            frame = new JFrame(&quot;Test App&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \r\n            frame.getContentPane().setLayout(new BorderLayout());\r\n            \r\n            createButton();\r\n            panel = new JPanel();\r\n            panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\r\n            \r\n            frame.getContentPane().add(button, BorderLayout.WEST);\r\n            frame.getContentPane().add(panel, BorderLayout.CENTER);\r\n        }\r\n        \r\n        private void updateFrame() {\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n        \r\n        private void createButton() {\r\n            button = new JButton(&quot;Text&quot;);\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    add(&quot;TEST&quot;);\r\n                    panel.revalidate();\r\n                    //updateFrame();\r\n                }\r\n            });\r\n        }\r\n        \r\n        public void show() {\r\n            updateFrame();\r\n        }\r\n    \r\n        private void add(String text) {\r\n            panel.add(new JCheckBox(text));\r\n        }\r\n        \r\n        public static void main(String [] args) {\r\n            SwingUtilities.invokeLater(() -&gt; new UserInterface2().show());\r\n        }\r\n    }","title":"Which of those different update methods should I call to make components appear after being added to a JPanel?","body":"<p>In this simple code if I click the button a few times a few JCheckBoxes will be added to the JPanel. However the display is not updated unless right after <code>add(&quot;TEST&quot;)</code> I call either <code>revalidate()</code> (just <code>invalidate()</code> won't work), or <code>updateFrame()</code>. Also, if I use <code>revalidate()</code>, the JCheckBoxes appear but the JPanel is not resized. I'm also aware of the <code>repaint()</code> method, but I'm not sure how to use it or those other methods.</p>\n<p>What is the relationship between those component update methods so I can achieve the minimum I want (the JCheckBoxes to appear and the JPanel to be resized)?</p>\n<p>How could I simplify the code?</p>\n<pre><code>public class UserInterface2 {\n\n    private final JFrame frame;\n    private JButton button;\n    private JPanel panel;\n    \n    public UserInterface2() {\n        \n        frame = new JFrame(&quot;Test App&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.getContentPane().setLayout(new BorderLayout());\n        \n        createButton();\n        panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\n        \n        frame.getContentPane().add(button, BorderLayout.WEST);\n        frame.getContentPane().add(panel, BorderLayout.CENTER);\n    }\n    \n    private void updateFrame() {\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    private void createButton() {\n        button = new JButton(&quot;Text&quot;);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                add(&quot;TEST&quot;);\n                panel.revalidate();\n                //updateFrame();\n            }\n        });\n    }\n    \n    public void show() {\n        updateFrame();\n    }\n\n    private void add(String text) {\n        panel.add(new JCheckBox(text));\n    }\n    \n    public static void main(String [] args) {\n        SwingUtilities.invokeLater(() -&gt; new UserInterface2().show());\n    }\n}\n</code></pre>\n"},{"tags":["java","hyperledger-fabric","hyperledger","hyperledger-fabric-sdk-java"],"owner":{"account_id":1394639,"reputation":172,"user_id":1324666,"accept_rate":100,"display_name":"rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699395025,"creation_date":1699394566,"question_id":77441739,"body_markdown":"I&#39;m using the Java `fabric-chaincode-shim` API and have a private data collection with only two organizations (lets say Org1 and Org2) in its policy. This was defined using the `collections_config.json` file.\r\n\r\nI have a transaction function that, when invoked, will send out both the public and the associated private data, based on which Org the calling peer belongs to. To decide whether to include or exclude the private data, I am using a simple try/catch block to catch an exception while retrieving private data.\r\n\r\n```java\r\ntry {\r\n    byte[] privateData = context.getStub().getPrivateData(collectionName, key);\r\n    // format and include in the response\r\n} catch (Exception e) {\r\n    // failed, possibly not authorized to see private data\r\n    // don&#39;t include in the response\r\n}\r\n```\r\n\r\nThis works fine, as an attempt to access private data by any other member of an organization (say Org3) which is not part of the collection configuration, will throw an exception.\r\n\r\nMy question: Is there a &quot;cleaner&quot; way other than a try/catch using which I can assert if the invoking peer can access the private data collection? ","title":"Hyperledger Fabric Java: Is there any way (other than try/catch) to check if the current peer has access to a private collection","body":"<p>I'm using the Java <code>fabric-chaincode-shim</code> API and have a private data collection with only two organizations (lets say Org1 and Org2) in its policy. This was defined using the <code>collections_config.json</code> file.</p>\n<p>I have a transaction function that, when invoked, will send out both the public and the associated private data, based on which Org the calling peer belongs to. To decide whether to include or exclude the private data, I am using a simple try/catch block to catch an exception while retrieving private data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    byte[] privateData = context.getStub().getPrivateData(collectionName, key);\n    // format and include in the response\n} catch (Exception e) {\n    // failed, possibly not authorized to see private data\n    // don't include in the response\n}\n</code></pre>\n<p>This works fine, as an attempt to access private data by any other member of an organization (say Org3) which is not part of the collection configuration, will throw an exception.</p>\n<p>My question: Is there a &quot;cleaner&quot; way other than a try/catch using which I can assert if the invoking peer can access the private data collection?</p>\n"},{"tags":["java","flutter","android-studio"],"answers":[{"comments":[{"owner":{"account_id":16467529,"reputation":1,"user_id":15729633,"display_name":"Ben Guiles"},"score":0,"creation_date":1696980256,"post_id":77205570,"comment_id":136221222,"body_markdown":"Thanks for the answer, but this did not work for me.","body":"Thanks for the answer, but this did not work for me."}],"tags":[],"owner":{"account_id":27264023,"reputation":61,"user_id":20786388,"display_name":"Egon Beermat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696044412,"creation_date":1696044412,"answer_id":77205570,"question_id":77205027,"body_markdown":"This has been a common issue. One solution [from here][1] that you don&#39;t seem to mentioned:\r\n\r\n&gt; Go to finder and find Android studio:\r\n&gt; \r\n&gt; right click and click show package contents Create a new folder called\r\n&gt; jre copy the contents of the jbr folder and paste them into jre folder\r\n&gt; reload your terminal and type flutter doctor\r\n\r\nThis worked for me.\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/118502#issuecomment-1383215722","title":"Flutter Doctor: Android Studio &quot;Unable to find bundled Java version&quot; after downgrading Flutter","body":"<p>This has been a common issue. One solution <a href=\"https://github.com/flutter/flutter/issues/118502#issuecomment-1383215722\" rel=\"nofollow noreferrer\">from here</a> that you don't seem to mentioned:</p>\n<blockquote>\n<p>Go to finder and find Android studio:</p>\n<p>right click and click show package contents Create a new folder called\njre copy the contents of the jbr folder and paste them into jre folder\nreload your terminal and type flutter doctor</p>\n</blockquote>\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":16467529,"reputation":1,"user_id":15729633,"display_name":"Ben Guiles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699394935,"creation_date":1699394935,"answer_id":77441761,"question_id":77205027,"body_markdown":"I solved this by completely uninstalling Android Studio and Flutter, reinstalling each, then creating a symlink `jre` to original directory `jbr` in `/Applications/Android Studio.app/Contents/`.","title":"Flutter Doctor: Android Studio &quot;Unable to find bundled Java version&quot; after downgrading Flutter","body":"<p>I solved this by completely uninstalling Android Studio and Flutter, reinstalling each, then creating a symlink <code>jre</code> to original directory <code>jbr</code> in <code>/Applications/Android Studio.app/Contents/</code>.</p>\n"}],"owner":{"account_id":16467529,"reputation":1,"user_id":15729633,"display_name":"Ben Guiles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77441761,"answer_count":2,"score":0,"last_activity_date":1699394935,"creation_date":1696026058,"question_id":77205027,"body_markdown":"I&#39;m attempting to work on an older Flutter project in vscode, which won&#39;t build with the latest Flutter version.\r\n\r\nIn an attempt to get it to build, I&#39;ve downgraded Flutter to the version originally used by the previous dev, using `git checkout 2.2.0`.\r\n\r\nWhen I run `flutter doctor`, all checks out except a warning under the Android Studio header that it is `&quot;Unable to find bundled Java version.&quot;`\r\n\r\n### Things I&#39;ve Tried:\r\n\r\nThe few well-known solutions for this that I&#39;m aware of have been unsuccessful so far for my case:\r\n\r\n- Create symlink `jre` to original directory `jbr` in `/Applications/Android Studio.app/Contents/`. No luck.\r\n- Set `JAVA_HOME` explicity with `export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;` in `.bashrc`. `JAVA_HOME` is now set, but I still get the error. Likewise when set to `jbr`.\r\n- Android Studio updated and reinstalled.\r\n\r\nBelow is the output from `flutter doctor -v`:\r\n\r\n\r\n```\r\n$ flutter doctor -v\r\n[✓] Flutter (Channel unknown, 2.2.0, on macOS 13.6 22G120 darwin-x64, locale en-US)\r\n    • Flutter version 2.2.0 at /Users/bguiles/Development/flutter\r\n    • Framework revision b22742018b (2 years, 5 months ago), 2021-05-14 19:12:57 -0700\r\n    • Engine revision a9d88a4d18\r\n    • Dart version 2.13.0\r\n\r\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\r\n    • Android SDK at /Users/bguiles/Library/Android/sdk\r\n    • Platform android-34, build-tools 34.0.0\r\n    • ANDROID_HOME = /Users/bguiles/Library/Android/sdk\r\n    • ANDROID_SDK_ROOT = /Users/bguiles/Library/Android/sdk\r\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\r\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\r\n    • All Android licenses accepted.\r\n\r\n[✓] Xcode - develop for iOS and macOS\r\n    • Xcode at /Applications/Xcode.app/Contents/Developer\r\n    • Xcode 15.0, Build version 15A240d\r\n    • CocoaPods version 1.13.0\r\n\r\n[✓] Chrome - develop for the web\r\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n\r\n[!] Android Studio (version 2022.3)\r\n    • Android Studio at /Applications/Android Studio.app/Contents\r\n    • Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n    • Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n    ✗ Unable to find bundled Java version.\r\n    • Try updating or re-installing Android Studio.\r\n\r\n[✓] VS Code (version 1.82.2)\r\n    • VS Code at /Applications/Visual Studio Code.app/Contents\r\n    • Flutter extension version 3.72.0\r\n\r\n[✓] Connected device (2 available)\r\n    • iPhone 15 (mobile) • 64ED10B4-7FDA-44CF-B82E-AF4E36AF3269 • ios            •\r\n      com.apple.CoreSimulator.SimRuntime.iOS-17-0 (simulator)\r\n    • Chrome (web)       • chrome                               • web-javascript • Google Chrome\r\n      117.0.5938.132\r\n\r\n! Doctor found issues in 1 category.\r\n\r\n```\r\n","title":"Flutter Doctor: Android Studio &quot;Unable to find bundled Java version&quot; after downgrading Flutter","body":"<p>I'm attempting to work on an older Flutter project in vscode, which won't build with the latest Flutter version.</p>\n<p>In an attempt to get it to build, I've downgraded Flutter to the version originally used by the previous dev, using <code>git checkout 2.2.0</code>.</p>\n<p>When I run <code>flutter doctor</code>, all checks out except a warning under the Android Studio header that it is <code>&quot;Unable to find bundled Java version.&quot;</code></p>\n<h3>Things I've Tried:</h3>\n<p>The few well-known solutions for this that I'm aware of have been unsuccessful so far for my case:</p>\n<ul>\n<li>Create symlink <code>jre</code> to original directory <code>jbr</code> in <code>/Applications/Android Studio.app/Contents/</code>. No luck.</li>\n<li>Set <code>JAVA_HOME</code> explicity with <code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;</code> in <code>.bashrc</code>. <code>JAVA_HOME</code> is now set, but I still get the error. Likewise when set to <code>jbr</code>.</li>\n<li>Android Studio updated and reinstalled.</li>\n</ul>\n<p>Below is the output from <code>flutter doctor -v</code>:</p>\n<pre><code>$ flutter doctor -v\n[✓] Flutter (Channel unknown, 2.2.0, on macOS 13.6 22G120 darwin-x64, locale en-US)\n    • Flutter version 2.2.0 at /Users/bguiles/Development/flutter\n    • Framework revision b22742018b (2 years, 5 months ago), 2021-05-14 19:12:57 -0700\n    • Engine revision a9d88a4d18\n    • Dart version 2.13.0\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/bguiles/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • ANDROID_HOME = /Users/bguiles/Library/Android/sdk\n    • ANDROID_SDK_ROOT = /Users/bguiles/Library/Android/sdk\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Xcode 15.0, Build version 15A240d\n    • CocoaPods version 1.13.0\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[!] Android Studio (version 2022.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    ✗ Unable to find bundled Java version.\n    • Try updating or re-installing Android Studio.\n\n[✓] VS Code (version 1.82.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.72.0\n\n[✓] Connected device (2 available)\n    • iPhone 15 (mobile) • 64ED10B4-7FDA-44CF-B82E-AF4E36AF3269 • ios            •\n      com.apple.CoreSimulator.SimRuntime.iOS-17-0 (simulator)\n    • Chrome (web)       • chrome                               • web-javascript • Google Chrome\n      117.0.5938.132\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","swagger-ui","netflix-zuul"],"answers":[{"comments":[{"owner":{"account_id":3958992,"reputation":447,"user_id":3266623,"display_name":"ShankPossible"},"score":0,"creation_date":1635088876,"post_id":56391341,"comment_id":123196496,"body_markdown":"this is deprecated","body":"this is deprecated"},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1682625592,"post_id":56391341,"comment_id":134249704,"body_markdown":"@ShankPossible - find an alternative?","body":"@ShankPossible - find an alternative?"}],"tags":[],"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559291089,"creation_date":1559291089,"answer_id":56391341,"question_id":56391127,"body_markdown":"As far as I know, Swagger registers its endpoints as normal Spring controllers so use the underlying web container to serve its traffic.\r\n\r\nTry to increase the global connection timeout:\r\n\r\n    server.connection-timeout=120000\r\n\r\n&gt; Time that connectors wait for another HTTP request before closing the connection. When not set, the connector&#39;s container-specific default is used. Use a value of -1 to indicate no (that is, an infinite) timeout.","title":"increase swagger requestTimeout","body":"<p>As far as I know, Swagger registers its endpoints as normal Spring controllers so use the underlying web container to serve its traffic.</p>\n\n<p>Try to increase the global connection timeout:</p>\n\n<pre><code>server.connection-timeout=120000\n</code></pre>\n\n<blockquote>\n  <p>Time that connectors wait for another HTTP request before closing the connection. When not set, the connector's container-specific default is used. Use a value of -1 to indicate no (that is, an infinite) timeout.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11457616,"reputation":355,"user_id":8398143,"display_name":"kmar akrout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559293137,"creation_date":1559293137,"answer_id":56391834,"question_id":56391127,"body_markdown":"solved by adding this to ZUUL&#39;s (API Gateway) \r\n\r\n    ribbon:\r\n    ReadTimeout: 120000\r\n    ConnectTimeout: 120000\r\n\r\n","title":"increase swagger requestTimeout","body":"<p>solved by adding this to ZUUL's (API Gateway) </p>\n\n<pre><code>ribbon:\nReadTimeout: 120000\nConnectTimeout: 120000\n</code></pre>\n"}],"owner":{"account_id":11457616,"reputation":355,"user_id":8398143,"display_name":"kmar akrout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10641,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699394820,"creation_date":1559290009,"question_id":56391127,"body_markdown":"is there anyway that can help me increase the timeout of the swagger request that i issue to my RestAPI using &quot; Try it out&quot; of swagger ?\r\n\r\ni roamed the internet and disn&#39;t find something usefull, and i tried to add things to my yml conf files, but i didn&#39;t know what to write \r\n\r\ni expected to find something like this maybe : \r\n\r\n    swagger.timeout=5000\r\n\r\ni have a spring boot application using swagger in order to test my webservices in a restController. i have a treatement that takes about 30 seconds, the thing that makes swagger throw a 500 timeout error for me. \r\n\r\nthanks !","title":"increase swagger requestTimeout","body":"<p>is there anyway that can help me increase the timeout of the swagger request that i issue to my RestAPI using \" Try it out\" of swagger ?</p>\n\n<p>i roamed the internet and disn't find something usefull, and i tried to add things to my yml conf files, but i didn't know what to write </p>\n\n<p>i expected to find something like this maybe : </p>\n\n<pre><code>swagger.timeout=5000\n</code></pre>\n\n<p>i have a spring boot application using swagger in order to test my webservices in a restController. i have a treatement that takes about 30 seconds, the thing that makes swagger throw a 500 timeout error for me. </p>\n\n<p>thanks !</p>\n"},{"tags":["java","json","rest-assured","hamcrest"],"answers":[{"tags":[],"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530264020,"creation_date":1530107902,"answer_id":51064732,"question_id":51064444,"body_markdown":"You can extract the response \r\n\r\n    ResponseOptions response = given().spec(request)\r\n    \t\t\t\t\t.get(&quot;/url_path&quot;);\r\n\r\nAnd then parse a json \r\n\t\t\t\r\n\r\n    DocumentContext parsedJson = JsonPath.parse(response.getBody().asString());\r\n    \t\t\tassertThatJson(parsedJson).field(&quot;[&#39;id&#39;]&quot;).isEqualTo(&quot;11&quot;);\r\n\t\t","title":"REST-assured: verify that a JSON object contains all Strings from a List","body":"<p>You can extract the response </p>\n\n<pre><code>ResponseOptions response = given().spec(request)\n                    .get(\"/url_path\");\n</code></pre>\n\n<p>And then parse a json </p>\n\n<pre><code>DocumentContext parsedJson = JsonPath.parse(response.getBody().asString());\n            assertThatJson(parsedJson).field(\"['id']\").isEqualTo(\"11\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14023534,"reputation":86,"user_id":10172329,"display_name":"Zach Johnson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583509801,"creation_date":1583509801,"answer_id":60567484,"question_id":51064444,"body_markdown":"It would probably be easiest to extract the response as a Java Object and then just assert that the extracted object is equal to the one you have above in JSON.\r\n\r\n```\r\nMyObject expectedObject = new MyObject(11, &quot;CoolGuy&quot;, &quot;80&quot;);\r\nMyObject myObject = \r\n    given().auth().basic(&quot;user&quot;, &quot;pass&quot;)\r\n        .when().get(getRequestURL)\r\n        .then().extract().response().as(MyObject.class);\r\nassertEquals(expectedObject, myObject);\r\n```\r\n\r\nYou could make the constructor for that whatever you want. I assume your object may be much more complicated than what is shown above. However, this is a much easier way to assert equality, and it is easily reusable.","title":"REST-assured: verify that a JSON object contains all Strings from a List","body":"<p>It would probably be easiest to extract the response as a Java Object and then just assert that the extracted object is equal to the one you have above in JSON.</p>\n\n<pre><code>MyObject expectedObject = new MyObject(11, \"CoolGuy\", \"80\");\nMyObject myObject = \n    given().auth().basic(\"user\", \"pass\")\n        .when().get(getRequestURL)\n        .then().extract().response().as(MyObject.class);\nassertEquals(expectedObject, myObject);\n</code></pre>\n\n<p>You could make the constructor for that whatever you want. I assume your object may be much more complicated than what is shown above. However, this is a much easier way to assert equality, and it is easily reusable.</p>\n"},{"tags":[],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686215266,"creation_date":1686215266,"answer_id":76430274,"question_id":51064444,"body_markdown":"You can\r\n\r\n```\r\n@Test\r\npublic void verifyJSONMatch() {\r\n    given()\r\n      .auth()\r\n      .basic(&quot;user&quot;, &quot;pass&quot;)\r\n      .when()\r\n      .get(getRequestURL)\r\n      .then()\r\n      .body(\r\n        &quot;id&quot;,is(11),\r\n        &quot;name&quot;, is(&quot;CoolGuy&quot;)\r\n    ));      \r\n\r\n}\r\n```\r\n\r\nCheck this library out:\r\nhttps://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html","title":"REST-assured: verify that a JSON object contains all Strings from a List","body":"<p>You can</p>\n<pre><code>@Test\npublic void verifyJSONMatch() {\n    given()\n      .auth()\n      .basic(&quot;user&quot;, &quot;pass&quot;)\n      .when()\n      .get(getRequestURL)\n      .then()\n      .body(\n        &quot;id&quot;,is(11),\n        &quot;name&quot;, is(&quot;CoolGuy&quot;)\n    ));      \n\n}\n</code></pre>\n<p>Check this library out:\n<a href=\"https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html\" rel=\"nofollow noreferrer\">https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html</a></p>\n"}],"owner":{"account_id":11728429,"reputation":129,"user_id":8584838,"display_name":"Clx3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11679,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1699394820,"creation_date":1530107112,"question_id":51064444,"body_markdown":"I have constructed a list that contains `String`s of a JSON object&#39;s body field names like this:\r\n\r\n```java\r\nList&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\r\n```\r\n\r\nThen I have used REST-assured to GET a response which is in JSON format like this:\r\n```json\r\n{\r\n   &quot;id&quot;: 11,\r\n   &quot;name&quot;: &quot;CoolGuy&quot;,\r\n   &quot;age&quot;: &quot;80&quot;,\r\n}\r\n```\r\n\r\nMy list contains `id`, `name`, and `age`. How can I verify that JSON fields match those strings in my list, *without* depending on their order.\r\n\r\nI only know how to verify that it contains one `String`. Here&#39;s the whole JUnit test method I&#39;ve used:\r\n\r\n```java\r\n@Test\r\npublic void verifyJSONMatch() {\r\n    given()\r\n        .auth()\r\n        .basic(&quot;user&quot;, &quot;pass&quot;)\r\n        .when()\r\n        .get(getRequestURL)\r\n        .then()\r\n        .body(containsString(&quot;id&quot;));\t\t\r\n}\r\n```","title":"REST-assured: verify that a JSON object contains all Strings from a List","body":"<p>I have constructed a list that contains <code>String</code>s of a JSON object's body field names like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>Then I have used REST-assured to GET a response which is in JSON format like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;id&quot;: 11,\n   &quot;name&quot;: &quot;CoolGuy&quot;,\n   &quot;age&quot;: &quot;80&quot;,\n}\n</code></pre>\n<p>My list contains <code>id</code>, <code>name</code>, and <code>age</code>. How can I verify that JSON fields match those strings in my list, <em>without</em> depending on their order.</p>\n<p>I only know how to verify that it contains one <code>String</code>. Here's the whole JUnit test method I've used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void verifyJSONMatch() {\n    given()\n        .auth()\n        .basic(&quot;user&quot;, &quot;pass&quot;)\n        .when()\n        .get(getRequestURL)\n        .then()\n        .body(containsString(&quot;id&quot;));        \n}\n</code></pre>\n"},{"tags":["java","logging","logback","spring-logback"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699394742,"creation_date":1699394742,"question_id":77441753,"body_markdown":"I tried to use appenders like that:\r\n\r\n    &lt;appender name=&quot;Appender1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;appender name=&quot;Appender2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\nand I adde the filtering to them like  \r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;Appender1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.MarkerFilter&quot;&gt;\r\n                &lt;marker&gt;METHOD1&lt;/marker&gt;\r\n                &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n                &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n            &lt;/filter&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;Appender2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.MarkerFilter&quot;&gt;\r\n                &lt;marker&gt;METHOD2&lt;/marker&gt;\r\n                &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n                &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n            &lt;/filter&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;com.yourpackage.method1&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;Appender1&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;com.yourpackage.method2&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;Appender2&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    &lt;/configuration&gt;\r\n\r\nand in the code I have different Markers:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.slf4j.Marker;\r\n    import org.slf4j.MarkerFactory;\r\n    \r\n    public class YourClass {\r\n        private static final Logger logger = LoggerFactory.getLogger(YourClass.class);\r\n        private static final Marker METHOD1_MARKER = MarkerFactory.getMarker(&quot;METHOD1&quot;);\r\n        private static final Marker METHOD2_MARKER = MarkerFactory.getMarker(&quot;METHOD2&quot;);\r\n    \r\n        public void method1() {\r\n            logger.info(METHOD1_MARKER, &quot;This log statement is for method1&quot;);\r\n        }\r\n    \r\n        public void method2() {\r\n            logger.info(METHOD2_MARKER, &quot;This log statement is for method2&quot;);\r\n        }\r\n    }\r\n\r\nand when I use\r\n\r\n\r\n&lt;logger name=&quot;com.yourpackage.method1&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n    &lt;appender-ref ref=&quot;Appender1&quot; /&gt;\r\n&lt;/logger&gt;\r\n\r\n&lt;logger name=&quot;com.yourpackage.method2&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n    &lt;appender-ref ref=&quot;Appender2&quot; /&gt;\r\n&lt;/logger&gt;\r\n\r\nappenders I see no log entries in both appenders. And when I use\r\n\r\n    &lt;logger name=&quot;com.yourpackage.&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Appender1&quot; /&gt;\r\n    &lt;/logger&gt;\r\n    \r\n    &lt;logger name=&quot;com.yourpackage.&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Appender2&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\nI see no entries in both. How to configure them properly to see the different methiods log entries into the different logback appenders?\r\n","title":"How can I set up different appenders for the different methods of the same class in logback?","body":"<p>I tried to use appenders like that:</p>\n<pre><code>&lt;appender name=&quot;Appender1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;Appender2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>and I adde the filtering to them like</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;Appender1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.MarkerFilter&quot;&gt;\n            &lt;marker&gt;METHOD1&lt;/marker&gt;\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;Appender2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.MarkerFilter&quot;&gt;\n            &lt;marker&gt;METHOD2&lt;/marker&gt;\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;com.yourpackage.method1&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;Appender1&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.yourpackage.method2&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;Appender2&quot; /&gt;\n    &lt;/logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>and in the code I have different Markers:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.slf4j.Marker;\nimport org.slf4j.MarkerFactory;\n\npublic class YourClass {\n    private static final Logger logger = LoggerFactory.getLogger(YourClass.class);\n    private static final Marker METHOD1_MARKER = MarkerFactory.getMarker(&quot;METHOD1&quot;);\n    private static final Marker METHOD2_MARKER = MarkerFactory.getMarker(&quot;METHOD2&quot;);\n\n    public void method1() {\n        logger.info(METHOD1_MARKER, &quot;This log statement is for method1&quot;);\n    }\n\n    public void method2() {\n        logger.info(METHOD2_MARKER, &quot;This log statement is for method2&quot;);\n    }\n}\n</code></pre>\n<p>and when I use</p>\n\n    \n\n\n    \n\n<p>appenders I see no log entries in both appenders. And when I use</p>\n<pre><code>&lt;logger name=&quot;com.yourpackage.&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;Appender1&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;logger name=&quot;com.yourpackage.&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;Appender2&quot; /&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>I see no entries in both. How to configure them properly to see the different methiods log entries into the different logback appenders?</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699329752,"post_id":77435424,"comment_id":136515025,"body_markdown":"Maybe regex can be used as discussed at [How to use Regex keyword in Spring Data Repository Method](https://stackoverflow.com/questions/44738142/how-to-use-regex-keyword-in-spring-data-repository-method).","body":"Maybe regex can be used as discussed at <a href=\"https://stackoverflow.com/questions/44738142/how-to-use-regex-keyword-in-spring-data-repository-method\">How to use Regex keyword in Spring Data Repository Method</a>."}],"answers":[{"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1699382748,"post_id":77440458,"comment_id":136523883,"body_markdown":"This was going to be my suggestion, to use a Specification.  Note that you can also perform your sorting in the spec too, simply by adding \t\t\t`criteriaQuery.orderBy(criteriaBuilder.desc(root.get(&quot;name&quot;)));` and it looks like you&#39;ve already figured out that you&#39;ll have to use a Page to get the top `n` records.","body":"This was going to be my suggestion, to use a Specification.  Note that you can also perform your sorting in the spec too, simply by adding \t\t\t<code>criteriaQuery.orderBy(criteriaBuilder.desc(root.get(&quot;name&zwnj;&#8203;&quot;)));</code> and it looks like you&#39;ve already figured out that you&#39;ll have to use a Page to get the top <code>n</code> records."},{"owner":{"account_id":3815391,"reputation":8920,"user_id":3164889,"accept_rate":68,"display_name":"Socrates"},"score":0,"creation_date":1699394704,"post_id":77440458,"comment_id":136525677,"body_markdown":"Good point @lane.maxwell! Thank you for mentioning that. I have updated the response.","body":"Good point @lane.maxwell! Thank you for mentioning that. I have updated the response."}],"tags":[],"owner":{"account_id":3815391,"reputation":8920,"user_id":3164889,"accept_rate":68,"display_name":"Socrates"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699394661,"creation_date":1699380044,"answer_id":77440458,"question_id":77435424,"body_markdown":"Apparently what I am looking for is not possible with Spring Data. I therefore built it a bit different, by still achieving my result. Maybe there is another one out there facing the same issue as I did, so hopefully this way I can provide a possible solution.\r\n\r\nI added a new `findAll()`-method to the ContactRepository, accepting a specification  (for the string restrictions on the name field) and a pageable (for limiting the quantity of output lines):\r\n\r\n    import org.jean.dossier.model.entities.Contact;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.jpa.domain.Specification;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ContactRepository extends JpaRepository&lt;Contact, Long&gt; {\r\n        Page&lt;Contact&gt; findAll(Specification&lt;Contact&gt; spec, Pageable pageable);\r\n    }\r\n\r\nTo call this repository method I created a new service where I prepare the query:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.jean.dossier.data.ContactRepository;\r\n    import org.jean.dossier.model.entities.Contact;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageRequest;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.domain.Sort;\r\n    import org.springframework.data.jpa.domain.Specification;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import jakarta.persistence.criteria.Predicate;\r\n    \r\n    @Service\r\n    public class ContactService {\r\n        \r\n        @Autowired\r\n        private ContactRepository contactRepository;\r\n    \r\n        private final Logger logger = LoggerFactory.getLogger(ContactService.class);\r\n    \r\n        public List&lt;Contact&gt; findFirst10ByMultipleStrings(String... searchStrings) {\r\n            this.logger.info(&quot;Find contacts using multiple strings.&quot;);\r\n    \r\n            // Sort by attribute &quot;name&quot; ascending.\r\n            Sort sort = Sort.by(Sort.Direction.ASC, &quot;name&quot;);\r\n    \r\n            // Limit to the first 10 lines.\r\n            Pageable pageable = PageRequest.of(0, 10, sort);\r\n            Page&lt;Contact&gt; resultPage = this.contactRepository.findAll(createSpecification(searchStrings), pageable);\r\n            return resultPage.getContent();\r\n        }\r\n    \r\n        private Specification&lt;Contact&gt; createSpecification(String... searchStrings) {\r\n            this.logger.info(&quot;Create specification for query.&quot;);\r\n    \r\n            return (root, query, criteriaBuilder) -&gt; {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    \r\n                for (String searchString : searchStrings) {\r\n                    predicates.add(criteriaBuilder.like(root.get(&quot;name&quot;), &quot;%&quot; + searchString + &quot;%&quot;));\r\n                }\r\n    \r\n                return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n            };\r\n        }\r\n    }\r\n\r\nEventually, calling this becomes easy from i.e. a controller:\r\n\r\n    @Autowired\r\n    private ContactService contactService;\r\n    \r\n    List&lt;Contact&gt; contacts = this.contactService.findFirst10ByMultipleStrings(name.split(&quot; &quot;));","title":"Spring Data method name for custom query accepting and-connected multiple search strings","body":"<p>Apparently what I am looking for is not possible with Spring Data. I therefore built it a bit different, by still achieving my result. Maybe there is another one out there facing the same issue as I did, so hopefully this way I can provide a possible solution.</p>\n<p>I added a new <code>findAll()</code>-method to the ContactRepository, accepting a specification  (for the string restrictions on the name field) and a pageable (for limiting the quantity of output lines):</p>\n<pre><code>import org.jean.dossier.model.entities.Contact;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ContactRepository extends JpaRepository&lt;Contact, Long&gt; {\n    Page&lt;Contact&gt; findAll(Specification&lt;Contact&gt; spec, Pageable pageable);\n}\n</code></pre>\n<p>To call this repository method I created a new service where I prepare the query:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.jean.dossier.data.ContactRepository;\nimport org.jean.dossier.model.entities.Contact;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.stereotype.Service;\n\nimport jakarta.persistence.criteria.Predicate;\n\n@Service\npublic class ContactService {\n    \n    @Autowired\n    private ContactRepository contactRepository;\n\n    private final Logger logger = LoggerFactory.getLogger(ContactService.class);\n\n    public List&lt;Contact&gt; findFirst10ByMultipleStrings(String... searchStrings) {\n        this.logger.info(&quot;Find contacts using multiple strings.&quot;);\n\n        // Sort by attribute &quot;name&quot; ascending.\n        Sort sort = Sort.by(Sort.Direction.ASC, &quot;name&quot;);\n\n        // Limit to the first 10 lines.\n        Pageable pageable = PageRequest.of(0, 10, sort);\n        Page&lt;Contact&gt; resultPage = this.contactRepository.findAll(createSpecification(searchStrings), pageable);\n        return resultPage.getContent();\n    }\n\n    private Specification&lt;Contact&gt; createSpecification(String... searchStrings) {\n        this.logger.info(&quot;Create specification for query.&quot;);\n\n        return (root, query, criteriaBuilder) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n            for (String searchString : searchStrings) {\n                predicates.add(criteriaBuilder.like(root.get(&quot;name&quot;), &quot;%&quot; + searchString + &quot;%&quot;));\n            }\n\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n        };\n    }\n}\n</code></pre>\n<p>Eventually, calling this becomes easy from i.e. a controller:</p>\n<pre><code>@Autowired\nprivate ContactService contactService;\n\nList&lt;Contact&gt; contacts = this.contactService.findFirst10ByMultipleStrings(name.split(&quot; &quot;));\n</code></pre>\n"}],"owner":{"account_id":3815391,"reputation":8920,"user_id":3164889,"accept_rate":68,"display_name":"Socrates"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77440458,"answer_count":1,"score":-1,"last_activity_date":1699394661,"creation_date":1699328354,"question_id":77435424,"body_markdown":"Is there a way to build a custom repository method for a special query in Spring Data, that accepts multiple and-connected search strings, meaning that all those strings need to be found in one database field?\r\n\r\nTake this example, where only one string is accepted:\r\n\r\n    import java.util.List;\r\n    \r\n    import org.jean.dossier.model.entities.Contact;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ContactRepository extends JpaRepository&lt;Contact, Long&gt; {\r\n        List&lt;Contact&gt; findTop10ByNameContainingOrderByName(String name);\r\n    }\r\n\r\nHere I essentially select all the contacts that have the content of the `name` variable within the contact.name parameter. I also sort the result by name, and I limit the output to 10 rows.\r\n\r\nThis search only takes one parameter `name`, i.e. &quot;alfonso&quot; to find all the contacts that are called &quot;alfonso&quot;. What I would like to achieve though, is the same search with multiple strings.\r\n\r\nExample: I provide the strings &quot;al&quot; and &quot;du&quot;. Possible results of the query would be:\r\n\r\n 1. **Al**fonso **Du**catti\r\n 2. M**al**ina Perfu**du**\r\n 3. G**al**ina Pa**du**fi\r\n\r\nI would assume that a correct way to change the above method would be something like:\r\n\r\nList&lt;Contact&gt; findTop10ByNameContainingOrderByName(**String[]** name);\r\n\r\nIs there any way to do that?","title":"Spring Data method name for custom query accepting and-connected multiple search strings","body":"<p>Is there a way to build a custom repository method for a special query in Spring Data, that accepts multiple and-connected search strings, meaning that all those strings need to be found in one database field?</p>\n<p>Take this example, where only one string is accepted:</p>\n<pre><code>import java.util.List;\n\nimport org.jean.dossier.model.entities.Contact;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ContactRepository extends JpaRepository&lt;Contact, Long&gt; {\n    List&lt;Contact&gt; findTop10ByNameContainingOrderByName(String name);\n}\n</code></pre>\n<p>Here I essentially select all the contacts that have the content of the <code>name</code> variable within the contact.name parameter. I also sort the result by name, and I limit the output to 10 rows.</p>\n<p>This search only takes one parameter <code>name</code>, i.e. &quot;alfonso&quot; to find all the contacts that are called &quot;alfonso&quot;. What I would like to achieve though, is the same search with multiple strings.</p>\n<p>Example: I provide the strings &quot;al&quot; and &quot;du&quot;. Possible results of the query would be:</p>\n<ol>\n<li><strong>Al</strong>fonso <strong>Du</strong>catti</li>\n<li>M<strong>al</strong>ina Perfu<strong>du</strong></li>\n<li>G<strong>al</strong>ina Pa<strong>du</strong>fi</li>\n</ol>\n<p>I would assume that a correct way to change the above method would be something like:</p>\n<p>List findTop10ByNameContainingOrderByName(<strong>String[]</strong> name);</p>\n<p>Is there any way to do that?</p>\n"},{"tags":["java","spring-data","spring-data-jpa","multi-tenant"],"comments":[{"owner":{"account_id":357237,"reputation":1496,"user_id":697281,"display_name":"akokskis"},"score":0,"creation_date":1543521041,"post_id":37674427,"comment_id":93959657,"body_markdown":"Were you ever able to find a solution to this?","body":"Were you ever able to find a solution to this?"},{"owner":{"account_id":3518096,"reputation":1589,"user_id":2941047,"accept_rate":92,"display_name":"Robin Hermans"},"score":0,"creation_date":1543573705,"post_id":37674427,"comment_id":93976669,"body_markdown":"No sorry. Once Spring ask for a connection from the datasource it keeps using that same connection for the entire transaction/session. There is however a possible solution that involves using multiple EntityManagers, though I haven&#39;t tested it and I&#39;m not sure if that allows you to switch EntityManagers dynamically. A quick google let me to this: http://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/","body":"No sorry. Once Spring ask for a connection from the datasource it keeps using that same connection for the entire transaction/session. There is however a possible solution that involves using multiple EntityManagers, though I haven&#39;t tested it and I&#39;m not sure if that allows you to switch EntityManagers dynamically. A quick google let me to this: <a href=\"http://fabiomaffioletti.me/blog/2014/04/15/distributed-transactions-multiple-databases-spring-boot-spring-data-jpa-atomikos/\" rel=\"nofollow noreferrer\">fabiomaffioletti.me/blog/2014/04/15/&hellip;</a>"},{"owner":{"account_id":7331069,"reputation":354,"user_id":5583929,"accept_rate":44,"display_name":"chou"},"score":0,"creation_date":1602845997,"post_id":37674427,"comment_id":113855568,"body_markdown":"how about doing the second transaction in a new thread? since transaction associated with thread","body":"how about doing the second transaction in a new thread? since transaction associated with thread"}],"answers":[{"comments":[{"owner":{"account_id":3518096,"reputation":1589,"user_id":2941047,"accept_rate":92,"display_name":"Robin Hermans"},"score":0,"creation_date":1465289651,"post_id":37674612,"comment_id":62826772,"body_markdown":"I kinda expected that trying to switch the data source during a transaction will break things. But do you know if it it&#39;s possible to switch the data source when I use two separate transactions, all in a single user request?","body":"I kinda expected that trying to switch the data source during a transaction will break things. But do you know if it it&#39;s possible to switch the data source when I use two separate transactions, all in a single user request?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1465289978,"post_id":37674612,"comment_id":62826973,"body_markdown":"It doesn&#39;t sound completely unfeasible, but I&#39;m not familiar enough with the implementation to be able to help with that.","body":"It doesn&#39;t sound completely unfeasible, but I&#39;m not familiar enough with the implementation to be able to help with that."}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465289206,"creation_date":1465289206,"answer_id":37674612,"question_id":37674427,"body_markdown":"You can&#39;t just move a transaction over to another datasource. While there is a concept of distributed (or XA) transactions, it consists of separate transactions (in separate data sources) that are treated as if they were part of a single (distributed) transaction.","title":"Switching data source during a single transaction using multi tenant implementation","body":"<p>You can't just move a transaction over to another datasource. While there is a concept of distributed (or XA) transactions, it consists of separate transactions (in separate data sources) that are treated as if they were part of a single (distributed) transaction.</p>\n"},{"comments":[{"owner":{"account_id":3518096,"reputation":1589,"user_id":2941047,"accept_rate":92,"display_name":"Robin Hermans"},"score":0,"creation_date":1465289500,"post_id":37674681,"comment_id":62826678,"body_markdown":"Makes sense. But would it be possible to switch the data source using two separate transactions in a single user request?","body":"Makes sense. But would it be possible to switch the data source using two separate transactions in a single user request?"},{"owner":{"account_id":3294111,"reputation":521,"user_id":2771739,"display_name":"Alfons"},"score":1,"creation_date":1465292658,"post_id":37674681,"comment_id":62828840,"body_markdown":"In theory yes, my knowledge of the spring framework is non-existent. It could be it is (partially) limited to a single transaction per request. Which makes sense, if a request fails on the 2nd transaction how will you notify the client the first part succeeded, and the 2nd part did not. Would it not be better for the client to do 2 separate requests, each with its own responsibility. What i mean to say is: Do a step back and have a look at the functionality, and wonder how you got into this situation in the first place.","body":"In theory yes, my knowledge of the spring framework is non-existent. It could be it is (partially) limited to a single transaction per request. Which makes sense, if a request fails on the 2nd transaction how will you notify the client the first part succeeded, and the 2nd part did not. Would it not be better for the client to do 2 separate requests, each with its own responsibility. What i mean to say is: Do a step back and have a look at the functionality, and wonder how you got into this situation in the first place."}],"tags":[],"owner":{"account_id":3294111,"reputation":521,"user_id":2771739,"display_name":"Alfons"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465289398,"creation_date":1465289398,"answer_id":37674681,"question_id":37674427,"body_markdown":"I do not know if it is possible, but i think you should try to avoid switching source during a transaction, for the following reason:\r\n\r\nIf an error occurs during the second request you will want to roll back the entire transaction, which means switching back to the old source. In order to be able to do that you will need to hold an open connection to that old source: When the transaction is complete you will need to confirm the transaction to that old source.\r\n\r\nI would recommend to rethink if you really want this, beside the point if it is possible at all.","title":"Switching data source during a single transaction using multi tenant implementation","body":"<p>I do not know if it is possible, but i think you should try to avoid switching source during a transaction, for the following reason:</p>\n\n<p>If an error occurs during the second request you will want to roll back the entire transaction, which means switching back to the old source. In order to be able to do that you will need to hold an open connection to that old source: When the transaction is complete you will need to confirm the transaction to that old source.</p>\n\n<p>I would recommend to rethink if you really want this, beside the point if it is possible at all.</p>\n"},{"comments":[{"owner":{"account_id":1873163,"reputation":1056,"user_id":1694962,"display_name":"Chait"},"score":1,"creation_date":1489633555,"post_id":42824361,"comment_id":72760300,"body_markdown":"Hello, link-only answers are not best suited on StackOverflow. Please add more details to your answer.","body":"Hello, link-only answers are not best suited on StackOverflow. Please add more details to your answer."}],"tags":[],"owner":{"account_id":7019862,"reputation":55,"user_id":5379727,"accept_rate":50,"display_name":"siddharth agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489653845,"creation_date":1489632167,"answer_id":42824361,"question_id":37674427,"body_markdown":"Spring provides a variation of DataSource, called **AbstractRoutingDatasource**. It can be used in place of standard DataSource implementations and enables a mechanism to determine which concrete DataSource to use for each operation at runtime. All you need to do is to extend it and to provide an implementation of an abstract determineCurrentLookupKey method.\r\n\r\nKeep in mind that **determineCurrentLookupKey** method will be called whenever **TransactionsManager** requests a connection. So, if you want to switch DataSource, you just need to open new transaction.\r\n\r\nYou can find example here\r\nhttp://fedulov.website/2015/10/14/dynamic-datasource-routing-with-spring/","title":"Switching data source during a single transaction using multi tenant implementation","body":"<p>Spring provides a variation of DataSource, called <strong>AbstractRoutingDatasource</strong>. It can be used in place of standard DataSource implementations and enables a mechanism to determine which concrete DataSource to use for each operation at runtime. All you need to do is to extend it and to provide an implementation of an abstract determineCurrentLookupKey method.</p>\n\n<p>Keep in mind that <strong>determineCurrentLookupKey</strong> method will be called whenever <strong>TransactionsManager</strong> requests a connection. So, if you want to switch DataSource, you just need to open new transaction.</p>\n\n<p>You can find example here\n<a href=\"http://fedulov.website/2015/10/14/dynamic-datasource-routing-with-spring/\" rel=\"nofollow noreferrer\">http://fedulov.website/2015/10/14/dynamic-datasource-routing-with-spring/</a></p>\n"},{"tags":[],"owner":{"account_id":5796728,"reputation":120,"user_id":4572300,"display_name":"Sandro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699393227,"creation_date":1699393227,"answer_id":77441641,"question_id":37674427,"body_markdown":"Same problem here - MultitenantDataSource works like a charm but if you want to switch tenants within the same request you keep getting the result from the first time the DataSource is resolved.\r\n\r\nThe determineCurrentLookupKey() method in the subclassed AbstractRoutingDataSource seems to get called only once per session/request.\r\n\r\nI tried getting the Repository Bean multiple times (after changing the LookupKey) via the ApplicationContext but it did not help.\r\n\r\nMy workaround in a REST Application:\r\nI used a RestTemplate to make calls to my own service - the DataSource is then resolved correctly each time.\r\n","title":"Switching data source during a single transaction using multi tenant implementation","body":"<p>Same problem here - MultitenantDataSource works like a charm but if you want to switch tenants within the same request you keep getting the result from the first time the DataSource is resolved.</p>\n<p>The determineCurrentLookupKey() method in the subclassed AbstractRoutingDataSource seems to get called only once per session/request.</p>\n<p>I tried getting the Repository Bean multiple times (after changing the LookupKey) via the ApplicationContext but it did not help.</p>\n<p>My workaround in a REST Application:\nI used a RestTemplate to make calls to my own service - the DataSource is then resolved correctly each time.</p>\n"}],"owner":{"account_id":3518096,"reputation":1589,"user_id":2941047,"accept_rate":92,"display_name":"Robin Hermans"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2622,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1699393227,"creation_date":1465288683,"question_id":37674427,"body_markdown":"I&#39;ve been struggling for a few days to get this working, but it seems that I cannot find a solution to it. That&#39;s why I&#39;d like to ask it here.\r\n\r\n**Short version**\r\n\r\nI have a multi tenant implementation which works with Spring boot, Spring Data JPA and Hibernate. This works like a charm. But now I&#39;d like to implement a functionality where I switch the database (data source) during a single transaction. For example I use similar code in my service class \r\n\r\n    @Autowired\r\n    private CustomRepository customRepository;\r\n\r\n    @Autorwired\r\n    private CustomTenantIdentifierResolver customResolver;\r\n\r\n    @Transactional\r\n    public Custom getCustom(String name) {\r\n\r\n      // Set the datasource to &quot;one&quot;;\r\n      this.customResolver.setIdentifier(&quot;one&quot;);\r\n      Custom result = this.customRepository.findOneByName(name);\r\n    \r\n      //If the result is null, switch datasource to default and try again\r\n      this.customResolver.setIdentifier(&quot;default&quot;);\r\n      result = this.customRepository.findOneByName(name);\r\n\r\n      return result;\r\n    }\r\n\r\n The problem is, my data source does not switch. It uses the same source for the second request. I guess I&#39;m doing something terribly wrong here.\r\n\r\n*What is the correct way to switch the data source during a single transaction?*\r\n\r\n**EDIT (07-06-2016)**&lt;br/&gt;\r\nSince I noticed that switching the data source for a single transaction is not going to work, I&#39;ll add a followup.\r\n\r\n*Would it be possible to switch the data source in between two transactions for a single user request? If so, what would be the correct way to do this?*\r\n\r\n**Long Version**\r\n\r\nBefore moving on, I&#39;d like to mention that my multi tenant implementation is based on the [tutorial provided on this blog][1].\r\n\r\nNow, my goal is to use the default data source as a fallback when the dynamic one (chosen by a custom identifier) fails to find a result. All this needs to be done in a single user request. It doesn&#39;t make a difference in the solution uses a single or multiple transactional annotated methods.\r\n\r\nUntil now I tried a couple things, one of them is described above, another includes the use of multiple transaction managers. That implementation uses a configuration file to create two transaction manager beans which each a different data source.\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class TransactionConfig {\r\n    \r\n      @Autowired\r\n      private EntityManagerFactory entityManagerFactory;\r\n    \r\n      @Autowired\r\n      private DataSourceProvider dataSourceProvider;\r\n    \r\n      @Bean(name = &quot;defaultTransactionManager&quot;)\r\n      public PlatformTransactionManager defaultTransactionManager() {\r\n        JpaTransactionManager jpaTransactionManager = new JpaTransactionManager();\r\n        jpaTransactionManager.setEntityManagerFactory(entityManagerFactory);\r\n        jpaTransactionManager.setDataSource(dataSourceProvider.getDefaultDataSource());\r\n        jpaTransactionManager.afterPropertiesSet();\r\n        return jpaTransactionManager;\r\n      }\r\n    \r\n      @Bean(name = &quot;dynamicTransactionManager&quot;)\r\n      public PlatformTransactionManager dynamicTransactionManager() {\r\n        JpaTransactionManager jpaTransactionManager = new JpaTransactionManager();\r\n        jpaTransactionManager.setEntityManagerFactory(entityManagerFactory);\r\n        jpaTransactionManager.afterPropertiesSet();\r\n        return jpaTransactionManager;\r\n      }\r\n    \r\n    }\r\n\r\nNext I split the service method into two separate ones and added the `@Transactional` annotation including the right bean name\r\n\r\n    @Transactional(&quot;dynamicTransactionManager&quot;)\r\n    public Custom getDynamicCustom(String name) {\r\n      ...stuff...\r\n    }\r\n    \r\n    @Transactional(&quot;defaultTransactionManager&quot;)\r\n    public Custom getDefaultCustom(String name) {\r\n      ...stuff...\r\n    }\r\n\r\nBut it didn&#39;t make any difference, the first data source was still used for the second method call (which should use the default transaction manager).\r\n\r\nI hope someone can help me find a solution to this.&lt;br/&gt;\r\nThanks in advance.\r\n\r\n  [1]: http://anakiou.blogspot.nl/2015/08/multi-tenant-application-with-spring.html","title":"Switching data source during a single transaction using multi tenant implementation","body":"<p>I've been struggling for a few days to get this working, but it seems that I cannot find a solution to it. That's why I'd like to ask it here.</p>\n\n<p><strong>Short version</strong></p>\n\n<p>I have a multi tenant implementation which works with Spring boot, Spring Data JPA and Hibernate. This works like a charm. But now I'd like to implement a functionality where I switch the database (data source) during a single transaction. For example I use similar code in my service class </p>\n\n<pre><code>@Autowired\nprivate CustomRepository customRepository;\n\n@Autorwired\nprivate CustomTenantIdentifierResolver customResolver;\n\n@Transactional\npublic Custom getCustom(String name) {\n\n  // Set the datasource to \"one\";\n  this.customResolver.setIdentifier(\"one\");\n  Custom result = this.customRepository.findOneByName(name);\n\n  //If the result is null, switch datasource to default and try again\n  this.customResolver.setIdentifier(\"default\");\n  result = this.customRepository.findOneByName(name);\n\n  return result;\n}\n</code></pre>\n\n<p>The problem is, my data source does not switch. It uses the same source for the second request. I guess I'm doing something terribly wrong here.</p>\n\n<p><em>What is the correct way to switch the data source during a single transaction?</em></p>\n\n<p><strong>EDIT (07-06-2016)</strong><br/>\nSince I noticed that switching the data source for a single transaction is not going to work, I'll add a followup.</p>\n\n<p><em>Would it be possible to switch the data source in between two transactions for a single user request? If so, what would be the correct way to do this?</em></p>\n\n<p><strong>Long Version</strong></p>\n\n<p>Before moving on, I'd like to mention that my multi tenant implementation is based on the <a href=\"http://anakiou.blogspot.nl/2015/08/multi-tenant-application-with-spring.html\" rel=\"nofollow\">tutorial provided on this blog</a>.</p>\n\n<p>Now, my goal is to use the default data source as a fallback when the dynamic one (chosen by a custom identifier) fails to find a result. All this needs to be done in a single user request. It doesn't make a difference in the solution uses a single or multiple transactional annotated methods.</p>\n\n<p>Until now I tried a couple things, one of them is described above, another includes the use of multiple transaction managers. That implementation uses a configuration file to create two transaction manager beans which each a different data source.</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class TransactionConfig {\n\n  @Autowired\n  private EntityManagerFactory entityManagerFactory;\n\n  @Autowired\n  private DataSourceProvider dataSourceProvider;\n\n  @Bean(name = \"defaultTransactionManager\")\n  public PlatformTransactionManager defaultTransactionManager() {\n    JpaTransactionManager jpaTransactionManager = new JpaTransactionManager();\n    jpaTransactionManager.setEntityManagerFactory(entityManagerFactory);\n    jpaTransactionManager.setDataSource(dataSourceProvider.getDefaultDataSource());\n    jpaTransactionManager.afterPropertiesSet();\n    return jpaTransactionManager;\n  }\n\n  @Bean(name = \"dynamicTransactionManager\")\n  public PlatformTransactionManager dynamicTransactionManager() {\n    JpaTransactionManager jpaTransactionManager = new JpaTransactionManager();\n    jpaTransactionManager.setEntityManagerFactory(entityManagerFactory);\n    jpaTransactionManager.afterPropertiesSet();\n    return jpaTransactionManager;\n  }\n\n}\n</code></pre>\n\n<p>Next I split the service method into two separate ones and added the <code>@Transactional</code> annotation including the right bean name</p>\n\n<pre><code>@Transactional(\"dynamicTransactionManager\")\npublic Custom getDynamicCustom(String name) {\n  ...stuff...\n}\n\n@Transactional(\"defaultTransactionManager\")\npublic Custom getDefaultCustom(String name) {\n  ...stuff...\n}\n</code></pre>\n\n<p>But it didn't make any difference, the first data source was still used for the second method call (which should use the default transaction manager).</p>\n\n<p>I hope someone can help me find a solution to this.<br/>\nThanks in advance.</p>\n"},{"tags":["java","jsonschema","json-schema-validator"],"comments":[{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1699380377,"post_id":77440005,"comment_id":136523492,"body_markdown":"What have you tried? What about what you&#39;ve tried isn&#39;t working?","body":"What have you tried? What about what you&#39;ve tried isn&#39;t working?"},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1699392851,"post_id":77440005,"comment_id":136525410,"body_markdown":"Please see https://stackoverflow.com/help/how-to-ask.  We typically don&#39;t answer open-ended &quot;approach&quot; questions.  If you&#39;re having trouble finding information about JSON Schema, [Understanding JSON Schema](https://json-schema.org/understanding-json-schema) is a good place to start.","body":"Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>.  We typically don&#39;t answer open-ended &quot;approach&quot; questions.  If you&#39;re having trouble finding information about JSON Schema, <a href=\"https://json-schema.org/understanding-json-schema\" rel=\"nofollow noreferrer\">Understanding JSON Schema</a> is a good place to start."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1699396655,"post_id":77440005,"comment_id":136525940,"body_markdown":"&quot;which has a limitation on the size.&quot; Size of what? Queue length or item size?","body":"&quot;which has a limitation on the size.&quot; Size of what? Queue length or item size?"},{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1699411924,"post_id":77440005,"comment_id":136527221,"body_markdown":"Limitation on item size, not with with queue length.","body":"Limitation on item size, not with with queue length."}],"answers":[{"tags":[],"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699393062,"creation_date":1699393062,"answer_id":77441628,"question_id":77440005,"body_markdown":"&gt; remove the optional elements from JSON using JSON Schema...\r\n\r\nJSON Schema isn&#39;t a transformational tool.  It validates and annotates.  \r\n\r\nWhile that output can be _used_ to transform JSON, you&#39;ll likely need to write that code yourself.  You may find a tool on https://json-schema.org/implementations that can help.\r\n\r\n---\r\n\r\nPersonally, I&#39;d look at the `required` keyword and manually (i.e. write code to) remove unlisted properties from the instance.","title":"Remove optional elements from JSON using JSON Schema definition in Java","body":"<blockquote>\n<p>remove the optional elements from JSON using JSON Schema...</p>\n</blockquote>\n<p>JSON Schema isn't a transformational tool.  It validates and annotates.</p>\n<p>While that output can be <em>used</em> to transform JSON, you'll likely need to write that code yourself.  You may find a tool on <a href=\"https://json-schema.org/implementations\" rel=\"nofollow noreferrer\">https://json-schema.org/implementations</a> that can help.</p>\n<hr />\n<p>Personally, I'd look at the <code>required</code> keyword and manually (i.e. write code to) remove unlisted properties from the instance.</p>\n"}],"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699393062,"creation_date":1699375388,"question_id":77440005,"body_markdown":"We have a requirement to pass the JSON string through a queue, which has a limitation on the size. Is there any possibility to remove the optional elements from the JSON String / Object by using the JSON Schema, so that it can fit in the queue.\r\n\r\nSuppose the below is a sample JSON Schema:\r\n\r\n```\r\n{\r\n  &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;Data&quot;: {\r\n        &quot;properties&quot;: {\r\n          &quot;admittedOn&quot;: {\r\n            &quot;example&quot;: &quot;2023-02-20&quot;,\r\n            &quot;title&quot;: &quot;The admittedOn Schema&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;claimAmount&quot;: {\r\n            &quot;example&quot;: 500,\r\n            &quot;title&quot;: &quot;The claimAmount Schema&quot;,\r\n            &quot;type&quot;: &quot;integer&quot;\r\n          },\r\n          &quot;clinicName&quot;: {\r\n            &quot;enum&quot;: [\r\n              &quot;Mayo Clinic&quot;,\r\n              &quot;Appollo&quot;,\r\n              &quot;Care&quot;,\r\n              &quot;Govt&quot;\r\n            ],\r\n            &quot;example&quot;: &quot;Mayo Clinic&quot;,\r\n            &quot;title&quot;: &quot;The clinicName Schema&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;dischargedOn&quot;: {\r\n            &quot;example&quot;: &quot;2023-02-25&quot;,\r\n            &quot;title&quot;: &quot;The dischargedOn Schema&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;firstName&quot;: {\r\n            &quot;example&quot;: &quot;Jon&quot;,\r\n            &quot;title&quot;: &quot;The firstName Schema&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;lastName&quot;: {\r\n            &quot;example&quot;: &quot;Doe&quot;,\r\n            &quot;title&quot;: &quot;The lastName Schema&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;stateCode&quot;: {\r\n            &quot;example&quot;: &quot;MN&quot;,\r\n            &quot;title&quot;: &quot;The state code&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        },\r\n        &quot;required&quot;: [\r\n          &quot;firstName&quot;,\r\n          &quot;lastName&quot;,\r\n          &quot;admittedOn&quot;,\r\n          &quot;clinicName&quot;\r\n        ],\r\n        &quot;type&quot;: &quot;object&quot;\r\n      },\r\n      &quot;Event&quot;: {\r\n        &quot;additionalProperties&quot;: false,\r\n        &quot;properties&quot;: {\r\n          &quot;data&quot;: {\r\n            &quot;$ref&quot;: &quot;#/components/schemas/Data&quot;\r\n          },\r\n          &quot;datacontenttype&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;dataref&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;dataschema&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;environment&quot;: {\r\n            &quot;pattern&quot;: &quot;^[^pP]|^.[^rR]|^..[^oO]|^...[^dD]$&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;id&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;partitionkey&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;sampledrate&quot;: {\r\n            &quot;type&quot;: &quot;integer&quot;\r\n          },\r\n          &quot;sequence&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;severitynumber&quot;: {\r\n            &quot;type&quot;: &quot;integer&quot;\r\n          },\r\n          &quot;severitytext&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;source&quot;: {\r\n            &quot;pattern&quot;: &quot;^[a-zA-Z0-9\\\\.\\\\_\\\\-\\\\:\\\\@\\\\/]*$&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;specversion&quot;: {\r\n            &quot;enum&quot;: [\r\n              &quot;1.0&quot;\r\n            ],\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;subject&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;time&quot;: {\r\n            &quot;pattern&quot;: &quot;^((?:(\\\\d{4}-\\\\d{2}-\\\\d{2})T(\\\\d{2}:\\\\d{2}:\\\\d{2}(?:\\\\.\\\\d+)?))(Z|[\\\\+-]\\\\d{2}:\\\\d{2})?)$&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;traceparent&quot;: {\r\n            &quot;pattern&quot;: &quot;^[\\\\da-f]{2}-[\\\\da-f]{32}-[\\\\da-f]{16}-[\\\\da-f]{2}$&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;tracestate&quot;: {\r\n            &quot;pattern&quot;: &quot;^([^,]+=[^,]+)(,([^,]+=[^,]+))*?$&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          &quot;type&quot;: {\r\n            &quot;default&quot;: &quot;patient.covid.claims.v3.0.0&quot;,\r\n            &quot;enum&quot;: [\r\n              &quot;patient.covid.claims.v3.0.0&quot;\r\n            ],\r\n            &quot;pattern&quot;: &quot;^[a-zA-Z0-9\\\\.\\\\_\\\\-]*$&quot;,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        },\r\n        &quot;required&quot;: [\r\n          &quot;data&quot;,\r\n          &quot;environment&quot;,\r\n          &quot;id&quot;,\r\n          &quot;source&quot;,\r\n          &quot;specversion&quot;,\r\n          &quot;type&quot;\r\n        ],\r\n        &quot;type&quot;: &quot;object&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe sample JSON String:\r\n\r\n```\r\n{\r\n  &quot;id&quot;: &quot;5a54e6ae-b92e-4393-a360-e28376fa7af5&quot;,\r\n  &quot;type&quot;: &quot;patient.covid.claims.v1.0.0&quot;,\r\n  &quot;source&quot;: &quot;myapp&quot;,\r\n  &quot;specversion&quot;: &quot;1.0&quot;,\r\n  &quot;subject&quot;: &quot;Claim request&quot;,\r\n  &quot;time&quot;: &quot;2023-11-06T17:40:18.003Z&quot;,\r\n  &quot;datacontenttype&quot;: &quot;application/json&quot;,\r\n  &quot;environment&quot;: &quot;dev&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;firstName&quot;: &quot;Myrtie Bowman&quot;,\r\n    &quot;lastName&quot;: &quot;Ethel Harper&quot;,\r\n    &quot;admittedOn&quot;: &quot;2023-02-20&quot;,\r\n    &quot;dischargedOn&quot;: &quot;2023-02-25&quot;,\r\n    &quot;clinicName&quot;: &quot;Mayo Clinic&quot;,\r\n    &quot;claimAmount&quot;: 500,\r\n    &quot;stateCode&quot;: &quot;MN&quot;\r\n  }\r\n}\r\n```\r\n\r\nAfter removed the optional values, the expected JSON String looks like below:\r\n\r\n```\r\n{\r\n  &quot;id&quot;: &quot;5a54e6ae-b92e-4393-a360-e28376fa7af5&quot;,\r\n  &quot;type&quot;: &quot;patient.covid.claims.v1.0.0&quot;,\r\n  &quot;source&quot;: &quot;myapp&quot;,\r\n  &quot;specversion&quot;: &quot;1.0&quot;,\r\n  &quot;environment&quot;: &quot;dev&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;firstName&quot;: &quot;Myrtie Bowman&quot;,\r\n    &quot;lastName&quot;: &quot;Ethel Harper&quot;,\r\n    &quot;admittedOn&quot;: &quot;2023-02-20&quot;,\r\n    &quot;clinicName&quot;: &quot;Mayo Clinic&quot;\r\n  }\r\n}\r\n```\r\n\r\nAny thoughts on how to remove the optional elements from JSON in Java using schema definition?","title":"Remove optional elements from JSON using JSON Schema definition in Java","body":"<p>We have a requirement to pass the JSON string through a queue, which has a limitation on the size. Is there any possibility to remove the optional elements from the JSON String / Object by using the JSON Schema, so that it can fit in the queue.</p>\n<p>Suppose the below is a sample JSON Schema:</p>\n<pre><code>{\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;Data&quot;: {\n        &quot;properties&quot;: {\n          &quot;admittedOn&quot;: {\n            &quot;example&quot;: &quot;2023-02-20&quot;,\n            &quot;title&quot;: &quot;The admittedOn Schema&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;claimAmount&quot;: {\n            &quot;example&quot;: 500,\n            &quot;title&quot;: &quot;The claimAmount Schema&quot;,\n            &quot;type&quot;: &quot;integer&quot;\n          },\n          &quot;clinicName&quot;: {\n            &quot;enum&quot;: [\n              &quot;Mayo Clinic&quot;,\n              &quot;Appollo&quot;,\n              &quot;Care&quot;,\n              &quot;Govt&quot;\n            ],\n            &quot;example&quot;: &quot;Mayo Clinic&quot;,\n            &quot;title&quot;: &quot;The clinicName Schema&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;dischargedOn&quot;: {\n            &quot;example&quot;: &quot;2023-02-25&quot;,\n            &quot;title&quot;: &quot;The dischargedOn Schema&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;firstName&quot;: {\n            &quot;example&quot;: &quot;Jon&quot;,\n            &quot;title&quot;: &quot;The firstName Schema&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;lastName&quot;: {\n            &quot;example&quot;: &quot;Doe&quot;,\n            &quot;title&quot;: &quot;The lastName Schema&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;stateCode&quot;: {\n            &quot;example&quot;: &quot;MN&quot;,\n            &quot;title&quot;: &quot;The state code&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          }\n        },\n        &quot;required&quot;: [\n          &quot;firstName&quot;,\n          &quot;lastName&quot;,\n          &quot;admittedOn&quot;,\n          &quot;clinicName&quot;\n        ],\n        &quot;type&quot;: &quot;object&quot;\n      },\n      &quot;Event&quot;: {\n        &quot;additionalProperties&quot;: false,\n        &quot;properties&quot;: {\n          &quot;data&quot;: {\n            &quot;$ref&quot;: &quot;#/components/schemas/Data&quot;\n          },\n          &quot;datacontenttype&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;dataref&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;dataschema&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;environment&quot;: {\n            &quot;pattern&quot;: &quot;^[^pP]|^.[^rR]|^..[^oO]|^...[^dD]$&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;id&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;partitionkey&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;sampledrate&quot;: {\n            &quot;type&quot;: &quot;integer&quot;\n          },\n          &quot;sequence&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;severitynumber&quot;: {\n            &quot;type&quot;: &quot;integer&quot;\n          },\n          &quot;severitytext&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;source&quot;: {\n            &quot;pattern&quot;: &quot;^[a-zA-Z0-9\\\\.\\\\_\\\\-\\\\:\\\\@\\\\/]*$&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;specversion&quot;: {\n            &quot;enum&quot;: [\n              &quot;1.0&quot;\n            ],\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;subject&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;time&quot;: {\n            &quot;pattern&quot;: &quot;^((?:(\\\\d{4}-\\\\d{2}-\\\\d{2})T(\\\\d{2}:\\\\d{2}:\\\\d{2}(?:\\\\.\\\\d+)?))(Z|[\\\\+-]\\\\d{2}:\\\\d{2})?)$&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;traceparent&quot;: {\n            &quot;pattern&quot;: &quot;^[\\\\da-f]{2}-[\\\\da-f]{32}-[\\\\da-f]{16}-[\\\\da-f]{2}$&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;tracestate&quot;: {\n            &quot;pattern&quot;: &quot;^([^,]+=[^,]+)(,([^,]+=[^,]+))*?$&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          &quot;type&quot;: {\n            &quot;default&quot;: &quot;patient.covid.claims.v3.0.0&quot;,\n            &quot;enum&quot;: [\n              &quot;patient.covid.claims.v3.0.0&quot;\n            ],\n            &quot;pattern&quot;: &quot;^[a-zA-Z0-9\\\\.\\\\_\\\\-]*$&quot;,\n            &quot;type&quot;: &quot;string&quot;\n          }\n        },\n        &quot;required&quot;: [\n          &quot;data&quot;,\n          &quot;environment&quot;,\n          &quot;id&quot;,\n          &quot;source&quot;,\n          &quot;specversion&quot;,\n          &quot;type&quot;\n        ],\n        &quot;type&quot;: &quot;object&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>The sample JSON String:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;5a54e6ae-b92e-4393-a360-e28376fa7af5&quot;,\n  &quot;type&quot;: &quot;patient.covid.claims.v1.0.0&quot;,\n  &quot;source&quot;: &quot;myapp&quot;,\n  &quot;specversion&quot;: &quot;1.0&quot;,\n  &quot;subject&quot;: &quot;Claim request&quot;,\n  &quot;time&quot;: &quot;2023-11-06T17:40:18.003Z&quot;,\n  &quot;datacontenttype&quot;: &quot;application/json&quot;,\n  &quot;environment&quot;: &quot;dev&quot;,\n  &quot;data&quot;: {\n    &quot;firstName&quot;: &quot;Myrtie Bowman&quot;,\n    &quot;lastName&quot;: &quot;Ethel Harper&quot;,\n    &quot;admittedOn&quot;: &quot;2023-02-20&quot;,\n    &quot;dischargedOn&quot;: &quot;2023-02-25&quot;,\n    &quot;clinicName&quot;: &quot;Mayo Clinic&quot;,\n    &quot;claimAmount&quot;: 500,\n    &quot;stateCode&quot;: &quot;MN&quot;\n  }\n}\n</code></pre>\n<p>After removed the optional values, the expected JSON String looks like below:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;5a54e6ae-b92e-4393-a360-e28376fa7af5&quot;,\n  &quot;type&quot;: &quot;patient.covid.claims.v1.0.0&quot;,\n  &quot;source&quot;: &quot;myapp&quot;,\n  &quot;specversion&quot;: &quot;1.0&quot;,\n  &quot;environment&quot;: &quot;dev&quot;,\n  &quot;data&quot;: {\n    &quot;firstName&quot;: &quot;Myrtie Bowman&quot;,\n    &quot;lastName&quot;: &quot;Ethel Harper&quot;,\n    &quot;admittedOn&quot;: &quot;2023-02-20&quot;,\n    &quot;clinicName&quot;: &quot;Mayo Clinic&quot;\n  }\n}\n</code></pre>\n<p>Any thoughts on how to remove the optional elements from JSON in Java using schema definition?</p>\n"},{"tags":["java","maven","gitlab-ci","gitlab-ci-runner"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1699393693,"post_id":77441588,"comment_id":136525526,"body_markdown":"Do you mean `JAVA_HOME`?","body":"Do you mean <code>JAVA_HOME</code>?"},{"owner":{"account_id":3783218,"reputation":31,"user_id":3142046,"display_name":"user3142046"},"score":0,"creation_date":1699395058,"post_id":77441588,"comment_id":136525728,"body_markdown":"The error was taken from Gitlab. Yes, I do believe it can&#39;t find JAVA_HOME in the second job","body":"The error was taken from Gitlab. Yes, I do believe it can&#39;t find JAVA_HOME in the second job"},{"owner":{"account_id":3579599,"reputation":812,"user_id":2988111,"accept_rate":75,"display_name":"Nicklas2751"},"score":2,"creation_date":1699425394,"post_id":77441588,"comment_id":136528229,"body_markdown":"At first: Why install java on a Ubuntu Image and not using the official Maven Image, it already brings Java &amp; Maven.\n\nTo your situation:\nHave you tried to echo the current `JAVA_HOME` value? Second thing, print the content of the directory you think Java is installed to, maybe the whole path isn&#39;t correct.","body":"At first: Why install java on a Ubuntu Image and not using the official Maven Image, it already brings Java &amp; Maven.  To your situation: Have you tried to echo the current <code>JAVA_HOME</code> value? Second thing, print the content of the directory you think Java is installed to, maybe the whole path isn&#39;t correct."},{"owner":{"account_id":3783218,"reputation":31,"user_id":3142046,"display_name":"user3142046"},"score":0,"creation_date":1699497841,"post_id":77441588,"comment_id":136540658,"body_markdown":"I want to be able to install additional packages, which is why I went with ubuntu:latest. Within the setup stage, I tried using ```echo $JAVA_HOME```. It gave me the correct response. Within the build stage however, the command did not provide a response.","body":"I want to be able to install additional packages, which is why I went with ubuntu:latest. Within the setup stage, I tried using <code>echo $JAVA_HOME</code>. It gave me the correct response. Within the build stage however, the command did not provide a response."}],"owner":{"account_id":3783218,"reputation":31,"user_id":3142046,"display_name":"user3142046"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699392527,"creation_date":1699392527,"question_id":77441588,"body_markdown":"I&#39;m attempting to install java home and maven home in the first job and use a second job to run other tasks. The snippet belows shows where I&#39;m able to install both maven and java home, however on the second job, I&#39;m unable to carry out maven or java commands.\r\n\r\nHere is the error, I&#39;m facing:\r\n```\r\n/usr/bin/bash: line 147: java: command not found\r\n\r\nCleaning up project directory and file based variables\r\n```\r\n\r\n\r\nHere is the gitlab ci file\r\n```\r\nimage: ubuntu:latest\r\n\r\nstages:\r\n  - setup\r\n  - build\r\n\r\nvariables:\r\n  MAVEN_CACHE_DIR: $CI_PROJECT_DIR/.m2/repository\r\n  MAVEN_OPTS: &quot;-Dmaven.repo.local=$MAVEN_CACHE_DIR&quot;\r\n  JAVA_HOME: /usr/lib/jvm/java-17-openjdk-amd64\r\n\r\ncache:\r\n  paths:\r\n  - $MAVEN_CACHE_DIR\r\n  - /usr/lib/jvm\r\n\r\nsetup:\r\n  stage: setup\r\n  before_script:\r\n    - echo &quot;Install wget&quot;\r\n    - apt-get update\r\n    - apt-get install -y wget\r\n    - echo &quot;Install Java SE 17&quot;\r\n    - apt-get update \r\n    - apt-get install -y openjdk-17-jdk\r\n    - export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\r\n    - export PATH=$JAVA_HOME/bin:$PATH\r\n    - source ~/.bashrc\r\n  script:\r\n    - echo &quot;Install Maven&quot;\r\n    - apt-get update\r\n    - mkdir -p $MAVEN_CACHE_DIR\r\n    - wget https://dlcdn.apache.org/maven/maven-3/3.9.5/binaries/apache-maven-3.9.5-bin.tar.gz\r\n    - tar -xzf apache-maven-3.9.5-bin.tar.gz\r\n    - export MAVEN_HOME=$CI_PROJECT_DIR/apache-maven-3.9.5\r\n    - export PATH=$MAVEN_HOME/bin:$PATH\r\n    - source ~/.bashrc\r\n  artifacts:\r\n    paths:\r\n        - ./target\r\n\r\nbuild:\r\n  stage: build\r\n  before_script:\r\n    - export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\r\n    - export PATH=$JAVA_HOME/bin:$PATH\r\n    - source ~/.bashrc\r\n    - export MAVEN_HOME=$CI_PROJECT_DIR/apache-maven-3.9.5\r\n    - export PATH=$MAVEN_HOME/bin:$PATH\r\n    - source ~/.bashrc\r\n  script:\r\n    - java -version\r\n    - mvn --version\r\n  dependencies: \r\n    - setup\r\n```\r\n","title":"Unable to setup Java home","body":"<p>I'm attempting to install java home and maven home in the first job and use a second job to run other tasks. The snippet belows shows where I'm able to install both maven and java home, however on the second job, I'm unable to carry out maven or java commands.</p>\n<p>Here is the error, I'm facing:</p>\n<pre><code>/usr/bin/bash: line 147: java: command not found\n\nCleaning up project directory and file based variables\n</code></pre>\n<p>Here is the gitlab ci file</p>\n<pre><code>image: ubuntu:latest\n\nstages:\n  - setup\n  - build\n\nvariables:\n  MAVEN_CACHE_DIR: $CI_PROJECT_DIR/.m2/repository\n  MAVEN_OPTS: &quot;-Dmaven.repo.local=$MAVEN_CACHE_DIR&quot;\n  JAVA_HOME: /usr/lib/jvm/java-17-openjdk-amd64\n\ncache:\n  paths:\n  - $MAVEN_CACHE_DIR\n  - /usr/lib/jvm\n\nsetup:\n  stage: setup\n  before_script:\n    - echo &quot;Install wget&quot;\n    - apt-get update\n    - apt-get install -y wget\n    - echo &quot;Install Java SE 17&quot;\n    - apt-get update \n    - apt-get install -y openjdk-17-jdk\n    - export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\n    - export PATH=$JAVA_HOME/bin:$PATH\n    - source ~/.bashrc\n  script:\n    - echo &quot;Install Maven&quot;\n    - apt-get update\n    - mkdir -p $MAVEN_CACHE_DIR\n    - wget https://dlcdn.apache.org/maven/maven-3/3.9.5/binaries/apache-maven-3.9.5-bin.tar.gz\n    - tar -xzf apache-maven-3.9.5-bin.tar.gz\n    - export MAVEN_HOME=$CI_PROJECT_DIR/apache-maven-3.9.5\n    - export PATH=$MAVEN_HOME/bin:$PATH\n    - source ~/.bashrc\n  artifacts:\n    paths:\n        - ./target\n\nbuild:\n  stage: build\n  before_script:\n    - export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\n    - export PATH=$JAVA_HOME/bin:$PATH\n    - source ~/.bashrc\n    - export MAVEN_HOME=$CI_PROJECT_DIR/apache-maven-3.9.5\n    - export PATH=$MAVEN_HOME/bin:$PATH\n    - source ~/.bashrc\n  script:\n    - java -version\n    - mvn --version\n  dependencies: \n    - setup\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"owner":{"account_id":29849601,"reputation":1,"user_id":22875809,"display_name":"Judilak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699392028,"creation_date":1699392028,"question_id":77441540,"body_markdown":"I would like to create a Java library with Gradle as a building tool. I want to create custom Gradle plugin and this plugin should be availble for the libary user once it&#39;s added to project dependencies. The whole library JAR artifact should consist of Java project (let&#39;s say it&#39;s some sort of framework) and Gradle plugin (as a standalone project). Do you have any tips for me, how to achieve this? Thanks a lot!\r\n\r\nI wonder:\r\n1. What should be the project file structure? Should I crate Gradle module that is wrapping other 2 Gradle modules (framework and Gradle plugin)?\r\n2. How should I build the JAR artifact? Should all buil configuration be included in root Gradle module? What should be this configuration?\r\n3. How user of the library will be able to use the plugin in his project?\r\n\r\nI haven&#39;t tried to do it yet. I only did some research about developing Gradle plugin as a standalone project and about multimodule Gradle projects.","title":"Gradle Java library including custom Gradle plugin","body":"<p>I would like to create a Java library with Gradle as a building tool. I want to create custom Gradle plugin and this plugin should be availble for the libary user once it's added to project dependencies. The whole library JAR artifact should consist of Java project (let's say it's some sort of framework) and Gradle plugin (as a standalone project). Do you have any tips for me, how to achieve this? Thanks a lot!</p>\n<p>I wonder:</p>\n<ol>\n<li>What should be the project file structure? Should I crate Gradle module that is wrapping other 2 Gradle modules (framework and Gradle plugin)?</li>\n<li>How should I build the JAR artifact? Should all buil configuration be included in root Gradle module? What should be this configuration?</li>\n<li>How user of the library will be able to use the plugin in his project?</li>\n</ol>\n<p>I haven't tried to do it yet. I only did some research about developing Gradle plugin as a standalone project and about multimodule Gradle projects.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9841,"page":76,"page_size":100}
